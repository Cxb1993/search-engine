摘要 
本報告為三年期計畫第一年的部份，計畫內容主要基於在現有 Internet 架構上，在
一定傳輸品質要求下，得到高安全、易實行且低花費的機制。主要工作在於運用路由協
定即時掌握路況與交通控制為目標。本子計畫將各路口的偵測器與控制器進行連結，形
成可獨立自主系統，而後再選出區域的自主系統代理人，並管理附近路口控制器訊息的
同步工作。本計畫運用 VPN 與 CIDR 機制配合子網路架構來規劃分散式的區域交通控
制管理系統，使各路口的獨立自主系統可以透過原先規劃好的 IP 位置進行實現，大路
口整合附近的小路口形成一個整合性的自主代理人系統，也提供與交通控制中心網路連
結的機制。在此架構下，可以降低交控網路佈建的成本與困難度，而在資訊安全、交通
資訊控管與災害應變能力等也都可以有顯著的效益提昇。未來在既有有線基礎架構網路
的基礎上，再運用無線網路技術，結合各縣市無線城市相關計畫的施行，將可以達到移
動式交控中心服務的境界。 
 
關鍵詞：自主系統、VPN、CIDR、路由協定、移動式交通控制中心 
Abstract 
This is the first-year report of the three-year project.  It applies existing Internet 
structure to get a high security, low cost and easily implemented scheme with desired 
transmission quality.  The major target is to use routing protocols to handle real-time 
traffic condition and traffic control.  Controllers and detectors on road junctions are 
linked to become an independent regional system.  A regional autonomy agent is 
selected to synchronize controllers.  VPN and CIDR schemes are used to organize 
distributed local traffic control management systems.  Various road junctions are 
combined to be an integrated system of autonomous agents.  This system provides 
the linking mechanism of traffic control network.  This structure reduces network 
deployment cost and difficulty.  In addition, information security, traffic information 
control and disaster response are improved.  Wireless network technologies can be 
applied in the future.  To combine city wireless-related projects, a mobile traffic 
control service center can be achieved. 
 
Keywords:Autonomous System, Virtual Private Network, Classless Inter-Domain 
Routing, Routing Protocol, Mobile Traffic Control Center 
 
 
 
 
圖目錄 
▲ 圖表 1   交通控制網路示意圖 ............................................................. 5 
▲ 圖表 2   交通控制網路獨立路各自主系統示意圖................................. 6 
▲ 圖表 3   IP 分配示意圖 ....................................................................... 7 
▲ 圖表 4   依照區域性分配 IP 位址給各節點.......................................... 7 
▲ 圖表 5   交通控制網路分散式整合區域代理人系統之示意圖 ............... 7 
▲ 圖表 6   分散式網路建構圖 ................................................................ 8 
▲ 圖表 7   交通網路拓撲模擬 ................................................................ 8 
▲ 圖表 8   控制訊號紀錄 ....................................................................... 9 
▲ 圖表 9   突發訊號紀錄 ....................................................................... 9 
▲ 圖表 10   具優先權的控制訊號 ........................................................... 9 
▲ 圖表 11   具優先權的突發訊號 ......................................................... 10 
▲ 圖表 12   基礎網路分析 ................................................................... 10 
▲ 圖表 13   高效分散式網路分析 ......................................................... 10 
▲ 圖表 14   封包降低百分比 ................................................................ 10 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
運作時，各個路口的交通訊息都是透過無
線存取點，連線到交通控制中心，如果當
交通控制中心對外的連線不通時，各路口
的控制器會開始運作如圖表 2 所示，當控
制器的自主系統開始運作時，各個路口的
控制器會先運作自身路口的代理人系統，
其他路口如果也是運作獨立系統時，會考
慮到周遭的系統去比較該控制器所控制的
路口大小，去比較斷判路口交通控制系統
上的優先權，以配合各個控制器去整合出
一個較大區域代理人系統，各大型的區域
代理人系統再配合移動式的交通控制中心
建立好連線之後，把自主系統再轉換成為
以交通控制中心為主的交通控制系統，移
動式交通控制中心可以開始運作，又變回
原本的控通控制系統。 
 
▲ 圖表 2   交通控制網路獨立路各自
主系統示意圖 
第二章. 分散式交通網路研究 
在規劃與配置交通網路時有以下二點
要完成： 
 
1. 交通控制網路 IP 配置：  
在實現架構之前，必須先再偵測器與控
制器上建立相關的 IP 資訊，在搭配有線無
線網路傳輸時，所使用的控制器與偵測器
上都有配置相關的傳輸設備。在傳輸設備
上可以設定 IP 的相關資訊，以配合計畫的
施行。如果未來的 IP 位址的方式變更成 
IPv6 位址系統，此系統只需少量的變更，
而且可以馬上符合 IPv6 的規範，並馬上可
以運行。  
 
2. 交通控制子網路的規劃：  
配合子網路的規劃，使得各個路口的獨
立自主系統可以透過原先規好的 IP位置下
去實現，使得在較大路口附近的小路口的
自主系統可以被整合到大路口的代理人系
統中，讓大路口控制訊號足以控制到附近
的小路口以做為同步訊號控制。在這部份
的子網路規劃會涉及到無分類架構網路位
址規劃。 
2.1 交通控制網路 IP 配置機制 
有良好的基礎網路環境，需再搭配完
善的 IP 規劃。首先，IP 佈建方式以手動設
定為主。當建置一個節點時必須與交通控
制中心或區域代理人註冊以取得 IP 
address。如此不但能控管 IP，更能用 IP
來判定節點的區域位址。由於交通控制網
是一個獨立區域網路，則假設在台灣交通
控制資料是以交通部為中央控制中心，並
連接各縣市控制中心。各縣市再下分行政
區控制區，最後為各路口，如圖表 3： 
 
˙全台灣省共計 25 縣市，則交通部
中心與各縣市控制中心 IP 與遮罩為
10.a.0.0/13，其中 a = 0 ... (8n) ... 248。 
˙其中屏東縣有 33 鄉鎮市，為最多行政區
的縣市，則各行政區控制節點 IP 與遮罩為
10.a.b.0/19 ，其中 a＝0～254，b = 0 ... 
(32n) ... 224。 
 
˙每個路口都有一個號誌控制器，每
個控制器都需一個 IP。假設一個行政區中
有 62 個重要路口，而每個重要路口控制著
72 個號誌控制器。則重要路口的 IP 與遮罩
讓大路口控制訊號足以控制到附近的小路
口以做為同步訊號控制。因此使用 CIDR
的無分類網路架構規劃，才可使得使用分
散式交通控制網路系統，找出該部份區域
的總代理人系統控制器。當移動式交通控
制中心可以直接找尋各個主要區域的總代
理系統並建立連總之後，即形成移動式交
通控制中心網，並馬上控制各個交通系統。 
在本項子計畫中我們規劃出如圖 6 的
交通網路模擬環境及相關參數。 
 
▲ 圖表 6   分散式網路建構圖 
當路口代理人出現故障問題，導致獨
立區域交通癱瘓。小路口與獨立代理人 
(大路口) 被孤立成獨立區域時。區域代理
人能夠即時派遣維修載具，裝載臨時獨立
代理人到現場維修。並且維修期間仍能以
臨時獨立代理人轉送資料。 
而在一連串的資訊封包的交換下，相
對於以明確知道封包傳送方向的有規劃網
路，無規劃網路封包在網路上尋徑時間必
定會比有規劃的網路時間來的長。當無規
劃網路傳送封包方向錯誤時，並不能即時
停止傳送，會產生許多無用的封包。而有
規劃網路能即時停止減少無用的封包傳送
量。 
若有重大災害發生，會造成區域代理
人以下形成孤立區域。為此，搭配本計畫
網路機制亦能解決相關問題。首先在計畫
中獨立代理人 (大路口) 與小路口是不發
送控制訊號，只能由區域代理人或交通控
制中心來作控制。相對的區域代理人與交
通控制中心不發送週期資料，只發送控制
訊號。當區域代理人以下形成孤立區域
時，由於區域代理人仍有發送控制權，故
災害發生後仍能由區域代理人來控制獨立
代理人與小路口。 
第三章. 交通網路模擬與分析 
在本項子計畫中我們利用 NS2 來模
擬各個大小路口節點，並模擬使用 VPN 後
各路口連接及網路路徑及封包運作情形。
模擬交通網路拓撲如圖表 7，小路口連接
到各自區域中的大路口，經大路口轉送到
區域代理人後，再回交通控制中心。 
 
▲ 圖表 7   交通網路拓撲模擬 
我們設定小路口發送每隔 0.5 秒的週
期訊號，並在 100 秒內各節點隨機發生 10
次的突發訊號。控制中心部份設定每當收
到突發訊號後會回覆相對應的控制訊號，
並也在 100 秒內對每個子節點隨機發送各
10 次的控制訊號。同時我們定義最小充裕
頻寬與緊縮頻寬。最小充裕頻寬顧名思義
即為在保證網路不因頻寬不足而丟棄封包
情況下所定的最小頻寬；而緊縮頻寬為低
於最小充裕頻寬的頻寬。 
圖表 8、圖表 9 為模擬用 VPN 規劃
後的基礎交通網路。紅線代表了發送封包
累積數 ( Sent_pkts )，綠線代表了收到封
包累積數 ( Recv_pkts )，藍線代表封包遺
失累積數( Drop_pkts )。從圖中可以觀察
 ▲ 圖表 11   具優先權的突發訊號 
為了全面了解分散式交通控制網路，
我們在各個交通網路頻寬緊縮率上分別取
樣 5 次封包紀錄做平均，並換算成封包遺
失率後與頻寬緊縮率做效能分析。其中封
包遺失率與頻寬緊縮率為： 
封包遺失率＝封包發送數
封包遺失數
x100％ 
頻寬緊縮率＝最小充裕頻寬
緊縮頻寬
x100％ 
 下圖表 12 與圖表 13 為我們在各種
網路頻寬緊縮率上分別取樣 5 次封包平均
後所做的紀錄圖表。藍線代表週期封包；
綠線代表突發封包；紅線代表控制封包。 
 
▲ 圖表 12   基礎網路分析 
 
▲ 圖表 13   高效分散式網路分析 
我們由圖表 12 與圖表 13 對照後，
可以很明顯看出在圖表 12 基礎交通網路
架構中，因頻寬不穩等因素造成封包大量
丟棄的問題，使得網路效能低落。以頻寬
緊縮率 70％時為例：在基礎網路中突發、
控制封包遺失率分別為 18.4％、19.0％。
而在我們加入優先權分類服務後，圖表 13
可以看出突發性封包與控制訊號封包的丟
棄率大幅下降，在頻寬緊縮率 70％時的突
發、控制封包遺失率分別降為 2.2％、2.3
％，這使得因封包遺失而 TCP 封包被迫重
傳次數減少 16％～17％。下圖表 14 為突
發與控制封包在高效分散網路中相對基礎
網路所降低的封包遺失百分比。 
 
▲ 圖表 14   封包降低百分比 
在圖表 14 裡我們瞭解到雖然經過優
化後的分散網路中，當頻寬緊縮率越大
時，TCP 封包遺失率降低幅度就越大。但
當頻寬緊縮率到 95％時，由於頻寬大小太
小，小於 TCP 封包的最小充裕頻寬，故
TCP 封包遺失率降低幅度就不這麼明顯。 
第四章. 結論 
目前的交通控制中心系統在運作時，
還沒有一個很完善的方式，來防止當交通
控制中心當機、被駭客入侵時或是遇到阻
斷式攻擊的方式，使交通控制中心無法與
路口各個控制器連線控制，造成各個路口
停擺以至於癱瘓整個道路交通網。然而若
重新佈署建立一整個獨立的交通控制網
路，所花的成本與代價實在太高。故本項
