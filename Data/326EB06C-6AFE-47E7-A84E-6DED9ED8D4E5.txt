face tracking system can successfully mark the face 
from the image information under many kinds of 
scenarios. In further, we will focus on the facial 
recognition capabilities. It will identify several 
kinds of different facial expressions and sent the 
information to the game AI to change the degree of 
difficulty. 
英文關鍵詞： Robot, Entertainment, Connect four, Face tracking 
 
互動式機器人具備智慧、互動與情感科技特性，其整合應用語音辨識、影像辨識、語意分析、學習成
長智能、情緒建模、情意認知互動與感知計算等技術，配合知覺或環境感測器(視覺、聽覺、觸覺、嗅覺、光
源、溫度、距離、壓力、速度、紅外線、超音波等)，並具備聲音、動作、表情、情緒表達特性，提供休閒娛
樂、歸屬撫慰、互動溝通與知識代理等關係[4, 5]。因此，本子計畫為期三年，將開發一套集休閒娛樂、居家
關懷及醫療服務於一身之銀髮族互動機器人。 
II.  研究目的 
隨著高齡化、少子化時代的來臨，為「智慧型機器人」展開未來多元化的市場應用機會，「智慧型機
器人」可廣泛區分為「服務型機器人」及「產業用機器人」兩大類產品。本年度為計畫執行之第二年度，本
子計畫第二年度研究目的除了延續第一年度之休閒娛樂機器人設計外，還考慮臉部辨識功能，期望藉由臉部
表情的辨識來分辨使用者是屬於何種表情，藉此來調整遊戲人工智慧之難易度，增加遊戲互動性與可玩性。
另外，古代文人之間所推崇應掌握的四門藝術即為所謂的四藝(琴棋書畫)，顯示古代人把下棋視為一種「藝
術」，與音樂、書法、繪畫並列，下棋可被當成是一種用來開發腦力、訓練思考、培養邏輯觀念，以及人格
養成的媒介。本計畫本年度選擇「四子棋」作為討論設計對象，四子棋易學難精，是一種棋具不同於一般二
維平面的連棋類遊戲，遊戲雙方輪流每次把一棋子放進棋盤任何未全滿的一行中，棋子會據一行中最底未被
據的位置。任何一方先以四棋子在橫，豎或斜方向聯成一條直線，便可獲勝，遊戲亦結束。假如棋盤已完全
被棋子填滿，但仍未有任何一方成功把四棋子成一直線，則成和局。 
在休閒娛樂機器人設計上，本年度設計「四子棋」互動式娛樂機器人，如圖(2.1)所示，包含機器人機
構主體、伺服馬達模組、光感測模組、觸碰開關模組、伺服卡、核心板等部分。機器人機構主體利用LEGO
公司的塑膠積木組合設計而成，包含一XY平台用來掃瞄使用者所下之棋子位置與一放棋子機構可用來做下棋
之動作。伺服馬達模組用來控制直流伺服馬達定位控制，與光感測模組用來偵測棋盤資訊。透過使用者按下
觸碰開關模組來表示使用者已完成下棋動作，輪到機器人下棋。自行設計之伺服卡用來接收與傳送核心板所
傳輸之訊息，核心板選擇方面，本計畫利用高性能、低價格之ARM Cortex-M3先進內核(LM3S1138)作為整個
「四子棋」互動式娛樂機器人運算核心，如圖(2.2)所示。所開發之遊戲人工智慧演算法可以針對使用者所下
之棋局自己演算出最合適之下棋位置，使已方的棋局保持優勢，同時使對方的棋局處於劣勢，令己方四枚棋
子在橫、豎或斜方向聯成一條直線，達到獲勝目的。並加入文字轉聲音模組，使「四子棋」互動式娛樂機器
人可以說一些簡單對話，藉此增進所設計開發機器人與使用者之互動。在臉部辨識設計上，分別利用PC與FPGA
平台來完成人臉追蹤功能，在各種不同場景下測試其效能，均可發現所提出之演算法可以正確地快速追蹤影
像資訊中之人臉部份。未來，將著重臉部特徵擷取以及表情辨識之處理，將人臉資訊經由分類器分析處理來
判斷是使用者是屬於何種表情。 
伺服卡
觸碰開關模組
光感測模組
伺服馬達模組
觸碰開關模組
核心板
 
圖(2.1)、「四子棋」互動式娛樂機器人 
IC，其可直接以 PWM 信號控制馬達轉速與方向，而 PWM 信號之責任週期主要利用模糊控制法則推導設計，
因為模糊控制其特色較偏重於人類的經驗及對問題特性的掌握程度，而不主張用繁雜的數學分析及數學模式
來解決問題，因此在面對系統具有不確定性、時變性和非線性等複雜狀態時一樣也能提供良好的控制效果。 
(C) 光感測模組：光感測器可以偵測環境中光源的強度變化，會將接收到的數值轉換為一個 0(最
暗)~100(最亮)之間值。利用數值的大小藉此判斷棋子顏色，來偵測使用者的下棋位置。 
(D) 伺服卡：伺服卡上具有光學解碼器，在此選用 HCTL2032 解碼 IC，可以讓相位相差 90 度的兩個方
波訊號利用計數電路來計算上下數的脈波數，使 Stellaris Cortex-M 微控制器可以得知目前馬達的角度位置來
進行馬達定位控制設計。 
(E) 文字轉聲音模組：語音合成技術或稱為文字轉語音技術可以說是一種使機器能自動朗讀文字檔案的
技術，其中包含了文字前處理、語言學分析、韻律生成及波形合成似各處理模組，使用者不需要針對特定文
字內容預錄語音，只要將文字內容輸入電腦，電腦即會自動處理。此模組讀取串列 ASCII 碼，因而須將並列
ASCII 碼轉成串列形式輸出。 
(F) 遊戲人工智慧模組：凡是研究如何製造出智慧機器或智慧系統，來模擬人類智慧活動的能力，以實
現人造智慧的一門科學，即稱為人工智慧系統。所開發「四子棋」互動式娛樂機器人之遊戲人工智慧採用極
大極小法來評估下一步棋該如何走，其演算方式是以目前的棋盤進行考慮所有可能的棋步，對於每一個新盤
局的所有可能，就需要重新考慮所有可能的棋步，依此原則一直推演下去，考量到很多步之後的所有可能棋
局。遊戲人工智慧模組能依據玩家所下的最新棋局變化，判斷出最佳的電腦下棋位置，進而跟玩家產生下棋
遊戲的競爭。 
馬達驅動IC
A/D轉換
Stellaris Cortex-M
微控制器
(LM3S1138 )
遊戲人工智慧
GPIO
介面
伺服馬達模組
光感測模組
觸碰開關模組
機器人機構主體
伺服卡
語音合成
技術模組
光學解碼IC
喇叭  
圖(3.1)、「四子棋」互動式娛樂機器人之系統方塊圖 
「四子棋」互動式娛樂機器人之軟體架構圖，如圖(3.2)所示，步驟說明如下：  
步驟 1：首先打開電源後經由一些系統硬體出始化後，即將會由語音合成技術模組發出“要一起玩嗎”
之語音。接著，由使用者決定是否先下棋子，假如使用者決定先下棋子即可將手上棋子放入棋盤內，反之直
接進入步驟 2。 
步驟 2：偵測使用者是否有按下觸碰開關模組，用來偵測使用者是否已經下好棋子。 
步驟 3：機器人藉由光感測模組可以偵測光源的強度變化，再利用光源反射之強度大小藉此判斷棋子顏
色。適當地控制一 XY 平台上之伺服馬達角度位置，即可來改變光感測模組掃描偵測之位置，如此就可以讓
機器人知道使用者剛剛所下之棋子位置。 
步驟 4：將棋盤資訊代入遊戲人工智慧演算法中，判斷賽局是否結束，假如賽局達結束條件則跳到步驟
 8-  X4
6    X3
16
Y - 256 - 20  X2
16
Y - 256  2-  X1
 128  Y As












   
 
16
Y  16-  X4
32
Y  2   X3
12  X2
6   X1
 128  Y As












 
假如 Cr 可同時滿足下式之條件，即判斷出該點屬於膚色。 
 
) Cb - X2 (
3
4  Cr 
6
Cb - 220 Cr 
X3 Cr 
) Cb - X4 0.5( Cr 
) X1 Cb 2.5(Cr 
) 32  Cb 4(- Cr 
) 17  Cb (- Cr 
) 24  Cb 2(- Cr 



















 
透過上述之式子中可以發現在 YCbCr 色彩空間轉換式下，膚色分佈在一定的範圍內相當的集中，如圖(3.3)
所示，如此即可根據此膚色判斷式可以找出符合這些區域範圍內的界線，即較為精準的人臉膚色部份。 
 
圖(3.3)、膚色在 HSV 色彩空間的分佈圖 
IV.  結果 
本章節內容以互動式娛樂機器人與人臉檢測分別描述如下： 
「四子棋」互動式娛樂機器人可透過 USB 排線把程式下載到 Stellaris Cortex-M 微控制器(LM3S1138)
開發板上，並藉由互動式娛樂機器人與玩家在四子棋遊戲的對奕過程，來說明該機器人是如何具有人工智慧，
能依據玩家所下的最新棋局變化，判斷出最佳的下棋位置，進而跟玩家產生下棋遊戲的競爭與互動。當開啟
系統電源的時候，準備讓玩家下棋，若由玩家先放置棋子，然後再按下觸發開關，系統將判斷出玩家放置棋
子的位置，此時系統運作在「玩家先下」模式。若玩家還沒放置棋子，就先按下觸發開關，此時系統會依序
移動光感測器逐一檢查棋盤位置的狀態，以判斷出玩家所放置的棋子位置，若系統判斷出棋盤全部都是空的，
此時系統運作在「電腦先下」模式。 
「四子棋」互動式娛樂機器人分以觸碰開關、光感測器、直流伺服馬達，用來當做電腦與玩家遊戲互
動的介面裝置，透過玩家按下開關來表示玩家已下完棋，輪到電腦下棋；透過光感測器來偵測玩家的棋子位
置，使電腦能「感知」到玩家所下的棋局；再透過直流伺服馬達移動光感測器以及電腦放棋馬達，使得電腦
做出動手下棋的「動作」，使得整個電腦與玩家的對奕過程顯得相當擬人化，有助於提升遊戲的趣味性。圖(4.1)
之各小圖為實際運作情形，時間順序分別由圖(a)至圖(f)表示，實體結果證明該機器人確實具有人工智慧，能
依據玩家所下的最新棋局變化，判斷出最佳的電腦下棋位置，進而跟玩家產生下棋遊戲的競爭與互動。 
 
圖(4.5)、FPGA 即時處理成果 
V. 討論 
本子計畫第二年度以互動式娛樂機器人與人臉檢測兩大研究主題為主，互動式娛樂機器人方面，本計畫
設計了「四子棋」互動式娛樂機器人，選擇 32 位元微控制器 ARM Cortex-M3(LM3S1138) 作為整個機器人運
算核心，因其具備智慧、互動與情感科技特性與聲音表達特性，將可陪伴使用者下棋達成增進休閒娛樂之目
標。過遊戲人工智慧最佳解優先搜尋法實現，進而可以隨時調整遊戲人工智慧之難度，使得使用者能夠跟下
棋機器人進行多盤對奕且保持可能互有勝負之刺激感。在臉部辨識設計上，分別利用 PC 與 FPGA 平台來完
成人臉追蹤功能，在各種不同場景下測試其效能，均可發現所提出之演算法可以正確地快速追蹤影像資訊中
之人臉部份。FPGA 平台來進行設計除了體積小且提供大容量的儲存空間與眾多使用者介面，十分適合運用
在機器人設計上，且使用 NIOS II 軟核可以根據設計需求可以靈活改變 NIOS 的外圍設備，使得硬體利用效
率達到最高，達到彈性化、靈活性的系統設計。 
REFERENCES 
[1] http://www.roboat.org.tw/ 
[2] http://www.rst.org.tw/ 
[3] http://www.moi.gov.tw/stat/index.aspx 
[4] http://www.robotworld.org.tw/ 
[5] http://www.moeaidb.gov.tw/external/view/tw/index.html 
[6] http://www.lego.com/en-US/default.aspx 
[7] http://mindboards.sourceforge.net/ 
[8] http://thenxtstep.blogspot.com/ 
[9] http://www.ti.com/ww/tw/ 
[10] http://www.st.com/internet/com/home/home.jsp 
[11] http://www.nxp.com/ 
 
計畫成果自評 
本計畫研究報告內容與原計畫相符並有達到預期目標成果，歸納本計畫在本年度之貢獻可歸納如下 
(1) 利用樂高積木設計完成「四子棋」互動式娛樂機器人。 
(2) 完成 ARM 與 FPGA 基底之伺服控制介面卡。 
(3) 完成四子棋之棋局遊戲引擎。 
(4) 整合語音模組功能，增進機器人與銀髮族之互動。 
(5) 開發人臉追蹤處理流程。 
RDT04 
  
 
行政院國家科學委員會補助國內專家學者出席國際學術會議報告 
                                                        101 年   3 月  26 日 
  報    告    人 
  姓          名  
許駿飛  服 務 機 關 
 及   職  稱 
淡江大學 
副教授 
           時  間  
  會   議 
           地  點   
100 年 3 月 14 日至 100
年 3 月 16 日 
 
香港 
 本 會 核 定 
            
 補 助 文 號 
 
 
                    
會  議  名   稱 
  (中文) 2012 年工程與計算機科學國際聯合會議 
  (英文) The International MultiConference of Engineers and Computer 
Scientists 2012 (IMECS 2012) 
                    
 發 表 論 文 題 目 
  (中文) 針對輪型倒單擺平衡控制問題使用 8位元微電腦設計解耦
合模糊滑動模式平衡控制器 
  (英文) Decoupled Fuzzy Sliding-mode Balance Control of Wheeled 
Inverted Pendulums Using An 8-bit Microcontroller 
報告內容應包括下列各項： 
 
一、參加會議經過   
本年度的國際研討會 The International MultiConference of Engineers and Computer 
Scientists 2012 (IMECS 2012)於 101 年 3 月 14 日至 3 月 16 日中國大陸香港舉行，國際研討
會 IMECS 2012 跟往年一樣是眾多相關工程與計算機科學合辦之研討會，本年度共有 13
各相關主題合辦，如下 
The 2012 IAENG International Conference on Artificial Intelligence and Applications 
The 2012 IAENG International Conference on Bioinformatics 
The 2012 IAENG International Conference on Control and Automation 
The 2012 IAENG International Conference on Computer Science 
The 2012 IAENG International Conference on Communication Systems and Applications
The 2012 IAENG International Conference on Data Mining and Applications 
The 2012 IAENG International Conference on Electrical Engineering 
The 2012 IAENG International Conference on Imaging Engineering 
The 2012 IAENG International Conference on Industrial Engineering 
The 2012 IAENG International Conference on Internet Computing and Web Services 
The 2012 IAENG International Conference on Operations Research 
The 2012 IAENG International Conference on Scientific Computing 
The 2012 IAENG International Conference on Software Engineering 
本人在 The 2012 IAENG International Conference on Control and Automation 當任 Co-Chairs 
and Committee Members 一職，在論文被接受後便開始陸續準備出國的相關事宜，包含向
研討會主辦單位註冊、來回飛機票、住宿飯店與欲發表之論文內容，在所有事項大致準備
完成之後，在 3 月 14 早上自中正機場第一航廈乘坐班機前往香港，並搭乘機場快綫到香
港站，機場快綫是機場專線鐵路，為旅客提供快捷可靠的服務。列車的服務時間由每天早
上五時五十分至凌晨一時十五分，列車每 12 分鐘一班。可以發現香港是一個相當國際化
之國家，不管在硬體建設與人文素質上均比台灣進步很多。 
 
RDT04 
  
 
四、建議 
整個聯合舉辦之大型國際研討會會議包含討論主題包含千羅萬象，所以參加會
議的學者除了可以聽到自己學門專業論文外，亦可以有機會聽到其他學門之專業論
文，是一個增加新知的不錯機會。經由這次的國際研討會，晚輩看到了國外學者做
研究的態度，也獲得了許多來自國外學者的建議與協助，讓我得到更多努力研究之
動力，而從會議中得到寶貴的經驗及知識，對將來的研究也有更進一步的發展。 
 
五、攜回資料名稱及內容 
攜回資料有完整論文光碟片一套(2CD) 
 
六、其他 
無研發成果推廣資料 
其他成果 
(無法以量化表達之成
果如辦理學術活動、獲
得獎項、重要國際合
作、研究成果國際影響
力及其他協助產業技
術發展之具體效益事
項等，請以文字敘述填
列。) 
獲得 
「2012 德州儀器亞洲區 DSP 暨 MCU 應用競賽台灣區競賽」 
MCU 創新應用實現組全國第二名 
 成果項目 量化 名稱或內容性質簡述 
測驗工具(含質性與量性) 0  
課程/模組 0  
電腦及網路系統或工具 0  
教材 0  
舉辦之活動/競賽 0  
研討會/工作坊 0  
電子報、網站 0  
科 
教 
處 
計 
畫 
加 
填 
項 
目 計畫成果推廣之參與（閱聽）人數 0  
 
