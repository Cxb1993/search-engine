  I
中文摘要 
 
本計畫旨在探討高功因無轉軸偵測元件之開關式磁阻電動機驅動
系統的研製，並實際應用在洗衣機。計畫中首先介紹開關式磁阻電動機
之結構、原理及數學模式，其次說明無轉軸偵測元件系統驅動方法。最
後，於電源側加入功率因數校正電路，以提升開關磁阻電動機運轉時輸
入側的功率因數。實驗結果說明電源側的功率因數確實有效提升，此
外，計畫中亦針對單相開路時的改善策略加以探討，以提高系統可靠度。 
本計畫將開關式磁阻電動機應用在洗衣機驅動系統，並以數位信號
處理器 TMS320LF2407A 晶片為系統核心發展軟體，由無轉軸角度估測
方法計算轉軸角度及速度，完成閉迴路控速，實測結果驗證本計畫所提
出的方法確實可行。 
 
關鍵詞：開關式磁阻電動機、無轉軸偵測元件系統估測角度、功率因
數校正、洗衣機驅動系統、數位信號處理器。 
 
  III
目錄 
中文摘要..................................................................................................... I 
英文摘要.................................................................................................... II 
目錄...........................................................................................................III 
圖目錄........................................................................................................V 
表目錄....................................................................................................VIII 
第一章 緒論...............................................................................................1 
1.1 研究動機........................................................................................1 
1.2 目的................................................................................................2 
1.3 大綱................................................................................................3 
第二章 開關式磁阻電動機基本原理及驅動系統 ..................................4 
2.1 簡介................................................................................................4 
2.2 結構................................................................................................4 
2.3 數學模式........................................................................................5 
2.4 驅動原理........................................................................................8 
2.5 功率轉換器..................................................................................11 
第三章 無轉軸偵測元件驅動系統 ........................................................15 
3.1 簡介..............................................................................................15 
3.2 轉軸角/速度估測方法 ................................................................15 
3.2.1 電動機自感估測................................................................16 
3.2.2 啟動方法............................................................................18 
3.2.3 閉迴路系統........................................................................19 
第四章 功因校正電路介紹 ....................................................................20 
4.1 簡介..............................................................................................20 
4.2 功因校正原理..............................................................................21 
4.2.1 功因校正電路架構............................................................21 
4.2.2 控制方法............................................................................22 
4.3 電路說明......................................................................................25 
  V
圖目錄 
 
圖 2.1 三相開關式磁阻電動機。 ............................................................5 
圖 2.2 開關式磁阻電動機動作原理示意圖：   
(a) a 相於非對正位置；(b) a 相於對正位置。 ...........................9 
圖 2.3 理想的開關式磁阻電動機相關波形：  
(a)自感；(b)正轉時電流命令；(c)產生的正轉矩。.................10 
圖 2.4 非對稱半橋型轉換器電路圖。 ..................................................11 
圖 2.5 開關式磁阻電動機單相開關元件之操作模式：  
(a)模式 A；(b)模式 B；(c)模式 C 之 1；(d)模式 C 之 2。 .....14 
圖 3.1 無轉軸偵測元件閉迴路驅動系統方塊圖。 ..............................19 
圖 4.1 升壓型功因校正電路。 ..............................................................21 
圖 4.2 升壓型功因校正電路動作原理：(a)模式 1；(b)模式 2。 .......21 
圖 4.3 功因校正電路波形： (a)開關電流；(b)二極體電流； 
(c)電感電流；(d)開關控制信號。 .............................................22 
圖 4.4 升壓型乘法器功因校正電路 ......................................................24 
圖 4.5 平均電流控制法：(a)電路；(b)電流波形。 .............................25 
圖 4.6 功因校正內部電路(UC3854N) ...................................................26 
圖 5.1 無轉軸偵測元件之開關式磁阻電動機閉迴路控速系統 
實體圖。 ......................................................................................28 
圖 5.2 功因校正電路系統實體圖。 ......................................................29 
圖 5.3 功因校正電路系統方塊圖。 ......................................................29 
圖 5.4 美泰克 MAH5500 滾筒式洗衣機實體圖。 ...............................30 
圖 5.5 洗衣機後視結構圖。 ..................................................................30 
圖 5.6 非對稱半橋型功率轉換器單相電路示意圖。 ...........................32 
圖 5.7 霍爾電流偵測元件電流偵測示意圖。 ......................................34 
圖 5.8 類比/數位轉換電路圖。 .............................................................34 
圖 5.9 UC3854N 內部方塊圖。 ..............................................................36 
  VII
圖 6.14 具編碼器，洗衣機驅動系統在轉速 800 rpm 下，於 3 秒 
 時 B 相開路實測圖：(a)轉速暫態響應圖。(b)電流。 ..........64 
圖 6.15 具編碼器，洗衣機驅動系統在轉速 500 rpm 下， 
 瞬間加載 3 公斤衣物暫態響應實測圖。 ................................65 
圖 6.16 典型洗衣機轉速實測圖。 ........................................................65 
圖 6.17 無轉軸偵測元件，轉速 150 rpm 暫態響應圖。......................66 
圖 6.18 無轉軸偵測元件，轉速 500 rpm 暫態響應圖。......................66 
圖 6.19 無轉軸偵測元件，轉速 1200 rpm 暫態響應圖。....................67 
圖 6.20 無轉軸偵測元件，轉速命令 500 rpm 下，  
 瞬間加載 1.5 公斤衣物暫態響應圖。 .....................................67 
圖 6.21 無轉軸偵測元件，轉速命令 500 rpm，換相角度信號 
 與估測誤差關係圖： (a)電流波形；(b)換相信號； 
 (c)轉軸角度估測誤差。 ............................................................68 
圖 6.22 無轉軸偵測元件，轉速-150 rpm 暫態響應圖。 ....................68 
圖 6.23 無轉軸偵測元件，轉速-500rpm 暫態響應圖。 ......................69 
圖 6.24 無轉軸偵測元件，轉速-500rpm 暫態響應圖。 ......................69 
圖 6.25 無轉軸偵測元件，轉速命令 150 rpm， a 相實測電壓 
 及電流波形：(a)電壓波形；(b)電流波形。 ...........................70 
圖 6.26 無轉軸偵測元件，轉速命令 500 rpm， a 相實測電壓 
 及電流波形：(a)電壓波形；(b)電流波形。 ...........................71 
圖 6.27 無轉軸偵測元件，轉速命令 1200 rpm， a 相實測電壓 
 及電流波形：(a)電壓波形；(b)電流波形。 ...........................72 
圖 6.28 無轉軸偵測元件，轉速命令 150 rpm，輸入側電壓波形。..73 
圖 6.29 無轉軸偵測元件，轉速命令 500 rpm，輸入側電壓波形。..73 
圖 6.30 無轉軸偵測元件，轉速命令 1200 rpm，輸入側電壓波形。74 
 
 
  1
第一章 緒論 
1.1 研究動機 
在環保意識高漲與石油逐漸短缺的今日，電動機成為利用電能的最
佳動力。目前電動機可概分為直流電動機及交流電動機兩種。直流電動
機因具有線性模式，控制器設計較容易，在 1980 年以前，被大量應用
在自動化工業中。直流電動機具有碳刷及換向片，而碳刷及換向片間的
機械接觸，易產生火花，因此不適合用於易爆場所。此外，碳刷有壽命
限制，需要定期更換維護，使得直流電動機的發展受到限制，而在工業
的應用上逐漸被交流電動機所取代[1]。 
    交流電動機具有結構堅固、製造容易、轉動慣量小以及壽命長的優
點，近年來隨著電力電子元件、微處理器以及控制技術的快速進步，使
得交流電動機驅動系統已成為工業應用中驅動器的主流。交流電動機包
括感應電動機、永磁式同步電動機及磁阻電動機等三大類[2]。其中感
應電動機成本較低，具有定子銅損、轉子銅損及鐵損，效率較低，散熱
亦較困難。此外，感應電動機具有滑差的問題，導致磁軸估測不易，只
能仰賴轉子的電阻及電感值進行估測，轉子電阻及電感易受溫度影響，
造成滑差估測的困難[3]。永磁式電動機其轉子為永久磁鐵，無轉子銅
損故效率較高，轉子的旋轉速度與定子的旋轉磁場同步，無滑差的問
題。然而，永磁式同步電動機需要磁性材料，良好的磁性材料產量稀少，
價格昂貴，故永磁式同步電動機造價昂貴，通常應用在高精度、高性能
的產品[4]。磁阻電動機，沒有滑差問題，轉子不需磁性材料，具有成
本低廉及結構堅固的特色。但磁阻電動機因為結構關係，易產生較大的
噪音及脈動轉矩，因此應用的範圍受到限制，通常應用在需要大轉矩，
  3
比較，本計畫所提的洗衣機系統具有扭力大、可靠度高等優點[6]-[8]。
就筆者所知，此為首次將具高功因無轉軸偵測元件開關式磁阻電動機應
用在洗衣機的研究，相關的研究成果，可供相關人員的參考。 
1.3 大綱 
本計畫共分七章：第一章為緒論，第二章針對開關式磁阻電動機的
結構、數學模式、驅動原理及驅動系統來做介紹。第三章探討無轉軸偵
測元件驅動系統，主要說明本文所提出之轉軸角度估測方法、原理及實
作方法，並完成無轉軸偵測元件閉迴路控制系統。第四章為電源側功因
改善，介紹功因校正原理及電路架構。第五章為系統研製，包含洗衣機
簡介、功率轉換器、回授及偵測電路、功因校正電路、數位信號處理器
簡介與軟體程式設計。第六章為實測結果。第七章對本計畫做一總結，
並提出未來研究方向。最後附上相關參考文獻。 
 
 
 
 
 
 
 
 
  5
 
圖 2.1 三相開關式磁阻電動機。 
2.3 數學模式 
開關式磁阻電動機一般採用分相激磁方式，亦即同一時間內，僅有
一相激磁，所以每相的基本電壓方程式可表示為： 
 aa a
dv Ri
dt
λ= +  (2.1) 
 bb b
dv Ri
dt
λ= +  (2.2) 
 cc c
dv Ri
dt
λ= +  (2.3) 
式中 
 av 、 bv 、 cv  ：a、b、c 相定子線圈繞組之相電壓 
 ai 、 bi 、 ci  ：a、b、c 相定子線圈繞組之相電流 
 aλ 、 bλ 、 cλ  ：a、b、c 相定子線圈繞組之磁通鏈 
 R  ：定子線圈繞組之電阻 
 d  ：微分運算子 
 t  ：時間 
 
  7
 1 ( )a aa a a e
a e
di dLv Ri i
dt L d
ωθ= − −  (2.13) 
 1 ( )b bb b b e
b e
di dLv Ri i
dt L d
ωθ= − −  (2.14) 
 1 ( )c cc c c e
c e
di dLv Ri i
dt L d
ωθ= − −  (2.15) 
式中 
 eθ  ：轉子電機角度 
 eω  ：轉子電機角速度 
(2.13)~(2.15)式即為開關式磁阻電動機的電流方程式。 
因此，開關式磁阻電動機每一相線圈所產生的轉矩可表示為[8]： 
 21
2e r e
dLT N i
dθ=  (2.16) 
式中 
 eT  ：電機轉矩 
 rN  ：轉子極數 
 
本計畫所探討的開關式磁阻電動機具有 a、b、c 三相定子繞組，
則三相合成的轉矩如下： 
 
 2 2 21 1 1
2 2 2
a b c
e r a r b r c
e e e
dL dL dLT N i N i N i
d d dθ θ θ= + +  (2.17) 
轉速動態方程式可表示為： 
 1 ( )r e L r
d T T B
dt J
ω ω= − −  (2.18) 
 
式中 
 rω  ：轉子機械角速度 
  9
由上述的驅動原理得知要使開關式磁阻電動機持續旋轉，必須配合
轉軸的角度適時的對定子繞組激磁。當開關式磁阻電動機之轉子凸極和
定子凸極完全分開時，磁阻最大，此時定子繞組自感為最小。反之，當
轉子凸極逐漸靠近定子凸極時，定子繞組自感將逐漸增加，直到轉子凸
極完全對正定子凸極，此時定子繞組之自感達到最大值，若轉子繼續旋
轉，則自感值將由最大值漸漸減少至最小值而呈週期性變化。 
本計畫採用的開關式磁阻電動機定子部分為三相繞組，為了說明上
的方便，以下將忽略磁飽和效應，並以梯形波表示其理想化的自感對電
機角關係圖。此時三相自感間具有相差 120 度的電機角，且三相自感波
形相同，如圖 2.3(a)所示。依據轉矩方程式(2.16)式可知，若欲產生正轉
矩則需在自感上升期間注入激磁電流。因此，依照圖 2.3(b)的方式依序
對定子各相繞組注入激磁電流時，可得到平滑的輸出正轉矩，如圖 2.3(c)
所示。 
A
A
C
B
A
C
B
A
B
C
C
B
1
1 2
1
2
1
2
2
Stator
Rotor
   
A
A
C
B
A
C
B
A
B
C
C
B
Rotor 1
1
2
1
2
1
22
Stator
 
 
(a)                             (b) 
圖 2.2 開關式磁阻電動機動作原理示意圖： 
 (a) a 相於非對正位置；(b) a 相於對正位置。 
 
 
  11
2.5 功率轉換器 
開關式磁阻電動機的轉矩與電流的平方及自感值對角度的變化率
成正比，與電流的方向無關，只需配合轉軸角度適當地控制單極性電
流，即可達成正負轉矩控制的要求，故其功率轉換器為單極性的電路架
構。一般開關式磁阻電動機的功率轉換器架構，需根據電動機的結構、
相數及電流調制的需求來設計[9]。本計畫採用之功率轉換器為非對稱
半橋型轉換器(asymmetric half-bridge converter)，如圖 2.4 所示，此種電
路為開關式磁阻電動機最基本的功率轉換器架構，每相線圈繞組需使用
兩個功率開關元件及兩個飛輪二極體連接至直流電壓源，可於每相線圈
繞組上產生正、負及零三種不同電壓，而且每相皆可獨立控制，上、下
臂可同時切換，得到最佳激磁電流驅動能力，亦可用於截波控制模式，
將一開關維持導通，用另一開關做切換，利用飛輪二極體，減少激磁電
流的下降率，同時降低切換頻率及切換損失，該電路不僅適合於波寬調
變或單脈波切換運轉，亦能配合所提的無轉軸角度估測方法，提供估測
角度時所需每相繞組上的三種不同的電壓切換模式，如表 2.1 所示。 
+
-
dcV C
1cD
2cD
1cS
2cS
c
1aD
2aD
1aS
2aS
a
1bD
2bD
1bS
2bS
b
 
 
圖 2.4 非對稱半橋型轉換器電路圖。 
 
  13
模式 B 
    開關 S1 和 S2 同時截止，定子電流 ( )i t 經由飛輪二極體 D1 及 D2
對電源放電，對電源電壓放電即為電動機的相電壓 ( )v t 等於 dcV− 。此時
定子電流 ( )i t 快速減少，如圖 2.5(b)所示。 
 dc e
e
di dLV iR L i
dt d
ωθ− = + +  (2.23) 
整理(3.4)式可得 
 1 ( )dc e
e
di dLV iR i
dt L d
ωθ= − − −  (2.24) 
模式 C 
    開關 S1 導通、S2 截止或開關 S1 截止、S2 導通，此時定子電流
( )i t 經由二極體 D1 或 D2 放電，此時定子電流 ( )i t 緩慢減少，即電動機
的相電壓 ( )v t 等於 0，如圖 2.5(c)(d)所示。 
 0 e
e
di dLiR L i
dt d
ωθ= + +  (2.25) 
整理(2.25)式可得 
 1 ( )e
e
di dLiR i
dt L d
ωθ= − +  (2.26) 
 
 
 
 
 
 
 
 
 
 
 
 
  15
第三章 無轉軸偵測元件驅動系統 
3.1 簡介 
開關式磁阻電動機的控制必須仰賴轉軸角/速度回授，以決定定子
電流加入的時機與大小，達成換相及閉迴路控速系統。因此，通常使用
轉軸角度偵測元件作為電動機的轉軸角度回授，進而計算出轉軸速度。
一般使用光遮斷器，配合一個裝在轉軸上的開槽碟片。亦可使用編碼器
(encoder)或分解器(resolver)檢知轉軸角度。然而，這些額外的裝置，不
僅容易受外界雜訊干擾而降低其可靠度，且增加系統成本及佔空間，因
此，本計畫提出一轉軸角度估測方法用以降低系統空間及成本。所提的
方法係利用激磁相的電流斜率進行自感的估測，進而估測轉軸角度，最
後探討所提轉軸角度估測誤差的說明。 
3.2 轉軸角/速度估測方法 
本計畫所使用的轉軸角度估測法是先從電流斜率估測自感後，再利
用自感對電流及角度的關係計算出轉軸角度[10]。由第二章的介紹可以
得知圖 2.4 的非對稱半橋型功率轉換器，能提供三種電壓切換模式，如
表 2.1 所示。這三種電壓切換模式，可產生三種不同的激磁電流斜率，
若根據兩種不同的電流斜率配對轉換器又可分為模式1及模式2兩種不
同的估測模式。模式 1 由模式 A 配合模式 C 或模式 B 配合模式 C 的激
磁電流斜率估測自感；模式 2 由模式 A 配合模式 B 的激磁電流斜率估
測自感。其相關的分析如下。 
  17
事實上(3.2)及(3.3)式中的瞬間電流 i和反電勢 e
e
dLi
d
ωθ 並不完全相同。
然而，當微處理器的取樣週期很短時，其電流及反電勢的平均值幾乎
相同，故可假設其反電勢和電阻壓降相同。此時可由(3.2)和(3.3)式推
導出電動機的自感估測值為： 
 
 
mod mod
( )dc
eA eC
di diL V
dt dt
= −  (3.4) 
 
由(3.4)式自感估測關係式，可知電動機自感僅和繞組相電壓、切換
狀態模式 A 的電流斜率和切換狀態模式 C 的電流斜率有關。 
同理，當轉換器切換於模式 B 的狀態，電動機的相電壓 dcv V= − ，
代入(3.1)式，可得到模式 B 狀態的電流斜率為： 
 
 
mod
1 ( )dc e
eB e
di dLV iR i
dt L d
ωθ= − − −  (3.5) 
式中 
 
modeB
di
dt
 ：切換狀態模式 B 下的電流斜率 
 
由(3.2)和(3.5)式亦可推得電動機的自感估測值為： 
 
mod mod
( )dc
eB eC
di diL V
dt dt
= − −  (3.6) 
 
(2)模式 2 時電動機自感估測 
在模式 2 中，轉換器操作於模式 A 和模式 B 兩種切換狀態，故電
動機的相電壓只有 dcV 和 dcV− 兩種數值。和模式 1 近似的推導理論，由(3.3)
和(3.5)式，可得到自感的估測值為： 
  
  19
此外，若電動機要反轉啟動，則以三相自感值中最低相位的後面一
相設定為啟動相位。依據上述的方法判斷出電動機的啟動相位後，對適
當的繞組激磁，電動機即可順利用正/反轉啟動。 
3.2.3 閉迴路系統 
無轉軸角度偵測元件閉迴路驅動控速系統，如圖 3.1 所示。由霍爾
電流偵測元件偵測電動機三相電流信號 ai 、 bi 及 ci ，類比電流信號透過
類比/數位轉換器轉換成數位信號回授至數位信號處理器，將回授的電
流信號透過轉軸角度估測器估算出轉軸角度 rθ ，轉軸角度 rθ 再經過差分
運算得到電動機轉速 rω ，將設定的轉速命令 *rω 與估測得到的轉速 rω 相
減得到轉速誤差 rω∆ ，然後經由速度控制器運算得到電動機所需的電流
命令 *i 。另外，電流命令 *i 配合估測的角度 rθ ，計算出各相電流命令 *ai 、
*
bi 及 *ci ，再與回授的電動機三相電流信號 ai 、 bi 及 ci 一起送入電流磁滯
控制器，產生電動機的三相開關觸發信號。最後，將開關信號送至功率
轉換器並驅動電動機，完成無轉軸角度偵測元件的開關式磁阻電動機閉
迴路驅動系統。 
rω
*
rω rω∆ *i
rθ
rθ
ai
ai
ai
bi
bi
bi
ci
ci
ci*ci
*
ai
*
bi
aT
bT
cT
'
cT
'
bT
'
aT
 
圖 3.1 無轉軸偵測元件閉迴路驅動系統方塊圖。 
  21
4.2 功因校正原理 
4.2.1 功因校正電路架構 
主動式功因校正電路是置於整流器與負載之間，並操作在高頻切換
技術使輸入電壓與電流為同相位。為了達到此目的，必須偵測輸入電壓
再控制開關的導通或截止，使得輸入電流波形追隨輸入電壓波形。目前
最常使用的主動功因校正電路為升壓型電路，因其電感電流即為輸入電
流，較易控制。圖 4.1 即為升壓型功因校正電路架構，其操作原理如圖
4.2 所示。 
  
圖 4.1 升壓型功因校正電路。 
LV
Li Di
1SV
 
(a) 
LV
Li oi
 
(b) 
圖 4.2 升壓型功因校正電路動作原理：(a)模式 1；(b)模式 2。 
 
  23
導通模式由於每個切換週期內電感上電流都會降至零，所以開關在每次
導通前都是在零電流的狀態，較易達成柔性切換，切換損失較小，對於
二極體逆向回復時間的需求較不嚴苛，但由於其峰值電流過大，使得開
關上流過的電流脈動量甚大，因此一般非連續導通模式較適合應用於小
功率的場合。此外，非連續導通模式通常不需要複雜的回授及控制，故
硬體電路較為簡單。 
連續導通模式，由於輸入電流為連續，所以電磁干擾較不明顯，所
需的濾波器也較小，另一方面，其平均電流與峰值電流差距不大，對於
切換開關的電流應力需求較小，故適合用於大功率的場合，但是由於電
流為連續，所以無法直接應用於零電流切換，而且對於二極體逆向回復
時間的需求較為嚴格。此外，連續導通模式一般均需要回授電容的電壓
及電感的電流，以進行回授控制。 
升壓型功因校正方法依電感電流操作模式分為乘法器控制法
(multiplier control approach)及電壓隨耦法(voltage follower approach)，前
者為電感電流操作在連續導通模式，後者則為非連續導通模式。乘法器
控制法如圖 4.4 所示，此種方法的特性在於需要乘法器來達到控制的目
的，一般將整個控制系統分成內迴路與外迴路兩個部分：內迴路為電流
控制用來作為功因校正；而外迴路為電壓控制則用來穩定輸出電壓。藉
由乘法器將輸入電壓及控制電壓訊號相乘，作為輸入電流欲追隨的訊
號。本計畫在電感電流操作模式中即利用乘法器控制法，且在電流控制
方面採用平均電流控制法，平均電流控制法說明如下： 
 
 
  25
,g avgi
 
(b) 
圖 4.5 平均電流控制法：(a)電路；(b)電流波形。 
4.3 電路說明 
本計畫中採用德州儀器公司生產之電源管理晶片 UC3854N，來完
成以平均電流法控制方式的電源側功率因數校正電路，圖 4.6 所示即為
本計畫所使用的功因校正內部電路圖。圖中可知其內部包含了電流控制
器、電壓控制器與前饋補償電路三部分，電流控制內迴路與電壓控制外
迴路如 4.2.2 節所述，是用來進行功因校正與穩定直流輸出電壓。而前
饋補償電路除了可以讓輸入功率保持平衡外，並兼具二階低通濾波器的
作用，其操作原理如下： 
輸出電壓固定在某一個定值的情況時，如果輸入電壓因為某些外來
的因素突然變為n倍，此時電流命令信號也會跟著變成n倍，但是電路
中額外多出的前饋補償路徑，使得此時尚需除以前饋電壓的平方值(亦
即除以 2n ),導致乘法器輸出端的電流命令信號( *i )反而變成原來的 1
n
，所
以即使在輸入電壓變成n倍的情況下，電流卻反而變成 1
n
倍，這樣的結
果將使得輸入功率的維持在定值。 
接著，對此內部電路動作原理進行分析。首先，假設功率開關處於
導通的情況下、時脈信號(clock)保持在低態的情況，此時二極體D逆向
偏壓截止，電感電流 Li 流經功率開關對電感儲能，迫使電感電流逐漸上
  27
由上述的分析，可以明白藉由功率開關的導通與截止，使得實際電
流 i追隨弦波電流命命 *i ，達成功因改善的目標。再者，若當負載變動
造成輸出電壓產生變化，假如輸出電壓下降，則誤差電壓信號 1oV∆ 變
大，此時電流命令 *i 跟著變大，使實際電流 i為了追隨 *i 而變大，迫使輸
出電壓上升。反之若輸出電壓上升則 1oV∆ 變小，此時電流命令 *i 與實際
電流 i均變小，使得輸出電壓下降，如此的調制動作將可以強迫輸出電
壓保持在某一個定值。 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
  29
 
 
 
 
 
 
 
圖 5.2 功因校正電路系統實體圖。 
 
 
 
圖 5.3 功因校正電路系統方塊圖。    
5.2 洗衣機簡介 
本計畫主要受控體為美泰克所生產的海王星洗衣機，其型號為
MAH5500 滾筒式洗衣機，洗衣機照片如圖 5.4 所示。 
  31
5.2.2 開關式磁阻電動機驅動洗衣機系統簡介 
本計畫所採用的開關式磁阻電動機為三相電動機，其規格如表 5.1
所示。 
表 5.1 洗衣機用開關式磁阻電動機規格表 
額定電壓 110 V r 2.125Ω 
額定功率 840W maxL  23.36 mH  
定子極數 12 poles minL  6.396 mH  
轉子極數 8 poles J(含負載) 4 27.64 10 kg m−× ⋅  
相數 3 phases   
 
 
5.3 硬體電路製作 
本節中將介紹硬體電路包括功率轉換器電路與回授及偵測電路兩
部份，相關說明依序如下： 
5.3.1 功率轉換器電路 
本計畫中使用的功率轉換器(以單相示之)如圖 5.6 所示，其中包含
驅動級電路及功率開關元件兩部份，說明如下： 
  33
表 5.2 Power MOSFET - IRF644 規格表 
DSSV  GSV  DI  DP  ( )DS onR rt  ( )d ont  ft  ( )d offt  
250V 20± V 14A 125W 0.28Ω 24ns 11ns 49ns 53ns 
 
5.3.2 回授及偵測電路 
本計畫中系統的回授及偵測電路包括電流偵測電路及類比/數位轉
換電路，分別說明如下： 
電流偵測電路 
本計畫中電動機之額定激磁電流為 4 安培，為了能夠準確量測瞬間
電流作為系統回授之用，因此採用三個 LEM 公司生產的霍爾電流偵測
元件 LA25-NP，量測電動機的三相電流信號，如圖 5.7 所示。 
使用霍爾電流偵測元件可以有效隔離一次側大功率的電流以及二
次側電子電路中的電流，避免控制電路受到功率級電流的影響產生問
題。而 LA25-NP 的規格為：一次側偵測電流範圍為 25 安培，頻寬為
150KHz，一次側與二次側電流轉換比可藉由接腳連接的方式有五種不
同的轉換比，如 1000:1，1000:2，1000:3，1000:4 以及 1000:5 等五種比
例關係。本計畫中採用 1000:4 的比例關係，意即一次側線圈電流為 5
安培時，二次側則感應得到 20 毫安培，為了配合本系統中的類比/數位
轉換器輸入電壓範圍正負 10 伏特，因此設計電阻為 500 歐姆，可得到
感應電壓 10 伏特，所以本電路可以正確地偵測到工作範圍的電流。 
  35
5.3.3 電源側功因校正電路設計 
電源側功因校正電路的控制器部份，本計畫採用一個類比積體電路
(UC3854N) 作為功因校正之控制核心，圖 5.9 即為其內部架構圖。這是
一顆專門為達成功因校正所設計的積體電路，使電路系統可以達到輕、
薄、短、小的要求。在功率級電路部分，電路架構如第四章所述為一升
壓型直流/直流電力轉換器，其中功率開關的閘極控制信號(第 16 腳)則
是由 UC3854N 積體電路內部的脈波寬度調變單元送出。另外，在檢知
網路的部份，可分為電壓檢知網路及電流檢知網路兩種，在電壓檢知網
路的部分有三個電壓檢知回授信號，第一個回授信號是在全橋整流的輸
出端，利用電阻分壓網路將全波整流後的正弦波信號送入前饋補償網路
後，再送入積體電路內部的平方器電路(第 8 腳)，使得輸入側功率可以
保持平衡。第二個回授信號同樣是在全橋整流輸出端取出，此電壓回授
信號經由一個電阻將檢知進來的電壓信號轉換成電流信號，再送入積體
電路內部的乘法器中(第 6 腳)，此電流信號與線電壓相同，提供本控制
器一個正弦波電流波形外觀命令。最後一個回授信號則是將輸出側直流
高壓利用電阻分壓網路予以降壓後，此降壓後的電壓再送入積體電路內
部的電壓誤差比較器之反相輸入端(第 11 腳)與所設定的參考電壓值做
比較，此回授信號使得功率因數控制器能夠達成即時調制輸出電壓的目
標。 
  37
部邏輯電路的共同接地腳，將與功率級電路的參考接地視為同一點。接
腳 2(PKLM)為電流限制器的輸入接腳，其提供突波電流的過電流保
護，當此接腳的電位一被拉到負壓時，其會讓使輸出之脈波關閉，導致
功率開關立即截止。接腳 3(CAOUT)為電流放大器的輸出端，可於此接
腳上外接適當的被動元件而形成一電流補償網路。接腳 4(ISESE)為電
流回授信號輸入端，此接腳主要偵測功率級電路中實際的電感電流值。
接腳 5(MULTOUT)為乘法器的輸出端，其功能為提供所需之輸入端電
流命令。接腳 6(IAC)為乘法器正弦波信號輸入端，此接腳利用一檢測
網路將輸入端正弦波形信號檢測進來。接腳 7(VAOUT)為電壓誤差放大
器的輸出端，於此接腳上可透過適當的連接方式而形成一電壓補償網
路。接腳 8(VRMS)為前饋補償網路之輸入接腳，可使輸入側功率保持
平衡。接腳 9(REF)此接腳為 IC 參考電壓輸出，其提供一直流 7.5 伏特
的參考電壓。接腳 10(ENA)為低電壓鎖定比較器輸入端，當此接腳電壓
值小於 2.5 伏特時，積體電路將無法工作。接腳 11(VSENSE)為輸出電
壓回授信號的輸入端，回授之電壓進入電壓誤差放大器與 7.5 伏特的參
考電壓比較。接腳 12(RSET)為功率開關切換頻率的設定腳。接腳 13(SS)
為積體電路柔式啟動設定接腳。接腳 14(CT)為另一個功率開關切換頻
率的設定腳。接腳 15(VCC)為積體電路工作電源輸入腳。接腳
16(GTDRV)為開關閘極驅動信號輸出，將其連接至功率開關上以控制
其導通或截止。在說明完各接腳的用途後，接著將對此控制電路進行設
計。 
 
 
 
  39
加，不僅使得鐵心損失與銅損皆增加亦造成成本的浪費，所以必須設計
一適當的電感值，使其能工作於最佳狀況並符合經濟原則。另外，在鐵
心的選擇上，由於鐵粉蕊(iron powder)材質的鐵心相較於陶瓷(MPP)材
質的鐵心則具有較大的鐵損，因此本儲能電感將採一環型的陶瓷鐵心來
實現。電感值選取的限制上必須要考慮到輸入電流的漣波大小，最大的
漣波電流產生於輸入電流為最大時。因此當輸入電壓最小且輸出功率最
大時，輸入電流將達到它的最大值，所以可由(5.1)式及輸出側最大功率
oP 為 850 瓦特的條件下得到最大峰值輸入電流為 10.93 安培。 
,
( )
2 o
in peak
in rms
PI
V
=  (5.1) 
式中 
,in peakI  ：最大峰值輸入電流 
oP  ：輸出側最大功率 
其次考量儲能電感上產生的峰對峰漣波電流，在本計畫中取最大峰
值電流的 5%。接著將根據升壓電路的特性，可由電感之電壓與時間平
衡原理得到截止時間與導通時間對輸入電壓與輸出電壓之間的關係式。 
由能量平衡關係知： 
( )(1 )in o inV D V V D= − −  (5.2) 
式中 
D ：工作週期 
將(5.2)式整理可得： 
o in
o
V VD
V
−=  (5.3) 
在升壓電路中，電感上之跨壓可表成(5.4)式 
  41
,max , 0.5in in peaki i i= + ∆  (5.7) 
式中 
,maxini  ：功率級電路中最大電流峰值 
耐壓規格上，此電路中功率開關所承受的最大電壓則發生於功率開
關二端的跨壓等於輸出直流電壓的情況。基於以上考量以及元件取得的
便利性，因此選擇由英飛凌科技(Infineon Techologies)所生產的金氧半
功率電晶體(編號為 SPW47N60C3)做為功因修正電路的功率開關，此功
率電晶體汲－源極二端跨壓最大可承受 600 伏特，而流過電流最大可承
受 47 安培，表 5.3 為此元件的相關參數規格表。 
表 5.3 功率元件開關(SPW47N60C3)規格表 
元件型號 DSV  GSV  DI  dsr  ont  offt  ossC  
SPW47N60C3 V006  V20± A47  0.07Ω 9.5ns 9.6ns  3150 pF
 
另一方面，輸出功率二極體的選擇上與上述功率開關一樣，首先必
須考慮其耐壓和耐流的規格，為了避免此電路產生誤動作的可能性以及
減少功率開關上所承受的電壓應力，此輸出功率二極體必須選用反向回
復時間較短的超快回復二極體(ultrafast recovery diodes)，因此選用由國
際整流公司所生產的超快速回復二極體(型號為 40EPF06)，做為本硬體
電路的輸出功率二極體，此二極體所流過最大電流可承受 40 安培、耐
壓為 600 伏特且反向回復時間為 160ns 。 
3、輸出電容的設計 
輸出電容器的設計上主要與輸出電壓漣波量、輸出電壓維持時間
(hold-up time)、輸出直流電壓準位、輸入側直流電壓準位這些規格有
關，其中維持時間定義為在輸入電源切斷後輸出電壓仍維持在某一容許
  43
sf  ：功率開關之切換頻率 
setR  ：積體電路第 12 腳所外接的電阻 
TC  ：積體電路第 14 腳所外接的電容 
先設定 10setR K= Ω，再代入(5.10)式，即可求出 1.87TC Fµ= 。 
2. 輸出電壓的設計(檢知網路 vdR 、 viR 的設計) 
輸出電壓的設計是由電阻分壓網路 vdR 與 viR 組合而成，如圖 5.11 所
示，其目的在於把輸出側直流高壓予以降壓後，再送入積體電路內部電
壓誤差放大器之反相輸入端(第11腳)與參考電壓7.5伏特比較後可得一
誤差電壓 oV∆ 。在此選擇 500viR K= Ω ，利用分壓原理可設計出
23vdR K= Ω，此時第 11 腳電壓為 7.5 伏特。 
170V
viR
vdR
(7.5 )V  
圖 5.11 輸出電壓設計示意圖。 
 
3. 電流檢測電阻的選擇 
電流檢知電阻器 sR ，為了減少不必要的電力損耗，此電阻值必須要
設計的很小。經由 UC3854N 的應用手冊[11]中了解，在峰值電流 ,maxinI 的
情況下，可使此電阻值上之跨壓為 1 伏特為最佳設計。由(5.7)式已得到
流經 sR 之電流最大值為 11.20 安培，所以在設定此時 sR 的跨壓為 1 伏特
的條件下，可得 sR 之電阻值約為 0.089 歐姆。 
  45
 
 
 
 
 
 
圖 5.13 eZdsp2407A 系統架構圖[38]。 
 
表 5.4 TMS320LF2407A 數位信號處理器規格表 
中央處理器核心 C2XX 事件管理者模組 事件器 A 與 B
指令週期 25 奈秒 比較器/脈波寬度調變 12/16 
雙重讀取記憶體 544 字元 看門狗計時器 有 
單一讀取記憶體 2k 外部記憶體介面 有 
快閃記憶體 32k 類比/數位轉換時間 0.375 微秒 
支援電壓 3.3 伏特 類比/數位通道 16 個 
串列週邊介面 有 外部中斷 5 個 
串列傳輸介面 有 捕捉單元/編碼器介面 6/4 
控制區域網路介面 有 啟動唯讀記憶體 有 
通用計時器 4 個 省電模式 3 種 
 
  47
面，主要工作是估測轉軸角度，執行波寬調變信號及閉迴路控速系統等
功能。圖 5.15 為速度中斷服務程式流程圖。 
 
 
 
圖 5.15 速度中斷服務程式流程圖。 
電流中斷服務程式方面，主要工作為計算電流誤差、執行電流控制
法則及輸出轉換器切換狀態。圖 5.16 為電流中斷服務程式流程圖。 
  49
第六章 實測結果 
6.1 簡介 
本章說明具高功因開關式磁阻電動機洗衣機驅動系統的若干實測
結果，主要結果可分為功因校正電路及開關式磁阻電動機驅動系統兩部
份。在功因校正方面，本文利用德州儀器公司(Texas Instrument company)
所生產的積體電路 UC3854N 作為功因校正電路的控制核心，並達成輸
入交流電壓頻率有效值 110 伏特、頻率 60Hz，輸出直流電壓 170 伏特
之系統研製。在電動機方面，採用德州儀器公司(Texas Instrument 
company)所生產，以 TMS320LF2407A 晶片為主的 eZdsp2407A 控制
板，配合相關的硬體電路完成閉迴路控速系統。本計畫中所使用的開關
式磁阻電動機規格如表 5.1 所示，而受控體為洗衣機亦在 5.2 節中描述。
在控速方面的暫態響應及加載部份是利用 eZdsp2407A所隨附的開發工
具 Code Composer Studio DSK V2.21 進行實測資料的儲存，再透過個人
電腦讀取與繪出。而功因校正電路與電動機週邊電路中的電壓、電流以
及觸發信號則是以 PINTEK 公司生產的差動探棒 DP-25 與 LeCroy 公司
生產的電流探棒 CP150 進行測量，利用 LeCroy 公司生產的數位示波器
型號 LT354 wave-runner，將實測結果儲存，並透過個人電腦繪出。 
 
 
 
 
  51
銳狀，此將造成輸入電源側功因不佳。圖 6.7 至圖 6.8 為加入功因校正
電路下，無轉軸偵測元件洗衣機驅動系統於轉速命令 150rpm 及 500rpm
下電源輸入端實測波形，由圖中可知，洗衣機驅動系統結合功因校正電
路後確實達成功因校正之目的。 
圖 6.9 至圖 6.14 為使用編碼器時，洗衣機驅動系統在各不同轉速下
的暫態響應圖。圖 6.9 為轉速命令 30 rpm 暫態響應圖，圖 6.10 為轉速
命令 500 rpm 暫態響應圖，圖 6.11 為轉速命令 3000 rpm 暫態響應圖。
正反轉部份，圖 6.12 為轉速命令正負 500 rpm 暫態響應圖。性能部份，
圖 6.13 為轉速命令 500rpm 下，模擬 B 相開路轉速及電流實測圖，圖
6.14 為轉速命令 800rpm 下，模擬 B 相開路轉速及電流實測圖，由圖中
得知當系統一相發生故障時，系統依然可持續運轉。加載部份，圖 6.15
為轉速命令 500 rpm 穩態條件下，放入 3 公斤衣物的暫態響應圖，由圖
中得知驅動系統有良好的干擾拒斥能力。圖 6.16 為典型洗衣機轉速實
測圖，該曲線係參考目前商品化洗衣機的運轉曲線，並在本計畫所研製
系統實測。 
無轉軸偵測元件系統中，相關實測結果說明如下，圖 6.17 至圖 6.19
為洗衣機驅動系統在正轉不同轉速下的暫態響應圖。圖 6.17 為轉速命
令 150 rpm 暫態響應圖，此為無轉軸偵測元件系統所能控制的最低轉
速。圖6.18為轉速命令500 rpm暫態響應圖，圖6.19為轉速命令1200rpm
暫態響應圖，此為無轉軸偵測元件系統所能控制的最高轉速。加載部
份，圖 6.20 為轉速命令 500 rpm 穩態條件下，放入 1.5 公斤衣物的暫態
響應圖，相較於圖 6.15 中的 3 公斤衣物，由於無轉軸偵測元件系統較
具編碼器系統干擾拒斥能力較差的缺點，因此選定 1.5 公斤作為加載
量，藉此測試無轉軸偵測元件系統的加載能力。圖 6.21 為轉速命令為
500 rpm 穩態條件下，換相角度信號與估測誤差關係圖，由圖中得知此
  53
 
 
 
 
   ( )sµ  
圖 6.1 功因校正電路閘極驅動信號。 
 
 
 
 
 
 
  55
 
 
(a) 
 
(b) 
 
圖 6.3 加入功因校正電路，額定負載下電源側輸入波形： 
(a)電壓；(b)電流。 
 
 
  57
 
(a) 
 
 
(b) 
 
圖 6.5 未加入功因校正電路，無轉軸偵測元件，轉速命令 150 rpm 下， 
電源側輸入波形：(a)電壓；(b)電流。 
 
 
 
 
  59
 
(a) 
 
(b) 
圖 6.7 加入功因校正電路，無轉軸偵測元件，轉速命令 150 rpm 下電
源側輸入波形：(a)電壓；(b)電流。 
 
 
 
  61
 
 
圖 6.9 具編碼器，洗衣機驅動系統在轉速 30 rpm 暫態響應。 
 
 
圖 6.10 具編碼器，洗衣機驅動系統在轉速 500 rpm 暫態響應。 
  63
 
(a) 
 
(b) 
圖 6.13 具編碼器，洗衣機驅動系統在轉速 500 rpm 下，於 2 秒時 B
相開路實測圖：(a)轉速暫態響應圖。(b)電流。 
 
 
 
 
  65
0 1 2 3 4 5 6 7
350
400
450
500
550
600
650
700
3kg
Time(sec)
Speed(rpm)
 
圖 6.15 具編碼器，洗衣機驅動系統在轉速 500 rpm 下， 
瞬間加載 3 公斤衣物暫態響應實測圖。 
 
 
 
圖 6.16 典型洗衣機轉速實測圖。 
 
  67
 
圖 6.19 無轉軸偵測元件，轉速 1200 rpm 暫態響應圖。 
   
0 1 2 3 4 5 6 7 8
0
100
200
300
400
500
600
Time(sec)
Speed(rpm)
1.5kg
 
 
圖 6.20 無轉軸偵測元件，轉速命令 500 rpm 下， 
瞬間加載 1.5 公斤衣物暫態響應圖。 
 
 
 
  69
 
 
    圖 6.23 無轉軸偵測元件，轉速-500rpm 暫態響應圖。 
 
圖 6.24 無轉軸偵測元件，轉速-500rpm 暫態響應圖。 
 
 
 
  71
 
(a) 
   
(b) 
圖 6.26 無轉軸偵測元件，轉速命令 500 rpm， 
a 相實測電壓及電流波形：(a)電壓波形；(b)電流波形。 
 
  73
 
圖 6.28 無轉軸偵測元件，轉速命令 150 rpm，輸入側電壓波形。 
  
圖 6.29 無轉軸偵測元件，轉速命令 500 rpm，輸入側電壓波形。 
  75
第七章 結論與建議 
本計畫主要針對具高功因開關式磁阻電動機洗衣機驅動系統進行
閉迴路控速系統的實作，進一步研究轉軸角/速度估測法則的可行性，
完成具高功因無轉軸偵測元件洗衣機驅動系統的閉迴路控制。在功因校
正上，使電動機運轉時輸入側電源端能達到功因趨近於 1 的效果，在洗
衣機控速方面，具編碼器時，控速範圍為 30 rpm 到 3000 rpm，達到 1:100
的控速範圍；而在無轉軸偵測元件驅動系統中，控速範圍為 150 rpm 到
1200 rpm，不同處在於低轉速時，其轉軸估測角度的解析度不夠，導致
低速無法控制，在 150 rpm 以上才能順利控制。在電動機靜止啟動的研
究，本文所提估測策略可以使電動機在任意相位被順利啟動。最後，由
實測結果證明本計畫所提出的轉軸角度估測方法目前在 150 rpm 至
1200 rpm 控速範圍內可調速。 
本計畫未來繼續研究的方向如下： 
1. 設計控制器：應用如適應性控制、強健控制以及非線性控制，使
得系統能有更好的暫態響應及穩態表現，並增強系統的強健性。 
2. 探討無轉軸偵測元件驅動系統應用於工業界其它實際應用，如：
吸塵器，電動機車，電動車等。 
3. 探討以其他函數如：Bessel function 趨近自感曲線以獲得較佳的轉
軸估測值。 
4. 探討無轉軸偵測元件系統控速範圍增大的策略。 
5. 探討激磁時導通角度與截止角度的控制方法。 
 
 
 
  77
參考文獻 
[1] P. C. Sen, “Electric motor drives and control-past, present, and 
future,” IEEE Transactions on Industry Applications, vol. 37, no. 6, 
pp. 562-575, December 1990. 
[2] B. K. Bose, “Power electronics and motion control-technology status 
and recent trends,” IEEE Transactions on Industry Applications, vol. 
29, no. 5, pp. 902-909, September/October 1993. 
[3] G. C. Verghese and S. R. Sanders, “Observers for flux estimation in 
induction machines,” IEEE Transactions on Industrial Electronics, 
vol. 35, no. 1, pp. 85-94, February 1988. 
[4] P. Pillay and R. Krishnan, “Application characteristics of permanent 
magnet synchronous and brushless dc motors for servo drives,” IEEE 
Transactions on Industry Applications, vol. 27, no. 5, pp. 986-996, 
September/October 1991. 
[5] D. E. Cameron, J. H. Lang, and S. D. Umans, “The origin and 
reduction of acoustic noise in doubly salient variable-reluctance 
motors,” IEEE Transactions on Industry Applications, vol. 28, no. 6, 
pp. 1250-1255, November/December 1992. 
[6] G. S. Buja and M. I. Valla, “Control characteristics of the SRM 
drives-part I: operation in the linear region,” IEEE Transactions on 
Industrial Electronics, vol. 38, no. 5, pp. 313-321, October 1991. 
[7] G. S. Buja and M. I. Valla, “Control characteristics of the SRM 
drives-part II: operation in the saturated region,” IEEE Transactions 
on Industrial Electronics, vol. 41, no. 3, pp. 316-325, June 1994. 
[8] T. J. E. Miller, Switched Reluctance Motors and Their Control, New 
York: Oxford, 1993 
[9] R. M. Davis, “Variable reluctance rotor structures-their influence on 
 參加2006年IEEE-IECON’2006研討會報告 
1. 前言 
    2006年第32屆國際電機電子學會工業電子分會(IEEE-IECON’2006)係在法國巴黎舉行，地點在
Conservatoire National des Arts et Metiers大學，時間由11月6日(一)至11月10日(五)，共計五天。此
次會議共約有1700篇論文投稿，接受959篇。接受率約為56%，參加人員來自世界各地64個國家。 
    此次會議共有七個領域，分別涵蓋：控制系統及應用，電機機械及驅動、電力電子、感測器與致
動器及系統整合、信號及影像處理、工業資訊、微機電及機器人等七個主題。同時有七場並行進行，
參加人員可以選擇有興趣的場次進行聆聽及討論，氣氛相當熱絡，充分達到交流目的。 
 
2. 參加研討會經過 
 
第一天 
11月6日(一)為短期課程(tutorial)，時間為上午9:00至下午5點，包括： 
1. 電動車電力電子與電動機驅動在混合車及燃料電池電動機的應用。 
2. 使用 MATLAB 在電力電子系統及電動車驅動的模式建立及模擬 
3. 大學教育在電力電子、電動機驅動及電力系統的改進 
4. 被動式控制在功率轉換器及電動機控制的應用 
5. 使用 VHDL 及 FPGA 在功率變頻器的應用 
6. 感應式功率轉換 
7. 電動機及發電機的熱分析 
8. 高功率轉換器：拓樸，控制及應用 
9. 工業資訊化時代，自動化的合作及服務架構 
10. 以網路為基礎的控制系統及應用 
11. 智慧控制應用在功率電子系統及電動機驅動 
 
第二天 
11月7日(二)  上午8:00~12:00 
上午8:00~10:00 註冊 
上午10:00~10:45 開幕式 
上午11:15~12:00 大會專題演講(一)：法國傳輸系統操作的發展 
上午11:15~12:00 大會專題演講(二)：衛星導航服務的整合 
下午3:00~4:40 
 z 網路為基礎的控制系統 I 
上午11:00~下午1:00 
z 電動機驅動 II 
z 電力電子元件 III 
z 電力轉換器控制 II 
z 無轉軸偵測元件的電動機驅動 
z 類神經網路應用在主動功率濾波器 
z 產品中的人類因素 
z 電力電子中 MATLAB/Simulink 應用 
z 風力整合系統 II 
z 系統判別及估測 III 
z 智慧型控制 I 
z 網路為基礎的控制 
z 影像處理 II 
z 圖形描述及電力系統控制 
z 類神經網路及模糊邏輯 I 
z 網路為基礎的控制系統 II 
 
第四天 
11月9日(四) 
上午8:00~10:00 
z 功率轉換器控制 III 
z 主動濾波器 
z 滑動模式及基因法則 
z 感應電動機的無轉軸元件驅動系統 
z 電機機械 III 
z 永磁電動機控制 
z 智慧型感測器 
z 再生能源 I 
z 非線性控制 I 
z 運動控制 
z 交流驅動器的先進控制及觀測 
 z 語音及信號處理 II 
z 低功率電力電子及 SOC-I 
z 定位系統 
z 人類調適及人性化微機電-I 
 
第五天 
11月10日(五) 
上午8:00~10:00 
z 共振式轉換器 
z 交流/交流轉換器及主動濾波器 
z 實現 
z 估測技術 
z 双饋及特殊感應機驅動 
z 交換協定 
z 網路感測器 
z 再生能源-III 
z 自我最佳化系統及其先進控制-I 
z 電機系統的偵錯及可靠度 
z 新型控制架構 
z 分佈式發電機系統 
z 微機電 
z 行走及抓取 
z 生醫電子及光電 
上午11:00~下午1:00 
z 電力轉換器控制 
z 電源供應系統 
z 功率轉換器 II 
z 電動機驅動的容錯及偵測 I 
z 電動機驅動的控制技術 II 
z 量測與控制 
z 控制 
z 再生能源 IV 
  
3. 攜回資料 
   1. 議程1本 
   2. 光碟1片 
 
4. 建議 
   參加IEEE IECON-2006收穫甚多，不但發表2篇論文，主持一場議程，且認識多位國際間知名的教
授，達到充分交流的目的。 
 
5. 所發表的兩篇論文附錄如下 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 where eT  is the electro-magnetic torque of the motor, and P  
is the number of poles of the motor. In this paper, the 
maximum torque algorithm is used to achieve a maximum 
torque/ ampere ratio. According to equation (3), the 
difference between dL   and qL  is negative. As a result, a 
negative of di  is required to increase the electro-magnetic 
torque. The rotor speed and position of the motor can be 
expressed as:  
 
( )rler BTTJdt
d ωω −−= 1   (4) 
 
and 
rrdt
d ωθ =    (5) 
where rω  is the mechanical rotor speed,  J is the inertia 
constant of the motor and load, 
lT  is the external load torque, 
B is the viscous frictional coefficient of the motor and load, 
and rθ  is the mechanical rotor position. The electrical rotor 
speed and position are expressed as: 
re
Pωω
2
=   (6)  
and 
re
Pθθ
2
=   (7)  
 
III.  FIELD WEAKENING ALGORITHM  
 
When the motor is operated in the constant torque region, 
a maximum torque/ampere is required in this paper. The 
d-axis current command and q-axis current command are 
selected as [3]:  
 
 2*
2
2
*
)(4)(2 qqd
m
qd
m
d iLLLL
i +−−−
−= λλ  (8) 
 
When the motor exceeds base-speed, the field weakening 
technique is required. To fit the voltage limit constraint, the 
d-axis  and q-axis current commands have to satisfy the 
following equation [1]: 
 
  
))()
2
((1 2*2* qq
r
om
m
d
d iLP
V
L
i −+−= ωλ  (9) 
 
Where 
 
samamom rIVV −=  
 
The voltage 
amV  is the maximum available output voltage 
of the inverter depending on the dc-link voltage. The current 
amI is a continuous rated armature current or a maximum 
available current of the inverter. 
Fig.1 shows the current trajectories of the d-q axis 
currents in different operating modes. In this figure, there are 
three regions: region I, region II, and region III. In region I, 
the speed is below base speed. The terminal voltage is below 
omV , the motor is only limited by the maximum current of the 
inverter. As a result, a MTPA control algorithm can be 
applied. When the motor speed increases and exceeds the 
base speed, the region II is achieved. Region II is the range 
between base speed baseω  and cω . The speed cω is the speed 
of rated voltage with di  and qi equal to zero. In region II, if 
the MTPA can be satisfied and the terminal voltage is below 
the allowed voltage, then the MTPA is selected. For example, 
in Fig. 1, the C point is in the MTPA mode and the C point 
terminal voltage is below the voltage-limit at speed 2ω  . 
Then, the C point is chosen. However, in the real world, we 
can not on-line measure the constant torque curve. As a result, 
we use a DSP to determine the d-axis current dBi . When 
MTPA control is satisfied, the B point is selected at the speed 
of 2ω  by setting d-axis current command as dBi . On the 
other hand, the DSP determines the d-axis current  dDi  by 
using the field weakening control algorithm. From Fig.1, we 
can observe that  dDi  is smaller than dBi  and then the 
MTPA can be selected. For implementation, we use the DSP 
to compare dDi  and dBi . If dD dBi i< , the MTPA algorithm 
is used. However, if dD dBi i> , the field weakening 
algorithm is applied. When the speed exceeds cω , only the 
field weakening algorithm can be used. The d-q axis current 
command in different operating modes is shown in Fig.2.   
baseωω =1
cωω =3
ω
baseω
cω
cbase ωωω ≤≤ 2
cωω >4
 
Fig. 1 The current trajectories of the d-q axis currents in 
different operating modes. 
 01 2
2
=− c
dt
de r γω
 (25) 
01 3
3
=− c
dt
de γ
 (26) 
From (24)-(26), we can derive the adaptive law of the speed 
controller as: 
 
*
11 rdt
dec
dt
d ωγ=  (27) 
recdt
d ωγ 22 =  (28) 
ec
dt
d
33 γ=  (29) 
 
By substituting (27)-(29) into (23), we can obtain  
021 ≤−=
•
eKV s  (30) 
From (30) and using Barbalat’s lemma, we can show that 
the whole control system is asymptotically stable [8]. Then, 
the speed error can reach zero in the steady-state condition. 
The whole control algorithm is shown in Fig. 3. The system 
parameters and controller parameters are on-line tuned. The 
implemented system is shown in Fig.4. The system is based 
on a digital signal processor TMS2407. The system includes 
two major parts: software and hardware.  Most of the 
functions are implemented by a DSP. As a result, the 
hardware is very simple. 
*
rω rω
selectorα
*
qi
*
di
 
Fig. 3 The closed-loop drive system.  
 
rω
*
qi
*
qi
*
di
*
di
*
ai
*
bi
*
ci
1T
2T
3T
aiai
bi
bi
eθ
*
di
 
Fig. 4 The implemented control system. 
 
As mentioned in section III, when the motor is operated 
in the MTPA mode, by substituting (17)-(18) into (8), we can 
derive： 
 
2
*
*
2
2
* )
)(
4
3
4
3
1
(
)(4)(2
dqdm
d
qd
m
qd
m
d
iLLPP
i
LLLL
i
−+
+−−−
−=
λ
αλλ
 (31) 
Then, we can derive  
))(
4
3
4
3(
)(4
)
)(2
( *2
2
2*
*
dqdm
qd
m
qd
m
d
d
iLLPP
LLLL
i
i
−+−−−+
=
λλλ
α
 (32) 
 
According to equation (32), we can use the iterative method 
to  adjust α , and then to obtain the current commands *di , *qi  
to achieve the maximum torque/ ampere control. 
On the other hand, when the motor is operated in the field 
weakening mode, rearranging equation (9), we can obtain  
2*2* )()2(1 qq
r
om
dd
m
d iLP
V
LL
i −=+ ω
λ  (33) 
Substituting (17)-(18) into (33), we can derive  
  
))(
4
3
4
3(
)()2(1
*
*
2*
2
2
2
dqdm
d
d
m
d
q
d
r
om
q iLLPP
i
L
i
L
L
P
V
L −+
=+−
λα
λ
ω
 (34) 
Finally, we can obtain  
))(
4
3
4
3()()
2
( *2*2
*
dqdmmdd
r
om
dq
iLLPPiL
P
V
iL
−++−
=
λλω
α  (35) 
According to equation (35), we can also use the iterative 
method to adjust α , and then to obtain the current commands 
*
di , *qi  to achieve the field-weakening control. The controller 
is impossible for a sensorless control system. The major 
reason is that the precious shaft position and speed are 
required.  
 
V. EXPERIMENTAL RESULTS  
 
In this paper, the commercial IPMSM parameters are ：
=B  0.0341 N.m.sec/rad, =J 0.0227 Kg-m2, =mλ  
0.31V.sec/ rad., =dL 15.1 mH, =qL  31mH, dq LL / =2.05. 
The base speed is selected as 2300 r/min. Several 
experimental results are shown here. The parameters of 
proposed controller are: =sK 2, =1γ 0.00001, =2γ 0.01, 
=3γ 1. Fig. 5 shows the speed response at 1 r/min. In constant 
torque region, the proposed system works well at a speed as 
low as 1 r/min. Fig. 6 shows the transient responses at 500 
r/min. Fig. 7 shows the transient responses at 1500 r/min and 
3500 r/min. Fig. 8 shows the variation of the adaptive 
parameters in transient state at 3500 r/min.. The experimental 
results show that the on-line tuned parameters have fast 
convergence behavior. Fig. 9(a)(b)(c) show the speed and  
current responses and current trajectories at 2500 r/min with a 
1.5 N.m load. Fig. 10 (a)(b) show the speed and current 
  
 
 (a) 
 
 
 (b) 
Fig. 10 The responses without using field weakening 
(a) speed (b) current.  
 
 
 
(a) 
 
 
(b) 
Fig. 11 The responses using field weakening 
(a) speed (b) current.  
 
 
rω  
 
Fig. 12  The measured torque-speed capability. 
 
VI. CONCLUSIONS 
 
In this paper, a field-weakening technique and a 
nonlinear speed-loop controller are proposed for an IPMSM. 
The proposed method can be applied in both the constant 
torque region and the field-weakening region. Several 
experimental results are shown to validate the theoretical 
analysis. This paper proposes a new direction to control the 
IPMSM in a wide speed range.  
 
REFERENCES 
 
[1] S. Morimoto, M. Sanada, and Y. Takeda, “Wide-speed operation 
of interior permanent magnet synchronous motors with 
high-performance current regulator,” IEEE Trans. Ind. Appl., vol. 
30, no.4, pp. 920-926, July/ Aug. 1994. 
[2] W. L. Soong and N. Ertugrul, “Field-weakening performance of 
interior permanent-magnet motors,” IEEE Trans. Ind. Appl., vol. 
38, no. 5, pp. 1251-1258, Sep./ Oct. 2002. 
[3] M. N. Uddin, T. S. Radwan, and M. A. Rahman, “Performance of 
interior permanent magnet motor drive over wide speed range,” 
IEEE Trans.  Energy Conv., vol. 17, no.1, pp. 79-84, Mar. 2002. 
 [4]  C. T. Pan and S. M. Sue, “A linear maximum torque per ampere 
control for IPMSM drives over full-speed range,” IEEE Trans. 
Energy Conv. , vol. 20, no.2,  pp. 359-366,  June 2005. 
[5] J. M. Kim and S. K. Sul, “Speed control of interior permanent 
magnet synchronous motor drive for the flux weakening 
operation,” IEEE Trans. Ind. Appl., vol. 33, no. 1 , pp. 43-48, 
Jan./ Feb. 1997. 
[6] M. F. Rahman, L. Zhong, and K. W. Lim, “A direct 
torque-controlled interior permanent magnet synchronous motor 
drive incorporating field weakening,” IEEE Trans. Ind. Appl., 
vol. 34, no. 6, pp. 1246-1253, Nov./ Dec. 1998. 
 [7] M. A. Rahman, D. M. Vilathgamuwa, M. N. Uddin. and K. J. 
Tseng,“Nonlinear control of interior permanent magnet 
synchronous motor,” IEEE Trans. Ind. Appl., vol. 39, no.2, pp. 
408-415, Mar./ Apr. 2003. 
 [8] J. J. E. Slotine, and W. Li, Applied Nonlinear Control. New 
Jersey: Prentice Hall,1991. 
 
 
 
 
 
 
 
 
 )(tic due to the saturated influence. The mλ is the amplitude 
of the flux linkages established by the permanent magnet as 
viewed from the stator frame, and )(teθ  is the electrical angle 
of the rotor position. Assuming the stator windings are 
sinusoidally distributed windings, the self and mutual 
inductances for an IPMSM can be expressed as 
))(2cos()( tLLLtL eBAlsaa θ−+=                          (7) 
)
3
2)(2cos()( πθ +−+= tLLLtL eBAlsbb                   (8) 
)
3
2)(2cos()( πθ −−+= tLLLtL eBAlscc                   (9) 
)
3
2)(2cos(
2
1)()( πθ −−−== tLLtLtL eBAbaab         (10) 
))(2cos(
2
1)()( tLLtLtL eBAcbbc θ−−==                 (11) 
)
3
2)(2cos(
2
1)()( πθ +−−== tLLtLtL eBAacca         (12) 
where lsL is the leakage inductance, AL  is the parameter 
which is unrelated to the rotor position, and BL  is the 
parameter which is related to the rotor position. The 
electro-magnetic torque expressed in the d-q synchronous 
frame is 
)())(3(
22
3)( 0 titiLPtT qmdBe λ+=                          (13) 
where )(tTe  is the electro-magnetic torque of the motor, 
0P  is the number of poles of the motor, )(tid  is the stator 
d-axis equivalent current, and )(tiq  is the stator q-axis 
equivalent current.  
The rotor speed and position of the motor can be 
expressed as  
( ))()()(1)( tBtTtT
J
t
dt
d
rmmLe
m
rm ωω −−=   (14) 
and 
)()( tt
dt
d
rmrm ωθ =  (15) 
where )(trmω  is the mechanical rotor speed,  Jm is the 
inertia constant of the motor and load, )(tTL  is the external 
load torque, Bm is the viscous frictional coefficient of the 
motor and load, and )(trmθ  is the mechanical rotor position. 
The electrical rotor speed and position are 
)(
2
)( 0 tPt rme ωω =   (16) 
and 
)(
2
)( 0 tPt rme θθ =  (17) 
The variables which are function of time are clearly 
expressed in this section. However, to simplify the expression 
of the symbols, in the other sections of this paper, only the 
parts of the variables are shown. The parts of the time 
functions are omitted.    
 
B. Position estimation technique 
By using the rotor saliency of an IPMSM, the stator 
current slope under conventional PWM excitation can be 
measured. Then, by using the measured current slope, the 
rotor position can be estimated. The basic principle was 
developed by the same authors of this paper and was 
published in [6]. The position sensorless technique includes 
several steps. First, by measuring the stator current slope at the 
zero voltage switching mode, the current slope related to the 
back EMF voltage, voltage drop of the stator resistance, and 
inductance can be obtained. Then, the current slope of the zero 
voltage switching mode is used to compensate for the 
influence of the back EMF, voltage drop of the stator 
resistance, and variations in inductance. As a result, a new 
current slope, which is only related to the input dc-bus voltage 
and the self-inductance is obtained. By using the new current 
slope, the rotor position is effectively estimated. Finally, the 
velocity of the motor can be obtained from taking the 
derivative of the rotor position. The detailed analysis follows.  
The inverter has six active modes and two free-wheeling 
modes. The mode +A  is shown in Fig.1. In this condition, 
,, '21 TT  and 
'
3T  are turned on.  
 
Fig. 1 The switching mode A+ 
 
The variables which are function of time are clearly 
expressed in section A. However, this expressing may makes 
the symbols become more complicated. In order to simplify 
the expression of the symbols, in the other sections of this 
paper, only the parts of the variables are shown. The parts of 
the time functions are omitted. As a result, the voltage across 
the a-phase and the b-phase can be expressed as    
 
 )(tan
2
1 1
α
βθ
Di
Di
e −= −           (37) 
The procedure for measuring the current slopes should 
synchronize with the PWM switching voltage. In this paper, 
both the PWM switching patterns and the current slopes are 
determined by the DSP. As a result, the DSP can read the 
stator current at a suitable time to synchronize with the PWM 
voltage. The details are described as follows. According to Fig. 
2, the digital signal processor (DSP) detects the stator current 
at 1sT , which is a 3 sµ  delay from the time of sending a 
trigger signal. Then, the DSP can avoid detecting a current 
spike. On the other hand, the DSP detecting the stator current 
at 2sT , wich is 3 sµ before the trigger signal is turned off. As a 
result, two current values can be obtained for each switching 
states.  
 
 
Fig. 2 waveforms of the proposed sampling technique. 
 
III.  ADAPTIVE CONTROLLER DESIGN  
 
The PID controller is widely used in industry 
due to its simplicity. In addition, by suitably 
adjusting the gains: KP, KI, and KD  ,  the PID controller 
can achieve the required performance of the 
closed-loop control system. As we know, the 
variations of the system parameters and load can 
heavily influence the performance of a PID controller. 
To eliminate the disadvantage, this paper, therefore, 
discusses the adaptive controller design for a 
sensorless IPMSM drive system. The proposed 
control algorithm can be applied to a position control 
system. To the best of the authors’ knowledge, there 
are only a few papers that discuss the design of 
advanced controllers for a sensorless drive system. 
The major reason is the rotor position estimating 
error may deteriorate the performance of the 
closed-loop system, especially, in the transient 
responses. The design procedures follows. 
          For the 0=di control method, the reluctance 
torque is not produced even if the IPMSM has a 
saliency. The reluctance torque is used effectively by 
controlling a current vector according to load 
condition. The d-axis and q-axis current commands 
are selected according to the authors’ experiences as 
follows 
 
eKcc
dt
dci srm
*
rm
*
d +++= 321 ωωα  (38) 
and  
eKcc
dt
dc)LL(PP
eKcc
dt
dc
i
srm
*
rmqdm
srm
*
rm
*
q
+++−+
+++
=
32100
321
4
3
4
3 ωωαλ
ωω   (39)   
where 1c , 2c , 3c are adaptive parameters, sK   is 
a positive constant, and α   is an adjustable parameter 
which must be negative. Then, the nonlinear term of 
the electro-magnetic torque equation (13) would 
have vanished. 
The position error is defined as: 
rmrm θθψ −= *                                                  (40) 
Where *rmθ  is the position command and ψ  is the position 
error. Then, taking the derivative of equation (40) 
rmrmdt
d
dt
d ωθψ −= *    (41) 
By setting a velocity command *rmω  as 
ψθω 1** Kdt
d
rmrm +=   (42) 
and defining the speed error as 
 rmrme ωω −= *  (43) 
Where 1K  is a selected positive constant parameter. After that, 
we choose a Lyapunov function including the motor 
parameter estimation error variables as 
 
2
3
3
2
2
2
2
1
1
22 )(
2
1)(
2
1)(
2
1
2
1
2
1 cTcBcJeJV Lmmmp −+−+−++= γγγψ
 (44) 
By using the  mathematical processes, we can obtain 
    )1)(()1)(( 2
2
21
1
*
1 cdt
decBc
dt
d
dt
decJV
dt
d
rmmrmmp γωγω −−+−−=
 
22
13
3
3 )
1)(( eKKc
dt
decT sL −−−−+ ψγ
 
 (45) 
After that, letting 
01 1
1
* =− c
dt
d
dt
de rm γω
 (46) 
01 2
2
=− c
dt
de rm γω
   (47) 
01 3
3
=− c
dt
de γ
 (48) 
From (46)-(48), we can obtain the adaptive laws as:  
)( 1
*
1
*
2
2
1
*
11 rmrmrmrm Kdt
dK
dt
de
dt
dec
dt
d ωθθγωγ −+==    (49) 
rmecdt
d ωγ 22=                                                      (50) 
     
(a) 
    
 
 
(b) 
   
 
 
(c) 
      
(d) 
Fig. 7 The measured responses  
(a) 15 D (b) 180 D with a reverse (c) estimated error (d) 360 D .  
  
 
3c
2c
1c
 
Fig. 8 The measured  adaptive parameters of position control 
 
  
Fig. 9 Load disturbance response  
 
V. CONCLUSIONS 
 
In this paper, a systematic method for implementing a 
speed control and a position control of the sensorless IPMSM 
is presented. By measuring the slope change of the stator 
current, the rotor position of the motor was accurately 
determined. After that, the adaptive control algorithms for 
position control is proposed. By using the proposed method, 
the transient responses, load disturbance rejection capability, 
and robustness of the drive system are improved. Finally, a 
fully digital, multi-rate, digital signal processor based position 
control system was implemented. The sensorless drive system 
performed well. In addition, it can be easily applied in 
industry because no additional hardware circuit is required.  
  
VI REFERENCES 
 
[1] T. Matsuo and T. A. Lipo, “Rotor position detection 
scheme for synchronous reluctance motor based on 
current measurements,” IEEE Trans. Ind. Appl., vol. 31, 
no. 4, July/ Aug. 1995, pp. 860-868.   
[2] S. Ogasawara and H. Akagi, “Implementation and position 
control performance of a position-sensorless IPM motor 
drive system based on magnetic saliency,” IEEE Trans. 
Ind. Appl., vol. 34, no. 4, July/ Aug. 1998, pp. 806-812. 
[3] M. Schroedl, “Sensorless control of ac machines at low 
speed and standstill based on the INFORM method,”  
IEEE IAS-1996, Oct. 6-10, 1996, pp. 270–277.  
[4] E. Robeischl and M. Schroedl, “Optimized INFORM 
measurement sequence for sensorless PM synchronous 
motor drives with respect to minimum current distortion,” 
IEEE Trans. Ind. Appl., vol. 40, no. 2,  Mar./ Apr., 2004,  
pp. 591-598.   
[5] U. H. Rieder, M. Schroedl, and A. Ebner, “Sensorless 
control of an external rotor PMSM in the whole speed 
range including standstill using DC-link measurements 
only,” IEEE PESC-2004, June 20-25, 2004, pp. 1280-1285.   
[6] J. L. Shi, T. H. Liu, and Y. C. Chang, “Optimal controller 
design of a sensorless PMSM control system,” IEEE 
IECON 2005, Nov. 6-10, 2005, pp. 1532-1537. 
 
 論文發表 
z 功率電子元件 I 
z 控制 
z 能源系統 
z 開關式磁阻電動機及驅動 
z 分數微分及其應用 I 
z 整合光電及其相關技術 
z 系統判別及估測 I 
z 非線性及最佳控制 II 
z 能源系統的控制 I 
z 三維影像處理 
z 汽車影像處理 
z 致動器 
z 視覺 
 
第三天 
11月8日(三) 
上午8:00~10:00 
z 功率電子元件 II 
z 功率轉換器的控制 
z 電動機驅動(感應) 
z 永磁電機無轉軸偵測元件驅動 
z 分數微分及其應用 II 
z 工程及工業技術教育 
z 微機電系統 
z 風力整合系統 I 
z 系統判別及估測 II 
z 非線性及最佳控制 III 
z 能量系統控制 II 
z 影像處理 I 
z 圖形描述及電力系統控制 
z 感測器 
 z 影像處理 III 
z 高精度運動控制 I 
z 類神經及模糊邏輯 II 
z 電機機械及驅動器的熱分析 
上午11:00~下午1:00 
z 燃料電池及直接功率控制 
z 矩陣轉換器 
z 整流器 
z 觀測技術 
z 電機機械 II 
z 功率發電機的應用 
z 系統整合 
z 再生能源 II 
z 非線性控制 II 
z 程序控制 
z 交流驅動系統的先進控制及觀測 
z 語音及信號處理 I 
z 高精度運動控制 II 
z 行動機器人 
z 電機機械及驅動的熱分析 
下午3:00~5:00 
z 波寬調變 
z 直流/直流轉換器 
z 功率轉換器 I 
z 感應電動機驅動 
z 電機機械 I 
z 電機機械 IV 
z 智慧型微感測器及致動器 
z 分佈系統及機器人 
z 非線性及最佳控制 I 
z 行動系統控制 
z 工業程序 
 z 自我最佳化系統及其先進控制 II 
z 電機系統的偵錯及可靠度 
z 控制的即時應用 I 
z 分佈發電系統 II 
z 微機電 
z 協助及服務機器人 
z 生醫及光電 
下午3:00~5:00 
z 電力轉換器控制 V 
z 功率轉換器 III 
z 電源供應系統 II 
z 電動機驅動的偵測 II 
z 電動機驅動的控制技術 I 
z 正式的工業方法 
z 電力轉換器控制 VI 
z 自我最佳化系統及其先進控制 III 
z 電機系統的偵錯及可靠度 
z 控制的即時應用 II 
z 超寬頻檢測器及 RFID 的技術與應用 
z 控制技術 
z 具人類適應及人性化的微機電 II 
 
   此次研討會申請人共發表兩篇論文：Adaptive controller design for sensorless IPMSM position 
control system以及Field weakening with nonlinear controller design for an interior permanent magnet 
synchronous motor。此外，申請人也擔任TPC2-2 section : Sensorless PM machines的主持人。在發表
完論文後得到熱烈的迴響並與多位教授如Rahman教授等充分討論，也有多位德國教授對申請人的
論文具有濃厚興趣，留下名片日後聯絡。 
 
 
 
 
 
  
Field Weakening with Nonlinear Controller Design for an Interior 
Permanent Magnet Synchronous Motor 
 
Ji-Liang Shi                                Tian-Hua Liu Shih-Hsien Yang 
  
National Taiwan University of Science and Technology 
43 Keelung Road, Section 4 
Taipei 106, Taiwan 
 
o
Abstract – This paper proposes a field weakening control 
algorithm with a nonlinear speed-loop controller for an 
interior permanent magnet synchronous motor. By using the 
proposed method, the adjustable speed range can be extended 
to 1.6 times that of the based speed. The method includes the 
constant torque region and the constant power region. In 
addition, an adaptive backstepping speed-loop controller is 
designed to improve the transient response and load 
disturbance rejection capability.  A DSP based full digital 
speed-control system is implemented. Several experimental 
results validate the theoretical analysis.  
 
I. INTRODUCTION 
The interior permanent magnet synchronous motor 
(IPMSM) has been widely used in industry due to its high 
torque to current ratio, large power to weight ratio, high 
efficiency, and  superior robustness. The rotor of the IPMSM 
has complex geometry. This feature allows the motor to be 
operated in a high-speed operating range by incorporating the 
field-weakening technique. Several researchers have 
discussed the field-weakening technique for an IPMSM. For 
example, Morimoto et al. proposed a combining method to 
achieve a maximum torque-per-amp control and constant 
power control [1]. Soong et al. compared the experimental 
field-weakening performance of five rotors, including the 
induction motor, the IPMSM, and the synchronous reluctance 
motor [2].  Uddin et al. investigated the performance of an 
IPMSM over a wide speed range for high precision industrial 
applications [3]. Pan et al. proposed a linear torque control 
strategy for an IPMSM drive to fully utilize the reluctance 
torque and simplify the controller design [4]. Kim et al. 
proposed a novel flux-weakening scheme for an IPMSM 
drive system, which is based on the output of the synchronous 
PI current regulator-reference voltage to the PWM inverter. 
The flux level can be adjusted inherently by the outer voltage 
regulation loop to prevent saturation of the current regulator 
[5]. Rahman et al. proposed a novel control scheme for a 
direct-controlled IPMSM drive incorporating field 
weakening technique [6]. In addition, Rahman et al. proposed 
a nonlinear control for an IPMSM. This paper, however, 
focuses on the constant torque region only and does not 
consider the constant power region [7]. 
------------------------------------------------------------------------- 
This project is supported by National Science Council, 
the R. O. C., under Grant NSC 94-2213-E-011-074.     
 
Generally speaking, only very few papers discuss the 
controller design for an IPMSM which is operated in field 
weakening region [4].  This motivated us to design an 
advanced nonlinear controller, which takes the system 
nonlinearities into account in the controller design.  
In this paper, an adaptive backstepping controller with a 
maximum torque/ampere control is designed to overcome 
motor mechanical parameter uncertainties and to improve the  
dynamic responses of an IPMSM. The operation ranges of the 
motor include constant torque region and constant power 
region.  The experimental results show that the proposed 
method can work well in both the constant torque region and 
the field weakening region. To the authors’ best knowledge, 
this is the first time that an adaptive backstepping controller is 
applied to the field-weakening control and constant torque for 
an IPMSM. The details are shown follows.  
 
II. MATHEMATICAL MODEL 
 
In d-q axis synchronous frame, the dynamic equations of 
the IPMSM, can be expressed as: 
 
 )iLirv(
Ldt
di
qqedsd
d
d ω+−= 1                             (1) 
 
)iLirv(
Ldt
di
meddeqsq
q
q λωω −−−= 1                       (2) 
Where d/dt is the differential operator, di  is the stator d-axis 
equivalent current, and qi  is the stator q-axis equivalent 
current, dL  is the d-axis self- inductance, qL  is the q-axis 
self- inductance, dv  is the d-axis voltage, qv  is the q-axis 
voltage, sr  is the stator resistance, eω  is the electrical speed, 
and mλ  is the flux-linkage of the permanent magnet in the 
d-axis rotor. The electro-magnetic torque expressed in the d-q 
synchronous frame is 
 
qmdqde iiLL
PT ))((
22
3 λ+−=  (3) 
 
  
 
baser ωω ≥
cr ωω ≥
dBdD ii <*
)29)(24)(23(
)22)(13)(12(
** byii qd
)34)(24)(23(
)22)(13)(12(
** byii qd
rω
 
 
Fig. 2 The d-q axis current command in different operating 
modes.   
 
IV.  CONTROLLER DESIGN   
 
The PID controller is widely used in industry due to its 
simplicity. In addition, by suitably adjusting the gains: KP, KI, 
and KD, the PID controller can achieve the required 
performance of the closed-loop control system. As we know, 
the variations of the system parameters and load can heavily 
influence the performance of a PID controller. To eliminate 
the disadvantage, in this paper, an adaptive nonlinear 
controller is proposed. The details are as follows. 
In this paper, first, the speed error is defined as : 
rre ωω −= *  (10) 
where *rω   is the speed command. By taking the derivative of 
equation (10), one can obtain 
)( * rrdt
de
dt
d ωω −=  (11) 
Then, define a Lyapunov function  
2
2
1JeV=  (12) 
By taking the derivative of equation (12) and substituting
  
(3)(4) into the derivative of equation (12), one can obtain : 
⎟⎠
⎞⎜⎝
⎛ ++−+−= lrqdqdmr TJBJiiLLPPJdt
dJeV
dt
d 11))(
4
3
4
3(1* ωλω  (13) 
In order to on-line adjust the d-axis and q-axis currents, 
in this paper we select the two currents as : 
 
eKTB
dt
dJi slrrd +++= ωωα *  (14) 
eKTB
dt
dJLLPP
eKTB
dt
dJ
i
slrrqdm
slrr
q
+++−+
+++
=
ωωαλ
ωω
*
*
)(
4
3
4
3
 (15) 
where sK  is a positive constant, and α  is an adjustable 
parameter with a negative value. Substituting (14)(15) into 
(13), one can derive: 
02≤−= eKV
dt
d
s
 (16) 
According to equation (16), we can see that the Lyapunov 
is semi-negative definite. As a result, the whole control 
system is stable.  Unfortunately, in the real world, the inertia 
J and the external load lT  can not be measured precisely. In 
addition, the inertia J and the  lT  can be varied abruptly to 
the external load. As a result, it is better to obtain the 
parameters J and the  lT  by using on-line tuning.   
The d-axis current and q-axis current are redefined as:   
eKcc
dt
dci srrd +++= 32*1* ωωα  (17)
eKcc
dt
dcLLPP
eKcc
dt
dc
i
srrqdm
srr
q
+++−+
+++
=
32
*
1
32
*
1
*
)(
4
3
4
3 ωωαλ
ωω  (18) 
where 1c , 2c , and 3c  are the on-line tuned parameters.  
By substituting (3)(4) into (11) and  substituting (17)(18) 
into the previous result, we can obtain  
lrsrrr TJ
B
J
eKcc
dt
dc
Jdt
de
dt
d 11)(1 32
*
1
* +++++−= ωωωω  (19) 
To consider the influence of the tuned parameter error, we 
should redefine the Lyapunov function as: 
2
3
3
2
2
2
2
1
1
2
1 )(2
1)(
2
1)(
2
1
2
1 cTcBcJJeV l −+−+−+= γγγ
 (20)
where 1γ , 2γ , and 3γ  are adaptive positive gains. Next, by 
taking the derivative of equation (20), one can obtain  
)()(1)()(1)()(1 33
3
22
2
11
1
1 cTdt
dcTcB
dt
dcBcJ
dt
dcJe
dt
dJeV
dt
d
ll −−+−−+−−+= γγγ
 (21) 
In this paper, we assume that the variations of the inertia, 
viscosity, and load are slow as compared to the variation of 
the current slope. As a result, dJ dt , dB dt , and ldT dt are 
neglected. Then, substituting (19) into (21), one can obtain   
33
3
22
2
11
1
32
*
11
)(1)(1)(1
])()()[(
c
dt
dcTc
dt
dcBc
dt
dcJ
eKcTcB
dt
dcJeV
dt
d
L
sLrr
−−−−−−
−−+−+−=
γγγ
ωω  (22) 
After some mathematical processes, we can derive  
)c
dt
de)(cB()c
dt
d
dt
de)(cJ(V
dt
d
r
*
r 2
2
21
1
11
11
γωγω −−+−−=
 
2
3
3
3
1 eK)c
dt
de)(cT( sL −−−+ γ
 (23) 
Finally, we can set the parameter adaptive law as follows: 
01 1
1
* =− c
dt
d
dt
de r γω
 (24) 
 responses without using field weakening technique. 
Fig.11(a)(b) show the speed and current responses by using 
field weakening technique. Fig. 12 shows the measured 
torque-speed capability curves. The proposed method 
performs better than the traditional method by setting the 
d-axis current as zero. 
 
 
 
Fig .5 The measured response from standstill to 1 r/min  
 
 
BcJc == 21
BcJc 5.05.0 21 ==
BcJc 5.15.1 21 ==
 
Fig.6 The transient responses at 500 r/min. 
 
 
 
Fig.7 The transient responses at 1500 r/min and 3500 
r/min. 
)10( 3−
1c
3c
2c
 
Fig.8 The measured results of adaptive parameters. 
 
 
 
(a) 
 
 
(b) 
 
 
(c) 
Fig. 9 The transient response and load response at 2500 r/min 
(a) speed (b) d-axis and q-axis currents (c) current 
trajectories.  
 
 Adaptive Controller Design for a sensorless IPMSM Position Control System 
 
Ji-Liang Shi, 
*
Tian-Hua Liu, and Yung-Chi Chang 
 
Department of Electrical Engineering 
National Taiwan University of Science and Technology 
43, Section 4, Keelung Road 
Taipei 106, Taiwan 
 
Abstract - This paper proposes a novel advanced 
controller design for a sensorless interior permanent 
magnet synchronous motor position control system. An 
adaptive controller is proposed to obtain a good transient 
response and a good load disturbance rejection capability. 
The proposed control method can be applied in a position 
control system without using any position sensor. By using 
the Lyapunov stability theory and Barbalat’s lemma, the 
closed-loop sensorless position control system can be 
proven to be an asymptotical stable system. A 32-bit 
digital signal processor is used to execute the rotor 
estimating algorithm and the control algorithm. 
Experimental results validate the theoretical analysis and 
show the correctness and feasibility of the proposed 
system. 
 
I. INTRODUCTION 
 
The permanent magnet synchronous motor (PMSM) has 
been widely used in industrial applications due to its high 
efficiency, high performance, and simple control  
characteristics. Generally speaking, an encoder is required for 
the PMSM control system. The encoder needs extra cost and 
increases size. In addition, the signal of the encoder is easily 
polluted by noise. To solve the disadvantages, a sensorless 
drive system is required. Recently, elimination of the shaft 
position sensor from PMSM applications has resulted in the 
development of several techniques. These techniques can be 
divided into several categories. However, the current slope has 
shown to be a very useful method to detect the rotor position 
for salient ac motors [1]-[6]. For example, Matsuo and Lipo 
used the current slope to obtain the rotor position of a 
synchronous reluctance motor. This method, however, is 
applied to synchronous reluctance motors but not PMSMs. In 
addition, at a high speed operating range, the back EMF is not 
easily compensated for [1]. Akagi et al. proposed the magic 
saliency to estimate rotor position [2]. An INFORM 
estimating technique, allowing to operate the motor at a 
standstill or in the low speed operating range, has been 
proposed by Schroedl et al. However, when the motor speed 
increases to a middle or a high speed operating range, the back 
EMF detecting method is required to replace the INFORM 
method [3]-[5]. 
-------------------------------------------------------------------------- 
This research was supported by the National Science 
Council of the Republic of China under grant NSC 
92-2213-E-011-026. 
 
 Recently, Liu et al. propose a sensorless technique by 
detecting the current slope with a back EMF compensation [6]. 
This rotor position estimating technique can work well from 
standstill, transient, and steady-state conditions for an 
IPMSM.  
In this paper, the adaptive control combined with the 
sensorless technique is applied in the position control system. 
To the best of the authors’ knowledge, the idea discussed in 
this paper is original. In fact, this is the first time a sensorless 
IPMSM position control system, using an adaptive controller, 
has been implemented.  
 
II  BASIC  POSITION ESTIMATING PRINCIPLE 
  
A. Dynamic Model of an IPMSM 
In this paper, the IPMSM dynamic mathematical model 
in the a-b-c axis stationary reference frame is established. The 
three-phase voltage of the IPMSM can be described by the 
following equations: 
)t(
dt
d)t(ir)t(v aasa λ+=
  (1) 
)t(
dt
d)t(ir)t(v bbsb λ+=
  (2) 
)t(
dt
d)t(ir)t(v ccsc λ+=
 (3) 
where )(),(),( tvtvtv cba  are the phase voltages of the 
IPMSM, sr  is the resistance of the stator winding, 
)(),(),( tititi cba  are stator currents, d/dt is the differential 
operator, and )(),(),( ttt cba λλλ  are the flux linkages of the 
three phase windings. The flux linkages can be expressed as 
)(sin)()()()()()()( ttitLtitLtitLt emcacbabaaaa θλλ +++=  (4)
)
3
2)(sin()()()()()()()( πθλλ −+++= ttitLtitLtitLt emcbcbbbabab  (5) 
)
3
2)(sin()()()()()()()( πθλλ ++++= ttitLtitLtitLt emcccbcbacac           (6) 
where )(),(),( tLtLtL ccbbaa  are the a-phase, b-phase, and 
the c-phase self-inductances. )(tLab , )(tLac , 
),(tLba )(tLbc ),(, tLca  and )(tLcb are the mutual 
inductances between the different stator windings. The 
self-inductances and mutual inductances are not constant 
values and can be varied with the stator currents )(tia , )(tib , 
 )]
3
2cos(cos[
])()()([
)()()()(
πθλθλω
θθθω
−−+
−+−+−+
−+−+−+−=
−=
+++
+++
ememe
Ae
bcac
c
Ae
bbab
b
Ae
abaa
ae
A
c
bcac
A
b
bbab
A
a
abaabas
badc
d
LLdi
d
LLdi
d
LLdi
dt
diLL
dt
diLL
dt
diLLiir
vvV
  (18) 
On the other hand, when the inverter is operated in the 
free-wheeling mode, which is expressed as the ‘F’ mode here. 
The ‘F’ mode means ,, 21 TT  and 3T  are all turned on or 
turned off, the input voltage is isolated from the motor. The 
input voltages of the thee-phase windings of the motor, 
therefore, are equal to zero. Then, the voltage equation 
becomes  
 
)]cos(cos[
]
d
)LL(di
d
)LL(di
d
)LL(di[
dt
di)LL(
dt
di)LL(
dt
di)LL()ii(r
vv
ememe
Fe
bcac
c
Fe
bbab
b
Fe
abaa
ae
F
c
bcac
F
b
bbab
F
a
abaabas
ba
πθλθλω
θθθω
3
2
0
−−+
−+−+−+
−+−+−+−=
−=
 (19) 
Subtracting (19) from (18), we can derive  
    
+++ −+−+−= AcbcacAbbbabAaabaadc Di)LL(Di)LL(Di)LL(V  (20) 
Where  
F
a
A
a
Aa dt
di
dt
di
Di −= ++                                  (21) 
 
F
b
A
b
Ab dt
di
dt
diDi −= ++                                    (22) 
 
F
c
A
c
Ac dt
di
dt
diDi −= ++  (23) 
In addition, when the inverter is operated in active 
mode +A , the b-phase voltage and the c-phase voltage are 
equal and can be expressed as:  
 
)]
3
2cos()
3
2cos([
])()()([
)()()()(
0
πθλθλω
θθθω
+−−+
−+−+−+
−+−+−+−=
−=
+++
+++
ememe
Ae
ccbc
c
Ae
bcbb
b
Ae
acab
ae
A
c
ccbc
A
b
bcbb
A
a
acabcbs
cb
d
LLdi
d
LLdi
d
LLdi
dt
diLL
dt
diLL
dt
diLLiir
vv
 
(24) 
On the other hand, when the inverter is operated in the 
free-wheeling mode, the b-phase voltage and the c-phase 
voltage can be expressed as   
)]
3
2cos()
3
2cos([
])()()([
)()()()(
0
FFF
FFF
πθλθλω
θθθω
+−−+
−+−+−+
−+−+−+−=
−=
ememe
e
ccbc
c
e
bcbb
b
e
acab
ae
c
ccbc
b
bcbb
a
acabcbs
cb
d
LLdi
d
LLdi
d
LLdi
dt
diLL
dt
diLL
dt
diLLiir
vv
 
 (25) 
Subtracting (25) from (24), we can derive  
+++ −+−+−= AcccbcAbbcbbAaacab DiLLDiLLDiLL )()()(0  (26)
According to Fig.1, during the operation mode +A , the 
current ai  is equal to the summation of the current bi−  and 
ci−  due to the kirchhoff’s current law. After taking derivation, 
we can obtain 
    +++ ++= AcAbAa idt
di
dt
di
dt
d0  (27) 
On the other hand, when the inverter is operated in the 
free-wheeling mode, we can obtain 
FcFbFa
i
dt
di
dt
di
dt
d ++=0  (28) 
Subtracting (28) from (27), we can derive  
+++ ++= AcAbAa DiDiDi0   (29) 
Combining (20), (26), and (29), we can obtain  
dc
bcccbcbbaaacab
ccbbbc
Aa VLLLLLLL
LLL
Di
22 )2()(
2
−+−−−
−−=+  (30) 
Substituting (7)-(12) into (30), we can derive   
( )
))LL(L))(LL(L(
)LcosLL(V
Di
BAlsBAls
BeAlsdc
Aa ++−+
++
=+ 3232
2
3
24 θ
  (31) 
By using similar mathematical processes, we can derive  
))LL(L))(LL(L(
)L)cos(LL(V
Di
BAlsBAls
BeAlsdc
Bb ++−+
+++
=+
3232
3
22
3
24 πθ
    (32) 
and  
))LL(L))(LL(L(
)L)cos(LL(V
Di
BAlsBAls
BeAlsdc
Cc ++−+
−++
=+
3232
3
22
3
24 πθ
  (33) 
The current slopes can be transformed from the a-b-c 
coordinate into the βα −  coordinate, and expressed as  
⎥⎥
⎥
⎦
⎤
⎢⎢
⎢
⎣
⎡
⎥⎥
⎥⎥
⎦
⎤
⎢⎢
⎢⎢
⎣
⎡
−
−−
=⎥⎦
⎤⎢⎣
⎡
+
+
+
Cc
Bb
Aa
Di
Di
Di
Di
Di
2
3
2
30
2
1
2
11
β
α  (34) 
Then, from (34) and doing some mathematical processes, we 
can obtain ( )
( )( ) ( )( )BAlsBAls
eBdc
LLLLLL
LVDi ++−+= 3232
2cos6 θ
α      (35) 
and ( )
( )( ) ( )( )BAlsBAls
eBdc
LLLLLL
LVDi ++−+
−=
3232
2sin6 θ
β   (36) 
Finally, we can derive the rotor position as: 
 ec
dt
d
33 γ=  (51) 
Substituting (49)-(51) into (45), we can derive  
0221 ≤−−= eKKVdt
d
sp ψ                             (52) 
Finally, by using Barbalet’s lemma, we can obtain  
0221 <−−= eKKVdt
d
sp ψ                               (53) 
The block diagram of the adaptive position control is shown in 
Fig. 3 
*
rmθ rmθ
rmω
dt
d
Fig. 3 The block diagram of the control system. 
 
IV  EXPERIMENTAL RESULTS 
 
The proposed sensorless technique and adaptive 
control algorithm were evaluated by experimental results. The 
implemented system is shown in Fig. 4. The motor parameters 
are ： =mB 0.0341 N.m.sec/rad, =mJ 0.0227 Kg-m2, 
=mλ 0.31 V.sec/ rad., =AL 14.4mH, =BL -5.3mH, 
=lsL 1.5mH. Several experimental results follow. Fig. 5 is the 
trajectory of the current slope removing the current slope at 
zero voltage switching modes. As you can observe, the 
trajectory is obviously improved after the current slope at zero 
voltage switching modes is removed. Fig. 6(a)(b) show the 
measured results of the proposed estimating technique. Fig. 
6(a) is the comparison of the real rotor position and the 
estimated rotor position. The estimated rotor position is close 
to the real rotor position, including the standstill, starting, 
transient, and steady-state conditions. Fig. 6(b) is the 
measured estimated error, which is near ±  1 degree. Fig. 7(a) 
shows the measured position is close to the simulated  position 
response of a D15  position command. Fig. 7(b) is the measured 
position response of a D180 . Fig. 7(c) is the estimated position 
error of Fig. 7(b). Fig. 7(d) is the measured position response 
of a D360 . As you can see, the proposed controller performs 
better than the PID controller.  The PID controller has the 
following parameters:  pK = 6, =IK  1, and  =DK  0.2. Fig. 8 
shows the relative measured results of adaptive parameters in 
transient state of a D360 step response . Fig. 9 is the load 
disturbances under different external loads. Again, the 
proposed controller performs better than the PID controller. 
 
rm
Λθ
*
qi
*
ai
*
bi
*
ci
1T
2T
3T
aibie
ΛθrmΛω
rm
Λθ
dt
d
*
di
 
Fig. 4 The implemented system. 
 
αDi
βDi
 
  Fig. 5 The trajectories of the current slope with zero voltage 
current slope compensation. 
 
 
(a) 
 
 
(b) 
Fig. 6 The estimated rotor position 
(a) comparison (b) estimated error. 
