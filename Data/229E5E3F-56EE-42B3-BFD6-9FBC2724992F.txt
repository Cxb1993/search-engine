 2
1. 緒論 
精密機械元件或力學結構運動時通常
會激發振動，而振動的存在將使得系統運
動的行進路線與預期路徑有所誤差，並且
嚴重影響系統定位的精度。通常，我們可
以增強系統阻尼的方式來達到抑制振動之
效果[1]。然而當難以在機械結構上加上足
夠的阻尼時，我們便必須利用改變輸入指
令的方式（亦即“輸入修正法”），來抑制
撓性結構運動時所引發的振動[2]。 
藉由修正輸入指令形式以改善系統性
能的作法，在過去二、三十年間，有許多
的研究將其運用在機器人學、撓性臂控
制、微機電系統以及波動問題等研究領域
中[3–10]。在這些應用中，結構或波動系統
通常是連續且非線性的，所以使用現存的
輸入修正法不一定能得到令人滿意的結
果。因此，本研究團隊曾分別針對非線性
系統[11]及連續結構[12–15]減振，進行了
一系列的輸入修正法研究。同時，Chen等
人亦利用一懸臂樑系統進行實驗[16]，驗證
了相關的輸入修正法理論研究結果。 
在前述研究中，本研究團隊不僅探討
了輸入修正法的減振效能，並且針對參數
誤差對於輸入修正法減振效能的影響做了
一番探討，以釐清將各種輸入修正法運用
於真實系統上之實用性及其限制。然而，
這些研究中所討論的輸入修正法只能使系
統之控制點由某一初始平衡位置移動並定
位在另一新平衡位置上，並無法令系統控
制點精準地依循預設之連續軌跡行進。 
為了探討撓性結構系統之循跡能力，
在本報告中我們將先以一個簡單的彈簧與
質點系統為例，並欲使此系統中之質點能
遵循預先設定的路徑來移動（亦即使系統
在運動過程中所經過的每一點皆能精確定
位，而非僅只在少數幾個定點甚或是單一
定點做到精確定位）。在第2節中，我們將
由線性彈簧質點系統之運動方程式出發，
給予其中之質點一預設之餘弦(cosine)路
徑，並藉此推導出所需之輸入力。理論上，
在不考慮儀器設備能力限制之前提下，我
們皆可以所求得的輸入力施於系統上，並
使系統之行進路徑符合預期。然而在真實
使用上，因為系統老化(aging)，或是控制
之不精確，難免會有參數誤差；因此我們
也將討論當系統真實的自然振動頻率與預
期的振動頻率不同時，是項差異對於運動
路徑誤差的影響。 
而後在第3節中，我們將檢討輸入修正
法對於系統控制點軌跡精度與其參數誤差
容忍度之影響，進而歸納出可改善系統循
跡能力和其他相關運動特性之輸入修正法
設計。復次，我們將在第4節中檢討非線性
效應對於系統循跡能力的影響，並在第5節
中利用一天車模型來說明參數誤差對於時
變系統循跡精度的影響；最後我們將在第6
節中總結本報告。 
2. 彈簧質點系統模型 
首先考慮一線性之彈簧質點系統模型
（如圖1所示），其中質點受彈簧恢復力及
外力作用；故其運動方程式可以寫成 
2 ( )ax x f tω+ = , (1)
其中 ( )x t 是質點位移，t是時間變數， ( )f t
是外力除以質點質量m ， /a k mω = 是系
統的自然振動頻率（ k 是彈簧的彈性係
數）。在此假設我們希望系統中之質點能
以一餘弦路徑移動（見圖2）: 
0
design (1 cos )2
xx tω= − , (2)
其中 0x 和ω分別為該餘弦路徑的振幅與角
頻率(angular frequency)。將路徑方程式(2)
代回運動方程式(1)，我們可以求出欲使系
統中質點依循該路徑所需之外力時序變化
函數為 
{ }2 2 20design ( ) ( ) cos2 a axf t tω ω ω ω= + − . (3)
在實際使用上，可能因為對系統自然
振動頻率估計不精準，或系統老舊使得參
數跑掉，使得系統的真實自然頻率 aω 與我
們預期中的頻率 0ω 不同。為了將這項誤差
所可能造成的影響納入考慮，在此我們依
預期中的頻率 0ω 來設計系統之外力輸入；
故系統所受之實際外力可寫成 
     
圖 1 彈簧質點系統示意圖 
 4
比較(5)式和(7)式可知，在 ZV 修正外力作
用下，質點路徑之平均位置和振幅誤差皆
不受影響，但角頻率為ω之週期性路徑變
化因而得到 / 2τ （而非τ !）之時間延遲
（time delay）。同時，若恰當地調整兩個
部 分 外 力 實 施 之 時 間 差 ， 以 使 得
cos( / 2) 0aω τ = ，則可以完全消除以系統真
實自然頻率振盪之多餘振動分量。事實
上，稍後我們將以實際計算結果說明，即
令因參數估計誤差而使時間差τ 稍異於正
確值時，多餘振動分量振幅亦可得到有效
抑制。 
因此，正如 Singhose & Singer [17] 和
Peláez 等人 [18]在先前相關研究中所指
出，若系統控制點須在準確時間精確地遵
循預設軌跡（這類軌跡可稱為“時間軌
跡”；temporal trajectory），則輸入修正法
明顯地不適用。但若只要求軌跡形狀正
確，而可以容忍一定程度之時間延遲時（這
類 軌 跡 可 稱 為 “ 空 間 軌 跡 ” ； spatial 
trajectory），則輸入修正法不僅可用，更可
以有效地抑制、甚至完全消除多餘之振動
分量。此處我們還要指出來的是，在先前
將輸入修正法用於循跡系統之相關研究中
(例如Singhose & Singer [17] 和Peláez等人
[18])，大多處理線性非時變系統；故本研
究可謂將輸入修正法推廣至非線性與時變
系統之循跡應用上。 
回到 ZV 修正法對軌跡誤差之影響的
討論上；我們已經看到質點路徑之平均位
置和振幅誤差皆不受其影響，惟有以系統
真實自然頻率振盪之多餘振動分量可以受
到抑制。然而就實用觀點而言，所有軌跡
誤差之發生皆由於系統真實自然頻率無法
準確估計（因為建模誤差或系統老化等因
素），故在試圖選取部分外力時間差τ 以
使得cos( / 2) 0aω τ = 時，我們可能仍以系統
自然頻率之最佳估計值 0ω 為依據，而選定
0/τ π ω= （當然其奇數倍亦可，但我們沒
有必要選取較長之時間延遲）。於是(7)式
可以進一步寫成 
ZV
2 2 2
0 0 0
2 2 2
   ( )
cos ( / 2)
2 a a
x t
x tω ω ω ω τω ω ω
⎧ −= − −⎨ −⎩
  
2 2 2
0 0
2 2 2
0 0
0
0
sec cos
2 2
cos   ( ,  / );
2
a
a a
a t t
ω ω ω πωπω
ω ω ω ω ω
πω τ τ π ωω
⎛ ⎞−− + ⋅⎜ ⎟−⎝ ⎠
⎫⎛ ⎞⎪× − > =⎬⎜ ⎟⎪⎝ ⎠⎭
(8)
這裏的重點是在無法確知系統真實自然頻
率的前提下，以系統真實自然頻率振盪之
多餘振動分量將無法完全消除，且其振幅
與 0cos( / 2 ) 0aπω ω = 成正比。 
同樣就實用觀點而言，我們還可以進
一步思考線上調整的可能性。具體而言，
即令我們無法確知系統之真實自然頻率，
但仍可視系統之實際響應（response），適
當地微調外力大小以降低或消除部分軌跡
誤差。當然，欲消除那一部分之軌跡誤差
將視實際應用上之需要而有各種不同的選
擇。為了說明上的方便，在此我們將考慮
調整外力大小以使質點路徑之平均位置沒
有誤差（有時消去最遠或最近點等極限位
置之定位誤差也是可能的選擇）。因為此
處所考慮之模型問題為一線性系統，由(8)
式可知我們只須將(6)式所表示之外力乘上
2 2
0/aω ω 之因式，便可消去質點路徑之平均
位置誤差，且其所引起之系統響應為 
ZV-OT
2 2
0 0
2 2
2 2
0
2 2
0 0
0
0
   ( )
1 /1 cos ( / 2)
2 1 /
1 /1 sec cos
2 1 / 2
cos   ( ,  / );
2
a
a
a
a
x t
x t
t t
ω ω ω τω ω
πω ω ω πω
ω ω ω ω
πω τ τ π ωω
⎧ −= − −⎨ −⎩
⎛ ⎞−− − ⋅⎜ ⎟−⎝ ⎠
⎫⎛ ⎞⎪× − > =⎬⎜ ⎟⎪⎝ ⎠⎭
(9)
由(9)式可知，在利用線上調整消除質點路
徑之平均位置誤差後，路徑振幅與預設值
之比（我們將稱之為路徑振幅因子；path 
amplitude factor）為 
2 2
0
2 2
1 /
1 /PA a
f ω ωω ω
−= − . 
同時，以系統真實自然頻率振盪之多餘振
動分量振幅因子為 
,ZV-OT
2 2
0
2 2
0 0
    
1 /1 sec cos .
2 1 / 2
N
a
a
A
πω ω ω πω
ω ω ω ω
⎛ ⎞−= − ⋅⎜ ⎟−⎝ ⎠
 
 
 6
修正法高出許多 [2,12]。 
具體而言，導入 ZVD 輸入修正法後，
系統輸入外力可以數學式寫成 
ZVD
2 2
20 0
0 2
2 2
20 0
0 2
2 2
20 0
0 2
    ( )
cos ( )
8 cos ( / 2)
cos ( )
4 cos ( / 2)
       ( )
cos ( 2 )
8 cos ( / 2)
       ( 2 ).
f t
x w t H t
x w t
H t
x w t
H t
ω ω ωωτ
ω ω ω τωτ
τ
ω ω ω τωτ
τ
⎧ ⎫−= +⎨ ⎬⎩ ⎭
⎧ ⎫−+ + −⎨ ⎬⎩ ⎭
× −
⎧ ⎫−+ + −⎨ ⎬⎩ ⎭
× − (10)
在上式中，三個部分輸入的常數項依序為
總步階（ 20 0 / 2x ω ）的 1/4, 1/2, 和 1/4 倍；
而角頻率為ω之週期性外力振幅則另除以
一 2cos ( / 2)ωτ 因式，以補償因時間差所造
成之整體振幅衰減。[當 2t τ> ，而三個週
期性部分外力同時作用時， 
2
   cos 2cos ( ) cos ( 2 )
4cos ( / 2)cos ( ),
t t t
t
ω ω τ ω τ
ωτ ω τ
+ − + −
= −  
故整體振幅與 2cos ( / 2)ωτ 成正比。] 
同樣利用線性疊加原理，我們可由(5)
式求得當 2t τ> 時，在 ZVD 修正外力(10)
式作用下之質點位移變化為 
( )}
ZVD
actual actual
actual
2 2 2
0 0 0
2 2 2
2 2 2
20 0
2 2 2
   ( )
1 1( ) ( )
4 2
1 ( 2 )
4
cos ( )
2
sec cos
2 2
cos        ( 2 ).
a a
a
a a
a
x t
x t x t
x t
x t
t t
τ
τ
ω ω ω ω τω ω ω
ω ω ω ω τωτ
ω ω ω
ω τ τ
= + −
+ −
⎧ −= − −⎨ −⎩
⎛ ⎞−− + ⋅⎜ ⎟−⎝ ⎠
× − > (12)
比較(5)式和(12)式可知，如同 ZV 修正一
般，在 ZVD 修正外力作用下，質點路徑之
平均位置和振幅誤差皆不受影響，但角頻
率為ω之週期性路徑變化因而得到τ 之時
間延遲（相較於 ZV 修正之 / 2τ 時間延
遲）。同時，若恰當地調整兩個部分外力
實施之時間差，以使得cos( / 2) 0aω τ = ，則
不僅可以消除以系統真實自然頻率振盪之
多餘振動分量，且使得多餘振動振幅相對
於部分輸入實施時間差之導數 
2   {cos ( / 2)}/
sin( / 2)cos( / 2)
a
a a a
ω τ τ
ω ω τ ω τ
∂ ∂
= −   
亦為零。在下文中我們將以實際計算結果
說明此一性質將使得在相同的系統參數估
計誤差下，ZVD 修正法所激發之多餘振動
振幅遠低於 ZV 修正法所激發者。換言之，
ZVD 修正法之參數誤差容忍度遠高於 ZV
修正法[2,12]。 
不過在此我們先仿照前一小節中的作
法，依據系統自然頻率之最佳估計值 0ω 選
定 0/τ π ω= ，並進一步利用線上調整將(10)
式所表示之外力乘上 2 20/aω ω 之因式： 
2
ZVD-OT 0 ZVD( ) ( / ) ( )af t f tω ω= ,  
以消去質點路徑之平均位置誤差；於是在
ZVD 輸入修正和線上調整同時作用下之系
統響應為 
ZVD-OT
2 2
0 0
2 2
2 2
20
2 2
0 0
0
0
   ( )
1 /1 cos ( )
2 1 /
1 /1 sec cos
2 1 / 2
cos   ( 2 ;  / ).
a
a
a
a
x t
x t
t t
ω ω ω τω ω
πω ω ω πω
ω ω ω ω
πω τ τ π ωω
⎧ −= − −⎨ −⎩
⎛ ⎞−− − ⋅⎜ ⎟−⎝ ⎠
⎫⎛ ⎞⎪× − > =⎬⎜ ⎟⎪⎝ ⎠⎭ (13)
由上式可知，在利用線上調整消除質
點路徑之平均位置誤差後，路徑振幅與預
設值之比和前一小節所得到的結果相同為 
2 2
0
2 2
1 /
1 /PA a
f ω ωω ω
−= −  
（如前文所述，質點路徑之平均位置和振
幅誤差不受輸入修正法影響），故在此不
另作說明（請見圖 3 和相關討論）。至於
以系統真實自然頻率振盪之多餘振動分量
振幅因子則為 
,ZVD-OT
2 2
20
2 2
0 0
    
1 /1 sec cos .
2 1 / 2
N
a
a
A
πω ω ω πω
ω ω ω ω
⎛ ⎞−= − ⋅⎜ ⎟−⎝ ⎠
 
以下我們便以實際計算結果來比較 ZV 和
ZVD 輸入修正法之參數誤差容忍度。 
 8
(a) 
(b) 
圖 6 當 / 1aω ω = 時，在不同非線性彈簧力
參數 3k 值下，最大路徑誤差與預設路徑振
幅比值（圖中縱軸）與 0 aω ω 的關係曲線（圖
例中 k 表示無因次之非線性彈簧力參數
2
3 0k k x′ = ）。圖(a) 顯示較小 k ′值範圍之計
算結果，而圖(b)則顯示較大 k ′值範圍之結
果。 
 
圖 7 不同負 3k 值下之路徑誤差關係曲線
（ / 1aω ω = ） 
 
 
圖 8 不同 / aω ω 值時之路徑誤差關係曲線
（令無因次非線性彈簧力參數 1k ′ = ） 
 
大則其剛性越強（stress hardening），遂有
抑制路徑誤差的效果。同時，較強之非線
性及彈簧剛性皆可能引起高頻質點振盪，
使得我們的取樣頻率可能不足，進而使誤
差曲線不規則跳動。為了進一步驗證這樣
的解釋，在圖 7 中我們繪出當 0k ′ < 時之誤
差曲線。我們可以看到此時因彈簧剛性隨
變形量增大而減弱（stress softening），使
得誤差曲線隨 k ′之絕對值變大而逐漸提
高；故前述說明應為正確。 
最後，在圖 8 中我們令非線性彈簧力
參數 1k ′ = ，繪出在不同預設餘弦路徑角頻
率比 / aω ω 下之路徑誤差關係曲線。圖 8 顯
示，當預設餘弦路徑的角頻率與系統真實
自然頻率間之比值 aω ω 接近於 1 時，路徑
誤差較大；但因非線性彈簧力之作用，即
令共振發生時質點振幅與路徑誤差亦不致
趨於無窮大。無論如何，正如我們在討論
線性系統時所得之結論一般，在系統設計
上我們宜使預設路徑的角頻率與系統之真
實自然頻率（或其最佳估計值）保持足夠
之差距，以免使路徑誤差因共振現象失控。 
5. 時變系統 
5.1  平面天車系統模型及其輸入指令計算 
在本節中，我們將以一個平面天車系
統為模型，討論時變系統之循跡能力。圖 9
所示為一可直線移動之天車，其下方用纜
繩懸掛一負載，而纜繩的長度是可變的。
隨著天車的移動，纜繩及負載將會因為慣
性的影響而晃動。在本文中，我們將令負
載質點一預設之滾動路徑移動（如圖 10 所
示）；並以滾動路徑之振幅ε 與迴轉頻率倒
數1/ω對長度及時間做無因次化。 
 10
θa(0)−θ(0)
-1.0 -0.5 0.0 0.5 1.0
e R
M
S
0.0001
0.001
0.01
0.1
1
10
100
1000
10000
V
*
=0 
V
*
=1
V
*
=5 
V
*
=10 
V
*
=50 
V
*
=100 
圖 11 不同 *V 值時，初始角度誤差對路徑累
積誤差圖。（參數設定 * 10g = , *0 5l = , 
6τ π= ） 
 
θa(0)−θ(0)
-1.0 -0.5 0.0 0.5 1.0
e R
M
S
0.0001
0.001
0.01
0.1
1
10
100
1000
10000
l0
*=1.1
l0
*=2 
l0
*=5 
l0
*=10 
l0
*=50 
l0
*=100 
圖 12 不同 *0l 值時，初始角度誤差對路徑累
積誤差圖。（參數設定 * 10g = , * 1V = , 
6τ π= ） 
 
θa(0)−θ(0)
-1.0 -0.5 0.0 0.5 1.0
e R
M
S
0.0001
0.001
0.01
0.1
1
10
100
1000
10000
g*=1.1 
g*=1.5 
g*=2 
g*=3 
g*=5 
g*=10 
g*=50 
g*=100 
圖 13 不同 *g 值時，初始角度誤差對路徑累
積誤差圖。（參數設定 * 1V = , *0 5l = , 
6τ π= ） 
 
* * *
0
* * *2 sin cos 0
l g x
l l l
θ θ θ θ+ + + =    (24)
來求得其數值解。 
我們將輸入(21)、(22)兩式及其微分，
以及求得的 ( )tθ 代入(17)式，即可得到有誤
差的路徑（位移）函數 *eX 及 *eY ，再將之與
預期中的路徑(18)式相減，即可得到路徑誤
差函數 
2 2* * * *
   ( )
( ) ( ) ( ) ( ) .e e
e t
X t X t Y t Y t⎡ ⎤ ⎡ ⎤= − + −⎣ ⎦ ⎣ ⎦ (25)
然而，誤差函數的值會隨著時間改變，我
們無法用此誤差函數來明確的表示出誤差
的大小。因此，為了更明確且有效的表示
誤差的大小，我們定義路徑累積誤差作為
評量的標準： 
2 2
0
1
1 1( ) ( ) ( )
Nt
RMS nt
n
e e t dt e t
N
ττ τ
=
= =
= = ∑∫ , (26)
其中 *N tτ = Δ 。在此我們選擇 6τ = （三個
週期）為累積時間，分別繪出 *V 、 *0l 及 *g 三
個參數在不同的設定值下，初始角度誤差
對路徑累積誤差圖於圖 11-13，及初始角速
度誤差對路徑累積誤差圖於圖 14-16。 
由圖 11 及圖 14 中，我們可以發現隨
著初始角度或初始角速度誤差愈大，路徑
累積誤差就會愈大，這是可以很直觀理解
的。此外，我們看到不同的 *V 值對誤差並
沒有影響，此乃因為 *V 值是天車運動中等
速運動的部分，此值的不同並不會影響到
系統作用力，因此對誤差沒有影響。接著
觀察圖 12 及圖 15，我們可以看出 *0l 值愈大
誤差會愈大，這是因為對於相同的角度或
角速度誤差 *0l 變大會放大位移或速度的誤
差。以上的現象很容易就可以了解。然而 *g
值的影響就比較豐富多變了。從圖 13 及圖
16 中，我們可以發現 *g 值的不同對角度及
角速度的誤差造成完全不同的現象。在圖
13 中，隨著 *g 值的增加，在相同的初始角
度誤差下，累積誤差會先變小而後再變
大。然而在圖 16 中，隨著 *g 值的增加，在
相同的初始角速度誤差下，累積誤差會愈
來愈小。在(21)和(22)兩式中，我們可以看
到 *g 值對作用力的影響是較複雜的，或許
這就是造成其效應截然不同的原因。此
外，由圖 3, 4, 7, 8 中，我們可以發現在 *0l 或
*g 的值接近 1 時，會產生不穩定的現象。 
 
 12
條件誤差與系統循跡能力的關係。我們發
現 *V 值的大小對誤差並沒有影響；此外較
小的 *0l 將可容忍較大的初始角度及初始角
速度誤差；至於 *g 的影響則較為複雜。因
此在天車系統之設計上，若能取較小之 *0l
值但避免接近 1，將會有較好的循跡能力。
至於 *g 值之選取則要視情況而定，不過也
要避免其值接近 1 為佳。 
為求報告精簡，以上我們僅就本團隊
在今年度全國力學會議（彰化大葉大學，
2006 年 12 月 15–16 日）所發表之理論研究
成果[19,20]進行說明。事實上，在實驗和
數值軟體模擬工作方面，我們也探討了輸
入修正法在抑制長距離移動系統之結構振
動上的應用，並獲得了相當豐富的正面結
果[21]。目前我們除了已將部分理論和實驗
研究成果整理發表於國內研討會外
[19–21]，也正在積極整理其他成果中，以
投稿至相關學術期刊。 
由本團隊在今年度所得到的豐碩成果
來看，本計畫之執行可謂至為成功。 
參考文獻 
[1] Connor, J. J., Introduction to 
Structural Motion Control, Prentice 
Hall (2003). 
[2] Singhose, W. E., Command 
Generation for Flexible Systems, PhD 
Thesis, Department of Mechanical 
Engineering, Massachusetts Institute of 
Technology, Cambridge, MA (1997). 
[3] Pao, L. Y. and Lau, M. A., “Robust 
Input Shaper Control Design for 
Parameter Variations in Flexible 
Structures,” ASME J. Dynamic 
Systems, Measurement and Control,
122, pp. 63–70 (2000). 
[4] Singhose, W., Porter, L., Kenison, M. 
and Kriikku, E., “Effects of Hoisting 
on the Input Shaping Control of Gantry 
Cranes,” Control Engineering 
Practice, 8, pp. 1159–1165 (2000). 
[5] Lin, T.-C., “Design an Input Shaper to 
Reduce Operation-Induced Vibration,” 
Proc. American Control Conf., San 
Francisco, CA, pp. 2502–2505 (1993).
[6] Singer, N. C. and Seering, W. P., 
“Design and Comparison of Command 
Shaping Methods for Controlling 
Residual Vibration,” Proc. IEEE Int. 
Conf. on Robotics and Automation, 
Scottsdale, AZ, pp. 888–893 (1989). 
[7] Singer, N., Singhose, W. and Kriikku, 
E., “An Input Shaping Controller 
Enabling Cranes to Move Without 
Sway,” in ANS Seventh Topical 
Meeting on Robotics and Remote 
Systems, Augusta, GA (1997). 
[8] Van Kessel, P. F., Hornbeck, L. J., 
Meier, R. E. and Douglass, M. R., 
“MEMS-Based Projection Display,” 
Proc. IEEE, 86(8), pp. 1687–1704 
(1998). 
[9] Yang, T.-S. and Liang, W.-L., 
“Suppression of Nonlinear Forced 
Waves by Input Shaping,” J. Wave 
Motion, 37, pp. 101–117 (2003). 
[10] Su, S.-P. and Yang, T.-S., 
“Suppression of Nonlinear Forced 
Waves by Error-Insensitive Input 
Shaping,” J. Chinese Soc. Mech. Eng., 
23(6), pp. 507–516 (2002). 
[11] Chen, K.-S., Yang, T.-S. and Yin, 
J.-F., “Residual Vibration Suppression 
for Duffing Nonlinear Systems with 
Electromagnetical Actuation Using 
Nonlinear Command Shaping 
Techniques,” J. Vib. Acoust. 128, pp. 
