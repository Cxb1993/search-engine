正確的資訊、及時、合適的人員；亦即能將正確的資訊及時地呈現給合適的人
員使用。目前常見的商業智慧架構大致上包含資料來源、資料儲存、以及資料
分析呈現三個部分。事實上這概念與後來W.H. Inmon (1994)所提出的資料倉儲
理念不謀而合，故現在的商業智慧系統幾乎都以資料倉儲為核心，其典型架構
如圖 1 所示(Howard Dresner 1989)。綜合來說，建置一個商業智慧系統最首要
的課題是要能將企業內外的相關資料，經由資料擷取、轉換、傳送(Extract 
Transform Load，ETL)到資料倉儲加以儲存，隨後供使用者利用各類的資料分
析技術或工具，如報表、線上即時分析、資料探勘、統計分析等來獲得可用的
資訊，以應用於決策支援之需。 
 
圖1 以資料倉儲為核心的商業智慧系統架構 
2. 案例式推論 
案例式知識(Case-based Knowledge)可用來描述屬於經驗的知識，而利用案
例式知識來進行案例式推論(Case-based Reasoning，CBR)，就像專家在解決一
些曾遇到的問題時，會從過去的經驗中，判定是何種相似的案例，並依據過去
解決此問題的方法，來決定此次解決問題的方法。由於案例式推論具有如下的
優點：1.使用已經存在的資料來解決問題，知識獲取較為容易。2.推理方式與
人們的經驗相似，為從案例與經驗中學習，所以知識的維護管理較為容易。3.
可以解釋其推理的過程，使用者的接受度高。4.依新案例知識的改變可以進行
學習和調適，不斷增進解決問題的效能。過去雖有一些不同領域的專家系統利
用案例式推論的相關技術來進行知識推論，但就作者所知，本研究係屬首次應
用 CBR 技術來進行洪流量預測之研究。本研究擬將歷年洪流量之觀測紀錄進
行資料重組，建置洪流歷史型態案例庫與洪流預測模式之開發。 
CBR的技術核心含括：擷取(Retrieve)、再使用(Reuse)、修正(Revise)、保
 2
面的問題，由於新舊案例之間的關聯性非常複雜，因此在改編法則的建立
並不太容易。 
步驟十一：修正法則 
改編之後的答案經過測試成功之後，則存入案例庫作為案例庫擴增的依
據。但若測試失敗，則需經修正法則對解答作修正，再經系統測試直到答
案滿意為止。若修正的結果仍無法達到令人滿意的地步，則對失敗的原因
加以解釋，作為系統的依據。 
3. 基因演算法 
基因演算法（Genetic Algorithm, GA），為模擬生物進化程序所發展出來
的一種最佳化演算法，是基於自然選擇過程的一種最佳化搜尋方法。其理論主
要是參照達爾文進化論「物競天擇，適者生存」的概念，它能夠選擇物種中較
好的特性的個體，並淘汰掉不適合的，在代代演化下達到個體最佳化的目標。
其主要是根據生物界中基因抗體複製、交配、突變的原理以及「物競天擇，適
者生存」的進化過程所發展出來的。基因演算法將母體中較優良的抗體保留下
來，允許其複製並交配繁衍出下一代，在下一代中繼續擇優汰弱，因而進化出
最適應環境的後代子孫出來。簡單的說，基因演算法是一種模仿自然界天擇與
優勝劣敗法則及基因演化的搜尋方法，此方法藉由電腦模擬生態系統，其中所
有問題的解答相互競爭、相互交配、繁衍下一代，總是朝著解決問題（由程式
所設定的問題）最佳化的方向演化。 
基因演算法在求解最佳化問題上往往要比傳統最佳化方法為佳，其主要原
因為基因演算法具有以下四個特性：(1)參數重新編碼：針對參數進行重新編
碼，利用所編碼的組合進行演化機制，並非直接利用參數本身求解，使得演化
機制的特性更有效率地搜尋問題全域最佳解。(2)群體的搜尋：基因演算法利用
整個群體的解來搜尋，而非傳統演算法由單一起始點搜尋，由群體搜尋的優點
在於可以避免落入局部最佳解的情形。(3)輸入變數彈性大：基因演算法僅利用
目標函數值的資訊即可進行計算，並不需要對目標函數作微分或其它轉換處
理。並可適用於隨機環境。(4)與其它最佳化方法結合的彈性大：基因演算法具
有與其它最佳化方法結合的彈性，可以針對特定的問題提供更有效率的求解方
式，例如結合基因演算法具較佳全域搜尋特性與梯度法可以快速收斂兩者之優
點所形成的混合式方法。 
曾與陳 (2005)應用免疫式基因演算法則以進行橋基沖刷資料庫知識規則
掘取之研究，茲將其基本原理說明如下： 
步驟一：抗體設計與編碼 
抗體的編碼方式為基因演算法在最佳化過程中相當重要的關鍵，選擇適
當的編碼方式，則可以大幅提高計算效率。故編碼的方式須視問題本身
 4
計算與現況案例最相近的 K 個過去案例，利用其距離反比計算各過去案
例的模糊權重值，繼之將各過去案例的模糊權重值與其輸出值的乘積進行
線性組成，進行現況案例之輸出屬性的預測推估。 
5. 整合研究架構 
一個案例式推論系統的成功關鍵因素可歸納有以下三點：案例特徵之訂
定、案例特徵之權重訂定、案例特徵之相似度演算法。以往的案例式推論系統
主要仰賴專家經驗知識來訂定案例特徵，將各特徵之權重設為相同，及利用歐
式距離法來計算案例特徵之相似度(曾與吳 2003)。 
為提昇案例式推論系統的強健度，有關案例特徵之訂定，本研究擬利用曲
線型態辨識如一及二階導函數資訊(First and Second Derivatives Information)並
配合專家知識來進行案例特徵之訂定建置水位歷史型態案例庫，有關案例特徵
之權重訂定與案例特徵之相似度演算法，本研究將利用基因演算法及配合專家
經驗來進行系統效能的改良，以進行未來 1~3小時可能之洪水位預測。本研究
擬基於商業智慧概念，將案例式推論與基因演算法加以整合，其整合研究架構
如圖 2所示。 
 
 
 
 
 
 
 
洪流歷程型態案例庫 
基因演算法 
Genetic algorithms 
訓練案例 測試案例 
新案例預測 
案例式推論演算法 
Case-based Reasoning 
圖 2 研究架構 
四、 結果與討論 
1. 研究區域與水位資料 
本文以烏溪流域進行實例演算，烏溪位於本省西海岸中部，其流域面積為台
灣第四大河川，發源於中央山脈合歡山西麓。收集烏溪下游水位測站(大肚橋水
位站)之時水位紀錄，選取1994年至2004年共10年發生之洪水位資料共6場作為研
究資料，其中4場颱風（安柏、納莉、桃芝、敏督利）建置為案例庫，而道格與
賀伯2場颱風則為新案例預測。 
 
 6
表三 最佳權重下道格颱風各預測方法MAPE(%)的比較 
階段 / 方法 平均數法 正規 Z法 Fuzzy距離法 BPN法 
1小時 1.900 1.041 2.071 1.460 
2小時 3.022 1.883 3.194 3.829 
3小時 3.834 2.412 3.975 4.986 
12
14
16
18
20
1 4 7 10 13 16 19 22 25 28 31 34 37 40 43 46 49 52 55 58 61 64 67 70 73 76 79 82 85 88
Time (hr)
W
ate
r E
lev
ati
on
 (m
)
Measured
Mean-Estimated
Z-Estimated
Fuzzy-Estimated
BPN-Estimated
 
圖 3最佳權重下道格颱風 1小時預測比較 
表四與表五分別為相等權重與最佳權重下，利用平均數法、正規 Z法、Fuzzy
距離法對賀伯颱風 1～3小時的預測效能 MAPE，為比較本文所提方法的優劣，
亦列出 4x6x3 BPN的預測結果。結果顯示正規 Z法的準確性依然是最高，最佳
化權重對預測的效能具有提升的功效。整體預測結果如圖 4所示。表四與表五的
結果亦都顯示在 1～2小時的預測效能，BPN最佳，其原因是因為賀伯颱風的水
位歷線型態與案例庫中之所有案例不儘相似，導致本法的預測結果受限。 
表四 相等權重下賀伯颱風各預測方法MAPE(%)的比較 
階段 / 方法 平均數法 正規 Z法 Fuzzy距離法 BPN法 
1小時 2.342 1.537 1.808 1.067 
2小時 3.230 2.620 2.605 2.520 
3小時 3.825 3.313 3.198 4.188 
 8
