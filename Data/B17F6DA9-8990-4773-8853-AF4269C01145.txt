 2 
線圈電流導通與截止時機，且無延遲30度電機角的問
題，再將串列的固定零交越點位置訊號，送至鎖相迴路
電路作倍頻處理，利用計數器計數脈波訊號，估算出轉
軸角度。因此，本計畫所提的方法具有計算簡單的即時
換相特性及較佳的角度解析能力等優點。 
三、 直流無刷馬達簡介 
直流無刷馬達在轉子置入高性能的永久磁鐵，像釹
鐵棚(NdFeB)和鋁鎳鈷(Alnico)等稀土類磁石，其磁通密
度可達1.0特斯拉。因轉子沒有線圈，所以沒有轉子銅
損，亦無直流有刷馬達中的碳刷、換向片及滑環等裝
置，體積較小，能達到小型化及高功率密度的要求。直
流無刷馬達的結構與直流有刷馬達具有對偶性的關
係，其電樞線圈安置在定子，而轉子則安置永久磁鐵。
依照轉子結構，大致可分為三類：表面附著型
(surface-mounted magnet)；嵌入型(inset magnet)及內藏型
(interior magnet)。圖1為直流無刷馬達之構造圖，其中圖
1(a)為表面附著型；圖1(b)為嵌入型；圖1(c)為內藏型。
表面附著型及嵌入型又稱為圓筒型，其永久磁鐵是安置
於轉子表面，由於幾何結構完全對稱，因此氣隙為均勻
分佈，且對應的磁動勢也是呈現均勻的正弦波分佈，使
得馬達的特性分析較為簡單，具有較佳的動態特性；但
由於氣隙較長，因此利用電樞電流進行弱磁控制的效果
較不顯著，通常適合操作在定轉矩區域。另外，為了避
免磁性材料在高速時產生飛脫，此類馬達只能應用於
中、低速範圍。 
    
 (a) (b) 
 
 (c) 
圖 1 直流無刷馬達之轉子結構： 
(a)表面附著型；(b)嵌入型；(c)內藏型。 
內藏型又稱為凸極式，其永久磁鐵是安置於轉子內
部，又稱為隱藏式磁極(buried magnet)，由於構造上更為
堅固，可承受高速運轉所產生的離心力，經常應用在高
轉速的場合。此外，由於轉子磁路不均勻，具有凸極效
應，所以電感值會隨著轉子角度不同而變化，因此控制
複雜。內藏型馬達的轉矩含有定子電流與d、q軸差異所
形成的磁阻轉矩，經適當控制後，可和電磁轉矩合成，
提高輸出轉矩，達到高功率密度的要求。另外，凸極式
轉子構造的氣隙較短，利用電樞電流來達成弱磁控制的
效果較為明顯，因此可操作在定轉矩區域及定功率區
域。本計畫所使用之直流無刷馬達即為此種形式。 
直流無刷馬達依據其定子結構，可分為有槽式
(slot-type)與無槽式(slotless-type)兩大類，無槽式直流無
刷馬達的線圈繞組是利用傳導環氧化物 (conductive 
expoxies)將線圈繞組嵌入在定子側無槽的表面，如圖2(a)
所示，相較於有槽式之馬達，其運轉無頓轉轉矩(cogging 
torque)，常用於小型高速馬達。有槽式直流無刷馬達可
根據定子繞線方式再細分成兩類，圖2(b)為集中式繞組
結構，其優點能降低線圈端的長度，因此可減少定子的
銅損與繞線成本，並易於設計成梯形反電動勢波形，常
使用於直流無刷馬達的製作上。對於集中式繞組結構的
直流無刷馬達，具有氣隙磁通為梯形波分佈的特性，因
此常以方波電流激磁的方式驅動。雖然其結構簡單、成
本較低，但在換相期間，由於電感導致實際電流無法在
換相瞬間追隨電流命令，造成較大的週期性脈動轉矩
(torque pulsation)。圖2(c)為分佈式繞組結構，其繞線方
式較集中式繞組複雜，有著較高的繞線成本，常被用來
設計成弦波反電動勢之永磁同步馬達。對於分佈式繞組
結構的永磁同步馬達，具有氣隙磁通正弦分佈的特性，
因此常採用正弦波電流激磁的方式。雖然控制較為複
雜，但使用此激磁方式能得到平滑的轉矩輸出與較小的
轉矩漣波，適合於高性能的工業應用。 
    
 (a) (b) 
 
 (c) 
圖 2 直流無刷馬達之定子結構： 
(a)無槽式；(b)集中式；(c)分佈式。 
四、 無轉軸角度偵測方法 
本節中針對直流無刷馬達的數學模式、驅動原理及
無轉軸角度偵測方法加以探討。分述如下: 
4.1 數學模式 
直流無刷馬達的數學模式可根據其結構，假設馬達
之三相繞組對稱，轉子為表面附著型，反電動勢為理想
梯形波，以三相靜止座標軸(a-b-c軸)下建立數學模式如
下： 
 4 
4.3 無轉軸角度偵測方法 
直流無刷馬達的無轉軸感測元件之驅動方式是在
不使用霍耳感測元件時，以估測的換相信號進行方波電
流命令驅動。本計畫所提出的方法，係利用分壓方式擷
取馬達相電壓後，經差動電壓電路得到馬達的線對線電
壓，圖5為差動電壓電路示意圖。將線對線電壓輸入數
位訊號處理器中的類比/數位轉換器，經簡單計算後，估
測三相線對線反電勢之零交越資訊，做為換相依據，再
將零交越點位置訊號，送至鎖相迴路電路作倍頻處理，
利用計數器計數脈波訊號，估算出轉軸角度及速度。換
相原理從圖6反電勢與電流關係中可知，每ㄧ電機週期
有六個換相區間，即每60度電機角換相一次。若以相反
電動勢為依據，會有延遲30度電機角的問題，須利用一
些特殊技巧補償角度差；若以線對線反電動勢為依據，
則無延遲30度電機角的情況，非常適合找出正確的換相
點。因此，只要每60度電機角判斷其中ㄧ個往零交越點
接近的線對線反電動勢，如圖7所示。整個換相信號估
測方法及流程說明如后： 
0度到60度間，線對線反電勢eab從為正的最大值往
零交越點遞減，此時a相電流流入馬達為正，b相電流為
零。因此，可重新整理(12)式的線對線反電勢eab、馬達
線電壓vab與馬達相電流ia關係，可得： 
aaSabab itd
dLirve -- =  (15) 
根據上式計算出eab，判斷其零交越點，即可完成換相動
作，進入下一個區間。60度到120度間，線對線反電勢eca
從為負的最大值往零交越點遞增，此時c相電流流出馬達
為負，a相電流為零。因此，可重新整理(12)式的線對線
反電勢eca、馬達線電壓vca與馬達相電流ic關係，可得： 
ccScaca itd
dLirve -- =  (16) 
根據上式計算出eca，判斷其零交越點，即可完成換相動
作，進入下一個區間。120度到180度間，線對線反電勢
ebc從為負的最大值往零交越點遞增，此時b相電流流入
馬達為正，c相電流為零。因此，可重新整理(12)式的線
對線反電勢ebc、馬達線電壓vbc與馬達相電流ib關係，可
得： 
bcSbcbc itd
dLirve -- =  (17) 
根據上式計算出eca，判斷其零交越點，即可完成換相動
作，進入下一個區間。之後的180度到360度三個週期與
0度到180度週期，只差線對線反電勢與馬達相電流的正
負相反，線對線反電勢公式可參照(15)-(17)式。 
 
圖 5 差動電壓電路示意圖 
eab
ebc
eca
ea
eb
ec
ia
ic
ib
0º 60º 120º 180º 240º 300º 360º 420º 480º 540º 600º 660º
e
e
0
0
0
720º
e
 
圖 6 反電勢與電流關係 
e
e
0º 60º 120º 180º 240º 300º 360º 420º 480º 540º 600º 660º 720º
eab eca ebc eab eca ebc eab eca ebc eab eca ebc
0
Zero crossing
0
 
圖 7 線對線反電勢與零交越點關係 
由上述的原理說明可知，若馬達為三相，其轉子極
數為p個，當馬達旋轉一圈時，會產生3p/2次的零交越
點。當馬達轉動1/2圈時，共有3個零交越點訊號，因此，
當馬達轉到這些位置時，由數位訊號處理器送出一位置
脈波訊號至鎖相迴路電路之輸入端，此3個位置脈波訊
號，如圖8所示，僅代表馬達旋轉一圈的幾個特定位置，
無法由此訊息得知更精確的馬達轉軸角度訊號。如果可
以在連續兩個位置脈波訊號中間產生高頻的脈波信
號，如圖9中以10倍為例，利用此脈波信號即可估測得
到精確的轉軸角度位置。本文應用鎖相迴路的原理，設
計一簡單鎖相迴路電路將位置脈波訊號倍頻N倍，鎖相
迴路如圖10所示。最後，回授鎖相迴路輸出的高頻脈波
訊號，將此脈波信號當成轉軸角度估測值，完成轉軸角
度與速度估測方法。因此，馬達轉速與鎖相迴路的輸入
頻率f1及輸出頻率f2的關係可表示如下： 
21
1 4040
2
3
60 f
p
Nf
pp
f
r ===ω
 (18) 
 6 
3. 電壓偵測電路 
電流壓偵測電路如圖所15示，由馬達的a、b、c端經
由分壓方式取得馬達相電壓，此電壓比為200伏特對應
到4伏特，經差動電壓電路得到兩相電壓相減值，即馬
達的線對線電壓。因數位信號處理器之內建類比/數位轉
換器僅能對正的電壓信號進行取樣，且最大容許輸入電
壓為3.3伏特，所以必須對電壓信號進行處理才能送入數
位信號處理器進行取樣，差動電壓電路來達成信號縮放
及提升1.65伏特的功能，使得線對線電壓±242伏特對應
到數位信號處理器的類比/數位輸入容許電壓0-3.3伏特 
 
圖 15 電流壓偵測電路 
4. 鎖相迴路電路 
鎖相迴路主要是由相位頻率偵測器、低通濾波器、
電壓控制振盪器及除頻器等電路所構成。本文選用編號
為74HC4046的鎖相迴路數位積體電路，除含有相位頻率
偵測器外，亦內含電壓控制振盪器的功能，在設計與應
用上非常方便。本計畫中除頻器選用編號HBF4059的可
程式規劃計數器，當輸入信號脈波達到計數器設定的計
數值時，會輸出一和輸入信號同步的脈波信號，利用此
特性降低信號頻率，輕易設計出系統所需的除頻電路。 
5. 電源側功因校正電路 
電源側功因校正電路採用一個類比積體電路
(UC3854N)作為功因校正之控制核心。這是一顆專門為
達成功因校正所設計的積體電路，使電路系統可以達到
小型化的要求。在功率級電路部分為一升壓型直流/直流
電力轉換器，其中功率開關的閘極控制信號(第16腳)則
是由UC3854N積體電路內部的脈波寬度調變單元送
出。另外，在檢知網路的部份，可分為電壓檢知網路及
電流檢知網路兩種，在電壓檢知網路的部分有三個電壓
檢知回授信號，第一個回授信號是在全橋整流的輸出
端，利用電阻分壓網路將全波整流後的正弦波信號送入
前饋補償網路後，再送入積體電路內部的平方器電路(第
8腳)，使得輸入側功率可以保持平衡。第二個回授信號
同樣是在全橋整流輸出端取出，此電壓回授信號經由一
個電阻將檢知進來的電壓信號轉換成電流信號，再送入
積體電路內部的乘法器中(第6腳)，此電流信號與線電壓
相同均為正弦波信號，提供本控制器一個正弦波電流波
形命令。最後一個回授信號則是將輸出側直流高壓利用
電阻分壓網路予以降壓後，此降壓後的電壓再送入積體
電路內部的電壓誤差比較器之反相輸入端(第8腳)與所
設定的參考電壓值做比較，此回授信號使得功率因數控
制器能夠達成即時調制輸出電壓的目標。 
電流檢知網路的部分，則採用單一電阻，透過適當
的連接即可將功率電路中的實際電流檢知進控制器，為
了減少不必要的能量損耗，所以電流檢知電阻的值必須
設計的很小。另一方面，為了避免檢知電阻內部所產生
的電感效應，導致檢知電路誤動作，所以此電流檢知電
阻採用碳膜包裝無感式電阻器，避免採用繞線式的電阻
器，如：水泥電阻等。經由上述的說明，可以得知這些
檢知信號都是透過一些簡單的被動式元件即可檢知到
控制器中，使得在電路的研製上可以避免使用一些價格
昂貴的電壓檢知積體電路或檢知電流信號的霍爾元
件，不僅讓研製電路的成本降低也可以讓整個電路系統
更為精緻。圖16即為完整的電源側功因校正電路電路
圖。 
ENA
VSENSE
IAC
VFF
SS
CT RSET Gnd
GT
Drv
REFPK
LMT
CA
Out
Mult
Out
VA
Out
VCC
16V/10V
2.5V/2.25V
7.5V
7 Aµ
2X
AB
IM
C
=
A
B
C
RUN
OSCILLATOR
R
R
S
Q
18V
RUN
7.5V
REF
1
235
6
7
8
9
10
11
12
13
14
16
VCC
VCC
15
ISENS
E
4
Rset
Ct
Css
   RENA
VCC
C2C1Rff3
Rff2
Cff2Cff1
Rff1
AC
Fuse
+
-
-
-
Co
Rvi
Rvd
D0L
Rs
Vout
Q1
Rb1
Rvac
Cvf
Rvf Rcz
Ccp
Ccz
Rmo Rpk2
Rpk1
Cpk
C3
Ro   Rci
Ds
UC3854N
D1
 
圖 16 電源側功因校正電路電路圖 
5.2 軟體程式設計 
軟體程式是以TMS320LF2407A數位信號處理器的
組合語言撰寫而成。程式可分為主程式及中斷服務程
式，主程式中主要進行系統功能規劃及無轉軸元件起動
程序；而中斷服務程式中主要為：換相點估算及角度/
速度估算、電流控制及閉迴路速度控制。相關設定及詳
細內容將說明如下： 
1. 主程式 
主程式進行數位信號處理器的系統功能規劃方
面，有：系統初始值規劃、記憶體空間配置、變數宣告、
輸入/出腳位定義、事件管理者模組設定、中斷遮罩設
定及中斷致能；無轉軸元件啟動程序中主要為轉子初始
角度設定及加速控制，圖17(a)為主程式的流程圖。 
2. 中斷服務程式 
本文設定反電勢的計算週期為0.05 毫秒，因此中斷
服務程式每0.05毫秒即執行一次。中斷服務程式主要執
行：換相點估測與轉軸角度及速度估測、電流控制及速
度控制，圖17(b)為中斷服務程式的流程圖。 
 
(a)                 (b) 
圖 17 控制器程式流程圖 
