1 
 
行政院國家科學委員會補助專題研究計畫成果報告 
智慧型機器人導引與定位之研究 
Research of Intelligent Robot Localization and Guiding 
計畫編號：NSC98-2221-E-009-172 
執行期限：98年 8 月 1 日至 99 年 7 月 31 日 
主 持 人：吳炳飛   國立交通大學電機系 
摘要 
    科技發達的現代，老年人與身障等行動
力弱勢族群的生活品質仍然需要我們的關懷
與改善，本研究以人性關懷為出發點，開發
智慧型運送導覽機器人，以提供方便舒適之
室內 “Door-to-Door”運送導覽服務為目標。
本計畫中提出基於無線區域網路之無線定位
演算法提供機器人位置回授，導引方面設計
動態路徑規畫、自主適應性駕駛，可達到使
用者自動運送之服務，亦實現以視覺系統為
基礎之自動停車機制，使用完畢時機器人將
可自動復歸到停放的位置，基於以上功能達
到可獨立運作之智慧型輪椅機器人。 
一、緣由與目的 
    在許多室內場合中，如學校、醫院、博
物館、圖書館、賣場超市與百貨公司等等，
老人、小孩、身心障礙等行動能力較不如一
般大眾，當行動弱勢族群身在這些陌生環境
或是來往費力的環境時，會有相當大的行動
能力輔助需求，本研究從使用者的角度切
入，為了幫助弱勢的族群在室內環境中的行
動不足之困境，期望能開發一個利用無線訊
號定位且能提供使用者導航資訊的智慧型輪
椅機器人，為弱勢使用者提供位置與方向資
訊，最重要的，藉由我們的輪椅機器人，還
能幫忙帶路並且負責提供運送到使用者目的
地的服務，希望能為弱勢的人群帶來突破性
的生活便利性，讓他們享有更好的生活服務。 
   輪椅機器人近年來輪椅機器人的研究越
來越獲得重視，輪椅型機器人不但方便移
動，亦可應用到實際生活場合供人搭乘，目
前在電動輪椅機器人的研究上，[1]與 NOKIA
合作發展以無線訊號進行機器人定位以及使
用者語音輸入命令功能，進而可提供使用者
運送或跟隨的輪椅型機器人。[2]提出基於無
線區域網路(Wireless LAN, WLAN)的定位技
術，使用最大後機率(Maximum a posterior 
probability, MAP)提供定位結果，再搭配增廣
式的學習伴隨使用者的意見回授提升定位效
能，並可在未知環境中學習新地圖，用於探
索未到達過的位置。在[3]中，Miyazaki等人開
發一可跟隨看護或行人的照護/導覽型輪椅機器
人，透過雷射雷達搭配全像式攝影機的感測，利
用 Rao-Blackwellized 微粒子濾波器(Particle 
filter)，機器人可追蹤的前方看護者或行人的
特徵，以減少看護者原本的負擔。[4]利用廣角
60 度超音波雷達(Ultrasonic)探知靜態環境障
礙，判斷物體的遠近後以自動決定離散式命
令操控機器人的行進路線。運用搭配紅外線
偵測的立體視覺 [5]，可以偵測攝影機前方環
境的深淺資訊，進而搭配所擷取的二維影像
資訊推測物體在實際場合中的位置，使電動
輪椅有效率地避開攝影機所拍攝到的前方物
體。針對人潮密集或是環境較狹窄之環境特
性。[6]整合雷射雷達、紅外線與超音婆雷達
等二維空間掃描的感測器，使得電動輪椅機
3 
 
藉由 PDA 手機即時收取無線區域網路
(WLAN)的訊號強度指標 (Received signal 
strength indication, RSSI)，我們可以進行機器
人的位置估測，如圖 3所示，使用WLAN的
RSSI 進行定位的目的，除了可提供上網服務
外，更減少定位系統的複雜度與成本，因此
再搭配電子羅盤回授機器人之行進方位，我
們可以準確得到機器人的姿態。 
 
圖 3. 無線定位機制 
    透過無線定位，機器人可即時地回報目
前的位置並顯示在如圖 4 所示之使用者介面
的地圖上，使用者可藉由地圖顯示所在位置
透過介面輸入預期前往的地點，輸入後系統
將自動規畫路徑並前往。搭配圖 1 中的雷射
感測器資訊，可隨時感知機器人周遭的動態
狀況，以便隨時修改前進的路線來適應環境
狀況，而本計畫亦完成機器人自動駕駛跟隨
規劃的路徑。 
 
圖 4. 使用者介面(顯示於觸控式螢幕) 
    機器人抵達目的地後將顯示抵達訊息提
醒使用者，因此若機器人運送的任務完成
時，可於介面上輸入停車命令，機器人將自
行前往停車區域並自行搜尋機器人專屬之停
車格自動停車，其中本計畫提出利用單眼視
覺為輔助之機器人自動停車，透過單眼攝影
機可以追蹤停車格之位置並自行規劃停車。 
三、機器人定位與導引設計 
    本計畫融合圖 1 所示之感測器資訊，以
微型電腦實現的機器人定位與導引演算法如
下列所示： 
A. 機器人定位演算法 
    如下圖 5所示之WLAN環境，機器人直
接透過所架設的 PDA 手機收取 WLAN 的
RSSI，以微粒子濾波器[9]進行機器人定位；
透過事前在圖 5 中的訊號參考點蒐集訓練資
料，分析所記錄的 RSSI訊號特質作為即時估
測階段之智慧型場景分析推論基礎。 
 
圖 5. WLAN定位環境 
    考慮如下圖 6所示為無線訊號RSSI的靜
態量測結果，統計後可近似為如圖 7 之高斯
分布，由於WLAN訊號之穩定性較低，須於
每個參考點進行訊號分佈之分析，才能較客
觀地評估環境訊號強度特徵與距離或位置之
關聯性程度，針對位置與距離的訊號特質分
5 
 
分佈(Posterior probability distribution)，可適用
於複雜動態系統模式，包括非線性系統與非
高斯分佈。當 particle filte方法[9]整理如下表
1所示，其中 kx 與 kz 分別表示系統狀態與量測
狀態。 
表1. particle filter演算法[9] 
Generic Particle Filter Algorithm 
y Draw N samples from the importance distribution 
0: 1, 0:~ ( | )
i i
k k k y kx x xπ − ,  1,...,i N=  
y Assign the particle a weight, ikw  
1
1
1
( | ) ( | )
( | , )
i i i
i i k k k k
k k i i
k k k
p z x p x xw w
x x zπ
−
−
−
∝ , 1,...,i N=  
y Calculate the normalized importance weights 
1
i
i k
k N
n
k
n
ww
w
=
=
∑
,  1,...,i N=  
y Resample 
Draw N particles from the current particle set 
with probabilities proportional to their weights: 
1/ikw N= ,  1,...,i N= . 
另外，本計畫中提出智慧型的動態輔助定位
演算法如下： 
y 動態WLAN存取點選取 (Dynamical AP 
selection) 
y 基於微粒子濾波器之適應性區域搜尋
(Adaptive local searching, ALS) 
上述二個方法皆為 online 演算法，定位過程
中，存取點(AP)的動態選取可降低運算複雜
度，為達到此功能本計畫主要採用最強訊號-
最小差異 (Strongest and minimum variance, 
SMV)作為選取的依據；另一方面，當機器人
行動較緩和或是進入不合理區域時，區域搜
尋將被啟動並找出最合理的機器人所在位
置，並繼續定位。 
B. 動態路徑規畫與自動駕駛運送導引 
    本計畫實現之輪椅機器人提供運送服務
的架構如圖 11所示，當目的地已經輸入到系
統中，本計畫採用 Dijkstra’s演算法找出最短
距離的路線，其中路線是以事先建立的參考
站點串接所組成，且每一虛擬站點在地圖上
的位置為已知，各自站點間的距離也可事先
求得，因此在機器人運送的過程中，將依循
最短路徑規劃的站點順序作為小區域前進的
依據，並作為機器人行進的進度檢視，預先
規劃的站點以本計畫所實驗的場景來說，虛
擬站點事前規劃結果如圖 12所示[11]。 
 
圖 11. 機器人導航架構 
 
圖 12. 虛擬站點規劃結果 
搭配最短路徑規劃的結果，機器人會有參考
的行進方位，路程上會遇到許多動態環境的
狀況，本計畫提出以行為模式為基礎
(Behavior-based)的機器人自動導航模式，設
7 
 
著如圖 16所示，利用垂直掃描灰階的方
式可以找出停車格前線特徵。根據前線偵
測的結果，我們在附近搜尋垂直方向與前
線正交的邊緣處，如圖 17所示。 
 
圖 15. 停車方向偵測 
 
圖 16. 前線偵測 
 
圖 17. 側線偵測 
側線偵測的結果如圖 18所示， 
 
側線偵測結果 
y 即時停車軌跡規劃：由圖 18所示，機
器人攝影機底端座標以及所辨識出的
車格前線中點、底線中點，進行軌跡
取縣規，基於最小平方誤差法可以得
到一個二階之多項式，並轉換至世界
座標供機器人遵循前進。 
1 r 1 r 1L : Y =A X +B
2 r 2 r 2L : Y =A X +B
 
圖 18. 停車軌跡規劃 
y 機器人自動停車控制誤差定義：祭器人透
過路線規劃後，可以隨時回報目前與理想
路徑的差距，包括車格位置誤差以及機器
人前進方向誤差等兩個誤差項，如下圖
19所示。 
eθ
ye
 
圖 19. 機器人停車誤差定義 
y 基於模糊推論之機器人自動停車控制：由
上述定義之誤差項，我們設計如下圖 20
之模糊成員函數，模糊語句變數如“NM”、 
“NS”、“Z”、“PS”、“PM”分別定義如下：  
1) “NM”：signify negative middle 
2) “NS”：signify negative small;  
3) “Z”：in token of zero;  
4) “PS”：signify positive small 
5) “PM”：signify positive middle. 
9 
 
本系統提出之定位方法，若搭配 ANFIS之感
測器模型，其定位結果如表 4所示，在 2~5
個成員函數的狀況下都無法改進其誤差，約
保持在 2~2.5米左右。 
表 4. 搭配 ANFIS模型之機器人定位結果 
 
由於本系統總共以十種路線來驗證定位效
果，搭配所提出的 KDE-PF 方法外，亦與
ANFIS、K nearest neighbor(KNN)做比較，誤
差分析如下表 5所示。 
表 5. 搭配各種模型之各個案例定位誤差 
 
基於表 5 之結果，我們統計對應每一種模型
下之整體定位表現，如表 6 所示，本文所出
的 ALSPF，其定位精確度較其他方法更佳。 
表 6. 搭配各種模型之各個案例定位誤差統計 
Model Estimation 
Tracking Error (meter) 
Mean RMSE 
ANFIS  PF 2.2528 2.5004 
KNN  PF 1.5846 1.9342 
KDE  KF 2.7999 3.1883 
KDE  ALSPF 1.0278 1.1305 
B. 機器人自動停車服務實現結果 
    透過前章節所述之影像偵測演算法，針
對車格我們可以達到即時的車格擷取以及追
蹤，並提供虛擬路線進行追蹤控制，如圖 23。 
 
圖 23. 車格偵測結果與路徑規劃 
如圖 24所示，本系統使用視覺回授並利用模
糊推論進行控制，可自行抵達停車格中心。 
 
(a)     (b) 
 
(c)      (d) 
 
(e)    (f) 
 
(g)   (h) 
圖 24. 自動停車控制結果(停止條件 50公分) 
無研發成果推廣資料 
其他成果 
(無法以量化表達之成
果如辦理學術活動、獲
得獎項、重要國際合
作、研究成果國際影響
力及其他協助產業技
術發展之具體效益事
項等，請以文字敘述填
列。) 
參加旺宏金矽獎競賽獲得優等獎. 
 成果項目 量化 名稱或內容性質簡述 
測驗工具(含質性與量性) 0  
課程/模組 0  
電腦及網路系統或工具 0  
教材 0  
舉辦之活動/競賽 0  
研討會/工作坊 0  
電子報、網站 0  
科 
教 
處 
計 
畫 
加 
填 
項 
目 計畫成果推廣之參與（閱聽）人數 0  
