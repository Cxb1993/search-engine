I 
 
 
摘要 
 
   為落實居家生理監測與遠距醫療照護之整合性與實用性，並整合多項居家醫療儀器以達
到心血管疾病全面性監測，於第一次產學合作計劃特別提出以嵌入式系統技術，設計開發
一廣用型資料傳輸平台。其開發重點在於: (1)以 Linux 作為系統核心開發 ; (2)以 USB 介面
作為廣用型資料輸出入接口標準規格；(3)開發有線傳輸之連網界面，包括傳統撥接數據機
連網；寬頻 ADSL 連網；區域網路連網；(4)資料安全與資料壓縮技術。目前四大開發重點
除了符合開發進度要求，其已落實之成果也得到廠商之認可。 
    本次產學合作旨在進行功能升級計劃，目標有(1)顯示介面圖型化與語音化，有鑒於廣
用型資料傳輸平台能夠同時擴接最多 4 台居家醫療儀器，為讓使用者以友善之人機介面確
實掌握平台狀況，甚至容易接受平台指示引導，故以 TFT 彩色觸控面板取來原本文字型面
板並搭配音效模組。配合彩色面板與音效模組亦能進行多種彈性應用，例如影音教學之撥
放、醫護端及時視訊影像呈現。(2)擴充連網界面，增加 ADSL 與區域網路有線連網方式，
以及基於 GSM 基地台於各國架設之普及化之優勢，故本計畫規劃透過 GPRS 數據機進行無
線連網方式，透過可彈性選擇連網方式降低資料傳輸平台與遠端伺服器在連結時，可能遭
遇時間與空間上之限制。 
     
 
關鍵詞 ： TFT 彩色觸控面板、GPRS 模組 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
1 
 
人才培育成果說明 
   
有鑑於嵌入式系統在現今的電子科技產業已是不可忽視的一項關鍵技術， 然而台灣科技
業界卻面臨嵌入式系統人才不足的窘境，藉由本廣用型嵌入式資料傳輸平台系統的開發，
培育嵌入式軟韌體設計人才，培養開發人員具備嵌入式產品開發能力，進入相關產業服務
並提升產業競爭力，並以業界經驗協助學校培育嵌入式系統開發人才。目前有專門學習嵌
入式系統的大專院所及實驗室寥寥可數，學生多未能有系統的學習到嵌入式系統開發技
術。所以藉由業界拋磚引玉，將嵌入式系統實際應用於遠距居家醫療，可讓學生了解到嵌
入式系統之實用性，引發學生學習興趣。理論與實務結合，將通訊理論、資訊安全理論、
資料壓縮理論程式化，成為實際應用於通訊傳輸之技術。了具體解決遠距醫療所會遭遇的
問題，所提出之廣用型資料傳輸平台，以及開發過程中為提昇資料傳輸效率所開發之演算
法，可申請專利及發表論文。 
對於參與之工作人員，預期可獲之訓練 
1. 學習如何以嵌入式系統設計之概念，依系統開發之流程，整合理論與實務面，並學習
運用適當的軟體工具、軟體技術與專業知識，建製完備之系統。 
2. 建立資訊安全之觀念，學習網路通訊安全建置技術。 
3. 學習資料壓縮技術，減少資料傳輸時之冗餘性，有效減少資料傳輸時間。 
4. 學習如何將艱澀之專業技術以友善的方式呈現在使用者面前。 
5. 學習於以 Linux 為核心之嵌入式系統開發有線與無線連網功能。 
6. 增進與業界實務交流經驗及專業知識，以及教育實務工作者的經驗交流，擴展研究視
野。 
7. 可具體且深入了解遠距醫療之開發重點，可了解目前居家遠距醫療發展之現況與瓶頸
以及未來展望。 
8. 學習產品量產化設計思維。產品最終開發即量產，故須於設計開發時期即有量產的設
計考量，故於開發過程程式模組化、程式發佈前之最佳化、電路設計彈性化、元件選
用符合普遍易取得之特性，產品之人機介面須注意以人為出發點，使用者在接觸產品
時才不會產生距離感，這些都是在純研究中不容易接觸到之經驗與訓練。 
 
 
技術研發成果說明 
 
    我們已有成功開發第一代自製化簡易資料傳輸平台的基礎經驗，以及第一次產學合作
以嵌入式系統技術將第一代簡易平台做全面升級的經驗。在第一代自製簡易資料傳輸平台
中，將自行開發之居家使用心電圖機所測得訊號傳輸至遠端照護中心。第一代資料傳輸系
統，考慮到平台普遍性，故選擇以自製低成本資料傳輸平台方便建構於居家使用，心電圖
機傳輸生理資訊至資料傳輸平台採用 UART 接口，資料傳輸平台傳輸生理資訊至端照護中
心的方式，在普及率及硬體模組成本為優先考量條件下，採用傳統數據機透過電話線撥接
之模式進行資料傳輸。 
    此外整各傳輸機制，在考量銀髮族可能為最大使用族群，所以操作機制必須儘可能簡
化，所以使用者將居家醫療器材接上資料傳輸平台後，將資料傳輸平台電源開啟，並按下
3 
 
(5) 串列埠：三個三線式串列埠。 
(6) SD 卡介面：一個 SD/MMC  和 SDIO 設備。 
(7) 作業系統：支援 Linux 2.6.24 及 WinCE 5.0。 
(8) RTC 時鐘：由 S3C2440 內部集成。 
(9) 音效界面：採用 IIS 介面晶片 UDA1341，立體聲音效輸出介面可接耳機或音箱。 
(10) LCD 介面：支援彩色 TFT 螢幕，可支援 3.5 吋~10.4 吋。本系統使用 256K 色 350X240 
3.5 吋 TFT 液晶螢幕，附觸控功能。 
 
    此外中央處理器於軟體開發方面須完成之工作有，周邊硬體驅動、系統運作程式、
TCP/IP 協定、小型資料庫建置、資料加密、資料壓縮。 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
2. 廣用型輸入 
2.1 輸入介面規格規定 
    為達到居家醫療裝置接上資料傳輸平台後，能夠立即被偵測與識別，本計畫選擇以 USB
介面為共同傳輸接口，並以 USB 全速 HID(full speed HID)方式來同步資料傳輸。 
    由於多數醫療器材的 USB 接口，多為廠商自行設計開發，為方便達到在 Linux 平台上
完成 HID USB 驅動，並降低開發時間與成本，故採用 LIBUSB 非內核驅動方式完成 USB
裝置驅動。 
    USB 傳輸訊號正確與否可透過 USB 分析儀來進行解析，本計畫採用瑞普科技 Ellisys 
Explorer 2.0 USB2.0 協定分析儀，進行 USB 訊號解析。 
 
 
圖一、系統架構圖 
 
56K V90 
Modem 
TFT 3.5' LCM With Touch Panel 
1Gb NAND Flash 
ECG 
BP 
BGM 
Spo2 
RJ41 
 
 
 
4 Port USB HUB 
Speech Module 
RJ45 
 
 
 
ARM MCU 
Interface1 
NAND Flash Controller 
U
S
B
 H
O
S
T
1
 
U
S
B
 H
O
S
T
2
 
 
 
Interface2 
U
A
R
T
 
D
M
9
0
0
0
 
IO
 
 GPRS 
Modem 
5 
 
線上網際網路。以微軟作業系統為核心，無論是桌機系列所用如 Windows XP 或是行動設
備所用如 WinCE ，皆可輕易透過內建撥號精靈，對數據機進行驅動並連線上網，本系統採
用 Linux 為嵌入式系統核心，在開發上不如在微軟作業系統上容易，加上透過數據機撥接
上網屬於早期技術，以 Linux 為核心，進行數據機撥接上網的參考資源可說是寥寥可數。 
    首先先在桌上型電腦以 Fedora 這套商用 Linux 進行數據機撥接上網測試，由於 Fedora 
也可進行數據機撥接上網的設定，但流程比在微軟平台上複雜許多。在此先透過 Fedora 對
數據機做詳細連結測試，由於數據機模組是提供 UART 接口，所以需要透過一轉接卡將訊
號轉換成 RS232 訊號，然後才可以與電腦連結。之後數據機模組可以以 UART 接口直接與
嵌入式平台之 UART 接口做連結，不須再做電壓位準轉換。測試完成後部分核心可以轉編
譯到嵌入式平台。 
 
5. 儲存裝置開發  
    嵌入式平台重要的兩種儲存介面為 NOR Flash 以及 NAND Flash，NOR Flash 之作用
為系統開機使用(Booting system)，NAND Flash 存放嵌入式作業系統核心(Kernel)以及檔案
系統(File system)，本平台以 JFFS2 在 NAND Flash 上建立檔案系統，並規劃 NAND Flash 
剩餘之空間用來儲存生理資訊。此外同時開發驅動 Samsung S3C2440Ａ SDIO 介面，以針
對日後生理資訊日益龐大時，可以 SD 卡作為外接擴充介面。 
 
6. 資料庫建立  
    為有效管理多組醫療器材輸入之生理資訊，故於資料傳輸平台上建置一小型資料庫，
以便簡易達到資料管理功能。本計畫採用 SQLite 嵌入式資料庫軟體進行資料管理，SQLite 
有以下幾個優點：(1) 安裝空間小。(2) 備份方便。(3) 優異的效能。(4) 眾多語言支持。(5) 
跨平台。 
 
7. 資料安全  
    為了有效提昇資料於網路傳輸時之完整性與安全性，特別導入 SSL 安全通訊協定。SSL
是 Secure Socket Layer 的縮寫，它是一種架構於 TCP 之上的安全通訊協定 , 它可以有效
地協助 Internet 應用軟體提升通訊時的資料完整性以及安全性，是目前最普遍使用的安全
協定，且不需事先取得認證。 
 
8. 資料傳遞與呈現 
    資料傳送至伺服器端以 XML 之格式進行封裝。XML 為一可延伸性標示語言(eXtensible 
Markup Language)，可提供描述結構化資料的格式，這將有助於文件內容的宣告，並符合跨
平台的搜尋作業，此外，XML 也將是新一代網路資料呈現與運作的關鍵技術。 
 
9. 資料壓縮 
    資料壓縮採用霍夫曼編碼法(Huffman Encode)，此編碼法是霍夫曼在 1952 年所提出的
一種無失真壓縮技術，由於生理訊號代表著生理狀態，需確認資料資完整性，故採用無失
真壓縮技術。 
 
7 
 
 
2. 將嵌入式系統應用於醫療系統藉由嵌入式系統強大的管理能力、運算能力、可靠性以
及高可塑性，嵌入式系統應用於醫療系統是非常的適合。隨著醫療標準及使用需求的變化
下，嵌入式系統可在同一硬體系統架構下，建構不同系統模式，以符合各項需求及降低生
產成本，進而提高醫療產品的生命週期及可用度。 
推廣及運用的價值 
 居家遠距醫療於學術研究方面多是紙上談兵，未能符合實際需求，原因在於閉門造車
導致居家遠距醫療設計邏輯性不足。又或屬於條件設定性研發，可視為客制化設計，故廣
用性不足。所以藉由產學合作的機會，使得研究成果並非為研究而生，而是為解決實際遭
遇之瓶僅而提出解決之道。藉由與企業合作可得到研發資源與合作火花，並以務實之態度
將技術產品化，本次功能提升計劃更可將資料傳輸平台與通信業緊密結合，可望成為標準
規格並讓電信業者了解其發展潛力，期望因此能提供多種通信優惠方案，相信遠距醫療的
藍圖會愈趨具體完整。 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
  
99 年度專題研究計畫研究成果彙整表 
計畫主持人：林康平 計畫編號：99-2622-E-033-018-CC3 
計畫名稱：應用於居家醫療器材之廣用型嵌入式資料傳輸平台技術功能升級改進計畫 
量化 
成果項目 實際已達成
數（被接受
或已發表）
預期總達成
數(含實際已
達成數) 
本計畫實
際貢獻百
分比 
單位 
備 註 （ 質 化 說
明：如數個計畫
共同成果、成果
列 為 該 期 刊 之
封 面 故 事 ...
等） 
期刊論文 0 1 0%  
研究報告/技術報告 1 1 100%  
研討會論文 0 1 0% 
篇 
 
論文著作 
專書 0 0 0%   
申請中件數 0 1 0%  專利 已獲得件數 0 0 0% 件  
件數 0 0 0% 件  
技術移轉 
權利金 0 0 0% 千元  
碩士生 3 3 100%  
博士生 3 3 100%  
博士後研究員 0 0 0%  
國內 
參與計畫人力 
（本國籍） 
專任助理 0 0 0% 
人次 
 
期刊論文 0 0 0%  
研究報告/技術報告 0 0 0%  
研討會論文 0 1 0% 
篇 
 
論文著作 
專書 0 0 0% 章/本  
申請中件數 0 1 0%  專利 已獲得件數 0 0 0% 件  
件數 0 0 0% 件  
技術移轉 
權利金 0 0 0% 千元  
碩士生 0 0 0%  
博士生 0 0 0%  
博士後研究員 0 0 0%  
國外 
參與計畫人力 
（外國籍） 
專任助理 0 0 0% 
人次 
 
