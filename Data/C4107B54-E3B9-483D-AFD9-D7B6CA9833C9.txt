 1
研究內容： 
一、 動機及目的： 
近年來，由於通訊科技大幅進步與多媒體影音壓縮技術的成功發展，多媒體通訊市場已
有大幅度的成長，其中視訊通訊在實用性及經濟效益上，更顯得格外重要，使得視訊通訊
設備的實用性大為提高。在眾多的視訊壓縮標準如 H.261、H.263、MPEG 系列、WMV 等
[1-5]，每種視訊壓縮標準於訂定規格時各有其主要應用範疇考量，包括頻寬需求、解析度
需求、及計算複雜度等。而在視訊會議與視訊電話的應用上主要是希望能於傳統電話網路
上進行即時的人對人的影音通訊，由於傳統電話網路上低頻寬限制與即時性的要求，使得
視訊壓縮技術以支援較低資料量及較低解析度的低複雜度方法為主，而能符合這些要件的
視訊壓縮標準有 H.261、H.263。 
然而在視訊會議與視訊電話應用中，視訊方面主要的傳輸內容是以人臉為主體的影像，
而所採取的 H.261 或 H.263 系列視訊壓縮標準並未針對以人臉為主的視訊信號而特別設
計，因此在以人臉為焦點的視訊壓縮上其品質與效率並未能獲得很好的結果。倘若能在視
訊編碼之前，先利用臉部偵測定位技術找出人臉位置及範圍，然後在進行視訊編碼時對人
臉區域與其他背景區域採取不同的編碼策略，進而達到在資料量不增加或僅少量增加的情
況下，使得人臉區域有較佳視覺品質的結果，因此結合人臉定位技術的視訊編碼技術將會
更適合於視訊會議與視訊電話應用。 
  
二、 文獻探討 
與此計劃相關之研究可分成感興趣區域視訊編碼與臉部定位追蹤技術兩部份： 
z 感興趣區域視訊編碼：由於目前的視訊壓縮標準種類不少，如：H.261、H.263、MPEG-1、
MPEG-2、MPEG-4 、H.264，及 WMV 等，每種視訊壓縮標準各有其主要應用訴求及
各有其優缺點，分別針對不同頻寬的傳輸通道及不同解析度的顯示設備加以設計訂
定。但不論是何種視訊壓縮標準，均有相當多的研究在於發展能產生最佳品質的編碼
器技術。而以視訊電話及視訊會議為主要應用的 H.263 視訊壓縮標準，亦有類似的發
展，但大部份的研究均著重於編碼器本身如何利用較好的移動估算方法或較佳量化尺
度設定等方法以獲得更好的壓縮品質。目前在感興趣區域視訊編碼上的研究，主要是
以巨方塊(Macroblock)量化值的動態調整技術為主[6-9]，主要原因是為了與視訊壓縮標
準相容。 
z 臉部定位追蹤技術: 在人臉定位技術中，特徵擷取扮演相當重要角色，原因是要判定
人臉位置，必須先取得臉部的重要特徵才可以確定是否為人臉，一般來說大多數都採
用圖形識別(pattern recognition)技術來做辨識，一般圖形識別方法主要有三個步驟，分
別為物件分割(segmentation)、圖形萃取(pattern extraction)、和圖形分類(classification)。
通常會利用多項的萃取特徵判定該圖像上的物體，例如色彩資訊(color)、外觀形狀
(shape)、組織材質(texture)，透過這些資訊來辨識物體，再依照萃取的特徵做分類，最
後利用這些的資訊分析同時組成相關特徵條件以完成辨識動作[10]。 
近年來影像處理方面的應用層面跟著多樣化，人臉偵測定位技術方面領域研究人員也
不斷的投入研發，從一開始的灰階影像處理，到現在的彩色影像處理，都有不同技術
層面，在判定人臉偵測也就不同，如 Jiao[11]用皮膚顏色、邊緣檢測和 Gabor filter 篩選
出來皮膚的材質顏色，之後再過濾出可能膚色區域。在人臉偵測方式上，不外乎抽取
 3
後再依特徵強化搜尋對局部區域做特徵強化，並利用橢圓模板確認眼睛特徵，再針對特徵
的相對位置進行搜尋與比對，最後消除雜訊並定出臉部特徵位置及臉部位置。由於色彩分
割的處理方式係採用先前所提方法[22]不再贅述，僅就特徵強化搜尋及定位部分做一介紹。 
 
【圖 2】臉部偵測定位處理流程 
 
2.1 特徵強化搜尋及定位 
所謂特徵強化搜尋顧名思義就是以臉上的五官，如眼睛、嘴巴、鼻子、或眉毛，
針對特定特徵做強化並且做篩選動作，最主要的目的是從可能臉部區域做特徵強化之
後再搜尋出最佳的特徵位置，使得辨識率能夠達到最高。比對特徵的時候會因為頭部
會轉動、向上、向下及左右，再加上光線影響造成特徵變得不明顯，以至於較難定出
特徵位置，為了要改善這特徵的原因，我們可以利用色度關係強化特徵，以提高特徵
的明顯度。 
爲了可以更有效的找尋出特徵位置，我們利用色彩空間之中的 YCbCr，取出 rC 、
bC 色度做為特徵強化以方便搜尋特徵，在眼睛周圍部份其 bC 值較為偏高 rC 值則偏低，
至於嘴巴部分剛好相反， rC 值較為偏高而 bC 值偏低，但是其它特徵的 bC 、 rC 值則不
是那麼明顯或一致，所以我們可以利用 Hsu 等人所提方法[17]，對 bC 、 rC 做調整，以
提高眼睛及嘴巴特徵的色差變化。 
 
¾ 眼睛特徵強化 
依據眼睛特徵色彩分佈特性，針對亮度與色度進行強化，分別得到眼睛色度強化
圖及眼睛亮度強化圖，然後對此兩眼睛強化圖執行邏輯 AND 運算可得到眼睛強化圖。
由於在眼睛周圍部份其 bC 值較為偏高而 rC 值則偏低，所以眼睛色度強化圖以下列公式
計算： 
 5
H 分量做一維直方圖(1D histogram)計算。然後，根據前一步驟獲得的色彩直方圖將原
始圖像轉化成色彩機率分佈圖像。 
 
¾ Mean Shift 演算法 
MeanShift 演算法可以分為以下 3 步驟︰ 
Step1：選擇搜尋窗的大小和初始位置。此搜尋窗即是欲追蹤的初始臉部區域，可
由臉部偵測定位模組得到。 
Step2：計算色彩機率分佈圖像中搜尋窗的質心(centroid)(xc, yc)。計算方式為先計算
色彩機率分佈圖像 I(x, y)的 zeroth moment 00M 及 x, y 的 first moment 10M
及 01M ，公式如下： 
 ∑∑ ∑∑
∑∑
==
=
x y x y
x y
yxyIMyxxIM
yxIM
).,();,(
),(
0110
00
 
搜尋窗的質心則為 
( ) ⎟⎟⎠
⎞
⎜⎜⎝
⎛=
00
01
00
10 ,,
M
M
M
Myx cc  
Step3：重複 2 和 3，直到搜尋窗的質心位置收斂，即每次窗口移動的距離小於一
預設的臨界值。 
 
¾ CAMSHIFT 演算法 
CAMSHIFT 演算法是將 Mean Shift 演算法擴展到連續圖像序列。CAMSHIFT 演算
法可以分為以下 3 步驟︰ 
Step1：選擇搜尋窗的大小和初始位置。 
Step2：執行 MeanShift 演算法獲得 Search Window 新的位置和大小，並儲存該區域
的 zeroth moment。 
Step3：對下一畫面重複執行 Step 2 直到結束。 
 
3 結合感興趣區域與 H263+相容的視訊編碼法 
 為了要讓編碼結果與 H263+視訊壓縮標準相容且臉部區域有較佳的視覺品質，以及不
額外增加編碼的計算量，我們以最簡單的方式即利用對每個巨方塊(macroblock)依其是否包
含臉部區域調整其量化值的大小，屬於臉部區域的巨方塊將使用較小的量化值，非臉部區
域的巨方塊將使用較大的量化值，使得整體資料量不會因為臉部區域品質的提升而增加。
本計畫所採用的做法即配合 H.263+ TMN8[21]所採用的位元率控制方式，利用巨方塊失真
權重的調整達到量化值的設定。在 TMN8 中用來估測一巨方塊所須的位元數 iB 及失真程度
iD 的位元率控制模型如下： 
  ⎟⎟⎠
⎞
⎜⎜⎝
⎛ += C
Q
KAB
i
i
i 2
2σ                                         
  
12
2
2 i
ii
QD α=                                                
其中 A 為一巨方塊的點數，K 為模型參數其值為 2lne ， 2iσ 是動作補償後的差值影像一巨
 7
表 一、所提方法與 TMN8 方法平均 PSNR 的結果(單位：dB) 
PSNR of whole frame PSNR of face region  
TMN8 Proposed  TMN8 Proposed  
Claire 37.57 37.00 33.01 33.70 
Miss_america 37.57 37.03 34.02 34.88 
Carphone 33.86 32.19 32.79 34.86 
Foreman 30.99 30.19 31.31 33.08 
 
 
     (a)TMN8 for frame #48    (b) Proposed for frame #48 
     (33.14 dB)     (35.92 dB) 
    (c)TMN8 for frame #97    (d) Proposed for frame #97 
     (32.76 dB)     (36.07 dB) 
      【圖 3】Carphone 視覺品質的比較 
 
 
參考文獻 
[1] ITU-T Recommendation H.261, Video Codec for Audiovisual Services at p*64 kbits/sec, 
1993. 
[2] ITU-T Recommendation H.263 Version 2, Video Coding for Low Bit Rate Communication, 
1998. 
[3] ISO/IEC JTC1 CD 11172, Coding of Moving Pictures and Associated Audio for Digital 
Storage Media at up to about 1.5 Mbits/s, 1991 
[4] ISO/IEC Draft International Standard 13818-2, Information Technology-Generic Coding of 
Moving Pictures and Associated Audio-Part 2: Video, 1994. 
[5] ISO/IEC 14496-10 Information technology -- Coding of audio-visual objects -- Part 10, 
 9
[22] 陳奐彰，"結合膚色分割及特徵色彩強化之人臉特徵定位技術"，龍華科技大學電子工
程學系碩士論文 95年7月。 
 
計畫成果自評： 
1. 整體功能大致符合預期目標，另外由於人臉的偵測定位及追蹤其準確度很容易
受到外界干擾，故加入一手動模式當發現準確度變差時使用者可以手動標示出
起始臉部範圍及調整一些臨界值參數。 
2. 研究成果適合應用於以人臉為焦點的視訊傳輸應用。 
3. 研究成果之學術價值：碩士論文一篇，會議論文一篇。 
