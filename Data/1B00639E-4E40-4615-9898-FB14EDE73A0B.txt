II 
 
影像中人體物件自動追蹤之研究 
A Research on The Automatic Tracking of Human Objects in Video 
Sequences 
計畫編號：NSC 97-2221-E-214-059- 
執行期限：97 年 8 月 1 日至 98 年 7 月 31 日 
主持人：歐陽振森   義守大學資訊工程學系 
計畫參與人員：張曜麟、吳俊泓、陳文玲、陳平偉、陳勇志、許永政、林啟揚  
義守大學資訊工程學系 
中文摘要 
這幾年來，使用均值位移演算法於解決物件偵測問題已經引取相當大的注目。由於使
用色彩資訊來表示所追蹤物件之特性很很容易受到雜訊或光線變化干擾，因此傳統上以色
彩為基礎之均值位移演算法的適應性及應用性相當受限。本計畫中，我們提出一由自我建
構模糊分群演算法所產生之模糊色彩直方圖，用以減少光線變化對於均值位移演算法的影
響。實驗結果顯示，我們的方法相較於傳統均值位移演算法更具有強韌性，而且所增加的
計算時間是適當的。 
 
關鍵詞：均值位移追蹤、模糊分群、顏色量化。 
 
Abstract 
During recent years the subject of mean shift algorithm for object tracking using color 
information has received much attention. However the use of color information to characterize 
the tracked object is very sensitive to noisy interference and illumination changes. Thus the 
flexibility and applicability of conventional color-based mean shift tracking are limited. In this 
project, a fuzzy color histogram generated by a self-constructing fuzzy cluster is proposed to 
reduce the interference from lighting changes for the mean shift tracking algorithm. The 
experimental results show that the proposed tracking approach is more robust than the 
conventional mean shift tacking algorithm and the cost of increasing computation time is also 
moderate. 
  
Keywords: Mean shift tracking, fuzzy cluster, color quantization.
2 
 
cluster varies according to the target image. After performing the training phase, the fuzzy cluster 
is applied to calculate the features of the target model and target candidates. By the use of the 
trained fuzzy cluster, a RGB color pixel may be classified into more than one color bins with 
membership degrees to represent the grade of membership of the RGB color to the color bin, and 
then the fuzzy color histogram is computed by summing up all the membership degrees. 
1.1. The self-constructing fuzzy cluster 
In order to properly classify the color information, a sequential version of self-constructing 
fuzzy cluster is generated from the training data set, i.e. the target image, based on similarity tests. 
During the training phase, one data pattern is considered in each time. The similarity between the 
input pattern and the existing fuzzy clusters are calculated to decide whether to combine the 
considered pattern into the most similar existing cluster or to create a new cluster for the pattern. 
Once a new cluster is created, the corresponding membership function should be initialized. On 
the contrary, when the considered pattern is combined into the most similar existing cluster, the 
corresponding membership function of that cluster should be updated according to the statistical 
mean and deviation of the data points included in the cluster. After all the training patters are 
considered as above, we finally obtain a set of fuzzy clusters and corresponding membership 
functions.  
Suppose the considered unknown system contains n inputs nxxx ,...,, 21  and one output y . Let x
  be the input 
vector, i.e., x

= nxxx ,...,, 21 . A fuzzy cluster jC  is defined as a pair ( )(xG j
 , jc ) where )(xG j
  is the product of n 
one-dimensional Gaussian functions, i.e., 
 






 

n
i ij
iji
ijij
n
i
ij
mx
mxgxG
1
2
1
exp),;()( 

,  (1) 
where x =[ nxxx ,...,, 21 ], jm
  =[ nmmm ,...,, 21 ], and j  = [ nj ,...,, 21 ], denote the input vector, the mean vector, 
and the deviation vector, respectively, and jc  denotes the representative output of the cluster jC . Let J be the 
number of existing fuzzy clusters and jS be the size of the cluster jC  . Apparently, J is initialized as 0. 
Suppose we are given a set of input training instances, { t | t = ( p

, q ), 1≤  ≤N}, where p = 
[ 1p , 2p , . . . , np ]. For an instance t , )( pG j

 for each existing cluster jC is calculated, where 1 ≤ j ≤ J. An 
instance t  can pass the input-similarity test on cluster jC  only if 
 )( pG j  , 
where ,  ,10    is a predefined threshold. Then we calculate 
jj cqe   , 
for each cluster jC  on which instance t  has passed the input-similarity test.  
Two cases may occur in a training iteration. First, there are no existing fuzzy clusters on which instance t  has 
passed the input-similarity test. For this case, we assume that instance t  is not close enough to any existing cluster 
and a new fuzzy cluster 1 Jk  is created with 
,pmk
   
0  k , 
qck  , 
where 0  = [ 000 ,...,,  ] is a user-defined constant vector. Note that the new cluster k  contains only one 
member, instance t , at this time. Of course, the number of clusters is increased by 1 and the size of cluster k  
should be initialized, i.e., 
1 JJ  
4 
 
where y is the center of ellipsoidal region of the target candidate. The uth bin, )(ˆ ypu , of the adaptive color 
histogram for the target candidate is redefined as 


h
i
i
n
i
xfuh
xy
u Gkyp
1
)(
2 )()()(ˆ 

,               (6) 
where h is the bandwidth of isotropic kernel function k( ) and Gu( ) is the output of fuzzy cluster with the 
centroid um
  and the standard deviation u . 
2.3. Distance minimization 
After constructing the target model and the target candidate, tracking is performed using the 
mean shift algorithm. Given the tracking result centered at in the previous frame, mean shift is 
concerned with, in the current frame, an iterative optimization algorithm seeking the maximum 
Bhattacharyya coefficient between the target model and target candidate [10]. Therefore the 
weight function should be modified as 
   
k
u
σ
mxf
u
u
x u
ui
i
c
yp
qw
1
2)(
0
)(
ˆ
ˆ 
  .                (7) 
Thus the kernel is recursively moved from the current location 0y
 to the new location 
1y
 according to the relation 






h i
i
h i
i
n
i h
xy
x
n
i h
xy
xi
gw
gwx
y
1
2
1
2
1
)(
)(
0
0





 ,                   (8) 
where )(g  is the negative derivative of kernel function k( ). When the Epanechnikov profile 
kernel is used [10], formula (8) becomes 




h
i
h
i
n
i x
n
i xi
w
wx
y
1
1
1 

  
Let 01 yy
  and then compute again using formula (8) until |||| 01 yy   is less than a user-defined 
threshold or maximal iteration number reaches. 
3. Experimental Results 
Some video sequences are used to evaluate the performance and reliability of the proposed method for object 
tracking. In all experiments, RGB color space is used, and the target is selected manually in the first frame. 
Comparison is also made between the proposed (pro.) algorithm and the conventional mean shift algorithms with 
16x16x16 color bins.  
The shown frames of the specific test sequence in Figure 2 clearly indicate that the conventional mean shift 
tracking algorithm suffers from unreasonable color quantization and fail to track the moving object. By contrast, the 
proposed tracking approach works well. Figure 3 and Figure 4 show the tracking results for the same test sequence 
using the conventional mean shift algorithm and the proposed approaches, respectively. Both methods produce good 
tracking results; however, the average numbers of mean shift iterations necessary for each frame are 2.47 and 1.62, 
respectively. The proposed approach needs less mean shift iterations than the conventional algorithm to track object. 
In this case, the cluster number of the generated fuzzy color histogram is 5. 
The final experiment examines how robust the proposed approach against noisy interference. 
The tracking results of the sequence with random noise using the proposed approach are shown in 
Figure 5. The cluster number of the generated fuzzy color histogram also is 5 in this case and the 
average number of mean shift iterations necessary for each frame is 1.69. 
6 
 
 
Figure 4. Tracking results using the proposed approach. Shown are frames 1, 20, 30, 50, and 78. 
 
 
Figure 5. Tracking results for noisy sequences using the proposed approach. Shown are frames 20, 
30, 35, 45, 50, 60, 70, and 78. 
4. Conclusions 
In this paper a modified mean shift algorithm based on the fuzzy color histogram is proposed 
for object tracking. The fuzzy color histogram is generated via a self- constructing fuzzy cluster 
which has been trained according to all pixels of the target image. The use of fuzzy color 
histogram is able to reduce noisy interference such as lighting changes and quantization errors. 
Experimental results also show that the proposed tracking method is more robust and reliable 
than the conventional mean shift tracking algorithm. 
References 
[1] W. Hu, T. Tan, L. Wang, and S. Maybank, “A survey on visual surveillance of object motion and behaviors”, 
IEEE Transactions on Systems, Man, and Cybernetics-Part C: Applications and Reviews, Vol. 34, No. 3, pp. 
334-352, 2004. 
[2] T. Okada, S. Tsujimichi, and Y. Kosuge, “Multisensor vehicle tracking method for intelligent highway system”, 
Proceeding of the 39th SICE Annual Conference, Iizuka, Japan, pp. 291-296, 2000. 
[3] J. Besada, A. Soto, G. Miguel, and J. Portillo, “Design of an A-SMGCS prototype at Barajas airport: airport 
surveillance sensors bias estimation”, Proceeding of the 8th International Conference on Information Fusion, 
Philadelphia, USA, Vol. 2, pp. 1344-1350, 2005. 
[4] A. Bobick, S. Intille, J. Davis, F. Baird, C. Pinhanez,  L. Campbell, Y. Ivanov, A. Schutte, and A. Wilson, 
“The kids room”, Comm. ACM, Vol. 43, No. 3, pp. 60-61, 2000. 
[5] D. F. Stiefelhagen, “Towards vision-based 3-D people tracking in a smart room”, Proceeding of the 4th IEEE 
International Conference on Multimodal Interfaces, Pittsburgh, PA, USA, pp. 400-405, 2002. 
[6] S. Avidan, “Support vector tracking”, IEEE Transactions on Pattern Analysis and Machine Intelligence, Vol. 26, 
No. 8, pp. 1064-1072, 2004. 
[7] Q.Sumin and H. Xianwu, “Hand tracking and gesture recognition by anisotropic kernel mean shift”, Proceeding 
of the IEEE International Conference on Neural Networks and Signal Processing, pp. 581–585 , 2008.   
[8] K. Fukunaga and L. Hostetler, “The estimation of the gradient of a density function, with applications in pattern 
recognition”, IEEE Transactions on Information Theory, Vol. 21, No. 1, pp. 32-40, 1975. 
會議心得報告： 
※ 會議規模(請勾選)：■全球性  □ 區域性。 
與會國家／人數：約__37_____國／___383___人。 
一、研習心得 
2009 IEEE International Conference on Fuzzy Systems (FUZZ-IEEE 2009)為有關
模糊集合、理論、系統與應用之著名國際學術會議，由國際知名之學術出版單位 IEEE
定期於每年所舉辦，參加者涵蓋全球之學者。本次很榮幸能夠有機會在會議中擔任一
個 session (Soft Computing: New Trends, Advances, and Applications)的 chair，
並且發表論文，收穫可謂豐碩。參加會議的研習心得如下： 
1. 發表論文，獲得意見回饋：本次所發表的論文為有關於 type-2 模糊系統，這個主
題在近三年來極為受重視，主要是因為其相較於傳統的 type-1 模糊系統具有較佳
的表現。但由於計算複雜度較高，很多相關問題急待解決，因此，越來越多的學者
投入當中研究。本次論文所提出的方法，為一個完整的建構與學習之演算法。報告
過程中，受到與會的 20 幾位學者聆聽與提問，其中包括模糊理論領域相當知名的
學者 J. M. Mendel，其為 type-2 模糊理論的大師，在報告過程中也提問，並提供
幾個方向供我參考，因此，讓我在未來的研究有幾個方向可以思考。 
2. 主持 session，增加知名度及經驗：本次所主持的 session 為我所組織的，通過大
會的審核後開放對外徵稿，最後錄取六篇論文進行口頭報告，另有一篇為海報展
示。當天六位負責報告的作者皆到場，順利進行報告及討論。此外，另有十幾個學
者一起參與聆聽。由於主題為關於軟式計算的發展新趨勢、未來方向及應用，大家
討論都很熱烈及有興致。除了彼此交換意見之外，更互留名片以做為認識及日後聯
絡之用。因此，除了認識許多這領域方面的學者之外，更因此而擴展學校及個人的
研究知名度。此外，亦累積上台主持學術會議之經驗。 
3. 互相交流，增加研究的廣度與深度：每次參加學術會議，除了發表論文之外，透過
會議場合與來自全球各地的學者相互認識及討論，並交流學術研究成果與經驗，往
往是另一個重點。這次較特別的是認識來自美國南加州大學的 J. M. Mendel 教授，
他是 type-2 模糊理論與系統之先驅學者，除了開創其相關的研究理論基礎，相當
有名的 K-M 型態降階演算法便是由其所提出，發表過數十篇相關的期刊論文。目前
大部分的 type-2 模糊的研究，皆是基於其所提出的數種模型及演算法，影響可謂
相當深遠。除了接受其問題提問與意見指導，更在會後向其請教關於 type-2 模糊
系統的實際應用及其優點，Mendel 教授除了提出他自己的看法之外，更鼓勵我們
這些年輕的研究學者努力去探索其更多的理論及應用。從交談中，我獲得不少寶貴
研究經驗與方向啟發。 
4. 參加會議，獲得舉辦之經驗：本次會議屬於國際大型學術會議，從籌備、徵稿、審
稿、議程安排、會議開始及結束的整個過程與資料，我都盡可能地蒐集並了解，以
作為日後爭取並舉辦國際學術研討會之參考與經驗。 
綜合上述，出席此次會議，可以發表論文以將研究成果分享給與會學者，並增加自己
及學校的國際知名度與學術地位。此外，透過與其他學者之交流與討論，將可以了解
目前關於模糊的最新發展趨勢與問題，大幅增加研究視野與廣度。 
