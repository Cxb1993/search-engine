英文關鍵詞： Haptic, QoS, Wireless Networks 
 
1 
一、前言 
由於網際網路的蓬勃發展與行動及無線網路技術日新月異，在不久的將來，相信人類將生活在一個無
處不在的世界裡，需多的IT設備轉型為網路化，而原本的數位資訊服務也將雲端化，使他們能在任何
地點、任何時間均能為我們提供所需之服務。這一轉變加速了無處不在(ubiquitous)的演變，這一波的
演變，同樣發生在許多新的研究領域上。以機器人發展為例，繼第一代工業機器人，第二代個人機器
人後ubiquitous的技術啟動了第三代機器人，無所不在的機器人ubiquitous robot (Ubibot)，Ubibot能在無
處不在的空間中透過各種設備通過網絡為我們提供各種的服務。ubiquitous robot由三種形式：Software 
robot (Sobot), Embeded robot (Embot) and Mobile robot (Mobot)合併實體的感知，思維和行動。因此，近
年來的研究中，針對運用機器人技術傳遞人類感知之物理訊息等議題，為許多研究學者與研發團隊所
熱切討論。 
然而，在物聯網(Internet of Things, IOT)概念的問世，打破了之前的傳統思維。過去的思考邏輯一
直是將物理機件、感應設備和IT技術分開：一方面是機器人、感測器、微處理器，而另一方面是資訊
服務、數據中心、網際網路等。而在IOT時代，機器人、感應器、微處理機與資訊服務、訊息中心、
網路整合為統一的機制。換而言之，IOT代表著未來資訊技術在運算與溝通上的演進趨勢，而這樣的
演進過程中將會需要各式各樣領域的技術及科技創新來帶動，小從奈米科技、大至城市無線網路的佈
建，其影響範圍相當廣泛。從發展趨勢來看，物聯網的發展可分為「時間」(Time)、「地點」(Place)
與「物件」(Thing)三個方面，隨著物聯網發展的趨於成熟將創造出所有物件皆可在任何時間、任何地
點相互溝通的環境。其涵蓋了「人與人」、「物件與物件」及「人與物件」三大範疇。因此，在本研
究計畫中，即是利用國際電信聯盟(International Telecommunication Union, ITU)於2005年所發布的報告
「The Internet of Things」中所提出之概念，在網路化的時代下，除了人跟人之間可以透過網路相互聯
繫、人也可透過網路取得物件的資訊外，物件與物件之間可以互通的網路環境之構想，利用網路發展
人類與機器將相互感知互動之研究。目前藉由網路傳輸來達到的互動方式多數為聽覺與視覺兩種。而
且大多數的通訊網路與網際網路技術，在研究議題與協定設計上也多是朝向此兩種互動方式做強化與
結合，如網路電話、串流視訊、圖形壓縮、即時簡訊等資訊，但顯然這些並無法滿足人類在其他感官
知覺的需求。因此在未來，如何利用網際網路技術使人類能利用天生的感知能力做相互間的訊息交換
是一個極具有潛力的應用領域。 
近來利用網路發展人類感知互動的相關研究，因網際網路技術的進步而與日俱增，在醫學、軍事
和製造等方面都可以看見其應用，如醫生使用遠程醫學替病人進行檢查或手術，居家看護協助行動不
便的老人或傷殘者，探測船執行外太空或深海探索，機器手臂從事危險性的任務，遠程生產過程、設
備和產品的監控與維護等，像這些應用可通稱為遠端操作 (Teleoperation)，而利用網路的互動交流，
如何將Teleoperation之資訊呈現到操作者端，其技術稱之為遠端呈現 (Telepresence)，由於網路技術之
普及與蓬勃發展，Telepresence已成為遠端操作中相當重要的一部份，遠端呈現能夠將遠方受控端(如
機器人)的即時狀態傳送回操作者，使操作者能了解被控端之最新資訊以便回應。而Telepresence最常
使用的技術就是視覺回饋，經由被控端所裝載之攝影機直接攝取影像或透過虛擬實境  (Virtual 
Reality，VR) 模擬來達成視覺的回饋。然而，利用觸覺回饋 (Haptic feedback)作為Telepresence的資訊
回饋，近來已被許多研究團隊所重視。如遠端手術 (Telesurgery) 僅提供視覺的回饋是遠遠不足的，因
此經由觸覺感知 (Haptic) 的觸覺回饋，精確的將手術刀的物理資訊即時反映回醫師所操作的控制機件
上，如此才能達到更為真實與準確呈現遠端手術的基本要求。除此之外，在網際網路的發展趨勢上，
具有觸覺回饋之應用也越來越多，僅傳送人類的視覺和聽覺等相關資訊已不足以應付未來使用虛擬實
境在網際網路上的應用，利用人與人間的觸覺反饋的變化所帶來的資訊交流與思想傳遞，將會比僅僅
利用視覺或聽覺而言，更加的使人印象深刻。因此如何加入人類的其他感知能力，如觸覺反饋等資訊
3 
和製造等方面都可以看見其應用，如醫生使用遠程醫學 (Telemedicine) [1], [2]替病人進行檢查或手
術，居家看護協助行動不便的老人或傷殘者，探測船執行外太空或深海探索，機器手臂從事危險性的
任務，遠程生產過程、設備和產品的監控與維護等，像這些應用可通稱為遠端操作 (Teleoperation) [3], 
[4]。利用網路的互動交流，遠端呈現 (Telepresence) 已成為遠端操作中相當重要的一部份，遠端呈現
能夠將遠方的相關狀態傳送回來，視覺回饋是最廣為使用之技術，操作者可由裝置在被控端之攝影機
直接將影像或者間接透過回傳資訊在虛擬實境 (Virtual Reality，VR) 中模擬來達成。觸覺回饋 (Haptic 
feedback) 在遠端操作的應用上，可實現遠端機器人在遠端操控下的力回饋狀態，協助操作者控制遠端
機器人完成任務。操作者利用一個具有力回饋機制的操控器，送出相關命令(位置、速度、力量)，藉
由網路傳給遠方的受控端，遠方受控端再將於當地環境的即時視覺與觸覺的訊息回饋到控制端，如遠
端手術 (Telesurgery) [5]。遠端手術僅提供視覺的回饋是遠遠不足的，應該經由觸覺感知 (Haptic) 的
力回饋，精確將手術刀的力回饋即時回饋至醫師所操作的控制機件上，如此才能達到更為真實與準確
呈現遠端手術的基本要求。 
  
 
圖一、適用於分散式觸覺感知訊息回饋的網路系統架構 
第一個遠程手術系統是由Dr. Green, Stanford Research Institute, California, USA, 1992。除了一般的
獨立式遠端虛擬環境系統，近來的研究[13], [14], [15]也致力於將分散式的虛擬環境實際應用於網際網
路技術之上，期擴展其應用範圍與節省線路佈建之成本。因此，分佈式虛擬環境（Distribute Virtual 
Environment : DVEs）經由網際網路的連結，使用者將能夠通過互動式的環繞音效與3D視覺效果感知
周圍環境情境。最近，觸覺感知技術已被開發並應用於虛擬環境之中[6][7]，使用者可以與虛擬物體通
過觸覺感知來達到交互運作。除了分享虛擬世界，雲端虛擬環境（Cloud Haptic Virtual Environment: 
CHVEs)可以更適合用於遠端互動式操作，如遠程手術和遠距離操作是兩個DHVEs的運用例。然而， 較
為特殊的是CHVEs是一個提供多使用者的雲端虛擬環境，每個使用者使用分散式結構進行觸覺感知的
協作作用並共享一個虛擬的環境(如圖一中所示)。 
 
利用網際網路傳輸觸覺感知資訊 
現今應用DHVES的服務越來越多，而且遍及於許多不同領域中，其中包括：遠端照護，遠程教育，
工業訓練、化學實驗等。因此如何針對DHVEs的應用，讓網路傳輸效率更能符合DHVEs的需要是非常
重要的研究議題。在近來的研究中[8], [9], [10], [11]，初步已經成功的將DHVEs應用於網際網路之上，
5 
 
圖二、使用 Haptic 觸覺回饋設備控制電腦中所呈現的虛擬實境 
 
在圖二中，使用 DHVEs的互動過程中，網路的傳輸品質將直接影響人類的觸覺回饋的感受。例如，
較長傳輸延遲，將令使用者認為電腦中的虛擬物體與它在虛擬環境座標的之前或之後，因為當使用者
使用 Haptic去控制虛擬物體接觸周遭牆壁時，其力回饋設備將會因虛擬環境的設定，回饋使用者阻礙
前進的力量，但因為傳輸延遲的緣故，使用者將會接受到延遲的回饋訊號，導致使用者認為虛擬物體
已經進入或穿過四周牆壁，因為傳輸延遲將導致虛擬環境物件的協調性產生延遲。Jitter傳輸抖動將令
使用者覺得虛擬物體的材質發生變化，如摩擦兩虛擬物體表面所產生的摩擦回饋發生改變，使系統不
穩定。與[3.1]所不同的，[3.1]的實驗平台是建立於高速光纖網路 (Gigabit Ethernet Fiber Optic Link) 之
上，然而，本研究乃是要將無線區域網路 (IEEE 802.11-based networks) 作為傳輸平台，除上述之封包
延遲、抖動等因素之外，仍須考慮到無線網路之傳輸特質，如訊號品質、傳輸速率、背景干擾、頻道
競爭等等因素，因此本研究計畫必須自行建立一套無線 DHVEs 測試平台，相關的實驗數據將可做為
開發無線觸覺回饋 QoS機制的重要依據。 
 
無線區域網路之架構：有基礎網路與無基礎網路兩種架構 
依照無線傳輸的架構分類，有可以區分為無基礎架構網路或有基礎架構網路兩種。在無線區域網
路可大致分為無基礎架構網路與有基礎架構網路。無基礎架構網路指的是基本服務區內沒有擷取點 
(Access point: AP) 與其他的有線或無線區域網路聯結，反之則為有基礎架構的網路。在 802.11無線區
域網路中的工作站必須經由 802.11 媒介存取控制協定 (Media access control: MAC) 來取得無線傳輸
媒介的傳送權以傳送資料，802.11 媒介存取控制協定包含有分散式協調機制(Distributed Coordination 
Function : DCF)與集中式協調機制 (Point Coordination Function : PCF)。分散式協調機制就是
CSMA/CA(Carrier Sense Multiple Access with Collision Avoidance) 機制，工作站必須感測傳輸媒介閒置
了一段特定時間後才能傳送資料，每個工作站都有相同的機會競爭到傳輸媒介的傳送權。而集中式協
調機制則是由一個稱為集中協調者的裝置經由輪詢的方式決定那個工作站何時有權利傳送資料。透過
上述兩種無線網路架構作為比較數據傳輸間時間之差距，並評估使用者的觸覺回饋找出較好的網路傳
輸架構作為下一階段的指標。 
 
觸覺感知回饋之無線網路封包的擷取收集與分析 
在本計畫中，分析無線觸覺感知回饋之資料流將經由無線網路封包來進行無線區網網路
的資料分析，因此成功擷取無線網路中的封包便是首要的任務。 
7 
 
圖四、PHANTOM Omni 模組 
 
為了收集與分析 DHVEs 的各種模式下的傳輸特徵，因此本研究需要建立運行 DHVEs 應用的實
驗平台。 
 
研究重點二、觸覺感知回饋機制之系統建置 
本計劃藉由無線感測網路連接DHVEs，並開發適用於無線DHVEs的QoS機制使觸覺代理機器人能
順利回饋其觸覺資訊。因DHVEs為新興研究議題，截至目前為止仍缺乏應用在無線網路的相關研究，
因此必須廣泛蒐集現有DHVEs在高速有線網路的相關研究。將這些資料中歸納出有關測試平台之建置
方式、建議、需求、實驗瓶頸等資料。此外，對於現有無線網路的QoS機制，亦須同步蒐集相關資訊，
作為本計劃實驗平台開發之依據。 
使用 DHVEs 的互動過程中，網路的傳輸品質將直接影響人類的觸覺回饋的感受。例如，較長傳
輸延遲，將令使用者認為電腦中的虛擬物體與它在虛擬環境座標的之前或之後，因為當使用者使用
Haptic去控制虛擬物體接觸周遭牆壁時，其力回饋設備將會因虛擬環境的設定，回饋使用者阻礙前進
的力量，但因為傳輸延遲的緣故，使用者將會接受到延遲的回饋訊號，導致使用者認為虛擬物體已經
進入或穿過四周牆壁，因為傳輸延遲將導致虛擬環境物件的協調性產生延遲。Jitter傳輸抖動將令使用
者覺得虛擬物體的材質發生變化，如摩擦兩虛擬物體表面所產生的摩擦回饋發生改變，使系統不穩
定。多數的實驗平台是建立於高速光纖網路 (Gigabit Ethernet Fiber Optic Link) 之上，然而，本研究乃
是要將無線感測網路作為傳輸平台，除上述之封包延遲、抖動等因素之外，仍須考慮到無線網路之傳
輸特質，如訊號品質、傳輸速率、背景干擾、頻道競爭等等因素，因此本研究計畫必須自行建立一套
無線 DHVEs 測試平台，相關的實驗數據將可做為開發無線觸覺回饋 QoS機制的重要依據。 
 
DHVEs的 Server/Client動作模式分為同步與非同步兩種模式 
在系統設計上，DHVEs 的動作模式可區分為同步或非同步兩種。如圖五所示，兩端 Phantom omni
是以 Server/Client 方式運行，在同步模式下，Client 僅接受來自 Server 端的位置更新資料，每次來自
Server 的更新資料將只紀錄 Client 在上一次位置與此次位置之間之變化，Client 僅需更新其位置變化
量即可到達該封包指定之位置。然而，在非同步模式下，Phantom omni均為獨立作業之模式，每次資
料是以當前實際位置為依據，而不再計算與前次位置之間之差距。 
9 
同時傳輸。方程式(2)，Pr,m,s可以代表在 r傳輸速率、m調變機制下之傳輸成功率。 
n
m
n
mm
trmr
n
mm
smr
n
p
np
)1(1
)1()1( 1
,,
1
,, τ
ττττ
−−
−=−=
−−
 .................................................................................... (2) 
而 Pr,m,idle可表示為在 r傳輸速率、m調變機制下之時槽閒置機率。 
n
midlemrP )1(,, τ−=  ........................................................................................................................ (3) 
我們假設 Tr,m,s(l) 為在 r傳輸速率、m調變機制下成功傳輸 l bytes 之 MAC訊框所需時間。因此
整體 Throughput可以用方程式(8)來表示。 
⎟⎟⎠
⎞
⎜⎜⎝
⎛
⋅−⋅
+⋅⋅+⋅
⋅⋅⋅=
)()1(
)(
8
,,,,,,
,,,,,,,,
,,,,
lTpP
lTPPP
lPP
S
cmrsmrtrmr
smrtrmrsmrmidlemr
trmrsmr
σ  ................................................................................ (4) 
 
圖七、CSMA/CA中 Throughput與 Content Window之關係 
11 
表一、模擬環境設定 
Parameter IEEE 802.11b 
Transmission Power 15dBm 
payload size 34 bytes 
Packet Interval 1m s 
Data transmission Rate 1Mbps 
Simulation Time 10 minute 
 
圖十為在具背景干擾環境的無線網路下 Haptic封包傳輸 Throughput分析。當 BER低於 10-5時，
其 Throughput 約為 270Kbps, client與 server能正常建立連線，並開始傳送筆尖的三維座標給對方，而
由於理想環境下較無干擾存在，封包傳輸狀況皆良好，封包數量維持在將近 1000 個封包，直到 41 秒
client主動與 server中斷連線，結束封包傳輸，同時如圖十一中所示，當 BER低於 10-5時，其 End-to-End 
delay 也維持於 65ms~89ms。然而，當 BER增加至於 5*10-5時，其 Throughput 將大幅降至為 215kbps，
其 End-to-end delay 也提升至 1.3sec。當 BER增加至 10-4時，其 Throughput將持續降低至 125kbps，平
均 end-to-end delay 與持續提升至 3.5sec。 
圖十二為非理想環境下的封包傳輸延時抖動之分析，在大約 0 至 1 秒的期間，client 尚未連接至
server，因此封包傳輸量為 0，而大約在 1秒後，client與 server建立連線，BER低於 10-5時，能將 10000
個封包從 1秒至 11秒這段期間完整傳輸完成，並且在封包 Jitter的變動也呈現較小的結果。然而，隨
著，BER 增加，UDP 封包的傳輸受到干擾而呈現訊號不穩定之狀況，因此封包傳輸 Jitter 變動開始增
加，當BER增加至於 5*10-5時，1000個封包約花費 14秒方能完成傳輸，其平均 Jitter 也提升至 0.0005sec
左右。當 BER增加至 10-4時，其傳輸時間將持續提升至 16秒，平均 Jitter也同時提升至 0.0016sec。其
主要原因是當 BER 較高時，傳輸受到干擾造成封包傳送失敗，因封包在 MAC layer 重傳產生較大的
End-to-end delay與 Jitter。 
 
1E-4 5E-5 1E-5 5E-6 1E-6 0
0
50
100
150
200
250
300
Th
ro
ug
hp
ut
 (K
bp
s)
Different Bit Error Rate
 Throughput (Kbps)
 
圖十、不同 BER情況下的 Throughput 
 
13 
 
 
圖十三、Haptic透過Wifi溝通之實驗環境 
 
表二、接收端在理想通道與非理想通道中所接收到的訊號強度 
 接收端所接收到的訊號強度 
理想通道 -15dBm至-17dBm 
非理想通道 -85dBM至-92dBm 
 
 
圖十三、理想通道的封包傳輸狀況 
 
 
圖十四、非理想通道的封包傳輸狀況 
 
 
15 
結論 
本研究的主要目的是以無線網路品質服務保證機制為基礎，運用分佈式觸覺虛擬環境（Distribute 
Haptic Virtual Environment: DHVEs) 的技術，開發出適合運行於無線網路環境的觸覺感知訊息回饋系
統。這項研究將有助於結合無線網路與分散式觸覺虛擬環境，將無線網路之便利性及移動性等優點融
入分散式觸覺虛擬環境，提供更符合人類感官天性的多樣式網路互動。 
近來，在國外已有越來越多的研究證明觸覺感知技術能開發並應用於網際網路環境之中，使用者
可以與虛擬物體通過觸覺感知來達到交互運作。除了分享虛擬世界，分佈式虛擬環境（Distribute Haptic 
Virtual Environment: DHVEs)可以更適合用於遠端互動式操作，如遠程手術和遠距離操作是兩個 DHVEs
的運用例。然而， 較為特殊的是 DHVEs是一個多使用者的分佈式虛擬環境，每個使用者使用分散式
結構進行觸覺感知的協作作用並共享一個虛擬的環境。現今應用 DHVES 的服務越來越多，而且遍及
於許多不同領域中，其中包括：遠端照護，遠程教育，工業訓練、化學實驗等。因此如何針對 DHVEs
的應用，讓網路傳輸效率更能符合 DHVEs的需要是非常重要的研究議題。在本研究中，已初步已經成
功的將 DHVEs應用於網際網路之上，透過 TCP/IP在無線網路進行雙向傳輸，截至目前為止，本團隊
是首先將觸覺感知回饋機制結合於無線網路的相關技術之上，未來將持續到入如 IEEE 802.15.4無線感
測網路、IEEE 802.16eWiMAX、LTE等相關無線傳輸技術。 
在分佈式觸覺虛擬實境(Distribute Haptic Virtual Environment: DHVEs)，透過分散式網路連接實現
端點到端點間遠端觸覺的相互交互運作，其傳輸與應用之特性如能結合無線隨意網路 (Ad-hoc) 網路構
架，將可發揮其點對點傳輸與分散建構之精隨，並大幅提高 DHVEs的靈活性與移動性。此方面研究將
可利用 DHVEs應用於視障者導航系統，透過無線網路的觸覺回饋將使用者的觸覺作大幅延伸，藉著圍
繞在視障者周圍的感測裝置，將附近的環境以力回饋搖桿將資訊傳達給視障者，如此視障者將可以知
道前進路徑所將遇到的阻礙，無線網路結合力回饋裝置將大幅增加了操作時的便利性及移動性。 
 
17 
[17]. L. Cong and W. Zhuang, “Hybrid TDOA/AOA Mobile User Location for Wideband CDMA Cellular 
Systems,” IEEE Transactions on Wireless Communications, Jul. 2002. Page(s): 439 - 447 
[18]. T. S. Rappaport, Wireless Communications: Principles and Practice. Englewood Cliffs, NJ: Prentice-Hall, 
1999. 
[19]. Z. Guo, Y. Guo, F. Hong, X. Yang, Y. He, Y. Feng, and Y. Liu, “Perpendicular intersection: Locating 
wireless sensors with mobile beacon,” in Proc. IEEE RTSS, 2008, pp. 93–102 
 
 
2 Tsung-Han Lee, Yu-Jhong Fu, Lin-huang Chang 
equipment and high-level equipment access control and other applications. It is not 
helpful without recording the location of sensor nodes.  
In many outdoor location applications, configure a GPS receiver to assist 
positioning of sensor nodes needs. However, the cost is too high and each sensor node 
has a considerable degree of GPS positioning errors that leading to a large gap of 
location information of sensor nodes. The current localization algorithms can be 
broadly divided into two types: 1) Range Based, the main use of distance or angle 
information to calculate the positioning information. 2) Range Free [7] [8] [9], 
without the need to obtain precise information on the distance and angle to estimated 
the node location. Range Based location methods have Time of Arrival (TOA), Time 
Difference of Arrival (TDOA), Angle of Arrival (AOA), Received Signal Strength 
Indicator (RSSI), [2] [3] [4] [5] [6]. Range Based technique in location has more 
accurate results than the Range Free, but the hardware devices need more accurate. 
Therefore, the hardware development cost is relatively high. The comparison between 
Range-free and Range-based localization schemes, Range-free do not need expensive 
equipment in the hardware device, which followed by receiving the beacon 
information to calculate the distance between other sensor nodes. Thus, in general, in 
the case of the physical layer allows, the more beacon nodes will make it more precise 
location.  
In [2]-[9], the majority of the localization algorithms are based on two-dimensional 
space for discussion. But the real-life applications are based on three-dimensional 
space, such as natural disaster monitoring, search for personnel location systems. The 
two-dimensional location algorithm use for the three-dimensional space could have 
large different. The Range-free three-dimensional location algorithm has been 
proposed in [10] [11]. They also used flying anchors and GPS receiver, and these 
flying anchors broadcast their location messages continuously. According to the 
location messages, the surrounding nodes are able to calculate their own position. The 
multiple flying anchors broadcast their GPS position message parallel. Other sensor 
nodes calculate their own position according to the position messages. However, the 
resources of wireless sensor node (i.e., the performance of microprocessors, memory 
size, etc.) are very limited. The complicated computation for localization may exceed 
the computational burden of sensor nodes. Furthermore, the energy consumption of 
WSN nodes could increase, because of each location unaware node receive position 
location message continually.  
In this paper, the single mobile anchor with a GPS receiver to coordinate its own 
position in unknown territory. The mobile anchors can fly through the sensing space 
to collect beacons from location unaware sensor nodes, and calculate the accuracy 
position through the Secant Location Estimation Algorithm (SLEA) in the three-
dimensional coordinate system. There is one of example on mountain rescue 
application, each hiker has one WSN transmitter which broadcasting beacon message 
periodically. The single mobile anchor is suitable for track, search and location for the 
lost constant hikers by using the proposed localization algorithm in this paper. 
The remainder of the paper is organized as follows; in section 2, we describe our 
assumptions and the details of the proposed technique. Simulation results are 
presented in section 3. Section 4 concludes the paper. 
4 Tsung-Han Lee, Yu-Jhong Fu, Lin-huang Chang 
Due to four virtual reference points have same distance to node S. In Secant 
Location Estimation Algorithm, the coordinate of (x1, y1, z1), (x2, y2, z2), (x3, y3, z3) 
and (x4, y4, z4) are learned from GPS devices. Thus, from equation (1) to (4) are 
equal. We can obtained xs, ys, zs, from equation (5) which presents the coordinate of 
location unaware sensor node S (xs, ys, zs). 
 









−+−+−=
−+−+−=
−+−+−=
−+−+−=
2
4
2
4
2
44
2
3
2
3
2
33
2
2
2
2
2
22
2
1
2
1
2
11
)()()(
)()()(
)()()(
)()()(
sss
sss
sss
sss
zzyyxxd
zzyyxxd
zzyyxxd
zzyyxxd
 (5) 
3 Simulation Results 
In this section, simulation results are presented for SLEA scheme in the 3D 
coordinate system. A 500 * 500 * 500 m3 simulation environment was developed 
using the Qualnet developing library [12]. 50 location unaware sensor nodes were 
randomly deployed in the sensing field with zero altitude. Each target node uses the 
fixed transmission power (2mw) broadcast beacons at regular intervals (0.1sec). The 
radio propagation model was based on Free-space propagation model. The mobile 
anchor node was placed in the center of the simulated field in the beginning. The 
moving speed of mobile anchor is around 1 meters/sec. The other parameter settings 
for the simulation are summarized in Table 1. 
Table 1. Secant location simulation parameters 
Transmission frequency 2.4GHz 
Interference model NO 
Pathloss model Free space 
RSSI (dBm) -85 ～ -70 
Beacon (s) 0.05、0.1、0.3、0.5、0.7、0.9 
 
Figs. 2 and 3 illustrate the location error simulation results. Figure 2 represents the 
relationship between the received signal strength and the location error distance. The 
result shows the inverse proportion between the RSS value and the location distance 
error in SLEA scheme. It is because that the lower signal strength has higher 
sensitivity form background noise. Figure 3 shows the relationship of the received 
signal strength and the location error ratio. The location error ratio of SLEA is around 
2% in o.1 seconds beacon interval, which represents a constant distribution inside the 
transmission range. The higher beacon interval results higher distance error. In the 
other hand, the shorter beacon interval will cause higher energy subsumed in beacon 
transmission. 
6 Tsung-Han Lee, Yu-Jhong Fu, Lin-huang Chang 
beacon interval. The relocation of any node can easily be done if detected within the 
node’s beacon transmission range. The adaptability of the SLEA scheme for the 
variable communication range makes it more suitable for deployments leading to 
patchy regions. The error-prone channel condition can be considered as a future work. 
Acknowledgements  
This work was supported by National Taichung University research grant 
NCTU99102 and NSC research grant 100 - 2221 - E - 142 – 002. 
References 
1. Wei Xin, Wang Quandi, Yang Chenghe, Yang Yongming, “A Three-dimensional Node 
Localization Algorithm of High-precision in Wireless Sensor Network,” ICIT '09 
Proceedings of the 2009 IEEE International Conference on Industrial Technology, 2009.J. 
Clerk Maxwell, A Treatise on Electricity and Magnetism, 3rd ed., vol. 2. Oxford: Clarendon, 
1892, pp.68–73. 
2. L. Cong and W. Zhuang, “Hybrid TDOA/AOA Mobile User Location for Wideband CDMA 
Cellular Systems,” IEEE Trans. Wireless Comm., vol. 1, no. 3, pp. 439-447, July 2002.K. 
Elissa, “Title of paper if known,” unpublished. 
3. M. McGuire, K.N. Plataniotis, and A.N. Venetsanopoulos, “Location of Mobile Terminals 
Using Time Measurements and Survey Points,” IEEE Trans. Vehicular Technology, vol. 52, 
no. 4, pp. 999-1011, July 200Y. Yorozu, M. Hirano, K. Oka, and Y. Tagawa, “Electron 
spectroscopy studies on magneto-optical media and plastic substrate interface,” IEEE Transl. 
J. Magn. Japan, vol. 2, pp. 740–741, August 1987 [Digests 9th Annual Conf. Magnetics 
Japan, p. 301, 1982] 
4. N. Patwari, A.O. Hero, M. Perkins, N.S. Correal, and R.J. O’Dea, “Relative Location 
Estimation in Wireless Sensor Networks,” IEEE Trans. Signal Processing, vol. 51, no. 8, pp. 
2137-2148, Aug. 2003. 
5. Xiaobo Zhou, Liqiang Zhang and Qiang Cheng. (2006) “Landscape-3d: A robust 
localization scheme for sensor networks over complex 3d terrains,” In Proc. 31st IEEE 
International Conference Local Computer Networks, pages 239--246, November, 2006. 
6. Davide Merico and Roberto Bisiani. (2006) “Positioning, localization and tracking in 
wireless sensor network,” Technical report, DISCo, NOMADIS, March, 2006. 
7. Davide Merico and Roberto Bisiani. (2006) “Positioning, localization and tracking in 
wireless sensor network,” Technical report, DISCo, NOMADIS, March, 2006. 
8. Yu-Chee Tseng, You-Chiun Wang. (2008) “Distributed deployment scheme in mobile 
wireless sensor networks to ensure multi level coverage,” In IEEE Transactions on Parallel 
and Distributed Systems, pages 1280--1294, September, 2008. 
9. Jiang Jin, Yi Wang, Chen Tian, Wenyu Liu and Yijun Mo. (2007) “Localization and 
synchronization for 3d underwater acoustic sensor networks,” In Springer, Ubiquitous 
Intelligence and Computing 2007, pages 622--631, Hong Kong, China, July 2007. 
10. Chia-Ho Ou and Kuo-Feng Ssu. (2008) “Sensor position determination with flying anchor 
in three   dimensional wireless sensor networks,” In IEEE Transactions on Mobile 
Computing, pages 1084--1097, September 2008. 
12. QualNet simulator, http://www.qualnet.com/. 
In this paper, the single mobile anchor with a GPS receiver 
to coordinate its own position in unknown territory. The mobile 
anchors can fly through the sensing space to collect beacons 
from location unaware sensor nodes, and to calculate the 
accuracy position through our proposed localization 
measurement flying model in the three-dimensional coordinate 
system. There is one of example on mountain rescue 
application, each hiker has one WSN transmitter which 
broadcasting beacon message periodically. The single mobile 
anchor is suitable for track, search and location for the lost 
constant hikers by using the proposed localization algorithm in 
this paper. 
The remainder of the paper is organized as follows; section 
2 is devoted for related work. In section 3, we describe our 
assumptions and the details of the proposed technique. 
Simulation results are presented in section 4. Section 5 
concludes the paper. 
II. RELATED WORK 
Recently three-dimensional location technology of WSN 
has gradually been attention. In [12], the fix beacon node 
arrangement on the ground as the location of the reference 
point, pass through these location reference point by the signal 
strength to estimate the location of unknown nodes. However, 
these location reference points are necessary to be known in 
advance of their deployment and coordinates. 
In [13] Zhang, Yu and Zhang proposed a collaborative 
localization algorithm, sensor node from GMAN (Group of 
Mobil Anchor Nodes) to receive messages and estimate the 
position. The formation of the GMAN is that three mobile 
anchors located at three vertices of an equilateral triangle. The 
position unknown node received the location massage from 
mobile anchors and the positioning accuracy will be 
proportional with the number of mobile nodes. However, in the 
group of mobile anchors, the factor of mutual coordination, 
construction cost and practicality must be considered. 
A single mobile beacon and radio-frequency based method 
is used in Sichitiu and Ramadurai [14]. The localization of 
sensor nodes is estimated by using a single mobile node. The 
mobile beacon node can be man-operated machine, automatic, 
flight aircraft or vehicles, but its location approach is under the 
two-dimensional space system. 
Landscape-3D proposes a position of assistant action in the 
three-dimensional space system. The mobile position assistant 
is moving inside the sensing range and uses the Unscented 
Kalman Filter (UKF)-based algorithm [15]. The selected four 
mobile anchors use the maximum transmission range as a 
visual sphere radius. The location of sensor node inside the 
visual sphere radius calculated the location of sensor node 
based on the geometric principle. [10] and [11] are related 
works, but [10] has different method to select the four mobile 
anchors. 
The mobile anchor is one of common features in most of 
literatures from [10] to [15]. The GPS device let mobile anchor 
to understand their position, and broadcast their current 
position as the location beacon. Other sensor nodes calculate 
their own position according to the location beacons. However, 
the computing capability of WSNs nodes is limited to 
implement above methods. The overloaded computational 
burden will significantly reduce the ability of nodes in sensing 
and data delivery. On the other hand, the node will 
significantly enhance their energy consumption, resulting in 
premature death of wireless sensor nodes. The SMAL takes a 
different approach. The mobile anchors can fly through the 
sensing space to collect beacons from location unaware sensor 
nodes to calculate the accuracy position. Therefore, SMAL 
could mobile anchor to sensing beacons from location 
unaware nodes, in terms of detection the position of those 
location unaware nodes in parallel. 
III. PROPOSED LOCALIZATION SCHEME 
In wireless sensor networks, sensor nodes are usually 
deployed uniformly across the deployment area. The anchor 
nodes are more powerful nodes with more advanced 
capabilities, such as location aware by using GPS. The 
assumptions of this paper are shown on below, which 
illustrates the capabilities of each type of nodes. 
A. Target Sensor Nodes (location unaware sensor nodes) 
• Target sensor nodes are assumed to be static and 
unaware of their location. 
• Each node sends the beacon periodically by using the 
maximum transmission power, denoted by tx, assumed 
to be much smaller than R the radius of the deployment 
area. This implies that beacons sent by sensors can 
reach only recipients in its proximity.  
B. Mobile Anchor Node (Flying anchor node) 
• Mobile anchor nodes are much more powerful than 
sensor nodes. They have no energy constraints and is 
always carried enough battery power. As they do not 
have energy problem, anchors are assumed to be 
awake all the time. 
• The mobile anchors can fly by themselves or other 
carriers such as helicopter or UAV (Unmanned Aerial 
Vehicle). 
• Mobile Anchor node is an outdoor flying anchor. They 
should always be aware its current location. 
• Anchors are equipped with the WSN device with a 
movable omni-directional antenna. The reception 
circuitry of anchor is able to determine the distance to 
the transmitter (target sensor nodes) from the received 
signal strength (RSS). The received signal strength 
from target nodes should inside the range of receive 
threshold of anchor nodes. 
C.  Freesapce signal attenuation model 
The free-space signal attenuation model has been consider 
for assumes the channel propagation loss. There is only one 
clear line-of-sight path between the transmitter and receiver. 
Most of the wireless signal frequency measurements or 
bottom up to 10 meters (change z-axis only) and left to right up 
to 20 meters (change x-axis only). The moving speed of mobile 
anchor is around 1 meters/sec. The other parameter settings for 
the simulation are summarized in Table 1. 
TABLE I.  SIMULATION PARAMETERS 
Transmission frequency 2.4GHz 
Interference Model No 
Pathloss Model Free space 
Mobile anchor 
Receiver Sensitivity -91dBm 
 
 
Figure 3.  The relationship between the average distance and the 
location error distance 
Simulation results are shown from Figure 3 and Figure 4. 
Figure 3 represents the relationship between the average 
distance and the location error distance. The average distance 
can be obtained by the average of the total distance from d1 to 
d4. The result shows the location error was steadily 
proportional to the average distance in SMAL scheme, which 
was raised from the range 0.02 meters to 0.14 meters when the 
average distance increased from 75 meters to 325 meters. The 
result also shows the located the sensor nodes’ positions 
accurately under the single mobile anchor scheme. The 
location error was located in the slope of 0.000432. 
 
Figure 4.   Relationship between average distance and percentage 
error 
Figure 4 is the relationship of the average distance and the 
location error ratio. The location error ratio of SMAL is 0.04%, 
which represents a constant distribution inside the transmission 
range. The location accuracy was not affected by the average 
distance. The simulation results demonstrate that the single 
mobile anchor has a shorter movement distance approach to 
estimates the location unaware nodes accuracy position. The 
results show that, the proposed SMAL approach accuracy of 
localization is a major advantage. 
V. CONCLUSION 
The presented scheme in this paper not only localizes 
sensor nodes, but also enhances the accuracy of the estimated 
locations. SMAL scheme requires at least four visual anchor 
points to received node’s beacon, but, the single mobile anchor 
node of the scheme makes it a much better easy 
implementation. The accuracy of the estimated locations is 
proportional with the average of distance. The relocation of any 
node can easily be done if detected within the node’s beacon 
transmission range. The adaptability of the SMAL scheme for 
the variable communication range makes it more suitable for 
deployments leading to patchy regions. Detection of changed 
position and relocation of any node using the other localized 
static nodes can be considered as a future work. A tolerance 
limit for the GPS error can also be considered as a future scope 
of work. 
ACKNOWLEDGEMENTS 
 This work was supported by a research grant 
NCTU99102 from Taichung University of Education, Taiwan. 
REFERENCES 
[1] Wei Xin, Wang Quandi, Yang Chenghe, Yang Yongming, “A Three-
dimensional Node Localization Algorithm of High-precision in Wireless 
Sensor Network,” ICIT '09 Proceedings of the 2009 IEEE International 
Conference on Industrial Technology, 2009.J. Clerk Maxwell, A 
Treatise on Electricity and Magnetism, 3rd ed., vol. 2. Oxford: 
Clarendon, 1892, pp.68–73. 
[2] L. Cong and W. Zhuang, “Hybrid TDOA/AOA Mobile User Location 
for Wideband CDMA Cellular Systems,” IEEE Trans. Wireless Comm., 
vol. 1, no. 3, pp. 439-447, July 2002.K. Elissa, “Title of paper if 
known,” unpublished. 
[3] M. McGuire, K.N. Plataniotis, and A.N. Venetsanopoulos, “Location of 
Mobile Terminals Using Time Measurements and Survey Points,” IEEE 
Trans. Vehicular Technology, vol. 52, no. 4, pp. 999-1011, July 200Y. 
Yorozu, M. Hirano, K. Oka, and Y. Tagawa, “Electron spectroscopy 
studies on magneto-optical media and plastic substrate interface,” IEEE 
Transl. J. Magn. Japan, vol. 2, pp. 740–741, August 1987 [Digests 9th 
Annual Conf. Magnetics Japan, p. 301, 1982]. 
[4] N. Patwari, A.O. Hero, M. Perkins, N.S. Correal, and R.J. O’Dea, 
“Relative Location Estimation in Wireless Sensor Networks,” IEEE 
Trans. Signal Processing, vol. 51, no. 8, pp. 2137-2148, Aug. 2003. 
[5]  Xiaobo Zhou, Liqiang Zhang and Qiang Cheng. (2006) “Landscape-3d: 
A robust localization scheme for sensor networks over complex 3d 
terrains,” In Proc. 31st IEEE International Conference Local Computer 
Networks, pages 239--246, November, 2006. 
[6] Davide Merico and Roberto Bisiani. (2006) “Positioning, localization 
and tracking in wireless sensor network,” Technical report, DISCo, 
NOMADIS, March, 2006. 
[7] Rong Yu, Zhi Sun and Shunliang Mei. (2006) “A power aware and 
range free localization algorithm for sensor network,” In IEEE 
Transactions on Communications, pages 1--5, August 2006. 
 The Internet of Things Bandwidth Estimation System for High Speed 
Broadband Access Networks  
 
Tsung-Han Leea, Xiang-Shen Xiea, Lin-Hunag Changa*, Chi-Hsuan Huanga, HY Linb and Chieh-Lung Linb 
National Taichung University of Education, Department of Computer Sciencea 
Telecom Technology Centerb  
 
 
Abstract —Broadband network services are 
increasingly popular today; the construction of the 
national broadband network is an important indicator of 
the infrastructure. According to the FIND investigations, 
the broadband penetration rate has been officially 
breakthrough 80% in our country. However network 
bandwidth will be limited by the provider's network 
quality and peak congestion. Therefore, the goal of this 
research is allow users to understand the actual upload 
and download speed of their broadband Internet service 
by using IOT bandwidth estimation system and yet we 
can estimate expected bounds of available bandwidth.  
Keywords: Maximum bandwidth estimation, TCP slow 
start, Inter of Things 
I. INTRODUCTION 
High speed broadband access technologies such as FTTx 
and xDSL have implemented for high speed and next 
generation broadband access technologies. These networks 
are being constructed in-order to support the higher 
bandwidth services to run over the Internet. Therefore, a 
bandwidth estimation tool is necessary for Internet Service 
Providers (ISPs) to evaluate the bandwidth and troubleshoot 
the problem if bandwidth value is not expected. In addition, 
subscriber also need to be guaranteed on their subscribed 
bandwidth is meet their requirement. This has affected 
consumer confidence and consumer of the interests. Thus, 
there is always a demand for bandwidth estimation tools to 
enable customers to assess the performance without 
assistance. These tools need to be able to measure the end-
to-end performance of the network automatically, efficiently 
and accurately. There are many bandwidth estimation tool 
provide the user to understand the actual network bandwidth. 
However, bandwidth estimation tools face increasingly 
difficult measurement challenges, such as network speeds 
increase and network functionality grows more complex. 
ISPs often advertise a maximum downlink / uplink 
broadband speed, but most home users have no ability to 
verify if the performance they get is even close to these 
maximum values. Government and regulatory bodies are 
trying to help broadband users to identify their broadband 
access actual speed. For example, SamKnows [a1] 
distributes broadband testing routers for home users to test 
their Internet access speed automatically. Regulation bodies 
are seeking better bandwidth estimation algorithms to 
measure the actual broadband speed in user side.  
In addition, the maximum TCP throughput is 
unsatisfactory, especially on high speed Internet. [1] The 
main reason for this is the conservative behavior of TCP in 
adjusting its congestion window that governs the senders’ 
transmission rates. Therefore, the purpose of this research is 
allow users to understand the actual upload and download 
speed of their broadband Internet service by using the 
proposed bandwidth estimation algorithm in an embedded 
system and yet we can estimate expected bounds of available 
bandwidth. 
The paper is structured as follows. In Section 2 we study 
the problem of bandwidth estimation performed at the 
sender-side and we review the existing estimation techniques. 
In Section 3 we present our bandwidth analysis algorithm. In 
Section 3 we study the performance of proposed bandwidth 
analysis algorithm. Evaluation results for TCP download / 
upload throughput are presents in Section 4. Finally, Section 
5 concludes the paper. 
II. BANDWIDTH ESTIMATION METHODOLOGY 
Our goal of this paper is to evaluate the maximum 
bandwidth of user’s broadband access networks, yet we need 
develop an embedded system to be able to measure and 
record the testing results. [2] Thus, an embedded develop 
platform called Pandaboard [3] is selected for this research. 
Due to the characteristics of the Pandaboard, it has benefit 
on high performance to measure real-time broadband speed. 
The high speed Ethernet interface can play the role as WAN 
port to reach up to 100M Internet access. 
 
 
Fig.1, OMAP4460 Pandaboard ES 
 
Fig 1 shows the Pandaboard ES which is an OMAP4460 
platform designed to provide access to as many of the 
  
Fig. 4 the range of maximum throughput estimation 
 
Fig. 5 shows the testing results in parallel TCP connections 
to reach maximum bandwidth. The size of downloaded file is 
10 mega bytes and the bandwidth of network is 100Mbps. 
The wireshark [7] is used to assist for capture the total 
bandwidth of network. The results show that parallel TCP is 
able to fully utilize all links and reports values that are close 
to the network capacity, which does not include TCP/IP 
headers and retransmissions. In this experiment, parallel 
TCP reports values around 90% of the capacity. However, 
the bandwidth is around 90 Mbps by using iperf to measure 
the maximum bandwidth of network. It can be observed that 
both bandwidth methods are accurate in this experiment 
research. Thus, the proposed bandwidth estimation algorithm 
uses parallel connections and performs a high-speed transfer 
to avoid measuring during slow-start [8] [9]. Hence, the TCP 
download speed did not reach the maximum bandwidth at 
the beginning.  
 
 
(a)  Single TCP download flow          (b) dual TCP download flows 
 
(c) triple TCP download flows  (d) quadruple TCP download flows 
 
 
(e) quintuple TCP download flows  (f) tenfold TCP download flows 
 
Fig. 5 parallel TCP connections to reach maximum bandwidth 
 
Fig. 6 shows the maximum bandwidth estimation 
algorithm flowchart. The system will execute the bandwidth 
testing procedures if the background traffic is lower than the 
10Kbps. In addition, the system will execute the calculation 
of the bandwidth after the download command was 
executing due to the TCP slow start in nature. We will record 
the current value of the packet and timestamp, and calculate 
the bandwidth rate of this period of time. Finally, the number 
of packets, timestamp and bandwidth rate will upload to the 
pachube website. 
 
Yes
No
Yes
No
 
 
Fig.6, Maximum bandwidth estimation algorithm flowchart  
 
IV. EVALUATION RESULTS 
 
(a) Maximum bandwidth test removing the lowest 30%  and the 
highest 10% 
 
Energy consumption and performance Analysis for Routing protocol in 
6LoWPAN 
 
 
Tsung-Han Lee, Chih-Hao Wen, Hung-Shiou Chiang, Lin-Huang Chang* 
National Taichung University of Education, Department of Computer Science 
thlee@mail.ntcu.edu.tw, {BCS100102, BCS100110}@gm.ntcu.edu.tw, lchang@mail.ntcu.edu.tw* 
 
 
Abstract 
6LoWPAN is one of Internet of Things standard, 
which allows IPv6 over the low-rate wireless personal 
area network. and therefore energy consumption is still 
important in 6LoWPAN. IPv6 join adaptation layer 
between network layer and data link layer to 
fragmentation and recombination the IPv6 packets. 
The presented energy model in this paper is to analyze 
the energy consumption and performance for two 
routing schemes: mesh-under and route-over in 
6LoWPAN. The retransmission probability in 
error-prone channel condition has been into account 
for the mesh-under and the route-over routing schemes 
respectively. Simulation results show that the 
route-over has higher energy consumption and delay 
than mesh-under in ideal channel due to 
recombination. However, the mesh-under has opposite 
results. It has higher energy consumption and delay 
than route-over due to retransmission from the source 
node. 
 
KEYWORD 
6LoWPAN, Energy consumption, Route-over, 
Mesh-under 
 
1. Introduction 
6LowPAN[1] technology has attracted extensive 
attention recently, which allows IPv6 over the IEEE 
802.15.4 radio. Because of the packet size for IPv6 is 
larger than the maximum size of IEEE 802.15.4. Thus, 
the adaptation layer is introduced as a bridge between 
the network layer and the data link layer to 
fragmentation and association the IPv6 packets into 
IEEE 802.15.4 radio. 
The mesh-under [2] and the route-over [3] are two 
routing schemes in 6LoWPAN. Depending on which 
layer is in charge of routing and packet forwarding, the 
mesh-under is complete at the adaptation layer of 
6LoWPAN stack. In the other hand, the Route-over is 
finished the routing at the network layer. 
The goal of this paper is to analyze the characteristics 
of both routing schemes and evaluate their energy 
efficient in 6LoWPAN in error-prone channel condition. 
The simulation results show how mesh-under and 
route-over performs in terms of energy consumption in a 
multi-hop 6LoWPAN network. 
In real-life there are many wireless devices using the 
2.4GHz ISM frequency band. However, the effect of 
co-channel interference will cause the deviation from the 
transmission performance. The channel condition will 
certainly affect the energy efficient in 6LoWPAN. Thus, 
the energy consumption model should considering the 
transmission probability in MAC layer and the bit error 
rate in PHY layer. Simulation results show that the 
route-over scheme has lower energy efficient than 
Mesh-under scheme in ideal environment. However, the 
opposite result is shown in error-prone channel 
condition. 
From previous studies, many research focus on 
reduce the energy con sumption in wireless network. The 
energy-conserving system of IEEE 802.11 is analyzed in 
[4], by consider the multi-hop environment. However, it 
does not consider the transmission probability in the 
proposed model. In [6] and [9], both the hidden node 
problem and the transmission probability have been 
consideration. In [5], the numerical analysis based on the 
model of the node transmission probability and the total 
delay for mesh-under and route-over under 6LoWPAN. 
The related research in [7, 8] show the performance 
analysis of IPv6 in wireless sensor networks. Authors try 
to use data-type redefinition with the header 
compression to reduce memory size and energy 
consumption.  
However, a cross-layer energy consumption model 
has been considered in this paper. Both the transmission 
probability in MAC layer and the bit error rate in PHY 
layer for multi-hop transmission have been take in 
account into the proposed energy consumption model. 
The rest of the paper is organized as follow: Section 2 
and 3 present the proposed energy model for mesh-under 
and route-over in 6LoWPAN. Section 4 describes the 
simulation and performance comparison. Final is the 
conclusion of this paper. 
2. Analytical model 
These are three major energy consumption mode: 
(1) Transmission mode: Source node transmission 
packets to destination node. 
3.2 Energy Model for Route-over Routing 
scheme 
In route-over scheme, all routing decisions are 
handling in the network layer. Each node acts as an IP 
router to forwarding the IP packet to the destination 
address using the compressed IP header in 6LoWPAN.  
The node will receive all fragments from the 
previous node based on the routing table information. 
The received node will recombination fragments to 
ensure whether loss or not. If there are one or more 
fragments missing, then missing fragments are 
retransmitted from previous node. The energy 
consumption model for route-over scheme is given by: 
}
]
)1([]
){[(
3
1
ionfragmentatfrag
ionrecombinationrecombinatrxtx
x
trans
K
ionrecombinat
ionrecombinatrxtx
x
trans
ET
ETE
hxPKE
TExPh







  (8) 
x
transP  is the probability of successful transmission 
of a fragment packets in one hop. 
hx
transP

1  is the the 
probability of unsuccessful transmission. We assume 
that the probability of h hop in the same value. When the 
packet has recombination successful, the IP packet must 
be break into fragments again and sending to the next 
node. fragT  is the duration of node fragmentation. 
As mentioned above, the probability of transmission 
successful will equal to 1 in the ideal channel. 
Mesh-under scheme does not need to recombine 
fragments hop-by-hop. However, the mesh-under 
scheme has to retransmit all fragments from source node 
to destination if one or more fragment failure occurs. 
Compare with route-over, the mesh-under scheme has 
lower energy consumption and delay than the route-over 
scheme. 
4. Simulation Results 
6LoWPAN divides routing scheme into mesh-under 
and route-over. The main distinction is based on which 
layer is handle the routing decisions in 6LoWPAN 
protocol stack, in route-over the routing decision is taken 
by the network layer, and in mesh-under is handled by 
the adaptation layer.  
In this section, we compare the transmission delay 
and energy consumption between mesh-under and 
route-over routing schemes. Equation (9) and (10) show 
difference of the transmission delay and consumed 
energy of data packet. 
4.1 Total Delay And Energy Consumption 
The route-over scheme, fragments are forwarded at 
the network layer and the adaptation layer processes the 
received fragments in order to reassembly the original IP 
packet. In the other hand, the mesh-under scheme 
forward fragments, the adaptation layer combines the 
information contained with the source and destination 
addressees carried in the IEEE 802.15.4 header. 
Therefore, we assume that there has no 
retransmission occurs in the ideal channel condition. 
Route-over has more delay than mesh-under due to 
packets recombination and fragmentation delay. It is a 
direct ratio between the number of hop count and 
transmission delay in router-over scheme. 
Assuming the h and the x are same vale in both 
mesh-under and route-over schemes. The 
x
transP and 
Ptrans
x+h
 is equal to 1. The transmission delay of 
mesh-under is given by: 
ionrecombinat
ACKSIFSDATAcdelay
T
hxTTTTT

 )(
 (9) 
The transmission delay of route-over is given by: 
hTT
hxTTTTT
fragionrecombinat
ACKSIFSDATAcdelay


)(
)(
 (10) 
From equation (9) and (10), the route-over scheme 
higher recombination delay than mesh-under scheme. 
Thus, the mesh-under scheme have longer transmission 
delay than route-over scheme when the retransmission 
occurs. 
4.2 Energy Consumption analysis in 6LoWPAN 
In this section, we report the performance evaluation 
done for the two routing schemes in Qualnet simulation 
[11]. We compares the energy consumption between 
mesh-under and route-over schemes in ideal channel and 
error-prone channel respectively. Table 1 shows the 
simulation parameters. Node1 is the source node. Node 2 
and 3 is the relay node, and Node 4 is the destination 
node. The length of IPv6 packet is 1270 bytes. Thus, one 
IPv6 packet has to fragment into 10 fragment packets. 
The number of fragments is 10 and 100 fragments. 
 
Table 1. simulation parameters 
Transmission current Load (mA) 45mA 
Reception load (mAmp) 50 mA 
Idle current Load (mAmp) 50 mA 
Maximum transmission unit(MTU) 127 Byte 
Recombination time(ms) 0.1ms 
Fragmentation time(ms) 0.1ms 
Hop count 3 Hops 
 
node to destination node when one or more fragments 
loss occurs. Thus, the mesh-under scheme presents 
larger energy consumption than the route-over scheme in 
error-prone channel condition. We can observe that, it is 
a direct ratio between the number of fragments and 
energy consumption in mush-under scheme in 
error-prone channel condition. 
5. Conclusion 
In this paper, we analyze the energy consumption 
for two routing schemes: mesh-under and route-over in 
6LoWPAN. The retransmission probability in 
error-prone channel condition has been into account for 
the mesh-under and the route-over routing schemes 
respectively. Simulation results show that the route-over 
has higher energy consumption and delay than 
mesh-under in ideal channel due to recombination. 
However, the mesh-under has opposite results. It has 
higher energy consumption and delay than route-over 
due to retransmission from the source node. 
Therefore, in the future research, choose the proper 
routing scheme with less transmission delay to meet the 
QoS requirement, and use the proposed energy 
consumption model; we can understand how to select the 
most energy efficient path. 
6. Acknowledgements 
This research is supported by National Science 
Council (Project Number: NSC – 100 - 2221 - E - 142 – 
002 and NSC 101 – 2119 – M – 142 – 001) and National 
Taichung University (Project number: NTCU99102 and 
IAC-A-101019). 
7. References 
[1] IETF 6LoWPAN Working Group. 
http://tools.ietf.org/wg/6lowpan. 
 
[2] Z. Shelby and C. Bormann, 6LoWPAN: the wireless 
embedded internet. John Wiley & Sons Ltd, November 2009. 
 
[3] Gee Keng Ee, Chee Kyun Ng, Nor Kamariah Noordin and 
Borhanuddin Mohd. Ali,  “A Review of 6LoWPAN Routing 
Protocols,” Proceedings of Asia-Paciﬁc Advanced Network 
(APAN) Network Research Workshop (ISBN 
978-4-9905448-0-5) , Hanoi,Vietnam, August 9-13, 2010. 
 
[4] T.H. Lee, A. Marshall and B. Zhou, "A Framework for 
Cross-layer Design of Energy-conserving On-Demand Routing 
in Multi-hop Wireless Networks," IEE Mobility  2005 
 
[5] Chowdhury, A.H.; Ikram, M.; Cha, H.S. Route-over vs 
Mesh-under Routing in 6LoWPAN”, IWCMC 09, 2009, pp. 
1208 - 1212. 
 
[6] Fatma Bouabdallah, Nizar Bouabdallah, and Raouf 
Boutaba, “On Balancing Energy Consumption in Wireless 
Sensor Networks”, IEEE TRANSACTIONS ON 
VEHICULAR TECHNOLOGY, VOL. 58, NO. 6, JULY 2009. 
 
[7] J. Hui and D. Culler, “IPv6 in Low-Power Wireless 
Networks,” Proc. IEEE, vol. 98, no. 11, pp. 1865–1878, Nov. 
2010. 
 
[8] Jorge E. Higuera, and Jose Polo, “IEEE 1451 Standard in 
6LoWPAN Sensor Networks Using a Compact Physical-Layer 
Transducer Electronic Datasheet,” IEEE TRANSACTIONS 
ON INSTRUMENTATION AND MEASUREMENT, VOL. 
60, NO. 8, AUGUST 2011.  
 
[9] M. Kohvakka, M. Kuorilehto, M. Hännikäinen, T.D. 
Hämäläinen, "Performance analysis of IEEE 802.15.4 and 
ZigBee for large-scale wireless sensor network applications". 
3rd ACM international Workshop on Performance Evaluation 
of Wireless Ad Hoc, Sensor and Ubiquitous Networks. 
Torremolinos, Spain, October 2006. 
 
[10] QualNet simulator, http://www.qualnet.com/. 
 
 
models. Simulation results can reduce the bit error rate 
(BER) and the packet error rate (PER) effectively. In 
[9,10], interference avoidance is achieved by means of 
energy detection (ED) ; Yi et. al. [9], both using “Safe 
Distance” and “Safe Offset Frequency” to reduce the 
BER and PER. In [10], author builds a neighbor table to 
allow nodes switch to relatively low-interference channel 
to reduce the packet loss rate. All above literatures was 
focus on the case 1 which IEEE 802.15.4 nodes and 
IEEE 802.11 nodes can sense each other. However, the 
Carrier Sense Multiple Access with Collision Avoidance 
(CSMA/CA) mechanism can solve this problem. In the 
Case 3, both IEEE 802.15.4 and IEEE 802.11 nodes can't 
sense each other. Thus, IEEE 802.15.4 can transfer data 
without any interference from IEEE 802.11, because of 
the distance between IEE 80215.4 and IEEE 802.11 is 
too far away.  
The reason of interference has been studied in [11, 
12]. Authors try to avoid the interference by using packet 
scheduling mechanisms in the MAC layer. Shin et. al. 
[11], the authors use the channel switching and routing 
synchronization to avoid interference of IEEE 802.11. 
Yuan [12], the authors take into account difference 
interference from Case 1 to Case 3. However, all above 
literatures use packet scheduling mechanism to avoid 
interference in the MAC layer. In [13], MCSP 
(Multi-Canal Scheduling Protocol) has been proposed to 
avoid the lighthouse collision.  
However, the coexistence impacts on the 
performance of IEEE 802.15.4 are evaluated by using 
BER calculation model in this paper. We will first 
introduce the coexistence mechanisms specified in IEEE 
802.15.4; after that, we will propose the IEEE 802.15.4 
packet length adaption scheme which reduces the 
influence from IEEE 802.11 interference. 
The rest of this paper is organized as follows: Packet 
error analysis of IEEE 802.15.4 under IEEE 802.11 
interference is presented in Section 2. Simulation results 
in Section 3. Finally, we will conclude this paper in 
Section 4. 
 
2. Packet error analysis of IEEE 802.15.4 
under IEEE 802.11 interference 
 
In this section, the interference between IEEE 802.11 
and IEEE 802.15.4 in the case 2 has been investigated. 
First of all, a simulation environment was developed 
using the Qualnet [14] simulator as shown in Fig.3; 
Table1 shows the related parameters for simulation. The 
non-beacon mode is selected in IEEE 802.15.4. Node B 
send packets to Node A with 0.1 seconds interval in 
IEEE 802.15.4; Node C send packets to node D in IEEE 
802.11b. In case 2, IEEE 802.11 can’t sense IEEE 
802.15.4 data transmission. Thus, IEEE 802.11 will not 
backoff when IEEE 802.15.4 is under transmission.  
IEEE 802.15.4 also uses CSMA/CA for media access 
control. IEEE 802.15.4 can sense IEEE 802.11 data 
transmission. The contention window in IEEE 802.15.4 
is doubled whenever the channel is determined busy 
during a CCA period.  
 
A B
300m 1000m1000m
Sent data Sent data
IEEE 802.11b node IEEE 802.15.4 node
C D
node B transmission range
node A transmission range
node D transmission range
node C transmission range
A : IEEE 802.15.4 receive (device) B : IEEE 802.15.4 transmission (coodinator) 
C : IEEE 802.11 transmission (client) D : IEEE 802.11 receive (server)  
Fig.3. Simulation scenario in the Case 2 range 
 
Table 1.Simulation Configuration and 
Parameters  
Parameter IEEE 802.11b IEEE 802.15.4 
Transmission 
Power 
17dBm 3dBm 
PPDU*  1528 bytes 127 bytes 
Packet Interval 0.1 s 0.1 s 
Data 
transmission 
Rate 
1Mbps 250Kbps 
Simulation Time 10 minute 
* Physical Protocol Data Unit 
 
In the case 2, the IEEE 802.11 can’t sense IEEE 
802.15.4 packet, if the packet from IEEE 802.15.4 is 
earlier than that the data transmission of IEEE 802.11. 
The IEEE 802.15.4 packet overlaps an IEEE 802.11 
packet, the co-channel interference power from the IEEE 
802.11 packet is low than the signal power from the 
IEEE 802.15.4 packet at an IEEE 802.15.4 receiver.  
The Signal to Interference plus Noise Ratio (SINR) is 
the power ratio between the strength of the desired signal 
to the strength of the undesired signals as follows (1): 
Noise Background   ceInterferen
Signal

SINR  (1) 
Figure 3 for SINR in equation (2): 
Noise Background  C node from ceInterferen
B node from Signal
SINR  sA' Node


 (2)  
The PHY of IEEE 802.15.4 at 2.4 GHz uses Offset 
Quadrature Phase-shift keying (OQPSK) modulation. 
For an additive white Gaussian noise (AWGN) channel, 
the BER can be calculated by the following equation 
[15] : 
)2( SINRQBERSINROQPSK   (3) 
 
4. Conclusion 
 
In this paper, the performance impacts on IEEE 
802.15.4 network under IEEE 802.11 and IEEE 802.15.4 
heterogeneous wireless Networks has been investigated. 
The three ranges of interference between IEEE 802.11 
and IEEE 802.15.4 will caused different interference 
situation. The main objective of this research is to 
understand the impacts in IEEE 802.15.4 which is 
worked on the same frequency band with IEEE 802.11 
networks in range of case 2. Simulation results show the 
IEEE 802.15.4 has serious interference problems in the 
range case 2 if there are no appropriate arrangements 
between the scheduling mechanisms among the 
protocols.  
The summation result shows the short IEEE 802.15.4 
packet size may take relief from the IEEE 802.11 
co-channel interference. Thus, a dynamic packet length 
control mechanism in IEEE 802.15.4 can be used to 
solve the co-channel interference from IEEE 802.11. 
 
5. Acknowledgements 
 
This research is supported by National Science 
Council (Project Number: NSC – 100 - 2221 - E - 142 – 
002 and NSC 101 – 2119 – M – 142 – 001) and National 
Taichung University (Project number: NTCU99102 and 
IAC-A-101019). 
 
6. References 
 
[1] IEEE 802.11 Work Group, “Part 11: Wireless LAN 
Medium Access Control (MAC) and Physical Layer (PHY) 
specification: High-speed Physical Layer Extension in the 2.4 
GHz Band,” ANSI/IEEE Std 802.11b, 1999. 
 
[2] IEEE 802.11 Work Group, “Part 11: Wireless LAN 
Medium Access Control (MAC) and Physical Layer (PHY) 
specifications: Further Higher Data Rate Extension in the 2.4 
GHz Band,” ANSI/IEEE Std 802.11g, 1999. 
 
[3] IEEE 802.11 Work Group, “Part 11: Wireless LAN 
Medium Access Control (MAC) and Physical Layer (PHY) 
specifications: Further Higher Data Rate Extension in the 2.4 
GHz Band,” ANSI/IEEE Std 802.11n, 2009. 
 
[4] IEEE 802.15 Work Group, “Part 15.4: Wireless Medium 
Access Control (MAC) and Physical Layer (PHY) 
Specifications for Low-Rate Wireless Personal Area Networks 
(LR-WPANs),” ANSI/IEEE Std 802.15.4, 2003. 
 
[5] R. Musaloiu and A. Terzis, “Minimising the effect of 
wifi interference in 802.15.4wireless sensor networks,” Int. J. 
Sen. Netw., vol. 3, no. 1, pp. 43–54, 2007. 
 
[6] G.M.Tamilselvan and Dr.A.Shanmugam ,” Inter and 
Intra Cluster Scheduling for Performance Analysis of 
Coexistence Heterogeneous Networks”, 2010 International 
Journal of Computer Applications (0975 – 8887) Volume 1 – 
No. 8 
 
[7] G.M.Tamilselvan and Dr.A Shanmugam,“A cluster based 
interference mitigation scheme for performance enhancement 
in IEEE 802.15.4”, Jurnal of Scientific & Industrial Research J 
SCI IND RES VOL 70 SEPTEMBER 2011 pp. 756-761 
 
[8] G.M.Tamilselvan and Dr.A.Shanmugam, “Multi 
Hopping Effect of Zigbee Nodes Coexisting with WLAN 
Nodes in Heterogeneous Network Environment”, 
978-1-4577-0183-2/09/$26.00 2011 IEEE. 
 
[9] P. Yi, A. Iwayemi, and C. Zhou, “Developing ZigBee 
Deployment Guideline Under WiFi Interference for Smart Grid 
Applications,” Smart Grid, IEEE Transactions on, vol. 2, no. 1, 
pp. 110 -120, March 2011.  
 
[10] C. Won, J. H. Youn, H. A. Sharif, and J. Deogun, 
“Adaptive Radio Channel Allocation for Supporting 
Coexistence of 802.15.4 and 802.11b”. In VTC, 2005. 
 
[11] S. Y. Shin, H. S. Park, S. Choi, and W. H. Kwon, “Packet 
error rate analysis of ZigBee under WLAN and Bluetooth 
interferences,” IEEE Transactions on Wireless 
Communications, vol. 6, no. 8, pp. 2825–2830, 2007. 
 
[12] Wei Yuan，「Coexistence of IEEE 802.11b/g WLANs and 
IEEE 802.15.4 WSNs: Modeling and Protocol 
Enhancements」，Technische Universiteit Delft，PhD Thesis，
2011. 
 
[13] M.Sahraoui, “Collisions Avoidance Multi-Channel 
Scheme for the protocol IEEE 802.15.4,” International 
Conference on Information Technology and e-Services 
(ICITeS), pp. 1 -9, 2012. 
 
[14] QualNet simulator, http://www.qualnet.com/. 
 
[15] T. Rappaport, Wireless Communications: Principles and 
Practice. Upper Saddle River, NJ: Prentice-Hall, 2001. 
 
 
上午舉辦，當天總共分為二個場次，包含了 Mobile Networks 與 Vehicular Networks 等主題，本團隊所
發表之論文，透過與會人員逐一報告，不僅能夠快速了解目前世界上各個實驗室的研究趨勢，也看到
了不同領域的研究成果，並藉此吸取他人的經驗。 
 
二、與會心得 
International Conference on Ubiquitous Intelligence and Computing (UIC 2011) 國際學術研討會是每
年都會舉辦的一個國際研討會，其主要的研討方向為無所不在智慧計算之理論以及應用發展，所接受
的論文也相當廣泛，例如從無所不在智慧計算、雲端運算技術、無線感測網路，以及嵌入式微處理機
設計，甚至延伸至感測元件的應用等等，因此每年都吸引大量的專家學者從世界各地前往參與，而台
灣也有相當多的學者專家以及研究生參加。 
這次參加 UIC 2011 會議之中，透過口頭報告分享本團隊之研究成果與心得外，也觀摩不同領域的
研究成果，並藉此吸取他人的經驗。同時藉由 Prof. Ivan Stojmenovic, University of Ottawa, Canada 的專
題報告” Green Computing in Mobile Cloud”中，了解綠能運算之發展趨勢，經由行動雲端運算，大幅降
低人類對於中央集中式運算主機之依賴，進而達到 Green ICT 之目標，降低 ICT 產業對於地球環境之
汙染。另外，Prof. Han-Chieh Chao, National Ilan University, Taiwan 也藉由題為"Internet of Things and 
Cloud Computing for Future Internet"的專題報告，分享他在物聯網相關領域的研究心得，並分析未來網
際網路的發展趨勢。從上述專題報告激發出許多新的研究想法，從中也了解到自己研究尚需補足之處，
在此除了感到獲益良多之外，也特別要感謝國科會在經費上的補助。 
 
三、發表論文全文或摘要 
Abstract： 
The Location-based service on Wireless Sensor Networks, mainly depend on the Receiver Signal 
Strength (RSS) to measure the distance between the sender and receiver. The location unaware sensor 
nodes send beacon periodically, which are captured by anchor sensor nodes. However, it is well-known that 
these systems suffer from big inaccuracy problems because of environmental changes (the ratio of anchor 
and target). In this paper, a three-dimensional space-based location algorithm in wireless sensor network 
has been proposed. The proposed Single Mobile Anchor Location (SMAL) scheme uses single flying 
anchor which equipped a GPS receiver to coordinate itself position in unknown territory. The mobile 
anchor node is able to calculate the accuracy position of unaware location sensor nodes through the 
國科會補助計畫衍生研發成果推廣資料表
日期:2013/01/26
國科會補助計畫
計畫名稱: 運用跨層式品質服務設計提昇分散式觸覺虛擬實境之效率研究
計畫主持人: 李宗翰
計畫編號: 100-2221-E-142-002- 學門領域: 計算機網路與網際網路
無研發成果推廣資料
其他成果 
(無法以量化表達之成
果如辦理學術活動、獲
得獎項、重要國際合
作、研究成果國際影響
力及其他協助產業技
術發展之具體效益事
項等，請以文字敘述填
列。) 
透過本研究計畫之成果，已促成與台灣、英國與馬來西亞三邊合作之國際研究
計畫(Exploratory Research Grants Scheme)。計畫名稱為＇＇＇＇Exploring 
a New Smart User Interface Technology for Manipulation of Force Feedback 
Mobile Tele-robotic Architecture ＇ ＇ ＇ ＇ 。 計 畫 執 行 期 間 為
2012/8/1~2014/7/31。研究團隊著重於所開發機器人之遠端觸覺回饋機制，並
應用物聯網技術將力回饋資訊將建置於馬來西亞與英國之機器人將現場力回饋
資訊即時送返至本實驗室之觸覺雲端資料庫。 
 成果項目 量化 名稱或內容性質簡述 
測驗工具(含質性與量性) 0  
課程/模組 0  
電腦及網路系統或工具 0  
教材 0  
舉辦之活動/競賽 0  
研討會/工作坊 0  
電子報、網站 0  
科 
教 
處 
計 
畫 
加 
填 
項 
目 計畫成果推廣之參與（閱聽）人數 0  
 
