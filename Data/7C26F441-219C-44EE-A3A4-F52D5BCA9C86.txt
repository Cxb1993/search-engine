[8] and developed an algorithm for estimating the path band-
width. They used this algorithm, together with the route discov-
ery mechanism of the well-known Ad hoc On-demand Distance
Vector protocol (AODV) [16], to setup QoS routes.
• Gerasimov and Simon [10], [11] modified two well-known on-
demand ad hoc routing protocols, AODV and TORA, to achieve
resource reservation in TDMA systems. The protocols in [10]
and [11] borrow some of the mechanisms presented in [5].
These routing algorithms add several messages and procedures to
AODV and TORA to support QoS path reservation and release.
• Since simultaneous QoS route request messages reserve slots in-
dependently, multiple path reservations may be processed at in-
termediate nodes simultaneously. These race conditions can re-
duce the throughput and efficiency of communications in TDMA
environments [12]. Based on [8], Jawhar and Wu [12] presented
a bandwidth reservation protocol that can remedy the race condi-
tion and provide a solution to the parallel reservation problem.
• Shih et al. [13] presented a distributed slot reservation protocol
for QoS routing. The main concept of this protocol is slot reuse.
The main differences between [13] and [8] are slot decision poli-
cies and a slot adjustment mechanism.
• Inspired by the ability of topology-transparent scheduling (TTS)
[17]–[20] to guarantee single-hop QoS support, Su et al. [14]
presented a routing protocol with QoS support using TTS as the
underlying MAC protocol. By being built on top of TTS, the joint
scheme provides QoS support without knowledge of slot status
information.
Currently, the technique of transmitting data over the air is based
on the omnidirectionaly antennas; therefore, most of the research in
providing QoS support has assumed their deployment. An omnidi-
rectional antenna radiates its power equally in all directions. This
presents other nodes located within the transmission range from us-
ing the medium simultaneously, thereby reducing the spatial reuse. On
the other hand, directional antennas allow a transmitting node to con-
centrate its energy in a particular direction, extending the transmission
range. Similarly, a receiving node can focus its antenna in a particular
direction, leading to increased sensitivity in that direction and signifi-
cantly reduced cochannel interference.
In this report, the protocol in [14] is extended to directional envi-
ronments. This is not a straightforward task due to the following chal-
lenges:
• It is unclear how to fully exploit the advantages of directional
antennas in [14], as both the transmitting and receiving nodes
must orient their directional antennas toward the right direction
at the right time.
• It is unclear what information from nodes outside the transmis-
sion range is needed for an extension of [14] to directional envi-
ronments.
• Due to the shared nature of the wireless medium in wireless ad
hoc networks, each multihop flow encounters contentions for data
channel resources provided by TTS not only from other flows
which pass by the neighborhood, i.e., the inter-flow contention,
but also from the flow itself. This is because the transmission at
each hop must contend with the upstream and downstream nodes,
i.e, the intra-flow contention [21], [22]. It remains unclear how
to cope with these two kinds of flow contentions for an extension
of [14] to directional environments.
The rest of this report is organized as follows. Section II describes
the system model. Section III briefly introduces TTS. Section IV
presents the mechanisms to collect information. Section V presents in
detail bandwidth estimation, allocation, and reallocation at individual
nodes each equipped with a directional antenna. Section VI presents a
routing protocol with QoS support taking into account direction trans-
mission. Section VII presents simulation results, while Section VIII
concludes the report.
II. SYSTEM MODEL
Consider a multihop TDMA ad hoc network consisting ofN mobile
nodes. Randomly assign a unique ID to each node before it enters the
network, and let N = {0, 1, . . . , N − 1} denote the set of nodes. For
simplicity, the nodes in the network are assumed to be placed on a flat
plane. Each node is mounted with a switched beam antenna, where B
identical nonoverlapping beams cover the entire omnidirectional 360
degree range. As shown in Fig. 1, we number the beams from 1 to
B starting from the beam that is located just right of the three o’clock
position. In addition, all nodes are assumed to have the same orien-
tation so that each beam number denotes a fixed range of angles for
transmission or reception. A node can transmit its signal to any one of
theB beams, increasing the coverage range of the transmission toward
a specific direction. In idle mode, a node listens omnidirectionally. In
the reception of a signal, a node uses selection diversity, which means
that it uses the signal from the antenna that is receiving the maximum
power of the signal. With this mechanism, the receiving node can
extend the communication range, and can determine the relative orien-
tation between the transmitting node and itself. Based on the relative
orientation, a potential transmitting node can determine the beam of
the receiving node that should be employed for reception. Each node
can only activate one beam at a time for either transmission or recep-
tion.
1
23
4
B
B-1
Directional coverage area 
Omni-directional coverage area 
Fig. 1. A node equipped with a switched beam antenna with B beams.
Two nodes, i and j, are considered one-hop neighbors if they are
within each other’s directional range r. Let N 1i denote the set of one-
hop neighbors of node i. Moreover, let Q be the maximum number of
one-hop neighbors of any node in the system, i.e.,Q = maxi∈N |N 1i |,
where | · | denotes the number of elements in a set. A direct transmis-
sion from node i to j (abbreviated as “transmission i→ j”) is success-
ful if 1) j is a one-hop neighbor of i, 2) i must orient its transmitting
beam in the direction of j, and 3) any one-hop neighbor k of j, k 6= i,
is not beamforming toward j. Based on this model, the maximum dis-
tance between any two nodes that will potentially interfere with each
other’s transmission is equal to twice the directional range, denoted by
the two-hop neighborhood. Let N 2i denote the set of nodes located
within the two-hop neighborhood of node i, excluding i.
The channel in the system is assumed to be time-slotted. As Fig. 2
shows, the transmission time scale is organized in fixed-length frames,
each of which consists of two subframes: a control subframe (C-
subframe) and a data subframe (D-subframe). The C-subframe con-
tains nC fixed-size control slots (C-slots), and is used by each node
to transmit control packets such that network control functions (e.g.,
neighbor detection, route discovery, and route reply) can be performed
2
keeps track of whether j receives packets (i.e., j acts as a relay or
destination) for a QoS flow.
• The route-request cache of i contains an entry for each route re-
quest control packet (RREQ) forwarded by i. This entry stores
the unique route-request identifier, the partial path, the bottleneck
bandwidth along the partial path (B BW), and the required band-
width (R BW) [see details in Section VI].
Two-Hop Relay: To construct a one-hop-neighbor-list table, each
node must first know who its one-hop neighbors are, and the orienta-
tions relative to its one-hop neighbors. This can be facilitated by pe-
riodic broadcasting of HELLO beacons. The construction of one-hop-
neighbor-list table can then be facilitated by periodically broadcasting
one-hop-neighbor lists (via a NEIGHBOR LIST control packet) for a
depth of one hop (controlled by a hop-count-limit/time-to-live field in
the control packet). To maintain the priority table, each node periodi-
cally broadcasts a PRIORITY control packet for a depth of two hops,
including information about which nodes have lower priority than it-
self to exclusively use their common D-slots,1 and the beams to be
employed for transmission in the common D-slots. To maintain the
receive table, each node periodically broadcasts a RECEIVE control
packet for a depth of one hop, consisting of only one indicator, which
indicates whether it receives packets for a QoS flow.
V. BANDWIDTH ESTIMATION, ALLOCATION, AND
REALLOCATION
This section describes the essential components of a QoS routing
protocol built on top of TTS for a mixture of QoS and BE flows in
wireless ad hoc networks with Directional Antennas. The components
of this protocol include bandwidth estimation, allocation, and reallo-
cation, and they will be fulfilled with respect to the NATDs assigned
to nodes.
A. Bandwidth Estimation (BWE)
For BWE, each node should keep track of the D-slots that have been
reserved for transmission. The set of D-slots that has been reserved for
transmission at node i is called the node reservation time of i, denoted
by NRTi. Let Ti→j denote the set of available D-slots in a frame
over which transmission i → j can be successful. The bandwidth for
transmission i→ j is then estimated as the number of D-slots in Ti→j ,
i.e., |Ti→j |. The following discussion presents a way to determine
Ti→j .
When calculating Ti→j , j ∈ N 1i , it is necessary to consider two
requirements: 1) transmission i→ j is received successfully by j, and
2) transmission i → j does not interfere with packet reception at i’s
one-hop neighbors that are located in the same direction as j when i
beamforms toward j. To meet Requirement 1, we need to take into
account the potential interferences from j and j’s one-hop neighbors
excluding i. These interferences are due to common D-slots assigned
by TTS. To utilize common D-slots without significantly increasing
too much overhead due to exchanging slot status information, the first
node that needs to use common D-slots can have priority over other
competing nodes. Because any transmission from the two-hop neigh-
borhood may interfere with a node’s transmission, it is necessary to
inform two-hop neighbors of the demand. Thus, each node needs to
periodically disseminate a PRIORITY control packet to announce that
it needs to have priority over other nodes to exclusively use common
D-slots and the beams to be employed for transmission in the common
D-slots (as stated in Section IV). Therefore, i can avoid to transmit in
1A node can determine whether a D-slot is commonly assigned to its two-hop
neighbors using the one-hop-neighbor-list table and the one-to-one mapping
between node IDs and NATDs.
the common D-slots that are being used by j’s other one-hop neigh-
bors with transmitting beams oriented in the direction of j,2 so that
transmission i → j is received successfully by j. However, it is not
clear if Requirement 2 can be met without using slot status informa-
tion. Since a node can only receive transmissions from its one-hop
neighbors, Requirement 2 can be satisfied by simply not using the D-
slots commonly assigned to one-hop neighbors of i’s other receiving
one-hop neighbors that are located in the same direction as j when i
beamforms toward j. To achieve this, in addition to PRIORITY, each
node must periodically disseminate a RECEIVE control packet to an-
nounce whether it has received packets for a QoS flow (as stated in
Section IV). Node i can then use (1), shown at the top of this page, to
determine Ti→j , j ∈ N 1i , whereN 2,pi is the set of two-hop neighbors
of i, each having an associated indicator being set in i’s priority table,
and N 1,j,ri denotes the sets of one-hop neighbors of i, each receiving
packets for a QoS flow and located in the same direction as j when i
beamforms toward j. The complement operation in (1) is taken with
respect to the set of D-slot indices in a frame.
0
7
9
5
12
12
12
12
43
43
43
43
Fig. 4. An example network consisting of 4 nodes, each of which is equipped
with a switched beam antenna with B = 4 beams.
Example 2: Consider the example topology shown in Fig. 4 and the
example set of NATs in Example 1. For illustration, the assignment of
NATs to nodes is designed specially as follows: NATDi = Si, i ∈
N = {0, 5, 7, 9}. Suppose NRTi = ∅, ∀i ∈ N .
1) From (1), we observe that initially, Ti→j = NATDi for each
i ∈ N and j ∈ N 1i as none of the nodes in the network
have priority to exclusively use common D-slots. Suppose a
QoS flow f1 whose destination is node 5 arrives at node 0,
and requires bandwidth of one D-slot in a frame. Then, sup-
pose node 0 admits flow f1 to the network by reserving D-
slot 0 for transmission 0 → 5, i.e., NRT0 = {0}. Thus,
T0→5 = T0→7 = NATD0 − NRT0 = {1, 2}. After noticing
D-slot 0 is also assigned to its two-hop neighbor 9, node 0 dis-
seminates a PRIORITY control packet. Finally, all other nodes
update their individual priority tables by setting the indicator as-
sociated with the table entry for node 0 and keeping a record of
beam 4 used by node 0. Then, according to (1), we have
T9→5 =
(
NATD9 − NRT9
)⋂ ⋃
k∈{0}
NATDk
⋂
(⋃
k′∈∅
NATDk′
)
= {5, 7},
2This is based on priority table and one-hop-neighbor-list table.
4
D. Bandwidth Reallocation (BWR)
Terminating ongoing QoS-flow connections changes the reserva-
tions at nodes along the QoS path. To maximize bandwidth utilization,
each node should perform BWR for all its served QoS flows whenever
its reservation status changes due to termination of QoS-flow connec-
tions. BWR at individual nodes is fairly simple, and can be achieved
by repeating Algorithm 1 in Section V-B for each served QoS flow.
VI. ROUTING WITH QOS SUPPORT
Depending on the flow requirements, the goal of a routing protocol
with QoS support is to find a path P with sufficient bandwidth and, if
needed, determine/reserve the set of D-slots that the nodes along path
P will use to carry traffic. Let P = {v0 → v1 → · · · → vh−1 → vh}
where 1) h ≥ 1 denotes the path length in terms of hop count, 2) v0 is
the source, 3) v1, . . . , vh−1 are relays, and 4) vh is the destination. For
a mixture of QoS and BE flows, bandwidth priority is usually given to
QoS flows and all BE flows then share the residual bandwidth. Thus,
on one hand, for a QoS flow with a bandwidth requirement of b >
0 free D-slots in each frame, nodes v0, v1, . . . , vh−1 along path P
must find and reserve b free D-slots in each frame to transmit to their
respective downstream one-hop neighbors without collision (i.e., to
allocate b free D-slots in each frame for successful transmission vi →
vi+1, i ∈ {0, 1, . . . , h− 1}). On the other hand, since BE flows have
lower priority of bandwidth usage and are delay-tolerant, no bandwidth
reservation is required at the nodes along path P .
Similar to DSR [15], the proposed QoS routing protocol is based on
source routing and works on disseminating route-searching packets as
necessary. This protocol uses a source-routing based approach because
it can specify directly which route a flow will use. This ensures that
the packets of the flow only go through the specified route established
by admission control. Admission control is performed alongside route
discovery and route reservation, both of which are flow based.
A. Route Discovery and Route Reply
The aim of route discovery is to find a route between the source and
destination that should have enough resources for a flow, while route
reply is mainly used to notify the source of a potentially satisfactory
path. Route discovery uses the flooding method to broadcast a route
request control packet (RREQ) if required. Each RREQ should contain
the following information:
< S ID,D ID,R list,B BW,R BW,NH list >
where
• S ID: source’s ID;
• D ID: destination’s ID;
• R list: a list of nodes discovered so far that can act as relays for
a flow. It has the format (v1, . . . , vh−1). Each vi, 1 ≤ i ≤ h− 1,
is a node ID, such that {S ID → v1 → · · · → vh−1} represents
the current partial path;
• B BW: bottleneck bandwidth along the current partial path (i.e.,
minimum per-hop bandwidth along the current partial path);
• R BW: required bandwidth (i.e., the number of D-slots in a frame
that will be reserved for the flow). Note that the R BW of a QoS
flow is greater than zero, whereas that of a BE flow should be set
equal to zero;
• NH list: a list of next-hop nodes in the format ((vh0 , b0), (vh1 ,
b1), . . . , (vhm−1 , bm−1)) where m denotes the number of trans-
mission vh−1 → j’s, j ∈ N 1vh−1 , whose bandwidth is not less
than R BW. Each node vhi , 0 ≤ i ≤ m− 1, can serve as a next
hop of node vh−1 to extend the current partial path such that the
new path (i.e., {S ID → v1 → · · · → vh−1 → vhi}) can still
satisfy the bandwidth requirement. The corresponding parameter
bi represents the number of available D-slots in a frame that vh−1
can use to transmit to vhi successfully.
Now suppose that a node (i.e., the source) is requesting to establish
a flow connection with a bandwidth requirement of R BW ≥ 0 D-slots
in a frame to another node (the destination). First, the source executes
the following algorithm to obtain an NH list.
Algorithm 2:
Step 0 (parameter definition)
Suppose node i wants to find an NH list for a flow with a band-
width requirement of R BW ≥ 0 D-slots in a frame. Let
NH list = ∅.
Step 1 (choosing next-hop candidates)
For each one-hop neighbor j of i, use (1) to calculate Ti→j .
If |Ti→j | ≥ R BW > 0, append (j, |Ti→j |) to the NH list.
Otherwise, if R BW = 0, append (j, |Ti→j | + |ENATi|) to the
NH list.
If Algorithm 2 returns an empty NH list, the source simply rejects
the flow. Otherwise, the source first determines if the destination is
listed in the NH list. If so, a satisfactory one-hop path has been found,
and the source can commence route reservation. Otherwise, the source
prepares an RREQ with 1) an empty R list, 2) B BW =∞, and 3) the
NH list returned by Algorithm 2. The source then sends the RREQ to
all of its one-hop neighbors.
When an intermediate node, say i, receives an RREQ, it must de-
termine if i is a node ID listed in the NH list of the received RREQ.
If not, i ignores this request; otherwise, it appends its node ID to the
R list and updates B BW of the received RREQ as follows:
B BW = min{bk,B BW}, (2)
where bk is the second element of the pair (vhk , bk) with vhk = i in the
NH list. If this RREQ was not forwarded before (to discover loop-free
routes), i performs Algorithm 2 with the input parameter R BW of the
received RREQ to find a new NH list. If the new NH list is an empty
set, i simply discards the received RREQ; otherwise, i determines if
the destination is listed in the new NH list. If so, a potentially satisfac-
tory path has been formed and route reply should be initiated; if not, i
stores the partial path information of the received RREQ in its route-
request cache, replaces the old NH list of the received RREQ with the
new one, and sends the RREQ to all of its one-hop neighbors. On the
other hand, if the RREQ was previously forwarded, i determines if the
partial path of the received RREQ has a better B BW than that in its
route-request cache. If so, i updates the partial path information in the
route-request cache; if not, i discards the received RREQ.
To initiate route reply, the intermediate node that notices the forma-
tion of a potentially satisfactory path uses the pair in the new NH list
that corresponds to the destination to update B BW according to (2).
The intermediate node then sends a route reply control packet (RREP)
to the source, which should contain the following information:
< S ID,R list,B BW > .
The information in the RREP is copied directly from the correspond-
ing fields in the received RREQ. The RREP then travels in the re-
verse direction of R list through unicast. Each time an intermediate
node receives an RREP, it selects a more favorable partial path from
its route-request cache if available. The return RREP is then updated
and forwarded to the source accordingly.
B. Route Reservation and Data Transmission
Each RREP reaching the source carries a potentially satisfactory
path. After receiving RREPs, the source can use the path returned
6
• Average end-to-end delay: Average time interval from the time a
packet is generated at the source until the time the packet reaches
its destination.
C. Simulation Results and Discussion
This study discusses the simulation results in two parts. The first
part evaluates the performance of the routing schemes with trivial TTS
in the C-subframe, while the second part evaluates performance with
non-trivial TTS in the C-subframe.
1) Using Trivial TTS in the C-subframe: In this part, the underly-
ing MAC protocol in the C-subframe is the trivial TTS. Thus, there is
no penalty on performance caused by collision/loss of control packets
because transmissions scheduled by trivial TTS are guaranteed to be
collision-free/successful.
TABLE II
PERFORMANCE OF ROUTING SCHEMES VERSUS THE AVERAGE REFRESH
INTERVAL T IN HOP RELAY IN STATIC NETWORKS WITH ONLY QOS
TRAFFIC FOR FIXED nD = 49: (A) AGGREGATE THROUGHPUT (PKTS/S);
(B) QOS VIOLATION RATE (PKTS/S); (C) FLOW REJECTION RATE (%); (D)
CONTROL OVERHEAD (MBYTES); (E) AVERAGE END-TO-END DELAY (S).
T B = 1 B = 2 B = 4 B = 8
(A)
10 382.24 446.54 605.00 867.64
20 370.21 430.72 613.56 849.62
30 365.34 415.92 608.16 828.08
(B)
10 -14.40 -27.48 -30.56 -33.30
20 -30.50 -37.08 -44.52 -45.50
30 -36.80 -46.42 -55.20 -55.34
(C)
10 63.24 53.47 36.36 22.12
20 63.44 53.87 36.02 23.80
30 63.51 55.02 36.42 24.81
(D)
10 4.881 4.761 5.057 5.948
20 3.018 3.302 3.264 3.983
30 2.525 2.747 2.727 3.382
(E)
10 0.2314 0.2446 0.2629 0.2769
20 0.3349 0.3443 0.3482 0.3918
30 0.4094 0.4156 0.4457 0.4504
a) Effect of the Average Refresh Interval in Hop Relay: Given a
fixed number nD = 49 of D-slots in a frame, Table II compares the
performance results versus the average refresh interval T in hop relay
for static networks consisting of N = 56 randomly positioned nodes.
Table II(A) shows that the aggregate throughput does not change
significantly as T varies. The aggregate throughput increases with in-
creasing number B of beams. This is because a large B enhances the
spatial reuse and reduces cochannel interference.
Table II(B) shows that the QoS violation rate increases with increas-
ing T . This is because information for BWE may become stale if the
average refresh interval is too large. The QoS violation rate of the pro-
posed scheme is still close to zero, although the standard radio model
is adopted in the simulations.
Table II(C) shows the flow rejection rate. The lower the flow rejec-
tion rate, the higher the aggregate throughput.
Table II(D) shows that the control overhead of the proposed scheme
decreases with a large T . This is because the proposed scheme needs
two-hop information.
Table II(E) shows that the delay of the proposed scheme increases
with increasing T or B. This is because there are more false admis-
sions with a large T and the network becomes saturated with a large
B.
The following discussion uses T = 20 as the default average re-
fresh interval in hop relay because it gives a good tradeoff between
efficiency and overhead.
TABLE III
PERFORMANCE OF ROUTING SCHEMES IN STATIC NETWORKS CONSISTING
OF 56 NODES WITH MIXED TRAFFIC: (A) AGGREGATE THROUGHPUT
(PKTS/S); (B) QOS VIOLATION RATE (PKTS/S).
B = 1 B = 2 B = 4 B = 8
(A) 428.12 452.36 632.28 859.14
(B) -43.82 -51.60 -56.34 -60.66
b) Network Performance with Mixed Traffic: Given a fixed num-
ber nD = 49 of D-slots in a frame, Table III shows the performance
results for static networks consisting of N = 56 randomly positioned
nodes, where the traffic includes a mixture of QoS and BE flows.
For illustration, in each of the simulation runs, five BE flows of CBR
sources start to establish connections at 10 s and remain in the network
until the end of the simulation. As Table III(A) shows, the aggregate
throughput of the proposed scheme increases, as compared with the
case where the traffic includes only QoS flows [i.e., Table II(A)], and
the QoS violation rate of the proposed scheme remains close to zero.
This indicates that the QoS support for admitted QoS flows is rela-
tively unaffected when nodes can transmit in the D-slots that were not
originally assigned to them (i.e., ENAT).
2) Using Non-Trivial TTS in the C-subframe: This subsection in-
vestigates the feasibility of using non-trivial TTS as the underlying
MAC protocol in the C-subframe. For illustration, this study only
presents performance results for static networks consisting of N = 56
nodes with only QoS traffic for fixed nD = 49. To schedule 56
node transmissions in the C-subframe, AP(7) is chosen to generate
a set of M = 56 NATCs. Thus, the number of C-slots in a frame is
nC = 49 < N = 56. For ease of comparison, the control overhead
of a routing scheme with non-trivial TTS in the C-subframe is normal-
ized by dividing it by that of the same scheme with trivial TTS in the
C-subframe.
TABLE IV
PERFORMANCE OF ROUTING SCHEMES WITH NON-TRIVIAL TTS IN THE
C-SUBFRAME IN STATIC NETWORKS WITH ONLY QOS TRAFFIC FOR FIXED
nC = nD = 49: (A) AGGREGATE THROUGHPUT (PKTS/S); (B) QOS
VIOLATION RATE (PKTS/S); (C) FLOW REJECTION RATE (%); (D)
NORMALIZED CONTROL OVERHEAD; (E) AVERAGE END-TO-END DELAY
(S).
B = 1 B = 2 B = 4 B = 8
(A) 251.02 333.92 453.90 546.40
(B) -135.68 -173.68 -260.68 -298.66
(C) 66.60 65.93 41.45 30.37
(D) 6.510 6.755 6.548 6.723
(E) 0.2435 0.3394 0.3509 0.3636
Table IV presents the performance results. In the random-topology
scenario, when the MAC in the C-subframe is the non-trivial TTS
constructed from AP(7), the guarantee of collision-free C-slots for
every one-hop neighbor in each C-subframe may not hold at indi-
vidual nodes. Therefore, control packets carrying information rele-
vant to QoS provisioning may be lost. Comparing Table IV with Ta-
ble II reveals one main effect of control packet loss on performance:
the aggregate throughput of the variant schemes decreases, whereas
the flow rejection rate increases. This is primarily due to the loss of
RREQs/RREPs, which causes some QoS flows whose bandwidth con-
sumptions are not beyond the capacity of the network to be rejected.
8
國科會補助專題研究計畫項下出席國際學術會議心得報告 
                                     日期：100年06月13日 
計畫編號 NSC 99－2221－E－309－004－ 
計畫名稱 多躍式隨意網路下結合方向性天線之服務品質通訊協定設計 
出國人員
姓名 蘇益生 
服務機構
及職稱 
長榮大學資訊工程學系 
助理教授 
會議時間 
100年 06月 10日
至 
100年 06月 11日 
會議地點 日本京都 
會議名稱 2011 IEEE International Workshop on Computer-Aided Modeling Analysis and Design of Communication Links and Networks (CAMAD) 
發表論文
題目 
A Low-Complexity Cross-Antenna Rotation and Inversion Scheme for 
PAPR Reduction of STBC MIMO-OFDM Systems 
一、參加會議經過 
第一天 (6/10) 9:30AM 先在報到處簽到並領取會議資料，稍後即參加會議的開幕
式。在第一天的會議中，總共出席三場 Session，分別是 Architectures and Protocols，
Performance Optimization and Routing 以 及 Smart Grid and Energy-Efficient 
Communications，其中在第二場進行發表論文。 
在第二天 (6/11) 的會議中，除了出席三場 Session：Modeling and Simulation Tools，
Quality of Experience 以及 Cognitive Radio，亦參加 Keynote speech，其主題是 
“Introduction to R&D Activities for New-Generation Networks” 以及  “Towards QoE 
oriented design and management of communication services”。 
 
二、與會心得 
參與2011 IEEE CAMAD 會議，除了可與其他專家學者做面對面的交流外，亦可瞭
解目前最新的發展情況以及訓練語言的表達能力。以下是後學參加此會議的一些發現： 
 
1. TDMA Based MAC Protocol for Wireless Capsule Communications: This paper 
 1
 3
for secondary users while consuming less average transmit power. 
 
三、考察參觀活動(無是項活動者略) 
   無 
 
四、建議 
   參加國際會議，除了能獲知世界各地學者專家目前正從事之研究趨勢，又能置
身其中參與討論，互相腦力激盪，不但能提升研究的深度與動力，同時亦可帶動學
術研究成果，是提升國內研究水準的大好機會。希望有足夠的經費，鼓勵出國參加
國際會議。 
 
五、攜回資料名稱及內容 
會議議程、會議論文集電子檔 
 
六、其他 
   無 
 
 
      
 
 
 
A Low-Complexity Cross-Antenna Rotation and Inversion Scheme for PAPR 
Reduction of STBC MIMO-OFDM Systems
Yi-Sheng Su (Chang Jung Christian University, Taiwan); Tsung Cheng Wu (I-Shou University, Taiwan); 
Chung-Hsuan Wang (National Chiao Tung University, Taiwan); Min-Kuan Chang (National Chung Hsing 
University, Taiwan)
WLAN-WiMAX Vertical Handover Hybrid Satisfaction Mechanism
Mohammed Shakil (University of Jordan, Jordan); Nizar Zorba (University of Jordan, Jordan); Cosmas 
Adam (MTN, Cyprus); Christos Verikoukis (Telecommunications Technological Centre of Catalonia, Spain)
Multi-Stage Optimization Framework for Transporting 100-GbE over OTN with 
Distributed Differential Delay Compensation
João Santos (Nokia Siemens Networks Portugal SA, Portugal); João Manuel Ferreira Pedro (Instituto de 
Telecomunicações, Portugal); Paulo Monteiro (Nokia Siemens Networks Portugal, Portugal); João Pires 
(Instituto de Telecomunicações, Portugal)
Link longevity-based routing mechanisms for Aviation Ad Hoc network
Nguyen My (Chulalongkorn University, Thailand); Yoshikazu Miyanaga (Hokkaido University, Japan); 
Chaiyachet Saivichit (Chulalongkorn University, Thailand)
Geographic Location-based Distributed Routing System
Kumiko Kobayashi (The University of Eletro-Communications, Japan); I Gusti Bagus Baskara Nugraha (The 
University of Electro-Communications, Japan); Hiroyoshi Morita (University of Electro-Communications, 
Japan)
3:40 PM - 4:00 PM
Coffee break
4:00 PM - 5:40 PM
Smart Grid and Energy-Efficient Communications
Chair: Joel J. P. C. Rodrigues (Instituto de Telecomunicações, University of Beira Interior, Portugal)
Self-Management for Energy-Efficiency Adaptations in Access Networks
Cornelia Kappler (Huawei Technologies Duesseldorf GmbH, Germany); Rudolf Roth (Fraunhofer FOKUS, 
Germany); Mirko Schramm (Huawei Technologies Duesseldorf GmbH, Germany); Jens Tiemann 
(Fraunhofer FOKUS, Germany)
Integrated Simulation of Power and Communication Networks for Smart Grid 
Applications
Kevin Mets (Ghent University, Belgium); Tom Verschueren (Ghent University, Belgium); Chris Develder 
(Ghent University - IBBT, Belgium); Tine Vandoorn (Ugent, Belgium); Lieven Vandevelde (Ghent 
University, Belgium)
Energy Efficient Predictive AMC with Adaptive SNR-based Power Allocation in MIMO 
Radio Networks
Ying-Hsin Liang (Nankai University of Technology, Taiwan); Ben-Jye Chang (National Yunlin University of 
Science and Technology, Taiwan); Ren-Hung Hwang (National Chung-Cheng University, Taiwan); Tzung-
Shiun Tsai (Chaoyang University of Technology, Taiwan)
Analysis of Plug-in Hybrid Electrical Vehicle Admission Control in the Smart Grid
Melike Erol-Kantarci (University of Ottawa, Canada); Jahangir H. Sarker (University of Ottawa, Canada); 
Hussein Mouftah (University of Ottawa, Canada)
Energy Efficiency Analysis for MIMO Transmission Schemes in LTE
Olayinka Adigun (Kingston University, United Kingdom); Christos Politis (Kingston University, United 
Kingdom)
6:30 PM - 8:30 PM
Workshop Dinner
Saturday, June 11
9:00 AM - 11:00 AM
Modeling and Simulation Tools
Chair: Shoji Kasahara (Kyoto University, Japan)
Modeling and Analysis of CFO Pre-Synchronization for STBC-OFDM-based Multi-hop 
Cooperative Transmissions in WSNs
Zhen Gao (Tianjin University, P.R. China); Mary Ann Ingram (Georgia Teck, USA)
Design and Implementation of a Simulation Environment for Network Virtualization
Marc De Leenheer (Ghent University, Belgium); Jens Buysse (Ghent University, Belgium); Kevin Mets 
(Ghent University, Belgium); Bart Dhoedt (Ghent University, Belgium); Chris Develder (Ghent University -
IBBT, Belgium)
Iterative Partitioning Scheme for Distributed Simulation of Dynamic Networks
Aditya Kurve (The Pennsylvania State University, USA); Christopher H. Griffin (The Pennsylvania State 
University, USA); George Kesidis (Pennsylvania State University, USA)
Relaying in Wireless Networks Modeled through Cooperative Game Theory
Luca Canzian (University of Padova, Italy); Leonardo Badia (Università degli Studi di Padova, Italy); 
Michele Zorzi (Università degli Studi di Padova, Italy)
LTE PHY Performance Analysis under 3GPP Standards Parameters
Fahimeh Rezaei (University of Nebraska Lincoln, USA); Michael Hempel (University of Nebraska-Lincoln, 
USA); Hamid Sharif (University of Nebraska-Lincoln, USA)
Agent Based Middleware for Private Data Mashup in IPTV Recommender Services
Ahmed M Elmisery (WIT, Ireland); Dmitri Botvich (WIT, Ireland)
A Low-Complexity Cross-Antenna Rotation and
Inversion Scheme for PAPR Reduction of
STBC MIMO-OFDM Systems
Yi-Sheng Su†, Tsung-Cheng Wu‡, Chung-Hsuan Wang, and Min-Kuan Chang
Abstract—In this paper, a reduced-complexity cross-antenna
rotation and inversion (CARI) scheme based on the cross-entropy
(CE) method is proposed for the reduction of peak-to-average
power ratio (PAPR) in multiple-input multiple-output orthog-
onal frequency division multiplexing (MIMO-OFDM) systems
with space-time block coding (STBC). A few PAPR reduc-
tion techniques for STBC MIMO-OFDM systems have been
proposed in the literature, among which the CARI technique
can significantly reduce the PAPR by fully utilizing additional
degrees of freedom provided by employing multiple transmit
antennas. However, the CARI technique requires an exhaustive
search over all combinations of rotation and inversion, whose
complexity increases exponentially with the number of subblocks.
To simultaneously reduce the complexity and offer lower PAPR,
the PAPR reduction with CARI technique is formulated as a
combinatorial optimization problem and then the CE method
is applied to search the optimal combination of rotation and
inversion. Simulation results show that the proposed CE-based
scheme is an efficient method to greatly reduce the complexity
for larger numbers of subblocks while still achieving significant
PAPR reduction of STBC MIMO-OFDM systems.
Index Terms—Multiple-input multiple-output (MIMO), or-
thogonal frequency division multiplexing (OFDM), peak-to-
average power ratio (PAPR), space-time block coding (STBC),
cross-entropy (CE) method.
I. INTRODUCTION
Multiple-input multiple-output orthogonal frequency divi-
sion multiplexing (MIMO-OFDM) with space-time block cod-
ing (STBC) is a very attractive technique for high data rate
transmission over frequency-selective fading channels [1].
However, as with single-input single-output OFDM (SISO-
OFDM), one of the major drawbacks of STBC MIMO-OFDM
is the high peak-to-average power ratio (PAPR) of the signals
transmitted on different antennas.
A straightforward way to reduce the PAPR in STBC MIMO-
OFDM systems would be to apply the PAPR reduction ap-
proach proposed for SISO-OFDM systems [2], [3] to each
antenna separately. However, the side information (SI) re-
quired to recover the signal successfully at the receiver would
increase proportionally with the number of antennas [4], [5].
Another way would be to investigate the PAPR reduction over
†Y.-S. Su is with the Department of Computer Science and Information
Engineering, Chang Jung Christian University, Tainan, Taiwan, R.O.C.
‡T.-C. Wu is with the Department of Communication Engineering, I-Shou
University, Kaohsiung, Taiwan, R.O.C.
C.-H. Wang is with the Department of Electrical Engineering, National
Chiao Tung University, Hsinchu, Taiwan, R.O.C.
M.-K. Chang is with the Department of Electrical Engineering, National
Chung Hsing University, Taichung, Taiwan, R.O.C.
multiple antennas concurrently. For example, the concurrent
selective mapping (cSLM) in [6] applies common scrambling
sequences to multiple antennas in generating signals represent-
ing the same information in order to reduce SI. Following the
same idea for reducing SI, cross-antenna rotation and inversion
(CARI) [7] has been proposed. The CARI scheme is an effi-
cient technique that fully utilizes additional degrees of freedom
provided by employing multiple transmit antennas. The CARI
scheme can significantly reduce the PAPR in STBC MIMO-
OFDM systems, but unfortunately, it requires an exhaustive
search to solve a difficult combinatorial optimization problem
whose complexity grows exponentially with the number of
subblocks. To reduce the complexity, suboptimal solutions
have been proposed in [7]. Although these suboptimal schemes
can be practically implemented, their PAPR reduction capabil-
ity is limited.
In this paper, we first formulate the PAPR reduction with
CARI technique as a combinatorial optimization problem,
and then apply the cross-entropy (CE) method to solve the
problem. Simulation results show that the proposed CE-based
scheme greatly reduces the complexity due to the large number
of subblocks while still achieving significant PAPR reduction
of STBC MIMO-OFDM systems. To the best of our knowl-
edge, our work is the first to apply the CE method to reduce
the PAPR in STBC MIMO-OFDM systems.
The rest of the paper is organized as follows. In Section II,
the CARI scheme and the related combinatorial optimization
problem are described in detail. In Section III, a reduced-
complexity CARI scheme based on the CE method is pro-
posed. Simulation results and discussions are provided in
Section IV, and finally, Section V concludes this paper.
II. CARI SCHEME TO REDUCE PAPR IN STBC
MIMO-OFDM SYSTEMS
A. PAPR Definition
In OFDM modulation technique, a block of N data symbols
{Xn, n = 0, . . . , N − 1}, called one data block and denoted
as a vector X = [X0, . . . , XN−1], will be transmitted in
parallel such that each modulates a different subcarrier using
a typical modulation scheme such as PSK or QAM. The N
subcarriers are chosen to be orthogonal. The resulting discrete-
time baseband OFDM signal x[k] can be expressed as
x[k] =
1√
N
N−1∑
n=0
Xne
j2πnk
LN , k = 0, . . . , LN − 1, (1)
IEEE 16th International Workshop on Computer Aided Modeling and Design of Communication Links and Networks (CAMAD)978-1-4244-7635-0/11/$26.00 ©2011 IEEE 31
the fraction of the “elite” samples and · is the ceiling
function.
4) Evaluate Pt = [ptij ]1≤i≤M ;1≤j≤4 with
ptij =
∑Q
q=1 I{vtq,i=j}I{F (vtq)≤γt}∑Q
q=1 I{F (vtq)≤γt}
, (3)
where I{·} is an indicator of an event {·} and vtq,i, i =
1, . . . ,M , denotes the i-th element of vtq .
5) Update Pt smoothly via Pt = λPt + (1 − λ)Pt−1 in
order to prevent a fast convergence to a local optimum,
where λ ∈ (0, 1) is called a smoothing parameter.
6) Output the optimal v∗ if the predefined number T of
iterations is reached. Otherwise, increase t by 1 and
return to Step 2.
Remark: The number of SI bits required by the CE-CARI
scheme is the same as with the CARI scheme, which is equal
to S = 2M .
B. Complexity Discussion
Since the complexity for each sample in the CE-CARI
scheme is O(LN logLN) complex multiplications due to
the LN -point IFFT operations, the complexity of CE-CARI
scheme can be expressed as O(ULN logLN), where U is
the total number of samples generated, i.e., U = Q × T .
Similarly, successive suboptimal CARI (SS-CARI) and ran-
dom suboptimal CARI (RS-CARI) schemes proposed in [7]
have, respectively, complexities of O(MLN logLN) and
O(V LN logLN), where V denotes the total number of per-
muted sets randomly generated in the RS-CARI scheme. In ad-
dition, the cSLM scheme would have the same complexity as
the RS-CARI scheme if the number of scrambling sequences
generated in the cSLM scheme is equal to V .
IV. SIMULATION RESULTS AND DISCUSSION
In this section, some simulated performance of the CE-
CARI scheme is presented and compared with that of cSLM,
SS-CARI, and RS-CARI schemes. Since the CARI scheme
requires an exhaustive search, we show simulation results
only for suboptimal CARI schemes. In order to keep similar
complexity, in the cSLM scheme, data blocks are also divided
into M subblocks. Then for each subblock, 4 phase weighting
factors from the set {±1,±j} are employed to produce 4
different sets. In the results which follow, in order to keep
similar complexity with that of CE-CARI scheme, both the
number of permuted sets randomly generated in the RS-CARI
scheme and the number of scrambling sequences generated
in the cSLM scheme are set equal to the total number of
samples generated in the CE-CARI scheme. In order to get
the complementary cumulative distribution function (CCDF),
CCDF = Pr[PAPR > PAPR0], 105 random data blocks are
generated. In our simulation, 2 transmit antennas and QPSK
modulation are used. The transmitted signal is oversampled
by a factor of L = 4 for accurate PAPR. In the CE-CARI
scheme, ρ = 0.1, λ = 0.8, and unless mentioned otherwise,
the algorithm is stopped when the iteration number t exceeds
T = 10. The reasons for setting ρ = 0.1 and λ = 0.8 are based
6 7 8 9 10 11
10−3
10−2
10−1
100
PAPR
0
 [dB]
C
C
D
F 
(P
r[P
A
P
R
 >
 P
A
P
R
0
])
Original OFDM
cSLM
SS−CARI
RS−CARI
CE−CARI
M = 16
M = 32
(a)
6 7 8 9 10 11
10−3
10−2
10−1
100
PAPR
0
 [dB]
C
C
D
F 
(P
r[P
A
P
R
 >
 P
A
P
R
0
])
Original OFDM
cSLM
SS−CARI
RS−CARI
CE−CARI
M = 16
M = 32
(b)
Fig. 2. Comparison of PAPR reduction among different schemes: (a) N =
128; (b) N = 256.
on the recommendation of [10] and our empirical findings
for this problem. Choosing T = 10 is to find solutions with
limited complexity.
In Fig. 2(a), the CCDF of the PAPR with N = 128
subcarriers is shown. Here, the sample size for the CE-CARI
scheme is Q = 32. It is seen from the figure that, for given M ,
the proposed CE-CARI scheme performs best. Additionally, as
M increases from 16 to 32, the CE-CARI scheme has more
advantages over other schemes. By comparing CE-CARI with
RS-CARI, it reveals the benefits of updating the probability
matrix P in the CE-CARI scheme. This is because in the RS-
CARI scheme, the discrete uniform distribution is employed
to generate permuted sets. From Fig. 2(b), similar results
are obtained with N = 256 subcarriers. Accordingly, in the
following discussion, we restrict our attention to the case with
N = 128 subcarriers.33
[7] M. Tan, Z. Latinovic´, and Y. Bar-Ness, “STBC MIMO-OFDM peak-to-
average power ratio reduction by cross-antenna rotation and inversion,”
IEEE Commun. Lett., vol. 9, pp. 592–594, July 2005.
[8] J. Tellado, “Peak to average power ratio reduction for multicarrier
modulation,” PhD thesis, University of Stanford, Stanford, 1999.
[9] S. M. Alamouti, “A simple transmit diversity technique for wireless
communications,” IEEE J. Select. Areas Commun., vol. 16, pp. 1451–
1458, Oct. 1998.
[10] R. Y. Rubinstein and D. P. Kroese, The Cross-Entropy Method, Berlin,
Germany: Springer, 2004. 35
99 年度專題研究計畫研究成果彙整表 
計畫主持人：蘇益生 計畫編號：99-2221-E-309-004- 
計畫名稱：多躍式隨意網路下結合方向性天線之服務品質通訊協定設計 
量化 
成果項目 實際已達成
數（被接受
或已發表）
預期總達成
數(含實際已
達成數) 
本計畫實
際貢獻百
分比 
單位 
備 註 （ 質 化 說
明：如數個計畫
共同成果、成果
列 為 該 期 刊 之
封 面 故 事 ...
等） 
期刊論文 0 0 100%  
研究報告/技術報告 0 0 100%  
研討會論文 0 0 100% 
篇 
 
論文著作 
專書 0 0 100%   
申請中件數 0 0 100%  專利 已獲得件數 0 0 100% 件  
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 0 0 100%  
博士生 0 0 100%  
博士後研究員 0 0 100%  
國內 
參與計畫人力 
（本國籍） 
專任助理 0 0 100% 
人次 
 
期刊論文 0 0 100%  
研究報告/技術報告 0 0 100%  
研討會論文 0 0 100% 
篇 
 
論文著作 
專書 0 0 100% 章/本  
申請中件數 0 0 100%  專利 已獲得件數 0 0 100% 件  
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 0 0 100%  
博士生 0 0 100%  
博士後研究員 0 0 100%  
國外 
參與計畫人力 
（外國籍） 
專任助理 0 0 100% 
人次 
 
