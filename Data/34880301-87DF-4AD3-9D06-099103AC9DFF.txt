2 
 
The key design point is using the 
mechanical device to control our hydrogen 
generation rate automatically. The 
mathematical model was built to describe 
the process. In Section 4, The linear 
control analysis method was used to 
evaluate the control performance and 
determine the size of the feed storage tank, 
control valve, reactor hold-up. Finially, the 
design procedure was generated in this 
section. 
2. CONCEPTUAL STRUCTURE 
DESIGN OF A SELF-CONTROL 
SYSTEM 
2.1 Process description 
A NaBH4 solution with an alkaline 
stabilizer, NaOH, reacts with water to 
generate hydrogen and sodium 
metaborate(NaBO2) in the presence of a 
catalyst. The catalytic hydrolysis reaction 
for hydrogen generation is irreversible, 
heterogeneous, and highly exothermic, 
with the heat of reaction of 210 kJ/mol 
(Zhang et  al., 2006): 
NaBH4 + 2 H2O  4H2(g) + NaBO2(s) (1) 
This reaction system also has several 
advantages, including, hydrogen can be 
produced even when the temperature is 0 
℃, the hydrogen generation rate can be 
easily controlled, and an alkaline NaBH4 
solution is nonflammable and stable. 
2.2  Product specification 
The specification of the hydrogen 
generation system is 50Wh with nine 
hour’s operating time. The operating 
temperature and pressure are 60℃ and 
1atm, respectively. The kinetic model of 
the catalyst is first-order. The pre-
exponential factor and activation are 9.07 
x 108 L/min and 53.7 kJ/mol which are 
regression from experminent data by 
ITRI/EEL (Hung et al., 2007). 
2.3 Conceptual design of a sodium 
borohydride hydrolysis reaction for 
hydrogen generation system 
In order to get the on-demand hydrogen 
generation, it needs to implement the 
control device to control the hydrogen 
generation rate. Considering the weight 
and the volume of the hydrogen generation 
system, the control device needs to design 
as simple as possible. The basic idea of the 
reactor design includes feed flowrate 
control strategy which can achieve the 
hydrogen on-demand purpose without 
using auxiliary pump. The simplest way to 
get the control performance target is 
measuring the reactor pressure to control 
the feed flowrate. When the hydrogen 
produces more in the reactor, the feed 
flowrate will be decreased. Otherwise, the 
feed flowrate increase. A new conceptual 
design of a hydrogen generation on-
demand system shows in figure 1. The 
reactor device consists of feed storage tank, 
feed mechanical control device, and 
reactor hold-up. Feed storage tank contains 
reactant NaBH4(aq) solution. The effluent 
from the feed storage tank is fed to the 
reactor by gravity force. The reaction takes 
place in the reactor and produces hydrogen 
and NaBO2. The control valve is used to 
control the feed flowrate into the reactor in 
order to maintain the desire hydrogen 
flowrate. When hydrogen generates more 
in the reactor, the gas volume will expand 
to press the membrane. The control valve 
opening becomes smaller, which means 
the feed flowrate will decrease. 
(a)                          (b)                       (c) 
NaBH4(aq.)
     
NaBH4(aq.)
H2
NaBH4(aq.)
H2
 
Figure 1. Self-control structure design of a 
sodium borohydride hydrolysis reaction 
for hydrogen generation system (a) 
Components of the device, (b) In use, 
(c)Stop. 
4 
 
volume of the reactor due to membrane 
expansion. The valve is fully open when 
the stem is completely down and wide 
closed when the stem is at the top of its 
stroke. Then, the eq. (4) can be rewritten 
as: 
set
H
sggg
W
n
ncatNaBH
sggg
W F
VVP
RRT
Wr
VVP
RRT
dt
d
2
,max,
,4
,max, )(
)1(
4
)(
)1(


  (6) 
Table 1. Products of reaction rate constant 
and catalyst weight, coefficients of 
regression and correlation coefficients for 
the entire range for zero-order, first-order, 
Langmuir-Hinshelwood at 10, 30, 40 and 
60 ℃. 
 
 
When hydrogen generates more in the 
reactor, the gas volume will expand to 
press the membrane. The control valve 
position becomes smaller, which means 
the feed flowrate will decrease. When the 
control valve fully closes, the reactor gas 
pressure (Pg) equals to the feed inlet 
pressure (PF). 
)()()(0 gFVVvol PPxfCPxfCF   (7) 
If the static pressure in the bottom of the 
feed storage tank (PL = Patm + gh) is 
larger than the pressure (Pg) in the reactor, 
the valve will keep opening with a 
continuous feed flowrate supply. Linear 
valve opening was used, the valve open 
fraction can be written as: 
)(xf  (8) 
Because of the isothermal operation of the 
reactor, the energy balance equations are 
negligible in this system. Eqs. (2) to (8) 
can be solved by using the Euler method, 
the code is programmed in FORTRAN. 
3.2 Linear model analysis 
The device of the H2 generation process 
has the function of self-regulation with 
pressure driving to adjust feed flowrate to 
meet the demand of the hydrogen 
generation. The black diagram of the 
process shows in figure 3. FsetH2 is the 
hydrogen demand of the PEM fuel cell. 
FH2 generates from the reaction of the 
liquid NaBH4 solution. The gas volume of 
the reactor will expend when the hydrogen 
generation rate from the reaction of the 
liquid NaBH4 solution is higher than the 
demand of  the PEM fuel cell. 
Simultaneously, the valve position will 
move upward to close the feed inlet 
flowrate.  
In order to analyze the control 
performance of our control scheme, the 
linear model needs to build for assessment 
the dynamic performance of the hydrogen 
generation rate. Assume all the reactants 
(NaBH4(aq)) used out in the exist of the 
reactor. The liquid volume of the reactor 
keeps constant. Eq. (2) can be simplified 
and rewritten as:  
GC GV GP
FsetH2
+-
FH2e l F0
 
Figure 3. The block diagram of the self-
control hydrogen generation system device. 
n
WkCF
dt
Cd
n
V
n
WkCFF
dt
Cd
n
V
n
WkCFF
dt
Cd
n
V
n
WkCFF
dt
Cd
n
V
cat
nNaBHnNaBH
nNaBHL
cat
iNaBHiNaBHiNaBH
iNaBHL
cat
NaBHNaBHNaBH
NaBHL
cat
NaBHNaBHNaBH
NaBHL
,41,4
,4
,4,41,4
,4
2,42,41,4
2,4
1,41,40,4
1,4
)(
                                                      
)(
                                                      
)(
)(








 (9) 
6 
 
rate for 50 W PEMFC is 600 ml/ min. 
Density of NaBH4, water, and NaBO2 are 
1070, 1000, and 2460 kg/m3. The feed 
flowrate and feed storage tank were 
determined from hydrogen generation rate 
(600 ml/min) which is continually effluent 
from the reactor around 9hr, and its values 
are 2.1 ml/min and 1134 ml, respectively. 
The diameter and the height of the feed 
storage tank are 10 cm and 15 cm. 
Assumed the gas expansion volumes of the 
reactor are 1000 ml, 100 ml, and 10 ml, 
and the valve opening locates at 50%. 
Valve size coefficient (CV) definition 
shows in Eq. (6) and its value is 0.00242. 
The values of KC, KV and KP are 1760.2, 
0.0153 and 0.2439, respectively. 
The dynamic response of the linearization 
hydrogen generation model shows in 
figure 4. The result shows that if we 
decrease the gas expansion volume of the 
reactor from 1000 ml, 100 ml, and 10 ml, 
the setting time of the hydrogen generation 
rate will reduce first and increase after the 
value. This means it exists a best gas 
expansion volume of the reactor which can 
achieve the best dynamic performance of 
the hydrogen generation rate. From figure 
4, the hydrogen generation rate exists an 
optimal setting time when the gas 
expansion volume of the reactor changes 
from small to large. 
Comparing the characteristic eqation of eq. 
(16) with second order standard 
form  1222  ss  , we can obtain the time 
constant and damping coefficient with 
compare the coefficient of eq. (16) and 
second order standard form: 
PVC
P
KKK
   (17) 
  5.02 1 PVCp KKK   (18) 
In order to keep the dynamic performance 
of the hydrogen production rate, we 
assigned the value of the closed loop 
damping coefficient () to be 0.717 
(Luyben and Luyben, 1997) which is 
based on level control setting. Using Eq. 
(13), the optimal gas expansion volume of 
the reactor(VC) can be derived analytically: 
  gfV
OH
NaBH
OHNaBH
NaBH
Fgcat
WL
C PPC
w
w
Mw
w
M
RPkW
RRTVV 



 



 


2
4
24
42
11
111
1
)1()4(



 
 (19) 
0 2 4 6 8 100
200
400
600
800
1000
1200
Time (min)
F H
2 
(m
l/m
in
)
VC=100 ml
VC=1000 ml
VC=10 ml
 
Figure 4. The dynamic response of the 
hydrogen generationg rate with different 
gas expansion volumes (VC=Vg,max-Vg,s). 
 
From eq. (19), the optimal gas expansion 
volume of the reactor  is a function of the 
reactor temperature, pressure. 
 
4. OPERABILITY ANALYSIS 
 
4.1 Temperature effect 
The optimal gas expansion volume of the 
reactor shows in Eq. (19). The operating 
tempertature of the reactor increases wih 
an increasing gas expansion of the reactor. 
This is caused by large amount of water 
vapor generated with an increased 
operating temperature. The result shows in 
Figure 5. 
 
4.2 Pressure effect 
The maximum operation pressure of the 
hydrogen generation system depends on 
the PRIMEA membrane pressure resistant 
of the PEMFC. In order to prevent 
crossover for PEMFC, the hydrogen 
operation pressure in anode side shall be 
less than 2.35 atm (Hung, et al., 2007). 
The gas expansion volume of the reactor 
reduces a factor of Pg2/Pg1. 
 
8 
 
M.C. (2008). Catalytic activity of cobalt 
deposited on nanostructured poly (p-
xylene) films, J. Power Sources, 182, 323–
328. 
Metin O. and Ozkar S. (2007). Hydrogen 
generation from the hydrolysis of sodium 
borohydride by using water dispersible, 
hydrogenphosphate-stabilized nickel(0) 
nano-clusters as catalyst, Int J Hydrogen 
Energy, 32, 1707–1715. 
Patel N., Patton B., Zanchetta C., 
Fernandes R., Guella G. and Kale A. 
(2008). Pd–C powder and thin film 
catalysts for hydrogen production by 
hydrolysis of sodium borohydride, Int J 
Hydrogen Energy, 33, 287–292. 
Pena-Alonso R., Sicurelli A., Callone E., 
Carturan G. and Raj R. (2007). A 
picoscale catalyst for hydrogen generation 
from NaBH4 for fuel cells, J. Power 
Sources, 165, 315–323. 
Zhang, J.S., Fisher, T.S., Gore, J.P. and 
Hazra D. (2006). Ramachandran PV. Heat 
of reaction measurements of sodium 
borohydride alcoholysis and hydrolysis, 
Int. J. Hydrogen Energy, 31, 2292-2298. 
Zhang J.S., Delgass W.N., Fisher T.S. and 
Gore J.P. (2007). Kinetics of Rucatalyzed 
sodium borohydride hydrolysis, J. Power 
Sources, 164, 772–81. 
Zhao J.Z., Ma H. and Chen J. (2007). 
Improved hydrogen generation from 
alkaline NaBH4 solution using carbon-
supported Co–B as catalysts, Int J 
Hydrogen Energy, 32, 4711–4716. 
RDT08 
  
報告內容應包括下列各項： 
一、參加會議經過   
    本次會議是在新加坡(River view hotel)舉行。會議從 7 月 25 日到 7 月 28 日，共是 4
天的議程。本人於 24 日中午抵達，並於 25 日會場並且註冊，晚上參加歡迎會。於此次會
議擔任 keynote speaker 於 26 日的下午進行專題演講，並於 26 日下午發表壁報論文，27
日下午擔任反應器設計(Reactor design)會議室之共同主持人。 
 
二、與會心得 
  亞洲程序系統工程研討會（PSEASIA）每兩年舉行一次，主要與會國家為台灣、日本、
韓國、新加坡、中國等亞洲國家。此次會議在新加坡(Riverview hotel)舉行。接近 200 多個
學者參與。此次大會還邀請 Delaware 大學的 B. A. Ogunnaike 教授與 Max Planck institute
的 K. Sundmacher 教授進行專題演講演。 
本屆大會主題主要針對，全球程序工程所面對的挑戰，進行能源、水、健康醫療及環
境等幾類的主題進行討論，其中討論的主軸為程序模式化、規劃與排程、最適化、控制與
操作、生物程序、程序整合、安全、反應蒸餾設計等方向。相關研究目前仍相當受到重視，
本人發表的部份為程序工程之能源應用，會場中韓國也做了相當多的氫能源能研究，因此
受益良多，得到許多研究相關的知識。 
    此次參與會議主要有兩部份的論文研究，一是受邀在第三天下午之 keynote 
presentation，受邀演講主題為 Optimal Design and Control Strategies of an Experimental 
Methane Steam Reformer，內容為蒸氣重組產氫之模擬與實驗設計、控制與啟動策
略，剛好符合本次 PSE 之主軸，剛好可將程序系統工程，應用至目前最熱門的能源
領域中，演講會後與各研究學者交流後發現。大多數程序系統工程領域，缺乏工廠
的實驗數據，因此大多以模擬的方式進行，對於實驗數據較為缺乏。因此對於氫能
源領域研究，可取得實驗數據與模擬驗証相互佐証，多數表肯定。由此次演講之感
想，針對跨領域之研究，程序系統工程可多與其他化工材料與機械的領域之研究學
者合作，以提升理論基礎(如最適化設計與操作、控制等)証明工作。 
  本次另一篇論文為壁報形式發表，題目為 Self-control Structure Design of a Sodium 
Borohydride Hydrolysis Reaction for Hydrogen Generation System，此論文強論程序在設計初
期即考慮到控制的效能，在解說時段以英語和不同國家的學者交換心得，並討論後續可能
的研究方向。另外，同時擔任第四天下午會議的 co-chair，與印度 GE 之 V. Sai 共同主持反
應器設計之會議，會議中剛好有馬來西亞的演講者報告產氫相關的反應器設計，有相當的
交流與討論。 
    參加此次的國際性會議讓我視野更開闊，也了解國際間在學術上的競爭與交流，每一
個與會人士都是有備而來，對於有興趣的主題大家都不會輕易讓機會消失，非常踴躍而主
動的討論，因此更顯得英文的聽說讀寫都相當重要，演講的技巧也很重要，可以讓台下的
聽眾容易有共鳴，親身參與會議更可以直接獲得與研究相關的訊息和交流，以及意見的回
饋。最後，由衷感謝國科會提供補助，減輕大部分的經濟負擔。 
 
三、考察參觀活動(無是項活動者省略) 
四、建議 
    我國應多主動的補助、舉辦國際會議，此將促進學術交流與國際合作的機會，對於提
昇國際競爭力與國際學術地位亦有助益。  
五、攜回資料名稱及內容 
PSEASIA2010 會議手冊：大會議程、論文摘要 
論文集(USB)：論文全文及索引 
六、其他 
 
Proc. of the 5th International Symposium on Design, Operation and Control of Chemical Processes
the fuel processor [Chuang et al., 2008; Lin et al., 2005]. Studies on dynamic behavior of the 
fuel processor have received some attention lately, and typically the relationships between 
feed conditions and dynamic responses were explored in [Lin et al., 2006]. The start-up 
dynamics was explored in [Chen et al., 2006] in order to devise a more efficient start-up 
strategy.
2. Experimental
An experimental fuel processor was designed and installed in the facility of the Union 
Chemical Laboratory (UCL) of the Industrial Technology Research Institute (ITRI). The 
entire fuel processor set-up is composed of several reactors, heat-exchangers and a burner. A 
detailed drawing of the system with methane, water and oxygen as feed is presented in Fig. 1. 
The various feeds enter the system at room temperature and their individual flow rates can be 
adjusted. The mixed feed first passes through a heat-exchanger, the temperature of which 
increases slightly. Next, the feed passes through a pipe on the top of the reformer, which is 
coiled down in the outside, and then enters the reformer. A burner is placed under the 
reformer. It also uses methane as fuel and supplies heat directly to the reformer for pre-
heating and reaction purposes. The reformer is made of stainless steel 304 that has a good 
heat-transfer capability. A honeycomb catalyst carrier is placed inside the reformer and the 
catalyst is coated on a ceramic carrier. The catalyst was developed by UCL of ITRI and is a 
Ru/CeO2-ZrO2 catalyst. The reformer and burner are wrapped together in insulation mate- 
rials to prevent heat loss. The reactor effluent exits out from the top of the reformer and is 
further processed in a series of water–gas shift reactors and preferential oxidation reactors. 
The hot reformer effluent is cooled down by means of a heat-exchanger and direct water 
injection before entering the water–gas shift reactors. The temperatures of the water–gas shift 
reactors are arranged in decreasing order, i.e., water injection between reactors is devised to 
cool down the syn-gas. There are two high-temperature water–gas shift reactors (HTS1 and 
HTS2) and one low-temperature water–gas shift reactor (LTS). The operating temperature is 
between 300 and 400 ƕC for the HTSs, which contain a Pt/mixed-oxide catalyst that has been 
developed by UCL of ITRI and is coated on honeycomb carriers. The operating temperature 
of the LTS is between 190 and 250 ƕC and a commercial Cu-ZnO/Al2O3 catalyst is used. 
Oxygen is introduced directly before the syngas enters the preferential oxidation reactors 
(PROX). The reactions are promoted by a catalyst that has been prepared by UCL of ITRI 
and contains 3 wt.% Pt. The objectives of the experimental set-up are: 
(1) to test the reactivity and property of the catalysts developed by UCL of ITRI; 
(2) to obtain operating parameters to achieve the desired hydrogen flowrate and carbon 
monoxide concentration;
(3) to compare the efficiencies of the different reaction pathways (Autothermal reforming and 
steam reforming). 
 The experiment is operated in three stages: (i) heat-up, (ii) autothermal reforming, (iii) steam 
reforming. In the first 5 min, methane and air (oxygen) is fed into the reformer to carry out 
the combustion reaction and a large quantity of fuel is added to the burner to heat up the 
catalyst and the monolith support of the reformer. The purpose of this stage is to heat the 
reformer to the reaction temperature. The next step is to add water and the reformer follows 
the autothermal reforming (ATR) pathway.Asuitable amount of fuel is added to maintain the 
reformer inlet temperature at about 667 ƕC. Finally, the air feed is stopped after 3.5 h with 
only methane and water as feeds. This implies that because of a higher operating temperature 
as well as strong exothermic reaction, the amount of fuel fed to the burner is larger than that 
required in the pathway. The results of typical experimental runs are given in Figs. 2, 3. The 
81
Proc. of the 5th International Symposium on Design, Operation and Control of Chemical Processes

(A) (B)
Fig. 3. (A) Inlet temperatures of HTS1, HTS2, LTS, PROX1 and PROX2 at start-up 
and ATR pathway stage. (B) CO concentration, methane conversion and H2
concentration at reformer outlet and various reactor outlets in gas-cleaning unit. 
 (1) 
 (2) 
where Fi is the molar flow rate of component i at the axial position; W the catalyst weight; rj
the rate of reaction j; ӹji the stoichiometric coefficient of component i for the reaction j; T 
and TW the reaction temperature and metal wall temperature, respectively; 'H298j the heat of 
reaction for reaction j; U the heat-transfer coefficient; DI the inner-diameter of the reactor; 
CPi the heat capacity of component i; ӹ is the density of the catalyst. This is a heated PFR 
with heat transferred from the metal wall to the reactor. Because an outer coil is placed to 
heat up the reactant, the temperature of the reactor wall is modeled as: 
 (3) 
where kcond is the heat conductivity of the reactor wall; TA the temperature of the pipe that is 
coiled down the outside of the reactor, and DO is the outer-diameter of the reformer. The 
kinetics of these reactions are listed in Table 1. Corresponding rate constants obtained from 
the regression of the steady-state data are shown in Table 2. 
Generally, the CO concentration out of the LTS was still too high, so the preferential 
oxidation reaction (PROX) was performed. An oxygen injection device was installed at the 
inlet of PROX, and then CO was further oxidized to CO2, while, simultaneously, H2 was 
oxidized to H2O. Note that a H2O stream is injected right before the PROX to bring the 
temperature from 241 oC (LTS outlet) down to 150 oC (PROX inlet). Both reactions in the 
PROX are exothermic reactions. The rate expressions are given in Table 1 [Amphlett et al.,
1996; Choi and Stenger, 2003; Trimm and Lam, 1980; Xu and Formet, 1989] and 
corresponding parameter values are shown in Table 2 for the entire fuel processor. 
3.2 Dynamic modeling 
Homogeneous reactor models were set up to describe the dynamic behavior of the 
experimental fuel processor. The assumptions and simplifications made for the system are: 
(1) Constant pressure in the fuel processor (1 bar). 
(2) Ideal gas behavior for each component. 
(3) Temperature of the vapor and solid phase being the same. 
83
Proc. of the 5th International Symposium on Design, Operation and Control of Chemical Processes

is the heat capacity of the gas in the nth lump and Wcat,nis the weight of the catalyst in the nth
lump. rn,j is the reaction rate of the nth reaction at the nth section, 'HR,j is the heat of reaction 
for the nth reaction, U is the overall heat transfer coefficient, DI is the inner diameter of the 
reactor and US is the density of the carrier. The component material balance for the ith 
composition becomes 
 (5) 
where Uav is the averaged density of the gas in the reforming reactor. VR,n is the volume of the 
gas in the nth lump of the reformer, Xi,j is the stoichiometric coefficient of the i th component 
under j th reaction and yn,i is the mole fraction of the i th component in the nth lump. 
The reactor metal wall temperature is also lumped as follows: 
 (6) 
where mw,n is the weight of the metal reactor wall in the nth lump, CPw,n is the heat capacity of 
the metal reactor wall, kcond is the thermal conductivity of the reactor wall and Do is the outer 
diameter of the reforming reactor. TA represents the ambient temperature. The inlet of the 
reformer is heated by a burner and the temperature can be expressed as: 
 (7) 
where CP is the heat capacity of the feed and MF is the molar holdup of the burner. QF is the 
heat needed for preheating and Tf is the temperature of the fresh feed, which is assumed to be 
25 ƕC. The relationship between the reactor inlet temperature Tin (To is the lumped notation) 
and the reactor wall temperature at the inlet (Tw,o is the lumped notation) is established from a 
regression model of the form Tw,o = 1.65To í 864. The energy balance equations describing 
the burner provide the inlet conditions for the reformer gas and metal wall temperatures. The 
composition and temperature profiles can be evaluated by solving these ordinary differential 
equations. Similarly, the equations describing water gas shift reactor and PROX can be 
derived. The energy balance equation and the component material balance equation become: 
 (8) 
 (9) 
The modeling equations of the HTS1, HTS2, LTS and PROX were assumed to be adiabatic 
and they were simpler than the modeling equation of the reformer. The rate expressions of the 
reactions (rj) that take place in the fuel processor were obtained from the regression of the 
experimental data as shown in Table 1 and the parameter values are given in Table 2. Table 3 
summarizes the steadystate operating condition with a H2O/CH4 feed ratio of 1.45, O2/CH4
85
Proc. of the 5th International Symposium on Design, Operation and Control of Chemical Processes
up. Fig. 5 reveals that, as expected, the dynamic responses for the SR pathway are slower 
than that of the ATR pathway because of higher reaction temperature and endothermic nature 
of the reaction mechanism. Due to the lack of complete information for the dynamic behavior 
of the gas cleaning unit, we scale the dynamic of each reactor proportional to the size of the 
reactors. So the dynamic models of HTS1, HTS2, LTS and PROX were also set up to explore 
dynamics and control of the fuel processor. 
Fig. 4. Start-up dynamics of the ATR pathway: simulation (solid line) and experimental 
data (open circle) at the outlet of the ATR reactor. 
Table 4. Catalyst weight, heat capacities and dimensions for the reactors 
4. CONTROL STRUCTURE DESIGN 
In order to accommodate the load changes in a PEMFC, the hydrogen flow rate from the fuel 
processor should be adjusted to satisfy the power demand. The control objective simplest 
possible control structure. The control structure uses the hydrogen production rate as the 
throughput manipulator, denoted as the on-demand control structure hereafter. The on-
demand control structure, the H2 production rate is adjusted directly by the downstream 
demand. A change in the H2 production rate leads to a variation in the system pressure and, 
subsequently, the CH4 feed flow is changed. Therefore, the control structure consists of the 
following loops: 
(1) H2 production rate is under flow control. 
(2) CH4 feed flow rate is adjusted by the reformer pressure controller. 
87
Proc. of the 5th International Symposium on Design, Operation and Control of Chemical Processes
Fig. 6. On-demand control structure. 
Fig. 7. Closed-loop responses for ±20% on-demand H2 production rate changes without 
CO composition control (solid line for +20% increase and dashed line for í20% change). 
89
Proc. of the 5th International Symposium on Design, Operation and Control of Chemical Processes
The 5th International Symposium on   PSE ASIA 2010 
Design, Operation and Control of Chemical Processes  July 25-28, 2010, Singapore 


Fig. 9 Sensitivities of heat capacity flow rate (Q) and CO concentration at the outlet of 
the ATR reactor by changing (A) air-to-carbon ratio, (B) CH4 flow rate, (C) eam-to-
carbon ratio, (D) CH4 flow rate while fixing air-to-carbon and steam-to-carbon ratios. 
5.1.2  Air-to-carbon ratio 
The second likely manipulated variable is the air-to-carbon ratio where the air flow rate is 
adjusted while fixing CH4 and steam flow rates. This manipulated input is used by 
Springmann et al. (2004) to speed up the start-up. Large excess of oxygen favors the partial 
oxidation reaction (Table 1) and the heat flux toward the gas cleaning unit goes up 
accordingly. The temperature at the ATR outlet also goes up as a result of highly exothermic 
partial oxidation reaction as shown in Fig. 9. However, a higher reactor temperature results in 
a higher equilibrium conversion for the steam reforming (generating more CO) and a lower 
conversion for the exothermic water gas shift reaction (converting less CO to CO2). Thus, we 
have a higher CO concentration as shown in Fig. 9. Unlike changing S/C ratio, adjusting the 
air-to-carbon ratio has a positive effect on the heat flux (Q) and a less favorable effect on CO 
91
Proc. of the 5th International Symposium on Design, Operation and Control of Chemical Processes

problem can be formulated as an optimization problem, provided the shape of feed 
manipulation (e.g., Fig. 10). The objective is to minimize the start-up time (tstartup) which is 
defined as the time where CO concentration at PROX outlet reaches 45 ppm and remains 
below 45 ppm for t > tstartup. The optimization problem can be expressed as 
Fig. 10. Optimization variables, pulse height (h), pulse duration (td), and ramp down 
slope (S), for start-up time minimization. 
  (10) 
where h is the pulse height, td the duration time, S the ramp down slope, and hmax is the 
allowable input change. The results show that optimal td and S are 17 min (td) and í0.096 (S), 
respectively. With this setting, simulation result shows that the start-up time can be reduced 
by a factor of 25% (as compared to the nominal control structure-based start-up, tstartup = 37.5 
min) and becomes tstartup = 28 min. 
Fig. 11. Cold start-up of the fuel processor with pulse duration time of 10 min (dashed), 
18 min (solid), and 35 min (dot). 
5. CONCLUSION 
The experimental fuel processor is intended to provide hydrogen for a proton exchange 
93
SELF-CONTROL STRUCTURE DESIGN OF A 
SODIUM BOROHYDRIDE HYDROLYSIS REACTION FOR 
HYDROGEN GENERATION SYSTEM 
Yih-hang Chena and Yung-Sheng Loa 
aDepartment of Chemical and Materials Engineering 
Tankang University, Taipei conunty, Taiwan 
Corresponding Author’s E-mail: yihhang@mail.tku.edu.tw
ABSTRACT 
In this work, we report on the modeling of an on-demand hydrogen generation device for fuel 
cell applications. The on-demand hydrogen generation device consists of a feed storage tank 
followed by a mechanical feed inlet control device, and reactor hold up drum. The effluent 
from the feed storage tank is fed to a reactor with Ru-based catalyst and generated hydrogen 
in the reactor. Feed flowrate was controlled by a control valve which adjusted by the pressure 
of the reactor. In order to optimize the dynamic performance of the hydrogen generation rate, 
our derivation shows the reset time of the controller is a function of the gas expansion volume 
of the reactor. The optimal gas expansion volume of the reactor was decided by achieving 
best dynamic response of hydrogen generation rate. Finally, we explore the design procedure 
for the mechanical hydrogen generation device design.  
Keywords: Sodium borohydride, Hydrolysis reaction, Hydrogen generation, Mechanical 
device design, Self-control.
1. INTRODUCTION 
Hydrogen has become one of the most promising future energy resources due to concerns 
about global warming and the depletion of fossil fuels. Hydrogen generation from the 
hydrolysis reaction of an alkaline sodium borohydride solution (NaBH4) has drawn much 
attention due to its theoretically high hydrogen storage capacity (10.8 wt%). In addition, it is 
favored as the hydrogen supplier for proton exchange membrane (PEM) fuel cells due to the 
high purity of the hydrogen. [Hung et al., 2008] have been reviewed the kinetic model of 
hydrolysis reaction for an alkaline NaBH4 solution. For different catalysts such as ruthenium 
[Zhang et al., 2007], platinum [Kojima et al., 2004], palladium [Patel et al., 2008], nickel 
[Metin and Ozkar, 2007], cobalt [Malvadkar et al., 2008], Co–B [Zhao et al., 2007], Ni–B 
[Dong et al., 2003], Ni–Co–B [Jngersoll et al., 2007], carbon nanotubes (CNT) [Pena et al., 
2007] have been extensively studied. Major kinetic models of hydrolysis reaction for an 
alkaline NaBH4 solution catalog into three types which are zero-order,first-order and 
Langmur-Hinshewood. 
In order to control the hydrogen generation flowrate, feed flowrate needs to be adjusted by 
varying the power demand of the PEMFC. In general, the system needs a pump to control the 
feed flowrate. In order to light and compact the system weight and size, conceptual design of 
a mechanical device with self-control algorithm was used to achieve the on-demand hydrogen 
generation purpose. 
This manuscript is organized as follows: In Section 2, we propose a self-control structure of a 
sodium borohydride hydrolysis reaction for hydrogen generation system. In Section 3, the 
Proc. of the 5th International Symposium on Design, Operation and Control of Chemical Processes
Copyright c© 2010 PSE ASIA 2010 Organizers.
ISBN: 978-981-08-6395-1
1155
Proc. of the 5th International Symposium on Design, Operation and Control of Chemical Processes
(1) Isothermal operation in the reactor. 
(2) Well-mixing in the reactor. 
(3) First-order reaction kinetic. 
(4) Neglect the control valve dynamics. 
(5) Fixed the reactor liquid volume. 
(a)                               (b)                               (c) 
NaBH4(aq.)

NaBH4(aq.)
H2
NaBH4(aq.)
H2

Figure 1 Self-control structure design of a sodium borohydride hydrolysis reaction for 
hydrogen generation system(a) Components of the device, (b) In use, (c) Stop. 
3.1 Modeling 
The liquid level of the feed storage tank will be decreased by effluent of the NaBH4(aq)
solution to the reactor for generating hydrogen. The liquid level variation of the feed storage 
tank with respect to time is: 
∑−=
i i
i
i
F
F
MF
dt
dhA
ρ
0 ; 
atmF PghP += 101325/ρ                                                   (2
) 
                        
AF and hF are cross section area (m2) and height of the feed storage drum (m). PF is the feed 
inlet pressure (atm). Mi and ρi are the molecular weight (g/mol) and density (kg/m3) with 
respect i’th component. F0 is the inlet mole flowrate (mol/min). Here, i denotes NaBH4 and 
H2O. g is standard acceleration of gravity and its value is 9.8 m/s2. 
From the mole balance and the stoichiometric relationship the variation of the number of 
moles of NaBH4 with respect to time is the product the liquid solution volume, which can be 
expressed as follows: 
Liquid phase of the reactor:
The variation of the number of moles of component with respect to time is: 
1157
Proc. of the 5th International Symposium on Design, Operation and Control of Chemical Processes
set
H
sggg
W
n
ncatNaBH
sggg
W F
VVP
RRT
Wr
VVP
RRT
dt
d
2
,max,
,4
,max, )(
)1(
4)(
)1(
−
+
−
−
+
= ∑A                                                  (6) 
When hydrogen generates more in the reactor, the gas volume will expand to press the 
membrane. The control valve position becomes smaller, which means the feed flowrate will 
decrease. When the control valve fully closes, the reactor gas pressure (Pg) equals to the feed 
inlet pressure (PF). 
)()()(0 gFVVvol PPxfCPxfCF −=Δ=                                                                                    (7) 
If the static pressure in the bottom of the feed storage tank (PL = Patm + ρgh) is larger than the 
pressure (Pg) in the reactor, the valve will keep opening with a continuous feed flowrate 
supply. Linear valve opening was used, the valve open fraction can be written as: 
A=)(xf                                                                                    (8) 
Because of the isothermal operation of the reactor, the energy balance equations are 
negligible in this system. Eqs. 2 to 8 can be solved by using the Euler method, the code is 
programmed in FORTRAN. 
3.2 Linear model analysis 
The device of the H2 generation process has the function of self-regulation with pressure 
driving to adjust feed flowrate to meet the demand of the hydrogen generation. The black 
diagram of the process shows in Fig. 3. FsetH2 is the hydrogen demand of the PEM fuel cell. 
FH2 generates from the reaction of the liquid NaBH4 solution. The gas volume of the reactor 
will expend when the hydrogen generation rate from the reaction of the liquid NaBH4 
solution is higher than the demand of  the PEM fuel cell. Simultaneously, the valve position 
will move upward to close the feed inlet flowrate. 
In order to analyze the control performance of our control scheme, the linear model needs to 
build for assessment the dynamic performance of the hydrogen generation rate. Assume all 
the reactants (NaBH4(aq)) used out in the exist of the reactor. The liquid volume of the reactor 
keeps constant. Eq. 2 can be simplified and rewritten as:
GC GV GP
FsetH2 FH2e l F0

Figure 3 The block diagram of the self-control hydrogen generation system device. 
1159
Proc. of the 5th International Symposium on Design, Operation and Control of Chemical Processes
)()1/)(1(
4
)()1/(
4
)()()()(
0
0,4
,22,21,22
sF
skWVR
sF
skWV
sFsFsFsF
mol
catLF
NaBH
catL
nHHHH
++
=
+
=
+++= "
                                                    (12
) 
where 
cat
L
P kW
V
=τ  and )1(
4
F
P R
K
+
=
The transfer function of the hydrogen generation rate (FH2) and feed NaBH4 solution flowrate 
(FNaBH4,0) is first order transfer function. The time constant (τp) and gain are VL/kWcat and 
4/(1+RF). Where k is reaction rate constant. RF is feed molar ratio of NaBH4 and H2O.  
The relationship between feed mole flowrate and volumetric flowrate are : 
⎟⎟⎠
⎞
⎜⎜⎝
⎛
−
+
⎟⎟⎠
⎞
⎜⎜⎝
⎛
−
+
=
OH
NaBH
OHNaBH
NaBH
vol
mol
w
w
Mw
w
M
F
F
2
4
24
4
0
0
11
111
ρ
ρ
ρ
                                                                                 (13) 
Again, after linearization and Laplace transform of Eq. 7, the transfer function of feed 
flowrate ( 0molF ) and dimensionless valve opening ( A ) obtain: 
⎟⎟⎠
⎞
⎜⎜⎝
⎛
−
+
⎟⎟⎠
⎞
⎜⎜⎝
⎛
−
+
−==
=
OH
NaBH
OHNaBH
NaBH
gFV
vol
molvolmol
w
w
Mw
w
M
PPCvK
sF
sF
s
sF
s
sF
2
4
24
4
0
000
11
111
)(
)(
)(
)(
)(
)(
ρ
ρ
ρ
AA
             (14) 
After taking deviation variable, linearization and Laplace transform of Eq. 6, the transfer 
function of dimensionless valve opening ( A ) and flowrate difference between hydrogen 
demand and supply ( e ) obtain: 
s
KG
se
s C
C ==)(
)(A
                                                                                 (15) 
Where KC(=RT(1+RW)/(Pg(Vg,max-Vg,s))) is the reciprocal of the reset time of the controller.  
The gas expansion volume of the reactor(VC) defines as VC=(Vg,max-Vg,s) 
Comparing with the time constant of the reactor(τP) and the control valve (τV), the dynamic 
of the valve action can be neglected. The closed-loop transfer function can be rewritten as: 
1161
Proc. of the 5th International Symposium on Design, Operation and Control of Chemical Processes
From Eq. 19, the optimal gas expansion volume of the reactor  is a function of the reactor 
temperature, pressure. 
0 2 4 6 8 100
200
400
600
800
1000
1200
Time (min)
F H
2 
(m
l/m
in
)
VC=100 ml
VC=1000 ml
VC=10 ml

Figure 4 The dynamic response of the hydrogen generationg rate with different gas 
expansion volumes (VC=Vg,max-Vg,s). 
4. OPERABILITY ANALYSIS 
4.1 Temperature effect 
The optimal gas expansion volume of the reactor shows in Eq. 19. The operating tempertature 
of the reactor increases wih an increasing gas expansion of the reactor. This is caused by 
large amount of water vapor generated with an increased operating temperature. The result 
shows in Fig. 5. 
4.2 Pressure effect 
The maximum operation pressure of the hydrogen generation system depends on the 
PRIMEA membrane pressure resistant of the PEMFC. In order to prevent crossover for 
PEMFC, the hydrogen operation pressure in anode side shall be less than 2.35 atm [Hung, et 
al., 2007]. The gas expansion volume of the reactor reduces a factor of Pg2/Pg1. 
20 30 40 50 60 70 800
0.1
0.2
0.3
0.4
0.5
Reactor temperature (oC)
G
as
 
e
xp
an
si
o
n
 v
o
lu
m
e 
(V C
) (L
) ξ=0.717
ξ=0.359
1163
Proc. of the 5th International Symposium on Design, Operation and Control of Chemical Processes
REFERENCES
Dong H., Yang H. X., Ai X. P. and Cha C. S. Hydrogen production from catalytic hydrolysis 
of sodium borohydride solution using nickel boride catalyst, Int J Hydrogen Energy, 28, 
1095–1100. 2003. 
Hung A. C., Sung L.Y., Ward J. D., Chen Y. H. and Yu C.C. Operation-Relevant Modeling 
of an Experimental Proton Exchange Membrane Fuel Cell, J. Power Sources, 171, 728-737, 
2007. 
Hung A. J., Tsai S. F., Hsu Y. Y., Ku J.R., Chen Y. H. and Yu C. C. Kinetics of Sodium 
Borohydride Hydrolysis Reaction for Hydrogen Generation, Int. J. Hydrogen Energy, 33, 
6205-6215, 2008. 
Ingersoll J. C., Mani N., Thenmozhiyal J. C. and Muthaiah A. Catalytic hydrolysis of sodium 
borohydride by a novel nickel–cobaltboride catalyst, J. Power Sources, 173, 450–457, 2007. 
Kojima Y., Suzuki K., Fukumoto K., Kawai Y., Kimbara M. and Nakanishi H. Development 
of 10 kW-scale hydrogen generator using chemical hydride, J. Power Sources, 125, 22–26, 
2004. 
Luyben W. L. and Luyben M. L. Essentials of Process Control, McGraw-Hill, 1997. 
Malvadkar N., Park S., Urquidi-MacDonald M., Wang H. and Demirel M. C. Catalytic 
activity of cobalt deposited on nanostructured poly (p-xylene) films, J. Power Sources, 182, 
323–328, 2008. 
Metin O. and Ozkar S. Hydrogen generation from the hydrolysis of sodium borohydride by 
using water dispersible, hydrogenphosphate-stabilized nickel(0) nano-clusters as catalyst, Int 
J Hydrogen Energy, 32, 1707–1715, 2007. 
Patel N., Patton B., Zanchetta C., Fernandes R., Guella G. and Kale A. Pd–C powder and thin 
film catalysts for hydrogen production by hydrolysis of sodium borohydride, Int J Hydrogen 
Energy, 33, 287–292, 2008. 
Pena-Alonso R., Sicurelli A., Callone E., Carturan G. and Raj R. A picoscale catalyst for 
hydrogen generation from NaBH4 for fuel cells, J. Power Sources, 165, 315–323, 2007. 
Zhang J. S., Fisher T. S., Gore J. P. and Hazra D. Ramachandran PV. Heat of reaction 
measurements of sodium borohydride alcoholysis and hydrolysis, Int. J. Hydrogen Energy, 
31, 2292-2298, 2006. 
Zhang J. S., Delgass W. N., Fisher T. S. and Gore J. P. Kinetics of Rucatalyzed sodium 
borohydride hydrolysis, J. Power Sources, 164, 772–81, 2007. 
Zhao J. Z., Ma H. and Chen J. Improved hydrogen generation from alkaline NaBH4 solution 
using carbon-supported Co–B as catalysts, Int J Hydrogen Energy, 32, 4711–4716, 2007. 
1165
98年度專題研究計畫研究成果彙整表 
計畫主持人：陳逸航 計畫編號：98-2218-E-032-010- 
計畫名稱：產氫系統之自我調控結構設計 
量化 
成果項目 實際已達成
數（被接受
或已發表）
預期總達成
數(含實際已
達成數) 
本計畫實
際貢獻百
分比 
單位 
備註（質化說明：
如 數 個 計 畫 共 同
成果、成果列為該
期 刊 之 封 面 故
事...等） 
期刊論文 0 0 100%  
研究報告/技術報告 0 0 100%  
研討會論文 0 0 100% 
篇 
 
論文著作 
專書 0 0 100%   
申請中件數 0 0 100%  專利 已獲得件數 0 0 100% 件  
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 2 2 100%  
博士生 0 0 100%  
博士後研究員 0 0 100%  
國內 
參與計畫人力 
（本國籍） 
專任助理 0 0 100% 
人次 
 
期刊論文 1 1 100% 
10. Chen, Y. H.；
Chi, Y. H.； Chen, 
K. J.； Ward, J. D., 
2010 ＇ Design 
Procedure of an 
Experimental 
Membrane Enhanced 
Methane Steam 
Reformer ＇ , J. 
Taiwan Inst. Chem. 
Eng. (SCI, EI), 
Vol. 41, 492–499.
國外 論文著作 
研究報告/技術報告 0 0 100% 
篇 
 
已獲得件數 0 0 100%  
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 0 0 100%  
博士生 0 0 100%  
博士後研究員 0 0 100%  
參與計畫人力 
（外國籍） 
專任助理 0 0 100% 
人次 
 
其他成果 
(無法以量化表達之
成果如辦理學術活
動、獲得獎項、重要
國際合作、研究成果
國際影響力及其他協
助產業技術發展之具
體效益事項等，請以
文字敘述填列。) 
無 
 成果項目 量化 名稱或內容性質簡述 
測驗工具(含質性與量性) 0  
課程/模組 0  
電腦及網路系統或工具 0  
教材 0  
舉辦之活動/競賽 0  
研討會/工作坊 0  
電子報、網站 0  
科 
教 
處 
計 
畫 
加 
填 
項 
目 計畫成果推廣之參與（閱聽）人數 0  
