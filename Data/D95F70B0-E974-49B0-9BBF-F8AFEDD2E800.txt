 行政院國家科學委員會專題研究計畫成果報告 
 
計畫名稱：子計畫五：具視覺伺服之雙手臂順服控制與合作學習 
執行期限：民國97年8月1日至100年7月31日 
主持人：黃國勝   國立中正大學電機工程學系 
計畫編號： 97-2628-E-194-004-MY3 
 
摘要 
本篇研究方向主要是以分散式系統為基礎情況
下，設計一套適用於機器人系統相關開發的共通發展平
台，運用各自熟悉的開發環境以及專業領域來分工合
作，使機器人系統大幅簡化開發的難度以及增加使用的
重複性。此發展平台分為兩大系統：低階控制系統和高
階決策系統。且因為機器人系統的運作需要即時反應，
所以兩個系統都將移植即時性作業系統。低階控制系統
主要是控制或管理周邊硬體模組，可依照不同情境的需
求提供適當且迅速的硬體模組更換，因此將以微控制器
為核心。高階決策系統主要是將資訊透過演算法處理完
後所得決策，來決定整體系統的行為方針，以嵌入式系
統平台或電腦等高速處理器為核心。 
I. 前言 
機器人的研究與發展仍然是當今最熱門的話題之
一，隨軟硬體元件在速度與功能上突飛猛進，使機器人
在功能的發展上也大大提升許多。市面上所見之機器手
臂的控制系統多為公司自行開發且重要資訊也不對外開
放，所以通用性不大且設定更改還需透過公司技術人員
幫助下才行。因此藉由此研究開發來開發一個可共用的
系統平台，並且透過分散式系統的概念，將繁瑣的機器
人系統有效的區隔並個別處理，如此可分工合作完成各
自熟悉的工作領域以及更有效率的管理統合整體機器人
系統架構。 
II. 機器手臂整體架構設計 
發展至今的機器人系統以具有一定的複雜程度，可
分成許多不同專業領域的技術整合，如手臂機械結構、
硬體驅動電路、電力系統、感官和視覺、控制方針、運
動學規劃…等多項設計。所以對於整個機器人系統的設
計必須要各司其職的分工合作，並且需慢慢累積前人或
是其他領域開發者的基礎成果，以達到減少軟體重複開
發的時間。最後希望藉此系統開發來建構一套開發平
台，使其能運用於各個機器人系統的實際相關應用上，
因此以下列舉系統的幾項特點： 
 本身擁有豐富的硬體資源，並可供開發者擴充。 
 採用常見的程式語言開發，加速學習。 
 公開整體設計方法，讓使用者方便應用與擴充。 
 擁有管理系統資源和即時（real-time）反應能力的軟
體支援。 
 提供一個直接操作介面，讓使用與設計者快速測試整
合機器人。 
 
藉由分散式系統的理念，將機器人系統分為低階控
制系統與高階決策系統，並使此整合平台運用於機器手
臂控制上來加以驗證，如圖 1和圖 2所示。低階控制系
統主要是用於處理機器人系統的周邊硬體驅動與監控；
高階決策系統主要是運算機器人系統龐大的演算法則並
下達整體系統運作方針，但也可依照工作性質與環境的
不同而有所調整。如此分類方式也使機器人整體系統可
被有效率的規畫，硬體控制與龐大運算量各有各自的核
心專門處理，不會因為同時要處理硬體即時控制與龐大
計算量而使核心需使用成本更高、速度更快並更繁瑣的
排程來滿足整體系統運作。 
由於龐大的機器人系統需要資源管理降低系統繁雜
度，並且針對外在環境狀況做即時的反應能力，因此需
要在各個核心中移植適當的即時作業系統，藉由軟體框
架以及即時性設計完整的機器人系統。 
 
高
階
決
策
系
低
階
控
制
系
統
替代方案
Internet
或其他有
利的溝通
介面
嵌入式板
或
電腦
ECAN
ECAN
QEI
機器手臂
硬體驅動
微控制器
PWM
訊號
轉換器
馬達
Encode
馬達驅動
裝置
與另一隻手臂
與視覺結合
與更高AI決策結合
……?!
減速機構
擴充介面
 
圖 1整合開發系統平台運用架構 
 
順服控制
PID控制
機器手臂硬體驅動
溝通機制
決策
合作
學習Real-Time
OS
路徑規劃
CAN Bus
Real-Time
OS
高
階
決
策
系
低
階
控
制
系
單軸策略方針
溝通機制
圖 2整合開發系統架構 
 
III. 低階控制系統之設計 
由於低階控制系統主要以控制周邊硬體為主要目
 MCP2515作一個轉換橋接器，如圖 7所示。最後運用低
階控制系統對機器手臂的各個轉軸作個別規劃控制，並
以 CANBus技術將所有的子系統平台串接在一起。以下
將針對每一個環節的設計特點做說明。 
 
 
圖 6控制機器手臂之實現架構 
 
 
圖 7控制機器手臂之實現實體圖 
 
手臂控制在空間中執行位置移動的測試如圖 8 所
示，以精確度為 0.2度之 5個關節與規劃路徑的誤差值。 
0 2 4 6
-120
-100
-80
-60
-40
 Desired Path
 Actual Path
Jo
int
 Po
sit
ion
  (d
eg)
Time  (sec)  
(a) 
0 2 4 6
-170
-165
-160
-155
-150
-145
-140
 Desired Path
 Actual Path
 Jo
int
 P
os
iti
on
  (
de
g)
Time  (sec)  
(b) 
0 2 4 6
20
30
40
50
60
 Desired Path
 Actual Path)
Jo
int
 P
os
iti
on
  (
de
g)
Time  (sec)  
(c) 
0 2 4 6
-30
-20
-10
0
10
20
30
 Desired Path
 Actual Path
Jo
int
 Po
sit
ion
  (d
eg)
Time  (sec)  
(d) 
0 2 4 6
-40
-35
-30
-25
-20
 Desired Path
 Actual Path
Jo
int
 P
os
iti
on
  (
de
g)
Time  (sec)  
(e) 
圖 8關節的軌跡規劃:(a)關節 1的軌跡誤差。(b) 關節 2的
軌跡誤差。(c)關節 1的軌跡誤差。(d) 關節 2的軌跡誤差。
(e)關節 1的軌跡誤差。 
 
 
 
電腦的 GUI 
運用 Borland C++Builder 6作為開發軟體，設計出
如圖 9的 GUI，此人機介面將提供使用者可簡單且容易
的控制整個機器手臂架構。其中功能包含下列： 
 目前機器手臂各軸角度資訊，運用 CANBus 技術中
的遠端請求格式（Remote Frame）。 
 直接輸出機器手臂端點座標，使高階決策系統經由逆
向運動學計算出各轉軸角度後，交由低階控制系統去
驅動。 
 直接控制機器手臂單一轉軸的角度。 
 使機器手臂回復 Home點位置。 
 設定機器手臂 Home點位置。 
 
 
圖 9電腦的 GUI 
 
高階決策系統平台 
Altera公司提供給使用者一套完整的軟體開發平台
Quartus II，可運用硬體描述語言[10-12]或是此開發套件
中的SOPC Builder來撰寫程式以及建構自己所需要的
32bit NIOS II核心處理器，亦或是以此套件中的NIOS II 
IDE這套C/C++ Complier來撰寫NIOS II核心程式，其設計
架構如圖10所示。 
此處主要功能是用來處理機器手臂的運動學計算以
及機器手臂端點的路徑規劃。再來會運用一些決策與學
習機制使系統能有自主性。往後將配合視覺以及人工智
慧陸續使系統健全發展。 
 
 
圖 10高階決策系統架構圖 
 
低階控制系統平台 
可利用 Microchip 公司所提供的 ICD2[13]進行燒
錄，以及官方網頁所提供的MPLAB IDE和MPLAB C30
進行 C語言環境下的程式撰寫編譯，最後將先前的研究
[14]將 µC/OS-II移植至此平台上。圖 11只是針對此實驗
國科會補助計畫衍生研發成果推廣資料表
日期:2011/12/09
國科會補助計畫
計畫名稱: 子計畫五：具視覺伺服之雙手臂順服控制與合作學習
計畫主持人: 黃國勝
計畫編號: 97-2628-E-194-004-MY3 學門領域: 智慧型機器人
無研發成果推廣資料
其他成果 
(無法以量化表達之成
果如辦理學術活動、獲
得獎項、重要國際合
作、研究成果國際影響
力及其他協助產業技
術發展之具體效益事
項等，請以文字敘述填
列。) 
在此子計畫三年執行後，我們成果與收穫為以下三方面。 
在學術研究方面： 
 發展一具有彈性、智慧型雙手臂運動與握持控制系統。 
 研究智慧型代理人的合作與協調，以及學習功能。 
 提供一結合人機互動的學習控制方式。 
 多重代理人導向機器人工程的應用。 
 開發具即時處理能力之雙手臂視覺伺服系統。 
 獲得雙手臂運動軌跡與影像資訊相關性之研究經驗。 
 預計每年至少可完成二篇學術論文投稿於 SCI 或 EI 索引之專業期刊或會
議。 
在教學方面： 
 參與團隊合作。 
 開發大型智慧型系統以及行動機器人系統，可學習工程程序：需求擷取與分
析、設計、程式撰寫、測試、文件產生。 
 學習其他技術包括作業系統、即時系統、分散式系統領域中的訓練。 
 學習智慧型控制。 
 提供建構即時影像系統之訓練。 
 提供新開設課程如視覺伺服、機器人學之教材。 
 軟硬體結合系統開發。 
在應用方面： 
 完成智慧型雙手臂運動與握持控制系統的軟硬體架構。 
 提供一容易使用的人機互動機制，可輔肋行動不便的使用者或年老者。 
 可提昇服務機器人架構的彈性與可攜性。 
 
 成果項目 量化 名稱或內容性質簡述 
測驗工具(含質性與量性) 0  
課程/模組 0  
電腦及網路系統或工具 0  
教材 0  
舉辦之活動/競賽 0  
研討會/工作坊 0  
電子報、網站 0  
科 
教 
處 
計 
畫 
加 
填 
項 
目 計畫成果推廣之參與（閱聽）人數 0  
 
