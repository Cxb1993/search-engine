一、中文摘要 
智慧型運輸系統所需要處理的信息及資料轉換是相當多樣化的，本計畫研發智慧型
運輸系統道路信息整合應用與交通控制。本計畫共分四個子計畫進行研究。子計畫一為
用於路況報導之國語、閩南語、客語的整合式文句翻語音及語言辨識。此計畫將研究、
製作路況資訊之文字轉換成語音信號的文句翻語音系統。由於台灣地區使用的語言主要
是國語、閩南語、及客語，所以我們將發展整合式的方法，來解決這三種語言的文字翻
語音問題。子計畫二為智慧型運輸系統之信息整合與處理。此子計畫主要是去開發一智
慧型運輸系統信息整合及處理系統。該系統將具有取得低層交通訊息的能力，以及處理
高層策略選擇及推理能力。我們的系統也探討如何將相關的資訊轉成可被人理解的路況
資訊之句子，以便轉換成聽的懂語音。子計畫三為智慧運輸系統中以權衡性義務型邏輯
為決策基礎之號誌與流量控制。此子計劃提議以由原本用來塑模分析相互矛盾資訊並真
邏輯所衍生權衡性義務型邏輯(EVALP)作為號誌控制的基礎，並製作即時性智慧型號誌
燈控制器。子計畫四為以派屈網路為基礎整合道路資源與號誌控制之塑模、分析及其實
現。此計劃引進以派屈網路(Petri nets)的技術，針對現有道路系統的特徵，諸如某一路
口發生阻塞所造成鄰近路口連續發生的互動現象，進行塑模及分析的研究工作，並整合
道路信息相關資料庫及道路流量控制預估器之實現。 
Abstract 
Intelligent Transportation systems need various types of information and transformation 
mechanisms between them. This project will propose an Information Handling and 
Integration system for Intelligent Transportation Systems. This project consists of four 
subprojects. Project 1 is Mandarin, Min-Nan, and Hakka Integrated Text-to-Speech and 
Language Identification for Traffic Reporting. in this project, we hope to study and 
implement a system capable of converting traffic-information text to its corresponding speech 
signals. Since Mandarin, Min-Nan, and Hakka are the main languages spoke in Taiwan area, 
we will consider developing an integrated method to solve the three languages’ text-to-speech 
problems. Project 2 is information integration and handling system. Our system will be 
capability of acquiring low-level information and of handling decision making and reasoning 
for specified goals. We also need to translate data in database into understandable sentences 
so that when those sentences become speech, they can be understood. Thus, how to correct 
and meaningfully synthesize sentences is one research issue in this project. Project 3 adopts a 
framework of defeasible deontic logic, called EVALP (Extended Value Added Logic 
一問題，本子計劃中將以道路資源為依據，針對道路的資源的利用率逹到某一程度時，
立即對於鄰近的交通號誌進行節制，因而提高相關的道路資源的有效利用，進而解決交
通堵塞的窘態。本計劃引進以派屈網路(Petri nets)的技術，針對現有道路系統的特徵，
諸如某一路口發生阻塞所造成鄰近路口連續發生的互動現象，進行塑模及分析的研究工
作，並將其分析結果供其他子計劃使用，以達到道路信息整合的功能；例如本子計劃已
經預知某些區域道路即將阻塞，即可立即將此信息送到子計劃二的資料庫中；並且可以
將此信息告知子計劃四，可以進行號誌的控制等；而此信息亦可以使其得以評估及選取
較佳的派車路徑；同時亦可以透過子計劃一以數位資料廣播的方式，傳遞到所有的用路
人知悉。派屈網路模型近年來已被廣泛的應用在交通運輸系統中的塑模與分析，但是其
應用的範疇大都僅及討論於單一的十字路口，而且其塑模的理念並未將道路面積納入共
享資源來考量。在這領域中本子計劃所關心的問題，如果道路系統內具有任何的阻塞因
子存在，就可能會不定時的造成交通系統無可避免的堵塞發生，其中主要包括有：主要
幹線的交通的停擺並擴散至相鄰近的次要道路的阻塞，因而告成大區域的堵塞。為了避
免此一問題發生，首先要對道路系統正確的塑模，包括其所有可使用面積及號誌功能，
如此方可使得該模型可以完全反應道路系統所有資源並給予適度的節制。事實上，在考
量以上的因素，如何快速的辨認系統是否存有阻塞因子及如何有效的避免系統堵塞的情
況發生，將會是重要的研究課題。 
而在交通資訊中心方面，目前相當多文獻都稱之為Traveler and Traffic Information 
(TTI) System。而這一系統除了包含傳統的先進旅行者資訊(ATIS)及交通控管資料庫之
外，也被期望能包含如數位廣播或動態智慧路徑規劃等系統。因此可以預見的在未來的
ITS研究中，如何納入更多語音處理、動態路徑規劃、信息整合等技術對ITS的發展是相
當重要的。本研究計畫也將考慮自動路況語音查詢的系統，其中將研究、製作路況資訊
之文字轉換成語音信號的文句翻語音系統。由於台灣地區使用的語言主要是國語、閩南
語、及客語，所以我們將發展整合式的方法，來解決這三種語言的文字翻語音問題。進
一步我們也將研究這三種語言的語言辨識問題，以便能夠選取駕駛人所用的語言，來回
報路況。相對於現行的交通廣播電台的路況報導，ITS系統可以提供更多樣、更聰明的
的服務，不只是收集、報導路況，更可以作行車路徑的規劃而讓用路人避免塞車之苦。
由於這些系統須要低層的即時交通訊息，如不同地點的車流與路況等資訊，以及高層的
所選擇的策略及限制需求。因此，本計畫也必須納入一信息整合及處理系統。該信息整
合及處理系統當然必須具有取得低層交通訊息的能力，以及處理高層策略選擇及推理能
(tokenize)處理，來轉換成一序列的表徵(token)代碼，再使用此表徵序列去訓練出一個
PPM 模型。如圖 2 所示，在辨識階段裡，測試的語音信號由檔案或即時由麥克風輸入，
再經過聲道與音調各自的 GMM 和 PPM 模型作機率量測，而得到各語言的分數，分數
最高的語言，就將它輸出作為辨識的結果。 
 
 
 待測語音特徵向量
GMM 機率計算 音框表徵化 GMM 機率計算 
PPM 機率計算 
音框表徵化 
PPM 機率計算 
MFCC 
MFCC 
MFCC GMM 
MFCC 
MFCC 
MFCC PPM 
PitchGMM 
PitchGMM 
Pitch GMM 兼 
PitchGMM 
PitchGMM 
Pitch PPM 
語言分數 
MFCC 
MFCC 
MFCC 表徵器
辨識 
圖 2辨識階段之處理流程 
 訓練 訓練語料
抽取 MFCC 計算音高 
訓練 GMM 抽取軌跡特徵 
音框表徵化 訓練 GMM 
建立 PPM 表 音框表徵化 
建立 PPM 表
MFCC GMM 
MFCC PPM 
Pitch GMM 
Pitch PPM 
圖 1訓練階段之處理流程 
 
針對室外環境中可能發生的各種狀況，進行實驗驗證及討論。 
RGB→Gray
Wk,t=(1-α )*wk,t-1
, ,( , ) 5i j i jif I i j μ σ− ≤
Unmatched
remain
the same
, , ,
1
( ) ( , , )
k
t i t t i t i t
i
P X w N X μ
=
= × Σ∑
, , 1 ,(1 )k t w t k tw w Mα α−= − +
( | , )t k kN Xρ α μ σ=
1
2 2
1
(1 )
(1 ) ( ) '( )
t t t
t t t t t t
X
X X
μ ρ μ ρ
σ ρ σ ρ μ μ
−
−
= − +
= − + − −
1
arg min ( )
b
b k
k
B w
=
= >∑ T
Parameter update
N
Y
Binary image  
圖 3  The flow chart of the Gaussian mixture model process 
Gaussian
mixture model
(Block approach)
Connectivity
Size filter
label
Input
frame sequence
(RGB→Gray)
Frame
skipping
(S=1,3,5)
Several
block size
(B=4, 8, 16)
Mixture
(skpping & block )
Object mask
Object mask
 
圖 4 The flow chart of our algorithm combining block-based and frame skipping. 
子計畫三為智慧運輸系統中以權衡性義務型邏輯為決策基礎之號誌與流量控制。交
通阻塞所造成的影響除了有車行時間的延遲而造成流量的降底之外，另外還有因車子在
路上時間的拉長而衍生的排放廢氣污染、駕駛人容易勞累而發生事故、乃至於因交通成
本的提高而造成競爭力的下降。在智慧型運輸系統裏，透過下層機構所提供：車流與路
況等資訊，我們相信適當的交通號誌燈控制能有效改善交通阻塞問題。一般說來，由於
南北各左右轉至西向道路，以及西向來車進入南北向可被允許外，讓東西向直行的號誌
燈就不應該被允許，否則只會造成路口被阻塞不前的車流佔住，不能淨空，而影響到局
部的交通。類似的情況，適用於與高速公路匣道相臨的號誌燈組態的號誌燈控制。整體
來說，臨近平交道與高速公路匣道的號誌燈控制仍然屬於衝突雙方爭奪裁決的問題，只
是這時的雙方初始設定的優先順序不一樣。 
本研究參照日本中松和己教授相關的研究，其探討的研究背景與第三章中的相同，
亦為單一十字路口平交道的交通號誌控制。本研究除了針對文獻中所提到的交通情況再
提出另一套解決及真正可實行的方案，如圖 5 所示外，繼續深入討論更複雜的交通號誌
燈問題，如臨近平交道的交通號誌控制。理論共分為三大部分：(1) 權衡性邏輯；(2) 權
衡性邏輯圖；(3) FSMD；本研究使用 Java 程式語言模擬以驗證本理論的可行性及潛在
的優勢。最後依 FSMD 圖以 Verilog HDL 實作出 IC 電路，以達到可實際控制交通號誌。
這套理論基礎包含較一般性的理論－權衡性邏輯並配合圖形化的解說－權衡性邏輯圖
及用 FSMD 分析出的結果來實作成軟體模擬。期使讀者能在這三個階段中，不但由權
衡性邏輯中有全面性的交通控制想法外，另能經由權衡性邏輯圖方法清楚地了解到交通
控制問題的全面性檢視，知道那幾種情況是矛盾的，且由優先權的不同而解決這些矛
盾，最後再由 FSMD 的特性－同一時間只有一個狀態會成立，來讓結果唯一，順利達
到疏解車流的目的。由上一章的驗證及實作模擬結果都證明本研究的交通號誌控制優於
目前的交通號誌控制器，可較快解決交通擁塞的情況。而其他的資源分配問題也可依照
本方法來加以解決。 
子計畫四為以派屈網路為基礎整合道路資源與號誌控制之塑模、分析及其實現。本
子計劃主要探討交通流量與道路資源間相互依存關係，並推算出道路資源使用率與交通
流量大小之特定關係。以台北市的交通狀況而言，如有任一道路的交通流量負荷過度，
此單一事件將會立即影響到附近週圍道路交通的流暢度，進而導致整體交通系統的癱
瘓。就申請人所瞭解，此問題是由於局部道路資源(即道路使用面積)過度的使用而產
生，為解決此一問題，本計劃中將以道路資源為依據，針對道路資源的利用率逹到某一
程度時，立即對於鄰近的交通號誌進行節制，因而提高相關的道路資源的有效利用，進
而解決交通堵塞的窘態。本計劃引進以派屈網路(Petri nets)的技術，針對現有道路系統
的特徵，諸如某一路口發生阻塞所造成鄰近路口連續發生的互動現象，進行塑模及分析
的研究工作。此外，相對於封閉式的決策執行架構，本整合型計劃所提出的智慧型運輸
系統，將原專屬各子計劃的資料庫進行彙整，得到一致性的決策資料庫，以便架構各子
TIPW 信號波形合成法裡，一個音節內各音素的時間分配的比例，我們研究使用片段線
性之時間扭曲函數，來取代原先的線性扭曲方式，結果發現可讓流暢度獲得明顯的提
升。(d)整合各部分的軟體模組，製做成一個三種語言的文句翻語音系統，可在句子之
間，插入標記符號，以作動態的語言切換，目前已經過測試，可正確運轉。 
我們用數位電視棒和電視卡錄製國語、閩南語、客語的新聞語音，來源電台、總語
者數及時數如表 1 所示。所有檔案都是 16-bits、取樣率 22,050Hz 的 Windows PCM 檔案，
各種語言隨機選出 10 個語者的語料拿來訓練模型，並另外選出 3 個語者的語料作為測
試。在表 1 中，語者數(m/f)代表訓練用語者的男女人數。在測試時，我們從訓練語料中
隨機抽出一定長度的語音作為 Inside 測試的測試語料，並另外找三個語者，一樣隨機抽
出一定長度的語音作為 Outside 測試的測試語料。測試語料分為 3 秒、10 秒、45 秒，系
統整體測試時，3 秒和 10 秒各語言分別有 199 個測試檔案，45 秒則有 99 個測試檔案。
實驗系統主要以 Borland C++ Builder 6 開發，電腦平台為 Pentium4 2.40GHz、WinXP、
以及 1.5GB 的記憶體。 
表 1  語料來源及時數 
語言 來源電台 語者數 時數 
國語 台視、中視、華視、民視、公視 15 (6/4) 0.51hr 
閩南語 民視、公視、大愛 19 (6/4) 0.63hr 
客語 客家電視台、哈客廣播網 13 (5/5) 0.46hr 
 
待測語料在抽取特徵向量後，分別由四個子系統來計算機率分數，四個子系統分別
是: (1)MFCC GMM，(2)MFCC PPM，(3)Pitch GMM，(4)Pitch PPM，其畫分範圍如圖 6
所示，四個子系統算出的分數再作加權總和，即為該語言的分數。四個子系統的加權值，
分別設定為: βGMM(0:聲學特徵)=0.3，βPPM(0:聲學特徵)=0.18，βGMM(1:音調特徵)=βPPM(1:
音調特徵)=0.06。同時考量辨識速度、使用的記憶體和辨識準確度後，這裡設定子系統
(1)和(2)中的GMM混合數為Mg=256、Mp=32、原始MFCC向量和差分向量各取 12 維、
MFCC的差分間距為 3、逃脫機率估計方法為ppmc、PPM模型的階數為 4；子系統(3)和
(4)的GMM混合數則設為Mp=Mg=256，音高軌跡逼近方法為 12 維的離散餘弦函數，並
且PPM模型採用 4 階的ppmc法。結果得到的辨識率如圖 7 所示。圖 7 所顯示的，使用
所有的子系統來計算機率值再作加權和，辨識正確率在內部測試時都超過 90%，而在外
部測試時則可達 80%上下。外部測試中，國語的辨識正確率遠高過另外兩種語言，如在
10 秒的外部測試裡，國語的辨識率高達 97.49%，但閩南語只有 66.83%，客語也只有
77.39%，且另外兩種語言的辨識錯誤也大部分是被誤判成國語。另外，和只使用子系統
我們實作了一個可以自動接聽電話然後辨識發話者所用語言的線上辨識系統，系統
內安裝了亦誠科技公司的 VL4P-05O 電話卡來讓軟體可自動接聽電話並作錄音，其實我
們的 C++程式是經由呼叫電話卡提供的函式庫，來控制電話的接聽和掛斷，作錄音及播
音的處理。由於這張電話卡錄製的語音固定是 8-bit mu-law 8000Hz，所以我們必須另外
撰寫 mu-law 轉成 PCM 的程式。此外，由於電話卡擷取的電話語音和電視、廣播節目
錄製的訓練語料，在取樣率、通道、內容及說話方式等方面皆有差異，故在此我們對訓
練語料作增加的處理動作：(a)由於頻寬差異，先呼叫 Downsampling 模組 libsamplerate，
將訓練語料的取樣率降成 8000Hz；(b)作 Cepstrum Mean Substraction，對每一個檔案求
取所有音框的 MFCC 係數的平均向量，然後把該檔案每一個 MFCC 向量減去平均向量，
以除去聲音通道的影響；(c)重新訓練模型，得到模型參數值。我們得到的實驗結果如表
2 所示。在表 2 中，正確率代表該語言的測試語料被成功辨識的比率，平均輸分表示誤
判時正確語言分數的比誤判語言的分數低幾分，平均勝分則表示辨識正確時正確語言的
分數比分數第二高的語言高幾分。 
表 3  線上系統之 MFCC GMM 混合數測試 
混合數 正確率 
Man Holo Hakka Man Holo Hakka 
32 32 32 0% 10% 90% 
50 50 50 0% 90% 90% 
100 100 100 0% 70% 90% 
100 50 50 0% 90% 90% 
50 100 100 0% 70% 90% 
256 256 256 0% 20% 90% 
混合數 平均輸分 平均勝分 
Man Holo Hakka Man Holo Hakka Man Holo Hakka 
32 32 32 248 101 46 0 399 850 
50 50 50 277 103 185 0 292 338 
100 100 100 304 106 137 0 540 722 
100 50 50 300 103 185 0 312 344 
50 100 100 294 100 137 0 322 501 
256 256 256 711 165 119 0 650 1228 
在子計畫二裡，在文字生成方面的研究，首先是在輸入系統的探討與建立。在這裡，
除了傳統的文字輸入方法外，還可考慮配合目前交通運輸研究所正在研發的「結合 GIS
之路況事件資訊輸入系統」，以建置全新的輸入系統。此外，若是搭配自然語言理解技
術，還可建立一電話語音輸入系統，讓輸入的方式更為多樣化。在考慮如何正確的取出
  
 
 
 
 
 
圖 9 Some examples for applying the moving object detection process 
 
 
在子計劃四中我們以 Petri net 為塑模工具，針對辛亥路與基隆路的交叉路口進行單
一交通號誌系統建模。本計畫在第一年度完成的工作項目為正式定義交通的時相變化；
系統化的將時相變化對應至彩色派屈網路模型；提出模組化的彩色派屈網路模型塑模方
法；以及以 Occurrence Graphs (OG)驗證系統的定性問題。本子計劃建立交通號誌系統
的區域是以基隆路沿線為主要建模標的，其範圍北至辛亥路口南至羅斯福路口的區間
內，計有二個重要交叉路口(辛亥路與基隆路的交叉路口和基隆路與羅斯福路的交叉路
口)與四個非主要幹道的交叉路口。我們針對辛亥路與基隆路的交叉路口進行系統的建
模，首先以 Petri nets 塑模，因該模型不具時間參數，無法達成計劃要求。因此，我們
提出改善方法，即改用 Timed Coloured Petri nets (TCPN)塑模。我們針對整體區域內號
誌的統合工作，建構完整的區域內號誌系統。我們將前述路段的交叉路口統合，而建構
一個完整性的模型，在該路段的交叉路口建構三種不同類型的時相變遷，本計劃完成的
工作項目如下：系統化的將三種類型的時相變遷對應至彩色派屈網路模型；提出模組化
的彩色派屈網路模型塑模方法；以 Occurrence Graphs (OG)驗證系統的定性問題以及以
Simulation Method 驗證系統的定性問題。 
本子計劃建立交通號誌系統的區域是以基隆路沿線為主要建模標的，其範圍北至辛
亥路口南至羅斯福路口的區間內，計有二個重要交叉路口(辛亥路與基隆路的交叉路口
和基隆路與羅斯福路的交叉路口)與四個非主要幹道的交叉路口。為模擬複雜的交通訊
號控制系統，我們使用具有五個訊號指示燈的交通號誌，這五個訊號指示燈是由一個紅
燈(R)、黃燈(Y)、綠燈左轉指示(GL)、綠燈右轉指示(GR)和綠燈直行指示(GS)所組成。
藉由此種交通號誌先後完成一個基本交通訊號控制系統及三個延伸交通訊號控制系統
的塑模。圖二顯示了基本的交通訊號控制系統的彩色派屈網路模型，該模型包含二部
份：（1）十字路口模型（2）交通號誌訊號模型。前者模擬車輛通過十字路口的數量，
後者模擬交通訊號變換的情形。模型中之標記為含一個元素l及二個元素(亦即(l, i), (n, 
l))， 元素l代表各方向行駛進入（或離開）十字路口的車輛數，元素i則代表車行的平均
時間，元素 n代表進入十字路口的總車輛數。圖 11為基本交通訊號時間安排系統的TCPN
模型，交通訊號時間安排模型的功用在於針對每日不同時程分配不同的訊號循環，亦即
該模型在於評估某時程所適用之訊號循環，因此在模型中無時間延滯及延遲的考慮。我
們必須計算訊號循環次數，依此判斷是否進入下一個時程（ti+1），如果為進入下一個時
程，則將給予一個新的訊號循環。標記組合元素的定義同交通號誌訊號模型，只是其元
素組成不僅只有四個，尚有二個元素（t, ct）及三個元素（d, n, t）的組成。 
本市區道路交通網交通訊號控制系統為一個複雜的系統，該系統將所有可能的重要
元素均已包含，如交叉路口、連接兩交叉路口之路段、交通號誌訊號及車輛等。本計畫
之智慧型交通訊號控制模型包含兩大部份：（1）交通號誌訊號模型（如圖四所示）（2）
智慧型交通控制模型。因交通控制的策略主要在於禁止車輛進入已飽和道路，同時讓飽
和道路上的車輛儘速通行。 因此智慧型交通控制模型可分為下列兩種子模型，分別為
疏解離開（Release Outgoing Car, ROC）子模型（如圖五所示）和禁止進入（Prohibition 
Incoming Car, PIC）子模型（如圖六所示）。PIC子模型為禁止車輛進入飽和道路，其方
法為將訊號指示GS或GR關掉。而ROC子模型為讓飽和道路之車輛駛離。其作用為當道
路L1/L2 上之車輛因駛離 13 PCUs，致飽和度低於百分之六十的Cmax時，即允許車輛駛
入道路L1/L2。本計畫針對所提出模型進行以下三組數據去測試性能（1）s = s1 = s2 = s3 
= 0.6;（2）s = s1 = s2 = s3 = 0.80;（3）s1 = 0.4, s2 = 0.6, s3 = 0.8，結果如表一所示。 
 
圖 12:交通號誌訊號模型 
