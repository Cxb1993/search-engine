 I
行政院國家科學委員會補助專題研究計畫成果報告 
 
數位廣播之電腦軟體接收機 
 
 計畫編號： NSC 95-2221-E-216-037-MY2 
 執行期間： 95年08月01日至97年07月31日 
 計畫主持人： 陳棟洲  中華大學通訊工程學系 
 
 
 
摘要 
 
基於軟體無線電技術的蓬勃發展，以及其特有之彈性、適應性、升級性、共通性，因
此備受學術界與產業界所矚目。目前大家所探討之軟體無線電所利用之可程式化硬體幾乎
都是指數位信號處理器、微處理器、或是可程式邏輯陣列晶片，而大家卻忽略了一個目前
大家最常使用、最容易使用、也最普及的可程式化硬體−電腦。我們可以善加利用大家身
邊的個人電腦，以個人電腦來開發適合應用之軟體無線電產品，而數位廣播便是一個非常
適合發展的應用。數位廣播在世界各地都即將取代傳統類比廣播而成為未來音訊廣播與電
視廣播之主流，目前台灣也都在積極實驗試播與開播中，在不久的將來，將可預見數位廣
播產業的蓬勃發展。目前市面上已有相關之數位廣播接收機產品，這些產品皆屬硬體定義
無線電接收機，價格也較昂貴。另一方面，目前也有很多人是使用電腦透過網路來收聽廣
播節目，但受限於網路的速度，所接收之音訊品質都很不理想。既然已有很多人透過網路
使用電腦來收聽廣播節目，可見將電腦來做為數位廣播接收機是非常可行且實用的。因此
本計畫將以軟體無線電系統架構的觀念，只要外加些許的硬體電路，包括接收天線、濾波
器、低雜訊放大器、A/D 轉換器，將無線電類比信號轉換成數位信號，再透過 USB 介面將
數位信號傳至電腦，之後便利用電腦超強之數位信號處理與計算能力，以電腦軟體程式設
計方式來處理後端之所有基頻信號，包括信號同步、OFDM 解調、子載波調變解對映、解
交錯、通道解碼、語音解壓縮等等，最後透過電腦之喇叭將音訊輸出，實現一個不一樣的
「軟體」無線電數位廣播接收系統。 
 
 
 
關鍵詞：數位廣播、軟體無線電、電腦 
 
 III
圖目錄 
 
 
圖 2.1、DAB Frame 5 
圖 2.2、Block diagram of DAB transmitter 5 
圖 3.1、數位音訊廣播傳送系統架構 7 
圖 3.2、音訊訊框架構 8 
圖 3.3、二元亂數序列的電路圖 8 
圖 3.4、(4, 1, 6)摺積編碼架構圖 9 
圖 3.5、時間交錯示意圖 16 
圖 3.6、傳送信號產生方塊圖 18 
圖 3.7、快速資訊通道的區塊分割 18 
圖 3.8、主要服務通道的區塊分割 18 
圖 3.9、QPSK 符元對映的示意圖 19 
圖 3.10、星狀圖 19 
圖 3.11、補零成 2048 的示意 21 
圖 3.12、Guard interval 的示意圖 21 
圖 4.1、DAB Frame 22 
圖 4.2、快速資訊區塊架構圖 25 
圖 4.3、快速資訊群組型態 0 之架構 27 
圖 4.4、快速資訊群組型態 0 擴充 0 的架構 28 
圖 4.5、快速資訊群組型態 0 擴充 1 的架構 29 
圖 4.6、快速資訊群組型態 0 擴充 2 的架構圖 32 
圖 4.7、快速資訊群組型態 1 的架構圖 33 
圖 4.8、網路層封包模式的架構圖 34 
圖 5.1、Block diagram of DAB receiver 36 
圖 5.2、數位廣播電腦軟體接收機之系統架構 36 
圖 5.3、數位音訊廣播的解碼系統 37 
圖 5.4、數位音訊廣播傳送訊框 38 
圖 5.5、無用符元及相位參考符元 38 
圖 5.6、經過低通濾波器的頻譜 39 
圖 5.7、未經過頻率同步的星狀圖 40 
 V
表目錄 
 
 
表 2.1、數位廣播傳輸模式之 OFDM 參數 4 
表 3.1 廣播音訊框架資料串流率 6 
表 3.2、間空索引規則 11 
表 3.3、參數 I、L 與音訊編碼速率的關係 12 
表 3.4 音訊服務元件保護對應表 13 
表 3.5、參數 I、L 與資料速率的關係(Set A) 15 
表 3.6、參數 I、L 與資料速率的關係(Set B) 15 
表 3.7、資料速度為 8n Kbit/s 的保護階層和副通道大小(Set A) 16 
表 3.8、資料速度為 32n Kbit/s 的保護階層和副通道大小(set B) 16 
表 3.9、時間交錯編碼規則 17 
表 3.10、頻率交錯的相關係數對應表 20 
表 4.1、四種傳輸模式之參數定義 23 
表 4.2、傳輸模式一中 Phase Reference Symbol 之 indices 間之關係 24 
表 4.3、快速資訊群組型態表 26 
表 4.4、使用短格式的副通道保護索引 30 
表 5.1、 FIG0/0 的實際解碼表 42 
表 5.1、 FIG0/0 的實際解碼表 44 
表 5.3、子通道大小 46 
表 5.4、FIG0/2 的實際解碼表 47 
表 5.5、 FIG1/1 的實際解碼表 48 
表 5.6、MSC 的實際解碼表 53 
表 5.7、位元率指引 54 
 
 
 2
高頻類比信號如中頻（Intermediate Frequency；IF）或射頻（Radio Frequency；RF）變成
數位信號，後續的數位信號處理便可一般用途的數位信號處理器（DSP）、微處理器、或可
程式邏輯陣列晶片(FPGA)，藉執行軟體程式的方式來處理轉換後的數位信號[1-6]。軟體無
線電系統雖利用軟體可程式化之特性而具有較大之產品彈性(flexibility)，但這類產品還是
得藉助硬體(數位信號處理器、微處理器、或可程式邏輯陣列晶片)來實現。以目前之技術，
這些硬體之價格還是不便宜，且以消費者喜新厭舊之特性，雖然產品功能可升級而無損其
性能，但往往會因產品之外表造型而重新購買新產品，如此便損害了軟體無線電之基本利
基，也是造成軟體無線電商業化之一項阻礙。正因如此，我們有一個新想法，即目前大家
所探討之軟體無線電所利用之可程式化硬體幾乎都是指數位信號處理器（DSP）、微處理
器、或是可程式邏輯陣列晶片(FPGA)，而大家卻忽略了一個目前大家最常使用、最容易使
用、也最普及的可程式化硬體−電腦。我們可以善加利用大家身邊的個人電腦，以個人電
腦來開發適合應用之軟體無線電產品，而數位廣播便是一個非常適合發展的應用。數位廣
播在世界各地都即將取代傳統類比廣播而成為未來廣播之主流，在不久的將來，將可預見
數位廣播產業的蓬勃發展。目前市面上也有相關之數位廣播接收機產品，這些產品皆屬硬
體定義無線電，價格也較昂貴。另一方面，目前也有很多人是使用電腦透過網路來收聽音
訊廣播節目，但受限於網路的速度，所接收之音訊品質都很不理想。既然已有很多人透過
網路使用電腦來收聽音訊廣播節目，可見將電腦來作為數位廣播接收機是非常可行且實用
的。因此本計畫便以軟體無線電系統架構的觀念，只要外加些許的硬體電路，包括接收天
線、低雜訊放大器、A/D 轉換器，將無線電類比信號轉換成數位信號，再透過 USB 介面將
數位信號傳至電腦，之後便利用電腦超強之數位信號處理與計算能力，以電腦軟體程式設
計方式來處理後端之所有基頻信號，包括信號同步、OFDM 解調、子載波調變解對映、解
交錯、通道解碼、語音解壓縮等等，最後透過電腦之喇叭將音訊輸出，將節目呈現出來，
實現一個不一樣的「軟體」無線電數位廣播接收系統。如此將可大幅降低數位廣播接收機
之硬體價格，也可改善透過網路來收聽音訊廣播節目與收看電視節目的低品質，得到一高
品質、低價格之電腦應用。 
 4
表 2.1、數位廣播傳輸模式之 OFDM 參數 
參數 TM I TM II TM III TM IV 
頻率上限(MHz) 375 1500 3000 750 
載波數量 1536 384 192 768 
載波頻率(kHz) 1 4 8 2 
框架期間(ms) 96 24 24 48 
框架符碼 76 76 153 76 
無效符碼期間(μs) 1297 324 168 648 
保護期間(μs) 246 62 31 123 
全部符碼期間(μs) 1246 312 156 623 
數位音訊廣播系統由三個介面所組成：服務傳送介面(Service Transport Interface; 
STI)、整合性傳送介面(Ensemble Transport Interface; ETI)與數位廣播介面(Digital Audio 
Broadcasting; DAB)。服務傳送介面(STI)可視為服務提供者(service provider)，此介面提供
語音、文字、圖片甚至動畫等資訊相關信號。服務傳送介面(STI)於歐洲標準是 ETS 300 797 
[7]，在 24ms 框架內之傳輸率為 2048Kb/s。整合性傳送介面(ETI)則視為整合信號提供者
(ensemble provider)，此介面將服務傳送介面(STI)的各項信號整合成 G703 或 G704 架構信
號，再由光纖、微波或衛星傳送給數位廣播發射站台。整合性傳送介面(ETI)於歐洲標準是
ETS 300 799 [8]，同樣在 24ms 框架內之傳輸率為 2048Kb/s 。當數位廣播發射站台接收到
ETI 信號，由數位廣播發射機經旋積編碼(convolutional encoding)、交錯(interleaving)、差
分正交相位移鍵(DQPSK)與正交分頻多工(OFDM)調變成數位廣播框架(DAB Frame)信
號，再做升頻與信號放大，最後經天線將節目信號輻射到數位廣播接收機上。數位廣播 
(DAB)的歐洲標準則是 ETS 300 401 [9]。 
數位廣播框架(DAB Frame)如圖 2.1 所示，其基本架構是由同步頻道(Synchronization 
Channel; SC)、快速資料頻道(Fast Information Channel; FIC)及主要服務頻道(Main Service 
Channel; MSC)等三部份所組成。同步頻道(SC)分空白符碼(Null Symbol)和參考符碼(TFPR)
兩部份。空白符碼主要作用是提供接收機辨認每個傳輸框的時間起點，參考符碼主要作用
是估計傳輸頻道的狀態和提供自動頻率控制及用來當差分解調器的參考起點。快速資料頻
道(FIC)主要作用是攜帶傳輸框的控制訊息，接收機端必須解讀出此頻道內資料，才能進一
步知道如何解出主要服務頻道內的語音資料及數據資料。主要服務頻道則是放置所有廣播
節目與服務之資料。主要服務頻道可分成數個副頻道(sub-channel)，每個副頻道有自己各
 6
3. 數位音訊廣播系統架構 
數位音訊廣播傳送系統架構如圖 3.1 所示[9]。傳送的音訊或資料會經過能量分散
(Energy dispersal)、間空摺積碼(Punctured convolution coding)、時間交錯(Time interleaving)、
QPSK 符元對應(QPSK symbol mapping)、頻率交錯(Frequency interleaving)和差別運算
(Differential modulation)等步驟後，再進入正交多工訊號產生器(OFDM Signal generator )，
就變成是數位音訊廣播的傳送訊框。 
3.1 音訊編碼 
數位音訊廣播的音訊節目資料是以 MPEG-1/2 Layer ІІ 的技術為基礎編碼而成。
MPEG-1/2 Layer ІІ 的編碼技術，主要運用人類聽覺心理學，將聲音頻譜平均畫分成 32 個
子頻帶，聽覺較敏感的子頻帶使用較多位元的量化，聽覺較不敏感的子頻帶使用較少位元
的量化，壓縮的失真，人耳幾乎無法察覺。MPEG-1/2 Layer ІІ 以 48KHz (MPEG-1)或 24KHz 
(MPEG-2)的取樣頻率，依聲音品質的需求將取樣之聲音訊號編碼為資料速率為 8 ~ 384 
Kbps 之 MPEG 邏輯訊框(logic frame)。一般來說，高品質的立體聲訊號會選舉使用高於 128 
Kbps 之編碼位元率，一般說話聲音則使用低於 96 Kbps 之編碼位元率。音訊編碼是將 32 
samples 轉換至 32 子頻帶，以 384 samples 為一組，再將 3 組封裝成一個訊框，然後把 1152
個 PCM 訊號 (3 組 384 samples)的 audio frame 編成一個 MPEG-1 或兩個 MPEG-2 的 24ms
的邏輯訊框(logic frame)。數位廣播音訊框架資料串流率，如表 3.1 所示。 
表 3.1 廣播音訊框架資料串流率 
Sampling frequency 48 KHz 24 KHz 
位元率指引 Audio bit rate (Kbit/s) Audio bit rate (Kbit/s)
0001 32 8 
0010 48 16 
0011 56 24 
0100 64 32 
0101 80 40 
0110 96 48 
0111 112 56 
1000 128 64 
1001 160 80 
1010 192 96 
1011 224 112 
1100 256 128 
1101 320 144 
1110 384 160 
 8
音訊編碼後之音訊訊框架構如圖 3.2，最前面是 32 個位元的訊框頭欄位，會記載後面
是否有 16 個位元的錯誤偵測碼欄位，再來的位元分配欄位中每一個副頻帶用 4 個位元表
示，然而如果位元分配欄位為零，則表示後面的縮放倍率和副頻帶取樣點就不存在，而剩
下的資料就會被算在附屬資料欄位中。 
 
圖 3.2、音訊訊框架構 
3.2 能量分散(Energy dispersal) 
能量分散是為了避免資料的能量太過集中，如果沒有執行能量分散，資料在經過快速
傅利葉運算後，會造成部分時間的數值很大，其他時間的數值很小。這樣對發射和接收端
都不好，所以會使用能量分散，使得資料接近亂數，讓能量平均分佈。能量分散的執行方
法就是把輸入的資料與二元亂數序列(Pseudo-random binary sequence，PRBS)作互斥或
(XOR)，讓輸出資料接近隨機亂數。以模式一來說，快速資訊通道(FIC)的資料每 768 位元
會執行一次能量分散，而主要服務通道(MSC)則是每一個邏輯訊框(Logic frame)的資料執行
一次。 
解碼的時候就是把接收到的資料，再跟二元亂數序列再作一次互斥或，就會得到原來
的資料。二元亂數序列的生成多項式為 
9 5( ) 1P x x x= + +  
二元亂數序列的電路架構如圖 3.3 所示，其暫存器的初始值為 1。 
 
圖 3.3、二元亂數序列的電路圖 
 10
序之區塊再加上 12 個位元的 tail bits 便形成一 punctured codeword。有些時候還會在
punctured codeword 的 tail bits 之後再加入 padding bits “0”，以確保編碼完成後之資料位元
數為 64 的倍數(1 CU = 64 bits)。 
在模式一中，快速資訊通道有固定的間空規則，快速資訊通道是以三個快速資訊區塊
(FIBs)為一個編碼單位(共 768 位元)，768 位元的快速資訊通道資料最後加上六個 0，經過
摺積編碼後變成 3096 位元。然後在把資料分為 3072 位元和 24 位元兩個部分，第一部分
以 128 位元為單位(稱區塊 block)，每 128 個位元再分成 4 個子區塊(sub-block)，每個子區
塊有 32 位元，最前面 21 個子區塊是用 PI=16 進行間空，剩下 3 個子區塊則使用 PI=15 進
行間空。第二部分的 24位元tail bits則使用puncturing vector VT = (1100 1100 1100 1100 
1100 1100)來進行間空。三個快速資訊區塊經過穿刺摺積編碼後有 2304 位元。在模式一中，
快速資訊通道包含 12 個快速資訊區塊(9216 位元)，快速資訊通道經過穿刺摺積編碼後形成
三個正交多工符元(OFDM symbol)的資料。 
主要服務通道使用兩種保護方式，不對等保護(UEP)和對等保護(EEP)。UEP 對音訊資
訊特別有用，在一個 24ms 之框架內分成 4 個群組：群組 1 構成框架頭端、同步資訊、位
元分配及選擇尺度因素，在這部份若有一個位元錯誤將導致全框架失真，所以必須使用較
穩定之低碼率編碼；群組 2 包含一個六位元尺度因素，尺度因素高位元部份如發生錯誤將
導致數位廣播信號突然衰落或放大，這些錯誤會產生惱人的聲音，但能隱藏到某些成音位
準內；群組三包含編碼位元，這些資料位元代表 32 個副頻道之取樣大小，群組三位元錯
誤最不敏感；群組四包含節目相關資料及循環重複檢查碼(Cyclic Redundancy Check，
CRC)，此群組與群組二有較相近的保護。每一段的迴旋碼可分為數個連續的 128bits 區塊，
每個區塊又可分成 4 個 32bits 的子區塊，間空程序(puncturing procedure)就是以每一段子區
塊來完成。每個等份經由間空向量表進行間空程序。經過音訊編碼以及 energy dispersal 
scrambler 後的每一個 24ms 邏輯訊框共含有 I 個位元。再經由(4, 1, 6)摺積編碼後產生 4I 個
位元的資料，每 128 個位元為一個區塊，共分為 L 個區塊來進行間空程序。I 與 L 會因不
同的音訊編碼速率而不同，如表 3.3。以 24ms 邏輯訊框時間共 L 個區塊再依不同的音訊編
碼速率區分成四個群組，各有 L1、L2、L3、L4 個區塊，分別使用 PI1、PI2、PI3、PI4 保護
等級進行 puncture。最後再加入 12 個 tail bits 形成 codeword。有些 codeword 還需要加入
padding bits 以確保最後的資料位元數是 64 的倍數，以完成完整的編碼程序。整個音訊服
務元件的 protection profiles 如表 3.4。 
 12
表 3.3、參數 I、L 與音訊編碼速率的關係 
 
 14
表 3.4 音訊服務元件保護對應表(續) 
Audio bit rate 
(kbit/s) p L1  L2  L3  L4 PI1  PI2  PI3  PI4 
number of 
padding bits 
128 5 12  19  62   3 5    3    2    4 0 
128 4 11  21  61   3 11   6    5    7 0 
128 3 11  22  60   3 16   9    6    10 4 
128 2 11  21  61   3 22   12   9    14 0 
128 1 11  20  62   3 24   17   16   19 8 
160 5 11  19  87   3 5    4    2    4 0 
160 4 11  23  83   3 11   6    5    9 0 
160 3 11  24  82   3 16   8    6    11 0 
160 2 11  21  85   3 22   11   9    13 0 
160 1 11  22  84   3 24   18   12   19 0 
192 5 11  20  110  3 5    4    2    5 0 
192 4 11  22  108  3 10   6    4    9 0 
192 3 11  24  106  3 16   10   6    11 0 
192 2 11  20  110  3 22   11   9    13 8 
192 1 11  21  109  3 24   20   13   24 0 
224 5 12  22  131  3 8    6    2    6 4 
224 4 12  26  127  3 12   8    4    11 0 
224 3 11  20  134  3 16   10   7    9 0 
224 2 11  22  132  3 24   16   10   15 0 
224 1 11  24  130  3 24   20   12   20 4 
256 5 11  24  154  3 6    5    2    5 0 
256 4 11  24  154  3 12   9    5    10 4 
256 3 11  27  151  3 16   10   7    10 0 
256 2 11  22  156  3 24   14   10   13 8 
256 1 11  26  152  3 24   19   14   18 4 
320 5 11  26  200  3 8    5    2    6 4 
320 4 11  25  201  3 13   9    8    10 8 
320 2 11  26  200  3 24   17   9    17 0 
384 5 11  27  247  3 8    6    2    7 0 
384 3 11  24  250  3 16   9    7    10 4 
384 1 12  28  245  3 24   20   14   23 8 
 
 16
 
表 3.7、資料速度為 8n Kbit/s 的保護階層和副通道大小(Set A) 
Data bit rate 
(kbit/s) 
保護切換
欄位 p L1    L2 PI1  PI2 
Convolution 
Coding rate 
Sub-channel 
size(CUs) 
8n 11 4-A 4n-3  2n+3 3    2 3/4 4n 
8n 10 3-A 6n-3    3 8    7 1/2 6n 
8 
8n (n>1) 01 2-A 
5    
1 
2n-3  
4n+3 
13   12 
14   13 3/8 8n 
8n 00 1-A 6n-3    3 24   23 1/4 12n 
 
表 3.8、資料速度為 32n Kbit/s 的保護階層和副通道大小(set B) 
Data bit rate 
(kbit/s) 
保護切換
欄位 p L1    L2 PI1  PI2 
Convolution 
Coding rate 
Sub-channel 
size(CUs) 
32n 11 4-B 24n-3  3 2    1 4/5 15n 
32n 10 3-B 24n-3  3 4    3 4/6 18n 
32n 01 2-B 24n-3  3 6    5 4/7 21n 
32n 00 1-B 24n-3  3 10   9 4/9 27n 
 
3.4 時間交錯 (Time interleaving) 
當訊號強度在一段時間內快速衰弱，這一段訊號的解碼就會幾乎完全錯誤，時間交錯
的原意就是希望時間上的連續錯誤能分攤到不同的音訊訊框，作法是將 1 個音訊訊框平分
到 16 個連續的時間交錯訊框，如圖 3.5 所示。所以解碼端要連續收到 16 個時間交錯訊框
才能解出一個音訊訊框。  
 
圖 3.5、時間交錯示意圖 
 
 18
 
圖 3.6、傳送信號產生方塊圖 
區塊分割就是把資訊快速通道和共同交錯訊框整合在一起的資料，區塊分割成正交分
頻多工符元的大小(3072 位元)。快速資訊通道是將 4 段 2304 位元的資料，切割成 3 個正交
多工符元，並且給予編號，如圖 3.7 所示。再將 4 段共同交錯訊框(55296 位元) ，切割成
72 個正交多工符元，並且給予編號，如圖 3.8。 
 
圖 3.7、快速資訊通道的區塊分割 
 
 
圖 3.8、主要服務通道的區塊分割 
 20
令一排列為 
2047,...,2,1for   0  (0) and 2048) (mod 511)1(13)( ==Π+−Π=Π iii  
產生集合 A： 
{ (0), (1), (2),..., (2047)}A = ∏ ∏ ∏ ∏  
將集合 A 中數值小於 256 以及大於 1792 和 0 移除，使得剩下來數值的個數等於 ,l nq 的個數
(1536 個位元)，然後產生新的集合 D： 
0 1 2 1535{ , , ,..., }D d d d d=  
為了把集合 D 的數值限定在-768~768，然後算出數值 k 就是頻率交錯的次序： 
{ 768, 767, 767,...,768}\{0}k∈ − − −  
1024nk d= −  
頻率交錯之前後次序排列關係如表 3.10。 
 
表 3.10、頻率交錯的相關係數對應表 
i  ( )iΠ  nd  n  (QPSK 符元次序) k  (頻率交錯次序)
0 0    
1 511 511 0 -513 
2 1010 1010 1 -14 
3 1353 1353 2 329 
4 1716 1716 3 692 
5 291 291 4 -733 
6 198    
7 1037 1037 5 13 
8 1704 1704 6 680 
9 135    
10 218    
11 1297 1297 7 273 
12 988 988 8 -36 
13 1067 1067 9 43 
14 46    
15 1109 1109 10 85 
13 592 592 11 -432 
17 15    
18 706 706 12 -318 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
2044 1676 1676 1533 652 
2045 1819    
2046 1630 1630 1534 606 
2047 1221 1221 1535 197 
 
 22
4. 數位音訊廣播之傳送框架架構 
數位廣播框架(DAB Frame)如圖 4.1 所示，其基本架構是由同步頻道(Synchronization 
Channel; SC)、快速資料頻道(Fast Information Channel; FIC)及主要服務頻道(Main Service 
Channel; MSC)等三部份所組成。同步頻道(SC)分空白符碼(Null Symbol)和參考符碼(TFPR)
兩部份。空白符碼主要作用是提供接收機辨認每個傳輸框的時間起點，參考符碼主要作用
是估計傳輸頻道的狀態和提供自動頻率控制及用來當差分解調器的參考起點。快速資料頻
道(FIC)主要作用是攜帶傳輸框的控制訊息，接收機端必須解讀出此頻道內資料，才能進一
步知道如何解出主要服務頻道內的語音資料及數據資料。主要服務頻道則是放置所有廣播
節目與服務之資料。主要服務頻道可分成數個副頻道(sub-channel)，每個副頻道有自己各
別的錯誤防護與時間交錯，所有副頻道構成共同交錯框架(Common Interleaved Frames; 
CIF)。每一共通交錯框架(CIF)傳送時間為 24 ms，共含有 55296 位元。所有數位廣播節目
之位元傳輸率則為 2304Kb/s。對於傳送之語音資料及數據資料，利用不同的錯誤更正碼之
碼率來提供不同等級之錯誤防護。主要服務頻道將所有副頻道構成共同交錯框架(CIF)之
後，加入快速資料頻道(Fast Information Channel; FIC)。輸出之位元串再做 DQPSK mapping
與頻域交錯(frequency interleaving)後，再加上 Null symbol 與 TFPR symbol 後並做 OFDM
調變以完成 DAB 訊框。每一個傳輸訊框包含連續的 OFDM 符元，OFDM 符元的個數則因
不同的傳輸模式而有所不同，相關參數則如表 4.1 所示。 
 
圖 4.1、DAB Frame [9] 
 
 24
表 4.2、傳輸模式一中 Phase Reference Symbol 之 indices 間之關係 
k 的範圍 
min max k’ i n  
-768 -737 -768 0 1 
-736 -705 -736 1 2 
-704 -673 -704 2 0 
-672 -641 -672 3 1 
-640 -609 -640 0 3 
-608 -577 -608 1 2 
-576 -545 -576 2 2 
-544 -513 -544 3 3 
-512 -481 -512 0 2 
-480 -449 -480 1 1 
-448 -417 -448 2 2 
-416 -385 -416 3 3 
-384 -353 -384 0 1 
-352 -321 -352 1 2 
-320 -289 -320 2 3 
-288 -257 -288 3 3 
-256 -225 -256 0 2 
-224 -193 -224 1 2 
-192 -161 -192 2 2 
-160 -129 -160 3 1 
-128 -97 -128 0 1 
-96 -65 -96 1 3 
-64 -33 -64 2 1 
-32 -1 -32 3 2 
1 32 1 0 3 
33 64 33 3 1 
65 96 65 2 1 
97 128 97 1 1 
129 160 129 0 2 
161 192 161 3 2 
193 224 193 2 1 
225 256 225 1 0 
257 288 257 0 2 
289 320 289 3 2 
321 352 321 2 3 
353 384 353 1 3 
385 416 385 0 0 
417 448 417 3 2 
449 480 449 2 1 
481 512 481 1 3 
513 544 513 0 3 
545 576 545 3 3 
577 608 577 2 3 
609 640 609 1 0 
641 672 641 0 3 
673 704 673 3 0 
705 736 705 2 1 
737 768 737 1 1 
 
 26
4.2.1 快速資訊群組(FIG) 
快速資訊區塊中包含數個快速資訊群組(FIG)，快速資訊群組攜帶多工組態資訊
(MCI)、服務資訊、文字標籤、快速資訊資料通道(FIDC)以及條件存取(Conditional Access)
等資訊。如表 4.3 的定義，不同的快速資訊群組型態分別定義攜帶不同的資訊。如圖 4.2
所示，一個快速資訊群組(FIG)以快速資訊群組型態、資料長度和快速資訊群組資料欄位三
個區塊所組成。最前面 3 個位元是表示快速資訊群組型態，最多可以表示八種型態，再來
資料長度的 5 個位元則是記錄快速資訊群組資料欄位有多少資料量，最後的資訊群組資料
欄位的大小就是根據資料長度的定義。 
表 4.3、快速資訊群組型態表 
FIG type number FIG type FIG application 
0 000 MCI and part of SI 
1 001 Labels, etc (part of the SI) 
2 010 Labels, etc (part of the SI) 
3 011 Reserved 
4 100 Reserved 
5 101 FIC Data Channel (FIDC) 
6 110 Conditional Access (CA) 
7 111 Reserved (except for Length 31 ) 
 
 
4.2.2 多工組態(MCI) 
多工組態定義電波頻道中共同交錯框架的副頻道的位置、大小及錯誤保護，還有電波
頻道裡面的有哪些服務項目，並且建立服務元件之間的連結，或是服務元件和副頻道及快
速資訊資料之間的連結。當電波頻道的狀態需要重新調整，也可以使用多工重組態，來改
變目前的多工組態。 
多工組態(MCI)包含在快速資訊群組型態 0 (FIG type 0)的裡面，而快速資訊群組型態 0
的架構如圖 4.3 所示。最前面 3 個位元由表 4.3 可知是快速資訊群組型態 0，接著 5 個位元
是記錄快速資訊群組資料欄位有多少資料量。後面快速資料群組的資料欄位內容，最前面
的 8 個位元是快速資訊群組型態 0 的固定欄位。其中，目前 /下次多工組態欄位
(Current/Next，C/N)表示多工組態是否改變，0 表示沒有，1 則反之。然後目前/其他電波頻
道欄位(Other Ensemble，OE)表示是否使用目前的電波頻道，0 表示沒有，1 則反之。再來
 28
 
圖 4.4、快速資訊群組型態 0 擴充 0 的架構 
快速資訊群組型態 0 擴充 1 (FIG0/1)主要記載副通道資訊，包括副通道大小
(Sub-channel size)、開始位置和使用的保護類型。快速資訊群組型態 0 擴充 1 的內容，如圖
4.5，擴充欄位 00001 表示擴充 1，然而擴充 1 會攜帶數個副通道，每一個副通道中包括副
通道識別碼(Sub-channel Identifier，SubChId)、起始位置(Start Address)、短/長格式(Short/Long 
from)和長度及保護。最前面 6 個位元為副通道識別碼，有多少個副通道識別碼，就表示電
台提供多少個節目，在台灣一般提供 6 個節目，範圍是 000000 到 000110。再來 10 個位元
的起始位置，代表副通道的第一個容量單位(CU)的位址，而副通道的大小是以容量單位(64
個位元)為基本單位，至於每一個副通道包含多少容量單位，則是記錄在長度及保護欄位，
但是模式一中的共同交錯訊框容量最多只有 864 個容量單位。接著的短/長欄位就是表示後
續的格式是長格式或是短格式，0 表示短格式，1 則反之。如果使用短格式則 1 個位元的
表格切換欄位(Table switch)和 6 個位元的表格索引(Table index)。表格切換欄位目前固定使
用 0，最後的表格索引根據定義的數值，如表 4.4，可以知道副通道大小、位元率和錯誤保
護程度。如果使用長格式則提供兩種資料速率，選項 000 資料速率為 8n Kbit/s，001 則為
32n Kbit/s，然後根據不同資料速率有不同的保護切換欄位，可以分別查詢表 3.7 和表 3.8，
最後是副通道長度欄位，是表示這個副通道包含幾個容量單位(CU)，最多可以包含 864 個
容量單位(CU)。 
 30
表 4.4、使用短格式的副通道保護索引 
Index Sub-channel
Size(CU) 
Protection 
level 
Bit rate
(kbit/s)
Index Sub-channel
Size(CU) 
Protection 
Level 
Bit rate 
(kbit/s) 
0 16 5 32 33 64 5 128 
1 21 4 32 34 84 4 128 
2 24 3 32 35 96 3 128 
3 29 2 32 36 116 2 128 
4 35 1 32 37 140 1 128 
5 24 5 48 38 80 5 160 
6 29 4 48 39 104 4 160 
7 35 3 48 40 116 3 160 
8 42 2 48 41 140 2 160 
9 52 1 48 42 168 1 160 
10 29 5 56 43 96 5 192 
11 35 4 56 44 116 4 192 
12 42 3 56 45 140 3 192 
13 52 2 56 46 168 2 192 
 ×   47 192 1 192 
14 32 5 64 48 116 5 224 
15 42 4 64 49 140 4 224 
16 48 3 64 50 168 3 224 
17 58 2 64 51 208 2 224 
18 70 1 64 52 232 1 224 
19 40 5 80 53 128 5 256 
20 52 4 80 54 168 4 256 
21 58 3 80 55 192 3 256 
22 70 2 80 56 232 2 256 
23 84 1 80 57 280 1 256 
24 48 5 96 58 160 5 320 
25 58 4 96 59 208 4 320 
26 70 3 96  ×   
27 84 2 96 60 280 2 320 
28 104 1 96  ×   
29 58 5 112 61 192 5 384 
30 70 4 112  ×   
31 84 3 112 62 280 3 384 
32 104 2 112  ×   
 ×   63 416 1 384 
 
快速資訊群組型態 0 擴充 2 主要記載服務架構，從這裡可以知道副通道與服務之間的
關係，而其欄位如圖 4.6 所示。節目/資料欄位是 1 或 0，將會影響到服務元件中服務識別
碼欄位(Service Identifier)的長度，節目/資料欄位是 0 則服務識別碼欄位為 16 個位元，反之
則為 32 個位元。擴充欄位 00010 表示為擴充 2，後續的資料會攜帶數個服務元件(Number of 
service component)。服務元件的內容中，最前面的服務識別碼欄位就如前面所提到的，有
16 個位元或 32 個位元兩種分別，接著區域旗標欄位(Local flag)表示服務會涵蓋的範圍，0
表示全區域，1 則反之。條件存取識別碼欄位(Conditional Access Identifier，CAId)屬於加密
功能，台灣目前並沒有使用，所以固定是 000。接下來的服務元件數目，這告訴我們有多
 32
 
圖 4.6、快速資訊群組型態 0 擴充 2 的架構圖 
快速資訊群組型態 1 (FIG 1)主要記載文字標籤，然而不同的擴充型態，就表示不同服
務的文字標籤，下面我們只會介紹電波頻道文字標籤和節目服務文字標籤。如圖 4.7、FIG 
1 的擴充型態欄位有三個位元，表示有 8 種類型，但是有一些並不使用，而是給以保留。
 34
用對等保護(Equal Error Protection，EEP)，但也可以使用不對等保護。串流模式雖然很好
用，但是它有最小使用容量，如果不足就會使用補丁，所以如果傳送低速資料的時候，就
會有不必要的浪費。跟串流模式不同，封包模式是把不同型態的資料，放在封包訊框架構
中在傳送，如此就算傳送低速資料也不會浪費，傳送的方法分為網路層(Network level)和資
料(data group level)群組成兩種，在網路層中每一個封包都包含封包頭(Packet header)、封包
資料(Packet data)和錯誤偵測碼(CRC)這三部分，整體的封包格式，如圖 4.8 所示： 
封包長度:以二位元代表封包總長，其中 00 表示長度 24 位元組，01 表示長度 48 位元組，
10 表示長度 72 位元組，11 表示長度 86 位元組。 
封包連續索引：以二位元重複 00、01、10 和 11，所以如果封包有遺漏就可以清楚發現。 
第一/最後指引：以二位元表示式資料的開始、中間或結束，00 表示中間，01 表示結束，
10 表示開始，而 11 則是代表資料只有一個封包。 
封包地址：以 10 位元表示服務元件的代號。 
封包命令旗標：這一個位元是告訴我們，後面資料是一般數據資料還是特定命令，0 表示
一般數據資料，1 表示特定命令。 
有用資料長度：表示有用資料裡面有多少位元組，範圍從 0 至 91。 
封包 CRC：把前面收到的資料帶入公式，就可以得到 CRC 檢查碼，暫存器狀態設定為 1。 
16 12 5( ) 1G x x x x= + + +  
如果資料長度很長，就可以使用封包模式中的資料群組，先把資料加上額外資訊後包裝
好，再分割成多個網路層的封包資料來傳送。 
 
圖 4.8、網路層封包模式的架構圖 
 36
 
圖 5.1、Block diagram of DAB receiver 
 
 
圖 5.2、數位廣播電腦軟體接收機之系統架構 
 
 38
 
圖 5.4、數位音訊廣播傳送訊框 
 
圖 5.5、無用符元及相位參考符元 
 40
 
圖 5.7、未經過頻率同步的星狀圖 
 
圖 5.8、經過頻率同步的星狀圖 
 42
表 5.1、 FIG0/0 的實際解碼表 
FIG0/0 
位元定義 FIC 輸
入 
FIC 解碼 
0 
0 
FIG 
type 
0 
FIG type 0 
0 
0 
1 
0 
Length 
1 
5Byte 
 
計算結果 
5*8=40(bit) 
C/N 0 目前 
OE 0 目前 
P/D 0 16 bit 的音訊節目 
0 
0 
0 
0 
Extension 
0 
FIG0/0 
1 
1 
0 
Country 
Identification
0 
台灣 
0 
0 
0 
1 
0 
0 
0 
0 
0 
0 
1 
 
0 
TM 
電台 
0 Change flag 
0 
沒有 
AL flag 0 沒有 
0 
0 
1 
1 
CIF count(1)
0 
6 
1 
0 
0 
1 
1 
1 
0 
CIF count(2)
0 
156 
 
計算結果 
6*250+156=1656 
 
 44
型態(ASCTy)，我們知道是前景音樂，接下來的副通道識別碼欄位，顯示服務元件屬於副
通道 0。最後兩個欄位，表示為主要服務和無條件存取。 
接著我們要解 FIG 1，FIG 1 攜帶文字標籤的訊息。如表 5.5，前面欄位我們就不再多
做描述，將直接看型態 1 欄位的內容，最重要的是電台/服務代碼和文字標籤這兩個欄位，
電台/服務代碼欄位讓我們知道，文字標籤欄位屬於哪一個電台或是服務。 
表 5.2、FIG0/1 的實際解碼表 
位元定義 FIC 輸入 FIC 解碼 
0 
0 
FIG 
type 
0 
 
1 
0 
1 
1 
Length 
1 
23 (Byte) 
 
23*8=184(bit)
C/N 0 目前 
OE 0 目前 
P/D 0 16 bit 
0 
0 
0 
0 
Extension
1 
FIG0/1 
0 
0 
0 
0 
0 
SubChId 
0 
副通道識別碼
 
(0) 
0 
0 
0 
0 
0 
0 
0 
0 
0 
Start 
Address 
0 
從第 0 個 
CU 開始 
Short/ 
Long 
from 
0 短格式 
Table 
switch 
0 固定 
1 
0 
0 
0 
1 
Table 
index 
1 
索引(35) 
 
Size(96CU) 
Protection(3) 
128 kbit/s 
 
 46
表 5.3、子通道大小 
 
 48
表 5.5、 FIG1/1 的實際解碼表 
位元定義 FIC 輸入 FIC 解碼 
0 
0 
FIG 
type 
1 
 
1 
0 
1 
0 
Length 
1 
 
0 
0 
0 
Charset 
0 
 
OE 0  
0 
0 
Extension 
1 
FIG 1/1 
1 
1 
0 
Country 
Identification
1 
台灣 
0 
0 
0 
0 
0 
0 
0 
0 
0 
0 
0 
Service 
Identifier 
1 
服務代碼 
1 
0 
1 
0 
0 
1 
0 
0 
1 
I 
0 
1 
0 
0 
0 
Character 
Field 
0 
C 
 50
1 
0 
1 
0 
1 
1 
1 
1 
1 
_ 
 
0 
1 
0 
1 
0 
1 
0 
0 
T 
0 
1 
0 
0 
0 
0 
0 
1 
A 
0 
1 
0 
0 
1 
0 
0 
1 
I 
0 
1 
0 
1 
1 
0 
0 
1 
Y 
0 
1 
0 
0 
1 
0 
0 
 
1 
O 
 52
5.3 主要服務通道解碼 
我們從上一個小節中，對 FIG0/0 、FIG0/1 和 FIG0/2 進行解碼後，可依解出之快速資
訊通道的資訊來對主要服務通道中的副通道進行解碼。我們以副通道 0 服務元件的解碼為
例，根據 FIG0/1 的描述，從 MSC 的資料中，抓最前面的 96 個 CU (6144 位元)，然後經過
Simulink 的解碼系統解出，副通道 0 的串流音訊。在表 5.6 中，我們只顯示了音訊訊框最
前面的 32 位元的訊框頭，後續的音訊資料再使用 MPEG 音訊解碼器，就可以得到 PCM 聲
音訊號。訊框頭欄位的內容定義如圖 5.10，最前面的 12 個位元是同步字碼欄位(Sync 
word)，其數值是 12 個 1，接著 1 個位元的欄位 ID，表示使用的是 MPEG-1 或是 MPEG-2，
數值 1 為 MPEG-1，數值 0 則代表 MPEG-2，數位廣播中 MPEG-1 的取樣率是 24 KHz，則
MPEG-2 的取樣率是 48 KHz。然後 Layer 欄位只有 Layer II，固定為 10。接下來 1 個位元
的保護錯誤欄位中，0 是有 CRC，1 則反之。再來是位元率指引欄位(bit rate index)，這個
部份依 ID欄位的指示是MPEG-1(取樣率是 24 KHz)或是MPEG-2(取樣率是 48 KHz)定義如
表 5.7。接著取樣率欄位目前只有固定是 01。後續的補丁欄位(padding slot)和 Private 欄位
的數值目前也都是固定為 0。模式欄位(mode)分為 4 種，00 表示立體音(stereo)、01 表示結
合立體音(joint stereo)、10 表示兩個獨立聲道(dual channel)以及 11 表示單聲道(single 
channel)。接下來的模式指引欄位(mode extension)，表示從哪一個副通道開始進行兩聲道的
取樣點結合，其中 00 表示副通道 4、01 表示副通道 8、10 表示副通道 12 和 11 表示副通道
16。再來的兩個欄位是屬於版權相關訊息，第一個是版權欄位(copyright)，0 表示無版權，
1 則反之；第二個是原版/複製版欄位(original/copy)，0 表示原版，1 則反之。最後的高頻
增強資訊欄位(emphasis)，其中 00 表示沒有使用、01 表示 50/15us、10 表示保留和 01 表示
CCITT J.17。 
表 5.6 顯示我們針對副通道 0 服務元件的訊框頭的解碼結果，最前面的是同步字碼欄
位(Sync word)，當出現 12 個數值 1，就表示我們的解碼是正確的。接著的欄位 ID，表示
使用的是 MPEG-1，然而 Layer 欄位只有 Layer II，所以固定為 10。接下來 1 個位元的保護
錯誤欄位中，表示是有 CRC。再來是位元率指引欄位(bit rate index)，知道位元率為 128 
Kbit/s。取樣率欄位目前皆是 01，由 ID 欄位知道是 MPEG-1，所以取樣率為 24 KHz。目
前數位廣播沒有補丁而且 Private 欄位原則上不使用，所以這兩個欄位都是為 0。模式欄位
(mode)則為立體音。接下來的模式指引欄位(mode extension)，表示從副通道 4 開始進行兩
聲道的取樣點結合。版權欄位(copyright)表示無版權；原版/複製版欄位(original/copy)則表
 54
 
 
圖 5.10、音訊訊框的訊框頭欄位的架構 
 
表 5.7、位元率指引(bit rate index) 
Sampling frequency (kHz) 48 24 
位元率指引 Audio bit rate (kbit/s) Audio bit rate (kbit/s) 
0001 32 8 
0010 48 16 
0011 56 24 
0100 64 32 
0101 80 40 
0110 96 48 
0111 112 56 
1000 128 64 
1001 160 80 
1010 192 96 
1011 224 112 
1100 256 128 
1101 320 144 
1110 384 160 
 
 
 
圖 5.11、 DAB 節目頻寬速率與容量單元關係 
