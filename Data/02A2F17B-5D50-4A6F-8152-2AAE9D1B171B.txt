designs may become routine and simple operations. 
In general, the studies above concurred that the 
decentration error of a lens was the most 
fundamental of all optical errors. Accordingly, 
various centering devices have been developed to 
facilitate the analysis of decentration errors. 
Hopkins and Tiziani [12] applied simple optical 
path methods to derive analytical formulae to 
predict the influence of a single decentered surface 
on the wave aberration, and thence on the Strehl 
intensity ratio. Suitable combinations of these 
formulae were then used to predict potential sources 
of centering error in the components of a lens 
system. As a result of machine-finishing errors, 
optical lenses invariably possess a certain degree of 
decentration error. The image quality of an optical 
system is limited not only by its inherent design 
aberrations, but also by the fabrication and 
assembly errors of its elements. The precision of an 
optical system can nevertheless be enhanced by 
analyzing and calibrating the decentration errors of 
its constituent components. In an ideal lens, the 
optical axis, the straight line connecting the actual 
centers of curvature of its two boundary surfaces, 
coincides with the reference axis, the straight line 
connecting the theoretical centers of curvature of its 
two boundary surfaces. However, if a decentration 
error exists, these two axes are separated slightly. In 
the present study, the decentration error of an 
axially-symmetric optical element or optical system 
is expressed in terms of the tilt angle of the 
element’s surface. 
The homogeneous coordinate representation of a 
vector in three space is a four-space entity such that 
a particular perspective projection recreates the 
three space [13]. This can be viewed as the addition 
of an extra coordinate (i.e. a scale factor) for each 
vector such that the vector would have the same 
meaning if each component, including the scale 
vector, is multiplied by a constant. In this paper, the 
position vector  is written in the 
form of a column matrix j , 
where the pre-superscript "j" of the leading symbol 
 indicates that the vector is referred to 
coordinate frame . Given a point , its 
transformation  is represented by the matrix 
product , where  is a  matrix 
defining the position and orientation (referred to 
hereafter as the “configuration”) of a frame  
with respect to a second frame . The same 
notation rules are also applicable to the unit 
directional vector 
kPjPiP iziyix ++ [ iziyixi ]T1PPPP =
j
k
iP
j(xyz) i
j P
iP
i
j
j
k
i
k PAP = jk A 44×
j(xyz)
k(xyz)
[ ]Tiziyixij 0llll = . Note that 
for simplicity, in the following analysis, if a vector 
is referred to the world frame , then its 
pre-superscript “0” is omitted. 
0(xyz)
 
2. Skew Ray Tracing at Optical Boundary 
Surface 
A fundamental feature of typical optical 
elements is that their boundary surfaces, at which 
reflection and refraction processes occur, are 
surfaces of revolution. Consequently, the 
methodology proposed in this study first defines the 
boundary surfaces in terms of revolution geometry 
and then establishes the skew ray paths as they 
undergo reflection and refraction using a tracing 
technique. A boundary surface 
i
 can be obtained 
by rotating its generating curve 
i r
[ ]Tiiii 1)z(β0)x(βm = in the xizi plane about the 
optical zi axis [3], i.e. 
⎥⎥
⎥⎥
⎦
⎤
⎢⎢
⎢⎢
⎣
⎡
=
⎥⎥
⎥⎥
⎦
⎤
⎢⎢
⎢⎢
⎣
⎡
⎥⎥
⎥⎥
⎦
⎤
⎢⎢
⎢⎢
⎣
⎡ −
==
1
)z(β
)Sαx(β
)Cαx(β
1
)z(β
0
)x(β
1000
0100
00CαSα
00SαCα
m)αRot(z,r
i
ii
ii
i
i
ii
ii
i
i
ii
i
, (1) 
where  is the rotation transformation 
matrix about the zi axis and C and S denote cosine 
and sine, respectively. Eq. (1) provides a valid 
generic expression for parametrizing the boundary 
surfaces of any optical element in terms of i  and 
the polar angular position . Therefore, the unit 
normal vector  along the boundary surface  
is given by 
)α,Rot(z ii
β
iα
i
i n i
i r
i
i
i
i
i
i
i
i
i
i
i
i
ii
i
α
r
β
r)/
α
r
β
r(sn ∂
∂×∂
∂
∂
∂×∂
∂= , where  
is set to +1 or –1 such that the cosine of the 
incidence angle . Having obtained general 
expressions for  and , any skew ray can be 
traced by applying reflective and refractive optical 
laws in terms of the boundary surface unit normal 
and the unit directional vector of the incident ray. 
The two most important boundary surfaces are the 
flat boundary surface  
possessing the unit normal i [14] 
and the spherical boundary surface 
is
0Cθ i >
i
i n i
i r
[ ]Tiiiiii 10SαβCαβr =
[ ]Tii 01-00sn =
[ ]Tiiiiiiiiii 1SβRSαCβRCαCβRr =  with the unit 
normal [ ]Tiiiiiiii 0SβSαCβCαCβsn =  [15]. Note 
that  and  are expressed with respect to ii r ii n
production steps from the centration measurement 
to the alignment, cementing and assembly of optics. 
⎥⎥
⎥⎥
⎦
⎤
⎢⎢
⎢⎢
⎣
⎡
−==
1000
0Cθ0Sθ
0010
0Sθ0Cθ
)θRot(y,A
00
00
00'
0
. (11) 
In a typical decentration measurement setup, an 
autocollimator equipped with an additional head 
lens is focused on the focal plane of the optical 
sample of interest (i.e. the transmission method). 
The transmission optical centering device requires 
the use of an additional collimator. The parallel 
beam emerging from the collimator is focused on 
the focal plane of the optical sample to be measured 
(see figure 1). The images projected onto the focal 
plane of the optical sample lens are observed either 
directly through the eyepiece of the autocollimator, 
or through a telescope or microscope. When a 
decentration error is present, the observed image 
describes a circle as the optical sample lens is 
rotated around a reference or datum axis, and the 
diameter of this circle (referred to hereafter as the 
spot circle) is proportional to the size of the 
centering error. The measurement result can be 
expressed either in terms of the radius of the run out 
circle or as the tilt angle of the surface or lens axis. 
The centers of the boundary surface curvatures 
and  represent the origins of coordinate 
frames 1  and 2  respectively. And the 
origin of frame  is the intersection point of 
focal plane  and the central axis. Therefore, the 
4×4 homogeneous transformation matrix of 
coordinate frame  with respect to coordinate 
frame  has the form 
1r 2r
(xyz) (xyz)
3(xyz)
3r
1(xyz)
0'(xyz)
⎥⎥
⎥⎥
⎦
⎤
⎢⎢
⎢⎢
⎣
⎡
+−=−=
1000
0100
Rtm010
0001
,0)R0,t,0)Trans(mTrans(0,A 111
0'
. (12) 
If  is a concave surface, then the radius of 
curvature, , has a negative value. Conversely, if 
 is a convex surface,  is positive. Finally, if 
 is a flat surface, then .  
1r
1R
1r 1R
1r 0R1 =
3.1 Define the Coordinate Frame The 4×4 homogeneous transformation matrix 
of coordinate frame  with respect to 
coordinate frame  has the form 
2(xyz)
0'(xyz)
To analyze the light path followed by a light ray 
passing through the sample lens mounted on the 
transmission optical centering device, it is 
necessary to attach a coordinate frame system to the 
device. Figure 2 presents a schematic illustration of 
a sample lens attached to the transmission optical 
centering device. Let  denotes the refractive 
index of the measured optical sample lens and γ is 
the surface angle of tilt. Furthermore, let the optical 
sample lens thickness be t and the distance from the 
intersection of the reference axis and the boundary 
surface, , to the detector be m. 
1ξ
1r
⎥⎥
⎥⎥
⎦
⎤
⎢⎢
⎢⎢
⎣
⎡
+−==
1000
SγRCγSγ0
mCγRSγCγ0
0001
,0)Rγ)Trans(0,m,0)Rot(x,Trans(0,A
2
2
22
0'
. (13)  
If  is a concave surface, then the radius of 
curvature, , has a positive value. Conversely, if 
 is a convex surface,  is negative. Finally, if 
 is a flat surface, then . 
2r
2R
2r 2R
2r 0R 2 =
The 4×4 homogeneous transformation matrix of 
coordinate frame  with respect to 
coordinate frame  has the form 
3(xyz)
0(xyz)To derive the focusing deviation distance, d1, 
when parallel light beam was focused to focal plane, 
it is first necessary to build the world coordinate 
frame . The coordinate frame  is 
attached to the precision rotary holder and the axis 
y is coincident with the rotation axis. Before the 
optical sample is rotated, the z-axes of the 
coordinate frame  and the world coordinate 
frame  coincide (see Fig. 2). However, 
following rotation, the relative configuration of the 
world frame  with respect to frame  
is given by  
0(xyz) 0'(xyz)
0'(xyz)
0(xyz)
0'(xyz) 0(xyz)
⎥⎥
⎥⎥
⎥
⎦
⎤
⎢⎢
⎢⎢
⎢
⎣
⎡
+−=+−=
1000
0100
f
2
tm010
0001
f,0)
2
tmTrans(0,A3
0
, (14) 
where f is the focal length of the measured optical 
sample. Then the 4×4 homogeneous transformation 
matrices  and  can be obtained as  10 A 2
0 A
⎥⎥
⎥⎥
⎦
⎤
⎢⎢
⎢⎢
⎣
⎡
−
+−==
1000
0Cθ0Sθ
Rtm010
0Sθ0Cθ
AAA
00
1
00
1
0'
0'
0
1
0
, (15) 
⎥⎥
⎥⎥
⎥⎥
⎥⎥
⎥
⎦
⎤
⎢⎢
⎢⎢
⎢⎢
⎢⎢
⎢
⎣
⎡
+++−−
+++−−
+++−−
=
⎥⎥
⎥⎥
⎦
⎤
⎢⎢
⎢⎢
⎣
⎡
=
0
)Cθn(
N
1)Cθ
N
1()
N
1(1n
)Cθn(
N
1)Cθ
N
1()
N
1(1n
)Cθn(
N
1)Cθ
N
1()
N
1(1n
0 22z2z
1
2
2
1
2
1
2z
22y2y
1
2
2
1
2
1
2y
22x2x
1
2
2
1
2
1
2x
2z
2y
2x
2
l
l
l
l
l
l
l
. (31) 
The incident point on the detector  is  3P
⎥⎥
⎥⎥
⎥
⎦
⎤
⎢⎢
⎢⎢
⎢
⎣
⎡
+−=
⎥⎥
⎥⎥
⎦
⎤
⎢⎢
⎢⎢
⎣
⎡
+
+
+
=
1
P
f
2
tm
P
1
λP
λP
λP
P
3z
3x
32z2z
32y2y
32x2x
3 l
l
l . (32) 
Then we can get 
2y2y3 /)f2
tmp(λ l+−+−= . 
Then  is 3P
T
32z21z0z32x21x0x3 1λλpf2
tmλλpP ⎥⎦
⎤⎢⎣
⎡ +++−++= llll . (33) 
If the measured optical sample lens has a surface 
angle of tilt, , there is a deviation distance, d1, 
between the Gaussian focal plane and optical axis, 
when the parallel light rays pass through the 
measured optical sample lens. Let f1 is the focal 
length of head lens and θ  is the small angle 
between the optical axes of a head lens and the 
parallel light rays, then one can obtain 
. Let f2 is the focal length of an 
autocollimator and the included angle between the 
central axis of objective lens and the parallel light 
rays is small, the deviation distance, R, on the focus 
is , thus 
γ
θftanθfd 111 ×≈×=
θftanθfR 22 ×≈×=
)/fR(fd 211 = , (34) 
where f1 and f2 are given by the manual of optical 
centering device and R is the radius of the spot size 
on the detector. Then one can calculate the surface 
angle of tilt, , by using γ 2
3z
2
3x1 ppd +=   
4. Simulation 
Using the analysis method presented above, 
simulations were performed to obtain the spot circle 
formed by the light passes through the optical 
sample lens as it was rotated. In the simulations, the 
lens parameters were specified as follows: lens 
refractive index  (N1=0.8), lens thickness 
t=10mm, radius of curvature of boundary (r1) 
, radius of curvature of boundary (r2) 
,the focal length of head lens 
, the focal length of autocollimator 
, and m = 400mm. The spot circle of 
the light ray on the detector was simulated for 
various surface angle of tilt, i.e.  = 0.1°, 1°, 5°, 
10°, 15°, 20°, 25°, and 30°, respectively. The 
corresponding results are presented in table 1 and 
figure 3 (the nonlinear skew ray tracing data). 
Figure 3 shows that a linear relationship exists 
between the surface angle of tilt  and the radius 
spot circle R at small values of  by using skew 
ray tracing. However, when  exceeds 10° the 
linear relationship gradually disappears. 
Consequently, the function relating the two 
parameters over a wide spot circle radius range is 
complex. However, in practice, the surface tilt angle 
is generally quite small, hence the correlation 
between the spot circle radius and the surface tilt 
angle can be approximated by the first-order 
differential of the mathematical expression for the 
incident position  at 
1.25ξ1 =
300mmR1 =
300mmR 2 −=
50mmf1 =
250mmf2 =
γ
γ
γ
γ
3P γ =0. 
The position of  is given by 3P
⎥⎥
⎥⎥
⎥
⎦
⎤
⎢⎢
⎢⎢
⎢
⎣
⎡
+
+−
+
=
⎥⎥
⎥⎥
⎥
⎦
⎤
⎢⎢
⎢⎢
⎢
⎣
⎡
+++
+−
+
λ
λ
2z
2x
l
l++
=
⎥⎥
⎥⎥
⎦
⎤
⎢⎢
⎢⎢
⎣
⎡
=
1
λλ
f
2
tm
λλ
1
λλp
f
2
tm
λλp
1
p
p
p
P
32z21z
32x21x
321z10z0z
321x10x0x
3z
3y
3x
3 ll
ll
ll
ll
. (35) 
The first-order differential of  has the form 3P
⎥⎥
⎥⎥
⎥⎥
⎦
⎤
⎢⎢
⎢⎢
⎢⎢
⎣
⎡
∂
∂+∂
∂+∂
∂+∂
∂
∂
∂+∂
∂+∂
∂+∂
∂
=
⎥⎥
⎥⎥
⎦
⎤
⎢⎢
⎢⎢
⎣
⎡
=
1
 γΔ )
γ
λ
λ
γγ
λ
λ
γ
(
0
 γΔ )
γ
λ
λ
γγ
λ
λ
γ
(
1
Δp
Δp
Δp
ΔP
3
2z3
2z2
1z2
1z
3
2x3
2x2
1x2
1x
3z
3y
3x
3
llll
llll . (36) 
The relationship between the surface angle of tilt 
γ  and the radius of the spot circle R is expressed 
as 
223z23x2
3x
2
3x )  γ(Δ ])γ
P()
γ
P[()P (Δ)P (Δ) (γ R' ∂
∂+∂
∂=+= . (37) 
In the first-order Taylor approximation form 
(0)γR'R(0)) R(γ +=  and R (0) =0, resulting in 
(0)R'
) (γ R
γ = , (38) 
)
2
t1)(fπ(N
180d
)
2
t
)111)((N
11)(π(N
180d
γ 11
−−
=
−
−−
−
=
RR 21
. (39) 
Substituting Eq. (34) to (39), one may get 
)
2
t1)(f(Nπf
R180f
)
2
t
)
R
1
R
11)((N
11)(π(N
R)
f
f180(
γ
2
1
21
2
1
−−
=
−
−−
−
=
, (40) 
where )
2
t(f −  is the distance between  and the 
focal plane, and R is the radius of spot circle on the 
2P
  
  
 
 
 
 
 
 
 
 
able 1 Surface tilt angle data computed by nonlinear  
st-order Taylor 
Figure 1 Light path in transmission optical centering    
device during decentering measurement  
  
  
    T
 skew ray tracing and first-orderTaylor  
 approximation, respectively 
 
Figure 2 Coordinate frames of transmission optical 
centering device 
 
 
 
 
 
 
 
 
nonlinear skew the fir
ray tracing approximation 
 
γ  
(d ree) R( )eg R(mm) mm) Error (%
 0.1 1.29809 1.298 -0.00 
1 12.9828 12.98 -0.02 
5 65.1475 64.90 -0.37 
10 131.786 129.80 -1.51 
15 201.572 194.71 -3.40 
20 276.538 259.62 -6.12 
25 368.334 329.94 -10.42 
30 467.471 403.571 -13.67 
 
 
 
 
 
 
 
 
出席國際學術會議心得報告 
 
計畫編號 NSC96-2221-E-269-003 
計畫名稱 非對稱光軸之光學系統的成像分析與設計(I) 
出國人員姓名 
服務機關及職稱 
廖德潭 
遠東科技大學機械系/副教授 
會議時間地點 自 96 年 10 月 17 日至 96 年 10 月 19 日; 韓國\釜山 
會議名稱 The 2nd International Conference on Advanced Nondestructive Evaluation 
發表論文題目 
 
MEASUREMENT OF MODULATION TRANSFER FUNCTION OF AN 
OPTICAL SYSTEM BY USING SKEW RAY TRACING 
主辦單位 Organizing Committee of the 2nd ANDE 2007 
 
與會心得： 
本次參與” The 2nd International Conference on Advanced Nondestructive Evaluation”，主要目
的是發表近期之研發學術論文 ” MEASUREMENT OF MODULATION TRANSFER 
FUNCTION OF AN OPTICAL SYSTEM BY USING SKEW RAY TRACING”。本人於10月17日
當天自台灣出發至韓國釜山，10月18日早上至釜山國際會議中心之研討會會場註冊及完成相
關會議手續，當天早上參與有關光學領域的學術研討(會議主席為韓國Tae Hyun BAEK 教
授)，場次研討會共有5篇論文發表(第一位論文發表者未到)，第二位論文發表者為本校林俊
鋒副教授，場次最後論文發表為場次會議主席有關光彈探討裂縫集中係數的研究(論文題目
為：Accurate Determination of Stress Intensity Factor of Cracks by Photoelasticity)。下午則至會
場將此次研討會之論文完成張貼事項，並參閱與會人員與研究單位的相關著作。10月18日晚
上則參加大會所舉辦之歡迎宴會，宴會中與二位韓國教授級與會人員交換意見。 
10月19日則至會場參與相關的學術研討(主題大部份為NDT相關的研究)，並參閱與會人員
與研究單位的相關張貼著作。會議於10月19日閉幕。 
   非常感謝國科會給予我此次參與研討會的相關補助，讓我能在國際研討會上發揚台灣學者
的精神及成果，也讓世界瞭解認識本人所服務學校目前在光學研究的相關成果，更相信藉由
此次研討會能讓世界看得到在台灣努力不懈的我們，期待下次研討會的來臨，也更期待能持
續創新研發為邁向科技之未來努力。 
 
 
meridional rays can be traced using relatively simple trigonometric formulae, or even graphically if a very 
low level of precision is adequate. However, skew rays, which represent the most general type of ray, are far 
more difficult to trace. Nonetheless, without tracing their paths, it is impossible to accurately model optical 
systems or to evaluate their performance.  
The transformation of a vector in 3-space to a homogeneous coordinate representation involves the 
addition of an extra coordinate (i.e. a scale factor) to each vector such that the vector retains the same 
meaning if each of its components, including the scale factor, is multiplied by a constant [6]. In the analysis 
presented in this paper, the position vector in 3-space is written in the form of a column 
matrix , in which the pre-superscript "j" of the leading symbol, , indicates that the vector 
is referred with respect to the coordinate frame . Given a point , its transformation  is represented 
by the matrix product , where 
j
 is a 
[ Tiziyixij 1PPPP = ] ij P
j(xyz) i
j P ik P
i
j
j
k
i
k PAP = k A 44×  matrix defining the position and orientation (referred 
to hereafter as the configuration) of a frame  with respect to another frame . The same notation 
rules are also applied to the unit directional vector 
j(xyz) k(xyz)
[ ]Tiziyixij 0llll = . Note that for vectors referred to the 
world frame , the pre-superscript “0” is omitted for reasons of convenience. 
0(xyz)
You can delete our sample text and replace it with the text of your own contribution to the proceedings. 
However we recommend that you keep an initial version of this file for reference. 
2.   Spot Diagram of Optical System by Skew Ray Tracing 
A ray tracing technique can be used to determine the paths followed by the skew rays as they undergo 
successive reflection and refraction operations at the various optical surfaces they encounter as they travel 
through the system. The configuration of the world frame  with respect to the boundary coordinate 
frame is given by 
0(xyz)
i(xyz)
⎥⎥
⎥⎥
⎦
⎤
⎢⎢
⎢⎢
⎣
⎡
==
1000
tKJI
tKJI
tKJI
AA
iziziziz
iyiyiyiy
ixixixix
i00
i .            (1) 
Fig. 1 shows the general case where a light ray originating at point [ ]T1zi1yi1xi1i 1PPPP −−−− =  and directed along 
a unit directional vector [ ]T1zi1yi1xi1i 0−−−− = llll  is reflected / refracted at an optical medium boundary surface, ii r . 
he incident point iP , refracted ray il , and reflected ray T il  e given by the following formulae [7]:  ar[ ]Ti1zi1zii1yi1yii1xi1xii 1λPλPλPP −−−−−− +++= lll  ,           (2) 
⎥⎥
⎥⎥
⎥
⎦
⎤
⎢⎢
⎢⎢
⎢
⎣
⎡
+++−−
+++−−
+++−−
=
⎥⎥
⎥⎥
⎦
⎤
⎢⎢
⎢⎢
⎣
⎡
=
−
−
−
0
)Cθn(N)Cθ(NN1n
)Cθn(N)Cθ(NN1n
)Cθn(N)Cθ(NN1n
0
iiz1zii
2
ii
2
iiz
iiy1yii
2
ii
2
iiy
iix1xii
2
ii
2
iix
iz
iy
ix
i
l
l
l
l
l
l
l  ,     (3) 
⎥⎥
⎥⎥
⎦
⎤
⎢⎢
⎢⎢
⎣
⎡
+
+
+
=
⎥⎥
⎥⎥
⎥
⎦
⎤
⎢⎢
⎢⎢
⎢
⎣
⎡
=
−
−
−
0
Cθ2n
Cθ2n
Cθ2n
0
iiz1zi
iiy1yi
iix1xi
iz
iy
ix
i l
l
l
l
l
l
l  ,             (4) 
Equation (8) provides the basis for determining the sensor readings [ ]Tnn PP nynx using a ray tracing approach. 
And the spot diagram of the object on the image plane can be obtained. 
3.   Measurement of MTF by Using Skew Ray Tracing 
Fig. 2 is the optical system for the measurement of MTF by simulation in this paper. The parameters of 
this optical system are: numerical aperture (NA) being -0.045, f-number 11.1, effective focal length (EFL) 
99.99mm, back focal length (BFL) 179.375mm and object distance (OD) 179.38mm. The constructional 
parameters of lenses are listed in table 1.  
 
Fig. 2  The optical system for the measurement of MTF 
 
Table 1 the data of lens in the symmetrical optical system (unit: mm) 
Boundary 
i 
Radius 
(mm) 
Thickness 
    (mm) 
Refractive 
index 
iξ
Boundary
i 
Radius 
(mm) 
Thickness 
(mm) 
Refractive 
index 
iξ
1 21.907 9.020 1.658 8 -74.290 4.097 1.611 
2 19.003 1.950 1 9 -14.402 0.180 1 
3 42.090 1.096 1.589 10 -13.928 1.096 1.589 
4 13.928 0.180 1 11 -42.090 1.950 1 
5 14.402 4.097 1.611 13 -19.003 9.020 1.658 
6 74.290 3.812 1 13 -21.907 179.375 1 
7 --- 3.812 1     
 
In this study, two cases of light source position are studied. The first case considered the light source 
being in the optical axis (light source 1 in Fig. 2) while the second considered the source 50 mm off the axis 
(light source 2 in Fig. 2). The OD was 179.38 mm and the radius of the aperture 4.5mm for both studies. The 
aperture was firstly divided in a grid shape with each side of the aperture being divided into forty equal parts. 
Light rays are emitted from the light source with different incident angle. The light ray that passed through 
the mesh point was selected to simulate ray tracing, and there were 1576 light rays traced. Then the spot 
diagram of the light rays on the focal plane of the optical system was obtained, thus the MTF of the optical 
system was measured. 
Fig. 3(a) is the curve of the MTF value for case 1 study and it can be seen that the spatial-frequency is 
127 cycle/mm. Fig. 3(b) is the curve of the MTF value for case 2. Obviously, the MTF curve decreases 
rapidly and has a serious perturbation under far from optical axis. There is no obvious spatial-frequency. 
