1. 簡介 
Viola 及 Jones [1] 在2001，針對人臉偵測提出一種機器學系方法(Machine learning approach)，這種
方法能夠達到快速及準確的偵測率。Viola 及 Jones 的人臉偵測方法主要有三個特性：(a)使用積分影像
達到快速的特徵計算，(b)以 AdaBoost[5]方法選取少量重要特徵來建構分類器，(c)以串聯的方式結合許
多複雜分類器，此方式是以重視有用的影 像區域來明顯地提高偵測速率。 
Viola 及 Jones 提出積分影像與基於 AdaBoost 的即時人臉偵測分類器的理論。他們利用4916張人工
擷取的人臉並縮放至大小為24x24以及350萬張非人臉，使用200個特徵建構出一個正面的人臉分類器。
如圖1為由 AdaBoost 所得到的兩個矩形特徵範例。他們的人臉分類器能夠達到95%的偵測率，以及在
14804張非人臉測試中，能夠完全排除(100% false positive rate)。使用串連分類器的方式提高偵測率且
減少計算時間，因為非人臉會在最前面的步驟就被排除。 
 
 
(a) 
 
(b)
 
 
 
 
 
 
 
 
圖1. AdaBoost 選出的(a)第一及(b)第二特徵 
 
基於 Viola 及 Jones 的方法，本文提出一個人臉偵測與辨識系統。首先，人臉偵測步驟結合膚色進
一步排除錯誤的人臉偵測。接著，特徵方面，本文提出基於膚色的五官特徵，包含眼睛、嘴巴及鼻子。
最後利用五官特徵，訓練幅狀基底函數類神經網路(Radial Basis Function Neural Network, RBFNN)，當
作人臉辨識器。實驗部分，將本文提出的五官特徵與 Radial Grid 及特徵臉兩種不同的特徵作比較。 
本文的章節架構如下：第二章介紹膚色偵測及三角形偵測。第三章，五官特徵及 Radial Grid 及特
徵臉的擷取步驟。第四章，幅狀基底函數類神經網路(RBFNN)。第五章為實驗結果。第六章是結論。 
 
2.膚色偵測及三角偵測 
2.1 膚色偵測 
本文是依據正常五官位置關係，將人臉區域分隔成眼睛區域及嘴唇區域。眼睛及嘴唇偵測分別採
用 YCbCr 及 NCC 色彩空間。首先，人臉的眼睛區域以下列三條規則作膚色偵測後，再反向運算得到眼
睛區塊，如圖 2所示。 
1. Y(i) < α : Y必須大於α值，其中α=130。  
2. Cb < β：Cb 必須小於β值，其中β=95。  
3. Cr < γ：Cr 必須小於γ值，其中γ=110。  
接著以(1)及(2)式對嘴唇區域做偵測，既可找到嘴唇，如圖 3。 
 2
1. 先將人臉區域作柱狀圖等化，降低亮度變化的影響。 
2. 將人臉區域大小正規化至三種不同大小，分別為 100x100、150x150 及 200x200。 
3. 以三角點及三角形重心為圓心，分別擷取半徑為人臉區域寬度 1/6 的圓，四個圓分別涵蓋的眼
睛、嘴巴及鼻子既為五官特徵。 
4. 以主成分分析(PCA[3])降低資料維度後，再以線性鑑別分析(LDA[3])來提高特徵向量的鑑別性, 
增加不同類別特徵向量間的相異性。 
結果如圖５所示，藍色圓為五官特徵範圍。 
 
圖 5. 五官特徵擷取 
 
3.2 Radial Grid 特徵 
Radial Grid[4][5]是以多個同心圓與同心圓圓心幅射線所交點為取樣點圓心，如圖 6。以此圓心
及直徑Ｄ，得到取樣範圍並且平均範圍內灰階值，以平均值當作取樣點特徵。 
 
圖 6. 輻射網格取樣結構 
取樣特徵為Ｄ所涵蓋範圍的平均值，Ｄ的大小為： 
 
其中 為同心圓心， 為取樣點圓心， 等於同心圓個數， 為同心圓分隔角度個數。因此，
取得的特徵大小為 × 。下列為特徵擷取的步驟： 
rN θN
rN θN
1. 先對人臉區域做柱狀圖等化，降低亮度變化的影響。 
2. 由三角形偵測得到的三角形重心，以此重心當作同心圓的圓心，最大同心圓的直徑等於人臉
區域的寬度，對同心圓做相同角度分割。 
3. 由步驟 2 所得的 所形成的幅狀網格，由式(5)計算出取樣點 D 計算所有取樣點的平均灰
階值，就得到特徵向量。 
結果如圖 7，取樣大小為 32x32。 
 
 
 4
 
圖 9. 幅射基底函數類神經網路(RBF-NN)架構 
 
其中{x1, x2, …xN}為 N 個維度的輸入特徵, M 個神經元的隱藏層及一個輸出值. 輸出值有下列式(7)
計算得出: 
 
 
 
5. 實驗結果 
5.1 人臉資料庫 
本實驗是使用 Web-Cam 自行拍攝的人臉樣本，影像大小為 640x480。資料庫人數為有 15 個人，其
中 10 個人為內部資料庫的訓練及測試樣本，其餘 5 人當作資料庫的外部測試。 共有 300 張影像，其
中內部資料庫為 200 張， 外部資料庫為 100 張。訓練樣本為 10 個人，每人 15 張共 150 張(5 個不同
位置)，測試樣本每人 5張影像共 50 張(5 個不同位置)。外部測試 5人，每人 20 張共 100 張影像(5 個
不同位置)。拍攝影像時，為避免膚色錯誤偵測，因此環境光線必須盡量充足，且被拍攝者的五官不能
有遮蔽(不能配戴眼睛)，如圖 10 所示： 
 
圖 10.  (a)理想的環境光線 (b) 會造成膚色 
錯誤偵測的環境光線 
5.2 RBFNN辨識結果 
這裡我們將實驗五官特徵、Radial Grid 與特徵臉的辨時結果，以及人臉正規化及 Radial Grid
大小，及不同 值、PCA 與 LDA 選取特徵數量的辨識結果。人臉正規化大小有三種變化：100x100、
150x150、200x200， 值則為 0.1~2，PCA 及 LDA 特徵選取數量為 10~140，隱藏層節點個數取 145。
橫軸為 值，縱軸為辨識率(%)。 
 6
  
圖 14. Radial Grid 特徵最佳辨識結果 
 
3. 特徵臉 
由實驗結果得到，當大小為 100x10， =0.6 與 200x200， =0.3 時，特徵臉的辨識率都為 96%，而大
小為 150x150， =0.3 時，辨識率為 94%。且當 值超過 0.3，100x100 則是超過 0.6 時，都因為發生
Over-fitting，所以辨識率會開始下降。 
 
圖 15. 正規化大小 100x100 
 
圖 16. 正規劃大小 150x150 
 8
 10
0.9 0.04 1 0.28 0.88 0.1 1 
Table 3. 正規化大小 200x200 
及 Radial Grid 32x32 
 五官特徵 Radial Grid 特徵臉 
Threshold TP FP TP FP TP FP 
0.1 1 0 1 0 1 0 
0.2 0.98 0.33 1 0 1 0.32 
0.3 0.94 0.64 0.98 0 1 0.98 
0.4 0.82 0.92 0.94 0.18 0.94 0.99 
0.5 0.72 0.97 0.78 0.34 0.82 1 
0.6 0.62 1 0.64 0.51 0.76 1 
0.7 0.34 1 0.46 0.59 0.7 1 
0.8 0.16 1 0.3 0.66 0.46 1 
0.9 0.04 1 0.16 0.84 0.18 1 
 
6. 結論 
本文提出基於 OpenCV 及結合膚色偵測的即時人臉辨識系統。膚色偵測後取得三角點，擷取五官特
徵，經由 PCA 降維及 LDA 增加相異性後，以 RBF 訓練及當作人臉辨識器。由實驗結果得知，本文
所提的五官特徵，能夠以少量的特徵達到理想的辨識結果。 
 
參考文獻 
[1] Paul Viola, Michael Jones, "Robust Real-time Object Detection", Second International Workshop on 
Statistical and Computational Theories of Vision -Modeling, Learning, Computing, and Sampling, 2001.  
[2]  Andrea F, Abate, Michele Nappi, Daniel Riccio, 
Gabrele Sabatino, "2D and 3D face recognition: A survey", ScienceDirect Pattern Recognition Letters , 
vol. 28, 2007pp. 1885-1906. 
[3] Ming-Hsuang Yang, David J. Kriegman, narendra Ahuja, "Detecting Faces in Images: A Survey", IEEE 
Transactions on Pattern Analysis and Machine Intelligence,vol. 24, 2002, pp. 34-58. 
[4]  Lian Hock Koh, Surendra Ranganath, Y.V. Venkatesh, "An integrated automatic face detection and 
recognition system", ScienceDirect Pattern Recognition, vol. 35, 2002, pp. 1259-1273.  
[5]  H. Araujo, J.Dias, "An introduction to the log-polar mapping", Proceedings of the Workshop on 
Cybernetic Vision 1996, 1997, pp. 139-144. 
[6]  A.M. Martinez and R. Benavente, "The AR face database," CVC Tech. Report #24, 1998.  
 
 
 
 
 
 
 
