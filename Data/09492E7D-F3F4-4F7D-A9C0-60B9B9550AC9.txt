1 
行政院國家科學委員會專題研究計畫成果報告 
運用文字探勘與創新構思問題解決(TRIZ)建構一相關性與啟發性之專利搜尋檢
索機制－以民生必需品之中華民國專利為例(II) 
Correlative and inspirational patent searching and mapping approach by using text mining and 
TRIZ - case study using R.O.C living consuming merchandise (II) 
計 畫 編 號： NSC 98-2221-E-027 -040 – 
執 行 期 限：98 年 8 月 1 日 至 99 年 7 月 31 日 
主 持 人：葉繼豪   國立台北科技大學工業工程與管理系 
計畫參與人員：黃靖強、謝承諭、林瑞庭、黃加昌 
國立台北科技大學工業工程與管理系 
一、中文摘要 
近年來發展迅速的創新構思問題解決法
(TRIZ)為一系統化創新性問題解決理論，本研究
計畫第一年將使用國際專利分類為A部之“生活
必需品”之1000筆中華民國專利為標的，以文字
探勘技術(Text mining)為主要手法，針對專利文
獻內容之專利名稱與摘要進行TRIZ 40創新性原
則映射分類。首先，經由程式計算字詞頻率(TF)
與反轉文件頻率(IDF)，且透過卡方統計與相關係
數文字特徵擷取方法，篩選並排序與各TRIZ創新
性原則具強關聯性之相關字詞，接著計算這些字
詞之字詞頻率反轉文件頻率(TFIDF)與權重-字詞
頻率反轉文件頻率(w-TFIDF)值，藉以作為本研
究計畫第二年支持向量機(SVM)與倒傳遞類神經
網路(BPN)分類器之幾何輸入向量進行分類測
試，後藉由準確率(Accuracy)、精準度(Precision)、
回想率(Recall)及F值(F-measure)四個評估指標，
驗證系統之分類結果與自動分類績效是否符合
需求，提供更進ㄧ步專利有效且強關聯之應用，
本研究計畫並與目前國外僅有唯一之新加坡學
者;使用TRIZ 40創新性原則進行少數美國專利為
實驗樣本 [1]作比較，以證實本研究計畫之實務
可行性。故日後研發人員若發生設計矛盾而苦思
無創新解，可利用本研究計畫進行有效率之跨產
業TRIZ與相關中華民國專利搜尋檢索，以期進一
步提升台灣供應鏈合作夥伴研發創新之新思維
與能量。 
關鍵詞：創新構思問題解決法(TRIZ)；40 創新性
原則; 文字探勘；中華民國專利分類與檢索；支
持向量機(SVM);倒傳遞類神經網路(BPN) 
Abstract 
    In recent years, TRIZ have been developed 
rapidly and known as a useful tool to solve the 
contradictions on engineering problems. The aim of 
this research is to map R.O.C patents into TRIZ 
applications by using text mining technique for 
further innovative product concepts and solutions of 
conflicts. First of all, using on-line auto-tag system 
provided by Academia Sinica to break every 
sentence in a document into several keywords and 
label these keywords manually. Calculating text 
frequency (TF) and inverse document frequency 
(IDF) in the corresponding document. Secondly, 
chi-square statistics and correlation coefficient 
approaches are used to select and sort word features 
which are highly correlated to 40 TRIZ innovative 
principles. Then, calculating the TFIDF and 
weight-TFIDF values for selected words, these 
values are inputs for further classifiers such as 
support vector machine (SVM) and BPN. Finally, 
SVM and BPN are implemented to evaluate the 
performances of 1000 R.O.C patents mapping into 
40 TRIZ innovative principles. Experimental results 
show that, by appropriate parameters setting, SVM 
and BPN are accurate classifiers for 26 innovative 
principles (around 96%). However, SVM and BPN 
perform moderately for other 14 innovative 
principles (around 55%). Even though, this research 
still significantly help R&D personnel to solve 
trade-off contradictions by fast searching the 
correlation between TRIZ and existing R.O.C 
patents, which could reduce time-consuming for 
creative thinking and time-spent for new product 
introduction. 
Keywords ：TRIZ; 40 Innovative principles; Text 
Mining; Patent Classification and Mapping; R.O.C 
patents; TFIDF; Weight-TFIDF; SVM; BPN 
二、緣由與目的 
創新構思問題解決法(TRIZ)包含問題定義與矛盾
分析、系統資源利用、理想化系統與最終結果、問
題解決之演化模式、矛盾矩陣、40 創新原則(40 
inventive principles)等刺激創意之方法與步驟，可系
統化加速創新產品產出並提升附加價值，為台灣產
業界之創新與研發能量提昇揭露出ㄧ絲曙光。故創
3 
量點後各資料之計算，也能達到有效分類的作用
(如圖 3.1 所示)，以下說明支持向量機處理線性可
分 (Linearly separable)[3] 與 線 性 不 可 分
(Non-linearly separable)之情況[3]。 
 
圖 3.1 支持向量機線性可分割概念 
3.1.1 線性可分情況 
SVM 方法是從線性可分情況下的最優超平
面(Optimal hyperplane)發展提出，此超平面之意
義即為決策面。所謂最優決策面就是要求分類線
不但能將兩類樣本無錯誤的分開，而且要使兩類
之間的距離最大。設線性可分樣本集為( ix , iy )，
s,..., ,i 21 ， n Rx ，  y [-1,1]，其中，x 為訓練
樣本、y 為訓練樣本類別、s 為樣本數及 n 為輸入
維度。故在低維空間中線性判別函數的一般形式
為 b x     w  ，分類面方程為： 
       b  x     w    x  g                     (3-1) 
將判別函數進行歸一化，使兩類所有樣本都
滿足   1   xg  ，即使距離分類面最近的樣本的
  1   xg  ，這樣分類間隔就等於 ||w||
2 ，因此間隔
最大等價於使 ||w|| (或 2||w|| )最小；而要求分類線
對所有樣本正確分類,就是要求其滿足：                                                
           s,..., ,i    ,   b  x w   y  ii 211          (3-2) 
故滿足上述條件且使 2||w|| 最小的分類面即
為最優分類面。這兩類樣本中離分類面最近的點
且平行於最優分類面的超平面上之訓練樣本；亦
即使上式 3-2 中等號成立的那些樣本，稱為支持
向量(Support vectors)。根據上述論點，最優分類
面問題可以表示成如下的限制優化問題，即求解
下式 3-3 的最小值，亦即 
            w   w ||w||    w             Minimize 
2
1
2
1 2    (3-3) 
此為二次規劃問題，可定義以下的拉格朗日函數
(Lagrangian function)： 
            -   b  x w  y a   -     w   w    a   ,b   , w L  i i
n
i
 i 12
1
1
 

 (3-4) 
其中 0ia 為拉格朗日係數。求上式 3-3 的極小值
就是對w 和 b 求拉格朗日函數的極小值。求 L 對
w 和 b 的偏微分，並令其等於零，可轉化為對偶
問題(Dual Problem): 
在  n   ,...  ,  , i  ,0   a  ,0  y   a 
n
  i
iii


1
21 之下對 ia 求下式 3-5
的最大值： 
       


n
i
n
ji,
jijijii   x x   y y a a   - a   ) a ( W            Maximize
1 2
1  (3-5) 
由KühnTucker 定理可知，其最佳解滿足： 
       i         ,      -    b  x   w  y      :to       Subject j  01  (3-6) 
因此，僅有支持向量的係數 ia 不為 0，亦即只有
支持向量影響最終的劃分結果。於是w 可表示為： 
     
Vectors 
 Support
iii x   y   a     w                     (3-7) 
即最優分類面的權重係數向量是訓練樣本向量
的線性組合。若 *i a 為最優解，求解上述問題後得到
的最優分類函數是： 
              b   x  x  y a       sgn   b    x   w    sgn x f n
 i
*
ii
*
i
**



  
1
 (3-8) 
其中：     Sgn 為符號函數， * b 是分類的閥值，w
可由任意一個支持向量用上式 3-7 求得，或通過兩類
中任意一對支持向量取中間值求得。對於給定的未
知樣本 x，只需計算   b  x   w  Sgn  ，即可判定 x 所屬
的分類。 
 
3.1.2 線性不可分情況 
對於線性不可分的樣本，期望使錯誤分類的點
數最小，為此在上式 3-2 中引入鬆弛變數 0   i ，即： 
         n  ,...  ,  ,  i   ,     -  b   x   w    y iii 2101      (3-9) 
在上式 3-9 中，對於給定的常數C，求出w 與 b 使得
下式 3-10 為最小，亦即 
        




  

n
  i
i    C     w  w       , w       Minimize
12
1
 (3-10) 
這一優化問題同樣需要變換為用拉格朗日乘式
表示的對偶問題，變換的過程與前面線性可分樣本
的對偶問題類似，結果也幾乎完全相同，只是限制
條件略有變化，亦即 
     


n
  i
iii  n  ,...  ,  ,  i  ,C  a     ,  y a    :  to        Subject
1
2100   (3-11) 
其中，C反映了在複雜性和不可分樣本所占比例
之間的折衷，亦稱懲罰成本(cost)。 
5 
如圖 3.2 所示，第 53 筆專利資料輸入其 120
個向量特徵值後，透過核函數與格子點搜尋程式
計算出核函數轉換後之特徵值，並以 3.3.2 節之
非線性支持向量機演算法公式 3-9、3-10 與 3-11
計算，求出一對一模式之每一個二元分類之結
果，亦即創新性原則 1 與創新性原則 2、創新性
原則1 與創新性原則 3 及創新性原則1與創新性
原則 4 等 780 個分類器結果(k = 40)，透過投票機
制總計判讀最多之類別。經過票數比較，顯示分
類至創新性原則 4 有 39 票為最高，故可透過此
機制將其歸類第 4 個創新性原則。以此方法判讀
每一專利資料分類之類別，於本研究計畫採用之
libsvm 程式即採用此一對一模式進行。 
 
3.2 倒傳遞類神經網路 
    倒傳遞類神經網路是將 Widrow-Hoff 學習規
則廣義化到多層，且具非線性可微分轉移函數網
路中而創造出來的[6][7]。亦即使用輸入向量與其
相對應的目標向量以訓練網路，直到網路運算之
結果能逼近一個函數，或是能用指定輸出來聯想
輸入向量，抑或藉由使用者自行定義的合適方式
分類輸入向量。 
    一般而言，標準的倒傳遞演算法是一種梯度
下降 (Gradient decent) 演 算 法 [6][7] ， 如 同
Widrow-Hoff 學習規則，網路權重值是沿著性能
函數的負梯度方向移動，基本的倒傳遞演算法基
於其他不同標準的最佳化技巧，而有許多種變化
的演算法，就像是共軛梯度法(Conjugate gradient)
和擬牛頓演算法，依據過去研究結果可得知，對
於非常大的網路使用Rprop或共軛梯度演算法比
較合適；而對於比較小的網路，則使用擬牛頓演
算法將是一種有效率的訓練函數。 
    經過適當訓練後的倒傳遞類神經網路，當給
定此網路未曾訓練過的輸入向量組合時，網路將
傾向給出合理的答案。此新的輸入向量組合所導
引 出 的 輸 出 向 量 是 利 用 網 路 廣 義 化
(Generalization)的特性，此廣義化特性使得只需
用具代表性的輸入和目標數據集進行訓練而得
的網路，即能對於不是訓練數具集中的輸入組
合，也可以得到滿意之輸出結果[6][7]。以下 3.2.2
介紹本研究計畫使用倒傳遞類神經網路之演算
法步驟。 
3.2.2 倒傳遞類神經網路之演算法步驟 
    本研究計畫倒傳遞類神經網路研究流程可由
以下階段進行(如下圖 3.4 所示)： 
(1) 準備訓練資料，含輸入向量(input)、目標值
(target) 
首先，和支持向量機相同，進行 3.2.3 節研究方
法後，將其形成 TFIDF 或 w-TFIDF 值之高維稀
疏矩陣向量，專利逐一輸入作為倒傳遞類神經網
路之輸入層神經元，即若 3.2.3 節利用卡方 3 進
行特徵選擇與特徵值計算，則倒傳遞類神經網路
之輸入層神經元數於一專利中共有 120 個。並訂
定輸出層神經元數為 40 個創新性原則，亦即當
輸 出 為
「 000100000000000000000000000000000000000
0」時，判讀創新性原則為分類至創新性原則 4；
另外訓練範例數為600筆專利資料及測試範例數
為 400 筆專利資料。 
 
 
圖 3.4 倒傳遞類神經網路研究方法流程圖 
(2) 決定網路架構(隱藏層層數目、神經元數目) 
此階段透過實驗確立合適的參數範圍，於本研究計
畫中採用 1 層隱藏層，並以 10、30、40 與 60 個神
經元數進行相關研究。 
(3) 設定學習率(eta)與容忍誤差(SSE 或MSE) 
均 方 差 (MSE) 性 能 指 標 採 用 下 式
3-16[78][81][82][83]。 
             a - t      a - t       E     e  e    E   x   F TT       (3-16) 
其中，t 代表目標值，a 代表網路輸出之實際值；
另外，學習率設定為 0.9。 
(4) 權重(weight)初始化，以隨機產生亂數 
一般採用-0.1~+0.1 之間的隨機亂數。 
1. 開始前饋式運算 
(5) 計算隱藏層輸出與輸出層輸出值，採用下式
3-17   1101111 - M ,...  ,  ,  m        b   a  W     f   a  mm m m m   ，  (3-17) 
(6) 計算誤差函數值，即採用上式 3-16 之性能指
標 
確立是否誤差達到停止標準，並將其顯示於 MSE
圖表上以觀測結果。 
 
2. 開始倒傳遞 
7 
地應用在模式辨識、時間序列預測、非線性系統
辨識、控制及其他相關領域。於本研究計畫中，
採用其作為專利文件辨識之主要分類器，在實驗
時有許多參數需要設定與調整，如分類類型、核
函數與懲罰成本等。而在本研究計畫之實驗屬於
一多類別分類問題(C-classification)類型，採用徑
向基核函數(Radial basis function，RBF)，並調整
核函數中的主要內部參數(γ)為 0.007(見公式 3-14)
與懲罰成本(Cost)為 32(見公式 3-10)，上述後兩
者參數為利用格子點參數搜尋程式(Grid.py)挑選
分類結果之最適參數組合以作為其初始設定
值，再作適度調整。 
    SVM 訓練過程中，首先將 40 種創新性原則
分類共 1000 筆依其專利公告日期作時間排序及
適度調整後，再由各類別當中分別選取 60%作為
訓練資料集共計 600 筆專利，40%作為測試資料
集共計 400 筆專利，並透過文字探勘前處理，如
自動斷詞、特徵選取與w-TFIDF 之計算，建置兩
資料集之向量矩陣表(如下圖 41 所示，顯示 SVM
輸入之向量空間矩陣之型式，左行代表 1000 筆
專利項目，上列N 個字詞項目)。 
 
圖 4.1 支持向量機輸入之向量矩陣表程式圖 
    而為了數值計算的穩定度，需要先將資料進
行正規化(Normalization)將每一維度的資料正規
化到[-1,+1]的範圍中，亦即使 SVM 演算中的超
平面 (Support hyperplane) 和最佳切割平面
(Optimal separating hyprtplane，OSH)的距離在±1
之內(見公式 3-2)，下圖 4.2 顯示尺度調整(Scale)
後之結果，和圖 4.1 相同定義為左行代表 1000 筆
專利項目，上列N 個字詞項目。 
  
圖4.2支持向量機經尺度調整輸入之向量矩陣表程
式圖 
     
由上圖 4.1 與圖 4.2 中可看出本研究計畫之
對象為一非線性且具高維度之向量資料，因此需
要選擇適合的核函數將資料投射到更高維度的
空間或是特徵空間(Feature space)。以徑向基函數
(RBF)為例，其是一個頗為複雜的函數，但將其
做內積後，所得到的函數卻意外的簡單，適合用
於本研究計畫之研究對象。此外，除了核函數內
部函數外，真實情況通常比研究之假設更為複
雜，也許在資料本身可能會產生誤差之情形下，
實驗中很有可能找不到一個最佳切割平面(OSH)
可以很明確的將兩邊的資料分開，而這樣的情形
通常是在邊界的地方有重疊，因此為了處理這類
邊界有重疊之情形，必須再導入一個誤差項，而
誤差項的範圍越小越好，因此必須給定有誤差的
資料一些懲罰；亦即讓懲罰成本(懲罰參數因子)
微幅增加，下表 4.1 顯示 SVM 進行訓練之初始
參數設定，包含問題類型、核函數、尺度調整、
懲罰成本及核函數內部函數。 
表 4.1 支持向量機參數設定 
 
於研究初始，支持向量機最重要之參數大多利用試
誤法訂定，一般而言，所訂定的參數沒有絕對的標
準可循，然參數仍在 SVM 分類進行中具有相當地
位，因此本研究計畫中，利用Libsvm 程式內之
grid.py(Python)工具進行區域性的格子點搜尋，亦即
進行某區間一連串的試誤法找出可能的最適參數，
後續利用此最適參數分別針對不同的特徵進行 SVM
訓練辨識和預測辨識。下圖 4.3 為程式進行 SVM 訓
9 
 
達六成以上，表示支持向量機能夠有效的將本研
究計畫 40 種類別中大多數創新性原則加以辨識
出來，本研究計畫也將於後與近年相關文獻結果
進行探討。下圖 4.5 為程式進行 SVM 預測辨識
之情形，下圖 4.6 則為該預測之創新性原則判讀
情形程式示意圖。 
 
圖 4.5 支持向量機預測辨識程式圖 
 
圖 4.6 支持向量機各創新性原則判讀結果程式圖 
藉由前述之重複實驗，在支持向量機固定最
適參數 γ令為0.007與懲罰成本(Cost)令為32下，
以卡方統計作為特徵擷取方法及 w-TFIDF 為輸
入特徵值，並加以尺度調整(Scaling)可得較佳的
訓練績效。如表 4.6 所示，將原始字詞(1410 個)
全數作為支持向量機之向量，雖然可得相當高的
訓練辨識結果(99.83%)，但在預測能力上卻僅有
29.25%的準確性，而在進行卡方統計擷取各創新
性原則 5 個字詞後，再進行同一機制流程，其訓
練績效雖僅 84.67%，比全數丟入訓練稍差
(99.83%)，但在預測能力上，卻顯著提高到 67%，
且在卡方統計擷取 3 至 10 個字詞時，均有不錯
的預測績效，亦即代表適度篩選輸入向量具有其
必要性。 
    然而基於本研究計畫之流程機制目標，欲使專利
與TRIZ 創新性原則之映射分類具有一定績效，並能
提供此一機制之可行性，故於支持向量機訓練指標
評估結果中(如下表 4.5 所示)，挑選預測辨識結果最
佳(如下表 4.4 所示)之參數設定進行相關探討，其參
數為卡方統計特徵選擇每創新性原則各 5 字詞、特
徵值選用w-TFIDF 並加以尺度調整、懲罰成本(Cost)
令為 32 及 γ令為 0.007，其訓練準確率為 84.67%(整
體訓練辨識結果為 62.33%~99.83%間)，預測辨識準
確率為 67%。而由下表 4.5 中，針對一般文字探勘工
作最重要的指標F 值而言，40 個創新性原則中有 26
個創新性原則可達六成至八成以上預測能力，其餘
14 個創新性原則多在四、五成之預測能力，顯示大
多數創新性原則能透過此一SVM機制流程進行有效
分類。  
 
 
 
 
 
11 
function)，使網路經過運算後的輸出值會介於 0
和 1 之間；網路的訓練結束條件為若達到下列兩
個條件之ㄧ即終止網路的訓練過程。 
(1) 當網路的推論輸出值與目標輸出值之
誤差均方根(MSE)小於 0.01。 
(2) 當網路訓練的迭代次數達到 552 次。 
 
圖 4.6 程式執行TFIDF 特徵值運算結果圖 
表 4.6 倒傳遞類神經網路參數設定 
 
網路學習速率、慣性因子與隱藏層神經元數
皆為多次實驗後，找尋其中辨識率較高的參數設
定做為其設定值。為了尋找較佳之參數組合，本
研究計畫分別針對不同的隱藏層神經元數、學習
速率設定為 0.9 與慣性因子設定為 0.1 組合進行
模擬分析。後續分別針對不同的參數組合分別各
進行倒傳遞類神經網路訓練辨識和預測辨識，下
圖 4.7 為程式進行導傳遞類神經網路訓練之情
形。 
 
圖 4.7 倒傳遞類神經網路訓練辨識程式圖 
藉由多次重複實驗，在倒傳遞類神經網路隱
藏層為 30~60 個神經元數，以卡方統計作為特徵
擷取方法，可得較佳的訓練績效，而由表 4.7 中
可得知，將原始字詞(1410 個)全數或進行特徵擷
取篩選後再做為輸入向量，其訓練辨識結果皆在
六至八成左右，顯示不論特徵多寡，倒傳遞類神
經網路皆能學習合適的權重以區分各類別。而於
倒傳遞類神經網路訓練指標評估結果中(如下表
4.8 所示)，挑選預測辨識結果最佳(見下表 4.9)之
參數設定進行相關探討，其參數為卡方統計特徵
選擇、特徵值選用 TFIDF 及隱藏層神經元數為
60，其訓練準確率為 81%(整體訓練準確率介於
53.5%~86.33%間)。由下表 4.9 中，不難發現，針
對一般文字探勘工作最重要的指標 F 值而言，除
了創新性原則 5 和創新性原則 17 僅六成左右之
訓練辨識結果外，其餘大多為八、九成以上之訓
練準確率，而其精準度與回想率兩大指標，亦顯
示相當高的訓練辨識結果。 
表 4.7 倒傳遞類神經網路訓練辨識結果 
 
 
 
 
 
 
 
 
 
 
13 
藉由前述之重複實驗，在倒傳遞類神經網路隱
藏層為 30~60 個神經元數，以卡方統計作為特徵擷
取方法及 TFIDF 為輸入特徵值，可得較佳的訓練績
效，而由表 4.11 中更不難發現，將原始字詞(1410 個)
全數作為倒傳遞類神經之向量，雖然也可得相當76%
的準確率，但在預測能力上卻僅有 15%的準確率，
而在進行卡方統計擷取各創新性原則 3 個字詞後，
再進行同一機制流程，其訓練準確率雖僅 81%，但
在預測能力上，卻亦顯著提高到 63.5%，且在卡方統
計擷取 3~5 個字詞時，有較佳的預測績效，亦即代
表少量具代表性的特徵較適合用於BPN。 
    而基於本研究計畫之流程機制目標，欲使專
利與 TRIZ 創新性原則之映射分類具有一定績
效，並能提供此一機制之可行性，故於倒傳遞類
神經網路訓練指標評估結果中(如下表 4.10 所
示)，挑選預測辨識結果最佳(如表 4.9 所示)之參
數設定進行相關探討，其參數為卡方統計特徵選
擇每創新性原則各 3 字詞、特徵值選用TFIDF 與
60 個隱藏層神經元數，其訓練準確率為 81%(整
體準確率介於 53.5%~86.33%間)，預測準確率為
63.5%。而由下表 4.10 中，針對一般文字探勘工
作最重要的指標F 值而言，40 個創新性原則中有
26 個創新性原則可達六成至八成以上預測能
力，其餘 14 個創新性原則多在四、五成之預測
能力，顯示大多數創新性原則能透過此一 BPN
機制流程進行有效分類。 
表 4.10 倒傳遞類神經網路預測各創新性原則評
估指標結果
 
4.5 研究結果 
    本研究計畫於專利與 TRIZ 創新性原則映射
分類機制流程中，主要比較支持向量機和倒傳遞
類神經網路兩種方法，支持向量機為文字探勘領
域中的最佳工具之一，倒傳遞類神經網路則為機
器學習領域中最佳工具之一，兩者皆透過監督式
的訓練樣本獲得其分類最佳決策面及最佳權
重，以利測試樣本利用這些分類器進行預測分
類。支持向量機於本研究計畫主要透過字詞矩陣
中的向量資料，將其投射到更高維度的空間或是
特徵空間(Feature space)中，在其演算過程，透過
核函數的轉換，於特徵空間上尋找出各分類之間
的最佳決策面，藉此提供分類之依據，於本研究
計畫實驗下，更能發現其在高維度且稀疏之資料
向量處理下，仍然有相當高的訓練及預測辨識績
效。 
    不同於支持向量機，倒傳遞類神經網路屬於可多
元分類之機器學習機制，不需經由核函數將資料向
量轉換至超平面上，而是依賴轉移函數及各神經元
之間的權重值進行分類之工作，不論特徵數之多寡
(支持向量機則最好能篩選一半之特徵)，倒傳遞類神
經網路仍能透過權重修正之過程，尋找出最適合的
權重組合，然而當輸入之特徵不顯著時，或是訓練
樣本不足時，亦可能造成過度訓練之結果，影響後
續進行預測辨識之工作，於本研究計畫實驗，發現
當特徵擷取數較少(各創新性原則較具關聯性之字詞)
時，其訓練績效雖稍為降低，但在預測辨識工作上
反而能提供更高的準確性。 
    在本研究計畫進行專利與TRIZ創新性原則映射
分類機制研究工作上，屬於相當複雜性且全面性的
文字探勘工作，於此一連串的機制流程上，有許多
重要的階段工作，包含不同斷詞篩選、不同文字特
徵擷取與不同分類演算法等議題，也將這些實驗結
果於本節加以探討之，另外亦抽取本研究計畫 40 創
新性原則中之六創新性原則進行近年相關文獻之結
果比較討論，雖然於實驗環境設定上有些差異，但
仍從中看出一些端倪。以下 4.5.1 節進行各階段重點
之比較說明，4.5.2 節則探討本研究計畫與相關文獻
之差異與結果比較。 
4.5.1 各階段重點比較 
    本研究計畫針對不同階段進行不同方法之比
較，欲提供一可行機制流程以達成專利與TRIZ 創新
性原則之映射分類，研究發現在斷詞篩選時保留名
詞，對整體績效有較佳之結果表現；而特徵選擇方
法則使用卡方統計或相關係數均可，且卡方統計為
兩者中較佳之選擇；另外在演算法的選擇方面，若
15 
4.12 期刊文獻與本研究計畫之訓練結果 
 
 
表 4.13 期刊文獻與本研究計畫訓練評估指標之
結果 
 
 
 
表 4.14 期刊文獻與本研究計畫之定義與分類矩
陣 
 
五、計畫成果自評部份 
本研究計畫利用自動斷詞方法將專利內容
轉為數個特徵字詞，並利用卡方統計與相關係數
特徵擷取方法，將專利內容中與 40 個TRIZ 創新
性原則有關聯性之字詞篩選出來，最後再透過支
持向量機與倒傳遞類神經網路進行專利映射分
類工作，經由此一機制流程及重複實驗測試後，
整合歸納出下列幾點結論： 
1. 針對本研究計畫專利映射 TRIZ 創新性原則
之分類結果，每一個創新性原則各 25 筆(共
1000 筆)專利資料進行實驗，以支持向量機分
類器與倒傳遞類神經網路分類之。結果顯示
利用卡方統計和相關係數進行特徵擷取，當
擷取特徵越少，卡方統計有稍微較好的績效
結果，而擷取特徵越多，相關係數則有稍微
較好的績效但兩者差異並不大。 
2. 將支持向量機與倒傳遞類神經之最佳參數設
定下求解比較，本研究計畫結果顯示SVM 以
懲罰成本(cost)令為 32、γ令為 0.007、卡方統
計擷取各創新性原則5 個字詞與w-TFIDF 作
為輸入值所得之解為最佳，其訓練準確率為
84.67%，預測準確率為 67%。倒傳遞類神經
網路則以 60 個隱藏層神經元數、卡方統計擷
取各創新性原則 3 個字詞與TFIDF 作為輸入
值所得之解為最佳，其訓練準確率為 81%，
預測準確率為 63.5%，顯示兩種方法皆有一
定之準確性。 
3. 本研究計畫另以 2006 年由L. H. Tong 等人
發表的期刊文獻作為比較對象，抽取本研究計畫
40個創新性原則中與該文獻相符之6個創新性原
則各 25 筆作為實驗樣本。透過本研究計畫所提
出之機制流程進行專利映射 TRIZ 創新性原則之
分類工作，其結果顯示這些專利文件透過此一流
程可高達 96.69%之訓練準確率，較L. H. Tong 之
研究為 66%之訓練績效高出許多。由於該文獻內
容並未明確提及預測辨識之結果，若其為一交互
辨識結果之數值，本研究計畫進行此 150 筆專利
實驗中，亦有 85%以上之預測能力，縱然該文獻
與本研究計畫實驗對象設定上稍有不同，但仍能
驗證本研究計畫之實務可行性。 
 
5.2 研究發現與貢獻 
本研究計畫研究專利映射TRIZ創新性原則之機
制，總結出以下對此研究過程之發現及研究領域之
貢獻，依序分述如下： 
1. 藉由本研究計畫實驗過程中可得以下嶄新見
解： 
(1) 自動斷詞技術能將專利內容斷成數個特徵字
詞，然而有些字詞組合方式不符所需，仍須以人工
方式進行調整，如前章所提及之「預先反作用」、「預
先作用」及「預先緩衝」等和TRIZ 創新性原則較有
關聯性之字詞，於自動斷詞過程仍儘能斷成「預
先」、「反作用」、「作用」與「緩衝」等字詞特徵，
可能造成分類工作進行時的部分影響。 
(2) 過去績效較佳之卡方統計特徵擷取方法，較最近
提出的相關係數特徵擷取方法為佳，其原因可能在
於卡方統計方法同時截取出對該創新性原則強烈正
相關或強烈負相關之字詞，不論於 SVM 或 BPN 之
分類工作下，其準確性能較相關係數為佳。 
(3) 支持向量機於本研究計畫實驗中，可得知其在高
維度稀疏矩陣之向量輸入下，仍可有一定水準之訓
練績效，可見其非常適合在文字探勘工作時，作為
首選之分類器，觀察其分類結果，再依分類目標與
出席國際學術會議心得報告 
                                                             
計畫編號 NSC 98-2221-E-027 -040 – 
計畫名稱 運用文字探勘與創新構思問題解決(TRIZ)建構一相關性與啟發性之專利搜尋檢索機制－以民生必需品之中華民國專利為例(II) 
出國人員姓名 
服務機關及職稱 
計畫主持人：葉繼豪 
國立台北科技大學工業工程與管理系教授 
會議時間地點 August 18-21, 2009 Fukuoka International Congress Center, Japan 
會議名稱 ICROS-SICE International Joint Conference 2009 August 18-21, 2009, Fukuoka International Congress Center, Japan 
發表論文題目  A Wavelet-Based Approach in Detecting Visual Defects on Wafer Dies 
 
一、 參加會議經過 
 
2009年ICROS-SICE International Joint Conference 2009 於8月18日至8月21日在
Fukuoka International Congress Center, Japan 舉行。會議超過400名代表參加，三
天的會議，全體代表對工業自動化的應用，進行了深入而廣泛的交流和探討，
而各國學者豐富多彩的研究思路與方法，對研究人員具有啓發與指導意義。經
由參與了本次研討會，更加瞭解電腦模型與模擬未來研究的方向，認識了來自
不同領域的學者前輩，更是此行的最大收穫。 
 
二、 與會心得 
2-D wavelet-based scheme in detecting visual defects such as particle and scratch 
on wafer dies is approved by the participants in this conference. The proposed 
approach is inspired by WMTS concept and considered as a straightforward 
technique to save inspection effort. The sub-images of a wafer die are initially 
processed by median and sobel filters, then directly analyzed by WMTS to evaluate 
20th International Conference on Production Research 
QUALITY DESIGN OF NONLINEAR DYNAMIC SYSTEM 
 
Ful-Chiang Wu1,2, Chia-Hsin Wang2, Cheng-Hsiung Chen1 and Chi-Hao Yeh3 
 1Department of Industrial Management, Vanung University, No. 1 Van-Nung Rd., Chung-Li, Taiwan 
2Graduate School of Business and Management, Vanung University, No. 1 Van-Nung Rd., Chung-Li, 
Taiwan 
3Department of Industrial Engineering and Management, National Taipei University of Technology, No. 1, 
Sec. 3, Chung-Hsiao E. Rd., Taipei, Taiwan 
 
 
Abstract 
Good product quality requires robust, stable and on-target performance. Robust design is an important 
method to reduce the effect of noise factors and unit-to-unit variation in order to improve the product quality 
and which leads to higher customer satisfaction. The system of quality improvement is classified as a static 
system if the response of system has a fixed target and as a dynamic system if the response of system is an 
ideal function of signal factors. The robust design of dynamic system is used to find the optimal control factor 
settings so that the measured response is closest to the ideal function. Most of the dynamic system research 
in the literature only focused on the linear ideal function. Nevertheless, there are cases where the inherent 
nature of a dynamic system has a nonlinear function. It may be necessary to transform the data into a 
linearized ideal function, but even then there are many cases that cannot be linearized in some practical 
situations. In this paper, a mathematical formula based on the quality loss function is derived for optimizing 
the robust design of a dynamic system. The example of cultivating bean sprouts is provided to demonstrate 
the implementation and effectiveness of the proposed method. 
 
Keywords: Robust design, Dynamic system, Ideal function, Nonlinear function, Quality loss function 
 
 
 
1 INTRODUCTION 
There are several methods to reduce the effect of noise 
factors and unit-to-unit variation in order to improve the 
performance of products. Among these methods, the 
robust design proposed by Taguchi [17] is a particularly 
cost-effective approach for helping manufacturers to 
design their products, leading to higher customer 
satisfaction and operational performance. The robust 
design problem is classified as a static system if the 
desired output of the system has a fixed target and as a 
dynamic system if the desired output of the system is a 
function of signal factor settings. The goal in optimization 
for the dynamic system is to minimize error variance while 
keeping the response on target. 
Several researchers have studied the robust design of 
dynamic systems (see Bae and Tsui [1], Chang [2-3], Chen 
[4], Hsieh, Tong, Chiu and Yeh [5], Lesperance and Park 
[6], Lunani, Nair and Wasserman [8], McCaskey and Tsui 
[9], Miller [10], Miller and Wu [11-12], Nair, Taam and Ye 
[13], Su, Chen and Chan [14], Su and Hsieh [15], Tong, 
Wang, and Tsai [18], Tong, Wang, Chen and Chen [19], 
Tong, Wang, Houng and Chen [20], Tsui [21], Wang and 
Tong [22], Wasserman [23], Wu, Chien and Tsai [24], Wu 
and Yeh [26], Zang, Friswell and Mottershead [27]). 
However, these methods focused on the linear ideal 
function. 
In recent studies of nonlinear dynamic system, Liu, Fung 
and Wang [7] transformed the nonlinear fitting function into 
a linearized ideal function to optimize the high-precision 
positioning device. Nevertheless, their model is still based 
on linearity to address the double-signal dynamic case. Wu 
[25] applied the double-exponential desirability function to 
optimize the nonlinear multiple dynamic systems, but the 
proposed approach cannot treat the nonlinear dynamic 
system when the true values of ideal function’s parameters 
are unknown. 
In this paper, a mathematical formula based on the quality 
loss function is derived and an optimization procedure is 
proposed that can be applied to a great many nonlinear 
dynamic systems. 
 
2 DYNAMIC SYSTEM 
In the actual production activities, the products often have 
different target values, which are affected by different 
inputs of signal factors. That is, the required performance 
of product is an ideal function for the dynamic system. The 
optimization involves determining the best control factor 
settings so that the measured response is closest to the 
ideal function and the quality loss is a minimum. In a 
dynamic system, the target of response varies with the 
control factor settings X=(X1, X2,…, Xq), levels of signal 
factor M=(M1, M2,…, Mn); and each level of signal factor Mi 
uses noise factor conditions Z=(Z1, Z2,…, Zr). The ideal 
target of response y, denotes as T0=(T1, T2,…, Tn), is a 
function of signal factor settings in the dynamic problem. 
The simplest ideal function of dynamic system about the 
relationship between response y and signal factor M is 
linearity: zero-point proportional form. Let yij be the 
measured response affecting by signal factor Mi and noise 
factor condition Zj, and β0 be the ideal slope of linear 
function. The ideal function of zero-point proportional form 
is expressed as 
0 ,  1, 2, , ;  1, 2, ,ij i iy M T i n j rβ= = = =… …  (1) 
Although it is possible to assume different allowances for 
M1, M2,…, Mn, they are assumed to be the same here and 
are expressed by Δ0 with corresponding loss A0. The 
average quality loss without adjustment is given by 
( ) ( ) ( )2 20 02
1 1 1 10
1 n r n r
ij i ij i
i j i j
A KL y M y T
nr nr
β
= = = =
⎡ ⎤⎢ ⎥= − = −⎢ ⎥Δ ⎣ ⎦
∑∑ ∑∑y  (2) 
where = Δ20 0K A  is loss coefficient due to deviation from 
the ideal value. 
Since β0 is unknown, a scaling factor existing in the control 
factors that has no effect on SN ratio but an appreciable 
effect on slope can be used to adjust the slope β to β0. The 
slope, β, is determined by the least squares method, which 
20th International Conference on Production Research 
Step 2. Compute the average quality loss after adjustment 
by equation (11) for each experimental combination. 
Step 3. Estimate the factor effects and obtain the optimal 
control factor settings by choosing the minimum quality 
loss. 
 
4 IMPLEMENTATION 
Taguchi et al. instructed the Sambo chemical corporation 
(Japan) for optimizing the cultivating conditions of bean 
sprouts [16]. The mung beans absorb water and grow into 
bean sprouts. Suppose the weight of the seed is y0 and the 
weight of bean sprout is yt. The ideal relationship between 
y0 and yt is 
0 0exp( )ty y tβ=  (12) 
The yt／yn is named as multiplying power of growth. The 
control factors of experiment are different seeds (factor A), 
indoor temperature (factor B), frequency of ethylene gas 
baths (factor C), thickness of ethylene gas (factor D), time 
of sprinkling (factor E), frequency of sprinkling (factor F) 
and mineral additive (factor G). The noise factors are 60% 
humidity (N1) and 80% humidity (N2). The signal factor is 
time, and on a basis of 5 days, 6 days and 7 days. The L18 
orthogonal array is used, and the factors are assigned to 
columns 2, 3, 4, 5, 6, 7, and 8. The assignment of control 
factors and observed data are shown in Table 1. 
Equation (12) is a nonlinear function and can be 
transformed into a linear function by taking a natural 
logarithm as follows. 
( )0 0ln ty y y tβ= =  (13) 
Observed data after transformation from Table 1 are listed 
in Table 2. 
Table 1 : Observed data of multiplying power of growth 
Factor Assignment Signal factors with N1 
Signal factors 
with N2 
Expt. 
No. 
A B C D E F G 5 6 7 5 6 7 
1 1 1 1 1 1 1 1 4.48 5.07 5.43 5.08 5.46 5.80
2 1 1 2 2 2 2 2 4.34 4.80 5.20 4.22 4.53 5.94
3 1 1 3 3 3 3 3 4.49 4.80 5.19 4.86 4.85 5.25
4 1 2 1 1 2 2 3 7.48 8.77 9.30 8.73 9.98 10.05
5 1 2 2 2 3 3 1 7.74 8.80 9.23 8.42 9.91 9.53
6 1 2 3 3 1 1 2 6.94 8.00 8.76 7.74 8.82 9.38
7 1 3 1 2 1 3 2 6.83 7.72 7.32 7.87 7.68 8.23
8 1 3 2 3 2 1 3 6.74 7.32 7.26 7.53 8.27 7.31
9 1 3 3 1 3 2 1 6.49 7.20 7.83 6.83 7.70 8.10
10 2 1 1 3 3 2 2 4.94 5.34 5.80 5.42 6.04 5.64
11 2 1 2 1 1 3 3 4.46 4.91 5.22 4.75 5.24 5.45
12 2 1 3 2 2 1 1 4.83 5.22 5.91 5.43 5.55 6.51
13 2 2 1 2 3 1 3 6.04 7.02 7.99 6.69 8.07 8.03
14 2 2 2 3 1 2 1 6.19 7.23 8.29 7.04 7.98 8.69
15 2 2 3 1 2 3 2 5.60 6.14 6.59 5.86 6.60 7.22
16 2 3 1 3 2 3 1 6.25 6.26 6.37 6.21 6.37 7.36
17 2 3 2 1 3 1 2 6.28 6.57 6.41 7.02 6.91 7.25
18 2 3 3 2 1 2 3 5.51 5.66 7.10 5.62 6.51 7.01
 
Table 2 : Observed data after transformation 
Signal factors with 
N1 
Signal factors with 
N2 Expt.
No.
5 6 7 5 6 7 
β σ 2e η 
1 1.500 1.623 1.692 1.625 1.697 1.758 0.271 0.032 3.606
2 1.468 1.569 1.649 1.440 1.511 1.782 0.259 0.016 6.182
3 1.502 1.569 1.647 1.581 1.579 1.658 0.261 0.035 2.867
4 2.012 2.171 2.230 2.167 2.301 2.308 0.361 0.066 2.985
5 2.046 2.175 2.222 2.131 2.294 2.254 0.359 0.069 2.694
6 1.937 2.079 2.170 2.046 2.177 2.239 0.347 0.050 3.812
7 1.921 2.044 1.991 2.063 2.039 2.108 0.332 0.079 1.471
8 1.908 1.991 1.982 2.019 2.113 1.989 0.328 0.086 0.967
9 1.870 1.974 2.058 1.921 2.041 2.092 0.328 0.047 3.573
10 1.597 1.675 1.758 1.690 1.798 1.730 0.280 0.046 2.311
11 1.495 1.591 1.652 1.558 1.656 1.696 0.264 0.031 3.561
12 1.575 1.652 1.777 1.692 1.714 1.873 0.282 0.032 4.020
13 1.798 1.949 2.078 1.901 2.088 2.083 0.327 0.040 4.257
14 1.823 1.978 2.115 1.952 2.077 2.162 0.332 0.038 4.665
15 1.723 1.815 1.886 1.768 1.887 1.977 0.303 0.038 3.877
16 1.833 1.834 1.852 1.826 1.852 1.996 0.306 0.057 2.156
17 1.837 1.883 1.858 1.949 1.933 1.981 0.312 0.076 1.088
18 1.707 1.733 1.960 1.726 1.873 1.947 0.301 0.029 4.895
 
Table 3 : Factor effects (SN ratio) by Taguchi method 
Factor A B C D E F G 
Level 1 3.129 3.758 2.798 3.115 3.668 2.958 3.453
Level 2 3.426 3.715 3.193 3.920 3.365 4.102 3.123
Level 3  2.358 3.841 2.796 2.798 2.771 3.255
 
From equations (5), (7) and (8), the estimates of slope β, 
error variance σ 2e  and SN ratio η for each experimental 
combination are obtained and listed in the last three 
columns of Table 2. 
The main effects of factor levels according to the SN ratio 
are listed in Table 3 and the optimal control factor settings 
are A2B1C3D2E1F2G1 by choosing the maximum SN ratio. 
When the nonlinear ideal function cannot be linearized, the 
above analysis is inappropriate without an applicable 
formula of SN ratio. 
Re-analyzing this case using the proposed optimization 
procedure, the obtained same optimal control factor 
settings can illustrate the effectiveness and accuracy of the 
proposed method. 
Step 1. Compute the estimate β of parameter β0 of ideal 
function by minimizing the error variance for each 
experimental combination. From equation (12), the error 
variance is expressed as 
( )3 2 20
1 1
exp( ) 3 2 1ij i
i j
y tβ
= =
⎡ ⎤− ⋅ −⎣ ⎦∑∑  (14)  
20th International Conference on Production Research 
7 REFERENCES 
[1] Bae, S. J., Tsui, K.-L., Analysis of Dynamic Robust 
Design Experiment with Explicit and Hidden Noise 
Variables. Quality Technology and Quantitative 
Management, 2006, 3, 55-75. 
[2] Chang, H.-H., A Data Mining Approach to Dynamic 
Multiple Responses in Taguchi Experimental Design. 
Expert Systems with Application, 2008, 35, 1095-
1103. 
[3] Chang, H.-H., Dynamic Multi-Response Experiments 
by Backpropagation Networks and Desirability 
Functions. Journal of the Chinese Institute of 
Industrial Engineers, 2006, 23, 280-288. 
[4] Chen, S.-P., Robust Design with Dynamic 
Characteristics using Stochastic Sequential Quadratic 
Programming. Engineering Optimization, 2003, 35, 
79-89. 
[5] Hsieh, K.-L., Tong, L.-I., Chiu, H.-P., Yeh, H.-Y., 
Optimization of a Multi-Response Problem in 
Taguchi’s Dynamic System. Computers and Industrial 
Engineering, 2005, 49, 556-571. 
[6] Lesperance, M. L., Park, S.-M., GLMs for the 
Analysis of Robust Designs with Dynamic 
Characteristics. Journal of Quality Technology, 2003, 
35, 253-263. 
[7] Liu, Y.-T., Fung, R.-F., Wang, C.-C., Application of 
the Nonlinear, Double-Dynamic Taguchi Method to 
the Precision Positioning Device using Combined 
Piezo-VCM Actuator. IEEE Transactions on 
Ultrasonics, Ferroelectrics, and Frequency Control, 
2007, 54, 240-250. 
[8] Lunani, M., Nair, V. N., Wasserman, G. S., Graphical 
Methods for Robust Design with Dynamic 
Characteristics. Journal of Quality Technology, 1997, 
29, 327-338. 
[9] McCaskey, S. D., Tsui, K.-L., Analysis of Dynamic 
Design Experiments. International Journal of 
Production Research, 1997, 35, 1561-1574. 
[10] Miller, A., Analysis of Parameter Design Experiments 
for Signal-Response Systems. Journal of Quality 
Technology, 2002, 34, 139-151. 
[11] Miller, A., Wu, C. F. J., Commentary on Taguchi’s 
Parameter Design with Dynamic Characteristics. 
Quality and Reliability Engineering International, 1996, 
12, 75-78. 
[12] Miller, A., Wu, C. F. J., Parameter Design for Signal-
Response Systems: a Different Look at Taguchi’s 
Dynamic Parameter Design. Statistical Science, 1996, 
11, 122-136. 
[13] Nair, V. N., Taam, W., Ye, K. Q., Analysis of 
Functional Responses from Robust Design Studies. 
Journal of Quality Technology, 2002, 34, 355-370. 
[14] Su, C.-T., Chen, M.-C., Chan, H.-L., Applying Neural 
Network and Scatter Search to Optimize Parameter 
Design with Dynamic Characteristics. Journal of the 
Operational Research Society, 2005, 56, 1132-1140. 
[15] Su, C.-T., Hsieh, K.-L., Appling Neural Network 
Approach to Achieve Robust Design for Dynamic 
Quality Characteristics. International Journal of quality 
and Reliability Management, 1998, 15, 509-519. 
[16] Su, C.T., Robust Design of Product, Taiwan: Chinese 
Society for Quality, 1997. (in Chinese) 
[17] Taguchi, G., Taguchi Methods: Research and 
Development, Dearborn: American Suppliers Institute, 
1993. 
[18] Tong, L.-I., Wang, C.-H., Chen, C.-C., Chen, C.-T., 
Dynamic Multiple Responses by Ideal Solution 
Analysis. European Journal of Operational Research, 
2004, 156, 433-444. 
[19] Tong, L.-I., Wang, C.-H., Houng, J.-Y., Chen, J.-Y., 
Optimizing Dynamic Multi-Response Problems by 
using Dual Response Surface Method. Quality 
Engineering, 2002, 14, 115-125. 
[20] Tong, L.-I., Wang, C.-H., Tsai, C.-W., Robust Design 
for Multiple Dynamic Quality Characteristics using 
Data Envelopment Analysis. Quality and Reliability 
Engineering International, 2008, 24, 557-571. 
[21] Tsui, K.-L., Modeling and Analysis of Dynamic Robust 
Design Experiments. IIE Transactions, 1999, 31, 
1113-1122. 
[22] Wang, C.-H., Tong, L.-I., Optimization of Dynamic 
Multi-Response Problems using Grey Multiple 
Attribute Decision Making. Quality Engineering, 2005, 
17, 1-9.  
[23] Wasserman, G. S., Parameter Design with Dynamic 
Characteristics: a Regression Perspective. Quality 
and Reliability Engineering International, 1996, 12, 
113-117. 
[24] Wu, D.-H., Chien, W.-T., Tsai, Y.-J., Applying Taguchi 
Dynamic Characteristics to the Robust Design of a 
Piezoelectric Sensor. IEEE Transactions on 
Ultrasonics, Ferroelectrics, and Frequency Control, 
2005, 52, 480-486. 
[25] Wu, F.-C., Robust Design of Nonlinear Multiple 
Dynamic Quality Characteristics, Computers and 
Industrial Engineering, 2008, 
http://dx.doi.org/10.1016/j.cie.2008.08.001. 
[26] Wu, F.-C., Yeh, C.-H., Robust Design of Multiple 
Dynamic Quality Characteristics. International Journal 
of Advanced Manufacturing Technology, 25, 2005, 
579-588. 
[27] Zang, C., Friswell, M. I., Mottershead, J. E., A Review 
of Robust Optimal Design and its Application in 
Dynamics. Computers and Structures, 2005, 83, 315-
326. 
- 5251 -
   A 2-D function F(x,y) can be approximated as the 
sum of smooth and detailed wavelet coefficient matrices 
by multiplying their corresponding 2-D wavelets at 
multiple scale [2]. That is,  
¦¦¦¦
¦¦¦
==
=
++
+≈
J
j
jj
J
j
jj
J
j
jjJJ
1 nm,
nm,,
d
nm,,
d
1 nm,
nm,,
h
nm,,
h
1 nm,
nm,,
v
nm,,
v
nm,
nm,,nm,,
y)(x,Ȍdy)(x,Ȍd
y)(x,Ȍdy)(x,ĭsy)F(x,      (1) 
where 
 
dxdyy)F(x,y)(x,Ȍd
dxdyy)F(x,y)(x,Ȍd
dxdyy)F(x,y)(x,Ȍd
dxdyy)F(x,y)(x,ĭs
nm,,
d
nm,,
d
nm,,
h
nm,,
h
nm,,
v
nm,,
v
nm,,nm,,
³³
³³
³³
³³
≈
≈
≈
≈
jj
jj
jj
JJ
      
m, n : the rows and columns of wavelet coefficient 
matrices 
nm,,sJ : Smooth wavelet coefficient matrices at scale J 
nm,,
vd j : Vertical detail wavelet coefficient matrices at 
scale j ( j = 1, 2,…, J ) 
nm,,
hd j : Horizontal detail wavelet coefficient matrices at 
scale j ( j = 1, 2,…, J ) 
nm,,
dd j : Diagonal detail wavelet coefficient matrices at 
scale j ( j = 1, 2,…, J ) 
   Concerning an image with m × n pixels, the 2-D 
WT converts this image into the wavelet coefficient 
matrices by equation (1). The objects on an image 
preserve more wavelet energy than background does. 
That is, the wavelet coefficients of pixels in objects 
are larger than that on background. In addition, 
pixels on corners, noisy spots, or irregular edges 
maintain much more wavelet energy than pixels on 
smooth portions of an object do. Contains and 
contour of an object in horizontal, vertical, and 
diagonal directions is respectively captured by the 
horizontal, vertical, and diagonal detailed parts at 
different scales. The lower scales (e.g. j = 1, 2) 
preserve more wavelet energy. Simple explanation 
of an image by 2-D wavelet transform and 2 
decomposition levels (e.g. J = 2). Visual defects 
preprocessed by median and sobel filters in Fig. 1 
(a) and (b) are decomposed by wavelet basis c6 and 
3 levels and shown in Fig. 2. Notice that the more 
wavelet energy preserve, the whiter the pixels are in 
Fig. 2.   
 
2.2 Wavelet transform modulus sum (WTMS) 
 
   Since the wavelet energy of a point (x0,y0) at 
2-D coordinate system is divided by smooth, 
horizontal, vertical, and diagonal detailed parts at 
different scales, the modulus of wavelet transform 
(WTM) at a point (x0,y0) is denoted by Mj(x0,y0) and 
defined as follows [7-9]: 
 
 
(a) 
(b) 
 
 
Fig. 2 Corresponding 2-D wavelet decomposition process 
for visual defects shown in Figs. 1(a) and 1(b) (J=3, 
wavelet basis c6). 
 
Mj(x0,y0)= 
2
00
22
00
1 )y,x(d)y,x(d jj +          (2) 
Aj(x0,y0) = )
)y,x(d
)y,x(d
(tan
00
1
00
2
1
j
j−                   (3) 
where  
ψ1(x,y) = ∂Ψh(x,y)/∂x  
ψ2(x,y) = ∂Ψv(x,y)/∂y 
d1j (x0,y0): 2-D wavelet coefficient for point (x0,y0) by 
wavelet ψ1(x,y) at the jth scale. 
d 2j (x0,y0): 2-D wavelet coefficient for point (x0,y0) by 
wavelet ψ2(x,y) at the jth scale. 
Aj(x0,y0): The gradient vector direction of the wavelet 
coefficient on point (x0,y0) at thejth scale. 
The direction of gradient vector towards to the local 
maximum variation such that noisy spots or edges on an 
image can be detected. The neighborhood around an 
image pixel (x0, y0) in a specified domain DS should be 
taken into account to represent the “group wavelet energy” 
centering on pixel (x0, y0). The “group wavelet energy” is 
called the modulus of wavelet transform sum (WTMS), 
denoted by Nj f(x0, y0), and defined as follows [7-9]: 
Nj f(x0 , y0) = )yx,(
S ,  y)(x
¦
∈D
M  j                 (4) 
where 
- 5253 -
image is arranged to be 1/20 of a wafer die. The 
inspected images are numbered from 1 to 20 based on 
their locations. Therefore, there are 20 sub-images to 
represent a wafer die in this study. A visual defect-free 
image is called a golden image. In addition, in order to 
reduce computational complexity from numerous pixels 
on a sub-image, pixels can be pre-selected before 
further WTMS calculation. Assuming the WTMs of 
pixels on each sub-image at the 1st scale (j = 1) are 
normally distributed. Notations μ1,wtm and σ1,wtm are 
respectively defined by the population mean and 
standard deviation on the 1st golden sub-image, 
estimated by collecting the WTMs at the 1st scale. The 
population mean and standard deviation for 20 golden 
sub-images are different and respectively required 
estimation (see μi,wtm and σ i,wtm in Fig. 6, i = 1, 2, …, 
20). If the WTM of a pixel (xi0, yi0) on the 1st sub-image 
is larger than (μ1,wtm+2σ1,wtm), pixel (xi0, yi0) is qualified 
to proceed for its inter-scale ratio. The reason for setting 
(μi,wtm+2σ i,wtm) as a threshold is to allow more 
suspicious pixels (e.g. minor visual defects) in further 
inspection. However, non-defective pixels on corners, 
irregular edges, and noisy spots on the 1st golden 
sub-image may pass the threshold as well. The 
coordinates of pixels passing threshold and fulfilling 
equation (9) on the 1st golden sub-image are defined as 
the 1st golden set (GS1). Therefore, there are 20 different 
golden sets (GSi, i = 1, 2, …, 20) are stored as 
references to inspect this type of wafer die. 
For an inspecting wafer die, using same FOV and 
locations aforementioned, it is captured by 20 
sub-images. Pixels on the 1st inspecting sub-image with 
WTMs larger than (μ1,wtm+2σ1,wtm) and satisfying 
equation (9) are judged by GS1. The coordinates of 
pixels don’t belong to GS1 are considered as defective 
pixels. Same practice are implemented to other 19 
inspecting sub-images and referred to corresponding 
GSi (i = 2, 3, …, 20). The proposed defect detection 
process is summarized in Fig. 4.  
 
Fig. 4 The proposed visual defect detection procedure. 
 4 EXPERIMENTAL RESULTS 
 
The proposed approach for detecting visual defects 
such as particle, contamination, and scratch on wafer 
dies is validated in this section. Six testing sub-images 
with synthetic visual defects on different locations on a 
real wafer die are inspected by proposed approach. The 
sub-images shown in Figs. 1(a) and 1(b) are testing 
samples The testing samples are captured in 2.25mm 
×1.8mm field of view and 640 × 480 pixels, which is 
able to maintain the geometrical features of minor visual 
defects. However, the computation for 2-D wavelet 
properties is time-consuming in such high resolution. 
Thus, a sub-image is magnified by 0.25x after being 
captured by 640 × 480 pixels, which is a 160 × 120 
pixels sub-image. In this manner, the features of minor 
visual defects are preserved and the computational 
complexity is reduced. 
   Since local abnormalities are easier to be captured at 
lower detailed scale, the 2-D wavelet coefficients on the 
1st and 2nd detailed scale (j = 1, 2) are used in this 
experiment. Moreover, various wavelet bases with 
different support length may influence the defect 
detecting results because wavelet support length is a 
critical factor for the domain jτD  in edge-searching 
process. Therefore, wavelet bases such as d4 (Daublet 
with support length 4), s4 (Symmlet with support length 
4), d6, s6, c6, d8, and s8 are incorporated to realize the 
impacts on experiment results. The identification results 
of proposed approach in equation (9) for testing samples 
1-2 are shown in Table 1-2, respectively. In Table 1, 
wavelet bases c6 and d8 at the 1st scale outperform other 
wavelet bases in detecting more defective pixels and 
using less pixels for 2nd golden set (GS2). The pixels on 
testing sample 1 passing equation (9), pixels in GS2, and 
the resulting defective pixels using c6 at the 1st scale are 
arranged from left to right in Fig. 5(a). Same practices are 
implemented in Tables 2 and Fig. 5(b). In general, 
wavelet bases with support lengths 6 and 8 perform well 
and robustly at the 1st scale.  
Table 1 Inspection results for testing sample 1 
 
 
 j = 1 j = 2 
Wavelet 
basis
Golden
set or 
testing
sample
Number of 
pixel out 
of (ȝ2,wtm +
2ı2,wtm)
Number of 
pixels pass 
equation (9)
Number of 
defective 
pixels  
Number of 
pixel out of 
(ȝ2,wtm +  
2ı2,wtm) 
Number of 
pixels pass 
equation (9)
Number of 
defective 
pixels  
d4 golden 620 327  697 616  
testing 634 336 9 699 618 2
s4 golden 620 327  697 616  
testing 634 336 9 699 618 2
c6 golden 598 426  744 628  
testing 610 438 12 746 629 1
d6 golden 653 492  659 372  
testing 660 497 5 673 384 12
s6 golden 653 492  659 372  
testing 660 497 5 673 384 12
d8 golden 616 389  765 296  
testing 631 401 12 765 296 0
s8 golden 757 623  705 498  
testing 762 626 3 711 503 5
 
- 5255 -
[10] Deng S-H, Liao H-Y, Ho C-W, and Tyan H-R , “Wavelet-based 
off-line hand-written signature verification”, Computer Vision 
and Image Understanding. Vol. 76, No. 3, pp. 173-190, 1999. 
[11] Lee J-S, Sun Y-N, and Tsai C-T, “Multiscale corner detection 
by using wavelet transformation”,  IEEE Transactions on 
Image Processing, Vol. 4, No. 1, pp.100-104, 1995. 
[12] Yeh C-H, “A Novel Approach Using a Two-Dimensional 
Wavelet Transform In Ball Grid Array (BGA) Substrate 
Conducting Path Inspections”, International Journal of 
Advanced Manufacturing Technology, Vol. 3, pp. 223-233, 
2003. 
98年度專題研究計畫研究成果彙整表 
計畫主持人：葉繼豪 計畫編號：98-2221-E-027-040- 
計畫名稱：運用文字探勘與創新構思問題解決(TRIZ)建構一相關性與啟發性之專利搜尋檢索機制－以
民生必需品之中華民國專利為例(II) 
量化 
成果項目 實際已達成
數（被接受
或已發表）
預期總達成
數(含實際已
達成數) 
本計畫實
際貢獻百
分比 
單位 
備 註 （ 質 化 說
明：如數個計畫
共同成果、成果
列 為 該 期 刊 之
封 面 故 事 ...
等） 
期刊論文 0 0 100%  
研究報告/技術報告 0 0 100%  
研討會論文 0 0 100% 
篇 
 
論文著作 
專書 0 0 100%   
申請中件數 0 0 100%  專利 已獲得件數 0 0 100% 件  
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 0 0 100%  
博士生 0 0 100%  
博士後研究員 0 0 100%  
國內 
參與計畫人力 
（本國籍） 
專任助理 0 0 100% 
人次 
 
期刊論文 0 0 100%  
研究報告/技術報告 0 0 100%  
研討會論文 0 0 100% 
篇 
 
論文著作 
專書 0 0 100% 章/本  
申請中件數 0 0 100%  專利 已獲得件數 0 0 100% 件  
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 0 0 100%  
博士生 0 0 100%  
博士後研究員 0 0 100%  
國外 
參與計畫人力 
（外國籍） 
專任助理 0 0 100% 
人次 
 
 
