 2
??????????????????????????????????????
??????(deadline miss ratio)?????????(3)?????????????
??? CPU ?????(idle time)????????(busy time)?????????
???????????????????????????(stochastic)?????
??(deterministic)????????????????????????????
????????????????????????? 
 
???????????????????????????????????
?????????????????????????? 
1. ????????????????????????????????????
?????????? 
2. ?????sleep????????????????????idle??????
???????????????????????????? 
 
????????????????????????????????????
??????????????throughput???????????????????
??????????????????????????????????????
??????????????????????????????????????
????????????? 
 
??????????????media access control protocol?Linux 
 
I. ???? 
?????????? PDA????????????????????????
?(??????????)??????????????????????????
?????(mobile systems)??????????????????(QoS)????
??????????????????????????????????????
????????????????????????? QoS-aware????????
??????????(? CPU ?)????????? 
 
?????????(mobile systems)???????????????????
??????????????????????????????????????
??(mobile processors)?? Intel? XSacle?AMD ?Athlon?VIA? ESP ? Transmeta
? Crusoe?????????????(??????)??????????????
?????????????????(soft)???????(hard)?????????
????????????????(tasks)???????????????????
??????????????????????????????????????
??????????????????????????????????????
???????????????????????????????(???? 96%
?deadline)?????????(best-effort)??????????????????
????????????????????? QoS???????????????
 4
threads)???????(cycle demand)???????????? MPEG ????? 95%
???(deadline)???????????????95%???(frame)???????
??? 9 ??? cycles????????????????? 9 ??? cycles???
???????????????????????? CPU ?????????(task 
set)????????????????????????????????????
????????????????????????? MPEG ?????? MP3 ??
??????????????? 300 ? 50 million cycles???? CPU ??????
350MHz?????? 
 
????????????????????????????????????
??????????????????????????????????????
????? CPU ????????????????爲??????????????
???????????(task)?????(speed schedule)??????? cycle 
demands??????????????????????????????????
??????????????????????????????????????
?????(stochastic)?????(intra-job)? DVS??????????????
??????????????????????????? DVS ?????????
?????? 
 
??????? DVS ?????????????(demand distribution)?????
??????(profiling)???????????? kernel-based??????????
???????cycle?????????cycle usage?????????????
??????(histogram)???????????????????????????
???????(??[16?25?34])???????????(online)???????
???????????????????????????????????? 
 
????? Linux?????????????? DVS ????????????
??????? CPU(??HP Pavilion??????????? C3 EPIA???)??
?????????(????????????codecs)?????????????
?????? 
 
1. ????? DVS ???????????????????????????? CPU
??????????cycle demands????????????????????
?????????????????(? 100 ?)??????????????
????????????????????????????????????
?????? DVS ????? 
 
2. ??????????? QoS???????????????????????
????????????????????????????????????
????????????????(deadline miss ratio)????? 96%???
??? 
 
 
3. CPU ???????????(deterministic)???? DVS ??????????
 6
?cycle demands?????????? 
?????????????? 
 
?????????????????????????????? CPU ????
??????????????? CPU ?????????????????????
??????????????????????????????????????
?????????????(profiler)?SRT(Soft Real-Time)?????????
(speed adaptor)??????????????????????(cycle usage)??
?????????????????cycle demands??????SRT ??????
??????????????????????????????????????
??????????????????????????? CPU ?????????
??? SRT ???????task???????????????????????
?????task???????????????????(demand estimation)?SRT
?????????????????????????? 
 
??(online)??????????task?????????????(???
??????cycle demands)???????? DVS ?????????task???
??????????????????????????task??????????
????????(demand distribution)??????(instantaneous demands)??
??????????????????????????????????????
?task???????????????????????????? 
 
??????task???????????????????????????
???????????????????????????????????[5, 34, 
39]????????(online)???(off-line)?????? CPU ????????
??????????????????????????????????????
??????????? 
 
?????????????(cycle counter)???????(process control 
block)????task?????????????????task?????????
??????????????context switch???(switch-in)???(switch-out)
?????????????????????????task??????????
???????????? 
 8
????????????(???? 100 ???)??? Cmin? Cmax?????????
???????????????????????????????? 
 
1. ???? Cmin=b0<b1<?<br=Cmax???[Cmin,Cmax]???????r?????????
????{b0,b1,?,br}?????? 
2. ?ni??i??(bi-1,bi]???????ni/n????????bi-1?bi????
task?????????∑ =
i
j
i
n
n
0 ???task?????bi ?????? 
3. ?????????(bi-1,bi]???????∑ =
i
j
i
n
n
0 ?????????????
??????????? 
 
????????????task??????task?????????????
??? 
F(x) = P[X≤x]                           (1) 
X ?task??????????????∑ =
i
j
i
n
n
0 ???(bi-1,bi]???bi?????
?????????????bi????????????????????????
????????? F(x)?x??{b0,1,...,br}? 
 
????????????????????????????????????
??????????? DVS ?????????????????????????
gamma??(? PACE[25])???????????????????????????
???(??????????)?????????????????? 
???????????????bm? P[X ≤ bm] ≥ ?? 
 
?? SRT ??? 
 
????????????????????????????????????
??????????????????????????????????????
????????????????????????????????
 10
??????????????????????????????????????
CPU speed-power???convex??[7?19]????????????? 
 
????????????????????????????????????
?????????????????????????????? CPU ???????
??????????????????????? CPU ?????????????
?????????(1)???????????????????????????
????????????(2)?????????????????????????
????????????? 
 
????????????????????????????????????
??????????????????????????????????????
?????????????????????(????)????????????
?????????????????????jobs??????????????
??????????????????? 
 
???????????????(speed schedule)????????????
???????(x,y)???????????x????????y????????
????x???????????y?????????????????????
?(??????)??????????????????????????????
??????????????????????????????????????
????????? 
 
???????????????????????????????????????
???????? 
 12
minimize: ( )( )∑
=
−×
m
i
bii ifbFs
0
21          (8) 
subject to: T
f
s
m
i b
i
i
≤×∑
=0
1             (9) 
????si??ith???????? 


≤<−
==
− mibb
ib
s
ii
i 0,
0,
1
0             (10) 
??[22]?? Jensen?s??????????(8)???? 
( )( ) ( )( )
2
0
3
2
0
0
3 11









 −
≥









 − ∑
∑
∑
=
=
=
T
bFs
f
s
bFs
m
i
ii
m
i b
i
m
i
ii
i
   (11) 
???? 
( )( )
( )( )ii
m
i
ii
b
bFsT
bFs
fi
i −
−
=∀
∑
=
1
1
0
3
     (12) 
 
??(12)????????????????fx?x∈{b0,b1,...,bm=C}?????
??????????????????????????????????????
?????m+1 ?????????????bi?????
ibf ??? mi ≤≤0 ??? ibf ?
??bi????????????????????? CPU ??? 
 
Linux?????????? 
 
??????????? Linux????????(loadable kernel module)??
????????????(VIA)?? ESP ??????? VIA Eden????????
???????????????{300?500?600?700?800?1000MHz}??????
??????????????????NIC ???????? Cisco 802.11g ??
Cisco Aironet 350 ??access point??????Cisco?????????? 1.44
?????????????CAM(Continuously-Aware Mode)?PSM(Power Saving 
Mode)-static?? PSM-adaptive?CAM?????? ?????PSM-static????
NIC ????????disable??????PSM-adaptive????????????
??? CAM ? PSM-static ??????????????????????????
???????????????????? NIC ??????? 
 
 14
 
????????????(12)???????????????????? VIA 
ESP ????????????????????????????????????
??????????????????????????????????????
??????????????????????????????????????
??????????????????????????????????????
??????????????????????????????????????
???? 
 
 
 
 
 
 
 
 
 
 
???????????? 
?????????????????????????? CPU???????
??????????????????????????????????????
???????????(lower bound)???????(upper bound)????????
??????????????????????????????????????
??(???????)????????????????????????? 
 
2. ????????(process control block)??????????(? 
task_struct )???????????????????????? SRT ?????
??????????? SRT ????????????? SRT ??????????
??????????????????????????cycle budget??????
?????????????????????????????????? CPU ??
???????????????????????????????? 
 
3. ?? SRT ? DVS ???????????????????????????
?????????????????????????????(loadable kernel  
module)????VIA ESP ???????????????????????????
??????????????????????????????????????
???????? DVS ???(?????????)???????????????
????????(flexibility)?????(reusability)????????????
??????????????????????????? DVS? 
 
SRT???????????? Linux???????????????????
???????[15,30]??????????????????????(1)????
?????? 
y SRT ?? 
y ????? 
y ???? 
y ?????? 
y ?????? 
? 
y ???? … 
(????????
(????????
(????????
???
…
?
?
?
?
?
?
 16
ortional-share CPU scheduling algorithm for symmetric multiprocessors. In Proc. of 4th 
Symposium on Operating System Design and Implementation, Oct. 2000. 
[10] A. Chandrakasan, S. Sheng, and R. W. Brodersen. Low-power CMOS digital design. 
IEEE Journal of Solid-State Circuits, 27:473–484, Apr. 1992. 
[11] K. Duda and D. Cheriton. Borrowed-virtual-time (BVT) scheduling: Supporting 
latency-sensitive threads in a general purpose scheduler. In Proc. of 17th Symposium on 
Operating Systems Principles, Dec. 1999. 
[12] K. Flautner and T. Mudge. Vertigo: Automatic performance-setting for linux. In Proc. of 
5th Symposium on Operating Systems Design and Implementation, Dec. 2002. 
[13] J. Flinn and M. Satyanarayanan. PowerScope: A tool for profiling the energy usage of 
mobile applications. In Proc. of 2nd IEEE Workshop on Mobile Computing Systems and 
Applications, Feb. 1999. 
[14] K. Gardner. Probabilistic analysis and scheduling of critical soft real-time systems. Ph.D. 
thesis, Depratment of Computer Science, University of Illinois at Urbana-Champaign, 
1999. 
[15] P. Goyal, X. Guo, and H. Vin. Ahierarc hical CPU scheduler for multimedia operating 
systems. In Proc. of Symposium on Operating System Design and Implementation, Oct. 
1996. 
[16] F. Gruian. Hard real-time scheduling for low energy using stochastic data and DVS 
processors. In Proc. of Intl. Symp. on Low-Power Electronics and Design, Aug. 2001. 
[17] D. Grunwald, P. Levis, K. Farkas, C. Morrey III, and M. Neufeld. Policies for dynamic 
clock scheduling. In Proc. of 4th Symposium on Operating System Design and 
Implementation, Oct. 2000. 
[18] C. Hamann and et al. Quality-assuring scheduling-using stochastic behavior to improve 
resource utilization. In Proc. of 22nd IEEE Real-Time Systems Symposium, Dec. 2001. 
[19] T. Ishihara and H. Yasuura. Voltage scheduling problem for dynamically variable 
voltage processors. In Proc. of Intl. Symp. on Low-Power Electronics and Design, 1998. 
[20] K. Je.ay, F. D. Smith, A. Moorthy, and J. Anderson. Proportional share scheduling of 
operating system services for real-time applications. In Proc. of the 19th IEEE 
Real-Time Systems Symposium, Dec. 1998. 
[21] M. Jones, D. Rosu, and M. Rosu. CPU reservations & time constraints: E.cient, 
predictable scheduling of independent activities. In Proc. of 16th Symposium on 
Operating Systems Principles, Oct. 1997. 
[22] S. Krantz, S. Kress, and R. Kress. Jensen’s Inequality. Birkhauser, 1999. 
[23] KURT. UTIME– micro-second resolution timers for linux. http://www.ittc.ku.edu/kurt, 
Mar. 2003. 
[24] C. L. Liu and J. W. Layland. Scheduling algorithms for multiprogramming in a hard 
real-time environment. JACM, 20(1):46–61, Jan. 1973. 
[25] J. Lorch and A. Smith. Improving dynamic voltage scaling algorithms with PACE. In 
Proc. of ACM SIGMETRICS 2001 Conference, June 2001. 
[26] J. Lorch and A. Smith. Operating system modi.cations for task-based speed and voltage 
scheduling. In Proc. of the 1st Intl. Conf. on Mobile Systems, Applications, and Services, 
May 2003. 
[27] J. Nieh and M. S. Lam. The design, implementation and evaluation of SMART: A 
scheduler for multimedia applications. In Proc. of 16th Symposium on Operating 
Systems Principles, Oct. 1997. 
[28] T. Pering, T.Burd, and R. Brodersen. The simulation and evaluation of dynamic voltage 
scaling algorithms. In Proc. of Intl. Symposium on Low Power Electronics and Design, 
June 1998. 
[29] T. Pering, T.Burd, and R. Brodersen. Voltage scheduling in the lpARM microprocessor 
system. In Proc. of Intl. Symposium on Low Power Electronics and Design, July 2000. 
[30] P. Pillai and K. G. Shin. Real-time dynamic voltage scaling for low-power embedded 
