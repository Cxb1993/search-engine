1行政院國家科學委員會專題研究計畫成果報告
無線網狀存取網路支援服務品質保證之研究
計畫編號：NSC 95-2221-E-011-084
執行期限：94 年 8 月 1 日至 96 年 7 月 31 日
主持人：陳金蓮 教授 國立台灣科技大學 電子工程研究所
計畫參與人員：許俊彥 國立台灣科技大學 資訊工程研究所
陳建忠 國立台灣科技大學 電子工程研究所
游文吉 國立台灣科技大學 電子工程研究所
陳冠中 國立台灣科技大學 電子工程研究所
陳建翔 國立台灣科技大學 電子工程研究所
黃松柏 國立台灣科技大學 電子工程研究所
一、中文摘要
目前無線都會網路之新興建置主要用途
定位於取代有線網路”最後一哩”之傳輸媒
介，為了研究及改善 802.16 Wireless MAN 網
路效能，提出預先定義閘道器及自定閘道器
兩套演算法，以基因演算法及繞徑演算法為
基礎來安排訊務路由，在節點天線上限與最
大延遲時間的限制下，求得最小建置成本之
網路拓樸。
在 802.16 網路環境下，我們針對竭力服
務(best effort)資料流提出競爭式頻寬要求提
送機制以有效改善效率，此方法透過掌握重
傳頻寬要求之節點數目與新傳送頻寬要求節
點之到達率，動態計算並調整競爭視窗
(contention window)大小。本方法可以得到頻
寬要求流通量的近似最佳解，同時也可以將
頻寬要求流通量與延遲比例最大化。
本計畫提出跨層級(cross-layer)訊框傳送
排程法則。針對即時性資料流，提出條件性
的最早截止時間(earliest deadline first)傳送法
則，同時考慮通道狀況及資料可容許之最大
傳送延遲，在通道狀況良好情況下透過較高
速的調變技術傳送訊框，以降低封包的傳送
時間。針對非即時資料流，使用選擇性的額
度輪流(Deficit Round Robin)排程法則，封包
於通道情況較好的狀態下送出，而當通道狀
況較差時則不傳送，並且將可使用的額度儲
存，以利當通道處於較好情況時，透過額度
來調整可傳送之封包數量，此法則除了可增
加流通量外亦具備有長期的公平性。
在基地台傳輸範圍內建置固定式中繼站
可以大幅改善資料速率，吾人提出集中式和
非集中式遞交機制來處理行動台連線與遞交
問題，集中式遞交機制由基地台負責判斷連
線的選擇以及處理行動台的遞交問題。非集
中式遞交機制則可提高固定式中繼站的功
能，由固定式中繼站做部分排程和遞交的決
定。
當行動台距離基地台較遠或位於通訊
不良的涵蓋範圍時，可改用較強健的調變
技術，但資料率會因此降低，為了提供不
同服務等級的服務流不同的服務品質保
證，我們討論在 802.16j 都會網路的品質保
證議題，並且提出一個動態資源分配機
制，改善頻寬效率。
IEEE802.16e 無線都會網路中，電池能
量是行動台的重要資源，如何設計行動台
節能機制使其能有效延長連續工作時間是
非常重要的議題。我們設計動態能量管理
(Dynamic Energy Management, DEM) 機
制，此動態能量管理機制除了可以讓基地
台(Base Station, BS)或 MS 較容易掌握提出
休眠之時機外，亦可降低 MS 頻繁的狀態
切換進而達到節能的效果。
3理大都會區域之進出口流量。然而，此段對
外的有線寬頻線路，往往因為必要的佈線工
程，而增加網路建設的時間與金錢成本。本
研 究 提 出 預 先 定 義 閘 道 器 (pre-defined
gateway set algorithm, PGSA)及自定閘道器
(self-constituted gateway algorithm, SCGA) 兩
套演算法解決此問題，PGSA 首先在無線存
取系統之限制下，決定出此網狀網路所需之
最小閘道器數量，其次，在此閘道器數量限
制下，應當選擇哪些無線路由器作為閘道
器，建置聯外有線網路，以降低各節點之天
線使用總數；當 PGSA 的成本過高時，可利
用 SCGA 再增加計算時間的情形下減少成
本。由於此類多目標函數之拓樸設計問題屬
於 NP-complete 問題，因此我們以啟發式的
方法(heuristic techniques)，配合基因演算法
(genetic algorithm, GA)來解決此問題。
在 802.16 網路中，具有竭力服務資料流要
傳 送 的 用 戶 端 會 在 競 爭 式 請 求 機 會
(contention request opportunities) 區間嘗試送
出頻寬要求，以期基地台能在後續傳送的上
傳鏈路訊框中加以配置所需頻寬。若傳送頻
寬要求之動作因為碰撞而無法成功，在 IEEE
802.16 標準中規範了截短二進制指數退避
(truncated binary exponential backoff) 法則以
降低用戶端再次傳送的碰撞機會。基地台可
以適當的調整截短二進制指數退避法則中最
小及最大退避窗(backoff window)的數值，以
有效提升競爭式請求機會區間的流通量。本
計畫的第二個研究便提出了一種指派最佳退
避窗數值以得到競爭式請求機會區間最佳流
通量的機制。
現代都市內大樓林立，諸如多路徑干擾、
遮蔽等許多的效應相加之下，當使用者快速
移動時，通道的情況快速變化，本研究提出
一個兼顧實體層的通道情況與上層的服務品
質(QoS)要求的資料排程法則。本研究提出條
件性的最早截止時間(earliest deadline first )
傳送法則與選擇性的額度輪流(Deficit Round
Robin)法則，主要是利用實體層的通道情況
以及不同資料流的 QoS 要求進行排程，進而
改善因實體層通道情況不好時，所造成的低
流通量與較長的延遲時間。
涵蓋範圍廣大的都會網路存在部分涵蓋
範圍通訊不良或是距離基地台較遠的行動台
傳輸效能不彰的問題，除了增加基地台的數
量以縮小基地台的涵蓋範圍之外，在基地台
涵蓋範圍內適當位置佈建無線固定式中繼站
是較經濟的解決方案。但是建置無線固定式
中繼站之後，當行動台加入網路時基地台必
須考慮直接與基地台建立連線或與固定式中
繼站建立連線何者有較佳的傳輸效能；若行
動台會移動，還必須處理遞交的問題[17]。本
研究提出兩種在這個環境下避免行動台重新
建立連線的軟式遞交機制，依據遞交行為的
決定者不同區分為集中式遞交機制和非集中
式遞交機制，以遞交啟動的時機再各別區分
成連線建立階段和連線維持階段來深入探
討。
在 IEEE 802.16j 環境下，在點對多點模
式與中繼模式之間，行動台會選擇通道品質
較佳的路徑建立連線，並改用傳輸速率較高
的調變技術，以減少傳送資料的時間。若連
線通道品質不佳，則使用較強健的調變技
術。一般而言，傳送相同的資料量，使用越
強健的調變技術所需的傳送時間越長，針對
此問題，本計畫設計一套無線資源分配演算
法，可應用於允入控制(Call Admission Cont
rol)與最佳的頻寬利用(Optimal Bandwidth U
tilization)，以避免資源的浪費，並提高系統
流通量(Throughput)。
IEEE 802.16e 標準規範 MS 具移動性，為
了電池的節能，此標準以訊務類別區分，新
增了三種不同的休眠機制，針對非即時訊
務，例如 BE 與 NRT-VR 訊務，建議使用類
別一(Class 1)機制，其中 MS 操作模式主要可
區分為工作模式 (Active-Mode)和休眠模式
(Sleep-Mode)，如圖 22 所示。休眠方式以指
數性成長的方式來增加休眠視窗大小，以最
後休眠視窗大小為上限，本計畫提出一套休
眠機制，我們稱之為動態能量管理 (Dynamic
Energy Management, DEM) 機制，在 BS 端的
MAC 層新增了排程器(Scheduler)與休眠模式
控制器(Sleep Mode Controller )，進而達到節
能的效果。
5 
u v
vuu
u
uu t)1( (C4)
0 vuuv aa (C5)
Ddu  (C6)
其中：
R The set of all mesh routers.
N Number of mesh routers.
K The maximum number of antennas that can be
installed in a wireless router.
auv The indicator function which is 1 if a direct
wireless link is formed between mesh routers u
and v, and 0 otherwise. auu=0.
λu The traffic demand of mesh router u.
tuv The traffic load offered by mesh routers u to v.
tuv0, tuu=0.
cuv Link capacity of the wireless link between mesh
routers u and v. cuv0, cuu=0
δu The indicator function which is 1 if mesh router u
is a gateway and 0 otherwise.
σu The cost on setting up mesh router u as a
gateway.
D The maximum tolerable delay
du The maximum delay of mesh router u
3.1.2 SCGA 演算法
SCGA 及 PGSA 兩演算法的差異在於
SCGA 的閘道器數目不是預先得知，而是依
據需求動態設定。圖 2 為 SCGA 的流程圖，
SCGA 與 PGSA 使用相同的基因演算法，但
SCGA 使用較簡單的連續染色體結構，當無
法為資料流發現適當的路徑時則將該資料流
之來源路由器設為閘道器，直到所有資料流
都被滿足為止。
3.1.3 模擬結果
本研究設定一長與寬為 30km x 20km 相
對距離之區域，在此區域隨機安置 50 個節
點，並反覆測試 60 種不同的初始節點位置以
觀察演算法的平均表現，節點最大天線上限
數為 4，三種最大容許延遲：10, 30 and 50ms，
閘道器的成本分為四個範圍：[1, 20], [20,
100], [100, 200] and [200, 400]，觀察PGSA 及
SCGA 兩演算法依不同的成本範圍所產生的
影響。
表 3 至表 5 呈現出使用不同繞徑方式的結
果，在表 3 及表 4 顯示的網路成本，使用最
少跳躍數方法比使用最小封包延遲方法有較
高的網路成本，這是因為最少跳躍數方法有
較多的閘道器；表 5 中，使用最少跳躍數方
法有較低的路徑長度，我們注意到通道的速
率隨距離的增加而減少，使用最少跳躍數方
法的平均路徑長度較小，由於每一閘道器上
天線數目的限制，要滿足所有交通量(traffic)
的要求必需要有較多的閘道器被建立，這相
對的也增加了網路上的成本。
一般而言，族群越大所花費的計算量越
大，即所需計算時間愈長，但能得到較佳的
解。我們使用四種流量需求等級，在不同的
等級下，以均勻分布隨機設定節點之流量需
求。我們比較不同族群大小來比較所得解之
品質差異，如圖 5 所示，為採用最短路徑演
算法(SPA)時之整體網路成本的差異比較。如
圖 6 所示，當族群大小由 100 增加至 300 時，
發現所得解略有改善，但當族群大小由 300
增加至 500 時，解的品質相差無幾，皆可獲
得相當好的解，因此本研究選擇族群大小為
500。我們考慮 SPA 與最小成本演算法(MCA)
所得解與需花費的世代數之差異，其中成本
的計算是以鏈結的頻寬的倒數來設定。如圖 7
所示，可發現 MCA 在各種情況下皆花費較
少成本，主要原因在於 SPA優先考慮最短 hop
數之路徑，其平均每條路徑之頻寬小於
MCA，故需使用較多路徑以滿足各節點之流
量需求，故 MCA 在各種流量需求下皆優於
SPA。MCA 花費世代數亦少於 SPA，如圖 5
所示，為兩種繞徑方法在不同流量需求下所
花費之世代數比較。由於 MCA 以最大頻寬
路徑為優先考量，節點處理順序不同對最終
結果的影響較小，故其收斂速度較快。SPA
中所有節點皆以最短路徑為優先，因此當染
色體不同使得節點處理先後不同時，所得之
路徑安排差異較大，因此收斂較慢。
此外，SPA 在較重的流量需求下，花費的
總世代數略為降低，乃因較重的流量需求所
使用之閘道器總數較多，在第一階段測試閘
道器總數之最小值時，能較快找到解，而花
費較少的世代數。而 MCA 世代數卻反隨著
流量需求上升而增加，主要可歸因於流量需
求重時，需使用多條路徑才能滿足流量需
求，故 MCA 對於節點處理順序不同對最終
結果的影響較小之優勢將隨著流量需求的加
重而逐漸被抵銷。這個部分的研究成果已發
7只要基地台掌握非碰撞用戶之頻寬要求
到達率，以及碰撞用戶的數量，便可使用上
述一般解之通式求出最佳化競爭視窗之大
小。但在 IEEE 802.16 網路中，基地台無法得
知現有碰撞用戶之數量，因此我們調整 Grant
管理次標頭(subheader) ，在這個兩個 bytes
長度的次標頭中加入兩個位元代表碰撞指示
(Collision Indicator, CI)，關於次標頭在訊框中
的位置如圖 7 所示。用戶端可以透過設定
Grant 管理次標頭中的 CI 欄位的值來通知基
地台目前狀況，CI 欄位定義如下：
CI = 00 : 預設值, 無需任何處理
CI = 01 : 表示發生第一次碰撞
CI = 10 or 11 : 表示在碰撞後成功傳送出
頻寬要求
如此一來基地台便可以統計現有碰撞用
戶的數量，進一步動態調整競爭視窗的大小。
3.2.2 模擬結果
圖 8 呈現頻寬要求流通量結果，圖中流通
量已透過數值最佳解正常化(即流通量/最佳
數值解)，如圖所示，透過我們所提出之動態
調整競爭視窗大小之機制，很明顯的勝過使
用 截 短 二 進 制 指 數 退 避 (truncated binary
exponential backoff, TBEB)法則，例如在到達率為
0.0035 有 21.3%的改善。如圖 9 所示，K 值是
由我們所提出之機制計算得到，為了驗證藉
由所提機制計算出之 K 值可以有最佳效能評
估函式值，模擬中分別以 0.5K 至 0.9K 的值
來設定競爭視窗的大小，由此可以驗證所提
出之機制可以得到最佳解。
3.3 跨層支援服務品質保證之訊框排程
機制之研究
媒體存取層與實體層的設計影響系統流
通量甚鉅，欲提高系統流通量需做跨層的通
盤考量，本研究提出跨層的排程機制，考慮
媒體存取層資料率與實體層通道狀況的限
制，以提升系統流通量并減少封包的延遲時
間。
3.3.1參數定義:
(1). 通道狀況因素 [13](Channel State
Factor, CSF)
當 CSF 值愈大時代表目前的通道狀況愈
好，最小值為 0 代表通道處於 deep fading 的
情況。
(2).封包最大等待訊框次數
定義一個封包從送交到完成傳送最多能
夠等待的訊框數[14]。
3.3.2五種資料流排程之描述
IEEE 802.16e無線網路支援的資料流可分
為五種，不同資料流的排程描述如下：
UGS:屬於優先權最高的資料流。
ERT-VR:屬於第二優先權的資料流，此資
料流最主要的限制為最大延遲時間限制，此
類的資料流我們是利用封包最大等待時間訊
框次數與一個通道門檻值來進行排程
[15][16]，假設一個封包最大的等待次數為
n，代表此封包最多能夠等待 n 個訊框的時間
就必須將封包傳送出封包，否則即算是無效
的封包，基地台使用前次通訊的情況來預測
本次傳送時每個使用者的 CSF 值，接著檢查
有 ERT-VR 的使用者，有那些使用者的 CSF
是超過通道門檻值且封包的等待次數未超過
封包最大的等待次數，即能傳送 ERT-VR 封
包，如果使用者的 CSF 是未超過通道門檻值
且封包的等待次數未超過封包最大的等待次
數，則可等待到下個時間訊框傳送。如此一
直等到封包最大的等待次數時，無論 CSF 是
否大於通道門檻都必須傳送，但如果當時的
通道是處 deep fading 時(CSF=0)，則直接將封
包丟棄。
RT-VR: 屬於第三優先權的資料流，與
ERT-VR 一樣是屬於即時的資料流，有最大延
遲時間限制，主要差別是所代表的應用程式
不同，排程法則與 ERT-VR 相同。
NRT-VR: 屬於第四優先權的資料流，此
種資料流的封包沒有時間上的限制，在此類
的資料流所要改善的是增加流通量與減少延
遲，因此考慮重點在於如何使用選擇性的輪
流選擇通道狀況因素以增加流通量與減少因
重送所造成的延遲，方法為在剩下的可傳送
時間訊框中，依據誰有最高的 CSF 且高於通
r
X
PnM
n
X
PnM
n
-X
PnM
n
PPK a
aa












 

a
2
1
)(1
,0
2
1
)(1
,1
)(1
2
,
9程在同一個下傳子訊框之內傳送，因此延遲
小於一個訊框時間。非集中式遞交機制如圖
15 所示，基地台把使用轉傳模式行動台的封
包下傳給固定式中繼站之後，固定式中繼站
可在同一個上傳子訊框向基地台要求頻寬配
置，當基地台在接下來的下傳子訊框配置給
固定式中繼站頻寬之後，固定式中繼站才可
順利將封包轉傳給行動站，所以非集中式遞
交機制的延遲時間為一個半訊框時間以上。
分析使用各種模式傳送封包所需時間如圖 14
所示。
3.5 動態資源分配與允入控制之研究
在 IEEE802.16j 無線網路中，本研究提出
的資源的分配是以動態調整頻寬的方式，當
系統總頻寬充足時，可分配給每個連線最大
支援訊務速率的頻寬，但是當系統總頻寬不
足時，將以通道品質作為考量，在提供每個
連線的 QoS 保證下調整每個連線所分配到的
頻寬。因此每個連線所分配到的資源至少須
滿足最小預留訊務速率。
3.5.1 CABA法則之系統架構
圖 17 與圖 18 為使用 CABA 法則之系統
架構圖，其中包含了基地台與行動台四個部
份外，在固定式中繼站的 MAC 層也增加了 A
SNRC。四個區塊的功能與操作流程，以及系
統操作時使用之相關參數。
CABA：主要的工作是利用通道品質判斷
需要調整頻寬的連線。
ASNRC：負責計算行動台長時間無線通道
的平均通道品質，作為 MAC 層通道品質的
資訊。在中繼模式中我們假設固定式中繼站
能從基地台傳送的 UL-MAP 訊息區分接收到
的訊號是由那個行動台所傳送，因此 ASNRC
能個別計算每個行動台的訊號強度。
CAC：控制系統建立連線的數量，確保每
一個連線都能獲得 QoS 保證。
OBU：主要的功能是隨時根據行動台的通
道品質調整連線所能分配的頻寬。
3.5.2 允入控制
CABA-CAC 法則利用通道品質作為調整
的依據，可以在建立連線時篩選出通道品質
太差的連線拒絕建立，以避免使用強健調變
技術作為傳輸，因此 CABA-CAC 法則會拒絕
建立平均訊號強度位於 QPSK 調變技術的連
線。
3.5.3 最佳化頻寬使用率
CABA-OBU 法則根據無線通道的通道
品質是隨時變動的特性，對連線所分配的頻
寬作動態調整。因此主動的管理頻寬機制將
有助於提升頻寬的使用效率，使得系統獲得
最佳化的頻寬使用率。基地台從 ASNRC 獲
得所有行動台的平均訊號強度資訊後，將依
照允入控制目前使用 CABA 法則調整連線所
分配的頻寬。
3.5.4 模擬結果
在文獻 [21] 提出的最小預留資源法
(Minimum Reserved, MR)、文獻[22]提出的動
態預留法(Dynamic Reserved, DR)、單獨使用
CABA-CAC 法則與同時使用 CABA-CAC 法
則 和 CABA-OBU 法 則 ， 簡 稱 為
CABA-CAC-OBU 法則。
系統的連線阻塞機率如圖 19 所示，發現
CABA-CAC法的連線阻塞機率低於MR法與
DR 法。當使用者數量到達 70 個時，連線阻
塞機率分別從MR法與DR法的 0.017降低至
CABA-CAC 法的 0.012，連線阻塞機率降低
了 29.4%。而使用 CABA-CAC-OBU 法，連
線阻塞機率為 0.013，連線阻塞機率近似使用
CABA-CAC 法 ， 與 DR 法 相 較 ，
CABA-CAC-OBU 法降低了 23.5%的連線阻
塞機率。
平均頻寬使用率如圖 20 所示，當知使用
者數量愈多，頻寬使用率會愈高。只分配最
小預留訊務速率的 MR 法會造成許多頻寬的
浪費，當使用者數量到達 40 後，因為許多獲
得保證的資料在封包排程時無法傳送完畢，
造成剩餘許多頻寬卻無法建立連線，使得頻
寬使用率無法增加。而 DR 法分配最大持續
訊務速率，並且具有動態調整 nrtPS 的頻寬，
改善了 MR 法頻寬使用率低的問題。使用本
文提出的 CABA-CAC 法具有調整三種服務
等級的頻寬，而且依通道的調整可降低封包
排程時無法傳送的情況，能更有效率地使用
11
的休眠時間與方式。第一次的休眠時間以 BS
計算出平均的排程時間扣除該次 MSA 接收
封包、傳送休眠請求訊息以及排程延遲時間
(排程時間後因休眠逾期所花費的時間)，進
而計算出 MSA可休眠的時間。由於該次休眠
時間預估過頭，因此 BS 無法在 MSA處於休
眠狀態時將封包傳送給 MSA。為了不浪費頻
寬，BS 會先將 MSB 的封包先傳送，直到 MSA
之休眠狀態結束後再傳送封包給 MSA。此
外，當 MSD 接收完 BS 該次傳送之資料量
時，BS 會再統計 MSA 前面 i 次之平均排程
時間與排程時間標準差。當 MSA切換至工作
模式並接收完該次 BS 所傳送之資料量時，
BS 主動通知 MSA切換至休眠模式並給予休
眠參數。當 MSA 結束第一次休眠結束後，
BS 沒有資料要傳送給 MSA，因此 BS 告知
MSA可再進行第二次的休眠。為了降低排程
延遲，該次之後之休眠時間設定以 BS 所計
算出排程時間標準差為主，週期性休眠而不
以倍增之方式休眠，相關參數計算如式子
11~14 所示。其中 EAST(Estimated Average
Schedule Time)為 BS 統計之平均排程時間，
ESDST(Estimated Standard Deviation
Schedule Time)為 BS 統計之排程時間標準
差，Si,k 為第 i-1 次排程區間內第 k 次的休眠
時間，而 TA為 BS 預計傳送封包給 MSA之
排程時間開始到 MS 啟動休眠所花費的時
間。
3.6.2 模擬結果
圖 26 所示，非即時訊務量愈多，狀態切
換率愈低，原因在於 MS 甦醒率較低所致。
當甦醒率愈低，Class 1 機制的休眠時間較有
機會增到較大訊框大小，例如 256 個訊框大
小的休眠時間約為 1 秒鐘，進而降低狀態切
換率。此外， DEM 機制之狀態切換率在不
同之非即時訊務量下皆小於 Class 1 機制。
在不同的非即時訊務量下，比較 Class 1
機制與 DEM 機制之平均一個檔案耗電量，如
圖 27 所示。當非即時訊務量愈多，平均一個
檔案的耗電量就愈大。原因在於訊務量愈多
時，MS 接收完一個檔案需要花費較多的時
間，因此 MS 需要花費較多的能量。不同的
非即時訊務量，DEM 機制平均耗電量均小於
Class 1 機制，
四、計畫成果自評
本計畫的第一項研究，提出 PGSA 及
SCGA 兩種演算法，可有效作為實際建置無
線都會網路拓樸之依據，其中採用兩種繞徑
演算法並比較其差異，可作為日後相關研究
之參考。我們更提出適用於此類問題之正位
元數固定基因演算法。現今無線都會網路之
寬頻接入技術引起國際上高度重視與關切，
國內如工研院電通所等機構目前亦積極爭取
參與相關標準之制定。PGSA 演算法之設計
理念不僅可適用於無線都會網路，未來更可
擴充運用於其他具有相關特性之廣泛議題。
本計畫的第二項研究提出了在 802.16 網
路環境下，對於竭力服務資料流在競爭式頻
寬要求提送機制下有效改善效率的方法，為
了評估效能我們也定義了效能評估函式
(C)。透過掌握碰撞節點之數目與非碰撞節點
傳送頻寬之到達率，動態計算及調整競爭視
窗大小，本方法可以得到頻寬要求流通量的
近似最佳解，同時也可以將頻寬要求流通量
與延遲比例最大化。
本計畫的第三項研究對於系統的改善，除
了改善ERT-VR與RT-VR資料流的遺失率(無
效的封包/總產生的封包)也確保 NRT-VR 與
BE 資料流的公平性，增加其流通量。
在本計畫的第四項研究中，集中式遞交機
制可以用基地台來確保行動台的連線品質並
且提高系統效能，然而當基地台要進行遞交
時，需要傳送許多的信令，會造成較大的延
遲。非集中式遞交機制可提高系統效能而且
減少信令的傳送，除了會有重複傳送的問題
之外，由於訊框架構的因素產生封包的延遲
較長的問題。
在本計畫的第五項研究中，利用無線通道
的訊號強弱調整連線所分配的頻寬，在滿足
13
圖 2 SCGA 流程圖
0
1000
2000
3000
4000
5000
6000
100 300 500
population
co
st
Light load
Medium load
Heavy load
Extra heavy load
圖 3 族群大小與解之品質比較圖
0
1000
2000
3000
4000
5000
6000
Light Medium Heavy Extra heavy
load
cost
SPA
MCA
圖 4 SPA 與 MCA 之成本比較圖
SPA SPA SPA SPA
MCA
MCA
MCA MCA
0
20
40
60
80
100
120
140
160
180
load
generation
第一階段
搜尋
第二階段
搜尋
Light Medium Heavy Extra
Heavy
圖 5 SPA 與 MCA 之世代數比較圖
表 3 network cost of using different routing
metrica
PGSA SCGA
Gateway cost
range = [1, 20]
Gateway cost
range = [20, 100]
Gateway cost
range = [1, 20]
Gateway cost
range = [20, 100]
Max.
tolerable
delay
Min. Avg. Max. Min. Avg. Max. Min. Avg. Max. Min. Avg. Max.
10ms 225 233.7 242 663 749.5 821 216 228.6 240 564 628.6 672
30ms 229 233.8 239 732 761.3 823 235 246.4 266 631 688.6 732
Min.
hop
count
50ms 229 234.5 240 732 761.4 823 234 245.0 266 662 692.8 737
10ms 208 210.3 214 550 607.4 642 217 228.6 241 560 584.5 617
30ms 208 211.0 216 526 582.9 635 217 229.1 244 572 613.6 666
Min.
packet
delay
50ms 208 211.0 216 549 583.6 635 217 228.5 238 562 611.3 697
表 4 number of gateways and antennas used
using different routing metrics
PGSA SCGA
Gateway cost
range = [1, 20]
Gateway cost
range = [20, 100]
Gateway cost
range = [1, 20]
Gateway cost
range = [20, 100]
Max.
tolerable
delay
Gateway AntennaGateway AntennaGateway AntennaGateway Antenna
10ms 17.35 131.6 17.35 141.6 15.00 140.3 12.25 168.3
30ms 17.60 132.2 17.60 138.2 16.20 146.9 13.55 167.6
Min.
hop
count
50ms 17.60 132.0 17.60 138.3 16.15 144.0 13.40 168.9
10ms 14.10 130.6 14.10 144.9 14.45 140.9 11.65 162Min.
packet
delay 30ms 13.60 132.0 13.60 148.2 14.50 140.6 11.60 169.3
表 5 normalized number of paths and mean path
length of using different routing metrics
PGSA SCGA
Gateway cost
range = [1, 20]
Gateway cost
range = [20, 100]
Gateway cost
range = [1, 20]
Gateway cost
range = [20, 100]
Max.
tolerable
delay Normalized
number of
paths
Mean
path
length
Normalized
number of
paths
Mean
path
length
Normalize
d number
of paths
Mean
path
length
Normalize
d number
of paths
Mean
pat
length
10ms 2.15 1.19 2.34 1.30 2.26 1.36 2.63 1.67
30ms 2.15 1.17 2.32 1.26 2.48 1.36 2.64 1.59
Min.
hop
count
50ms 2.14 1.16 2.32 1.26 2.46 1.38 2.67 1.56
10ms 2.19 1.63 2.35 1.63 2.32 1.70 2.55 1.89
30ms 2.19 1.64 2.39 1.68 2.55 1.62 2.77 1.91
Min.
packet
delay
50ms 2.20 1.65 2.39 1.69 2.52 1.60 2.77 1.91
15
0.00E+00
5.00E-01
1.00E+00
1.50E+00
2.00E+00
2.50E+00
3.00E+00
3.50E+00
1 2 3 4 5 6
accumulate data (Mbps)
tra
ns
m
is
si
on
tim
e
(s
)
PMP BPSK(1/2)
simple relay
scheme
QPSK(3/4)
PMP
QPSK(1/2)
simple relay
scheme
16QAM(3/4)
圖 16 各種模式下封包傳輸時間
Packet
Scheduling
Demodulation/
Decoder
Modulation/
Encoder
MAC
PHY
BSMS
PHY
MAC
CABA
OBUConnection Classifier
Scheduler
Queue
Modulation
/ Encoder
Wireless channel
Data
CAC
Queue
ASNRC
Signaling
圖 17 對點模式之系統架構圖
圖 18 中繼模式之系統架構圖
0
0.005
0.01
0.015
0.02
0.025
0.03
10 20 30 40 50 60 70 80 90 100
Number of Nodes
C
on
ne
ct
io
n
B
lo
ck
in
g
Pr
ob
ab
ili
ty
MR
DR
CABA-CAC
CABA-CAC-OBU
圖 19 在不同使用者數量下之連線阻塞機率
0
10
20
30
40
50
60
70
80
90
100
10 20 30 40 50 60 70 80 90 100
Number of Nodes
A
ve
ra
ge
Ba
nd
w
id
th
U
til
iz
at
io
n
(%
)
MR
DR
CABA-CAC
CABA-CAC-OBU
圖 20 在不同使用者數量下平均頻寬使用率
0
2
4
6
8
10
12
14
16
10 20 30 40 50 60 70 80 90 100
Number of Nodes
A
ve
ra
ge
Th
ro
ug
hp
ut
(M
bp
s)
MR
DR
CABA-CAC
CABA-CAC-OBU
圖 21 在不同使用者數量下平均系統流通量
圖 22 Class 1 之狀態轉移圖
BS
PHY Layer
MAC Layer
PHY Layer
MAC Layer
Network Layer
Packet Forward
Transport Layer
Modulation
/ Encoder
Scheduler
Sleep Mode
Controller
Network Layer
Packet forward
Modulation /
Encoder
Demodulation
/ Decoder
Sleep Mode
Controller
Demodulation
/ Decoder
TCP
MS
Data flow
Signal flow
Packet
Counter
Scheduler
圖 23 系統架構圖
