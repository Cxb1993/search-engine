1. 計畫內容簡介 
在此計畫中，我們將研究開發抗雜訊電路技術來提升數位 CMOS 電路的抗雜訊能力，讓電路
可操作在更低的工作電壓且能維持非常低的位元錯誤率，且透過實現低電壓抗雜訊乘法器電路晶
片呈現電路的抗雜訊效能。電路架構的部份，我們根據 Algorithmic Noise-Tolerant(ANT) [1],[2]
架構進行乘法器設計，進行 Main block 電路以及 Predictor 電路的設計。為了在超低電壓下仍可正
確運算，Main block 電路最主要的要求就是高速，Predictor 電路則是由一個較少位元的乘法器所構
成，為了達到適時修正錯誤的能力，較少位元的乘法器仍必須維持高精準度的運算能力；因此，
我們將於此計畫中研究高精準度、節省面積的 fixed-width 乘法器架構設計以符合 Predictor 電路
的設計需求，此乃本研究計畫的主要設計目標。 
2. 計畫緣由與目的 
  根據 ITRS 2008 [3]的預測，在未來 SoC 設計中，功率管理將是最主要的挑戰之一，Intel 的 CEO 
Pat Gelsinger 更在 2004 DAC Keynote speech 直接指出功率消耗將會是未來十年 Moore’s Law 實際上
唯一的設計瓶頸。我們可預估功率消耗持續增加的趨勢只會越來越嚴峻，因此低功率消耗，甚至超低
功率消耗的技術開發必定是未來 SoC 研究的重點。超低功率消耗技術的開發中，最主要的設計方向
是必須不斷把操作電壓降低；在降低操作電壓的過程中，存在兩個現象：(1).電訊號可允許的 noise 
margin 越來越小；(2).若沒有抗噪性電路技術的配合，操作電壓將無法繼續往下降。因為這兩個現象
的存在，抗噪性技術成為未來 SoC 設計的新需求[4]-[8]。 
 
圖一：Algorithmic Noise-Tolerance (ANT) 抗雜訊架構設計 [1], [2] 
  近年，Neresh R. Shanbhag 教授利用 reduced precision redundancy 的方式，設計了ㄧ系列 ANT 電
路演算法與架構，如圖一 [1],[2]。ANT 設計會先把電路運算的 main block 進行 voltage overscaling，
然後再利用 predictor 來修正 voltage overscaling 所造成的運算錯誤。如此，整個運算電路系統的能量
消耗可以節省 7倍以上。而且，ANT設計可在不同應用情況下，不同 SNR的需求，調整 reduced precision 
redundancy 的精準度以及電路系統的操作電壓，在 reliability 與 power consumption 間進行 trade-off，
以協助建立可靠且超低功率消耗的電路於 SoC 系統之中。 
    
圖三、八位元、十二位元之 SLP與 β 關係曲線圖 
本計畫使用一個新的方法設計高準確度固定寬度乘法器。此乘法器誤差補償架構以過去所提文獻
[9],[10]為基礎，考慮次輸入補償(MIC)部分乘積關係做固定寬度乘法器誤差補償情形。電路架構上將
以多輸入補償架構，外加補償電路技術來達此誤差補償，其目的在限制誤差補償條件以提高進位之情
形發生。 
所提出架構優點除了有較高精準度外，因輸入位元為固定項，故不會因位元數增加而導致輸入位
元隨之增加，取代原先文獻[10]所提之誤差補償電路有延展性之問題，使架構比文獻[10]來的小。我
們將利用狄摩根定理化簡以減少硬體複雜度，進一步達到面積節省與高精準度的固定寬度乘法器。 
表一為文獻 [10]誤差補償電路限制情形，欄位中補償條件為頭尾各兩項的部分乘積
(xn-1y0,xn-2y1,x1yn-2,x0yn-1)相加所得的值，以 β 表示。進位為誤差補償電路輸出 C1、C2、Cn-1 相加的總
和。將 IC 部分乘積總和進位 β間的關係以 Relation 表示。當 β等於 0 或 1 時，SLSP為 β 進位。而 β
等於 2 或 3 時，SLSP 為 β-1 進位。在 β 等於 4 時，SLSP為 β-2 進位。然而這種誤差補償情況由文獻[9]
機率統計分析得知 SLSP曲線之分佈介於 β與 β-1 之間，違背上述 3  做 -1 的修正。因此本計畫主要
針對權重較輕的 outer partial product terms 進位補償部分做進一步誤差分析，搭配次輸入補償項協助
進行更精準之誤差補償。 
表一、文獻[10]誤差補償電路限制情形 
Compensation terms  Carry Relation
xn-1y0+xn-2y1+x1yn-2+x0yn-1=0 0 Β 
xn-1y0+xn-2y1+x1yn-2+x0yn-1=1 1 Β 
xn-1y0+xn-2y1+x1yn-2+x0yn-1=2 1 β-1 
xn-1y0+xn-2y1+x1yn-2+x0yn-1=3 2 β-1 
xn-1y0+xn-2y1+x1yn-2+x0yn-1=4 2 β-2 
 
 圖八、補償條件 β=4 情況下之誤差值分析圖 
 
 
圖十、每個補償條件項之正值與負值平均誤差分析圖 
 
圖九、每個補償條件下的絕對誤差分析圖 
表二、本計畫提出的 outer partial product terms 進位誤
差補償情形 
Compensation terms  Carry Relation
xn-1y0+xn-2y1+x1yn-2+x0yn-1=0 0 β 
xn-1y0+xn-2y1+x1yn-2+x0yn-1=1 1 β 
xn-1y0+xn-2y1+x1yn-2+x0yn-1=2 1 β 
xn-1y0+xn-2y1+x1yn-2+x0yn-1=3 2 β-1 
xn-1y0+xn-2y1+x1yn-2+x0yn-1=4 2 β-1 
 
除了輸入補償(IC)的分析外，我們將進一步分析次輸入補償(MIC)。次輸入補償定義(Minor Input 
Correction vector, MIC)如圖十一所示。由文獻[10]分析之 IC 權重關係，所定義之 MIC 乘積補償架構
可分為較高權重的內部(Inner)乘積以及較低權重的外部(Outer)乘積。由文獻[10]所分析的對稱關係得
知部分乘積兩端進位機率相同，因此我們以對稱方式選擇 MIC 部分乘積總和做進位補償，所選擇之
內部乘積和外部乘積的總和 SOuter 和 SInner表示如下： 
SOuter= x0yn-2 +xn-2y0                               (4) 
SInner= x1yn-3+x[(n/2)-1]y[(n/2)-1]+ xn-3y1                 (5) 
當式(4)與(5)大於 0 時，即代表進位成立。較高權重與較低權重搭配除了提升進位機率外，由固
定輸入補償項取代先前文獻的延伸式輸入補償項，則補償項的項數以及電路複雜度在任何位元輸入的
乘法器都是固定的，不會隨位元增加而使輸入補償項增加。 
 
圖十一、MIC 乘積補償架構 
 
圖十四、本計畫所提出的 Fixed-width 乘法器電路以及誤差補償電路架構 
 
圖十五、本計畫所提出化簡後的誤差補償電路架構
C. 誤差修正效果比較 
為了證明所提出之補償電路能有效降低誤差，分別模擬計算出在不同位元下之平均絕對誤差
(Average absolute error, εavg,%)、均方誤差(Mean-Square Error, εms,%)、變動誤差(Variance of error, υ%)在
表三-五。由表三-五誤差補償結果顯示出所提出之固定寬度乘法器比文獻[9]-[11]更準確，並有效降低
截斷誤差。關於補償硬體之比較，由表三平均絕對誤差及表六電晶體面積比例描繪成圖十六。透過圖
十六我們可以觀察出所提出固定寬度乘法器在 16ൈ16 位元下除了電晶體數目比文獻[10]與文獻[12]來
的少，也都比其他文獻擁有較低的誤差率。由圖十七可看出在不同位元下，文獻[9],[10],[12]將因位元
數增加而使電晶體增加；只有我們所提出的固定寬度乘法器補償電路架構在不同位元下，其電路複雜
9 
 
 
圖十八、所提出之設計與文獻[10]誤差比較 
表七、本計畫所提出的固定寬度乘法器晶片效能 
 
Multiplication Word Length 12 bits 
Product Word Length 12 bits 
Critical path delay time 11.22 ns 
Power Supply 1.8 v 
Power Consumption 2.042 mW 
Active Chip Size 106.59 um x 95.76 um
Process Technology TSMC 0.18 um CMOS
圖十九、本計畫所設計的固定寬度乘法器晶片佈局圖
(n=12) 
 
 
（二）高精準 fixed-width 乘法器運用於 ANT 架構之設計 
  圖二十為 ANT 硬體架構[1]，它是具備 EC (Error-Control) 方塊的 DSP 系統。當系統電壓逐漸
下降時，Main Block 的輸出 ya[n]，會因關鍵路徑 (Critical path) 變長，超過原先的取樣時間，而
產生大量的軟錯誤 (Soft error)。此時 EC 會根據發生錯誤的基準 Th，作為偵錯的依據，產生接近
Main Block 在正常電壓下的輸出值，即 Replica Block 的輸出 yr[n]，取代 ya[n]，作為整個 DSP 系
統的輸出 y^[n]，以降低軟錯誤的幅度。如此便能在降低系統電壓而獲得的功率節省的同時，維持
系統對 SNR 的需求。 
M
U
X
 
圖二十、ANT 硬體架構[1] 
0
20
40
60
80
100
0 50 100 150 200 250 300 350 400
A.G.M. Strollo(TypeII) Proposed Paper
Sample number
E
rr
or
 v
al
ue
11 
權重位元所構成的部分乘積，再利用一般的加法單元作累加的動作，求得近似 Main Block，如圖二
十一中 Replica Block 所圈選的硬體。兩種設計的差異是所抓取的部分乘積不同，而且實現累加的
硬體面積與功率消耗也有差別，我們提出的作法除了可以減少硬體面積、減少功率消耗，還可以提
升原先 ANT 中 Replica Block 的精準度。 
圖二十三中的黃色與藍色曲線分別是當輸入資料寬度為十二位元時，截斷乘法器和固定寬度乘
法器在不同截斷寬度的 SNR 表現。圖中的紅色曲線，為之間差距，可以觀察出 SNR (Signal to noise 
ratio) 至少都有 10 dB 以上誤差修補效果。圖中的綠色曲線是原先 ANT 架構中 Replica Block 乘法
器的 SNR，這結果可以用來對照我們提出的固定寬度乘法器架構在正常電壓源運作下，都會比
Neresh R. Shanbhag 所提出的架構，有較好的雜訊抵抗能力。 
 
圖二十二、當輸入資料寬度為十二位元時，截斷寬度為十七位元 LSB (Least significant bits) 的示意圖，綠色
線所圈選的硬體即截斷後，乘法器的剩餘架構。藍色則是被截斷的部分。 
 
圖二十三、當輸入資料寬度為十二位元時，截斷乘法器、固定寬度乘法器和 Neresh R. Shanbhag 提出 Replica 
block 架構所構成的乘法器，在不同截斷寬度的 SNR 表現。 
13 
 
圖二十五、輸入資料寬度為八位元與十二位元的 Baugh-Wooley 乘法器在不同 KVOS 下，錯誤發生率和功率
使用率的表現。模擬條件分別是以輸入隨機十萬筆(n=8)與兩千筆 (n=12) 測試向量的結果。 
圖二十六為當輸入資料為十二位元下，標準乘法器架構、含有 ANT 架構的乘法器和本計畫所
提出的 ANT 架構乘法器在不同 KVOS下，SNR 表現。我們提出的 ANT 架構能夠與文獻[1]的 ANT
架構皆能維持一定的 SNR，直到 KVOS 於 0.75 開始崩潰。並且能在未崩潰的 KVOS 下，提供接近
Main Block 在 KVOS 於 0.95 的表現。唯在達到相同抗雜訊能力的情況下，本計畫所設計之 ANT 架
構可更進一步減少硬體面積且可達更低的功率消耗。 
 
圖二十六、n=12，標準乘法器架構、含有 ANT 架構的乘法器和本文所提出的 ANT 架構乘法器在不同 KVOS
下的 SNR 表現。 
 
 
15 
可供推廣之研發成果資料表 
 可申請專利    可技術移轉                                      日期：98 年 10 月 31 日 
國科會補助計畫 
計畫名稱：演算法層級之抗雜訊乘法器架構設計 
計畫主持人：魏一勤 
計畫編號：NSC 98-2218-E-182 -003- 
學門領域：積體電路及系統設計 
技術/創作名稱 以高精準與低面積成本之固定寬度乘法器實現於演算法層級抗雜訊乘法器架構設計 
發明人/創作人 魏一勤  
技術說明 
中文： 
    本設計主要提出一個高精準與低面積之固定寬度乘法器應用
於演算法層級抗雜訊架構之抗噪電路晶片，讓 DSP 電路可操作在
更低的工作電壓且能維持非常低的位元錯誤率。在系統的 SNR 需
求為 25dB 與工作電壓為 75％的條件下，我們提出的架構仍然符合
系統需要的效能，且功率節省能達到 30%。 
英文： 
In this design, we proposed a low-error and area-efficient 
fixed-width multiplier adopted in Algorithmic Noise-Tolerant (ANT) 
architecture to let DSP circuits operating under lower supply voltage 
with lower Bit-Error-Rate (BER). The proposed architecture can 
operate under 75% critical supply voltage with 25dB 
Signal-to-Noise-Ratio (SNR). Moreover, the power consumption can 
be saved up to 30%. 
可利用之產業及可
開發之產品 
可應用於低功率需求之可攜式通訊晶片、生醫應用晶片與多媒體應
用晶片。 
技術特點 
本設計能讓 DSP 操作在更低的工作電壓下，維持系統在 SNR 的需
求，降低對系統功率上的負擔，進而提升可攜式晶片系統之使用時
間。 
推廣及運用的價值 
可取代傳統 DSP 設計，有效提升低工作電壓下的抗噪能力，使其
獲得功率上的大幅節省。 
※ 1.每項研發成果請填寫一式二份，一份隨成果報告送繳本會，一份送 貴單位研發成果
推廣單位（如技術移轉中心）。 
※ 2.本項研發成果若尚未申請專利，請勿揭露可申請專利之主要內容。 
※ 3.本表若不敷使用，請自行影印使用。 
 
