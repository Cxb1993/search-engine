2 
行政院國家科學委員會補助專題研究計畫成果報告 
適合無線網路傳播的串流 XML 文件查詢系統 
計 畫 編 號 : NSC95－2221－E－005－048 
執 行 期 間 : 95 年 8 月 1 日至 96 年 7 月 31 日 
主 持 人 : 賈坤芳 國立中興大學資訊科學與工程學系 
kfjea@cs.nchu.edu.tw 
計畫參與人員 : 周健平、林秀忠、金凱逸、丁正文、王誠暉 
國立中興大學資訊科學與工程學系 
{phd9402, s9456014, phd9411, s9456039, s9456034}@cs.nchu.edu.tw
 
一、摘要 
在無線網路環境中，諸如電子商務之各
種 XML 文件的應用，其通訊架構包含了伺
服器與用戶端；伺服器端將大量的 XML 資
料以串流的方式廣播，然後由用戶端接收串
流資料，擷取出有利用價值或感興趣的資
訊。由於無線網路受限於低頻寬、行動裝置
受限於有限電池電源，故針對無線行動環境
而設計之 XML 資料串流查詢系統（XML 
data stream query system）已成為克服這些問
題有效且重要的解決方法。XML 資料串流
查詢系統的特殊性在於 XML 文件的半結構
化特性與串流本身的傳輸型態。一般而言，
查詢串流 XML 文件之效能取決於 XML 文
件編碼、壓縮、查詢演算法與加速查詢的技
巧。使用串流的方式傳送 XML 文件時，會
使客戶端在接收的過程中，無法預測後續的
文件內容，亦無法重覆讀取串流文件，故許
多傳統加速查詢的技術－例如索引，皆不適
用於串流 XML 文件之查詢。 
本計畫主要目的在為無線網路環境之
各項應用，設計一個處理串流 XML 文件的
查詢系統。此系統相關演算法的研究包括：
精簡的編碼格式、串流 XML 文件壓縮技術
與加速查詢技巧；另外，本計畫亦提出一個
支援圖形結構的 XML 文件編碼法與對應的
結構連接查詢演算法，以符合彈性與多變的
XML 文件結構查詢。本研究部分成果已發
表於[10][17]，其餘成果正在撰寫論文，準
備投稿期刊發表。 
 
關鍵詞：無線資訊系統、XML、串流資料
查詢、壓縮、編碼 
二、計畫緣由與目的 
近年來隨著網路技術的進步以及各國
政府對資訊基礎建設（NII）的大力推動，
各種應用於網際網路的資訊系統愈顯其普
遍與重要性。諸如即時資訊查詢、電子圖
書、電子商務等常見的應用實例，如雨後春
筍般出現，幾乎影響了社會各層面乃至每個
家庭的工作型態與生活。例如網際網路搭配
無線通訊的使用量大增，行動電話、個人數
位助理（PDA）等手持行動設備已成為許多
人生活上用來接收資訊的必備工具。 
然而在無線網路與大量訊息深入每個
家庭的情境之下，產生了兩個重要且迫切需
要解決的問題。第一是網路上各種系統平台
4 
XML 文件規範成樹狀結構，未考慮到 XML
中的 IDREF 或 IDREFS 的特性。XML 節點
可以利用 IDREF 或 IDREFS 來連結到文件
中的另一個或另一些節點，產生多重繼承與
迴圈的現象，於是形成 XML 圖形結構。 
三、研究成果 
本計畫中，我們進行三項研究。第一是
針對無線環境下的串流 XML 文件查詢系
統，提出新的壓縮與編碼的機制（稱為 XSC）
以節省頻寬與查詢計算量。第二是在編碼後
的串流 XML 文件當中，加入適當長度的輔
助查詢結構資訊，稱為 KODEX，以改善查
詢串流文件的速度。第三是基於區間編碼的
原理，設計一適合處理圖形結構的 XML 文
件編碼機制，G_encoding，此編碼可以搭配
現有的結構連結查詢法，僅需要做小幅度的
修改，就可以擴充區間編碼的用途從樹狀
XML 文件到圖形 XML 文件。本計畫的部分
研究成果已發表於[10][17]，其餘成果正在
撰寫論文，準備投稿期刊發表。以下分別敘
述這些研究成果。 
3.1 支援串流查詢之 XML 文件壓縮法 
在本研究中，我們提出一個壓縮方法
（XSC）以支援 XML 文件串流查詢，可分
成三個部份來說明。 
首先在 XML 文件中，將多次重複出現
的結構路徑找出，稱為頻繁樣式路徑
（FPP），利用串流傳輸的特性，我們將搜尋
頻繁子樹樣式這個複雜的問題，簡化成搜尋
有限長度的頻繁路徑樣式。然後以 FPP 去取
代重複的路徑，達到壓縮文件的目的。文件
結構愈複雜，XSC 能夠用來壓縮的 FPP 也
愈多。 
其次，我們利用串流資料必須循序讀取
的特性，捨棄傳統區間編碼需給定每個節點
一組編碼(Start, End, Level)來表示文件結構
的方式，而僅保留 Level（階層），因此大幅
降低了編碼所需的額外儲存空間。經由持續
觀測各節點 Level 的變化，即可推算出各個
節點的子樹範圍，藉此判定文件的結構關
係。XSC 精簡的編碼方式可加速查詢，且不
會對串流文件的傳輸造成過多的負擔。 
最後是針對 XSC 壓縮文件所設計的查
詢演算法。XSC 查詢方法分為兩個階段：第
一階段根據使用者查詢式，預先判讀所需的
FPP，並於此階段先摒除不合查詢的 FPP。
第二階段是在 XSC 壓縮文件上做查詢，查
詢演算法主要的概念來自於 Holistic twig 
joins[3]，並融入我們設計的 FPP 技巧。XSC
可於壓縮文上直接進行查詢，並且支援部份
解壓縮，降低客戶端查詢的時間成本與計算
量。 
3.2 串流查詢 XML 之過濾技巧 
本研究中，我們運用 XML 有著不規則
或不完整的半結構特性，提出 KODEX 編碼
法，來提升 XML 文件串流查詢處理的效
率。KODEX 首先分析文件中所有節點類型
種類，並以相同長度的位元分別來表示。每
個節點的 KODEX 編碼代表其子樹所有出
現過的標籤種類。例如，假設 XML 文件中
共有標籤種類 A, B, C, D 四種，則若某節點
u 的 KODEX 為 0101，就代表節點 u 後代包
含了 B 與 D 標籤的節點。此法利用後代節
點類型的資訊，在查詢過程中，可根據查詢
式預先過濾掉不可能出現在查詢結果的節
點及其子樹。 
然而，由於 KODEX 方法的編碼長度與
節點標籤類型的多寡成正比，故節點的類型
若過多可能會造成問題。因此，我們使用
XML schema 來歸納出 KODEX 所需的最少
節點類型數量，以縮減編碼長度，此法稱為
KODEXp。我們針對一群 XML schema 分析
之後，發現 KODEXp 長度可達 30%至 60%
不等的縮減率。 
