 2
行政院國家科學委員會專題研究計畫成果報告 
直流無刷馬達在助力式電動腳踏車的應用 
Implementation of a brushless dc motor drive for electric power assisted bicycles 
 
計畫編號：NSC98-2221-E-236-016- 
執行期限：98年 8月 1日至 98年 7月 31日 
主持人：陳慶國、鄭輔仁 
計畫參與人員：吳壬暉、楊智凱 
執行機構及單位名稱:東南科技大學 電機工程系 
 
一、 中文摘要 
 
助力式電動腳踏車僅提供輔助的動力，須先由騎乘
者的踩踏才有相對的助力，以減輕騎乘者的踩踏力，因
此這種腳踏車皆需裝置轉矩感測元件，將轉矩感測元件
的輸出當成控制馬達轉矩輸出的大小，達到省力的效
果。本計畫旨在研製一採用直流無刷馬達驅動的助力式
電動腳踏車，擬先將線對線電壓輸入數位訊號處理器中
的類比/數位轉換器，經簡單計算後，估測出三相線對線
反電勢，利用此反電動勢的大小計算出輔助轉矩的大
小，不需額外增加轉矩感測元件，可降低製造成本。最
後由實測結果說明本文理論分析的正確性與可實現性。 
 
關鍵詞：助力式電動腳踏車、直流無刷馬達。 
Abstract 
The electric power assisted bicycle provides auxiliary 
electric power driving. When you pedal, it provides 
assistance that reduces your pedaling effort. If you stop 
pedaling, the motor stops assisting. Therefore, the electric 
power assisted bicycle needs to install the torque sensor to 
sense your pedaling strength. In order to save your pedaling 
strength, the torque of the motor must be controlled and 
proportional to the output signal of the torque sensor. The 
major purpose of this project will lie in the developments 
of a brushless dc motor drive for the electric power assisted 
bicycle. The terminal voltages capture from A/D converters 
of digital signal processor can be directly extracted to 
compute the line-to-line back electromotive force (EMF) 
information. The back electromotive force (EMF) is used 
to calculate the auxiliary electric power assistance. Without 
the torque sensor the manufacturing cost will be reduced. 
Experimental results can validate the theoretical analysis to 
show the correctness and feasibility of the project. 
 
Keyword: electric power assisted bicycle, brushless dc 
motor. 
 
二、 前言與目的 
近年來，直流無刷馬達的發展及應用可說是進入蓬
勃發展的階段。在資訊工業，硬式磁碟機、光碟機、雷
射印表機、噴墨印表機等驅動，皆是使用微型的直流無
刷馬達。而早期國內的冷氣機、洗衣機與跑步機方面則
是感應或直流有刷馬達為主，最近幾年直流無刷馬達驅
動的相關產品已相當普及，常應用於電動載具、機械手
臂、光碟機驅動、硬碟驅動等[1]-[4]。 
這幾年來國際的紛爭不斷，石油價格的逐步走揚，
也更進一步的要求人們對於能源使用習慣，使用的技術
做更進一步的思考。觀察近幾年來城市的發展，空氣污
染與石油危機等使環保意識的逐漸抬頭，具有中短距離
並符合環保期望特質的個人電動交通工具，將成為未來
城市發展中不可獲缺的要件。例如日本出現許多小型電
動交通工具產品，如日本國際牌公司(Panasonic)發展的
助力式電動腳踏車(型號：BE-EHE63A、BE-EHE63A)，
還有山葉機車及本田技研皆為直流無刷馬達所驅動。相
對地，目前國內的美利達工業(Merida)僅有以直流有刷
馬達驅動的電動腳踏車，而巨大工業(Giant)雖有直流無
刷馬達驅動的電動腳踏車，但卻是從日本國際牌公司的
系統移植而來。目前國內廠商缺乏相關助力式電動腳踏
車開發經驗，並且受限日本助力式電動腳踏車操控的嚴
格規範，雖然日本在助力式電動腳踏車的市場上，擁有
每年高達100萬輛的銷售潛力，但國內廠商卻是難以進
入日本市場，國內外有關幾百瓦到幾仟瓦的直流無刷馬
達於助力式電動腳踏車應用技術，僅有少部份的研究，
仍在萌芽階段[5]-[7]。 
本計畫目的在於研製一不需額外轉矩感測元件的
直流無刷馬達驅動助力式電動腳踏車，以降低製造成
本，相信未來是助力式電動腳踏車發展的趨勢及關鍵技
術所在。 
 
三、 直流無刷馬達介紹 
直流無刷馬達在轉子置入高性能的永久磁鐵，像釹
鐵棚(NdFeB)和鋁鎳鈷(Alnico)等稀土類磁石，其磁通密
度可達1.0特斯拉。因轉子沒有線圈，所以沒有轉子銅
損，亦無直流有刷馬達中的碳刷、換向片及滑環等裝
置，體積較小，能達到小型化及高功率密度的要求。直
 4
AT
+
AT
−
BT
−
BT
+
CT
+
CT
−
0° 60° 120° 180° 240° 300° 360°
eθ
eθ
eθ
eθ
eθ
eθ  
圖 2 功率元件開關 120度導通順序 
四、 輔助轉矩估測法 
本計畫之助力式電動腳踏車提供輔助的動力是在
不使用踏板轉矩感測元件，騎乘者踩踏腳踏車踏板後，
帶動馬達轉動產生反電動勢變化，根據反電動勢的變化
率，估算出輔助轉矩大小，減經騎乘者的腳踏力量，達
到輕鬆騎乘的舒適感。本計畫所提出的方法，係利用簡
單分壓方式擷取馬達相電壓後，將線對線電壓輸入數位
訊號處理器中的類比/數位轉換器，經減法計算後，計算
出三相線對線反電動勢與其變化率之資訊，整個流程說
明如后： 
0度到60度間，線對線反電勢eab從正的最大值往零
交越點遞減，此時a相電流流入馬達為正，b相電流為
零。因此，可重新整理(12)式的線對線反電勢eab、馬達
線電壓vab與馬達相電流ia關係，可得： 
aaSabab itd
dLirve -- =  (15) 
60度到120度間，線對線反電勢eca從為負的最大值往零
交越點遞增，此時c相電流流出馬達為負，a相電流為零。
因此，可重新整理(12)式的線對線反電勢eca、馬達線電
壓vca與馬達相電流ic關係，可得： 
ccScaca itd
dLirve -- =  (16) 
120度到180度間，線對線反電勢ebc從為負的最大值往零
交越點遞增，此時b相電流流入馬達為正，c相電流為零。
因此，可重新整理(12)式的線對線反電勢ebc、馬達線電
壓vbc與馬達相電流ib關係，可得： 
bcSbcbc itd
dLirve -- =  (17) 
之後的180度到360度三個週期與0度到180度週期，只差
線對線反電勢與馬達相電流的正負相反，線對線反電勢
公式可參照(15)-(17)式。換相原理從圖3中反電勢與電流
關係中可知，每ㄧ電機週期有六個換相區間，即每60度
電機角換相一次。若以相反電動勢為依據，會有延遲30
度電機角的問題，須利用一些特殊技巧補償角度差，相
當不容易；若以線對線反電動勢為依據，則無延遲30度
電機角的情況，非常適合利用換相點找出反電動勢最大
值。因此，只要每60度電機角判斷對應的線對線反電動
勢，即可獲得如圖4所示的各相反電動勢的合成。假設
腳踏車的負載不變，由(14)式可知馬達電磁轉矩可表示
為： 
T
kT ree Δ
Δ= ω  (18) 
式中ΔT代表取樣時間。由(2)-(4)式可知直流無刷馬達轉
速表示為： 
ekrr =ω  (19) 
式中e代表馬達反電動勢。將(19)式代入(18)式，可得馬
達輔助輸出轉矩： 
T
ekkT ree Δ
Δ=  (20) 
根據霍爾感測器產生的每60度角換相訊號，紀錄目前的
反電動勢，再與前一次紀錄的反電動勢比較，計算反電
動勢的變化率，利用之變化率調整馬達的電流增加或減
少，改變腳踏車輔助動力，系統控制方塊如圖5。 
 
五、 系統架構 
本計畫完成直流無刷馬達驅動的助力式腳踏車雛
型系統，圖6即為助力式腳踏車完整系統方塊圖，此系
統可分為鋰離子電池組、數位訊號處裡器、驅動系統、
直流無刷馬達等部分，以下針對各部分功能做說明：鋰
離子電池組內含電池管理系統，具保護功能可防止電池
組因過充電、過放電、過電流、過溫度及異常短路所造
成的電池損壞，同時可增長電池的使用壽命。軟體部分
的工作全部整合於數位訊號處理器控制晶片中完成，其
中電流及電壓信號感測轉換部分由數位訊號處理器中
的類比/數位轉換器執行，量測出線對線電壓後，經簡單
計算，估測出三相線對線反電勢，利用反電動勢的大小
計算出輔助轉矩的大小，再配合內建之波形產生單元，
與數位訊號處理器內部計時器與比較器的規劃，由程式
控制輸出方波的責任週期，再將其輸出之方波做為驅動
電路開關的觸發信號。馬達的驅動器結構與一般交流馬
達的驅動電路相同，圖7即為其驅動電路實體圖，該驅
動電路接受數位訊號處理器輸出之觸發信號驅動，輸出
電壓至馬達，控制馬達的電流。電動腳踏車的馬達受體
積和成本限制，通常製成輪鼓式形狀，安裝在車輪的輪
軸上，輪鼓由輻條與車輪連接，直接帶動車輪轉動。電
流偵測電路是採用霍爾元件進行偵測三相電流信號，其
將霍爾元件安置於變頻器與馬達之間，用來偵測激磁電
流及隔離功率級電路與控制電路，防止控制電路受到功
率級電路的影響。電流壓偵測電路由馬達的a、b、c端經
由分壓方式取得馬達相電壓，經差動電壓電路得到兩相
電壓相減值，即馬達的線對線電壓。 
軟體程式是以dsPIC數位信號處理器的組合語言撰
寫而成。程式可分為主程式及中斷服務程式，主程式中
主要進行系統功能規劃及無轉軸元件起動程序；而中斷
服務程式中主要為：換相點估算及角度/速度估算、電流
控制及閉迴路速度控制。相關設定及詳細內容將說明如
下： 
1. 主程式 
主程式進行數位信號處理器的系統功能規劃方
面，有：系統初始值規劃、記憶體空間配置、變數宣告、
輸入/出腳位定義、事件管理者模組設定、中斷遮罩設定
及中斷致能，圖8(a)為主程式的流程圖。 
2. 中斷服務程式 
本文設定反電動勢的計算週期為0.05 毫秒，因此中
斷服務程式每0.05毫秒即執行一次。中斷服務程式主要
執行：計算線對線反電動勢與換相點反電動勢變化率計
算及輔助轉矩估測及電流控制，圖8(b)為中斷服務程式
 6
相電流與ab間線電壓波形，可以看出使用120度方波電流
驅動方式。圖15為相對於圖4區間之線對線反電勢。圖
16為時速10公里速度暫態響應，圖17為時速5公里時速
度暫態響應。 
 
 
圖9 電動腳踏車 
 
 
圖10 直流無刷馬達 
 
圖11 各相反電動勢 
 
圖12 線對線反電動勢 
 
圖13 ab間線電壓波形 
 
圖14 a相電流 
 
 
圖15 相對於圖4區間之線對線反電勢 
 
 
圖16 時速10公里速度暫態響應 
 
圖17 時速5公里速度暫態響應 
無衍生研發成果推廣資料
其他成果 
(無法以量化表達之成
果如辦理學術活動、獲
得獎項、重要國際合
作、研究成果國際影響
力及其他協助產業技
術發展之具體效益事
項等，請以文字敘述填
列。) 
無 
 成果項目 量化 名稱或內容性質簡述 
測驗工具(含質性與量性) 0  
課程/模組 0  
電腦及網路系統或工具 0  
教材 0  
舉辦之活動/競賽 0  
研討會/工作坊 0  
電子報、網站 0  
科 
教 
處 
計 
畫 
加 
填 
項 
目 計畫成果推廣之參與（閱聽）人數 0  
