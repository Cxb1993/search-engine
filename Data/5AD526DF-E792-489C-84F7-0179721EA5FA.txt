 2
研究摘要(500 字以內)： 
H.264/AVC 是基於影像區塊為單位的最新視訊壓縮標準，它不只可以在不同的位元率
下，提供優異且高壓縮效率的視訊通訊，而且在易於發生傳輸錯誤的網路環境中，藉由一
些錯誤恢復機制，可以增加編碼後資料的強健性。彈性巨集區塊順序(Flexible Macroblock 
Ordering, FMO)就是其中一項於 H.264/AVC 所提出的錯誤恢復工具。但是，彈性巨集區塊
順序(FMO)也可以有不同的巨方塊(macroblock)分類機制。在本篇論文中，我們提出了二種
新的彈性巨集區塊順序(FMO)的演算法，將每張畫面的巨方塊(macroblock)動態地分為四個
切片組(slice groups)，再藉由 Reed-Solomon 編碼去保護人類心理視覺比較敏感的切片
組。不同敏感度或重要性的切片組，將進行不等效的錯誤保護機制。本論文提出了二種人
類心理視覺敏感度的評估方法，可以設計出更符合人類心理視覺感受的理想巨方塊分類機
制。第一種評估方法為依據巨方塊的內容複雜度，另外一種評估方法則是利用一次的二維
小波編碼將畫面分為四個原畫面四分之一大小的影像，再依序進行視訊壓縮編碼，編碼之
後的資料，以不等效的錯誤保護機制進行編碼。然後在接收端依相反的流程進行解碼，可
加強解碼影像的抗錯性與改善解碼影像的品質。 
 4
技術研發成果說明： 
III. 實現與分析 
1. 頻域彈性巨集區塊順序(Frequency Domain Flexible Macroblock Ordering, FFMO) 
  在此提出頻域彈性巨集區塊順序(Frequency Domain Flexible Macroblock Ordering)
的方法是希望藉由瞭解離散餘弦轉換(DCT)係數和人類心理視覺感受的關係，並依照此關係
特性，提出嶄新的彈性巨集區塊順序(FMO)的巨方塊次序映射表(MBAmap)，以改善編解碼後
的影像品質，共分為兩個部分進行： 
z 將巨方塊(macroblock)分配到切片組(slice groups)的理想分類機制 
z 對於每一個切片組(slice groups)，進行不等的錯誤保護策略 
  由於是採用兩個階段的編碼方式，首先先求得巨方塊次序分配表(Macroblock 
Allocation map)，依照區塊變異性(block variance)的大小，將影像分為四個部分；由於
區塊變異性較大者，會是影像較為複雜的部分，我們將計算每張影像，以巨方塊(macroblock)
為單位，先進行離散餘弦轉換(DCT)，可得到每一個巨方塊(macroblock)的 AC 係數值，根
據 Parseval 的能量理論，我們可以藉由計算 AC 係數部分的平方和，可以推算出每一個巨
方塊(macroblock)內，像素之間的變異情形，可以用下列式子表示： 
∑−
=
∑−
=
=
≠≠
1
0
1
0
2
)0,0(
2
N
u
M
v uv
X
vu
xσ
 
其中 uvX ，是指巨方塊(macroblock)內其中一個 DCT 係數，但不包含 DC 係數，在此我們設
定 16,16 == MN ；在得到各個巨方塊(macroblock)的變異值之後，依照由最小到最大平分
為四個部分，透過 FMO 的方式，依照巨方塊的變異值，分為四個切片組(slice groups)，
如圖五，圖六。由於巨方塊(macroblock)變異值大者，是影像中較為複雜的部分，可能包
含物件的邊緣，如果此部分因為網路環境欠佳，例如：有線網路可能發生的網路塞車
(congestion)，或是無線網路的傳輸環境干擾，而造成封包遺失，則當人眼在觀看影像的
時候，會感受到重要的或較敏感的影像區域，其影像品質不佳，由於區塊內像素變異性大，
所以進行錯誤恢復工具，也較難恢復原來的區塊特性，使得觀賞者覺得影像的品質呈現略
微模糊的感覺，因此對於區塊內變異性大者，需要避免其封包的遺失，在本章的第三小節
會討論到利用加強的錯誤保護策略，使得包含重要切片組的封包，發生錯誤的時候，仍有
恢復的能力，而另外三個切片組就不太需要特別的錯誤保護策略或根本不需要錯誤保護，
因為對於觀賞者而言，區塊內變異值較小的區塊通常是人類心理視覺感受不敏感之處，當
其發生失真時，人類不會有明顯的影像失真感受。 
 
 
圖四：原始的畫面“Akiyo＂ 
 
 6
 
圖八：編碼器架構 
 
 
圖九：解碼器架構 
 
3. 錯誤保護機制 
  每一個切片(slice)會以一個傳送單位進行傳送，而此單位是封包，因此傳送一個封
包，代表傳送一個切片的資料。 
  當編碼器將畫面進行編碼後，再依照各個切片組(slice groups)的重要性，再賦予
Reed-Solomon(RS)編碼，更進一步保護影像中重要的部分[2]。在每個切片組的封包產生
後，經由 RS 編碼保護，產生一串的 RS 封包頭，目的是為了當切片組內的封包，其內部資
料遺失時，在解碼的時候能恢復原資料值。在此我們對於比較重要的切片組(slice group)
會加強 RS 編碼保護，而其他較不重要的切片組，其切片組的封包內，就採用較弱的 RS 編
碼保護，如此一來希望確保重要的切片組在發生封包遺失或錯誤的時候，能夠正確地將封
包內的資料修正。 
 
 8
可利用之產業及可開發之產品： 
視訊監控、視訊會議、遠距教學與視訊電話等應用。 
