 2
行政院國家科學委員會補助專題研究計畫   
成果報告 
 
穩定視訊品質之 Motion JPEG2000 的緩衝控制研究 
Constant-Quality Buffer Control for Motion JPEG2000 
 
ABSTRACT 
Motion JPEG2000 (MJ2) has recently received increas-
ing attention for its high efficiency in intra-frame cod-
ing and salient features in streaming compressed data 
over lossy networks and time-varying channels.  As an 
extension of the JPEG2000 image coding standard, 
MJP2 is virtually a stream format for organizing com-
pressed frames generated by the baseline JPEG2000 
coding engine.  As in the case of image coder, MJP2 
has also some unsolved problems in the implementation 
of coder even though the generation of code streams is 
clearly specified.  Among these problems, the buffer 
control for reducing quality fluctuation across frames 
under changing content and unchanging channel band-
width is most significant.  In this project, a novel 
buffer control algorithm for MJP2 coding, which con-
sists of two stages, is proposed to efficiently reduce 
quality fluctuation and memory usage.  In the first 
stage, an average of distortion is computed from the 
frames that have already transmitted, the frame in 
transmission and the frames in transmission buffer 
which video frames to get consistent distortion.  In the 
second stage, the overall bit number allocated in the 
first stage should not exceed the available space in the 
transmission buffer.  In the algorithm, the lowest 
number of video frame buffers required for maintaining 
video quality at a given bit rate can be achieved.  The 
goal is to allocate the capacity of channel between se-
quences to achieve constant quality across all sequence.  
Experimental results show that the proposed buffer con-
trol algorithm has higher performance in constant qual-
ity transmission than Motion JPEG2000 without buffer 
control. 
 
1. INTRODUCTION 
 
JPEG2000 is a new international standard for still 
image compression.  It is designed to have high effi-
ciency in lossless and lossy compression, to provide 
high scalability in compressed bitstream, and to give 
image quality superior to existing standards [1-3].  
Because of its high efficiency in coding still images and 
nice features in streaming bistreams over channels of 
time-varying bandwidth and lossy networks, it is rea-
sonably anticipated to have outstanding performance in 
compressing moving pictures and is extended to video 
coding as Motion JPEG2000 (MJ2) [4-6].  Motion 
JPEG2000 is a new intraframe-based video compres-
sion standard, which preserves best image quality after 
compression for use in high quality video systems like 
HDVT-cameras, medical imaging cameras or Digital 
Cinema cameras [11].  The core technology of Motion 
JPEG2000 is based on the baseline JPEG2000 part-1 
and each frame is Intra coded with no motion predic-
tion/compensation. The main features of Motion 
JPEG2000 are high scalability, quick random access to 
the frames, highly flexible format, support to com-
pressed audio and lower subjective image degradation 
if compared with block based code and error resilience 
capability.  
For the application of video transmission, maintain-
ing constant video quality under varying channel band-
width and changing content is always a problem to 
solve. Various attempts have been made to achieve con-
stant quality video by making use of the scalability of 
the compressed bitstream [12-13].  A precise rate con-
trol supported by the video coding engine can help to 
simplify the problem.  Motion JPEG2000 can offer 
finely scalable bitstream by an accurate rate control 
method inherited from JPEG2000.  With the method 
of post-coding rate distortion optimization (PCRD), the 
quality of each video frame can be maximized at a 
given bit rate.  However, Motion JPEG2000 is not a 
motion-compensated coder.  At a given bit rate, con-
tent of video may change rapidly, or rate-distortion 
curves of consecutive video frames may vary signifi-
cantly to result in the fluctuation in video quality.  
Several researches have been done to solve this prob-
lem for achieving constant quality video under buffer 
and rate constraints [14-17].  In the leaky bucket algo-
rithms proposed in [14], a number of compressed 
frames are accommodated in buffer of limited size for 
the transmission at a given rate.  The idea behind the 
algorithm of single buffer rate controller (SBRC) is that 
 4
  Motion JPEG2000 is an emerging video coding stan-
dard and has been standardized as JPEG2000 Part 3. In 
Motion JPEG2000, each frame is coded independently 
by using JPEG2000 image coding.  The main features 
of Motion JPEG2000 are high scalability, quick random 
access to the frames, highly flexible format, support to 
compressed audio and lower subjective image degrada-
tion if compared with block based code and error resil-
ience capability.  Thus, Motion JPEG2000 does not 
include motion prediction/compensation.  Motion 
JPEG2000 has advantages as a coding standard for 
video compression in many applications such as digital 
cinema, digital camcorder and still camera, video ar-
chiving systems, and remote surveillance system, etc. 
Digital Cinema Initiatives (DCI), a consortium of seven 
major Hollywood movie studios has formally adopted 
Motion JPEG2000 as the standard format for digital 
delivery of all motion pictures to theater.  
 
 
3. THE TWO-STAGE BUFFER CONTROL FOR 
MOTION JPEG2000 
 
The paper presents, a buffer control algorithm that 
can minimize the video quality fluctuation under the 
changing contents of video source and unchanging 
channel bandwidth is proposed. 
 
 
To minimize the memory usage, a moderate number 
of single-frame buffers with small size are used to trade 
for the transmission buffer with large size.  The initial 
idea of the proposed algorithm is to allocate the capac-
ity of channel between sequences to achieve constant 
quality across all sequence.  The idea of the algorithm 
relies on the distortion of each frame at transmission 
time to calculate the moving average distortion.  In 
other words, minimizing average distortion should re-
sult in constant quality.  The basic block diagram of 
the proposed methods is show in Fig. 2.    
  The target of the proposed algorithm is to exploit 
average distortion and buffer control to achieve con-
stant quality.  To increase the performance of the pro-
posed algorithm, each frame is compressed independ-
ently by using the efficient rate control algorithm pro-
posed in [18].  In the first stage, an average of distor-
tion is computed from the frames that have already 
transmitted, the frame in transmission and the frames in 
transmission buffer which video frames to get consis-
tent distortion.  An appropriate number of coding 
passes of each frame will be added to or extracted from 
those that are up to the target bit rate such that the re-
sulting distortion can be close to the average distortion.  
In the second stage, the overall bit number allocated in 
the first stage should not exceed the available space in 
the transmission buffer. Before putting the coding 
passes of all video frames including the newly com-
pressed one in the transmission buffer, the bit numbers 
of all chosen coding passes are summed to check if the 
size of the buffer excluding the part occupied by the 
 
Fig. 3. The functional block diagram of proposed algorithm encoder 
 6
32 and N = 64. Vertical axis shows the value of PSNR 
calculated for each frame.  Horizontal axis shows the 
number of frames in video sequence.  From the ex-
perimental out comes shown on Figure 4.1 to Figure 4.7, 
it is obvious to reduce quality fluctuation in video se-
quences.  Fig. 4 to Fig. 8 show the quality fluctuation 
across frames under changing content of 
“Mixe_newsandfootball”, “Mixe_akiyoandstefan” and 
“Carphone” is reduced by using the proposed Motion 
JPEG2000 algorithm, respectively.  The dark blue line 
is the result of Motion JPEG2000 (MJ2).  The pink 
line and yellow line are results of N=8 and N=16 re-
spectively.  The orange line and dark purple line are 
results of N = 32 and N=64 respectively. 
Fig. 4 , Fig. 5 and Fig. 6 show that comparison of 
two methods in visual quality (in PSNR) at 1.0 
bits/pixel/frame.  For example, within video sequence 
“Mixer_akiyoandstefan”, Figure 5, at #342 frame the 
PSNR of Motion JPEG2000 without buffer control is 
35.096 dB, and the best PSNR is 37.8623 when frame 
buffers N = 64.  Fig 7 and Fig. 8 show that comparison 
of two methods in visual quality (in PSNR) at 0.5 
bits/pixel/frame.   
 
 
 
Fig 7. The comparison of PSNR in “Mixe_akiyoand-
stefan” sequence by difference methods at 0.5 bpp. 
 
 
 
Fig 8. The comparison of PSNR in “News” sequence by 
difference methods at 0.5 bpp. 
 
Table 1 The variance with PSNR as the performance of 
the buffer control 
 
 
 
Table 1 show the variance with PSNR of restructured 
video sequence by the Motion JPEG2000 without 
buffer control and the proposed algorithm with different 
numbers of video frame buffers. 
Fig 9 shows the video quality comparisons among 
the test of original video sequence, Motion JPEG2000 
without buffer control ad Motion JPEG2000 encoding 
with different numbers of video frame buffers.  For 
example, within video sequence “Mixer_akiyoand-
stefan”, at #307 frame the PSNR of Motion JPEG2000 
without buffer control is 36.756 dB, and the best PSNR 
is 38.8623 when frame buffers N = 64. 
 
5. CONCLUSIONS 
 
In this paper, we have presented an algorithm which 
exploits a buffer control method to improve the per-
formance of Motion JPEG2000.  An efficient variable 
bit rate allocation algorithm is proposed for Motion 
JPEG2000.  In this paper, a two-stage buffer control 
algorithm that can minimize the fluctuation in video 
quality under the changing contents of video source and 
constant channel bandwidth is proposed.  A moderate 
 
Fig. 4 The comparison of PSNR in “Mixe_ newsand-
football” sequence by difference methods at 1.0 bpp.
 
 
Fig. 5  The comparison of PSNR in “Mixe_ aki-
yoandstefan ” sequence by difference methods at 1.0
bpp. 
 
 
Fig. 6 The comparison of PSNR in “Carphone” se-
quence by difference methods at 1.0 bpp. 
 8
memory usage can be minimized and furthermore can 
efficiently reduce quality fluctuation. 
 
REFERENCES 
 
[1] ISO/IEC, FDIS15444-1, JTC1/SC29/WG1 
N11855, “JPEG2000 Part I: Final Draft Interna-
tional Standard,” Aug. 2000. 
[2] D. Taubman, “High performance scalable image 
compression with EBCOT,” IEEE Trans. Image 
Processing, vol. 9, no. 7, pp. 1158–1170, Jul. 
2000. 
[3] M. W. Marcellin, M. J. Gormish, A. Bilgin, and 
M. P. Boliek, “An overview of JPEG-2000,” in 
Data Compression Conference, Snowbird, UT, 
Mar. 2000, pp.523–541. 
[4] Motion JPEG2000 (MJP2) Requirements and 
Profiles ver. 7.0, ISO/IECJTC 1/SC 29/ WG1, Std. 
N2251, 2001. 
[5] Motion JPEG2000 Verification Model ver. 4.1 
(Technical Description), ISO/IEC JTC 1/SC 29/ 
WG1, Std. N2144, 2001. 
[6] Motion JPEG-2000 Final Draft International 
Standard 1.1 (Revised Version), ISO/IEC JTC 
1/SC 29/ WG1, Std. N2705, 2002. 
[7] D. Santa-Cruz, T. Ebrahimi, J. A. M. Larsson, and 
C. Christopoulos, “JPEG 2000 still image coding 
versus other standards,” in Proceedings of the 
SPIE’s 45th annual meeting, Application of Digi-
tal Image Processing XXIII, 4115, pp. 446-454, 
(San Diego, California), July,2000. 
[8] Moccagata, S. Sodagar, J. Liang, and H. Chen, 
“Error resilient coding in JPEG-2000 and MPEG-
4,” IEEE Journal on Selected Areas in Communi-
cations 18(6), pp. 899-914, 2000. 
[9] T. Fukuhara, K. Katoh, S. Kimura, K. Hosaka, 
and A. Leung, “Motion-JPEG 2000 standardiza-
tion and target market,” in IEEE International 
Conference on Image Processing (Vancouver, 
B.C.), Sep. 2000., 2, pp. 13-24, (Vancouver, Can-
ada), Sep 2000. 
[10] Wei Yu, R. Qiu and J. Fritts, “Advantages of mo-
tion-JPEG2000 in video processing,” Proc. SPIE 
Vol. 4671, p. 635-645, Visual Communications 
and Image Processing 2002, C.-C. Jay Kuo; Ed. 
[11] MW Marcellin, A Bilgin, “JPEG2000 for digital 
cinema,” SMPTE and VidTrans Joint Conference, 
2005, vol. 114, no. 5-6, pp. 202-209, Atlanta, GA . 
[12] H. Radha, Y. Chen, and K. P. Cohen, “Scalable 
internet video using MPEG-4,” Signal Process.: 
Image Commun., vol. 15, pp. 95–126, Sept. 1999. 
[13] M.van-der-Schaar and H. Radha, “A hybrid tem-
poral-SNR fine-granular scalability for internet 
video,” IEEE Trans. Circuits Syst. Video Technol., 
vol. 3, pp. 318–331, 2001. 
[14] Joseph C. Dagher, Ali Bilgin, and Michael 
W.Marcellin, "Resource-Constrained Rate Con-
trol for Motion JPEG2000", vol 12, pp1522-1529, 
Dec 2003 
[15] Chan, W.  and Becker, A., “Efficient rate control 
for motion JPEG2000,” Data Compression Con-
ference, Proceedings. DCC 2004, pp. 629-, March 
2004. 
[16] J. Hou, X. Fang and R. Hou, “Rate control for 
Motion JPEG2000 using Correlation Prediction,” 
Proc. ICASSP 2005, Vol. II, pp. 265-268. 
[17] Jieu Liu and Deyun Zhang, “A novel bit rate allo-
cation algorithm for motion JPEG2000", Proc. of 
6th World Congress on Intelligent Control and 
Automation, pp. 9907-9910, 2006, Darlian, China 
[18] Chun-Hsien Chou, Kuo-Cheng Liu and Ping-
Hsuan Chung, "Perceptually optimized rate con-
trol for JPEG2000 coding of color images," in 
Proc. Conf. on Computer Vision, Graphics, and 
Image Processing, 2006, pp. 657-664. 
 
 
計畫成果自評 
1. 研究內容與原計畫相符程度 
我們所執行的研究內容與原計畫非常相符。
Motion JPEG2000(MJP2)逐漸受到矚目，是因為
Motion JPEG2000 在 intra-frame 編碼上具有很
高的效率，且在具有封包遺失的網路和時變通
道上傳輸串流壓縮資料上有極高的效果。本結
案報告針對原計畫規劃內容對穩定視訊品質之
Motion JPEG2000 的緩衝控制做了深入的探討
研究。 
 
2. 預期達成目標情況 
在本專題研究計畫中，我們在有限的頻寬下分
配給所有的畫面而使得每一個畫面可以得到一
個近似相同的畫面品質。模擬結果顯示出，我
們所提出演算法跟原始 Motion JPEG2000 的方
法，比較下在穩定視訊品質上可以得到較好的
效率。完成了預期的所有目標。 
 
3. 研究成果的學術或應用價值 
MJP2 實際上是將 baseline JPEG2000 所壓縮的
資料編織成一串流格式。如同影像編碼器，雖
然編碼串流的格式已被明確定義，但是實現
MJP2 的編碼器上還有一些須要解決的問題。由
於在這些問題之中，如何在變動的視訊內容和
通道頻寬不變動下減少視訊品質的變動是較重
要的，控制位元率相關的運算複雜度，以及在
出席國際學術會議心得報告 
                                                             
計畫編號 96-2221-E-036-005- 
計畫名稱 穩定視訊品質之Motion JPEG2000的緩衝控制研究 
出國人員姓名 
服務機關及職稱 
周俊賢 
大同大學 電機工程研究所 
會議時間地點 
中國 海南島 三亞 
97  年  5  月  27 日起至民國  97   年  5  月  30 日 
會議名稱 2008年影像及訊號處理研討會(2008 International Congress on Image and Signal Processing; CISP2008) 
發表論文題目 Perceptually Optimized Rate Control for JPEG2000 Coding of Color Images 
 
一、參加會議經過 
5月26日由台灣桃園機場出發，於當地下午時間抵達中國海南島三亞市。當日由下榻旅
館熟悉至開會會場 ─ 三亞國際會議中心(International Asia Pacific Convention Center)
之交通狀況。5月27日早上到2008年影像及訊號處理研討會(IEEE 2008 International 
Congress on Image and Signal Processing; CISP2008)會議會場報到，三亞國際會議中心當
時有來自各國的專家學者在櫃台進行報到手續。CISP2008共有四場Keynote Speeches、
兩場Invited Sessions、十場Oral Sessions及十場Post Sessions，我們的論文是屬於此次會
議第2個Post Session中的一個。與會其間，除發表我們的論文，更與各國學者討論最新
訊號處理技術的發展，瞭解各國大學校院在影像處理技術上研究現況，也在會場聆聽
其他論文的發表。5月30日晚間20:00會議結束，隔日5月31日搭機返台。 
 
二、與會心得 
 
CISP 2008會議包含下列主題Coding and transmission, Analog and digital signal 
processing, Biomedical imaging, image processing, and visualization, Applications of 
artificial intelligence in bioinformatics and medical informatics, Biomedical instrumentation, 
devices, sensors, artificial organs, and nano technologies, Biomedical signal processing and 
