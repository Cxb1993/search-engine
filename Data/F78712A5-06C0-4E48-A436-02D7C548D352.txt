4 
[6]-[9]。然而，這些機制會產生一些「服務死角」（coverage failure regions），也就是部分用
戶會因為引導通道功率過低而完全無法連接上基地台。設計良好的細胞涵蓋範圍控制可以
降低這些死角的發生。 
另外，針對針對平行傳輸，[11-13]已經提出數種方法。他們主要是將每筆框架同步，
以便讓彼此不會互相干擾。然而，這些方法都存在一些潛在的問題。此外，[14-17]則研究
多頻道系統下設計控制頻道的方法。目前主要有兩大類的方法：預設式 (dedicated) 和嵌入
式 (embedded) 方式。預設式指的是資料封包和控制封包(RTS,CTS)是分開在不同頻道上做
傳送接著，嵌入式指的是資料封包和控制封包(RTS,CTS)是在相同的頻帶上做傳送。對於 
[18-23]針對感知網路中次要連線的建立與品質維持進行探討。這個過程可以被系分成四個
步驟：observe，plan，decide，act四個主要的階段。在 observe階段中，其目的在於紀錄主
要使用者頻譜使用的時間並蒐集通道中現有傳輸流量，目的主要在探討如何透過新的機制
去感測四周環境的傳輸避免增加多餘的碰撞；在 plan階段中，則必須知道次要使用者的傳
輸是否會影響到主要使用者，並對不同優先順序的封包傳輸提供不同程度的品質保證，傳
統的方式主要藉由不同長度的競爭窗口或干擾訊號來區分不同優先順序的封包，然而這類
的方式卻會造成不同優先順序封包間的公平性問題；在 decide 階段中，需要對即時服務的
封包作適當的排程以滿足其品質需求，利用中央控制的投票機制或一些較為複雜連線程序
來保留即時應用的封包傳輸；最後在 act階段，感知通訊協定必須協調節點間彼此的傳輸時
間並且在主要使用者使用之外的殘餘時間來執行封包傳輸，然而傳統的方式需要傳送信標
訊號或利用額外的設備(如 GPS 等)來達到次要使用者間的同步。最後，在[24-26]中，共存
機制的問題被進行研究。這些論文主要探討結合基礎網路及隨意網路的整合型網路的共存
機制。在目前的文獻中，關於結合基礎網路及隨意網路的整合型網路的研究已經在許多不
同的環境和假設下討論，在[24-25]中藉由兩者網路的結合來增加一個基礎網路涵蓋的範
圍，而在[26]之中則是藉由中央控制者動態切換使用者連線的方式來增加系統傳輸速率，然
而文獻中所提之研究，隨意網路與基礎網路的涵蓋範圍並無完全覆蓋，且需要藉由中央控
制者來控制次要使用者。對於感知無線電使用者而言，其傳輸範圍與基於基礎網路涵蓋的
範圍之內，且因為基礎網路可能無法得知感知無線電的存在，使得次要使用者必須以分散
式的形式來建立連線。 
 
研究方法 
在此部分我們將每個子計畫分開討論： 
z 感知無線網路之智慧型進接技術 
為了瞭解Multi-hop Relay系統如何運作，首先需定義系統架構與訊框結構。在過去一
年參與 IEEE 802.16j標準制定小組的過程中，我們參與並設計了支援Multi-hop Relay技術
且可向下與 IEEE 802.16e相容之訊框結構，如圖一所示： 
6 
 
圖二 系統模擬環境 
z 感知無線網路機會式無線資源管理技術之研究 
在這研究子題中，我們將採用一全新的策略，解決感知網路中細胞規劃之動態引導通
道功率配置問題。因為大型網路的資源最佳化問題是無法以簡單分析架構來模型化、尋求
解答的，所以我們將採用馬可夫決策鍊（MDP）來定義此問題，並採用智慧型技術（intelligent 
technology）來克服系統描述狀態過大之困難（curse of dimensionality）[7], [12]。 
在下鏈路感知網路中，涵蓋範圍與容量之間的關係是直接類比於引導通道和資料通道
之間功率比率關係，所以在此一研究子題中，我們將提出兩種智慧型自我組織式細胞規劃
機制，第一種稱為「增強學習型自我組織式細胞規劃機制」（reinforcement- learning-based 
self-organization scheme for cell configuration），架構如圖三所示。此一自我組織式機制會依
據用戶移動性和系統承載量來動態調整引導通道功率。因為感知網路支援數種服務類別，
動態引導通道功率配置問題的系統狀態（state space）和決策集（action set）將會十分龐大，
所以此一細胞規劃之大型馬可夫決策鍊問題無法以傳統數學方式解決，於此，我們採用一 
8 
合 Q-learning規則的方式求得上述之最佳化動態決策結果。 
z 感知無線網路架構設計及資訊傳遞技術之研究 
我們可以將提出的研究方法分成下面四部分來進行探討： 
(1) 同時傳輸演算法 
為了要達到多條通訊可以同時傳輸的目的，我們提出 Concurrent Transmission MAC 
(CT-MAC) Protocol 。CT-MAC 包含三部分：首先，每個節點節由所謂的 CT-neighbors 
discover procedure 來找尋哪些鄰居也有支援 CT-MAC 的功能。接下來，每個節點可以藉
由一些觀察來決定第二條傳輸是否可以被建立。 
(2) 動態頻帶存取的設計方法比較 
在本研究中，我們探討在感知無線電的環境下，該使用預設式(dedicated)或嵌入式
(embedded)的方式來設計媒體存取控制(medium access control)才能使的取得使用頻道的時
間為最短。在本文中，預設式(dedicated)的方式指的是資料封包和控制封包(RTS,CTS)是分
開在不同頻道上做傳送，而嵌入式(embedded)的方式指的是資料封包和控制封包(RTS,CTS)
是在相同的頻帶上做傳送。此外，我們也詳細說明了使用此兩種不同使用方式所會遭遇到
的問題：控制頻道的擁塞(control channel saturation)及頻帶交錯(channel mismatch)。 
(3) QoS 研究 
本部份的研究著重於感知無線電中無線通訊協定之設計，針對四項感知無線電通訊協定
主要功能：observe，plan，decide，act 提出適當的演算法及機制以滿足即時服務的品質要
求。 
(4) 多重連線共存的方法 
在本研究中，我們假設MS3與AP形成主要使用者之連線，而MS1與MS2則組成次要使
用者的連線，同時MS2和MS3的位置分別為(r2,　2)以及(r3,　3)，MS1則是均勻分布在半徑
為R的範圍之內。為了讓兩個連線同時存在，我們可以定義出兩者連線同時存在的機率PCT 
， 
由於主要使用者連線有方向之分，將可分為上傳及下傳兩種情況來討論。 
a. 上傳：在此種狀況下，連線同時存在的機率PCT可以推導為 
 
b. 下傳：根據上述類似的步驟，PCT可表示為 
 
結果與討論 
在此部分我們將每個子計畫分開討論： 
z 感知無線網路之智慧型進接技術 
在圖五所示為採用 Multi-hop Relay 與否對下鏈系統容量之影響，其中在採用 Multi-hop 
Relay 時亦有兩種不同的無線資源管理策略：(1)同一細胞中的中繼站不能重複使用相同的
無線資源及(2)所有的中繼站皆可重複使用相同的無線資源。在 IEEE 802.16 系統中，使用
相同的無線資源代表可同時透過相同的子通道(sub-channel)傳輸資料。其中 K值代表不同頻
率重複使用係數(frequency reuse factor)，較高的 K值可使干擾源更遠，但也須耗費更多的
10 
 
圖六：下鏈接收訊號品質之統計分佈 
 
z 感知無線網路機會式無線資源管理技術之研究 
我們首先建立 CR 接取系統基本模組及網路環境模組與參數，在自我組織式細胞規劃
機制子題中，將我們所提出的方法與其他傳統方法做比較: 
 
圖七：新需求拒絕率 
圖七(a)和(b)分別顯示即時和非即時服務的新需求拒絕率。我們可以發現 DCC 機制在
12 
 
圖九：系統總傳送量 
圖九顯示系統的總傳送量。在 fixed pilot的例子中，FIX-LPPA比 FIX-SSDT好。當 traffic 
load ratio越大，因為沒有效率的換手能量配置策略導致 FIX-SSDT的系統總傳送量明顯的
降低。DCC-LPPA機制更進一步比 FIX-LPPA好。與 fixed pilot機制比較，不論是 DCC-SSDT
或是 DCC-LPPA，當 traffic load ratio變大 DCC機制可以系統平均傳輸量變大。這是因為
DCC機制可以透過系統狀態調整 pilot power，進而動態平衡細胞間的訊務量。 
z 感知無線網路架構設計及資訊傳遞技術之研究 
 
 
圖十        圖十一 
14 
Orlando, FL, pp. 927-932, Sept. 2003.  
[6] R. T. Love, K. A. Beshir, D. Schaeffer, and R. S. Nikides, “A pilot optimization technique 
for CDMA cellular systems,” Proc. IEEE VTC’99 Fall, Amsterdam, Netherlands, pp. 
2238-2242, Sept. 1999. 
[7] K. Valkealahti, A. Hoglund, J. Parkkinen, and A. Flanagan, “WCDMA common pilot power 
control with cost function minimization,” Proc. IEEE VTC’02 Fall, Vancouver, BC, pp. 
2244-2247, Sept. 2002. 
[8] K. Valkealahti, A. Hoglund, J. Parkkinen, and A. Flanagan, “WCDMA common pilot power 
control for load and converge balancing,” Proc. IEEE PIMRC’02, Lisbon, Portugal, pp. 
1412-1416, Sept. 2002. 
[9] D. Kim, Y. Chang, and J. W. Lee, “Pilot power control and service coverage support in 
CDMA mobile systems,” Proc. IEEE VTC’99 Spring, vol. 2, pp. 1464-1468, May 1999. 
[10] D. Smith, “Designing for coverage availability with different data rates - an improved 
methodology,” Proc. IEEE VTC’02 Fall, pp. 1821-1824, Sept. 2002. 
[11] A. Acharya, A. Misra and S. Bansal, "Design and Analysis of a Cooperative Medium 
Access Scheme for Wireless Mesh Networks," First International Conference on Broadband 
Networks, vol. 00, pp. 621- 631, 2004. 
[12] D. Shukla, L. Chandran-Wadia, and S. Iyer, "Mitigating the Exposed Node Problem in 
IEEE 802.11 Ad Hoc Networks," The 12th International Conference on Computer 
Communications and Networks, pp. 157-162, October 2003. 
[13] N. Santhapuri, J. Wang, Z. Zhong, and S. Nelakuditi, "Piggybacked-Ack-aided Concurrent 
Transmissions in Wireless Networks," In Poster Session of ICNP'05, November 2005. 
[14] A. Nasipuri, J. Zhuang, and S. R. Das, “Multi-channel CSMA MAC protocol for multi hop 
wireless networks," IEEE Wireless Networks, Communications and Mobile Computing, 
Sept. 1999. 
[15] J. So, and N. H. Vaidya, “A multi-channel MAC protocol for ad hoc wireless networks ," In 
Proceedings of MobiHoc, pp.222-233, May 2004. 
[16] P. Tan, and M. C. Chen, “AMCM: adaptive multi-channel MAC protocol for IEEE 802.11 
wireless networks," Third International Conference on Broadband Communications, 
Networks, and Systems, Oct 2006. 
[17] P. Bahl, R. Chandra, and J. Dunagan, “SSCH: slotted seeded channel hopping for capacity 
improvement in IEEE 802.11 ad hoc wireless networks ," The ACM Annual International 
Conference on Mobile Computing and Networking ,pp. 216-230, Sept 2004. 
[18] J. J. Garcia-Luna-Aceves and A. Tzamaloukas, “Receiver-initiated collision avoidance in 
wireless networks,” ACM Wireless Networks, vol. 8, no. 2-3, pp. 249–263, Mar.-May 2002. 
[19] F. Cal`ı, M. Conti, and E. Gregori, “IEEE 802.11 protocol: design and performance 
evaluation of an adaptive backoff mechanism,” IEEE Journal on Selected Areas in 
Communication, vol. 18, no. 19, pp. 1774–1786, Sep. 2000. 
16 IEEE JOURNAL ON SELECTED AREAS IN COMMUNICATIONS, VOL. 24, NO. 1, JANUARY 2006
A Novel Dynamic Cell Configuration Scheme in
Next-Generation Situation-Aware CDMA Networks
Ching-Yu Liao, Member, IEEE, Fei Yu, Member, IEEE, Victor C. M. Leung, Fellow, IEEE, and
Chung-Ju Chang, Senior Member, IEEE
Abstract—To balance the time-varying traffic load between cells,
caused by user mobility and diverse applications, it is crucial for
next-generation code-division multiple-access (CDMA) cellular
networks to configure cell coverage and capacity dynamically. In
this paper, we show that pilot power allocation is highly coupled
to other facets of radio resource management. We propose a
novel dynamic cell configuration scheme for multimedia CDMA
cellular networks, based on reinforcement-learning, which takes
into account pilot, soft handoff, and maximum link power alloca-
tions, as well as call admission control mechanisms. Simulation
results demonstrate the effectiveness of the proposed scheme in
situation-aware CDMA networks.
Index Terms—Code-division multiaccess, land mobile radio cel-
lular systems, Markov processes.
I. INTRODUCTION
THE GROWING popularity of multimedia Internet appli-cations is a strong driving force for future cellular mo-
bile systems. Due to user mobility and wide range of applica-
tions, the traffic pattern of each cell can vary dynamically. Thus,
the current practice of engineering cell coverage and capacity
based on predefined traffic patterns before a code-division mul-
tiple-access (CDMA) cellular network is deployed may lead to
poor utilization of radio resources. Due to asymmetric traffic
and the interdependence of traffic capacity and coverage, this
problem could be exacerbated in next-generation CDMA cel-
lular networks, especially over the capacity-limited downlink
[1]–[4].
To adapt to the variations of traffic load, tradeoffs between
coverage and capacity in CDMA cellular systems have been
considered [3]–[7]. For example, to guarantee the coverage of a
cell, more power is used to reach mobile stations (MSs) near cell
boundaries under power control. However, in interference-lim-
ited systems, the resulting higher intercell interference will re-
duce the system capacity significantly. Furthermore, under large
Manuscript received October 2, 2004; revised June 4, 2005. This work was
supported in part by the Graduate Student Study Abroad Program, National
Science Council, Taiwan, under Contract NSC 92-2917-1-009-006 and Con-
tract NSC 93-2219-E-009-011. This paper was presented in part at the IEEE
Vehicular Technology Conference, Stockholm, Sweden, Spring 2005.
C.-Y. Liao is with Telecordia Applied Research Center Taiwan Company,
Taipei 115, Taiwan (e-mail: chingyu@research.telcordia.com; chingyu@
ece.ubc.ca).
F. Yu and V. C. M. Leung are with University of British Columbia, Vancouver,
BC 1890, Canada (e-mail: feiyu@ece.ubc.ca; vleung@ece.ubc.ca).
C.-J. Chang is with the Department of Communication Engineering,
National Chiao Tung University, Hsinchu 300, Taiwan, R.O.C. (e-mail:
cjchang@cc.nctu.edu.tw).
Digital Object Identifier 10.1109/JSAC.2005.858887
traffic variations, power control may not be effective [3]–[5]. A
uniform network layout with equal-sized cells, while optimal
under uniform traffic, suffers significant capacity degradations
if traffic loads are not balanced among all the cells [6]. To ac-
commodate traffic load variations between cells, it is crucial for
next-generation CDMA cellular networks to be aware of system
situations and configure cell coverage and capacity dynamically
[1], [7].
Several schemes for dynamic cell configuration (DCC) have
recently been proposed [8]–[16]. Optimization of pilot power,
and downlink capacity and coverage planning were considered
in [8] and [9]. In [10], a DCC scheme for circuit-switched mi-
crocellular CDMA systems was proposed to enhance the uplink
performance. In [11], the competitive characteristics of network
coverage and capacity were analyzed for a simple network. Only
one class-of-service was considered in [8]–[11], and it may be
difficult to extend these schemes to multiple classes of service.
Some techniques based on heuristics have also been proposed
for dynamic pilot power allocation (DPPA) to balance downlink
traffic load, while assuring service coverage [12], [13]. How-
ever, these schemes may cause “coverage failure regions” be-
tween cells where pilot signals are too weak to serve a MS [14],
[15]. Moreover, a common shortcoming of the previous work
[8]–[15] is that only pilot power is adjusted dynamically in the
time-varying environment, without adjusting other parameters
critical to radio resource management (RRM).
In fact, pilot power allocation and other RRM parameters are
tightly coupled. In our previous work [16], we have shown that
system performance can be improved significantly by a self-or-
ganized DCC scheme with coordinated call admission control
(CAC), compared with fixed pilot power allocation (FPPA) and
DPPA without taking CAC into account. Other work has shown
that signal quality degradation can be prevented by configuring
cell areas adaptively and setting power levels appropriately [4],
[17], and soft handoff has significant impacts on the system
capacity and cell coverage [18], [19]. Therefore, an effective
mechanism, link proportional power allocation (LPPA), was
proposed for downlink soft handoff in [20] and [21]. It was
shown that LPPA can enhance system capacity in CDMA
cellular systems with mixed-size cells, compared with conven-
tional site-selection diversity transmissions (SSDT) scheme
[22].
In this paper, we show that DPPA without changing other
related RRM parameters accordingly can result in performance
degradations. To address this problem, we propose a novel DCC
scheme based on reinforcement-learning called DCC-RL. The
novelties are as follows.
0733-8716/$20.00 © 2006 IEEE
18 IEEE JOURNAL ON SELECTED AREAS IN COMMUNICATIONS, VOL. 24, NO. 1, JANUARY 2006
Fig. 2. Total throughput of fixed cell configuration for SSDT and LPPA
schemes under uniform ( = 1) and nonuniform ( = 4) cell load cases.
in Section V. Fig. 2 shows the system throughput of fixed cell
configuration with different pilot power levels under uniform
and nonuniform cell traffic load for both SSDT
and LPPA soft handoff schemes (FIX-SSDT, FIX-LPPA), where
is the ratio of traffic load between the hotspot cell in the center
and the surrounding cells. In the simulations, the pilot channel
power is set to 1 W in the FPPA scheme, and all other RRM al-
gorithms are optimized according to this pilot power setting and
then fixed. Subsequently, we simulate DPPA by adjusting the
pilot power level, without changing the other RRM parameters.
Fig. 2 shows that the system throughput degrades whenever
a pilot power other than 1 W (used in the fixed scheme) is
used in DPPA. This is because increasing pilot power also
increases interference to adjacent cell MSs; the larger the pilot
power, the larger the interference, and the lower the throughput.
Another reason is that the CAC criterion and the maximum
link power constraint remain the same when the pilot power
changes cell coverage. For example, when new or handoff calls
issue requests to cells with light or heavy traffic, the tight
or loose criteria of CAC may result in new call blockings or
handoff forced terminations, respectively. Thus, uncoordinated
design of pilot power and other RRM strategies can degrade
the system performance severely. Fig. 2 also shows that soft
handoff power allocation and pilot power allocation are highly
coupled, both affecting system throughput. LPPA has larger
throughput than SSDT with different pilot power and traffic load
distributions. The throughput difference between SSDT and
LPPA is larger when the traffic load is nonuniformly distributed
.
III. SYSTEM MODEL
The system block diagram of our proposed DCC-RL scheme
is shown in Fig. 3. DCC-RL can be implemented in a distributed
manner in each BS, which adjusts its pilot power periodically to
adapt to the variations of system situation through the dynamic
pilot power controller. Based on the determined pilot power level,
themaximumlinkpowerconstraintandCACcriterionareadjusted
accordingly. Then, the traffic channel power allocator adjusts its
maximumlinkpowerconstraintthatisobtainedfromthemaximum
link power estimator. After applying all updates for RRM to the
entire cellular network, the reinforcement signal is input to the
dynamicpilotpowercontroller toaid itsdecision for thenextpilot
power level. In this section, we describe the signal model and the
link budget model in CDMA systems. An initial cell coverage
design for the CDMA cellular system is provided to illustrate the
interrelation between capacity and cell coverage.
A. Signal Model
Assume the total allocated power of BS is , including
pilot channel power and traffic channel power , where
is smaller than or equal to the BS’s maximum transmit power
. The pilot power of BS is given by , where
is the fraction of the pilot power relative
to BS ’s maximum transmit power, constrained between min-
imum fraction and maximum fraction . For the traffic
channel of MS served by BS , the allocated transmit power
from BS is , where is the fraction of
traffic channel power allocated for transmission to MS ; is
the maximum link power of BS . Thus, , where
the represents the set of all MSs served by BS .
B. Initial Cell Coverage Design
The initial design of cell coverage can be obtained by
link budget analysis. The equivalent isotropic radiated power
(EIRP) at a BS’s transmitter, , of each traffic channel can
be calculated by ,
where and are the antenna gain and cable loss of the
BS, respectively. Note that the units of the parameters are
given in brackets.1 On the other hand, the EIRP, , measured
at a MS’s receiver, taking into account the soft gain ,
the antenna gain , and the body loss of the MS, is
.
Moreover, assume that the interference margin (maximum
planned noise rise) is , and the received noise power
(product of thermal noise density, chip rate, and noise figure)
is . The receiver sensitivity of the MS given service rate
is , where
is the required signal-to-interference-plus noise
(SINR) value for service rate , which is equal to the required
bit-energy-to-noise ratio (Eb/No), , minus the pro-
cessing gain . From the link budget, the maximum
allowable path loss for service rate is
(1)
where is the margin for log-normal fading. When a MS
is near the cell boundary, the received chip-energy-to-interfer-
ence ratio should not fall below the minimum require-
ment for service rate , given by
. In general, pilot power
is around 1–4 W, which is about 5%–20% of the maximum
total transmit power of the BS, .
Based on the allowable maximum path loss and the applied
channel model, the resultant cell radius is different with
different service rate . For , since
1In this paper, a variable is linear if its unit is not specified.
20 IEEE JOURNAL ON SELECTED AREAS IN COMMUNICATIONS, VOL. 24, NO. 1, JANUARY 2006
IV. PROPOSED DCC-RL SCHEME
We formulate the DCC problem as a Markov decision process
(MDP) [26]. However, traditional model-based solutions of
MDP, such as policy iteration and linear programming, require
a prior knowledge of the state transition probabilities. Due to
the diverse multimedia traffic and random user mobility, these
conventional solutions suffer from the curses of dimensionality
and modeling. As described next, we propose a novel rein-
forcement-learning-based DCC scheme, DCC-RL, to find an
optimal policy for pilot power allocation that takes RRM into
account (see Fig. 3).
A. Problem Formulation as a Markov Decision Process
In DCC-RL, the BS pilot power is periodically adjusted to
adapt to changing conditions. These time instants are called de-
cision epochs and the adjustments of pilot power are called ac-
tions in the MDP formulation. The chosen action is based on
the current state of the system. Depending on the action taken
by the system, the system can earn rewards. The objective is to
optimize the sequence of actions to maximize the accumulated
rewards. The detailed formulation is as follows:
• [Decision epochs]: In CDMA systems, the pilot signal
is broadcasted from each BS periodically [30]. The state
of the system changes accordingly. Therefore, we adjust
the pilot power every frames, where is a design
parameter.
• [States]: Define the state vector of the system as
, where denotes the mean
power of the BS and denotes the variance of the power
load. Assume there are samples from the measure-
ments, where is also a design parameter. Also, and
can be obtained from the sample mean and variance,
respectively, as follows.
(3)
(4)
The decision process can be implemented in each BS in
a distributed manner because the variation of the BS’s
power load can implicitly reveal the load information
about all cells.
• [Actions]: At each decision epoch, the BS makes a deci-
sion to choose a suitable fraction of the pilot power based
on state . The action of BS is defined as the
fraction of the pilot power relative to
the maximum transmit power.
• [Rewards function]: Based on the action in a state ,
the system earns a reward . We choose the total
throughput as the reward
(5)
where is the transmission rate of MS
.
B. MDP Solution by Reinforcement-Learning
The objective of the decision process is to find an optimal
policy for each state , which minimizes the cumulative
measure of the reward that is received over
time, where the subscript represents the time instant . The total
expected discounted reward over an infinite time horizon can
be represented by the value function with policy ,
, with discount factor
. Let be the transition probability from state
to . The value function can be rewritten as
(6)
where . Define a -function of
state-action pair with policy as
. The optimal value function
with the optimal policy satisfies Bellman’s optimality crite-
rion [27]
(7)
Thus, the optimal -function can be obtained
from finding an optimal policy of -function .
Without knowing and , the -learning
process can still find an optimal policy through updating
to find in a recursive manner using the
information of current state , action , reward , and next
state . Watkins [28] has shown that if the -value of each
feasible state-action pair is visited infinitely often, and
if the learning rate is decreased to zero in a suitable way, then
as . The -values
of the state-action pairs are usually stored in a lookup table.
However, this approach is not suitable for problems with con-
tinuous state spaces as in multimedia CDMA systems, where
the curse of dimensionality is hard to tackle. It has been shown
[29] that fuzzy -learning is an efficient technique for the ap-
proximation of continuous system states by adapting Watkins’s
-learning [28] technique such that a fuzzy inference system
(FIS) is incorporated into reinforcement-learning to generalize
-learning by inferring both the actions and -functions from
fuzzy rules. Taking advantage of the -learning technique,
the universal approximation property of the FIS makes the
representation of -values with large state-action space pos-
sible, and a priori knowledge can be integrated in the learning
procedure [16].
Furthermore, in DCC-RL, a simple strategy for feature ab-
straction, exploitation, and exploration is applied to speed up the
learning procedures (and shorten the convergence time) for ob-
taining the optimal solution. A policy feasible action set
can be obtained based on the current state . State can be
adopted as an indicator to classify the feasible action sets. For
example
if
otherwise (8)
where is the cutting value of the action set,
, and is the threshold of the mean power as
the quality-of-service (QoS) constraint. Since a greedy policy
can easily cause the system to converge to locally optimal
22 IEEE JOURNAL ON SELECTED AREAS IN COMMUNICATIONS, VOL. 24, NO. 1, JANUARY 2006
corresponding Eb/No requirements are 5, 4, 3, and 2 dB. Note
that adaptive rate transmission is applied whenever the power
resources are not enough to support the existing MSs. For the
nonreal-time data service, variable length data bursts are as-
sumed to be geometrically distributed with a mean burst size
of 200 frames. Moreover, there are six different service rates:
16, 32, 64, 144, 384, and 512 kb/s, which require Eb/No of 5,
4, 3, 2, 1.5, and 1 dB, respectively. The transmissions are on a
burst-by-burst basis.
B. Performance Measurements and Discussions
We compare the performance of four schemes: FPPA
with SSDT (FIX-SSDT), FPPA with LPPA (FIX-LPPA),
DCC-RL with SSDT (DCC-SSDT), and DCC-RL with LPPA
(DCC-LPPA). For FPPA, the default pilot power, , is set
at 2.5 W (12.5% of the maximum transmit power) for each
cell. The maximum link power and the CAC threshold
are fixed and calculated from (10) and (11), respectively.
For DCC-RL, , , and are adjusted dynamically, as
described in Section IV. Assume the arrival rate is 1.6 calls/s,
and the traffic load ratio is varied from 1 to 5. For the design
parameters of DCC-RL, maximum and minimum fractions of
pilot power are and , respectively;
decision period is ten frames; total number of measurement
samples is 100 frames; and total simulation time is 10
frames (10 learning times).
The comparison between FIX-LPPA and FIX-SSDT in terms
of capacity and coverage is shown in Fig. 4. We see that the
FIX-LPPA scheme achieves a higher total throughput than the
FIX-SSDT scheme for both uniform and nonuniform cell load
cases. The throughput of FIX-LPPA is about 20% higher than
that of the FIX-SSDT scheme in the nonuniform cell load case.
This is because FIX-LPPA successfully releases congested
cell’s load through a power-balance strategy, whereas the
FIX-SSDT scheme lacks the flexibility to adapt to nonuniform
cell load situations.
Fig. 5(a) and (b) shows the average pilot power distribution
of the hotspot, first-tier, and second-tier cells using DCC-LPPA
and DCC-SSDT schemes, respectively. We can see that the
DCC-RL schemes adjust the pilot power in each cell according
to various system situations. When the traffic load ratio is
increased, the pilot power of the hot spot cell is reduced
aggressively so as to balance traffic load with adjacent cells,
but the coverage is shrunk accordingly. In this way, the BS
of the hotspot cell can save its transmit power to serve new
call arrivals. Besides, adjustments of the pilot power can make
the existing MSs near the cell boundary enter soft handoff
mode so as to balance traffic load. Furthermore, for the hotspot
cell, the slope of the pilot power level versus traffic load ratio
for DCC-SSDT is sharper than that for DCC-LPPA. This is
because both DCC and LPPA strategies are helpful for power
balancing, so that the pilot power of the DCC-LPPA scheme
does not have to be adjusted aggressively.
Fig. 6(a) and (b) shows the new call blocking probability of
real-time and nonreal-time services, respectively. We can see
that the DCC-RL schemes improve the blocking probability
of both real-time and nonreal-time services relative to the FIX
schemes. In order to achieve power balance between cells,
Fig. 5. Average pilot power of hotspot, first-tier, and second-tier cells for (a)
LPPA scheme and (b) SSDT scheme under FIX and DCC-RL.
Fig. 6. Comparison of blocking probability of (a) real-time and (b)
nonreal-time services.
DCC-RL adjusts pilot power and coordinates other RRM
mechanisms dynamically. This is the reason why the DCC-RL
schemes can save more power resource to accommodate
new call requests. Performance results of DCC-LPPA and
DCC-SSDT schemes without adapting other RRM parameters
are also presented for comparison. We can see that the DCC-RL
schemes with fixed RRM parameters have worse new call
blocking performance than the FIX schemes, as explained
in Section II-D. Similarly, impaired results in handoff forced
termination occur when a MS fails to add new BSs into its
active set and suffers degraded channel quality, as shown in
Fig. 7. This is because existing MSs near the cell boundaries
often suffer bad transmission quality, and they may be dropped
when power is not enough for admitting handoff requests. On
the other hand, compared with the FIX schemes, the proposed
DCC-RL schemes can improve handoff forced termination
probabilities greatly.
24 IEEE JOURNAL ON SELECTED AREAS IN COMMUNICATIONS, VOL. 24, NO. 1, JANUARY 2006
TABLE I
AVERAGE COVERAGE FAILURE PROBABILITY
DCC works to balance traffic load through pilot power adjust-
ments so as to reduce the interference of the hotspot cell, MSs
near the cell boundary may suffer bad signal strengths from all
BSs in the active set. Because of the tradeoff between capacity
and coverage, we stress that coverage failure is an inevitable
downside of any kind of DCC-RL scheme. The goal is to re-
duce the impact of this drawback through performance gains in
system throughput, new call blocking probability, and handoff
forced termination rate, etc. Due to the maximum power con-
straint in each BS, the system shows a performance tradeoff be-
tween coverage failure and call admission blocking. In a cel-
lular system under heavy traffic load, a new call request could
fail either due to coverage failure, or due to blocking by CAC.
Since our results show that the performance gain in reduced call
blocking more than offsets the performance loss in increased
coverage failure, our proposed DCC-RL can give an overall gain
in system performance, and the goal stated above is successfully
achieved.
VI. CONCLUSION
In this paper, we have studied the DCC problem in next
generation CDMA networks, and proposed a model-free rein-
forcement-learning solution, DCC-RL, to solve the problem.
DCC-RL can dynamically configure cell coverage and capacity
based on the varying situations of the system. Simulation results
show that pilot and soft handoff power allocations, maximum
power constraint design, and the admission control criterion
are highly coupled and should be considered jointly. Results
also show that DCC-RL significantly increases the system
throughput compared with conventional fixed pilot schemes.
Furthermore, combining DCC-RL with LPPA gives the ad-
vantage of power balancing for soft handoff so that the system
capacity of the DCC-LPPA scheme outperforms conventional
FIX-SSDT scheme significantly. The proposed DCC-RL so-
lution gives a design framework suitable not only for the
next-generation CDMA networks, but future cellular systems
employing any signaling and multiple access techniques that
take advantage of power control.
REFERENCES
[1] S. Sharma, A. R. Nix, and S. Olafsson, “Situation-aware wireless net-
works,” IEEE Commun. Mag., vol. 41, no. 7, pp. 44–50, Jul. 2003.
[2] J. S. Lee and L. E. Miller, CDMA Systems Engineering Hand-
book. Norwood, MA: Artech House, 1998, pp. 1111–1186.
[3] J. Laiho, A. Wacker, and T. Novosad, Eds., Radio Network Planning and
Optimization for UMTS. New York: Wiley, 2002, pp. 280–290.
[4] W. W. Lu, Broadband Wireless Mobile: 3G and Beyond. New York:
Wiley, 2002, pp. 307–315.
[5] V. V. Veeravalli and A. Sendonaris, “The coverage-capacity tradeoff in
cellular CDMA systems,” IEEE Trans. Veh. Technol., vol. 48, no. 5, pp.
1443–1450, Sep. 1999.
[6] R. G. Akl, M. V. Hegde, M. Naraghi-Pour, and P. S. Min, “Multicell
CDMA network design,” IEEE Trans. Veh. Technol., vol. 50, no. 3, pp.
711–722, May 2001.
[7] S. Sharma and A. R. Nix, “Situation awareness based automatic base
station detection and coverage reconfiguration in 3G systems,” in Proc.
IEEE PIMRC, Lisbon, Portugal, Sept. 2002, pp. 16–20.
[8] Y. Ishikawa, T. Hayashi, and S. Onoe, “W-CDMA downlink transmit
power and cell coverage planning,” IEICE Trans. Commun., vol. E85-B,
no. 11, pp. 2416–2426, Nov. 2002.
[9] S. J. Park, D. Kim, and C. Y. Kim, “Optimal power allocation in CDMA
forward link using dependency between pilot and traffic channels,” in
Proc. Veh. Technol. Conf., Fall, Amsterdam, The Netherlands, Sep.
1999, pp. 223–227.
[10] K. Mori and H. Kobayashi, “Dynamic cell configuration scheme for
common channel communications in CDMA cellular packet systems,”
in Proc. IEEE ICC, Paris, France, Jun. 2004, pp. 159–163.
[11] G. Hampel, K. L. Clarkson, J. D. Hobby, and P. A. Polakos, “The tradeoff
between coverage and capacity in dynamic optimization of 3G cellular
networks,” in Proc. IEEE Veh. Technol. Conf., Fall, Orlando, FL, Sep.
2003, pp. 927–932.
[12] R. T. Love, K. A. Beshir, D. Schaeffer, and R. S. Nikides, “A pilot
optimization technique for CDMA cellular systems,” in Proc. IEEE
Veh. Technol. Conf., Fall, Amsterdam, The Netherlands, Sep. 1999, pp.
2238–2242.
[13] K. Valkealahti, A. Hoglund, J. Parkkinen, and A. Flanagan, “CDMA
common pilot power control with cost function minimization,” in Proc.
IEEE Veh. Technol. Conf., Fall, Vancouver, BC, Canada, Sep. 2002, pp.
2244–2247.
[14] D. Kim, Y. Chang, and J. W. Lee, “Pilot power control and service cov-
erage support in CDMA mobile systems,” in Proc. IEEE Veh. Technol.
Conf., Spring, Amsterdam, The Netherlands, May 1999, pp. 1464–1468.
[15] A. D. Smith, “Designing for coverage availability with different data
rates—An improved methodology,” in Proc. IEEE Veh. Technol. Conf.,
Fall, Vancouver, BC, Canada, Sep. 2002, pp. 1821–1824.
[16] C. Y. Liao, F. Yu, V. C. M. Leung, and C. J. Chang, “Reinforce-
ment-learning-based self-organization for cell configuration in mul-
timedia mobile networks,” Eur. Trans. Telecomm., vol. 16, no. 5, pp.
385–397, Sep. 2005.
[17] A. Hoglund and K. Valkealahti, “Quality-based tuning of cell downlink
load target and link power maxima in CDMA,” in Proc. IEEE
Veh. Technol. Conf., Fall, Vancouver, BC, Canada, Sep. 2002, pp.
2248–2252.
[18] B. Hashem and E. L. Strat, “On the balancing of the base stations trans-
mitted powers during soft handoff in cellular CDMA systems,” in Proc.
IEEE ICC, New Orleans, LA, Jun. 2000, pp. 1497–1501.
[19] J. A. Flanagan and T. Novosad, “CDMA network cost function mini-
mization for soft handover optimization with variable user load,” in Proc.
IEEE Veh. Technol. Conf., Fall, Vancouver, BC, Canada, Sep. 2002, pp.
2224–2228.
[20] C. Y. Liao, “Downlink soft handoff mechanisms and cell reconfiguration
planning in mixed-size wcdma cellular networks,” Ph.D. dissertation,
National Chiao Tung Univ., Hsinchu, Taiwan, 2004.
[21] C. Y. Liao, L. C. Wang, and C. J. Chang, “Power allocation mecha-
nisms for downlink handoff in the CDMA system with heterogeneous
cell structures,” ACM/Kluwer WINET, vol. 11, no. 5, pp. 593–605, Sep.
2005.
[22] H. Furukawa, K. Hamabe, and A. Ushirokawa, “SSDT—Site selection
diversity transmission power control for CDMA forward link,” IEEE J.
Sel. Areas Commun., vol. 18, no. 8, pp. 1546–1554, Aug. 2000.
[23] R. S. Sutton and A. G. Barto, Introduction to Reinforcement
Learning. Cambridge, MA: MIT Press, 1998.
[24] D. Bertsekas and J. N. Tsitsiklis, Neuro-Dynamic Programming. Bel-
mont, MA: Athena Scientific, 1996.
[25] 3GPP Tech. Specification 25.942, RF System Scenarios, p. 26, Dec.
1999.
[26] M. L. Putterman, Markov Decision Processes: Discrete Stochastic Dy-
namic Programming. New York: Wiley, 1994.
[27] R. E. Bellman, Dynamic Programming. Princeton, NJ: Princeton Univ.
Press, 1957.
[28] C. J. C. H. Watkins and P. Dayan, “Q-learning,” Mach. Learn., vol. 8,
pp. 279–292, 1992.
[29] L. Jouffe, “Fuzzy inference system learning by reinforcement methods,”
IEEE Trans. Syst., Man, Cybern., pt. C, vol. 8, no. 3, pp. 338–355, Aug.
1998.
[30] Universal Mobile Telecommunication System (UMTS), “Selection pro-
cedures for the choice of radio transmission technologies of the UMTS,”
UMTS 30.03, version 3.2.0, TR 101 112, 1998.
A Concurrent Transmission MAC Protocol for
Enhancing Throughput and Avoiding Spectrum
Sensing in Cognitive Radio
Li-Chun Wang∗, Chung-Wei Wang∗, Yin-Chih Lu∗, and Chuan-Ming Liu+
∗ National Chiao Tung University, Taiwan
+ National Taipei University of Technology, Taiwan
∗Email : lichun@cc.nctu.edu.tw
Abstract—For the cognitive radio (CR) network, a
fundamental issue is how to identify the spectrum
opportunities. First, each CR node determines whether
there exists transmission opportunities on unlicensed
bands. If not, this node will find other opportunity
on licensed bands. Thus, increasing the opportunities
of concurrent transmissions in unlicensed bands can
reduce the overhead of wide-band sensing.
In this paper, based on the carrier sensing multi-
ple access protocol, we propose a novel concurrent
transmissions MAC (CT-MAC) protocol to identify
the possibility of establishing the second link in the
presence of the first link in the unlicensed band. In
addition to reducing the overhead of wide-band sensing,
the proposed CT-MAC scheme can enhance overall
throughput and is backward compatible with the IEEE
802.11 standard.
I. Introduction
In the cognitive radio (CR) network, each CR node
can operate in both unlicensed and licensed bands. The
functionalities of medium access control (MAC) protocol
required for CR devices vary according to whether the
spectrum is licensed or unlicensed. If a CR node oper-
ates in the licensed band, it must avoid degrading the
performance of the primary link. On the other hand, all
nodes have the same right to access the unlicensed spec-
trum. Hence, a suitable contention resolution algorithm is
necessary to achieve the objective of intelligent spectrum
sharing.
An important issue for CR MAC is to identify the
spectrum opportunities. Usually, each CR node first de-
termines whether there exists transmission opportunities
on unlicensed bands. If so, this node will concurrently
transmit together with the first link. If not, this node
will dynamically find other opportunity on licensed bands
by wide-band sensing. Thus, increasing the concurrent
transmission opportunities on unlicensed bands can reduce
the overhead of wide-band sensing.
In the literature, recent research on MAC protocols
for the multihop ad-hoc network on unlicensed band,
This work was supported by the National Science Council, Taiwan
and the MOE ATU Program under the contracts NSC-94-2213-E-
009-060 and 95W803C, respectively.
transmitting
A B C D
Fig. 1. The hidden node problem due to physical carrier sensing,
where C is hidden from A and, in fact, C cannot transmit any data.
forbiddingtransmitting
A B C D
Fig. 2. The exposed node problem due to physical carrier sensing,
where the data from nodes B to A and from nodes C to D can be
concurrently transmitted, but the channel sensing results will refrain
the transmission from node C.
the carrier sense multiple access (CSMA)-based MAC
protocol is the most popular one. However, the CSMA-
based MAC protocol induces the hidden node and exposed
node problems as shown in Figs. 1 and 2, respectively.
The hidden node problem occurs because node C out of
the interference range of the transmitter can potentially
cause frame collisions. On the other hand, node C within
the range of the transmitter is prohibited from accessing
the medium unnecessarily, which is called the exposed
node problem. The exposed node problem yield spectrum
inefficiency issue because it decreases the concurrent trans-
mission opportunities. Moreover, although the concept of
virtual carrier sensing is proposed in IEEE 802.11 MAC to
solve the hidden node issue, the exposed node problem is
remained open. Therefore, the focus of this paper is mainly
on solving the exposed node problem.
In this paper, we propose a novel concurrent trans-
missions MAC (CT-MAC) scheme for a wireless ad hoc
network based on the CSMA MAC protocol. Although the
existing concurrent transmission MAC protocols can solve
the exposed node problem, these protocols also induce
other problems, such as the virtual-carrier exposed node
RTS
CTSA
B
C
D
RTS
CTS
SIFS
DATA
ACK
SIFSSIFS
SIFS SIFS
Fig. 4. The hidden node problem for CTS with VCS: the data links
B to A and C to D can actually coexist.
RTS
CTS
RTS
CTS
SIFS
DATA
ACK
SIFS
SIFS SIFS
A
B
C
D
Fig. 5. The exposed node problem for CTS with VCS: the data links
A to B and D to C can actually coexist.
B. RTS/CTS-induced Hidden Node and Exposed Node
Issues
Although the RTS/CTS handshaking mechanism can
solve the hidden node issue due to physical carrier sensing,
it also induces another type of hidden and exposed node
issues due to virtual carrier sensing.
The RTS/CTS-induced hidden node issue is illustrated
in Fig. 4. In the figure, it is assumed that after the
successful RTS/CTS handshaking procedure, node B is
transmitting data to node A, while node C tries to connect
to nodeD. Based on the MACA protocol, a node is allowed
to send an RTS frame as long as it does not hear the
CTS frame from other nodes. In this case, when node D
replies a CTS frame to node C, collision occurs because
the transmission of node B’s DATA frame can also reach
node C. This issue happens because node D is hidden to
node B, which is quite similar to the hidden node issue
due to physical carrier sensing except that the collision
occurs between a CTS frame and a data frame, instead
of pure data frames’ collision. We call such a problem
the hidden node problem due to virtual carrier sensing.
Because of this problem, the exposed node issue due to
physical carrier sensing is still left open. Recall that the
transmissions of B → A and C → D are supposed to be
able to coexist in the considered scenario, but the MAC
protocols discussed so far, including physical and virtual
carrier sensing, cannot achieve the goal of concurrent
transmissions.
Now we discuss the exposed node issue induced by the
RTS/CTS handshaking mechanism. As illustrated in Fig.
5, suppose that the link of A → B has been established
based on the MACA protocol, as long as a node hear a
CTS from other node, it will not be allowed to transmit
any data in order to prevent the hidden node issue shown
in Fig. 1. As a result, node C cannot reply a CTS frame to
node D. Hence, the concurrent transmission opportunity
of links A→ B and D → C becomes wasted. In this case,
node C is exposed to node B. We call this situation the
exposed node problem due to virtual carrier sensing.
C. Existing Concurrent Transmission MAC Protocols
In this subsection, we discuss the concurrent transmis-
sion MAC protocols that can solve the exposed node issue
in wireless ad hoc networks. Now we give an overview on
the concurrent transmission MAC protocols with physical
and virtual carrier sensing available.
1) Medium Access via Collision Avoidance with En-
hanced Parallelism (MACA-P) [4]: To address the exposed
node issue, an enhanced version of the MACA protocol,
called the MACA-P protocol, was proposed in [4]. The key
idea of this protocol is to introduce an extra gap between
the RTS/CTS frames and the subsequent DATA frames
in addition to the short inter-frame space (SIFS) of the
IEEE 802.11 MAC protocol. This extra gap allows all the
neighboring nodes to exchange the RTS/CTS frames for
the purpose of concurrent transmission. After successfully
exchanging the RTS/CTS frames by the end of this extra
gap, the links with concurrent transmission opportunity,
such as the links B → A and C → D in Fig. 4, can
start transmitting their DATA frames. For concurrent
transmissions, extra information bits are added in the RTS
and CTS frames to indicate the start time of the DATA
frame and the ACK frame. Hence, the two concurrent
transmission links can synchronize their starting time.
Similarly, the virtual-carrier exposed node issue can be
solved by the MACA-P MAC scheme.
The improvement of concurrent transmission opportu-
nity from the MACP-P MAC protocol come at the price
of memory cost and incompatibility. The wireless ad hoc
network adopting the MACA-P MAC protocol requires a
larger memory size for storing the scheduled transmission
time of all the neighboring nodes. More importantly, the
MACA-P MAC protocol is not compatible with the IEEE
802.11 MAC protocol.
2) Parallel-MAC (P-MAC) [1]: [1] proposed a parallel-
MAC (P-MAC) protocol to increase the concurrent trans-
mission opportunity of a short packet together with a
long packet. The basic idea of the P-MAC protocol is to
apply the RTS/CTS/DATA/ACK four-way handshaking
procedure and the DATA/ACK two-way handshaking pro-
cedure for long packets and for short packets, respectively.
Based on this MAC protocol, if overhearing an RTS frame
under the condition that no CTS frame is received, a node
can establish another link to send a small-sized packet
based on the DATA/ACK two-way handshaking proce-
dure. With the NAV value in the overheard RTS frame of
other nodes, the sender of the second link can schedule the
transmission of the DATA frame to be synchronized with
that of the first link. Similarly, the transmission time of
the ACK frames in both the first link and the second link
can be synchronized. The P-MAC protocol can achieve the
objective of concurrent transmissions by simply not using
RTS/CTS in the sending small-sized packets. Because
approximately 50% of packets have a size smaller than
100 bytes in the Internet, the P-MAC protocol is quite
suitable for delivering the traffic in the Internet.
To summarize, the P-MAC protocol can solve the
virtual-carrier hidden node problem of Fig. 4 and thus
RTS
CTS
SIFS SIFS
RTR
DATA
SIFS
ACK
SIFS
DATA
ACK
T
wSIFS
SIFS
A
B
C
D
T
m
Fig. 6. A solution to the exposed node problem with virtual carrier
sensing.
who is the transmitter of the first link. By checking the
CT-neighbors list, node C can decide whether both the
transmitter and receiver of the first link are CT-nodes.
Moreover, being aware that it has a CT neighbor within
two hops, node A will not immediately transmit DATA to
B, but will wait for a duration of Tw. This waiting duration
is equal to the sum of SIFS (TSIFS), the monitoring time
(Tm) and the transmission time (TRTR) of the Ready-to-
Receive (RTR) frame. Note that the monitoring time is the
duration for identifying the channel state. Because only
overhearing the CTS frame from node B but no RTS in
an idle channel after the duration Tm, node C knows that
itself is an exposed node. Hence, it sends an RTR frame to
node D during TRTR in order to request the data from D.
This RTR frame should record the allowing data length in
order to synchronize ACKs between the first and second
links. Notice that the NAV value (Tnav) in RTS of A is
equal to 3TSIFS +TCTS +Tw+TDATA+TACK where T♦
means the transmission time of the ♦ type frame.
C. Solution to the Hidden Node Problem with Virtual
Carrier Sensing
Now let us discuss how the proposed CT-MAC protocol
can solve the the hidden node problem with virtual carrier
sensing. Figure 4 shows an example with this problem.
In the figure, link B → A is already established. Thus,
from the RTS/CTS handshaking procedure, node C only
overhears the RTS frame from node B but no CTS frame.
Hence, node C can have an opportunity to transmit data
without interfering the first link.
However, how can the collision issue between the CTS
frame from node D and the DATA frame form node B
be overcome? As illustrated in Fig. 7, if node C has not
received any RTS or CTS frames from node D, it is very
likely that nodeD is idle and can receive data. It is implied
that the confirmation of CTS frame from node D may not
be necessary for establishing the second link. After sending
the RTS frame, node C further waits for 2TSIFS + TCTS
duration and then immediately sends the DATA frame to
node D. Unlike [1] that applies the two-way handshaking
(DATA/ACK) mechanism to establish the second link,
our proposed CT-MAC protocol still suggests adopting
RTS/CTS/DATA/ACK four way handshaking with some
modification. The advantage of letting node D send the
CTS frame is to avoid the physical-carrier hidden node
problem around its neighbor.
The next important issue is to determine the transmis-
sion duration for the second link. Assume that nodes A and
RTS
CTS
RTS
CTS
SIFS
SIFS
DATA
ACK
SIFS
DATA
ACK
T
s
SIFS
SIFS
CTS
T
w
SIFS
A
B
C
D
T
m
Fig. 7. A solution to the hidden node problem with virtual carrier
sensing.
B are CT nodes and they will defer their DATA transmis-
sion if they learn their neighbors are also CT nodes. In
the case, the DATA transmission duration (TC→D) of the
second link can be obtained as
TC→D = Tnav−Tw−Tm−TRTS−2TCTS−TACK−5TSIFS ,
(1)
where Tnav is the transmission duration of the first link
obtained from the NAV field of the RTS frame overheard
from node B, and Tw and Tm are defined in Section III-B.
If the transmission time required for sending a packet in
the second link is longer or shorter than TC→D, one can
fragment the original packet or pad some dummy bits.
The last critical issue for concurrent transmission is to
ensure that the first link is already established successfully.
If the first link is established, it will be unnecessary to
initiate the concurrent transmission procedure. Hence,
based on our proposed CT-MAC protocol, it is suggested
to perform physical carrier sensing even if the channel
is already classified to be busy based on virtual carrier
sensing. Referring to Fig. 7, after receiving an RTS frame,
node C starts a timer to wait for a duration of Ts (=
TSIFS + TCTS + Tw + Tm) and then execute physical
carrier sensing. If the channel is busy, node C understands
that its transmission to node D should be operated in
the concurrent transmission mode (i.e, ignoring the CTS
frame); otherwise, it needs to receive an CTS frame before
transmitting. For the concurrent transmission case, the
NAV value in the RTS frame of node C is set as the
remaining NAV value of the first link, i.e., Tnav−TSIFS−
Ts − TRTS . For the non-concurrent transmission case, the
establishment of the first link may fail because node A
does not reply CTS.
D. Discussion
Here we refine our proposed CT-MAC protocol to han-
dle a special case. In our proposed CT-MAC protocol,
as described in Section III-C, if a node only overhears
the RTS frame but no CTS frame when the channel is
busy, it can be a transmitter in the second link. However,
this rule may not be always true. For example, consider
the network topology shown in Fig. 3. Since the first link
E → F is already established, node D can overhear the
RTS frame sent from node E to node F . Assume that
nodes C and F simultaneously send RTS and CTS to
nodes D and E, respectively. In this case, collision occurs
at node D. Thus, node D fails to receive any frames. From
the standpoint of node D, it receives RTS but no CTS
and senses a busy channel due to the transmission of link
E → F . Therefore, node D may mistakenly believe that
1Latency Analysis for Dynamic Spectrum Access
in Cognitive Radio: Dedicated or Embedded
Control Channel?
Li-Chun Wang*, Yin-Chih Lu, Chung-Wei Wang, and David S. L. Wei
National Chiao Tung University, Taiwan
*Email : lichun@cc.nctu.edu.tw
Abstract—Dynamic spectrum access (DSA) is
the key feature of cognitive radio (CR) networks,
but it also poses many new challenges on the
medium access control (MAC) design. One of key
challenges is the fact that the secondary CR users
can only borrow the licensed spectrum from the
primary users for a short period of time, and will
lose the channel access privilege once any primary
user appears. Hence, unlike many available multi-
channel MAC protocols for ad hoc networks where
throughput is the main performance issue, the DSA
protocol in CR networks shall place more emphases
on the access latency. Hence, one fundamental issue
arises: how can the spectrum be dimensioned for
control channels in order to minimize the access
delay of DSA protocol in CR networks? On the
one hand, a dedicated spectrum (or channel) can
be used for transmitting control frames. On the
other hand, data frames and control frames can
be mixed and sent in the same spectrum together,
which is called the embedded control channel in
this paper. These two kinds of methods encounter
different issues. Basically, the so called control chan-
nel saturation issue degrades the delay performance
of DSA with dedicated control channels, while the
DSA with embedded control channels has the so-
called channel mismatched issue.
The objective of this paper is to provide a compar-
ative study in an analytical manner on the latency
performance of two DSA protocols for CR networks
with dedicated and embedded control channels,
respectively. Our results show that an optimal ratio
of the control channel bandwidth over the total
channel bandwidth can be found to minimize the
latency of DSA with dedicated control channels.
However, the delay performance of DSA with ded-
icated control channels is more sensitive to the
variation of data lengths than that of DSA with em-
bedded control channels. Furthermore, in addition
to the advantage of the robustness to data lengths,
DSA with embedded control channels performs well
when the number of users is small. Hence, we
conclude that from the access delay perspective, ,
the way of dimensioning the spectrum for control
frames for DSA in CR networks should be adaptive
to the variations of the traffic characteristics and
the number of users.
The work was supported jointly by the MOE ATU Program
95W 803C.
I. Introduction
Cognitive radio (CR) aims to improve spectrum
efficiency by allowing a user to temporally utilize the
unused licensed spectrum by the dynamic spectrum
access (DSA) technique. There are many important
issues needed to be overcome to achieve the objective
of DSA, including spectrum sensing, spectrum alloca-
tion, spectrum access, transmitter-receiver handshak-
ing, and spectrum mobility [1].
The objective of this paper is focused on analyzing
the impact of various control channel design on the
latency performance of the CR network with dynamic
spectrum access. Access delay to the borrowed li-
censed spectrum for the secondary CR users should
be minimized since the primary user may appear to
take back its spectrum any time. Thus, the way of
design control channels will affect the access delay of
the dynamic channel access. Basically, the design of
control channels can be categorized into two kinds:
1) dedicated control channels, in which control and
data frames are transmitted at different spectrums; 2)
embedded control channels, where the control and data
frames are transmitted on the same spectrum.
In the literature, most CR medium access control
(MAC) protocols with DSA adopt the dedicated con-
trol channels [2]–[5]. There are two kinds of control
channels in the dynamic open spectrum sharing MAC
protocol of [2]: one is used for exchanging the chan-
nel selection information; the other is the busy tone
for indicating the channel usage. In [3], the authors
proposed a modified IEEE 802.11 MAC protocol by
adding a pre-assigned control channel for exchanging
the location information of each CR node in emergency
networks. In [4], a dedicated control channel based
MAC-layer configuration were proposed, where control
channels are used for sharing the information of the
available channels. From [5], the authors proposed a
decentralized cognitive MAC, where a set of control
channels are assigned to each node to check whether it
can be an intended receiver. Basically, with a dedicated
control channel, a common communication platform is
available for all the CR nodes, thereby facilitating the
protocol design for DSA. However, the drawback for
using dedicated control channels for DSA is the so-
3CH 1
CH 2
CH 3 SBS is on using
PBS1 -> PU1 PBS1 -> PU1
t
t
t
PBS2 -> PU2 PBS2 -> PU2
(PU1)
(PU2)
idle time
idle time
(SU1, SU2)
Fig. 2. SU 1 and SU 2 have two candidate idle channels CH 1,
CH 2 as shown by two arrows
Fig. 3. Channel matched and mismatched cases
optimal control channel bandwidth for with varying
data lengths and contention durations.
III. A CR MAC with Embedded Control
Channels
We consider the same system model in Fig. 1. We
introduce a heuristic CR MAC with embedded control
channels. Assume that each secondary user has two
radio interfaces for wide-band scanning, where the one
is used for receiving and the other one is used for
transmitting. It is assumed that all the secondary users
can know other’s default channel through the channel
discovery procedure. For example, when SU 1 wants
to transmit data to SU 2, SU 1 switches to SU 2’s
default channel. However, if SU 2’s default channel is
busy, how can SU 1 transmit data to SU 2 without
using dedicated control channels?
Let a CR node choose the channel with the longest
usage time. Next, a transmitter-receiver handshake
protocol is introduced.
Because a common communication platform is not
available, the transmitter and the receiver may select
different channels.
Figure 3 shows the two possible cases for two CR
users when selecting a channel for communications:
• Channel Matched
In Fig. 2, SU 1 wants to transmit data to SU 2.
Thus SU 1 switches to SU 2’s default channel CH
3. If CH 3 is busy, SU 1 and SU 2 need to search
other idle licensed channels (CH 1 or CH 2). If
both SU 1 and SU 2 selects the same channel, SU
1 can transmit data to SU 2. We call it the channel
matched event.
• Channel Mismatched
Fig. 4. The access delay under the control channel saturation
If SU 1 and SU 2 choose different channels, we call
it the channel mismatched event. When the chan-
nel mismatched happens, the protocol is designed
to make the receiver (i.e., SU 2 in this example)
stay at the same channel. If the transmitter SU
1 does not receive CTS, SU 1 knows that SU
2 is not on this channel, and continuing trying
other channel. Finally, SU 1 can transmit data
to SU 2 successfully. If the number of candidate
channels is large, the access delay due to the
channel mismatched event will be increased.
IV. Analysis
In this section, we analyze the average delay of dy-
namic spectrum access for the CR MAC protocols with
dedicated and embedded control channels as described
in Section II, III. The access delay is defined as the
duration starting from the instance that an RTS packet
is at the head of the queue and starts to content for
the transmission until the instance that the associated
acknowledgment (ACK) packet for a data packet is
received. It is assumed that each CR node always has
packets to transmit, the channel is error free, and the
channel switching time is zero.
A. Access Latency With Dedicated Control Channel
Now we discuss how to calculate the average delay
of dynamic spectrum access for the CR MAC protocols
with dedicated control channel. Let Pcs and Pds be the
saturation probabilities of the control and data chan-
nels, respectively, both of which can be obtained from
Fig. 6 for a given ratio of control channel bandwidth
over data channel bandwidth. With Pcs and Pds, the
average access delay of the CR MAC protocol with
dedicated control channel E[D] can be expressed as
E[D] = PcsE[D|control channel saturation occurs]
+ PdsE[D|data channel saturation occurs] .
(1)
Because the probability of the non-saturation event
(i.e., E[Tdata]E[Tc] = 1) is very small, it is assumed that
Pcs + Pds ' 1 in (1).
5average number of virtual slots N (c)
E[N (c)] =
∞∑
k=0
(k + 1)(1− PsPtr)kPsPtr
=
1
PsPtr
. (11)
To calculate E[N (d)], it is assumed that a particular
user successfully sends a control frame at the first time
with k − 1 previous transmitting data frames. The
probability Ps(k) that the first data frame of this user
as the k − th data frames in the data channel can be
expressed as follows
Ps(k) =
(
1
n
)(
1− 1
n
)k−1
. (12)
Then, the average total number E[N (d)] of data frames
in the data channel including this user’s frame is equal
to
E[N (d)] =
∞∑
k=1
k
(
1
n
)(
1− 1
n
)k−1
. (13)
Substituting (6), (10), (11) and (13) into (9) for a
given value of E[Tdata], one can obtain the conditional
average access delay given the occurrence of data
channel saturation.
B. Access Latency With Embedded Control Channel
Now we consider the access delay D′ for CR MAC
with embedded control channel. When considering a
CR MAC with embedded control channels, control
channels and data channels use the same frequency
spectrum and are not split into two portions in the
frequency domain. Applying the virtual slot concept,
one can express the average access delay E[D′] as
E[D′] = E[T ]E[N ] , (14)
where T is the virtual slot duration, and N is the num-
ber of virtual slots before the RTS frame is transmitted
successfully.
Consider the average virtual slot duration E[T ] first.
On the one hand, when establishing a link by dynamic
spectrum access, two CR users may choose two differ-
ent channels in the case of embedded control channel.
We call this situation the channel mismatch. In this
case, after sending the RTS frame, the transmitter
will wait for the CTS until the timeout expires. Let
tmismatch be the sum of the time transmitting the RTS
frame and the timeout expiration, i.e.,
tmismatch = tRTS +DIFS . (15)
On the other hand, if the selected channels are
matched, the total transmission time of the control
frames and data frames (denoted by tmatch) is equal
to
tmatch = 2DIFS + tRTS + tCTS + 3SIFS
+E[Tdata] + tACK , (16)
where tACK is the transmission time of the ACK
frame; DIFS is the DCF-interframe space, respectively
according to the definitions in the IEEE 802.11 WLAN
MAC protocol. Denote Pmatch and Pmismatch as the
probability of the channel match and mismatch, re-
spectively. With m candidate channels, it is followed
that
Pmatch =
1
m
, (17)
and
Pmismatch =
m− 1
m
. (18)
Recall that the probability with an empty slot is
1−Ptr, and the probability with collided transmission
is (1 − Ps)Ptr. When considering all the four possible
events at each virtual slot, the average virtual time slot
duration E[T ] can be expressed as
E[T ] = (1− Ptr)σ + (1− Ps)Ptrtf
+ PmatchPsPtrtmatch
+ PmismatchPsPtrtmisatch , (19)
where Tmismatch, Tmatch, Pmatch, and Pmismatch are
given by (15), (16), (17), and (18), respectively.
Now, we calculate E[N ] in (14). Consider m candi-
date channels. With previous k−1 mismatched events,
the probability of the two CR users select the same
channel in the k − th attempt is equal to
m− 1
m
· m− 2
m− 1 . . .
m− k + 1
m− k + 2 ·
1
m− k + 1 =
1
m
. (20)
Before a CR node transmits RTS, it needs to wait
for a contention duration. The number of virtual slots
before the successful transmission of an RTS frame can
be denoted byN (c) as shown in (8). With previous k−1
mismatched events, this node will undergo kE[N (c)]
virtual slots on average. The probability of the occur-
rence of the first matched event in k events is 1/m
according to (20). Thus, E[N ] can be expressed as
E[N ] =
m∑
k=1
1
m
· kE[N (c)] = m+ 1
2
E[N (c)] . (21)
Substituting (19) and (21) into (14) for a given value
of E[Tdata], one can obtain the average access delay for
embedded control channel .
V. Numerical Results
In this section, we first show the relation between
the delay of dedicated control channel and the control
channel bandwidth ratio. Then we compare the delay
performance of the dedicated control channel E[D] and
embedded control channel E[D′] for various user num-
bers and data sizes. The related system parameters
are listed in Table I. The basic transmission rate is
used in each control channel. In our numerical result,
it is assumed that the data length and the contention
period are exponential distribution [13].
7Fig. 7. The effect of control channel bandwidth ratio on the
access delay of the CR MAC with dedicated and embedded
control channels
Fig. 8. The effect of the different data lengths on the access de-
lay for CR MAC with dedicated and embedded control channels
Fig. 9. The effect of the different user numbers on the access
delay with dedicated and embedded control channels
be viewed as the improved version of the CSMA-like
MAC protocol integrated with a new dynamic channel
access feature because most MAC protocols in current
wireless local networks, such as CSMA/CA, are belong
to the category of using embedded control channels.
Thus, one of the advantages of the CR MAC with em-
bedded control channels is the possibility of integrating
the well known WLAN MAC protocol. However, the
CR MAC protocol may face the channel mismatched
issue if two CR users select different channels, which
may lead to extra access delay.
From our results, we find that, when the number
of users is not very large, the access delay for the
CR MAC with embedded control channels is usually
shorter than that the CR MAC with dedicated chan-
nels. Furthermore, the access delay of the CR MAC
with dedicated control channel is more sensitive to the
data lengths comparing with the CR MAC with em-
bedded control. However, the CRMAC with embedded
control channel is slightly more sensitive to the number
of users than the CR MAC with dedicated control
channels in the case with optimal control channel
bandwidth ratio. Nevertheless, in practice the optimal
value of the control channel bandwidth is difficult to be
adjusted in an environment with varying data lengths
and contention durations. Hence, from the standpoint
of access latency, we can conclude that DSA in CR
networks can dedicate a certain portion of spectrum for
sending control frames if data lengths are fixed or not
varied too much; otherwise, embedded control channel
shall be considered as long as the number of users is
not large.
In the current work, the tradeoff of using dedicated
control channels and embedded control channels are
compared in two heuristic DSA protocol for CR net-
works. Interesting research work in the future include
the development of improved DSA protocol with or
without dedicated control channel. Furthermore, in the
future it is worthwhile developing a DSA protocol for
CR networks with multiple design criteria by consider-
ing access latency as well as other performance metric
like throughput.
References
[1] I. F. Akyildiz, W. Y. Lee, M. C. Vuran, and S. Mohanty,
“NeXt generation/dynamic spectrum access/cognitive ra-
dio wireless networks:A survey,” Computer Networks,
vol. 50, pp. 2127–2159, May 2006.
[2] L. Ma, X. Han, and C. C. Shen, “Dynamic open spectrum
sharing MAC protocol for wireless ad hoc networks,” In
proceedings of IEEE DySPAN 2005 , pp. 203–213, Nov 2005.
[3] P. Pawelczak, R. V. Prasad, L. Xia, and I. G. M. M.
Niemegeers, “Cognitive radio emergency networks - re-
quirments and design,” In proceedings of IEEE DySPAN
2005 , pp. 601–606, Nov 2005.
[4] S. Krishnamurthy, M. Thoppian, S. Venkatesan, and
R. Prakash, “Control channel based MAC-layer configu-
ration, routing and situation awareness for cognitive radio
networks,” Proceedings of IEEE Military Communications,
pp. 455–460, Oct 2005.
[5] Q. Zhao, L. Tong, and A. Swami, “Decentralized cognitive
MAC for dynamic spectrum access,” In proceedings of IEEE
DySPAN 2005 , pp. 224–232, Nov 2005.
1A Cognitive MAC Protocol for Overlaying Ad
Hoc Networks with QoS Provisioning 1
Li-Chun Wang∗2, Anderson Chen∗, and David S. L. Wei†
∗Department of Communication Engineering,
National Chiao Tung University, Taiwan
†Department of Computer and Information Sciences,
Fordham University, Bronx, NY, U.S.A.
Abstract
Cognitive Radio (CR) can effectively utilize the spectrum during the short spare time of the legacy
system with the help of the adaptivity provided by the software defined radio technique and the intelli-
gence learned by sensing the huge spectrum in the surrounding environment. One interesting application
for a CR network is to establish an overlaying ad hoc network in the presence of primary users.
For this purpose, we extend the carrier sense multiple access (CSMA) medium access control (MAC)
protocol with a neighbor list establishment mechanism for recognizing spectrum usage opportunities, an
invited reservation procedure for meeting the quality of service (QoS) requirements for delay-sensitive
traffic, and with a distributed frame synchronization mechanism for coordinating transmission without
a centralized controller. Through the analysis and simulations by NS-2, the proposed cognitive MAC
protocol is shown to improve the throughput by 50% over the legacy CSMA/CA MAC protocol, while
keeping the dropping rate less than 2% for delay-sensitive applications.
1This work was supported by the National Science Council, Taiwan, under the contract NSC-94-2213-E-009-060.
2The contact author. E-mail: lichun@faculty.nctu.edu.tw
September 19, 2006 DRAFT
3 









	










































Fig. 1. The cognition cycle [17].
In this paper, we propose such a generic cognitive MAC protocol with emphases on achieving the
aforementioned objectives in overlaying ad hoc networks. Specifically, in the observe stage, we
propose a mechanism of establishing the neighbor list to help a station recognize the spectrum
opportunities. In the plan stage, an improved contention resolution mechanism, consisting of
the gating mechanism, linear backoff algorithm and stall avoidance scheme, is suggested to
enhance the overall performance of throughput, access delay and fairness. In the decide stage,
a novel invited reservation procedure is developed to ensure a CR user with satisfactory QoS
requirements. At last, in the act stage, a distributed frame synchronization mechanism is proposed
to coordinate frame transmissions among CR users without a centralized controller.
The rest of this paper is organized as follows. In Section II, we first examine whether the
existing MAC protocols can achieve the goals of CR networks. Sections III, IV, V and VI describe
the proposed cognitive MAC protocol in the aforementioned four stages of the cognition cycle,
respectively. An analytical model for the throughput evaluation of the proposed cognitive MAC
protocol is discussed in Section VII. In Section VIII, we show the simulation results based on
the NS-2 simulator [19]. At last, we give our concluding remarks in Section IX.
September 19, 2006 DRAFT
5the previous works [32]–[37], the authors suggested certain mechanisms to reserve time slots
for the delay-sensitive frames. However, such a reservation method requires a polling process or
handshaking procedure to coordinate frame transmissions. Both methods consume battery energy
and waste the valuable bandwidth in sending management frames. How to design a distributed
mechanism to reserve the transmissions for high priority frames becomes an important issue.
At last, in the act stage of the cognition cycle, the cognitive MAC protocol needs to synchronize
the stations and execute the transmission at the specified time. To synchronize the clock of each
station, the methods designating a centralized controller to broadcast “beacon” signals or utilizing
the global clock provided by Global Positioning System (GPS) were suggested in [20], [36],
[37]. However, both methods are complex and require additional devices, which may not be
appropriate for CR users.
To our knowledge, we have not seen too many papers in the literature to discuss how
to design a complete cognitive MAC protocol based on the specific functions in the four
stages of the cognition cycle. In this paper, we propose such a MAC protocol with QoS
provisioning for the overlaying CR ad hoc networks. The proposed MAC protocol is extended
from our previous works [38], [39] and coincides with the four stages of the cognition cycle.
The neighbor list establishment mechanism maps to the observe stage, which can help a CR
user recognize the spectrum usage around its neighborhood. Corresponding to the plan stage,
the improved contention resolution mechanism can enhance the overall performance in terms of
throughput, access delay and fairness over the legacy CSMA/CA MAC protocol. In the decide
stage, the newly proposed reservation scheme ensures the established ad hoc link with satisfactory
QoS requirements. The novel distributed frame synchronization mechanism coordinates the
transmissions among stations in the act stage. In the following sections, we detail our proposed
cognitive MAC protocol.
III. NEIGHBOR LIST ESTABLISHMENT IN Observe STAGE
To have the knowledge of the spectrum usage of the existing legacy system, we suggest
a neighbor list establishment mechanism to record the information of the primary and CR
users in the observe stage of the cognition cycle. Here, we assume the cognitive MAC protocol
can cooperate with other spectrum sensing, identification, and allocation mechanisms to obtain
the spectrum usage information of the primary users. Then, we partition the observed frames
September 19, 2006 DRAFT
7of the cognition cycle.
To correctly establish PIT, RIT and CIT, before any transmission a CR user is designed to
observe the status of frame transmissions around its neighborhood for a period of Tobv. The
duration of Tobv must be longer than the maximum repetition period between two successive
delay-sensitive frames, which optimal value can be obtained through heuristic search but beyond
the scope of this paper. To ease notations, we hereafter denote rt-nodes and nrt-nodes as the CR
users sending delay-sensitive and non-real-time frames, respectively.
IV. CONTENTION RESOLUTION IN Plan STAGE
In the plan stage of the cognition cycle, the cognitive MAC protocol has two major functions.
One is to prevent the CR users from interfering the existing legacy system, and the other is to
efficiently and effectively access the unused spectrum in a short period of time for the CR users.
To this end, we suggest three improved approaches as follows:
1) gating mechanism - to forbid the transmissions that may interfere the primary users or
collide other CR users;
2) linear backoff algorithm - to expedite the channel access for delay-sensitive traffic;
3) stall avoidance scheme - to improve the fairness among nrt-nodes.
The three above mechanisms can help achieve the objectives of high throughput, low access
delay, and fairness. In addition, a classifier is also used to discriminate the handling for delay-
sensitive and non-real-time frames.
A. Gating Mechanism
The gating mechanism is used to avoid interfering the primary users of the existing legacy
system and to reduce the collisions for the CR users. The basic idea is cooperating the spectrum
usage information obtained from the spectrum sensing, identification and allocation techniques to
prevent from interfering the primary users. In addition, we also suggest the modified p-persistent
CSMA algorithm to improve the efficiency of spectrum usage for CR users, where the optimal
value of p can be computed according to the number of nrt-nodes obtained in the CIT [40].
The detailed procedures of the proposed gating mechanism are described as follows:
September 19, 2006 DRAFT
9 






	
 








 








0 321 N_att-1 N_att
: linear backoff algorithm
: binary backoff algorithm
Fig. 2. A comparison between linear and binary exponential backoff algorithms.
C. Stall Avoidance Scheme
In order to improve the fairness for the CR users, we develop a stall avoidance scheme aiming
to reduce the transmission delay of the nrt-nodes with excessive buffered frames. The specific
goal of the suggested approach is to minimize the variance of the transmission delay among all
the nrt-nodes. Due to the short spare time of the spectrum usage in an overlaying CR ad hoc
network, to make the CR users fairly access the channel, the variance of the access delay must
be small. Here, the access delay includes the waiting time in the queue and the channel access
time. Therefore, obviously, reducing the variance of access delay implies that the back-logged
frames can be transmitted early.
The suggested stall avoidance scheme with respect to the nrt-nodes is described as follows. Se-
lect a pre-determined threshold value for the maximum allowable buffered data frames (Qthreshold)
and the guaranteed CW size for the stalled nrt-nodes CWstall, where
CWstall < CWmin. (2)
If the number of buffered frames in an nrt-node is more than (Qthreshold), the CW size of the
September 19, 2006 DRAFT
11
STA1 STA2 STA3
rt-CTS rt-CTS
CBR
ACK ACK
RxTx
Fig. 3. An illustration of the invited reservation procedure.



	
 




	



















 

	



 



 

	



	
	
	



	





 


 

 

	


 

Fig. 4. The timing diagram for the invited reservation procedure.
for the channel through request-to-send/clear-to-send (RTS/CTS) handshaking, like non-real-time
frames. Once the first frame is successfully transmitted, the rt-CTS control frame reserves time
for the subsequent delay-sensitive frames. For example, in Flow 2 (STA 4 → STA 3), STA 4
follows the RTS/CTS handshaking procedure to send the first frame in the nth contention period
(CP). As long as the flow is established, STA 3 sends rt-CTS to inform STA 4 with reserved
information for the rest of frames. Accordingly, without contention STA 4 transmits the rest of
frames in the (n+1)th contention free period (CFP).
As shown in Fig. 4, the total transmission time in each round is partitioned into two periods:
the contention free period (CFP) and contention period (CP). Since the total transmission time
in each round is fixed, the longer the CFP, the shorter the CP. Thus, one important induced issue
is to appropriately allocate the time duration of the two periods so that the delay constraints for
the delay-sensitive traffic flow can be satisfied with higher priority, while its impact on the non-
real-time transmissions can be limited to an acceptable level. This issue can be resolved by the
September 19, 2006 DRAFT
13
The basic idea of the proposed distributed synchronization algorithm is to use the rt-CTS and
ACK control frames to replace the “beacon” signal. In our design, the rt-CTS and ACK control
frames of the first and last delay-sensitive traffic flows in RIT are used to indicate the starts of the
CFP and CP, respectively. Since a CR user establishes its neighbor list in the observe stage, the
information in RIT can be utilized by a CR user to identify the first and last stations transmitting
the delay-sensitive frames. Thus, when sensing the channel is available, the first receiver in RIT
broadcasts rt-CTS frame to start a new CFP. During the CFP, the rt-nodes transmit frames based
on the sequence defined in the RIT, whereas the nrt-nodes wait until receiving the ACK frame
from the last receiver in RIT. If the primary user become active during CFP, the receiver of the
delay-sensitive traffic flow will halt sending the rt-CTS and resume it when the spectrum turns
idle. Therefore, through the information stored in PIT and RIT, all the CR users can access the
channel in the designated period without influencing the primary users and the transmissions in
the reserved time.
Figure 5 is an illustrative example for the operation procedures of the proposed distributed
synchronization procedure. Assume that STAs 1∼6 want to establish delay-sensitive traffic flows.
At the start of the nth CFP, STA 1 senses the channel is available and immediately sends the
rt-CTS to start a new CFP. Then, it waits for receiving the frame transmitted from STA 2. After
sending the ACK frame to STA 2, STA 1 waits for a fixed duration and repeats the above
procedure until flow 1 is terminated. In the meanwhile, STAs 3 and 5 overhear the channel.
When the transmissions in the current CFP are finished, STA 3 sends the rt-CTSs to STA 4
to start traffic flow 2. At last, when the transmissions of the last flow in RIT (i.e. flow 3 from
STA 6 to STA5) are ended, it is the signal of the starting time of CP for all the nrt-nodes to
content for the channel. The proposed distributed frame synchronization is only needed when
delay-sensitive traffic flows exits. With only non-real-time traffic, the legacy CSMA/CA MAC
protocol with the suggested gating mechanism is enough.
Two other interesting scenarios are discussed as follows. First, when a station just turns on
the power to join the CR network, it may not receive the rt-CTS or ACK frames from the first
and last receivers in RIT. This particular new station may access the channel in CFP and collide
the on-going transmissions. To avoid this kind of collisions, the previously suggested neighbor
list establishment mechanism has been carefully designed to resolve this problem. Recall that
before transmission every CR user overhears the spectrum for at least a period of Tobv to correctly
September 19, 2006 DRAFT
15
users transmitting during the spare time.
A. Previous case: Non-real-time traffic
First, we summarize the previous results regarding throughput analysis for the legacy CSMA/CA
MAC protocol in sending non-real-time traffic. Denote Ptr and Ps the probability of at least one
frame being transmitted in one slot, and that of exact one frame being transmitted in one slot.
Then according to [40], the normalized throughput (S), defined as the ratio of successful frame
transmission time over the total transmission time, can be written as
S =
E[transmitted payload in a slot time]
E[length of a slot time]
=
PsPtrE[P ]
(1− Ptr)σ + PtrPsTs + Ptr(1− Ps)Tc , (3)
where E[P ] is the average payload size; σ is the duration of an idle slot; Ts is the average
successful transmission time; and Tc is the average collision time.
For n contending nrt-nodes with transmission probability τ , it is followed that
Ptr = 1− (1− τ)n , (4)
and
Ps =
nτ(1− τ)n−1
Ptr
=
nτ(1− τ)n−1
1− (1− τ)n . (5)
Consider the CW size ranging from (W, 2mW ). Following the steps in [40], we can obtain the
probability τ as
τ =
2(1− p)
(1− 2p)(W + 1) + pW (1− (2p)m) , (6)
where p is the conditional collision probability, i.e.,
p = 1− (1− τ)n−1 . (7)
Jointly solving (6) and (7), we can obtain the stationary transmission probability τ for a given
n and W . At last, substituting the valued of τ into (4), and (5), the normalized throughput S
can be obtained from (3).
September 19, 2006 DRAFT
17
On Off


(a)
P  P

P

P

  
  
(b)
Fig. 6. (a) Interrupted Poisson process model for delay-sensitive traffic. (b) Markov modulated Poisson process (MMPP) model
for one type delay-sensitive traffic with M users.
P 

  P 

P 

 P 


N (N-1)

P

  P

P

 P


N (N-1)

M M M M
P

  P

P

 P


N (N-1)

Fig. 7. Two-dimensional Markov chain for the analysis of two delay-sensitive traffic types.
September 19, 2006 DRAFT
19
• Telnet data traffic models as a Poisson process with fixed frame size and various arrival
rates.
• FTP data traffic assumes to continuously generate frames with fixed frame size.
Without any notice in the following, the system considers 40 nrt-nodes establishing Telnet data
flows in the presence of 10 rt-nodes transmitting voice traffic flows. All the nodes locate within
the cover range as shown in Table I and can overhear with each other all the time.
B. Performance Measurements
The performance of the proposed cognitive MAC protocol is evaluated in terms of the nor-
malized throughput, mean access delay, fairness, and dropping rate. For clearance, we define
these performance metrics as follows.
• Normalized throughput is defined as the ratio of the number of successfully received bits
to the amount of total transmitted bits. Note that the successfully received bits account for
both the successfully received non-real-time data frames and the delay-sensitive frames that
satisfy the delay constraint. The received delay-sensitive frame will not be counted if the
delay constraint is not satisfied. In this paper, the constrain is 40 msecs.
• Mean access delay accounts for the average duration starting when a non-real-time frame
enters the transmitter’s MAC layer until it successfully departs from the receiver’s MAC
layer.
• Fairness is evaluated according to the maximum standard deviation of the access delay
among all the non-real-time traffic flows.
• Dropping rate is defined as the ratio of the number of dropped delay-sensitive frames to
the total number of transmitted frames. The frame is considered to be dropped, if the access
delay of the received frame is beyond 40 msec.
C. Numerical Results
Figure 8 compares the normalized throughput of the proposed cognitive MAC protocol with
that of the legacy CSMA/CA MAC protocol in the considered system. For the frame sizes of
60 and 950 bytes, the throughput of the proposed MAC protocol are 100% and 50% better
than those of the CSMA/CA MAC protocol, respectively. The improvements mainly result from
the invited reservation procedure, which can control the delay for the delay-sensitive frames.
September 19, 2006 DRAFT
21
0
0.2
0.4
0.6
0.8
1
1.2
1.4
1.6
1.8
2
1000 1400 1800 2200 2600 3000 3400 3800
Offered load(kbps)
New MAC 950bytes New MAC 60bytes
CSMA/CA 950bytes CSMA/CA 60bytes
 














	
(a)
0
1
2
3
4
5
6
7
8
9
10
1000 1400 1800 2200 2600 3000 3400 3800
Offered load(kbps)
New MAC 950bytes New MAC 60bytes
CSMA/CA 950bytes CSMA/CA 60bytes
 










	


	






















(b)
Fig. 9. Comparison of the proposed cognitive MAC protocol and CSMA/CA MAC protocol in terms of (a) mean access and
(b) fairness.
September 19, 2006 DRAFT
23
0
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0 20 40 60 80 100 120 140 160
Number of Data Nodes
New MAC 950bytes New MAC 500bytes New MAC 60bytes
analysis 950bytes analysis 500bytes analysis 60bytes
 








	











Fig. 11. Throughput of the proposed cognitive MAC protocol in the mixed voice and FTP data traffic.
 



 



 

 





	






	







	




Fig. 12. Considered network topology of the environment with hidden nodes.
40 nrt-nodes in regions I and III transmit voice and Telnet data traffic to the stations in region
II at the same time. As shown in Figs. 13(a) and (b), the proposed cognitive MAC protocol
also outperforms the legacy CSMA/CA MAC protocol in terms of throughput and dropping rate
even in such environment. For the legacy CSMA/CA MAC protocol, the increased collisions
due to hidden nodes further decreases the throughput and prolongs the access delay for delay-
sensitive frames. However, for the proposed MAC protocol, this problem can be alleviated by
the invited reservation procedure. Recall that prior to receive the data frame the receiver of a
delay-sensitive traffic flow broadcasts rt-CTS, which can forbid neighboring stations to interfere
the desired users in the reserved slots. Because most frames are not influenced by the hidden
node issue, the proposed cognitive MAC protocol significantly improve the throughput and lower
dropping rate compared to the legacy CSMA/CA MAC protocol.
September 19, 2006 DRAFT
25
IX. CONCLUSION
In this paper, we have proposed a cognitive MAC protocol to establish an overlaying CR ad
hoc network with QoS provisioning in the presence of the legacy wireless systems. The proposed
mechanisms can supplement the insufficiency of the legacy CSMA/CA MAC protocol to fulfill
the goals of the cognitive wireless networks. With respect to the four stages of the cognition
cycle, we suggest the following techniques:
• Neighbor list establishment in the observe stage: to help a CR user have the knowledge
of the spectrum usage of the primary and other CR users;
• Improved contention resolution algorithm in the plan stage: to prevent CR users from
interfering the existing legacy system and to allow CR users to efficiently and fairly access
the channel in the short spare time of the primary users.
• Invited reservation procedure in the decide stage: to schedule the transmissions of delay-
sensitive traffic with satisfactory QoS requirements without interfering the primary users
and to dynamically allocate the bandwidth for various traffic types to avoid the starvation
issue for low priority traffic.
• Distributed frame synchronization in the act stage: to distributively coordinate the frame
transmissions among the CR users.
Through the simulations by NS-2, we demonstrate that even in the environment with hidden
nodes, the throughput performance of the proposed MAC protocol is at least 50% better than
that of the legacy CSMA/CA MAC protocol. The mean access delay and its maximum standard
deviation of the proposed MAC protocol are 6 times less than the CSMA/CA MAC protocol.
At last, instead of more than 40 % for the legacy CSMA/CA MAC protocol, the dropping rate
of delay-sensitive traffic for the proposed MAC protocol is almost negligible.
In summary, taking advantages of the obtained information in the observe stage of the cognition
cycle, the proposed cognitive MAC protocol can avoid interfering the primary user. We also
show how to utilize the collected information for other performance enhancements: (1) to
increase the throughput for the contention-based channel access protocol; (2) to schedule the
transmission of delay-sensitive frames with QoS provisioning; (3) to distributively synchronize
the transmissions among ad hoc CR users. With suggested moderate modifications, the legacy
CSMA/CA MAC protocol can be reshaped to an appropriate MAC protocol for overlaying CR
September 19, 2006 DRAFT
27
[15] C. Doerr, M. Neufeld, J. Fifield, T. Weingart, D. C. Sicker, and D. Grunwald, “MultiMAC - an adaptive MAC framework
for dynamic radio networking,” IEEE International Symposium on New Frontiers in Dynamic Spectrum Access Networks,
pp. 548–555, Nov. 2005.
[16] S. Sankaranarayanan, P. Papadimitratos, A. Mishra, and S. Hershey, “A bandwidth sharing approach to improve licensed
spectrum utilization,” IEEE International Symposium on New Frontiers in Dynamic Spectrum Access Networks, pp. 279–
288, Nov. 2005.
[17] J. Mitola and G. Q. Maguire, “Cognitive radio: making software radios more personal,” IEEE Personal Communications,
vol. 6, pp. 13–18, Aug. 1999.
[18] R. W. Thomas, L. A. DaSilva, and A. B. MacKenzie, “Cognitive networks,” IEEE International Symposium on New
Frontiers in Dynamic Spectrum Access Networks, pp. 352–360, Nov. 2005.
[19] The Network Simulator- NS2. [Online]. Available: http://www.isi.edu/nsnam/ns
[20] IEEE Std. 802.11, ”Part 11: Wireless LAN medium access control (MAC) and physical layer (PHY) specification, Nov.
1999.
[21] C. Zhu and M. S. Corson, “A five-phase reservation protocol for mobile ad hoc networks,” IEEE INFOCOM, vol. 1, pp.
322–331, Mar. 1998.
[22] J. J. Garcia-Luna-Aceves and A. Tzamaloukas, “Receiver-initiated collision avoidance in wireless networks,” ACM Wireless
Networks, vol. 8, no. 2-3, pp. 249–263, Mar.-May 2002.
[23] J. L. Sobrinho and A. S. Krishnakumar, “Quality-of-service in ad hoc carrier sense multiple access networks,” IEEE Journal
on Selected Areas in Communication, vol. 17, no. 8, pp. 1353–1368, Aug. 1999.
[24] IEEE Std. 802.11e/D3.2, “Wireless LAN Medium Access Control (MAC) and Physical Layer (PHY) Specifications, Medium
Access Control(MAC) Enhancement for Quality of Service (QoS)”, Aug. 2002.
[25] A. Veres, A. T. Campbell, M. Barry, and L. Sun, “Supporting service differentiation in wireless packet networks using
distributed control,” IEEE Journal on Selected Areas in Communication, vol. 19, no. 10, pp. 2081–2093, Oct. 2001.
[26] F. Calı`, M. Conti, and E. Gregori, “IEEE 802.11 protocol: design and performance evaluation of an adaptive backoff
mechanism,” IEEE Journal on Selected Areas in Communication, vol. 18, no. 19, pp. 1774–1786, Sep. 2000.
[27] ——, “Dynamic tuning of the IEEE 802.11 protocol to achieve a theoretical throughput limit,” IEEE/ACM Transcations
on Networking, vol. 8, no. 6, pp. 785–799, Dec. 2000.
[28] A. Lindgren, A. Almquist, and O. Schelen, “Evaluation of quality of service scheme for IEEE 802.11 wireless LANs,”
in Proceedings of the 26th Annual IEEE Conference on Local Computer Networks (LCN 2001), pp. 384–391, Nov. 2001.
[29] T. Nandagopal, T. E. Kim, X. Gao, and V. Bharghavan, “Achieving MAC layer fairness in wireless packet networks,” The
ACM Annual International Conference on Mobile Computing and Networking, pp. 87–98, Aug. 2000.
[30] N. H. Vaidya, P. Bahl, and S. Gupta, “Distributed fair scheduling in a wireless LAN,” The ACM Annual International
Conference on Mobile Computing and Networking, pp. 167–178, Aug. 2000.
[31] Y. Kwon, Y. Fang, and H. Latchman, “Fast collision resolution (FCR) MAC algorithm for wireless local area network,”
IEEE Global Telecommunications Conference, vol. 3, pp. 2250–2254, Nov. 2002.
[32] H. Zhu, M. Li, I. Chlamtac, and B. Prabhakaran, “A survey of quality of service in IEEE 802.11 networks,” IEEE Wireless
Communications, vol. 11, pp. 6–14, Aug. 2004.
[33] D. J. Goodman, R. A. Valenzuela, K. T. Gayliard, and B. Ramamurthi, “Packet reservation multiple access for local wireless
communications,” IEEE Transactions on Communications, vol. 37, no. 8, pp. 885–890, Aug. 1989.
September 19, 2006 DRAFT
1Effects of Location Awareness on Concurrent
Transmissions for Cognitive Ad Hoc Networks
Overlaying Infrastructure-Based Systems
Li-Chun Wang and Anderson Chen
Department of Communication Engineering,
National Chiao Tung University, Taiwan
Email: lichun@cc.nctu.edu.tw; mingbing.cm87g@nctu.edu.tw
Abstract
Through wide-band spectrum sensing, cognitive radio (CR) can identify the opportunity of reusing
the frequency spectrum of other wireless systems. However, wide-band spectrum sensing requires energy
consumption processes. In this paper, we aim to relieve the burden of spectrum scanning in a CR system
by means of location awareness. We investigate to what extent a CR system with location awareness
capability can establish a scanning-free region where a peer-to-peer connection of the secondary CR
users can coexist with an infrastructure-based connection of the primary user. We compute the concurrent
transmission probability of a peer-to-peer connection and an infrastructure-based connection in a system
based on the carrier sense multiple access with collision avoidance (CSMA/CA) medium access control
(MAC) protocol. It has been shown that the frequency band of the legacy system can be reused up to 45%
by the overlaying cognitive ad hoc network if certain location techniques help CR users locate primary
and other secondary users. In summary, a CR system equipped with location awareness techniques can
dramatically reduce the need of spectrum sensing thanks to the capability of identifying the concurrent
transmission region in a hybrid infrastructure-based and ad hoc overlaying systems. Hence, from another
aspect, the issue of wide-band spectrum sensing in CR systems is resolved fundamentally.
This work was jointly supported by the National Science Council, Taiwan and the MOE ATU program under the contract
NSC-94-2213-E-009-060 and 95W803, respectively.
January 18, 2007 DRAFT
3assumed that the location information of other nodes can be obtained from the upper layer [17].
We will also investigate the throughput improvement resulting from concurrent transmissions
based on the carrier sense multiple access with collision avoidance (CSMA/CA) medium access
control (MAC) protocol.
In the literature, the coexistence issue of the hybrid infrastructure-based and overlaying ad hoc
networks has been addressed but in different scenarios. In [21]–[24], the idea of combining ad
hoc link and infrastructure-based link was proposed mainly to extend the coverage area of the
infrastructure-based network. That is, the coverage area of ad hoc networks is not overlapped
with that of the infrastructure-based network. In the present hybrid ad hoc/infrastructure-based
network, as shown in Fig. 1, the peer-to-peer CR users are located within the coverage area of the
existing legacy wireless network. In [25], to further improve the throughput of a wireless local
area network (WLAN), it was suggested that an access point (AP) could dynamically switch
between the infrastructure mode and the ad hoc mode. In our considered scenario, the decision
of establishing ad hoc connections is made by the CR users in a distributed manner.
Our main contribution of this paper is to provide the idea of utilizing location awareness
to facilitate frequency sharing in a concurrent transmission manner. Specific achievements are
summarized in the following.
• We show that a CR device having location information of other nodes can concurrently
transmit a peer-to-peer data in the presence of an infrastructure-based connection in some
region. We also dimension the concurrent transmission (or the scanning-free) region for CR
users. Note that a concurrent transmission region of a CR system is equivalent to a scanning-
free region. Nevertheless, the wide-band spectrum sensing procedure is still needed but is
initiated only when the CR user is outside the concurrent transmission region. Therefore,
the energy consumption of CR systems with location awareness capability can be reduced
significantly.
• Based on the CSMA/CA MAC protocol, a physical/MAC cross-layer analytical model is
developed to compute the coexistence probability of a peer-to-peer connection and an
infrastructure-based connection. Based on this analytical model, we find that concurrent
transmission of the secondary CR users and the primary users in the legacy system can
significantly enhance the total throughput over the pure legacy system.
January 18, 2007 DRAFT
5MS3 (r3, 3)
BS
MS1 (r1, 1)
MS2 (r2, 2)
Cell coverage, 
R
Internet
Fig. 1. An illustrative example for the coexistence of two CR devices establishing a peer-to-peer ad hoc link and a primary
user connecting to the infrastructure-based network, where all the devices (MS1, MS2, and MS3) use the same spectrum
simultaneously.
where Pr and Pt are the received and transmitted power levels at a mobile station, respectively;
hbs and hms represent the antenna heights of the base station and the mobile station, respectively;
Gbs and Gms stand for the antenna gains of the base station and the mobile station, respectively;
r is the distance between the transmitter and receiver; α is the path loss exponent; 10
ξ
10 is the
log-normally distributed shadowing component.
III. SIGNAL-TO-INTERFERENCE RATIO ANALYSIS
A. Uplink SIR Analysis
In the uplink case when the primary user MS3 transmits data to the base station, denote SIR
(u)
i
as the uplink SIR of MS3 and let P30 and P10 be the received power from MS3 and MS1 at the
base station, respectively. Then from (2), we have
SIR
(u)
i = (
r1
r3
)α =
P30
P10
, (3)
where r1 and r3 are the distances between MS1 and MS3 to the base station, respectively.
Similarly, the SIR of a peer-to-peer ad hoc link from MS1 to MS2 can be written as
SIRa =
P12
P32
= (
d23
d12
)α , (4)
January 18, 2007 DRAFT
7MS2
BS
MS3
: RCT
(u)
: A1
(u)
: A2
(u)
Fig. 2. Physical representation of the coexistence probability for the concurrent transmission of hybrid CR-based ad hoc link
and infrastructure uplink transmission.
where P12 and P02 are the received powers at MS2 from MS1 and the base station, respectively;
r2 represents the distance between MS2 and the base station; d12, hbs and hms are defined in (4)
and (2).
Substituting (9) and (10) into (1), we can obtain the concurrent transmission probability P (d)CT
of a CR-based peer-to-peer ad hoc link and an infrastructure-based downlink transmission as
follows:
P
(d)
CT = P{(d13 > r3z′1/αi ) ∩ (d12 < r2z′1/αa ) ∩ (r1 < R)} ,
R
(d)
CT
piR2
, (11)
where z′i = zi
h2ms
h2bs
and z′a =
1
za
h2ms
h2bs
. From (11), the concurrent transmission region R(d)CT in the
downlink case is shown in Fig. 3. The criterion (d13 > r3z
′1/α
i ) results in the region outside the
circle centered at MS3 with a radius of r3z
′1/α
i , while the criterion (d12 < r2z
′1/α
a ) yields the
region inside the circle centered at MS2 with radius r2z
′1/α
a . At last, r1 < R because MS1 is
assumed to be uniformly distributed within a cell of radius R.
The coexistence probability of the CR-based ad hoc link and the infrastructure-based downlink
can be obtained by calculating the area of R(d)CT . The distances from the AP to the intersections
January 18, 2007 DRAFT
9MS2
MS3
BS
: intersections of 
link requirements
: RCT
(d)
: A1
(d)
: A2
(d)
(a) The case when max(r+, r−) ≤ R.
: RCT
(d)
: A1
(d)
: A2
(d)
: A3
(d)
: intersections of 
link requirements
AP
MS3
MS2
(b) The case when max(r+, r−) > R.
Fig. 3. The area of concurrent transmission region RCT in downlink cases.
January 18, 2007 DRAFT
11
dmj ≤ ( 1
za((
1
rn
)α +
∑
k(
1
dkn
)α)
)
1
α ; (26)
rm ≤ R . (27)
3) Since the concurrent transmission regions R(u)CT and R
(d)
CT are known, the CR device can
determine whether it can concurrently transmit data together with the infrastructure link
and other ad hoc connections by the primary user and other secondary CR users.
IV. SHADOWING EFFECTS
In the previous section, we only consider the impact of path loss on the concurrent transmission
probability of CR-based network overlaying the infrastructure-based system. However, even
though the CR device is located inside the concurrent transmission region RCT , a peer-to-peer
ad hoc connection may not be able to coexist together with the primary user’s infrastructure link
due to shadowing. Thus, it is important to investigate the reliability of concurrent transmissions
of the hybrid infrastructure and CR-base ad hoc network when shadowing is taken into account.
Shadowing can be modeled by a log-normally distributed random variable [27]. Represent
10
ξij
10 as the shadowing component in the propagation path from users i to j, where ξij is a
Gaussian random variable with zero mean and standard deviation of σξ. Thus, the uplink and
downlink SIRs in both the infrastructure-based connection and CR-based ad hoc link are modified
as:
• uplink case:
SIR
(u)
i (ξ30, ξ10) =
10
ξ30
10 /rα3
10
ξ10
10 /rα1
; (28)
SIR(u)a (ξ12, ξ32) =
10
ξ12
10 /dα12
10
ξ32
10 /dα23
; (29)
• downlink case:
SIR
(d)
i (ξ03, ξ13) =
10
ξ03
10 /rα3
10
ξ13
10 /dα13
; (30)
SIR(d)a (ξ12, ξ02) =
10
ξ12
10 /dα12
10
ξ02
10 /rα2
. (31)
Note that the index 0 represents the base station and ξ30 of (29) in the uplink case is equivalent
to ξ03 of (31) in the downlink case. Let ξ = (ξ10, ξ30, ξ12, ξ32) and ξ′ = (ξ13, ξ03, ξ12, ξ02) and
January 18, 2007 DRAFT
13
V. MAC LAYER THROUGHPUT ANALYSIS
In this section, the MAC layer throughput performance of the considered hybrid infrastructure
and overlaying CR-based ad hoc network is evaluated from a PHY/MAC cross-layer perspective.
The main task here is to incorporate the interference from both the infrastructure and ad hoc
links into the throughput evaluation model in the MAC layer.
In this paper, the CSMA/CA MAC protocol with the binary exponential backoff algorithm
is considered because it is widely deployed in many license-exempt frequency bands. However,
the CSMA/CA MAC protocol may not be used to establish the CR-based ad hoc link since the
clear channel assessment (CCA) by measuring the received signal strength (RSS) may forbid the
transmissions in the presence of infrastructure link. To remove this constraint, we use the location
and channel station information to replace the RSS measurement for CCA in the traditional
CSMA/CA MAC protocol. Therefore, the CR device can establish the ad hoc connection once
the new connection does not injure the existing primary infrastructure link.
Next, we first summarize the throughput calculation in the traditional CSMA/CA MAC pro-
tocol [28], [29]. Assume N stations always transmit data packets in the network, and let W and
2bW be the minimum and maximum backoff window sizes, respectively. Given the stationary
transmission probability τ that a station transmits packet in a given slot and the successful
transmission probability ps(N), the throughput S(N) of the CSMA/CA MAC protocol can be
expressed as
S(N) =
ptrps(N)E[P ]
(1− ptr)σ + ptr(1− ps(N))Tc + ptrps(N)Tc , (38)
where ptr = 1 − (1 − τ)N ; E[P], Ts, Tc, and σ are the average payload size, the average
successful transmission duration, the average collision duration, and the slot duration. The
stationary transmission probability τ is a function of the packet loss probability pL, that is
τ(pL) =
2
1 +W + pLW
b−1∑
i=0
(2pL)i
. (39)
Note that both the packet loss probability pL and the successful transmission probability ps(N)
are influenced by the radio channel effect and the multiuser capture effect in the physical layer
[29].
Then, we evaluate the total throughput performance of the concurrent transmission in the
hybrid infrastructure and overlaying CR-based ad hoc network. Here, we assume NCR CR devices
January 18, 2007 DRAFT
15
TABLE I
SYSTEM PARAMETERS
MAC/PHY header 224/192 bits
ACK/RTS/CTS 304/352/304 bits
DATA payload 16000 bits
Bit rate 1 Mbps
Slot time 20µs
SIFS/DIFS 10/50µs
Min contention window 32
Maximum backoff stage 5
Transmission power, Pt 20 dBm
Noise power, N0 -90 dBm
respectively; the required link SIR threshold is 0 dB or 3 dB. First, one can see that the analytical
results match the simulation results well. Second and more importantly, there exists an optimal
concurrent transmission probability P (u)CT against the distance r3 from the primary user MS3 to
the base station. Note that for zi = 0 dB, the maximal P
(u)
CT = 0.45 at r3 = 40 meters; and for
zi = 3 dB the maximal P
(u)
CT = 0.22 at r3 = 26 meters. This phenomenon can be explained
as follows. On the one hand, when MS3 approaches to the base station, it is also closer to the
CR-based ad hoc receiver, thereby causing higher interference and decreasing the concurrent
transmission probability. On the other hand, when MS3 moves away from the base station, its
uplink SIR decreases due to the weaker signal strength and thus yields a lower P (u)CT . Hence, an
optimal primary user’s location can be found in the sense of maximizing the uplink concurrent
transmission probability P (u)CT .
Figure 5 shows the impact of MS2’s locations on the uplink concurrent transmission probability
P
(u)
CT . As shown in the figure, as the CR-based ad hoc user moves away from the base station,
the concurrent transmission probability monotonically increases from 10% to 50% because the
interference from the infrastructure-based link to the ad hoc connection decreases.
B. Downlink Concurrent Transmission Probability
Figure 6 shows the downlink concurrent transmission probability P (d)CT versus the distance r3
of the primary user MS3 to the base station when user MS2 is located at (50,−pi2 ). For the SIR
January 18, 2007 DRAFT
17
0 10 20 30 40 50 60 70 80 90 100
0
0.05
0.1
0.15
0.2
0.25
0.3
0.35
0.4
0.45
0.5
r2
Co
nc
ur
re
nt
 T
ra
ns
m
iss
io
n 
Pr
ob
ab
ilit
y
zi=za=0dB(simulation)
zi=za=0dB(analysis)
zi=za=3dB(simulation)
zi=za=3dB(analysis)
Fig. 5. The concurrent transmission probability P (d)CT versus the CR-based ad hoc receiver’s location as the infrastructure uplink
user MS3 is located at (50, pi2 ), where r2 is the distance between the base station and ad hoc link receiver MS2.
C. Effects of Shadowing on the Concurrent Transmission
Figures 8(a) and (b) illustrate the reliability of the concurrent transmissions with various
shadowing standard deviations versus r3 and r2, respectively. In general, comparing σξ = 6 dB
and σξ = 1 dB, one can find that the larger shadowing variance leads to a lower reliability for
both uplink and downlink concurrent transmissions. For example, in Fig. 8(a), when the primary
user’s distance to the base station r3 in the range of 0 ∼ 100 meters, F (d)CT is larger than 0.9
for σξ = 1 dB, whereas it decreases to 0.6 ∼ 0.7 for σξ = 6 dB. However, when the primary
user moves to the cell edge, the reliability of uplink and downlink concurrent transmissions
decreases due to shadowing and weaker received signal strength. As shown in Fig. 8(a), for
σξ = 6 dB, F
(d)
CT and F
(u)
CT decrease from 0.7 to 0.5 and 0.4, respectively. Since the uplink signal
strength is weaker than the downlink signal, the reliability of uplink concurrent transmission is
usually more sensitive to shadowing effects than downlink concurrent transmission, especially
when the primary user is at the cell edge. In Fig. 8(b), it is shown that, subject to the influence
January 18, 2007 DRAFT
19
0 10 20 30 40 50 60 70 80 90 100
0
0.05
0.1
0.15
0.2
0.25
0.3
0.35
0.4
Co
nc
ur
re
nt
 T
ra
ns
m
iss
io
n 
Pr
ob
ab
ilit
y
r2
zi=za=0dB(simulation)
zi=za=0dB(analysis)
zi=za=3dB(simulation)
zi=za=3dB(analysis)
Fig. 7. Impact of CR-based ad hoc receiver MS2’s location on the concurrent transmission probability P
(d)
CT as the infrastructure
downlink user MS3 is located at (50, pi2 ).
primary users. The total throughput is normalized to the infrastructure-based uplink capacity.
As shown in the figure, in the worst case at r3 = 50 meters the total throughput with the
concurrent transmission is still 145% higher than the pure infrastructure-based uplink, and the
total throughput reaches a maximum of 173% at r3 = 10 meters.
Figure 10 shows the total throughput performance of the concurrent transmission of infrastructure-
based downlink and ad hoc link. In this case, the concurrent transmission probability is constant
for various locations of primary users as shown in Fig. 6. Thus the throughput is mainly affected
by the number of ad hoc users. For NCR = 50, the total throughput is 157% when 10 < r3 < 100
meters. However, when r3 = 50 meters, the total throughput improves from 148% to 173% as
NCR is changed from 100 to 10.
VII. CONCLUSIONS
In this paper, we identified a critical region RCT in which the overlaying cognitive ad hoc users
and the primary user can concurrently transmit data without causing interference to each other.
January 18, 2007 DRAFT
21
0
20
40
60
80
100
50
100
1.5
1.55
1.6
1.65
1.7
1.75
1.8
r3# of users
N
or
m
al
iz
ed
 T
hr
ou
gh
pu
t
Fig. 9. Total throughput performance of the uplink concurrent transmission.
0 20 40 60 80 100
50
100
1.5
1.55
1.6
1.65
1.7
1.75
1.8
r3
# of users
N
or
m
al
iz
ed
 T
hr
ou
gh
pu
t
Fig. 10. Total throughput performance of the downlink concurrent transmission.
January 18, 2007 DRAFT
23
of ( d23
z
1/α
a
)2(pi−θ′) and R2θ, and two identical triangles with the lengths of R, r2, and d23
z
1/α
a
, where
θ = cos−1
R2 + r22 − d23z1/αa
2Rr2
, (41)
θ′ = cos−1
r22 + (
d23
z
1/α
a
)2 −R2
2r2(
d23
z
1/α
a
)
, (42)
∆ =
√
s(s−R)(s− r2)(s− d23
z
1/α
a
) , (43)
and
s =
R + r2 +
d23
z
1/α
a
2
. (44)
Similarly, in (8), the section A2 is also made up by two fan-shaped areas with the measures
of ( d23
z
1/α
a
)2φ and (r3z
1/α
i )
2φ′, and the triangle with the lengths of r2, r3z
1/α
i , and
d23
z
1/α
a
, where
φ = cos−1
r22 + (
d23
z
1/α
a
)2 − (r3z1/αi )2
2r2(
d23
z
1/α
a
)
, (45)
φ′ = cos−1
r22 + (r3z
1/α
i )
2 − ( d23
z
1/α
a
)2
2r2(r3z
1/α
i )
, (46)
∆′ =
√
s′(s′ − r2)(s′ − r3z1/αi )(s′ −
d23
z
1/α
a
) , (47)
and
s′ =
r2 + r3z
1/α
i +
d23
z
1/α
a
2
. (48)
APPENDIX II
DERIVATION OF (12) AND (13)
The distances between the base station to the intersections by the two circles with the radii of
r3z
′1/α
i and r2z
′1/α
a and centered at (r3, θ3) and (r2, θ2) are denoted by r+ and r−, respectively.
Given the locations of intersections (x, y), they can be obtained by jointly solving the equations
as follows:  (x− r2cosθ2)2 + (y − r2sinθ2)2 = (r2z
′1/α
a )2 ;
(x− r3cosθ3)2 + (y − r3sinθ3)2 = (r3z′1/αa )2 .
(49)
The distances between the base station and the intersections r+ and r−, respectively, shown in
(12) and (13) can be obtained by solving the locations (x, y) from (49).
January 18, 2007 DRAFT
25
MS2
MS3
BS
Fig. 12. Definition of parameters in the calculation of the area of region R(d)CT in the infrastructure downlink case when
max(r+, r−) ≤ R.
where
φ = cos−1
d223 + (r2z
′1/α
a )2 − (r3z′1/αi )2
2d23(r2z
′1/α
a )
, (54)
φ′ = cos−1
d223 + (r3z
′1/α
i )
2 − (r2z′1/αa )2
2d23(r3z
′1/α
i )
, (55)
∆′ =
√
s′(s′ − d23)(s′ − r3z′1/αi )(s′ − r2z′1/αa ) , (56)
and
s′ =
d23 + r2z
′1/α
a + r3z
′1/α
i
2
. (57)
APPENDIX IV
DERIVATION OF (18)
When max(r+, r−) > R, the region R(d)CT can be separated into four sections with the areas
of pi(d23z
′1/α
a )2, A1, A2, and A3. Figure 13 shows all the parameters in deriving (19), (20), and
(21). In (19), the section A1 can be divided into two fan-shaped areas with the measures of
January 18, 2007 DRAFT
27
MS2
BS
MS3
Fig. 14. Definitions of parameters in the calculation of the area of section A3 in (18) in the infrastructure downlink case when
max(r+, r−) > R.
and
s′ =
d23 + r2z
′ 1
α
a + r3z
′ 1
α
i
2
. (65)
At last, in (21), the section A3 is constructed by three arc-shaped areas with the measures of
(r3z
′1/α
i )
2ψ2 − 12(r3z′1/αi )2sinψ2, (r2z′1/αa )2ψ3 − 12(r2z′1/αa )2sinψ3, and R2ψ1 − 12R2sinψ1, and
January 18, 2007 DRAFT
29
[10] F. Capar, I. Martoyo, T. Weiss, and F. Jondral, “Comparison of bandwidth utilization for controlled and uncontrolled
channel assignment in a spectrum pooling system,” IEEE Vehicular Technology Conference, vol. 3, pp. 1069–1073, May
2002.
[11] ——, “Analysis of coexistence strategies for cellular and wireless local area networks,” IEEE Vehicular Technology
Conference, vol. 3, pp. 1812–1816, Oct. 2003.
[12] B. Aazhang, J. Lilleberg, and G. Middleton, “Spectrum sharing in a cellular system,” IEEE International Symposium on
Spread Spectrum Techniques and Applications, pp. 355–359, Aug. 2004.
[13] T. Weiss, M. Spiering, and F. K. Jondral, “Quality of service in spectrum pooling systems,” IEEE International Symposium
on Personal, Indoors, and Mobile Radio Communications, vol. 1, pp. 345–349, Sep. 2004.
[14] Q. Zhao, L. Tong, and A. Swami, “Decentralized cognitive MAC for dynamic spectrum access,” Proceedings of the first
IEEE Symposium on New Frontiers in Dynamic Spectrum Access Networks, pp. 224–232, Nov. 2005.
[15] T. W. Rondeau, B. Le, C. J. Rieser, and C. W. Bostian, “Cognitive radios with genetic algorithms: intelligent control of
software defined radios,” SDR Forum Technical Conference, pp. C3–C8, 2004.
[16] Q. Zhao, L. Tong, and A. Swami, “A cross-layer approach to cogintive MAC for spectrum agility,” Proceedings of IEEE
Asilomar Conference on Signals, Systems, and Computers, pp. 200–204, Nov. 2005.
[17] S. Krishnamurthy, M. Thoppian, S. Venkatesan, and R. Prakash, “Control channel based MAC-layer configuration, routing
and situation awareness for cognitive radio networks,” Proceedings of IEEE Military Communications, pp. 1–6, Oct. 2005.
[18] C. Doerr, M. Neufeld, J. Fifield, T. Weingart, D. C. Sicker, and D. Grunwald, “MultiMAC - an adaptive MAC framework
for dynamic radio networking,” IEEE International Symposium on New Frontiers in Dynamic Spectrum Access Networks,
pp. 548–555, Nov. 2005.
[19] S. Sankaranarayanan, P. Papadimitratos, A. Mishra, and S. Hershey, “A bandwidth sharing approach to improve licensed
spectrum utilization,” IEEE International Symposium on New Frontiers in Dynamic Spectrum Access Networks, pp. 279–
288, Nov. 2005.
[20] Y. Xing and R. Chandramouli, “Dynamic spectrum access in open spectrum wireless networks,” IEEE Journal on Selected
Areas in Communication, vol. 24, pp. 626–637, Mar. 2006.
[21] H. Wu, C. Qiao, S. De, and O. Tonguz, “Integrated cellular and ad hoc relaying systems: iCAR,” IEEE Journal on Selected
Areas in Communication, vol. 19, no. 10, pp. 2105–2115, Oct. 2001.
[22] E. Yanmaz, O. K. Tonguz, S. Mishra, H. Wu, and C. Qiao, “Efficient dynamic load balancing algorithms using icar systems:
a generalized framework,” IEEE Vehicular Technology Conference, vol. 1, pp. 586–590, Sep. 2002.
[23] E. H.-K. Wu, Y.-Z. Huang, and J.-H. Chiang, “Dynamic adaptive routing for heterogeneous wireless network,” IEEE Global
Telecommunications Conference, vol. 6, pp. 3608–3612, Nov. 2001.
[24] Y. D. Lin and Y. C. Hsu, “Multihop cellular: a new architecture for wireless communications,” IEEE INFOCOM, vol. 3,
pp. 26–30, Mar. 2000.
[25] J. Chen, S.-H. G. Chan, J. He, and S. C. Liew, “Mixed-mode WLAN: the integration of ad-hoc mode with wireless LAN
infrastructure,” IEEE Global Telecommunications Conference, vol. 1, pp. 231–235, Dec. 2003.
[26] T. S. Rappaport, Wireless Communications: Principle and Practice, 2nd edition. New Jersey: Prentice Hall, Inc., 2002.
[27] G. L. Stu¨ber, Principle of Mobile Communication, 2nd edition. Boston/Dordrecht/London: Kluwer Academic Pulishers,
2001.
[28] G. Bianchi, “Performance analysis of IEEE 802.11 distributed coordination function,” IEEE Journal on Selected Areas in
Communication, vol. 18, no. 3, pp. 535–547, Mar. 2000.
January 18, 2007 DRAFT
