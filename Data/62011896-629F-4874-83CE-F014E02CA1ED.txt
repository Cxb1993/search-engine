2 
運動感測系統之研發用於水下作業系統之 
運動狀態估測與控制(3/3) 
Development of Motion Sensory Systems for  
Estimating The Motion States and The Control of  
an Underwater Operation System 
計畫編號：NSC94－2611－E－019－001 
執行期限：94 年 08 月 01 日至 95 年 10 月 31 日 
主持人：林鎮洲   台灣海洋大學機械與機電工程學系 
計畫參與人員：楊智任、王若文、陳盈丞、朱汶崧 
 
 
一、中文摘要 
本成果報告為整合型計畫之子計畫四
第三年的研究成果。子計畫之總目標為研
發運動感測系統用於量測與估算水下作業
系統運動狀態之相關技術，並發展以感測
器為基礎之水下作業系統運動控制器。本
年的目標為發展類神經網路為基礎之力迴
授定位，使水下機械臂之定位具有強健性。 
本研究中提出以下構想：先利用視覺
系統進行粗略之位置量測，令機械臂之終
端器移動至插配任務之大約位置，再搭配
力量回授信號與類神經網路演算所求得之
位置資訊，命令機械臂進行細部位置調
整，最後完成自動化插配任務。 
本研究中我們主要探討運用力量回授
於自動化插配任務，該插配系統乃使用五
軸機械臂，並將六軸力量扭矩感測器安裝
於機械臂腕部位置，由力量扭矩感測器所
回授之信號透過類神經網路來計算出夾爪
所須修正之位置誤差量後，再驅動機械臂
完成插配任務。其主要優點為不需建立動
態模型進行控制，並可直接對機械臂驅動
器輸入夾爪位置誤差量，驅動機械臂完成
插配任務。 
在水下進行夾具放置或組裝作業時，
本實驗結果顯示定位誤差分佈仍屬可接受
之範圍，因此我們認為採用類神經網路進
行力迴授定位為可行之策略，但仍有改善
之空間。 
關鍵詞：水下作業，力量迴授系統，類神
經網路，差配作業，定位誤差。 
Abstract 
The research report contains the result of the 
third-year subproject of an integrated project. 
The main objective is to develop the motion 
sensory systems for measuring and 
estimating the motion states of the 
underwater operation system, and to develop 
the sensor-based motion controller of the 
underwater operation system. The topic of 
this year is to develop the force feedback 
positioning scheme based on the neural 
network.  
In this research we propose the following 
idea: by using the machine vision, a rough 
position information can be obtained in 
advanced, and the robot is commanded to a 
nearby position of the desired position. Then 
force information is measured and fed into 
the neural network system to obtain a new 
modified position. The positions of the robot 
end effector can thus be  modified 
sequentially and finally converge to the 
desired position and complete the peg-in-hole 
task. The advantage of the above scheme is 
4 
以下構想：先利用視覺系統進行粗略之位
置量測，令機械臂之終端器移動至插配任
務之大約位置，再搭配力量回授信號與類
神經網路演算所求得之位置資訊，命令機
械臂進行細部位置調整，最後完成自動化
插配任務。 
本研究中，我們主要探討運用力量回
授於自動化插配任務，該插配系統乃使用
五軸機械臂，並將六軸力量扭矩感測器安
裝於機械臂腕部位置，由力量扭矩感測器
所回授之信號透過類神經網路來計算出夾
爪所須修正之位置誤差量後，再驅動機械
臂完成插配任務。其主要優點為不需建立
動態模型進行控制，並可直接對機械臂驅
動器輸入夾爪位置誤差量，驅動機械臂完
成插配任務。 
我們使用類神經網路之倒傳遞演算法
則進行本研究之模擬工作，相關基本原理
請參考文獻[14]。倒傳遞演算法之計算過程
可區分為兩個階段，第一階段是前饋
(Forward)階段，可計算出每個類神經元的
輸出；第二階段是倒傳遞(Feedback)階段，
將每一個類神經元之  )(njδ 求出。於前饋階
段網路之鍵結值向量均保持不變，每一個
類神經元依序計算對於輸入向量所產生之
輸出值。前饋階段的計算過程中，起始於
第一層的隱藏層而終止於網路的輸出層，
最後還要計算輸出層類神經元的誤差信
號。於倒傳遞階段的計算過程，起始於網
路的輸出層，依序將誤差信號往回傳遞，
以遞迴的方式計算每一個類神經元的區域
梯度函數，並在遞迴運算之過程中，依據
Delta 法則來更新鍵結值。 
本研究主要利用力量扭矩信號(Mx,My)
作為類神經網路的輸入資料，再透過倒傳
遞網路架構學習並計算出機械臂夾爪所需
補償之位置修正量(Dx,Dy)。本網路連接方
式為完全連結(Fully Connected)網路，網路
為雙輸入雙輸出、單層隱藏層(如圖一)所
示。更新方式使用批次模式(Batch Mode)，
將每次輸入樣本計算出之所有鍵結修正量
累加，當全部樣本輸入完畢後再取平均並
更新鍵結值，其演算流程(如圖二)所示。 
 
圖一 類神經網路基本架構 
 
圖二  倒傳遞演算流程圖 
三、結果與討論 
1. 力量迴授實驗設備 
本節將就實驗執行時所使用之軟硬體
設備進行說明。在硬體部分可分為三大
類：第一類為受控模組，即五軸機械臂及
6 
後當機械臂與工作環境為接觸狀態時，使
接觸狀態停留一秒後，按下 Log Data Point
按鈕，即可獲得此取樣點之六軸力量扭矩
分量資訊。 
  本實驗主要是以主控電腦作為控制模
組之核心元件。透過 RS232 介面傳輸出高
階運動指令給機械臂驅動器，其後機械臂
驅動器輸出馬達電流、信號輸入機械臂各
軸之驅動馬達，進一步驅動機械臂到達所
給定之空間座標位置。最後，驅動器再將
目前取樣點之空間座標位置回授至主控電
腦。圖五為本實驗之系統控制流程圖。 
 
 
圖五 系統控制流程圖 
2. 力量迴授實驗內容 
本實驗包含兩大部分，第一部分為建
立類神經網路模型，第二部分為執行插配
任務。本實驗主要目的為：將機械臂腕部
力量扭矩感測器之回授信號(Mx,M y)送入
已訓練完成之類神經網路模型進而映射出
夾爪位置修正量(Dx,Dy)，作為執行插配任
務時修正夾爪位置之依據。於建立類神經
網路模型時，須先蒐集神經網路所須之輸
入輸出資料其後訓練類神經網路。 
於類神經網路訓練結束後即可開始執
行插配任務。執行插配任務之初，程式將
產生一組空間座標位置並傳至驅動器，再
透過驅動器驅動機械臂到達程式所給定的
位置座標，使夾爪夾取之圓柱狀插件與組
合體子構裝相互接觸。 
接觸所產生之力量扭矩信號，作為已
訓練完畢之類神經網路的輸入樣本，再透
過已訓練完畢之類神經網路模型映射出夾
爪位置所須修正之位置誤差量，最後再驅
動機械臂，使夾爪位置到達修正過後之空
間座標位置，完成插配任務。 
於建立類神經網路模型之初，訓練樣
本(Training Pattern)之蒐集及前處理被視為
極為重要之部分，其目的為建立實驗所需
之資料庫。類神經網路之訓練樣本建立完
畢後，實驗中所使用到之類神經網路，其
映射關係是由倒傳遞演算法則來實現完
成，最後再將所訓練過之最佳的權重值紀
錄下來(Weight)，以供實驗所需。圖六為本
實驗之架構圖。以下描述執行插配任務之
逐項步驟。 
Step1：使用者可先從預設之環形範圍內任
意選擇一點座標作為取樣點，即為
初始座標值(X,Y,Z)。 
Step2：將任意選定之初始座標值傳送至機
械臂驅動器，其後驅動手臂使其與
工作環境接觸。 
Step3：加裝於機械臂腕部之力量感測器，
將回授之信號經過放大及擷取步
驟後，便可獲得實際訊號(Mx,My)。 
Step4：將(Mx,My)輸入至已訓練完畢之類神
經網路模型內立即執行映射
(Mapping) 之機制，隨後便可獲得
(Dx,Dy)之輸出。(Dx,Dy)即圓柱狀插
件之中心點座標，與組合體子構裝
上之圓孔中心點座標兩中心點之
相對位置誤差量。 
Step5：將 Step4 之相對位置誤差量送入機
械臂驅動器並執行，以達到利用機
械臂腕部力量感測器之回授信
號，完成插配任務之目的。 
 
8 
表一 位置誤差量範圍與測試數量對照表 
 
 
 
圖九 位置誤差分佈範圍 v.s 測試筆數 
從表一與圖九中可得知，約有百分之
九十九的測試點數其誤差量均低於
0.5mm，此項數據表示若訓練樣本由數學
公式產生(模擬)，其後所建立之類神經網路
模型將會輸出與期望值相差甚小之誤差
量。 
於下一節我們將使用由力量扭矩感測器之
實際訊號，來替代由數學公式產生之訓練
樣本，進而建立類神經網路模型，再一次
分析其位置誤差分佈範圍與測試筆數的關
係，並加以比較。 
 
4. 實驗 
本章節將利用實驗數據所建立出的資
料庫來進行類神經網路模擬，主要分為三
大階段進行： 
(1) 資料庫前置處理作業 
(2) 利用倒傳遞演算法進行模擬 
(3) 結果與討論 
茲說明如下： 
(1) 資料庫前置處理作業 
a. 建立資料庫 
由於本研究所使用的類神經網路形式
為監督式學習，所以需要建立資料庫。於
資料庫中力量扭矩感測器回授之信號
(Mx,My)作為類神經網路之輸入資料，取樣
點座標位置與區域座標原點兩點的位置誤
差量(Dx,Dy)作為期望輸出資料。 
b. 資料正規化 
本模擬所使用的活化函數為 s-字型活
化函數(如式(3)所示)，我們將常數 c 設定為
1，符號 v 為集成函數。 
exp(-cv)1
1  (v) +=ϕ                   (3) 
式(3)函數於  (v)ϕ = 1 及 0 時，v 會趨向 ∞+
及 ∞- ，故需先將資料進行正規化，其通式
如式(4)所示 
aa)-(b 
min-max
min-x  Xnew +⎥⎦
⎤⎢⎣
⎡=         (4) 
      [ ] [ ] b  a  max min    →  
min：欲轉換資料(期望輸出)之最小值 
max：欲轉換資料(期望輸出)之最大值 
a：轉換後資料(期望輸出)之最小值 
b：轉換後資料(期望輸出)之最小值 
於此為配合 s-字型函數，吾人選定
a=0.2，b=0.8。目的為將各筆資料依照其大
小比例轉換至 0.2~0.8 之範圍。 
c. 資料亂數排列 
於資料進行訓練前，須先將其訓練資料作
隨機排列的動作，因為若依照資料產生之
順序輸入網路進行訓練，將導致訓練過程
中容易去記憶當中一類之趨勢，造成網路
模擬失真。 
(2) 利用倒傳遞演算法進行模擬 
完成以上之資料庫前置處理作業後，
即可利用實際訊號訓練網路進一步建構出
類神經網路之模型。使用模擬過程所使用
的類神經網路模型參數作為依據開始訓練
類神經網路。當類神經網路訓練完畢後，
由程式計算出由類神經網路輸出之位置修
正量(Dx, Dy)，與期望位置修正量兩座標位
置之距離(位置誤差量)，進一步分析位置誤
