 1
?????? 
??????????? SIP ?????? Windows CE ??????????
SIP-based VoIP??????????????????????????? G.729???
???????????????????????????????????????
????????????????? G.729 ???????????????????
????????????????????????LSP quantization, Pitch estimation, 
Fixed codebook search,?????????????????????? 10%????
Windows CE????? SIP Client??????????????? SIP-based????
????????????????????(????)??????????????
?????????????????????????????????? 
??????????????SIP???? 
 
??ABSTRACT 
The research and implement of SIP-based VoIP communication on dual-mode handset will 
be achieved in this project. The most problem in this project is the computational complexity of 
G.729 standard speech compression. It is too huge to fail with real-time work on 
handsets(embedded system). Thus, to reduce the complexity of G.729 algorithm is the first and 
the most important goal in this project. The tasks include algorithmic simplifications of LSP 
quantization, pitch estimation, and fixed codebook search which occupied the most complexity 
of G.729. Less than 10% computational complexity will be achieved in this project; comparison 
with the original G.729 algorithm. Secondary, the SIP client protocol will be implemented on the 
platform with Windows CE. Finally, the integration of simplified G.729 algorithm, SIP client 
protocol, and the application interface will be achieved on the dual-mode handset. 
Keywords: VoIP, Speech compression, SIP protocol 
 
??????? 
??????????? Wi-Fi ? Wi-Max ????????????????
(GSM/3G + Wi-Fi)???????????????????????????????
?????????????????????????(VoIP, Voice over IP)??????
??????????????? VoIP??????????????? GSM/3G + VoIP
?????????????????? 
????????? VoIP?????? IC?????????????? VoIP??
?????????????????????????????? G.729 ??????
??????????????????????????????????????? 
?????? HP h6365(CPU 168M Hz)? PDA+Wi-Fi ????? G.729 ???
 3
5 3.27% Gains estimation and quantization 
6 13.08% Others (pre-processing, impulse response, target signal, 
memory update, etc.) 
 
?????????? G.729????????????” Fixed codebook search”?” 
Open-loop pitch analysis”???”LP analysis, quantization, and interpolation”?????
25.07%, 22.89%, 20.28%????????????????????????????
???????????????????? 
2. Sub-optimal algorithm for fixed codebook search 
? G.729??????????????????????? excited??? ( )c n ??
?????????(algebraic codebook structure)??????Eq.(1)? ( )c n ??????
?? minimize mean squared error function? kε , (Eq. (2))?????? ( )c n ???? g??
???H? lower triangular Toepliz convolution matrix?? Eq. (2)????? k
g
ε∂
∂ ??? Eq. 
(3)? Eq. (4)??? ( )c n ???? Eq. (4)??????????????? ( )c n ?????
8192(8*8*8*16)????? Eq. (4)???????????????????? 
 
???Structure of fixed codebook 
 
 
0 0 1 1 2 2 3 3( ) ( ) ( ) ( ) ( ), 0,...,39c n s n m s n m s n m s n m nδ δ δ δ= − + − + − + −     =  (1) 
2
k kX gHcε = −  (2) 
T
k
T T
k k
X Hcg
c H Hc
=  (3) 
2
,
( )TT k
k opt T T
k k
X HcX X
c H Hc
ε = −  (4) 
???????”Sub-optimal algorithm”????????????????????
???????????????? ( )c n ????”Sub-optimal”??”Sub-optimal algorithm”
??????????? 40(8+8+8+16)????????????????? position?
Eq. (4)??H????????? diagonal matrix????????? 74%??? 
3. Discontinuous pitch estimation for open-loop pitch analysis 
G.729?? open-loop pitch????????????(20~39, 40~79, 80~143)???
 5
5. Other simplification 
?????????????????????????????????????
????????????????? [2]??????????(Table lookup)????
???????????????????????????????????????
??????????????(?????????????????????)???
?? Table ??????????????????????????????????
???????????????????? CPU??????????? 
4.2. Windows CE????? SIP client ???? 
SIP(Session Initiative Protocol)?????? IETF?????????? ITU????
H.323???VoIP?????????????????SIP???????????G.729
?????? GSM/3G + VoIP?????????SIP???? server?? client???
???????????????????????????????????? 
????Windows CE(Win CE)????EVC(Embedded Visual C++) 4.0??????
????????????? SIP client?????Win CE?????????????
?????Win CE??????????????????????????????
?????????????????????WSAAsyncSelect(…)?recvfrom(…)?UDP
?????Windows???(thread)????????????????????????
?????? 
4.3. ?????????? 
?Win CE??????????????????????????? VoIP???
????????????????????????????????????? 
 
 
???VoIP?????? 
 
