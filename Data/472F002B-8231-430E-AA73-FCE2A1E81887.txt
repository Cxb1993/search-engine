distributed systems. Both the home side and clinical 
side suffered the difficulties of information 
integration. The goal of this project is to integrate 
the health records and sleep records in a single 
Health 2.0 platform. Both patients and medical 
professionals could access the sleep and health 
related services conveniently and safely. This 
project developed an online sleep and health 
recording service, named as Healthy Sleep Space 
(HSS). HSS extends the standard Continuity of Care 
Record (CCR) standard format, and integrates the 
sleep diary with health records. HSS is planned to 
collect the information from various devices. With a 
role-based access control policy, HSS supports 
personalized healthy sleep services.  Through Web 
services/API, various innovative mashup applications 
could access personal sleep and health records.  
   Privacy and safety concerns are always the major 
problems any integrated Health 2.0 mashup service 
will consider seriously. The second task of this 
project is to build an authentication and 
authorization scheme which can protect the privacy 
and provide a safe homecare mashup environment. This 
project adopts OAuth 2.0 as the base HSS safety 
mechanisms. OAuth provides a one-to-one delegated 
authorization protocol. This project 
propose ＇Conflict Prevention Mechanisms＇ to resolve 
the problem generated by content mashup between 
multiple services. With these mechanisms, users 
privacy can be secure and unauthorized personnel have 
no wayto access content from others. 
   Third major task of this project is to provide 
reliable sleep and heath service from mobile social 
and 3D virtual world environment.  This task not only 
extends the use and execution scenarios, but also 
verifies the integrity and security of HSS. Users can 
access HSS records and services through Facebook 
social platform, Android mobile device, and Second 
Life. Facebook account is binded with HSS 
authentication.  Eventually, HSS is expected to be 
testbed for both health services and secure mashups. 
 1 
行政院國家科學委員會補助專題研究計畫成果報告 
 
睡眠服務安全整合與安全之研究(II) 
 
 
計畫類別：整合型計畫 
計畫編號：NSC100-2218-E-030-005 
執行期間：  100 年 8 月 1 日至  101 年 7 月  31 日 
 
執行機構及系所：輔仁大學資訊工程學系(所) 
 
計畫主持人：梅興 
計畫參與人員：碩士班研究生-兼任助理人員：鄭筱頻               
              碩士班研究生-兼任助理人員：陳毓文 
              碩士班研究生-兼任助理人員：范競之 
              碩士班研究生-兼任助理人員：白紹甫 
                 
成果報告類型(依經費核定清單規定繳交)：█精簡報告  □完整報告 
 
本計畫除繳交成果報告外, 另須繳交以下出國心得報告： 
□赴國外出差或研習心得報告 
□赴大陸地區出差或研習心得報告 
□出席國際學術會議心得報告 
□國際合作研究計畫國外研究報告 
 
處理方式：可公開查詢 
 
中   華   民   國   101 年 10 月 17 日 
 3 
Space (HSS). HSS extends the standard 
Continuity of Care Record (CCR) standard 
format, and integrates the sleep diary with 
health records. HSS is planned to collect the 
information from various devices. With a 
role-based access control policy, HSS 
supports personalized healthy sleep services.  
Through Web services/API, various 
innovative mashup applications could 
access personal sleep and health records.  
Privacy and safety concerns are always 
the major problems any integrated Health 
2.0 mashup service will consider seriously. 
The second task of this project is to build an 
authentication and authorization scheme 
which can protect the privacy and provide a 
safe homecare mashup environment. This 
project adopts OAuth 2.0 as the base HSS 
safety mechanisms. OAuth provides a 
one-to-one delegated authorization protocol. 
This project propose “Conflict Prevention 
Mechanisms” to resolve the problem 
generated by content mashup between 
multiple services. With these mechanisms, 
users privacy can be secure and 
unauthorized personnel have no wayto 
access content from others. 
Third major task of this project is to 
provide reliable sleep and heath service 
from mobile social and 3D virtual world 
environment.  This task not only extends 
the use and execution scenarios, but also 
verifies the integrity and security of HSS. 
Users can access HSS records and services 
through Facebook social platform, Android 
mobile device, and Second Life. Facebook 
account is binded with HSS authentication.  
Eventually, HSS is expected to be testbed 
for both health services and secure mashups. 
 
Keywords: Health2.0, Sleep Services, 
Mashup, Authorization Confict, OAuth 2.0, 
Mobile Social 
 
二、研究計畫之背景與目的 
 
由於網路醫療科技的快速發展, 透過
個人量測健康資訊的裝置日漸普遍. 經由
網路來記錄個人醫療健康的Health2.0服務
也愈來愈多[1]. 一來可以幫助民眾參與自
主的健康管理, 另一方面也可以節省醫療
資源. 隨著睡眠障礙人口大量增加, 居家
睡眠紀錄的需求也日益增加. 然而, 目前
的個人健康記錄(含睡眠紀錄)多是片段分
散的儲存在不同的地方, 不論病友個人或
睡眠中心都有資訊整合的問題.  本計畫以
研究居家睡眠服務整合與安全為中心, 可
分為三大部份. 
本計畫的第一部份主要在於整合分析
居家睡眠記錄與問卷量表, 目前已有一些
居家睡眠記錄輔助與記錄裝置可做到基本
的睡眠分析, 但內容與格式均不相容, 睡
眠衛生教育都也並未包含睡眠生理的部分. 
本計畫將整合 (1)居家簡易睡眠記錄儀
Zeo[11], 和(2)以智慧型手機開發的智慧型
鬧鈴. 將Zeo睡眠結構分數與智慧型鬧鈴記
錄整合, 發展一個標準的居家睡眠記錄儲
存格式與服務, 讓使用者與專業睡眠醫師
都能方便的取得居家睡眠分析資訊. 本計
畫的第二部份在研發分散式環境中保護個
人隱私資訊與服務安全的授權機制. 為方
便資訊流通 , 開發者要將服務與內容以
API的型式開放給其他服務使用；服務提供
者也需要利用到他人所開發的API已取的
資訊, 用混搭(Mashup)的方式組成與呈現
自己的內容. 本計畫的第三個部份主要是
安全的整合各類睡眠服務在好眠居
(Healthy Sleep Space, HSS)這個系統中 [2]. 
網 際 網 路 上 的 個 人 健 康 記 錄
(Health-Portfolio)管理服務 , 例如Google 
Health與Microsoft Health Vault等, 多以推
動電子健康記錄與病歷整合為主要目標 , 
其服務範圍均限於美國. 好眠居(HSS)服務
是我們在第一年先期計畫完成原型架構的
睡眠資訊記錄服務, 與持續維護開發中的
基本健康記錄服務社交健康空間 (Social 
Health Space, SHS)[17]相容.   
  
三、研究方法與討論 
   
目前 Web2.0 混搭服務在安全部份一
 5 
2. OAuth 授權－OAuth 為一個開放、公
開的憑証模型標準, 使用者不需要提
供密碼, 只需授予憑証來同意被授權
的第三方服務擁有存取資料的權限 . 
認證授權子系統藉由 OAuth 讓第三方
服務能夠在取得使用者同意後, 透過
API 來存取使用者的資料. 
至今尚未有任何機制能夠跨服務辨別
使用者所屬的群組. 群組種類類, 成員往
往依不同服務, 功能而定. 服務使用者除
了可能被歸類於某特定群組外, 往往也能
新增自定義群組, 因此意圖統一服務間的
群組是不不合理理的需求, 本研究對群組
權限處理理的方式著重於解析群組成員的
獨立身分後, 維護使用者內容權限設定不
發生異常衝突. 
我們在不同的網路服務中定義了各自
的內容型別以及擁有的特例內容. 為了能
判別一內容在眾多網路服務中是否存在相
同或是相似的關係, 內容使用者與內容提
供者間必須建立起內容型別以及特例內容
的映射關係, 於權限衝突偵測時有比對依
據. 內容型別的映射定義在「多服務協議模
式」中可由服務間共同協議, 在「單向配合
模式」中則由內容提供者定義出所提供內
容之型別後由內容使用者單向記錄映射關
係以實現此部份功能. 本研究中的內容權
限設定衝突, 代表的是有關聯聯的內容於
不同的網路路服務中發生權限設定相斥或
是遺失的狀狀況. 
本研究擴充了 OAuth 2.0 之授權機制, 
加入黑名單與白名單, 其中白名單代表了
允許的意思, 意指允許其作用對象對於該
內容的指定動作, 並且禁止除了白名單作
用對象之外的所有對象執行該動作. 而黑
名單代表了禁止之意, 其禁止其作用對象
對於該內容的指定動作, 但是卻允許除了
其作用對象之外的所有對象執行該動作, 
黑名單與白名單的集合圖型表示如圖一. 
圖一. 黑白名單 
使用黑白名單兩種機制可以簡單卻
又明瞭的表達權限設定的意願, 假設僅使
用其中一種設定, 雖也能夠表達出權限設
定的意願, 但會增加記錄的繁複度並且造
成某些程度的不安全. 例如僅使用黑名單
代替白名單, 將會造成大量記錄, 原僅需
一筆記錄能夠表達的授權意願必須以大
量的黑名單記錄替代. 為了避免此項缺點, 
本計畫採用黑白名單兩種機制共存, 能夠
同時用來描述同一內容, 用以解決混搭服
務之間的授權衝突（Privilege Conflicts）. 
 
(3) 安全的整合各類睡眠服務於好眠居
(Healthy Sleep Space, HSS) 
個人健康醫療記錄本屬於隱私的一
部分, 在日漸複雜的醫療健康體系中, 在
網路上參與的軟硬體與角色也愈來愈多. 
如背景所述, 在本計畫開始前兩年已與新
光醫院合作, 在 Drupal[21]內容管理系統
上, 建立了以肌無力病友社群為例的社交
健康空間(Social Health Space, SHS)原型, 
提供病友, 志工, 與專業人員間的溝通與
分享平台. 本計畫將SHS延伸成為好眠居
(Healthy Sleep Space, HSS)系統. 內容部
分建置了睡眠醫學的衛教資訊. 在健康記
錄方面, 整合睡眠活動紀錄, 加入睡眠與
活動日誌. 先建置重症肌無力病友會的個
人健康記錄, 再擴充至睡眠障礙病友的睡
眠活動記錄. 同時整合多項居家活動與睡
眠記錄設備, 開發數種睡眠障礙相關創新
服務(如, 方便病友與醫生專業的使用. 
    除了標準化儲存之外, HSS 提供以角
色為基礎的權限管理, 針對不同需求提供
個人化的服務. 使用者透過HSS的行事曆
與Google Calendar整合, 完成個人的睡眠
與活動日誌. 睡眠醫療專業人員, 可以方
便的取的病友的睡眠與活動紀錄.  然而, 
不同階段的睡眠障礙病人需要紀錄的資
訊與頻率會有不同, HSS 將以方便病友與
醫生為主要考量.  提供可以個人化與最
 7 
encyclopedia, 
http://en.wikipedia.org/wiki/Mashup_(we
b_application_hybrid) 
[4] Raymond Yee, Pro Web 2.0 Mashups: 
Remixing Data and Web Services, Apress, 
Feb. 2008. 
[5] OAuth 
http://oauth.net/ 
[6] Facebook developers 
http://developers.facebook.com/ 
[7] Google Project for Android 
http://code.google.com/intl/zh-TW/android/ 
[8] M.N.K. Boulos , L. Hetherington, and S. 
Wheeler,“Second Life: an overview of 
the potential of 3-D virtual worlds in 
medical and health education,” Health 
Information & Libraries Journal, Vol 24, 
No. 4, pp.233-245, November 2007. 
[9] Second Life Wiki 
http://www.simteach.com/wiki/index.php
?title=Second_Life_Education_Wiki 
[10] Second Life : Collective Note 2.0 
http://sls.weco.net/CollectiveNote20/Sec
ondLife 
[11] Zeo 
http://www.myzeo.com/sleep/ 
[12] David Chou, Strong User 
Authentication on the Web, The 
Architecture Journal, Microsoft 
Corporation, August 2008. 
http://msdn.microsoft.com/en-us/cc83835
1.aspx 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
[13] OpenID 
http://en.wikipedia.org/wiki/OpenID 
 
[14] W. Tolone et al, Access Control in 
Collaborative Systems, ACM Computing 
Surveys, Vol. 37, No. 1, March 2005, pp. 
29–41. 
[15] J. Coyle, Exploring the meaning of 
‘dissatisfaction’ with health care: the 
importance of ‘personal identity threat, 
Sociology of Health & Illness, Vol. 21 
No.1, pp. 95–124, 1999 
[16] 台灣睡眠醫學學會論壇 
http://www.tssm.org.tw/sleepforum/index 
[17] 社交健康空間(Social Health Space, 
SHS) 
http://shs.weco.net/ 
[18] 匹茲堡睡眠品質指標量表 
http://hss.weco.net/sleep_exam_psqi  
[19] 愛普沃斯嗜睡量表 
    http://hss.weco.net/sleep_exam_Berlin 
[20] 柏林睡眠品質評估問卷 
http://hss.weco.net/node/49 
[21] Drupal Content Management System 
http://drupal.org/ 
[22] 蔡忠潔, “一個於混搭環境中防止權
限衝突的內容授權機制”, June. 2011. 
國科會補助計畫衍生研發成果推廣資料表
日期:2012/10/23
國科會補助計畫
計畫名稱: 子計畫三：睡眠服務安全與整合之研究(II)
計畫主持人: 梅興
計畫編號: 100-2218-E-030-005- 學門領域: 推動計畫-開放軟體
無研發成果推廣資料
其他成果 
(無法以量化表達之成
果如辦理學術活動、獲
得獎項、重要國際合
作、研究成果國際影響
力及其他協助產業技
術發展之具體效益事
項等，請以文字敘述填
列。) 
主持人多次獲邀參加校內外座談與研討會演講. 主題都與本計畫相關. 產學合
作也與總計畫合作進行中. 
 成果項目 量化 名稱或內容性質簡述 
測驗工具(含質性與量性) 0  
課程/模組 0  
電腦及網路系統或工具 0  
教材 0  
舉辦之活動/競賽 0  
研討會/工作坊 0  
電子報、網站 0  
科 
教 
處 
計 
畫 
加 
填 
項 
目 計畫成果推廣之參與（閱聽）人數 0  
 
