1 
 
輔助診斷學教學之電腦化虛擬病人 - 病史詢答系統之研發 
 
計畫主持人：林紋正 
共同主持人：王健興 
執行機構：慈濟大學醫學資訊學系 
計畫編號：NSC 100-2221-E-320-005 
 
壹、 前言 
當病患就診時，醫生要根據病患的症狀、發病的時間與當時情形、檢驗結果、生活習慣、近期活
動等各種資訊來推敲病患可能罹患的疾病及原因。由於多種的疾病會有部分相同的症狀，而且一個疾
病的可能症狀有很多，但不一定每個患者都會出現所有的症狀，有些典型的症狀會比較常發生，而有
些症狀則是少數患者才會有，因此要從患者出現的症狀去做出正確的診斷並不是一件容易的事。醫師
要根據目前擁有的資訊進行假設、再去收集相關資訊以驗證或推翻假設，在過程中要一直做推理、驗
證，必須要有正確的醫學專業知識、豐富的經驗及診斷技巧，才能做出正確的判斷。由此可知一位醫
生的養成是一件不容易的事，除了要讓醫學生有豐富的醫學知識之外，也要讓他們了解如何在實際的
狀況下整合應用各種知識，以獲致正確的診斷與治療方式。如果只靠教師在課堂上講授課程內容，學
生的學習效果並不會是最好，因為學生較無法把教師傳授的知識與實際會遇到的狀況及應用情形產生
連結，以得到更深刻、廣泛的理解，也無法累積個人的經驗，強化推理及應用能力。因此除了講授課
程內容外，也要配合多種的教學活動讓學生多多練習以瞭解實際應用情況及累積經驗。 
在醫學系的課程中，有越來越多的課程採用問題導向式學習  (Problem-Based Learning, PBL) 
(Barrows and Tamblyn, 1980) 的教學方法，讓學生以小組為單位，解決教師所設定的問題。希望在近
乎真實問題的情境下，讓學生學習整合應用所學得的知識，培養解決問題的能力。例如教師會設計一
位虛擬病人，包含症狀、生理狀況、檢驗數據、病史等，讓學生試著診斷虛擬病人所罹患之疾病，進
而設計治療計畫。在此過程中，學生要收集病患的各種資訊，根據所學進行推論、產生假說、驗證假
說，最後獲致結論。藉由實際的練習，學生能增加自身的經驗，熟悉應用知識以解決問題的方法與過
程，並且藉由教師的回饋，了解自己的優缺點。如此學生能深化所學，獲得更好的學習成效。 
問題導向式學習有其理論基礎，也符合成人教育理論，已應用在多種領域，有不錯的成效，然而
執行起來還是有相當的困難。問題之一是很難模擬近似真實世界的情境以提供學生學習，現實上不可
能找一位真的病人來讓學生練習診斷。一種比較接近真實情境的方法是用標準化病人 (standardized 
patient)，由訓練過的演員扮演病人角色，讓學生與其互動以進行診斷。然而訓練標準化病人並不容易，
代價也高，而且在進行教學時很多時候是學生們進行討論，並沒有與標準化病人互動，標準化病人在
很多時候是沒有事情可做。因此標準化病人主要是應用在測驗上，直接測試學生的臨床診斷能力，並
沒有中途停下讓學生討論。目前 PBL 教學主要是採取小品教案的模式，由小組引導教師擔任資訊提
供者的角色，在學生需要時提供教案內之病人資訊給學生。在這種教學模式下，小組引導教師的師資
變成一個困難，因為 PBL 教學是採用小組討論方式進行，每一小組都需要一位小組引導教師負責提
供資訊及給予學生回饋，所以當一個班級分成多組教學時需要多位引導教師同時參與教學，這樣會需
要大量教師。而小組引導教師必須要具備良好的問題導向學習教學技巧，才能有效引導學生討論，不
會過度干擾小組討論，產生不良之教學效果。因此小組引導教師須經過有計畫之訓練及長期經驗累積，
而要訓練如此多的小組引導老師是相當困難之事。 
除了提供資訊、引導學生討論之外，小組引導教師還要觀察學生在 PBL 學習時所展現之缺點，
例如知識之不足及邏輯缺陷等，以便給予學生適當之回饋，讓學生了解其缺點進而反省改善，以達良
好之教學成效。因此小組引導教師要詳實地記錄、分析每位學生的學習過程，才能針對個人給予有效
的回饋。在討論中小組引導教師要擔負多項工作，要提供資訊、引導討論、觀察記錄、分析及回饋，
這對教師而言是一個不小的負擔，難免會有所疏漏之處。如果能有一電腦系統協助教師自動記錄學生
學習之過程，進而協助分析學生的缺點，便能減輕小組引導教師之負擔，避免疏忽遺漏。更進一步，
3 
 
(2006) 讓學生從問題清單中選擇問題詢問虛擬病人，系統再撥放預錄好的病人回應的影片給學生觀
看。實驗結果顯示使用虛擬病人和標準化病人能達到相同的教學效果。 
目前的系統大都採用較簡單的方式與虛擬病人互動，如問題清單與圖形介面，學生無法以對話問
診的方式從虛擬病人處得到診斷線索，這與真實情境還是有些差距。如果能讓學生自由的提問，根據
自己的邏輯思考結果提出需求以獲得診斷所需之資訊，更可以讓學生練習邏輯推理能力，也能讓學生
的缺點真正顯露出來，藉由系統的記錄與分析，教師就能更清楚學生的問題，給予學生有用的回饋。
目前還沒有系統能完整包含上述的功能，完全兼顧 PBL學習理論。 
我們目前的研究-電腦化虛擬病人-就是希望達到上述的功能，讓學生能加強練習邏輯思考，提升
PBL教學成效。CVP 中的教案建置模組是協助教師建立 PBL教案，將虛擬病人之資訊、診斷時應進
行的動作、學生於診斷時可能發生的缺失等建入系統中。我們使用狀態關聯圖(State Dependency Graph, 
SDG)，來表達在一個臨床診斷教案中所應進行的診斷工作及其之間的順序關係。每個狀態(State)包含
一個或多個的標準對話(Canonical Dialogue)來表達應該提出的問題或檢查，及其對應的答案或資料，
以便回應給學生，因此詢答系統便要從教案的標準對話中找出要回應給學生的答案。經由教案建置模
組所建立之教案將做為學生練習診斷用，虛擬病人之資訊會依學生進行的動作提供給學生以進行診斷，
而可能之缺失將做為偵測學生缺失的依據。學生缺失偵測模組則是根據教案內之知識分析學生與虛擬
病人互動之過程，以找出學生在診斷過程中發生的問題，可能是醫學知識的缺失，或是邏輯推理的缺
失。偵測出的缺失將提供給小組引導老師參考，讓引導老師更容易掌握學生的問題點，以提供回饋給
學生。 
學生與虛擬病人互動模組根據醫師可以做的檢查分成病史詢問、理學檢查詢問、檢驗檢查詢問等
模組。檢驗檢查是利用實驗室之工具進行各項檢查，是醫師在經過病史詢問、理學檢查後，針對有需
要進一步了解之病患身體情形，借助儀器及檢驗工具做檢查。主要的檢驗類別有實驗室檢查、影像檢
查、還有各式儀器檢查。目前醫院資訊系統裡，主要是使用表單式的介面讓醫師選擇要進行哪些檢查，
選擇確定後系統會將醫令送到各相關部門。為了讓學生熟悉這樣的環境，檢驗檢查資料查詢系統採用
階層式分類的表單介面，讓學生勾選檢驗的類別，接著再選擇檢驗的名稱，然後再依所選擇之檢驗選
擇檢體、檢驗群組、及檢驗項目。教師在建立教案時，也依此階層式架構選擇檢驗項目，並將檢驗結
果一併輸入標準對話中。當學生選擇好欲進行之檢驗檢查後，系統便從教案的標準對話中找出相同項
目的檢驗檢查，將其回應內容呈現給學生參考。另外為了讓學生確實考量檢查之必要性及對病人之影
響，即痛苦與負擔，而不是用試試看的心態盡可能的要求各種檢查，我們對每一種檢查項目訂定其對
病患所造成之痛苦程度及成本，做越多檢查，累積的痛苦與成本就越大。對每一個教案，教師也要訂
定痛苦與成本指數的上限，學生應在此限制內完成檢驗檢查，才不至於帶給病患太多不必要的痛苦與
負擔。 
理學檢查是醫生使用自己的感官或檢查器具檢查病患身體的狀況。理學檢查通常是先對全身進行
一般觀察，然後對各部位進行詳細的檢查。檢查的方法分為視診、觸診、扣診、聽診、嗅診、及測量
與測試等類型，一般是由醫師在診間進行檢查。我們將理學檢查項目整理，利用有架構的組織來將檢
查項目分門別類，並以重要的特性來描述一個檢查項目，讓學生利用幾個特徵欄位的描述來指明所要
進行的理學檢查項目。我們目前是使用檢查的方式與檢查的部位來指定所要進行之理學檢查，如果是
有特定名稱、特定檢查方式與程序的檢查，則另外指定檢查名稱即可。教師在建立教案時也是使用這
些特徵欄位來建立每項檢查項目的資料，查詢系統便比對這些特徵欄位的內容來找尋符合學生要求的
檢查項目。 
病史詢問是醫師在進行疾病診斷時，詢問病患一些問題以了解病發的過程、病症的詳細情形、可
能會引發疾病的事件等。醫師會問的問題非常廣泛多樣，不是局限在固定項目裡，所以和檢驗檢查與
理學檢查相比，病史詢問問題複雜得多，不能用選單或幾個特徵描述的方式來呈現所有可能的問題。
所以在病史詢問系統裡，我們使用自然語言問句來表達學生所要問的問題，一方面學生比較容易提問，
另一方面也比較接近真實的情況。學生提出病史詢問問題後，系統就要從教案中找出與學生的問題(意
思)相同的標準對話，然後將標準對話裡的回應內容回答給學生。從教案裡的一堆標準對話問題中找
到與學生的問題(意思)相同的問題是問句檢索的問題，所以我們要計算問題與問題的相似度，以找到
5 
 
的問句並沒有這樣的樣式，所以一個問句如果符合「什麼時候」+「開始」+<症狀>的樣式，就應該是
屬於第一類的問句。一個類別可能可以歸納出好幾種樣式，一個問句只要符合其中一種樣式，就可以
算是歸屬於這個類別。要利用樣式來進行分類就要注意各類別的樣式不能有一樣的，否則會造成混
淆。 
 
表 1. 部分問題類別的樣式 
類別 樣式 
<症狀>從何時開始? 1. (何時/什麼時候/甚麼時候/多久前/多久之前) + 
開始 + <症狀> 
2. <症狀> + 從 + (何時/什麼時候/甚麼時候/多久
前/多久之前) + 開始 
可否描述<症狀>清楚一點?是什麼的感覺? 1. 是 + (什麼樣/甚麼樣/怎樣/怎麼樣) + <症狀> 
2. <部位> + (是/有) + (怎樣的/多) + 不舒服 
3. <症狀> + (是/是到/有) + (怎樣的/多) + (程
度/性質/嚴重) 
<症狀>的部位 1. <症狀> +的 + (位置/地方) 
2. <部位> + (哪裡/哪邊/什麼地方/哪個地方/什麼
位置/哪個位置) + [會] + <情況> 
3. (<症狀>/<狀況>) + [在] + (哪裡/哪邊/什麼地
方/哪個地方/什麼位置/哪個位置)  
4. (哪裡/哪邊/什麼地方/哪個地方/什麼位置/哪
個位置) + <狀況> 
<症狀>每次持續多久才會好？ 1. (每次/這樣) + (<症狀>/<狀況>) + [大概] + 會 
+ [持續] + 多久 
2. <部位> + 每次 + <狀況> + 多久 
已知疾病、如何發現 1. (以前/之前) + 有 + (生過/得到) + (其他/什
麼/甚麼) + 病 
2. [你] + 有 + <病症> 
3. 有 + <治療方法> 
 
當一個問句要進行分類時，就要跟這些樣式比對，看符合哪一個樣式。為了加快比對的速度，我
們使用有限狀態機(Finite-State Machine, FSM)來進行辨別。我們將所有的樣式整合在一個有限狀態機，
當一個問句要進行分類時，就從起始狀態開始，根據問句中的詞或語意類別轉移到其他狀態，最後看
是停在哪一個樣式的接受狀態，就是符合那一個樣式。在利用有限狀態機進行辨別前，先要找出問句
中的詞以及詞的語意類別。我們使用中研院的 CKIP 中文斷詞系統1進行斷詞斷出問句中的詞彙，不
過有些在樣式中的詞比較長，會被斷詞系統斷開，所以要去檢查連續的詞合併起來會不會是樣式中的
詞，如果是的話就把這些被斷開的詞再合併起來。斷好詞後就要尋找每個詞的語意類別，由於不是每
個詞都會歸屬在某個語意類別，有找到語意類別的詞除了用詞本身查狀態轉移函數外，也會使用語意
類別查狀態轉移函數看能不能轉移到其他狀態。 
 
伍、 結論與建議 
在本研究中我們希望提高病史詢問問題的分類效能，以便提高問題檢索的準確性。我們觀察
收集到的問題後，找出各類別問題的樣式，希望藉由這些樣式能正確地判斷問題的類別。問題分
                                                     
1
 http://ckipsvr.iis.sinica.edu.tw/ 
國科會補助計畫衍生研發成果推廣資料表
日期:2012/10/31
國科會補助計畫
計畫名稱: 輔助診斷學教學之電腦化虛擬病人 - 病史詢答系統之研發
計畫主持人: 林紋正
計畫編號: 100-2221-E-320-005- 學門領域: 自然語言處理與語音處理
無研發成果推廣資料
其他成果 
(無法以量化表達之成
果如辦理學術活動、獲
得獎項、重要國際合
作、研究成果國際影響
力及其他協助產業技
術發展之具體效益事
項等，請以文字敘述填
列。) 
無 
 成果項目 量化 名稱或內容性質簡述 
測驗工具(含質性與量性) 0  
課程/模組 0  
電腦及網路系統或工具 0  
教材 0  
舉辦之活動/競賽 0  
研討會/工作坊 0  
電子報、網站 0  
科 
教 
處 
計 
畫 
加 
填 
項 
目 計畫成果推廣之參與（閱聽）人數 0  
 
