2 
 
可讓研究參與者，以人眼實際觀察不同環境的特性與差異性，並構思相關處理演算法。
系統開發實做時，以 Visual Studio 2008 為開發環境，利用 C#語法，從如何讀出 AVI
檔、如何播放 AVI 檔、如何另存 AVI 檔開始，逐步從 AVI 檔案中，將各畫面影像擷取
出來，進而開發相關的影像處理模組，以達成此研究計畫之各階段性任務。 
B. 實際開發電腦視覺為基礎之智慧型運輸系統的交通數據收集 
雖然建構理想的智慧型運輸系統需要整合很多不同領域之軟硬體技術，參與此次
計畫之研究人員與合作企業員工，均可在需求訪談、實際視訊畫面觀察、技術分析探
討、規格制訂與模組規劃、程式設計與開發、系統整合暨測試修正、實際應用及後續
需求討論等一系列之產學合作過程，學習並實際開發且導入電腦視覺技術，應用於各
式交通數據之收集與分析。 
技術研發成果說明： 
以合作企業(亞聯工程顧問公司)針對此系統的實際應用需求，為分析某路段的壅塞
情況，應先統計該道路各時段的車輛移動特性數據，包括車輛穿越數目、停滯車輛數
目、未停滯車輛數目。因此，本系統提供方便的操作介面，讓使用者可在所設定的 ROI
區域影像中，分別標示車輛穿越基準線、車輛計數起始線、車輛計數終止線；甚至，
若需統計各車道的壅塞情況，使用者也可方便地設定各車道之分隔線位置。除非欲進
行其他路段的壅塞數據收集，否則相關設定僅需進行一次。 
本系統在訓練階段，除了可完成該拍攝路段之背景模型訓練，並分析畫面中的像
素移動特性之外，也提供使用者可人工設定 ROI 區域以及統計用之各種基準線位置。
在實用測試階段，輸入畫面先與背景模型利用背景相減法進行前景像素偵測，再將相
連之前景像素的予以組合成物體元件，並考量車輛物體之外型特性，將鄰近之相連元
件予以合併，成為可能之車輛物體。針對連續畫面 ROI 區域中偵測出之車輛物體，抽
取其靜態特性(包括位置、大小、顏色)，並進行特徵比對，作為移動車輛之速度計算與
停滯狀態判定 
A. 訓練階段之背景模型訓練 
本研究模擬攝影機固定裝設於路口高架上，以斜角俯視方式拍攝道路區域。拍攝
所得之連續視訊畫面，除了攝影機有時出現些微的晃動之外，背景畫面尚稱穩定；因
此，可利用簡易且效果良好的背景相減方法，進行各畫面之前景像素判定，以偵測可
能的車輛物體。欲採用背景相減法偵測前景物體，必須先建立拍攝環境的背景模型。
本系統針對各攝影機拍攝之不同道路區域視訊，分別從一段學習用之視訊中，不需特別
挑選，擷取出數量夠多之畫面影像(B1, B2, …, BN)。然後，針對每一張畫面影像 Bi均統計相
4 
 
 
C. 訓練階段之關注區域與量測基準線標註 
本研究開發之系統需處理大量的連續畫面，為加快處理速度，應該只針對畫面中
欲統計車輛之區域進行分析即可；在訓練背景模型階段，已可利用各位置像素之顏色
變動特定，自動訂出主要車流所在之區域，即所謂關注區域(region of interest, ROI)。
在實際的交通數據統計應用中，統計車輛資訊的道路畫面往往個侷限在某特定、且為
不規則形的區域，因此本系統提供方便的操作介面，讓使用者可以選擇任一畫面或背
景模型影像，透過滑鼠點選數個轉折點位置，系統即可自動框出多邊形區域(如圖 3 所
示)，並將區域位置存入資料庫。日後此路段之所有畫面，系統會自動擷取出該特定區
域(ROI)位置的影像，僅針對 ROI 影像進行後續之車輛物體偵測、判定與統計。 
由於本研究之應用在於統計判斷道路壅塞程度所需之交通數據，包括車輛穿越數
目、受阻車輛數目、以及未受阻之車輛數目。為了更符合後續使用之方便性與彈性，
本系統同樣也提供使用者可在已選取之 ROI 區域影像中，以滑鼠點選統計所需之基準
線位置，甚至是車道線位置，均可存入資料庫中(如圖 4 所示)。 
 
圖3. (a)以人工點選方式選定多邊形之關注區域；(b)關注區域影像 
(a) (b) 
圖2. 分析道路畫面像素顏色變動程度，判定車道區域 (a)連續畫面影像； 
(b)畫面像素變動分析 (c)判定之車道區域
(a) (b) (c) 
6 
 
由於每張畫面影像利用背景相減法所得的差異圖，往往含有散亂的雜訊，即使是
前景物體，也可能因為某些像素顏色與背景類似，導致物體內部有破碎情況。因此，
本研究利用影像型態法(image morphology)方式，先以侵蝕運算(erosion)將散亂的雜訊
去除，再以擴展運算(dilation)將破碎的物體補全。然後，透過相連元件偵測方法
(connected component detection)將可能的前景物體找出，並透過檢測元件與車道寬度的
大小差異，將過小的元件視同雜訊予以去除 ，過程與結果如圖 6 所示。 
 
E. 測試階段之車輛特徵抽取與比對 
本計畫所開發的系統，針對從車道連續畫面中擷取之 ROI 區域影像，進行車輛物
件之偵測，並根據車輛物體之移動特性，統計用以判定道路壅塞程度的各種狀態車輛
數目。其中，[受阻車輛數目]與[未受阻車輛數目]的統計，均需要進行移動車輛之追蹤
並進而計算車輛移動之速度。欲進行移動車輛之追蹤，必須先針對連續畫面中偵測出
的車輛物體，擷取其特徵並進行比對，始可做到不同畫面之車輛匹配。本系統擷取之
車輛特性主要為靜態特徵，包括了車輛物體所在位置、物體外型與顏色；位置特徵即
為車輛物體之中心座標，另將車輛物體範圍內所有的前景像素色彩平均，視為該車輛
之顏色特徵。此外，本研究利用計算周圍背景面積(peripheral background area, PBA)來
表示車輛外形特徵，欲計算車輛的 PBA 特徵，車輛物體先利用 Sobel 運算找出所有的
邊緣點，再從物體邊緣往內找到第一個邊緣點出現的位置，將所有距離累加起來，即
(a) (b)
(c) 
圖 6. 車輛物體偵測步驟 (a)關注區域影像；(b)前景像素偵測結果； 
(c)經過侵蝕與擴展運算之結果；(d)相連元件偵測結果； 
(c)去除過小元件之車輛物體偵測結果。 
(d) (e) 
8 
 
F. 測試階段之壅塞數據統計資訊 
本系統執行之主畫面如圖9所示，可點選主選單[工具]下之[背景模型訓練]項目，
於顯示的工具程式視窗中(如圖10所示)，執行初始背景訓練功能。首先選取訓練用畫面
所存放之資料夾，按選[訓練背景模型]，開始進行訓練，並將結果背景畫面顯示於視窗
右側；再按選[儲存背景模型]，即可將背景模型相關檔案存放於特定資料夾中。 
 
 
背景模型訓練完成之後，即可透過如圖9的系統主視窗中，進行道路車流資訊統
計。首先，在拍攝畫面視窗中選取一張畫面影像(或者背景模型影像)，並在此影像中，
以滑鼠點選多邊形區域，當作關注區域(ROI)；然後，在ROI關注區域影像中，點換相
關基準線位置，包括車輛穿越線、測速起始線、測速終止線、車道分隔線等。前置作
圖 10. 背景模型訓練工具程式執行之畫面 
圖 9. 本系統執行之主畫面 
10 
 
輛物體偵測之準確度。 
可利用之產業及可開發之產品： 
本產學合作計畫以視訊監控技術為基礎，利用安裝於路口號誌鐵架高度之攝
影機，以斜角俯視方式拍攝道路畫面，並在自動擷取出之關注區域影像內，進行
車輛物體偵測與各種移動特性車輛之數目累計，並將各時間間隔累計之車輛數目
匯出至 excel 檔案的不同工作表，以利後續進行各種統計運算以及報表呈現。綜合
本研究開發之技術以及衍生之知識服務，可利用之產業即可開發之產品將涵蓋如
下的兩大範圍： 
1. 視訊監控產業 
(1)、 變動環境之背景模型建立 
(2)、 畫面影像之前景物體偵測 
(3)、 剛性物體之特徵抽取、轉換與比對 
2. 智慧型運輸系統產業 
(1)、 車道區域之自動偵測 
(2)、 車輛物體之偵測、特徵抽取、辨識或類型判定 
(3)、 道路壅塞程度之判斷 
(4)、 時間間隔之相異畫面車輛物體的模糊比對 
(5)、 轉向車流量統計結果對道路設計暨燈號延遲自動調整之相關性 
推廣及運用的價值：如增加產值、增加附加價值或營利、增加投資/設廠、增
加就業人數………等。 
本產學合作計畫以合作企業（亞聯工程顧問公司）的需求為主，開發具技術
研發與實際應用特性的系統。需求標的之「道路壅塞情況之估算」，目前是聘用數
位臨時人員站在其中道路旁，以統計穿越車輛數目為例，必須一人按計時碼表、
一人按計數器，始可統計時間間隔內的車輛穿越數。至於受阻車輛與未受阻車輛
的人眼計算判定，更可能有速度目測的誤差。長時間的人眼注視以及手動累計，
往往因疲累或偷懶習性，使得道路中各種移動特性之車輛統計耗時且不易精確。
本計畫透過視訊監控技術，從視訊畫面中自動擷取關注區域影像，並偵測與追蹤
移動車輛物體，以自動統計時間間隔內，各種移動特性之車輛數目，達到合作企
業希望可省時省力且精確度和穩定度均可接受的需求。 
本研究以實用的角度，將視訊監控技術應用於智慧型運輸系統中的道路資訊
國科會補助計畫衍生研發成果推廣資料表
日期:2010/08/19
國科會補助計畫
計畫名稱: 應用視訊監控技術於車道壅塞程度之估算
計畫主持人: 曾逸鴻
計畫編號: 99-2622-E-212-004-CC3 學門領域: 資訊系統 
研發成果名稱
(中文) 應用視訊監控技術於車道壅塞程度之估算
(英文)
成果歸屬機構
大葉大學 發明人
(創作人)
曾逸鴻
技術說明
(中文) 路段交通參數之統計數據，是改善交通設施之建置與管理機制時，主要的考量依
據。若透過人力計數或目視估測，往往耗費時間且精確度不易掌握；因此，相關
政府單位與民間企業對於引進資訊技術，建立一套交通數據的自動收集、統計與
分析機制，有很大的需求與期待。此技術以「車道壅塞程度之估算」為主題、影
像分析與視訊監控技術為核心，開發一套可簡化人力、長時間統計、精確度良好
的自動化系統。 
本系統採用架設於路口號誌鐵架上之攝影機，以俯視斜角方式拍攝道路之車流視
訊。在訓練學習階段，將先錄製一段該路段之視訊檔案，分析各像素位置之顏色
分佈與移動特性，以建置該拍攝環境之背景模型，並自動判定車道區域。在系統
之實用測試階段，則透過對各畫面之車輛物體擷取、以及特徵之抽取與比對，分
別計算三種壅塞程度之量化數值：車道車輛占道路之面積比例、移動車輛平均速
度、和移動車輛平均車距。根據不同時段、不同路段的車輛行駛特性，再將此三
種數據予以加權計算，得到最終之車道壅塞程度估算結果；以此系統為基礎，針
對路段之行車順暢度，可進行號誌延遲時間之自動調整。
(英文) The statistical data of road traffic parameters is the main consideration to improve 
transport facilities. It is time-consuming and the accuracy of the obtained data is not 
satisfactory if these parameters are counted by human or estimated by eyes. Hence, it is 
essential and expected for many government agencies and private enterprises to build up 
a mechanism to collect, calculate and analyze traffic data. This research proposes a traffic 
congestion estimation approach by applying video surveillance techniques. The 
implemented system could simplify manpower, provide long time statistics, and obtain 
accurate congestion estimation results.
產業別 顧問服務業；資訊服務業；研究發展服務業
技術/產品應用範圍
1. 道路交通數據自動收集 
2. 道路壅塞程度自動判定 
3. 號誌延遲時間之自動調整
技術移轉可行性及
預期效益
若廠商有實務系統開發能力，移轉此技術之known-how，可配合視訊節取設備之裝設，快
速開發相關應用程式，將有相當大的實際應用價值。
註：本項研發成果若尚未申請專利，請勿揭露可申請專利之主要內容。
其他成果 
(無法以量化表達之成
果如辦理學術活動、獲
得獎項、重要國際合
作、研究成果國際影響
力及其他協助產業技
術發展之具體效益事
項等，請以文字敘述填
列。) 
本產學合作計畫以合作企業（亞聯工程顧問公司）的需求為主，開發具技術研
發與實際應用特性的系統。需求標的之「道路壅塞情況之估算」，目前是聘用數
位臨時人員站在其中道路旁，以統計穿越車輛數目為例，必須一人按計時碼表、
一人按計數器，始可統計時間間隔內的車輛穿越數。至於受阻車輛與未受阻車
輛的人眼計算判定，更可能有速度目測的誤差。長時間的人眼注視以及手動累
計，往往因疲累或偷懶習性，使得道路中各種移動特性之車輛統計耗時且不易
精確。本計畫透過視訊監控技術，從視訊畫面中自動擷取關注區域影像，並偵
測與追蹤移動車輛物體，以自動統計時間間隔內，各種移動特性之車輛數目，
達到合作企業希望可省時省力且精確度和穩定度均可接受的需求。 
本研究以實用的角度，將視訊監控技術應用於智慧型運輸系統中的道路資訊收
集，讓企業可善用學校之研究人力資源，以產學合作方式，提高產、教、學、
研各方面的互動與彼此支援。此計畫之技術研究與系統開發，以視訊攝影機為
畫面擷取設備、自行開發智慧型之電腦視覺技術核心、並以交通運輸建設所需
之道路資訊蒐集為應用，不管對資訊軟體人才培養、學術研究、產業界甚或是
國家交通建設之發展，均有顯著的貢獻。 
 
 成果項目 量化 名稱或內容性質簡述 
測驗工具(含質性與量性) 0  
課程/模組 0  
電腦及網路系統或工具 0  
教材 0  
舉辦之活動/競賽 0  
研討會/工作坊 0  
電子報、網站 0  
科 
教 
處 
計 
畫 
加 
填 
項 
目 計畫成果推廣之參與（閱聽）人數 0  
