Real-time road pricing system with a Network Traffic Dynamics Simulator (NTDS)
K I Wong
Department of Transportation Technology and Management,
National Chiao Tung University, Taiwan
Introduction
The topic of congestion charging has attracted the attention of an increasing number of
scholars, leading to innovative proposals to tackle the problem (Lindsey and Verhoef,
2001). It is well-recognized that Road Pricing is a technique in handling the traffic
congestion issue, and the aim of this pricing is not just to collect revenue, but to divert the
traveller to other less congested routes or suppress the unnecessary travel demand during
rush hours. With the Electronic Toll Collection (ETC) system implemented in Taiwan
recently, a road pricing scheme is technologically feasible.
This study proposed a dynamic traffic model as a tool in modelling the effect of
Advanced Traveler Information Systems (ATIS) and Advanced Traffic Management
Systems (ATMS). While the ATIS system has to provide enough information and let the
travellers make their own decisions in travel, road pricing is one of the common
methodology in the ATMS in reliving the traffic congestion in the network. This study is
to investigate possible and suitable road pricing schemes under the dynamic traffic flow
simulator.
Literature Review
The study of road pricing has been focused on first-best pricing and second best pricing
(Lindsey and Verhoef, 2001). The first best pricing (or marginal cost pricing) assumes
each traveller pays for the costs one incurs on to himself/herself and to all other travellers,
i.e. the extra cost to the total transport system. The second best pricing considers the
practical constraints like locations of pricing and not able in changing prices at every time
instant.
Figure 1. A two-link parallel network
For each time t, the route choices of travellers between the two routes are modelled by a
logit-based Stochastic User Equilibrium, where the proportions of flows passing through
a particular route i is determined by
 
 


Im
t
m
t
it
i
U
U
P
exp
exp
, Tt
where tiU is the mean utility of route i, and the mean utility function of each route i is
given by
    itiQVitiTFti QVTFU  1
where tiTF is the toll of route i at time t,
1t
iQV is the number of queued vehicles at the
entrance of the tunnel accumulated from the previous time incidence (i.e., 1t ), and TF ,
QV
i and i are the utility coefficients corresponding to the toll fee, number of queued
vehicles and a route dummy variable. The utility coefficients for toll fee is route
independent, while the utility coefficients for the number of queued vehicles is route
dependent; the latter is because the number of queued vehicles may induce different
magnitudes of waiting times depending on the capacity of the route. The route dummy
variable is to measure the relative attractiveness of the routes due to the network
characteristics, say, shorter travel distances.
Toll road
Non-toll road
Control
location Exit
0500
1000
1500
1 5 9 13 17 21 25 29 33 37 41 45 49 53 57 61 65 69 73 77 81 85 89 93
Time interval
D
em
an
d
(V
eh
)
PV
GV
Total
Figure 2. The demand profile
Let    roadtoll-Nonroad,Toll2,1 i , the parameters used are assumed as follows.
For Private vehicles (PV): 1.0TF ; 21  ; 02  ;
For Goods vehicles (GV): 15.0TF ; 31  ; 02  ;
For both of the above cases, we set
QV
i = TF x Value of Travel Time (VOTT) x iCT
where we took 200VOTT for PV and 300VOTT for GV, and 36001CT and
18002 CT . It is equivalently assumed a 2-line carriageway for the toll road and a single
carriageway for the non-toll road, and a capacity of 1,600 vehicles per lane per hour
according with a standard highway capacity manual result.
The vehicular incoming traffic flows, Queued vehicles for the initial case of zero-toll is
as in Fig. 3(a). The corresponding queued vehicles and vehicular exit traffic flows for
both routes over the course of the day are respectively shown in Figs. 3(b) and 3(c). It is
noted that vehicular traffic for both peak periods are truncated by the respective binding
traffic capacities of the two routes.
Several scenarios of interest are tested in this study. Since the dynamic model permits us
to study a dynamic tolling system, the behaviour of a flat toll and real-time toll will be
investigated, under the assumption that the toll road is owned by the government, trying
to maximize the social welfare or minimizing the travellers’delay subject to a revenue
break-even constraint.
If a flat toll is applied so as too minimize the total queued vehicles in the system, the
optimal toll is 59.25 for PV, and all queues are eliminated. It is noted that queues may not
necessary be eliminated if the total incoming flow at a time interval is greater than the
capacity of both routes. The adjusted incoming flows (which are same as exit flows) are
shown in Fig 4.
For the case if dynamic step toll is permitted, the incoming flow patterns are shown in
Fig. 5(a) and the corresponding toll in Fig 5(b). It is interesting to notice that there are
fluctuations in the incoming flows between adjacent time intervals. The fluctuations are
due to the behaviour of travellers who make decisions based on identical but out-dated
information, since we used a time interval of 15 minutes. A frequent updating of travel
time information should be able to eliminate the route switching of travellers.
0
100
200
300
400
500
600
700
1 5 9 13 17 21 25 29 33 37 41 45 49 53 57 61 65 69 73 77 81 85 89 93
Time interval
In
co
m
in
g
flo
w
(V
eh
)
Toll
Free
Figure 4. Incoming flows (and exit flow) pattern at optimal flat toll
The proposed study can be extended in several directions. First of all, we may be
interested in investigating the scenarios of private operation of the toll road such that the
objective is to maximize the profit without a delay constraint (or a maximum allowable
delay or maximum profit set by the government). If the toll road is government owned,
one may also interest to know the relationship that who much queues will build up if the
revenue should be cover an operating cost. These analyses may require developing a
different solution algorithm for the presented model.
References
Arnott, R., de Palma, Al., Lindsey, R. (1990) Departure time and route choice for the
morning commute. Transportation Research, 24B, 209-228.
Boyles, S., Ukkusuri, S.V., Waller, S.T. and Kockelman, K.M. (2006) A Comparison of
Static and Dynamic Traffic Assignment Under Tolls: A Study of the Dallas-Fort
Worth Network, Proceedings of the 85th Annual Meeting of the Transportation
Research Board.
Cho, H.J. and Hwang, M.C. (2005a) A stimulus-response model of day-to-day network
dynamics, IEEE Transactions on Intelligent Transportation Systems, 6(1), 17-25.
Cho, H.J. and Hwang, M.C. (2005b) Day-to-day vehicular flow dynamics in intelligent
transportation network, Mathematical and Computer Modelling, 41, 501-522.
Cho, H.J., Hwang, M.C. and Shih, H.H. (2004) Day-to-day and within-day network
dynamic encapsulating hyperbolic traffic behaviour, Proceedings of the 2004 IEEE
International Conference on Networking, Sensing & Control, Taipei, Taiwan,
March 21-23, 850-855.
de Plama, A. and Lindsey, R. (2000) Private toll roads: competition under various
ownership regimes. Annals of Regional Science, 34, 13-35.
Lindsey, R. and Verhoef, E. (2001) Traffic congestion and congestion pricing. In
Handbook of Transport Systems and Traffic Control (K.J. Button and D.A. Hensher
Eds.) Pergamon.
Theodorovic, D. and Edara, P. (2007) A real-time road pricing system: the case of a two-
link parallel network. Computer & Operations Research, 34, 2-27.
STRATEGIES FOR DYNAMIC VEHICLE DISPATCHING UNDER DIFFERENT
DEMAND PATTERNS
Anthony F. Han, K.I. Wong* and Yu-Ting Lai
Department of Transportation Technology and Management, National Chiao Tung
University, Taiwan
ABSTRACT
In the real-world situation, the demands from customers are often received during the day of
operation, and therefore the static route plan may not be able to meet the need. In this context,
different dynamic dispatching strategies have been proposed in this paper. We focus on
choosing adaptive strategies under different demand patterns, with temporal and spatial
characteristics. Our dynamic dispatching strategy consists of a routing policy and a
dispatching policy. In this study, we consider NN (Nearest Neighbor) as a simple routing
policy. In combination with the route policy, five real-time dispatching policy (Basic,
Reposition, Diversion, DDR, and DFR) are proposed. A simulation model is constructed for
generating different scenarios of demand patterns for testing, and the results show that each
strategy performs differently in the measured objectives.
Keywords: Dynamic Traveling Salemans Problem (DTSP), Vehicle dispatching, Dispatching
strategy, Heuristics.
1. INTRODUCTION
Along with the development of technologies, the competitions between supply chain
companies rely mainly on their services of fast delivery. In the real-world situation, the
demands from customers are often received during the day of operation, and therefore the
static route plan may not be able to meet our need. In this context, most researches have
focused on the Dynamic Vehicle Routing Problem (DVRP) over the last decades. Different
strategies have been proposed by scholars, being compared under specific demand pattern for
each strategy, and it makes difficulty in deciding which strategies to be used under a general
situation. In this study, the Dynamic Traveling Salemans Problem (DTSP) with single vehicle
is considered as the basis. We focus on choosing adaptive strategies under different demand
patterns, with temporal and spatial characteristics. Temporal characteristics consider uniform
and peak time demand intensity over a day of operation, while spatial characteristic are
uniform and non-uniform distributions of demands over different parts of the network.
The objective of a static VRP is usually to minimize the length of the vehicle route. However,
in dynamic dispatching, the evaluation of the performance is usually in multi-aspect, since the
rate of response and rate of rejection to requests has to be taken into account. In this paper, we
consider the distance travelled and the response time as the performance index of the
dispatching strategies. While the objective of the dispatcher is to minimize the total operating
cost (or the length of the vehicle route), the demands may wish to be serviced within a short
3.1 Dispatching strategies
Assuming there is a number of un-served requests in the waiting list, and incoming calls
arrive in real time. The strategy in construction a dynamic route can be considered with two
policies. A routing policy builds a basic route for those request points which are already
known, while a dispatching policy helps diverting vehicles to incoming requests (if necessary)
from the planned basic route.
3.1.1 A routing policy
A routing policy, or a route construction policy, is the methodology in constructing a route in
stopping over all known requests with a certain objective. A wide range of routing policies
has been studied (see Bertsimas and Van Ryzin, 1991; Larsen, 2000). In this paper, we focus
on the Nearest Neighbor (NN) rule, which considers the spatial distribution of the requests in
the area of study (in contrast, the First Come First Service rule deals with the temporal aspect
of the calls) In NN, the route is determined from the relative distances (or travel times)
between the demands. Starting from a particular location, the next point of service to visit is
specified with the nearest distance (or travel times) from the current location of the vehicle,
and the route is built up for all known requests by repeating the process until all requests are
serviced.
3.1.2 A dispatching policy
The routing policy plans the sequence of known requests in the tour. When a request is
received in real time, a dispatching policy helps to reconstruct the current destination of the
vehicle. Two basic dispatching policies (Basic, Reposition, Diversion) and two hybrid
dispatching policies (DDR, DFR) has been proposed here. Each of these can be used in
conjunction with a routing policy as a dynamic strategy in vehicle dispatching.
Basic: The current destination of the vehicle is unchanged when an incoming request is
received. The sequence of stops following will be reconstructed (with the routing policy)
treating the new request as known.
Reposition: In case the demand rate is low, it may make sense to reposition the vehicle to a
strategic location when idle. The strategic location is the geometric centre of the area if the
distribution of requests is random and uniform.
Diversion: The idea is to divert a vehicle away from its current destination to serve a request
that has just occurred near its current position. It is effective in saving the total distance
travelled in picking up goods, but maybe be unreasonable in passenger transportation because
of the extra wait to the next requests.
Diversion During Reposition (DDR): This is a hybrid policy of reposition and diversion.
The vehicle is diverted to serve an incoming request when it is free and on the way to the
strategic location.
Diversion First Reposition second (DFR): This is a hybrid policy of reposition and diversion,
with emphasizes on diversion as compared to DDR. It follows the diversion policy when there
Figure 1 shows the results for scenario with h of 1.0, solving with each of the five dynamic
dispatching strategies. In general, average distance and average response time are trade-off
between each other, meaning that saving in distance travelled will enlarge the response time
in consequence. Among the dynamic dispatching strategies tested, Basic dispatching policy
requires the longest response time and a rather high value of distance. Reposition policy has
the longest distance and a high response time. DDR and DFR are superior to Reposition in all
cases and DFR is superior to DDR in almost all cases in saving response time and distance.
Diversion policy needs the least distance and is useful when the objective of the dispatcher is
to minimize the operating cost (neglecting the delay to requests).
When the demand intensity increases with N (from 1 to 5 and 10), distance travelled relatively
decreases. The saving in distance and response time compared with the Basic policy is shown
in Figure 2 and Table 2. It can be seen that the performances of Diversion and DFR are
outstanding. Diversion policy can reduce response time by 9.47% to 11.07% and moving
distance by 1.70% to 3.12%. DFR cuts the response time by 18.96% to 21.50%, but as a
trade-off, there is an increase of 10.48% to 21.29% in average distance travelled.
The results for high intensity and low intensity (h = 0.5 and 2.0) are displayed in Tables 1 and
3. As expected, it can be seen that the Reposition policy works well only with low demand
intensity but may perform even worse compared to Basic when the demand intensity is high.
The Diversion policy is better than Basic in all scenarios of demand levels. DDR is similar to
Reposition and found to be useful with low demand rates. DFR is the one with the lowest
response time, and the percentage saving in response time is even better with lower demand
intensities.
0.50
0.55
0.60
0.65
0.70
0.75
0.80
0.30 0.35 0.40 0.45 0.50 0.55 0.60 0.65
Average distance (D)
A
ve
ra
ge
re
sp
on
se
tim
e
(R
)
Base
Reposition
Diversion
DDR
DFR
N = 1
N = 5
N = 10 N = 1 N = 1
N = 1
N = 1
N = 5
N = 5
N = 5
N = 5
N = 10
N = 10 N = 10
N = 10
Table 2. Average distance and response time of dispatching strategies, with average headway
of 1.0 and different demand intensity parameter N
Average distance (percentage saving relative to Basic)
N = 1 N = 5 N = 10
Basic 0.4984 － 0.4105 － 0.3428 －
Reposition 0.6261 -25.61% 0.4827 -17.59% 0.3872 -12.96%
Diversion 0.4828 3.12% 0.4011 2.27% 0.3370 1.70%
DDR 0.6078 -21.94% 0.4708 -14.70% 0.3795 -10.73%
DFR 0.6045 -21.29% 0.4695 -14.39% 0.3787 -10.48%
Average response time (percentage saving relative to Basic)
N = 1 N = 5 N = 10
Basic 0.7420 － 0.6918 － 0.6700 －
Reposition 0.6745 9.10% 0.6370 7.93% 0.6331 5.50%
Diversion 0.6718 9.47% 0.6208 10.27% 0.5958 11.07%
DDR 0.6300 15.09% 0.6057 12.45% 0.6095 9.03%
DFR 0.5825 21.50% 0.5466 20.99% 0.5430 18.96%
Table 3. Average distance and response time of dispatching strategies, with average headway
of 2.0 and different demand intensity parameter N
Average distance (percentage saving relative to Basic)
N = 1 N = 5 N = 10
Basic 0.5170 － 0.4322 － 0.3692 －
Reposition 0.7046 -36.28% 0.5540 -28.17% 0.4566 -23.67%
Diversion 0.5070 1.94% 0.4250 1.67% 0.3640 1.39%
DDR 0.6855 -32.59% 0.5388 -24.65% 0.4445 -20.41%
DFR 0.6854 -32.56% 0.5402 -24.98% 0.4462 -20.86%
Average response time (percentage saving relative to Basic)
N = 1 N = 5 N = 10
Basic 0.6201 － 0.5437 － 0.4982 －
Reposition 0.5174 16.57% 0.4518 16.90% 0.4219 15.30%
Diversion 0.5866 5.39% 0.5100 6.20% 0.4622 7.21%
DDR 0.4892 21.11% 0.4285 21.20% 0.4018 19.34%
DFR 0.4712 24.02% 0.4043 25.64% 0.3724 25.24%
Han, A. F. and Cho, Y. J. (2001) A GIDS metaheuristic approach to the fleet size and mix
vehicle routing problem. In Celso Ribeiro and Pieere Hansen (Eds.), Essays and Surveys
in Metaheuristics, Kluwer, Chapter 18, 399-414.
Ichoua, S., Gendreau, M. and Potvin, J. Y. (2000) Diversion issues in real-time vehicle
dispatching. Transportation Science, 34(4), 426-438.
Lai, Yu-Ting (2006) Strategies for dynamic vehicle dispatching under different demand
patterns. Master Thesis, Institute of Transportation Technology and Management,
National Chiao Tung University, Taiwan.
Laporte, G. and Louveaux, F. V. (1998) Solving stochastic routing problems. In T. G. Crainic
and G. Larporte (Eds.), Fleet Management and Logistics, Kluwer, Boston, 159-167.
Larsen, A. (2000) The dynamic vehicle routing problem, Ph. D. dissertation, Technical
University of Denmark, Kongens, Lyngby, Denmark.
Larsen, A., Madsen, O. and Solomon, M. (2002) Partially dynamic vehicle routing-models
and algorithms, Journal of Operational Research Society, 52, 637-646.
Larsen, A., Madsen, O. and Solomon, M. (2004) The a priori dynamic traveling salesman
problem with time windows, Transportation Science, 38(4), 459-472.
Lund, K., Madsen, O. B. G. and Rygaard, J. M. (1996) Vehicle routing problems with varying
degrees of dynamism. Technical Report, Institute of Mathematical Modeling, Technical
University of Denmark.
Psaraftis, H. N. (1988) Dynamic vehicle routing problems. In B. L. Golden, A. A., Assad
(Eds.), Vehicle Routing: Methods and Studies, Elsevier Science, Amsterdam, 223-248.
Psaraftis, H. N. (1995) Dynamic vehicle routing: status and prospects, Annals of Operations
Research, 61, 142.164.
Toth, P. and Vigo, D. (2002) The vehicle routing problem. SIAM Monographs on Discrete
Mathematics and Applications, Philadelphia.
et al., 2005). Deterministic models are usually used in the planning stage. An early model of
this type is the location set covering model due to Toregas et al. (1971), with the objective of
minimizing the number of ambulances needed to cover all demand points. Their model
considers a set of demand points and a set of potential vehicle locations. Each demand point
represents a geographic area to which service must be provided, and it is to decide the
minimum number of locations that can cover all demand points within a specified distance
and hence response time. A shortcoming of the model is that it ignores the unavailability of
the ambulances when one is dispatched for a request. To rectify this limitation, Church and
ReVelle (1974) suggested an alternative approach. In their maximum covering location model,
the objective is to maximize the sum of demand covered. Since the number of ambulances is
limited, the model may allow some of the demand points not to be covered. These were later
extended for the case of multiple-coverage by Schilling et al. (1979), so vehicles of several
types may be dispatched to the scene of an incident. To guarantee a better service with limited
resources, Gendreau et al. (1997) suggested a double standard model. While all demand in the
area concerned should be reachable within an acceptable time or distance, a certain proportion
of the area must be reachable within a higher standard.
In contrast, probabilistic models are used at the operational level. Parameters, for example
travel times, the locations of patients, the demand for and the availability of ambulances, are
treated as random variables. One of the first probabilistic models for ambulance location is
due to Daskin (1983), who maximized the expected coverage of the ambulances, each of
which has a probability of being unavailable to answer a call. ReVelle and Hogan (1989)
maximized the demand covered with a given probability.
With the designed positions and dimension of the vehicle fleets, such ambulance or
emergency management system is usually operated with a decision support tool, having two
sub-problems: an allocation problem and a redeployment problem (Gendreau et al., 2001).
The allocation problem, which is sometimes referred to as the dispatch problem, considers
which ambulance to send to a patient or request. In the literature, heuristic rules are normally
used for the dispatching decision. Assuming all incoming requests are urgent and of the same
priority, an intuitive decision would be to send the nearest or quickest ambulance to the
requests without any delay. Less urgent calls may be held manually or serviced subject to
longer maximum waiting. To help meet the targets of adequate coverage and minimum
service, a redeployment problem is employed to relocate the ambulances when idle.
There are many applications that motivate research in the field of real-time vehicle routing
and dispatching. Such applications include dynamic fleet management, couriers, dial-a-ride,
emergency services (police, fire fighting and ambulance services), and taxi cab services
(Ghiani et al., 2003). There are important similarities but also differences between these
operations. Emergency and ambulance services are classified as strongly dynamic where
response time should be minimized (Larson, 2000). With the latest advancements in
Information and Communication Technologies (ICT) and Geographic Information Systems
(GIS), it is now possible to develop efficient dispatching systems by using real-time, high
quality and reliable positional information. The management centre can trace the coordinates
Our approach, instead, is to develop a model with user urgency levels, which not only can
decide which vehicle to dispatch but also if the service requested needs to be prolonged or
rejected.
DYNAMIC DISPATCHING
In this paper we are interested to develop a dynamic dispatching model which solves the
allocation and relocation subproblems simultaneously. Most of the previous research focused
on the relocation of ambulances, while the decision on which ambulance to assign to a request
is based on heuristic rules. When a call arrives, the natural dispatching rule is to send the
ambulance which can arrive first, known as a Nearest Neighbourhood (NN) heuristic, when
the objective is to minimize the response times. The First-Come-First-Served process is
clearly not optimal (Carter et al., 1972), especially in a priority-based dispatching system. By
the same token, the NN heuristic is myopic and does not guarantee optimality under limited
resources. In practice, the number of ambulances available is varying over time, and therefore
to keep re-optimizing the relocation or redeployment model may not yield the best solution.
Ambulance dispatching is similar to taxi dispatching, in the sense that the locations of future
requests are predictable probabilistically, and the requests normally ask for immediate service.
Efficient dispatching strategies for taxi services have been developed in Bell et al. (2005) and
Wong and Bell (2005). They utilize a rolling horizon approach to dispatching, whereby the
next n dispatches are calculated to minimise expected passenger waiting time. Since the
solution of an intractable dynamic programming problem was involved, a number of simple
heuristics have been devised, and simulation experiments have shown that the number of jobs
a given fleet can handle may be increased by about 10 percent through use of lookahead
heuristics.
The objective of this paper is to develop a tool which helps dispatching vehicles efficiently
for emergency medical services. A dispatching model is considered in a dynamic
programming context, with the consideration of vehicle location and relocation, patient
prioritization, and historical information about the locations of calls.
MODEL FORMULATION AND SPECIFICATION
On the supply side of the emergency medical services, we assume that in the planning stage
the set of vehicle locations or medical centres have already been identified, and there are a
limited number of ambulances associated with each of these medical centres. When a call is
received, the EMS dispatching centre decides which ambulance or ambulances from which
locations to assign to the call (we do not differentiate between the ambulances from a station
or skills of medical crew). Once an ambulance is dispatched for a task it is not available until
it finishes the task and returns to the centre. There is also a schedule of working hours for the
iat = the service time for an ambulance from i serving task a at time t
ikt = the travel time for an ambulance travelling from location i to location k at time t
iatc = the reward for assigning a vehicle from i to servicing a task a at time t
iktd = the costs of relocating a vehicle from i to k at time t
itR = the number of new ambulances becoming available at location i at time t (i.e.
schedule of workforce)
The value of iatx takes a binary form of  1,0 since we assume that only one vehicle is
needed for each task. This can be relaxed by allowing a task to call for more than one vehicle,
and in that case all vehicles must be originating from a same location. Otherwise we can
model the task as a number of sub-tasks of one vehicle.
A deterministic model
Firstly we will present a deterministic dynamic model which incorporates both current and
future demands. All demands in the first (i.e. the current) period are known, and that all
demands in future time periods are forecast. While the locations of ambulances are associated
with a set of medical centres, it is difficult to model the exact location of each forecast
demand. For modelling purpose, the potential locations of forecast demand are aggregated
into zones. The assignment of ambulances to requests and the reposition of ambulances to
other locations can be captured by an assignment model as follows
 
   








T
t Ii Ik
iktikt
Aa
iatiat ydxc
t0
max (1)
subject to
it
Ik
tki
Aa
tia
Ik
ikt
Aa
iat Ryxyx kit
t
iat
t
















 





 ,, , Ii , Tt (2)
1
Ii
iatx , tAa , Tt (3)
0, iktiat yx Iki , , tAa , Tt (4)
The above model is specified in a simultaneous form. The objective function Eq. (1) is to
maximize the overall benefit or rewards of the job assignment minus costs of vehicle
repositioning with a policy  iktiat yx , over the planning time horizon. Eq. (2) defines the
conservation of vehicles during each time instant, where the number of assigned and relocated
vehicles in each location should be equal to total available resources, including newly
available vehicles and also those which completed their tasks or relocated from the previous
time periods. It is assumed that a vehicle, once it has finished its task, returns to the centre
from which it is dispatched. Eq. (3) guarantees each task will not be serviced more than once,
The setting of iatc should be positive for major elements. There must be some values of iatc
for specified a and t to be positive (i.e.
aqr must be greater than some of iath for all Ii ),
which implies that all possible ja are adequately covered. The elements of iatc could be zero
or negative in the case that the priority of a task a is low and the distance from sending a
vehicle from i to ja is too far, such that the vehicle is better to be used for repositioning.
Predicted dynamic travel time information can be handled in our model as Eq. (5) is defined
with a time index t. For the case of static travel times, the time index can be ignored. The
dynamic model presented is equivalent to minimizing the response time to calls with
prioritization.
Alternatively the model can be formulated as a recursive form, which will facilitate the
analysis later on. Let itS be the total number of vehicles to be available in location i at time t
from all sources, and we have




 




Ik
tki
Aa
tiaitit kitiat yxRS  ,, (6)
Define J to be the expected cost of a dispatching policy. The model can be specified
recursively as follows
  11max 
 









   tt
Ii Ik
iktikt
Aa
iatiat
,yx
tt SJydxcSJ
iktiat
(7)
subject to
it
Ik
ikt
Aa
iat Syx
t










, Ii (8)
1
Ii
iatx , tAa (9)
0, iktiat yx Iki , , tAa (10)
where  IiSS itt  , .
So far we have presented a dynamic model which captures simultaneous vehicle allocation
and relocation, together with patient prioritization, capturing both actual demands (in current
period) and forecast demands (in future planning horizon). The decisions between allocating
and relocating vehicles are weighted by the reward points that would be received. It is always
a dilemma to ask if we should service a current non-urgent call or reserve the capacity for
possible future urgent needs, and this is open to the operators. As will be discussed later in the
is the recourse function, taking the state of the system and the estimated probability
distributions in future tasks as the input, and is defined as follows.
   111, ,max   





   ttt
Ii Ik
iktikt
Aa
iatiat
yx
tt pSJEydxcSJ
t
iktiat
(15)
subject to
it
Ik
ikt
Aa
iat Syx
t










, Ii (16)
1
Ii
iatx , tAa (17)
0, iktiat yx Iki , , tAa (18)
In the above program,   ttt pSJE , is an expected recourse function. Given recursive
structure of the model, Belman’s decomposition may be applied. However, finding the 
solution that maximizes the expected rewards (or minimizing the total delay time) over the
rolling horizon remains computationally very demanding, and for large attribute spaces is
impractical in real time due to Belman’s “curse of dimensionality”.Exact solution is difficult
to obtain, and a solution methodology is presented next for approximating this expected
recourse function.
SOLUTION METHODOLOGY
A possible approach in solving dynamic programming model is to calculate the recourse
function explicitly for each state. However, computational complexity of the presented model
is   TT JSIO  , and solving the model in practice is computational intractable. Algorithms
for an approximate solution are usually used, and an efficient solution algorithm would be
built upon how to approximate the expected recourse function in a neat way. A widely used
method for approximating Eq. (11) is to replace the recourse function with a linear and
separable approximation (see Bertsekas, 1995; Powell, 1996; Spivey and Powell, 2004).
Spivey and Powell (2004) suggested a solution strategy for problems with small attribute
spaces for the dynamic assignment problem, in which the recursive expression
 111 ,  ttt pSJ can be replaced with an approximation of the form
   11111 ˆˆ,   tDtSttt pJSJpSJ (19)
where SJˆ and DJˆ are, respectively, the vectors of StiJ 1,ˆ  and
D
tjJ 1,ˆ  , consisting of the vehicle
and task value approximations. The dynamic of state variables depend on Eq. (6) in which the
additional vehicle in a medical centre in the future. We can treat this as the contributions for
not assigning the vehicles. The rest of the problem is to approximate the values of SJˆ .
An adaptive dynamic programming algorithm
An algorithm using the gradient approximation developed above is presented as follows.
Step 0. Set a maximum number of iterations N, Set 0ˆ0, Sitz and 00, Sitz . Set n = 1
and t = 0.
Step 1. Forward pass. For the current n and t, solve the allocation and relocation
problem:
   
 


 








Ii Ik
ikt
nS
tkikt
Aa
iatiat
yx
t
k
t yzdxcSJ
t
iktiat
1,
1,,
max
~
(22)
subject to
it
Ik
ikt
Aa
iat Syx
t










, Ii (23)
1
Ii
iatx , tAa (24)
0, iktiat yx Iki , , tAa (25)
Step 2. Once the iatx and ikty in Step 1 is determined, update 1tS ; if t < T, then t = t
+ 1 and go back to Step 1. If t = T, go to Step 3.
Step 3. Backward calculation of gradients. For the current n and t, we update nSitz
,ˆ
with    21, ,,ˆ cSCcSCz ttnSit  , where  cSC t , is the maximum total rewards
of vehicle assignment, for given vehicle repositioning from the previous
iteration and tS for the current iteration. We can obtain left or right gradient at
the point of solution with 1c and 2c settings, which are vectors in the form of
 Iicc i  , . If there are no vehicles repositioned to location i at time t-1, i.e.
01, 


Ik
tkiy ,
nS
itz
,ˆ stands for the additional benefit of having an extra vehicle
in location i at time t, and we have  0,,1,,01 c with 1 for the ith element
and 0 otherwise, and  0,,02 c . If 01, 


Ik
tkiy ,
nS
itz
,ˆ is computed as the
negative consequences of removing a repositioned vehicle, by letting
 0,,01 c and  0,,1,,02  c with -1 for the ith element and 0
otherwise.  cSC t , is obtained by solving the maximization problem:
Initialize 0,ˆSitz and
0,S
itz to be zero.
FOR n = 1 to Maximum number of iterations
FOR t = 0 to Number of time periods
Solve Forward Pass to obtain iatx and ikty , with
1,
1,


nS
tiz .
Update 1tS .
END FOR
FOR t = Number of time periods down to 1
Solve Backward calculation of gradients to obtain nSitz
,ˆ .
Calculate nSitz
, by smoothing nSitz
,ˆ with 1, nSitz
END FOR
END FOR
EXPERIMENTAL RESULTS
To demonstrate the relative performance of the proposed methodology, a simulation model is
setup to test against different scenarios. We will test the model against deterministic as well as
stochastic settings of the problem. To capture the spatial manner of the ambulance dispatching,
a network is created, in which nine potential demand zones and four medical centres are
located as shown in Fig. 2. Once there is a call to the dispatching centre, the dispatcher will
assign ambulances from one of the medical centres for the call (or reject it). Travel time on
each of the links is assumed to be one unit (5 minutes here), and therefore all potential
locations are covered by a quickest response of 5 minutes. The corners are subject to less (but
acceptable) coverage than those on the boundary or in the centre of the network.
The experiment is simulated for a total period of 4 hours, with each time interval set at 5
minutes. Calls are generated randomly with assumed distributions for corresponding zones,
with different levels of urgency. The probabilities of a call being Urgent, Less Urgent and
Non-Urgent are assumed to be 0.2, 0.3 and 0.5 respectively. There are 10 ambulances located
in each of the medical centres in the beginning of the simulation. Travelling between adjacent
centres for repositioning takes one time interval (5 minutes), and an ambulance handling a
request is assumed to take 6 intervals (30 minutes) of service time before returning to the
centre. To discourage unnecessary repositioning, there is a cost of one fifth the travelling time
for vehicles moving idle. We are interested to know the performance of the proposed model in
relative to the myopic strategy, which is commonly used in practice, for different levels of
demand level. The problem is tested against different numbers of calls, from 50 to 700, during
a simulation period. The objective of the dispatcher is to minimize the delay to calls, but since
calls are prioritized, we can transform the problem into a reward maximization problem. Each
acceptance of a call receives a reward, which is an increasing function with the level of
urgency and decreasing function with the delay to the call. We assume the rewards for
handling a call of priority Urgent, Less Urgent and Non-Urgent to be 50, 20 and 10 units
respectively, followed by one unit of decrease for each minute of delay reaching the patient.
010
20
30
40
50
60
70
80
90
100
0 100 200 300 400 500 600 700 800
Number of calls
P
er
ce
nt
ag
e
of
m
ax
im
um
po
ss
ib
le
re
w
ar
d
re
ce
iv
ed Myopic
Adaptive
Figure 3. Percentage of maximum possible reward received against the demand intensity:
Deterministic cases
0
10
20
30
40
50
60
70
80
90
100
0 100 200 300 400 500 600 700 800
Number of calls
P
er
ce
n
ta
ge
o
f
to
ta
lc
al
ls
se
rv
ed
Myopic
Adaptive
Figure 4. Percentage of total calls served against the demand intensity: Deterministic cases
The adaptive strategy outperforms the myopic one by improving the overall efficiency. It is
shown in Fig. 4 that the adaptive algorithm can consistently service more calls compared to
myopic. This is probably due to the relocation of ambulances, which can save the travel times
in the future operations. Table 2 displays the quality of services for Urgent calls, represented
Similar figures are computed as in the Deterministic runs. Fig. 5 displays the total reward
received in a simulation period against different demand intensity. In general the adaptive
strategy outperforms the myopic one, and compared to the deterministic cases as in Fig. 3, the
improvements by adaptive strategy are very obvious when the number of calls is below 200.
0
10
20
30
40
50
60
70
80
90
100
0 100 200 300 400 500 600 700 800
Number of calls
P
er
ce
n
ta
ge
o
f
m
ax
im
um
p
os
si
bl
e
re
w
ar
d
re
ce
iv
ed Myopic
Adaptive
Figure 5. Percentage of maximum possible reward received against the demand intensity:
Stochastic cases
Table 3. Target of waiting period of 5 minutes and 10 minutes for Urgent calls: Stochastic
cases
Number of
calls
Myopic,
5 mins
Myopic,
10 mins
Adaptive,
5 mins
Adaptive,
10 mins
50 100 100 100 100
100 97.5 97.5 100 100
150 92.2 94.0 99.8 100
200 83.7 93.3 97.6 99.8
250 83.1 94.9 96.2 99.6
300 80.2 95.8 93.2 99.4
350 77.6 93.3 91.2 99.5
400 72.1 89.4 90.3 99.4
450 68.1 85.6 89.4 99.2
500 63.0 75.5 89.7 98.7
550 57.0 71.4 89.0 98.5
600 54.9 64.8 86.6 97.6
650 51.8 60.9 88.4 97.1
700 50.0 58.7 88.2 98.2
was acknowledged and can be unrealistic in practice. Our model provides a guideline for
accepting or not a current call with the computation of values of resources currently and in the
future. Of course, rejected calls which are lower in priority would be kept track of by the
operators for possible upgrading if needed. This model is particular useful in near-capacity
conditions of dispatching, in which the tactical locations of medical centres and fleet of
ambulances are already fixed.
ACKNOWLEDGEMENTS
The first author gratefully acknowledges the final support from the National Science Council
of Taiwan (Project No. NSC 95-2221-E-009-348).
REFERENCES
Andersson, T. and P. Varbrand (2006). Decision support tools for ambulance dispatch and
relocation. Journal of the Operational Research Society, 1-7.
Ball, M.O. and L.F. Lin (1993). A reliability model applied to emergency service vehicle
location. Operations Research, 41, 18-36.
Bell, M.G.H., K.I. Wong and A.J. Nicholson (2005). A rolling horizon approach to the
optimal dispatching of taxis. In H.S. Mahmassani (ed.) Transportation and Traffic
Theory: Flow, Dynamics and Human Interaction, Elsevier Science Ltd., pp 629-648.
(ISBN: 0-08-044680-9)
Bertsekas, D.P. (1995). Dynamic programming and optimal control, Volume 1. Athena
Scientific.
Brotcorne, L., G. Laporte and F. Semet (2003). Ambulance location and relocation models.
European Journal of Operational Research, 147, 451-463.
Carter, G., J. Chaiken and E. Ignall (1972). Response areas for two emergency units.
Operations Research, 20(3), 571-594.
Church, R. and C. ReVelle (1974). The maximal covering location problem. Papers of the
Regional Science Association, 32, 101-118.
Daskin, M. (1983). The maximal expected covering location model: formulation, properties,
and heuristic solution. Transportation Science, 17, 48-70.
Galvao, R.D., F.Y. Chiyoshi and R. Morabito (2005). Towards unified formulations and
extensions of two classical probabilistic location models. Computers & Operations
Research, 32, 15-33.
Gendreau, M., G. Laporte and F. Semet (1997). Solving an ambulance location model by tabu
search. Location Science, 5(2), 75-88.
Gendreau, M., G. Laporte and F. Semet (2001). A dynamic model and parallel tabu search
heuristic for real-time ambulance relocation, Parallel Computing, 27, 1641-1653.
