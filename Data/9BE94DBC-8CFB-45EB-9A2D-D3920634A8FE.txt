3.發展的跨層級動態頻譜存取技術，包括展頻碼評估方法、
選碼及換碼機制(code assignment and reassignment)、子
載波功率分配(subcarrier power allocation, SPA)、傳輸
功率控制(TPC)與存取控制(call admission control, 
CAC)。 
4.透過大量毫微細胞的(femtocell)模擬結果證明，我們所提
出的階層式系統架構以及干擾管理機制具備發展毫微細胞系
統的潛力，並可結合子串流卸除(substream deactivation)
技術成為一個極具發展潛力的感知無線電毫微細胞系統雛
型。 
子計畫四： 
1.以 IEEE 802.11 DCF 為 MAC 層協定，發展具服務品質保證
的路由演算法，提供多躍式隨意網路中即時性資料串流的服
務，並減少現有方法中有過多控制冗餘(control overhead)
的問題。 
2.以 TDMA 的架構為基礎，設計能適應性調整傳輸速率與功率
的跨 MAC-routing 層協定，並超越已知文獻的部分理想化假
設，包括: 
(1)直接以接收功率或 SINR 判定可通訊(或干擾)範圍，避免
採用一般文獻之固定傳輸範圍與干擾範圍的定義。 
(2)直接以接收端的 SINR 值為成功接收之判斷，因而可結合
功率控制與 AMC 技術，以提高全系統性能。 
(3)建立新穎的感知網路中次要用戶之多通道(multi-
channel)資源管理分配法則，提高全系統性能。 
中文關鍵詞： 感知無線電、頻譜感測技術、適應性鏈路技術、適應性調變
及編碼技術、協力式通訊技術、跨層設計技術 
英 文 摘 要 ： In the last decade, wireless communication systems 
have become intelligent and ubiquitous. They are 
robust against the variation of communication 
environments. In order to satisfy the QoS requirement 
of various multi-media applications, advanced 
communication systems can use all the radio resources 
(ex. frequency band, time, energy, and space) 
efficiently. The corresponding techniques include 
spectrum sensing, SDR, adaptive modulation and coding 
(AMC), cross-layer design and cooperative 
communication. This 3-uear group project has been 
devoted to the thorough research on these advanced 
topics and the total achievement includes 11 journal 
papers, 17 conference papers, and 2 submitted papers.
  
行政院國家科學委員會補助專題研究計畫成果報告   □期中進度報告 
 
資源限制及通道感知之無線通訊網路的研究－總計畫 
 
計畫類別：□ 個別型計畫   整合型計畫 
計畫編號： NSC 97-2221-E-006 -082 -MY3 
執行期間：97 年 8 月 1 日至 100 年 7 月 31 日 
 
計畫主持人：蘇賜麟  
共同主持人：賴癸江、張名先、張志文、郭文光 
計畫參與人員：蔡元鈞、曾子容、朱柏安、陳伶慧 
 
成果報告類型(依經費核定清單規定繳交)：□精簡報告  完整報告 
  
 
本成果報告包括以下應繳交之附件： 
□出席國際學術會議心得報告及發表之論文各一份 
□國際合作研究計畫國外研究報告書一份 
 
處理方式：除產學合作研究計畫、提升產業技術及人才培育研究計
畫、列管計畫及下列情形者外，得立即公開查詢 
          □涉及專利或其他智慧財產權，□一年□二年後可公開查詢 
執行單位：國立成功大學電機系 
 
 
 
中 華 民 國 100 年 11 月 28 日
  ii
4. 實體層合作式通訊研究。 
子計畫三： 
1. 研究二維展頻(2D-Spread)多載波直接序列碼分碼多重接取(MC-DS-CDMA)
技術所建構之階層式系統中跨層級與共跨級之干擾避免方法，定義了白色、
灰色、黑色展頻碼，以便於管理展頻碼資源。 
2. 定義一個嶄新的多存取干擾(multiple access interference, MAI)係數，作為小細
胞使用者的干擾量化指標，並以配置白色及灰色展頻碼。 
3. 發展的跨層級動態頻譜存取技術，包括展頻碼評估方法、選碼及換碼機制
(code assignment and reassignment) 、子載波功率分配 (subcarrier power 
allocation, SPA)、傳輸功率控制(TPC)與存取控制(call admission control, CAC)。 
4. 透過大量毫微細胞的(femtocell)模擬結果證明，我們所提出的階層式系統架構
以及干擾管理機制具備發展毫微細胞系統的潛力，並可結合子串流卸除
(substream deactivation)技術成為一個極具發展潛力的感知無線電毫微細胞系
統雛型。 
子計畫四： 
1. 以 IEEE 802.11 DCF 為 MAC 層協定，發展具服務品質保證的路由演算法，
提供多躍式隨意網路中即時性資料串流的服務，並減少現有方法中有過多控
制冗餘(control overhead)的問題。 
2. 以TDMA的架構為基礎，設計能適應性調整傳輸速率與功率的跨MAC-routing
層協定，並超越已知文獻的部分理想化假設，包括: 
(1) 直接以接收功率或SINR判定可通訊(或干擾)範圍，避免採用一般文獻之固
定傳輸範圍與干擾範圍的定義。 
(2) 直接以接收端的SINR值為成功接收之判斷，因而可結合功率控制與AMC
技術，以提高全系統性能。 
(3) 建立新穎的感知網路中次要用戶之多通道(multi-channel)資源管理分配法
則，提高全系統性能。 
  iv
Subproject 2: 
1. We parameterize the channel responses by the polynomial and B-spline models, 
respectively. The parameters can be used represent the channel responses. 
2. We use efficient Gaussian quantization to fulfill the feedback to transmitter. 
3. The feedback algorithm has low fed-back load, and the resulted channel capacity 
approaches the situation in the optimal feedback. 
4. We also study the cooperative communications in the physical layer. 
Subproject 3: 
1. In this project, we investigate the cross-tier interference avoidance strategy for the 
hierarchical system architecture based on the 2D-spreading MC-DS-CDMA. To 
this end, the white, gray and black spreading codes are defined. 
2. In order to evaluate the amount of inter-system and intro-system interference, we 
define a multiple access interference (MAI) coefficient as an indicator for the 
purpose of efficiently utilizing the white and gray spreading codes.  
3. Moreover, we proposed a dynamic spectrum access algorithm, which is consisted 
of the code evaluation、code assignment and reassignment, subcarrier power 
allocation, transmission power control and the call admission control.  
4. The capability of the proposed hierarchical system architecture as well as the 
interference management scheme for developing the femtocell system has also 
been proved via the simulation results with a large number of femtocells. It is 
believed that cooperating with the substream deactivation technique, the proposed 
spreading code management associated with the hierarchical system architecture 
can be a potential prototype of the CR-based femtocell system. 
Subproject 4: 
1. Get rid of the definition of fixed communication range and interference range, 
which is impractical but usually adopted in existing literature. Instead, 
  vi
目錄 
摘要............................................................................................................................................. i 
目錄............................................................................................................................................ v 
前言........................................................................................................................................... vi 
第一章  頻譜感測技術與信號特徵設計之研究.................................................................... 1 
1.1 子計畫目標 ................................................................................................................. 1 
1.2 研究方法 ..................................................................................................................... 2 
1.3 具體成果 ................................................................................................................... 39 
1.4 參考資料 .................................................................................................. 41 
第二章  基於通道訊息縮編之通道感知適應性傳輸.......................................................... 45 
2.1 子計畫目標 ............................................................................................................... 45 
2.2 研究方法 ................................................................................................................... 45 
2.3 具體成果................................................................................................................... 46 
2.4 參考資料................................................................................................................... 56 
第三章 感知無線電跨層級傳輸及資源管理技術之研究.................................................. 58 
3.1 子計畫目標 ............................................................................................................... 58 
3.2 研究方法 ................................................................................................................... 59 
3.3  具體成果 ................................................................................................................... 60 
3.4  參考資料 ................................................................................................................... 66 
第四章 無線網路資源感知管理及跨層協定之研究與設計.............................................. 72 
4.1 子計畫目標 ............................................................................................................... 72 
4.2 研究方法 ................................................................................................................... 73 
4.3 具體成果 ................................................................................................................. 108 
4.4 參考資料 ................................................................................................................. 121 
 
 
 
 
 
 
 
 
 
  viii
送能力及功率以提高整體通訊傳輸效率。 
最近，為了更近一步提高無線頻譜使用效率，Dr. Mitola 提出感知無線電
(cognitive radio)的概念並吸引眾多討論。窄義言，感知無線電指容許次要使用者
(或系統) (secondary users)藉頻譜感測（spectrum sensing）技術，探知主要使用者
(或系統) (primary users)擁有但未有效使用的頻譜，在儘量不干擾主要使用者(或
系統)條件下暫時性的利用該頻譜資源，以提高整體頻譜效益，如 IEEE 802.22
所定義。其主要技術包括頻譜感測、SDR(software defined radios)等。廣義言，感
知無線電或感知網路(cognitive networks)是泛指感測且有效地利用網路系統之所
有資源(包括頻譜、時段、功率、空間位置等)，達成滿足不同 QoS 要求的多媒體
資訊 end-to-end 傳送，以提高整體系統效能。其採用的技術除了上述頻譜及通道
感測和 SDR 外，也在考慮網路用戶間競爭合作的關係下，包括不同通道、不同
中繼間之 cooperative communication 技術、adaptive modulation/resource allocation
及跨各層次之 cross layers 協定設計等。 
綜上所述，近年無線通訊網路系統及技術之發展趨勢可簡言為：在有限資源(頻
譜、功率等)條件下，以最有效資源使用方式，滿足多媒體資訊之不同 QoS 要求，
並達到系統最大傳送量(throughput)的設計。其技術考慮已打破早期 OSI 層次架
構，進而強調在於如何估測可用資源，並有效使用、分配及管理資源，以提升全
系統性能。因此，未來通訊系統可說是全面性(ubiquitous)的智慧型(intelligent)通
訊網路系統，這也是本計畫的總體目標。 
為研發一全面性的智慧型通訊網路系統，本計畫研究構想即涵蓋 physical 
layer、MAC/link layer 與多躍式(multi-hop)網路等階層，核心技術包括頻譜感測
技術、適應性鏈路技術(包含功率控制與適應性調變及編碼技術)、協力式通訊技
術、跨層設計技術等。本計畫包含四個子計畫，分別如下：  
子計畫一： 頻譜感測技術與信號特徵設計之研究 
主持人：賴癸江助理教授 
子計畫二： 基於通道訊息縮編之通道感知適應性傳輸 
  x
[8] Chih-Wen(Wenson) Chang and Po-Hsun Lin, “A low-interference relay selection 
for decode-and-forward cooperative network in underlay cognitive radio,” To 
appear in IEICE Trans. on Communications. vol. E94-B, no. 12, Dec. 2011. 
[9] Chih-Wen Chang and Chien-Cheng Kuo," A novel interference avoidance code 
reassignment for the downlink 2D-spread MC-DS-CDMA system," IEEE Trans. 
on Vehicular Technology, vol. 59, no. 6, pp.3104-3108, June. 2010. 
[10] Chih-Wen Chang and Chien-Cheng Kuo,"A Joint Power Control and 
Interference Avoidance Code Assignment Strategy for Downlink MC-DS-CDMA 
with 2D Spreading," IEEE Trans. on Wireless Communications, vol. 8, no. 11, 
pp.5582-5591, Nov. 2009. 
[11] Szu-Lin Su and Yi-Wen Su, “Single Phase Admission Control for QoS-routing 
Protocol in Ad hoc Networks,” Ad Hoc Networks, 2011. 
 
會議論文: 
[1] Kuei-Chiang Lai, Jiun-Jie Jia, and Li-Wei Lin, “Maximum-Likelihood MIMO 
 Detection Using Adaptive Hybrid Tree Search”, in Proc. IEEE International 
 Symposium on Personal, Indoor and Mobile Radio Communications (PIMRC), 
 September 2011. 
[2] Kuei-Chiang Lai, Cheng-Chieh Huang, and Jiun-Jie Jia, “A Reduced-Complexity 
 MIMO Detection Algorithm Based on the Fixed-Complexity Sphere Decoder”, 
 in Proc. IEEE Asia Pacific Wireless Communication Symposium (APWCS), 
 August 2011. 
[3] Sheng-Lun Chiou, Kuo-Wang Hsieh, and Ming-Xian Chang, “CSI reduction of 
 MIMO-OFDM systems by parameterization,” in Proc. IEEE International 
 Symposium on Personal, Indoor and Mobile Radio Communications, 15-18. Sept. 
 2008. 
[4] Sheng-Lun Chiou, Wen-Sheng Hua, and Ming-Xian Chang, “Detection of 
 TR-UWB by recursion in dense multipath,”  in Proc. 14th Asia-Pacific 
 Conference on Communications, Tokyo, Japan, 14-16. Oct. 2008. 
[5] Tsung-Da Hsieh  and Ming-Xian Chang, “Detection of OFDM signals in fast 
 time-varying channels with ICI self-cancellation,” in Proc. IEEE Sarnoff 
 Symposium, 2009. 
[6] Ming-Xian Chang and Tsung-Da Hsieh, “Realizable ideal D/C and C/D converters 
  xii
[17] Szu-Lin Su, Yi-Wen Su, Chien-Sheng Chen, and Wen-Hsiung Liu, “A Novel 
Design of Node-disjoint Multi-path QoS Rounting in Multi-hop Ad Hoc 
Networks,” IEEE/IFIP 41st International Conference on Dependable Systems and 
Networks Workshops, June 2011 
 
已投稿論文: 
[1] Chih-Wen(Wenson) Chang and Yun-Li Yang,“Game Theoretic Channel 
Allocation for the Delay-Sensitive Cognitive Radio Networks,”Submitted to IEEE 
Transaction on Vehicular Technology in Oct. 2011.  
[2] Chih-Wen(Wenson) Chang and Chien-Heng Wang,“Bottleneck Effects 
Elimination for Cooperative Cognitive Radio Networks: A New Dimension of 
Time Slot Rearrangement,”Submitted to IEEE Wireless Communications and 
Networking Conference 2012. 
 
 
 
 
  2
式偵測的模型，希望可以提高系統的整體效能。考慮本地偵測器回傳本地判斷
（local decision），在基地台依據這些簡單的資訊做出最後決策，用以提高整體的
偵測效能。 
  第二部份是考慮了回傳通道的效應。本地偵測器傳送本地判斷，經過無線通
道至資料融合中心（fusion center），根據通道的條件分為兩種不同回傳通道探討
二元分散式偵測系統，並且設計決策融合法則。首先，在互相平行的平坦衰減 
通道假設下，利用最大化偏斜係數法分別設計同調與非同調接收之融合法則。第
二種情形，假設本地偵測器與資料融合中心之間的傳輸通道為非正交的系統模型
下，設計融合法則。 
 
1.2 研究方法 
1.2.1 利用循環穩態之本地及合作式偵測器 
1.2.1.1 簡介 
感知無線電系統中，當主要使用者及次要使用者同時出現時，主要使用者的
通信品質會受到干擾。本計畫假設當 GMSK 訊號為主要使用者、OFDM 為次要
使用者的狀況下，要如何偵測主要使用者是否進行傳輸。因為大多數調變信號的
自相關函數，在時間軸為週期函數，稱之具有循環穩態的統計特性，不同調變方
式的信號會有不同的循環穩態性。本節即藉此統計特性探討 GMSK 訊號偵測問
題。 
 
1.2.1.2 循環穩態基本定義 
    假設 )(tx 是一個連續隨機程序(random process)，若其統計特性滿足下列條
件： 
存在 0T ，使得 
1. )]([)]([ TtxEtxE   
2. )]()([)]()([  txTtxEtxtxE  或 )]()([)]()([ ''  txTtxEtxtxE  
  4
據式（4），當獨立且零平均的訊號疊加時，其循環穩態自相關函數亦為疊加的情
況，所以藉由不同訊號的循環穩態自相關函數的統計特性，可以作為辨別某種特
定訊號是否出現的一種方法。 
 
1.2.1.2.1 GMSK 循環穩態特性 
根據[3]，基頻的 GMSK 調變訊號為： 
))(2exp()(  
 

n
t
sn dnTgdhitx             （5） 
其中 
)(*)(*1)( tp
T
trect
T
tg Gauss
ss
               （6） 
nd 為隨機的 1,1  ； sT 是訊號週期； )(tpGauss 是高斯脈衝且其頻寬與訊號週期
的乘積為 sBT ，現行的 GMSK 系統 sBT = 0.3。因為訊號調變的因素，使得其自相
關函數並無一般函數型態（close form）之表示法，在此只能用數值的方式得到
第一型態的循環自相關函數。從圖（1）可知，GMSK 訊號的循環自相關函數在
sT2
1 及
sT
 有相對明顯的起伏，所以使用偵測循環自相關函數的特性，
該循環頻率提供了一個可適用的偵測目標。而又因為 OFDM 訊號採用 QPSK 或 
是 16-QAM 等調變方式時，其第一型態自相關函數為 0。因為 GMSK 及 OFDM
訊號是統計獨立，又根據引理（一），所以循環自相關函數可作為辨別當 GMSK
訊號受到 OFDM 訊號干擾的辨別特徵。 
在訊號偵測的問題中，完整的循環自相關函數的重建是不切實際的，只需要
選取明顯的點作為偵測的目標即可，所以循環自相關函數的偵測問題可以簡述
為：循環自相關函數在某些循環頻率以及時間延遲下是否等於零？依據此問題可
以建構一組二元假設檢定（binary hypothesis testing）的統計模型： 
 
0H （虛無假設）：GMSK 訊號沒有出現。 
1H （對立假設）：GMSK 訊號有出現。 
  6
式（9）的偵測誤差為零平均之高斯分佈，且此分佈之共變異數矩陣（covariance 
matrix）的一致估計式（consistence estimator）為： 
NN
xx NCNC
CNNC
22
)
2
Re()
2
Im(
)
2
Im()
2
Re(
ˆ












                          （10） 
矩陣的第 ),( nm 個元素為 
]2[]2[][1 .
2
1
2
1
.
0
, nm T
sF
T
sFsW
LT
N
mn T
Ls
Ls
T
 


   
]2[]2[][1 .*
2
1
2
1
.
0
, nm T
sF
T
sFsW
LT
C mn T
Ls
Ls
T
 


         （11） 
其中 


 
1
0
0
][][)(
T
l
lielxlxF ； ][sW 是長度為 L的頻譜視窗。 
1.2.1.3.2 統計檢定方法 
    至此，根據廣義最大概似率檢定（generalized likelihood ratio test），可得此
假設檢定之檢定統計量（test statistic）為： 
T
xxxxxx rˆ)ˆ(rˆT
  10                                   （12） 
檢定統計量在虛無假設（null-hypothesis）之下為自由度 N2 的中央的卡方分佈
（central chi-square distribution）。當對立假設（alternative-hypothesis）成立時，
式（12）為非中央卡方分佈（non-central chi-square distribution），其分中央參數
（non-central parameter）為 Txxxxxx rrT   10 )( ，而自由度為 N2 。 
依據檢定統計量在虛無假設下的分佈，使用尼曼-皮爾森法則
（Neyman-Pearson’s rule ），固定假警報率（false alarm rate），決定出一個門檻值
（threshold），當檢定統計量之值大於此門檻值時，就判定為該循環自相關函數
不等於零。 
上述偵測方法建構流程如下： 
1. 選定欲偵測之循環頻率 
  8
 
圖（2）對立假設下，訊雜比-25dB 下檢定統計量之長條圖 
 
 
圖（3）對立假設下，訊擾比-25dB 下檢定統計量之長條圖 
1.2.1.5 合作式偵測模型 
前面的章節敘述了本地偵測器（local detector）所偵測的結果，為了避免單
一本地偵測器因為外在因素使得偵測效能降低，現在考慮合作式偵測的模型。假
設有多個本地測器，使用前文所述的方法，當本地偵測器判定對立假設成立
（GMSK 訊號有出現）則會傳送符號+1 至基地台；若判定虛無假設成立（GMSK
  10
-1 的機率為 1-假警報率，而傳送+1 的機率為假警報率；相對在對立假設成立時，
-1 出現的機率就不會是 1-假警報率，且+1 出現的機率就不是假警報率。根據這
個現象，基地台端就可以依照此特性，依據所收到的+1 及-1 的比例加以判斷是
否要相信在本地偵測端是虛無假設成立。 
統計學上常用卡方檢定來解決這類的問題[10,pp.278-280]。卡方檢定可用於
資料類別的分析，假設現有一筆離散資料，預判定此筆資料是否符合某種隨機分
布，則可建立二元檢定模型： 
0H （虛無假設）：這筆資料是來自某期望分布 
1H （對立假設）：這筆資料並非來自此期望分布 
若這筆資料跟原先期望的隨機分布相距甚遠，則有明確的證據可以拒絕虛無假
設；相對的，若這些資料跟原先期望的隨機分布接近，則可接受虛無假設。 
    以下述問題解釋此方法，假設當母體中的一個元素只會唯一存在某一個類別
之中，且母體現在分成 L類，而這 L類在母體中的比例為固定已知的數，分別以
10P ... 0LP 表之，即 1... 02010  LPPP ，則可以依此建構二元檢定： 
0H （虛無假設）： 0202101 ...;; LL PPPPPP   
1H （對立假設）：非所有的 0ii PP  ，對 Li ,2...,1  
此檢定的用意在於檢定樣本結果及期望次數之間的差異，假設總樣本數為 N ，
且這 L 類分別出現的個數為 1T ... LT ，即 NTTT L  ...21 ，而期望次數可以藉
由虛無假設的分布計算得出，也就是第 i 類的期望次數 ie 為 0* iPN ，對
Li ,2...,1 ，至此其檢定統計量為： 
 


L
i i
ii
e
eT
1
2
                                （13） 
當樣本數 N 夠大時，式（13）會逼近自由度為 1L 的中央卡方分布，依此大數
理論可設定門檻值 r ，當計算的值大於門檻值 r ，則拒絕虛無假設。 
  回到現有的問題，假設現在有 K 個本地偵測器，已知其假警報率為 fP ，每
  12
的時間間隔（time slots）。而 OFDM 訊號使用了連續八個子載波，頻率間隔為
341.25 K赫茲，這全部2730 K赫茲頻代之中，只會出現一個頻寬為200K的GMSK
訊號，且 OFDM 訊號的每個子載波上使用 QPSK 調變訊號。使用蒙地卡羅方法
（Monte Carlo Method），進行 5000 次實驗。 
  根據前文的推論，因為 OFDM 訊號使用 QPSK 調變，所以其第二型態的自
相關函數為 0 函數，但 GMSK 訊號不為 0，所以使用第一型態循環自相關函數
循環頻率 α=0 且時間延遲 τ=0 的位置作為偵測目標。 
  效能分析包含以下幾種狀況： 
1. 根據文獻[4]，此演算法在對立假設成立時，會是一個 non-central 的 chi-square
分佈，而其 non-central 的參數跟樣本數有關，其大小會決定對立假設的機率
分布，對此演算法而言是一個重要參數。在此狀況下，模擬重點是改變不同
資料量，分析此演算法的偵測效能。 
2. 根據式（12），接收端的複雜度取決於快速傅利業轉換的大小，所以此模擬
實驗分析了在不同快速傅利業轉換矩陣大小時，偵測效能的差異性。 
3. 行動通訊中，由於物體可能會移動，接收訊號會發生都普勒現象，進而對於
自相關函數會出現相對應的變化，所以此模擬在於訊號經過了慢性且平坦的
衰減通道（slow and flat fading channel）時，偵測效能的變化 
4. 考慮合作式偵測的模式，接收端會將偵測結果回傳給基地台，基地台再藉由
這些回傳結果判斷是否欲偵測訊號有出現，藉此探討偵測效能是否會有所改
善。 
 
1.2.2.2 改變取樣之樣本數目 
    從文獻[4]可以知道樣本數的大小是改變對立假設隨機分布的重要參數，所
以此模擬實驗主要是探討當樣本數改變時，偵測效能的差異。假設接收訊號為
)()()()( tNtGtOtx SF  ，也就是考慮當干擾以及雜訊皆出現的狀況。改變 0T 的
大小，固定取樣頻率 40 samples/symbol，快速傅利業轉換轉換矩陣大小為 257，
  14
如圖（7）矩陣大小對於的偵測效能的影響，就變得非常不明顯，可以當成三者
的效能幾乎是差不多的。所以當樣本數夠高時，可以允許在接收端使用較小的傅
利業轉換矩陣。 
-25 -20 -15 -10 -5 0 5 10
0
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
1
SINR (dB)
P
d
 
 
window=129
window=257
window=513
 
圖（6） 10000 T ，改變快速傅利業轉換矩陣大小之偵測效能差異比較圖
-25 -20 -15 -10 -5 0 5 10
0
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
1
SINR (dB)
P
d
 
 
T0=10000,window=129
T0=10000,window=257
T0=10000,window=513
 
圖（7） 100000 T ，改變快速傅利業轉換矩陣大小之偵測效能差異比較圖 
  16
-25 -20 -15 -10 -5 0 5 10
0
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
1
Average SINR (dB)
P
d
 
 
T0=91mu,Doppler 100Hz
T0=910mu,Doppler 100Hz
T0=91mu,Doppler 50Hz
T0=910mu,Doppler 50Hz
T0=91mu,Doppler 4.1Hz
T0=910mu,Doppler 4.1Hz
T0=91mu, AWGN
T0=910mu,AWGN
 
圖（8）
0T 分別為 1000 及 10000，比較不同都普樂頻率及無都普樂頻率之效能差異圖 
  
1.2.2.5 合作式偵測 
1.2.2.5.1 卡方檢定 
假設每個本地偵測器的環境是同樣的，所以回傳的結果是獨立且同分布。根
據式（14），設定基地台端的假警報率為 0.05，分別用理論查表以及藉由模擬得
出的門檻值，考慮三個及五個本地偵測器的偵測效能。圖（9）是當虛無假設成
立的時候，在不同強度的干擾及雜訊的影響下，本地偵測器以及基地台的偵測效
能，可以看出沒有使用合作式偵測的狀況下，不管干擾及雜訊強度多高，偵測效
能都在 1- fP 附近。使用合作式偵測的方法，使用多數決的方法會有最好的效能，
此點可以藉由簡單的二項式定理得出；而基地台端用卡方檢定的方式，針對三個
本地偵測器而言，使用理論值的效能會離原本設定的假警報率有段差距，但使用
模擬得到的門檻值就較接近設定的理論門檻值，對於五個本地偵測器亦有相同的
情況，差別是，五個本地偵測器使用理論的門檻值與三個相比，較接近門檻值。 
圖（10）是不同合作式偵測方式與無使用合作式偵測的效能比較圖，可以看
出使用卡方檢定的效能皆優於無使用合作式偵測的方式，但是在三個本地偵測器
  18
1.2.3 平行回傳通道系統模型之研究探討 
10 / HH
)(
11 , fd PP )( 22 , fd PP )( , KK fd PP
1
~y 2~y Ky~
z
0u
1u 2u Ku



1
~n 2~n Kn~
1
~h 2
~h Kh
~
 
圖（11）系統模型。附上否定號(tilde)之符號代表其值為複數值（complex-valued） 
 
我們採用與文獻[19]相同之系統模型，圖（11）使用 K 個本地偵測器與一個
資料融合中心來進行二種可能前提(binary hypothesis)判定。H0 與 H1 分別代表信
號源不存在與存在的前提發生。每個本地偵測器會根據各自接收到的資訊和偵測
效能參數(即正確偵測率
kd
P (即信號源存在本地偵測器作出正確判斷的機率)及假
警報率
kf
P (即信號源不存在而本地偵測器誤判的機率))獨立地作出本地判斷。然
後本地偵測器再使用開關調變(on-off keying)傳輸本地判斷至資料融合中心;也就
是當本地偵測器判斷是 1H 發生時，傳送信號 1ku ，反之則不送任何信號(即
  20
在這裡 Re 代表取實部(real part)，而  kjkk enn  ~Re 是期望值為零，變異數為 2k
的高斯隨機變數。接著我們使用 Kkyk ,,1,  組合成融合統計量 z ，再與門檻值
 作比較，做出總判斷。當融合統計量大於門檻值判斷為 1H 發生，反之則判斷
為 0H 發生，可以下式表示: 
                                 
0
1
H
H
z 
 。                        （17） 
此外，下述方法門檻值 並無閉合形式表示式，因此我們使用大量的樣本數，透
過模擬的方式去尋找門檻值。 
 
1.2.3.1.1.1 同調接收下，文獻提出的使用部分即時通道資訊之最佳融合法則 
在文獻[15]中，假設回報通道為雷利衰減通道，作者推導了當本地偵測器使
用 BPSK(binary phase shift keying)調變，利用概似法求得最佳融合法則。但是在
此篇論文，本地偵測器使用 OOK 調變，因此文獻[18]第（12）式需改寫成下列
形式 
 
 
 
       
       


















 



 





K
k
fkk
ya
kkkfkk
dkk
ya
kkkdkk
K
K
k
kk
k
k
kk
k
PyaQeyaPm
PyaQeyaPm
HyyL
HyyLz
1
2222
2222
01
11
CSLRT
2
2
21212
21212
log
|,,
|,,log




（18） 
在這裡     x
t
dtexQ 2
2
2
1
 (Q-function)，
 
  )2( 222
2
kkk
k
k m
ma   ，我們定義符號
 L 為概似函數，     ]E[ nknk hm  為 kh 之 n 階期望值。此融合統計量是假設 kh 為雷
利分佈推導出來。可以看到（18）式並不包含通道增益大小 kh ，取而代之的是 kh
的二階統計特性，並不需要即時的通道增益大小資訊，因此稱之為 LRT-CS。 
 
  22
                    
   
     





K
k
kfkfkk
K
k
kkkk
kk
PmPmg
HnuhgHz
1
222122
1
0
2
0 |var|Var

         （22） 
結合（20）～（22）式可得 
                      
  
     






 
 K
k
kfkfkk
K
k
fdkk
kk
kk
PmPmg
PPmg
d
1
222122
2
1
1
2

            （23） 
令     22212 ][ kfkfkkk kk PmPmgB  和         222121 kfkfkfdkk kkkk PmPmPPmC  ， 
然後利用柯西不等式(Cauchy-Schwartz inequality)，可將（23）式改寫成 
 
   
   







 




K
k
kK
k
k
K
k
k
K
k
k
K
k
k
K
k
kk
C
B
CB
B
CB
d
1
2
1
2
1
2
1
2
1
2
2
12             （24） 
當 kk CB  ， 為任意常數時， 2d 會具有最大值。因此利用 
                         
  
     22212
1
22212
1
22212
      
kfkfk
fdk
k
kfkfk
fdk
kfkfkk
kk
kk
kk
kk
kk
kk
PmPm
PPm
g
PmPm
PPm
PmPmg
CB









  （25） 
可求得結合權重 kg 。為了保證    10 |E|E HzHz  ，我們給定
    01 |E|Esgn HzHz   ，  sgn 為 signum 函數，  為任意正數。而融合統
計量可表示為 
                   
    k
K
k kfkfk
fdk
K
k
kk
y
PmPm
PPm
yg
kk
kk






1
22212
1
1
CS-DCM
)][(
)(
      z

           （26） 
觀察（26）式可發現此融合法則只需要一階與二階的通道統計特性，與本地偵測
效能參數，並不需要即時通道資訊 kh ， 所以稱此融合法則為 DCM-CS。特別注
  24
接收模型，作者推導了當本地偵測器使用 BPSK(binary phase shift keying)調變，
利用概似法求得最佳融合法則，稱之為 LRT。我們一樣的將其修改為本地偵測器
使用 OOK 調變，文獻[16]第（2）式被改寫成下列形式 
                    
 
 
   
    













K
k
y
f
hy
f
y
d
hy
d
K
K
k
k
k
k
kk
k
k
k
k
k
kk
k
ePeP
ePeP
HyyL
HyyLz
1
22
22
01
11
LRT
2
2
2
2
2
2
2
2
1
1
log
,|,,
,|,,log


h
h


                （29） 
此融合法則使用了完整的即時通道資訊，雖然與（18）式比較起來運算複雜度較
低，但是須花較多成本在作通道估測。 
 
1.2.3.1.1.4 同調接收下，文獻提出使用最大化偏斜係數得到的次佳融合法則 
    在文獻[17]，使用線性結合技術搭配最大化偏斜係數法得到了較低運算複雜
度，且具有強健效能的融合法則，稱之為 DCM。我們在 0 小節使用了與文獻[17]
相同的推導方式，其主要不同點在於文獻[17]最大化條件偏斜係數，其定義如下 
                      
 
],|Var[
],|E[],|E[
0
2
012
h
hh
Hz
HzHzdcond
                       （30） 
而最後得到的融合統計量，在使用開關調變時，改寫如下式 
                          k
K
k kffk
fdk
K
k
kk
y
PPh
PPh
yg
kk
kk






1
22
1
DCM
1
      z

                      （31） 
 
1.2.3.1.2 非同調接收模型 
在非同調接收下，我們使用個別通道接受到的瞬時功率 2|~| kk yp  來組成融
合統計量，因此並不需要通道相位資訊。 
 
1.2.3.1.2.1 非同調接收下，文獻中提出的最佳融合法則 
  26
(ED) 


K
k
kpz
1
ED 等效。而假設通道為雷利衰減通道下，可證明 NC-DCM-CS 為
NC-LRT-CS 低訊雜比近似。其證明如下:當 2k 時，參照文獻[19]第（8）式，
（32）式可被近似為 
  
k
K
k k
fdk p
PPm
z kk
k




1
4
2
CSLRT-NC 4
lim
2                （35） 
相同地，（34）式可被近似成 
  
k
K
k k
fdk p
PPm
z kk
k




1
4
2
CSDCM-NC 4
lim
2                （36） 
比較（35）與（36）式可得證。 
 
1.2.4 平行回傳通道之模擬結果 
在此章中，我們探討兩種不同情況下具有 10 個本地偵測器的無線感測系
統，在假設信號存在下，透過系統正確偵測率 0dP 與個別通道平均接收訊雜比的
關係曲線圖，來分析提出之方法與文獻中方法之效能差異。我們假設通道是平均
功率為 1 之雷利衰減通道，彼此互相獨立並具有相同統計特性。定義第 k 個通道
的平均訊雜比為 


 210 2
1log10SNR
k
k  。 
 
 
 
 
 
 
 
1.2.4.1 第一種情況：不同本地偵測器效能，相同平均通道接收訊雜比 
  28
 
1.2.4.2 第二種情況：相同本地偵測器效能，不同平均通道接收訊雜比 
-10 -5 0 5 10 15 20
0
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
1
Mean value of channel SNRs (dB)
P
ro
ba
bi
lit
y 
of
 d
et
ec
tio
n 
P d
0
 
 
LRT
EGC
DCM
DCM-CS
LRT-CS
NC-LRT-CS
ED
NC-DCM-CS
 
圖（13）第二種情況下，系統假警報率系統假警報率 01.00 fP ，系統正確偵測率與 0dP 平均接
收訊雜比之關係圖 
 
我們探討的第二種情況為所有本地偵測器的效能皆相同，正確偵測率
5.0
kd
P ，假警報率 05.0
kf
P ，而每個通道具有不同的平均接收訊雜比。當所
有通道的平均接收訊雜比之算術平均為 S dB 時，則各個通道的平均接收訊雜比 
   2S,2S,4S,4S,S,S,4S,4S,2S,2SSNR k dB。圖（13）為此情況
下，設定系統假警報率 0fP =0.01，所得到的系統正確偵測率 0dP 與平均接收訊雜
比的算術平均值之關係曲線圖。 
由圖（13）可以觀察到的曲線相對應關係與圖（12）大致上相同，主要的不
同點在於 DCM-CS 與 NC-DCM-CS 在低到中訊雜比情況下，效能表現較 EGC 與
ED 好，這是因為 DCM-CS 與 NC-DCM-CS 有根據通道的平均接收訊雜比之大小
來分配權重。而在高訊雜比時，效能分別為 EGC 與 ED 的近似。  
  30
測器會根據各自的觀測和偵測效能參數(即正確偵測率
kd
P (即信號源存在本地偵
測器作出正確判斷的機率)及假警報率
kf
P (即信號源不存在而本地偵測器誤判的
機率))獨立地作出本地判斷。當第 k 個本地偵測判斷 1H 發生的時候，則其本地判
斷為 1ku ；反之，則 1ku 。接著本地偵測器使用 DS-CDMA 的技術，將各
個 本 地 判 斷 ku 乘 上 能 量 為 一 的 標 準 化 特 徵 波 形 (normalized signature 
waveform) ks ，再傳送至資料融合中心。我們假設本地偵測器與資料融合中心的
回傳通道為平坦且緩慢的衰減通道，通道彼此間為非正交(即同時且同頻率傳
送)，並且假設各個本地偵測器傳送信號有經過同步(synchronize)。則資料融合中
心接收到的信號可以被表示為 
     tnTtsuhtr K
k
kkk
~~
1


                  （37） 
其中 kh
~ 為第 k 個衰減通道造成的複數通道增益。  tn~ 為接收到的雜訊，假設其為
期望值零、變異數為 2n 的複數可加性白色高斯雜訊(added white Gaussian noise, 
AWGN)。T 為一個傳送符號時間(symbol time) 長度。接著，將接收信號  tr 經過
一排針對標準化特徵波形的匹配濾波器。則匹配濾波器的輸出  TK,y,,yy 21y
可以表示為 
nRHuy                         （38） 
其中    dttstry kTk  ，上標T 代表對矩陣轉置(transpose)。R 為特徵波形間的標
準化交相關矩陣(cross-correlation matrix)，為一個 KK  矩陣。  Khhdiag ~~1H 為
一複數對角矩陣，其對角線元素為各個通道增益。  TK,u,,uu 21u 為本地判斷
組合成之實數向量。而  Rn 2,0~ nCN  是大小為K 的複數高斯雜訊向量。然後再
利用複數向量y來組合成融合統計量，再與門檻值比較做出總判斷。 
  32
不同處在於圖（15）多了多使用者偵測器，將資料融合中心分成兩段。第一階段
將經過匹配濾波器後的資料先使用多使用者偵測法做出硬性決策 uˆ， uˆ為本地判
斷向量u之估測值。第二階段再利用 uˆ來形成融合統計量。文獻在第二階段使用
的融合法則是假設 uu ˆ ，也就是第一階段的判斷完全正確，而且 uˆ的每個元素
互相獨立，然後使用對數概似比試驗法得到下式 
     
 
  






K
k k
k
Hup
Hup
Hp
HpLz
1 0
1
0
1
LRTS |ˆ
|ˆlog
|ˆ
|ˆlogˆlog
u
uu       （40） 
其中 
                           
 

0if
1if
|1ˆ
mP
mP
Hup
k
k
f
d
mk             （41） 
觀察（40）式及（41）式可以發現，文獻使用的融合法則只包含了本地偵測效能
參數，也就是只考量了信號源到本地偵測器之間的通道影響，並未考量到本地偵
測器到資料融合中心的通道影響。 
    接下來我們介紹文獻在第一階段使用的方法。以下為四種較常見的多使用者
偵測器[20]: 
 最大化聯合概似值(joint maximum likelihood, JML)偵測器 
                          RHuHuyHuu u   2Remaxargˆ 1,1JML K            （42） 
 
 單一使用者匹配濾波器(single-user matched filter, MF) 
    yHu  Resgnˆ MF                        （43） 
使用（43）式來獲得u的偵測值，將經過匹配濾波器的信號向量乘上通道增益矩
陣的厄米特轉置，其中  







0if1
0if0
0if1
sgn
x
x
x
x 為 signum 函數，經過 signum 函數
後的硬性決策即為偵測值。為最簡單的多使用者偵測器。 
  34
軟性決策 
   yRHu 1Dec Re                         （47） 
再將其作為（40）式之結合權重，並將（41）式代入，則 SW-LRT 融合統計量可
表示為 
    









 


k
k
kk k
k
f
d
uk
k
uk f
d
k P
P
u
P
P
uz
1
1
log||log
1ˆ1ˆ
LRTSW         （48） 
當多使用者偵測器判斷第 k 個本地偵測器傳送 1 時，使用第 k 個軟性決策作為可
靠度乘上對數概似比值，而判斷為 1 時，則使用軟性決策的絕對值作為結合權
重。當
kk fd
PP  ， ku 為正值越大時，使得融合統計量得到的值就越大，而 ku 為負
值越小時，會使融合統計量得到的較小的值。而 ku 越接近零時(即可靠度越低)，
其對融合統計量的影響越小。也就是說我們採信狀況好的通道，放棄狀況較不好
通道。因此，此融合法則在較低的通道平均接收訊雜比時，因為減少狀況差的通
道佔的權重，降低了誤判的機率，會有較佳的偵測效能。但是在高訊雜比時，主
要影響偵測效能好壞的是本地偵測器效能參數，加入了軟性決策當作權重反而會
使偵測效能下降。 
 
1.2.5.3.2 複合式概似比融合法 
在 0 小節提出的 SW-LRT 雖然提昇了低通道平均接收訊雜比的偵測效能，但
是高訊雜比的偵測效能反而降低了。因此我們提出第二種融合法則，利用通道平
均接收訊雜比的資訊，結合 SW-LRT 及 S-LRT 兩個融合法則，希望達到低訊雜
比時偵測效能近似 SW-LRT，而高訊雜比時偵測效能接近 S-LRT，具有較強健的
偵測效能。下式為我們提出的 C-LRT 其融合統計量表示式  
    










 






  


k
k
kk k
k
f
d
uk n
k
uk f
d
n
k P
P
u
P
P
uz
1
1
log1||log1
1ˆ
2
1ˆ
2LRTC     （49） 
當訊雜比很低也就是 2n 時，（49）式近似於（48）式。反之，在高訊雜比 02 n
  36
接收訊雜比關係曲線圖。使用 S-LRT 融合法則的曲線，我們直接使用多使用者
偵測器標示(如:dec)。使用 SW-LRT 融合法則的曲線，我們在其前面多加 w 表示
(如:wdec)。相似地，使用 C-LRT 融合法則的曲線，我們在其前面多加 c 表示
(如:cdec)。 
-5 0 5 10 15 20
0
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
1
Average received SNR (dB)
S
ys
te
m
 p
ro
ba
bi
lit
y 
of
 d
et
ec
tio
n,
 P
d0
 
 
dec
wdec
cdec
 
圖（16）第一階段使用去相關偵測器的三種融合法則之正確偵測率與平均接收訊雜比關係曲線圖。 
 
從圖（16）我們可以觀察到，第一階段使用去相關偵測器時，使用 SW-LRT
在低訊雜比時，偵測效能大約比 S-LRT 好上 3 dB，但是在高訊雜比時偵測效能
與 S-LRT 有一大段差距。而 C-LRT 在低訊雜比時偵測效能近似 SW-LRT，高訊
雜比時偵測效能近似 S-LRT，並且有效的提升了中訊雜比時的偵測效能，具有較
強健的偵測效能。 
1.2.6.2 第一階段使用單使用者匹配濾波器 
  圖（17）為第一階段使用單使用者匹配濾波器的三種融合法則之正確偵測率
與平均接收訊雜比關係曲線圖。從圖（17）可以觀察到，與第一階段使用去相關
偵測器相似，在低訊雜比時使用 SW-LRT 融合法則比使用 S-LRT 融合法則偵測
效能約好了 3 dB，在高訊雜比時 S-LRT 偵測效能比 SW-LRT 好，但其偵測效能
差異比使用去相關偵測器小。而 C-LRT 融合法則也有效的提升了中訊雜比時的
  38
-5 0 5 10 15 20
0
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
1
Average received SNR (dB)
S
ys
te
m
 p
ro
ba
bi
lit
y 
of
 d
et
ec
tio
n,
 P
d0
 
 
mmse
wmmse
cmmse
 
圖（18）第一階段使用線性最小化均方誤差偵測器的三種融合法則之正確偵測率與平均接收訊雜
比關係曲線圖。 
 
1.2.6.4 各種多使用者偵測器結合最佳的融合法則與文獻方法比較 
本小節我們比較文獻提出的最佳融合法則和非線性的 JML 多使用者偵測法
與線性的 MF、decorrelator、MMSE 使用前面模擬所得相對應最佳曲線之比較。
圖（19）為最佳化法則 D-LRT、與使用 JML 偵測 S-LRT 融合、使用 MF 偵測 C-LRT
融合、使用 decorrelator 偵測 C-LRT 融合及使用 MMSE 偵測 SW-LRT 融合的系
統正確偵測率與平均接收訊雜比關係圖。從圖中我們可以觀察到， wmmse 的偵
測效能在低訊雜比下只差最佳化法則少許，較 JML 與 cdec 好很多。而在高訊雜
比下除了 cmf 以外，都會慢慢接近最佳的融合法則，這是因為使用 MF 作為多使
用者偵測器時，當訊雜比加大時，多使用者干擾也相對應提高，因此無法提供準
確的偵測性能。曲線 wmmse 有較其他融合法則(D-LRT 除外)強健的偵測效能，
且為線性的多使用者偵測器及融合法則，因此在考慮複雜度及偵測效能下，
wmmse 應為這些之中最佳的融合法則。 
  40
測器回傳的資訊，且在基地台端使用卡方檢定的方式做決策。基地台端使用卡方
檢定與無使用合作式偵測相比，會有較好的效能。而在本地偵測器的數量上，我
們發現三個本地偵測器的偵測效能增益較不明顯，且跟理論值差距甚遠；本地偵
測器至少要於五個的時候，效能增益才會明顯，且更逼近理論值。 
 
第二部分 
在合作式偵測系統研究中，我們分成正交與非正交回傳通道設計融合法則。
在正交回傳通道模型下，我們利用最大偏斜係數法在平行且平坦衰減通道的系統
假設下，去求得（1）在同調接收情形下，只需要部分即時通道資訊(即通道相位)
的次佳融合法則，稱之 DCM-CS；（2）在非同調接收情形下，完全不需要通道及
時資訊的次佳融合法則，稱之 NC-DCM-CS。在假設通道分佈為雷利分佈下，
DCM-CS 與 NC-DCM-CS 分別為相對應條件下最佳化的融合法則 LRT-CS 與
NC-LRT-CS 的低訊雜比近似值，且運算複雜度較低；但是其在中到高訊雜比時
的效能較差，尤其 NC-DCM-CS 與 NC-LRT-CS 有非常顯著的效能差距。和其他
融合法則相比，我們所提出的 DCM-CS 與 NC-DCM-CS 有下列優點：（一）不需
要假設通道機率密度函數。相較於 LRT-CS 與 NC- 
LRT-CS，此二者是假設通道之機率密度函數分佈為雷利分佈。然而實際通道的
機率密度函數可能極為複雜，不易準確得到。即便有準確的通道機率密度函數，
也並非所有通道機率分佈模型下皆可得到融合統計量之閉合形式(closed-form)表
示式。（二）DCM-CS 與 NC-DCM-CS 的效能分別較 EGC 與 ED 強健。雖然在特
定條件下(本地偵測器效能皆相同和每個通道具有相同統計特性與訊雜比)，EGC
及 ED 分別與 DCM-CS 與 NC-DCM-CS 具有相同效能，但是 DCM-CS 與
NC-DCM-CS 在分配權重時，同時考慮傳輸通道的狀況與本地偵測器之效能，因
此在一般的狀況下，其效能分別較 EGC 及 ED 強健。在我們提出的兩種融合法
則中，因為 NC-DCM-CS 為非同調接收而且不需要即時通道資訊，比較符合實際
情形，因此在此考量下為較佳之方法。 
  42
Communcations, vol. 25, no.3, April 2007 
[4] Michael F, Driscoll " An Improved Result Relating Quadratic Forms and 
Chi-Square Distributions " The American Statistician, vol.53, no.3, August 1999, 
pp,273-275 
[5] Searle, S. " Linear Models" New York : Wiley, 1971  
[6] D. R. Brillinger and M. Rosenblatt, “Asymptotic theory of estimates of kth-order 
spectra,’’ in: Spectral Analysis of Time Series, ed. B. Harris, New York Wiley, 
1967, pp. 153-188. 
[7] D. R. Brillinger, "Time Series: Data Analysis and Theory". San Francisco,Ca: 
Holden-Day, 1981 
[8] C.Cordeiro; K.Challapali.; D.Birru; N.Sai Shankar, "IEEE 802.22: the first 
worldwide wireless standard based on cognitive radios", First IEEE International 
Symposium on New Frontiers in Dynamic Spectrum Access Networks, 2005. 
DySPAN 2005. 2005 , vol., no., pp.328-337, 8-11 Nov. 2005. 
[9] William A. Gardner, "Introduction to Random Processes: with Applications to 
Signals and Systems, Second Edition,", McGraw-Hill, 1990 
[10] Robert V. Hogg, Joseph . McKean, Allen T. Craig, "Introduction to Mathematical 
Statistics’ ". Pearson Prentice Hall, 2005 
[11] Jarmo Lund´en, Visa Koivunen, Anu Huttunen. H. Vincent Poor, "Spectrum 
Sensing in Cognitive Radios Based on Multiple Cyclic Frequencies," in Proc. 
2nd Int. Conf. Cognitive Radio Oriented Wireless Networks and 
Communications, Jul. 31-Aug. 3,2007. 
[12] J. Lund´en, V. Koivunen, A. Huttunen and H. V. Poor, “Collaborative 
cyclostationary spectrum sensing for cognitive radio systems,” IEEE 
Transactionson Signal Processing, vol. 57, no. 11, November 2009. 
[13] R. Viswanathan and P. K. Varshney, “Distributed detection with multiple sensors: 
  44
[22] S. Yiu and R. Schober, “Nonorthogonal transmission and noncoherent fusion of 
censored decisions,” IEEE Trans. Veh. Technol., vol. 58, no. 1, pp. 263-273, Jan. 
2009. 
[23] S. M. Kay, Fundamentals of Statistical Signal Processing: Detection Theory. 
Englewood Cliffs, NJ: Prentice-Hall, 1998. 
[24] S. Verdu, Multiuser Detection. Cambridge, UK: Cambridge Univ. Press, 1998. 
[25] Y. L Yang, “Robust Fusion Rules for Distributed Detection SystemsUsing 
Orthogonal or Non-orthogonal Report Channels,” Institute of Compute 
Communication Engineering National Cheng Kung University Thesis for 
Master of Science, June 2010. 
[26] S. Y Dai, “Detection of GMSK signal under the Interference of OFDM signal by 
Using Cyclostationary Characteristics,” Institute of Compute Communication 
Engineering National Cheng Kung University Thesis for Master of Science, June 
2010. 
[27] J.J. Jia, “A Linear-Combining Fusion Rule for Distributed Detection Systems via 
Maximizing the Deflection Coefficient,” Institute of Compute Communication 
Engineering National Cheng Kung University Thesis for Master of Science, 
June 2009. 
 
 
 
 
 
 
  46
2.3 具體成果 
在接收端我們假設通道是完美已知( ,Fj ih )，利用多項式來近似通道(
~
,
F
j ih )，再把係
數萃取出來當作參數來將通道響應參數化。圖一中，我們繪製了利用多項式重建
後的通道響應和真正的通道響應間的均方誤差 (Mean-Square Error)。 
 
2 4 6 8 10 12 14 16 18 20
10-3
10-2
10-1
100
NpxNd
M
SE
-J
Np=2 Analysis
Np=2 Simulate
Np=4 Analysis
Np=4 Simulate
 
圖一 均方誤差圖 
 
    在接收端所萃取出來的係數 , ( ), 0,..., 1j ic d d Nd  ，要量化回傳給傳送端來
重建通道。由於係數為高斯分佈，所以選擇高斯量化來達到最低的量化誤差，高
斯量化演算法主要基於 NNC(nearest neighborhood condition) 和 CC(centroid 
condition)兩個準則。 
  48
    傳送端利用量化回傳的係數把通道重建回來，做預先編碼的工作，這邊我們
主要是討論BS(Beamforming system)和MS(Multiplexing system)兩種系統。 
首先我們先把重建回來的通道(
~
( )kH )做SVD分解，
~
( ) ( ) ( ) ( )Hk k k k H U V ，令
( ) ( )
t sN N
k kF V I ,( Ns=1 BS, Ns>1 MS )，由第k個子載波所傳送的資料 ( )ks 會先做
( ) ( ) ( ), 0 ~ 1ck k k k N  X F s 預先編碼的動作，然後再由 tN 根傳送天線傳送。 
      接收端的解碼器為
^
( ) ( ){ ( )X( ) ( )}Hk k k k k s G H n 、其中 ( )H kG 的設計再
BS和MS分別為
~
( ( ) ( ) )Hk kH F  和
~ ~~
1[ ( ) ( ) ( ) ( ) ] ( ) ( )H H H Hk k k k k kF H H F F H 。 
 
-2 0 2 4 6 8 10 12
10-5
10-4
10-3
10-2
10-1
BS: Nt=3, Nr=1, Ns=1, Np=2, Nd=4
Eb/N0(dB)
Pr
ob
ab
ilit
y 
of
 B
it 
Er
ro
r (
BE
R
)
GQ 48-bit Bc=1
GQ 96-bit Bc=2
GQ 144-bit Bc=3
GQ 192-bit Bc=4
GQ 240-bit Bc=5
GQ 288-bit Bc=6
Perfect CSIT
 
圖四 MIMO-OFDM-BS 系統下高斯量化回傳的位元錯誤率圖 
 
 
  50
               
2
2
2
2 2
3 , | |
4 2
3 | | 9 3( ) , | |
2 2 8 2 2
0, otherwise
t Tt
T
t t T TB t t
T T
      
 
 
 
在縮編的過程中，我們使用 m 個 2 ( )B t  的基本圖形，經過適當的平移和乘上
適當的係數來逼近通道響應(圖六)，如此一來我們就能把 cN  個子通道轉換成 
m 個係數來完成縮編的工作，再傳送端我們能接收到回傳的量化係數而進一步
把通道重建回來，來為系統作序先編碼而準備。 
 
        
     圖六 m 個 2 ( )B t 的基本圖形來逼近通道響應  
 
再接收端我們把係數萃取出來當作參數來將通道響應參數化。圖七中，我們繪製
了利用 B-spline 重建後的通道響應和真正的通道響應間的均方誤差 
(Mean-Square Error)。 
 
  52
       
圖八 MIMO-OFDM-BS 系統下高斯量化回傳的位元錯誤率圖 
 
 
我們對萃取出來的係數做分析比較，發現 B-spline 係數的變化性非常的平穩，
此一特性對減低回傳負載有很大的幫助，由圖八也可以發現當 3cB   時，系統
已能達到最好的表現。 
 
 
          
   圖九 MIMO-OFDM-BS 系統下高斯量化回傳的通道容量圖 
 
  54
 
我們使用 QPSK 調變在 OFDM 的系統下，其操作過程如下 
 
1)                , 
 
2) 
 
 
3) 
 
我們定義這個在實體層上做的 Network coding 表示符號如下  
 
 
 
圖十二 
 
在中繼站被編碼過後的訊號表示如下   
                 ,  k=0~255  
           
在中繼站和接收端收到來自傳送端 1~   的訊號表示如下 
 
 
 
在接收端收到來自中繼站的訊號表示如下 
 
 
為了維持總傳輸功率固定，我們設定每個端點的傳送功率為原本單一的 OFDM
訊號功率乘上     。 
 
由上個章節可知，接收端若要從中繼站 network coding 編碼過的訊號得知第 K 個
)()()( I
C
I
A
I
B sss  )()()( QCQAQB sss 
)12()12( )()(  QBIBB sjsx
BB xPX 
C
P
AB XXX 
))()(1())()(1( )()()()( QC
Q
A
I
C
I
A xxjxx 
sN
k
PP
k
P
k
R
k XXXX  21
i
Dk
i
k
i
Dk
i
Dk
i
Rk
i
k
i
Rk
i
Rk
ZXHY
ZXHY
,,,
,,,


R
Dk
N
k
PP
k
P
k
R
Dk
R
Dk ZXXXHY s ,
21
,, )(  
1s
s
N
N
SN
  56
0 5 10 15 20 25 30
10-6
10-5
10-4
10-3
10-2
10-1
100
SNR(dB)
B
E
R
 non-perfect inter-user channel(CMRC)
 
 
OFDM/TDMA
1-1CMRC
2-1MRC
2-1CMRC
3-1CMRC
 
圖十二 
 
我們可以看到在 C-MRC 解調方法中套用 network coding 的技術可以讓
performance 達到 diversity order 2，並且比沒使用 network coding 的方法節省了
一次的傳輸時間，再來我們可以注意到使用傳統 MRC 解調方法並不能達到 full 
diversity 的斜率。 
 
2.4 參考資料 
[1] Y. V. Zakharow and T. C. Tozer, “Local spline approximation of time-varying 
 channel model,”Electronic Letters, vol. 37, no. 23, pp. 1408-1409 ,Nov. 2001. 
[2] D. J. Love, “Duplex distortion models for limited feedback MIMO 
 communication,” IEEE Trans. Signal Process., vol. 54, no. 2, pp. 766-774 ,Feb. 
 2006. 
[3] Y. Xie, C. N. Georghiades, and K. Rohani, “Optimal bandwidth allocation for data 
 and feedback channels in MISO-FDD systems,” IEEE Trans. Commun., vol. 54, 
 no. 2, pp. 197-203 ,Feb. 2006. 
  58
第三章 感知無線電跨層級傳輸                    
及資源管理技術之研究 
 
3.1 子計畫目標 
多載波分碼多重存取(multi-carrier code division multiple access ,MC-CDMA)
是一種結合了正交分頻多工(orthogonal frequency division multiplexing)及展頻技
術的無線寬頻傳輸技術。由於這兩種技術的結合，使得MC-CDMA具有下列優
勢，諸如對頻率選擇性衰減(frequency-selective)的通道具有較強的抵抗能力、彈
性的系統設計、低偵測複雜度並具有較低的峰值功率比(peak-to-average ratio)等
特性[1]-[4]。近年來傳統的MC-CDMA系統研究著眼於以下幾個面向，服務品質
(quality-of service ,QoS) 的 維 持  [5]-[9] 、 多 重 存 取 干 擾 (multiple access 
interference ,MAI)的抑制[10]-[14]、展頻碼資源的管理及低複雜度偵測機制的設
計[15]-[21]。除此之外，減少傳輸功率進而將MC-CDMA應用於CR系統也是一個
重要的研究領域[22]-[29]。 
在過去的文獻中，建置在MC-CDMA之下的平面式系統結構不論是在傳統或
新興的CR系統皆已被廣泛的討論。而本研究的重點將平面式的系統結構轉移到
階級式的系統結構。明確的來說，如圖一所示，我們所考慮的是一個具有階層式
細胞結構的二維展頻MC-DS-CDMA系統。在階層式的結構中小細胞(或毫微細胞)
可在一個被限制的覆蓋範圍內與大細胞共享相同的展頻碼資源。因此彼此不重疊
的小細胞將能重複利用相同的展頻碼，藉此達到更高的頻譜效益。不過，階層式
的結構也可能在大細胞與小細胞之間造成嚴重的跨層級干擾。藉助於平面式結構
的二維展頻MC-DS-CDMA系統中解決細胞間干擾的經驗，本計畫利用精密的干
擾避免展頻碼分配策略解決階級式系統結構中下行鏈路的跨層級干擾。 
 
  60
 
其中 與  分別為細胞內及跨細胞干擾源的個數; 為權重因子; , 
與  則分別表示目標使用者、細胞內干擾源與跨細胞干擾源的傳輸率。
此外, 若使用傳輸功率控制( transmission power control ,TPC)，則MAI係數可定義
為 
 
此 中  與  分 別 表 示 細 胞 內 與 跨 細 胞 干 擾 源 到 各 自 基 地 台
(base-stations ,BSs)的距離； 與  為小細胞及大細胞的路徑損耗指數。透過
MAI系數，可將干擾量較低的白、灰色展頻碼分配給小細胞的使用者。因此根據
這個MAI係數我們提出IA的碼分配方法。圖二為在TCP機制之下提出的IA碼分配
策略流程圖。如圖二所示，該機制可分成四個步驟，碼分配策略、功率配置、通
話許可控制、碼重新分配策略。值得注意的是，當小細胞的使用者不允許使用黑
色展頻碼的時候，大細胞可直接忽略小細胞的存在而採用[18-20]中傳統的IA碼分
配策略。 
 
3.3 具體成果 
為了便於性能比較，我們定義以下縮寫。 
1) P-WG：採用本研究提出的碼分配方法並使用白色及灰色的展頻碼。 
2) P-W：採用本研究提出的碼分配方法並使用白色的展頻碼。 
3) C-WG：採用傳統的碼分配方法並使用白色及灰色的展頻碼。 
4) C-WGB：採用傳統的碼分配方法並使用白色、灰色及黑色的展頻碼；其中[19]
及[20]中的傳統方法只單獨計算細胞內的MAI系數以做為展頻碼分配的依
  62
線作比較，P-WG在call admission rate的表現有55%的增益；同時dropping rate
有25%的降幅。除此之外，當大細胞的等效負載(x-軸)持續增加則call admission 
rate 與dropping rate 會趨於飽和。這是因為當大細胞的負載提高時，可供小
細胞使用的白色及灰色頻帶將會變少；而跨細胞干擾也限制了小細胞的系統
容量。此外，比較圖三與四可以發現TPC機制擁有較好效能。當 ，TPC
與SPA的 call admission rates 分別為79% 與 66%。 
(2) 提出的方法於小細胞的功效：圖五與圖六所示為分別在大細胞等效負載為(½)
時使用SPA及TPC並比較P-WG與P-W在小細胞使用者(a) call admission rate 
與(b) dropping rate方面的表現。圖中也顯示，當大細胞的通話負載較低時
P-WG可達到比C-WGB更高的call admission rate。舉例來說，與圖五中 的
C-WGB曲線相比，P-WG可以提升call admission rate將近8%增幅。從這樣的
結果可以看出透過估算灰色展頻碼的候選資格將能有效避免細胞間過量的干
擾。然而，隨著通話量的增加使得小細胞可利用的碼資源減少，由灰色展頻
碼所帶來的好處將會銳減。在這樣的情況下，小細胞的使用者可以使用
C-WGB以利用黑色展頻碼進而得到更多的展頻資源。因此，較多的展頻資源
可以帶來更高的call admission rate，同時達到較低的dropping rate。另外有一
點值得注意，我們可以從下圖七與圖八觀察出使用黑色展頻碼是以大細胞效
能損耗為代價達到提升小細胞使用者效能的目的。 
(3) IA展頻碼選擇方法對大細胞的影響：為了探究使用黑色展頻碼對大細胞使用
者的影響，我們以小細胞覆蓋範圍為界將大細胞使用者分成兩組，“內圍使
用者＂(以MU-inside表示)與“外圍使用者＂ (以MU-outside表示)兩組。圖七
和八分別在大細胞等效負載為(½)時使用SPA及TPC並比較小細胞使用者使用
P-WG和P-W對大細胞使用者(a) call admission rate 和 (b) dropping rate方面的
影響。首先如圖五與圖六所示，錯誤的使用黑色展頻碼雖然可以小幅提升小
細胞使用者的性能，但卻對MU-inside使用者的性能造成損害。比較P-WG和
C-WGB在 的效能，如圖七(a)所示這兩條曲線在call admission rate的表現
  64
 
圖四：大細胞等效負載為(½)時使用TPC，比較小細胞使用者使用P-WG和P-W在
(a) call admission rate 和 (b) dropping rate方面的表現。 
 
 
 
圖五：大細胞等效負載為(½)時使用SPA，比較小細胞使用者使用P-WG和
C-WGB在(a) call admission rate 和 (b) dropping rate方面的表現。 
 
  66
 
圖八：大細胞等效負載為(½)時使用TPC的情形下，比較大細胞使用者在小細
包使用P-WG、C-WGB及MU-only的影響下在(a) call admission rate 和 (b) 
dropping rate方面的表現。 
 
3.4 參考資料 
[1] D. K. Kim and S.-H. Hwang, “Capacity analysis of an uplink synchronized 
multicarrier DS-CDMA system,” IEEE Communications Letters, vol. 6, no. 3, pp. 
99–101, March 2002. 
[2] L.-L. Yang and L. Hanzo, “Serial acquisition performance of single-carrier and 
multicarrier DS-CDMA over nakagami-m fading channels,” vol. 1, no. 4, pp. 
692–702, Apr. 2002. 
[3] L.-L. Yang and L. Hanzo, “Performance of generalized multicarrier DS-CDMA 
over Nagagami-m fading channels,” IEEE Trans. on Communications, vol. 50, no. 
6, pp. 956–966, June 2002. 
[4] L.-L. Yang and L. Hanzo, “Multicarrier DS-CDMA: A multiple access scheme for 
ubiquitous broadband wireless communications,” IEEE Communications 
Magazine, vol. 41, no. 10, pp. 116–124, Oct. 2003. 
  68
multicarrier code-division multiple-access,” IEEE Trans. on Vehicular 
Technology, vol. 55, no. 1, pp. 397–405, Jan. 2006. 
[14] B. Hu, L.-L. Yang, and L. Hanzo, “Performance of the smart antenna aided 
generalized multicarrier DS-CDMA downlink using both time-domain spreading 
and steered space-time spreading,” in IEEE Vehicular Technology Conference, 
Dallas, Texas, USA., Sep. 2005, pp. 25–28. 
[15] M. Amadei, U. Manzoli, and M. Merani, “On the assignment of walsh and 
quasi-orthogonal codes in a multicarrier DS-CDMA system with multiple classes 
of users,” in IEEE Global Telecommunications Conference, vol. 1, Taipei, 
Taiwan, Nov. 2002, pp. 841–845. 
[16] U. Manzoli and M. Merani, “Multicarrier DS-CDMA performance with different 
assignment strategies of quasi-orthogonal codes,” in IEEE International 
Symposium on Personal, Indoor and Mobile Radio Communications, vol. 4, 
Lisbon, Portugal, Sept. 2002, pp. 1477–1481. 
[17] C.-M. Yang, P.-H.Lin, G.-C. Yang, and W. C. Kwong, “2D orthogonal spreading 
codes for multicarrier DS-CDMA systems,” in IEEE International Conference on 
Communications, vol. 5, Anchorage, Alaska, May. 2003, pp. 3277–3281. 
[18] L.-C. Wang, C.-W. Chang, and H. Huang, “An interference avoidance code 
assignment strategy for multi-rate MC-DS-CDMA with time- and 
frequency-domain spreading,” IEEE Trans. on Wireless Communications, vol. 6, 
no. 7, pp. 2508–2518, July 2007. 
[19] C.-W. Chang and L.-C. Wang, “Effects of subcarrier power allocation on an 
interference avoidance code assignment strategy for multi-rate MC-DS-CDMA 
systems,” IEEE Trans. on Vehicular Technology, vol. 57, no. 3, pp. 1513–1526, 
May 2008. 
[20] C.-W. Chang and C.-C. Kuo, “A joint power control and interference avoidance 
  70
on direct sequence MC-CDMA,” IEEE Trans. on Wireless Communications, vol. 
7, no. 4, pp. 1157–1162, April 2008. 
[28] Q. Qi, L. B. Milstein, and D. R. Vaman, “Cognitive radio based multi-user 
resource allocation in mobile Ad Hoc networks using multi-carrier CDMA 
modulation,” IEEE Journal on Selected Areas in Communications, vol. 26, pp. 
70–82, Jan. 2008. 
[29] L.-L. Yang and L.-C.Wang, “Zero-forcing and minimum mean-square error 
multiuser detection in generalized multicarrier DS-CDMA systems for cognitive 
radio,” EURASIP Journal on Wireless Communications and Networking, no. 2, 
Jan. 2008. 
[30] H. Wang, M. Zhao, and M. C. Reed. 
[31] Z. Shi, M. C. Reed, M. Zhao, and H. Wang, “Uplink interference scenarios in 
two-tier networks,” in Asilomar Conference on Signals, Systems and Computers, 
Pacific Grove, CA, Nov. 2010, pp. 471–476. 
[32] Z. Shi, H. Wang, M. Zhao, and M. C. Reed, “An uplink analytical model for 
two-tiered 3g femtocell networks,” in International Symposium on Modeling and 
Optimization in Mobile, Ad Hoc and Wireless Networks (WiOpt), Avignon, 
France, July 2010, pp. 367–372. 
[33] M. Yavuz, F. Meshkati, S. Nanda, A. Pokhariyal, N. Johnson, B. Raghothaman, 
and A. Richardson, “Interference management and performance analysis of 
UMTS/HSPA+ femtocells,” IEEE Communications Magazine, vol. 47, no. 9, pp. 
102–109, Oct. 2009. 
[34] L. Garcia, K. Pedersen, and P. Mogensen, “Autonomous component carrier 
selection: interference management in local area environments for 
LTE-advanced,” IEEE Communications Magazine, vol. 47, no. 9, pp. 110–116, 
Oct. 2009. 
  72
第四章 無線網路資源感知管理及                   
跨層協定之研究與設計 
4.1 子計畫目標 
 在感知網路(cognitive networks)中，可用通道資源隨時間劇烈變化，如何提
供多媒體(multimedia)資訊穩定的服務品質保證(quality of service)是一大課題。當
次要用戶  (secondary users)組成多躍式隨意網路 (wireless multi-hop ad hoc 
networks)時，路由選擇成為系統性能的決定因素。現行具保證服務品質的路由演
算法(quality-of-service routing)僅針對固定的 MAC 層設計，如 IEEE 802.11 DCF 
(Distributed Coordination Function) 與 STDMA (Spatial-reused TDMA) 等，並假定
所有用戶的傳輸速率與功率為固定值，使已高度發展的適應性技術，如適應性調
變(adaptive modulation)與適應性編碼(adaptive coding)等，無用武之地。 
針對這個議題，本子計畫在多躍式隨意感知網路下的跨層(實體層、MAC 層
及網路層)設計演算法，以提供多媒體資訊傳送的服務品質保證。本計畫研究成
果總理如下： 
1. 以 IEEE 802.11 DCF 為 MAC 層協定，發展具服務品質保證的路由演算法，
並減少現有方法中有過多控制冗餘(control overhead)的問題。 
2. 以 TDMA 的架構為基礎，設計能適應性調整傳輸速率與功率的跨
MAC-routing 層協定，並超越已知文獻的部分理想化假設，包括: 
(4) 直接以接收功率或SINR定義可通訊(或干擾)範圍，避免採用一般文獻之固
定傳輸範圍與干擾範圍的定義。 
(5) 直接以接收端的SINR值為成功接收之判斷，因而可結合功率控制與AMC
技術，以題高全系統性能。 
(6) 建立新穎的感知網路中次要用戶之多通道(multi-channel)資源管理分配法
則，提高全系統性能。 
  
  74
累計的干擾量。 
 
我們將本章節的剩餘部分組織如下: 在 A 部分，我们說明計畫第一年的研究
成果。我們提出一個跨 MAC-路由層的設計，以提供多躍式隨意網路中即時性資
料串流的服務品質保證，其中 MAC 層協定套用 IEEE 802.11 DCF，該跨層設計
針對資料串流給予服務品質保證，並解決部份 QoS 路由演算法冗餘(overhead)過
多的問題。該跨層設計並未支援多重傳輸速率與功率控制，也僅針對單通道的環
境。在 B 部分，我们說明計畫第二年的研究成果。我們提出一個跨 MAC-路由層
的設計，以提供多躍式隨意網路中即時性資料串流的服務品質保證。為了進一步
支援多重傳輸速率與功率控制，我們提出一個新的 MAC 層設計，但僅針對單通
道的環境。在 C 部分，我们說明計畫第三年的研究成果。我們參考常見的多通
道演算法，將 B 部分的跨層設計發展成適用於多通道的版本，同時解決多通道
特性造成的問題。 
 
A. SPAC 路由協定 
 SPAC 路由協定主要包含三個機制: (A.1) 頻寬估測、(A.2)允入控制與 (A.3)
路徑維護，以下分別介紹這三個機制: 
A.1. 頻寬估測 (bandwidth estimation):  
 SPAC 協定的頻寬估測由三個主要元素共同組成 - “local Residual Bandwidth 
(local RBW)”、 “Bandwidth Requirement (BWQ)”和 “ the neighbors’ Residual 
Bandwidths (the neighbors’ RBWs)”。 
 其中”local RBW”是由訊源端(source)依資料串流的需求而定，並藉由 RREQ
夾帶出去。而 “Bandwidth Requirement (BWQ)” 與 “the neighbors’ Residual 
Bandwidths (the neighbors’ RBW)”兩項則是依據 IEEE 802.11 MAC與PHY層協定
的特性而計算出，如下所述: 
A.1.1 local RBW: 
  76
Destination IP Address 
Next Hop IP Address 
Destination Sequence Number 
Hop Count 
Lifetime 
 
                 (a)                                    (b)     
         圖一、routing table 的更改: (a) AODV 格式 (b) SPAC 格式 
 
 (2). RREQ 封包格式的更動:                                                         
 SPAC 協定中的 RREQ 封包，必須夾帶該資料串流的頻寬需求 - Bandwidth 
Requirement (BWQ)與發送節點的 local Min_RBW。BWQ 藉由原先 AODV 保留
的區塊(Reserved)放置，而 local Min_RBW 則放置於舊格式之後。 
 AODV 原始的 RREQ 格式與 SPAC 新的 RREQ 格式如下圖所示: 
 
 
 
Type J R G D U Reserved Hop Count 
RREQ ID 
Destination IP Address 
Destination Sequence Number 
Original IP Address 
Original Sequence Number 
(a) 
Type J R G D U BWQ Hop Count 
RREQ ID 
Destination IP Address 
Destination Sequence Number 
Flow-ID{Original IP Address, 
Original Sequence Number} 
Min_RBW* 
(b) 
圖二、RREQ 格式的更改: (a) AODV 格式 (b) SPAC 格式 
Flow ID 
{Source IP Address, Source Sequence 
Number} 
Next Hop IP Address 
Hop Count 
Lifetime 
  78
        假如跳躍數小於或等於 2,  Nct* = Nct,              
        假如跳躍數大於或等於 3,  Nct* = Nct + 1,                
 在 SPAC 協定裡，任何中繼點(含訊源端)須符合下列兩種情況，才能允許
BWQ 為 W 的資料串流通過: 
    local Min_RBW ≧Nct ‧W 
        received Min_RBW* ≧Nct*‧W.    
 
A.3. 路由維護 (route maintenance):  
 SPAC 協定可以藉由監測封包的重送次數以及定期的接收 Hello 封包，得知
鏈結失效，進而嘗試修復路徑。然而，QoS 路徑的建立是針對個別資料串流，因
此 QoS 路徑的修復亦須針對資料串流，而非針對訊源端 – 目的端配對進行修
復。 
 下圖是 AODV 原始的 RRER 封包格式與 SPAC 協定所用的新格式: 
 
  Type N Reserved Prefix Size Dest Count 
Unreachable Destination IP Address (1) 
Unreachable Destination Sequence Number (1) 
Additional Unreachable Destination IP Address (if needed) 
Additional Unreachable Destination Sequence Number (if needed) 
               (a) 
 
Type N Reserved Prefix Size Dest Count 
Unreachable Flow ID 
{Source IP Address, Source Sequence Number} (1) 
Additional Unreachable Flow ID 
{Source IP Address, Source Sequence Number} (if needed) 
                                       (b) 
          圖五、AODV原始的RRER封包格式(a)與 SPAC協定所用的新格式(b) 
 
 下圖則是當 SPAC 協定下的節點接收到 RRER 封包時的處理流程圖，值得注
  80
的合作關係: 
 
圖八、分層間的合作關係 
 
假若節點已經規劃要在第 i 個資料時槽傳送或接收訊息，就必須在第 i 個控
制時槽中傳送相關訊息，每個控制時槽又切割成 n 個微時槽(mini-slot)，以下詳
細介紹所要傳送的控制訊息及傳送方法。 
 
首先介紹控制訊框交換訊息的機制，有別於以往的系統架構，此系統的控制
訊框中是讓已經規劃為傳送端或接收端的節點傳送控制訊息用，並非讓節點來競
爭通道，且每個資料時槽有其相對應的控制時槽，因此在控制訊框中傳送訊息是
免競爭(contention-free)式的。 
 
在控制訊框中所傳送的控制訊息包含兩種涵義：1) 已規劃為傳送端的節點通
知其他節點：自己傳送資料時所要使用的功率（在相對應控制時槽中的第一個微
時槽中傳送）；2) 已規劃為接收端的節點通知其他節點：在不影響到自己成功接
收訊息的情況下還能承受的干擾為何(在相對應控制時槽中的第二個微時槽到第
  82
節點 A 在資料時槽 s 中規劃使用功率 P 來傳送功率，因此節點 A 在控制時
槽 s 的第 1 個微時槽要使用功率 P 來傳送干擾訊息。節點 E 由於尚未規劃要在
資料時槽 s 中傳送資料，因此在控制時槽 s 的第 1 個微時槽不需要傳送任何訊息，
只需要接收訊息，此時節點 E 可量測到節點 A 傳送資料時對自己所造成的干擾
值為 P*G(A,E)，其中 G(A,E)為節點 A 和節點 E 彼此間的通道增益(channel gain)，
因此假若節點 E 之後想規劃在資料時槽 s 接受訊息時，就可以換算出傳送者必須
使用多大的功率，節點 E 才能成功的接收到資料。 
 
Case 2. 假設節點 A 和節點 C 已經規劃要在資料時槽 s 傳送訊息，因此節點 A 和
節點 C 必須在控制時槽 s 的第 1 個微時槽傳送干擾訊息 
節點 A 在資料時槽 s 中規劃使用功率 P1 來傳送功率，因此節點 A 在控制時
槽 s 的第 1 個微時槽要使用功率 P1 來傳送干擾訊息；節點 C 在資料時槽 s 中規
劃使用功率 P2 來傳送功率，因此節點 C 在控制時槽 s 的第 1 個微時槽要使用功
率 P2 來傳送干擾訊息。節點 E 由於尚未規劃要在資料時槽中傳送資料，因此在
控制時槽 s 的第 1 個微時槽不需要傳送任何訊息，只需要接收訊息，此時節點 E
可量測到節點 A 和節點 C 傳送資料時對自己所造成的干擾值為 P1*G(A,E)+ 
P2*G(C,E)，其中 G(A,E)為節點 A 和節點 E 彼此間的通道增益，G(C,E)為節點 A
和節點 C 彼此間的通道增益，因此假若節點 E 之後想規劃在資料時槽 s 接受訊
息時，就可以換算出傳送者必須使用多大的功率，節點 E 才能成功的接收到資
料。 
 
Case 3. 假設節點 B 已經規劃要在資料時槽 s 接收訊息，因此節點 B 必須在控制
時槽 s 的第 2、3 微時槽中任意選取一個微時槽來傳送發送干擾訊息 
節點 B 在資料時槽 s 中規劃要接收，因此在控制時槽 s 的第 1 個微時槽不
需要傳送任何訊息，只需要接收訊息，此時節點 B 可量測到網路上在資料時槽 s
中所有規劃要傳送資料時對自己所造成的干擾值，因此可以換算出在不影響自己
  84
不同節點選擇相同的微時槽傳送干擾訊息，雖然會造成其他節點無法蒐集到正確
的訊息，但只會導致限制變嚴苛，並不會造成原已規劃好的連結傳送失敗。 
 
上述例子中，雖然節點 E 並無規劃要在資料時槽 s 中傳送或接收訊息，但
節點 E 仍需要在控制時槽 s 中量測干擾訊息的功率值，這些訊息是為了讓之後要
建立新的連結(Link)的節點能不影響已規劃的連結。因此，當網路上有節點要建
立新的連結時，節點會參考在控制訊框中所蒐集到的訊息來規劃新的連結。 
規劃為傳送端的節點在控制時槽中的第 1 個微時槽以傳送資料所要使用的
功率來傳送干擾訊息，這可以讓網路上的所有節點都能正確的知道不同資料時槽
的使用情形，在一般時槽保留方法中是將時槽的使用資訊帶在控制訊息中並傳送
給鄰近的節點，由於訊號在無線環境中衰減的很快，因此只要鄰近的節點在傳送
者的傳送範圍外就無法正確的接收到控制訊息，頂多只能監測到通道有其他節點
正在使用，當控制訊息無法正確的收到，而又剛好有節點選用到同一個時槽，就
很有可能會因為干擾過大，而造成已規劃的連結資料無法成功接收，因此利用上
述的方法，能有效的量測出時槽的使用情形。 
 
規劃為接收送端的節點在控制時槽中的第 2 個或第 3 個微時槽以還可承受
的干擾值倒數來傳送干擾訊息，以下將詳細的解釋此機制： 
假設 1) 節點間的通道增益是未知的 
    2) 通道是對稱的 
    3) 節點 A 在資料時槽 s 中規劃要傳送資料（節點 B 為其已規劃 
的接收端） 
   4)  節點 B 在資料時槽 s 中規劃要接收資料（節點 A 為其已規劃 
的傳送端） 
   5) 節點 E 在資料時槽 s 中尚未規劃要傳送或接收 
 
  86
         
NI
PSINR receive 10log10  
假設 0N ，G 和 G’為通道增益 
         ''1010 log10log10 GP
GP
I
PSINR
transmit
transmitreceive

  
假設 'transmittransmit PP  ，通道模型為 two ray ground model，因此通道增益跟距
離的 4 次方成反比，d 為傳送者和接收者間的距離， 'd 為干擾者和接收者間的距
離。 
         4
4
'/1
1
d
dSINR   
根據表一可知（表一引用自[9]），若傳送端傳送資料傳送率為 6Mbps 時，
接收端正確接收資料所需的 SINR 值為 6.02 dB，因此當 'd > d414.1 ，干擾者就不
會造成接收者資料接收失敗；若傳送端傳送資料傳送率為 54Mbps 時，接收端正
確接收資料所需的 SINR 值為 24.56 dB，因此當 'd > d111.4 ，干擾者就不會造成
接收者資料接收失敗。 
 
Rate （Mbps） SINR （dB） Receiver Sensitivity （dBm） 
54   24.56   -65   
24   17.04   -74   
6   6.02   -82   
表一、不同資料傳送率所對應到的 SINR 和 Receiver Sensitivity 
 
在一般討論的無線環境系統中，媒體擷取控制協定大致上可分為載波檢測
多路存取/碰撞避免（CSMA/CA）和分時多工擷取（TDMA）兩大類，在載波檢
測多路存取/碰撞避免的協定中，節點要傳送封包前，只要經過載波檢測並判定
通道無其他節點使用就可傳送封包，而一般系統中已預先定義只要在節點的 550
公尺（載波檢測範圍，carrier sense range）內無其他節點正在傳送資料，此節點
  88
dAB （m） dBC （m） dBC （m） dBC （m） 
50 250 70.7 205.55 
100 250 141.4 411.1 
150 250 212.1 616.65 
200 250 282.8 822.2 
250 250 353.5 1027.75 
表二、任兩條 link 要被建立所需間隔的距離表 
 
由表二可觀察出，在傳送率為 6Mbps 的情況中，傳送端和接收端距離小於
150 公尺時，我們的方法頻譜效益會比較好，傳送端和接收端距離大於 150 公尺
時，由於接收端接收到的訊號功率較小，較容易受到干擾，因此一般系統中使用
250 公尺來限制新的節點加入傳送是不夠的；在傳送率為 54Mbps 的情況中，一
般系統中使用 250 公尺來限制新的節點加入傳送幾乎是不夠的。因此使用我們的
方法能根據不同節點使用的資料傳送率來限制新加入的節點。 
 
C. 多通道 
C.1 現有多通道系統架構 
在這章節中，將介紹現有的多通道系統，而大致上可將現有的多通道系統分
為四類，並利用例子來講解各系統的運作方式，最後分析每個系統架構還可以改
善的部份。 
 
C.1.1 Dedicated Control Channel Approach 
假設系統有 N 個通道，其中 N-1 個通道是用來做資料傳接收，我們稱之為
資料通道，另外 1 個通道是用來傳送或接收控制訊息，我們稱之為控制通道
（dedicated control channel），而用來交換控制訊息的控制通道是系統預先設定好
  90
於系統架構中需要有一個專門用來交換控制訊息的通道，因此也會導致頻譜效能
降低。 
 
 
圖九、 Dedicated Control Channel Approach 系統架構圖 
 
C.1.2 Split Phase Approach 
在此系統中，每個節點有一個半多工的收發機，假設系統有 N 個通道，每個
通道都可用來做資料的傳送和接收， 但時間週期性的分為控制時期（control 
phase）和資料交換時期（data exchange phase），只要在控制時期內，所有節點都
必須跳到系統預設的通道（default channel），凡事要在資料交換時其中要傳送接
收資料訊息，都必須在這段時間內交換控制訊息，但傳送端和接收端彼此只會決
定要在哪個通道上傳接收資料，並沒有決定要在哪個時間點開始傳送資料，而是
要跟其他使用相同通道的節點競爭，先競爭到通道的節點才能傳送資料，競爭通
道的機制為 IEEE 802.11 DCF，為了避免發生已規劃好要傳接收的節點在不同通
道而導致資料無法傳接收完畢，因此當一個節點已經規劃要傳送或接收就不能再
規劃其他的傳送和接收，因為規劃要傳送或接收的節點在進入資料交換時期時就
必須在預先決定的通道上，這是由於傳送開始與結束時間是未知，因此節點不能
任意切換通道。 
圖十為此系統的運作方式，此系統預設的通道為通道 0，假若節點 A 有資料
要傳送給節點 B，則節點 A 必須在控制時期中傳送控制訊息，並選擇一個沒有
其他節點要使用的通道或最少節點要使用的通道，帶在 RTS 中傳送給節點 B，
當節點 B 有正確收到 RTS 且同意使用節點 A 所選用的通道，則節點 B 回傳 CTS
  92
Window 中交換訊息時就已選定好要在哪一個通道的哪一個時槽做資料的傳接
收，由於控制訊息交換時，只要是在傳送範圍內的節點在沒有干擾的情況下也都
可以成功的接收到控制訊息，就可以由控制訊息中得知節點所選用的通道與時
槽，因此在選用時槽時只要是在傳送範圍內的節點已選用的時槽就不可以再被其
他節點所使用，而這些時槽的使用訊息每經過一個週期就會更新一次，每個週期
是由一個 ATIM Window 和一個 Communication Window 所組成，因此只要節點
有資料要傳送，就必須在每輪的 ATIM Window 中做控制訊息的交換。另外，在
此系統中 ATIM Window 的大小是可以隨著使用的情形去做調整。而在資料的交
換上，當接收端有成功接收到傳送端所傳送的資料時，就必須要回送 ACK，而
接收端是以是否有收到 ACK 來判斷此次傳送是否有成功，假若傳送端沒有收到
ACK，則會選擇其餘的時槽繼續傳送資料。 
 
C.1.3 Common Hopping Approach 
假設系統有 N 個通道，每個通道都可用來做資料的傳送和接收，每個節點有
一個半多工的收發機，所有節點根據自己的跳躍圖形（hopping pattern）來決定
目前所在的是哪一個通道，由於每個節點的跳躍圖形都相同，都由通道 0 依序切
換至通道 4（如圖十一），因此網路上所有的節點在固定時間間隔後，只要沒有
在傳送或接收資料，都會同時跳到下一個相同的通道。 
圖十為此系統的運作方式，假若目前所有節點都跳至通道 0，恰好節點 A 有
資料要傳送給節點 B，節點 A 先在通道 0 上傳送 RTS，若節點 B 目前也在通道 0
上且尚未規劃要傳接收，因此在正確收到節點 A 所傳送的 RTS 後，節點 B 回傳
CTS 給節點 A，節點 A 正確收到 CTS 後便開始傳送資料給節點 B，節點 A 和節
點 B 就留在通道 0 上，直到資料傳送完畢為止才會再繼續與其他沒有規劃傳送
或接收的節點一起做通道的切換，其餘的節點只要沒有規劃在通道 0 上做資料的
傳送或接收，在固定時間間隔後就會切換到通道 1，若切換到通道 1 後有節點有
資料要傳送，則按照以上的步驟來做協調，若沒有資料要傳送，則在固定時間間
  94
調失敗，傳送端會跳回自己目前跳躍圖形所指的通道上。 
 
圖十二為此系統的運作方式，在時間點一開始的時候網路上所有節點都沒有
資料要傳送，因此每個節點根據自己的跳躍圖形在不同的通道上做切換，當節點
有資料要傳送時，由於節點知道接收端目前所在的通道（並非接收端實際上所在
的通道，而是根據接收端的跳躍圖形所對應到的通道），因此傳送端會先跳到接
收端的通道上傳送 RTS，假若接收端目前是在此通道上（接收端沒有跳至其他通
道上傳送或接收資料），且成功收到 RTS，接收端就會回傳 CTS 給傳送端，若傳
送端有成功收到 CTS 則開始傳送資料，當接收端成功接收完資料後，接收端回
傳 ACK 給傳送端， 在一連串資料交換的過程中，傳送端和接收端都是在同一
個通道上，直到資料交換完畢才又各自根據自己的跳躍圖形切換通道。文獻[4]
可歸類為此種作法的 MAC protocol。 
此系統有別於 Common Hopping 的系統架構，在 Common Hopping 系統中同
一個時間點所有節點都在同一個通道上做競爭，而此系統同一個時間點將所有節
點分散到不同的通道上去做競爭，因此可大幅減少碰撞的機會，但此系統依舊沒
有解決隱藏節點的問題。 
 
圖十二、 Multiple Rendezvous MAC Protocol 系統架構圖 
 
 
C.1.5 Multi-Channel 各方法比較 
  96
此系統設計目標： 
1. 能滿足 QoS 的需求 
2. 每個節點只需要一根半多工的天線 
3. 不需要額外的通道來交換控制訊息 
 
C.2.2 系統環境 
在這個部份中，將介紹我們所提出的系統及演算法，在詳細介紹協定前，
先列舉出我們所設定的環境特性： 
1. 假設有 N 個通道，通道頻寬皆相等，通道所使用的頻帶彼此間無重疊
（non-overlapping），因此同一時間使用不同通道並不會互相造成干擾。 
2. 所有節點皆使用一個半多工的收發機，因此同一時間只能傳送或接收，無法
同時傳送和接收，且同一時間只能在一個通道上傳送或接收。 
3. 假設網路中所有節點彼此間已同步。 
4. 假設通道對稱。 
 
C.2.3 系統設計 
基本系統架構與單通道系統相同，假若系統架構如下圖，所有節點都必須
到同一個通道（系統預先設定好）的同一段時間內互相交換控制訊息，直到傳送
控制訊息這段時間完畢後，節點才能根據之前所協商完畢的結果使用通道，由於
在交換控制訊息的那一段時間內，其他通道都不可以拿來做資料的傳送，這會造
成頻譜效能降低。假設資料訊框平均切割成 m 個資料時槽，所有資料時槽都有
其相對應的控制時槽，在這個例子中所使用的通道數為 4 個，由於在此系統中所
有控制訊息都必須在通道 1 上互相交換，因此控制訊框中必須包含所有通道的資
料時槽所對應的控制時槽， 所以控制訊框中必須包含 4m 個控制時槽，圖中斜
線部份是不能用來傳送任何訊息，這是造成頻譜效能降低的原因。 
 
  98
 
圖十四、 並列式通道 
 
由於在控制訊框中所傳送的訊息是要讓 Routing Protocol 使用，因此在規劃
新的連結前，要規劃為傳送端的節點必須要先獲得所有通道上的使用情形，才能
在不影響現有的連結下規劃新的連結，但在此系統中，不同通道中只要是對應到
相同時間的資料時槽，都是同一個時間點在相對應的控制微時槽中傳送 jamming 
signal，因此節點就必須要經過 4 個 superframe 才能獲得所有通道的資訊（在此
所舉的例子通道數為 4 個），當通道數目增加時，節點就必須要等待更長的時間
才能獲得完整的通道資訊，為了解決這個問題，我們將系統架構再次更改，如圖
十五。 
 
  100
jamming signal 的功率值。因此節點只要沒有規劃傳送或接收，就必須要依序去
蒐集不同通道的使用資訊，並量測所收到 jamming signal 的功率值，而這些蒐集
到的資訊是建立新的連結時所要使用的資訊。 
此系統架構所會遭遇到的問題： 
1. 選用某些資料時槽，而造成無法選用其他某些資料時槽 
2. 有通道數目的上限 
 
C.3 資料時槽的選擇 
資料時槽的選擇上有別於以往 CSMA/CA，在一般 CSMA/CA 系統中，要
傳送資料前傳送端必需在通道為淨空的情形下傳送 RTS 通知接收端，當接收端
有成功接收到 RTS 且判定通道目前沒有其他節點在使用，接收端就會回傳 CTS，
當傳送端有成功接收到 CTS 且判定通道目前沒有人使用就會開始傳送資料，由
於在 RTS 和 CTS 的傳送過程中帶有 NAV，因此在傳送端和接收端傳送範圍內的
節點只要有收到 RTS 或 CTS 就知道通道有其他節點要使用，因此節點必須等到
通道變為淨空時才可以使用，在一般系統中都假設傳送範圍為 250 公尺，因此只
要在傳送端和接收端 250 公尺範圍內的節點，在成功接收到 RTS 或 CTS 後就必
須保持 silent，直到傳送端和接收端資料傳送完畢後所有保持 silent 的節點才能再
度開始競爭通道的使用權，且在傳送端 carrier sense 範圍內的所有節點也必須保
持 silent，直到傳送端和接收端資料傳送完畢後所有保持 silent 的節點才能再度開
始競爭通道的使用權。 
 
而在我們系統中，資料時槽的選擇方法跟 CSMA/CA 系統中所限制的使用
方法是不同的，由於在建立新的連結前節點必須去不同的通道上聽取 jamming 
signal，因此可以獲得在不同通道不同資料時槽中的使用資訊，通道使用資訊包
括：假若要傳送資料還可以使用的功率以及假若要接收資料會承受多大的干擾，
在建立新的連結時，要規劃為接收端的節點就會根據傳送端傳送資料所可以使用
  102
control subframe data subframe
superframe
m control slots m data slots
Channel 3
Channel 2
Channel 1
Channel 4
 
圖十六、 被 block 的資料時槽(一) 
 
第二類 blocking 為選擇的資料時槽對應到另一個通道的控制時槽，如下
圖，圖中較大的粗框格為某傳送接收對所選定用來傳接收的資料時槽，而較小的
粗框格為相對應的控制時槽，在較大粗框格中節點要傳接收資料，因此同一個時
間其他通道上的資料時槽皆不可再被此傳送接收對中的任一個節點拿來規劃為
傳送或接收，但由於同時對應到通道 1 的控制時槽，因此在通道 1 所對應到的控
制時槽也無法使用，間接的使通道 1 的某些資料時槽都被 block 了，而在較小的
斜線格中節點要傳送 jamming signal，因此同一個時間其他通道上的資料時槽皆
不可再被此節點規劃為傳送或接收。 
 
 
 
圖十七、 被 block 的資料時槽(二) 
  104
 
圖十八、 多通道系統圖 
 
C.3.1 時槽選擇流程圖 
為了減少資料時槽被 block，因此我們在選用資料時槽時加入了一些選擇方
法，而選擇資料時槽的流程圖如下圖。在選擇資料時槽時我們並非一格一格選，
而是一次選一個 group，group 的定義如上一小節所介紹的，雖然每一個 group
中所包含的資料時槽不同，但在選擇 group 時，是選擇最多還可以使用的資料時
槽，接著我們先定義何謂還可以使用的資料時槽，首先，找出系統中還沒有被
block 的資料時槽且尚未被規劃要傳接收的資料時槽，而將這些資料時槽所承受
的干擾取平均，若在某資料時槽中所承受的干擾值大於平均的干擾值，則將此資
料時槽視為不可以使用的資料時槽，雖然目前不可使用，但並不表示之後不能被
使用，因為此資料時槽並未被規劃要用來傳接收也沒有被 block；若在某資料時
槽中所承受的干擾值小於平均的干擾值，此資料時槽即為還可以使用的資料時
槽，而我們稱還可以使用的資料時槽為 valid 的資料時槽。 
 
首先，當有 application 來時，傳送端會通知自己想要通訊的對象，我們稱
要通訊的對象為接收端，而接收端會去找一個滿足傳送端 QoS 需求的資料時槽，
  106
Choose a data slot
At least one chosen group?
At least one data slot that 
fulfills QoS in the chosen 
groups?
Calculate the average 
interference of valid slots
Calculate the number of available 
data slot in each group
Select the group that has the maximum 
number of available data slot
Finish
Block
Yes
YesYes
No
No
No
 
圖十九、 流程圖(一) 
 
 
 
圖二十、 流程圖(二) 
 
 
  108
4.3 具體成果 
A. SPAC 系統效能 
子計畫四實現 SPAC 演算法於模擬平台上，並與 CACP 和 QoS-aware Routing 
Protocol 互相比較，在 MAC/PHY 層採用 IEEE 802.11 標準，其相關參數列於下
表: 
 
PHY layer 802.11g 
PHY preamble length 144 bits 
PHY PLCP header length 48 bits 
Data transmission rate for CBR flows 24Mbps 
transmission rate of control signals for CBR 
flows 
12 Mbps 
Transmission range 250m 
Interference range 500m 
MAC layer 802.11 DCF 
Contention window 31~1023 
Max. MSDU 1500 bytes 
Max. buffer size at each node 100 packets 
                   表四、IEEE 802.11 PHY/MAC 相關參數 
 
在模擬過程中，系統在 1000m×1000m 的區域中隨機佈放 50 個節點，第一個
資料串流起始於系統時間 2 秒時，此後每 2 秒新增一條資料串流 每條資料串流
一秒產生 75 個封包，封包大小固定 1000bytes。 
該模擬要比較的項目有 (a) throughput; (b) blocking rate; (c) dropping rate; (d) 
ene-to-end delay. 其結果列於下圖二十二(a)~(d): 
 
  110
Delay-CBR
020
4060
80100
120
140160
180200
5 6 7 8 9 10 11 12 13 14 15
number of flows
m
s
SPAC
CACP
Listen
Hello
 
圖二十二 (d) 
圖二十二(a)~(d)顯示，在多種不同的 QoS 路由演算法中，SPAC 演算法能在
各方面都達到與 CACP 演算法幾乎相同的效能，然而，SPAC 演算法的架構卻遠
為簡單(特別在 route-reply 的步驟上) 。至於與 QoS-aware routing protocol 使用
“listen”和“hello”這兩個架構相比，SPAC 演算法在網路負載加重時，能擁有較高
的點對點吞吐量(end-to-end throughput)和較低的點對點延遲(end-to-end delay)。 
 
B. MC-MRPS 系統效能 
B.1 參數設定 
在子計畫四中所使用的模擬環境設定如下：通道環境為 two ray ground 
model，意即通道增益與傳送端跟接收端間距離的 4 次方成反比。系統中有 4 個
non-overlapping 的 channel。每個 superframe 中包含有 64 個資料時槽和 64 個控
制時槽，1 個資料時槽的時間長度等於 8 個控制時槽的時間長度，因此每個
superframe 的時間長度可看做是 72 個資料時槽的時間長度，模擬範圍為 1000 公
尺乘以 1000 公尺，共有 100 個 node，所有 node 隨機分佈在 1000 公尺乘以 1000
公尺的模擬範圍內，在模擬期間每隔一個 superframe 就會有一個新的 application
要被建立，而每個 application 的 source 和 destination 是從 100 個 node 中 random
選取的，但 destination 必須是在 source 端傳送範圍內的 node，當系統剩餘的資
源能滿足 application 的需求時，application 才可以被建立，若系統剩餘的資源無
法滿足 application 時，此 application 就無法被建立；而 application 建立後，source
  112
表七、不同資料傳送率所對應到的 SINR 和 Receiver Sensitivity 
 
 
在模擬中我們所使用的功率值如下表中所列出的五種，並根據上表中的
Receiver Sensitivity 得到不同功率值在不同的資料傳送率下的傳送距離。 
Power (mW) 200    100     50     25    12.5 
54 Mbps 158    133    112     94     79    (m) 
24Mbps 266    233    188    158    133    (m) 
6Mbps 422    354    298    250    210    (m) 
表八、 傳送功率與傳送距離對照表 
 
此子計畫中，我們所提出的方法將跟 TMMAC 做比較，在模擬中我們忽略
掉不同頻率間切換所需要的時間，另外，在 TMMAC 中，為了方便模擬，我們
省略一些原系統的設定，1)由於 application 被建立之後在每個 superframe 中都必
須要傳送封包，因此在 TMMAC 中只有當 application 來的時候，傳送端才需要
在 ATIM Window 中傳送控制訊息給接收端，2)ATIM Window 的大小是固定的，
且所占用的時間與我們所提出的方法中控制訊框所占用的時間相同，3)控制訊框
54 24.56 -65 
48 24.05 -66 
36 18.80 -70 
24 17.04 -74 
18 10.79 -77 
12 9.03 -79 
9 7.78 -81 
6 6.02 -82 
  114
應的總 throughput。由圖二十三可以看出，在傳送功率有五種選擇的情形下，不
論傳送功率是使用最大可允許的功率或是儘可能的降低傳送功率，對整體的
throughput 影響並不大。傳送端使用較大的傳送功率能使接收端接收到資料的功
率較大，因此接收端還可承受的干擾值也會較大，而由於在我們的方法中，新建
立的連結要被成功建立必須不能影響到現有的連結，因此現有連結的接收端還可
承受的干擾值較大，也可讓較多的新的連結被建立。使用較小的傳送功率雖然對
其他正在接收的節點造成的干擾較小，但也就表示接收端接收到資料的功率值也
較小，因此接收端還可承受的干擾值也會比較小，而由於在我們的方法中，新建
立的連結要被成功建立必須不能影響到現有的連結，因此現有連結的接收端還可
承受的干擾值變小，就有可能讓新的連結無法被建立，因為新的連結會對現有連
結產生的干擾值大於現有連結的接收端還可承受的干擾值，因此降低傳送功率並
不會使系統中的 reuse factor 提高，不過換個角度看，使用較小的傳送功率就能
達到相同的 throughput，就表示每條被建立的 flow 其所使用的功率都較小，因此
可達到節省功率的目標。 
 
  116
在圖二十三中有我們所提出的系統並使用不同的功率選擇方式，功率選擇
方式是按照 B.2 所講述的方式來調整功率，而資料時槽選擇方式都根據 C.3 所提
出的規則來選資料時槽，我們將這三種不同功率的使用情形與 TMMAC 做比較，
而由圖中可以看出雖然 TMMAC 在模擬的最後總 Throughput 還是持續在提高，
不過我們除了看 throughput 外，我們也關心系統的 dropping rate，在我們所提出
的系統中只要 flow 被建立就不會有 drop 的情形發生，但在 TMMAC 中 dropping
的發生是不可避免的，而在我們模擬中只要有封包發生 drop，我們就將該條 flow
捨棄，而由圖二十四中可看出 TMMAC 中被 drop 的封包數隨著 application 進來
的數目增加而增加，而會發生封包被 drop 掉是因為接收端被其他同時在傳送封
包的傳送端所干擾，導致資料沒辦法成功的接收到，通常傳送端與接收端距離較
長的連結很容易因此被捨棄掉，而到最後能留在網路上的通常都是傳送端與接收
端距離較短的連結，當要建立路徑時，由於連結較短，source 端要到達 destination
端所需要經過的節點數也會因此而增加，所經過節點數越多，封包就需要花更長
的時間才會送達到 destination。 
 
表九為資料傳送率為 54Mbps 中，不同方法的 throughput、link 的平均長度
以及平均傳送所使用的功率，其中 Method 1.為 Discrete Power Adjustment with 
Slot Assignment，Method 2.為 Discrete Power with Slot Assignment，Method 3.為
Fixed Power with Slot Assignment，Method 4.為 TMMAC。 
 
 Throughput 
(Mbps) 
Link Length 
(m) 
Average Power 
(mW) 
Method 1. 719.35 91.33 72.53 
Method 2. 709.75 90.45 152.09 
Method 3. 608.55 95.08 200 
Method 4. 625.2 78.59 200 
  118
       
0 500 1000 1500
0
200
400
600
800
Number of Flow(s)
Th
ro
ug
hp
ut
 (M
bp
s)
 
 
Discrete Power
with Slot Assignment
Discrete Power
 
圖二十六、 不同資料時槽選擇方法比較圖(Discrete Power) 
       
0 500 1000 1500
0
200
400
600
800
Number of Flow(s)
Th
ro
ug
hp
ut
 (M
bp
s)
 
 
Fixed Power
with Slot Assignment
Fixed Power
 
圖二十七、 不同資料時槽選擇方法比較圖(Fixed Power) 
 
B.2.2 資料傳送率：24 Mbps 
在資料傳送率為 54 Mbps 的情況下，系統 throughput 的模擬結果如下圖。
在 TMMAC中不論資料傳送率是多少，控制訊息都是使用系統最低的速率 6Mbps
來傳送，但跟資料傳送率為 54Mbps 相比，使用資料傳送率為 24Mbps 來傳送資
料可以承受的干擾會比較大，但控制訊息傳送的範圍沒有因為資料傳送率改變而
改變，因此限制其他節點使用通道的範圍沒有因此而減小。由於 TMMAC 控制
訊息是根據 IEEE 802.11 DCF 的機制來傳送，在 IEEE 802.11 DCF 中只要傳送範
圍內有其他節點正在使用通道，就不能有其他節點也使用通道，但在我們所使用
  120
0 500 1000 1500 2000 2500 3000
0
50
100
150
200
250
300
350
400
450
500
Number of Flow(s)
Th
ro
ug
hp
ut
 (M
bp
s)
 
 
Discrete Power Adjustment with Slot Assignment
Discrete Power with Slot Assignment
Fixed Power with Slot Assignment
TMMAC
圖二十八、 系統效能圖(24Mbps) 
 
 
表十為資料傳送率為 54Mbps 中，不同方法的 throughput、link 的平均長度
以及平均傳送所使用的功率，其中 Method 1.為 Discrete Power Adjustment with 
Slot Assignment，Method 2.為 Discrete Power with Slot Assignment，Method 3.為
Fixed Power with Slot Assignment，Method 4.為 TMMAC。 
 
 
 Throughput 
(Mbps) 
Link Length  
(m) 
Average Power 
(mW) 
Method 1. 486.07 91.95 73.62 
Method 2. 472 91.00 152.76 
Method 3. 407.33 96.26 200 
Method 4. 324.87 95.44 200 
表十、 系統效能分析表(24Mbps) 
  122
Multimedia Communications (MoMuC ’00), Tokyo, 2000. 
[11] W.-H. Tam and Y.-C. Tseng, “Joint Multi-Channel Link Layer and Multi-Path 
Routing Design for Wireless Mesh Networks,” in INFOCOM, 2007. 
[12] W. Hung, K. Law and A. Leon-Garcia, “A Dynamic Multi-Channel MAC for Ad 
Hoc LAN,” in Proc. Of 21st Biennial Symposium on Communications, April 
2002. 
[13] C.E. Perkins, E.M. Belding-Royer, and I.D. Chakeres, “Ad Hoc On Demand 
Distance Vector (AODV) Routing,” IETF Internet draft, Oct. 2003. 
[14] Perkins, C and Royer, E “Ad hoc on-demand distance vector routing” in Proc. 
2nd IEEE Workshop Mobile Comput. Syst. Appl., 1999, pp. 90–100.  
[15] D.B. Johnson, D.A. Maltz, and Y.-C. Hu, “The Dynamic Source Routing 
Protocol for Mobile Ad Hoc Networks (DSR),” Internet draft, 
draft-ietf-manet-dsr-09.txt, Apr. 2003. 
[16] Lei Chen; Heinzelman, W.B, “QoS-aware routing based on bandwidth estimation 
for mobile ad hoc networks” IEEE Journal on Selected Areas in Communications, 
Volume 23, pp. 561 – 572, March 2005 
[17] Yaling Yang; Kravets, R, “Contention-aware admission control for ad hoc 
networks" IEEE Transactions on Mobile Computing, Volume 4, Issue 4, July-Aug. 
2005 Page(s):363 – 377 
[18] Szu-Lin Su; Yi-Wen Su; Jing-Yen Jung, “A Novel QoS Admission Control for Ad 
Hoc Networks” IEEE Wireless Communications and Networking Conference, 
2007, March 2007 Page(s): 4193 – 4197 
[19] Kuei-Ping Shih, Chau-Chieh Chang, and Yen-Da Chen, “MRPC: A Multi-Rate 
Supported Power Control MAC Protocol for Wireless Ad Hoc Networks,” IEEE 
Wireless Communications and Networking Conference 2009, Page(s): 1 – 6 
[20] Kanzaki.A, Uemukai.T, Hara.T, Nishio.S, “Dynamic TDMA slot assignment in 
 1
 
國科會補助專題研究計畫項下出席國際學術會議心得報告 
                                     日期：100 年 6 月 9 日 
一、參加會議經過 
CrownCom 2011 (6th International ICST Conference on Cognitive Radio Oriented 
Wireless Networks and Communications) 是針對近幾年無線通訊領域最熱門的研究
議題感知無線電(cognitive radio, CR)及感知網路(cognitive networks)相關技術及系
統設計所舉辦的國際學術會議，今年是第六年舉辦，原訂在日本 Yokohama(橫濱)
舉行，因 3 月 11 日的日本東北大地震及緊接的福島核災，開會地點移至日本大阪
市內的大阪大學 Nakanoshima 中心舉行。 
這次會議共計 163 篇 regular session 論文投稿，僅不到一半的 76 篇論文被接
受發表，包括本系張志文助理教授、其學生和我共同著作的論文(A Low-Interference 
Relay Selection for Decode-and-Forward Cooperative Network in Underlay Cognitive 
Radio)。本次會議共分十六場 regular sessions 及兩場 special sessions，並有四場
keynote speeches、四場 invited talks 及一場 panel session，相當豐富，幾乎涵蓋所
有 CR 相關研究領域，包括 spectrum sensing, spectrum management, spectrum 
map/sharing, dynamic/opportunistic spectrum access, flexible PHY/MAC for CR, 
cognitive relay networks, beam forming for interference management 等。 
我們論文被安排在第三天(6 月 3 日)下午 Cognitive Relay Networks 場次報告，
由張志文老師作精彩口頭報告，獲現場參與者的熱烈迴響及討論。 
 
二、與會心得 
感知網路相關研究議題為本國科會群體計畫的研究重點，參與此次 CrownCom 
2011 會議，可取得國際學界在此領域研發及展望的第一手資料，並與其交換心得，
可謂收穫良多。 
 
三、考察參觀活動(無) 
計畫編號 NSC 97-2221-E-006 -082 -MY3  
計畫名稱 資源限制及通道認知之無線通訊網路的研究 
出國人員
姓名 蘇賜麟 
服務機構
及職稱 
成功大學電腦與通信工程研究所 
教授 
會議時間 100 年 6 月 1 日至 100 年 6 月 3 日 會議地點 
日本大阪 
會議名稱 6
th International ICST Conference on Cognitive Radio Oriented Wireless 
Networks and Communications (CrownCom 2011) 
發表論文
題目 
A Low-Interference Relay Selection for Decode-and-Forward Cooperative 
Network in Underlay Cognitive Radio  
附件四 
 3
論文接受函 
From: CrownCom 2011 [mailto:crowncom2011@easychair.org]  
Sent: Tuesday, March 29, 2011 6:26 PM 
To: Chih-Wen Wenson Chang 
Subject: CrowmCom 2011 notification of acceptance for paper 95 
 
Regarding the following paper: 
 
Paper ID: 95 
Paper title: A Low-Interference Relay Selection for Decode-and-Forward Cooperative Network in Underlay 
Cognitive Radio 
 
Dear Chih-Wen Wenson, 
 
Thank you for your patience on delayed notification due to the disaster. On behalf of the Technical Program 
Committee of CrownCom2011, we are pleased to inform you that the above paper has been accepted for the 
conference. All submitted papers have been thoroughly independently reviewed as in the attached results. 
 
As a next step, please upload your camera-ready paper in accordance with instructions that will be sent to you 
from ICST in the next e-mail. The deadline of camera-ready paper submission is Apr. 15th, 2011. If you are 
not able to (or intentionally do not) upload your camera-ready paper by the deadline, your paper will be 
treated as withdrawal. 
 
Additionally, the conference requires each accepted paper be presented on site. In the case none of the authors 
or qualified surrogate could not attend the conference, your paper will not appear in the IEEE Xplore. 
 
In Japan, people are recovering from the earthquake, tsunami, and problems of the nuclear power plant. The 
conference committee is working to relocate the event to an alternative venue in Osaka, further south from the 
affected areas. This should provide a safe and comfortable experience for conference attendees. Your 
participation and contribution will encourage the Japanese society via success of CrownCom2011. We look 
forward to seeing you in the new venue of Osaka. 
 
very sincerely, 
 
CrownCom2011 TPC Co-Chairs: 
- Seiichi Sampei, Osaka Univ., Japan 
- Marcos Katz, Univ. Oulu, Finland 
- Ying-Chang Liang, I2R A-STAR, Singapore 
- Hiroshi Harada, NICT, Japan 
- Kei Sakaguchi, Tokyo Tech., Japan 
 5
 
 7
 
1 
 
 
國科會補助專題研究計畫項下國際合作研究計畫國外研究報告 
                                     日期：99 年 9 月 17 日 
一、 國際合作研究過程 
由於本計劃與美國聖母大學(University of Notre Dame)電機系之黃義方教授(Prof. Yih Fang 
Huang)有密切的合作關係，因此為因應計劃之所須，此次由子計劃三主持人張志文助理教授為代表參
訪美國聖母大學電機系。此行之目的主要為交換 Cognitive Radio (CR)相關領域之研究心得並討論
無線通訊相關研究議題。2010 年 8 月 31 日至 9月 5日期間除了平日餐會了數位電機系教授包含系主
任 Prof. Thomas Fuja，並與黃義方教授以及 Prof. J Nicholas Laneman 有較為深入的訪談。 
黃義方教授的研究領域含概了統計通訊與訊號處理等相關議題。而其主要專長為信號偵測、參數
偵測、適應性訊號處理、陣列訊號處理、無線通訊之干擾消除、集合成員濾波器(Set-Membership 
Filter)設計與識別。近來黃教授對綠色通訊(Green Communication)深感興趣，因此我們針對 Sensor 
Network 中利用 Game Theory 處理節能的問題有較為深入的討論。 
Prof. Nicholas Laneman 為現任聖母大學的無線通訊中心(Wireless Institute)主任，專注於通
訊架構設計，其中包含了訊息理論、通訊信號處理、網路協定、無線通訊硬體設計。訪談期間與 Prof. 
Laneman 針對 Cooperative Communication 等相關議題交換了一些意見。此外 Prof. Laneman 也介紹
了聖母大學無線通訊中心(Wireless Institute)的相關研究領域。 
以下將針對上述與黃義芳教授與 Laneman 教授所討論的幾個特定研究議題有較為深入討論，同時
報告此行的心得。 
(一) 本人與黃義芳教授討論了 Sensor Network 中利用 Game theory 處理節能的相關議題。由
於現今通訊科技的發展趨勢皆走向實體最小化、最低能量消耗與多功能感知網路，而感知
節點又必須具有收集、處理與發送訊息的功能。並且感知節點(Sensor Node)往往擺放在
人們不易取得的地點，因此如何增加一個感知網路壽命的關鍵在於感知節點的節能效益。
一般而言，感知節點往往散佈於一個大面積的區域範圍，因此如何組織感知節點以建立一
個較為節能的運作機制是一項困難的工作。因為若要能形成一個組織性的聚落式感知網路
必須於節點之間交換許多必要的訊息。然而，如此一來便可能消耗掉更多的能量。因此若
計畫編號 NSC 97-2221-E-006-082-MY3 
計畫名稱 總計畫：資源限制及通道認知之無線通訊網路的研究 
出國人員
姓名 張志文 
服務機構
及職稱 
國立成功大學電機系暨電通所助
理教授 
合作國家 美國 合作機構 美國印地安那州聖母大學 
出國時間 
2010-08-31~ 
2010-09-05 
出國地點 
美國印地安那州聖母大學 
附件六 
3 
 
[4] Chih‐Wen Chang and Chien‐Cheng Kuo,"A  Joint Power Control and  Interference Avoidance Code 
Assignment  Strategy  for  Downlink  MC‐DS‐CDMA  with  2D  Spreading,"  IEEE  Trans.  on  Wireless 
Communications, vol. 8, no. 11, pp.5582‐5591, Nov. 2009. 
會議論文: 
[1]   Chih‐Wen(Wenson)  Chang  and  Po‐Hsun  Lin,  “A  low‐interference  relay  selection  for 
decode‐and‐forward  cooperative  network  in  underlay  cognitive  radio,”  International  ICST 
conference  on  Cognitive  Radio  Oriented  Wireless  Networks  and  Communications,  June,  2011, 
pp.306‐310. 
[2]  Chih‐Wen  Chang  and  Chien‐Cheng  Kuo,  "An  interweave  cognitive  radio  system  based  on  the 
hierarchical 2D‐spread MC‐DS‐CDMA with transmission power control," IEEE Vehicular Technology 
Conference, May, 2010, pp.1‐5. 
[3]   Chih‐Wen  Chang  and  Chien‐Cheng  Kuo,  "An  interweave  cognitive  radio  system  based  on  the 
hierarchical 2D‐spread MC‐DS‐CDMA," IEEE Vehicular Technology Conference, Sept. 2010, pp.1‐5. 
[4]  Chih‐Wen Chang and Chien‐Cheng Kuo, "A Low Interference Time‐Slicing Code Assignment for the 
2D‐Spread MC‐DS‐CDMA Systems," IEEE Vehicular Technology Conference, April, 2009, pp.1‐5. 
已投稿論文: 
[1]  Chih‐Wen(Wenson)  Chang  and  Yun‐Li  Yang,“Game  Theoretic  Channel  Allocation  for  the 
Delay‐Sensitive Cognitive Radio Networks,”Submitted to IEEE Transaction on Vehicular Technology 
in Oct. 2011.   
[2] Chih‐Wen(Wenson) Chang and Chien‐Heng Wang,“Bottleneck Effects Elimination for Cooperative 
Cognitive  Radio  Networks:  A  New  Dimension  of  Time  Slot  Rearrangement,”Submitted  to  IEEE 
Wireless Communications and Networking Conference 2012. 
三、建議 
(一) 聖母大學具有非常有特色的校園景觀與建築。雖然己有百年以上的歷史，其校園景觀、
建築內外與設備仍維持的非常的良好，完全不見百年歷史所留下來的足跡。經由黃教授
的介紹得知，該校每年都投入了相當可觀的經費維護校園景觀與設備。在這裡學生的權
益也很受重視，學生宿舍、活動中心、室內外運動場都非常的完善。無外乎能吸引世界
各地的優秀人才到此求學與從事學術研究。相較成大而言，若以電機系為例，所招收的
新生多為台中以南的學子，除了優秀的研究成果外，若能強化軟硬體設施應能增加學生
南下就讀的機會。 
(二) 此外，由於成大週邊較少電資相關產業，因此往往少了許多吸引學生南下就讀的誘因。
若成大可以成立一些以研究為導向的研究中心並爭取與業界合作的機會，一來可以增加
研究經費，二來可補其週邊產業不足的缺憾。 
 
 
 
 
 
5 
 
 
圖三．本人與黃義芳教授於聖母大學電機系之合影。 
 
圖四．本人與 Prof. Vijay Gupta 於聖母大學電機系之合影。 
 
 
圖五．本人於聖母大學圖書館前之留影。 
97 年度專題研究計畫研究成果彙整表 
計畫主持人：蘇賜麟 計畫編號：97-2221-E-006-082-MY3 
計畫名稱：資源限制及通道認知之無線通訊網路的研究--總計畫:資源限制及通道認知之無線通訊網路
的研究 
量化 
成果項目 實際已達成
數（被接受
或已發表）
預期總達成
數(含實際已
達成數) 
本計畫實
際貢獻百
分比 
單位 
備 註 （ 質 化 說
明：如數個計畫
共同成果、成果
列 為 該 期 刊 之
封 面 故 事 ...
等） 
期刊論文 11 0 100%  
研究報告/技術報告 0 0 100%  
研討會論文 17 0 100% 
篇 
 
論文著作 
專書 0 0 100%   
申請中件數 0 0 100%  專利 已獲得件數 0 0 100% 件  
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 2 0 100%  
博士生 1 0 100%  
博士後研究員 0 0 100%  
國內 
參與計畫人力 
（本國籍） 
專任助理 0 0 100% 
人次 
 
期刊論文 0 0 100%  
研究報告/技術報告 0 0 100%  
研討會論文 0 0 100% 
篇 
 
論文著作 
專書 0 0 100% 章/本  
申請中件數 0 0 100%  專利 已獲得件數 0 0 100% 件  
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 0 0 100%  
博士生 0 0 100%  
博士後研究員 0 0 100%  
國外 
參與計畫人力 
（外國籍） 
專任助理 0 0 100% 
人次 
 
