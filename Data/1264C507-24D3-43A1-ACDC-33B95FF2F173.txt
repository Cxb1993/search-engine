blocking probability)，並同時求出在各種不同的單鏈結損壞下的繞路方式以
及頻寬分配。實驗結果將呈現我們所提出的方法，在不同的Erlang值下所求得的
需求阻斷率。 
 
routing and capacity assignment in PWCE based survivable WDM networks. A 
simulated annealing based algorithm is proposed to achieve minimum call blocking 
probability.  
 
 
 
Part 1. All-Optical Packet Switching Network 
based on Optical Code Processing  
 
This work introduces a significant improvement for optical packet switching network based 
on OC processing. The key point of this method is the generalization of the optical label 
switching concept to forward optical packet without label swapping and O/E/O procedure. 
Our proposed method simplifies the design of switch devices in optical domain and packet 
forwarding process which speeds up packet forwarding and increases throughput significantly. 
As label swapping is eliminated in this method, the upper layer (label switching layer) can 
operate on optical networks transparently.  
 
1. Introduction 
Internet network is mainly based nowadays on IP technology. But large demand of bandwidth 
can only be met by Wavelength-Division Multiplexing (WDM) technology which has in turn 
its weaknesses. WDM is only used as transmission line, switching is still accomplished by 
electronic switching technology; hence each switching node has to process E/O and O/E 
conversion. As these factors limited the switching speed when adopting WDM optical fiber 
networks, a complete improved optical switching network that based on IP technology should 
be developed. This can be achieved by utilizing optical signal transmission during 
transmission process, and adopting optical processing while handling the switching process at 
every switching node. As some basic optical component technologies are well established, 
OPS are becoming a practical architecture for the next-generation all-optical networks. The 
optical packet switching (OPS) network enables the enhancement of switching speed and 
network efficiency. To achieve this goal adequately, we have to develop a new switching 
technology that is suitable to apply on all-optical network (instead of replacing the electronic 
switching technology with optical switching technology).  
  This work introduces a significant extension to the method of optical CDM for optical 
packet switching. The main advance is the generalization of the optical CDM (OCDM) 
inserted in the optical correlator. Then, the correlator uses this label to carry out the 
correlation process with the code sequence which is set by this core node. This will lead the 
control signal that controls this optical packet to approach the correct output port. Despite the 
length of label is too long, we have raised new technologies that are based on the existing 
technologies, and it is the discussion focuses of this paper.  
 
Fig. 1. Optical Code label switching system 
3.  System Architecture 
In this section we will introduce optical code label switching system. Fig. 1 shows the 
optical network: ingress edge node connecting an optical network and a traditional network. 
Each edge node is responsible to figure out the shortest path for the packet that is going to 
access optical network, and to generate an optical label to place at the front position of this 
packet. Every core node setting has a code sequence, when a packet reaches certain core node; 
this code sequence is used to process correlation procedure with the label. The outcome is the 
output port for this packet to access next node. The subsequent code nodes reiterate the 
operation with the same label. 
  Besides, the correlation process is operating in optical domain, and label has not been 
modified or changed during the packet transmission process. Therefore, there is no need to 
process the O/E/O procedure or label swapping operation in such system.  
3.1 Optical Packet Format 
Fig. 7 in [3] indicates that when there are 50 core nodes, the utility rate of 8 route length (that 
is passing through 8 nodes) is around 2%, while the route length of higher utility rate are 
higher (3, 4, 5, 6) in average. Therefore, when the number of core node is below 50, the route 
length of higher utility rate in average is located at 3, 4, 5, and 6 nodes. Hence, under such 
situation, we assume that 8 is the highest limit of reasonably supported route length. When an 
edge node is resolving the route for a packet and discovers that its route length is longer than 
8, we can then use two stages routing [4], that is routing passes the third place, and then goes 
to destination. For instance, when one packet is transmitting from A to C and has been 
output port. Note that the core node has to possess fiber delay lines (FDLs), and to use it as a 
temporary storage device for optical signal, and then wait for completing the correlation 
procedure. The turns needed by FDL is related to the length of label.  
 
(a) 
 
                      (b)                           
 
Fig. 3. (a) The Configuration of Optical Network’s Edge Node. (b) The Core Node Construction of an 
Optical Network.  
 
 
1-correlator 
0-correlator 
Match? 
Match? 
Detector 
Detector 
Label 
 
Fig. 4. Correlator Architecture 
3.3 Architecture of Optical Correlator  
We are going now to introduce the architecture of optical correlator, as it is shown in Fig. 4. 
attached to the packet. When core node is traveling by, packet uses this OC-label to process 
correlation, it produces routing information. First of all, assume there are N nodes in the 
optical network. In order to get the optical code that is needed for encoding, we have to figure 
out an integer M, and makes NM 2log> . Making use of this integer M, we can generate M2  
(0, 1) sequence, and distribute them to the only M+1-bits code sequence at each node, and 
named as node-code sequence. That is, we assume at least M2  code size. Generally , we can 
assume that there are 8 output ports at each core node, then we need three bits to represent the 
binary 0~7, which is named as port-sequence. Using nodeC  to represent the node-code 
sequence at certain node, and nodeP  to represent the port-code sequence at certain code. 
When a packet approaches the ingress edge node of the optical network, the ingress edge 
node will parse its header to figure out a route to access its destination. When the route has 
been parsed via the optical network, we can obtain two arrays and the OC-label is made based 
on these two arrays. These two arrays include the output information that is contained in all 
the core nodes that pass through this route.  
These two arrays are noted as C  and P  separately. Just assume a route passed n nodes, 
these two arrays are shown as the following:   
Hence we can make use of the arrays in (1) to create OC-label, array L is used to represent the 
OC-label; the result generated from L is shown in the following formula:  
After arranging the route value of each core 
node and the port-code sequence to the 
node-code sequence, we can generate a new 
code sequence. For instance, if a node-code sequence is “1001” and port-code sequence is 
“101”, then the new code sequence is “1001101”. Use the following correlation relationship 
to obtain the information needed by route at every node that being passed through.   
4.1 An Example 
To make it more clearly, we take the 
following example: assume there are 30 nodes in the core network, and then we need 30 
node-code sequences. Take M=5. We first describe how to encode label. Assume there are 8 
output ports at each core node, hence we need 3 bits to represent the binary 0~7. Each 
node-code sequence is represented by 6 bits, thus we use 9 bits (chips) to represent the output 
port information needed by the route at certain node. Assume there is a packet traveling from 
point A to point B in the core network and it has to pass through 3 core nodes. Each node has 
been set as code1=100001, code2=100010 and code3=100011. The output ports (passed 
),,,( nji CCCC "=   and 
),,,( nji PPPP "=  
(1) 
),,,( nPnC
jPjC
iPiCL "=  
output port(node)=correlator(L),   
for all traversed node 
(3) 
optical code encoding is a simple example showing an insufficient recognized margin and 
recognizing interference.  
For implementation to be feasible, when encoding optical code, in order to enable the 
receiver recognizes the correct signal easily, we have to follow the following rules [6]: 
1. The autocorrelation of any code sequence has to be as big as possible, that means the 
locations of chip =1 should be as many as possible. 
2. The cross-correlation of any two code sequences has to be as small as possible, that 
means the overlapping location of chip=1 of any two code sequences should be as few as 
possible.  
If we adopted the four kinds of encoding system in [4] to encode the optical code 
sequences we want, then, the selection of prime number P will be bigger while the length of 
core sequence will be longer at the same time. Therefore, if we use the above-mentioned four 
kinds of encoding scheme to encode the label, when core network has 30 nodes, then we need 
30 code sequences. Take P=31, the lengths of code NPC and NQC = 961 chips, NEPC and NEQC 
= 1891 chips. In this case, the length of code sequence seems to be too long.  
To overcome this, we adapt the perfect difference code (PDC) to encode the code 
sequences that we require [7]. The PDC is employed as a signature code in the (synchronous 
optical code) division multiplexing system. A )1,,( kv -PDC is a member of a cyclic 
),,( λkv difference set which has code size v and code weight k. The code length of PDC is 
equal to its code size. Once the core network grows to include more nodes, it will not increase 
the label length dramatically. Therefore, the code length of node-code sequence obtained by 
PDC is not too long under reasonable code size. The PDCs have the following characteristic: 
the cross-correlation between any two distinct codes is exactly one. 
As indicated in [8], a core network with 10~30 core switching nodes is quite sufficient. In 
[9] European ACTS Optical Pan-European Network project, these numbers are discussed too. 
We compare the performance between OCDM and OC systems shown in Table 1. For 
example, if the core network contains 30 core switching nodes, it requires 30 node-code 
sequences. Take the prime number p = 31, that is, there are 31 code sequences for prime 
sequence codes/quadratic congruence codes, and code weights v=31, that is, there are 31 code 
sequences for perfect difference codes. 
Hence, if the core network has 30 nodes, it requires 30 code-node sequences. In OCDM 
system [4], given that p = 31, NPC/NQC is 961 chips. Assuming that the optical pulse generator 
is 10G Hz, then a chip time τ= 1/10G, and it takes 3*1k/10G = 0.3μs to complete a label 
correlation. In this article, the label length of OC system is 8 times the length of node-code 
sequence. Hence it takes 8*35/10G= 0.03μs to complete a label correlation. 
Table 1. The performance of OCDM system and OC system. 
  weight code length label length process time of label 
[8]. M. Dodge. (2001) Maps of Internet Service Provider (ISP) and Inter Backbone Networks. 
[Online].  
Available: http://www.cybergeography.org/atlas/isp_maps.html  
[9]. M. Chbat et al., “Toward wide-scale all-optical transparent networking: The ACTS 
Optical Pan-European Network (OPEN) project,” IEEE Journal Selected Areas 
Communications, Vol. 16, Sept. 1998, pp.1226-1244. 
 
PART 2. Label-based Contention Resolution for 
Routing in Optical Label Switching 
Networks 
1. Introduction 
Packet switching networks can be divided to two types; one is time slotted 
networks with fixed packet length, and the other is unslotted networks with variable 
or fixed packet length. A slotted network means a packet is transmitted in a time slot, 
and the packet must be aligned before it is transmitted at a node. In unslotted 
networks, the packet can be switched on after one without being aligned, which 
means it can be without the procedure of synchronization. Although unslotted 
networks can switch packets of different length, its throughput is lower. In the mean 
time, it is not easy for time slotted networks to achieve synchronization of 
packet-level without optical buffer technology. Hence, to support variable packet 
length IP packet as a consideration, switching architecture to unslotted, asynchronous 
networks, is our concern. 
Optical label switching technology has been proposed to simplify the packet 
forwarding process. Process labels in a way that optical packets can be routed with 
low latency to the destinations. But the packet contention is a trouble in optical packet 
switching networks when there is a lack of optical RAM. The contention occurs if 
there are more than two packets entering the network, and then they also need to leave 
the switch from the same output port simultaneously. Packet contention is a major 
challenge in photonic packet switching networks due to the lack of optical random 
access buffers. Many documents discussed the solution for the topic of contention. 
The difference between optical packet-based switch network and traditional electronic 
network is that optical network is lack of optical buffer. Because of the lack of optical 
buffer, contention resolution has become the main topic for optical packet-based 
suitable for packet-base switching. By this means, the deflected packet will be 
forwarded at every subsequent node according to routing information. The 
problem needed to be solved is how to modulate packet hop count. Adding a 
field similar to IP TTL can partly solve this problem. The other way is to make 
sure in advance that there is an alternative route from the deflection node to the 
destination node.  
The most effective scheme is the combination of wavelength conversion, buffering 
and deflection routing together. If cheap solution is needed, then the deflection routing 
is the solution [23]. 
Here, we proposed a contention resolution scheme that is based on label-based 
forwarding. In order to accelerate the switching speed of optical packet at the switch, 
we proposed an all optical label-based switching method, and during the switching 
process and handling the label, optical to electric to optical transformation is not 
necessary, which means that the label is handled under the optical domain only, and 
label swapping is unnecessary. In the light of this method and characteristics, we 
proposed a contention resolution scheme. According to the conventional link-state 
routing protocols, each router (edge and switch node) can collect the topology 
information of the core optical network. After collecting topology information, switch 
node can plan how to detour the route for the packet of occurred contention when the 
packet encounters contention according to the network status. Edge router will plan 
the packet router route for each packet according to the network status and QoS 
requirements and then it will arrive at other edge router through the network. From 
the topology information, the candidates for deflection route are decided in advance. 
When packet has contention, the packets will be locally detoured to the deflection of 
the next hop upon a contention is detected as soon as possible. 
In this scheme, before a packet enters the core optical network, a primary route for 
the packet to arrive at its destination is decided by the edge node according to the 
network status and QoS requirements. Then, the edge router transforms the 
information in primary route to an optical label and sticks it onto the packet. When 
this labeled packet enters core optical network, the core switch node is passed through 
by this labeled packet based on the information that is provided by this label for 
switching; when contention occurs, switch node can also base on the switching 
information that is provided by the label to inquire about the deflection route’s basis 
that is set in advance. Thus, when an optical packet arrives at the core switch node, 
the switch will process the label and switch the optical packet to the correct output 
port according to the packet’s label. We emphasize once again that whether the core 
switches that are passed through no matter by primary routing or deflection path, the 
optical-electric-optical conversion is not necessary for the label in order to get the 
Some of the previous studies have mentioned that the performance of packet loss 
in optical packet switched network is downgraded dramatically under self-similar 
traffic pattern [24-26]. In order to reshape the incoming traffic profile, the aggregation 
mechanism in algorithm provides an effective way to achieve the traffic shaping 
function. 
3. Example of Contention Resolution Scheme 
An example of contention resolution scheme is illustrated in Figure 2 (a). Only a 
part of a network with 8 nodes and 12 links is shown. After the routing converges, the 
deflection routing tables of each node primary next hop (NH) and deflection next hop 
(DNH) are shown in Figure 2(b). Figure 2(a) assumes a packet needs to go from 
source edge A to destination edge G. Edge router A decides a primary route 
A->E->F->G for this packet. Then, the primary route information in this router is 
transformed to label and stuck on the packet, when the packet does not have 
contention during the transmitting process. Then the packet will be sent to edge router 
G through route A->E->F->G, when the packet routes to core switch E. If contention 
occurs, core switch E would direct that packet to another output port and send it to 
core switch C according to the provided information in deflection routing table; when 
core switch C receives this packet, it just needs to depend on the normal procedures to 
handle route packet from core switch F to edge router G based on the information that 
is provided by the label. When the packet is in core switch F, and contention occurs, 
which is the same situation, core switch F would direct that packet to another output 
port and send it to core switch C according to the provided information in deflection 
routing table. Two kinds of circumstances will take place at this moment; the first one 
is that label information does not include core switch D, and the packet will route to 
core switch E at this moment. Then from E in accordance with the provided 
information, the packet is routed to edge router G via core switch F. The second one is 
that label information includes detour node, namely core switch D, that is when edge 
router A is planning primary path, it considers to include detour node information in 
label. Therefore, when packet detours to core switch C, core switch C can select one 
of the routing information to send the packet under this situation. 
4. Performance of Contention Resolution 
In this section, we evaluate the performance of contention resolution with capable 
of link protection scheme through simulation. The effectiveness of this technique 
  
 Algorithm deflection routing; 
 
Begin 
Given a graph ),( LVG . 
According the topology database, initialize the 
nmδ value. 
for each node Vn∈  do  
   begin 
for each node Vm∈ ; do 
  begin 
   if 1=nmδ  then  
         if Vd ∈ s.t. 1=ndδ and 1=dmδ  
    then 
     denote node d is a deflection next hop of 
node n when the next hop is node m. 
 (let mnDd ∈  ) 
  end; 
     end;  
   for each node Vn∈  do 
begin 
if mnD is empty  then 
  if Vod ∈, s.t. 1=ndδ and 1=doδ and 
      1=omδ  then denote node d is a deflection 
        next hop of node n when the next hop is node 
        m. (let mnDd ∈  ) Define the node o is detour 
       node. (let nmSdo∈  ) 
    end; 
 end; 
  
  
 
 
 
 
Fig. 3. Network topology of simulation 
 
 
 
 
0.0001
0.001
0.01
0.1
1
0.01 0.1 1 2 4 6 8 10 12
Load
p
a
c
k
e
t
 
l
o
s
s
 
p
r
o
b
.
deflection
no def.
 
Fig. 4. Packet loss probability vs. different load 
 
switch,” Journal Lightwave Technology, vol. 11, pp. 925–936, May/June 1993. 
[11] D. K. Hunter, W. D. Cornwell, T. H. Gilfedder, A. Franzen, and I. Andonovic, 
“SLOB: A switch with large optical buffers for packet switching,” Journal 
Lightwave Technology, vol. 16, pp. 1725–1736, Oct. 1998. 
[12] I. Chlamtac et al., “CORD: Contention resolution by delay lines,” IEEE J. Select. 
Areas Communications, vol. 14, pp. 1014–1029, June 1996. 
[13] F. Callegati and W. Cerroni, “Wavelength allocation algorithms in optical 
buffers,” in Proc. IEEE Int. Conf. Communications (ICC ’01), vol. 2, pp. 499–503, 
June 2001. 
[14] I. Chlamtac, A. Fumagalli, and C.-J. Suh, “Multibuffer delay line architectures 
for efficient contention resolution in optical switching nodes,” IEEE Trans. 
Communications, vol. 48, pp. 2089–2098, Dec. 2000. 
[15] F. K. H. Harai, N. Wada, and W. Chujo, “Contention resolution using 
multi-stage fiber delay line buffer in a photonic packet switch,” in Proc. Of IEEE 
Int. Conf. Communications (ICC 2002), New York, pp.2843–2847, May 2002. 
[16] T. Zhang, K. Lu, J.P. Jue, “Differentiated contention resolution for QoS in 
photonic packet-switched networks,” Journal of Lightwave Technology, vol.22, 
issue 11, pp.2523-2535, Nov. 2004. 
[17] D. Careglio, J.S. Pareta, S. Spadaro, “Novel contention resolution technique for 
QoS support in connection-oriented optical packet switching, ” in Proc. Of IEEE 
Int. Conf. Communications (ICC 2005), vol 3, pp.1702 – 1707, May 2005. 
[18] F. Forghierri, A. Bononi, and P. R. Prucnal, “Analysis and comparison of 
hot-potato and single-buffer deflection routing in very high bit rate optical mesh 
networks,” IEEE Trans. Commun., vol. 43, pp. 88–98, Jan. 1995. 
[19] G. Castanon, L. Tancevski, and L. Tamil, “Routing in all-optical packet switched 
irregular mesh networks,” in Proc. Of  IEEE GLOBECOM ’99, pp. 1017–1022, 
Part 3: Near Optimal Routing and Capacity 
Assignment for PWCE based WDM Networks 
Against Single Link/Node Failures 
 
1. Introduction 
With advances in optical Wavelength Division Multiplexing (WDM) technologies 
and its potential of providing virtually unlimited bandwidth, optical WDM networks 
have been rapidly developed as the dominant transport infrastructure for backbone 
networks. In WDM networks, due to the multiplexing of multiple high-speed channels 
on a single fiber, a single link failure could result in tremendous data loss disaster [1]. 
It is quite challenging to dynamically provision protected lightpaths under 
consideration of both network survivability and resource utilization at the same time. 
For overcoming the challenge, a new paradigm named Protected Working 
Capacity Envelop (PWCE) concept has been proposed in [2]. The basic idea of 
PWCE concept is to have survivability provisioning over protected capacity, rather 
than provisioning protection for each connection. In a PWCE network, each link is 
configured with working capacity and spare capacity, where the working capacity is 
used to accommodate primary connections and the spare capacity is used for 
protection. In a PWCE network, each link is assigned a weight that is used to be the 
metric for routing. A connection request is accepted to the network only if there is 
available WDM channel for all the links along the shortest path. This process greatly 
simplify the call admission control for dynamic networks. To make efficient channel 
utilization and minimize call blocking probability, link weight (for routing) and 
working and backup channel assignment have to be carefully considered. Recently, 
PWCE concept has been applied in design of p-cycle based self-healing WDM 
networks [3-7].  
In this paper, we directly apply PWCE on mesh WDM networks to provide 
survivability capability for dynamic connection setup. We formulate PWCE-based 
Routing and Capacity Assignment (RCA) problem as a mixed integer non-linear 
optimization (MINLP) problem in which the bottleneck link blocking probability is to 
be minimized. Due to the difficulty of the problem, we present a Simulated Annealing 
based Weight Assignment (SAWA) scheme to approximate the solution of (MINLP). 
SAWA can handle any single link or node failures. 
and (2)) is the routing cost for SD pair ψ. The right hand side of (3) is the cost of path 
q∈Pψ. Constraint (3) requires that for each SD pair a shortest path be used to carry 
the individually addressed traffic where the link set metric of link l is al. Constraint (4) 
requires that the link metric be positive integer. Constraint (5) denotes the aggregate 
traffic arrival rate over link l. Since the left hand side of (6) is the minimum number 
of working channels to satisfy the target blocking probability under traffic flow rl, 
Constraint (6) requires that the needed working channels not exceed the allocated 
working channels on link l. Constraint (7) gives the range of traffic flow. Constraint (8) 
and (9) are the routing constraints to route one backup path for each link. The left 
hand side of Constraint (10) is 1 if link k used by the backup path for link l, is 0, 
otherwise. To reduce the recovery time of protection switching, Constraint (12) 
requires the number of backup path hop count not exceed H. The left hand side of (13) 
is the minimum number of backup channels required on link k. Finally, Constraint (14) 
is the capacity constraint for each link.  
Since N(β,rl) is not jointly convex with respect to β and rl, problem MINLP is a 
non-linear non-convex mixed integer programming. It is unlikely to obtain an exact 
global minimum solution directly. For these reasons, we present a simulated annealing 
based heuristic algorithm to find a solution of MINLP in the next section.  
3. Simulated Annealing based Weight Assignment (SAWA) Scheme 
We propose a simulated annealing based weight assignment (SAWA) scheme to 
approximate the solution of MINLP. The primary aim of the proposed SAWA scheme 
is to determine a set of link weights which can achieve minimum blocking probability 
under 100% survivability constraints. The proposed SAWA algorithm is shown in Fig. 
1. 
Simulated Annealing based Weight Assignment (SAWA) Algorithm: 
1. Input: 
2.       PUB, PLB, max_iter, T,ε , Δ , 
ψμ , ψλ , ψ∀ ∈Ψ , k,  
Ptar= (PUB +PLB )/2, Q and Cannot_SurvPath. 
3. While (PUB - PLB >Δ ) 
4.       Set al ={100 | l L∀ ∈ }, Al ={al | l L∀ ∈ }, 
iter =1; 
5.       While iter < max_iter 
6.             Select a link l randomly and set al = al 
+ t,  
where t is a integer number within [-k, k]; 
7.             Set Al’ ={al | l L∀ ∈ }; 
8.             Calculate ∑ Ψ∈= ψ ψλλ ll  by SPF 
routing; 
9.             Calculate 
lw  by inverse Erlang-B 
formula;  
10.             Calculate Cannot_SurvPath’; 
11.             If Cannot_SurvPath’ - 
14.             Else 
15.                   If rand() < exp(-(Cannot_SurvPath’ – 
Cannot_SurvPath)/T) 
16.                         Al = Al’; 
17.                   End 
18.             End 
19.             iter = iter+1; 
20.       End 
21.       T = T*ε ; 
22.       If Cannot_SurvPath > 0 
23.             PLB = Ptar and Ptar = ( PUB+ PLB )/2; 
24.       Else 
25.             PUB = Ptar and Ptar = ( PUB+ PLB )/2; 
26.       End 
27. End 
are 32 wavelengths on each fiber link for NSF. Each edge consists of two opposite 
directional links. 
In our experiments, we set PUB = 1, PLB = 0, max_iter = 100, T = 1000, ε = 0.95, 
k = 8, Δ= 10-4, and H = 5. All call holds same departure rate as 1. The simulation was 
operated on a PC running Windows XP, with a 2.53 GHz CPU power and 2GB RAM. 
Numerical results for single link and node failure are shown in Fig. 3 and 4 
respectively. For each figures, we implement proposed SAWA and Unit to observe the 
variation of call blocking probability when Erlang (i.e. network call arrival rate×mean 
call departure rate) increases. In Unit, each working path is built along the minimum 
hop count. Besides, there are two kinds of protection strategies, Bundle Protection 
(BP) and Individual Protection (IDP) be used in SAWA and Unit. BP means that the 
all wavelength channels on failed link are switched to the same backup path when a 
failure occurs. While in IDP, working channels on a link are rerouted bi-furcated. 
Each working channel is rerouted to its backup individually not necessary going 
through the same route for them. Figure 2 gives an example to illustrate BP and IDP 
repair a link or node failure.  
Figure 3-4 show IDP has lower blocking probability than BP no matter single link 
or node failure. The benefit comes from IDP uses multiple backup paths to divert 
affected lightpath but BP only select a backup path to recover them. Furthermore, 
proposed SAWA can reduce the call blocking probability 20-30% and 40-50% than 
Unit for single link and node failure respectively. 
5. Conclusions 
In this paper, we first formulate PWCE-based RCA problem as a MINLP in which 
the bottleneck link blocking probability is to be minimized. We propose a SAWA 
algorithm to obtain near optimal solution to MINLP. Two rerouting strategies (BP and 
IDP) are evaluated to make performance comparisons on bifurcate restoration. 
Experimental results show that the SAWA scheme can improve blocking probability 
compared to unit cost approach. For the benefit of bifurcation, we observe that IDP 
has lower call blocking probability than BP no matter for link or node failure. 
 
 
 
計畫編號 95-2221-E-194-017-MY3 
計畫名稱 光學網路基礎研究-子計畫五:光網際網路之存活性與流量工程研究 
出國人員姓名 
服務機關及職稱 
文志超 
國立中正大學 
電機工程研究所博士班 
會議期間及地點 2009/10/12~14 
俄羅斯 聖彼得堡 
會議名稱 (中文) ICUMT 2009 現代通信國際會議 
(英文) International Conference on Ultra Modern Telecommunications 
( IEEE ICUMT 2009) 
發表論文題目 (中文) 具情境感知與全 IP 行動換手之異質群播服務無線網絡 
(英文) A Context-Aware Handoff Scheme and All-IP Mobile Multicast 
Service for Heterogeneous Wireless Networks 
 
 
壹：IEEE 2007 全球通訊會議 
一、 參加會議經過 
由國際電機與電子工程師學會通訊協會 (IEEE Communications 
Society)主辦的 2007 年國際全球通訊會議(2007 Global Communications 
Conference) 於 96 年 11 月 26 日至 30 日在美國首府華盛頓舉行，約
有千餘位來自世界各地的學界及業界的專家學者參與。今年適逢
Globecom 研討會舉辦第五十週年，擴大慶祝並邀請產官學界齊聚一堂，
盛況空前，連美國白宮布希總統亦發函祝賀。本人投稿此會議論文被接
受，有幸受邀參與盛會發表論文。 
本屆大會除了以學術論文研討會為核心外，包含通訊產業論壇
(Communications Industry Forum) 與相關產業界研發之成果展示。同時
合併舉辦企業網路與服務(Ent2007)會議，針對企業通訊網路技術應用與
提升提出解決方案。 
Globecom 2007 會議論文主要分成十項討論議題:  
 1. General Conference 
Chair 是日本籍的 Dr. Hiroshi HARADA，在研發機構擔任 Research 
Manager，當場問了幾個實務問題，關於 Layer3 Router 架構設計是否可
採取集中式的控制，他的一些意見，不在我的研究範圍內，但是可以提
供思考與改進的方向。 
參加國際會議可迅速了解到世界各領域相關研究人員所探討及研究
的方向，也對一些相關領域培養更多的國際觀。論文發發表與討論，讓
我有相當的收獲及啟發，同時刺激學習英文聽力及練習英文演說。會議
中主題演講的演講者是優秀的學者，能跟這些頂尖的人物在同一個領域
研究，給我難忘與充滿挑戰的經驗 
 
三、 建    議 
非常感謝教育部此次補助參加 IEEE Globecom2007 國際會議發表
論文，對我收獲良多。教育部的補助，對於有心進行研究並積極參與國
際會議的博士生有相當大的鼓勵與協助。希望未來能增加補助經費，鼓
勵國內博士生增加參與國際研討會，增進研究動力與學術交流。 
 
四、 攜回資料名稱及內容 
 
參加本次大會攜回之主要資料為 
1. IEEE Globecom 2007 全文電子檔 CD-ROM 一片。 
2. IEEE Globecom 2007 會議節目議程表一本。 
3. 展示場相關網路與通訊系統資料文件。 
4. IEEE Events 相關活動訊息與期刊出版品資料。 
 
報告人：文志超 
日期：2007 年 12 月 17 日 
 
 
 
Mobile Payment, Mobile Content Service Systems and 
Technologies, Security Issues and Applications』Workshop召集
人。圖 1為本人與亞洲大學資工系陳興忠助理教授、國立虎尾
科技大學電機系蘇暉凱教授合影。 
 
圖 1：亞洲大學資工系陳興忠助理教授(左)、國立中正大學電機系吳承崧教授(中)、 
國立虎尾科技大學電機系蘇暉凱助理教授(右) 
 
二、 與會心得 
 
這次參加 NCM 2009 研討會受益良多，在此會議可以讓本人瞭解
近年寬頻網路、多媒體通訊、無網網路相關研究議題，以及未來研究主
題趨勢。在參與論文發表中發覺，雖 NCM 2009 不是國際上一級學術會
議，卻也有不少不錯的論文。也從中啟發了一些新的研究想法。 
近年來中國和韓國都有成立一些學術組織，也很積極主辦國際會
議，其中 AICIT 組織每年在亞洲地區舉辦數場研討會。這一點倒是很
值得台灣學習。 
 
 
報告人：吳承崧 
日期：2009 年 12 月 17 日 
 
 
 
(including routing, e2e QoS, performance evaluation, transport 
layer optimization etc.)  
 10. Optical Networking Technologies and Applications 
本屆研討會大會共計三天約有五十個以上的論文發表場次，發表超
過三百多篇的會議論文。大會各項貼心的服務，如歡迎晚宴、古都夜遊
與送別宴之俄國傳統歌舞演奏，與這個寒冷陌生的國度，充滿強烈的對
比，令我印象格外深刻。 
 
二、 與會心得 
參加 ICUMT 2009 國際會議之主要目的是發表論文，我的論文場次排
在 10/13 下午 3:30 的 Special session CAMCD 議程。這議程論文主題以
有關 Context aware 與 Mobility in wireless network 為主，Session chairman
是 Moltchanov Boris 在 Italia Telecom 工作的俄羅斯人，英文非常流利。
他曾經來過臺灣的新竹，對行動通訊的理論與實務皆有涉略。我排在第
四個報告，論文題目是 A Context-Aware Handoff Scheme and All-IP 
Mobile Multicast Service for Heterogeneous Wireless Networks。他發表的
論文是 Mobility handoff 與 context management 的機制。我們的論文主要
探討的是 MA (multicast agent) 建立與 context aware handoff 的整合機
制，當場提問關於 seamless handoff 的問題，剛好也在我的研究解決範
圍內，其他作者報告的內容與所探討研究的方向，都值得參考提供思考
與後序改進的空間。 
在會議期間，也巧遇來自台灣的人員參加這次國際會議，有工研院電
通所與中央大學資工所。此外，也接觸許多對岸中國的留學生與訪問學
者，他們有來自美國、挪威、荷蘭與日本等不同國家，我們在晚宴中齊
聚一桌，相互交流，可謂四海都有中國人。連在研討會中都感受到中國
的迅速崛起，了解到學術是超越國界，甚至無遠弗屆。除了廣泛接觸各
領域相關研究人員，也培養對相關領域更多的認知。論文發表與討論，
讓我有相當的收獲及啟發，同時也刺激學習英文聽力及練習英文演說的
動機。會議中盡是優秀學者的知識分享，能跟這些頂尖的人物同在一個
場合，吸收其領域研究成果，給我充滿難忘與挑戰的經驗 
令我印象最深的主題演講的 Keynote Speaker，其中之一是來自瑞士
University of Applied Science (SUPSI)的 Silvia Giordano，題目是 The 
7. 會場相關網路與通訊資料文件。 
8. IEEE Events 相關活動訊息資料。 
 
報告人：文志超 
日期：2009 年 11 月 17 日 
 
 
 service has scalability problem to implement in large scaled 
multicast service network. 
Therefore, multicast with differentiated service (Diffserv) 
class is proposed according to pre-negotiated SLA (Service 
Level Agreement) to provide network resource planning by QoS 
aware multicast routing. Due to the dynamical behavior of 
members’ join, the on-line actual resource utilization may 
exceed the off-line resource planning ratio based on the booked 
SLA. This called NRS (Neglected Reserved Sub-tree) problem 
will violate the SLAs and adversely affect overall QoS [10][11]. 
The alternative approach is to build up centralized control 
and management architecture for multicast forwarding related to 
p2mp and mp2mp connections. Firstly, separate the multicast 
data forwarding and multicast QoS routing control process 
running on different platform. Secondly, centralize multicast 
resource control function as originated from the BB (bandwidth 
broker) of Diffserv in management plane. 
The PIM-SM (i.e. sparse mode) multicast protocol supports 
source-group information collection in RP (rendezvous point); 
but uses receiver initiated join to construct backward multicast 
tree [5]. MPLS (Multi-Protocol Label Switching) protocol has 
efficient TE capability, which can support multicasting with 
QoS constraint based routing and flexible traffic switch-over 
mechanism without RPF check [12][13]. 
In this paper, the proposed centralized control and 
management (CCM) multicast architecture features as the 
integration with PIM-SM and MPLS-TE. The goal is to 
decouple data forwarding and routing control tasks, and 
organize the related multicast control elements into specific 
centralized multicast manager. The functionality for the 
centralized architecture concentrates on QoS routing and 
resource management for multicast applications so as to achieve 
end-to-end QoS transmission in data plane. In our proposed 
CCM architecture, multicast resource broker (MRB) is designed 
as proxy to perform QoS multicast routing with network 
information server (NIS) and multicast call admission control 
for resource management, such as multicast tree computing, 
resource allocation, and source/group management. In order to 
have effective operations between multicast data forwarding 
and multicast routing control, we adopt the RP of PIM-SM 
protocol as interface to collect source/group membership 
information. After multicast routing tree information sent out by 
MRB, RSVP-TE starts to convey the multicast signaling 
message to setup p2mp tree. 
The remainder of this paper is organized as follows. Section 
II describes functional modules of centralized control and 
management architecture. Section III gives the centralized 
multicast model for source tree and shared tree operations. 
Section IV presents the MRB working structure for architecture 
implementation. Then we discuss the performance evaluation in 
section V. Finally we make a brief conclusion in Section VI. 
II. CENTRALIZED CONTROL AND MANAGEMENT MULTICAST 
ARCHITECTURE 
In this section, we will explore the control and management 
functional modules for the proposed CCM architecture. The 
multicast with centralized control and management architecture 
is designed to provide QoS and scalability. The multicast 
routing is extended to PIM-SM protocol in IP/MPLS network. 
The mechanism of the centralized multicast control and 
management can compute feasible p2mp paths for tree 
construction to reduce control overhead and network states in a 
single domain. 
 
Figure 1. Centralized control and management multicast architecture 
As shown in Fig. 1, the CCM multicast architecture are 
composed into three main protocol planes such as 
control/management plane, control signaling plane, and data 
forwarding plane. The control/management plane is responsible 
for QoS multicast routing, sources and group management, and 
multicast resource management. The control signaling plane is 
used to establish p2mp tree for admission control with request 
by multicast session. 
Control/management plane─  In control/management 
plane, MRB is the core function module of multicast BB to 
perform resource management for multicasting (S, G) requests 
based on predefined SLA and service class. NIS derives the 
topology and available resource information from OSPF-TE 
LSDB (link state database); meanwhile, provides available links 
and required minimum bandwidth for QoS multicast routing 
computation. The advantage for centralized control and 
management in MRB framework can support QoS guarantee 
and solve multicast scalable problem. To increase the accuracy 
and efficiency for multicasting, Multicast BB need to interact 
with upper-layered application function (AF) and configure 
lower-layered Data plane for policy management. 
The function of Multicast BB plays the important role for 
multicast service in centralized control and management. 
According to network topology, source/group membership 
information and available link bandwidth, NIS will get the 
up-to-date knowledge of QoS requirements and store the QoS 
p2mp paths and overall multicast tree information in network 
state database. Admission control is responsible for resource 
reservation correlation check with resource state database. 
Control signaling plane─ The control signaling plane 
works as a intermediate interface function to transfer the control 
and signaling information. The RP, a meeting point in PIM-SM 
protocol, like a proxy server to collect all information from 
group member join-requests and sources registration message. 
The RSVP-TE is a signaling server for a set of multicast routes 
(p2mp labels) distribution and bandwidth reservation according 
to multicast QoS tree computation for specific multicast session. 
1930-529X/07/$25.00 © 2007 IEEE
This full text paper was peer reviewed at the direction of IEEE Communications Society subject matter experts for publication in the IEEE GLOBECOM 2007 proceedings.
444
Authorized licensed use limited to: National Chung Cheng University. Downloaded on March 04,2010 at 02:50:44 EST from IEEE Xplore.  Restrictions apply. 
  
Figure 3. Centralized share based multicast operation 
IV.  MRB BASED CCM WORKING STRUCTURE 
This section presents the proposed MRB based working 
structure for implementation in CCM architecture which is 
illustrated in Fig. 4. 
A. Multicast Policy management 
In order to exchange control and management information 
between MRB and Data plane, COPS (Common Open Policy 
Service) [14] protocol is adopted to transfer administrative 
commands, SLA profile, and (S, G) information for centralized 
control and management. Multicast policy manager acts as a 
policy decision function (PDF) to make policy decisions for the 
upper layered AF server; while, ERs and CRs in Data plane act 
as policy enforcement function (PEF) to execute the control 
commands for multicast forwarding tasks. 
 
Figure 4. MRB based Multicast CCM working structure 
B. NIS with multicast resource database 
MRB processes the (S, G):RP requests and multicast SLA 
profiles from policy manager. In order to satisfy the desired 
bandwidth for group SLA, NIS can derive the on-line network 
information from multicast Link Resource DB, obtaining from 
OSPF-TE DB collections. NIS needs to maintain the up-to-date 
link sate of network topology. Once the multicast session is 
initiated, QoS constraint multicast routing is computed upon 
available bandwidth based on accurate link resource DB. 
C. Multicast QoS-tree routing 
To allocate the resource for requested SLA, static off-line 
routing is performed a pre-computation for class based 
bandwidth partition in link resource DB. When multicast service 
starts, NIS uses on-line QoS routing computation for dynamic 
sessions. Thus, it can improve the scalability for multicast group 
size, and also achieve efficiency for resource management. With 
receiver join aggregated state, proposed QoS multicast routing 
is simple and fast. The centralized QoS multicast routing 
algorithm is modified from Dijkstra SPF. 
The multicast QoS routing algorithm shown in Fig. 5 is 
initialized by the aggregated state variables (α, β, γ), which is 
represented as (group number, branch degree, accumulated cost). 
The final distribution tree T (S, G, Q) are defined by S (source 
node), G (group node), and Q (service class) according to 
SLA/QoS requirements. The minimum cost tree covering the 
specific group is organized by core nodes with BP (Branch Point, 
β ≥2) state and TP (Transition Point, β =1) state. The merging 
index state is used for optimal multicast path computation with 
minimum cost SPT for each group initiation. 
Initially, the state variables are set in outgoing interface of 
each node. The algorithm first finds the shortest paths for all 
group members traverse through the core nodes. Then it 
forwards to next-hop of core node and compares if the next-hop 
is common node. If so, it allocates a merging index of this node 
and updates state variables such as group numbersα , branching 
degreeβ , and accumulated weightsγ . Furthermore, the type of 
core router is determined as BP or TP according to the branching 
status. The QoS metric (i.e., unit link weight or hop-count) for 
outgoing interface of CR equals to accumulated weights, γ i +γ
j + 1 for BP and γ +1 for TP. 
 
Figure 5. Multicast QoS tree routing algorithm 
1930-529X/07/$25.00 © 2007 IEEE
This full text paper was peer reviewed at the direction of IEEE Communications Society subject matter experts for publication in the IEEE GLOBECOM 2007 proceedings.
446
Authorized licensed use limited to: National Chung Cheng University. Downloaded on March 04,2010 at 02:50:44 EST from IEEE Xplore.  Restrictions apply. 

  	
	   	 	
		 	 	
  	 	 

	  		 
 !"#$
  	 %		

 
 
	%

& 	 %
	
'	 	
 
	 	(()*+,-.*#/+0-'	
'	%
  %
+1-+2-

  	
*  	(
  3

   	
 4
	5 	(*(
(*  	
	    	
		
		  	(	

	3		  4
	%	  	  
(	%
 	
*0,2,+1-
		6
	 		%	

 			
7	  
%'	%
	%

  	 % 	 		
%		  	 8
		9	'		%

	
		 %

	
	%	  
	  		 	  	 
%	&			  			

	 	  	
	
	 %	%			 %

	
	  %
() (!*#//*/:;(
*9*)
<=>?@ABC<DEFGABEAHDB
#	
	'		1	
		
'	'	  % '%
'I(*&/J 	(*&/	  

'5'	

   	 (*&/
 			 8			 	 		
(				
			
	%	 	 	+1-
 				 	%	
	48	4 			4
  	 
%6 				

 		%
		
K=LFBMHNAGCBOGPQRSTBDBSEGSUKPEVWRSBXBAYRDV
  % '%' 			
 			
		 		(				
 	 	  
	 		% 	   
% 		
% 		4	 
 	 	 	
	 
Z  
	6  4
 	6 			
 	 	 	[
	 6
 %
 Z 
	   	 	
	 		5			
		5						 
 	(  
  (	
	 6
	9		 6	
	
	 		\

	
		    	
		 	 	6+1-
	% 		&			
			 %	  
	
						
7
5				 	
%
 	5	
 5
	 

		+]-   
QNH@ABD
MPSPUBD	6	 % '		^
 	*	(%_
` MBCWBDMPSPUBCBSAa
	 	 4
 		6 	
	
	)	 	8
	   
` QNH@ABDMPGSABSPSEBa
*	 		 
%
	  	 	 	
	 
%
	%
 	 			
Q=LFBQNH@ABD@
&    	
	
		6		 		6

 %

'%	*5)(
		\	 	'
7	 	 
 %		6%
 	
				
7	 		6
	

1381702
 	


 

 
 		!

 
 		
 ""	

#$ %""	


 	#& %	
 '($& %'(
 %
 		
 
 		
 ""	

#$& %""	


 	#& %	
 '( %'(
 %
 		
 %
 		!


 %

)*+,-, ./0123450678940:*6:5*8;,
<=>
?<@>
?<A>
B
CDEF@GDFECIJKIJ
L@KI@MNOIJDPJGDMQR
STUVCWTS
STUVCWTS
?<X>
)*+,Y, Z[0\6:]^ 6\67980::0+*8;:2;*6/,
502_08,Z[008;*32;0`2_2*52a*5*;b6702c[8940:*6:*8c25c952;0`
27;0::0+*8;0:*/+,d72980:56+8*/;[08b8;0376:;[0e:8;
;*30f;[008;*32;0` 2_2*52a*5*;b*8+*_0/;62 0`7295;_2590,
Z[008;*32;0`2_2*52a*5*;b*82/0146/0/;*25b\0*+[;0`36_*/+
2_0:2+0,Z[076:3952;*6/6708;*32;0`2_2*52a*5*;b*88[6\/*/
gh,i,
jklmnopqj
r
soqt uiv
\[0:0j
r
0`/6;08;[04:0_*69808;*32;0`2_2*52a*5*;bf2/` o*8
;[08234502_2*52a*5*;b,Z[0c[2:2c;0:*8;*c67;[*82_0:2+0*8;[2;
*;;2]08;[0[*8;6:*c25a0[2_*6:*/;62cc69/;,w0c2/32/*4952;0
;[0:2;*667;[0[*8;6:*c252_0:2+0abc6/e+9:*/+;[0c607ec*0/;
o*/gh,i,Z[0o*8:0c6330/`0` ;680;76:x,iyY8*/c0
*;+*_08;[02_0:2+02a0;0:8366;[5b2`z98;30/;,d/;[0
0h92;*6/ft 0`/6;08;[08234502_2*52a*5*;b6728940:*6:,Z[0
8234502_2*52a*5*;b*8230289:0` 2_2*52a*5*;b7:6382345*/+,
Z[0*598;:2;*6/67:0+*8;:2;*6/\6:]^6\*88[6\/*/)*+,Y,
d;*8`08c:*a0` a056\{
| }~w[*502980:2+0/;8;2:;8;656+*/;[08b8;03f*;
e:8;0123*/08;[001*8;0/c0678940:*6:5*8;6/*;856c25
8b8;03,d728940:*6:5*8;01*8;8f;[04:6+:088\*5+6;6
8;04yu2vf6;[0:\*80f\*5+6;6yuav,
| }~Z[04:6+:088*8/230` ;[0598;0:02`
*8c6_0:buv,Z[0980:2+0/;80/`8;[0:0+*8;0:
30882+08;6258940:*6:85*8;0` */;[08940:*6:5*8;,d7
;[0:001*;82;5028;6/08940:*6:;[2;*8452b*/+;[0:65067
c598;0:[02`f;[08940:*6:f*,0,;[0c598;0:[02`f\*5:0;9:/
;[02c]/6\50`+0` :0846/80*330`*2;05b,Z[0980:2+0/;
;[0/:0+*8;0:82;;[08*+/25*/+80:_0:;[:69+[;[0c598;0:
[02`27;0::0c0*_*/+;[02c]/6\50`+0`:0846/807:63;[0
c598;0:[02`,d/2` *`;*6/f2980:2+0/;32b:0c0*_080_0:25
2c]/6\50`+0` :0846/808,/c0*;6cc9:8f;[0980:2+0/;
\*5c[6680;[0c598;0:[02` \*;[2:24*`:0846/80,
| }~0c2980;[0:0*8/68940:*6:5*8;6/;[056c25
8b8;03f;[0980:2+0/;;[0/:0+*8;0:82;;[08*+/25*/+
80:_0:`*:0c;5b,9:*/+;[0:0+*8;:2;*6/f;[0:0846/80;[2;
:0;9:/8;6;[0980:2+0/;c2:*08252;08;8940:*6:5*8;,
| }~Z[032b72*5`90;6;[0/6/01*8;0/c067
c598;0:6:;[069;67`2;08940:*6:5*8;,d/;[*8c280f;[0
4:6+:088;9:/8;68;04yuav,
| }~Z[0:0+*8;:2;*6/*889cc088795bc63450;0`,
 ¡¢£¤
Z[0[02:;a02;30c[2/*83 *82/*/;0+:2;0` 36`0567;[0
¥d¦:0+*8;:2;*6/7:230\6:]2/` ;[0¥d¦0_0/;/6;*ec2;*6/
7:230\6:]§¨©,Z\60_0/;82:001;0/`0` */;[*830c[2/*83,
/0*8c250` ª«0_0/;\[*c[*8`0e/0` */¬)­YiY§ix©f
2/` ;[*80_0/;4:6_*`08230c[2/*83;6:070:2:036;0/6`0;6
;[0:0869:c0*/`*c2;0` */;[0:0h908;,Z[06;[0:0_0/;/230`
®¯°£*84:64680` */69:8b8;032:c[*;0c;9:0,Z[*80_0/;
0`e/08;[0+0/0:2;*6/67/6;*ec2;*6/876:;[0c[2/+0*/2
c598;0:303a0:8[*4f2/` *;2586+*_08230;[6` ;6 0`;0c;2
c598;0:303a0:72*59:0,
Z[07:230\6:]67[02:;a02;30c[2/*83*88[6\/*/)*+,±,
g_0:bc598;0:[02`*82c0/;:25/6;*e0:,Z[680c598;0:8\*5
80/` /6;*ec2;*6/8;6;[0*:c598;0:303a0:8\[0/;[08;2;067
c598;0:303a0:8[*4*8c[2/+0`,Z[08;2;032c[*/067c598;0:
303a0:*88[6\/*/)*+,²,Z[08;2;032c[*/06702c[c598;0:
303a0:*832*/;2*/0`ab;[0c598;0:[02`,d7;[0:0*82c[2/+0
;6;[08;2;08f;[0c598;0:[02` \*5+0/0:2;02/6;*ec2;*6/;6
/6;*7b;[089a8c:*a0:8§ii©,
®®¯°£¡¢
Z[0:02:080_0/c598;0:640:2;*6/8*/69:8b8;032:c[*;0c
;9:0,w0` 08c:*a0;[03287656\8{
iv³´µ¶µ¶·¸¹º~»
w[0/2980:\2/;8;6z6*/2c598;0:f*;e:8;c63450;08
;[0:0+*8;:2;*6/4:6c088;[:69+[;[0c598;0:[02`f2/`
;[0/80/`82¼®ª:0h908;;6;[0c598;0:[02`,
Z[0c598;0:[02`\*5c[0c];[0:0+*8;:2;*6/8;2;9867;[0
980:a076:0244:6_*/+;[089a8c:*4;*6/,d;\*5:0z0c;67
;[089a8c:*4;*6/*7;[0980:[28/6;b0;:0+*8;0:0`,
yv½¾µ¶·¸¹º~»
1383724
 	

 
 
 



  !"#$%&&'#("%)!*+ ("%!&#'"%"#!"
,-.012314546014789414
:1;<=>?8@
A  !"#$%&&'#(%$)!*+ ("%!&#'"%"#!"
$+ "%$"#(B*!"BC$#( (&*&#(D" E ("FG"$  +F"(D$(
*!"D$ $ +H"%&%* (&#( *&!$* E ("F*!"I#J $#J
!&#($!( K&L(D%&+D(D"!*+ ("%D"$JJ !&M"%E"NH*$#"J#
O"!(&#P*!"(D"#%" ("% $((D" #$*# "%M"%(D%&+D
K&LBCD!D$%" D&C##F"  $" Q)PRD"F"  $" S
$#JT D&C(D" +L !%H(&#B$#J(D$($* &%"H%" "#((D$(
*!"U&# (D"!*+ ("%#FF"J$("#&(I!$(&#  D&C#
#F"  $" V$#J
WXYZ[\]^_`ab[c\deZfc\cZ_c
g#(D"'&*&C#+ "!$ "B$ !"#$%&&'#(%$)!*+ ("%!&#'"%)
"#!" H%" "#("JB$#J(  "h+"#!"!D$%(  D&C##QQ
##(%$)!*+ ("%!&#'"%"#!" J"I#"J(&L"$!&#'"%"#!"(D$(
($i" H*$!"# J"$!*+ ("%(D$( #(%&J+!"J#O"!(&#gj)k
g#(D  !"#$%&B$#&(D"%(C&+ "%$"#( Bl&"$#JR&FBD$ 
*&"J#(D" E ("F$#JU&#"J(&(D"!*+ ("%+%"QQ D&C 
(D$(l&"C$#( (&!%"$("$!&#'"%"#!"C(D*!"$#JR&Fm"
 "#J $#gnjgRoF"  $"(&K&L(&%"h+" ($!&#'"%"#!"
 "(+HBCD!D  D&C##F"  $"QQK&L#&(!" (D$((D"
%"h+" ( $##(%$)!*+ ("%!&#'"%"#!"B &(D$(( + "%$"#(
#($*p" (D"qrq&!+ H%&!"  (&D$#J*"(D !&#'"%"#!"RD"
qrq&!+ !D"!i (D"!$H$L*(E&'"$!D +H"%&%#(D"!*+ ("%
'&%F"J$FN#g#(D !$ "B*!" $  #"J(&L"(D"
Qs RD" "h+"#!"!D$%(&'+ "%%" (%$(&#CD*"*!"*& #(D"
 E ("F
qrqtN"%'&%(D !&#'"%"#!"B(D"qrq&!+ #M(" *!"C(D
$gnjgRoF"  $" D&C##F"  $"Qr'("%%"!"M#(D"
F"  $"B(D"+ "%$"#(#($*p" (D"qrqtN"%H%&!"  
RD"qrq&!+ !&#I+%" (D"F"J$!D$##"*L"(C""#l&"
$#J(D"qrqtN"%LE+ #(D%JH$%(E!$*!&#(%&*uQrv$#J
$#&'"%w$# C"%F&J"*C(DOxquQyvBCD!D  D&C##F" )
 $" QQ)QT'("%$F"J$!D$##"*D$ L""# "(+HBl&"!$#
 "#JF"J$ (%"$F (&(D" H"!I"JqrqtN"%RD"qrq&!+ 
(D"##M(" (D"&(D"%+ "%$"#( BR&F$#J*!"B(&U&#(D"
!&#'"%"#!" D&C##F"  $" QV$#JryRD"F"  $" 
QV)rr#J!$("(D"F"J$!D$##"* "(+HL"(C""#R&F$#J
(D"qrqtN"%RD"F"J$!D$##"* "(+HL"(C""#*!"$#J
(D"qrqtN"% &F("JD"%"RD"J"($*&'(D"F"J$!D$##"*
 "(+H!$#L"%"'"%"J(&(D"!&#'"%"#!"H$H"%uQPv#$*EB(D"
!&#'"%"#!"H$%(!H$#( L"#(D"!&#M"% $(&#C(D&(D"% 
jgkznk{|Ogzn
G"H%&H& "$!*+ ("%)L$ "J E ("F$%!D("!(+%"'&%F+*()
F"J$!&#'"%"#!# "%M!" &M"%gq#"(C&%i#(D H$H"%
z+% E ("F$%!D("!(+%"($i" (D"$JM$#($"&'(D"+ "%!&*)
*$L&%$(&#B#&(&#*E(D" E ("F*&$J#&'!&#'"%"#!" "%M"% 
!$#L"F#Fp"JBL+($* &(D"#'%$ (%+!(+%"!& (!$#L"
%"J+!"JK" J" B(D"!"#(%$*p"JF+*(F"J$!&#'"%"#!#
L$!iL&#"#"(C&%i!$#FH%&M"(D"&M"%$*%"*$L*(E$#J(D"
 ($L*(E&'(D"!*+ ("%)L$ "J!&#'"%"#!# E ("F!*+ ("%#
F"!D$# FC$ J" #"J#(D"H$H"%B$#J(D"F"!D$# F
"N("#J (D"O"  &#g#($*q%&(&!&*}Ogq~(&$!D"M"(D"!*+ ("%
&H"%$(&#$#J(D"D"$%(L"$(F"!D$# F+ "!$ "&'&+%
 E ("FH%&(&(EH"C(D "h+"#!"!D$%(  "NH*$#"J(& D&C
(D" E ("F H%$!(!$L*"g#&+%'%$F"C&%iB &F"H%$!(!$*
  +" $%" (*#""J"J(&L"J""H*E#M" ($("JB +!D$ 
!&#'"%"#!"H&*!E!&#(%&*B&&%!&#(%&*B%" &+%!"$*&!$(&#
1385746
A Context-Aware Handoff Scheme and All-IP Mobile 
Multicast Service for Heterogeneous Wireless Networks 
 
Chih-Chao Wen1, Cheng-Shong Wu2, Wu-Shian Lee 
Department of Electrical Engineering 
National Chung-Cheng University 
Chayi, Taiwan R.O.C 
1ccwen@cn.ee.ccu.edu.tw; 2ieecsw@ccu.edu.tw 
Hui-Kai Su 
Department of Electrical Engineering 
National Formosa University 
Huwei, Taiwan R.O.C 
hksu@nfu.edu.tw
 
 
Abstract—With rapid development of wireless technologies, current 
user mobile devices can support to access various wireless networks 
such as Wi-Fi 802.11 Wireless LANs, 3G cellular networks, etc. 
Due to requirements of multicast mobility for multimedia services, 
the convergence of wired and wireless network has been a 
necessary trend in Next Generation Networks (NGN). The issues of 
multicast and mobility in the heterogeneous networks are very 
significant. Thus, the paper proposes an integrated framework for 
mobile nodes (MNs) and core networks to provide a seamless 
multicast mobility service according user contexts, i.e. user states 
and network states. The context-aware handoff process including 
the operations of system discovery, handoff decision, and handoff 
execution are designed for MNs. In addition, multicast agents 
(MAs) in the core networks are designed to deal with multicast 
connection management, which supports all IP multicast 
connection for multicast supported and non-multicast- supported 
networks. The prototype of the proposed framework has been 
implemented and tested. The performance measurements and 
system evaluation are shown, and the service disruption time during 
context-aware handoff can be minimized. 
Keywords-context aware handoff; connection management; 
mobile multicast; heterogeneous network 
I. INTRODUCTION 
The widespread use of mobile terminals, currently equipped 
with multiple wireless network interfaces such as IEEE 802.11 
WLAN (WiFi), Bluetooth (BT), and 3G (third-generation) 
cellular networks, can access Internet anytime and anywhere. 
Moreover, the convergence of wired and wireless technologies 
is identifying the requirements of Internet services especially 
for multimedia service provisioning, where mobile users are 
willing to have ubiquitous and continuous access. 
In order to avoid the bandwidth waste of Internet streaming 
applications by data stream duplications and reduce the loading 
of central media servers, the IP multicast protocol is considered 
to employ for mobile multicast communications. However, 
seamless connectivity is a major challenge for handoff process 
in heterogeneous networks that deployed and operated by 
different Internet Service Providers (ISPs). In particular, the 
multicast connection maintenance is desirable for mobile users 
while they move between multicast supported and non-
multicast-supported networks [1]. 
Most researches on handoff schemes [2]-[3] primarily 
address mechanism that relies on network information such as 
signal strength, bandwidth, etc. However, these handoff 
decision approaches depend on only the low-level network 
conditions and lack of considering the high-level application 
conditions, i.e. service quality, user intention and user contexts. 
Such inaccurate handoff decision may lead to longer delay time 
and lower throughput for the multimedia multicast service. 
Moreover, in heterogeneous networks, several wireless signals 
of Internet access services are existent simultaneously, and the 
service interruption of seamless handoff between each wireless 
networks would be more serious. 
In this paper, we propose an integrated framework for 
mobile nodes and core networks to provide a seamless 
multicast mobility service according user contexts. The 
parameters of various available network status and host 
application service information are collected periodically. The 
context information is stored in the context awareness database 
to enforce the best strategy for horizontal handoff in 
homogeneous networks and for vertical handoff in 
heterogeneous networks, e.g. Wi-Fi, 3G cellular networks. The 
best one of available access points is selected based on user 
defined policies and network conditions. Finally, the user 
devices can receive the most suitable multicast connection and 
the best application service quality according to system 
environments. 
The rest of this paper is organized as follows. Section II 
explores the important issues about handoff and related works. 
Section III describes our context aware handoff scheme and its 
implementation of integrated framework. Section IV presents 
multicast connection management. Section V demonstrates 
prototyping evaluations and performance experimental results 
of the proposed solution. Finally, we conclude the paper in 
section VI. 
II. RELATED WORKS 
There are three decision models for detecting the need for 
handoff in homogeneous and heterogeneous network 
conditions: mobile-controlled horizontal handoff (MHHO), 
network-control vertical handoff (NVHO), and context aware 
handoff (CAHO). 
9781-4244-3941-6/09/$25.00 ©2009 IEEE
Authorized licensed use limited to: National Chung Cheng University. Downloaded on March 04,2010 at 02:53:56 EST from IEEE Xplore.  Restrictions apply. 
2) Context aware handoff decision stage: At first, the 
context aware handoff scheme will be triggered in either 
horizontal handoff or vertical handoff by detecting RSSI 
variation of APs to determine the mobile speed of MN in 
current network. Then, based on two factors of dwelling time 
in AP and estimating the priority of available APs, the handoff 
decision will be activate to choose the proper AP to connect. 
Finally, proposed scheme can reduce the frequent network 
switching due to unnecessary handoff. 
Before performing handoff decision, it is important to 
verify the context information of current network environment. 
By detecting surrounding network conditions of MN in current 
network, the handoff decision function of MN is triggered by 
events to handle handoff decision as represented in Fig. 2. 
According to the pseudo code for handoff event trigger 
algorithm, the mobility speed is considered an imperative effect 
on handoff decision activation. When MN is moving through 
overlay coverage area of Wi-Fi and 3G network, we use MN 
moving speed as the primary handoff event trigger factor. The 
MN mobile speed can be estimated by the parameter of 
Average_variation_RSSI defined by the following equation: 
N
RSSIRSSIRSSI
RSSIiationAverage
N
i
iii∑−
=
+ −
=
1
1
1 /||
_var_  (1) 
In Eq. (1), RSSIi denotes the RSSI of the i-th AP and N 
denotes the total number of the surrounding APs. While MN is 
moving at high speed across the heterogeneous network, the 
value detecting from (1) will be larger than the threshold to 
start the handoff decision. To reduce the ping-pong effect by 
frequent handoff event triggering, the threshold is set to count 
the number limit of temporary low RSSI of AP. 
The proposed context aware handoff decision algorithm is 
determined by two factors: the dwelling time for existing 
service continuity and priority score for candidate APs with 
good signal quality RSSI in access network for multicast 
service. The dwelling time threshold can be defined via the 
formula: 
 
n
n
i
iE T nT T )1()]1/([
1
1
ββ −+−= ∑−
=
 (2) 
where TE and Tn denote the threshold of dwelling time and the 
time the MN stays at n-th subnet, respectively. The term β is a 
constant weighting value, 0 ≦ β ≦ 1. 
The priority score function Q, which provides a measure of 
the context information of a certain network state. In order to 
adapt for different conditions, there is assigned weight for each 
parameter to calculate total quality value for handoff decision. 
The priority score function is defined by following equation. 
 ∑−
=
=
1
1
n
i
iti TQ ω  (3) 
In (3), the wt is denoted weight for each network parameters 
Ti. The weight values are fractions with the range from [0, 1]. 
The proposed context aware handoff decision algorithm 
applies the following major steps as represented in Fig. 3. 
Step 1: The handoff decision is initiated by event handler 
based on RSSI and its variations. 
Step 2: Predict the dwelling time in next possible AP 
according to previous AP dwelling time in link 
historic DB. If the estimated dwelling time TE of the 
Eq. (2) is less than threshold value, MN will decide to 
handoff from Wi-Fi to 3G network 
Step 3: While moving speed of MN is in low mobility, MN 
will scan the nearby available APs and filter the AP 
with RSSI below the threshold. Because the low RSSI 
of AP affects the wireless transmission quality, MN is 
usually to decide to start the handoff or remain to stay 
in 3G network. 
Step 4: Choose the available candidate APs, and get their 
context information from U-Gate (or MA for 
horizontal handoff). 
Step 5: Calculate the priority score of each candidate AP 
based on the different quality by Eq. (3). The highest 
priority is considered the same subnet with current AP, 
the second is the same multicast service for MN, and 
the third is multicast protocol support for router. At 
the same time the AP will be filtered because the 
signal strength of AP becomes weak less than 
threshold. 
Step 6: After the priority sorting for candidate APs, the 
highest priority of the Wi-Fi AP will be selected as the 
target network to switch. 
check network
State == 3G
Yes
NO
Switch to
3G Network
Scanning available 
APs
Detect all APs
RSSI < Threshold
Yes
NO
filter
all APs RSSI<
Threshold
caculate priority score 
for candidate APs by 
subnet, service, 
multicast parameters
get AP Context 
Information from U-
Gate Server
Choose highest 
Priority score of
AP 
Switch to
Wi-Fi Network
Initial
Yes
NO
AP Dwelling time 
prediction in AP
Dwelling time >
Threshold
Yes
NO
 
Fig. 3. Context aware vertical handoff decision procedure 
Authorized licensed use limited to: National Chung Cheng University. Downloaded on March 04,2010 at 02:53:56 EST from IEEE Xplore.  Restrictions apply. 
In Fig. 5 (b), considering the scenario of MN mobility with 
horizontal handoff, we take the feature of MA as the example 
to explain the multicast service continuation. The MN makes 
context-aware horizontal handoff decide to choose next AP2 
while moving to neighboring subnet2. The MN first query the 
local multicast agent (i.e. MA1) in subnet1. Once after 
connecting to MA1, the MN sends the handoff request to MA2 
through the tunnel between MA1 and MA2. After handoff 
responding, the MA2 sends IGMP message to AR to join the 
same multicast group. When MN roams to associate AP2, it 
will receive the multicast service from media server without 
breaking the connection. 
In Fig. 5 (c), the vertical handoff scenario is considered for 
MN moving through Wi-Fi and 3G network. When MN is 
moving away from AP1 within 3G cellular coverage, the 
handoff control message will deliver through the tunnel 
between MA1 and MA2 to discover the multicast service. After 
the group member joining, the remote MA2 will relay the 
multicast service from AR to MN via tunnel through 3G access 
network. 
V. EXPERIMENTAL RESULTS 
The proposed context-aware handoff software framework is 
implemented on pocket PC runs on Linux platform, which has 
Wi-Fi and 3G wireless interfaces as the prototype of mobile 
node. The performance evaluation is focused on the MN 
mobility with context-aware handoff feature between 
heterogeneous 802.11Wi-Fi network and 3G cellular network. 
The mobile multicast experimental network topology is setup 
as shown in Fig. 6. A multicast experimental network 
environment is constructed by one core router (CR) and three 
access routers (AR), which is supported by PIM-SM and 
IGMPv2. The media server connected to CR can generate 
uniform multicast media stream by the iperf software [12]. Our 
prototype MN sends the IGMP message to AR to join as the 
multicast group member and receive the multicast stream from 
visiting AP in current access subnet. Initially, the MN is 
connected to the Wi-Fi AP through multicast AR and CR for 
multicast service. The proposed multicast agent (MA) is 
employed to facilitate all-IP multicast service of handoff and 
tunnel for roaming MN in each subnet. 
In test scenarios, we first observe the impacts of horizontal 
handoff between multicast supported Wi-Fi subnets. Secondly, , 
we evaluate the throughput of handoff by proposed context-
aware handoff and MA to join the multicast tree. Finally, we 
measure the vertical handoff performance for MN’s mobility 
from Wi-Fi network to 3G network. The MN activates the 
context-aware handoff decision making scheme while 
switching network interface between heterogeneous networks. 
The MA is requested to send IGMP message to join multicast 
tree and relay the multicast packets via tunnel to MN. The test 
results and performance analysis are discussed as follows. 
A. Handoff delay with passive and active IGMP 
We evaluate the performance of 802.11 inter-subnet 
handoff latency to affect multicast stream delivery. The IGMP 
control message in different version, which has passive and 
active mode, is used by MN to join multicast group in different 
modes. We measure and compare the handoff delay time 
between two multicast APs in different Wi-Fi subnets. Fig. 7 
Mobile 
Node
Subnet1 
MA1
Subnet2 
MA2 CR/RP
Media 
Server
IGMP 
Multicast 
serviceMulticast 
service
(a) MN horizontal handoff from AP1 to AP2 for multicast service without MA
Subnet1
AP1
Subnet2 
AP2 AR
IGMP Join
Media 
streamMedia 
stream
Multicast 
service Multicast 
service
IGMP 
IGMP 
Mobile 
Node
Subnet1 
MA1
Subnet2 
MA2 CR/RP
Media 
Server
Handoff 
Request
Multicast 
Service
(b) MN horizontal handoff multicast service from AP1 to AP2 via 
       pre-handoff between MA1 and MA2
Subnet1
AP1
Subnet2 
AP2 AR
JoinIGMP
Original subnet 
Handoff 
Request Handoff Request 
Multicast 
ServiceMulticast 
Service
Multicast 
ServiceMulticast 
Service
Handoff to New subnet
Handoff 
Response
Handoff 
Response
Handoff Response
Connect to 
AP2
Join
Multicast 
service
 
Mobile 
Node
Subnet2 
MA2
Subnet1 
MA1 CR/RP
Media 
Server
Connect 
to 3G
Multicast 
Service
(c) MN vertical handoff multicast service from WLAN AP1 to 3G BS
      via  tunnel between MA1 and MA2
3G
BS
Subnet1 
AP1 AR
JoinIGMP
Original subnet 
Multicast service
Handoff 
Request
Tunnel 
Handoff 
Request 
Multicast 
ServiceMulticast 
Service
Tunnel Multicast 
Service
Tunnel 
Multicast 
Service
Handoff to 3G 
Multicast service
Handoff 
Response
Handoff 
Response
Tunnel 
Handoff 
Response
Handoff 
Request
 
Fig. 5. Handoff sceneries of mobile multicast connection management 
Wi-Fi AP
AR
MN
Multicast Agent
Media Server
Multicast Stream
Multicast
Core Router
Wi-Fi AP
AR
Multicast Agent
MN
3G BS
Multicast stream
IP Tunnel Multicast Tunnel
Multicast
AR
Wi-Fi AP
MN
Internet
Multicast Agent
3G coverage
IP Tunnel
Horizontal handoff
Vertical handoff
3G
Core Network
WLAN
coverage
Wi-Fi AP
IP Tunnel
IP Tunnel
 
Fig. 6. The handoff scenarios for mobile multicast experiment 
Authorized licensed use limited to: National Chung Cheng University. Downloaded on March 04,2010 at 02:53:56 EST from IEEE Xplore.  Restrictions apply. 
