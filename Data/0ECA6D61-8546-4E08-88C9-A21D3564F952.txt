 2
氫氣重組器與一氧化碳精餾器的整合最佳化控制系統設計 
 
蔡渙良、Pham Minh Duc及翁頂清 
大葉大學電機系 
515彰化縣大村鄉山腳路 112號 
Tel: (04) 8511888ext. 2204 
Fax: (04) 8511245 
E-mail: michael@mail.dyu.edu.tw 
 
摘要 
氫氣重組器及一氧化碳精餾器是燃料處理系
統的關鍵子系統，本研究計畫中以熱電漿來處理工
業廢溶劑進行氫氣重組反應，其一氧化碳產物再經
由一氧化碳精餾器化學反應轉化成二氧化碳，以降
低一氧化碳濃度。運用我們所推導的通用型線性二
次高斯及迴路轉移法可以有效改善氫氣重組器及
一氧化碳精餾器的非極小相問題，最後以ARM為基
礎平台實現整合氫氣重組器及一氧化碳精餾器最
佳化控制系統，以提昇系統的反應速度及精準度。 
關鍵詞：氫氣重組器、一氧化碳重整器、非極小相。 
Abstract 
Both H2 reformer and CO rectifier are important 
subsystems in a fuel processing system. The waste 
liquors in industry are reformed by the thermal plasma 
of hydrogen reformer. The product carbon monoxide 
(CO) in the reformat is then conversed to CO2 in a CO 
rectifier. The generalized linear quadratic Gaussian 
and loop transfer recovery methodology can be used 
to the non-minimum phase problem of the hydrogen 
reformer and the CO rectifier as well. Finally, an 
ARM-based platform is used to develop an optimal 
control system for the integration of both hydrogen 
reformer and CO rectifier with high-speed, 
high-resolution and low-power consumption 
advantages. 
Keywords: H2 Reformer, CO Rectifier, Non- 
Minimum Phase.  
1. 前言 
一般燃料處理系統的研究著重於實驗經驗與
實務，對於其動態系統行為的研究文獻較少，也許
這些實驗研究數據是大部份製造廠商及研究的重
要資訊資源，本校淨潔能源中心實驗室由本整合計
畫子計畫一計畫主持人王教授組裝一套以熱電漿
重組的產氫系統，本研究子計畫期望以系統動力學
的觀點，建立這個氫氣燃料處理系統的動態方程
式，進而分析其內部的化學反應。由 Tadeo等人[2,3]
於 2000年及 2002年提出氫氣重組器的轉移函數具
有三個 s 平面右半平面的零點，係為非極小相
(Non-minimum phase)的系統，他們所設計的最佳化
控制器 1l 並未對這個問題進一步處理；另一方面，
2005 年 Pukrushpan 等人[8]所提出以天然氣為燃料
的氫氣生產系統，這個燃料處理系統利用氧當催化
劑進行部份氧化作用，而這個系統也有非極小相的
問題。因此，在設計燃料處理系統中整合氫氣重組
器及一氧化碳精餾器的控制系統應該考量系統的
極小相及非極小相的情形。我們所推導的通用型線
性二次高斯及迴路轉移回歸法(Generalized Linear 
Gaussian Quadratic and Loop Transfer Recovery, 
GLQG/LTR)可以同時處理極小相及非極小相的系
統，我期望用這個通用型線性二次高斯及迴路轉移
回歸法來設計其最佳化控制系統，以獲得最大的氫
氣(H2)產能及最少的一氧化碳(CO)排放量。最後，
利用以 ARM為基礎平台來實現。 
2. 理論基礎 
2.1 問題定義 
考慮一受外力擾動和量測雜訊的干擾下的受
控體，其數學模式為： 
)()()()()( twtrBtButAxtx cr Γ+++=&      (1) 
)()()( tvtCxty +=        (2) 
其中Γ為 pn× 的矩陣、 )(tw 為外部干擾輸入、 )(tv
為隨機量測雜訊。 )(tw 和 )(tv 分別是 p維及 q維無
相互關係的白色高斯雜訊，具有協方差及平均值為
零的特性： 
)()()}()({ τδτ −= ttWwtwE T              (3) 
)()()}()({ τδτ −= ttVvtvE T                (4) 
及 
0)}()({ =τTwtvE                (5)
其中 }.{E 代表期望值函數， )(tW 和 )(tV 為系統雜訊
和量測雜訊的共變異量矩陣，LQG/LTR控制系統方
塊如圖 1.。為了處理非極小相的系統，我們定義通
用型性能指標 J 為： 
})]()()()([
2
1{
0
2 dttRututQytyeEJ TT
t tf += ∫ σ (6)
其中狀態加權矩陣Q為半正定矩陣，輸入加權矩陣
R為正定實對稱矩陣，而α 為可調整的參數。當受
控體為極小相的系統， 0=α ，與傳統的 LQG/LTR
設計方法一樣；當受控體為非極小相的系統，我們
可以調整α 去得到較佳的頻域與時域響應。 
2.2 LQG/LTR理論 
 
LQG/LTR理論是滿足分離原理，一般先設計
 4
⎥⎥
⎥⎥
⎥⎥
⎥⎥
⎥⎥
⎥⎥
⎥⎥
⎦
⎤
⎢⎢
⎢⎢
⎢⎢
⎢⎢
⎢⎢
⎢⎢
⎢⎢
⎣
⎡
−
−−
−
−−
×−−
−−
−−
−
−
−
= −
156586.3300000000
3.25468.1911.135582.2000000
1642.8061.1300188.06043.53994.5000
0354.20304.3358.008309.1214.1000
001010074.053.30748.1000
000003443418.33100
00526.32002.2539.254097.2210
00000304.32304.3243.3200
0000069.11269.11205.12463.212
000000000333.3
6A
 
(21) 
T
uB ⎥⎦
⎤⎢⎣
⎡=
00000001834.000
00000000012.0
(22) 
T
rB
⎥⎥
⎥
⎦
⎤
⎢⎢
⎢
⎣
⎡ −−
=
0000000100
0000000001
024.0328.0000000504.000265.0
(23) 
和 
⎥⎦
⎤⎢⎣
⎡
−= 088.0994.000000000
0000100000
C  (24) 
我 們 首 先 求 得 繪 製 受 控 系 統 回 歸 比
( ) BAsIC 1−− 的主軸增益 (Principal gains)圖如圖
2.，其中 )(⋅σ 和 )(⋅σ 分別為最大及最小的主軸增益
函數。由圖2.可以明顯看出整個受控系統係為型態
0的系統，為了改善其穩態響應，降低或消除其穩
態差值，我們在其控制器輸入端均引進一個積分
器，提高系統型態。從實際的考量，擴增系統的極
點以置於 01.0− ，同時擴增系統的模組為 
⎥⎦
⎤⎢⎣
⎡
−
Γ=
× mmm
m
0100 I.
IA
Aa                  (25) 
[ ]Ta BB mm0 ×=                       (26) [ ]mm0 ×= CCa                       (27) 
和  
[ ]Ta Immm0 ×⋅Γ=Γ                    (28)
為了滿足分離原理，卡門濾波器與控制器可以分開
設計，設計卡門濾波器 fK ，來估測狀態變數 )(ˆ tx ，
再設計控制器 cK 。其中卡門濾波器 fK ，可由相互
間無關聯性的W 和V 矩陣求得，考量一般系統雜
訊是由輸入端耦合而不是直接由狀態耦合，所以定
義Γ , W , V 為： 
B=Γ                              (29)                                                              
IW =                              (30)          
及 
IV 1ρ=                             (31) 
或是假設 IWW o 2ρ+= 及 IV = 。因雜訊經由輸入
和系統耦合，而不是直接和狀態相互耦合，所以得
知 B=Γ ，並可藉由調整 1ρ 使卡門濾波器滿足頻域
上的需求。調 1ρ =0.2，則可求得卡門濾波器的增益
矩陣如(30)式 
T
9226.10454.11675.00585.01863.01813.03752.00369.03953.00360.08298.01409.0
0560.19532.10977.05571.00295.36891.23173.00605.04072.00207.01399.09741.4
⎥⎦
⎤⎢⎣
⎡
−
−−−−=fK
 
(32) 
目標迴路轉移函數的回歸比、靈敏度函數及互補靈
敏度函數的主軸增益圖如圖 3-4 所示。LQG/LTR
求得控制器增益 cK ，設計方法為令 IQ = 和
IR ×= −410 求解控制器增益值，由(14)及(15)式可
得知，我們控制器增益 cK 為(31)式。 
⎥⎦
⎤⎢⎣
⎡
−−−−−−−
−−−−=
98930083.02109.303906.416094.93677.104573.788467.913424.156756.71099.603770.51
0070.09942.09283.412549.264014.203118.90960.600960.3066909.334019.36368.350695.85
 cK
 (33) 
補償系統的回歸比、靈敏度函數及互補靈敏度
函數的主軸增益圖如圖 5-6。為了與 Pukrushpan的
研究成果做比較，我們將我們的方法與 Pukrushpan
的研究成果同列在圖中。由圖 5中可以看出，我的
方法最大及最小主軸增益值的間隔相對較小，相對
的絛件數值(Condition number)較小，使我們設計的
補償系統對受控系統的參數變動較具有強健性。在
圖 6中，我們可以發現我們的互補靈敏度函數的主
軸增益值在高頻的部份可以提供 10dB的衰減，這
可以使補償系統對抗高頻的量測雜訊具有較高的
能力。 
在時域響應分析部份，我們假設燃料電池堆系
統因應負載變化在 600秒時增加 50安培的電流命
令(如圖 7所示)，模擬分析補償系統的輸出及致動
訊號的時域響應，如圖 8-11 所示。由圖 8-9 中可
以明顥地看出，我們所提出的方法對於補償系統的
自我調整能力有明顯較佳的能力；雖然我們的方法
在風箱及燃料控制閥的致動訊號有較大的尖峰振
幅，但仍滿足 0-100的限制條件，同時風箱及燃料
控制閥的致動訊號的均方根值(root mean square, 
RMS)並沒有明顯增加，如表 1所列。 
為分析補償系統的強健性，我們在受控系統加
入白色雜訊型態的系統干擾及量測雜訊，強度為
W=1、V=1，補償系統的輸出向量的共變異量如表
2 所示，我們可以明顯地看出，我們的方法具有較
佳的抗雜訊干擾的能力。 
 
4. 結論 
經由燃料處理系統(FPS)的模型建立、通用型
線性二高斯及迴路轉移函數回歸法(GLQG/LTR)最
佳化控制法則的推導與數值模擬，我們所提出
GLQG/LTR方法能包括傳統的 LQG/LTR方法，這
個方法讓 GLQG/LTR 技術更具備實際的應用。此
外，言個方法所引進的可調參數α 提供額外的自由
度數，在設計上提供了特定程度的穩定度。藉由建
議的GLQG/LTR方法的數據模擬比較和 LQG/LTR
方法得到的結果，我們所提出的方法在它的時域和
頻域響應都具備較佳的結果。 
 
5. 參考文獻 
[1] A. L. Dicks, “Hydrogen generation from natural 
gas for the fuel cell systems of tomorrow,” 
Journal of Power Sources, Vol. 61, No. 1-2, 1996, 
pp. 113-124. 
 6
)( tGσ
)( tGσ
 
圖 3. 目標迴路轉移函數的主軸增益圖。 
 
)( fSσ
)( fTσ
)( fSσ
)( fTσ
 
圖 4. 目標迴路轉移函數靈敏度及互補靈敏度 
函數的主軸增益圖。 
)(GKσ
)(GKσ
)( tGσ
)( tGσ
 
圖 5. 補償系統的主軸增益圖 
G
ai
n 
(d
B
)
)( GKSσ
)( GKTσ
)( GKSσ
)( GKTσ
圖 6. 補償系統的靈敏度及互補靈敏度函數的主軸 
增益圖。 
595 600 605 610 615
200
205
210
215
220
225
230
235
240
245
250
Time (s)
M
ag
ni
tu
de
 (A
)
 
圖 7.燃料電池堆因應負載變化的電流需求命令。 
 
 
 
595 600 605 610 615
971.4
971.5
971.6
971.7
971.8
971.9
972
972.1
972.2
Time (s)
Te
m
pe
ra
tu
re
 (o
K
)
: Desired CPO temperature
: Pukrushpan＇s LQ method
: Proposed LQG/LTR method
 
圖 8. 觸媒不完全反應器的溫度響應。 
