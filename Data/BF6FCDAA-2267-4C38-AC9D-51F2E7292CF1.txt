i 
 
目錄 
1. 前言 ................................................................................................................... 1 
2. 本計畫目標 ....................................................................................................... 2 
3. 本計畫進度規劃及執行情形 ............................................................................ 4 
3.1. 建置交換/路由協定之實驗環境架設進度 ................................................ 4 
3.1.1. 實驗環境架設進度 ............................................................................ 4 
3.1.2. 交換路由協定建置進度 .................................................................... 5 
3.1.3. 預期封包處理流程 ............................................................................ 6 
3.2. 規劃整合測詴環境之進度 ........................................................................ 7 
3.2.1. 整合測詴情境一 - 網路安全 ........................................................... 7 
3.2.2. 整合測詴情境一 - QoS ..................................................................... 8 
4. 本年度預期產出及達成情形 ............................................................................ 9 
5. 第二年度預期完成之進度 .............................................................................. 10 
 © NCKU-EE 
2 
 
2. 本計畫目標 
本計畫目標於日常工作網路 (production network) 建置一虛擬化的實驗網
路，提供新的網路協定、應用程式/服務等測詴及驗證用。探討如何在工作網路
上支援日益多元的網路應用，如何在工作網路上實驗新的協定及應用，而不影響
原有之流量及對原有網路所造成的影響。 
本整合計畫以 NetFPGA 平台研究與建置一具有虛擬化、高速封包處理能
力、即時監控、流量管控、安全管控及管理功能的網路設備。本整合計畫包含一
總計畫及四個子計畫，總計畫及各子計畫名稱如下： 
 總計畫：網路虛擬化架構之研究與建置 
 子計畫一：設計與實作一具有網路虛擬化之高速封包處理平台 
 子計畫三：設計與實作一具有可調式服務品質保證之網路虛擬化架構 
 子計畫四：設計與實作一虛擬化網路之管理平台 
 子計畫五：網路虛擬化架構之整合性安全測詴研究 
整合計畫架構圖如圖 2-1 所示，子計畫一負責 Data plane 之高速流量分類
及處理。子計畫三利用頻寬管控機制以維持網路服務品質。子計畫四負責 
Management plane，決定支援網路虛擬化之網路管理政策，子計畫五位於 
Application layer 負責網路安全政策的部分。總計畫負責整合各子計畫以支援網
路虛擬化技術，建置整合測詴環境。 
 © NCKU-EE 
4 
 
3. 本計畫進度規劃及執行情形 
本年度的預定完成進度為以 NetFPGA 平台實作實現一個虛擬化網路實驗環
境，並規劃第二年在真實網路 (Production Network) 實現之整合測詴情境 
(scenario)，以下章節分別介紹此兩部分之進度情形。 
 
3.1. 建置交換/路由協定之實驗環境架設進度 
3.1.1. 實驗環境架設進度 
為實現網路虛擬化的概念，我們以 NetFPGA 平台來實現圖 2-1 的規劃成為
一個網路交換器，該交換器可以運作於網路的 Edge 端 (如圖 3-1 所示)，基本概
念是讓網路設備的功能區隔為資料處理層(Data plane)以及流量控制層(Control 
Plane)，資料處理層的機制主要由子計畫一以 NetFPGA 來實現，因而可以達到網
路處理的線速要求(Wire speed)，子計畫一所實作的流量辨識機制將網路流量區
分成為 flow，藉由流量控制層可以動態的將流量導引致不同的路徑。藉由將網路
流量處理的控制功能區隔開來實作(如圖 3-1 的 controller)，子計畫三與四得以在
flow 的 概念上研究 QoS 與網路管理機制，因而得以在同一網路上實現不同的流
量需求與管理政策，達到將網路虛擬化的計畫目標。本年度中我們已經完成一個
雛形實驗系統的實作，如圖 3-1 所示，其構成為一台 Switch、一台 Controller 和
四台筆電。 Switch 的流量處理功能由 NetFPGA 卡板實作，其有四個埠孔，就分
別接到四台筆電；NetFPGA 卡板本身是插在一台個人電腦上，而該台個人電腦
又插了另外一張網路卡，交換器和控制器的連接就是由該張網路卡。目前的實驗
環境是把資料流和控制流分開，可以把複雜的情況簡化。 
 
 © NCKU-EE 
6 
 
 
圖 3-2 交換路由協定 
 
3.1.3. 預期封包處理流程 
 由於系統中同時有轉送表及資料流表（Flow Table），其優先順序是資料流表
大於轉送表的。由圖 3-3 可以知道該封包處理的流程：封包流入後先檢查資料
流表是否有命中，若有則反應該資料流的動作並更新該資料流的統計資料，若否
則讓該封包走一般交換路由協定的路徑。 
 
 
圖 3-3 預期封包處理流程 
封包流入
更新該entry的
statistics
(Forwarding Table)
Forwarding 
Table hit?
Y
N Flood 
(exclude if_in)
檢查src_mac存
在於Forwarding 
Table
Y
N 把該src_mac記錄於
Forwarding Table中
Forward至指定埠
Do nothing
封包流入
反應該entry的
action
檢查Flow table 
entry?
更新該entry的
statistics
(Flow Table)
查Forwarding Table
走一般switch路徑
(如圖二)
Y
N
 © NCKU-EE 
8 
 
3.2.2. 整合測詴情境一 - QoS 
總計畫整合測詴情境一將網路虛擬化技術應用於 QoS 之測詴情境，如圖 3-5
所示。將網路虛擬化技術與子計畫三可調式的服務品質整合，針對特定網路應
用，以網路虛擬化之技術，切割虛擬路徑提供給該特定應用，與正常流量隔離，
維持其服務品質，達到 service isolation 的目的。 
 
圖 3-5 總計畫測詴情境二 - QoS 
 
 © NCKU-EE 
10 
 
5. 第二年度預期完成之進度 
第二年度預期完成之進度列舉如下： 
 提供 flow table 組態設定整合介面，提供網管人員設定管理政策以管理虛擬
網路。  
 整合各個子計畫，建立整體測詴環境 
 
總計畫持續進行第二年進度之執行。總計畫將整合各子計畫，建立完整網路
虛擬化技術，以建置測詴環境，提供使用者實驗新的網路協定與網路應用。 
於台灣研究網路 TWAREN 骨幹網路建立支援網路虛擬化技術的測詴環境
後，透過國家高速網路中心與美國西北大學 iCAIR 網路維運中心 GigaPOP 進行
國際合作，建立跨國虛擬網路連線，利用 VPLS VPN (Virtual Private LAN Service 
Virtual Private Network) 技術，經由成大電算中心連接成大內部所建置的虛擬網
路，經由國際合作增加本整合計畫之能見度。 
 
98 年度專題研究計畫研究成果彙整表 
計畫主持人：楊竹星 計畫編號：98-2219-E-006-002- 
計畫名稱：網路虛擬化架構之研究與建置--總計畫：網路虛擬化架構之研究與建置(1/2) 
量化 
成果項目 
實際已達
成數（被
接受或已
發表）
預期總達
成數(含實
際已達成
數) 
本計畫
實際貢
獻百分
比 
單位
備註（質化說明：如數個計
畫共同成果、成果列為該期
刊之封面故事...等） 
期刊論文 0 0 100%  
研究報告/技術報
告 0 0 100%  
研討會論文 7 7 100% 
篇
為總計畫與各子計畫共同之成
果, 論文題目為: ＇＇＇＇以
可程式化網路晶片實作高效能
硬 體 防 火
牆＇＇＇＇, ＇＇＇＇基於 DPI 
之 Botnet 流量偵測控管系
統＇＇＇＇, ＇＇＇＇以 DPI
分析流量與網路設備整合之研
究＇＇＇＇, ＇＇＇＇NetFPGA
網路開發平台之實驗與效能量
測 ＇ ＇ ＇ ＇ , ＇＇＇＇ 於
NetFPGA 上教學用之網路管理
實 作 與 實
驗＇＇＇＇, ＇＇＇＇利用決
策樹改善以 FPGA 為基礎之入侵
偵 測 系 統 資 源 利
用＇＇＇＇, ＇＇＇＇以布隆
過濾器為基礎之 FPGA 惡意網路
封包偵測器＇＇＇＇ 
論文著作 
專書 0 0 100%   
申請中件數 3 0 100% 
申請中專利為與子計畫一之共
同成果 
專利名稱為＇＇處理資訊系統
的方法＇＇,＇＇處理資料的裝
置＇＇, 以及 ＇＇控制核心的
方法＇＇等, 目前待審核中 
專利 
已獲得件數 0 0 100% 
件
 
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 20 20 100% 
總計畫及所有子計畫參與學生
(含中途加入) 20 人, 第一年
計畫合計共培育 11 名碩士畢
業生 
國
內 
參與計畫人力 
（本國籍） 
博士生 8 6 100% 
人次
總計畫及所有子計畫參與學生
(含中途加入) 8 人 
課程/模組 0  
電腦及網路系統或工具 0  
教材 0  
舉辦之活動/競賽 0  
研討會/工作坊 0  
電子報、網站 0  
教 
處 
計 
畫 
加 
填 
項 
目 計畫成果推廣之參與（閱聽）人數 0  
