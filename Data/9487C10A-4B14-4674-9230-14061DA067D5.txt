II
目錄
報告內容 1-11 頁
參考文獻 12-15頁
計畫成果自評 16 頁
附件一： Link probability, network coverage, and related properties of wireless ad hoc networks .
附件二： Clustering coefficient of wireless ad hoc networks and the quantity of hidden terminals .
附件三： Expected k-Coverage in Wireless Sensor Networks .
附件四： Computing subgraph probability of random geometric graphs: Quantitative analyses of wireless ad hoc
networks .
附件五：Energy optimization for chain-based data gathering in wireless sensor networks .
附件六：Range-based density control for wireless sensor networks .
2密度，而非節點確實數目 [17, 16, 3, 5,
6]。在此種模型下，一個極小的單位面積
ds 內是否正好存在一個節點是伯努利分
佈 (Binomial Distribution)，機率為 ds。
如果足夠多的節點分佈在足夠大的區域內
（但維持常數），此網路的連結數目可以
用蒲松分佈 (Poisson Distribution) 來趨
近，其平均值 (Mean) 為r2 [5]。許多學
者已根據此種模型研究了無線隨意網路的
一些基本性質，如整個區域皆被無線電波
涵蓋的機率 [17]、產生孤立節點的機率 [5,
3]、以及整個網路是連結的條件 [17, 16, 5,
6]。
然而，由於奠基於蒲松點程序的研究
假設系統區域趨近於無限大，它們實際上
忽略了「邊界效應」所可能造成的估計誤
差。邊界效應指的是位於目標區域邊界的
節點，其鄰居節點數目會小於位於目標區
域中間位置的節點。這是由於位於邊界的
節點其可通訊範圍只有部分會落於目標區
域內。此種效應所造成的影響大小，視通
訊半徑與系統區域邊長的比值而定。一般
而言，邊界效應的影響在合理大小的區域
即相當顯著，因此忽略此種效應所得的結
果在實際應用時會受到相當的限制。這種
模型還有另一個缺點，即節點總數並非可
控制的系統變數，而是一個隨機變數
[19]。蒲松點程序只能控制此隨機變數的
期望值。
我們認為「均勻點分佈」是較為合理
的模型。同時，在分析網路基本性質時，
邊界效應是不可以被忽略的。在相關文獻
中，我們尚未見到採用均勻點分佈模型且
考慮邊界效應的研究。
電力使用問題
電力使用是無線感測網路中最重要的議題
之一。因為感測器先天硬體上的限制，所
能搭載的電池電量有限，所以我們必須要
有效率地使用電力，來延長整個網路運作
的時間。在媒體擷取控制 (Medium Access
Control; MAC) 機制的設計上，可利用睡
眠模式與衝撞預防[37]等技術來達到節省
電力的要求。也有學者[38] 提出以分時多
重擷取 (Time Division Multiple Access;
TDMA) 的方式來分配傳送時間，讓不需
要傳送的節點得以進入睡眠模式，以節省
電力。
有效率的資料傳送方式也是節電設
計的重點。因為無線傳輸的電力消耗與傳
輸距離的二到四次方成正比，因此一個簡
單的節電技巧是感測器不直接傳送資料到
資料匯集點，而是透過其它感測器以多次
轉送的方式 傳送 。 資料匯整 (Data
Aggregation) [39]是另一個節省電力的資
料傳送策略。此種策略由某些感測器收集
來自於其它感測器的資料，彙整合併後再
轉送出去。由於經過彙整、合併、壓縮後
資料量便得較少，耗用在資料傳送上的電
力消耗也會減少。
雖然也有學者認為，間接多重傳送的
方式未必能節省電源，反而有更大的機率
面對節點失去功能的問題[40]，不過就現
有的文獻資料來看，「間接多重傳送」與「資
料彙整」已成為目前國內外學者研究的重
點。各式的資料傳送與彙整方式，如邏輯
鏈 (Chain) [4143]、樹 (Tree) [44, 45]、及
叢集 (Cluster) [4651]等，相繼被提出來。
另外一個較新的研究趨勢，是安排多
餘的感測器輪流進入休眠模式，以節省電
力。有些研究以處於活動 (Active) 模式的
鄰居數目多寡，作為感測器判斷自己是否
進入休眠模式的條件[52]。有些研究以較
精確的方式，安排感測涵蓋面積較小的感
4在感測網路中，如果某塊區域中的所
有可能位置，都位於一群感測器中至少一
個感測器的偵測範圍內，則我們稱此塊區
域被這群感測器所「涵蓋」 (Covered)。
我們欲探討無線感測網路中的一個基本性
質：給定封閉區域，被一個或一群隨機分
佈感測器所涵蓋面積的期望值。這是屬於
所謂的「涵蓋問題」 (Coverage Problem)。
現有文獻中，涵蓋問題有數種不同的
定義。一個可能的定義是探討如何有效涵
蓋一個給定區域。例如，古典的藝廊問題
(Art Gallery Problem) 是決定守衛╱攝影
機的數目與每個守衛╱攝影機的位置，使
得一個多邊形的區域（即藝廊）沒有監視
上的視覺死角[15]。在 [21] 中，作者探討
了 n 個節點以格網 (Grid) 狀放置於正方
形區域時，整個區域皆能被涵蓋的充分必
要條件。涵蓋問題亦被定義成判斷給定的
一群感測器是否能涵蓋整個區域 [10] 或
者涵蓋的區域有多少。
有研究學者延伸涵蓋問題的定義，探
討所謂 k-coverage 的議題。給定任一封閉
區域，其 k-coverage 被定義為至少被 k 個
感測器所涵蓋的面積。
於 [14] 中，Meguerdichian 等人定義
了最差與最佳涵蓋問題，分別為找出涵蓋
度最低與最高的區域。已有學者利用諸如
Voronoi 圖及 Delaunay 三角測量等幾何技
巧來解這些問題 [14, 13]。
在上述涵蓋問題的定義中，每個感測
器的確實位置不是需要被決定（當作問題
的答案）就是需要給定（視為問題的已知
條件）。反觀我們所要探討的問題，只將感
測器位置的機率分佈而非確切位置視為已
知條件。
有兩個因素可能使得我們的問題變
得複雜。第一，每個感測器的感測區域可
能會互相重疊。第二，位於目標區域邊界
的感測器，其感測區域會小於位於目標區
域中間位置的感測器。這是由於位於邊界
的感測器其可感測區域只有部分會落於目
標區域內。這也是邊界效應的影響。
在以往的研究中，Hall [9] 使用所謂
環面規則 (Torus Convention) 來避開邊界
效應所造成的問題。環面規則是將目標區
域視為上下邊界相接且左右邊界相臨。如
此一來，原本為二維空間平面的目標區域
即成為三維空間的環面 (Torus)，而任何一
個感測器的可感測區域均會落於目標區域
內，無論其位置為何。因此，這個研究的
結果只是漸進成立 (Asymptotically true)。
另一個避開邊界效應的作法是所謂
的邊界區域 (Border Zone) 法 [4]。這種方
法不考慮落於邊界區域的節點，只統計感
測區域全部落於目標區域內的感測器。嚴
格來講，這個方法與環面規則都只是“忽
略”了邊界效應的影響，並未真正將邊界效
應的影響計算在內。
於 [17]，作者研究了隨機分佈的圓幾
近涵蓋一個給定區域的條件。此研究所得
的結果成立的條件是建立在給定目標區域
的面積趨近於無限大。當目標區域的面積
趨近於無限大時，邊界效應所造成的影響
即變得微不足道。因此，當應用於合理大
小的目標區域時，此研究所得結果僅為實
際結果之近似值。
涵蓋問題也與其它無線網路的基本
性質如網路連結性 (Connectivity) 有關。
已有學者指出[12]如果涵蓋問題中的感測
半徑視為通訊半徑的一半，則由一群無線
節點所聯合涵蓋的通訊面積擁有下列性
質：如果此面積是非分割的，則這群節點
6測品質下降程度來決定該節點是否可以休
息。
四.研究方法
在找出並驗證「均勻點分佈」模型所具有
的基本性質這部分，我們以連結機率與連
結總數期望值為著手點。
我們直接由均勻分佈的機率密度函
數 (Probability Density Function)與連結成
立的條件推導出連結機率的值。尚未見到
其他學者採取此種直接的估算方式。假設
下列「均勻點分佈」模型參數：n 個感測
器均勻分佈在一個 l m 封閉矩形區域
內；每個感測器具有通訊半徑 rc 與感測半
徑 rs。令任意兩感測器 i 與 j 的位置座標分
別為 (Xi, Yi) 與 (Xj, Yj)。則 i 與 j 形成通訊
連結的機率為





2 2
0 0
2 ),(]Pr[
c cr
u
ur
v
c dvduvuhrVU
其中 U = (Xi - Xj)2, V = (Yi - Yj)2, 且 h(u, v)
為 U 與 V 的聯合機率密度函數 (Joint
Probability Density Function)。因為 U 與 V
互相獨立，上述問題變成求 U 與 V 的機率
密度函數。以 U 為例，假設 F(u)是 U 的機
率 分 佈 函 數 (Probability Distributed
Function)。我們知道
]Pr[]Pr[]Pr[)( 2 uZuZuUuF  .
其中 Z = |Xi - Xj|且 0ul2。要計算 U 的
機率分佈函數，需要一些積分的技巧，但
是要特別注意邊界條件。我們相信這是一
個可以解決的問題。同理 V 的機率密度函
數也可以求得任意連結形成的機率。
連結機率的估算也可以由另一個方
向著手。假設我們可以計算出每個感測器
無線電波的期望涵蓋面積（已考慮邊界效
應），令其為。則兩個感測器形成通訊連
結的機率，即為其中一個感測器落入另一
個感測器通訊範圍內的機率。這個值因為
感測器是均勻分佈的關係，將會是 /
(lm)。這個方法的困難點在於的精確值。
上述兩種計算連結機率的方法可互
相驗證。另外，也可以透過模擬實驗的方
式評量分析的準確度。
另外，我們想出一個方法，可望用來
計算一群感測器涵蓋面積的期望值。令 Cn
為 n 個均勻分佈隨機放置的感測器所涵蓋
的面積。我們可以將感測器的佈建視為一
隨機程序(Stochastic Process)，即以一個接
一個的方式隨機放置。假設已有 n - 1 個感
測器放置好，當我們放入第 n 個感測器
時，這個新放入的感測器將只有部分面積
涵蓋原先 n - 1 個感測器未涵蓋處。令為
此感測器期望感測面積（已考慮邊界效
應），且令為第 n 個感測器期望增加的涵
蓋面積占的比例。我們可以得到 E[Cn+1]=
E[Cn] +。又依據均勻分佈的假設，應
為放置 n - 1 個感測器後，尚未涵蓋面積佔
全部區域面積的比例。因此我們可以得到
A
CA n ]E[ 1 .
其中 A = lm 代表目標區域的總面積。於是
我 們 可 以 得 到 下 列 的 遞 迴 關 係 式
(Recurrence Relation)




  A
C
CC nnn
1
1 1]E[]E[ .
這個問題就可以化簡成解此遞迴關係式與
求出精確值的問題。同樣地，我們可以透
過模擬實驗的方式評量分析的準確度。
五.結果與討論
我們已成功定量分析出下列網路整體性質
8過我們努力的研究後發現，這項工作並不
如想像中容易。
無線感測網路中，每個感測器的期望
連結數目為無線連結的形成機率乘以
n-1 。因此不考慮邊界效應時其值為
pn(n-1)；考慮邊界效應時其值為 pb(n-1)。
在涵蓋面積的計算方面，不考慮邊界
效應時，很顯然地個別感測器的涵蓋面積
為rs2。當考慮邊界效應時，令隨機變數 N
為個別感測器的涵蓋面積。則 N 值視感測
器所在的位置而異。我們利用簡單機率以
及微積分的技巧推導出 N 的期望值為
ml
mlrmrlrr
NE
ssss
2334
4
3
4
3
2
1
][

 . (2)
於計算一群感測器的涵蓋面積 Cn
時，我們利用上一節所述的方法，將感測
器的佈建視為一隨機程序 (Stochastic
Process)，順利推導出 n 個感測器涵蓋面積
的期望值為 [25,27]
A
A
NE
CE n 


 



 ][11][ . (3)
我們在推導過程中，將兩相依事件的
聯合機率以個別發生的機率相乘替代，因
此(3)式只能算是趨近值。不過我們透過模
擬實驗發現(3)式的準確度相當高。圖四顯
示在 10001000 區域中，依照(3)式所計算
出來的感測器覆蓋率與感測器數量和感測
半徑間的關係。
0
20
40
60
80
100
0
100
200
300
400
500
0
20
40
60
80
100
Sensing radiusNumber of sensors
C
ov
er
ag
e
ra
tio
(%
)
圖四：感測器覆蓋率與感測器數量與感測半徑的關
係
至於 k-coverage的計算與計算Cn的觀
念類似。令 jiC 表示隨機佈置 i 個感測器後
被 j-cover 的面積，則對於任何大於等於零
且小於等於 ij 的 d 而言，我們有
][)1(][
0
tdj
di
ttd
d
t
j
i CEppt
d
CE 





 (4)
其中 p 是連結出現的機率。要計算 n 個感
測器的 k-coverage 期望值 ][ knCE ，可根據(4)
式再以 Dynamic Programming 的技巧算出
[27]。
這項研究成果的直接應用將是，給定
目標區域、感測器的數目及可感測範圍，
我們即可明確指出預期會有多少的面積被
感測器涵蓋。同樣地，給定感測器的可感
測範圍及期望涵蓋面積，我們亦可估計需
要多少感測器方能達成。
我們推導出在「均勻點分佈」模型下，
不考慮邊界效應時，任何無線隨意網路（包
括無線感測網路）的群聚係數 c 是個常數
[26]：
4
33
1c . (5)
c 與節點密度或通訊半徑皆無關。我們也
順利推導出了在「均勻點分佈」模型下，
不考慮邊界效應時隱藏終端機數目的期望
值[26]：
2)2)(1(
2
1
npnnn
c  . (6)
結果顯示隱藏終端機數目與節點數目的三
次方與連結機率的平方乘積成正比。
運用同樣的觀念，我們進一步推導出
在無線網路中各種拓樸子結構出現的機率
[36]。
我們的結果顯示，邊界效應是導致許
多基本性質在「均勻點分佈」模型中無法
精確估算或得到精確結果的原因。我們雖
10
S A
CE
F
D B
圖六：使用最少感測器數目達到完全覆蓋的感測器
放置模式
此種設計要面臨的挑戰如下：
1. 量測誤差：信號傳遞問題如環境干擾
及多重路徑衰減都會使得現有的距
離量測技術產生誤差。誤差的程度視
通訊環境而定。在極度糟糕的通訊環
境下，量測誤差有可能高到使任何的
距離量測技術皆無法得到有效結果。
2. 工作競爭：當某個感測器徵求與其距
離為 3 倍感測半徑的鄰居節點成為
工作夥伴時，可能有超過一個以上的
鄰居符合此資格。此種情形下，如何
使這些節點不知道對方存在的情況
下彼此競爭得到唯一的一個勝出
者，是一個設計上的挑戰。
3. 傳輸衝撞：當一個以上鄰近的節點同
時送出協定訊息時，會造成傳輸衝撞
而使得訊息無法順利收到。
以上第一點並非我們協定要克服的
困難。第二點乃是空間上節點的競爭，第
三點乃是時間上節點的競爭。我們以複雜
的計時器設計來解決最後這兩點問題。圖
七是我們設計協定的狀態轉換圖。
Start-up Test
Starting Node
Test succeeded
& Ts expired
Waiting
Co-worker Response
scheduled
Working
Sleep
Sleep eligible
Tc expired
To expired
Sleep eligible
Co-worker
Become a
co-worker
To expired
圖七：我們設計出的密度控制協定狀態變換圖
圖八顯示我們設計出來的協定與
OGDC[55]與 PEAS[52]這兩個具代表性的
密度控制程式，在工作節點數的效能。此
結果是使用 ns2 模擬程式得到的結果。可
以看出用我們設計出來的協定所得到的工
作節點數略多於用 OGDC 所得到的結
果，但是少於用 PEAS 所得到的工作節點
數。這一點是因為 OGDC 擁有位置資訊，
故可以較精確決定所需的工作節點數。我
們的協定與 PEAS 皆未使用位置資訊，但
我們的協定效能表現又較 PEAS 佳。
在涵蓋率的比較方面，這三種密度控
制機制的表現恰好與他們在工作節點數的
效能表現相反（如圖九）。PEAS 有較高的
覆蓋率，其次為我們設計出來的協定，最
差的是 OGDC。可見過分強調使用較少的
工作節點，會影響到覆蓋率的表現。
由於我們設計出來的協定乃是模仿
OGDC 的運作。所以我們進一步比較我們
的協定與 OGDC 的差異。結果如圖十至圖
十一所示。
圖八：不同密度控制程式的工作節點數於(a)5050 網路與(b) 100100 網路
200 400 600 800 1000
15
20
25
30
35
40
45
50
55
Number of sensors
N
um
be
r
of
w
or
ki
ng
no
de
s
(a)
200 400 600 800 1000
40
60
80
100
120
140
160
Number of sensors
N
um
be
r
of
w
or
ki
ng
no
de
s
(b)
Ours
OGDC
PEAS (probing range = 8)
PEAS (probing range = 9)
PEAS (probing range = 10)
Ours
OGDC
PEAS (probing range = 8)
PEAS (probing range = 9)
PEAS (probing range = 10)
12
參考文獻
[1] Ian F. Akyìldìz, Weilian Su, Yogesh Sankarasubramaniam, and ErdalCayirci, “A survey on sensor 
networks,” IEEE Commun. Magazine, vol. 40, no. 8, pp. 102-114, Aug. 2002.
[2] Nirupama Bulusu, Deborah Estrin, Lewis Girod, and John Heidemann,“Scalable coordination for 
wireless sensor networks: Self-configuringlocalization systems,” in Proc. 6th IEEE Int'l Symp. on
Commun. Theory and Application, Ambleside, U.K., Jul. 2001.
[3] Christian Bettstetter, “On the minimum node degree and connectivityof a wireless multihop network,” in
Proc. of ACM Symp. on Mobile Ad Hoc Netw. and Comp., Lausanne, Switerland, Jun. 2002, pp. 80-91.
[4] C. Bettstetter and O. Krause,“On border effects in modeling and simulation of wireless ad hoc
networks,”in Proc. IEEE Int’l Conf. on Mobile and Wireless Commun. Netw., Recife, Brazil, Aug. 2001.
[5] C. Bettstetter and J. Zangl, “How to achieve a connected ad hoc networkwith homogeneous range
assignment: an analytical study with consideration of border effects,” inProc. of 4th IEEE Int’l 
Workshop on Mobile and Wireless Commun. Netw., 2002, pp. 125-129.
[6] Olivier Dousse, Patrick Thiran, and Martin Hasler, “Connectivity inad-hoc and hybrid networks,” in 
Proc. INFOCOM, New York, USA, Jun. 2002, pp. 1079-1088.
[7] Piyush Gupta and P. R. Kumar, “Critical power for asymptotic connectivity in wireless networks,” in
W.M. McEneaney, G. Yin, and Q. Zhang, editors, Stochastic Analysis, Control, Optimization and
Applications: A Volume in Honor of W.H. Fleming, Birkhauser, Boston, 1998.
[8] Piyush Gupta and P. R. Kumar, “The capacity of wireless networks,”IEEE Trans. Inform. Theory, 46(2):
384-404, 2000.
[9] P. Hall, Introduction to the Theory of Coverage Processes, John Wiley and Sons, 1988.
[10] Chi-Fu Huang and Yu-Chee Tseng,“The coverage problem in a wireless sensor network,” inACM Int’l 
Workshop on Wireless Sensor Networks and Applications, Sep. 2003, pp.115-121
[11] L. Kleinrock and J. Silvester, “Optimum transmission radi for packetradio networks or why six is a
magic number,” in Proc. IEEE 1978 Natl. Telecomm. Conf., 1978, pp. 4.3.1-4.3.5.
[12] Kubisch et al., “Distributed algorithms for transmission power control in wireless sensor networks,” in 
Proc. IEEE Wireless Commun. and Netw. Conf. (WCNC), Mar. 2003, pp. 558-563.
[13] Xiang-Yang Li, Peng-Jun Wan, and Ophir Frieder, “Coverage in wireless ad hoc sensor networks,” IEEE
Trans. Comput., 52(6): 1-11, Jun. 2003.
[14] S. Meguerdichian, F. Koushanfar, M. Potkonjak, and M.B. Srivastava,“Coverage problems in wireless 
ad-hoc sensor networks,” in Proc. IEEE INFOCOM, Apr. 2001, pp. 1380-1387.
[15] J. O'Rourke, Art Gallery Theorems and Algorithms, Oxford University Press, New York, NY, 1987.
[16] P. Piret, “On the connectivity of radio networks,” IEEE Trans. Inform. Theory, 37(5): 1490-1492, 1991.
[17] Thomas K. Philips, Shivendra S. Panwar, and Asser N. Tantawi, “Connectivity properties of a packet 
radio network model,” IEEE Trans. Inform. Theory, 35(5): 1044-1047, Sep. 1989.
[18] Paolo Santi and Douglas M. Blough, “An evaluation of connectivity inmobile wireless ad hoc
networks,” in Proc. of IEEE Conf. on Dependable Syst. and Netw., 2002, pp. 89-98.
14
Canada, May 2006, pp. 170-177. (本計畫之論文發表)
[36] C. W. Yu and Li-Hsing Yen,“Computing subgraph probability of random geometric graphs:
Quantitative analyses of wireless ad hoc networks,”25th IFIP WG 6.1 Int'l Conf. on Formal Techniques
for Networked and Distributed Systems, Oct. 2005, published in Lecture Notes in Computer Science, vol.
3731, pp. 458-472. (本計畫之論文發表)
[37] Wei Ye, J. Heidemann, and D. Estrin,“An energy-efficient MAC protocol for wireless sensor networks,”
in Proc. IEEE INFOCOM, Jun. 2002, pp. 1567-1576.
[38] Pei Guangyu and C. Chien,“Low power TDMA in large wireless sensor networks,”in Proc. IEEE
MILCOM, Oct. 2001, vol. 1, pp. 347-351.
[39] L. Krishnamachari, D. Estrin, and S. Wicker,“The impact of data aggregation in wireless sensor
networks,”in Proc. IEEE ICDCS Workshops, Jul. 2002, pp. 575-578.
[40] B. Krishnamachari, Y. Mourtada, and S. Wicker,“The energy-robustness tradeoff for routing in wireless
sensor networks,”in Proc. IEEE ICC, May 2003, pp. 1833-1837.
[41] S. Lindsey and C. S. Raghavendra,“PEGASIS: Power-efficient gathering in sensor information
systems,”in Proc. IEEE Aerospace Conf. Proc., Mar. 2002, pp. 1125-1130.
[42] S. Lindsey, C. Raghavendra, and K. Sivalingam,“Data gathering algorithms in sensor networks using
energy metrics,”IEEE Trans. Parallel and Distr. Syst., 13(9): 924-935, Sep. 2002.
[43] Kemei Du, Jie Wu, and D. Zhou,“Chain-based protocols for data broadcasting and gathering in the
sensor networks,”in Proc. Int'l Parallel and Distr. Processing Symp., Apr. 22-26, 2003, pp. 260 -267.
[44] V. Annamalai, S. K. S. Gupta, L. Schwiebert,“On tree-based convergecasting in wireless sensor
networks,”in Proc. IEEE Wireless Commun. and Netw. Conf., Mar. 2003, pp. 1942 -1947.
[45] S. Upadhyayula, V. Annamalai, and S. K. S. Gupta,“A low-latency and energy-efficient algorithm for
convergecast in wireless sensor networks,”in Proc. IEEE GLOBECOM, 2003.
[46] W. R. Heinzelman, A. Chandrakasan, and H. Balakrishnan,“Energy-efficient communication protocol
for wireless microsensor networks,”in Proc. 33rd Annual Hawaii Int'l Conf. on Syst. Sciences, Jan. 2000,
pp. 3005-3014.
[47] W. Heinzelman, A. Chandrakasan, and H. Balakrishnan,“An application-specific protocol architecture
for wireless microsensor networks,”IEEE Trans. Wireless Commun., 1(4): 660 -670, Oct. 2002.
[48] Chih-Shun Hsu and Jang-Ping Sheu,“Initialization protocols for IEEE 802.11-based ad hoc networks,”
in Proc. 9th Int'l Conf. on Parallel and Distr. Syst., Dec. 2002, pp. 273-278.
[49] M. A. Youssef, M. F. Younis, and K.A. Arisha,“A constrained shortest-path energy-aware routing
algorithm for wireless sensor networks,”in Proc. IEEE WCNC, Mar. 2002, pp. 794-799.
[50] R. Krishnan and D. Starobinski,“Message-efficient self-organization of wireless sensor networks,”in
Proc. IEEE Wireless Commun. and Netw, Mar. 2003, pp. 1603-1608.
[51] G. Gupta and M. Younis,“Load-balanced clustering of wireless sensor networks,”in Proc. IEEE ICC,
May 2003, pp. 1848-1852.
[52] Fan Ye, G. Zhong, Songwu Lu and Lixia Zhang,“PEAS: a robust energy conserving protocol for
long-lived sensor networks,”in Proc. 23rd International Conference on Distributed Computing Systems,
16
計畫成果自評
本研究計畫成果符合原先預期。計畫成果已有一部份（群聚係數與隱藏終端機數目）發
表在 2005 年 3 月份的 IEEE Communications Letters 上（見參考文獻[26]），還有一部份
（連結機率、期望連結數目、聯合連結機率、與期望涵蓋）發表在 2004 年於美國佛羅
里達舉行之 1st IEEE Int'l Conf. on Mobile Ad-hoc and Sensor Systems 會議上（見參考文獻
[25]）。我們並擴充了期望涵蓋與 k-coverage 這部分的內容，發表在 Ad Hoc Network 期刊
上（參考文獻[27]）。我們推導出的在無線網路中各種拓樸子結構出現的機率，發表在
25th IFIP WG 6.1 Int'l Conf. on Formal Techniques for Networked and Distributed Systems
（參考文獻[36]）。
在省電的資料傳送機制方面，我們探討的如何建立較佳的鍊結構，與最佳的鍊首節
點(Header)排程，成果發表在 The 2nd European Workshop on Wireless Sensor Networks（見
參考文獻[34]），後續成果並已被 International Journal of Communication Systems 期刊接
受。密度控制協定方面，我們設計出的不需位置資訊，僅需要知道訊息傳送與接收節點
間距離的協定，已發表在 The 4th Annual Communication Networks and Services Research
Conference（參考文獻[35]）。目前正在修改，準備投稿至國際期刊。
總計此二年期研究計畫已發表三篇國際期刊論文及四篇國際研討會論文，研究成果
具有一定之學術價值。但若要增加其應用價值，須將所得結果應用在感測網路的協定設
計上，這方面正是我們後續還要努力的目標。在申請專利方面，目前評估並不適合。
50 100
150 200
250 300
50
100
150
200
250
300
350
0
50
100
150
Number of nodesRadio radius
D
eg
re
e
Fig. 1. Expected degree for n = 10 to 300 and r = 50 to 350 in a
1000× 1000 rectangle.
Theorem 1: In an 〈n, r, l,m〉-network, the occurrence prob-
ability of link 〈i, j〉 between any two distinct nodes i and j is
(12r
4 − 43 lr3 − 43mr3 + πr2ml)/m2l2.
Proof: Link 〈i, j〉 forms if and only if the distance
between them is not greater than r. Thus the probability of
link 〈i, j〉 is Pr[Ui + Vi ≤ r2] =
∫ r2
0
∫ r2−u
0
h(u, v)dvdu,
where Ui = (Xi −Xj)2, Vi = (Yi − Yj)2, and h(u, v) is the
joint p.d.f. for Ui and Vi. Since Ui and Vi are independent,
we have h(u, v) = f(u)g(v), where f(u) and g(v) are as
defined in Lemma 2. It follows that Pr[Ui + Vi ≤ r2] =
(12r
4 − 43 lr3 − 43mr3 + πr2ml)/m2l2.
Theorem 1 indicates that the probability of link 〈i, j〉
depends on the values of m, l, and r but not on i, j, or n,
and all links have equal probability. The result of identical
link probability does not contradict the thought that link
occurrences are correlated.
Given n random variables Ri, where i = 1 to n, it is known
[4] that E[R1+R2+· · ·+Rn] = E[R1]+E[R2]+· · ·+E[Rn]
regardless whether Ri’s are independent to each other. Since
each node may have n − 1 links and there are potentially
n(n−1)/2 links between n nodes, we have the following two
corollaries.
Corollary 1: The average (expected) node degree in an
〈n, r, l,m〉-network is (n − 1)(12r4 − 43 lr3 − 43mr3 +
πr2ml)/m2l2.
Corollary 2: The expected number of links in an
〈n, r, l,m〉-network is n(n − 1)( 12r4 − 43 lr3 − 43mr3 +
πr2ml)/2m2l2.
Fig. 1 shows the expected degree estimated by Corollary 1 for
various n and r.
Theorem 2: In an 〈n, r, l,m〉-network with r ≤
min(l/2,m/2), the expected transmission coverage area
of a single node is φ = ( 12r
4 − 43 lr3 − 43mr3 + πr2ml)/ml.
Proof: It is straightforward since link probability derived
in Theorem 1 is equal to φ/lm. The result has also been
confirmed by geometric computation (for details, refer to [5]).
III. EXPECTED NETWORK COVERAGE
Let Cn be the expected area jointly covered by n randomly
placed nodes, referred to as network coverage. We want to
express Cn in terms of expected node coverage φ.
The deployment of nodes can be thought of as an iterative
process that places nodes one by one. Suppose n − 1 nodes
0
20
40
60
80
100
0
100
200
300
400
500
0
20
40
60
80
100
Number of nodesRadio radius
Co
ve
ra
ge
 ra
tio
 (%
)
Fig. 2. Ratios of the theoretical network coverage to the whole system area,
with n ranging from 1 to 99 and r ranging from 1 to 491.
have already been placed. When we add the nth node to the
(n− 1)-node network, the extra coverage area contributed by
this newly placed node is a portion of its node coverage. Let ρn
denote the proportion of this portion to the node coverage. Cn
can be expressed as a recurrence relation as Cn = Cn−1+ρnφ.
Since nodes are uniformly distributed, ρn is expected to be the
proportion of the uncovered area to the whole target area. Thus
we have ρn = (A−Cn−1)/A, where A denotes the area of the
target region. It turns out that Cn = Cn−1 + (1−Cn−1/A)φ.
Since C1 = φ, solving this recurrence relation yields
Cn = [1− (1− φ/A)n]A. (1)
Eq. (1) holds for any shape of target region as well as for any
shape of node’s coverage. Let us focus on l ×m rectangular
where A = lm and, if border effects are not taken into account,
φ = πr2. Eq. (1) becomes
Cn = [1− (1− πr2/lm)n]lm. (2)
This is a rough estimation for expected network coverage. The
following theorem gives us a precise estimation considering
border effects.
Theorem 3: For an 〈n, r, l,m〉-network with l ≥ 2r and
m ≥ 2r, the expected area collectively covered by all nodes
is
Cn =
[
1−
(
m2l2 − 12r4 + 43 lr3 + 43mr3 − πr2ml
m2l2
)n]
lm
.
Proof: We have A = lm for an l × m rectangle. By
Theorem 2 and (1), we obtain the result.
Fig. 2 shows the ratios of the theoretical network coverage
to the whole system area for various n and r.
IV. LINK DEPENDENCY
Many researchers (e.g., [1]) have pointed out that link
occurrences are not independent events. Their arguments are
mainly based on a three-link scenario: the event that both link
〈X,Y 〉 and link 〈X,Z〉 show up is not independent of the
event that 〈Y,Z〉 exists. However, few studies have reported
on the dependency of any two links.
Two links that share no common endpoint node are obvi-
ously independent to each other. Let X , Y , and Z be three
nodes and consider LXY , the event that link 〈X,Y 〉 exists, and
526
Member, IEEE, and Yang-Min Cheng
Abstract— Clustering coefficient has been proposed to char-
acterize complex networks. Hidden terminals may degrade the
performance of CSMA (carrier sense multiple access) protocol.
This letter computes analytically the clustering coefficient and the
quantity of hidden terminals for ad hoc networks. The former
turns out to be a constant and the latter is proportional to n p ,
where n is the number of nodes and p is the link probability. The
connection between them has been established, and simulation
results confirm our analytic work.
Index Terms— Hidden terminal, clustering coefficient, ad hoc
networks, multihop networks.
I. INTRODUCTION
NETWORKS of complex topology such as social net-works and the Internet were traditionally modeled as
random graphs [1]. In Watts and Strogatz’s pioneer work [2],
they recognized that many real systems are better described
as ‘small-world’ networks rather than random graphs. Small-
world networks differ from random graphs in the tendency of
clustering, or cliqueness, which is the extent to which a node’s
neighbors are also neighbors to each other. Specifically, for
node having i neighbors, at most i links may
exist between these neighbors. Let i be the total number
of links that exist among ’s neighbors. Node ’s clustering
coefficient, i, is defined to be i i . The clustering
coefficient of the whole network is the average of all individual
i’s.
Clustering coefficients of random graph, regular network
[2], and small-world network have been well investigated [3].
To the best knowledge of the author, however, the clustering
coefficient of mobile ad hoc (multi-hop) networks (MANETs)
has not yet been known. In this letter, we have computed
analytically the clustering coefficient of MANET under the
assumption of uniform location model (Section II).
Hidden terminals refer to a pair of nodes that cannot sense
each other but have at least one common neighbor node [4].
Transmission collisions may occur between hidden terminals,
which cannot be prevented by carrier sensing. The existence
of hidden terminals thus degrades the performance of CSMA
(carrier sense multiple access) protocol substantially [5]. There
have been extensive schemes proposed to deal with hidden
terminal problems (e.g., RTS/CTS-like handshake [6], [7]).
Manuscript received July 20, 2004. The associate editor coordinating the
review of this letter and approving it for publication was Dr. Carla-Fabiana
Chiasserini. This work has been supported by the National Science Council,
ROC, under grant NSC 93-2213-E-216-024.
The authors are with the Department of Computer Science and Informa-
tion Engineering, Chung Hua University, Hsinchu, Taiwan, ROC (e-mail:
lhyen@chu.edu.tw).
Digital Object Identifier 10.1109/LCOMM.2005.03017.
However, little research has been done on quantifying hidden
terminals for a given MANET. We also have analyzed the
number of hidden terminals and found its connection to the
clustering coefficient (Section III).
II. CLUSTERING COEFFICIENT OF MANET
Definition 1: An -network is a MANET that
possesses the following properties:
The network consists of nodes placed in an
rectangle area.
The position of each node is a random variable uniformly
distributed over the given area.
Each node has a transmission radius of a uniform length
.
A link exists between two nodes that are within the
transmission range of each other1.
A wireless node is said to cover a region if every point in
this region is within the node’s radio transmission range. A
node placed near system boundary will cover less system area
than expected, as part of its coverage region is outside the
system. This is referred to as border effects. To avoid clumsy
results brought by border effects, we use torus convention
[8], which turns the rectangle area into a torus such that the
region covered by any node is considered completely within
the system. Torus convention leads to the following property.
Lemma 1: The link probability (namely, the probability of
occurrence of any link) in an -network with torus
convention is when .
We must further restrict ’s maximum value to
when torus convention is used. The reason
is that two nodes that are not neighbors but have a common
neighbor can be distanced up to from each other. When
torus convention is used and the distance between them is
only slightly less than , they may be incorrectly recognized
as neighbors on the opposite direction if ,
making our analysis imprecise.
The following two lemmas are essential in our derivation.
Lemma 2: [9] Given random variables i, where
to , m m
regardless whether i’s are independent to each other.
Lemma 3: The expected area jointly covered by two neigh-
boring nodes is
Proof: See Appendix.
1This is a simplified model as only path loss is taken into account.
1089-7798/05$20.00 c 2005 IEEE
236 IEEE COMMUNICATIONS LETTERS, VOL. 9, NO. 3, MARCH 2005
A
B
O
O’
X
Fig. 3. Two circles intersect each other.
high error when r > 350 with torus convention. The measured
result obtained by not using torus convention follows the same
trend as the theoretical estimation, but with a different scale.
IV. CONCLUSIONS
We have formulated the clustering coefficient of MANETs,
which turns out to be a constant with torus convention. The
number of hidden terminals in a MANET is proportional to
n3p2, where n is the number of nodes and p is the link
probability. Simulation results have confirmed the accuracy
of our computation.
REFERENCES
[1] B. Bolloba´s, Random Graphs, 2nd ed. Cambridge University Press,
2001.
[2] D. J. Watts and S. H. Strogatz, “Collective dynamics of ‘small-world’
networks,” Nature, vol. 393, pp. 440–442, June 1998.
[3] R. Albert and A.-L. Baraba´si, “Statistical mechanics of complex net-
works,” Reviews of Modern Physics, vol. 74, pp. 47–97, Jan. 2002.
[4] F. A. Tobagi and L. Kleinrock, “Packet switching in radio channels: Part
II - the hidden terminal problem in carrier sense multiple-access modes
and the busy-tone solution,” IEEE Trans. Commun., vol. 23, pp. 1417–
1433, Dec. 1975.
[5] C. L. Fullmer and J. Garcia-Luna-Aceves, “Solutions to hidden terminal
problems in wireless networks,” in Proc. SIGCOMM, Cannes, France,
1997, pp. 39–49.
[6] P. Karn, “MACA: A new channel access method for packet radio,”
in Proc. of ARRL/CRRL Amateur Radio 9th Computer Networking
Conference, Sept. 1990, pp. 134–140.
[7] V. Bharghavan, A. Demers, S. Shenker, and L. Zhang, “MACAW: A me-
dia access protocol for wireless LAN’s,” in Proc. of ACM SIGCOMM’94,
London, England, 1994, pp. 212–225.
[8] P. Hall, Introduction to the Theory of Coverage Processes. John Wiley
and Sons, 1988.
[9] E. R. Dougherty, Probability and Statistics for the Engineering, Comput-
ing, and Physical Sciences. Prentice-Hall, Inc., 1990, p. 238.
APPENDIX
Suppose that two nodes of transmission radius r located
at O and O′ are neighbors, with the distance between them
X ≤ r (X is a random variable). We want to calculate the
expected area of the lens-shaped region that is jointly covered
by these two nodes. Let A and B be two distinct intersecting
points of these two circles (refer to Fig. 3). The area of each
half of the “lens” is equal to the area of sector OAB minus
the area of triangle OAB. Let θ =  AOB be the central angle
given X , where 2π/3 ≤ θ ≤ π. We have
X = 2r cos(θ/2).
The area of triangle OAB is[
2r sin
(
θ
2
)
X
2
2
]
= r2 sin
(
θ
2
)
cos
(
θ
2
)
=
r2 sin θ
2
.
So the area of the lens is
2
[
πr2θ
2π
− r
2 sin θ
2
]
= r2(θ − sin θ).
Let F (x) be the probability distribution function (p.d.f.) of
X . Since nodes are uniformly distributed, Pr[X ≤ x] is
proportional to the area of the circle having radius x and being
centered at O. Therefore,
F (x) = Pr[X ≤ x] = πx
2
πr2
=
x2
r2
.
Since θ = 2arccos(X/2r), the p.d.f. of θ is
G(y) = Pr
[
2π
3
≤ θ ≤ y
]
= Pr
[
2r cos
y
2
≤ X ≤ r
]
= F (r)− F
(
2r cos
y
2
)
= −2 cos y − 1.
It follows that the probability density function of θ is g(y) =
G′(y) = 2 sin y. Therefore, the expected area of the lens-
shaped region that is jointly covered by O and O′ is∫ π
2π
3
r2(θ − sin θ)(2 sin θ)dθ = r2
(
π − 3
√
3
4
)
.
network: the area that can be covered by at least k
out of n sensors randomly placed in a bounded
region. This is referred to as k-coverage [3,4] and
the problem of evaluating k-coverage is a form
of so-called coverage problem.
In the literature, the coverage problem has been
formulated in various ways. A related but diﬀerent
formulation is asking how to eﬀectively cover a gi-
ven region. For example, the Art Gallery Problem
is to determine the number of guards/cameras
and the position of each guard/camera that are
necessary to visually cover a polygonal region
(the art gallery) [5]. Shakkottai et al. [6] have con-
sidered the necessary and suﬃcient conditions for
covering a sensor network with nodes arranged
in a grid over a square region. The coverage prob-
lem has also been formulated as to determine
whether or how well a given set of sensors covers
a region [3]. In [7], Meguerdichian et al. deﬁned
worst and best case coverage problems, which
are to identify regions of low and high observabil-
ity, respectively. Geometry techniques such as
Voronoi diagram and Delaunay triangulation
have been used in solving these problems [7,8].
For other deﬁnitions of coverage problem, refer
to the survey in [9].
In the aforementioned context, one either needs
to determine (as an output) or is given (as an in-
put) the exact position of every sensor. In contrast,
it is the distribution of sensor positions rather than
exact position of every sensor that is assumed in
our problem setting.
The problem of estimating k-coverage is com-
plicated by two factors. First, region covered by
each sensor may overlap one another in a stochas-
tic way. Second, a sensor placed near the border of
the deployment region will cover less area than
sensors placed midway, since not all its disk-
shaped sensory region will be within the deploy-
ment area. This is referred to as border eﬀects.
Prior work [10,11] established approximations or
asymptotic bounds for 1-coverage problem. In
contrast, we have formulated an exact mathemati-
cal expression for expected k-coverage in face of
border eﬀects. To the best knowledge of the
authors, this is the ﬁrst study that achieves this.
A direct application of our result is that given a
deployment area and the number of sensors with
their sensory range, one can easily point out what
level of coverage can be expected. Equivalently,
given sensors sensory range and the expected cov-
erage ratio, one can estimate the number of sensors
to be deployed. For a power conserving scheme
that allows each sensor to periodically power oﬀ
its sensory circuitry without coordinations with
others, our ﬁnding helps in determining the ac-
tive-to-sleep ratio for a desired network coverage.
The rest of the paper is organized as follows.
Problem deﬁnition and related work are presented
in the next section. Section 3 analyzes the expected
network coverage. Section 4 discusses the applica-
tions of our ﬁnding, including a node scheduling
scheme. Simulation model and numerical results
are described in Section 5. Section 6 concludes
our work.
2. Problem deﬁnition and related work
We assume that each sensor can detect events
that are within distance r from it, where r is called
sensory range. The area of the region that is cov-
ered by a sensor is deﬁned to be the sensors node
coverage. Let N be a random variable denoting a
nodes coverage. N is pr2 if the sensors sensory re-
gion is properly contained in the deployment area.
However, when a sensor is placed near the border
of the deployment region, N is expected to be less
than pr2 due to border eﬀects. A region is said to
be k-covered if every location within it is covered
by at least k sensors. Deﬁne k-coverage to be the
size of the k-covered region after a number of
sensors have been randomly placed. We want to
express the expected value of k-coverage in terms
of E[N].
Traditionally, only 1-coverage is of interest. In
[11], Philips et al. analyzed the condition that a
given area is 1-covered with high probability by
randomly located circles. Their analysis was done
under the assumption of Poisson point process
[11–15], which assumes a ﬁxed density of nodes k
instead of the exact number of nodes n. With this
modeling, whether an elemental area ds contains
exactly one node is a binomial distribution with
probability dsk. For a suﬃciently large number
of nodes deployed within a suﬃciently large
L.-H. Yen et al. / Ad Hoc Networks 4 (2006) 636–650 637
any working neighbor. PEAS does not guarantee
100% network coverage, yet energy has to be
consumed on transmitting and receiving probe
messages.
A uncoordinated scheme, on the other hand,
demands neither positioning nor communications
overhead. However, it is intrinsic that 100%
network coverage cannot be guaranteed. In this pa-
per, we present a uncoordinated node scheduling
scheme that ensures expected network coverage.
3. Network coverage estimate
The deployment of n sensors can be modeled as
a stochastic process that places sensors one by one
according to a uniform distribution over R. For all
1 6 i 6 n, let Ni denote the size of the region that is
covered by the ith placed sensor. Nis are iid ran-
dom variables with p.d.f. 1/A over R, where A is
the size of R. Therefore,
E½Ni ¼ E½N  ¼ 1A
Z Z
R
dðx; yÞdy dx; ð1Þ
where d(x, y) denotes the area covered by a node
located at location (x, y) 2 R. When border eﬀects
are not taken into account, d(x, y) = pr2 for all
(x, y) 2 R and E[N] = pr2. We shall derive E[N]
with the consideration of border eﬀects latter in
this section.
Let us start with 1-coverage, based on which the
estimate of k-coverage can be obtained. When a
node is placed, only a portion of its node coverage
gives extra 1-coverage. Let Xi denote the extra 1-
coverage area contributed by the ith placed sensor
and Ci be the random variable denoting the size of
the 1-covered region collectively oﬀered by i ran-
domly placed nodes. We have E[C1] = E[X1] =
E[N] and Ci = Ci1 + Xi for all i, 2 6 i 6 n. In
the latter case, E[Ci] = E[Ci1 + Xi]. Although
Ci1 and Xi are correlated (a larger Ci1 often im-
plies a smaller Xi and vise versa), we still have
E[Ci] = E[Ci1] + E[Xi] due to the linearity of ex-
pected value (which states that, given m random
variables Ri, where i = 1 to m, E[R1 + R2 +
   + Rm] = E[R1] + E[R2] +    + E[Rm] regard-
less whether Ris are independent to each other
[23]). Let Fi = Xi/Ni be the proportion of the extra
coverage area contributed by the ith placed sensor
to its node coverage. It follows that E[Ci] =
E[Ci1] + E[FiNi].
If border eﬀects are ignored, E[Ni] = pr
2 by (1),
a constant that is independent of Fi, so E[FiNi] =
E[Fi] · E[Ni]. If border eﬀects must be considered,
Fi and Ni are correlated.
1 This can be justiﬁed as a
smaller Ni implies that the ith node is closer to the
boundary, while a larger Ni implies that the node is
around the central region. Given Ci1, the value of
Ni thus has an eﬀect on the distribution of Fi,
though the eﬀect may not be signiﬁcant. Neverthe-
less, we propose to approximate E[FiNi] by
E[Fi] · E[N], where E[N] is the expected node cov-
erage when border eﬀects are taken into account.
Note this does not imply that we assume the inde-
pendence between Fi and N or, equivalently,
ignore border eﬀects.
As sensor nodes are uniformly distributed, Fi is
expected to be the proportion of the uncovered
area to the whole deployment area. Thus we have
E½F i ¼ A E½Cn1A .
It turns out that
E½Ci ¼ E½Ci1 þ 1 E½Ci1A
 
E½N . ð2Þ
Since E[C1] = E[N], solving E[Cn] by (2) yields
E½Cn ¼ 1 1 E½N A
 n 
A. ð3Þ
E[N]/A is known to be the probability of link
occurrence p if the sensory range is viewed as the
range of radio communications [24]. Therefore,
(3) can also be expressed as E[Cn] = [1 
(1  p)n]A.
Eq. (3) holds for any shape of deployment
region as well as for any shape of nodes coverage
region. It is consistent with the intuition that
limn!1E[Cn] = A and the experimental observa-
tion [7] that after deploying some number of
sensors, additional sensors do not improve
1-coverage signiﬁcantly.
1 In fact, it is border eﬀects that makes Fi and Ni dependent.
Border eﬀects are also the cause of the dependency between any
two links in MANETs [24].
L.-H. Yen et al. / Ad Hoc Networks 4 (2006) 636–650 639
Since 0 6 u 6 r, /B can be computed as
1
r
Z r
0
fBðuÞdu ¼ 1r
Z r
0
u
ﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃ
r2  u2
p
du
 
þ pr
Z r
0
du r
Z r
0
arccos
u
r
	 

du.
It turns out that
/B ¼ p
2
3
 
r2. ð9Þ
3.2. Computing /C
Let the distances from a node located in C to
the two borders of the rectangle be u and v, respec-
tively (refer to Fig. 3). Depending on the location
of the sensor node, two cases are possible.
1. The distance to the corner is less than r
(Fig. 3a).
2. The distance to the corner is larger than or
equal to r (Fig. 3b).
Let /C1 and /C2 denote the expected coverage
in Cases 1 and 2, respectively. We have
/C ¼ Pr½C1jC/C1 þ Pr½C2jC/C2; ð10Þ
where C1 and C2 denote the events that the loca-
tion of the node belongs to Cases 1 and 2, respec-
tively. Due to uniform distribution of nodes
location, Pr[C1jC] and Pr[C2jC] account for the
proportion of the area where the respect case is
concerned. Thus we have
Pr½C1jC ¼ 1=4pr
2
r2
¼ p
4
and
Pr½C2jC ¼ 1 p
4
. ð11Þ
We then compute /C1. Let fC1(u, v) denote the
overlapped area of the nodes sensory region and
the deployment region in Case 1. By geometry
we have (refer to Fig. 3a)
fC1ðu; vÞ ¼ uvþ u
ﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃ
r2  u2
p
2
þ v
ﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃ
r2  v2
p
2
þ 1 arccosð
u
rÞ þ arccosðvrÞ þ p2
2p
 
pr2.
The expected area is
/C1 ¼
1
1
4
pr2
Z r
0
Z ﬃﬃﬃﬃﬃﬃﬃﬃr2u2p
0
fC1ðu; vÞdvdu.
Due to space limitation, we omit tedious computa-
tion details here and simply show the result (for
details, refer to [26])
/C1 ¼
ðp2 þ 1Þr2
2p
. ð12Þ
Let fC2(u, v) denote the overlapped area of the
nodes sensory region and the deployment region
in Case 2. We have (refer to Fig. 3b)
fC2ðu; vÞ ¼ u
ﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃ
r2  u2
p
þ v
ﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃ
r2  v2
p
þ 1 arccosð
u
rÞ þ arccosðvrÞ
p
 
pr2.
Similar technique used in computing /C1 can be
used here. It turns out that
/C2 ¼
4r2
	
p 4
3
 p
2
8


4 p . ð13Þ
By (10)–(13), we have
/C ¼ p
29
24
 
r2. ð14Þ
r
r
u r
Fig. 2. A sensor node located in region B.
r
r
u
v
r-v
r
v
u
r-u
r
r
r
(a) (b)
Fig. 3. Two cases of a sensors location in region C.
L.-H. Yen et al. / Ad Hoc Networks 4 (2006) 636–650 641
in terms of p as 1  (1  p)n. Letting it be 1  ,
where 0 <  < 1, we have p ¼ 1 1n and the
expected link degree is f ðnÞ ¼ ðn 1Þð1 1nÞ.
Since f 0ðnÞ ¼ ð1 1nÞ þ ðn 1Þðn21n ln Þ > 0 for
all n > 1, f(n) is monotonically increasing when
n > 1. To derive the limit of f(n) when n
approaches inﬁnity, let t = 1/n and we have
lim
n!1
ðn 1Þð1 1nÞ ¼ lim
t!0
ð1 tÞð1 tÞ
t
.
By LHoˆpitals rule,
lim
t!0
ð1 tÞð1 tÞ
t
¼ lim
t!0
ð1 tÞ þ ð1 tÞðt ln Þ
1
¼  ln .
Therefore, the expected link degree is upper-
bounded by ln . h
Higher link degree usually indicates higher de-
gree of channel contentions and thus poor link
performance in case of contention-based medium
access control (MAC) protocol. Theorem 4 there-
fore implies that if contention-based MAC proto-
col (such as CSMA/CA) is used in sensor
networks, the degree of channel contentions can
be bounded yet a particular ENCR can be
ensured.
The result also has theoretical relevance to
other fundamental properties such as network
connectivity. Let rt denote the radio communica-
tion range of every sensor. It has been pointed
out [15] that, given rt = 2r, a set of communication
units are in the same connected component (con-
nected) if the area jointly 1-covered by these units
(with sensory range r) is not partitioned. Intui-
tively, one would not expect separately covered
area with a suﬃciently high coverage ratio. In fact,
it has been proven recently [20,4] that rt = 2r
suﬃces to ensure network connectedness on the
premise of 100% coverage ratio.
The probability of link occurrence becomes
4E[N]/A if rt = 2r. Accordingly, the expected link
degree is upper-bounded by 4 ln  for ENCR =
1  .
We now demonstrate the utility of our result by
presenting a uncoordinated node scheduling
scheme. It works as follows:
• Each node independently alternates between
active and sleep modes. The decision of switch-
ing from active to sleep modes or vise versa
is purely stochastic. The time periods of
active and sleep modes are exponentially dis-
tributed random variables with means ka and
ks, respectively.
• The probability of any node being in active
mode initially is pa = ka/(ka + ks).
Suppose that a node has entered active and
sleep modes for m times. The total time that the
node stays in active and sleep modes are k-Erlang
distributions with means mka and mks, respec-
tively. Therefore, the probability that a node is in
active mode at any given time is mka/(mka +
mks) = pa. Since the states of nodes are not corre-
lated, the number of active nodes at any given time
forms a binomial distribution with mean npa.
Therefore, npa nodes are expected to be active at
any time and the expected network coverage can
be estimated by substituting npa for n in Theorem
2. A merit of this approach is that, though the
method is stochastic in nature, it is deterministic
to set the values of parameters ka and ks for a de-
sired network coverage. This is not possible with-
out the help of our theoretical ﬁnding.
The above node scheduling scheme is similar to
that proposed in [19], where all nodes randomly
and independently switch operating modes on a
time-slot basis. The assumption of time slots im-
plies that all sensors are clock-synchronized, which
incurs additional communications overhead. The
authors have analyzed the probability of a point
being uncovered under the assumption of Poisson
point process. Given that a sensor is in active mode
with probability pa (calculated as a long-term aver-
age), the probability that a given point is uncovered
in a given time slot has been shown to be
exp(pakpr2). This is consistent with Halls result
on the ratio of uncovered area, as the node sched-
uling eﬀectively drops node density from k to pak.
5. Simulation results
We conducted additional experiments to dem-
onstrate the accuracy of our theoretical ﬁndings.
L.-H. Yen et al. / Ad Hoc Networks 4 (2006) 636–650 643
0
20
40
60
80
100 0
100
200
300
400
500
–0.5
0
0.5
1
1.5
2
2.5
3
Sensory range
Number of nodes
D
iff
er
en
ce
 (%
)
Fig. 5. Diﬀerences between Theorem 2s prediction and the experimental results.
0
20
40
60
80
100 0
100
200
300
400
500
–10
0
10
20
30
Sensory rangeNumber of nodes
D
iff
er
en
ce
 (%
)
Fig. 6. Diﬀerences between Eq. (6)s prediction and the experimental results.
L.-H. Yen et al. / Ad Hoc Networks 4 (2006) 636–650 645
050
100
150
200
1
2
3
4
5
6
7
8
9
10
0
20
40
60
80
100
Degree of coverage (k)
Number of nodes
Co
ve
ra
ge
 ra
tio
 (%
)
Fig. 9. Estimated k-coverage ratios in 1000 · 1000 rectangle, with n ranging from 1 to 199 and k ranging from 1 to 10.
0
50
100
150
200
1
2
3
4
5
6
7
8
9
10
0
20
40
60
80
100
Degree of coverage (k)
Number of nodes
Co
ve
ra
ge
 ra
tio
 (%
)
Fig. 10. Measured k-coverage ratios in 1000 · 1000 rectangle, with n ranging from 1 to 199 and k ranging from 1 to 10.
L.-H. Yen et al. / Ad Hoc Networks 4 (2006) 636–650 647
localization systems, in: Proceedings of the 6th IEEE
International Symposium on Communication Theory and
Application, Ambleside, UK, 2001.
[3] C.-F. Huang, Y.-C. Tseng, The coverage problem in a
wireless sensor network, in: ACM International Workshop
on Wireless Sensor Networks and Applications, 2003, pp.
115–121.
[4] G. Xing, X. Wang, Y. Zhang, C. Lu, R. Pless, C. Gill,
Integrated coverage and connectivity conﬁguration for
energy conservation in sensor networks, ACM Trans.
Sensor Networks, in press.
[5] J. ORourke, Art Gallery Theorems and Algorithms,
Oxford University Press, New York, NY, 1987.
[6] S. Shakkottai, R. Srikant, N. Shroﬀ, Unreliable sensor
grids: coverage, connectivity and diameter, in: Proceedings
of INFOCOM, 2003, pp. 1073–1083.
[7] S. Meguerdichian, F. Koushanfar, M. Potkonjak, M.
Srivastava, Coverage problems in wireless ad-hoc sensor
networks, in: Proceedings of INFOCOM, 2001, pp. 1380–
1387.
[8] X.-Y. Li, P.-J. Wan, O. Frieder, Coverage in wireless ad
hoc sensor networks, IEEE Trans. Comput. 52 (6) (2003)
1–11.
[9] M. Cardei, J. Wu, Coverage in wireless sensor networks,
in: M. Ilyas, I. Magboub (Eds.), Handbook of Sensor
Networks, CRC Press, 2004.
[10] P. Hall, Introduction to the Theory of Coverage Processes,
John Wiley and Sons, 1988.
[11] T.K. Philips, S.S. Panwar, A.N. Tantawi, Connectivity
properties of a packet radio network model, IEEE Trans.
Inform. Theory 35 (5) (1989) 1044–1047.
[12] P. Piret, On the connectivity of radio networks, IEEE
Trans. Inform. Theory 37 (5) (1991) 1490–1492.
[13] C. Bettstetter, On the minimum node degree and connec-
tivity of a wireless multihop network, in: Proceedings of
ACM Symposium on Mobile Ad Hoc Netw. and Comp.,
Lausanne, Switzerland, 2002, pp. 80–91.
[14] C. Bettstetter, J. Zangl, How to achieve a connected ad hoc
network with homogeneous range assignment: an analyt-
ical study with consideration of border eﬀects, in: Pro-
ceedings of the 4th IEEE International Workshop on
Mobile and Wireless Communications Network, 2002, pp.
125–129.
[15] O. Dousse, P. Thiran, M. Hasler, Connectivity in ad-hoc
and hybrid networks, in: Proceedings INFOCOM, New
York, USA, 2002, pp. 1079–1088.
[16] P. Varshney, Distributed Detection and Data Fusion,
Spinger-Verlag, New York, NY, 1996.
[17] D. Tian, N.D. Georganas, A coverage-preserving node
scheduling scheme for large wireless sensor networks, in:
First ACM International Workshop on Wireless Sensor
Networks and Applications, 2002, pp. 32–41.
[18] J. Lu, T. Suda, Coverage-aware self-scheduling in sensor
networks, in: Proceedings IEEE 18th Annual Workshop on
Computer Communications, 2003, pp. 117–123.
[19] C.-F. Hsin, M. Liu, Network coverage using low duty-
cycled sensors: Random & coordinated sleep algorithms,
in: International Symposium on Information Processing in
Sensor Networks, 2004, pp. 433–442.
[20] H. Zhang, J.C. Hou, Maintaining sensing coverage and
connectivity in large sensor networks, in: International
Workshop on Theoretical and Algorithm Aspects of
Sensor, Ad Hoc Wireless and Peer-to-Peer Networks, 2004.
[21] B. Ca˘rbunar, A. Grama, J. Vitek, O. Ca˘rbunar, Coverage
preserving redundancy elimination in sensor networks, in:
1st IEEE International Conference on Sensor and Ad Hoc
Communications and Networks, 2004, pp. 377–386.
[22] F. Ye, G. Zhong, J. Cheng, S. Lu, L. Zhang, PEAS: a
robust energy conserving protocol for long-lived sensor
networks, in: Proceedings 23rd International Conference
on Distributed Computing Systems, 2003, pp. 28–37.
[23] E.R. Dougherty, Probability and Statistics for the Engi-
neering, Computing, and Physical Sciences, Prentice-Hall,
Inc., 1990, p. 238.
[24] L.-H. Yen, C.W. Yu, Link probability, network coverage,
and related properties of wireless ad hoc networks, in:
Proceedings 1st IEEE International Conference on Mobile
Ad-hoc and Sensor Systems, 2004, pp. 525–527.
[25] T.H. Cormen, C.E. Leiserson, R.L. Rivest, Introduction to
Algorithms, MIT Press, 1990.
[26] C.W. Yu, L.-H. Yen, Estimating the number of links in ad
hoc mobile networks with applications, Tech. Rep. CHU-
CSIE-TR-2003-002, Dept. CSIE, Chung Hua Univ., Tai-
wan. Available from: <http://www.csie.chu.edu.tw/tech/
tech_ﬁle/tech143630.pdf>, July 2003.
[27] E. Horowitz, S. Sahni, S. Rajasekaran, Computer Algo-
rithms/C++, Computer Science Press, 1996.
Li-Hsing Yen was born in Taiwan,
ROC, in 1967. He received his B.S.
(1989), M.S. (1991), and Ph.D. (1997)
degrees in computer science, all from
National Chiao Tung University, Tai-
wan. From 1997 to 1998, he worked for
the Communications Research Labo-
ratories (CCL), Industrial Technology
Research Institute (ITRI), Taiwan, as
an engineer. He was an Assistant Pro-
fessor (1998–2003) and has been an
Associate Processor since 2003 at the Department of Computer
Science and Information Engineering, Chung Hua University,
Taiwan. His current research interests include mobile comput-
ing, wireless networking, and distributed algorithms.
L.-H. Yen et al. / Ad Hoc Networks 4 (2006) 636–650 649
Ad hoc networks  (MANETs), which are  wireless networks with no fixed  infrastructure, 
have received extensive attentions [1, 5, 8, 12, 38-41, 46, 49-52]. Each mobile node in the 
network functions as a router that discovers and maintains routes for other nodes. These 
nodes may move arbitrarily, and therefore network topology changes frequently and 
unpredictably. Other limitations of ad hoc networks include high power consumption, scare 
bandwidth, and high error rates. Applications of ad hoc networks are emergency 
search-and-rescue operations, meetings or conventions in which persons wish to quickly 
share information, data acquisition operations in inhospitable terrain, and automated 
battlefield [38]. Bluetooth networks [53] and sensor networks [35, 42] are commercial 
products of ad hoc networks. 
A geometric graph G=(V, r) consists of nodes placed in 2-dimension space R2 and edge 
set E={(i, j)⏐d(i, j)≤r, where i, j∈V and d(i, j) denotes the Euclidian distance between node i 
and node j}. Let Χn={x1, x2, …, xn} be a set of independently and uniformly distributed 
random points. We use Ψ(Χn, r, A) to denote the random geometric graph (RGG) [29] of n 
nodes on Χn with radius r and placed in an area A. RGGs consider geometric graphs on 
random point configurations. Applications of RGGs include communications networks, 
classification, spatial statistics, epidemiology, astrophysics, and neural networks [29]. 
A RGG Ψ(Χn, r, A) is suitable to model an ad hoc network N=(n, r, A) consisting of n 
mobile devices with transmission radius r unit length that are independently and uniformly 
Computing Subgraph Probability of Random Geometric 
Graphs: Quantitative Analyses of Wireless Ad Hoc 
Networks 
Chang Wu Yu and Li-Hsing Yen 
Department of Computer Science and Information Engineering 
Chung Hua University, Taiwan, R. O. C
{cwyu, lhyen}@chu.edu.tw 
Abstract. This paper undergoes quantitative analyses on fundamental 
properties of ad hoc networks including estimating the number of hidden-
terminal pairs and the number of exposed-terminal sets. To obtain these results, 
we propose a paradigm to systematically derive exact formulas for a great deal 
of subgraph probabilities of random geometric graphs. In contrast to previous 
work, which established asymptotic bounds or approximation, we obtain 
closed-form formulas that are fairly accurate and of practical value. 
Keywords: Ad hoc networks, sensor networks, analytical method, random 
geometric graphs, performance evaluation, hidden terminal, exposed terminal, 
quantitative analysis. 
1   Introduction  
,
F. Wang (Ed.): FORTE 2005, LNCS 3731, pp. 458 – 472, 2005. 
© IFIP International Federation for Information Processing 2005 
Quantitative analyses on specific subgraphs of a given RGG are of importance for 
understanding and evaluating the fundamental properties of MANETs. There is extensive 
literature on the subgraph probability of RGGs [29]. Penrose had shown that, for arbitrary 
feasible connected subgraph Γ with k vertices, the number of induced subgraphs isomorphic 
to Γ satisfies a Poisson limit theorem and a normal limit theorem [29]. To the best of our 
knowledge, previous related results are all asymptotic or approximate. 
In the paper, we make the first attempt to propose a paradigm to systematically derive 
the exact formulas for a great deal of subgraph probabilities in RGGs. In contrast to previous 
asymptotic bounds or approximation, the closed-form formulas we derived are fairly 
accurate and of practical value. With the paradigm, we undergoes quantitative analyses on 
fundamental properties of ad hoc networks including the number of hidden-terminal pairs 
and the number of exposed-terminal sets. 
Computing the probability of occurrence of RGG subgraphs is complicated by the 
assumption of finite plane. For example, one device in Figure 1 is deployed nearby the 
boundary of rectangle A so its radio coverage region (often modeled by a circle) is not 
properly contained in A. This is due to border effects, which complicate the derivation of 
closed formulas. Previous discussions usually circumvent the border effects by using torus 
convection [1, 20]. Torus convention models the network topology in a way that nodes 
nearby the border are considered as being close to nodes at the opposite border and they are 
allowed to establish links. Most of the time, we adopt torus convention to deal with border 
effects in the paper. However, we also obtain an exact formula for the single edge probability 
of RGGs when confronting the border effects. 
Our definition of random geometric graphs Ψ(Χn, r, A) is different from those of Poisson 
point process [1, 12], which assume that the distribution of n points (vertices) on a possibly 
infinite plane follows a Poisson distribution with parameter λ (the given density). In Poisson 
point process, the number of vertices can only be a random number rather than a tunable 
parameter. In practice, however, some MANET modeling requires a fixed input n or a finite 
deployed area. 
The rest of the paper is organized as follows. In Section 2, some definitions and 
notations are introduced. In Section 3, we briefly survey related results on RGGs. A 
paradigm for computing the subgraph probability of RGGs with torus convention is 
presented in Section 4. Section 5 presents those derivations when confronting border effects. 
In Section 6, quantitative analyses on ad hoc networks are discussed. Finally, Section 7 
concludes the paper. 
x
y z
wzy 
x 
Hp2 
Fig. 2. The subgraphs of hidden-terminal pair p2 and exposed-terminal set H 
460 C.W. Yu and L.-H. Yen 
and its k-connectivity. In [12], Dousse et al. obtained analytical expressions of the probability 
of connectivity in the one dimension case. In [18], Gupta and Kumar have shown that if 
r=
n
ncn
π
)(log + , then the resulting network is connected with high probability if and only if 
c(n)→∞. In [47], Xue and Kumar have shown that each node should be connected to Θ(log 
n) nearest neighbors in order that the overall network is connected.  
Recently, Yen and Yu have analyzed link probability, expected node degree, and 
expected coverage of MANETs [49]. In [48], Yang has obtained the limits of the number of 
subgraphs of a specified type which appear in a random graph. 
 
In  the  section,  we develop a paradigm for computing subgraph  probability of  RGGS. 
First of all, we are to prove that the occurrences of arbitrary two distinct edges in RGGs are 
independent in the next subsection. The property of edge independence greatly simplifies our 
further calculations. For simplicity, we always assume that A is sufficiently large to properly 
contain a circle with radius r in a Ψ(Χn, r, A) throughout the paper; that implies πr2≤|A|. In 
the paper, notation Ei (Ei′) denotes the event of the occurrence (absence) of edge ei. 
Since we adopt torus convention to avoid border effects in the section, single-edge 
probability in RGG is obtained trivially and listed below. 
Theorem 1: We have Pr(Ej)=πr2/|A|, for an arbitrary edge ej=(u, v) and u≠v, in a Ψ(Χn, r, A). 
The next  theorem will indicate that the  occurrences of arbitrary two distinct edges in 
RGGs are independent. The result is somewhat difficult to be accepted as facts at first glance 
for some scholars. The following theorem shows that the occurrences of arbitrary two 
distinct edges in RGGs are independent even if they share one end vertex. 
Theorem 2 [49]: For arbitrary two distinct edges ei=(u, v) and ej=(w, x) in a Ψ(Χn, r, A), we 
have Pr(EiEj)=Pr(Ei)Pr(Ej). 
Note that Theorem 2 does not imply that the occurrences of more than two edges in 
RGGs are also independent. In fact, we will show their dependence later. 
By Theorem 1 and 2, we obtain the probability of two-edge subgraphs immediately. 
Corollary 3: For arbitrary two distinct edges ei=(u, v) and ej=(w, x) in a Ψ(Χn, r, A), we 
have Pr(EiEj)= (πr2/|A|)2. 
In  this  subsection, we consider  eight labeled  subgraphs  with three vertices as  base 
subgraphs, the probabilities of which will be used to compute the probability of larger 
subgraphs later. Based on the number of edges included, subgraphs of three vertices can be 
classified into four groups: a triangle (c3), an induced path of length two (p2), an edge with an 
isolated vertex (p1+I1), and three isolated vertices (I3) (See Figure 3). 
 
 
4   A Paradigm for Computing Subgraph Probability 
 
 
4.1   Edge Independence in RGGs 
 
 
4.2   Base Subgraphs 
 
To compute the probability of c3, we need the following lemma. Two equal-sized circles 
are properly intersecting if one circle contains the center of the other. Due to page limit, we 
omit the proofs of Lemma 4-5 and Theorem 6- 9 intentionally. 
462 C.W. Yu and L.-H. Yen 
To simplify calculation, we  adopt the following graph drawings. A solid line denotes an 
edge of G; a broken line denotes a possible edge between them; two vertices without a line 
denote a non-edge of G. Note that such graph drawing represent a class of graphs G=(V, ES, 
EB), where ES (EB) denotes solid-line edge (broken-line edge) set. For example, the following 
graph denotes eight base graphs depicted in Figure 3. 
We list some subgraphs discussed in Section 4.1 or 4.2 with their notations, drawings, 
and probabilities in Table 1. 
 
Notati
on p1 E
2 c3 p2 E1+I1 I3 
G 
      
Pr(G) πr2/|A| (πr2/|A|)2 24 /4
33 Arππ ⎟⎟⎠
⎞
⎜⎜⎝
⎛ − 24/
4
33 Arπ⎟⎟⎠
⎞
⎜⎜⎝
⎛
A
r2π
(1-
A
r2π
-
A
4
33
r2
) 
.4
33
1 42
4
r
AA
r ππ −−  
 
Note that we have Pr(E2)=Pr(c3)+Pr(p2) in Table 1. This equation can be derived by the 
following two types of derivation rules. 
In fact, type I (type II) graph derivation rule can be applied on any broken-line edge 
(non-edge) of any graph. That is, for any e∈EB, we have G(V, ES, EB)=G1(V, ES∪{e}, 
EB-{e})+G2(V, ES, EB-{e}). Similarly, for any e∉ES∪EB, we have G(V, ES, EB)=G1(V, ES, 
EB∪{e})-G2(V, ES∪{e}, EB) equivalently. We will show how these derivation rules can be 
used to systematically compute subgraph probability of RGGs. 
Given a subgraph of a RGG, we try to obtain its probability by following three basic 
steps in the paradigm: 
= + = −
Type Type II
 
4.3   A Paradigm for Computing Subgraph Probability of RGGs 
 
Table 1. Probabilities of subgraphs with three vertices or less in a RGG 
(1) Decompose the graph into a linear combination of base graphs by recursively applying 
the derivation rules. 
(2) Compute the probabilities of base graphs. 
464 C.W. Yu and L.-H. Yen 
Notation E3 E1+c3 c32 H 
G 
    
Pr(G) (πr2/⎪A⎪)3 3
62
4
33
A
rππ ⎟⎟⎠
⎞
⎜⎜⎝
⎛ −
3
62
4
33
A
rππ ⎟⎟⎠
⎞
⎜⎜⎝
⎛ − 3
6
16
27
A
rπ  
Following our paradigm, the probability formulas of a great deal of subgraphs (in RGGs) 
can be obtained systematically. In Section 6, we will demonstrate that such specific 
subgraphs with their properties have considerable merit in quantitative analyses of wireless 
ad hoc networks. 
In  the  section,  we  restrict the deployed area A to an l×m rectangle. We make an attempt 
to face border effects and obtain a closed-form formula of computing the single edge 
probability of RGGs. The results derived in the section can be used to measure the extent of 
coverage and connectivity of ad hoc networks [23]. 
Due to page limit, the main result and its corollaries are listed only. 
Theorem 12 [49]: Given a Ψ(Χn, r, A) and an l×m rectangle A, the single edge probability 
considering border effects is
22
23
3
43
3
44
2
1
lm
mlrmrlrr π+−− . 
Corollary 13: The average (expected) degree of a vertex in a Ψ(Χn, r, A) considering border 
effects is (n-1)×(
22
23
3
43
3
44
2
1
lm
mlrmrlrr π+−− ), where A is an l×m rectangle. 
Corollary 14: The expected edge number of a Ψ(Χn, r, A) considering border effects is 
(
2
)1( −nn )×(
22
23
3
43
3
44
2
1
lm
mlrmrlrr π+−− ), where A is an l×m rectangle. 
To obtain these results, we first derive some necessary lemmas. Let Χn={x1, x2, …, xn} be 
a set of independently and uniformly distributed random points in a given Ψ(Χn, r, A), where 
xi=(Xi, Yi) and 0≤Xi≤l and 0≤Yi≤m, for 1≤i≤n. Clearly, Xi’s (and Yi’s) are independent, 
identically distributed random variables with probability density function (p.d.f.) f(x)=1/l 
(g(y)=1/m) over the range [0, l] ([0, m]). 
Lemma 15 [49]: Given a Ψ(Χn, r, A) and any two distinct nodes xi=(Xi, Yi) and xj=(Xj, Yj), we 
have Pr[⎪Xi-Xj⎪≤z]=
2
2 2
l
lzz +−  and Pr[⎪Yi-Yj⎪≤w]=
2
2 2
m
mww +− where 0≤z≤l and 0≤w≤m. 
5   Computing Subgraph Probability in the Face of Border Effects 
 
Table 2. Probabilities of some subgraphs with four vertices in a RGG 
466 C.W. Yu and L.-H. Yen 
the performance (including throughput, packet delay, and blocking probability) of the IEEE 
802.11 MAC protocol. Specifically, they have showed that throughput is acceptable when 
the number of hidden-terminal pairs is less than 10%, beyond which throughput can fall 
sharply [25]. When determining a network-level simulation of a mobile ad hoc network or 
designing a wireless network, we can (with Theorem 18) precisely control the quantity of 
hidden terminal pairs by adjusting the number of mobile nodes or the power range. 
To derive a tight bound of the number of exposed-terminal sets in a given RGG, we need 
to compute first the subgraph probability of c4 (a cycle of length four). The paradigm 
proposed in Section 5 can be applied to tackle a great deal of subgraphs, but not some types 
of subgraphs such as cycles. We try to obtain tight bounds for Pr(c4) in a different way. 
Theorem 19: For arbitrary four distinct nodes u, v, w, and x in a Ψ(Χn, r, A), we have 
Pr(GS=c4)≤
3
6
4
33
A
rπ
⎟⎟⎠
⎞
⎜⎜⎝
⎛ , where S={u, v, w, x}. 
Proof: Consider the geometric graph c4 and its circle model (See Figure 4(a) and Figure 4(b)). 
These four nodes need to be placed properly near to each other in order to form the cycle of 
length four. Since the longest distance between every two neighboring centers is r, the four 
centers in the circle model must be placed in a convex quadrilateral with the same size length 
r (See Figure 4(c)). 
Since the subgraph c4 consists of a induced path p2 and another nearby vertex, we have 
Pr(GS=c4)≤Pr(GS=p2)×Pr(the remaining vertex is near p2 properly). Because Pr(the remain 
vertex is near p2 properly) is the probability of putting the center of the remaining node in the 
convex quadrilateral, we have Pr(the remaining vertex is near p2 properly)≤(r2/⎪A⎪). In a 
sequel, we have Pr(GS=c4) ≤
2
42
4
33
A
r
A
r π
⎟⎟⎠
⎞
⎜⎜⎝
⎛× = 3
6
4
33
A
rπ
⎟⎟⎠
⎞
⎜⎜⎝
⎛  by Theorem 9. ■ 
r
r
 
6.2   The Number of Exposed Terminal Sets 
 
 
 
Fig. 4. (a) A cycle of length four. (b) Its circle model. (c) The convex quadrilateral in the circle 
model. 
 
In [25], Khurana et al. have shown that hidden terminals can have a detrimental effect on 
In [24], Khurana et al. have shown that if the number of hidden terminal pairs is small 
and when collisions are unlikely, the RTS/CTS exchange is a waste of bandwidth. On the 
other hand, if the number of hidden terminal pairs is large, RTS/CTS mechanism helps avoid 
collision. Moreover, the optimal value for the RTS_Threshold in IEEE 802.11 [24] depends 
on the number of hidden terminals. 
468 C.W. Yu and L.-H. Yen 
RGGs. We also believe that the techniques developed in the paper can be exploited to 
conduct quantitative analysis on other fundamental properties of wireless ad hoc networks. 
 We would like to thank Dr. Jau-Ling Shih for her invaluable help. 
 
Acknowledgements 
 
 
References 
 
1. Christian Bettstetter, “On the minimum node degree and connectivity of a wireless multi-
hop network,” MobiHoc, 2002, pp. 80-91. 
2. V. Bharghavan, A. Demers, S. Shenker, and L. Zhang, “MACAW: a media access protocol 
for wireless LANs,” ACM SIGCOMM, 1994, pp. 212-215. 
3. B. Bollobas, Random Graphs, London: Academic Press, 1985. 
4. J. A. Bondy and U. S. R. Murty, Graph Theory with Applications, Macmillan Press, 1976. 
5. Josh Broth, David A. Maltz, David B. Johnson, Yih-Chun Hu, and Jorjeta Jetcheva, “A 
performance comparison of multi-hop wireless ad hoc network routing protocols,” 
Mobicom, 1998, pp. 85-97. 
6. C.-L. Chang and R. C. T. Lee, Symbolic Logic and Mechanical Theorem Proving, 
Academic Press, New York, 1973. 
7. B. N. Clark, C. J. Colbourn, and D. S. Johnson, “Unit disk graphs,” Discrete Mathematics, 
vol. 86, pp. 165-177, 1990. 
8. Bevan Das and Vaduvur Bharghavan, “Routing in ad-hoc networks using minimum 
connected dominating sets,” IEEE International Conference on Communications, 1997, 
pp. 376-380. 
9. J. Díaz, M. D. Penrose, J. Petit, and M. Serna, “Convergence theorems for some layout 
measures on random lattice and random geometric graphs,” Combinatorics, Probability, 
and Computing, No. 6, pp. 489-511, 2000. 
10. J. Díaz, M. D. Penrose, J. Petit, and M. Serna, “Approximating layout problems on random 
geometric graphs,” Journal of Algorithms, vol. 39, pp. 78-116, 2001. 
11. J. Díaz, J. Petit, and M. Serna, “Random geometric problems on [0, 1]2, “Lecture Notes in 
Computer Science, vol. 1518, Springer-Verlag, New York/ Berlin, 1998. 
12. O. Dousse, P. Thiran, and M. Hasler, “Connectivity in ad-hoc and hybrid networks,” 
Infocom, 2002. 
13. P. Erdös and A. Rénye, “On Random Graphs I,” Publ. Math. Debrecen, vol. 6, pp. 290-
297, 1959. 
14. C. Fullmer and J. Garcia-Luna-Aceves, “Solutions to hidden terminal problems in wireless 
networks,” ACM SIGCOMM, 1997, pp. 39-49. 
15. E.N. Gilbert, “Random Graphs,” Ann. Math. Stat., vol. 30, pp. 1141-1144, 1959. 
16. M. C. Golumbic, Algorithmic Graph Theory and Perfect Graphs, Academic Press, New 
York, 1980. 
17. A. Gräf, M. Stumpt, and G. Weiβenfels, ”On coloring unit disk graphs,” Algorithmica, 
vol. 20, pp. 277-293, 1998. 
Many interesting subgraph probabilities and their applications in MANETs are still 
uncovered. For example, we are now interested in accurately estimating the diameter of 
1. The occurrences of two distinct edges in RGG are independent. 
2. The occurrences of three or more distinct edges in RGG are dependent. 
3. Probabilities of some specific subgraphs in RGG can be estimated accurately. 
470 C.W. Yu and L.-H. Yen 
46. J. Wu and H. Li, “Domination and its application in ad hoc wireless networks with 
unidirectional links,” International Conference on Parallel Processing, 2000, pp. 189 – 
197. 
47. F. Xue and P. R. Kumar, “The number of neighbors needed for connectivity of wireless 
networks,” Wireless Networks, vol. 10, pp. 169-181, 2004. 
48. K. J. Yang, On the Number of Subgraphs of a Random Graph in [0, 1]d, Unpublished 
D.Phil. thesis, Department of Statistics and Actuarial Science, University of Iowa, 1995. 
49. L.-H. Yen and C. W. Yu, “Link probability, network coverage, and related properties of 
wireless ad hoc networks,” The 1st IEEE International Conference on Mobile Ad-hoc and 
Sensor Systems, 2004, pp. 525-527. 
50. C. W. Yu, L.-H. Yen, and Yang-Min Cheng, “Computing subgraph probability of random 
geometric graphs with applications in wireless ad hoc networks,” Tech. Rep., CHU-CSIE-
TR-2004-005, Chung Hua University, R.O.C. 
51. Chang Wu Yu, Li-Hsing Yen, Kun-Ming Yu, and Zhi Pin Lee, “An Ad Hoc Routing 
Protocol Providing Short Backup Routes,” Eighth IEEE Internation Conference on 
Communication Systems, 2002, Singapore, pp.1052-1056. 
52. Kun-Ming V. Yu, Shi-Feng Yand, and Chang Wu Yu, “An Ad Hoc Routing Protocol with 
Multiple Backup Routes,” Proceedings of the IASTED International Conference Networks, 
Parallel and Distributed Processing, and Applications, 2002, pp. 75-80. 
53. The Bluetooth Interest group,” http://www.bluetooth.com.” 
 
 
43. J. Stewart, Calculus, 4th ed., Gary W. Ostedt, 1999. 
44. H. Takagi and L. Kleinrock, “Optimal transmission ranges for randomly distributed packet 
radio terminals,” IEEE Transaction on Communications, vol. 32, pp. 246-257, 1984. 
45. F. Tobagi and L. Kleinrock, “Packet switching in radio channels, Part II-The hidden 
terminal problem in carrier sense multiple access and the busy tone solution,” IEEE Trans. 
Commun., vol. COM-23, no. 12, pp. 1417-1433, 1975. 
 
41. D. Shukla, L. Chandran-Wadia, and S. Iyer, “Mitigating the exposed node problem in 
IEEE 802.11 ad hoc networks,” International Conference on Computer Communications 
and Networks, 2003, pp. 157-162. 
42. K. Sohrabi, J. Gao, V. Ailawadhi, and G. J. Pottie, “Protocols for self-organization of a 
wireless sensor network, ” IEEE Personal Commun., vol. 7, no. 5, pp. 16–27, Oct. 2000. 
472 C.W. Yu and L.-H. Yen 
Data gathering refers to the process of collecting sensed data from every sensor to a
remote base station (BS), where end users can access the data [1]. Since sensor nodes are
usually battery powered, power-conserving techniques are essential to prolong the operation
lifetime of a sensor network. One such technique is in-node processing, a process of
automatically combining or aggregating sensed data before sending out the data. Another
technique is multi-hop transmission, which replaces the otherwise direct transmission
between every sensor and the BS. Multi-path transmission consumes less power than
corresponding direct transmission does, since radio signal attenuation varies non-linearly
with distance [1].
To facilitate in-node processing and multi-hop transmission, existing data gathering
approaches organize nodes into clusters [1, 2], a tree [3, 4], or a chain [5, 6]. Cluster-based
approaches are inherently distributed, but they may not eﬀectively minimize power dissipation
[5]. Both tree-based and chain-based approaches have reported less energy consumption when
compared with cluster-based counterparts. Tree-based approaches allow simultaneous data
transmissions so the data-collection latency is expected to be low. However, simultaneous
transmission requires involved slot/code scheduling to prevent potential transmission
interference or collision [3, 4]. In a pure chain-based scheme [7], simultaneous transmission
does not take place as nodes take turns in transmitting. While transmission in this setting is
collision free, it leads to a higher data-collection latency.
Once a chain has been formed, data are propagated from both ends of the chain toward some
designated sensor node called leader. The leader then transmits the aggregated data directly to
the BS. Energy expense in each round of data collection thus consists of two parts. One is for
inter-sensor communications and depends on the structure of the chain. The other is for leader-
BS communications and mainly depends on the in-between distance.
This paper aims to minimize energy expense for chain-based data gathering schemes. For
inter-sensor communications, ﬁnding an energy-optimal chain structure is similar to the
travelling salesperson problem (TSP) on a complete graph, and thus NP-hard.z Therefore,
existing chain construction algorithms [5, 6] take heuristic approaches. These algorithms trade
time complexity for power eﬃciency. For a better realization, we design a solution framework
for the chain construction problem that accommodates existing solutions. Previously unseen
solutions can also be systematically devised under the framework. Some of the new methods are
highly power eﬃcient yet have low time complexity. As a remark, we exploit the concept of
virtual chain, where each edge of the chain can correspond to a multi-hop data propagation
path rather then merely a direct radio link.
For leader-BS communications, we have pointed out that the previous leader scheduling
approach [5], which selects the leader in a round-robin fashion, still results in non-
uniform energy consumption among sensors as their distances to the BS vary. Section 3.4
formulates the problem of optimal leader scheduling as a linear programming problem
and proposes a simple scheduling rule called maximum residual power ﬁrst (MRPF). MRPF
selects the node that has the maximum residual power to be the leader in each round of
data collection. Simulation results show that MRPF performs only slightly worse than the
optimal scheduling.
zNot returning to the starting node (as in constructing a chain) dose not change the computational complexity of the
problem.
L.-H. YEN ET AL.
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. (in press)
DOI: 10.1002/dac
Eelec ¼ 50 nJ=bit to run the transmitter or receiver circuitry and the transmitter ampliﬁer spends
eamp ¼ 100 pJ=bit=ma to achieve an acceptable signal-to-noise ratio, where a is the path
exponent that indicates the rate at which the pass loss increases with distance. The value of a
typically ranges from 2 to 4, depending on characteristics of the communication environment
[8]. Aforementioned studies assume that a ¼ 2; which is the case of free space. We assume that
a ¼ 3; which is typical in noisy urban area [8], and thus is more realistic.
We assume that in-node processing is used so that every data message has k bits. It
follows that if node x transmits a message to node y; x consumes energy kEelec þ keampdðx; yÞ
a;
where dðx; yÞ denotes the distance between x and y; while y expends kEelec: The energy
dissipation per transmission therefore consists of two parts. One part is of ﬁxed quantity
denoted by dk ¼ 2kEelec: The other depends on a and on the distance from transmitter
to receiver.
Given a data propagation path X ¼ xi; xiþ1; . . . ;xj ¼ Y ; the cost of PX ;Y is deﬁned to be the
total energy expense for propagating a k-bit message from X to Y ; i.e.
cðPX ;Y Þ ¼ ðj  i þ 1Þdk þ keamp
Xj1
t¼i
dðxt;xtþ1Þ
a
Let FðX ;YÞ ¼ fPX ;Yg be the set of all possible data propagation paths from X to Y : Deﬁne
mcpðX ;YÞ ¼ fpjp 2 FðX ;YÞ ^ 8p0 2 FðX ;YÞ : cðpÞ4cðp0Þg be the set of minimum-cost data
propagation paths from X to Y : Given a virtual chain fNig
n
i¼1 and its associated set of data
propagation paths fPNi ;Niþ1g
n1
i¼1 ; the cost of the virtual chain is deﬁned asXn1
i¼1
cðPNi ;Niþ1 Þ
The chain has the lowest cost if PNi ;Niþ1 2 mcpðNi;Niþ1Þ for all i: The optimal virtual chain
problem is to ﬁnd a virtual chain whose lowest cost is the minimum among all possible ones.
This is an NP-hard problem.
3. THE PROPOSED SCHEME
Under our chain construction framework, a chain construction algorithm consists of two parts
(Figure 2). The ﬁrst is to compute and store the costs of every possible pair of nodes. Provided
the cost information, the second part constructs a logical chain among all sensor nodes. The
issue of leader scheduling is discussed in Section 3.4.
a
bc
e
d
Figure 1. A chain under construction. Node e cannot be included in the chain.
L.-H. YEN ET AL.
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. (in press)
DOI: 10.1002/dac
of Mp; as it is a property of shortest paths [9, p. 520]. For Mt computed based on an MST, the
triangle inequality still hold by the following theorem.
Theorem 1
Let Td be an MST built on the graph corresponding to Md : If Mt is computed based on Td ; we
have Mtði; jÞ4Mtði; kÞ þMtðk; jÞ for any i; j; and k:
Proof
For any two nodes i and j in a tree, there exists exactly a unique simple path} from i to j: The
path from i to k and then to j is either the same path from i to j; for which the equality of cost
holds, or a non-simple path. In the latter case, an edge incident with k must be included in the
path twice, one immediately followed by the other (one joining at k and the other leaving k). If
the occurrences of this edge are removed from the path, the path becomes either the exact simple
path from i to j or a non-simple path with lower cost which can be further shrank by above
arguments. The conclusion thus follows. &
3.2. Chain construction
Once Mp (or Mt) and every Pi;j have been obtained, a virtual chain can be formed using any
conventional chain construction algorithm such as those proposed in References [5, 6]. The only
diﬀerence is that the algorithm may run on Mp or Mt instead of Md : Figure 5 shows diﬀerent
chains obtained by running the appending-based chain construction algorithm of PEGASIS [5]
on diﬀerent cost matrices.
Although the insertion-based chain construction algorithm [6] generally performs well, here
we consider an MST-based chain construction heuristic which is more time eﬃcient. The basic
idea is to ﬁnd an MST ﬁrst (on the weighted complete graph representing Md ; Mt; or Mp) and
then convert it to a chain. A tree can be converted to a chain by traversing the tree from the root
in preﬁx order. The visiting sequence then corresponds to a chain. Figure 6 shows an example.
Time complexity of this approach is Oðn2Þ:
This heuristic has been devised for the TSP, and is often accompanied with the assumption of
the triangle inequality. It can be shown that, thanks to the triangle inequality, the heuristic
creates a TSP tour whose cost is at most twice the cost of the MST [9, pp. 969–972]. The cost can
a
(a) (b)
b
c d
2
83
a b
c d
2
83 105
13
Figure 4. (a) MST of Figure 3(a); and (b) the corresponding Mt:
}A path is simple if it does not include the same edge twice [10].
L.-H. YEN ET AL.
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. (in press)
DOI: 10.1002/dac
an edge ði; jÞ 2 Tt with jPi;j j > 1: It follows that there is at least one intermediate node k on Pi;j :
Since Pi;j corresponds to the shortest path traversing Td from i to j; it must be a simple path.
Therefore, for any k we have Mtði; kÞ þMtðk; jÞ ¼ Mtði; jÞ:
} There are four possible cases
depending on the relation among i; j; and k:
* Both edges ði; kÞ and ðk; jÞ are included in Tt: This is impossible since the inclusion of these
edges plus ði; jÞ creates a cycle in Tt:
* Edge ði; kÞ but not ðk; jÞ is included in Tt: We can form T 0t by ﬁrst removing ði; jÞ from Tt
and then adding ðk; jÞ into Tt: Note that T 0t does not contain cycle and the cost of T
0
t is
lower than that of Tt since we swap ði; jÞ for a lower-cost edge ðk; jÞ: It follows that T 0t is a
tree with cost lower than that of Tt:
* Edge ðk; jÞ but not ði; kÞ is included in Tt: Similarly, this leads to another tree whose cost is
lower than that of Tt:
* Neither ði; kÞ nor ðk; jÞ is included in Tt: Tt must contain a path from i to k and another
from k to j as Tt is connected. The lengths of these paths must be greater than one. Now
consider replacing ði; jÞ with the combination of ði; kÞ and ðk; jÞ in Tt: Let the result be T 0t :
Note that T 0t has the same cost as Tt but contains two cycles, one involving the path from i
to k and the other j to k: We can remove any edge from the ﬁrst path and any other from
the second, resulting in a tree with cost lower than that of Tt:
All these cases lead to impossibility or contradiction, so we conclude that there exists no edge
ði; jÞ 2 Tt with jPi;j j > 1: &
Theorem 2 indicates that, in case of MST-MST, we may directly convert Td instead of Tt to a
chain. Procedure MST-reduced in Figure 8 thus replaces MST-MST.
Table II lists the time complexities of all mentioned methods. Among them, PEGASIS,
Direct-MST, MST-appending, and MST-reduced are more time eﬃcient than others.
Figure 7. Operations of MST-based chain constructions.
}Recall that the equality in Theorem 1 holds when k lies on the path from i to j:
L.-H. YEN ET AL.
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. (in press)
DOI: 10.1002/dac
a conventional chain, the greedy method ‘virtualizes’ the edge that maximizes the ratio of energy
gain to the latency raised.
Figure 9 shows how the greedy method trades latency for energy. The energy consumed by a
conventional chain (without any edge being virtualized) is 0:44 J: In contrast, the energy expense
with a virtual chain can be as low as 0:18 J (with over 20 virtualized edges), a 60% reduction. On
the other hand, the conventional chain incurs no additional latency while a virtual chain increases
the number of hops to a maximum of 40, a 50% increase (a conventional chain consisting of 80
sensors has a ﬁxed length of 79 hops.) As a remark, the energy gain is trivial after 20 edges have
been virtualized. Further edge virtualization does not improve energy eﬃciency signiﬁcantly.
3.4. Leader scheduling
Given a chain structure, leader scheduling determines which node acts as a leader in each round of
the data-collection processes. The goal is to prolong network lifetime, i.e. to maximize the number
of data-collection rounds. In the following, we analyse the maximum number of data collection
rounds that can be achieved before any node exhausts its power. To simplify the analysis, we focus
on leader scheduling in a conventional chain. Without loss of generality, we assume that nodes in
the chain are numbered sequentially as 1; 2; . . . ; n: We also use the following notations.
* ei: the energy consumed by node i in transmitting a data message to the BS.
* ri;j : the energy consumed by i in transmitting a k-bit message to node j; where
ri; j ¼ kEelec þ keampdði; jÞ
a:
* er ¼ kEelec: energy consumed in receiving a k-bit message.
* Ei: the amount of energy that node i initially has.
When some node i is selected to be the leader, every node numbered j5i (if any) expends
energy rj; jþ1 in sending data to node j þ 1; at which energy er is consumed to receive the
data. Likewise, every node numbered k > i (if any) expends rk;k1 to send data to node k 1;
where energy er is expended in receiving the data. The leader transmits the collected data to the
BS, consuming energy ei: Supposing that every node i is scheduled to be the leader xi times,
0 10 20 30 40
0.1
0.2
0.3
0.4
0.5
Number of edges being virtualized
En
er
gy
 c
on
su
m
pt
io
n 
(J)
In
cr
ea
se
d 
la
te
nc
y 
(ho
ps
)
Energy
0
10
20
30
40
Latency
Figure 9. Trade-oﬀ between energy and latency with the greedy method. The results were obtained with 80
sensors under a 200 200 network.
L.-H. YEN ET AL.
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. (in press)
DOI: 10.1002/dac
(for example, it has no direct link with the BS), variable xi in (1) is bound to zero. Therefore, the
existence of leader-ineligible sensors eases the scheduling work by reducing the population of
leader candidates.
Round-robin leader scheduling (RR) equalizes the values of xi’s, which is generally far from
optimal. In Reference [5], an improvement on RR is proposed. This approach sets up a
threshold of distance, and nodes are not allowed to be leaders if their distances to their
neighbours along the chain are beyond the threshold.
Instead of ﬁnding an optimal solution, we propose a simple rule called maximum residual
power ﬁrst (MRPF) for leader scheduling. As the name suggests, MRPF selects the node that
has the maximum residual power to be the leader in each round of data collection. Residual
power information can be piggybacked with data messages as part of the aggregated data. If
every node attaches its own power level to data message and let the BS ﬁnd the maximum value,
it will incur an additional OðnÞ overhead on every message. A better approach is to let every
node compare its power level with the one attached with the incoming data message (if any) and
send only the larger. This is similar to existing distributed maximum-ﬁnding algorithms on rings
[12–15] and the message overhead is only Oð1Þ:
Recall that the BS broadcasts the result of leader scheduling to all sensors before each data-
collection round. The energy consumed in receiving broadcasts is not taken into account in the
above model. If it is to be considered, a slight modiﬁcation on the modelling is required.
Suppose that receiving one broadcast consumes b unit of energy. As there are
P
i xi data-
collection rounds in total, all sensors uniformly spend b
P
i xi unit of energy on receiving
broadcasts. Taking account of this quantity, (1) becomes
A
x1
x2
x3
..
.
xn
0
BBBBBBBBB@
1
CCCCCCCCCA
4
E1=b
E2=b
E3=b
..
.
En=b
0
BBBBBBBBB@
1
CCCCCCCCCA
ð2Þ
This formula is essentially the same as (1) with the only exception that the initial energy of each
sensor Ei is uniformly divided by b: Therefore, if hw1; w2; . . . ; wni is the optimal value for
hx1;x2; . . . ;xni that maximizes
P
xi subject to (1), hw1=b; w2=b; . . . ; wn=bi will be the solution
that maximizes
P
xi subject to (2). In other words, the consideration of energy expense on
broadcasting only scales down the optimal value by a constant. It does not make the problem
harder or easier to deal with.
The same conclusion also applies to other energy dissipation sources that have an equal eﬀect
on all sensor nodes. An example is the energy expense in idle mode.
4. SIMULATIONS AND IMPLEMENTATION ISSUES
We conducted simulations to analyse the performance of energy conservation techniques. In all
experiments, message size was set to 2000 bits. The positions of sensor nodes were randomly
determined by a uniform distribution over a square region.
L.-H. YEN ET AL.
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. (in press)
DOI: 10.1002/dac
size 50 50 was considered, with a BS located at ð25; 150Þ or ð25; 250Þ: All nodes were assumed
to have power 50J initially. The chains to be tested with leader scheduling schemes were
produced by PEGASIS. Figure 13 shows the results, where each result is obtained by averaging
10 experiments.
It can be seen that MRPF performs slightly worse than the optimal result obtained by a
linear-programming problem solver. MRPF signiﬁcantly outperforms RR. When the sensor
population is low, RR with distance-based leader eligibility rule (RR with threshold) results in
fewer data-collection rounds than RR does, and the gap increases as the threshold value of
distance decreases. The reason is that the loads on leader nodes cannot be fairly shared if only
few nodes are eligible for leaders. When the sensor population is suﬃciently high, RR with
threshold outperforms RR. Therefore, a critical issue of using RR with threshold is to determine
an appropriate threshold so that leader-eligible nodes and others fairly share the communication
load, which was untold in the original paper [6].
Figure 14 shows variances of all node’s residual power when the ﬁrst node dies. Observe that
MRPF yields the minimal variance, meaning that it successfully equalizes power consumption
among all nodes. The optimal leader scheduling does not minimize the variance of residual
power but still performs good. This suggests the existence of another scheduling rule other than
MRPF, which is left as our future work. The RR family does not perform well, but the results
tend to be acceptable when the sensor population is getting high.
(a) (b)
0
200
400
600
800
1000
1200
1400
1600
1800
2000
50 100 200
Number of nodes
R
ou
nd
s
0
200
400
600
800
1000
1200
1400
1600
1800
2000
R
ou
nd
s
PEGASIS
Direct-MST
Others
50 100 200
Number of nodes
PEGASIS
Direct-MST
Others
Figure 12. Number of rounds before any node exhausts its power in: (a) 50 50 network; and
(b) 100 100 network. The BS was located at ð50; 300Þ:
0
1000
2000
4000
3000
6000
5000
7000
R
ou
nd
s
Number of nodes(b)(a)
50 100 200
0
1000
2000
4000
3000
6000
5000
7000
R
ou
nd
s
Number of nodes
50 100 200
PEGASIS
Direct-MST
Others
PEGASIS
Direct-MST
Others
Figure 11. Number of rounds before any node exhausts its power in: (a) 50 50 network; and
(b) 100 100 network. The BS was located at ð50; 200Þ:
L.-H. YEN ET AL.
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. (in press)
DOI: 10.1002/dac
communications are environment dependent and the estimation errors are not easy to
formulate. It is therefore a future work to include environmental factors in constructing an
energy-eﬃcient data-collection chain.
5. CONCLUSIONS
We have considered several energy-conserving techniques for chain-based data gathering. For
inter-sensor communication, we have developed a framework for chain-formation algorithms
that accommodates previous methods as well as new ones exploiting multi-hop data
propagation paths. Among all methods, PEGASIS, Direct-MST, MST-appending, and MST-
reduced all have Oðn2Þ computation time while others have Oðn3Þ: On the other hand, direct-
insertion, shortest-appending, shortest-MST, MST-insertion, and MST-reduced perform nearly
the same and outperform others in terms of network lifetime. MST-appending and MST-
reduced both have the merits of lower time cost and, in the same time, better results and are
therefore recommended.
For leader-BS communication, we have shown that optimal leader scheduling is a linear
programming problem. We have investigated the performance of MRPF scheduling rule, which
selects leaders according to node’s residual power. Simulation results show that MRPF
equalizes energy expense among all sensors. Its performance is near-optimal and signiﬁcantly
better than that of simple round-robin leader scheduling.
In the future, we plan to convert the proposed methods into distributed protocols.
Environmental factors such as interference and multi-path fading shall be considered in the
future energy consumption model for a more realistic work. We also believe that the ﬁnding in
this work could be extended to apply to other sensor structures such as trees and clusters.
ACKNOWLEDGEMENTS
This work has been jointly supported by National Science Council, Taiwan, under contract NSC-93-2213-
E-216-024 and by Chung Hua University under grant CHU-93-TR-004.
REFERENCES
1. Heinzelman WR, Chandrakasan A, Balakrishnan H. Energy-eﬃcient communication protocol for wireless
microsensor networks. Proceedings of the 33rd Annual Hawaii International Conference on System Sciences,
Hawaii, U.S.A., January 2000.
2. Handy M, Haase M, Timmermann D. Low energy adaptive clustering hierarchy with deterministic cluster-head
selection. Proceedings of the 4th International Workshop on Mobile and Wireless Communications Network,
Stockholm, Sweden, September 2002; 368–372.
3. Annamalai V, Gupta SKS, Schwiebert L. On tree-based convergecasting in wireless sensor networks. IEEE Wireless
Communications and Networking Conference, New Orleans, U.S.A., March 2003.
4. Upadhyayula S, Annamalai V, Gupta SKS. A low-latency and energy-eﬃcient algorithm for convergecast in wireless
sensor networks. Proceedings of the Globecom, San Fransisco, December 2003.
5. Lindsey S, Raghavendra C, Sivalingam KM. Data gathering algorithms in sensor networks using energy metrics.
IEEE Transactions on Parallel and Distributed Systems 2002; 13(9):924–935.
6. Du K, Wu J, Zhou D. Chain-based protocols for data broadcasting and gathering in the sensor networks.
Proceedings of the International Parallel and Distributed Processing Symposium, Nice, France, April 2003.
7. Lindsey S, Raghavendra CS. PEGASIS: Power eﬃcient gathering in sensor information systems. Proceedings of the
2002 IEEE Aerospace Conference, Big Sky, MT, March 2002.
L.-H. YEN ET AL.
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. (in press)
DOI: 10.1002/dac
Ping-Yuan Yang was born in 1977. He received his MS degree in Computer Science
from Chung Hua University, Taiwan. Mr Yang’s research interests include
WLAN, wireless sensor network, and GSM network. He is a software engineer at
FiWin Co. in Hsinchu Science Park.
L.-H. YEN ET AL.
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. (in press)
DOI: 10.1002/dac
initially sleeping. These nodes awake asynchronously and
broadcast a probe message. Any working node receiving
the message should reply. If an awakening node receives
a reply to the probe message, it enters sleep mode again.
Otherwise, it becomes a working node for the rest of its op-
eration life. The performance of PEAS heavily depends on
probing range, the transmission range of the probemessage.
A small probe range usually leads to high coverage ratio but
also a large population of working node.
There are also stochastic approaches that alter node den-
sity without location information. In the scheme proposed
in [6], all nodes randomly and independently alternate be-
tween working and sleep modes on a time-slot basis. Given
the probability that a sensor is in working mode, the authors
have analyzed the probability of a point being uncovered. In
[11], the time periods of working and sleep modes are expo-
nentially distributed random variables. Though the method
is stochastic in nature, it is deterministic to set the means
of these two distributions for a speciﬁc expected network
coverage.
Most existing density control protocols require location
information. Ca˘rbunar et al. [4] transform the problem of
detecting redundant sensors to that of computing Voronoi
diagrams. Node location information is required in their
scheme to compute the Voronoi diagram corresponding to
the current node deployment. Xing et al. [9] also exploit
Voronoi diagram to ensure k-coverage, which refers to the
condition that every point in the deployment region is cov-
ered by at least k sensor nodes. They have shown that k-
coverage is ensured if every critical point (where two sen-
sor’s coverage areas intersect or a sensor’s coverage area
and border line intersect) is covered by at least k sensors.
The protocol they proposed needs location information of
every sensor as well.
A coverage-preserving density control scheme presented
in [8] demands that each sensor advertises its location infor-
mation and listens to advertisements from neighbors. After
calculating its coverage and its neighbors’, a node can deter-
mine if it is eligible to turn off its sensory circuitry without
reducing overall network coverage. To avoid potential “cov-
erage hole” due to simultaneous turning off, a back-off pro-
tocol is proposed that requires each off-duty eligible sensor
to listen to other sensor’s status advertisement and, if neces-
sary, announce its own after a random back-off time period
expires. The behaviors of some other schemes [7, 6, 12]
are similar to [8] in that they all require the exchanges of
location information and eligibility status. Among them,
OGDC [12] aims to arrange a particular deployment pat-
tern of working sensors. It has been shown [12] that, to
minimize the population of working sensors while preserv-
ing network coverage, the locations of any three neighbor
sensors should form an equilateral triangle with side length√
3rs, where rs is the sensory range. Extending this argu-
S A
CE
F
D B
Figure 1. Optimal deployment pattern that de-
mands the least number of working sensors
to cover entire region
ment, the optimal deployment pattern that requires the least
number of working sensors should be that shown in Fig. 1.
Each working sensor S is surrounded by six working neigh-
bors (co-workers) that from a regular hexagon centered at S
with side length
√
3rs. Provided that the node density is
sufﬁciently high, it is feasible to seek such a pattern among
all deployed sensors.
Network connectedness is another issue that should be
addressed in density control. It has been proven [12, 9] that
given 100% coverage ratio, rt ≥ 2rs sufﬁces to ensure net-
work connectedness, where rt is the transmission range of
every sensor. Many protocols [12, 9] therefore focus on
maintaining full coverage and simply set rt = 2rs to ensure
network connectedness at the same time.
Our approach assumes the availability of a ranging tech-
nology that estimates the distance between pair-wise neigh-
bors. Several ranging techniques have been proposed for
wireless sensor networks. One possible way is to establish
a mathematical or empirical model that describes radio sig-
nal’s path loss attenuation with distance [2]. A received sig-
nal strength indication (RSSI) can thereby be translated into
a distance estimate. Another trend of ranging technologies
turns signal propagation time into distance information. If
the sender and the receiver of a radio signal are precisely
time-synchronized, the distance in-between can be derived
from the time of arrival (ToA). If two signals (one is RF
and the other is acoustic signal, for example) are transmitted
simultaneously, the time difference of the arrivals (TDoA)
can be used for ranging [5].
Signal propagation problems such as environmental in-
terference and multi-path fading introduce estimation errors
to almost all existing ranging technologies. The degree of
errors is environment-dependent. In harsh networking en-
vironments, the errors can be so high that makes ranging
techniques ineffective. Nevertheless, we assume a perfect
ranging scheme behind our work. The motivation of this re-
search is merely to see howwell density control can be done
Proceedings of the 4th Annual Communication Networks and Services Research Conference (CNSR’06) 
0-7695-2578-4/06 $20.00 © 2006 IEEE 
Table 2. The rule of replying Co-worker Re-
sponse
Condition
|L| |L ∩N | Reply? Tr
0 0 Yes dtime
0 Yes dtime+Td
≥ 1 1 or 2 Yes dtime
> 2 No −
Note: L andN are the sets of S’s co-workers andR’s neigh-
bors, respectively.
sions that may occur when multiple nearby sensors decide
to send CO-WORKER REQUEST at the same time. If no CO-
WORKER REQUEST is heard during that interval, the node
broadcasts CO-WORKER REQUEST, sets timer To, and then
enters Starting Node state. If the node hears another CO-
WORKER REQUEST before it issues its own, the procedure
in Fig. 3 is executed.
The procedure in Fig. 3 decides whether a node receiv-
ing CO-WORKER REQUEST is eligible to sleep or should
be a co-worker. Suppose that R receives CO-WORKER RE-
QUEST from S. If R is close to S (i.e., R’s distance to
S is less than D1), R will enter sleep mode directly as it
does not contribute substantial coverage to S. Otherwise,
the “else” part of the outer if-statement will be executed,
as R has not yet responded to any CO-WORKER REQUEST
and thus cannot be a co-worker of anyone. The code seg-
ment there determines whether R need reply to S’s request
and, if it need, how long it should wait before sending the
reply. Table 2 details the decision rule. If more than two
of R’s neighbors are already S’s co-workers, R can sleep
for its expected-low coverage contribution. Otherwise, the
value of the reply delay timer Tr is chosen to let the most
appropriate node (the one that is closest to the intended lo-
cation) reply ﬁrst.
The setup of Tr involves calculating the value of dtime.
For any CO-WORKER REQUEST sent from S to R, let L
and N be the sets of nodes that are the listed co-workers of
S and the neighbors of R, respectively. dtime in Table 2 is
deﬁned as
dtime = D(S,R) +
∑
j∈L∩N
D(R, j). (1)
Function D(i, j) is deﬁned as
D(i, j) =
(
1− exp
(
di,j
rt
− 1
))
,
where di,j is the distance between nodes i and j. See Fig. 4.
After Tr is set, R enters Waiting state, in which the CO-
WORKER RESPONSE is scheduled to be sent to S when
0 0.2 0.4 0.6 0.8 1
0
0.1
0.2
0.3
0.4
0.5
0.6
0.7
di,j / rt
D
(i,
j)
Figure 4. The value of D(i, j) versus the ratio
of di,j to rt
Tr expires. R cancels the scheduled sending (by resetting
Tr), however, if it overhears a CO-WORKER RESPONSE ad-
dressed to S at any time before Tr expires. R does this be-
cause the sender of the CO-WORKER RESPONSE is more
qualiﬁed to be S’s co-worker than R. The overheard CO-
WORKER RESPONSE updates R’s neighbor list to include
the sender’s ID. If a new CO-WORKER REQUEST is re-
ceived before Tr expires, the scheduled sending is canceled
as well and the incoming message is processed by the same
procedure shown in Fig. 3.
The action of aborting the scheduled response on the re-
ceipt of a new request deserves a further note. The sender
of the new request can be an independent starting node or
a co-worker of the one that initiates the ﬁrst request. We
may devise a thoughtful yet complicated scheme to resolve
the race condition between the old and the new requests.
However, we found through simulations that doing so does
not improve the results signiﬁcantly. Therefore, we choose
to ignore the old request for the sake of simplicity and the
likelihood of saving power. This approach can save power
as the early sender, expected to be a co-worker ﬁrstly, may
be proved sleep-eligible later by the second or subsequent
requests.
After sending CO-WORKER RESPONSE, R sets timer Tc
and stays in Waiting state. Subsequent CO-WORKER RE-
QUEST received before Tc expires, if any, is processed by
the same procedure (Fig. 3), where the “if” part of the sec-
ond if-statement is executed if the co-worker list attached
with the received request contains this node’s ID. In that
case, this node has been recruited by some starting node.
The node then broadcasts its own CO-WORKER REQUEST
and enters Co-Worker state. If no further message is re-
ceived before Tc expires, the node enters working mode di-
rectly. If a RECRUITMENT DONE is received and its dis-
tance to the sender is less than D2, the node enters sleep
mode directly.
Before node S enters Starting Node or Co-worker state,
it must have broadcasted a CO-WORKER REQUEST mes-
Proceedings of the 4th Annual Communication Networks and Services Research Conference (CNSR’06) 
0-7695-2578-4/06 $20.00 © 2006 IEEE 
S A
B
C D
S A
B
C
D
(a) (b)
Figure 7. S is a staring node and A and B are
recruited co-workers. Solid and dotted lines
correspond to sensory and communication
ranges, respectively.
Table 3. Simulation setup
Parameter Setting
Network size 50× 50 and 100× 100
Sensor deployment Random (uniform distribution)
MAC IEEE 802.11 CSMA/CA
Sensor population 100 – 1000
Sensory range (rs) 10
Communication range (rt) 2× rs (PEAS and OGDC) or√
3× rs (Ours)
Probing range (for PEAS) 8, 9, or 10
Data transmission rate 60 Kbps
By our design, C will respond to S after D(S,C) +
D(C,B)  0 seconds while D will do so after D(S,D) +
D(D,A)+D(D,B) seconds. So normallyC responds ear-
lier than D, unless S does not receiveC’s response. In con-
trast, bothC andD in Fig. 7(b) can be the next recruited co-
worker, as D(S,C) + D(C,B)  D(S,D) + D(D,A) +
D(D,B)  0.
4 Experiments and Results
We conducted simulations with ns-2 network simulator1
for performance comparisons among three representative
node-density control methods: PEAS, OGDC, and the pro-
posed scheme. Table 3 details the simulation setting.
4.1 Population of Working Nodes
We ﬁrst measured the number of working nodes. We as-
sumed that all sensors are initially awake and counted the
1http://www.isi.edu/nsnam/ns/
200 400 600 800 1000
15
20
25
30
35
40
45
50
55
Number of sensors
N
um
be
r o
f w
or
kin
g 
no
de
s
(a)
200 400 600 800 1000
40
60
80
100
120
140
160
Number of sensors
N
um
be
r o
f w
or
kin
g 
no
de
s
(b)
Ours
OGDC
PEAS (probing range = 8)
PEAS (probing range = 9)
PEAS (probing range = 10)
Ours
OGDC
PEAS (probing range = 8)
PEAS (probing range = 9)
PEAS (probing range = 10)
Figure 8. Number of working nodes in a (a)
50× 50 and (b) 100× 100 network
200 400 600 800 1000
97.5
98
98.5
99
99.5
100
(a)
Number of sensors
Co
ve
ra
ge
 ra
tio
 (%
)
200 400 600 800 1000
80
85
90
95
100
(b)
Number of sensors
Co
ve
ra
ge
 ra
tio
 (%
)
Ours
OGDC
PEAS (probing range = 8)
PEAS (probing range = 9)
PEAS (probing range =10)
Ours
OGDC
PEAS (probing range =8)
PEAS (probing range = 9)
PEAS (probing range = 10)
Figure 9. Coverage ratio in a (a) 50 × 50 and
(b) 100× 100 network
number of working sensors after running each density con-
trol protocol. Fig. 8 shows the obtained results. All values
are averaged over ten experiments.
As can be seen from the ﬁgure, OGDC yields the least
number of working sensors, followed by our protocol and
then PEAS. OGDC’s results also have a desirable property:
the number of working sensors does not increase with the
overall sensor population. In contrast, the population of
working sensors picked by PEAS family increases with the
probing range as well as the overall sensor population.
4.2 Coverage Ratio
To calculate network coverage, we divided the whole de-
ployment area into 1 × 1 grids, where a gird is said to be
covered if the center of the grid is covered by some sen-
sor. Coverage ratio is deﬁned to be the ratio of the number
of covered grids to the whole. When the network is parti-
tioned, only the largest connected component (the one that
covers the largest area) will be considered in the coverage
ratio calculation. Therefore, even though network connect-
edness was not explicitly gauged, it is reﬂected by the de-
gree of network coverage. Fig. 9 shows the results averaged
over ten experiments.
In Fig. 9(a), PEAS with probing range 8 has the highest
Proceedings of the 4th Annual Communication Networks and Services Research Conference (CNSR’06) 
0-7695-2578-4/06 $20.00 © 2006 IEEE 
