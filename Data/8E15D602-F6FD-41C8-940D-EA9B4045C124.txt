 2
 
行政院國家科學委員會專題研究計畫成果報告 
可變結構可靠度控制策略應用於衛星姿態控制之研究     
   (Attitude Stabilization of Satellites based on Variable Structure Reliable 
Control Scheme) 
計畫編號：NSC 94-2213-E-009-094- 
執行期限：94 年 8 月 1 日至 95 年 7 月 31 日 
主持人：梁耀文 國立交通大學電機與控制工程學系副教授 
 
一、中文摘要 
 
由於大規模或高複雜的系統，如太空
工業、核能工程、工業處理等，其系統對
於穩定度的要求逐漸提升，所以關於可靠
度控制的研究已經倍受重視。特別是具有
高危險性之系統，其安全性、可靠性與有
效性的要求也變成相對地嚴格。容錯控制
儼然成為一門非常重要的課題。因此，本
研究的主要目的，是設計一個可靠的控制
器使得閉迴路系統能夠容忍某些特定元件
異常的運作，且維持整體系統的表現穩
定，並將此設計應用到衛星姿態控制上。
眾所週知，可變結構控制方法具有：快速
的反應、對於系統參數的不確定性有較小
的敏感度，以及抗雜訊等諸多優點，因此
被廣泛地應用在控制各種系統。在本研究
計畫裡，我們利用可變結構控制理論來研
究衛星姿態的可靠度控制議題，並探討下
列研究項目：  
• 建立具有控制輸入冗餘(redundancy)之
衛星姿態控制模式 
• 針對所建立的衛星姿態控制模式設計
被動式可靠度控制法則。 
• 針對所建立的衛星姿態控制模式發展
控制系統致動器線上即時（on line and 
real time）錯誤偵測與診斷之機制。 
• 發展結合錯誤偵測與診斷結果之主動
式可靠度控制策略以達到能使系統在
發生不正常狀況時達到最適切的性能
表現。 
• 針對所建立的衛星姿態控制模式建構
LQR 或 H ∞之最佳化可靠度控制策略 
• 經由泰勒展開公式(Taylor formula)建
立求解LQR或H ∞最佳可靠度控制策略
所需面對的Hamilton-Jacobi equation之
遞迴(recursive)數值解法。 
•  比較系統在一般（非可靠度）設計與上
述三種可靠度控制策略之閉迴路控制
系統在致動器正常及異常下之性能表
現。 
• 針對上述議題考慮系統具有模式誤差
或外界干擾之可靠度性能表現。 
• 針對衛星姿態控制模式建立被動式之
可變結構可靠度控制法則。 
• 比較系統在一般（非可靠度）設計與上
述三種可靠度控制策略之閉迴路控制
系統在致動器正常及異常下之性能表
現。 
關鍵詞：可靠度控制、主動及被動式可靠
度控制、錯誤偵測與診斷、衛星姿態控制、 
系統之不確定性及外界干擾。 
 
Abstract 
 
Recently, due to the growing demands 
of system reliability in large-scale or 
complex systems such as aerospace 
engineering, nuclear engineering and 
industrial process etc., the study of reliable 
control has recently attracted lots of attention. 
Especially for a highly dangerous system, 
the request for safety, reliability and 
effectiveness has to meet stricter standards. 
Fault tolerance control has indeed become a 
very important issue. Therefore, the 
objective of this study is to design an 
 4
狀態， mnTmnuu ++ ∈= Ru ),,(: 1 L 為控制輸
入， 且 nTndd Rd ∈= ),,(: 1 L 代表可能的
模型不確定性和外部干擾， nRx ∈)f( 和 
)()( mnnG +×∈Rx 為平滑函數。除此之外，假
設 f (0,0)=0 。在(1)-(2)，我們已假設系統
有控制輸入冗餘。 
    本研究的目的是要建構適當的控制律
使得即使當部分致動器損壞時，系統穩定
的效能仍然可以被達成。可靠度控制的設
計方式包括有主動和被動兩種方式。在被
動式設計中，控制器被設計成在控制期間
控制律不切換系統也能容忍特定錯誤的發
生；而主動式的設計則包含有錯誤偵測與
診斷的資訊，使系統在錯誤發生時重組控
制律以達到更好的系統性能。因此，主動
可靠度控制需要錯誤偵測與診斷的訊息，
而被動式的設計則不需要。 在本研究中，
兩種可靠度控制都藉著使用可變結構控制
來實現。 
A. 被動可靠度控制設計 
   假設致動器被區分為F和H 兩組，在F
中的致動器可以允許壞掉，而存在於H 中
的致動器不允許壞掉。系統(1)-(2)變成： 
 21 xx =&                       (3) 
 和 2x = f( 21 ,xx )+ FF uxx ),( 21G  
          + HH uxx ),( 21G +d .      (4) 
在 (3)-(4) 中 假 設 nRu ∈H 和 ),( 21 xxHG  
nn×∈R 為非奇異矩陣。在F 中的致動器容
許儘可能的壞掉。首先假設在F中的致動
器不正常動作。系統(3)-(4)變成： 
21 xx =&                       (5) 
 和 2x = f( 21,xx )+ uxx ),( 21G  
        + ))(,( 21 FFF uuxx −∗G +d .    (6) 
其中， ∗Fu 和 Fu 代表在F中實際的和設計的
控制器值。此法是將 ))(, ( 21 FFF uuxx −∗G 當
作額外的干擾且組成一個控制律來補償這
項錯誤。我們選擇一個滑動平面： 
         0s xx =+= 12 M          (7) 
其中 nnM ×∈R 為一個正定的矩陣。如果系
統狀態保持停留在滑動平面上，則降級模
型(reduced model)會有下列形式： 
           0xx =+ 11 M&           (8) 
意指 0x →1 且 0xx →−= 12 M 。也就是說，
穩定性能將會被實現，且本研究的目的可
以被達成。從(5)-(7)，我們可以得到： 
)9(       .),(
),(,
221
2121    
12
    
)(
xduxx
uxxxx
xx
f
s
M
M
G
G
++∗+
+=
+=
FF
HH
&&&
為了補償雜訊和錯誤的影響，我們做了以
下的假設： 
假設 1: 
存 在 非 負 純 量 函 數 ),( ti xρ 使得對於
ni ,,1 L= 有 ),()),(( 21 tG ii xduxx ρ≤+∗FF 。 
依照可變結構控制設計程序[14]，可變
結構控制律可以被設計成： 
22121
1 ),(){,( xxxfxxu MG +−= −HH  
               )}.sgn(s⋅Λ+ H   (10)
其中 ),(,,),(( 11 ttdiag nH xx ρηρ L+=Λ  
)nη+ ，對於 ni ,,1 L= ， 0>iη ， )sgn(⋅ 為 
sign 函數， Tnss ))sgn(,),(sgn(:)sgn( 1 L=s 。 
在 Hu 控制之下，由(9)和假設 1，可得： 
    sss ⋅−≤⋅−≤ ≤≤=∑ )min(11 ini
n
i
ii
T s ηη& .  (11) 
不等式(11)表示系統狀態將會到在有限時
間內抵達滑動平面。我們進一步設計 Fu 使
得當制動器都正常時，可以促進系統的效
能。從(3)-(4),(7)和(10)，我們可以得到： 
∑
=
⋅−≤
n
i
ii
TT sG
1
21 ),( ηFF uxxsss & .  (12) 
使得系統狀態比 0u =F 的情況更快迫近滑
動平面其中一種選擇是： 
     )),(sgn( 21 sxxu TGFFF ⋅Λ−=     (13) 
其中 ),,( 1 mnnH diag ++=Λ ρρ L 且對於 ,1=i  
m,L 而言， 0≥+inη 。我們得到以下定理： 
定理 1: 
若假設 1 成立，則在(10)和(13)的控制律
 6
其中g 代表重力轉矩，t代表外部雜訊的總
和，h代表總角動量，ω代表主軸的角速
率，[ ]b⋅ 代表對應於整體架構，以 yx ee , 和 ze  
作為整體架構的三個基底向量。則總角動
量表示成： 
yyyyxxxx II ehehh )()( ωω ωω +++=  
    zzzzI eh )( ωω ++               (22) 
其中 yx II , 和 zI 是對應於 x,y 和 z 軸的慣
量， yx ωω , 和 zω 定義了對應於 x,y 和 z 軸的
角速率，而 yx ωω hh , 和 zωh 是輸入轉矩。將
(22)代入(21)，我們可以得到： 
=+ tg








−+−++
−+−++
−+−++
xyyxyxxyzzz
zxxzzxzxyyy
yzzyzyyzxxx
III
III
III
ωωω
ωωω
ωωω
ωωωωω
ωωωωω
ωωωωω
hhh
hhh
hhh
)(
)(
)(
&
&
&
                                (23) 
令 θθφθ == yx , 和 ϕθ =z 為三個尤拉角
(Euler’s angles)，則角速率和尤拉角速率有
以下的關係式[3]： 
x,y,zE =⋅+= αωθω ααα    ),( 20 e&   (24) 
其中， 0ω 代表軌道速率， 2E 是正交於軌道
平面之軌道參考架構的單位向量。方程式
(24)可以被再寫成以下的向量形式： 
.
)sinsincossin(cos
)sinsinsincos(cos
cossin
0
0
0








−+
−+
−
=
θφϕφϕωϕ
φθϕφϕωθ
θϕωφ
ω
&
&
&
 
                               (25) 
除此之外，重力梯度轉矩被表示成[3]： 
.
sin2sin)(2/3
cos2sin)(2/3
2sincos)(2/3
2
0
2
0
22
0








−−
−−
−−
=
φθω
φθω
φθω
yx
xz
zy
II
II
II
g    (26) 
在本研究中，為了簡化，我們假設推進器
是唯一的控制力道，意指對於 zyxi ,,= 而
言 0h =iω 和 0h =iω& 。在整合方程式(25)，(26)
和(23)，且定義狀態變數 === 321 ,, xxx θφ  
ϕθφϕ &&& === 654 ,,, xxx ，衛星動態可以被描
述成為 (1)-(2)，其中 ,,,,,( 54321 xxxxx=x  
Tx )6 ， Tzzyyxx III )/,/,/( tttu = ， 3)( IG =x  
且 )(xf 可以被表示成如[12]中所述。在實際
的應用中，一個系統時常擁有致動器的冗
餘，中華衛星二號(ROCSAT-II)[22]即是一
個例子。在這個研究中，我們假設衛星有
四個推進器，這四個推進器的效果經由矩
陣轉換成為三個主軸的方向： 
 . 
28.00.280.280.28
69.069.069.069.0
67.067.067.067.0








−−
−−=S  (27) 
在這種設定下，整個系統的動態有(1)-(2)
的形式， )(xG 被 S 所取代，新的控制 =u   
),,( 41 uu L 滿足 Tzzyyxx IIIS )/,/,/( tttu =
關係。 
   針對衛星系統，本研究也提出了一種錯
誤偵測與診斷觀察器的設計來配合主動式
可靠度控制任務。考慮座標轉換： 
         11 xz =  和 22 xz P=      (28) 
其中 1321 )(: −= g g gP 。系統(1)-(2)有新的狀
態變數變成： 
2
1
1 xz
−= P&          (29) 
和 uzzfz )()(2 newnew G+=&      (30) 
其中： 
       ),()( 2
1
1 zzfzf
−= PP newnew     (31) 
和 . 
100
010
001
)()(
3
2
1








==
l
l
l
PGG new xz  (32) 
所有的 21,ll 和 3l 都是非零的因為從 )(xG 中
任取三個行都是線性獨立的。更進一步，
由(30)和(32)，對於 3,2,1=i 而言， 3+iz 只受
到致動器 iu 和 4u 的影響。眾所周知的，只
有一個或兩制動器時，追蹤效能不易達
到，因此，以下我們只考慮一個致動器發
生錯誤。由轉換系統(29)-(30)，一個觀察器
被提出如： 
3,2,1 ),()( 34 =−⋅+++= + izkuluf iiiiinewii ξξ z&
                                 (33) 
且 0>ik 。定義殘量訊號(residual signals)： 
        .3,2,1  ,3 =−= + izr iii ξ        (34) 
我們將證明任何致動器錯誤可以被偵測和
診斷。假設只有第一個致動器發生錯誤，
 8
 
圖一：(a) 三種可靠度設計其狀態的範數 
(b)控制的範數 (c) 錯誤偵測和診斷機制 
的殘量訊號 (d) 警告訊號。 
 
四、計畫成果自評 
 
本計畫的主要目的在於利用可變結構
可靠度控制的方法來研究可靠度輸出追蹤
控制器的設計。研究中提出的主動與被動
可靠度控制器不需要求解 Hamilton- Jacobi
方程式或不等式，因此能節省傳統利用最
佳化方法設計可靠度控制器所需付出解
Hamilton-Jacobi 方程式或不等式之龐大計
算成本。當系統錯誤發生時，主動式控制
所需要的控制大小通常小於被動式的設
計，因為主動式的設計包含了錯誤偵測與
診斷的資訊。因此，透過主動式的設計方
式，實際系統的最大力道限制很容易被滿
足。此外，由於主動式設計不需要先假設
可能的錯誤發生模式，工程師可以在錯誤
發生之前採行他們所喜好的控制器來達到
最佳性能要求。因此，若錯誤偵測與診斷
的訊息可以即時且正確地獲得的話，主動
式設計將可達到較好的性能表現。本研究
提出的設計方式也應用到了飛彈側彎之模
擬，模擬結果也充分的驗證了所提可靠度
設計的好處。 
本計畫在這一年內已完成下列工作
項目： 
1. 建立具有控制輸入冗餘(redundancy)之
衛星姿態控制模式。 
2. 針對所建立的衛星姿態控制模式設計被
動式可靠度控制法則。 
3. 針對所建立的衛星姿態控制模式發展控
制系統致動器線上即時（on line and real 
time）錯誤偵測與診斷之機制。 
4. 發展結合錯誤偵測與診斷結果之主動
式可靠度控制策略以達到能使系統在
發生不正常狀況時達到最適切的性能
表現。 
5. 針對所建立的衛星姿態控制模式建構
LQR 或 H ∞之最佳化可靠度控制策略。 
6. 經由泰勒展開公式(Taylor formula)建
立求解 LQR 或 H ∞最佳可靠度控制策
略所需面對的 Hamilton-Jacobi equation
之遞迴(recursive)數值解法。 
7. 比較系統在一般(非可靠度)設計與上
述三種可靠度控制策略之閉迴路控制
系統在致動器正常及異常下之性能表
現。比較之性能包括： 
(1) 是否能達成系統穩定之目標。 
(2) 達到系統穩定所需花費的時間。 
(3) 達到系統穩定所需耗費的能源。 
(4) 控制過程中所需之最大致動器輸出
值(maximum control magnitude)。 
(5) 達到系統穩定所需之綜合二次性能
表現(quadratic performance)。 
8. 針對上述議題考慮系統具有模式誤差或   
外界干擾之可靠度性能表現。 
就計畫而言，我們已經達到了預期的
成果。這些研究成果有些已發表於國內外
期刊及研討會，有些已整理完成投稿於國
際期刊。截至目前為止，此計畫的相關研
究成果與投稿情形如下：  
1. 國際知名期刊 3 篇。包括有 IEICE Trans. 
Fund. of Electronics, Communications 
and Comp. Sciences（已被接受發表)；  
IEEE Trans. Automatic Control（已被接
受將發表於 2006 年 10 月) ； IEEE 
Trans. Control Systems Technology（目
前稿件已被接受將發表於 2007 年)。  
