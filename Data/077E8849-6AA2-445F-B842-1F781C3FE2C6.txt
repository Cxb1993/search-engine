 1
行政院國家科學委員會補助專題研究計畫 ▉ 成 果 報 告   □期中進度報告 
 
OSGi 車載導航與座艙資訊娛樂之嵌入式系統設計與實作 
 
 
計畫類別：▉ 個別型計畫  □ 整合型計畫 
計畫編號： 100-2221-E-024-010 
執行期間： 100 年 8 月 1 日至 101 年 7 月 31 日 
 
計畫主持人：高啟洲 
計畫參與人員：林易瑲、王君豪、洪英智 
 
 
成果報告類型(依經費核定清單規定繳交)：▉精簡報告  □完整報告 
 
本成果報告包括以下應繳交之附件： 
□赴國外出差或研習心得報告一份 
□赴大陸地區出差或研習心得報告一份 
▉出席國際學術會議心得報告及發表之論文各一份 
□國際合作研究計畫國外研究報告書一份 
 
 
處理方式：除產學合作研究計畫、提升產業技術及人才培育研究計畫、
列管計畫及下列情形者外，得立即公開查詢 
          □涉及專利或其他智慧財產權，▉一年□二年後可公開查詢 
          
執行單位：國立台南大學資訊工程系 
 
 
中    華    民    國  一 百 零 一  年  十  月  十   日 
 3
呈現。隨著網際網路及無線通訊的蓬勃發
展，車用資訊系統的應用也漸漸與無線網路
緊密結合在一起。 
傳統的車載資訊系統，皆以滿足單一特
定功能而設計，系統內所應用的主要控制技
術還是以單晶片控制系統為主，且各功能模
組間彼此互相獨立，無法實現資源共享與相
互操作(interoperation)的便利性，也難以因
應未來服務項目需求的擴增。目前的國內行
車資訊服務最常見有兩類：一為行車記錄暨
車輛監控系統，一為汽車衛星定位導航系
統。目前相關之產品已相當多，例如行車資
訊監管系統  [4]、  GPS 監控系列  [5]、
PaPaGo [6]等。國外在「行車資訊整合系統」
上的發展，已遠超過汽車導航系統所能提供
的服務，例如美國通用汽車的 OnStar 系統 
[9]、德國西門子發展的 Vdodayton 系統 
[8]。以上這些系統皆尚未提供無線上網之功
能。目前商品化的行車資訊系統，例如
NISSAN 之 TOBE [7]，主要的功能是以全球
行動通訊系統 (Global System for Mobile 
Communications, GSM)和 GPS 定位等技術
整合而成，其中的生活資訊只提供經過裁剪
的簡易資訊，例如：新聞、路況、氣象、英
語學習等，尚無法提供網際網路接取及多媒
體影音服務等。 
由於車載系統將做為智慧家庭網路服
務的延伸平台，未來勢必將會有更多的應用
服務加諸其上，所以更為重要的是還必須具
備開放性與擴充性的設計架構。本計畫將以
開 放 式 服 務 平 台 OSGi(Open Service 
Gateway initiative)[10-11]作為本車載資訊系
統的服務平台。OSGi 組織成立於一九九九
年三月，其成立的目的在於建立一個開放性
的服務平台。初期主要是應用於家庭網路 
(home network) 建置的需求而訂定的家用
閘道器  (Residential Gateway, RG)標準規
範。隨著以服務為導向的 OSGi 平台設計特
性受到市場的歡迎，此一平台技術也逐漸延
伸到汽車、手機等設備上，作為服務擷取與
運作的標準平台。對汽車資訊服務而言，
OSGi 服務閘道為車載資訊系統中的主體，
連結車內網路(in-vehicle network)與外部廣
域網路。透過網路，汽車使用者可以從服務
提供商(service provider)下載各種所需的資
訊服務，自動安裝於車輛上執行。圖一為符
合 OSGi 規範的閘道器與服務提供者之間的
架構圖。圖中顯示未來的數位生活將由家庭
網路、辦公室網路與汽車網路所共同建構
出。這些網路都以符合 OSGi 規範的閘道器
串連，使得汽車的車載資訊系統可以與家庭
網路與網際網路連繫，以取得服務提供商遠
端服務。 
 
圖 1. OSGi 家用閘道器與服務提供商架構
《取自 OSGi Alliance》 
三、 研究方法及成果 
本計畫所提的『OSGi 車載導航與座艙
資訊娛樂之嵌入式系統設計與實作』將分兩
部份執行，第一部份將完成車載資訊系統平
台設計，第二部份將開發衛星定位處理及座
艙影音娛樂系統並整至 OSGi 系統平台，以
提供駕駛人愉快便利的行車服務，以下說明
本計畫的研究方法。 
第一部份：發展建構車載資訊系統平台： 
 環境平台的架設與設計：建構一個符合
OSGi 的環境並提供一個完善的 API 
Bundle 讓衛星定位處理及座艙影音娛樂
系統能夠透過 API Bundle 來開發相關的
服務包。 
 通訊系統的整合：建構一個完善的通訊系
統，以連結車載的通訊系統來取得服務。 
 完善的人機介面：開發一套人機管理介
面，透過人機介面可以取得各種服務。 
本車載系統平台以 32 位 XScale 嵌入式
處理器系列為主，完成其相關嵌入式軟硬體
的設計與移植，車載系統平台規劃如圖二所
示，車載系統平台可分為三層：硬體層、系
統層、應用層。 
 應用層 
應用軟體層的功能在於提供駕駛及乘
客使用介面，包含行車資訊、多媒體播放
器、衛星導航系統、安全駕駛防撞系統、資
訊同步下載系統等部份。系統底層的設計包
含了底層趨動程式撰寫(drivers)、嵌入式作
 5
Access(RDA)技術可以無線或有線的方式存
取遠端的資料庫，如圖四。SQL server 2000 
CE 內建 ADOCE 3.1 物件，可供程式設計
人員配合 eVB、Active Server Page(ASP)等
技術，開發程式進行 SQL 資料庫連結及其
應用。由於運用方式與常見的 SQL server 
2000 的 ADO 方法相同，可節省程式開發時
間。 
 
圖四 Remote Data Access Model 
 導航與座艙娛樂功能 
本計畫應用軟體的開發，以 Mircrosoft
的 eMbedded Visual Tools(內含 eVB 和
eVC++) 及 WinCE platform SDK(for 
Handheld PC)為工具來撰寫。另外也會將所
開發的各子系統以OSGi Bundle的方式包裹
發佈至車載系統上。 
四、 結論與討論 
經濟部工業局分析指出，汽車是系統整
合的火車頭產業，技術關聯性強。如果推動
成功，將可提升本國電子、化學、機械產業
技術，並創造每年數千億元產值。有鑒於面
板產業與消費性電子產業在台灣蓬勃發
展，因此台灣多數廠商皆以汽車影音系統為
進軍車用電子市場的首選產品。此外，可應
用於汽車上的電子產品與技術眾多，本國廠
商也朝向與安全較無相關的車身系統與行
車與駕駛資訊系統發展。在本計畫所提出之
車載資訊系統採用 OSGi 平台，並整合汽車
內部網路、網際網路與通訊網路上的各式應
用，將為新一代汽車上重要的電子配備，也
是我國發展汽車電子產業重要的產品項目
之一。此外，預期未來以服務為導向的新興
商業模式即將普及，開拓各式各樣多元化的
汽車資訊應用，伴隨著本車載資訊系統平台
而來，而一般的使用者，也因此親身體驗到
科技所帶來的幸福。本研究的研究結果，除
了已發表於重要的研討論文[12-14]及 SCI
期刊論文[15]中，產生影響深遠的學術成果
外，也實際實作出系統，圖五是系統實作的
電路板而實際系統則顯示在圖六中，目前正
尋求技轉的可能性。 
 
圖五 系統實作的電路板 
 
圖六 系統操作圖 
1 
 
Laplacian-Based H.264 Intra-Prediction Mode Decision 
 
Chi-Chou Kao 
Department of Computer Science and Information Engineering  
National University of Tainan  
Tainan, Taiwan 
Yen-Tai Lai and Chao-Feng Tseng  
Department of Electrical Engineering 
National Cheng Kung University 
Tainan, Taiwan 
 
 
Abstract—Compared with the conventional video coding 
standards, H.264 provide new coding techniques, such as Multi-
picture inter-picture prediction, Variable block-size, Quarter-
pixel precision for motion compensation, intra prediction, 
Context-adaptive variable-length coding and Context-adaptive 
binary arithmetic coding. Intra coding is used for reducing the 
spatial redundancy in video coding. H.264 supports several MB 
(Macroblock) predictions for Intra coding such as luma block 
four 16×16 modes, nine 4×4 modes and chroma block four modes, 
which significantly improve Intra coding efficiency, but increase 
the encoding complexity. This paper presents an approach to the 
intra mode decision problem. Based on Laplacian, this approach 
detects edges and then selects the best mode for the block. This 
method can shorten the time to choose a mode and reduce the 
encoding time as well. 
Keywords- H.264, Laplacian, intra mode, video coding 
I.  INTRODUCTION 
The generation of video compression standard H.264 [1] 
has a more excellent data compression rate than the video 
compression standards MPEG-2 [2], H.263 [3] and MPEG-4 
[4]. H.264 adopts multiple sophisticated prediction techniques 
such as multiple reference frames, variable block sizes, quarter-
pixel accuracy, enhanced intra-pre-diction, and so on, to 
achieve much higher coding efficiency [5], but at the expense 
of heavy computational complexity [6]. Therefore, how to 
reduce the computational complexity while maintaining almost 
the same coding gain and the total bit rate is the main objective 
on designing a fast mode decision algorithm for H.264 [7]. In 
previous compression standards, the intra mode encoding is 
directly applied to the block of DCT pixel value. In H.264, 
intra mode coding forecasts the value of the current block by 
using the neighbor blocks  
There are two types of Intra mode coding in H.264, Intra 
16×16 mode and Intra 4×4 mode. Intra 16 × 16 mode has four 
types of forecasting methods and Intra 4 × 4 mode has nine 
prediction methods. To achieve the best coding efficiency the 
Rate-Distortion Optimization (RDO) is employed to select the 
best mode. In order to do so, all the above modes are tried and 
the one that leads to the least RD cost is selected to achieve the 
best trade-off between rate and distortion performance. 
A. Intra 16×16 Prediction  
Full-macroblock intra prediction is used for luma in a 
macroblock type called intra 16×16 macroblock type. Chroma 
intra prediction always operates using full-macroblock 
prediction. Because of differences in the size of the chroma 
arrays for the macroblock in different chroma formats (i.e., 8×8 
chroma in 4:2:0 macroblocks, 8×16 chroma in 4:2:2 
macroblocks, and 16×16 chroma in 4:4:4 macroblocks), 
chroma prediction is defined for three possible block sizes. The 
prediction type for the chroma is selected independently of the 
prediction type for the luma. 
B. Intra 4×4 Prediction 
Intra 4×4 prediction for luma can be alternatively selected 
(on a macroblock by macroblock basis) by the encoder. In 4x4 
spatial prediction mode, the values of each 4×4 block of luma 
samples are predicted from the neighboring pixels above or left 
of a 4×4 block, and nine different directional ways of 
performing the prediction can be selected by the encoder (on a 
4x4 block basis) as illustrated in Fig. 1 (and including a DC 
prediction type labeled as mode 2, which is not shown in the 
figure). Each prediction direction corresponds to a particular 
set of spatially dependent linear combinations of previously 
decoded samples for use as the prediction of each input sample. 
 
Figure 1.  Intra prediction of 4×4 block 
C. Rate Distortion Optimization (RDO) 
H.264/AVC standard uses the Lagrangian Rate-Distortion 
cost function as a trade-off between rate and distortion. The 
function considers these two factors and chooses the best mode 
for a block. RD cost equation is as follows: 
RλDJ ×+=  
Where λ is Lagrangian multiplier, R is the number of bit after 
complete encoding and D is the sum of square differences 
(SSD). SSD is defined as follows: 
( ) ( )[ ]2∑ −= x,y x,yPx,yISSD  
Where I(x, y) is the original block and P(x, y) is the block after 
prediction. The function above can achieve the best 
performance but blocks must go through DCT, quantization, 
This work was supported by National Science Council, Taiwan NSC 100-
2221-E-024-010 
3 
 
The horizontal axis of the graph represents the tonal 
variations, while the vertical axis represents the number of 
pixels in that particular tone. An example is shown in Fig. 2. 
The left side of the horizontal axis represents the black and 
dark areas, the middle represents medium grey and the right 
hand side represents light and pure white areas. The vertical 
axis, on the other hand, represents the size of the area which is 
captured in each one of these zones. 
 
Figure 2. (a) Laplacian (b) The histogram after statistics 
The pixels along the location edge normally have similar 
values. Therefore, we can make a good prediction if the pixels 
in a neighboring region are in the same edge direction. See Fig. 
3. In H.264/AVC, there are four prediction modes for each 
16×16 block. If we can detect the edge direction of each block 
in advance, only a small number of prediction modes, which 
are along or nearly along the direction, are chosen as 
candidates for intra-prediction. 
 
(a)                       (b)                       (c) 
Figure 3. Direction (a) 90。(b) 180。 (c) no edge  
Similarly, there are nine prediction modes for each 4×4 
block. We detect the edge direction of each block in advance, 
only a small number of prediction modes, which are along or 
nearly along the direction, are chosen as candidates for intra-
prediction as shown in Fig. 4. Therefore, the computation 
complexity can be largely reduced.  
 
 
(a)                   (b)                    (c)                     (d)                     (e) 
Figure 4. Direction (a) 90。(b) 180。(c) no edge (d) 45。 (e) 135。 
In summary, the flow chart of the intra mode decision 
algorithm is illustrated in Fig. 5. 
III. EXPERIMENTAL RESULTS  
The JM reference software can be modified for being used 
in our experiment. Verification environment is depicted in 
Table I. When QP is 28, eight sequences are encoded. The 
experimental results are shown in Table II. In the experiment, 
selective intra mode decision method (SIMD) [29] and early 
intra mode skipping technique (EIMST) [30] are compared 
with the proposed algorithm as shown in Table III. 
IV.  CONCLUSIONS 
A mode decision algorithm is proposed for the H.264/AVC 
video coding. Although the intra prediction technique gives 
high compression ratios, it requires considerable 
computational complexity. Since the intra mode decision 
algorithm can be one of the solutions to reduce processing 
time. The comparative experimental results demonstrated that 
the proposed algorithm can significantly reduce the 
computational complexity of H.264/AVC encoding by 
sacrificing small PSNR and bit rates. The proposed mode 
decision algorithm can reduce 70% of encoding time, on 
average. 
Start
IntraChromaPrediction8x8
Mode=best_mode;
End
Intrapred_luma_4x4
RDCost_for_4x4IntraBlocks
Mode_Decision_for_Intra4x4Macroblock
Laplacian operator
Histogram 
Intra16x16 
Mode 0~2
Detection
Intra16x16 
Mode 0 ~2
prediction
Yes
Intra4x4 
Mode 0 ~ 4
Detection 
Intra4x4 
Mode 0 ~ 4
prediction
Yes
No
No
Block no.=16?
Yes
No
 
Figure 5. Decision flow 
TABLE I SIMULATION CONDITION 
Profile Baseline 
Total Frame 1 
Entropy Coding CAVLC 
GOP I 
QP 28 
RD Optimization On 
Frame Rate 30 
Hadamard On 
CPU Core™2 Quad Processor Q9550 
RAM 6 GB 
Coder Version JM 8.6 
 
2012 資訊技術應用與管理研討會                                                                                         高雄，中華民國一 O 一年五月 
2012 Information Technologies, Applications and Management Conference                                          Kaohsiung, May 2012 
1 
 
最小化時脈誤差之可調式延遲緩衝器安排演算法 
 
王君豪、高啟洲 
國立台南大學資訊工程系 
Email: cckao@mail.nutn.edu.com 
 
 
        摘要 —在同步化的電路設計中，時脈誤差(Clock 
skew)要達到最小化是有難度的，主要是因為不同模式
中所需的電壓並不相同。在這篇論文之中，我們使用可
調式的延遲緩衝器(adjustable delay buffers)以最小化時
脈誤差。針對無可調式延遲緩衝器個數的限制下，我們
先假定起始已有 k 個位置放置了可調式的延遲緩衝器，
並使用線性時間的演算法來調整這些可調式的延遲緩衝
器，使時脈誤差最小化，接著再對此起始解逐步調整，
直到所有限制條件得以滿足。此外，對有可調式延遲緩
衝器個數的限制下，我們也提出另一有效的安排演算
法，實驗結果已證實我們方法的可行性。1 
一、 簡介 
       在同步的電路設計之中，一個訊號就是必須傳送到
一整個序列的各個元件。而時脈誤差(時脈誤差)的定義
就是說一個訊號送出之後，其抵達各個元件的時間是不
相同的，這可能有很多原因，像是溫度的變化、各元件
不同的材質，或者元件跟元件之間相連接的長度不同…
等。圖一就是一個時脈誤差的例子。因此在一個高效能
的設計之中，時脈誤差是必須要被作一些限制或調整。
為了要平衡時脈誤差通常會利用一個緩衝的樹的結構來
減少時脈誤差，這個樹就稱為時脈樹(Clock tree)。 
        
圖一 ：時脈誤差例子 
        已有許多的研究藉由時脈緩衝區的插入/調整(clock-
buffer insertion/sizing)以及連線調整(wire-sizing) 的技術
減時脈誤差[1-3, 7-9, 12]。並且由於流程以及環境的改
變之後，[4-6, 10-11]也提出了插入可調式的延遲緩衝器
來做為調整的方法。雖然有很多的方法提出來試圖去減
 
1 本研究由國科會贊助，計畫編號 NSC 100-2221-E-024-010。 
少時脈誤差，但可惜的是這仍然是一個相當困難的問
題，尤其是在一個複雜的電壓模式的環境底下，當開始
運作時，每個區塊要完成不同事情且希望達到效能最佳
的電壓並不完全相同。舉例來說，圖二是一個工業上的
設計，實際上有 45 個模組，而每一個模組被設計成有
四種電壓等級，對於各式各樣的效能需求來說，這個設
計會有超過 50 種的電源模式，圖二列出了 4 種不同的
模式，包括在全速(Full Speed)的模式中總共有三個模組
(MPU、DSP、AHB)，而三個模組都需要 1.1V 的電壓來
運作；在 Idle 模式之中，MPU 跟 AHB 都需要 0.9V 的
電壓來運作，而 DSP 則是不需要電壓；在 Active1 跟 2
之中 MPU 跟 AHB 都需要 1.1V 的電壓來運作，但 DSP
只需要 1.0V 即 0.9V 就可以了。當我們所需要的模式不
同之時，每一個模組所需要的電壓都不相同，在這種情
況之下是很難有一個時脈樹可以使得時脈誤差最小化。 
        
圖二 ：工業例子 
       就我們所知，目前還沒有一種事先預知的方法可以
在以圖二為例的這種複雜的電源模式底下讓時脈誤差達
到最小化。一個比較簡單且常用的方法是先滿足最差的
模式，然後再從這個部分慢慢的擴展開來，使其他模式
也能滿足所需要的要求。雖然說在[9, 11]之中使用自行
調整(self-adjustment)的技術及可調式的延遲緩衝器，但
是他們只能最小化時脈誤差的靜態變化，這顯示出在不
同電壓模式中，使時脈誤差最小化的目標是相當困難
的。 
       在這篇論文中，針對無可調式延遲緩衝器個數的限
制下，我們先假定起始已有 k 個位置放置了可調式的延
遲緩衝器並使用線性時間的演算法來調整這些可調式的
延遲緩衝器，使時脈誤差最小化，接著再對此起始解逐
步調整，直到所有限制條件得以滿足。此外，對有可調
式延遲緩衝器個數的限制下，我們也提出一個可調式的
延遲緩衝器放置的演算法來找出可調式的延遲緩衝器所
2012 資訊技術應用與管理研討會                                                                                         高雄，中華民國一 O 一年五月 
2012 Information Technologies, Applications and Management Conference                                          Kaohsiung, May 2012 
3 
 
相減所得到的就是這個區的時脈誤差，以(ADB1)來說他
的時脈誤差是 6-4=2，也就是說 patition(ADB1)的誤差
(skew)就是 2，分配前後時脈誤差的差異顯示在圖六。 
 
圖五：切割後的葉節點 
 
圖六：分配前後時脈誤差的差異 
3.2 最佳化時脈誤差 
本節將討論如何調整可調式延遲緩衝器的值以最小
化時脈誤差。基本的想法是希望最早抵達的時間都是相
同的，如果說所有分區抵達的時間都能一致的話，時脈
誤差的值就會跟所有分區之中時脈誤差最大區的值相
同。從前面我們可以知道改變 root 是沒有意義的，因為
全部都會一起變，也就是說分在 root 之中的最早抵達的
那個時間點是不會被改變的，因此我們就希望說所有最
早抵達的時間都能夠跟 root 之間的最早抵達的那個時間
點相同。 
假設 




)2(  otherwise  ;   )()(
)1(    )()(      ;     0   
EQADBearliestADBearliest
EQADBearliestADBearliest
ADB
iroot
rooti
i
 
，我們從最靠近根(root)的可調式延遲緩衝器開始去計算
ADB 值 ， 以 圖 五 為 例 ， 順 序 是 ADB1 、 ADB2 、
ADB3、ADB4 下去做計算。當第一個算完之後，會對
其先做更新然後再算第二個值，也就是說當我算完
ADB1 的時候，我們會先將值做一個更新，然後再算
ADB2。舉圖五的例子來說，首先對 ADB1 做計算，而
ADB1 最早抵達的時間是 4 小於根最早抵達的值，因此
根據算式我們將 10-4 得到 6，因此 ADB1 的值是 6，接
著再更新此值，葉節點 A 跟 B 變為 8 跟 11、C 跟 D 會
變為 10 跟 12、E 跟 F 變為 10 跟 15，接下來再去計算
ADB2，此時 ADB2 最早的抵達時間變成了 8，不過還
是小於 root 的 10，因此一樣用 10-8=2，也就是 ADB2
的值為 2，更新 AB 變成 10 跟 13 之後做 ADB3，ADB3
最早抵達時間的值為 6，小於根的 10，所以用 10-6=4，
因此將 I、J、K、L 更新為 10、11、12、13，最後
ADB4 的部分，由於最早抵達時間為 12 比 root 的時間
要來的大，因此我們就將 ADB4 的值設定為 0，也就是
不需要做其他更新。所以最後的時脈誤差變成了 5，比
起原來的 12 小了相當多。 
3.3 減少最大的時脈延遲 
        本節將看是否能夠盡量減少最大時脈延遲，我們將
觀察整個時脈樹看看是不是有可能降低最大的時脈延
遲，以圖五為例，如果我希望降低最大時脈延遲，就先
考慮 15 下手，與 15 一起變動的是 12，如果此時我們將
15 跟 12 一起降低 1，變成 11 跟 14，對於整體的時脈誤
差是沒有任何影響的，而這時我們的最大延遲就從 15
降低到了 14，也就是說，如果我們能夠找到將最大值降
低，又不影響原本最佳化的時脈誤差的話，那麼我們會
盡可能的去降低已設計好時脈樹的最大延遲。 
四、有可調式延遲緩衝器個數的限制下之調整演算法 
假定說我們只有有限個可調式延遲緩衝器可利用，
我們將呈現一種有效的演算法，得到比較小的時脈誤
差。我們先利用隨機的方式取得初始的可調式的延遲緩
衝器擺放位置，接著我們開始一個一個去試，我們藉由
加一個可調式的延遲緩衝器或是減少一個可調式的延遲
緩衝器的方式，不斷的疊代幫助我們找到更好的位置，
也就是說我們在增加的過程中去尋找是不是有更好的位
置擺放，能夠幫助我們達到更好的時脈誤差的值。可調
式的延遲緩衝器的位置選擇過程如下： 
1.  考慮到在所有電源模式之中最差的時脈誤差值。 
2. 第一個可調式的延遲緩衝器位置，主要是降低這個電
源模式的時脈誤差的值，配合延遲觀查每一個位置，找
到一個最能夠降低時脈誤差值的位置擺放。 
3. 重新計算所有電源模式之中的時脈誤差值，並且確認
最差可調式延遲緩衝器位置有沒有違反我們所定義的時
脈誤差限制，如果有違反，我們就考慮次差可調式延遲
緩衝器位置，重覆第二及第三步驟，直到沒有辦法在改
善了或者是說已經滿足了我們自己所設定的時脈誤差的
限制為止。 
五、實驗結果 
        我們應用 C++來實作我們的演算法，並且以一個
2.8GHz CPU、4G RAM，作業於 Linux OS 的工作站來
執行我們的實驗，測試電路(benchmark)有包含 40 個以
上電源模式的兩個工業設計及超過 400 個的葉節點和
Flip-Flops 的 iscas89 電路中，每一個 iscas89 包含了 8 個
blocks，每一個都有兩種電壓等級可以選擇：0.9V 或是
1.1V。 
        在可調式的延遲緩衝器的實作上，可調式的延遲緩
衝器的延遲[4, 7]是沒有辦法連續的調整，我們選擇使用
可調式的延遲緩衝器其固有的延遲大概 50ps 以及一個
10PS 粒度的的調整。對於粒度的考慮，我們將我們的結
果四捨五入。可調式的延遲緩衝器的區域，我們採用的
是 72m2 跟， NAND2 細胞在 130 納米的 12m2 相比。
2012 資訊技術應用與管理研討會                                                                                         高雄，中華民國一 O 一年五月 
2012 Information Technologies, Applications and Management Conference                                          Kaohsiung, May 2012 
5 
 
參考文獻 
[1] C. J. Alpert, A. Devgan, and S. T. Quay, “Buffer insertion with 
accurate gate and interconnect delay computation,” in Proc. of 
IEEE/ACM Design Automation Conference, pp. 479–484. 1999. 
[2] J. Cong, C. Koh, and K. Leung, “Simultaneous buffer and wire sizing 
for performance and power optimization,” in Proc. of Int. Symposium 
on Low Power Electron. Design, pp. 271–276, 1996. 
[3] C. C. N. Chu and D. F. Wong, “An efficient and optimal algorithm for 
simultaneous buffer and wire sizing,” IEEE Trans. Computer-Aided 
Design, vol. 18, pp. 1297-1304, Sept. 1999. 
[4] Shiyan Hu and Jiang Hu, “Unified adaptivity optimization of clock 
and logic signals,” in Proc. of the IEEE/ACM international 
conference on Computer-aided Design, November 05-08, 2007. 
[5] N. A. Kurd, J. S. Barkatullah, R. O. Dizon, T. D. Fletcher, and P.D. 
Madland, “A multigigahertz clocking scheme for Pentium 
4Microprocessor,” IEEE J. Solid-State Circuits, vol. 36, pp. 1647–
1653, Nov. 2001. 
[6] Vishal Khandelwal and Ankur Srivastava, “Variability-Driven 
Formulation for Simultaneous Gate Sizing and Post-Silicon Tunability 
Allocation,” in Proc. of Int. Symposium on Physical Design, pp. 11-
18, 2007. 
[7] I.-M Liu, T.-L Chou, A. Aziz, and D. F. Wong, “Zero-skew clock tree 
construction by simultaneous routing, wire sizing, and buffer 
insertion,” in Proc. of Int. Symposium on Physical Design, pp. 33–38, 
2000. 
[8] T. Okamoto and J. Cong, “Buffered Steiner tree construction with 
wire sizing for interconnect layout optimization,” in Proc. of 
IEEE/ACM Int. Conf. on Computer-Aided Design, pp. 44–49, 1996. 
[9] Jeng-Liang Tsai, Tsung-Hao Chen, Charlie Chung-Ping Chen, “Zero 
skew clock tree optimization with buffer insertion/sizing and wire 
sizing,” IEEE Transactions on CAD, Vol. 23, No. 4, Jun. 2004. 
[10] J.-L. Tsai, L. Zhang, C. Chen, “Statistical timing analysis driven post-
silicon-tunable clock-tree synthesis,” in Proc. of Int. Conf. on 
Computer-Aided Design, pp. 575-581, Nov. 2005. 
[11] E. Takahashi, Y. Kasai, M. Murakawa, and T. Higuchi, “A post 
silicon clock timing adjustment using genetic algorithms,” in Digest 
of technical papers of the symp. on VLSI circuits, pages 13–16, 2003. 
[12] Kai Wang; Ran, Y.; Hailin Jiang; Marek-Sadowska, M., "General 
skew constrained clock network sizing based on sequential linear 
programming," IEEE Transactions on Computer-Aided Design of 
Integrated Circuits and Systems, vol.24, no.5, pp. 773-782, May 2005. 
 享匯流排存取與處理器 B 共享的資料，且此與
處理器 B 共享的資料必須是最新更新的資料，
但若處理器 A 的快速緩衝貯存區去取出此資料
時，此資料卻還沒被更新，此情況被稱為快速
緩衝貯存區的不一致性(cache incoherence)。在
同步處理的多處理器系統中，各自處理器的快
速緩衝貯存區很常會發生快速緩衝貯存區不一
致性的問題。為了解決此問題，我們需要設計
快速緩衝貯存區不一致性的協定。 
現今針對快速緩衝貯存區不一致性的協定
中，窺探(snooping)與直接設定(directory-based)
的方法是比較常使用的。假使頻寬足夠，窺探
協定的速度快於直接設定協定，但是窺探協定
的缺點是無法應付太多的處理器，因為系統裡
的每一個工作請求都必須廣播到所有的處理
器，使得相對頻寬必須大很多，而因為直接設
定協定是點對點的，所以就不會有這個問題，
但處理器假使少量的話(少於 64 個處理器)，反
而效能不好，因為其延遲(latency)相對是較高
的。又因為多處理器的硬體架構容易擴展以及
簡易的軟體，使得窺探協定可以有效以及重複
的使用[1]。且共享資料往往只需被存取至某些
處理器的快速緩衝貯存區，此時去窺探其他處
理器其實是浪費能源的，[2]證實了只有大約
10%的應用去存取記憶體時需要快速緩衝貯存
區一致性的追蹤，且使用窺探機制的快速緩衝
貯存區可以去節省超過 40%快速緩衝貯存區的
能源損耗[3][4]。 
本論文將針對窺探機制提出一個節能的方
法。我們所提出的方法是應用多處理器中生產
處理器(producer)及消費處理器(consumer)的關
係，產生生產處理器與消費處理器同步存取共
享資料的同步機制，以大量減少窺探(snoop)快
速緩衝貯存查表區(cache table)的次數，使其產
生顯著的節能效果。我們將剩下的章節組織如
下：第二節將介紹目前相關的研究，我們所提
出的改良式節能窺探協定則被描述在第三節，
此改良式節能窺探協定中窺探轉折點的架構設
計則在第四節中說明，實驗結果及結論則分別
被描述在第五節及第六節中。 
二、相關研究 
現今許多的研究領域都有涉及到能源一致
性的協定[6-8]。[5]是利用粗糙的(coarse-grain)
資料使得共享資訊能達到快取節能的目的以及
在某些應用上減少匯流排的負載。在[6]文中，
作者提出了一個空間性串流技術來動態標示記
憶體存取資料串流的子區段。他是透過了提前
移動串流資料到需求的處理器使得大量錯誤的
不一致性可以移除。除此之外還提高了直接設
定協定的效能。在[7]文中，Cantin 等人提出了
粗糙一致性(coarse-grain coherence)，追蹤並監控
大量記憶體區塊的一致性狀態，使得可以避免
很多不必要的廣播，以提高效能。在[8]中則評
估了一致性的預測，其目的在於預測一致性的
動作。上述的協定都是針對特定的應用而設
計，可能無法應用於多處理器系統中。 
三、改良式節能窺探協定 
本節將詳細描述我們所提出的改良式節能
窺探協定，其功能概述可分為生產者/消費者的
同步通訊機制、生產者/消費者的窺探通訊、窺
探轉折點偵測以及共享緩衝區的標示等四部
分，其詳述如下。 
(一) 生產者/消費者的同步通訊機制 
在很多的嵌入式系統的應用，彼此處理器
之間的通訊是構成生產處理器(producer)及消費
處理器(consumer)的關係，特別是串流的應用。
例如我們先假設處理器 A 為生產者，處理器 B
為生產者。那麼處理器 A 去計算一批輸入的資
2011 National Computer Symposium
Copyright©2011. National Chiayi University. All rights reserved.
29
由於在執行一個應用的時候，往往有很多
的工作緒(thread)會一起執行，這些工作緒常存
取資料在相同的記憶體位置，而作業系統很難
去決定出哪個緩衝區在哪些工作緒中是共享
的。 
所以在工作緒初始化的階段，首先作業系
統會分配給每個共享緩衝區一個唯一的識別
碼。再來註冊區域(RegisterRegion)函數會去登記
每個工作緒所有共享緩衝區的識別碼，如此便
可以知道哪些是共享緩衝區了。我們實驗出只
要有 16個不同的共享緩衝區在一個系統裡，則
此系統便能足夠應用於各個不同的工作
(multitask)。 
四、窺探轉折點的架構設計 
(一) 被動式窺探轉折點的架構 
圖二顯示被動式 STP 方法的硬體架構，首
先我們擴展快速緩衝貯存區塊來記錄緩衝區的
識別碼(Buffer ID, BID)，每個頁表(page table)的
實體(entry)對應一個 BID 表(table)的實體(entry)
且紀錄此快速緩衝貯存區塊(cache block)所共享
緩衝區的識別碼於 BID table。此 BID table是一
個獨立的 SRAM 陣列，當處理器有需求使得
cache去查cache table時，是不需要去參考到BID 
table的。於 BID table中每個 entry有四個 bit，
使得 BID table可以記錄 14個不同的 buffer ID，
剩下兩個位置拿來紀錄兩個特殊的資料。一個
紀錄是此工作(task)所用到的私人資料，假使有
窺探這些資料的話，這些快速緩衝貯存區塊
(cache block)可以完全得阻擋窺探，所以也就不
會發生快速緩衝貯存區的不一致性 (cache 
incoherence)了。 
對於記憶體頁窺探(page snoop)時，於其快
速緩衝貯存區塊(cache block)的消費者/生產者
(producer-consumer, P/C) 位元(bit)就需要去追
蹤。P/C 計數器會根據 P/C bit 不同而去做不同
的計數，我們將此不同的狀況表示於表一中。
當寫入錯誤區塊(write-miss block)時，會更新記
憶體的資料於此區塊且增加生產者計數器；寫
入擊中(write-hit)狀態則是將區塊的狀態從分享
(shared)變成修正(modified)，並且增加生產者計
數器。而當 dirty bit block被移除，則會減少生
產者計數器；當處理器 B 讀取錯誤 (read-miss)
且B的 cache blcok與處理器 A 快速緩衝貯存區
塊中的共享 BID 是一樣時，則會去將自己的
cache block 狀態從修正(modified)改變成分享
(shared)，並且減少生產者計數器。消費者計數
器是追蹤 page table 的正確性，當 P/C counter
為零的話，代表此 cache block已經沒有任何共
享緩衝區的資料，使得可能會發生快速緩衝貯
存區的不一致性(cache incoherence)，此時會去
告知窺探控制器不用再繼續窺探了。 
 
圖 二 被動式 SPT架構 
(二) 主動式窺探轉折點的架構 
回憶主動式窺探轉折點是用來最佳化被動
式窺探轉折點，使其窺探轉折點發生的時間點
可以提早，而不是跟被動式一樣等待窺探轉折
點的發生。 
在我們的方法中，能源減少的多寡取決於
第一階段能多快轉換成第二階段。儘管我們的
2011 National Computer Symposium
Copyright©2011. National Chiayi University. All rights reserved.
31
                         
也包跨了一些邏輯閘來比較 BID 以及一個計數
器來記錄共享的 BID 的數量。在消費者方面，
假使 BID一樣的話則會去把 valid (V) bit歸零。
在生產者方面，則會將資料 write back 回
buffer。如以上所述的，並有沒多餘的能源損耗
在 write back 的這個動作上。因為最後也是要
write back回 buffer的，我們只是讓這個動作再
更早一步去發生。 
五、實驗結果 
  本節中我們將使用嵌入式系統的應用來進
行實驗，以驗證我們所提出的技術。 
(一) 實驗系統架構 
此嵌入式系統有四個處理器，每個處理器
各自於數個共享緩衝區裡去處理一個計算工
作，且是以管線的方式來處理這些工作。這種
系統環境就是典型的資料串流應用的系統。生
產與消費的工作週期是互相交錯處理於各個緩
衝區裡。我們使用了M5 [9]模擬器來執行實驗，
該模擬器會去仿照 system-call 的模式，並且可
延伸一些同步的技巧，如 barrier與 mutual lock
等等。該模擬平台的配置是由四個處理器透過
共用的 bus去連接到共享記憶體。每個處理器都
有自己獨立的指令 cache以及 L1 write-back 的
資料 cache。 
 於 cache的組態上我們也測試了四種不同
的組態：即 cache大小 16K與 32K分別使用直
接對應與 four way set-associative的策略。緩衝
區大小則有 16KB以及 64KB兩種。 
實驗數據中的每個task有LU, FFT, ADPCM, 
matrix multiplication (MMUL), data encryption 
(AES、 SHA以及 blowfish), LZO-compression 
(LZO), g721 speech compression (G721)，影像處
理(blur 以及 edge-detection)還有對於多媒體處
理所經常使用到的程序，例如 fast fourier 
transform(FFT)、the inverse fast fourier transform 
(IFFT)以及the fast discrete cosine transformation 
(FDCT)。測試電路使用Mediabench [10]、
MiBench [11]以及一些開放測試的影像、視頻處
理工具。而multitask應用由以上所列的task所組
成。組成的每個應用條列如下。 
– A1 = {LU, MMUL, AES, LZO} 
– A2 = {FFT, G72, blowfish, SHA} 
– A3 = {blur, edge – detection, AES, LZO} 
– A4 = {FFT, FDCT, IFFT, AES} 
而這些代表應用於於數位濾波、語音、影像
以及視頻處理這些領域。 
(二) 實驗結果 
表二以及表三所列的是使用被動式窺探轉
折點方法實驗所得出的數據。表二為 16KB的資
料緩衝區，表三則為 64KB的資料緩衝區。表中
上面橫列 16K 與 32K 是指 cache 的大小，4SA
與 DM代表存取 cache的策略。左邊直列的 A1
到 A4代表 4個不同的應用。表中每個數據的第
一個數字代表總能源的消耗，第二個數字是
baseline snoop 的能源。 
以大部分的來看，cache越大則能源減少量
越少，這是因為 cache 越大的話，會使得 cache 
block不易被移去，導致延遲 STP的發生。但是
cache越大，會使得當要存取資料而去查表時，
會有更大的能源消耗。4SA 與 DM 的比較為
cahce 的關聯度之高低。高關聯度會使得 cache 
snoop減少，使得我們簡約能源的方法更好。而
低關聯度會常常 miss導致需要常常 snoop。 
表四以及表五所列的是以主動式的方法實
驗所得。而此方法必須引入一些硬體元件來達
成提早遷移 STP 時間點，此硬體的能源消耗我
們也有評估在內。從結果來看，很清楚可以知
2011 National Computer Symposium
Copyright©2011. National Chiayi University. All rights reserved.
33
      
“Token coherence: Decoupling performance 
and correctness,” in Proc. ISCA, 2003, pp. 
182–193. 
[2] J. Nilsson, A. Landin, and P. Stenstrom, “The 
coherence predictor cache: A 
resource-efficient and accurate coherence 
prediction infrastructure,” in Proc. ISPDP, 
2003, pp. 10–17. 
[3] M. Ekman, F. Dahlgren, and P. Stenstrom, 
“Tlb and snoop energyreduction using virtual 
caches in low-power chip-microprocessors,” 
in Proc. ISLPED, Aug. 2002, pp. 243–246. 
[4] M. Loghi, M. Letis, L. Benini, and M. 
Poncino, “Exploring the energy efficiency of 
cache coherence protocols in single-chip 
multi-processors,” in Proc. GLSVLSI, 2005, 
pp. 276–281. 
[5] A. Moshovos, “Regionscout: Exploiting 
coarse grain sharing in snoop-based 
coherence,” in Proc. ISCA, 2005, pp. 
234–245. 
[6] T. F.Wenisch, S. Somogyi, N. Hardavellas, J. 
Kim, A. Ailamaki, and B. Falsafi, “Temporal 
streaming of shared memory,” in Proc. ISCA, 
2005, pp. 222–233. 
[7] J. F. Cantin, M. H. Lipasti, and J. E. Smith, 
“Improving multiprocessor performance with 
coarse-grain coherence tracking,” SIGARCH 
Comput. Arch. News, vol. 33, no. 2, pp. 
246–257, 2005. 
[8] S. Mukherjee and M. Hill, “Using prediction 
to accelerate coherence protocols,” in Proc. 
ISCA, 1998, pp. 179–190. 
[9] N. Binkert, R. Dreslinski, L. Hsu, K. Lim, A. 
Saidi, and S. Reinhardt, “The m5 simulator: 
Modeling networked systems,” IEEE Micro, 
vol. 26, no. 4, pp. 52–60, Apr. 2006. 
[10] C. Lee, M. Potkonjak, and W. H. 
Mangione-Smith, “Mediabench: A tool for 
evaluating and synthesizing multimedia and 
communications systems,” in Proc. 30th 
MICRO, Dec. 1997, pp. 330–335. 
[11] M. Guthaus, J. S. Ringenberg, D. Ernst, T. 
Austin, T. Mudge, and R. Brown, “Mibench: 
A free, commercially representative 
embedded benchmark suite,” in Proc. WWC, 
Dec. 2001, pp. 3–14. 
[12] Chenjie Yu and Peter Petrov,” Low-Power 
Snoop Architecture for Synchronized 
Producer-Consumer Embedded 
Multiprocessing,” IEEE Transactions on Very 
Large Scale Integration (VLSI) Systems, 
September 2009. 
 
2011 National Computer Symposium
Copyright©2011. National Chiayi University. All rights reserved.
35
 7
可供推廣之研發成果資料表 
▉ 可申請專利  ▉ 可技術移轉                                     日期：100 年 10 月 10 日 
國科會補助計畫 
計畫名稱：OSGi 車載導航與座艙資訊娛樂之嵌入式系統設計與實作
計畫主持人：高啟洲         
計畫編號：NSC 100-2221-E-024-010   學門領域：資訊學門 
技術/創作名稱 車載導航與座艙資訊娛樂系統 
發明人/創作人 高啟洲 
中文：車載導航與座艙資訊娛樂系統。包括： 
一、車載導航系統。 
二、座艙資訊娛樂系統。 
技術說明 英文：Car Navigation and Cockpit Infotainment System including: 
1) car navigation system. 
2) cockpit infotainment system. 
可利用之產業 
及 
可開發之產品 
可利用之產業：嵌入式系統 
可開發之產品：車載系統 
技術特點 探討如何整合嵌入式技術、衛星定位與 3G 行動通訊與無線區域網路，以提供即時的行車定位資訊與網路通訊服務。 
推廣及運用的價值 
以開放服務網關倡議(OSGi, Open Service Gateway initiative)做為車載
資訊系統的服務平台。透過 OSGi 平台，使得車載資訊系統可以達成
智慧型車載系統目的。我們系統的主要特色除了能提供一般常見的行
車導航系統，更規劃具前瞻性的座艙多媒體影音服務。 
※ 1.每項研發成果請填寫一式二份，一份隨成果報告送繳本會，一份送 貴單位研
發成果推廣單位（如技術移轉中心）。 
※ 2.本項研發成果若尚未申請專利，請勿揭露可申請專利之主要內容。 
※ 3.本表若不敷使用，請自行影印使用。 
 1
Fast Intra Prediction Mode Decision for H.264/AVC 
Video Coding
Chi-Chou Kao 
Department of Computer Science and Information Engineering 
National University of Tainan 
Tainan, Taiwan 
ABSTRACT 
Intra coding is used for reducing the spatial redundancy in video coding. H.264 supports several 
MB (Macroblock) predictions for Intra coding such as luma block four 1616 modes, nine 44 modes 
and chroma block four modes, which significantly improve Intra coding efficiency, but increase the 
encoding complexity. In order to select the best mode, we need to calculate the cost of the various 
modes. In this paper, a fast intra prediction mode decision for H.264/AVC video coding is proposed. 
Based on Laplacian, this intra prediction mode decision detects edges and selects the best mode for the 
block. This mode decision can shorten the time to reduce the encoding time. The experimental results 
show that the proposed algorithm achieves an encoding time saving of 70% on average. 
Keywords: H.264, Laplacian, intra mode, video coding, performance 
 3
always decide the best mode. Wang et al. [15] proposed a simple dominant edge strength based 
algorithm to reduce the number of probable modes for complexity reduction. In [15], each image block 
was divided into four sub-blocks and the edge strengths of each direction were derived from 
corresponding filtering operation. Tsai et al. [16] proposed a new algorithm to improve the method 
proposed in [15], which added an inner sub-block as compared to [15] to avoid the error prediction in 
diagonal directions. Although algorithms [15-16] achieved much better results, the drawback of these 
two algorithms is that each sub-block of current block is represented by a single pixel value, so the 
results cannot exactly exhibit the edge direction of the current block. La et al. [17] used dominant edge 
direction to make a fast mode decision. Lin et al. [18] developed a simple algorithm based on direction 
detection of the edge inside the block. The above algorithms have limitations in coding performances 
and time consumption. The approaches in [19] extract the directional features of each frame and use 
them to estimate the most probable prediction modes. The solutions proposed in [20] and [21] evaluate 
the distortion produced by prediction in the transform domain, while in [22], Kim et al. jointly extract 
the features of each block from both pixels and transform coefficients. In addition, temporal correlation 
existing between adjacent frames can be used too, as it is shown in [23]. The selective mode decision 
schemes are proposed for fast intra prediction mode selection in [24]. The objective is to reduce the 
computational complexity of the H.264/AVC encoder without significant rate-distortion performance 
degradation. The paper [25] presents a Run-Time Adaptive Predictive Energy Budgeting (enBudget) 
scheme for energy-aware ME that predicts the energy budget for different video frames and different 
Macroblocks (MBs) in an adaptive manner considering the run-time changing scenarios of available 
energy, video frame characteristics, and user-defined coding constraints while keeping a good video 
quality. Many approaches employ early-termination decision in order to reduce the amount of 
computation [26]. This makes the computational complexity vary significantly according to the 
processed video sequence  
 5
Full-macroblock intra prediction is used for luma in a macroblock type called intra 16×16 
macroblock type. Chroma intra prediction always operates using full-macroblock prediction. Because 
of differences in the size of the chroma arrays for the macroblock in different chroma formats (i.e., 8×8 
chroma in 4:2:0 macroblocks, 8×16 chroma in 4:2:2 macroblocks, and 16×16 chroma in 4:4:4 
macroblocks), chroma prediction is defined for three possible block sizes. The prediction type for the 
chroma is selected independently of the prediction type for the luma. 
B. Intra 4×4 Prediction 
Intra 4×4 prediction for luma can be alternatively selected (on a macroblock by macroblock 
basis) by the encoder. In 4×4 spatial prediction mode, the values of each 4×4 block of luma samples are 
predicted from the neighboring pixels above or left of a 4×4 block, and nine different directional ways 
of performing the prediction can be selected by the encoder (on a 4×4 block basis) as illustrated in Fig. 
2. Each prediction direction corresponds to a particular set of spatially dependent linear combinations 
of previously decoded samples for use as the prediction of each input sample. 
 
Fig. 2. Intra prediction of 4×4 block. 
C. Rate Distortion Optimization (RDO) 
H.264/AVC standard uses the Lagrangian rate distortion cost function as a trade-off between 
rate and distortion. The function considers these two factors and chooses the best mode for a block. 
Rate distortion cost equation is as follows: 
 7
coordinate system, the Laplacian is given by sum of all the second partial derivatives of the function. In 
image processing and computer vision, the Laplacian operator has been used for various tasks such as 
edge detection. The Laplace operator is a second order differential operator in the n-dimensional 
Euclidean space, defined as the divergence (∇ · ) of the gradient (∇ƒ). Thus if ƒ is a twice-
differentiable real-valued function, then the Laplacian of ƒ is defined by  
2
2
2
2
2
y
f
x
ff 

       (3) 
where x and y are the standard Cartesian coordinates of the xy-plane. 
Second-order derivatives of the intensity can be used in edge-detection operators. An ideal edge is a 
discontinuity. The first derivative assumes a local maximum at an edge. For a continuous image f(x, y), 
where x and y are the row and column coordinates respectively, local maxima of the gradient 
magnitude identify edges in f(x, y). When the first derivative achieves a maximum, the second 
derivative is zero. For this reason, an alternative edge-detection strategy is to locate zeros of the second 
derivatives of f(x, y). The differential operator used in these so-called zero-crossing edge detectors is 
the Laplacian to obtain the edges [28]. 
An image histogram is a graphical representation of the tonal distribution in a digital image. It 
plots the number of pixels for each tonal value. By looking at the histogram for a specific image a 
viewer will be able to judge the entire tonal distribution at a glance. Image histograms are used in many 
modern digital cameras. Photographers can use them as an aid to show the distribution of tones 
captured, and whether image detail has been lost to blown-out highlights or blacked-out shadows.  The 
horizontal axis of the graph represents the tonal variations, while the vertical axis represents the 
number of pixels in that particular tone. An example is shown in Fig.4. The horizontal axis of the 
histogram represents the gray level value of the pixels and the vertical axis represents the number of 
pixels. The pixels at the edges in the processed image are shown in brighter color. 
 9
 
(a)      (b) 
`Fig. 4. (a) Laplacian image; (b) histogram graph after statistics. 
 
Threshold=0                Threshold=-1.19 
PSNR=41.10               PSNR=41.12 
 
Threshold=-60                  Threshold=-150 
PSNR=41.19                     PSNR=41.36 
Fig. 5. Threshold effect on intra mode selection. 
We use local statistical properties of the sequence. Let xi be a random variable which models the 
SAD value in frame i and a sliding window of length be N. If the actual frame number is n, then the 
window lies between [n − (N +1), n −1]. We compute the empirical mean value en and the standard 
deviation σn of xi in the defined window as follows: 



1
1
1 n
Nni
in xN
e  
1 9 17
 
25
 
33
 
41
 
49
 
57
 
65
 
73
 
81
 
89
 
97
 
10
5 
11
3 
12
1 
12
9 
13
7 
14
5 
15
3 
16
1 
16
9 
17
7 
18
5 
19
3 
20
1 
20
9 
21
7 
22
5 
23
3 
24
1 
24
9 
10000
8000
6000
4000
2000
0
 11
 
Fig. 6. (a) Mode 0; (b) Mode 1; (c) Mode 3; (d) Mode 4. 
4. EXPERIMENTAL RESULTS 
To verify the proposed method, reference software [30] is used in simulation. Verification 
environment is depicted in Table 1. The results are performed on a Pentium IV 2.8-GHz personal 
computer with 1-GB random access memory (RAM) and Microsoft Windows XP as the operating 
system. Several image sequences, each of which has 100 frames, were used for this experiment. The 
threshold parameters a, b, and c are set as a = -1, b = 2, c = 2. For degradation measure of encoding, two 
measurements of BDBR and BDPSNR [31] are calculated according to QP values in Table 2. T (time 
saving) indicates the percentage of processing time difference as follows: 
%100
original
proposedoriginal 
T
TT
T      (4) 
where Toriginal denotes  the  total  encoding  time  of  the encoder with RD optimization and Tproposed being 
the total encoding time with proposed fast rate estimation technique. In the experiment, selective intra 
mode decision method (SIMD) [32] and intra mode skipping technique (EIMST) [33] are compared 
with the proposed algorithm as shown in Table 2. It is seen that the proposed method can generate better 
perform than the other methods. Moreover, in Table 3, Bit rate and PSNR mean the average bit 
 13
Table 4 shows the results of the scene detection with a fixed threshold −1.91 and with the proposed 
threshold. It can be seen that the proposed threshold model has significantly improved accuracy. 
TABLE 3 
COMPARION RESULTS WITH RDO 
Sequence  RDO Proposed Comparison (%) 
PSNR (db) 35.89 35.88 0.03 
Bit rate (kb/s) 4003.68 4066 -1.56 Bus 
Time (s) 1.9 0.6 68.42 
PSNR (db) 36.44 36.46 -0.05 
Bit rate (kb/s) 2807.76 2842 -1.22 Bridge 
Time (s) 1.587 0.422 73.41 
PSNR (db) 37.39 37.44 -0.13 
Bit rate (kb/s) 663.84 662.88 0.14 Foreman 
Time (s) 0.417 0.155 62.83 
PSNR (db) 35.72 35.73 -0.03 
Bit rate (kb/s) 3837.84 3883.44 -1.19 Waterfall 
Time (s) 1.824 0.488 73.25 
PSNR (db) 37.1 37.09 0.03 
Bit rate (kb/s) 4128 4132 -0.10 Stefan 
Time (s) 1.843 0.453 75.42 
PSNR (db) 36.35 36.36 -0.03 
Bit rate (kb/s) 2664 2694 -1.13 Silent 
Time (s) 1.676 0.414 75.30 
PSNR (db) 36.94 36.92 0.05 
Bit rate (kb/s) 5418 5446 -0.52 Flower 
Time (s) 2.207 0.476 76.52 
PSNR (db) 35.48 35.49 -0.03 
Bit rate (kb/s) 3351.6 3363.6 -0.36 Coastguard 
Time (s) 1.937 0.745 61.54 
TABLE 4. 
Threshold COMPARISON RESULTS 
Sequence NC NF NM 
fixed threshold 29 10 7 zibsport 
proposed threshold 35 2 1 
fixed threshold 43 12 17 eurosport
proposed threshold 60 6 4 
We also use the reference software T264 designed by the China video encoding organization to 
make another experiments. The test sequences included eight testing QCIF-sized sequences with 
different QP=20. The frame number is 300. The entropy encoding type was CABAC. 
 15
5. CONCLUSIONS 
A mode decision algorithm is proposed for the H.264/AVC video coding. Although the intra 
prediction technique gives high compression ratios, it requires considerable computational complexity. 
Since the intra mode decision algorithm can be one of the solutions to reduce processing time. The 
comparative experimental results demonstrated that the proposed algorithm can significantly reduce the 
computational complexity of H.264/AVC encoding by sacrificing small PSNR and bit rates. The 
proposed mode decision algorithm can reduce 70% of encoding time on average. 
TABLE 5. 
COMPARISON RESULTS WITH QP=20 
Sequence Bitrate (%)  PSNR (db) T (%) Tin (%) 
Bridge 2.45 0.07 21.56 48.79 
Coastguard 2.90 0.08 18.53 43.37 
Container  2.91 0.08 19.98 46.89 
Foreman  1.05 0.03 25.48 58.23 
Mobile 0.08 0.01 15.52 37.56 
Mother-daughter  1.45 0.05 17.89 45.72 
News  0.75 0.02 24.95 62.98 
Silent 1.82 0.05 18.52 40.35 
Average  1.68 0.05 20.30 47.99 
REFERENCES 
[1] “Draft ITU-T Recommendation and Final Draft International Standard of Joint Video 
Specification (ITU-T Rec. H.264 | ISO/IEC 144496-10 AVC)” Joint Video Team of SO/IEC and 
ITU-T, March 2003. 
[2] “Generic Coding of Moving Pictures and Associated Audio Information” ISO/IEC 13818-2: 
Video (MPEG-2), May 1996. 
[3]  “Video Coding for Low Bit Rate Communication, Version 1” ITU-T Recommendation H.263, 
1995. 
[4]  “Coding of audio-visual objects - Part 2: Visual” in ISO/IEC 14496-2 (MPEG-4 Visual Version 
1), Apr. 1999. 
[5] T. Wiegand, G. J. Sullivan, G. Bjonte, and A. Luthra, “Overview of the H.264/AVC video coding 
standard,” IEEE Transactions on Circuits and Systems for Video Technology, vol. 13, no. 7, pp. 
560–576, July 2003.  
[6] J. Ostermann, J. Bormans, P. List, D. Marpe, M. Narroschke, F. Pereira, Stockhammer, and T. 
Wedi, “Video coding with H.264/AVC: Tools, performance and complexity,” IEEE Circuits and 
Systems Magazine, vol. 4, pp. 7–28, 2004.  
 17
[24] Jun Sung Park, and Hyo Jung Song,”Selective Intra Prediction Mode Decision for    H.264/AVC 
Encoders.” in Proc. World Academy of Science, Engineering and Technology, vol.  13, pp. 51-55, 
May 2006. 
[25] M. Shafique, L. Bauer, J. Henkel, “enBudget: A Run-Time Adaptive Predictive Energy-
Budgeting Scheme for Energy-Aware Motion Estimation in H.264/MPEG-4 AVC Video 
Encoder”, IEEE/ACM Design Automation and Test in Europe Conference (DATE’10), pp. 1725-
1730, March 2010. 
[26] F. Lorás and J.-C. Amiel, “Method for finding the prediction direction in intraframe video 
coding,” France International PatentWO2005/088979, Sep. 22, 2005.  
[27] Huanqiang Zeng, Canhui Cai, and Kai-Kuang Ma, “Fast mode decision for H.264/AVC based on 
macroblock motion activity,” IEEE Transactions on Cir-cuits and Systems for Video Technology, 
vol. 19, issue 4, pp. 491–499, April 2009. 
[28] Ehsan Nadernejad, “Edge detection techniques: evaluations and comparisons,” Applied 
Mathematical Sciences, vol. 2, no. 31, pp. 1507 – 1520, 2008. 
[29] A. Dimou, O. Nemethova, and M. Rupp, “Scene change detection for H.264 using dynamic 
threshold techniques,” In Proceedings of EURASIP Conference on Speech and Image Processing, 
Multimedia Communications and Service, Jul 2005. 
[30] “Joint video team (JVT) reference software,” [Online]. Available: 
http://iphome.hhi.de/suehring/tml/download/old_jm/ 
[31] G. Bjontegaard, “Calculation of average PSNR differences between RD-curves,” Doc. VCEG-
M33, Apr. 2001. 
[32] I. Choi, J. Lee, and B. Jeon, “Fast coding mode selection with rate distortion optimization for 
MPEG-4 part-10 AVC/H.264,” IEEE Trans. Circuits Syst. Video Technol, vol. 16, no. 12, pp. 
1557-1561, June 2005. 
[33] U. Mithun, “An early intra mode skipping technique for inter frame coding in H.264 BP”, in Proc. 
IEEE Int. Conf. Consumer Electronics, pp.1-2, Jan. 2007. 
 2
Communications，除發表相關論文外，也與與會專家學者交換意見。圖一為本人
與與會專家學者於研討會會場之攝影。 
 
圖一  與與會專家學者之攝影 
(二) 參加會議經過與心得 
  本 ChinaCom2012 會議著重的領域如下： 
Frontiers on Communications and Networking  
 Cooperative communication and networking 
 Cross-layer optimization and physical layer based network issues 
 Physical layer security 
 Localization and positioning 
 Cognitive ratio and software defined radio 
 Cloud base station technologies 
 Gigabit wireless systems 
 Smart grid communications and network protocols 
 Satellite communications and networks 
 Green Communications and networks 
 Machine to machine communications 
 Internet of things 
 Optical Communications and Networking  
 Optical switches architecture and performance 
 Routing and wavelength assignment 
 4
 Network Management 
 Communications QoS and Reliability 
 Network Security and Privacy 
 Survivability for Next-Generation Internet 
 Internet of Things 
 Cloud Computing 
Information and Coding Theory  
 Coding theory and practice Communication theory 
 Compression 
 Cryptography and data security 
 Detection and estimation 
 Information theory and statistics 
 Network communication theory 
 Multiple terminal information theory 
 Quantum information theory 
 Sequences and complexity 
 Shannon theory 
 Joint source and channel coding 
 Modulation and coding 
Network and Information Security  
 Security in Cloud and Grid Systems 
 Network security situation analysis and prediction technologies 
 Network risk analysis and evaluation technologies 
 Trusted Computing 
 Multilevel security system and technologies 
 Denial-of-service attacks and countermeasures 
 Wireless and pervasive/ubiquitous computing security 
 Security for critical infrastructures 
 Intrusion and anomaly detection and prevention 
 Automated tools for source code analysis 
 Malicious code analysis, anti-virus, anti-spyware 
 Privacy-preserving (and compromising) systems 
Signal Processing for Communications  
 Adaptive Signal Processing 
 Multi-rate Signal Processing 
 Synchronization 
 Precoder/Decoder Design 
 Beamforming and DOA Estimation 
 Signal Processing Techniques for Wireless Sensor Networks 
 6
Utility-based Routing and its Application in Dynamic Wireless Networks的議題進行
專題演講。在動態的無線網路中的一個首要關注的是有效地利用有限的資源，
無線網路的動態特性使得它很難在一個具有成本效益的方式利用有限的資源，
傳統單一的實用新型，如鏈路質量，能解決這一問題的不足。在這次講座中，
討論一個複合實用新型和使用在動態的無線網路及其應用的路由問題。具體而
言，此演講發表一個能整合網路效用度量成本和鏈路質量一起成功交付的路由
數據包。此外，也發表兩種集中式和分散式的高效能演算法。第二個 Keynote
是邀請來自 Key Lab. of Universal Wireless Communications of Ministry of 
Education Beijing University of Posts and Telecommunications 的 Prof. Ping Zhang
針對 Cognitive Radio Enabled TD-LTE System: Key Technologies and Testbe 的議
題進行專題演講。在演講中他說明在未來無線網路中，因高數據速率服務和更
多的頻譜資源不斷增長的需求，認知無線電技術已被提出。且動態頻譜管理和
重新配置能力也已有效使用以改善基於頻譜感知的電視空格。但如考慮到分散
的空閒頻譜資源，高效率和靈活的方法是選擇使用 TDD 的 LTE 系統的標準，因
此，此演講針對 TD-LTE 關鍵技術的 CR 系統的設計作簡要的介紹，包括電視和
TD-LTE 系統共存問題，聯合光譜遙感和地理定位數據庫技術等。此外，也基於
先進的軟體無線電平台，介紹 CR 功能的 TD-LTE 系統測試平台設計。最後，還
簡要介紹在北京郵電大學校園建立的測試平台演示場景。第三個 Keynote 是邀請
來自 Broadband and Wireless Communications Research Group University of Kent
的 Prof. Jiangzhou Wang 針對 In-building distributed antenna systems for high data 
 8
 
圖三 會議中發表論文的情形 
攜回資料： 
  2012 International Workshop on Intelligent Multimedia Computing and 
Communications 會議手冊與論文光碟。 
2 
 
variable length coding process, etc. It takes a lot of time coding 
in these processes.  
In the past, several fast intra prediction algorithms have 
been proposed. Meng et al. [8-9] proposed a fast intra-
prediction mode selection method based on partial 
computation of the cost function, early termination, and 
selective computation of highly probable modes. A  fast  
three-step  algorithm  for  H.264  4×4  intra-prediction was  
presented  by  Cheng  and  Chang  [10] to  complete  4×4 
intra-prediction by only examining six modes instead of nine 
modes in the full search algorithm. Lin and Chang [11] used 
the smoothness of the macroblock to select the intra-prediction 
block size and save computational cost. Pan et al. [12-13] 
presented an edge detection method to accelerate the mode 
decision using Sobel operator [14], which re-quires pixel-by-
pixel processing fashions. The edge direction histograms were 
calculated for 4×4 luma, 16×16 luma, and 8×8 chroma blocks. 
Most of these algorithms speed up the encoding time, but 
result in slight PSNR degradation, because those cannot 
always decide the best mode. Wang et al. [15] proposed a 
simple dominant edge strength based algorithm to reduce the 
number of probable modes for complexity reduction. In [15], 
each image block was divided into four sub-blocks and the 
edge strengths of each direction were derived from 
corresponding filtering operation. Tsai et al. [16] proposed a 
new algorithm to improve the method proposed in [15], which 
added an inner sub-block as compared to [15] to avoid the 
error prediction in diagonal directions. Although algorithms 
[15-16] achieved much better results, the drawback of these 
two algorithms is that each sub-block of current block is 
represented by a single pixel value, so the results cannot 
exactly exhibit the edge direction of the current block. La et al. 
[17] used dominant edge direction to make a fast mode 
decision. Lin et al. [18] developed a simple algorithm based on 
direction detection of the edge inside the block. The above 
algorithms have limitations in coding performances and time 
consumption. The approaches in [19] extract the directional 
features of each frame and use them to estimate the most 
probable prediction modes. The solutions proposed in [20] and 
[21] evaluate the distortion produced by prediction in the 
transform domain, while in [22], Kim et al. jointly extract the 
features of each block from both pixels and transform 
coefficients. In addition, temporal correlation existing between 
adjacent frames can be used too, as it is shown in [23]. The 
selective mode decision schemes are proposed for fast intra 
prediction mode selection in [24]. The objective is to reduce 
the computational complexity of the H.264/AVC encoder 
without significant rate-distortion performance degradation. 
The paper [25] presents a Run-Time Adaptive Predictive 
Energy Budgeting (enBudget) scheme for energy-aware ME 
that predicts the energy budget for different video frames and 
different Macroblocks (MBs) in an adaptive manner 
considering the run-time changing scenarios of available 
energy, video frame characteristics, and user-defined coding 
constraints while keeping a good video quality. Many 
approaches employ early-termination decision in order to 
reduce the amount of computation [26]. This makes the 
computational complexity vary significantly according to the 
processed video sequence. 
In this paper, a fast intra prediction mode decision for 
H.264/AVC video coding is proposed. Based on Laplacian, 
this intra prediction mode decision detects edges and selects 
the best mode for the block. This mode decision can shorten 
the time to reduce the encoding time. The experimental results 
show that the proposed algorithm achieves an encoding time 
saving of 70% on average. The rest of this paper is organized 
as follows. In Section 2, an adaptive edge directed image 
scaling system is proposed. Experimental results and 
comparison are illustrated in Section 3, and conclusions are 
remarked in Section 4. 
II. PROPOSED LAPLACIAN-BASED INTRA MODE DECISION 
RDO is not a perfect method to select a proper mode for a 
block. Consider RDO coding process. It takes 65% of coding 
time to select the mode of intra 4×4, and 11% to select the 
mode of intra16×16 [27]. Therefore, to reduce the computing 
time, we need an efficient approach to determine that either 
intra16×16 or intra4×4 is the suitable mode. Theoretically, 
Intra 16×16 mode is appropriate for homogeneous area of 
large partition size. On the other hand, Intra 4×4 mode is for 
detailed areas of small partition size. We may detect edges in a 
macroblock to determine whether it is homogeneous or not.  
The edge detection techniques have been used in digital 
image processing field. Basically, the edge detection methods 
can be classified into the first-derivative and second-derivative 
edge detection operators. The second-derivative operator can 
detect the horizontal and vertical edges simultaneously 
whereas the first-derivative operator can detect either kind of 
edges at a time. Laplacian operator is a typical second-
derivative operator and the function f(x,y) is defined as: 
2 2
2
2 2
f ff
x y
∂ ∂∇ = +
∂ ∂
 
where x and y are the standard Cartesian coordinates of the xy-
plane. 
Second-order derivatives of the intensity can be used in 
edge-detection operators. An ideal edge is a discontinuity. The 
first derivative assumes a local maximum at an edge. For a 
continuous image f(x, y), where x and y are the row and 
column coordinates respectively, local maxima of the gradient 
magnitude identify edges in f(x, y). When the first derivative 
achieves a maximum, the second derivative is zero. For this 
reason, an alternative edge-detection strategy is to locate zeros 
of the second derivatives of f(x, y). The differential operator 
used in these so-called zero-crossing edge detectors is the 
Laplacian to obtain the edges [28]. 
An image histogram is a graphical representation of the 
tonal distribution in a digital image. It plots the number of 
pixels for each tonal value. By looking at the histogram for a 
specific image a viewer will be able to judge the entire tonal 
distribution at a glance. Image histograms are used in many 
modern digital cameras. Photographers can use them as an aid 
to show the distribution of tones captured, and whether image 
detail has been lost to blown-out highlights or blacked-out 
shadows. 
4 
 
REFERENCES 
[1] “Draft ITU-T Recommendation and Final Draft International Standard of 
Joint Video Specification (ITU-T Rec. H.264 | ISO/IEC 144496-10 
AVC)” Joint Video Team of SO/IEC and ITU-T, March 2003. 
[2] “Generic Coding of Moving Pictures and Associated Audio Information” 
ISO/IEC 13818-2: Video (MPEG-2), May 1996. 
[3]  “Video Coding for Low Bit Rate Communication, Version 1” ITU-T 
Recommendation H.263, 1995. 
[4]  “Coding of audio-visual objects - Part 2: Visual” in ISO/IEC 14496-2 
(MPEG-4 Visual Version 1), Apr. 1999. 
[5] T. Wiegand, G. J. Sullivan, G. Bjonte, and A. Luthra, “Overview of the 
H.264/AVC video coding standard,” IEEE Transactions on Circuits and 
Systems for Video Technology, vol. 13, no. 7, pp. 560–576, July 2003.  
[6] J. Ostermann, J. Bormans, P. List, D. Marpe, M. Narroschke, F. Pereira, 
Stockhammer, and T. Wedi, “Video coding with H.264/AVC: Tools, 
performance and complexity,” IEEE Circuits and Systems Magazine, vol. 
4, pp. 7–28, 2004.  
[7] H. Q. Zeng, C. H. Cai, and K.-K. Ma, “A novel fast mode decision for the 
H.264/AVC based on local macroblock motion activity,” in The Fourth 
International Conference on Image and Graphics, Aug. 2007, pp. 263–
267.  
[8] B. Meng and O. C. Au, “Fast intra-prediction mode selection for 4 2 4 
blocks in H.264,” in Proc. IEEE Int. Conf. Acoust., Speech, Signal 
Process., Apr. 2003, vol. 3, pp. 389–392.  
[9] B. Meng, O. C. Au, C. W. Wong, and H. K. Lam, “Efficient intra-
prediction mode selection for 4 2 4 blocks in H.264,” in Proc. Int. Conf. 
Multimedia Expo, Jul. 2003, vol. 3, pp. 521–524.  
[10] C. C. Cheng and T. S. Chang, “Fast three step intra prediction algorithm 
for 4 2 4 blocks in H.264,” in Proc. IEEE Int. Symp. Circuits Syst., May 
2005, vol. 2, pp. 1509–1512.  
[11] Y. K. Lin and T. S. Chang, “Fast block type decision algorithm for intra 
prediction in H.264 frex,” in Proc. IEEE Int. Conf. Image Process., Sep. 
2005, vol. 1, pp. 585–588.  
[12] F. Pan, X. Lin, S. Rahardja, K. P. Lim, Z. G. Li, D. Wu, and S. Wu, “Fast 
mode decision algorithm for intra-prediction in H.264/AVC video 
coding,” IEEE Trans. Circuits Syst. Video Technol., vol. 15, no. 7, pp. 
813–822, Jul. 2005.  
[13] F. Pan, L. S. Rahardja, K. P. Lim, L. D. Wu, W. S. Wu, C. Zhu, and W. 
Y. Z. Liang, “Fast intra mode decision algorithm for H.264-AVC video 
coding,” in Proc. Int. Conf. Image Process., Oct. 2004, vol. 2, pp. 781–
784.  
[14] R. C. Gonzalez and R. E. Woods, Digital Image Processing. Engle-wood 
Cliffs, NJ: Prentice-Hall, 2002.  
[15] J. F. Wang, J. C. Wang, J. T. Chen, A. C. Tsai, A. Paul, "A Novel Fast 
Algorithm for Intra Mode Decision in H.264/AVC Encoders," in Proc. 
IEEE Int. Symp. Circuit Syst., May 2006. 
[16] An-Chao Tsai, Jhing-Fa Wang, Wei-Guang Lin, and Jar-Ferr Yang, “A 
Simple and Robust Direction Detection Algorithm for Fast H.264 Intra 
Prediction” IEEE International Conference on Multimedia and Expo, 
pp.1587-1590, July 2007. 
[17] B. La, M. Eom, and Y. Choe, “Fast mode decision for intra prediction in 
H.264/AVC encoder,” International Conference of Image Processing, 
pp.321-324, Sept. 2007. 
[18] W.G. Lin, A.C. Tsai, J.F. Wang, and J.F. Yang, “A simple direction 
detection algorithm for fast H.264 intra prediction,” Proc. IEEE 
TENCON, pp.1-4, Oct. 2007. 
[19] J.-S. Ryu and E.-T. Kim, “Fast intra coding method of H.264 for video 
surveillance system,” Int. J. Comput. Sci. Netw. Sec., vol. 7, no. 10, 
pp.76–81, Oct. 2007.  
[20] J. Xin, A. Vetro, and H. Sun, “Efficient macroblock coding-mode 
decision for H.264/AVC video coding,” in Proc. PCS, San Francisco, CA, 
Dec. 17, 2004, pp. 53–58.  
[21] J. Jeong and D. N. Kwon, “DCT based fast 4×4 intra-prediction mode 
selection,” in Proc. IEEE Consumer Commun. Netw. Conf., Las Vegas, 
NV, Jan. 13, 2007, pp. 332–335.  
[22] C. Kim, H.-H. Shih, and C.-C. J. Kuo, “Fast H.264 intra-prediction mode 
selection using joint spatial and transform domain features,” J. Vis. 
Commun. Image Represent., vol. 17, no. 2, pp. 291–310, Apr. 2006.  
[23] J. Xin and A. Vetro, “Fast mode decision for intra-only H.264/AVC 
coding,” in Proc. PCS, Beijing, China, Apr. 26, 2006.  
[24] Jun Sung Park, and Hyo Jung Song,”Selective Intra Prediction Mode 
Decision for    H.264/AVC Encoders.” in Proc. World Academy of 
Science, Engineering and Technology, vol.  13, pp. 51-55, May 2006. 
[25] M. Shafique, L. Bauer, J. Henkel, “enBudget: A Run-Time Adaptive 
Predictive Energy-Budgeting Scheme for Energy-Aware Motion 
Estimation in H.264/MPEG-4 AVC Video Encoder”, IEEE/ACM Design 
Automation and Test in Europe Conference (DATE’10), pp. 1725-1730, 
March 2010. 
[26] F. Lorás and J.-C. Amiel, “Method for finding the prediction direction in 
intraframe video coding,” France International PatentWO2005/088979, 
Sep. 22, 2005.  
[27] Huanqiang Zeng, Canhui Cai, and Kai-Kuang Ma, “Fast mode decision 
for H.264/AVC based on macroblock motion activity,” IEEE 
Transactions on Cir-cuits and Systems for Video Technology, vol. 19, 
issue 4, pp. 491–499, April 2009. 
[28] Ehsan Nadernejad, “Edge detection techniques: evaluations and 
comparisons,” Applied Mathematical Sciences, vol. 2, no. 31, pp. 1507 – 
1520, 2008. 
[29] I. Choi, J. Lee, and B. Jeon, “Fast coding mode selection with rate 
distortion optimization for MPEG-4 part-10 AVC/H.264,” IEEE Trans. 
Circuits Syst. Video Technol, vol. 16, no. 12, pp. 1557-1561, June 2005. 
[30] U. Mithun, “An early intra mode skipping technique for inter frame 
coding in H.264 BP”, in Proc. IEEE Int. Conf. Consumer Electronics, 
pp.1-2, Jan. 2007. 
TABLE II COMPARE THE RESULT WITH THE RDO 
Sequence  RDO Proposed Comparison (%) 
Bus 
SNR (db) 35.89 35.88 0.03 
Bit rate (kb/s) 4003.68 4066 -1.56 
Time (s) 1.9 0.6 68.42 
Bridge 
SNR (db) 36.44 36.46 -0.05 
Bit rate (kb/s) 2807.76 2842 -1.22 
Time (s) 1.587 0.422 73.41 
Foreman 
SNR (db) 37.39 37.44 -0.13 
Bit rate (kb/s) 663.84 662.88 0.14 
Time (s) 0.417 0.155 62.83 
Waterfall 
SNR (db) 35.72 35.73 -0.03 
Bit rate (kb/s) 3837.84 3883.44 -1.19 
Time (s) 1.824 0.488 73.25 
Stefan 
SNR (db) 37.1 37.09 0.03 
Bit rate (kb/s) 4128 4132 -0.10 
Time (s) 1.843 0.453 75.42 
Silent 
SNR (db) 36.35 36.36 -0.03 
Bit rate (kb/s) 2664 2694 -1.13 
Time (s) 1.676 0.414 75.30 
Flower 
SNR (db) 36.94 36.92 0.05 
Bit rate (kb/s) 5418 5446 -0.52 
Time (s) 2.207 0.476 76.52 
Coastguard 
SNR (db) 35.48 35.49 -0.03 
Bit rate (kb/s) 3351.6 3363.6 -0.36 
Time (s) 1.937 0.745 61.54 
TABLE III BNBR AND BDPSNR 
Sequence Algorithm BDPSNR (db) BDBR (%) ΔTime 
Bus 
SIMD -0.007 0.12 39.25 
EIMST -0.003 0.05 37.995 
Proposed -0.026 -0.273 68.42 
Bridge 
SIMD -0.022 0.54 50.025 
EIMST 0.018 0.43 50.87 
Proposed -0.065 -0.784 62.83 
Stefan 
SIMD -0.042 0.74 44.68 
EIMST -0.029 0.51 39.91 
Proposed -0.048 -0.472 75.42 
Coastguard SIMD 0.018 -0.49 25.33 EIMST 0.012 -0.4 42.73 
 
100 年度專題研究計畫研究成果彙整表 
計畫主持人：高啟洲 計畫編號：100-2221-E-024-010- 
計畫名稱：OSGi 車載導航與座艙資訊娛樂之嵌入式系統設計與實作 
量化 
成果項目 實際已達成
數（被接受
或已發表）
預期總達成
數(含實際已
達成數) 
本計畫實
際貢獻百
分比 
單位 
備 註 （ 質 化 說
明：如數個計畫
共同成果、成果
列 為 該 期 刊 之
封 面 故 事 ...
等） 
期刊論文 0 0 100%  
研究報告/技術報告 0 0 100%  
研討會論文 0 0 100% 
篇 
 
論文著作 
專書 0 0 100%   
申請中件數 0 0 100%  專利 已獲得件數 0 0 100% 件  
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 0 0 100%  
博士生 0 0 100%  
博士後研究員 0 0 100%  
國內 
參與計畫人力 
（本國籍） 
專任助理 0 0 100% 
人次 
 
期刊論文 1 0 100%  
研究報告/技術報告 1 0 100%  
研討會論文 3 0 100% 
篇 
 
論文著作 
專書 0 0 100% 章/本  
申請中件數 0 0 100%  專利 已獲得件數 0 0 100% 件  
件數 0 1 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 3 0 100%  
博士生 0 0 100%  
博士後研究員 0 0 100%  
國外 
參與計畫人力 
（外國籍） 
專任助理 0 0 100% 
人次 
 
