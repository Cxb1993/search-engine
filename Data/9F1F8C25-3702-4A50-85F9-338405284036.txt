中華民國第二十七屆電力工程研討會 
台灣  新竹  2006年 12月 22-23日 
 
 
圖1：系統充電策略狀態圖 
 
程式設計流程圖，如圖2所示，程式開始先對PSoC
元件和環境參數進行初始化設定，開始讀取電池電壓，
利用量測到的電壓誤差值帶入模糊控制器運算，由模糊
控制器設計的歸屬函數和模糊規則表，計算電池充電階
段的較佳充電電流，進行30秒的充電，再量測電池電
壓，判斷是否大於或等於4.2V，判斷結果成立就結束程
式，當判斷結果不成立就重新讀取電池電壓，持續充電
模式。 
 
圖2：設計實例之程式流程圖 
 
為達成鋰離子電池多階段變電流之充電功能，本文
所開發之電池充電控制IC的功能方塊圖，規劃如圖3所
示，共分為電池電壓偵測器、微控制器、充電電流訊號
埠與溫度感測器等四大部份，電池電壓偵測器用來量測
電池的電壓，並將其轉換為數位值傳給微控制器。接著
微控制器會依據電池電壓，來決定出對電池的充電電流
值。最後該充電電流值送至充電電流訊號埠，並提供三
種輸出模式，用以控制外接的可控電流源，產生所欲之
充電電流。各方塊包含的元件及其主要功能如下： 
電池電壓偵測器： 
a.低通濾波器： 
 用於濾除高頻雜訊，以獲得較準確的鋰離子電池 
 壓。 
b.可規劃增益放大器： 
用於將串聯電池組(Battery Pack)的電壓，轉換為單一
顆電池(Battery Cell)的電壓，如此可在不改變系統參
數之下，滿足任何串聯電池組之充電需求。 
c.類比/數位轉換器： 
 用於將所量測到的類比電壓轉換成數位值，並傳送至
微控制器參考使用。 
d.溫度感測器： 
 監控IC 溫度以數位訊號型式，傳輸至微控制器以使
用其傳送輸出訊號功能，輸出至充電電流訊號埠，得
以有效監控電池溫度。 
e.微控制器： 
 微控制器具備接收輸入訊號、傳送輸出訊號、運算以
及判斷功能，用以依據類比/數位轉換器轉換後的數
值，經運算、判斷及傳送輸出訊號，得以有效控制充
電程序。 
二.充電電流訊號埠： 
a.類比電壓埠： 
  將電池充電電流命令以類比電壓型式，進而控制具有
類比電壓控制功能的可控電流源，達到控制充電的形
式送出電流大小目的。 
b.數位並列埠： 
  將電池充電電流命令以數位並列訊號，進而控制具有
數位電壓控制功能的可控電流源，達到控制充電的形
式送出電流大小目的。 
c.數位串列埠： 
  將電池充電電流命令以數位串列訊號，進而控制具有
數位電壓控制功能的可控電流源，達到控制充電的形
式送出電流大小目的。 
 
圖 3：系統功能描述方塊 
 
III. 模糊控制參數調設 
模糊控制器的設計策略，首先從控制目標與控制對
象的狀態相互以較上得到輸入變數，在鋰離子電池充電
應用上，即是針對鋰離子電池不同的充電狀態，不同階
段的鋰離子電池的電壓當做輸入變數，將輸入變數的資
訊經量化後，對應到語言變量的論域(歸屬函數)上，以
便再傳送資訊給模糊推論法則，所獲得的推論結果經過
解模糊化作為輸出操作量，用以操作控制鋰離子電池的
充電電流。 
模糊控制器的輸入變數為電池電壓誤差值 e 及電池
電壓誤差變化值 e∆ ，分別為電池充電命令 r 與電池實
際的電壓 y 之誤差表示成式(1)，其誤差的變化值表示
成式(2)。經由模糊控制器，推論出其電池輸出變數控
制值u ，其架構如圖 4所示。 
 
中華民國第二十七屆電力工程研討會 
台灣  新竹  2006年 12月 22-23日 
 
 
 
圖 8：PSoC 電池充電電路圖 
 
V、實驗結果 
在設計的 700mAh 容量鋰離子電池充電實驗中，圖
9 為定電流/定電壓充電策略的充電電壓與充電電流。從
圖 9(a)中顯示系統初始採用定電流充電，充電電流約為
0.5A 定電流充電，鋰離子電池的充電電壓開始上升，如
圖 9(b)所示，當電池開路電壓達 3.9V 時,開始進行變電
流的充電程序，以定電壓的充電方式，防止電池過充電
的現象發生。電池的充電電流將逐漸遞減，電池的充電
電壓會緩緩安全的上升至 4.2V，電池可視為接近充飽狀
態，在 230 分鐘後進入浮充狀態，以及小的涓流充電，
確保電池充飽。同時，可以有變數地避免鋰離子電池過
充電的問題。 
本文採用的模糊充電策略的充電過程，如圖 10 所
示，從圖 10(a)中,顯示模糊充電策略以定電流 650mA
充電，鋰離子電池電壓開始快速上升，快速的電池電壓
變化，迫使模糊充電器進入變電流的充電程序，多段不
同變電流的充電策略，使電池電壓能夠緩緩安全的進入
鋰離子電池的飽和電壓4.2V，所需要的時間是138分鐘。 
電池充電的速率會比定電流/定電壓充電快些。由以上
的實驗結果可知，本文開發的充電控制 IC 確實可在安
全的充電條件下完成電池的充電工作。 
不論是傳統定電壓/定電流充電或模糊充電策略，
都能符合安全的充電期待，其中，模糊充電的多段變電
流充電，可針對不同的電池種類，設定特定的多段充電
策略電流策略,達到更快速的充電目的。 
以符合工業上鋰電池充電需求。 
 
 
圖 9(a)：定電壓/定電流電池充電電流 
 
 
圖 9(b)：定電壓/定電流電池電壓 
 
 
圖 10(a)：模糊控制電池充電電流 
 
 
圖 10(b)：模糊控制電池充電電壓 
 
VI、結論 
本文以 PSOC 設計鋰電池的充電架構，實踐充電控
制 IC 的充電器實驗，同時達成偵測，控制以及充電功
能，充電的策略可以彈性設計，本文完成定電流/定電
壓充電與模糊控制充電實驗，二者都具有安全充電的考
量，其中，模糊控制器因為具有多階段變電流控制充電
的特性，可針對電池在不同的狀態下調整較佳的充電電
流，形成多階段變電流的充電設計，克服電池複雜模型
及不同狀態下參數變更的難題。 
本文研制的電池充電控制 IC，其架構包含微控制器，數
位/類比轉換器，增益可規劃放大器，低通濾波器，與
溫度感測器，皆內含於 PSOC 內，能夠設計出高性能且
輕薄短小的鋰電池充電器，廣泛應用於可攜式充電電
池。 
 
