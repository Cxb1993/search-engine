 2
行政院國家科學委員會專題研究計畫成果 
探討保全巡邏任務結合車輛配送服務之路徑規畫 
A Study of Security Service Combined with Vehicle Routing Service 
                     計畫編號：NSC 96-2221-E-224-008- 
                     執行期間：96 年 8 月 1 日 至 97 年 7 月 31 日 
                     計畫主持人：黃志剛 
摘要 
    隨著產業的競爭提升，保全業者認為必需
開拓更多的服務機會及找出未來發展的方向。
隨著物流產業蓬勃發展，保全業者順著此潮
流，因而跨入物流產業。有鑑於此，本研究試
著探討在保全的巡邏任務中結合車輛配送後，
建構模式並發展啟發式求解法，並與原先尚未
結合的兩獨立運作系統之總距離成本作一比
較，以確認是否達到較低的成本。 
    本研究共分為三個模式，傳統車輛配送模
式(模式一)、保全巡邏路徑模式(模式二)與巡邏
結合車輛配送模式(模式三)。本研究乃為比較模
式三，與模式一及模式二之成本總和做一比較
與探討。結果顯示，巡邏結合車輛配送模式之
總距離與總車輛數成本，確實比尚未合併的兩
獨立系統之總距離與總車輛數成本，效果顯著。 
    總固定成本方面，發現在某些情況下適合
兩模式合併。突發巡邏需求點發生機率方面，
在區域性治安情況不同，且當需求點個數超過
200 時，確實會影響巡邏結合車輛配送模式的可
行性。 
    不過綜觀成本比較，巡邏結合車輛配送模
式確實比尚未結合的兩獨力系統表現佳，所獲
得的結果值得相關產業參考與依據。 
關鍵字︰車輛途程問題、保全巡邏、模擬退火
法、時窗 
Abstract 
    With increasing competition, every business 
organization tries to develop new sales channels 
depending on its logistic capability. This study is a 
preliminary study of the security service 
combined with the vehicle routing service. The 
main objective of this model is to minimize total 
cost of distance as well as number of vehicle. 
    Three models are developed in this research. 
The first model is a traditional vehicle routing 
model, the second model is emergent traveling 
salesman problem with time window problem, 
and the third model is emergent vehicle routing 
problem with time window problem. The second 
and third model involves partitioning constraints, 
radius constraints, and emergency constraints. A 
heuristic algorithm is developed to solve the three 
models. The solution algorithm includes the 
nearest neighbor heuristic to get the initial 
solution, and the simulated annealing algorithm to 
find the near optimal solution. 
    Three numerical examples are used to 
illustrate the effectiveness of the proposed models 
and the solution algorithm. The results indicate 
that the third model is attractive from distance 
viewpoint. In addition, the total number of vehicle 
required in the third model is also lower than sum 
of the first and the second models. However, the 
vehicle utilization of the third model is lower than 
sum of the first and the second models. The 
experimental results also indicate that the 
probability of emergence is a critical factor which 
can decide whether the third model is profitable.  
Keywords: Vehicle Routing Problem, Patrol and 
Security, Simulated Annealing, Time 
Window 
1. 緒論 
1.1 研究背景及動機 
    隨著產業的競爭提升，企業所面臨的競爭
已從傳統競爭逐漸變成物流實力競爭，各企業
均以物流實力來拓展通路，因此物流扮演極重
要的一角。近幾年由於物流快速發展，物流產
業也相對競爭激烈，降低物流成本為各產業所
追求的一大目標。保全產業中，市場已近飽和
狀態，面臨到同行競爭激烈，許多業者認為必
需開拓更多的服務機會及找出未來發展的方向
物。如果能藉由產業合併共營的風潮，與保全
業者共同分擔運輸成本，不但可以增加利潤，
而且還可提升自身競爭力，以發揮合併共營的
最大效能與目的，故引起本研究的動機。 
 
1.2 研究目的及範圍 
本研究的目的如下： 
1. 在客觀合理的驗證下，比較原傳統車輛配送
模式、原保全巡邏路徑模式，與保全巡邏任
務結合車輛配送之路徑模式，並探討上兩者
結合後與原先不結合的路徑距離成本作一比
較。 
 4
子。這種避免因子間交互作用之干擾，僅以主
因子效果進行分析之實驗設計，除能提供最佳
因子水準組配，也具有好的實驗再現性，故被
稱為田口實驗設計法或簡稱田口方法(Taguchi 
Methods)。 
 
3. 研究方法 
3.1 問題定義與描述 
    本研究試著探討探討兩產業模式結合後，
與原先尚未結合的總距離成本作一比較，是否
達到總距離成本較低或節省車輛總數、及總固
定成本等，做一綜合性比較分析。 
    保全巡邏任務之路徑規劃問題擁有三大特
性，即為分區性、責任性與突發需求性。保全
巡邏任務採先分區。因為考量保全特有的三大
性質，故以時窗的作為限制，盡量符合實際情
況。 
    保全的巡邏任務過程中，加入實體貨物配
送的服務後，所有的服務需求點共分為兩類
型，即為巡邏與配送。在車輛出發時先針對所
有的巡邏或配送需求點規劃最佳路徑，每條路
徑即為每個分區，每個分區再由一台車輛負責
巡邏或配送。當出現突發巡邏需求時，所負責
該區的車輛必須服務此突發巡邏需求點(此時
亦不受時窗限制)，待服務後，再返回原先規劃
的服務順序作後續的服務，而此多增加的距離
成本將納入原先規劃的路線距離成本。 
    在路徑規劃前需考量兩個因素，即為突發
事件處理與時窗兩問題。當路線決定之後，每
個分區假設都會有突發狀況產生，故須派車輛
立即前往處理，而突發巡邏需求點發生的機率
則以隨機(Stochastic)產生。以上說明了保全特有
的問題屬性，發展出符合問題的分區突發需求
性旅行銷售員問題模式及分區突發需求性車輛
途程問題模式。 
 
3.2 研究假設 
    下述將針對此問題作一釐清與定義。為達
成所求的目標，故本研究針對問題提出假設條
件，如下所示： 
1. 客戶類型有兩種，為巡邏需求與配送需求
兩種型式。因此所有的需求點包含例行性
巡邏點與配送點，但兩類型不互相重疊。 
2. 所有的巡邏配送車從物流中心出發後，服
務完所有的需求點 (包含巡邏及配送需求
點)後，再回到原出發地。 
3. 每條路徑均不得超過車容量限制，且配送
的商品皆為平價均質性商品。 
4. 每台巡邏車負責的巡邏需求點之數量為未
知，乃經過規劃後才可得知。 
5. 所有的巡邏點皆設有警報器，其中某些巡
邏點會發生警報器作響，故這些狀況點皆
屬於突發巡邏需求點之集合。 
6. 需求點之位置、時窗、服務時間及配送點
之需求量皆為已知資訊。 
7. 突發巡邏需求點，皆以規劃路徑總數乘以
機率質(初步設定機率值為 1/3)產生其發生
數量。 
8. 產生的突發巡邏需求點，以隨機產生於各
路徑中任一點。 
9. 車輛在所有的配送需求點只送貨、不收
貨。車輛在巡邏點無收送貨作業。 
10. 車輛的行駛速度為固定且已知。 
11. 本研究所討論的時窗為硬時窗，所以無超
過時窗限制而造成懲罰成本的問題。 
12. 當突發狀況發生時，不考慮時窗性問題。
但突發點處理完畢後，返回原路徑後，仍
需受時窗的限制往下一個規劃需求點進行
服務。 
 
3.3 模式建構 
    本模式考量了本研究之物流配送模式，修
正了Kulkarni與Bhave(1985)所建立車輛途程問
題模式作為本研究的傳統配送中心之車輛途程
模式。本研究考量了保全巡邏任務的三大特性
後，予以建構本研究的巡邏路徑模式。最後本
研究依所提出三大特性作為限制，整合了上述
的保全巡邏模式及車輛配送模式，而建構了符
合本研究問題之模式，說明如下： 
(1)參數與變數 
N：為所有巡邏或配送需求點之總數。 
M：責任分區後的路徑總數。 
v：為配送車輛之集合。 
0：代表原出發地，即配送中心。 
Qv：表示巡邏配送車輛 v 的裝載容量。 
qi：表示配送需求點 i 的需求量。 
H：發生突發事件之需求點集合。 
Na：所有巡邏需求點之集合。 
NL：所有配送需求點之集合。 
W：為所有巡邏需求點與配送需求點之集合，
即 { }0∪∪ La NNW ∈ 。 
Tij：需求點 i 至需求點 j 的旅行時段。 
Pi：需求點 i 開始服務的時間點，為未知。 
Si：需求點 i 的服務時段，為已知。 
Fj：到達需求點 j 的時間點，為未知。 
ei：需求 i 的時窗下限，為已知的時間點。 
 6
步驟五：以 2-Opt 節點交換法進行移步。共分
為途程內 1-1 節點交換、途程間 1-1 節點
交換及 1-0 節點插入三種。 
步驟六：判斷新解是否優於目前最佳解。若是，
則取代目前最佳解；若否，則進入波茲
曼判斷機制，即隨機產生 0~1 之機率
值，判斷是否小於波茲曼機率值，若機
率值小於波茲曼機率值，則取代目前最
佳解，並令 K=0。若否，則進行下一步
驟，並使得 K=K+1(K 表示解幾次未更
新)。波茲曼函數如式(42)所示，其中，δ= 
(鄰近解) – (目前解)；T 為目前溫度。 
                                   )  (  TeP
δ
δ
−
=     (31) 
步驟七：判斷是否達到最大遞迴次數 NOVER，
若是，則回到步驟三；若否，則回到步驟
四。 
 
3.4.2 突發需求路徑規畫 
    上述的求解步驟皆為規劃車輛路徑問題，
即車輛在中心出發前所規劃的最佳路徑。模式
一在前兩小節即可求得其目標值，但模式二與
模式三因須考量巡邏任務，故車輛作突發支援
時會額外增加距離，而此額外距離將納入模式
二與模式三的總目標值。當產生最佳路徑解
時，利用其路徑數乘以發生突發需求的機率值
P(b)，而得到發生突發需求點之數量，再於各
路徑中以隨機方式挑選突發需求點之位置，所
得到的總距離值即為突發支援需求的距離值。 
 
4. 例題測試與分析 
4.1 例題設計及相關說明 
    本研究之測試案例將依三種模式分為案例
一、案例二與案例三。案例一、案例二與案例
三之所有需求點皆散佈於(0, 1000)2 的歐幾里德
平面上，每個題型的需求點位置均以亂數產
生，且屬均勻分配。案例一與案例二之測試題
型再分為需求點個數 25、50、75、100 與 150
五類，且案例一與案例二之所有需求點位置皆
不重疊。案例三之測驗題型分為需求點個數
50、100、150、200 與 300 五類，特別的是案例
三所有例題之需求點座標皆為案例一與案例二
之所有需求點座標的結合。 
    案例一的例題所有需求點皆有配送的需求
量，故有車容量之限制；案例二的例題因僅需
車輛巡行而不配送，故其所有需求點皆無配送
需求量，但有時窗作為限制；案例三的例題之
需求點，即為案例一與案例二之需求點集合，
故其例題的 50%需求點有配送需求量，另 50%
需求點則無配送需求 (因此配送需求量設為
0)，且限制則有考量車容量及時窗。 
    時窗限制部份，經速度將距離轉換成時間
後，設定車速為 83.33 平面單位/分鐘，最大服
務時間以 240 分鐘作為限制。突發巡邏需求點
發生的數量，乃依據國內最大的保全公司提供
的統計資料，每台車發生機率約 1/3。 
 
4.2 最佳參數設定 
    本節乃針對案例測試結果，運用田口實驗
設計中的直交表實驗設計法尋找模擬退火法之
最佳參數組合，參數組合為初始溫度、終止溫
度、冷卻率及最大遞迴次數等。本研究採用其
直交表實驗法，利用較少次的實驗推導出模擬
退火法針對上述三個案例之例題最佳參數組
合。 
    實驗結果，模式一之最佳參數組合為初始
溫度 3000、終止溫度 10、冷卻率 0.95、最大遞
迴數 200。模式二之最佳參數組合為初始溫度
2000、終止溫度 50、冷卻率 0.99、最大遞迴數
150。模式三之最佳參數組合為初始溫度 3000、
終止溫度 100、冷卻率 0.99、最大遞迴數 150。
三模式之後續例題皆設定此三組最佳參數組合
為參數組合。 
4.3 結果分析與比較 
    本研究的目的乃針對原傳統車輛配送模
式、原保全巡邏路徑模式與保全巡邏任務結合
配送路徑模式，探討模式三之總距離成本與模
式一及模式二之總距離成本相加作一比較。結
果顯示，模式三的兩營運系統結合之巡行距離
成本，確實比各自獨立營運之巡行距離成本低
許多，改善比率約在 20%至 40%之間。 
    表 1 與表 2，為加入額外增加支援突發巡邏
需求點之距離時，比較兩方(A 與 B)的總距離成
本。當加入額外增加支援突發巡邏需求點之距
離時，改善比率降低許多。探究原因可能是模
式三(表 1 與表 2 比模式二的規劃車輛數增加，
亦使發生突發巡邏點的數量提高，導致額外增
加的距離增多，漸而影響表 1、表 2 的 A 與 B
兩方之比較結果。不過大致結果顯示，無論是
否加入額外增加支援突發巡邏需求點之距離，
模式三的總距離成本皆比模式一與模式二的總
距離成本相加低許多，節省效果顯著。 
 8
表 4 方案二之總固定成本比較【加入額外距離】 
總固定成本
比較 車容量 100 (A-B)/A 
需求點個數 
模式一 
+ 
模式二 
模式三 節省 比率 
50 34810349 38813312 -11.50% 
100 60487181.5 51651052 14.61% 
150 84448017 87614860 -3.75% 
200 112350731 109234460 2.77% 
300 149334011 151584060 -1.51% 
總固定成本
比較 車容量 200 (A-B)/A 
需求點個數 
模式一 
+ 
模式二 
模式三 節省 比率 
50 29231311.5 29771948 -1.85% 
100 53694044 49813996 7.23% 
150 64310917 67428816 -4.85% 
200 80041318.5 95520804 -19.34% 
300 107430998.5 130113088 -21.11% 
    當突發巡邏需求點發生機率設為 1/6，目標
值差額則相對增加許多，且需求點個數愈多
時，差額則愈大。由此可得知，假使某區域治
安條件較佳時，無論需求點個數為多少，模式
三的巡邏結合車輛配送模式非常適合此區域。
因此，突發巡邏需求點發生機率設定愈高，愈
不利於本研究之目的；反之，突發巡邏需求點
發生機率設定愈低，愈符合本研究之最終目的。 
 
5. 未來研究走向 
本研究未來可朝以下建議方向進行研究： 
1. 本研究的模式二(即保全巡邏路徑模式)與
模式三(即保全巡邏任務結合車輛配送模
式)的求解模式，皆為靜態性的路徑模式求
解，建議未來可考慮以動態性路徑模式求
解此問題，以更貼切實際的問題情況。 
2. 由於本研究所考量的突發事件發生，為路
徑內的任兩點作為突發巡邏需求點，額外
所增加的距離皆納入總距離成本，故建議
未來可考慮以動態問題作路徑規劃，且各
路徑可假設發生多個突發巡邏需求點。或
者以更多不同性質的突發事件納入探討，
以更貼切實際的巡邏任務。 
3. 在比較巡邏任務結合車輛配送模式與尚未
合併之兩獨立系統時，設計測試案例的需
求點空間分布，亦可考量比較不同巡邏點
與配送點空間分布比率，是否會得到不同
的發現與結果。 
4. 保全巡邏任務結合車輛配送模式為一個值
得探討的實務問題，建議未來可以更多面
向成本作更深入的探討，例如最佳區位選
擇、設置總成本、總運輸成本或最短完成
時間等。 
參考文獻 
1. Anily, S., Bramel, J. and Hertz, A., “A 
5/3-approximation algorithm for the clustered 
traveling salesman tour and path problems,” 
Operations Research Letters, Vol. 24, No. 1-2, 
pp. 29-35, 1999. 
2. Calvo, R. W. and Cordone, R., “A heuristic 
approach to the overnight security service 
problem,” Computers and Operations 
Research, Vol. 30, pp. 1269-1287, 2003. 
3. Chiang, W. C. and Russell, R. A., “Simulated 
Annealing Metaheuristics for the Vehicle 
Routing Problem with Time Windows,” 
Annals of Operations Research, Vol. 63, pp. 
3-27, 1996. 
4. Ichoua, S., Gendreau, M., and Potvin, J., Y., 
“Vehicle dispatching with time-dependent 
travel times,” European Journal of 
Operational Research, Vol. 144, pp. 379-396, 
2003. 
5. 王至誠，「台灣地區保全業經營管理的特性
與問題之研究」，碩士論文，國立中山大學
高階經營管理碩士班，2000。 
6. 李洪鑫，「含時間窗車輛途程問題各演算法
適用範圍之探討」，碩士論文，私立東海大
學工業工程研究所，2000。 
7. 楊世隆、何明洲、傅美惠，「保全概論」，
台北：五南圖書出版股份有限公司，2005。 
計畫成果自評 
本研究內容與原計畫相符程度達 98%，預
期目標達成情況約 95%，研究成果應具有應用
價值，適合在學術期刊或研討會發表。本研究
應屬先導型研究，故主要價值之ㄧ在於未來研
發方向及業界試行的可行性討論，整體成效尚
佳。 
2 
【附錄】 
 
出席 INFORMS Annual Meeting Seattle 2007  
發表論文全文 
 
 
A Study of Location Problem and Vehicle Routing 
Problem for Two Obnoxious Facilities 
2 
arranging vehicle routings for both, existing and new, facilities at the same time. A conceptual 
vehicle routing problem with two obnoxious facilities is presented in Figure 1(b). To balance 
the transportation cost and the bad impact on the new obnoxious facility is the major concern 
of this research. In addition, the bad impact will be represented by the “social cost” which 
should be further defined. 
 
 
(a) Single obnoxious facility  (b) Two obnoxious facilities 
Figure 1 The location problem and vehicle routing problems 
 
2. Literature Review 
 
In this section, the reviewed papers focus on (1) the impacts of obnoxious facility measured 
by different cost items and (2) solution approach for the location routing problems. 
 
2.1 Social Cost 
 
Researches in Taiwan found that a obnoxious facility will devaluate the prices of building and 
land near this facility. In addition, pollution of obnoxious facility will cost higher medical 
expense which is also proportional to the distance between the facility and the residence near 
by. Some researchers further indicate that the compensation cost is closely related to distance 
and capacity (scale) of the obnoxious facility. Based on previous findings, we define a special 
cost item, called the social cost, to represent all costs related to the bad impacts of a 
obnoxious facility. The social cost is proportional to distance and population. Concepts of the 
social cost are based on the following two reasons: (1) Shorter distance between the 
obnoxious facility and residence will cost higher social cost. (2) Higher density of population 
will increase the social cost. The detailed definition of social cost is given in section 3.2. 
 
2.2 Location and Vehicle Routing Problem 
 
The genetic algorithm (GA) had been used to solve vehicle routing problems and the results 
show in good solution quality within short time. Yao applies the tabu search (TS) using three 
types of initial solution and the neighborhood approach shows the best result. In addition, the 
internal and external exchanges are also tested. Tuzun and Burke designed a two-phase tabu 
search to solve location routing problem. This approach can generate the solution better than 
other heuristic algorithms. Wu (2002) suggests the simulated annealing algorithm to solve the 
multiple depots vehicle routing problem. Solutions include the optimal number of depot, 
location of depot, and dispatching of vehicle routings. 
 
In this research, a mathematical model of location vehicle routing problem is developed based 
on two obnoxious facilities. Two searching heuristics, i.e. GA and SA, are combined in the 
solution algorithm, simultaneously. The genetic algorithm is used for solving the 
double-depot vehicle routing problem and the simulated annealing algorithm is applied to 
4 
By carefully observing the situations in Figure 3, a few interesting comments can be made 
which should be further investigated in this paper: (1) Different locations for the new 
obnoxious facility will cause different degrees of impact on this limited planar area. (2) 
Different locations for the new obnoxious facility shall rearrange the service areas for both 
two depots. (3) Different locations for the new obnoxious facility shall re-dispatch vehicle 
routings. (4) The objective for the transportation system and the objective for the environment 
impacts (location issues) are conflicts in this research. A compromised solution for both 
objectives is necessary and unavoidable.  
 
3.2 Cost Items and Assumptions 
 
This research considers two cost items in the mathematic model, i.e. the transportation cost 
and the social cost. The transportation cost comes from vehicle routings of two-depot 
transportation system and the definition of transportation cost is same as the traditional 
vehicle routing problems. The social cost defined in this research includes all extra costs 
caused by the bad impacts of the new obnoxious facility. The typical social cost covers the 
following costs or expenses: the medical expenses, the devaluated prices for building and 
lands, the preventive costs for pollutions, and the compensation costs for the residence within 
the impacted area. Measurement of the social cost includes: (1) impact range represented by 
distance and (2) population within the impacted area. In general, the quantified social cost 
should be proportional to the distance and the population, simultaneously. 
 
Figure 4 illustrates the calculation of social cost. Service point A in Figure 4 is one of the 
service points within the highest impact range (i.e. the blue circle), therefore, the highest 
social cost will apply. In addition, both the service point B and the service point C are 
impacted within the same impact range. In this case, if service point B has higher population 
than point C, then the service point B causes a higher social cost than the service point C. The 
service point D is out of the minimal impact range (i.e. the green circle), therefore, no social 
cost will be considered.  
 
The transportation cost and the social cost are closely related to the distance between 
population (the service point) and the location of an obnoxious facility. In general concept, a 
longer distance do reduce the social cost, however, a longer distance will also increase the 
transportation cost, simultaneously. Figure 5 shows this concept by drawing cost curves for 
the social cost and the transportation cost.  
 
 
 
 
 
 
 
 
 
 
Figure 4 Illustration of social costs  Figure 5 Relationship of cost and distance 
 
Assumptions of this location and vehicle routing problem are summarized as follows: 
 
1. Service capacities of the existing (original) and the new obnoxious facility are given and 
Distance between population and obnoxious facility
Transportation 
Cost
Social Cost 
Total C
ost
6 
jR : Euclidean distance from service point j to the new obnoxious facility,  
( ) ( ) 1/ 22 2j j X 2 j Y 2R x F y F= − + −⎡ ⎤⎣ ⎦  
where: 2 2( ,  )X YF F is the coordinates of the new obnoxious facility. (xj, yj) is the 
coordinates of the service point j , j J∈  
1r : Maximal impact range represented by the minimal radius 1r . The highest weighting 
factor W1 applies when the range is shorter or equal to the distance 1r .  
2r : Minimal impact range represented by the maximal radius 2r . The lowest weighting 
factor W2 applies when the range is between distance 2r  and 1r . 
i
Z : If the location i is activated as the new obnoxious facility, then 
i
Z =1. Otherwise, 
i
Z =0.  
k
jvX : If the service point j is serviced by vehicle v assigned to the obnoxious facility k (k =1, 2) 
as the depot, then kjvX =1. Otherwise, 
k
jvX = 0.  
k
ijvY : If the path segment from service point i to the service point j is serviced by the vehicle v 
( v V∀ ∈ ) assigned to the obnoxious facility k (k =1, 2), then kijvY =1. Otherwise, kijvY =0.  
k
vV : If the vehicle v (route v) is assigned to the obnoxious facility k (k=1, 2), then 
k
vV =1. 
Otherwise, kvV =0. 
 
A minimized mathematical model and the associated constraints are developed as follows: 
 
The objective function: 
 
2
1 0 0
2
1
( ( ))
n n
k
C ij ijv
k i j v V
k
j i vC C
i I j J k v V
D d YMinimize  P P j Z V Vμ
= = = ∈∈ ∈ = ∈
⎡ ⎤ ⎡ ⎤× ×⎢ ⎥ ⎢ ⎥⎢ ⎥ ⎣ ⎦⎣ ⎦
× × × + + ×∑∑∑∑∑∑ ∑∑  (1)
 
Subject to: 
 
1
n
k
jv j L
j
X Q V
=
× ≤∑  v V∀ ∈  k=1, 2 (2)
0
n
k
ijv
i
Y
=
∑ -
0
n
k
jiv
i
Y
=
∑ =0  j=0, 1, 2, ……,n v V∀ ∈  k=1, 2 (3)
2
1
1kjv
k v V
X
= ∈
=∑∑  j J∈    (4)
k k
j jv L
v V j J
Q X F
∈ ∈
× ≤∑∑   k=1, 2 (5)
1i
i I
Z
∈
=∑   (6)
0kv
v V
V
∈
>∑  k=1, 2 (7)
iZ =1 or 0  i I∈  (8)
8 
shortest distance between j and i. The point j is the first point in the current route. 
Delete point j from the set A and set i = j.  
Step 5: Repeat step 3 and step 4 until all service points have been assigned to the routings. 
 
 
Start
Initialize 
Parameters
Generate
Initial Location
Calculate Objective 
Function Value
Reach the
Ending Temp. ?
Reduce Temp.
Temp. = Temp. * R
Generate a
New Location
Is New
better than
Old?
Accept 
New (the worse 
case) ?
Check  # of 
Iteration at Temp.
Replace
Old
End
Number 
Service points
Construct 
Initial Routings
Encode
Initialize 
Population
Decode & Calculate 
Fitness Function
Retain/
Reproduce
Mate
Mutate
Reach Stopping 
Criteria?
Record
 Current String of Genes &
Vehicle Routing Cost
Yes
No
Start GA Logic
No
Yes
No
Yes
Yes
No
Yes
No
Start SA Logic
 
Figure 6 A general logic of the solution algorithm 
 
4.2 Improvement of Vehicle Routings 
 
This research applies the genetic algorithm to the improvement of the vehicle routings. The 
improvement process is described as follows: 
10 
After the solution process, the new obnoxious facility is relocated to (84, 65), as indicated in Figure 
7 and the total cost reduces to 10,896 (i.e. 2,354 for the social cost and 8,542 for the transportation 
cost). The total cost reduction reaches 21.85%. At final location of the new facility, Figure 8 (a) and 
(b) indicate the initial vehicle routings and the final vehicle routings. In this final location, there is a 
9.97% improvement form the transportation cost view point. 
 
Table 1 Basic data for 50 service points 
ID 
Type 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25
X axis 36 49.5 39.2 5.3 84.1 96.3 87.4 86.5 37.3 80.5 88.3 81.6 81.6 74.2 90.8 32.2 91.7 51.2 58.1 6.7 81.6 36.7 17.3 49.8 54.2
Y axis 34.1 17.6 90.9 97.3 29.2 31.1 30 8.4 60.3 96.3 87.9 66.7 19.9 46.9 67.4 97.3 33.6 11.9 29 45.6 9.6 65.5 41.2 27.3 88.9
Quantity 36 24 28 29 21 35 40 27 25 21 32 26 25 32 24 24 29 37 21 22 34 28 33 21 39
Population 51 61 87 99 57 71 82 99 63 62 78 100 98 73 73 51 54 63 89 51 59 74 85 52 65
ID 
Type 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50
X axis 57.5 9.9 32.7 51.6 91.9 41 3.5 4.8 20 30.1 36.5 84.2 73.1 60.5 82.8 48.8 84.3 29.9 20 97 38.4 99.8 2.2 16.1 21.3
Y axis 77.2 30.3 78.3 95.4 62 30.1 5 85.8 30.2 32.7 33.9 99.6 37.1 37.6 62 9.1 33.6 2.3 6.5 69.5 15.9 92.1 54.9 68.7 75.5
Quantity 34 25 39 38 25 37 37 22 31 34 36 27 22 26 34 32 27 38 32 31 38 30 25 36 24
Population 64 80 52 51 75 76 53 56 66 92 54 62 77 87 54 68 67 83 55 53 78 78 85 59 68
 
 
Figure 7 Locations of two facilities and example of impact ranges 
 
     
(a) Initial vehicle routings                      (b) Final vehicle routings 
Figure 8 Improvement of vehicle routings for the final location at (84, 65) 
service point existing facility
Location of the
new facility 
at (84, 65) 
Location of the 
existing facility 
at (15, 20) 
12 
 
0
10
20
30
40
50
60
70
80
90
100
0 10 20 30 40 50 60 70 80 90 100
100% 120% 150%
200% 500% 1000%
需求點分佈 原有鄰避設施座標
 
Figure 10 Locations of new obnoxious facility for different social costs 
 
 
5.3 Impact of Different Transportation Costs 
 
This subsection will focus on the impact of transportation cost when the unit distance cost increased. 
The increasing energy cost is the hot issue in the current global energy environment. We evaluate 5 
levels of unit transportation cost from 110% to 150% as indicated in Table 3. Case (A) is the base 
line with no increasing of unit transportation cost. Calculation and definition of the social cost will 
keep the same in all cases. In each case, 5 independent runs are executed and the averaged total cost 
including the social cost and the transportation cost is drawn as the bar charts in Figure 11. Figure 
12 plots the locations of the new obnoxious facility for each case, including 5 independent runs. 
 
Data from Figure 11 indicates that: (1) the social cost does not change significantly when the unit 
transportation cost increased and (2) the transportation cost is proportional to the increased unit 
transportation cost. For locations of the new obnoxious facility, Figure 12 shows no significant 
changes. Most of the cases, the X axes of new location are ranging between 75 to 90 and the Y axes 
of new location are ranging from 50 to 70. In this case, the changes of unit transportation cost do 
not vary location of the new obnoxious facility. This observation may not be still true in other cases. 
 
 
Table 3 Five cases of different unit transportation costs 
Case ID (A)* (B) (C) (D) (E) (F) 
Increasing Percentage of 
Unit Transportation Cost 100％ 110％ 120％ 130％ 140％ 150％ 
Unit Transportation Cost 5.0 5.5 6.0 6.5 7.0 7.5 
Remark: * represents the original case with no increasing of transportation cost. 
 
 
Service point Existing facility 
14 
when the capacity of new facility increases, the locations of the new facility tend to move from the 
up-right corner towards the bottom-left corner, i.e. almost the direction of the existing obnoxious 
facility. This phenomenon seems reasonable to explain: when the location with higher capacity, it 
should be as close to the center of service points as possible.  
 
 
0.00
2000.00
4000.00
6000.00
8000.00
10000.00
12000.00
14000.00
(A) (B) (C) (D) (E) (F) (G) (H) (I)
試驗編號
平
均
成
本
值
社會成本 最佳運輸成本 最佳總成本
 
Figure 13 Total costs for different allocations of service capacity 
 
 
0
10
20
30
40
50
60
70
80
90
100
0 10 20 30 40 50 60 70 80 90 100
10% 20% 30% 40%
50% 60% 70% 80%
90% 需求點座標 原有鄰避設施座標
 
Figure 14 Locations of new obnoxious facility for different allocations of service capacity 
Social cost Transportation cost Total cost 
Average C
ost  
Case ID 
Existing facilityService point 
1 
出席 INFORMS Annual Meeting Seattle 2007 心得報告 
 
報告人：黃志剛 2007/11/10 
 
 
本次參加 INFORMS Annual Meeting 國際研討會，於2007年11月04日至11月
07日，在美國 華盛頓州 西亞圖市的Sheraton Hotel 及 Washington State Convention 
& Trade Center同時舉行。本次研討會四天中任何時段均有66個平行研討場次同時舉
行，共計有3,400篇左右的學術論文發表，可謂規模極大的研討會。出席會議的各國
學者及專家含蓋美加多個國家及地區代表與會，討論熱列成果豐碩。 
 
此次本人發表的論文為「A Study of Location Problem and Vehicle Routing 
Problem for Two Obnoxious Facilities」，大會安排於TC53場次發表。論文探討鄰避
設施位址與車輛途程問題，由於與會現場均為設施位址研究之專家學者，本論文雖
屬於實務導向方面的研究，但因與環保議題結合，故獲得許多熱烈的迴響及寶貴的
意見，對於後續的研究主題釐定與研究方法修正，可謂獲益良多。 
 
整體而言：本研討會在理論、實務、與應用三方面均有豐富與深入的研析，
與會討論的學者及業者極為踴躍，大會主題雖極多，但仍以學術導向及實務導向兩
方向為主軸：在學術導向方面，著重於問題的模型與解題的方法為主，同時開發較
佳的解題方法與概念；在實務導向方面，對於產業的實際應用及實務成效著墨較多，
亦具有相當可貴的經驗分享。對理論與實務相互印證而言效果良好，對於後續的研
究工作深具啟發意義，可謂收獲豐碩。  
1 
A Study of Location Problem and Vehicle Routing Problem for 
Two Obnoxious Facilities 
 
Chikong Huang1 and Chih-Wang Chang2 
 
1, 2Institute of Industrial Engineering and Management 
National Yunlin University of Science & Technology 
123 University Road, Section 3, Touliu, Yunlin, Taiwan 64002, R.O.C. 
1Corresponding Author E-mail: huangck@yuntech.edu.tw 
 
 
Abstract 
 
This study focuses on the location problem and vehicle routing problem for two obnoxious 
facilities, one existing and one new facility. A mathematic model is developed to minimize 
the social cost for the new facility and the rearranged vehicle routing costs for both facilities. 
This research proposes an integrated heuristic algorithm which combines the genetic 
algorithm and the simulated annealing algorithm. The genetic algorithm is to improve vehicle 
routing and the simulated annealing algorithm is designed for improvement of facility 
location. 
 
Keywords:  Obnoxious Facility, Social Cost, Facility Location Problem, Vehicle Routing 
Problem, Integrated Heuristic Algorithm. 
 
 
1. Introduction 
 
A traditional location problem can be easily solved according to different objective functions. 
If a location problem and a vehicle routing problem (VRP) come together, the solution 
approach becomes more complicated. Most of these combined problems in the past are based 
on single depot to develop vehicle routings. Solution of the combined problem should include 
a suitable location for the depot and suitable routings regarding the depot, as indicated in 
Figure 1(a). In the real world situation, one depot may be extended to two depots since service 
requirement increases. This is an interesting topic which we will further discuss in this paper. 
 
An obnoxious facility or undesired facility can provide service or benefit to its users, however, 
it will also have undesired effects on the people or environment near by. Typical obnoxious 
facilities include waste treatment station, chemical plant, nuclear power plant, etc. In general, 
obnoxious facilities produce pollutions in different types such as air, water, noise, or even 
radiation pollution. Location of obnoxious facility tends to near the boundary of the feasible 
region by considering the objective of maxi-sum or maxi-min criterion (Rodriguez et al. 
2006). If the location problem combines a transportation problem, the obnoxious facility 
serves as the depot of this transportation system. The objective function should take into 
account environment impact and transportation cost, simultaneously. The solution of this 
problem tries to balance the environment impact and transportation cost. 
 
This research investigates two obnoxious facilities and the associated vehicle routing 
problems. One facility is the existing facility with fixed location and service capacity. The 
other is a new facility to be located. Both obnoxious facilities are served as depots for the 
vehicle routing problem. This research focuses on (1) locating the new facility and (2) 
3 
locating the new obnoxious facility under the situation of one existing facility. In addition, we 
will modify the neighborhood approach as the initial solution and use the internal and external 
exchanges to improve vehicle routings. 
 
3. Model Development 
 
The following subsections will describe the problem area and given environment, the cost 
items and assumptions, the variables and decision variables used, and the mathematical 
model. 
 
3.1 Problem Statement 
 
This research assumes that there are N service points given in a limited planar area. Each 
service point produces fixed quantity of waste material which should be treated by the 
obnoxious facilities through the vehicle transportation system. One existing obnoxious facility 
is fixed in the current planar area and it serves as a treatment plant for waste material as well 
as the depot for waste material in the transportation system. This existing obnoxious facility 
has a fixed and given service capacity to treat the waste material for all service points, as 
indicated in Figure 1(a). The problem comes to this research when the existing service 
capacity is not enough to serve all service points. A new obnoxious facility is planning to 
build in this planar area, which also increases the total service capacity to meet new service 
requirement for all service points. In this situation, the problem of this research will focus on: 
(1) the location for the new obnoxious facility (as indicated in Figure 2(a) and 2(b)) and (2) 
the vehicle routings for the two depots, i.e. the existing and the new obnoxious facilities (as 
the examples indicated in Figure 3).  
 
 
 
 
 
 
 
(a) Location of the original facility  (b) Possible locations for new facility 
Figure 2 Locations for existing facility and new facility 
 
 
 
 
 
 
 
 
 
 
(a) Alternative A (b) Alternative B 
Figure 3 Possible alternatives for two-depot vehicle routing problem 
5 
known. The total service capacity is equal to the total service requirement. 
2. Location of the existing obnoxious facility is given, fixed, and known. 
3. The social cost caused by the existing obnoxious facility is fixed and known, therefore, 
this cost will not be considered in the mathematical model of this research. 
4. Location of each service point, population of each service point, and the quantity of waste 
material produced by each service point are given, fixed, and known. 
5. Each service point can be served by one vehicle once in one route only. 
6. Loading capacity of each vehicle is all the same. The loading capacity is fixed, given, and 
known. Over loading is not acceptable for each vehicle.  
7. One vehicle serves one route and one route is served by one vehicle only. In each route, a 
vehicle should start from an obnoxious facility (depot) and it will come back to the same 
depot at the end of this route. Overlapped-zone transportation is avoided. 
8. Euclidean distance is used in all distance calculations. 
9. Basic unit of the social cost, transportation cost per unit distance, fixed cost of vehicle are 
fixed, given, and known. 
10. All service points and all obnoxious facilities are located within a limited planar area. 
11. The social cost is defined and calculated by considering the population of service point 
and the distance from the service point to the new obnoxious facility. 
 
3.3 Mathematical Model 
 
This subsection proposes a mathematic model for the single location and double depots 
vehicle routing problem. The basic idea of this model comes from the model developed by 
Wu (2002) and the model has been modified to fit the two-depot environment in our study. 
The objective function of this model is to minimize both the social cost and the transportation 
cost. The variables and decision variables are defined as follows: 
 
I :  A set of all possible locations for the new obnoxious facility in the feasible planar area 
J :  A set of all service points 
V :  A set of all activated vehicles  
k :  Index of obnoxious facility. k=1 represents the existing obnoxious facility. k=2 
represents the new obnoxious facility. 
v :  Index of vehicle or index of route  
n : Service point ID 
ijd : Distance from service point i to service point j. i =0 or j =0 represent the point of 
obnoxious facility and the depot for waste material transportation system 
CD : Transportation cost per unit distance, a constant 
CP : Social cost per person, a constant  
CV : Foxed cost of one vehicle, a constant  
jQ : Quantity of waste material produced by service point j , j J∈ 。 
Pj : Population of service point j , j J∈ 。 
LV : Maximal loading capacity of a vehicle, a constant  
k
LF : Maximal capacity of obnoxious facility k , k =1, 2。 
( )jμ : Weighting factor of social cost for service point j , j J∈ 。 
1 1
2 1 2
,
( )
,
j
j
W R r
j
W r R r
μ ≤= < ≤
⎧⎨⎩  
For the cases of Rj > r2 , then μ(j) = 0 
7 
1 or 0 kjvX =  j J∈  v V∀ ∈  k=1, 2 (9)
1 or 0kijvY =  i=0, 1, 2, …, n  j=0,1, 2,…, n  v V∀ ∈   k=1, 2 (10)
1 or 0       kvV v V= ∀ ∈  k=1, 2 (11)
 
The objective function of this research is indicated in equation (1) which has three terms. The 
first term represents the social cost which is caused by the new obnoxious facility. The social 
cost is defined by the population and the distance. The second term is the cost of vehicle 
routing which is proportional to the distance. The third term is the fixed cost for the vehicle 
which is activated. Equation (2) indicates that overload is prohibited in each route. Equation 
(3) shows that a vehicle arrives one service point and the same vehicle should leave this 
service point. Equation (4) restricts each service point is served by one vehicle only. Equation 
(5) restricts the maximal service capacity of each obnoxious facility. Only one location can be 
selected for the new obnoxious facility, which is indicated in equation (6). For each 
obnoxious facility, at least one vehicle routing should be activated as indicated in equation (7). 
Equation (8), (9), (10), and (11) limit the decision variables to be 0 or 1. 
 
4. Solution Algorithm 
 
A heuristic algorithm is developed for solving the proposed problem. The proposed algorithm 
combines both the genetic algorithm and the simulated annealing algorithm simultaneously. 
The genetic algorithm is used to solve the vehicle routing problems for both facilities and the 
simulated annealing algorithm is used to solve the location problem for the new obnoxious 
facility. The Figure 6 presents a general logic of this proposed algorithm. The challenge of 
this solution algorithm is the efficiency of computation, since vehicle routings should be 
re-dispatched for both obnoxious facilities when a new location is found. 
 
This algorithm consists of three major subroutines: construction of an initial vehicle routings, 
improvement of vehicle routing, construction of initial location, and improvement of location. 
The initial location is randomly generated and the initial vehicle routings are designed by 
using the nearest neighborhood approach. The genetic algorithm and the simulated annealing 
algorithm are applied in the improvement of vehicle routing and the improvement of location, 
respectively. The following subsection will describe each part in details. 
 
4.1 Construction of an Initial Vehicle Routings 
 
Based on the nearest neighborhood approach, the procedure of initial routings can be 
developed as follows: 
 
Step 1:  Number service point from 1 to N and from a assignment set A. 
Sept 2:  Select a service point i from the set A, which has the shortest distance from the 
obnoxious facility to the service point i. The point i will be the first point to serve in 
the first route. Delete the point i from the set A. 
Step 3: Select a service point j from the set A, which has the shortest distance from service 
point i to point j. The point j is the next point to serve in the current route. Delete 
point j from the set A and set i = j. 
 Repeat step 3 until the loading quantity of current vehicle to the limit. 
Step 4: Start the next route by selecting a service point j from the set A. The point j has the 
9 
 
Step 1: Setup parameters of genetic algorithm. 
Step 2: Initialize population. 
Step 3: Calculate the value of fitness function. 
Step 4: Retain, mate, and mutate the string of genes.  
Step 5: Repeat step 3 and step 4 until the stopping criteria is reached. 
 
4.3 Improvement of Location 
 
In this research, the location is improved by the logic of the simulated annealing algorithm. The 
general procedure can be described as follows: 
 
Step 1: Check the starting condition: the current location is confirmed and the current vehicle 
routings for this location have been decided by the genetic algorithm.  
Step 2: Generate a new feasible location and arrange vehicle routings. 
Step 3: Calculate the objective function value for the new location. 
Step 4: Check the acceptability for the worse location. 
Step 5: Check the temperature reduction. 
Step 6: Repeat step 1 to step 5 until the stopping criteria is reached. 
 
5. Numerical Example and Analysis 
 
In this section, a numerical example is tested and verified by using the algorithm developed in 
section 4. Three experiments are also conducted by considering impacts of different social costs, 
different transportation costs, and different allocation of service capacity. Subsection 5.1 describes 
the example problem and the solutions in details. The following three subsections describe three 
experimental results with a short discussion.  
 
5.1 Basic Data and Solution of the Example Problem 
 
This example problem contains 50 service points located in the predefined and limited area, as 
indicated in Figure 7. The coordinates of each service point, quantity of waste material generated by 
the service point, and the population of each service point are summarized in Table 1. The detailed 
description of these service points are described as follows: 
1. Two obnoxious facilities and all service points are located within the square: (0, 0), (0, 100), 
(100, 100), and (100, 0). 5 groups of service point spread this area.  
2. Quantity of waste material generated by each service point ranges from 20 to 40. The population 
of each service point ranges from 50 to 100. 
3. The existing (old) obnoxious facility locates at (15, 20). 
4. The service capacity of the new obnoxious facility is 40% of the total capacity. The service 
capacity of the existing obnoxious facility is 60% of the total capacity. 
5. The loading capacity of a vehicle is 100. The fixed cost of a vehicle is 15 and variable cost per 
unit distance is 5. 
6. The maximal impact distance of social cost is 30 or less and the weighting factor within this 
range is 2. The minimal impact distance is 50, therefore, the medium impact ranges from 30 to 
50. The medium weighting factor within this range is 1. If distance is over 50, no environment 
impact applies. The weighting factor is 0 for this case. Figure 7 indicates this concept. 
 
The initial location of the new obnoxious facility is located at (36, 24) which generates 3,096 as the 
initial social cost. The initial transportation cost for both the existing and the new facilities is 10,849. 
The initial total cost is 13,945 which include the social cost and the transportation cost.  
 
11 
5.2 Impact of Different Social Costs 
 
This subsection tests several special cases for “what happens if the social cost increases”. The 
analysis and discussion are focus on the impact of the location for the new obnoxious facility. Five 
different social costs ranging from 100% (i.e. the current cost) to 1000% (i.e. 10 times of current 
cost) will be tested by the solution algorithm proposed in section 4. The unit transportation cost will 
keep the same in all cases. Table 2 indicates the basic data of each case including the increasing 
percentage of the social cost, the weighting factor for the maximal impact distance, and the 
weighting factor for the minimal impact distance. Since each case will be independently tested 5 
times, the average total cost including the social cost and the transportation cost is drawn in bar 
charts as indicated in Figure 9. Figure 10 plots the locations of the new obnoxious facility for each 
case, including 5 independent runs. 
 
In general, cost data shown in Figure 9 indicates that the social costs are proportional to the 
increasing percentages. By observing the locations in Figure 10, a significant trend can be found: 
when the social cost increased, the locations tend to move towards the corners or edges of the 
feasible area. It also represents the impact of social cost is greater than the impact of transportation 
cost in this case. 
 
 
Table 2 Five cases of different social costs 
Case ID (A)* (B) (C) (D) (E) (F) 
Social Cost 
Increasing Percentage 100% 120% 150% 200% 500% 1000%
Weighting Factor for 
Maximal Impact Distance 2 2.4 3 4 10 20 
Weighting Factor for 
Minimal Impact Distance 1 1.2 1.5 2 5 10 
Remark: * represents the original case with no increasing of social cost. 
 
 
 
0.00
5000.00
10000.00
15000.00
20000.00
25000.00
(A) (B) (C) (D) (E) (F)
試驗編號
平
均
成
本
值
社會成本 運輸成本 總成本
 
Figure 9 Total costs (social cost + transportation cost) for increasing social costs 
 
Social cost Transportation cost Total cost
Case ID  
Average C
ost
13 
0.00
2000.00
4000.00
6000.00
8000.00
10000.00
12000.00
14000.00
16000.00
18000.00
(A) (B) (C) (D) (E) (F)
試驗編號
平
均
成
本
值
社會成本 最佳運輸成本 最佳總成本
 
Figure 11 Total costs (social cost + transportation cost) for increasing transportation costs 
 
0
10
20
30
40
50
60
70
80
90
100
0 10 20 30 40 50 60 70 80 90 100
100% 110% 120% 130% 140% 150% 需求點分佈 原有鄰避設施座標
 
Figure 12 Locations of new obnoxious facility for different transportation costs 
 
 
5.4 Impact of Allocation of Service capacity 
 
In the original example problem, we assume that the capacity of new obnoxious facility is fixed on 
40% of the total service capacity. This constraint may be relaxed in this subsection. The experiment 
of this subsection will further investigate different allocation of service capacity for both obnoxious 
facilities. The capacity of new facility is ranging from 10% to 90% with 10% increment in each 
case. All cases are represented by case (A) to case (I) in sequence. The total service capacity will 
keep the same in all cases, i.e. in 9 different cases. In each case, 5 independent runs are executed 
and the averaged costs are plotted as the bar charts in Figure 13. Figure 14 plots the locations of the 
new obnoxious facility for each case, including 5 independent runs. 
 
By observing the variation of total cost from Figure 13, the total costs are different due to different 
allocation of service capacity. In this example problem, the near optimal allocation of capacity for 
the new facility occurs between 30% to 40% of total capacity. Figure 14 further implies a trend that 
Social cost Transportation cost Total cost 
Case ID  
Average C
ost
Existing facility Service point
