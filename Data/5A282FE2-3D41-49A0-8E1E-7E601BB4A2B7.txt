pose estimation. 
二、緣由與目的 
機器視覺在機器智慧系統領域是很重要
的一個主題，其主要之目標是去了解影像資
料，並從中擷取有用的訊息，如辨識物體、檢
測等目的。對於辨識物體而言，此物體可以是
任意且複雜之形狀，可從任意不同方向的視角
觀看此物體。在製造環境中，機器視覺系統可
用來決定在零件組裝、檢測中，機器人夾取物
體的位置。在工業機器人之應用上，通常操作
機器人在一已知工作環境下， 亦即事先以教
導的方式引導機器人的工作路徑。然而在實際
的應用上，機器人更被希望操作在不同條件的
環境下，物體幾何位置的改變，可經適當的改
變機器人的軌跡而完成任務。此外，有很多工
業應用上對於物體位置辨識的需求，如機器人
夾取與放置在未知位置的物體，因此ㄧ靈巧之
機器人須具備視覺辨識系統，允許非接觸性的
量測。 
自動化工廠之一基本任務是工件之自動
組裝，辨識系統在自動化組裝之目標是辨識工
作範圍內任一位置之工件，將之以機器人夾
取，並搬移至另一工作區域，因此，此系統必
須具有彈性，亦即此系統必須能處理不同尺寸
及外形之工件。因類神經網路具有容錯能力，
一般處理物體辨識問題大多以此演算法求
解。而傳統之類神經網路演算法於執行實際辨
識前，必須以多種不同條件下之影像來訓練與
測試此網路，才能獲至良好之辨識效果。此前
處理所佔之訓練之時間甚鉅，對於經常要處理
不同外形之裝配而言，辨識前處理工作是項繁
雜之任務。因此若能將網路之訓練學習機制建
立於辨識系統內，可省卻其前處理之前置作
業，如訓練與測試影像之準備。但相對的，若
將網路學習與辨識置於同ㄧ演算法內執行，則
辨識所花之時間將相對而言增長。如何在快速
之時間內完成辨識工作，且不需前處理之學習
與測試階段，將是我們值得探討之問題。 
目前之辨識系統中，在不同視角下之物體
辨識大多考慮以平面之仿射轉換來近似，求得
各物體之對應特徵點匹配解[1-3]，或是解出其
對應之轉換參數[4, 5]。然而對於實際之自動
組裝工作而言，此辨識工作除求其對應解外，
尚需解出物體所在之空間座標位置及方位，以
便於機器人夾取至指定位置。但ㄧ般之光學影
像是無法以單張影像來求得物體在空間中之
座標。為求得物體在空間中之資訊，大多使用
兩張以上不同視角下之影像找出物體之深度
[6-8]，或是以形貌影像(range image)儲存各像
素點之深度資訊[9, 10]。因此如何以單張影像
辨識出物體所在之座標亦是ㄧ大問題。 
一般之類神經網路辨識系統大都採用模
型基比對法(model based matching)[1-5]，亦即
事先將欲辨識之物體建立於資料庫中作為模
型樣本，如此可離線事先加以訓練。然而在實
際環境下，可能事先不知模型樣本，必須以直
接線上比對之方式求得匹配解。此外，一般模
型基辨識文獻僅止於探討影像中具單一物體
之辨識，對於一張影像中含多個物體之辨識問
題，亦是值得探討。 
近來Toledo[11]等提出以 LIRA類神經網
路辨識不同形狀之螺絲、端子等物體。此辨識
系統可用來求得物體之 X、Y 座標及旋轉角
度，亦即只可用來辨識相似轉換 (similarity 
transformation)下之物體。其辨識系統允許ㄧ
張影像中含多個相同物體之辨識，但無法辨識
ㄧ張影像中多個不同形狀之物體。Mitzias 和
Mertzios[12]發展出一類神經多重分類器系統
來辨識物體。此系統有兩步驟，第ㄧ步驟是由
多個平行且獨立之倒傳遞類神經網路分類器
組成，根據不同之特徵，建立個別之輸出類
別。第二步驟之類神經網路是使用所有第一分
類器之輸出及相對應之加權值來判定其所屬
之類別。然此系統只能用來辨識待測物體置於
已知位置及方位之角錐上，無法識別空間上任
一方向、位置之物體。此外，此兩份文獻所提
出之類神經演算法均須經事先訓練與測試階
段。 
Zhao 和 Li[13]提出ㄧ自動組裝系統應用
在扭力轉換器之辨識與組裝上，首先找出物體
之邊緣，再以圓形霍夫轉換 (circle Hough 
transform)求出物體之圓心位置，扭力轉換器
方位之估計則是以角度距離圖(angle distance 
map)來表示此物體之特徵，再以主成分分析
(principle component analysis)之方式來簡化此
特徵之資訊，並比對模型特徵點與真實物體特
2 
為了量化兩影像間之匹配良否，一目標函
數 F 定義為 
),,,( ,
1 1
, tkaafF nij
N
i
N
ij
mkl∑ ∑
= +=
=  (1) 
⎥⎦
⎤⎢⎣
⎡ −=
t
ktkaaf εtanh),,,(  (2) 
其中，N 為組裝件影像之物體特徵點數
目，k 為一門檻值，t 稱為溫度拘束，用來決
定函數 f(.) 之陡度。a 表模型影像中第 k, l
個 特 徵 點 間 的 雙 元 相 對 屬 性 (binary 
attribute)，a 表組裝件影像中相對應之雙元
屬性，f(.)為相似性函數之定義。當兩影像雙
元屬性相似時，會有較大之相似性函數值。 
mkl,
nij,
本辨識條件因可用平面之仿射轉換來近
似，因此將從仿射不變量中來定義雙元屬性。
在仿射轉換下，有一些特性是維持不變的。例
如，兩直線之交點是維持不變的。另一不變特
性是轉換前、後的三角形面積比是不變的。若
a、b、c 為不共線的三點，d、 e、 f 為另一
組不共線的點，則 
)()()(
)()()(
fTeTdT
cTbTaT
def
abc
Δ
Δ=Δ
Δ  (3) 
其中 為三角形 h 之面積，T(a)為 a 點經
仿射轉換後之對應點。 
hΔ
若( )四點形成之四個三角形面積
分別為 ，總面積為
dcba ,,,
4321 ,,, AAAA A ，其中
，因在仿射轉換下三角形面
積比是不變的特性，因此本文用此面積比作為
其雙元相對屬性。本計畫擬以包含相對匹配關
係之
4321 AAAA <<<
A
A
A
43 ,
A 作為雙元屬性。因此ε定義為 
)(
2
1 4433
A
A
A
A
A
A
A
A
′
′++′
′−=ε  (4) 
其中，A, 分別代表模型物體與組裝件物體
中之特徵點面積。藉由雙元屬性來定義目標函
數，可得愈佳之相關對應匹配，會有較高之目
標函數值。 
在遺傳演算法之執行步驟上，首先以亂數
碼自然產生一定族群數目的染色體，每一染色
體是由其個別之目標函數值來評估此染色體
之所得解是否為最佳匹配解之依據。在每一代
的演化過程中，族群中具最佳適應函數值之染
色體最先被送至交配池中，此稱為精英策略
(elitist approach)，其他的後代選擇方法則使用
輪盤式選擇(roulette wheel selection)選出原始
染色體送至交配池中，藉由交配、突變衍生出
下一代，如此經由不斷的進化過程 --複製
(reproduction)、交配(crossover)、突變(mutation)
等遺傳演算過程，使其解趨於穩定值。 
A′
SM
求得遺傳演算法之近似解後，此時每一元
素值代表模型影像零件之特徵點所對應組裝
件物體之對應特徵點。從此對應解中找出每個
元素之個別目標函數值，並以個別目標函數值
較大之數個元素作為霍菲爾類神經網路之初
始值。例如：近似解<5, 3, 6, 7, …, 4, 2>中，
第三元素之對應解為 6，若其有最大之個別目
標函數值，則將霍菲爾類神經網路 2-D陣列中
之第三行第六列之神經元初始值定為 1，第三
行其他各列之神經元初始值為 0。作為影像比
對的霍菲爾網路是以一個二維陣列神經元的
形式來實現，且每一神經元之間相互連結。對
於一 × 個神經元的霍菲爾網路，M列表組
裝件影像物體之節點數，S行表示在模型影像
物體內所有節點的總數(在霍菲爾網路中，我
們以節點來代表輪廓之特徵點)。Vik表示組裝
件中物體之第i個節點與模型物體之第k個節
點的匹配性，Tikjl則為神經元Vik與Vjl之連結加
權值，Iik為偏權值(bias)。以霍菲爾網路求解
輪廓辨識之能量函數，必須滿足所選取能量函
數之最小值為所欲求匹配解之最佳解，並符合
一些拘束條件。而匹配過程可視為能量過程之
最小化，此能量函數可用下式來表示 
∑∑∑∑∑∑ +−==
i k
ikik
i k j l
jlikikjl VIVVTE 2
1  (5) 
此類神經網路之迭代方程式可用下式來
表示 
⎪⎩
⎪⎨
⎧
=
<
>
=
. 0              
 0                    0
 0                     1
ik
ik
ik
ik
U
U
U
V
若不變
若
若
， (6) 
ikU 表神經元(i, k)之總輸入。 
4 
物體上之某ㄧ軸線其到相對應特徵點之距離
與距離 D 維持在一定之比例關係，則此軸線
即為未旋轉前之方向，其與傾斜轉軸之夾角即
為 Z 軸旋轉角 γ。 
為使機器手臂能自動將模型物體挾持至
組裝件之位置，必須已知模型物體和組裝件之
位置和方向，亦即要求得圓心在模型物體和組
裝件之空間座標 X, Y, Z 和 及繞三軸
之旋轉角度 A, B, C 和
Z,Y,X ′′′
B ,A C , ′′′ ，若模型物體
至於水平位置，則可固定旋轉角度 A, B, C，
只要求得 即可推算 。而 之
值可利用轉換關係和 計算而得，其關係如
下： 
γ βα , , C′ βα  ,
θφ  ,
 ,B ,A ′′
)cos(sinsin-1 φθβ ×=  (12) 
)sin(tan-tan-1 φθα ×=  (13) 
而組裝件圓心之 Z′高度可利用縮放比例
求得。 
四、實驗結果 
本實驗以 MITSUBISHI 之 RV-1A 六軸機
械手臂來驗證本計劃之可行性。整個實驗設備
如圖二所示。以兩台 CCD 分別拍攝模型物體
和組裝件之影像，並預先測知模型物體之高度
及平台中一點相對於機械手臂之空間座標，如
此可利用影像中相對位置和幾何投影關係找
出組裝件和模型物體之位置和方向，再藉由機
械手臂加以驗證。圖三、圖四分別顯示為模型
影像和相匹配組裝件影像，在經整合式演算法
之執行後，求出相對應之特徵點匹配解，並以
仿射轉換關係畫出轉換後之模擬結果，圖五虛
線所顯示為相匹配組裝件影像輪廓，實線所顯
示為模型樣本經仿射轉換後之投影結果，此結
果顯示各特徵點均能正確之匹配。圖六顯示為
組裝件橢圓之長短軸，圖七為模型物體相對應
軸線之方向，此兩者之間夾角即為 Z 軸旋轉
角γ。 
表一所示為本演算法所計算而得之模型
樣本和組裝件樣本之座標位置和方向，與由機
械手臂實際測知正確之位置和方向做比較，實
驗結果顯示其誤差在可組裝之範圍內。 
五、結論 
本計劃之目的在於以一CCD攝影機辨識
組裝件之位置和方向，以利於機械手臂之組
裝。此物體辨識系統是利用一整合式之類神經
網路和遺傳演算法技術求出模型樣本和待測
樣本之對應匹配解，再利用幾何投影關係找出
待測樣本與水平之傾斜角度、旋轉角度和傾斜
軸。求出此夾持孔之圓心座標位置和相對於
X、Y、Z 軸之旋轉角度後，即可控制機械手臂
夾放至裝配位置，實驗證實本開發系統辨識物
體位置和方向之強健性。 
六、參考文獻 
[1] W.H. Lin, J.S. Lee, C.H. Chen, and Y.N. 
Sun, “A new multiscale-based shape 
recognition method,” Signal Processing, 
vol. 65, pp. 103-113, 1998. 
[2] H.C. Liu and J.S. Huang, “Pattern 
recognition using evolution algorithms 
with fast simulated annealing,” Pattern 
Recognition Letters, vol. 19, pp. 403-413, 
1998. 
[3] J.H. Kim, S.H. Yoon, C.W. Lee, and K.H. 
Sohn, “A robust solution for object 
recognition by mean field annealing 
techniques,” Pattern Recognition, vol. 34, 
pp. 885-902, 2001. 
[4] W.J. Li and T. Lee, “Hopfield neural 
networks for a affine invariant 
matching,” IEEE Trans. Neural Networks, 
vol. 12, pp. 1400-1410, 2001. 
[5] C.C. Huang and I. Her, “An Integrated 
Approach Containing Genetic Algorithm 
and Hopfield Network for Object 
Recognition under Affine 
Transformations,” IEICE Trans. 
Information and Systems, vol. E87-D, No. 
10, pp. 2356-2370, 2004. 
[6] A. Shashua, “Algebraic functions for 
6 
