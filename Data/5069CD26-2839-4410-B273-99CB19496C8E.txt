21. 前言
在Web 2.0概念產品逐漸流行，
Wikipedia、Blog、個人化首頁，將更多人
群拉進了網路世界，使網路用戶可輕易地
向全世界分享自己的資訊。然而這類型入
口網站僅提供大眾化的資訊，無法滿足網
路使用者的個人喜好，一般網路用戶每天
大都例行性地瀏覽幾個特定網站，取得最
新資訊，這些工作常常是繁瑣且耗時的。
隨著網路使用量快速地增加，網路行為日
益頻繁，個人化資訊整合與管理儼然已成
為重要的研究領域。
一般網路使用者管理資料的方式，大
致可分為以下幾種：1)書籤, 2)電子郵件, 3)
多重首頁, 4)個人化首頁。書籤可替使用者
記錄網頁位址，然而無法監控每個網頁的
更新狀況，若網站內容、網址改變，使用
者須逐一瀏覽後才能發現；電子郵件雖可
記錄並監控網路資訊的更新，然而當資料
來源太過繁雜，每日管理大量的電子郵件
將是沈重負擔；多重首頁可讓使用者在開
啟瀏覽器時同時顯示多個頁面，然而當資
料來源、頁面複雜時，也難滿足使
用者的需求。
在Web 2.0 的概念逐漸成熟後，網路產品
的設計模式逐漸重視個人化需求，個人化
首頁也逐漸成為個人資訊管理的新方案。
以Google 為例，他們在2007 年4 月推出
iGoogle，提供互動介面讓人們透過簡易步
驟管理個人化首頁，並允許開發人員自行
在其平台上設計小工具，因此個人化首頁
的概念開始改變網路用戶的行為模式。使
用者可快速管理個人化首頁版面， 放置個
人所需的Google Gadget。Gadget 是一種使
用者網路互動介面，人們可透過使用
Gadget，將新聞、股市、行事曆、電子郵
件、和許多有用的功能放置於個人化首
頁，輕易地達到個人資訊整合。
現今許多大型網站都有支援Gadget
功能，例如Google、Yahoo!和Microsoft。
以Google 為例，Google Gadget 是一種以
XML 標籤為基礎的軟體介面，其中主要分
為XML 標籤和HTML 版面程式碼兩個部
分。XML 標籤中記錄了Gadget 的資訊，
包括Gadget 名稱、敘述、作者和使用說明
等等。HTML 版面程式碼用來定義Gadget
畫面，並以內嵌Javascript 程式碼來處理動
態網頁控制，因此開發者僅需製作一個
Gadget 的XML 檔案，就可以分享到網路
上讓世界各地的使用者套用。
雖然使用者可以選擇現有的Gadget，
但自行設計Gadget 仍不是一件平易近人
的事。設計Gadget 有幾個挑戰：首先、
Gadget 設計者必須要懂XML 標籤和
HTML、Javascript 程式、AJAX等技術，
對於不懂程式語言的使用者而言是難以跨
越的藩籬。其次、目前Gadget 設計大多作
法是將特定網站中的資訊取出，簡化後以
Gadget 平台呈現網站資訊，因此必須針對
特定網頁撰寫程式，或利用該網站所提供
的函式工具庫來擷取網頁資訊。一般使用
者再使用Gadget 時，沒有辦法自行設定資
訊來源。且因為僅部分網站有提供函式工
具庫，對於沒有提供的網站，其網頁內容
改變時，必須要有因應機制能即時改變
Gadget 內容，否則沒有更新的Gadget 就失
去用處了。這些挑戰都需要較專業的技術
才能完成，顯然不是一般使用者能在短時
間內完成的。
本研究中提出一個網頁互動式的線上
Gadget 產生流程，讓無程式背景的使用
者，也能夠擷取目標網頁中的資訊，並透
過簡單的步驟將網頁資訊以Gadget 方式
呈現。希望僅需簡單的操作，就能夠達到
監控網頁更新和以Gadget 呈現的功能。系
統有兩種方式讓使用者指定擷取資料的來
源頁面: 1)網址; 2)表單查詢。在網頁資料處
理上，為了能夠讓系統順利擷取使用者所
需資料，提升網頁變動時資料擷取的正確
性，所以必須使用樣版歸納 (Wrapper
Induction)技術。另外，系統提供了頁面擷
取流程，使用者可以從網頁中擷取所需資
訊，同時可以利用網頁中的網址資訊，進
行新的資料源的網頁資料擷取。在資料呈
現的模組上，目前提供下列幾種模組: 清單,
表格, 地圖, 月曆, RSS。經過上述的Gadget
產生流程後，就可以立即發佈上線，分享
給所有網路上的使用者。
2. 文獻探討
4的屬性內容，來擷取出正確的資料。
總結以上關於Gadget Creation 的研
究，發現在技術層面上最主要的兩個問題
在於1) 網頁抓取的研究，以及2)Wrapper
Induction 的研究。
2.4網頁抓取
Lage 等人在2004 年的研究[5]，設計
對Deep Web 進行網頁爬行，對於某個特定
主題，自動收集有關的網頁；而Crescenzi
等人在2004 的研究[10]則著重在對於各式
各樣不同的主題，系統如何能正確進行網
頁爬行。這些研究主要目的在於如何讓系
統自動爬行某些主題的網頁，和這些研究
相比，我們著重於系統和使用者的互動，
特別是如何讓使用者能夠透過互動介面，
指定網頁中的資料作為新的網頁抓取來
源。
過去也有相關研究設計抓取工具來輔
助監督式IE 系統進行網頁抓取，如Laender
等人在 2002年所發表的 DEByE (Data
Extraction By Example) [1]和Lage 等人在
2004 年 所 發 表 的 ASByE (Agent
Specification By Example) [8]。然而這些研
究皆針對監督式IE 系統設計，至今我們仍
未發現針對非監督式IE 系統所設計的網
頁抓取。我們系統首次設計了一個輔助非
監督式IE 系統進行網頁抓取的流程，讓
使用者能夠操作簡單的介面進行網頁抓
取，執行Wrapper Induction 並選取所需的
資料欄位。
2.5 Web資料擷取
在深網的概念中，動態網頁的組成是
將動態資料嵌入一個網頁樣版中。一般來
說，網頁的樣版部分都是固定不變，因此
分析一個網頁，將內容切割為資料及樣版
兩個部分，並擷取出資料是可能做到的。
根據張嘉惠教授等人在 2006 年的研究
[4]，資料擷取系統可分成 4 種類別：
1. 手動建立式：針對特定網站撰寫
Wrapper 語言擷取網頁內容，使用者須有
撰寫程式語言的能力。
2. 監督式：需要一組的樣本當輸入，而樣
本中具有使用者所需要的資料項目。
3. 半監督式：針對使用者選擇的區塊產生
擷取規則。
4. 非監督式：不需任何標記資料過程以及
使用者互動介面就能夠執行樣本歸納。
接下來，第 3 節將介紹系統架構，討
論我們如何設計 Gadget 產生流程，以及如
何讓使用者進行多資料源的資料整合。
3. 研究方法
本系統設計的目標是讓使用者透過簡
單的介面操作，選擇若干網頁，並將網頁
中所需資訊擷取出來，快速製作個人化的
小工具。使用者可透過以下四個步驟來建
立Gadget，系統流程如圖1所示：
1.撰擇資料呈現模式：目前系統提供表
格、清單、地圖、月曆以及RSS 等五種
資料呈現模式。清單和表格可將資料分
別以巢狀和二維的方式表達。地圖及日
曆則可針對有空間屬性及時間屬性的資
料有更好的呈現方式。而RSS 則可進一
步做為其他RSS Reader 軟體來讀取。
2.設定資料來源：首先，使用者可以透過
此步驟指定欲擷取資料的網頁，我們讓
使用者以網址及表單查詢兩種方式來獲
取目標頁面。接著，將所有目標頁面進
行資料擷取，產生網頁Schema 以及樣
版，同時將頁面中的動態資料欄位擷取
出來。接著我們以工作表的方式呈現資
料，讓使用者選取工作表中所需的資料
欄位。最後使用者也可選擇包括網址的
資料欄位做資料的延伸，並由系統進行
整合。
3.資料呈現及延伸網頁：使用者可以規劃
頁面擷取流程，使用者可以利用網址資
料欄位，產生新的資料源，建立多資料
源架構。透過頁面擷取流程，可以讓使
用者同時整合多個資料源中的資訊，更
可以利用頁面中的網址欄位產生新資料
源。
4.模組發佈：使用者可以將選擇好的資料
6資料擷取後的結果，系統會根據
FivaTech 所產生的Schema 建構工作表，
並將所有對應資料檔中的資料放到表格
中，再由使用者進行操作。因Schema 本身
為複雜的樹狀結構，若想將所有資料顯
示於一表格內，將造成選取及視覺上的不
便。因此以分頁工作表的方式呈現資料，
除了根節點所對應的一頁工作表，每一個
集合型態的節點亦會對應一頁的工作表。
以圖3 的樹狀結構為例，這個schema
包括二個集合，因此我們可以2+1 個共三
個spreadsheet 來呈現擷取的資料。之後使
用者可勾選表格欄位上方的核對盒，選取
所要的資料欄位(行)加入輸出。
圖 3 工作表作為資料擷取的呈現
3.4. 延伸網頁的資料整合
當資料集中存在網址欄位時，使用者
可選取該欄位，並以此產生新資料源，此
時系統將會自動抓取欄位中所有網址所在
的網頁，並進行樣版歸納產生新資料集。
透過這層機制，讓使用者可以進一步地擷
取每個頁面底下所包含的資訊。如圖4 所
示，除了第一個資料集是由使用指定用網
址或是查尋表格取得網頁之外，其餘的網
址均是由系統建構的資料集中所包含的網
址欄位去抓取到的網頁，因而形成新的資
料集。來自不同資料集的資料，則需要透
過資料合併流程整合成輸出結果。考慮使
用者不一定會在每一個資料集中選取資料
欄位，因此我們採用由下而上資料合併
法，先檢查每一個資料源中是否有選取的
欄位，當資料源中有被選取的欄位，系統
對資料源進行中介資料源建立流程。
圖 4 網頁抓取流程
資料合併原則上可採一階段或二階段
的方式。一階段過程是在每個資料源產生
的同時，建立資料間父子階層的關係，並
在使用者於資料源中選取每個資料欄位
後，直接將使用者所選取的資料欄位記錄
下來；二階段的合併流程則會將合併過程
延後到使用者選取所有資料欄位後才進
行。若使用者在多個資料源間來回切換
時，反而會增加許多無謂的工作，因此我
們採用二階段合併流程，待使用者將所有
資料欄位選取後，再一次將所有資料源進
行合併。
3.4.1前置處理
在新資料源產生時，系統會建立新舊
資料源間雙向的對應記錄。必須建立雙向
對應關係的理由是為了多資料源由下而上
合併時，每個樹葉資料源皆能找到其父資
料源，因此需建立向上的對應關係，同時
在之後的網頁抓取及資料重建過程也需要
有向下的對應記錄，讓每個父資料源能夠
重建底下所有的子資料源。
記錄內容包含新資料源來自舊資料源
哪個欄位，及新資料源中擷取檔來自舊資
料源哪個擷取檔的哪個項目。對應規則如
下：假設舊資料源DS1 中的C 欄位(簡寫為
DS1:C)為新資料源DS2 的來源網址欄
位，則在舊資料源的Schema 中，系統會在
8的頁面擷取流程，我們採用寬度優先演算
法來重建使用者最初所建立的樹狀資料源
架構。此概念根據舊資料源集合和新資料
源集合比對，找出兩集合中對應資料源，
接著利用對應關係，在新資料源集合中重
建舊資料源集合的架構。
5. 討論
本節中我們以實例展示系統如何將網
頁轉為顯示模組，同時展示使用者如何透
過系統，對網頁資料進行重複查詢動作，
和網頁資料整合。我們以Pittsburgh Public
Schools(http://www.pps.k12.pa.us/pps/site/d
efault.asp)為例，如圖7 所示。該網站中提
供了學校目錄查詢功能，分門別類顯示各
個學校資訊清單，並可進入每個學校查看
詳細資訊。假設現在使用者希望從學校目
錄中，取得每個學校的校名、校長姓名、
學校地址，並將其標示在地圖上學校所在
的位置。由於學校目錄中每頁只顯示8 個
學校項目，如果使用者手動操作的話，必
須一個個拷貝每個學校的地址，將其輸入
如Google Map 的網站，相當不便利。若是
以我們所設計的系統，則只需以下的操作
即可產生相同結果：
1. 輸入Pittsburgh Public Schools 學校目錄
網址，並以表單查詢的方式，收集目錄中
的所有分頁（見圖2）。接著系統會自動對
所有分頁進行樣版歸納，產生資料源。
2. 透過工作表，選取資料源中的校名、校
長姓名、學校地址欄位。
3. 撰取地圖為輸出模式，並連結學校地址
欄位做為Google Map 標示的輸入。
圖 7 Pittsburgh Public Schools
如圖8 所示，左上角顯示依圖右上方操作
之後所得的兩個目標網頁。接著系統據此
執行FiVaTech得到這個資料源的樣版及
schema，並且以工作表的形式呈現給使用
者（如圖右下方），最後使用者只需選擇
所要的資料欄位，即可快速整合資料。圖8
左下方顯示的即是以地圖模組做為輸出呈
現模式的結果。另外，我們可以選擇表格
或是RSS 等輸出形式，及以 IFrame 的
HTML code 供使用者加入到任何網頁（如
圖9）。
圖 8 Pittsburgh Public Schools 地圖工具建置流程
出席國際會議報告
中央大學資訊工程研究所范登凱
一、會議經過
2008年國際資料分析系統會議 (DAS 2008) 於九月十六日至九月十九日在日本奈良縣
舉行，會議的地點選在充滿人文氣息的Nara Prefectural New Public Hall 國際會議中心，象
徵著資料處理已逐漸邁向新的里程，本次會議共收錄了87篇論文，並有來自41個不同國家
的學者共同參與此次的盛會。
會議的進行於九月十六日開始並進行各項議程，並由Prof. Dr. Thomas Breuel 及 Prof.
Apostolos Antonacopoulous 進行Tutorial 的演講，替DAS2008展開序幕。Dr. Thomas
(Statistical and Adaptive OCR-a Hands-On Tutorial with OCRopus) 主要介紹他們研究團隊所
開發的OCR (Optical Character Recognition) 系統，從宏觀的角度來介紹該系統可應用的範
圍，到以巨細靡遺的方式來介紹各個系統的安裝，並提供API (Application Program
Interface) 以利使用者結合自身開發的程式，達到Reuse的概念。Dr. Apostolos (Unlocking
the World’s Knowledge) 主要介紹目前處理 Historical Documents 的流程技術，並勾勒出幾
個常在研究上遇到的重大議題 (例如: 不同使用者的hand writing)，同時也介紹各國圖書館
所採用的掃描機器人如何將整本書籍做成電子書 (例如: google book) 的影像範例。九月十
七日由Dr Kasturi (Extraction of Text Objects in Video Documents: Recent Progress)進行開場
Keynote，主要介紹如何在影像中擷取文字技術及研究現況，其中文字可分為該影像中的
字幕及影像中目標物上的文字 (例如:影像中路牌的文字)。
而本次我們所發表的論文Exploring Evolutionary Technical Trends from Academic
Research Papers在會場上，許多學者對我們的研究相當感興趣，也有相當熱烈的討論，並
對於我們如何透過學術文章來分析研究趨勢提出許多寶貴的意見，這些意見對我們日後提
升研究有相當大的幫助。在本次DAS2008大會中來自各國的學者均對文字處理分析議題提
出自己的獨到觀點，例如大陸北京大學Gao 教授、美國賓州Liu教授、日本東京大學
Kamiuchi教授…等。
