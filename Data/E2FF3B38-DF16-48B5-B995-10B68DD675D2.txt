 所有的嵌入式系統皆是電腦的一種，在構造上有些
甚致比個人電腦還精簡，最簡單的像是單一微處理
器（Microprocessor，MPU），亦稱為單晶片，大都
與其它晶片套裝整合在特定模組或特殊用途的 IC 
晶片上。 
 
2.1.1. Embedded Linux OS 
 
一個多程序的系統中，同一時間所存在的程式
與執行程序，不一定只有一支程式或檔案，而其各
自亦皆有自己所需要負責的工作與任務，因此每支
程序皆會要求與使用到系統資源的情形，例如：網
路卡驅動程式，要求網路連線能力（Network 
connectivity），計算機程式，要求核心中運算單元
（Computing Power）的能力，運作中的程式要求，
記憶體（Memory）使用的能力，中斷（Interrupt）
等等[19]。 
核心的任務與存在，便是來管理與分配這些硬
體或軟體上資源，給所有的程序或程式來執行與應
用。而核心本身如一塊可執行碼，由於其內部具有
能夠分配與管理大量資源的機制，因此其內部所包
含的區塊，在目前新版的核心內並不一定有明顯的
界線區分，但是亦可透過以所擔任的角色來做區
分，如圖 2 所示。 
 
圖 2 Embedded Linux OS [本研究] 
 因此主要可分成下列幾項機制： 
 行程管理（Process Management） 
 記憶體管理（Memory Management） 
 檔案系統（File-system） 
 裝置控制（Device Control） 
 網路作業 
 
2.1.2. Device Driver 
 
要在 Linux 下開發 Device Driver，就必須先了
解 Driver 與 Kernel 之間的互動關係，接著再進一步
規劃程式的部分。在模組插入 Kernel 時， Kernel
會讀取 Driver 內部 fops 結構所定義的動作方法，例
如：open()、close()、read()、write()與 ioctl()等，用
於管理底層之硬體操作，並將各自所位於記憶體的
位置配置起來。接著使用者在應用層所開發之程
式，便可透過裝置節點（Device Node），進行操作。 
 
圖 3 Device Driver RT Environment [本研究] 
 
2.2. Blackfin DSP 
 
Blackfin（黑鰭）為 ADI 推出眾多數位信號處
理器（Digital Signal Processor：DSP）內，其中一種
能應用於嵌入式系統上的數位信號處理器。而搭載
Blackfin 系列信號處理器的平台，大致上又可分為
Ez-Kit 與 Stamp 兩種系列，其中兩者的差別在於
Ez-Kit 系列的嵌入式系統主要是以 Microsoft 
VisualDSP++為開發環境，開發單一運作的應用程式
於 Ez-Kit 平台上執行；而對於 Stamp 系列的嵌入式
系統而言，主要是在平台上執行多人多工環境的
uClinux 即時作業系統，來當成上層應用程式的開
發，Stamp 因為採用 uClinux 的作業系統，因此在整
合系統與擴展系統方面而言，Ez-Kit 平台較於遜
色，但在運作速度上而言，Ez-Kit 平台會優於
Blackfin DSP 所處的 Stamp 平台。 
 
圖 4 Blackfin DSP 發展情況 [本研究] 
 
2.3. I2C 
 
I2C（Inter-Integrated Circuit Bus）是一個讓系
統中積體電路能夠彼此透過串列方式溝通的控制匯
流排技術，由飛利浦公司自 1980 年代開始發展。此
一具備軟體定義協定的雙向 2 線式串列匯流排技
術，由於其簡單且普遍的特性，已經成為全球性系
統控制的工業標準。I2C 是一種同步傳輸協定，主
要是利用 SCL 輸入時脈，由 Master 端發出，藉以
同步Master和 Slave之間的時序順序和 SDA輸入資
料。其資料傳輸傳送格式包括了：開始、位址、讀 / 
  
圖 10 電腦視覺相關領域 [本研究] 
2.6.1. View Morphing 
 
View Morphing[3]是由 Steve Seitz 學者所提出
的概念，其將目前 Image Morphing 方法由 2D 空間
帶進 3D 空間處理，因此可以了解 View Morphing
是以 3D 方式來處理形變的一種方法。其意義即是
給定兩張（或兩張以上）不同視點鎖觀測某實際物
體的影像，以類似於"內插"（或"外插"）的方式，
由電腦合成出此兩觀測視點間，所有觀察者移動時
應看到的影像變化過程。如圖 11 所示，左右兩張
不同視角的影像，透過 View Morphing 技術，可合
成出該兩視角中應該看的到的連續視角影像。 
 
圖 11 View Morphing[3] 
 在使用 View Morphing 演算法之前， 
系統須有三項前置條件： 
 影像 I0 與 I1 需具有相同的 3D 場景 
 分別具有 Projection MatrixΠ0 及Π1 
 兩影像的像素點是相互對應一致的 
 
3. 研究方法 
 
本研究將以嵌入式系統為整體系統之硬體基
礎平台並做為影像擷取系統之核心，並透過作業系
統整合影像感測器（CIS）、網路與其他周邊裝置，
再透過 View Morphing 的方式，將使用者面對於顯
示器左右兩旁的視角影像，透過 View Morphing 技
術，合成出正中央的視角影像，建置一「嵌入式視
訊擷取系統之研製－以立體影像合成技術作虛擬眼
神接觸為例」。 
 
3.1. 系統架構 
 
由圖 12 可知，本研究所開發之系統是整合了
軟體與硬體兩種層面的機制，更可進一步的分成影
像擷取系統與影像合成兩部分來探討與敘述。 
 
圖 12 本研究之系統架構 [本研究] 
3.1.1. CIS 硬體架構 
 
圖 13為本研究之硬體平台與周邊整合環境架
構圖，系統以 Analog Blackfin 537 DSP Stamp 嵌入
式系統為所採用之硬體平台，並透過 DSP 上的 PPI
與 I2C 兩周邊介面連接周邊 CIS 硬體，使系統能夠
與周邊設備溝通，並擷取 CIS 所傳送之影像串流；
對於系統所處理之影像解析度，亦可更變適當之
CIS 硬體晶片，使系統整體能達到最佳使用者需求。 
 
圖 13 Hardware Structure [本研究] 
 
3.1.2. CIS 軟體與驅動程式架構 
 
系 統 軟 體 平 台 方 面 ， 開 機 管 理 程 式
（Boot-loader） 採自行編譯之 U-boot，當作硬體平
台與核心之間的韌體介面，此外系統平台核心採多
人多工之 uCLinux 開放原始碼作業系統，大幅提升
DSP 平台對於外部周邊之擴充與整合性，接著在核
心架構上建置檔案系統與開發所需要用來管理 CIS
之硬體驅動程式與應用程式，圖 14 所示。 
在 驅 動 程 式 部 分 而 言 ， 主 要 以 V4L
（Video4Linix）機制來發展 CIS 的驅動程式，而其
中的控制部分，則以 I2C 的匯流排進行 CIS 的動作
模式控制與 CIS 參數設定，而資料讀取的部分則以
PPI 搭配 DMA 的方式來進行影像的存取。 
  
圖 16 View Morphing 硬體架構[本研究] 
 
3.1.6. View Morphing 軟體架構 
 
本研究在 View Morphing 方面的系統開發部
分，主要以 Bornlad C++ IDE 整合開發環境為建構
平台，而在此部份系統使用到網路 Vcl 元件、影像
顯示元件與視窗介面與 OpenCV 函式庫；OpenCV
運作環境，主要是以 Microsoft Visual C++的函式庫
（Library）為主，為了要在 Bornload C++上嵌入
OpenCV 的函式庫，必須將原有 OpenCV 的函式庫
格式轉換成 Bornload C++可讀取之函式庫格式。因
此對於中間影像合成的部分而言，本研究則採用
OpenCV 所提供 View Morphing 與計算 F Matrix 之
函式庫，將不同角度拍攝到的左右人臉影像，進行
F matrix 的計算，接著再透過 View Morphing 將不同
角度拍攝到的左右人臉影像，進行合成並產生出中
間影像。如圖 17 所示，本研究之系統開發畫面。 
 
圖 17 View Morphing 軟體架構 [本研究] 
 
4. 系統展示 
 
本研究實作－「嵌入式視訊擷取系統之研製－
以立體影像合成技術作虛擬眼神接觸為例」，主要是
以自行開發之嵌入式多媒體影像擷取機制整合
View Morphing 技術來完成遠端視訊通訊上視覺對
望的系統（eye-contact），因此可分為嵌入式視訊擷
取系統與 View Morphing 兩部分。 
 
4.1. Blackfin CIS 
 
如圖 18 所示，此視窗為用 C 開發環境下撰寫
的 CIS-Server 端，其用以接收與控制 Blackfin 537 
DSP Client 端上的 CIS 裝置，並將擷取到的影像串
流顯示在螢幕上，系統功能包含影像大小調整、所
選取區塊縮放等功能。 
 
圖 18 系統實體架構 [本研究] 
 
4.2. View Morphing 
 
接著對於左右影像透過View Morphing演算法
執行後，所合成出的中間影像，則顯示於系統中間
上排的視窗部分。而第二列的右視窗則顯示系統資
訊、F Matrix 的計算結果與系統除錯區塊，而視窗
中間的部分是用來計算原始影像未經由 preWarp 的
視差圖（Disparity），此部分則使用到 OpenCV 的
cvFindStereoCorrespondence()函數。此外，系統除了
整合 Blackfin537 上的 CIS 網路攝影機外，亦可整合
一般市面上便可取得的 WebCam，大幅提升系統的
整合能力。 
 
圖 19 View Morphing 合成中間影像 [本研究] 
 
5. 結論與未來展望 
 
在科技與行動網路技術的蓬勃發展下，近年來
無線電話系統逐漸給取代傳統的有線電話機，再加
上傳輸頻寬不斷的增加，使得無線手持式電話系
統，除了可以乘載豐富的數位化影音資料外，人與
人之間可透過無線、行動通訊網路的技術即時的觀
看彼此的現狀，因而拉近彼此的距離。 
視訊影像的應用層面很廣闊，各方面皆有其蹤
 計畫成果自評部份： 
此計畫原為遠端行動問診機器人系統之設計與研製
底下之子計畫：遠端行動問診機器人之立體影音傳
輸與應用，因總計畫沒有通過，因此計畫之執行乃
以利用嵌入式系統來實現原計畫中第二年所欲實現
模擬眼神接觸之通訊為主。所完成之計畫與原先第
二年所提相符，而完成一嵌入式系統的實作也達到
預期的目標，研究成果共發表四篇相關的會議論
文，期刊發表正在整理中，且研究成果具實用價值。 
 
日澳學者提出問題，討論並提供寶貴意見，彼此交換心得，令人感覺頗有收穫。除了第一
天自己的議程外，其餘三天均在不同主題的場次聽講，並參加三場的主題演講，收穫良多！
其中大陸學者所展現的企圖心及成果，令人刮目相看，不禁提醒自己必須要更加努力。 
 
二、與會心得： 
能有機會和各國的專家學者專家交換研究心得是相當寶貴的經驗，參與此次國際會議
以及在澳洲的所見所聞，讓我們收穫良多，而且也有下列幾點心得： 
(1) 從各國發表之論文來看，可以發現雖然台灣之專家學者在各項研究方面均有不錯
的表現，不過各國的進步皆相當快速，我國專家學者應該持續努力，才能保持和
世界各國的競爭能力。 
(2) 第一次到澳洲開會，發現雪梨是一個融合了各種不同種族與文化的地方，也對澳
洲在資訊科技上的發展，有了更多的瞭解與進一步的認識，體會到它不僅僅只是
一個農業國，在許多科技方面也有領先的地方，值得我們學習。 
(3) 比較亞洲地區的學者來說，我國學者的外語能力相當優秀，臨場報告的表現也都
在水準之上。 
(4) 感謝國科會能提供補助，讓我們可以到國外學習別人的優點及長處。 
 
三、建議事項： 
如果各項因素可以配合的話，建議國內的各個大學多爭取機會主辦國際研討會，除了
學術之交流外，應也可乘主辦國際會議之便，宣傳台灣的眾多風景名勝，以吸引各國嘉賓。
此次雪梨科技大學所舉辦的會議的特點是，幾乎四天議程的午餐與晚餐都有提供， 
 
四、攜回資料名稱： 
IEEE CIT 2008論文集之光碟片乙片，以及會議議程手冊乙本。 
 
相片 
 
 
 
 
 
 
 
 
 
