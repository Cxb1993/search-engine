by integrating the grid infrastructure with the peer-
to-peer technique. Based on this infrastructure, we 
also develop a personal health consultation and 
management system to not only monitor the personal 
heath and clinic records but also support the data 
mining techniques that extract valuable information 
for improving personal health services and future 
researches. Additionally, through the sensor 
equipments and RFID technology, we develop a 
situation-aware, character-aware and environment-
aware mobile health service platform to offer the 
medical information alert, automatic medicine taken 
notification, environment and personal safety 
warning, etc. Moreover, the posture textile sensor is 
developed to measure ECG, body temperature, 
respiration and motion posture.  
In the second year, we complete: (a) Constructing a 
service platform with the loading decision mechanism 
by combining heterogeneous systems, and supporting 
the service composition for improving the user 
interface. (b) Completing the preliminary integration 
of the PHM system with other subprojects, including 
the distribution of data to the different servers 
(Home Server and Login Server), developing various 
database APIs for the login process and 
communications between the system and the data 
warehouse, and completing the functions of the 
cardiovascular disease early warning system by 
integrating the previous health grid query functions. 
(c) A prototype of the RFID medical grid, and the 
outdoor localization system with tracking and 
monitoring functions. (d) The home bio-signal gateway 
is established to receive the bio-signals such as 
ECG, body temperature, respiration and motion posture 
from user’s smart shirts. The user interface in 
widget style to provide unified and friendly user 
experience of healthcare services is also developed. 
英文關鍵詞： Grid, P2P, data mining, RFID, mobile Medicare 
protection system, motion measurement textile sensor, 
interactive multimedia interface, wearable motion 
measurement smart clothing, low voltage and lower 
行政院國家科學委員會補助專題研究計畫 
□ 成 果 報 告   
þ期中進度報告 
 
普及健康服務格網：以格網為基礎之個人健康服務系統 
 
 
計畫類別：□ 個別型計畫  þ 整合型計畫 
計畫編號：NSC 98-2218-E-007 -005 - 
執行期間：98年 11月 1日至 99年 10月 31日 
 
計畫主持人：鍾葉青、邱創乾 
共同主持人：李冠憬、賴冠州、楊朝棟、溫嘉憲、楊東麟、許芳榮、陳瑞
順、許慶賢、石天威、蔡明欣 
計畫參與人員：林進興、葉守正、古天雄 
 
 
成果報告類型(依經費核定清單規定繳交)：þ精簡報告  □完整報告 
 
本成果報告包括以下應繳交之附件： 
□赴國外出差或研習心得報告一份 
□赴大陸地區出差或研習心得報告一份 
þ出席國際學術會議心得報告及發表之論文各一份 
□國際合作研究計畫國外研究報告書一份 
 
 
處理方式：除產學合作研究計畫、提升產業技術及人才培育研究計畫、
列管計畫及下列情形者外，得立即公開查詢 
          □涉及專利或其他智慧財產權，□一年□二年後可公開查詢 
          
執行單位：國立清華大學資訊工程學系(所) 
 
中   華   民   國 九十九 年  八  月     日 
 II 
Summary 
 
This three-year project aims to propose a pervasive health service grid system to provide the 
personal health management and home healthcare services. In this project, we develop a standard 
infrastructure by integrating the grid infrastructure with the peer-to-peer technique. Based on this 
infrastructure, we also develop a personal health consultation and management system to not only 
monitor the personal heath and clinic records but also support the data mining techniques that 
extract valuable information for improving personal health services and future researches. 
Additionally, through the sensor equipments and RFID technology, we develop a situation-aware, 
character-aware and environment-aware mobile health service platform to offer the medical 
information alert, automatic medicine taken notification, environment and personal safety 
warning, etc. Moreover, the posture textile sensor is developed to measure ECG, body 
temperature, respiration and motion posture. Therefore, the users can measure their physiological 
conditions under a convenient and comfortable circumstance, at anytime and anywhere. 
Eventually, the proposed pervasive health service grid system provides the personal home health 
care services, reduces the expenses of medical insurance system and creates a better life for all 
human beings. 
In the first year, this project has completed: (a) The design of overlays for connecting home 
servers, and the development of multiple services that users access grid resources through the 
SOA portal. (b) The prototype design of “Personal Health Management (PHM) System” and the 
preliminary plan of the system database. The development of cardiovascular disease early 
warning system functions included: an interface for querying the hyperlipidemia associated genes, 
an interface for querying the hyperlipidemia associated SNP, the input for early warning 
information of CVD and the corresponding API function parameters. (c) The proof of concept for 
the integration of RFID and mobile device, and developing a Zigbee based indoor localization 
system. (d) Developing the application program interfaces (APIs) and graphic user interface 
(GUIs) components for the home health grid. Moreover, the study and fabrication of posture 
textile sensor have been completed.  
In the second year, we complete: (a) Constructing a service platform with the loading 
decision mechanism by combining heterogeneous systems, and supporting the service 
composition for improving the user interface. (b) Completing the preliminary integration of the 
PHM system with other subprojects, including the distribution of data to the different servers 
(Home Server and Login Server), developing various database APIs for the login process and 
communications between the system and the data warehouse, and completing the functions of the 
cardiovascular disease early warning system by integrating the previous health grid query 
functions. (c) A prototype of the RFID medical grid, and the outdoor localization system with 
tracking and monitoring functions. (d) The home bio-signal gateway is established to receive the 
bio-signals such as ECG, body temperature, respiration and motion posture from user’s smart 
shirts. The user interface in widget style to provide unified and friendly user experience of 
healthcare services is also developed. 
 
Keywords: Grid, P2P, data mining, RFID, mobile Medicare protection system, motion 
measurement textile sensor, interactive multimedia interface, wearable motion measurement 
smart clothing, low voltage and lower power consumption wireless conditioning technology. 
 
 1 
一、 前言 
為提供居家健康管理及保健服務，促進個人健康服務，本計畫建置一套基於格網之健康
服務系統，利用格網技術結合點對點技術，建立標準化平台。提供個人、家庭、醫師到醫院
完整之健康管理服務，並透過感測元件與 RFID技術建置個人化行動照護系統，及利用纖維
材料開發可監測心電訊號、體溫、呼吸及肢體動作之織品感測元件，讓使用者於居家環境中，
舒適的接受全天候生理監測。藉由本計畫所建置之普及健康服務格網，建立個人居家健康照
顧服務，達到疾病預防、提高健康照顧品質和降低健保成本之目標。 
二、 研究目的 
本計畫建置之醫療格網系統提供個人、家庭、醫師到醫院之完整健康服務，以達成智慧
型健康管理之目標，本計畫包含四個子計畫：A.健康服務格網系統，B.個人化身心健康諮詢
與管理系統，C.個人化之行動照護系統，D.個人化身心健康服務人機介面系統。各子計畫之
研究目的如下： 
子計畫A：健康服務格網系統 
透過使用點對點(peer-to-peer)及格網(Grid)技術發展一健康服務格網系統(Health Service 
Grid)，其中主要包含兩個部分，一是居家健康格網系統(Home Health Grid)，主要提供使用
者在家庭之中的健康服務；二是與醫療格網(Medicare Grid)系統整合，提供醫院端的追蹤以
及諮詢服務，希望將原需病患本人到醫院才能進行的問診或檢查於家庭中完成。本子計畫提
供標準化的API整合其他子計畫所提供的各種醫療或是健康服務，有效的管理個人的健康資
訊，並與其他居家健康格網系統連線，讓使用者可隨時隨地，於已安裝居家健康格網系統的
地方，皆可享受到同樣的健康服務。 
子計畫B：個人化身心健康諮詢與管理系統 
透過開發個人化身心健康諮詢與管理的健康服務系統，達到居家健康服務的目的，其
中服務的項目包括：個人健康記錄追蹤(就診記錄、後續複診/復健記錄)、病症控制、以及健
康諮詢系統等。主要為疾病預防及醫療照護資料的追蹤管理，藉由個人健康資料的分析提供
完整的健康服務。本子計畫透過資料挖掘的技術和基因分析的方法，以符合CRISP-DM程序
的研究方法進行標準發展步驟，針對復健和運動治療、慢性病患追蹤、用藥、飲食和營養管
理、行動安全偵測等等，開發各種相關的諮詢輔助功能，以提供智慧型的個人化身心健康諮
詢與管理為目標。 
子計畫C：個人化之行動照護系統 
透過RFID技術並結合行動通訊機制與居家健康格網系統連結，建立個人化的行動照護
系統。本子計畫與產業界合作，研究開發可方便攜帶的行動化RFID手持設備，讓讀取器具
備行動通訊與可程式化功能，本身亦具備主動式RFID標籤的功能，使RFID辨識機制得以在
日常生活中運作。另一方面，本子計畫亦將發展RFID系統與開放式格網系統的資料交換介
面，讓行動照護系統得以藉由格網系統上龐大的儲存與運算能力，普及於個人的日常生活。
以因應未來以服務為導向的資訊與健康服務產業，建立一個適用於一般日常生活環境的行動
照護系統，提供適時的健康服務，包括健康資訊提醒ヽ預防、以及緊急事件的通知等功能，
滿足個人日常健康照護所需，進而實現情境感知ヽ人物感知，需求感知的無所不在健康服務。 
子計畫D: 個人化身心健康服務人機介面系統 
本子計畫之設計構想為建立融入居家環境，與個人體貼互動、及介面簡單友善的健康
服務系統為目的。利用生理導電纖維紡織品研製生理資訊織品或元件，並結合低電壓、低功
率消耗無線通訊電子技術，發展個人化穿戴式運動生理感測智慧衣平台。可隨時隨地量測使
 3 
的預測。CNV 是一種偵測人類遺傳基因體變異區塊的方法，我們藉由比較高血脂症病人間
共同的 CNV區塊，預期能偵測出與疾病相關的變異區塊，進而由偵測這些特定區塊達到疾
病預測的目的。 
 
子計畫 C： 
健康照護對象範圍廣泛，可區分為 3大類，分別為在家生活、慢性病患者以及重症病患。
在家生活指的是可以獨立自主生活的健康人，但其本身希望得到保健需求；慢性病患者包括
身體功能退化、中風、憂鬱症、失智者之慢性病等；重症患者則為需要臥床的病人。而本子
計畫將可滿足健康醫療格網所需的自動辨識機制[29]。 
針對居家環境，為因應健康照護或醫療求助的需求，蒐集及傳輸需求者的血壓、血糖及
其它生物訊號的資訊內容，將有助於醫護人員掌握與追蹤其生理狀況，降低診斷處置的錯誤
率，進而提升醫療品質。由於 RFID具有非接觸性、無方向性、可永久使用等特點[30, 31]，
可對居家環境的個人健康照護狀態，進行自動化的物件辨識與資訊存取，故適合做為整合預
防、照護、治療與復建的系統基礎[32~34]。 
在無線通訊方面，ZigBee是一種無線網路協定[35, 36]，主要由 ZigBee Alliance制定，
底層是採用 IEEE 802.15.4 標準規範的媒體存取層與實體層。主要特色有低耗電、低成本、
支援大量網路節點、支援多種網路拓撲[37]、低複雜度、快速、可靠、安全。近年來，許多
研究採用 ZigBee技術[38]，並結合 RFID行動通訊機制[39, 40]，建立個人化的行動照護系統。
此外，亦有相關研究計畫開發可攜帶的行動化 ZigBee 手持設備，讓讀取器具備行動通訊與
可程式化功能，本身亦具備室內座標定位的功能[41~44]，讓無線感測網路之辨識機制得以
在日常生活中運作。另一方面，結合 ZigBee 與 GPS系統 [45~47]的整合式介面，亦可讓行
動照護系統獲取室內與戶外的定位資訊，藉由格網系統上龐大的儲存與運算能力，應用於個
人的日常生活。因應未來以服務為導向的資訊與健康服務產業，本子計畫致力於建立一個適
用於一般日常生活環境的行動照護系統[48]，提供適時的健康服務，包括健康資訊提醒ヽ預
防、以及緊急事件的通知等功能，滿足個人日常健康照護所需，進而實現情境感知ヽ人物感
知，需求感知的無所不在健康服務[49, 50]。 
 
子計畫 D： 
利用可穿戴式感測器，如智慧衣來監測長期的心電圖(ECG)、體溫等生理訊號，並結合
無線傳輸技術來觀察使用者日常生活的生理訊號狀況，而達到遠端家庭照護系統目的[51, 
52]，先藉由無線傳輸所得的生理訊號做訊號分析處理[53, 54]，並透過 peer-to-peer(P2P)的技
術，將居家的個人電腦連接成一個資料共享同儕網路[55~57]，可以使得醫療格網系統整合
於一體，將醫療服務從醫院延伸到個人居家之中，也可以同時在手機，PDA 等個人化周邊
設備裝置來做為人機介面來監控。 
為了能夠隨意(pervasive)的使用服務，其中於異質網路中之訊息交換與協調運作，乃須
透過開發閘道器上之互通模型(Interoperability Model)[58, 59]來溝通。又因不同生理訊號之繁
複且多元，使訊息交換不易，故本計畫在文獻收集後，在本年度採用 Biosignal 泛用之生理
訊號開放格式，目前已大量應用於腦波與生理訊號分析上[60~62]。 
根據 Bridget J. Munro等人研製之智能膝關節套，是將導電織物做為應變感測器。由於
膝關節表面積大，感測織帶較易固定，在不受環境條件影響下可檢測出其動作與訊號於 25
度、45度趨於一致性，於其它角度的可信度卻不高 [63]；Lucy E. Dunne及 Pauline Walsh等
人將光纖製成電子感測器沿脊椎排列，利用動作捕捉系統記錄脊椎彎曲範圍與穩定度，但缺
點為舒適性低且樣品較重 [64]；M. Pacelli及 L. Caldani等人利用針織壓阻織帶，作為壓阻
感測器能監控呼吸、心跳與動作，但針織壓阻織帶的導電路徑變化較不穩定[65]。由上述文
獻可知，彎曲角度量測之精準度與電阻穩定性為應變感測器需改善之處。本計畫第一年的研
究成果顯示，彈性導電紡織品具有線性應變感測器之優勢，為此將彈性導電平織帶應用於應
變感測器上，發展穿戴型肢體動作感測智慧之平台。 
 5 
健康管理系統的介面實作完成並上線，在資料庫的整合上，本子計畫尋找獲得國際間認可的
醫療資料交換格式，以便與其他子計畫做資料交換，亦或資料庫整合為資料倉儲時，可以有
一個標準化的根據。在系統的整合上，從使用者的登入開始，逐漸與其他子計畫開始整合，
而資料庫的負載平衡也是我們處理的問題之一。隨著收集樣本的增加，心血管預警系統已可
查出相關基因與 SNP，但仍然需要更多的樣本，因此人體實驗收樣及相關分析也持續進行
中。表 2是子計畫 B第二年執行進度的規畫表。 
表 2. 子計畫 B第二年執行進度的規畫表 
時程 工作項目 進度評估 
2009/11~ 
2010/01 
l 「個人化身心健康管理系統」上線： 
- 可從網站入口進入 
- 可依登入的 user連到該 user的 Home Server 
- 提供簡單的資料查詢 
l 心血管疾病預警系統： 
- 查詢與高血脂症相關之基因及 SNP 
已完成 
 
 
 
 
已完成 
 
2010/02~ 
2010/04 
l 系統資料庫格式參考： 
- 採用 HL7的格式及取得 HL7的使用範例 
- 修改資料庫格式 
l 系統的登入流程： 
- 提供登入所需的資料庫 API 
- 使用 session記錄登入資訊 
90% 
 
 
90% 
 
2010/05~ 
2010/07 
l 將各子計畫提供的子系統上線： 
- 向各子計畫取得子系統的資料 
- 在每台 Home Server建好 IIS 
- 統一子系統的 port及存取方式 
l 人體實驗收樣 
- Microarray資料分析 
90% 
 
 
持續收樣中 
持續進行中 
2010/08~ 
2010/10 
l 資料庫同步化： 
- 決定 centralized database 跟 Home Server 上的
database，分別負責哪些資料 
- 決定需要同步化的資料、以及同步化的方法 
l 資料庫負載平衡： 
- 決定負載平衡的方法以及 centralized database的數量 
- 修正 portal與資料庫的溝通 
80% 
 
 
 
60% 
 
 
 
子計畫 C 
本子計畫分為 C1(RFID行動通訊)與 C2(Zigbee行動定位)兩個子計畫，其短期目標在於
建立個人化之行動照護系統，並利用此一平台，與開放式之格網平台結合，建立一個適用於
一般日常生活環境的行動照護系統，提供醫療資訊提醒、健康照護機制、自動服藥提醒等功
能，滿足個人日常健康照護所需。第一年度本子計畫開發動態的 ZigBee 室內定位監控系統
與 RFID行動通訊技術，應用於室內的區域。第二年度本子計畫將定位系統的應用範圍由室
內延伸至戶外空間，同時將資料轉換成 xml格式並藉由 Bluetooth將標籤訊息傳送至行動裝
置(智慧型手機)上。如此一來可以透過 ZigBee元件與 GPS 系統，可以辨識區域內的人物，
並追蹤人物或物件的移動路徑。本子計畫研究目的主要結合無線射頻辨識(RFID)與行動通訊
技術，以整合個人隨身照護系統，並進一步擷取後端醫療格網的資訊記錄，以達到行動化健
康照護的功能。同時，本研究計畫所設計的 RFID行動服務平台將符合Microsoft Connected 
 7 
標為身心狀態感測技術與服務與穿戴式肢體動作感測智慧平台開發。子計畫 D1將原先的生
理訊號量測進一步擴展至身心狀態感測技術與服務，透過 P2P 或 Web Service 等網路資料
傳送方式，提供健康服務格網內的各項應用服務，連結即時身心狀態資訊的管道，並且開發
小型嵌入式 PDA 多媒體健康服務互動裝置，隨身提供生理資訊與健康訊息。另一方面，子
計畫 D2將開發低功率短距離生理感測無線傳輸器，探討低功率短距離生理感測無線傳輸器
與生理織品感測元件之接合，發展穿戴式肢體動作感測智慧平台。研究方法與執行進度如下: 
D1互動式人機介面系統 
l 開發身心狀態感測技術與多媒體服務 
本年度以 C#語言進行生理訊號的分析與演算的處理，在多媒體健康服務人機介面，採
用 Silverlight 語言來做元件化的設計，以 XML 及 Widgets 技術來設計個人化健康服務系統
的介面，透過 Socket Interface(TCP/IP)傳送方式可以將智慧衣的生理訊號傳送到個人化健康
服務系統的介面做顯示，並提供標準的函式，提供不同的網路應用程式呼叫，發展具有 P2P
網路功能之應用。為了在面板上能顯示個人喜好或需求的功能，仿照 igoogle 的方式將每一
個功能都元件化，讓使用者自行決定需要顯示在版面上的功能。目前已經跟各子計畫作連
結，透過此版面可查看各子計畫提供的資訊。而子計畫 D1的心跳脈搏和呼吸頻率的圖表也
可透過裝置顯示。 
l 與格網系統之健康服務連接 
以 C++語言撰寫於 PC 上開發健康服務閘道器平台，接收從智慧衣所讀取到的心電訊
號、體溫，並根據輸入個人身分證字號至格網系統註冊，作為長期個人生理資料之識別，另
外，依照國際標準 CEN/TC251 PT40，可分別不同之生理訊號定義適當物理量，儲存於
GDF(General Dataformat for Biosignals)格式，亦可轉成 FDA所提出之HL7aECG(XML format)
之形式，並透過開放源碼專案 BioSig之 BSCS(BioSig Client-Server)協定為底之傳輸服務，交
換資訊至健康服務格網，其協定主要功能可供使用者登入健康服務格網後並授權使用者將自
己或家人之生理訊號傳送至醫師、醫院等健康照護服務提供者之用戶端。 
D2運動生理感測智慧衣平台 
l 穿戴式肢體動作感測智慧平台開發： 
- 尋找並評估肢體動作感測元件之偵測位置：利用自行製作的仿肢體彎曲模組檢測肢
體感測織品，於不同彎曲程度下的電阻靜態穩定性。將肢體感測織品置於仿肢體彎
曲模組的彎曲位置與平坦位置，探討於兩種不同形變位置對肢體感測織品電阻變化
的影響。 
- 智慧型服飾組件之選擇與評估：將肢體感測織品固著於肢體上，量測肢體動作的變
化。肢體感測織品需有一載體，且此載體需具有紡織品的特性外，還需具有良好的
彈性。因此選用了市售的運動袖套或護肘，輕、薄、彈性極佳，並有防滑設計，有
助於肢體動作感測的穩定性。 
- 設計與製作穿戴式肢體動作感測智慧平台：將肢體感測織品整合於運動袖套上，以
選定的人員進行實際地手肘彎曲感測。測試的參數條件有(a) 肢體感測織品預拉伸長
度 2cm和 4 cm、(b) 肢體感測織品長度 10 cm和 12 cm、與(c) 電極間距 10 cm。 
l 建立低功率短距離生理感測無線傳輸器：利用單晶片控制器及信號調變電路，以低電壓
低功率的 20K Hz發射訊號，延長穿戴式環境的電池使用時間，達成高可靠度、高抗雜
訊能力之無線生理資訊通訊網路建構，並利用不同時間長度的 20KHZ 信號表示不同數
值。 
 
 
 
 
 
 
 
 9 
關系統的發展技術，做為往後系統發展與研究計畫的前置作業。 
l 完成開發 ZigBee 室內定位與 GPS 戶外定位的 Portlet 介面，並延伸研究雲端平台的資
料存放與分散式程式的計算方式，目前規畫未來會將關聯式資料庫的資料改放置到 
Hadoop 上的 HBase，以增加資料的存取速度與安全性。 
l 完成以 Google定位 API為基礎，進行戶外定位系統的雛型開發。 
l 目前正在進行撰寫定位系統相關的 API，並同時替定位資訊開發簡易的資訊呈現介面，
整合至計畫中的入口網頁。 
 
子計畫 D 
子計畫 D1本年度的研究成果，以下列兩點進行說明： 
l 開發身心狀態感測技術與多媒體服務結果 
本子計畫使用所開發的 Bluetooth 智慧衣電路模組來傳遞體溫跟心電訊息參數，藉由
ASCII碼來進行生理訊號的處理，再透過 Socket Interface傳輸方式，將心律跟體溫顯示於採
用 Silverlight程式語言來做元件化設計的健康服務人機介面，並提供基本的登入及登出功能
以及顯示好友清單，在元件中則可以顯示個人的基本資料、生理資訊和一些統計的圖表。 
l 與格網系統之健康服務連接結果 
本系統開發一平台基礎作為開發長期個人生理資訊儲存格式，參考 GDF 生理檔案格式
及 BioSig之 GDF輸出入 API。此格式可提供如心電電壓伏特(V)、體溫(℃)生理訊號之物理
量，並可標示出異常訊號所發生之時段、發生之事件名稱於 GDF 檔案中如心律異常、發燒
等症狀。故 GDF採用 binary檔案儲存方式並加以壓縮亦可省下可觀之儲存成本，並可方便
轉換儲存於格網系統中。 
子計畫 D2本年度的期中研究成果，以下列四點進行說明： 
本計畫第一年已針對五種導電彈性織帶結構探討其應變-電阻行為，製作一具有單層結
構、雙面導電、和經緯向導電之導電彈性織帶，作為肢體感測織品之應變電阻感測器。因此
第二年度以此織帶結構製作肢體感測織品模組，再將其與運動袖套整合，成為穿戴型肢體動
作感測智慧平台。 
l 穿戴型肢體動作感測智慧平台測試之結果顯示，由於手肘彎曲處的骨骼結構較不規則，
無法提供一平坦的測試平台，感測織品置於手肘彎曲處的電阻值較不穩定。因此，不同
於其他文獻中的感測方式，我們選擇下手臂接近手腕處外側作為感測織品的位置。 
l 在感測織品參數設定方面，結果顯示織品原長為 12 cm時，預拉伸 2 cm，約 16.7 %的
預拉伸，於手肘未彎曲時呈現較穩定之電阻值，且感測織品在連續地手肘彎曲動程中較
不易疲勞。 
l 穿戴式肢體動作感測智慧平台雖能呈現彎曲角度-電阻的二次關係式，但彎曲角度對應
的電阻值變異值較大，極需改善。因此我們設計一個圓柱形滾軸於肢體感測織品的上
方，有效改善織品與電極於任何動態下的接觸穩定性，進而降低彎曲角度對應的電阻值
之變異。 
l 經一系列的測試、分析、與參數調整，穿戴式肢體動作感測智慧平台已能即時呈現手肘
彎曲的頻率與次數(如圖一)。進一步我們將藉由彎曲角度-電阻關係式推導電阻值對應的
彎曲角度，並將此結果交給子計畫 D1進行訊號處理。此外，我們也建置了感測膝關節
彎曲的織品智慧平台。 
l 已完成發射與接收電路並可正確無線傳送不同數值。 
        
圖一 穿戴式肢體動作感測智慧平台與手肘彎曲角度訊號 
未來工作進度為(1) 將穿戴式肢體動作感測智慧平台與無線通訊傳輸器整合，並探討如
 11 
polymorphism (-1332 G/A) on the occurrence of premature myocardial infarction and stenotic atherosclerosis 
requiring revascularization. Atherosclerosis (in press). 
[28] Personal genome sequencing: current approaches and challenges, Michael Snyder, Jiang Du and Mark Gerstein, 
2010 24: 423-431 Genes Dev. 
[29] Manish Bhuptani, Shahram Moradpour, RFID Field Guide: Deploying Radio Frequency Identification Systems, 
Prentice Hall PTR, 2005. 
[30] Chen, Ruey-Shun., & Tu, A. (2009, May). Development of an agent-based system for manufacturing control and 
coordination with ontology and RFID technology. Expert Systems with Applications, Volume 36, Issue 4 , pp. 
7581-7593. 
[31] Claus Heinrich, RFID and Beyond: Growing Your Business through Real World Awareness, Wiley, 2005. 
[32] Chen, Ruey-Shun., & Chen, D.-K. (2008). Apply ontology and agent technology to construct virtual observatory. 
Expert Systems with Applications, Volume 34, Issue 3 , pp. 2019-2028. 
[33] Kenneth H. Doerr, William R. Gatesa and John E. Mutty (October 2006), “A hybrid approach to the valuation of 
RFID/MEMS technology applied to ordnance inventory”, International Journal of Production Economics, Pages 
726-741, Volume 103, Issue 2. 
[34] Kleist, Robert A., RFID labeling: smart labeling concepts & applications for the consumer packaged goods 
supply chain, Printronix, Inc., 2004. 
[35] J. Hightower, G. Boriello and R. Want , “SpotON: An indoor 3D Location Sensing Technology Based on RF 
Signal Strength“ , University of Washington CSE Report #2000-02-02, February 2000. 
[36] J. Caffery, “A New Approach to the Geometry of TOA Location” , Vehicular Technology Conference, pp. 
1943-1949, 2000. 
[37] A. Harter, A. Hopper and P. Steggles, A. Ward and P. Webster, “The anatomy of a context-aware application“, 
Wireless Networks 1022-0038 (Print) 1572-8196 (Online), pp. 187-197, 2004. 
[38] Guang-yao Jin, Xiao-yi Lu and Myong-Soon Park, “An Indoor Localization Mechanism Using Active RFID 
Tag”, Proceedings of the IEEE International Conference on Sensor Networks, Ubiquitous, and Trustworthy 
Computing (SUTC’06) 2006 IEEE, pp. 40-43, 2006. 
[39] Accenture, Radio Frequency Identification (RFID), Auto-ID Center, White Paper, 2001. 
[40] Alex Niemeyer, Minsok H. Pak, and Sanjay E. Ramaswamy, Smart Tags for Your Supply Chain, 麥肯錫季刊, 
2003年第 4季. 
[41] Qi YAO, Seng-Kee TAN, Yu GE, Boon-Sain  YEO and Qinghe, “An Area Localization Scheme for Large 
Wireless Sensor Networks”, Vehicular Technology Conference. 61st, pp. 2835-2839, 2005. 
[42] B.W. Tian He, Chengdu Huang, Brian M. Blum, John A. Stankovic and Tarek Abdelzaher, “Range-Free 
Localization Schemes for Large Scale Sensor Networks”, Proceedings of the 9th annual international conference 
on Mobile computing and networking, pp. 81-85, 2004. 
[43] A. Savvides, C. C. Han and M. B. Srivastava, “Dynamic Fine-Grained Localization in Ad-Hoc Networks of 
Sensors“, In Proceedings of MOBICOM, pp. 166-179, July 2001. 
[44] A. Savvides, H. Park and M. Srivastava, “The Bits and Flops of the N-Hop Multilateration Primitive for Node 
Localization Problems“, Mobile Networks and Applications 1383-469X (Print) 1572-8153 (Online), pp. 443-451, 
2004. 
[45] Ames Roned., Perspectives on Radio Frequency Identification: What is it, Where is it going, Should I be 
involved, Van Nostrand Reinhold, 1990. 
[46] Claus Heinrich, RFID and Beyond: Growing Your Business through Real World Awareness, Wiley, 2005. 
[47] Christian Floerkemeier, Dipan Anarkat, Ted Osinski, Mark Harrison, PML Core Specification 1.0, 
STG-AUTOID-WH-005. 
[48] Daniel Engels, Technical Report- The Use of the Electronic Product Code™, Feburary 1, 2003. 
[49] Dominique Paret, RFID and Contactless Smart Cards, Wiley, 2002. 
[50] Kenneth H. Doerr, William R. Gatesa and John E. Mutty (October 2006), “A hybrid approach to the valuation of 
RFID/MEMS technology applied to ordnance inventory”, International Journal of Production Economics, Pages 
726-741, Volume 103, Issue 2. 
[51] R. Fensli, E. Gunnarson, T. Gundersen, “A Wearable ECG-recording System for Continuous Arrhythmia 
Monitoring in a Wireless Tele-Home-Care Situation”, 18th IEEE Symposium on Computer-Based Medical 
Systems, Dublin, June 23-24, 2005. 
[52] R. Logier, D. Lacroix, L. Storme, M. Delecroix, “A MONITORING DEVICE FOR CONTINUOUS ANALYSIS 
OF HEART RATE VARIABILITY”, Proceedings - 19th International Conference - IEEE/EMBS Oct. 30 - Nov. 
2, 1997 Chicago, IL. USA. 
[53] 王博玄, “心律不整分析系統之實現”, 逢甲大學自動控制工程學系碩士論文。 
[54] 沈乾龍，邱創乾，李俊輝，黃慶堂，張正東，“智慧型即時遠端醫療照護系統“，機電整合，第 81期, 2005. 
[55] H. M. Li, X. Q. Han, S. C. Wu', S. Zhang', “The Design of a P2P-based Multi-physiological Parameters 
Telemonitoring System”, 2007 IEEE/ICME International Conference on Complex Medical En2ineerin2. 
[56] Xiuqing Han, Haomin Li, Jinlan Wu, Yongfeng Zhang, Lisha Liu, Yimin Li, “A Novel Real-time Physiological 
Parameters Telemonitoring System with the Audio/Video Communication Function”, Proceedings of the 5th 
International Conference on Information Technology and Application in Biomedicine, in conjunction with The 
2nd International Symposium & Summer School on Biomedical and Health Engineering Shenzhen, China, May 
30-31, 2008. 
[57] Fazlur Rahman, Member, IEEE, Arun Kumar, Gangadharan Nagendra, Member, IEEE, and Gourab Sen Gupta, 
“Network Approach for Physiological Parameters Measurement”, IEEE TRANSACTIONS ON 
INSTRUMENTATION AND MEASUREMENT, VOL. 54, NO. 1, FEBRUARY 2005. 
[58] Miori, V. Tarrini, L. Manca, M. Tolomei, “G. An open standard solution for domotic interoperability” Consumer 
 13
December 10-12, 2009. (EI). 
[82] Chao-Tung Yang*, Shih-Chi Yu, and Ting-Chih Hsiao, “Design and Implementation of a SOA-based 
Medical Grid Platform”, Communications in Computer and Information Science, vol., 63, pp. 156–163, 
Springer, Grid and Distributed Computing, International Conference, GDC 2009, Held as Part of the Future 
Generation Information Technology Conference, FGIT 2009, Jeju Island, Korea, December 10-12, 2009. 
(EI). 
[83] Kun-Che Lu, Don-Lin Yang, "HIC: A Robust and Efficient Hyper-Image-Based Clustering for Very 
Large Datasets," Journal of Information Science and Engineering, Vol. 26, No. 2, pp. 61-483, Mar. 2010. 
[84] Kun-Che Lu, Don-Lin Yang, "Scalable Clustering for Mining Local-Correlated Clusters in High 
Dimensions and Large Datasets ," Fundamenta Informaticae, Vol. 98, No. 1, pp. 15-32, Jan. 2010. 
[85] Kuo-Cheng Yin, Yu-Long Hsieh and Don-Lin Yang, "GLFMiner: global and local frequent pattern 
mining with temporal intervals," Proceedings of The 5th IEEE Conference on Industrial Electronics and 
Applications (ICIEA2010), pp. 2248-2253, Jun. 2010. Taichung, Taiwan. 
[86] Chien-Min Lin, Ming-Chuan Hung and Don-Lin Yang, "Using Compressed FP-tree for Incremental Data 
Mining," Proceedings of The 4th International Conference on Ubiquitous Information Management and 
Communication, pp. 263-272, Jan. 2010. Suwon, Korea. 
[87] Ching-Hsien Hsu, Yun-Chiu Ching, Laurence T. Yang and Frode Eika Sandnes, “An Efficient Peer 
Collaboration Strategy for Optimizing P2P Services in BitTorrent-Like File Sharing Networks”, Journal 
of Internet Technology (JIT), Vol. 11, Issue 1, pp. 79-88,. January 2010. 
[88] Ching-Hsien Hsu, Han-Chieh Chao and Jong-Hyuk Park, “Threshold Jumping and Wrap-Around Scan 
Techniques toward Efficient Tag Identification in High Density RFID Systems”, Information Systems 
Frontiers (ISF), August 2009. 
[89] Mengru (Arthur) Tu, Jia-Hong Lin, Ruey-Shun Chen, Kai-Ying Chen, and Jung-Sing Jwo , Agent-Based 
Control Framework for Mass Customization Manufacturing with UHF RFID Technology, IEEE 
SYSTEMS JOURNAL, VOL. 3, NO. 3, SEP. 2009 (SCI). 
[90] Kun-Chieh Yeh; Chen, Y.-C.; Chen, C.-C.; Reuy-Shun Chen,” An RFID-Based Software Agent 
Framework on Pervasive Health Service”, accepted in IEEE eXplore, Volume , Issue , 17-19 Oct. 2009, 
(EI). 
[91] Shih-Chang Chen, Tai-Lung Chen and Ching-Hsien Hsu, “Message Clustering Techniques towards 
Efficient Communication Scheduling in Clusters and Grids,” Proceedings of the 10th International 
Conference on Algorithms and Architectures for Parallel Processing (ICA3PP 2010), LNCS 6081, pp. 
278-286, 2010. (EI) 
[92] Tai-Lung Chen, Ching-Hsien Hsu and Shih-Chang Chen, “Scheduling of Job Combination and 
Dispatching Strategy for Grid and Cloud System,” Proceedings of the 5th International Grid and 
Pervasive Computing (GPC 2010), LNCS 6104, pp. 612-621, 2010. (EI) 
[93] 藍振晏、邱創乾、蔡明欣 , “個人化身心健康服務人機介面與格網健康服務應用之發展,” 2009生物醫
學工程科技研討會, pp. 216, 2009. 
[94] Chen-Yen Lan , Chuang-Chien Chiu, "Development of Grid-Based Personalized Wearable Healthcare 
Service System", in 7th International Conference on Wearable Micro and Nano Technologies for 
Personalized Health(pHealth2010), pp.31, 2010. 
[95] 江長翰、陳敬中、江明哲、李忠真、謝靜玟、石天威, 彈性導電織帶量測物體彎曲角之變化, 第二十六屆
纖維紡織科技研討會, 嶺東科技大學, 台中, OA-12, p.12,2010 (紡織論文經典獎). 
[96] 孫國揚、蔡明欣、邱創乾, "個人健康服務之人機介面系統開發",  2010 第五屆國際健康資訊管理研討會, 
pp.73, 2010. 
出席國際學術會議報告 
出席人員：鍾葉青 
國立清華大學資訊工程學系  教授 
會議名稱：國際平行與分散處理會議 
一、主要任務摘要 
出席參加第二十四屆國際平行與分散處理會議。 
二、經過 
國際平行與分散處理會議 IPDPS是本會議舉行以來的第 24 屆，於 2010 年 4 月 19
日至 23日在美國亞特蘭大舉辦。 
除了 keynote之外，也參與了幾個會議 session。 IPDPS 2010會議 session有以下幾
個：Algorithms for Network Management，Scientific Computing with GPUs，Data Storage and 
Memory Systems，Fault Tolerance，Sorting，Scheduling，Performance/Scalability Improvement 
for Scientific Applications，Network Architecture and Algorithms，Software Support for Using 
GPUs，Performance Prediction and Benchmarking Tools，Resource Allocation， Image 
Processing and Data Mining，Transactional Memory，Tools for Performance and Correctness 
Analysis，Parallel Linear Algebra，P2P Algorithms，Parallel Solutions for String and Sequence 
Problems， Energy-aware Task Management， Parallel Operating Systems and System 
Software，Caches and Caching，Thread Scheduling，Distributed Algorithms，Automatic Tuning 
and Automatic Parallelization，Architectural Support for Runtime Systems，Client-Server 
System Management and Analysis， Algorithms for Wireless Networks，Analysis of 
heterogeneity and future platforms，Data Management，Synchronization，而其中的許多
session，都展示了目前世界上各個研究單位在平行與分散處理領域最新的研究方向以及
成果。 
三、心得 
出席國際學術會議心得報告 
        
計畫編號 NSC 98-2218-E-007-005- 
計畫名稱 普及健康服務格網：以格網為基礎之個人健康服務系統 
出國人員姓名 
服務機關及職稱 
國立台中教育大學 資訊科學學系 賴冠州 副教授 
會議時間地點 Vladivostok(海參威), May 16-19, 2010 
會議名稱 The Russia-Taiwan Symposium on Methods and Tools of Parallel Programming Multicomputers (MTPP 2010) 
發表論文題目 A Scalable Multi-Attribute Range Query Approach on Cluster-based Hybrid Overlays 
 
一、參加會議經過 
今年 The Russia-Taiwan Symposium on Methods and Tools of Parallel Programming 
Multicomputers (MTPP) 2010 於蘇聯海參崴 Far Eastern National University 校內舉行。
MTPP 2010 包含 4 天的 Programs。會議內容包含 8 個探討主題，議題涵蓋目前在高效能
運算及多處理機系統上的各種平行運算理論發展及各式應用領域。相關資料可參考：
http://grid.chu.edu.tw/mtpp2010/  
因國內無直航班機至海參崴，故於 5/14 日搭乘韓航 KE0692 班機經韓國仁川機場轉
機。當日並無適當班機飛往海參崴，因此航空公司安排過境旅館住宿一晚，並於 5/15 日
搭乘 KE0981 航班飛抵海參崴。抵達海參崴後，先至大會安排之投宿旅館置放行李並休
息。 
此次參與在海參威舉行之 The Russia-Taiwan Symposium on Methods and Tools of 
Parallel Programming Multicomputers 共計四天，會議的第一天上午於大會報到處註冊完
畢後，由大會工作人員帶領大家參觀 Far Eastern National University 校園及市區。當晚 Far 
Eastern National University 副校長設宴款待來自各地的學者。於晚宴中與大會主席 V. 
Malyshkin 教授及多位國內學者：包含鍾葉青教授、李政崑教授、楊武教授、楊竹星教授、
游坤明教授、許慶賢教授、周智勳教授、黃國展教授、國家高速網路與計算中心張西亞
博士，…等多位專家學者交流意見，並瞭解各國於格網系統相關研究的最新發展。 
第二天研討會由大會主席 V. Malyshkin 及 C.H. Hsu 兩位教授介紹後開始，上下午各
有兩個場次論文發表，包含 Parallel Application Algorithms、Models and Methods of Parallel 
Computing、Parallel Applications 及 Parallel Programming Tools and Support；本計畫的研
究成果論文就在上午的第二場發表，題目為「A Scalable Multi-Attribute Range Query 
Approach on Cluster-based Hybrid Overlays」。第三天研討會上午含兩個論文發表場次：
Methods and Algorithms 及 System Algorithms；下午則安排一場 Numerical Simulation (I)
一場海報發表。傍晚時 Far East National University 安排參觀該校博物館，並設宴招待與
C.H. Hsu and V. Malyshkin (Eds.): MTPP 2010, LNCS 6083, pp. 136–145, 2010. 
© Springer-Verlag Berlin Heidelberg 2010 
A Scalable Multi-attribute Range Query Approach on 
Cluster-Based Hybrid Overlays 
You-Fu Yu, Po-Jung Huang, Quan-Jie Chen, Tian-Liang Huang, and Kuan-Chou Lai  
Department of Computer and Information Science, National Taichung University 
Taichung, Taiwan, R.O.C. 
kclai@mail.ntcu.edu.tw 
Abstract. Resource discovery in distributed computing systems is a critical issue 
to find and retrieve distributed resources rapidly. In general, most of previous 
proposed strategies focus on developing keyword searching approaches with 
preserving system scalability. In this paper, we propose a cluster-based hybrid 
overlay, which supports efficient keyword searching with the highly churn rate. 
The cluster-based hybrid overlay groups the nodes with the same attributes to 
form unstructured attribute-groups, and then clusters these attribute-groups with 
similar attributes to form attribute-clusters. Our proposed hybrid overlay could 
provide efficient multi-attribute and range-query searches with load balancing in 
large-scale P2P networks. Experimental results show that the proposed overlay 
performs well. 
Keywords: P2P; Range query; Multi-attribute; Hybrid; Overlay. 
1   Introduction 
The Peer-to-peer (P2P) system is built as an overlay on the existing Internet 
infrastructure to provide resource sharing services. Recently, due to the development of 
P2P technology, efficient resource sharing approaches are applied in large-scale 
computing systems with various distributed resources. In general, a decentralized P2P 
system distributes all searching and locating loads across all participating peers; and the 
efficiency of the resource discovery mechanism becomes one of the most important 
issues. 
In general, P2P overlays could be categorized into unstructured and structured. In an 
unstructured P2P overlay, there is no control and no accurate information on the 
network topologies, message broadcasting becomes essential. Most of the unstructured 
P2P overlays employ the flooding approach to discover resources, in which flooding is 
conducted in a hop-by-hop fashion counted by a time-to-live (TTL) count. Although 
the flooding approach can facilitate various resource-searching modes, flooding can 
seriously limit system scalability due to the number of redundant query messages 
grows exponentially during the message propagation. Therefore, unstructured 
approaches have to address the scalability problem. 
On the contrary, the structured P2P overlay adopts accurate information to construct 
the network topology for message forwarding. Most of the structured approaches hash 
138 Y.-F. Yu et al. 
Although their network topology reduces the maintenance cost in the single tree 
architecture, the unstructured upper level causes redundant searching cost. GTap [9] 
organizes nodes into groups and improves Tapestry by additional group links and 
backup links for flexible routing. Even though additional links enlarge the size of 
routing table, the latency of discovering groups is still a constant. However, the 
maintenance cost of these DHT-based overlays confounds the system scalability. 
Zhang et. al. [10 ] propose an assisted P2P overlay in which nodes participate in both 
the structured index overlay and the unstructured search overlay. The assisted P2P 
overlay records popular and unpopular properties for the index overlay and the search 
overlay respectively. Their approach could reduce the cost of maintaining unpopular 
data in the index overlay; however, the search delay and bandwidth overhead also 
increase. 
In general, the DHT-based P2P networks need additional discovery mechanisms to 
support the effective multi-attribute or range query searching. PIRD [11] constructs a 
structured multi-ring overlay according the node ID which is hashed by node’s 
attributes. Ronaldo et al. [12] hash the attributes to generate the attribute-matrixes and 
provide the multi-attribute search by the attribute-matrixes to find out the closest 
resources. However, their approach wastes a lot of time for computing these matrixes. 
Simon et al. [13] propose a hierarchically structured P2P system to provide the range 
query. Due to the hierarchical architecture, their system needs to travel more hops in 
order to route the search messages between different tiers. SARIDS [14] exploits the 
double-link architecture to improve the performance of the range query. Because 
SARIDS needs to forward search messages to different attribute rings, a lot of volume 
of traffic is arose from these forwarding operations and a lot of computing time is 
wasted for filtering out the correct resource. 
This paper proposes a cluster-based hybrid P2P overlay to support multi-attribute 
and range-query searches. The proposed overlay is evaluated by OMNeT++ [15]. 
OMNeT++ is an event-driven P2P simulation environment with GUI. OMNeT++ 
supports many components, modules and communication protocols for simulating P2P 
systems. 
3   Cluster-Based Hybrid P2P Overlay 
In this section, the cluster-based hybrid P2P overlay is introduced. The proposed 
overlay hashes the fixed attributes of distributed resources to form attribute-vectors, 
and then constructs attribute-groups and attribute-clusters. 
The attribute-vector is hashed from the attribute values of distributed resources to 
form a binary string. Because different attributes have different ranges of attribute 
values, the attribute value has to be normalized. The hash function is defined as 
follow  
2 ( - )( )
-
m V MINa af Va MAX MINa a
⎢ ⎥×⎢ ⎥= ⎢ ⎥⎣ ⎦
, (1)
where MAXa and MINa are the maximum and minimum values of attribute a 
respectively, Va is the value of attribute a, and the attribute value is represented by m 
140 Y.-F. Yu et al. 
In general, the time complexity of resource discovery in most structured P2P 
networks is O(N), where N is the number of nodes. However, because the proposed 
cluster-based hybrid overlay could be viewed as a hierarchical tree-like architecture 
with n layers, in which each central attribute-group becomes the parent node, as shown 
in Fig. 1, the time required for forwarding queries to the specified attribute-group is 
O(2n), where n is the value of different attribute types. Notice that the forwarding time 
of our proposed overlay is unconcerned with the number of resources. Due to that there 
are 2n m×  different attribute-groups, so the time complexity of resource discovery in 
most structured P2P networks is O(log 2n m× ) = O( n m× ). Thus the proposed overlay 
performs better in the resource discovery when m is greater than 2. 
 
Algorithm : Query Forwarding (query) 
Input : a query Q 
Output："MISS" or "HIT" or the next attribute groups to forward 
Begin 
1: when group G receives an query Q from group GF 
2:  if G has received Q before 
3:   drop Q ; 
4:  else if sim(Gav, Qav) = n 
5:   return HIT ; 
6:  else if G has children GC1,GC2,...GCx 
7:   for i := 1 ~ x 
8:    if sim(GCxav, Qav) > sim(Gav, Qav)  
9:     return GCx ; 
10:   if G does not has any parents 
11:    return MISS ; 
12:   else 
13:    return GP which has the maximum sim(Gav, Qav) ; 
14:  else if G has parents GP 
15:   return GP which has the maximum sim(Gav, Qav) ; 
16:  else  
17:   return MISS ; 
End 
Fig. 2. Query forwarding algorithm 
Because the population of the P2P networks changes frequently, the dynamic 
operations in the proposed overlay are discussed as follows. After the first resource is 
chosen as the central attribute-group of all the attribute-clusters, the following 
resources join the overlay by connecting with the first one, and develop their own 
attribute-groups and attribute-clusters.  
When a resource joins the cluster-based hybrid overlay, it contacts with the 
bootstrap server to get the addresses of other existing resources in the cluster-based 
hybrid overlay. Then the new joining resource generates its attribute vector and tries to 
discover the attribute-group with the same attribute vector in order to join it. After 
joining the attribute-group, the new joining resource starts to connect the central 
attribute-groups in other attribute-clusters. 
142 Y.-F. Yu et al. 
the query can be forwarded to the satisfied attribute-groups according to the query 
forwarding algorithm. 
To support the range query, this study also proposes a range query searching 
algorithm. For the partial query, users can issue the query with partial attributes without 
the remaining attributes. The randomly attributes is denoted by “∗ ” (e.g. If the values 
of the first and third attribute are “01”, and the value of the second attribute is random, 
the attribute vector is represented as “01∗ ∗ 01”), and the results of exclusiveOR with 
any other values are zero (i.e. only the same attribute value). In addition, users can 
define the attribute values within a range (e.g., 00 01 ~ 11 10). 
 
Algorithms : Range query search (range query) 
Input: a range query (an attribute vector list along with a target attribute vector)  
Output: satisfied resource 
Begin 
1: When G receives a range query RQ from GF  
2:  if G has received RQ before 
3:   drop RQ ; 
4:  else 
5:   TG := Query Forwarding (RQt) ; 
6:   if TG = “MISS” 
7:    return “There is no satisfied resource” ; 
8:   else if TG = “HIT”  // it means TG = G and sim(Gav, RQtav) = n 
9:    if G has a parent GP which sim(GPav, RQtav) = n and GP!=GF 
10:     forward RQ to GP ; 
11:     if G has children GC1, GC2, ..., GCx 
12:      for i := 1 ~ x  
13:       if sim(GCxav, RQlav) = n and GCx != GF 
14:       forward RQ to GCx ;   
  
15:     if sim(Gav, RQlav) = n 
16:      Load Balancing (Q); 
17:    else  
18:     if G has children GC1, GC2, ..., GCx 
19:      for i := 1 ~ x  
20:       if sim(GCxav, RQlav) = n and GCx != GF 
21:        forward PQ to GCx ;  
  
22:     if sim(Gav, RQlav) = n 
23:      Load Balancing (Q); 
24:   else 
25:    forward RQ to TG ; 
End 
Fig. 4. Range query searching algorithm 
Fig. 4 illustrates the range query searching algorithm. Let RQ denote a range query 
and the attribute group G receive RQ from GF. TG is the results of forwarding query 
RQ. GP and GCx denote G’s parents and children respectively. GPav and RQav are the 
attribute vectors of GP and RQ respectively. The range query RQ will be packed into an 
attribute list RQl along with a target attribute vector RQt. RQl lists all of the 
144 Y.-F. Yu et al. 
 
The scope of range query
A
v
er
ag
e 
se
ar
ch
 
tim
e 
(m
s)
30
35
40
45
50
55
60
65
10 20 30 40 50 60 70 80 90 100
Cluster-based Hybrid Overlay
Chord (with one-hop search)
(a) (b) 
The number of nodes
A
ve
ra
ge
 
se
ar
ch
 
tim
e 
(m
s)
20
25
30
35
40
45
256 1024 4096 16384
Cluster-based Hybrid Overlay
Chord
The number of nodes
A
ve
ra
ge
 se
ar
ch
 
tim
e 
(m
s)
26
26.2
26.4
26.6
26.8
27
27.2
1024 2048 4096 8192 16384
Cluster-based Hybrid Overlay
(c) (d) 
Fig. 5. (a) Example of a cluster-based hybrid overlay generated by OMNeT++ 4.0. (b) Average 
searching time in different query ranges. (c) Average search time in different nodes when m = 2. 
(d) Average search time in different nodes when n = 2. 
Table 1. Combinations of different attribute vectors 
Number of attribute-groups 256 1024 4096 16384 
Attribute vector combination n=4, m=2 n=5, m=2 n=6, m=2 n=7, m=2 
6   Conclusions  
This study proposes a cluster-based hybrid overlay by integrating the advantages of 
structured and unstructured P2P overlays. The attribute-vector preserves the original 
characteristics of distributed resources for the multi-attribute searching. The 
attribute-groups are constructed by the unstructured approach to achieve load 
balancing. The attribute-clusters connect each other to form the cluster-based hybrid 
overlay to support efficient multi-attribute range query searches. Experimental results 
show that the proposed overlay performs well and the system performance is 
independent of the number of resources. 
Acknowledgements 
This study was sponsored by the National Science Council, Taiwan, Republic of China 
under contract numbers: NSC 97-2221-E-142-001-MY3, NSC 97-3114-E-007-001- and 
NSC 98-2218-E-007 -005. 
□ 赴國外出差或研習 
□ 赴大陸地區出差或研習 
■ 出席國際學術會議 
□ 國際合作研究計畫出國 
心得報告 
計 畫 名 稱  計 畫 編 號  
報 告 人 
姓 名 
 黎士瑋 服 務 機 構 
及 職 稱 
 清華大學資工系 
 碩士生 
會議/訪問時間 
 地點 
2010/7/11~2010/7/21 
Canada, Ottawa (加拿大渥太華) 
會 議 名 稱 The 12th Annual Linux Symposium 
發表論文題目  
 
一、主要任務摘要（五十字以內） 
 
二、經過 
 
三、心得 
 
四、建議與結語 
 
五、攜回資料 
 
 
   
四、建議與結語 
參與國際會議可以讓國內的研究人員了解目前國際上相關研究的發展現況與未來趨
勢，也可以拓展其國際視野，對於國內的研究人員幫助相當大，因此國內研究人員應該
積極參與大型的國際會議。 
另外，若是國內學術單位有爭取到在國內舉辦大型國際會議的機會，不僅能促進國
際學術交流與合作，還能夠開拓國內的研究生的視野。 
六、攜回資料 
 會議流程 
 
的國際學術研討會議有許多知名學者的參與，讓每一位參加這個會議的人士
都能夠得到國際上最新的技術與資訊。是一次非常成功的學術研討會。 
 
四、心得 
 
    參加本次的國際學術研討會議，感受良多。讓本人見識到許多國際知名
的研究學者以及專業人才，得以與之交流。讓本人與其他教授面對面暢談所
學領域的種種問題。看了眾多研究成果以及聽了數篇專題演講，最後，本人
認為，會議所安排的會場以及邀請的講席等，都相當的不錯，覺得會議舉辦
得很成功，值得我們學習。 
 
五、建議與結語 
大會安排的會場以及邀請的講席等，都相當的不錯，覺得會議舉辦得很
成功，值得我們學習。 
 
六、攜回資料  
     論文集光碟片 
 
 
出國行程表 
 
8/10  前往 Cebu 
8/11  研討會報到，全日參與MUE 2010研討會，主持專題演說、參與歡迎晚會 
8/12  發表論文、全日參與研討會、參與晚宴 
8/13  全日參與研討會 
8/14  返回台灣 
 2
economic based grid scheduling.  The former 
emphasizes the performance of systems of applications, 
such as system throughput, jobs’ completion time or 
response time.  Swany et al. provides an approach to 
improving throughput for grid applications with 
network logistics by building a tree of “best” paths 
through the graph and has running time of O(NlogN) 
for implementations that keep the edges sorted [15].  
Such approach is referred as the Minimax Path (MMP) 
and employs a greedy, tree-building algorithm that 
produces optimal results.  Besides data-parallel 
applications requiring high performance in grid 
systems, there is a Dynamic Service Architecture 
(DSA) based on static compositions and optimizations, 
but also allows for high performance and flexibility, 
by use of a lookahead scheduling mechanism [4]. To 
minimize the processing time of extensive processing 
loads originating from various sources, the approaches 
divisible load model [5] and single level tree network 
with two root processors with divisible load are 
proposed [12]. In addition to the job matching 
algorithm, the resource selection algorithm is at the 
core of the job scheduling decision module and must 
have the ability to integrate multi-site computation 
power.  The CGRS algorithm based on the 
distributed computing grid model and the grid 
scheduling model integrates a new density-based 
internet clustering algorithm into the decoupled 
scheduling approach of the GrADS and decreases its 
time complexity.  The scheduling of parallel jobs in a 
heterogeneous multi-site environment, where each site 
has a homogeneous cluster of processors, but 
processors at different sites has different speeds, is 
presented in [18]. Scheduling strategy is not only in 
batch but also can be in real-time.  The SAREG 
approach paves the way to the design of 
security-aware real-time scheduling algorithms for 
Grid computing environments.  
For QoS guided grid scheduling, apparently, 
applications in grids need various resources to run its 
completion.  In  [17], an architecture named public 
computing utility (PCU) is proposed uses virtual machine 
(VMs) to implement “time-sharing” over the resources 
and augments finite number of private resources to public 
resources to obtain higher level of quality of services.  
However, the QoS demands maybe include various 
packet-type and class in executing job. As a result, a 
scheduling algorithm that can support multiple QoS 
classes is needed.  Based on this demand, a multi-QoS 
scheduling algorithm is proposed to improve the 
scheduling fairness and users’ demand [11].  He et al. [7] 
also presented a hybrid approach for scheduling moldable 
jobs with QoS demands.  In [9], a novel framework for 
policy based scheduling in resource allocation of grid 
computing is also presented.  The scheduling strategy 
can control the request assignment to grid resources by 
adjusting usage accounts or request priorities. Resource 
management is achieved by assigning usage quotas to 
intended users. The scheduling method also supports 
reservation based grid resource allocation and quality of 
service feature.  Sometimes the scheduler is not only to 
match the job to which resource, but also needs to find 
the optimized transfer path based on the cost in network. 
In [19], a distributed QoS network scheduler (DQNS) is 
presented to adapt to the ever-changing network 
conditions and aims to serve the path requests based on a 
cost function. 
3. Preliminaries 
  
Our research model considers the static scheduling 
of batch jobs in grids.  As this work is an extension and 
optimization of the QoS guided scheduling that is based 
on Min-Min scheduling algorithm [9], we briefly describe 
the Min-Min scheduling model and the QoS guided 
Min-Min algorithm.  Figure 1 outlines the Min-Min 
scheduling algorithm. 
 
Algorithm_Min-Min()
{ 
while there are jobs to schedule 
for all job i to schedule 
for all machine j 
Compute CTi,j = CT(job i, machine j)
end for 
Compute minimum CTi,j 
end for 
Select best metric match m 
Compute minimum CTm,n 
Schedule job m on machine n 
end while 
} End_of_ Min-Min  
 
Figure 1. The Min-Min Algorithm 
 
Analysis: If there are m jobs to be scheduled in n 
machines, the time complexity of Min-Min algorithm is 
O(m2n). The Min-Min algorithm does not take into 
account the QoS issue in the scheduling.  In some 
situation, it is possible that normal tasks occupied 
machine that has special services (referred as QoS 
machine).  This may increase the delay of QoS tasks or 
result idle of normal machines. 
 
The QoS guided scheduling is proposed to resolve 
the above defect in the Min-Min algorithm.  In QoS 
guided model, the scheduling is divided into two classes, 
the QoS class and the non-QoS class.  In each class, the 
Min-Min algorithm is employed.  As the QoS tasks have 
higher priority than normal tasks in QoS guided 
scheduling, the QoS tasks are prior to be allocated on 
QoS machines.  The normal tasks are then scheduled to 
all machines in Min-Min manner.  Figure 2 outlines the 
 4
scheduled in n machines, the time complexity of MOS is 
O(m2n).   
 
 *M1 M2 
T1 7 4 
T2 3 3 
T3 9 5 
*T4 5 X 
B. The Makespan Oriented Scheduling (MOS) 
M3 
7 
5 
7 
X 
T5 9 8 6 
*T6 5 X X 
Machine 0 *M1 M2 
*T4 
*T6 
T1 3 
8 
11 
M3 
T3 
T5 
Makespan 
T2 
Machine 
T1 
T2 
T3 
M2 
T5 
M3 
A. The QOS guided scheduling 
*T6 
*T4 
*M1 
Makespan 
12 
8 
3 
Figure 4. Task Migration in MOS 
4.2 Resource Oriented Scheduling (ROS) 
The main idea of the ROS scheme is to re-dispatch 
tasks from the machine with minimum number of tasks to 
other machines, expecting a decrease of resource need.  
Consequently, if we can dispatch all tasks from machine 
Mx to other machines, the total amount of resource need 
will be decreased.  
 
 M1 *M2 
T1 3 4 
T2 6 6 
*T3 X 7 
T4 4 6 
B. The Resource Oriented Scheduling (ROS) 
M3 
2 
3 
X 
2 
T5 5 7 2 
*T6 X 6 X 
Machine 
0 
M1 *M2 
*T6 
T1
4 
8 
13 
M3 
*T3 
T5
T2
Makespan 
Machine 
T4
M1 
A. The QOS guided scheduling 
0 
*M2 
T4 
*T6 
T1 
4 
8 
13 
M3 
*T3 
T5 
T2 
Makespan 
Figure 5. Task Migration in ROS 
 
Figure 5 gives another example of QoS scheduling, 
where the QoS guided scheduling presents makespan = 
13. According to the clarification of ROS, machine ‘M1’ 
has the fewest amount of tasks.  We can dispatch the 
task ‘T4’ to machine ‘M3’ with the following constraint 
 
CTij + CTj <= CTmax  
The above constraint means that the rescheduling can be 
performed only if the movement of tasks does not 
increase the overall makespan.  In this example, CT43 = 2, 
CT3=7 and CTmax=CT2=13.  Because the makespan of 
M3 (CT3) will be increased from 7 to 9, which is smaller 
than the CTmax, therefore, the task migration can be 
performed.  As the only task in M1 is moved to M3, the 
amount of resource need is also decreased comparing 
with the QoS guided scheduling.   
The ROS is an optimization scheme which aims to 
minimize resource cost. If there are m tasks to be 
scheduled in n machines, the time complexity of ROS is 
also O(m2n).   
5. Performance Results 
5.1 Simulation Setup 
 
To evaluate the performance of the proposed 
techniques, we have implemented the Min-Min 
scheduling algorithm and the QoS guided Min-Min 
scheme. The experiment model consists of heterogeneous 
machines and tasks.  Both of the Machines and tasks are 
classified into QoS type and non-QoS type.  Table 1 
summarizes six parameters and two comparison metrics 
used in the experiments.  The number of tasks is ranged 
from 200 to 600. The number of machines is ranged from 
50 to 130. The percentage of QoS machines and tasks are 
set between 15% and 75%.  Heterogeneity of tasks are 
defined as Ht (for non-QoS task) and HQ (for QoS task), 
which is used in generating random tasks.  For example, 
the execution time of a non-QoS task is randomly 
generated from the interval [10, Ht×102] and execution 
time of a QoS task is randomly generated from the 
interval [102, HQ×103] to reflect the real application world.  
All of the parameters used in the experiments are 
generated randomly with a uniform distribution.  The 
results demonstrated in this section are the average values 
of running 100 random test samples.   
Table 1: Parameters and Comparison Metrics 
 
Task number (NT) {200, 300, 400, 500, 600} 
Resource number (NR) {50 (default), 70, 90, 110, 130}
Percentage of QOS resources (QR %) {15%, 30%, 45%, 60%, 75%}
Percentage of QOS tasks (QT %) {15%, 30%, 45%, 60%, 75%}
Heterogeneity of non-QOS tasks (HT) {1, 3, 5, 7, 9} 
Heterogeneity of QOS tasks (HQ) {3, 5, 7, 9, 11} 
Makespan The completion time of a set of tasks 
Resource Used (RU) 
Number of machines used for 
executing a set of tasks   
 6
(f) (NT=500, NR=100, QR=30%, QT=20%, HT=1)  
HQ 3 5 7 9 11 
QOS Guided Min-Min 100 100 100 100 100
ROS 54.61 52.01 50.64 48.18 46.53
Improved Ratio 45.39% 47.99% 49.36% 51.82% 53.47%
 
 
Similar to those of Table 2, Table (a) changes the 
number of tasks to verify the reduction of resource that 
needs to be achieved by the ROS technique.  We noticed 
that the ROS has significant improvement in minimizing 
grid resources.  Comparing with the QoS guided 
Min-Min scheduling algorithm, the ROS achieves 50% ~ 
60% improvements without increasing overall makespan 
of a chunk of grid tasks.  Table (b) changes the number 
of machines.  The ROS retains 50% improvement ratio.  
Table (c) adjusts percentages of QoS machine.  Because 
this test has 20% QoS tasks, the ROS performs best at 
15% QoS machines.  This observation implies that the 
ROS has significant improvement when QoS tasks and 
QoS machines are with the same percentage.  Table (d) 
sets 40% QoS machine and changes the percentages of 
QoS tasks.  Following the above analysis, the ROS 
technique achieves more than 50% improvements when 
QoS tasks are with 45%, 60% and 75%.  Tables (e) and 
(f) change the heterogeneity of tasks.  Similar to the 
results of section 5.2, the heterogeneity of tasks is not 
critical to the improvement rate of the ROS technique.  
Overall speaking, the ROS technique presents 50% 
improvements in minimizing total resource need compare 
with the QoS guided Min-Min scheduling algorithm.  
6. Conclusions 
In this paper we have presented two optimization 
schemes aiming to reduce the overall completion time 
(makespan) of a chunk of grid tasks and minimize the 
total resource cost.  The proposed techniques are based 
on the QoS guided Min-Min scheduling algorithm. The 
optimization achieved by this work is twofold; firstly, 
without increasing resource costs, the overall task 
execution time could be reduced by the MOS scheme with 
7%~15% improvements. Second, without increasing task 
completion time, the overall resource cost could be 
reduced by the ROS scheme with 50% reduction on 
average, which is a significant improvement to the state 
of the art scheduling technique. The proposed MOS and 
ROS techniques have characteristics of low complexity, 
high effectiveness in large-scale grid systems with QoS 
services.  
References 
 
[1] A. Abraham, R. Buyya, and B. Nath, "Nature’s Heuristics for 
Scheduling Jobs on Computational Grids", Proc. 8th IEEE 
International Conference on Advanced Computing and 
Communications (ADCOM-2000), pp.45-52, 2000. 
[2] A. Andrieux, D. Berry, J. Garibaldi, S. Jarvis, J. MacLaren, D. 
Ouelhadj, D. Snelling, "Open Issues in Grid Scheduling", 
National e-Science Centre and the Inter-disciplinary Scheduling 
Network Technical Paper, UKeS-2004-03. 
[3] R. Buyya, D. Abramson, Jonathan Giddy, Heinz Stockinger, 
“Economic Models for Resource Management and Scheduling 
in Grid Computing”, Journal of Concurrency: Practice and 
Experience, vol. 14, pp. 13-15, 2002. 
[4] Jesper Andersson, Morgan Ericsson, Welf Löwe, and Wolf 
Zimmermann, "Lookahead Scheduling for Reconfigurable 
GRID Systems", 10th International Europar'04: Parallel 
Processing, vol. 3149, pp. 263-270, 2004. 
[5] D Yu, Th G Robertazzi, "Divisible Load Scheduling for Grid 
Computing", 15th IASTED Int’l. Conference on Parallel and 
Distributed Computing and Systems, Vol. 1, pp. 1-6, 2003 
[6] Fangpeng Dong and Selim G. Akl, "Scheduling Algorithms for 
Grid Computing: State of the Art and Open Problems", 
Technical Report No. 2006-504, 2006. 
[7] Ligang He, Stephen A. Jarvis, Daniel P. Spooner, Xinuo Chen, 
Graham R. Nudd, "Hybrid Performance-oriented Scheduling of 
Moldable Jobs with QoS Demands in Multiclusters and Grids", 
Grid and Cooperative Computing (GCC 2004), vol. 3251, pp. 
217–224, 2004.  
[8] Xiaoshan He, Xian-He Sun, Gregor Von Laszewski, "A QoS 
Guided Scheduling Algorithm for Grid Computing", Journal of 
Computer Science and Technology, vol.18, pp.442-451, 2003. 
[9] Jang-uk In, Paul Avery, Richard Cavanaugh, Sanjay Ranka, 
"Policy Based Scheduling for Simple Quality of Service in Grid 
Computing", IPDPS 2004, pp. 23, 2004. 
[10] J. Schopf. "Ten Actions when Superscheduling: A Grid 
Scheduling Architecture", Scheduling Architecture Workshop, 
7th Global Grid Forum, 2003. 
[11] Junsu Kim, Sung Ho Moon, and Dan Keun Sung, "Multi-QoS 
Scheduling Algorithm for Class Fairness in High Speed 
Downlink Packet Access", Proceedings of IEEE Personal, 
Indoor and Mobile Radio Communications Conference (PIMRC 
2005), vol. 3, pp. 1813-1817, 2005 
[12] M.A. Moges and T.G. Robertazzi, "Grid Scheduling Divisible 
Loads from Multiple Sources via Linear Programming", 16th 
IASTED International Conference on Parallel and Distributed 
Computing and Systems (PDCS), pp. 423-428, 2004. 
[13] M. Baker, R. Buyya and D. Laforenza, "Grids and Grid 
Technologies for Wide-area Distributed Computing", in Journal 
of Software-Practice & Experience, Vol. 32, No.15, pp. 
1437-1466, 2002. 
[14] Jennifer M. Schopf, "A General Architecture for Scheduling on 
the Grid", Technical Report ANL/MCS, pp. 1000-1002, 2002. 
[15] M. Swany, "Improving Throughput for Grid Applications with 
Network Logistics", Proc. IEEE/ACM Conference on High 
Performance Computing and Networking, 2004. 
[16] R. Moreno and A.B. Alonso, "Job Scheduling and Resource 
Management Techniques in Economic Grid Environments", 
LNCS 2970, pp. 25-32, 2004. 
[17] Shah Asaduzzaman and Muthucumaru Maheswaran, 
"Heuristics for Scheduling Virtual Machines for Improving QoS 
in Public Computing Utilities", Proc. 9th International 
Conference on Computer and Information Technology 
(ICCIT’06), 2006. 
[18] Gerald Sabin, Rajkumar Kettimuthu, Arun Rajan and P 
Sadayappan, "Scheduling of Parallel Jobs in a Heterogeneous 
Multi-Site Environment", in the Proc. of the 9th International 
Workshop on Job Scheduling Strategies for Parallel Processing, 
LNCS 2862, pp. 87-104 , June 2003. 
[19] Sriram Ramanujam, Mitchell D. Theys, "Adaptive Scheduling 
based on Quality of Service in Distributed Environments", 
PDPTA’05, pp. 671-677, 2005. 
 
 
MUE 2010 國際研討會有來自數十個國家的 50 多篇會議論文，全部投稿篇數
是 171 篇，接受率僅有 29%。會議有 5 個 Sessions 分在三天進行論文發表，涵蓋
的領域包括:  
• 1: Ubiquitous Computing and Beyond  
• 2: Multimedia Modeling and Processing  
• 3: Ubiquitous Services and Applications  
• 4: Multimedia Services and Applications  
• 5: Multimedia and Ubiquitous Security  
• 6: Other IT and Multimedia Applications  
除了 MUE2010，還有其他三個相關的國際研討會 (HumanCom-10, ITCS-10, 
EMC-10) 聯合舉行，全部有 25 個 Sessions，提供非常豐富的議題可以選擇參與:
1. The 3rd International Conference on Human-centric Computing  
(1) Human-computer interaction and User-centered Design  
(2) Social computing and social intelligence  
(3) Ubiquitous computing and mobile systems  
(4) Gaming  
(5) Computer-assisted Learning and Cognition  
(6) Privacy, Security and trust management  
(7) Human-centered Evaluation  
(8) Information Visualization and Visual Analytics  
(9) Semantic Systems  
2. The 2nd International Conference on Information Technology Convergence 
and Services 
(1) Advanced Computer Science and Applications  
(2) Advanced Electrical and Electronics Engineering and Technology 
(3) Intelligent Manufacturing Technology and Services  
(4) Advanced Management Information Systems and Services  
(5) Electronic Commerce, Business and Management  
(6) Intelligent Vehicular Systems and Communications  
(7) Bio-inspired Computing and Applications  
(8) Advanced IT Bio/Medical Engineering  
(9) Modeling and Services for Intelligent Building, Town, and City  
3. The 5th International Conference on Embedded and Multimedia Computing 
(1) Embedded Systems and Software  
(2) Cyber-Physical Systems  
(3) Embedded System Applications  
(4) Real-time systems  
深入的交流，不但增強我們學習的層面，還能夠提昇我們學術領域在國際上的能
見度和知名度。另外，鼓勵和獎助研究生(包括碩士生)出國參加國際性學術研討
會議，也是有助於培養更多專業的優秀人才。雖然政府和學校在這些方面都有很
努力的在推動，但是在經費來源逐漸缺少的情況下，很難擴大規模產生更大的效
益，建議能夠結合產業的研發需求和能量，利用節稅優惠鼓勵研發投資的手段達
到永續發展的長期目標。特別值得我們注意的是，出席這次會議的學者和合辦者
不少是來自中國大陸，以及從美國、日本和歐洲來參加的大陸留學生和教授，我
們真的需要更多的補助來鼓勵台灣學術界踴躍參與國際會議和增加國際交流的
機會。 
 
六、攜回資料 
1. Proceedings of the 2010 4th International Conference on Multimedia and 
Ubiquitous Engineering。 論文集的書面資料是論文摘要，論文內容 Full paper
則是 CD 的電子檔案。 
2. 未來其它相關研討會的介紹資料。包括 ST2011, ISPA2011, IEEE ICASE-11, 
IRoA-11, PDCAT-11, MUE2011 等 call for papers。 
 
 
 
predict the current user state, the nodes they might move next, 
and the service they might request next. In each prediction, the 
likelihood of all possible consequences is revealed. The mining 
results can be used to decrease the communication latency and 
cost of the PCS (Personal Communications Services) network. 
Moreover, they can provide useful information regarding the 
insights of the customers to the providers for service 
improvements and decision supports. The key features of our 
novel approach are summarized as follows: (1) Efficient. Only 
one scan of the input data is required. (2) Scalable. The 
required memory space and processing time are calculable and 
can be independent of the input data size. (3) Immediate. Out-
of-date information can be easily discarded from the built 
model and new information can be easily incorporated to 
reflect the up-to-date user behaviors. (4) Informative. Can 
provide more advanced statistical information at various 
behavior levels of the mobile user than traditional approaches. 
(5) Automatic. Can work without any parameter settings. 
A B C D
E F G H
I J K L
M N O P  
Fig. 1. The network architecture. 
II. THE PROPOSED APPROACH 
In this section, we propose a novel approach for Modeling 
the Mobile User’s Behaviors (MMUB). First, for mining usage, 
the required mobile user’s records were derived from the logs 
of the network system; this process is described in Section 2.A. 
Then, with only one scan of the target records, all of the 
required information for building the user model is recorded 
into two tables α and β, where α stores the information of the 
user’s moving nodes and β stores the information of the user’s 
requested services; this process is described in Section 2.B. 
After that, with tables α and β, an extended HMM was built for 
modeling the user’s mobile behavior in terms of the user 
moving nodes and request services; this process is described in 
Section 2.C. In Section 2.D, we describe how the built model 
can be used for predicting the user’s mobile behaviors at 
various granularity levels including the user state, moving 
nodes, and request services. Lastly, in Section 2.E, we show 
that the built model can be easily expanded in terms of traffic 
time for reflecting the up-to-date user’s mobile behaviors. 
A. Generating the User Records 
From a PCS network, we can obtain the required data for 
mining the user’s mobile behaviors. In Fig. 1, without lost of 
generality, we use a four by four mesh topology as an example 
of the network topology of a mobile computing system [9]. In 
this cellular network, each node can be viewed as a visitor 
location register (VLR) and the links can be viewed as the 
connections between VLRs. When a user is roaming in the 
network, a movement log will be generated. In addition, if a 
user has requested a service, an activity log will be generated. 
From these logs, the required user records for behavior mining 
can be easily composed. 
A user record is a sequence of observations regarding the 
user. For example, if a user has moved from node A to node B 
and then to node C, and requested service S1 in node A and 
node B, service S2 in node B, and service S3 in node C, the 
corresponding user sequence <A:S1,B:S1,B:S2,C:S3> can be 
derived. In this work, we consider an observation in a sequence 
only when the observation exhibits changes from the precedent 
one. This sequence was further divided by using the user 
sessions for generating the user records, where a session is 
reckoned from the time users connected to the network to the 
time they disconnected or to the present. Given any time 
interval, the corresponding user records within the interval can 
be easily derived, where the order in which the records are 
listed is considered irrelevant. An example set of the user 
records is given in Fig. 2. 
User ID User record 
100 <A:Sφ,B:S1,C:S1,D:S1,H:S4> 
200 <A:Sφ,A:S2,B:S2,F:S2,E:S2> 
100 <H:Sφ,H:S1,D:S1,C:S1,B:S1,F:S1,F:S2,F:Sφ,E:Sφ,A:Sφ> 
300 <B:Sφ,C:Sφ,D:Sφ,C:S1,C:S2,C:S3,C:Sφ> 
Fig. 2.  Example set of the user records. 
B. Counting the User Behavior Patterns 
Once the target moving records have been selected, in one 
scan of the dataset, all of the required information for model 
building is recorded into a node-table α (in size of m×m) and a 
service-table β (in size of m×n), where n is the number of nodes 
of the system and m is the number of services. Node-table α 
was used to record the counts of the user moving nodes, and 
service-table β was used to record the counts of the user request 
services. 
More specifically, for node-table α, if a user has moved 
from node i to node j, the count of the element α[i,j] will be 
increased by one. For example, if a user has moved from node 
B to node A, the element [B,A] of node-table α will be 
increased by one. For the diagonal elements of node-table α, as 
they represent that the user has moved from a node to itself, i.e., 
no movement, for more detailed counting, we allot two counts 
for each of these elements. The first count (labeled as I) will be 
increased only once when the user continues staying at one 
particular node and the second count (labeled as II) will be 
increased as many times as the occurrence of that stay. For 
example, given a user record <A:S1,A:S2,A:S3> the count of 
α[A,A]I will be increased by 1, and the count of α[A,A]II will 
be increased by 2. For another user record 
<A:S1,A:S2,A:S3,B:S1,A:S2,A:S3, A:S2,A:S3>, the count of 
α[A,A]I will be increased by 2, and the count of α[A,A]II will 
be increased by 5. The content of node-table α after counting 
the records in Fig. 2 is shown in Fig. 3a. 
For service-table β, if a user has requested service y when 
connecting to node k, the element [k,y] of service-table β will 
be increased by one. For more detailed counting, each element 
of service-table β was allotted two counts. The first count 
(labeled as S) will be increased when the user has request 
services in a steady state. Conversely, the second count 
(labeled as M) will be increased when the user has request 
D. Predicting the User Behaviors 
Given the corresponding probabilities of a classical HMM, 
the problem of finding the most likely sequence of hidden 
states that could have generated a given sequence of output can 
be efficiently solved by the Viterbi algorithm [10]. In our 
approach, once the extended HMM has been built, given a 
sequence of observations, i.e., the visited nodes and requested 
services of a mobile user, an algorithm was developed for 
estimating the likelihoods of the current user state, the possible 
next node, and the possible next service. The pseudo code of 
our prediction algorithm is given below. 
Input: Current observation o and preceding observation −o of a mobile user, 
counting tables α and β, and the built extended HMM H. 
Output: Likelihood of the current user state, the next node, and the next 
service. 
begin 
1. if −o not exists then 
2.     likelihood_moving M].,.[ serviceonodeoβ=  
3.     likelihood_steady S].,.[ serviceonodeoβ=  
4. else  
5.     if o.node ≠ −o .node then 
6.        −state =  “moving”  /* −state denotes the preceding user state */ 
7.     else  
8.        −state =  “steady” 
9.     end if 
10.     likelihood_moving M
. ].,.[ serviceonodeoH nodeo movingstate β×=
−
− →
  
11.     likelihood_steady S
. ].,.[ serviceonodeoH nodeo steadystate β×=
−
− →
 
12. end if 
13. P(moving) = likelihood_moving / (likelihood_moving + 
likelihood_steady) 
14. P(steady) = likelihood_ steady / (likelihood_moving + likelihood_steady)    
15. likelihood_next_node[o.node] = P(steady)× α[o.node, o.node]I    
16. likelihood_next_node[x] = P(moving)× α[o.node, x], x∈neighbors of o 
17. P(next_node[nj]) = likelihood_next_node[nj] / ∑y ynodenextlikelihood ][__ , for all possible next nodes y  
18. likelihood_next_service[sk] =   
P(next_node[o.node])×( M
. ],.[ k
nodeo
movingsteady snodeoH β×→ + 
S
. ],.[ k
nodeo
steadysteady snodeoH β×→ ) + 
∑x P (next_node[x])×( M. ],[ knodeo movingmoving sxH β×→ +
S
. ],[ k
nodeo
steadymoving sxH β×→ ) , x ∈ neighbors  of o.node 
19. P(next_service[sl]) = likelihood_next_service[sl] / ∑z zservicenextlikelihood ][__ , for all possible next services z 
End 
E. Modeling the User Behaviors in Progress 
The incremental modeling process of MMUB is simple 
and straightforward. For each time slot, say an hour, 
temporary counting tables, α and β, are reckoned. Then, if we 
want to obtain the user’s mobile behaviors according to the 
activities of the last, say three hours, we can simply sum up 
the counts of the corresponding α and β within this interval. 
As time passes, say an hour, out-of-date α and β can be 
readily subtracted from the previous result, and new α and β 
can be easily added in for reflecting the latest user information. 
Under this scenario, it is also feasible to assign a higher weight 
to the counting information of the closer time slots, i.e., 
weighted time windows. With that, the resulting model not 
only can reflect the global situations but also can be more 
responsive to recent events. 
III. EXPERIMENTS  
We conducted a series of tests to evaluate the scalability 
and accuracy of MMUB. To examine the proposed approach in 
an extensive way, we conducted synthetic data experiments as 
real data are difficult to obtain due to commercial benefits and 
privacy. Our program was coded by using Visual Basic .NET. 
All of the experiments were performed on a PC with a 2.66G 
GHz Pentium(R) 4 CPU and 512MB RAM. 
A. Datsets 
First, an N by N mesh, with N2 nodes, was generated as the 
underlying architecture of the cellular network. In the real 
world, based on the location and topology, a node will exhibit 
different probabilities concerning the other possible next nodes. 
Thus, we assigned likelihood, modeled by a uniform 
distribution, for each possible next node of a given node of the 
network. To simplify our process we also use a uniform 
distribution for a user to request a particular service in 
connection with each user state. In addition, to imitate different 
kinds of person, the underlying users were assigned 
probabilities regarding their movement behavior when 
generating the user records. Once the underlying conditions 
have been settled, we can begin to generate user records. The 
number of total moving records was given by the parameter R, 
and the average length of the records was modeled by a normal 
distribution with mean L and standard deviation of 5. 
For each record, the initial user location was randomly 
selected and the initial service was set to Sφ. When generating 
the next node, the roulette wheel selection technique [11] was 
used based on the multiplications of the state transition 
probabilities T of the underlying users and the probabilities of 
the possible next nodes of the current node. For selecting the 
next node of the initial node, the previous state of the initial 
state was assigned randomly. Once the next node is selected, 
the current user state can be set. Explicitly, the current user 
state was set to steady if the current node equals the next node; 
otherwise, the state was set to moving. 
B. Scalability Tests 
In the scalability test, a five-fold cross validation was 
adopted for all the datasets in the experiments. In addition, 
since the original dataset was scanned only once in our 
approach, we divided the total processing time into two parts 
for more precise analysis: 
1. Data scanning time (TS), was the time used for scanning 
and counting the related user behaviors and  
2. Data modeling time (TM), was the time used for building 
the behavior model based on the previous counting results.  
First, the scalability of MMUB was evaluated by using the 
dataset with various node number of the underlying network 
from 5 to 40 as shown in Fig. 6. 
0
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
1
4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20
Ac
cu
ra
cy
Node number (N)
Dataset: N#S5T0.9R2000L10
State
Node
Service
 
Fig. 12.  Prediction accuracy for different node numbers with 2000 user records. 
Fig. 13 shows the prediction accuracy of MMUB with 
various service numbers from 5 to 100. The results show that 
only the accuracy of the next service was influenced by the 
underlying service umber. This is because when the service 
number increased, the request probabilities of each possible 
service become decreased, and therefore equalize the prediction 
accuracy of the next service. For that reason, Fig. 13 also 
shows the weighted accuracy of the next service, obtained by 
multiplying the prediction accuracy of the next service with the 
underlying number of service. The weighted accuracy shows 
that the prediction accuracy of the proposed approach is 
independent of the underlying service number. 
0
0.2
0.4
0.6
0.8
1
1.2
1.4
5 10 15 20 25 30 35 40 45 50
Ac
cu
ra
cy
Service number (S)
Dataset: N5S#T0.9R2000L10
State
Node
Service
Weighted 
Service
 
Fig. 13.  Prediction accuracy for different service numbers. 
Lastly, the correctness of MMUB was evaluated under 
various user transition probabilities from 0 to 1. The result in 
Fig. 14 shows that when the underlying users have equal 
chances to move and to stay in the next step, the behavior of 
the user becomes less predictable. 
0
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
1
0 10 20 30 40 50 60 70 80 90 100
Ac
cu
ra
cy
Transition probability (T)
Dataset: N5S5T#R2000L10
State
Node
Service
 
Fig. 14.  Prediction accuracy for different user transition probabilities. 
IV. CONCLUSIONS 
In this paper, we propose a novel approach, namely MMUB, 
through extended HMM with the concept of data mining for 
modeling the behaviors of the mobile user in a mobile 
computing environment. Our novel approach encompasses 
various characteristics including efficient, automatic, scalable, 
sophisticated, and immediate as have been described in the 
introduction. In MMUB, all the required information for 
building the user behavior model were reckoned by two 
counting tables within only one scan of the dataset. In addition, 
an effective technique for dissecting the counting table has 
been devised. With this technique, not only the required 
memory space of MMUB but also the required processing time 
can be dramatically decreased. 
In comparison with other approaches, our model offers 
more advanced statistical information at various granularity 
levels, including the user state, the next node and service, for 
predicting the behavioral patterns of the mobile users.  
For future works, we shall modify the modeling strategy of 
our approach for coping with more diverse underlying 
situations in different target applications of the mobile 
computing environment. On the other hand, as the mobile 
networks are usually distributed in nature, we shall focus on 
exploiting parallel and distributed computing architecture [12] 
to further improve the overall efficiency of our approach. 
ACKNOWLEDGMENT 
This research was supported by the National Science 
Council, Taiwan, under grants NSC 98-2221-E-035-059-MY2 
and NSC 98-2218-E-007-005. 
REFERENCES 
[1] Bernd B. & Bennington B. (1996). Applications of mobile computing 
and communication. IEEE Personal Communication, 3(1), 64-71. 
[2] Elmagarmid A., Jain J., & Furukawa T. (1995). Wireless client/server 
computing for personal information services and applications. ACM 
SIGMOD Record, 24, 16-21. 
[3] Chen M.S., Park J.S., & Yu P.S. (1998). Efficient data mining for path 
traversal patterns. IEEE Transactions on Knowledge and Data 
Engineering, 10(2), 209-221. 
[4] Yun C.H. & Chen M.S. (2007). Mining Mobile Sequential Patterns in a 
Mobile Commerce Environment. IEEE Transactions on Systems, Man 
and Cybernetics, Part C: Applications and Reviews, 37(2), 278-295. 
[5] Han J. & Kamber M. (2007). Data Mining: Concepts and Techniques. 
Morgan Kaufmann Publishers. 
[6] Agrawal R. & Srikant R. (1994). Fast algorithm for mining association 
rules in large databases. Proceedings of the 20th International 
Conference on Very Large Data Bases, 487-499. 
[7] Yin K.-C., Hsieh Y.-L. & Yang D.-L. (2010) “GLFMiner: global and 
local frequent pattern mining with temporal intervals,” The 5th IEEE 
Conference on Industrial Electronics and Applications.  
[8] Yang J., Wang W., Yu P.S. (2003). Mining asynchronous periodic 
patterns in time series data. IEEE Transactions on Knowledge and Data 
Engineering, 15(3), 613-628. 
[9] Lin Y.-B. (1997) “Modeling Techniques for Large-Scale PCS 
Networks,” IEEE Comm. Magazine, Vol. 35, No. 2, 102-107. 
[10] Forney G.D. (1973). “The Viterbi Algorithm,” Proceedings of the IEEE, 
Vol. 61, No. 3, 268-278. 
[11] Cheng, R., and Gen, M. (1997) Genetic Algorithms and Engineering 
Design, John Wiley & Sons. 
[12] Tanbeer, S.K., Ahmed, C.F., Jeong, B. (2009) “Parallel and Distributed 
Algorithms for Frequent Pattern Mining in Large Databases,” IETE 
Tech Rev, Vol. 26, No. 1, 55-65. 
 
報告內容： 
京臺材料科學與工程學術研討會由北京化工大學舉辦，此次大會邀請了更多的學
校共同參與，會議的目的是透過兩岸師生對於高分子材料與工程進行深入的探
討，對於兩岸在該領域的成果能有進一步的了解，以期望未來能有進一步的合作
與交流的機會。 
本人於 10/19搭機前往北京化工大學，參加京臺材料科學與工程學術研討會，抵
達北京的時間已是晚上，入住飯店後隨即參加大會主辦的晚宴，宴席中受到北京
化工大學的老師與學生們熱情的款待。 
10/20 上午為會議的開幕式，先由北京化工大學的老師介紹北京化工大學以及材
料科學與工程學院，接著由台灣各校老師介紹所屬學校系所的發展現況及研究成
果。下午則舉行了博士生論壇，由學生報告並互相交流。10/21則是正式的研討會
議程，由各校老師報告，晚上老師們與學生分開進行交流活動，。 
10/21當天於北京化工大學逸夫樓會議中心進行學術報告，由兩岸的教授報告各
自的研究成果，本人報告的題目為： 
Crystallization Competition and Thermal Stability of 
Poly (3-hydroxybutyrate-co-3-hydroxyvalerate)/Poly (ε-caprolactone) Block Copolymers 
兩岸的師生對於報告的內容討論相當熱烈，各自也都提出不同的看法與建議。 
10/22與 23兩天，分別拜訪了北京化工大學材料學院院長楊萬泰教授與閆壽科教
授，談及雙方在學術交流合作的內容，也參觀了楊院長的有機材料表面工程實驗 
         
 
       
 
       
 
 
 
京臺材料科學與工程學術研討會開幕式 逢甲大學簡介 
參觀楊萬泰院長實驗室 
研討會報告 台灣教授群合影 
出席國際學術會議報告 
出席人員：鍾葉青 
國立清華大學資訊工程學系  教授 
會議名稱：國際平行與分散處理會議 
一、主要任務摘要 
出席參加第二十四屆國際平行與分散處理會議。 
二、經過 
國際平行與分散處理會議 IPDPS是本會議舉行以來的第 24 屆，於 2010 年 4 月 19
日至 23日在美國亞特蘭大舉辦。 
除了 keynote之外，也參與了幾個會議 session。 IPDPS 2010會議 session有以下幾
個：Algorithms for Network Management，Scientific Computing with GPUs，Data Storage and 
Memory Systems，Fault Tolerance，Sorting，Scheduling，Performance/Scalability Improvement 
for Scientific Applications，Network Architecture and Algorithms，Software Support for Using 
GPUs，Performance Prediction and Benchmarking Tools，Resource Allocation， Image 
Processing and Data Mining，Transactional Memory，Tools for Performance and Correctness 
Analysis，Parallel Linear Algebra，P2P Algorithms，Parallel Solutions for String and Sequence 
Problems， Energy-aware Task Management， Parallel Operating Systems and System 
Software，Caches and Caching，Thread Scheduling，Distributed Algorithms，Automatic Tuning 
and Automatic Parallelization，Architectural Support for Runtime Systems，Client-Server 
System Management and Analysis， Algorithms for Wireless Networks，Analysis of 
heterogeneity and future platforms，Data Management，Synchronization，而其中的許多
session，都展示了目前世界上各個研究單位在平行與分散處理領域最新的研究方向以及
成果。 
三、心得 
出席國際學術會議心得報告 
        
計畫編號 NSC 98-2218-E-007-005- 
計畫名稱 普及健康服務格網：以格網為基礎之個人健康服務系統 
出國人員姓名 
服務機關及職稱 
國立台中教育大學 資訊科學學系 賴冠州 副教授 
會議時間地點 Vladivostok(海參威), May 16-19, 2010 
會議名稱 The Russia-Taiwan Symposium on Methods and Tools of Parallel Programming Multicomputers (MTPP 2010) 
發表論文題目 A Scalable Multi-Attribute Range Query Approach on Cluster-based Hybrid Overlays 
 
一、參加會議經過 
今年 The Russia-Taiwan Symposium on Methods and Tools of Parallel Programming 
Multicomputers (MTPP) 2010 於蘇聯海參崴 Far Eastern National University 校內舉行。
MTPP 2010 包含 4 天的 Programs。會議內容包含 8 個探討主題，議題涵蓋目前在高效能
運算及多處理機系統上的各種平行運算理論發展及各式應用領域。相關資料可參考：
http://grid.chu.edu.tw/mtpp2010/  
因國內無直航班機至海參崴，故於 5/14 日搭乘韓航 KE0692 班機經韓國仁川機場轉
機。當日並無適當班機飛往海參崴，因此航空公司安排過境旅館住宿一晚，並於 5/15 日
搭乘 KE0981 航班飛抵海參崴。抵達海參崴後，先至大會安排之投宿旅館置放行李並休
息。 
此次參與在海參威舉行之 The Russia-Taiwan Symposium on Methods and Tools of 
Parallel Programming Multicomputers 共計四天，會議的第一天上午於大會報到處註冊完
畢後，由大會工作人員帶領大家參觀 Far Eastern National University 校園及市區。當晚 Far 
Eastern National University 副校長設宴款待來自各地的學者。於晚宴中與大會主席 V. 
Malyshkin 教授及多位國內學者：包含鍾葉青教授、李政崑教授、楊武教授、楊竹星教授、
游坤明教授、許慶賢教授、周智勳教授、黃國展教授、國家高速網路與計算中心張西亞
博士，…等多位專家學者交流意見，並瞭解各國於格網系統相關研究的最新發展。 
第二天研討會由大會主席 V. Malyshkin 及 C.H. Hsu 兩位教授介紹後開始，上下午各
有兩個場次論文發表，包含 Parallel Application Algorithms、Models and Methods of Parallel 
Computing、Parallel Applications 及 Parallel Programming Tools and Support；本計畫的研
究成果論文就在上午的第二場發表，題目為「A Scalable Multi-Attribute Range Query 
Approach on Cluster-based Hybrid Overlays」。第三天研討會上午含兩個論文發表場次：
Methods and Algorithms 及 System Algorithms；下午則安排一場 Numerical Simulation (I)
一場海報發表。傍晚時 Far East National University 安排參觀該校博物館，並設宴招待與
C.H. Hsu and V. Malyshkin (Eds.): MTPP 2010, LNCS 6083, pp. 136–145, 2010. 
© Springer-Verlag Berlin Heidelberg 2010 
A Scalable Multi-attribute Range Query Approach on 
Cluster-Based Hybrid Overlays 
You-Fu Yu, Po-Jung Huang, Quan-Jie Chen, Tian-Liang Huang, and Kuan-Chou Lai  
Department of Computer and Information Science, National Taichung University 
Taichung, Taiwan, R.O.C. 
kclai@mail.ntcu.edu.tw 
Abstract. Resource discovery in distributed computing systems is a critical issue 
to find and retrieve distributed resources rapidly. In general, most of previous 
proposed strategies focus on developing keyword searching approaches with 
preserving system scalability. In this paper, we propose a cluster-based hybrid 
overlay, which supports efficient keyword searching with the highly churn rate. 
The cluster-based hybrid overlay groups the nodes with the same attributes to 
form unstructured attribute-groups, and then clusters these attribute-groups with 
similar attributes to form attribute-clusters. Our proposed hybrid overlay could 
provide efficient multi-attribute and range-query searches with load balancing in 
large-scale P2P networks. Experimental results show that the proposed overlay 
performs well. 
Keywords: P2P; Range query; Multi-attribute; Hybrid; Overlay. 
1   Introduction 
The Peer-to-peer (P2P) system is built as an overlay on the existing Internet 
infrastructure to provide resource sharing services. Recently, due to the development of 
P2P technology, efficient resource sharing approaches are applied in large-scale 
computing systems with various distributed resources. In general, a decentralized P2P 
system distributes all searching and locating loads across all participating peers; and the 
efficiency of the resource discovery mechanism becomes one of the most important 
issues. 
In general, P2P overlays could be categorized into unstructured and structured. In an 
unstructured P2P overlay, there is no control and no accurate information on the 
network topologies, message broadcasting becomes essential. Most of the unstructured 
P2P overlays employ the flooding approach to discover resources, in which flooding is 
conducted in a hop-by-hop fashion counted by a time-to-live (TTL) count. Although 
the flooding approach can facilitate various resource-searching modes, flooding can 
seriously limit system scalability due to the number of redundant query messages 
grows exponentially during the message propagation. Therefore, unstructured 
approaches have to address the scalability problem. 
On the contrary, the structured P2P overlay adopts accurate information to construct 
the network topology for message forwarding. Most of the structured approaches hash 
138 Y.-F. Yu et al. 
Although their network topology reduces the maintenance cost in the single tree 
architecture, the unstructured upper level causes redundant searching cost. GTap [9] 
organizes nodes into groups and improves Tapestry by additional group links and 
backup links for flexible routing. Even though additional links enlarge the size of 
routing table, the latency of discovering groups is still a constant. However, the 
maintenance cost of these DHT-based overlays confounds the system scalability. 
Zhang et. al. [10 ] propose an assisted P2P overlay in which nodes participate in both 
the structured index overlay and the unstructured search overlay. The assisted P2P 
overlay records popular and unpopular properties for the index overlay and the search 
overlay respectively. Their approach could reduce the cost of maintaining unpopular 
data in the index overlay; however, the search delay and bandwidth overhead also 
increase. 
In general, the DHT-based P2P networks need additional discovery mechanisms to 
support the effective multi-attribute or range query searching. PIRD [11] constructs a 
structured multi-ring overlay according the node ID which is hashed by node’s 
attributes. Ronaldo et al. [12] hash the attributes to generate the attribute-matrixes and 
provide the multi-attribute search by the attribute-matrixes to find out the closest 
resources. However, their approach wastes a lot of time for computing these matrixes. 
Simon et al. [13] propose a hierarchically structured P2P system to provide the range 
query. Due to the hierarchical architecture, their system needs to travel more hops in 
order to route the search messages between different tiers. SARIDS [14] exploits the 
double-link architecture to improve the performance of the range query. Because 
SARIDS needs to forward search messages to different attribute rings, a lot of volume 
of traffic is arose from these forwarding operations and a lot of computing time is 
wasted for filtering out the correct resource. 
This paper proposes a cluster-based hybrid P2P overlay to support multi-attribute 
and range-query searches. The proposed overlay is evaluated by OMNeT++ [15]. 
OMNeT++ is an event-driven P2P simulation environment with GUI. OMNeT++ 
supports many components, modules and communication protocols for simulating P2P 
systems. 
3   Cluster-Based Hybrid P2P Overlay 
In this section, the cluster-based hybrid P2P overlay is introduced. The proposed 
overlay hashes the fixed attributes of distributed resources to form attribute-vectors, 
and then constructs attribute-groups and attribute-clusters. 
The attribute-vector is hashed from the attribute values of distributed resources to 
form a binary string. Because different attributes have different ranges of attribute 
values, the attribute value has to be normalized. The hash function is defined as 
follow  
2 ( - )( )
-
m V MINa af Va MAX MINa a
⎢ ⎥×⎢ ⎥= ⎢ ⎥⎣ ⎦
, (1)
where MAXa and MINa are the maximum and minimum values of attribute a 
respectively, Va is the value of attribute a, and the attribute value is represented by m 
140 Y.-F. Yu et al. 
In general, the time complexity of resource discovery in most structured P2P 
networks is O(N), where N is the number of nodes. However, because the proposed 
cluster-based hybrid overlay could be viewed as a hierarchical tree-like architecture 
with n layers, in which each central attribute-group becomes the parent node, as shown 
in Fig. 1, the time required for forwarding queries to the specified attribute-group is 
O(2n), where n is the value of different attribute types. Notice that the forwarding time 
of our proposed overlay is unconcerned with the number of resources. Due to that there 
are 2n m×  different attribute-groups, so the time complexity of resource discovery in 
most structured P2P networks is O(log 2n m× ) = O( n m× ). Thus the proposed overlay 
performs better in the resource discovery when m is greater than 2. 
 
Algorithm : Query Forwarding (query) 
Input : a query Q 
Output："MISS" or "HIT" or the next attribute groups to forward 
Begin 
1: when group G receives an query Q from group GF 
2:  if G has received Q before 
3:   drop Q ; 
4:  else if sim(Gav, Qav) = n 
5:   return HIT ; 
6:  else if G has children GC1,GC2,...GCx 
7:   for i := 1 ~ x 
8:    if sim(GCxav, Qav) > sim(Gav, Qav)  
9:     return GCx ; 
10:   if G does not has any parents 
11:    return MISS ; 
12:   else 
13:    return GP which has the maximum sim(Gav, Qav) ; 
14:  else if G has parents GP 
15:   return GP which has the maximum sim(Gav, Qav) ; 
16:  else  
17:   return MISS ; 
End 
Fig. 2. Query forwarding algorithm 
Because the population of the P2P networks changes frequently, the dynamic 
operations in the proposed overlay are discussed as follows. After the first resource is 
chosen as the central attribute-group of all the attribute-clusters, the following 
resources join the overlay by connecting with the first one, and develop their own 
attribute-groups and attribute-clusters.  
When a resource joins the cluster-based hybrid overlay, it contacts with the 
bootstrap server to get the addresses of other existing resources in the cluster-based 
hybrid overlay. Then the new joining resource generates its attribute vector and tries to 
discover the attribute-group with the same attribute vector in order to join it. After 
joining the attribute-group, the new joining resource starts to connect the central 
attribute-groups in other attribute-clusters. 
142 Y.-F. Yu et al. 
the query can be forwarded to the satisfied attribute-groups according to the query 
forwarding algorithm. 
To support the range query, this study also proposes a range query searching 
algorithm. For the partial query, users can issue the query with partial attributes without 
the remaining attributes. The randomly attributes is denoted by “∗ ” (e.g. If the values 
of the first and third attribute are “01”, and the value of the second attribute is random, 
the attribute vector is represented as “01∗ ∗ 01”), and the results of exclusiveOR with 
any other values are zero (i.e. only the same attribute value). In addition, users can 
define the attribute values within a range (e.g., 00 01 ~ 11 10). 
 
Algorithms : Range query search (range query) 
Input: a range query (an attribute vector list along with a target attribute vector)  
Output: satisfied resource 
Begin 
1: When G receives a range query RQ from GF  
2:  if G has received RQ before 
3:   drop RQ ; 
4:  else 
5:   TG := Query Forwarding (RQt) ; 
6:   if TG = “MISS” 
7:    return “There is no satisfied resource” ; 
8:   else if TG = “HIT”  // it means TG = G and sim(Gav, RQtav) = n 
9:    if G has a parent GP which sim(GPav, RQtav) = n and GP!=GF 
10:     forward RQ to GP ; 
11:     if G has children GC1, GC2, ..., GCx 
12:      for i := 1 ~ x  
13:       if sim(GCxav, RQlav) = n and GCx != GF 
14:       forward RQ to GCx ;   
  
15:     if sim(Gav, RQlav) = n 
16:      Load Balancing (Q); 
17:    else  
18:     if G has children GC1, GC2, ..., GCx 
19:      for i := 1 ~ x  
20:       if sim(GCxav, RQlav) = n and GCx != GF 
21:        forward PQ to GCx ;  
  
22:     if sim(Gav, RQlav) = n 
23:      Load Balancing (Q); 
24:   else 
25:    forward RQ to TG ; 
End 
Fig. 4. Range query searching algorithm 
Fig. 4 illustrates the range query searching algorithm. Let RQ denote a range query 
and the attribute group G receive RQ from GF. TG is the results of forwarding query 
RQ. GP and GCx denote G’s parents and children respectively. GPav and RQav are the 
attribute vectors of GP and RQ respectively. The range query RQ will be packed into an 
attribute list RQl along with a target attribute vector RQt. RQl lists all of the 
144 Y.-F. Yu et al. 
 
The scope of range query
A
v
er
ag
e 
se
ar
ch
 
tim
e 
(m
s)
30
35
40
45
50
55
60
65
10 20 30 40 50 60 70 80 90 100
Cluster-based Hybrid Overlay
Chord (with one-hop search)
(a) (b) 
The number of nodes
A
ve
ra
ge
 
se
ar
ch
 
tim
e 
(m
s)
20
25
30
35
40
45
256 1024 4096 16384
Cluster-based Hybrid Overlay
Chord
The number of nodes
A
ve
ra
ge
 se
ar
ch
 
tim
e 
(m
s)
26
26.2
26.4
26.6
26.8
27
27.2
1024 2048 4096 8192 16384
Cluster-based Hybrid Overlay
(c) (d) 
Fig. 5. (a) Example of a cluster-based hybrid overlay generated by OMNeT++ 4.0. (b) Average 
searching time in different query ranges. (c) Average search time in different nodes when m = 2. 
(d) Average search time in different nodes when n = 2. 
Table 1. Combinations of different attribute vectors 
Number of attribute-groups 256 1024 4096 16384 
Attribute vector combination n=4, m=2 n=5, m=2 n=6, m=2 n=7, m=2 
6   Conclusions  
This study proposes a cluster-based hybrid overlay by integrating the advantages of 
structured and unstructured P2P overlays. The attribute-vector preserves the original 
characteristics of distributed resources for the multi-attribute searching. The 
attribute-groups are constructed by the unstructured approach to achieve load 
balancing. The attribute-clusters connect each other to form the cluster-based hybrid 
overlay to support efficient multi-attribute range query searches. Experimental results 
show that the proposed overlay performs well and the system performance is 
independent of the number of resources. 
Acknowledgements 
This study was sponsored by the National Science Council, Taiwan, Republic of China 
under contract numbers: NSC 97-2221-E-142-001-MY3, NSC 97-3114-E-007-001- and 
NSC 98-2218-E-007 -005. 
□ 赴國外出差或研習 
□ 赴大陸地區出差或研習 
■ 出席國際學術會議 
□ 國際合作研究計畫出國 
心得報告 
計 畫 名 稱  計 畫 編 號  
報 告 人 
姓 名 
 黎士瑋 服 務 機 構 
及 職 稱 
 清華大學資工系 
 碩士生 
會議/訪問時間 
 地點 
2010/7/11~2010/7/21 
Canada, Ottawa (加拿大渥太華) 
會 議 名 稱 The 12th Annual Linux Symposium 
發表論文題目  
 
一、主要任務摘要（五十字以內） 
 
二、經過 
 
三、心得 
 
四、建議與結語 
 
五、攜回資料 
 
 
   
四、建議與結語 
參與國際會議可以讓國內的研究人員了解目前國際上相關研究的發展現況與未來趨
勢，也可以拓展其國際視野，對於國內的研究人員幫助相當大，因此國內研究人員應該
積極參與大型的國際會議。 
另外，若是國內學術單位有爭取到在國內舉辦大型國際會議的機會，不僅能促進國
際學術交流與合作，還能夠開拓國內的研究生的視野。 
六、攜回資料 
 會議流程 
 
98 年度專題研究計畫研究成果彙整表 
計畫主持人：鍾葉青 計畫編號：98-2218-E-007-005- 
計畫名稱：普及健康服務格網：以格網為基礎之個人健康服務系統(2/3) 
量化 
成果項目 實際已達成
數（被接受
或已發表）
預期總達成
數(含實際已
達成數) 
本計畫實
際貢獻百
分比 
單位 
備 註 （ 質 化 說
明：如數個計畫
共同成果、成果
列 為 該 期 刊 之
封 面 故 事 ...
等） 
期刊論文 12 9 100%  
研究報告/技術報告 0 0 100%  
研討會論文 19 15 100% 
篇 
 
論文著作 
專書 0 0 100%   
申請中件數 0 0 100%  專利 已獲得件數 0 0 100% 件  
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 24 24 100%  
博士生 12 12 100%  
博士後研究員 0 0 100%  
國內 
參與計畫人力 
（本國籍） 
專任助理 1 1 100% 
人次 
 
期刊論文 0 0 100%  
研究報告/技術報告 0 0 100%  
研討會論文 0 0 100% 
篇 
 
論文著作 
專書 0 0 100% 章/本  
申請中件數 0 0 100%  專利 已獲得件數 0 0 100% 件  
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 0 0 100%  
博士生 0 0 100%  
博士後研究員 0 0 100%  
國外 
參與計畫人力 
（外國籍） 
專任助理 0 0 100% 
人次 
 
