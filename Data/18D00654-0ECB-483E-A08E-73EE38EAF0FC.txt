 中頻和低頻係數，以將資訊隱藏於中頻帶
之中。一般而言，頻率域的技術需要較多
的計算處理。方法有快速傅立葉轉換(Fast 
Fourier Transform) 、 小 波 轉 換 (Wavelet 
Transform)、數位餘弦轉換(Discrete Cosine 
Transform) [2]。在本研究中，我們將利用
空間域的資訊隱藏技術，將機密影像藏於
分享影像中。 
2.3  資訊分享技術 
資訊分享這個技術的觀念，起源於古
代航海時期，海盜興起，海盜們怕若是僅
由一人保管藏寶圖，寶藏容易被他所獨
佔。所以，海盜便把藏寶圖分成一人一小
片的形式，來分散風險。 
到了數位影像的時代，首先由 Noar
和 Shamir [7]提出黑白機密影像的分享。
他們的方法產生 n 張密碼影像，其中只要
擁有 k 張密碼影像，即可還原機密資料，
我們稱為(k, n)-threshold 視覺式秘密分享
機制（visual secret sharing scheme, VSS）。
他們所提出的加密方法使用了像素擴展的
技巧，利用黑點和白點不同的排列，讓重
疊的結果，會產生 50%和 100%的黑，放
在一塊使顏色產生視覺上的差異性，以看
出黑白機密影像。 
Noar 和 Shamir[8]提出一個彩色資訊
分享的方法，將每一個像素擴展成 b 倍，
即能隱藏紅色、黃色和透明色。但是，他
們的方法，隱藏顏色數太少，而且他們產
生的分享圖片就多達 2b 張，每一方都要持
有 b 張分享圖片，太過麻煩。 
後來，Verheul 和 Van Tilborg[6]二位
學者所提出一個將具有 c 種顏色的機密影
像分解成 n 張分享影像，取其中 k 張疊合，
便會還原回原來的機密影像的方法，稱之
為 k out of n c-color VSS scheme。他們將
一個像素擴展為 b 個，並產生 c 個 bn× 的
矩陣（M0, M1, …, Mc-1）。每個矩陣 Mi 取 k
列以上疊合的向量 v，會有一個像素解出
其顏色 i，其餘皆只能看到黑色。利用這
種方式，他們將每一顏色藏入分享影像
中。但是，這個方法最大的缺點是像素擴
展要放大到 c×3 倍，也就是當分享的顏色
愈多，像素擴展就愈大。後來，由 Yang
和 Laih[3]像素擴展改進到 c×2 ，但是依
然有此問題。 
Rijmen和 Preneel [9]則提出應用於彩
色影像(2,2)-threshold 的方法。他們將每個
像素擴展成 22× 的區塊，每個區塊中都有
四個顏色，分別是紅、緣、藍和白。故各
張分享呈現亂碼圖，以達到保密的效果。
Rijmen 和 Preneel 認為此方法可藏入 242
種顏色。但是，在實際情況下，會低於 242
種顏色變化，依然無法滿足全彩圖片 1677
萬色的需求。 
Chang [5]等人提出將機密影像的顏
色，共有 c 色，一一存入顏色索引表（Color 
Index Table）中。並且建立於分享圖片中
擴展像素 M= tt × ，而 M 要滿足方程式：
1
2
+⎥⎦
⎥⎢⎣
⎢< Mc 。並且將機密影像的各個像
素，依照機密影像的顏色索引值 Nij，使
用交集(AND)運算，讓分享影像 V1ij、V2ij
每一個擴展像素中，有 1
2
+⎥⎦
⎥⎢⎣
⎢M 個為入塗
上顏色，以求得二張分享影像。但是，在
這個方法中，最多只能隱藏五個顏色的圖
片，並且需要另外傳送顏色索引表。 
Chang [4]等人提出了另一個方法，要
將一張 256 色的彩色機密影像分享到 n 張
影像。首先，將機密影像中的每一個像素
擴展成一個 33× 的擴展區塊，運用互斥或
（XOR）運算，產生一個布林陣列 S = [Sij] 
( 91,1 ≤≤≤≤ jni )，並且將像素顏色值
k 隱藏於 S 中。在 S 中的每一條列（Row），
皆保持五個 1 和四個 0。當陣列 Sij 值是 1
時，在第 i 張分享圖片之擴展區塊中的第
j 個像素，填入掩蓋影像對應像素的顏色；
若陣列 Sij 值是 0 時，他的顏色是白色。
所以，當我們要反運算回機密影像時，只
要收集分享影像中的布林陣列 S 、r 值和
seed 值，運用互斥或運算即可回復機密影
像。此方法的缺點，除了傳送分享影像外，
還需要額外傳送 r 值、seed 值和色盤等其
它的資訊才能回復機密影像。而且，他的
方法只能隱藏 256 色的機密影像，無法滿
足全彩圖片 1677 萬色的需求。 
侯永昌[1]等人，則提出一個能隱藏
256 色的影像分享技術。他是將每個像素
擴展成 33× 的區塊，利用交集和聯集的運
算將機密影像的資料分享到掩蓋影像中，
並且利用遮罩將分享影像打亂。雖然他可
表示出全彩顏色，但是，運算繁瑣，總共
需要二張分享影像和一張遮罩，才能得到
機密影像。而且若他不另外做一張遮罩，
當目標區塊中大部分為 0，又剛巧要做聯
集運算或大部分為 1，又剛巧要做交集運
算時，在分享影像中都容易露出色塊邊界
 和分享區塊 2 同時填入 1。剩下的(8-n) - 
(5- ⎥⎥
⎤⎢⎢
⎡ +
2
9Bn )個 0 的位置上，分別在分享
區塊 1 和分享區塊 2 同時填入 0。 
分享區塊 1 和分享區塊 2 的第 9 個位
元的值則視 n 和 B9 的值而定。如果 n 為奇
數，而 B9 的值為 1，則分享區塊 1 和分享
區塊 2 的第 9 個位元分別填入 1 和 0；反
之，當 B9 的值為 0，則分享區塊 1 和分享
區塊 2 的第 9 個位元分別填入 0 和 1。如
果 n 為偶數，而 B9 的值為 1，則分享區塊
1 和分享區塊 2 的第 9 個位元都要填入 1；
反之，當 B9 的值為 0，則分享區塊 1 和分
享區塊 2 的第 9 個位元都要填入 0。 
此時不論 n為偶數或是奇數，其 Color 
bit 為 1 或是 0，四個情況(整理成表 3)都
能保持 5 個 1 和 4 個 0，不會露出馬腳，
以致於讓人猜不出分享區塊內是由奇數個
1 或是偶數個 1 所組成，可以保證其安全
性。在本研究中我們將像素值為 1 者，保
留掩蓋影像原本像素的顏色，圖例中以F
表示；若是分享區塊中的像素為 0 者，我
們將其像素顏色改為指定顏色，圖例中以
J表示。 
表 3 資訊分享的四種情況 
n
值 
Color 
Bit 
目標區塊 
分享區塊
1 
分享區塊
2 
4 0 
 
  
  
  
101010100 
 
   
   
   
111101000
 
010111100
4 1 
 
  
  
  
101010101 
 
   
   
   
011110001
 
110100101
5 0 
 
  
  
  
101010110 
 
   
   
   
111110000
 
010100111
5 1 
 
  
  
  
101010111 
 
   
   
   
011110001
 
110100110
復原的步驟，只要將二張分享圖片的
前八個位元做 XOR 的運算，以求得每一
個擴展區塊的顏色索引值。在分享影像 1
中，第 9 個位元就是色盤的 Color Bit，累
積足夠的 Color Bit 就可以還原成色盤的
資料。依其顏色索引值指標，查詢其三原
色的色值，即可還原機密圖片的顏色。 
3.2  隠藏 256 色全彩機密影像演算法 
以下即為完整的 256 色機密影像隱
藏演算法的詳細步驟： 
1. 首先，由機密圖片 P 中，取出 256 色
的色盤資料。每一個顏色皆不重覆地
紀錄其 R、G、B 的值於色盤中。 
2. 將色盤中 256 色的 R、G、B 轉換成
各 8 個位元的二進制表示法，每一個
顏色用 24 (8*3)個位元來表示，總共
有 256 * 24 = 6144 (bit)。 
3. 執行步驟 4-6，直到所有像點均處理
完畢。 
4. 取出 P 上每一像素 Pij，1 ≦ i ≦x，1 ≦ 
j ≦ y，於色盤中查詢其顏色所對應的
二進制索引值(八個位元)，並依序補
上一個 Color bit，成為共九個位元(B1 
~ B9)，若是分享影像的大小超過 6144
像素，我們則以隨機的方式，產生 1
或是 0，成為 Color bit (B9)。 
5. 針對二張掩蓋影像 S1 和 S2 的每一個
像素 S1ij、S2ij，分別產生對應的 9 個
位元，假設為 TS1k、TS2k，k = 1, …, 9。 
5.1. 計算 B1 ~ B8 中，有多少個 1 出現，假
設為 n。在 n 個 1 的位置上，任選其
中的 ⎥⎥
⎤⎢⎢
⎡ −
2
9Bn 個位置，將對應位置中
的 TS1k 設為 1，TS2k 設為 0。在剩下
的 ⎥⎦
⎥⎢⎣
⎢ +
2
9Bn 個 1 的位置上，將對應位
置中的 TS1k 設為 0，TS2k 設為 1。而
在 8-n 個 0 的位置上，任選其中的
5- ⎥⎥
⎤⎢⎢
⎡ +
2
9Bn 位置，將對應位置中的
TS1k 和 TS2k 同時設為 1。剩下的(8-n) 
- (5- ⎥⎥
⎤⎢⎢
⎡ +
2
9Bn )個 0 的位置上，將對
應位置中的 TS1k、和 TS2k 同時設為 0。 
5.2. if  n mod 2=1         //n 為奇數 
if   Color bit=1，則 TS19=1，而 TS29=0 
else Color bit=0，則 TS19=0，而 TS29=1 
 else  n mod 2=0       //n 為偶數 
if   Color bit=1，則 TS19=1，而 TS29=1 
else Color bit=0，則 TS19=0，而 TS29=0 
 圖 6 分享影像 1 
 
圖 7 分享影像 2 
 
圖 8 機密影像 
4.2  安全性分析 
由以上的方法可以看出，我們的做法
不但可隱藏 256 色，更可進階到全彩 1677
萬色。而且，在隱藏過程中，我們的分享
影像為有意義的影像，可以減低了截取者
的懷疑。並且產生的分享影像，每一個區
塊，皆是 5 個原來的色點和 4 個遮蓋顏色，
令人不容易產生懷疑或是能推測出任何機
密影像的蛛絲馬跡。從分享影像上來看，
完全就是真實的影像，並不會看出任何端
倪，即使拿到二張分享圖片，從外觀上依
然無法猜機密影像為何。 
再來，不用另外傳送色盤，也提供了
資料的安全性。若截取者未截取到色盤資
料，可能得到此分享圖片也無破解頭緒。
所以，我們將色盤分散在各擴展區塊中，
是相當安全的作法。並且其它未被分配到
色盤資料的部份，我們也以亂碼填上，讓
截取者無法推測何者為色盤的真正資料。
若要猜對一個像素，需在對應的擴展區塊
3*3 中，猜對正確的遮罩顏色位置，這有
9
4C =126 個選擇。在一個擴展區塊中，要
完全猜對我們的組合，機率只
126
1
 = 
126 1− 。所以，當你僅僅獲得一張分享圖
片時，你要猜對 p 個像素，機率為 126 p− 。
也就是說，要完全猜中一張機密圖片的機
率幾近於 0。 
這個方法，一定需要二張分享圖片，
疊合運算才能得到機密影像。若是其中一
張被截取者破壞、失真、添加其它資訊，
則將無法回復機密影像。所以，當我們收
到二張無法運算出機密圖片的分享圖片，
即可知道我們的分享圖片已遭人攻擊。就
不會誤用了偽造的資訊。 
5  結論 
和前人方法比較的結果整理於表 
4，我們可以看到，和 Verheul 和 Van 
Tilborg[6]比較，他的方法雖能表現出全彩
的機密圖片，但是，他的擴展像素過於大，
光是一張分享圖片，即比原圖放大了 768
倍。同樣的問題，也出現在 Yang 和 Laih[3]
的方法中，他們的一張分享圖片，即放大
了 512 倍。 
Rijmen 和 Preneel [9]、Chang 和 Yu [4] 
及 Chang 等人 [5]的方法，則是分享過少
的顏色，在現在全彩的電腦世界，完全不
足以應付，色彩的變化。 
而和侯永昌[1]的方法、Chang 和 Yu 
[4]及 Chang 等人 [5]的方法比較下，我們
的方法比他們的方法少傳了遮罩、色表及
其它額外的資訊。 
和前人的方法比較下，我們的方法不
但是分享影像張數最少，分享顏色卻是最
多，擴展像素最少。並且我們的方法不需
另外傳送遮罩或是色表。而且每一單位區
塊，有相同數量的遮罩顏色，完全看不出
其機密為何，安全性是相當高的。 
表 4 實驗比較結果 
作者 分享顏色 分享張數 擴展像素 
最多分享顏
色 
本研究 256 2 9 全彩 
Verheul 和 Van 
Tilborg [6] 256 2 768 
全彩 
參加 The 3rd International Symposium on Communications, 
Control, and Signal Processing (ISCCSP2008)心得報告 
淡江大學資訊管理系  侯永昌 
 
一、參加會議經過 
The 3rd International Symposium on Communications, Control, and Signal 
Processing (ISCCSP2008)是由 IEEE Circuits & Systems Society和 IEEE Signal 
Processing Society所贊助的國際研討會，會議於 2008年 3月 12至 15日在馬爾他
(Malta)的 St. Julians市舉行，由馬爾他大學(University of Malta)主辦，會議場地選
在 Le Meridien Hotel。本次大會共有 4個會場同時舉行，有來自 36個國家的學者
專家，發表 302篇研究論文，分為 36個場次，另外還有 6場 plenary speech和 6
場 poster session。此次會議吸引全球 500多篇論文的投稿，最後只錄取 302篇研究
論文在會議中發表，接受率約為 60%，是一個品質相當嚴謹的國際性會議。會議
涵蓋的領域有：Space-Time Coding、Image Processing、Video and Multimedia Signal 
Processing、Biomedical Signal and Image Processing、Speech and Audio、Mobile and 
Wireless Communications、OFDM and CDMA、Discrete and Hybrid systems、Networks 
and Quality of Service、DSP For Communications、Signal Processing and 
Applications、Control Applications、Adaptive and Non-Adaptive Filtering and 
Implementations Applications、yyy 等 20多個主題，參加者可以自由選擇有興趣的
主題來聽講。此次會議的內容豐富，兼具理論及實務，提供參加人士了解多媒體
與網路信號處理技術之現況及未來發展的趨勢。筆者的論文「Block Truncation 
Coding by Using Genetic Algorithm」被安排在 3月 14日 10:20 – 12:00的「Signal 
Processing II」分組中發表，並與數位聽講學者交換意見，研究內容獲得主持人、
評論人及與會人士相當的肯定。 
 
