 2
擬，因此，我們的目標是開發一套規模很大的軟體，而不是獨立的、片段的功能。要開發
這樣的軟體，需要軟體工程能力的配合，才能順利完成。 
本計畫系統架構如圖 1 所示，整個模擬系統分為 12 個子系統(子計畫)。為確保各子系
統能順利整合，本計畫由本校軟體中心承辦。軟體中心整合軟體研發人力與資源，並統一
規劃子系統進行軟體開發時所需之流程框架，提供子系統開發人員必要的軟體工程技術訓
練與工具。在這個跨領域的合作計畫中，所有子計畫共同遵循符合 CMMI ML2 的軟體開發
流程，使用相同的計畫產出物規範，與專案管控模式，以提升軟體工程能力與軟體的品質。 
 
WiMAX實體層通道編碼
軟體模擬平台
WiMAX實體層
調變軟體模擬平台
WiMAX網路服務品質架構與其軟
體平台之設計
WiMAX電波傳播特性與
通道統計特性軟體模擬平台
WiMAX系統嵌入式Linux收斂及
安全架構平台之設計
WiMAX系統多輸入多輸出
架構軟體模擬平台
Linux TCP/UDP over IP
WiMAX系統之即時影像與
視訊傳輸
WiMAX系統上適地性服務
系統之開發
Linux Driver
Video
MAC1
SISO
PHY2
MAC2
PHY1
MIMO
LIS
通訊軟體發展之持
續整合系統
JCIS
通訊軟體參考模型
建立之支援工具
CSRM
WiMAX
實體層之FPGA
硬體驗證
FPGA
SPMT
WiMAX系統效能
管理與測試工具
 
圖 1 系統架構 
 
 
二、系統架構與實作 
 
本計畫分為三個分項：分項一「WiMAX 應用軟體」開發兩套應用軟體；分項二「WiMAX
模擬系統」開發一個模擬系統 (以下稱為本系統)；分項三開發「通訊軟體開發輔助工具」，
提供專案管理、分析、測試與監控的能力，提高軟體開發效益。三個分項共 12 個子系統，
依訊息傳送的縱向關係與支援工具的關係進行整合，如圖 1 所示。 
圖 1 實線代表本系統進行 WiMAX 網路模擬時，實際網路資料的流動，其他則代表子
系統對於其他子系統的支援。WiMAX 系統即時影像及視訊傳輸(VIDEO)與 WiMAX 系統上
適地性服務系統(LIS)提供兩種不同的 WiMAX 網路應用；WiMAX 網際服務品質架構與其
軟體平台(MAC1)、WiMAX 系統嵌入式 Linux 收斂及安全架構平台之設計(MAC2)、WiMAX
實體層通道編碼軟體模擬平台(PHY1)、WiMAX 實體層調變軟體模擬平台(PHY2)、WiMAX
 4
的程式在開發階段，就能搭配 JCIS2，每天進行 Daily Build 及 Regression Test 的持續整合
開發。 
JCIS2 透過版本管理系統(Subversion)取得每日簽入的程式碼，進行編譯與建置，並自
動執行所有的單元測試，然後建立系統相關的報表與數據，使得的系統開發人員可以輕易
的得到持續整合的益處，讓整個開發團隊盡早發現子系統整合上的缺陷與問題，避免程式
開發後期，子系統間無法整合的困難。此外，藉由 JCIS2 產出的分析報表，專案管理者可
以有效地掌握目前程式開發的進度，並做有效地監控。 
  
 
圖 2 JCIS2 每日整合報表 
 
四、成果 
 
本計劃(第二年)完成 WiMAX 網路[1]固定位置使用者(802.16-2004)、雙向、點對多點服
務的模擬(emulation)系統。模擬時分為 Base Station (BS)與 Subscriber Station (SS)兩端，應用
程式可以使用模擬系統將訊號由 BS 傳至 SS、 SS 傳至 BS，或由 SS 傳至 SS。 
 
     
      (a) 設定參與模擬的數量以及參數               (b) 啟動模擬 
圖 3 主控台(Console)執行畫面 
 
模擬軟體的主控台(Console)執行畫面如圖 3 所示。系統將主控台、監控(Monitor)功能
與實際模擬 WiMAX 網路(BS 或 SS)的代理人(Agent)分開，並透過網路連接。主控台可以設
定參與模擬的 BS 及 SS 數量，以及模擬時所需之參數，設定完成後對代理人進行初始化，
此時代理人會依據主控台的命令調整腳色與子系統的設定。完成初始化後，模擬系統可以
啟動模擬，也可以暫停(Pause)模擬；模擬過程中，監控功能可以透過主控台開啟或是關閉，
 6
供服務。 
     
 
圖 6 MAC1 子系統模擬監測與分析機制執行結果 
 
    MAC1 子系統主要的工作重點為 WiMAX 網路 QoS 系統架構之設計與其網路軟體模擬
平台之實現，本年度完成以下五項主要的工作項目：(1) 服務流訊息交握機制之設計；(2) 連
線允入控制機制之設計；(3) 動態上下行頻寬調整機制之設計；(4) 模擬監測與分析機制之
設計(如圖 6)；(4) 與 MAC 層中 CS, SS 子層之垂直整合。 
 
 
圖 7 MAC2 子系統解密運作過程 
 
MAC2 子系統主要的工作重點為 WiMAX 規格所制定之 MAC 層中安全子層的實作內
容。依序完成的主要三個工作內容包含：(1) Authentication 的驗證交換及產生金鑰；(2) 金
鑰管理機制以負責各類金鑰的交換、更新、驗證及新增；(3) 資料加密系統以提供各類不同
的加解密、簽章、認證演算法，如圖 7 所示。 
PHY1 子系統已經第一年的計畫中完成 802.16-2004 規格中 OFDM 實體層 RS-CC 通
道編碼的其中一種傳送速度的通道編/解碼自由軟體的撰寫。今年我們擴充原有的通道編/
解碼軟體以包含 802.16-2004 OFDM 實體層規格中所有必要(mandatory)傳送速率的通道編/
解碼功能；我們並且撰寫在基地台傳送端可以產生 FCH、DL-MAP 及 UL-MAP 等控制封包
(MPDU)的軟體及在用戶接收端可以解讀這些控制 MPDU 的軟體，以支援總計畫點對多點，
上下行傳輸的目標。完成的軟體與 WiMAX 實體層調變軟體模擬平台和 WiMAX 電波傳播
 8
preamble 完成 channel estimation；與「WiMAX 實體層通道編碼軟體模擬平台」子計劃共同
完成雙向點對多點傳輸；以及完成嵌入式平台硬體之初步建置(單向)。圖 9 所示為 WiMAX
訊號在 Rayleigh 衰落通道中，未使用及使用通道估測（及補償）後之 constellation，由圖 9
可知，我們的通道估測及補償程式，基本上可以運作，且對解碼之正確性產生極大影響。 
  
 
 
圖 10 CHN 模擬電波於空氣中之傳播特性 
 
CHN 子系統完成路徑損失、遮蔽效應、時間選擇性通道、頻率選擇性通道、相加性白
色高斯雜訊等通道效應之模擬，並將這些效應加以整合起一個完整的通道平台，且這個平
台可針對不同環境參數（如載波頻率、訊號頻寬、傳接端高度等）和不同的地理位置（如
郊區、都市等）選擇不同的通道模型加以模擬實際通道。而於整體計畫整合部份，由 PHY2
（傳送端）將調變後訊號經過 CHN 子系統模擬通道並將整體系統所在的地理環境參數輸入
至 CHN 子系統，這時 CHN 子系統的通道平台會針對輸入參數適應性地模擬出一個模擬通
道，然後再將經過模擬通道衰落的訊號回傳給 PHY2（接收端）再做解調變的工作。圖 10
分別為雜訊功率頻譜密度，時間選擇性快速衰落通道，路徑衰減，和產生頻率選擇性衰落
之功率延遲剖面，由圖 10 之模擬結果，足以說明本子計劃模擬之正確性。 
 
0 2 4 6 8 10 12 14 16 18 20 22 24
10-4
10-3
10-2
10-1
100
SNR
BE
R
QPSK
 
 
SISO
STBC
2X2-ZF
3X3-ZF
4X4-ZF
0 2 4 6 8 10 12 14 16 18 20 22 24
0
5
10
15
20
25
SNR
Th
ro
ug
hp
ut
(M
bp
s)
QPSK
 
 
SISO
STBC
2X2-ZF
3X3-ZF
4X4-ZF
 
(a) 位元錯誤率之效能圖                 (b) 傳輸率之效能圖 
圖 11 各 MIMO 系統之效能分析模擬 
 
 10
SPMT 子系統負責 WiMAX 系統模擬監控與資料統計 (包含允入控制、頻寬分配、封
包排程、錯誤更正碼、調變訊號、通道雜訊等化訊號、路徑損失效應、快速衰落統計特性、
AWGN 等)，以及單層模擬結果之監控管理(含網路服務品質、實體層、通道層)，藉此協助
監控和改善 WiMAX 系統的效能與品質。圖 14 由左至右分別為全系統監控所獲得的網路服
務品質、以及單層模擬實體層和通道層之監控結果。 
CSRM 子系統可以幫助通訊軟體開發者建立原始碼與規格書之間的連結知識，讓其他
開發人員能透過這個參考模型，有效縮短開發通訊軟體所需的學習時間。此外，CSRM 使
用標記技術保存知識，透過建立原始碼、規格書與參考模型三者之間的關係，使得通訊軟
體的開發人員能隨時將當下的學習記錄下來，彈性的連結關係，方便、快速的建立與使用
標記，讓開發人員專注開發或維護軟體，努力加強軟體的品質。圖 13 為 PHY 子系統使用
本工具的成果。 
 
 
圖 13 使用 CSRM 建立 PHY 參考模型與規格書之間的連結關係 
 
五、結論 
 
本計畫執行自由軟體：「WiMAX 無線網路系統模擬軟體」的開發。其功能涵蓋兩個
WiMAX 應用與 WiMAX 網路通訊協定規格中所制定的各種層級(layer)的模擬，並且整合為
一個完整的 WiMAX 網路模擬軟體，作為業界開發 WiMAX 相關產品的參考模型。計畫成
果(含原始程式)已公開，歡迎任何對於 WiMAX 網路或 WiMAX 網路模擬有興趣者，至自由
軟體鑄造廠下載[7]。在開發過程中，軟體工程扮演很重要的角色。我們使用符合 CMMI ML2
所要求的軟體開發流程，以減少各子系統間不同領域互相合作的困難，並透過 JCIS2(持續
整合系統)及 CSRM(通訊軟體參考模型)兩個子系統的輔助大大地減少了系統開發階段及系
統整合階段所花費的時間。 
 
