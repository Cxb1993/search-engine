  I 
摘要 
 本研究以六標準差的 DMADV 方法開發一可應用於離岸風力發電場的智慧
型線上模擬及診斷系統的理論模式和軟體架構，並驗證系統及修改所建立的貝氏
網路模型和軟體架構，來處理風力發電機故障損壞的問題，以提昇風機穩定度，
降低風機的維護成本，增加風機的妥善率，以因應未來離岸大型風力發電場建立
後的最有效能的營運模式。 
而診斷其組件狀態時，是藉由偵測風力發電機的軸承以及齒輪箱振動訊號，
以進行故障診斷，並藉由實驗數據建立頻譜與故障情況之間的關係。實驗操作上
將建立齒輪軸承轉子實驗平台，用以模擬出三種齒輪故障訊號，包括齒輪不平
衡、齒輪斷齒以及軸不平行等，並將時域訊號作快速傅立葉轉換取得頻譜訊號，
再從中擷取頻譜特徵作為診斷依據。透過 K 平均法以及貝氏網路別分進行分析。
分析結果顯示，採用貝氏網路分析時，有著明顯優於 K 平均法的準確率，且貝
氏網路的平均準確率高達 90%以上。 
實作風力發電機故障診斷網站則以延伸式標籤語言 (Extensible Markup 
Language, XML)為基礎開發的資訊系統包含了：運用 X3D(Extensible 3D)動態模
擬及使用 AJAX(Asynchronous JavaScript and XML)技術實作線上營運診斷系統。 
 
關鍵字：六標準差、風力發電、故障診斷、快速傅立葉轉換、K 平均法、 
貝氏網路、XML、X3D 
 
 
 
  III 
 
目錄 
摘要...................................................................................................................... I 
目錄................................................................................................................... III 
1. 前言.............................................................................................................. 1 
1-1 研究目的 ........................................................................................... 1 
1-2 研究方法 ........................................................................................... 1 
2. 研究理論.................................................................................................. 3 
2-1 六標準差的方法 .............................................................................. 3 
2-1-1 兩大方法概述 ....................................................................... 3 
2-1-2 DMAIC.................................................................................. 4 
2-1-3 DMADV................................................................................ 5 
2-2 類比數位訊號轉換與取樣定理 ...................................................... 6 
2-3 傅立葉轉換(Fourier Transform) ...................................................... 8 
2-4 資料分群診斷方法 ........................................................................ 11 
2-4-1 分群與分類(Clustering and Classification)........................ 11 
2-4-2 K 平均演算法(K-means Algorithm) .................................. 11 
2-5 貝氏診斷方法 ................................................................................ 12 
2-5-1 貝氏定理(Bayesian Theorem) ............................................ 12 
2-5-2 簡易貝氏分類器(Naïve Bayesian Classifier)..................... 13 
2-5-3 TAN (Tree-Augmented naïve Bayesian Network).............. 15 
2-5-4 最大似然法則(Maximum Likelihood) ............................... 16 
2-5-5 貝氏網路(Bayesian Network)............................................. 16 
3. 六標準差應用於風機故障診斷................................................................ 18 
3-1 DMADV 流程於風機故障診斷 .................................................... 18 
3-2 D（Define）定義 .......................................................................... 18 
3-3 M（Measure）量測....................................................................... 18 
  V 
 
圖目錄 
圖 1 DMAIC 與 DMADV 之比較 .....................................................................4 
圖 2 振動訊號時域圖.........................................................................................7 
圖 3 類比訊號取樣.............................................................................................7 
圖 4 振動訊號頻譜圖.........................................................................................9 
圖 5 短時傅立葉轉換之時頻圖.......................................................................11 
圖 6 K 平均演算法虛擬碼................................................................................12 
圖 7 簡易貝氏分類器之訊號特徵值間互相獨立...........................................15 
圖 8 TAN 結構...................................................................................................15 
圖 9 正齒輪組(23 齒、51 齒)...........................................................................19 
圖 10 不平衡頻譜特徵.....................................................................................22 
圖 11 斷齒頻譜特徵..........................................................................................23 
圖 12 不平行頻譜特徵......................................................................................23 
圖 13 滾動軸承.................................................................................................24 
圖 14 深溝滾珠各部位名稱.............................................................................24 
圖 15 三軸向加速規與 B&K 3650頻譜分析儀................................................26 
圖 16 深溝滾珠軸承與鋁合金正齒輪組(23 齒，51 齒) ................................27 
圖 17 齒輪軸承轉子系統設備圖.....................................................................28 
圖 18 加速規校正..............................................................................................29 
圖 19 透過游標尺量測精確度及平台俯視圖.................................................29 
  VII 
圖 41 不平衡特徵頻率......................................................................................42 
圖 42 軸不平行.................................................................................................43 
圖 43 不平行頻譜圖.........................................................................................44 
圖 44 不平行特徵頻率.....................................................................................44 
圖 45 加速規放置被動軸右軸承上.................................................................46 
圖 46 故障診斷 TAN 結構之貝氏網路...........................................................50 
圖 47 加速規放置處.........................................................................................53 
圖 48 系統主頁面.............................................................................................61 
圖 49 選擇測試數據.........................................................................................62 
圖 50 各運作情況故障機率.............................................................................63 
圖 51 風機 3D 模擬初使頁面..........................................................................64 
圖 52 故障時齒輪箱元件的顏色轉為紅色.....................................................64 
 
 
 
 
 
 
 
 
 
  IX 
表 20 變轉速測試結果之四.............................................................................60 
  2 
 
表 1 DMADV 應用於風力發電機故障診斷 
DMADV 五 階
段 
各階段內容大要 
Define 
定義階段 
定義 
-定義振動訊號為風機損壞的主要監測訊號。 
Measure 
量測階段 
量測 
-收集風機各種零件故障損壞的振動訊號特徵。 
Analyze 
分析階段 
分析 
-分析數據並選擇適用的演算法以符合現有資
料。 
Design 
設計階段 
設計 
-設計故障模擬實驗。 
Verify 
驗證階段 
驗證 
-使用實際的實驗數據驗證理論。 
 
 
 
 
 
 
  4 
 
圖 1 DMAIC 與 DMADV 之比較 
 
2-1-2 DMAIC 
DMAIC 法是指推動六標準差的五個階段，見表 3。 
 D（Define）：確認顧客需求並訂定專案目標 
 M（Measure）：現狀分析與數據收集 
 A（Analyze）：分析問題的關鍵因子 
 I（Improve）：改善流程並且擬定評估解決問題的對策 
 C（Control）：控制維持改善後新流程之成效 
 
 
  6 
表 4 DMADV 
Define（界定） 界定問題、流程 
Measure（衡量） 透過從流程收集到的資料，來衡量問題的程度 
Analyze（分析） 分析資料與流程，以找出造成的問題的原因為何 
Design（設計） 創新流程並且設計排除問題的機制，以確保問題不再發生 
Verify（驗證） 實際運作衡量與檢查，來驗證新流程的成效 
 
若以 DFSS 的觀點來看，DMADV 法就是指出與釐清將致力於哪些事項，確
定要如何加以衡量，分析整個狀況，詳細地做出設計，以及檢驗與執行新的流程。 
 
2-2   類比數位訊號轉換與取樣定理 
類比數位訊號轉換(Analog to Digital)與取樣定理在訊號處理中是很重要的
一環，它將訊號從連續時間域的類比訊號(Continuous Time Domain Analog signal)
轉換到離散時間域的數位訊號(Discrete Time Domain Digital signal)。類比轉數位
轉換包括取樣(Sampling)和量化(Quantizing)兩個步驟:取樣是將類比訊號 )(tx 按
照一定的間隔時間逐點取其訊號在當時的值，稱作取樣值，如圖 3 所示。透過取
樣，便可將連續時間域的類比訊號 )(tx 轉換成非連續的數位訊號 )(nTx ，T 為取
樣週期；量化則是將取樣訊號量化為有限位準的取樣值，使得取樣值可以用數位
編碼進行表示，以便於數位訊號處理。由於數位訊號的位元是有限的，因此造就
了無法避免的量化誤差。然而誤差大小與數位訊號位元呈現負相關，即位元越
多，量化誤差就越小。 
  8 
取樣定理(Sampling Theorem)： 
max2 ff s ≥       (1) 
振動訊號在時域上即是一連續的類比訊號，為便於實驗上使用數位訊號進行
分析，必須將其進行類比數位轉換。 
 
2-3   傅立葉轉換(Fourier Transform) 
凡是存在週期性質的訊號函數都能分解成一系列簡單正弦波的線性組合，經
過合成後便產生可分析的週期性訊號。這表示著傅立葉轉換可將時域訊號從時間
域(Time Domain)轉換至頻率域(Frequency Domain)，也就是將時域圖轉換成頻譜
圖，以進行頻譜分析(Spectrum  Analysis)。頻譜分析是訊號處理的主要內容之
一，也是故障診斷的重要知識基礎，常用在旋轉機械的訊號分析，而風力發電機
就是典型的旋轉機械。 
一般來說，若是沒有特別指定，傅立葉轉換指的是連續傅立葉轉換。這是將
時域訊號 )(tx 表示成頻域訊號 )( fX 。 
 
連續傅立葉轉換(Fourier Transform)： 
∫
∞
∞−
−
= dtetxfX ftj pi2)()(      (2) 
連續傅立葉轉換逆轉換(inverse Fourier Transform)： 
∫
∞
∞−
= dfefXtx ftj pi2)()(      (3) 
  10
 快速傅立葉轉換可應用於穩態的訊號，或是將暫態的訊號以平均的方式濾
掉，當面臨非穩態或時間極短的訊號時，則須考慮短時傅立葉轉換(Short Time 
Fourier Transform，STFT)。在短時傅立葉轉換中，將時間訊號 )(tx 與一函數 )(tη
作內積，其中 )(tη 通常指的是一極短的時間長度，稱之為視窗函數。假設訊號在
分析窗的時間內是穩態的，透過短時窗在時間軸上的移動，可以得到訊號的局部
頻譜，在訊號 )(tx 上擷取多段局部頻譜，即可得到隨著時間變化而改變的局部頻
譜，即非穩態訊號的時變特性。 
 
短時傅立葉轉換(Short Time Fourier Transform): 
 
∫
∞
∞−
−
−= dtetttxtSTFT tjωηω )'()(),(      (5) 
 
  
短時傅立葉亦可離散化處理，如下公式所示。其中 )(kz 離散信號的第 k個採
樣值，m 及n分別表示為離散化的採樣點於時間和頻率之指標，n為窗函數 )(tη
的長度。 
離散短時傅立葉轉換(Discrete Short Time Fourier Transform): 
 
∑
∞
−∞=
−
−=
k
jnk
z
LemkkznmSTFT
piη 2)()(),(     (6) 
  12
法成為最常被使用的分群方法之一。 
 
Initialize kimi ,...,1, =  for example, to k  random tx  
Repeat 
 For all Xx t ∈  
  


 −=−
=
otherwise
mxmxifb j
t
ji
t
t
,0
||||min||||,1
1  
 For all kimi ,...,1, =  
  im   
t
t
t
i xb∑ /∑
t
t
ib  
Until im  converge 
圖 6 K 平均演算法虛擬碼[9] 
 
2-5   貝氏診斷方法 
2-5-1 貝氏定理(Bayesian Theorem) 
當觀察到振動訊號特徵 x 時，令 c 為一故障類型，則條件機率(Conditional 
Probability) )|( xcp 可表示為 
條件機率(Conditional Probability): 
)(
),()|(
xp
xcp
xcp =
                  (6) 
  14
於故障類別 ic 的機率為 )(
)|()()|(
Xp
cXpcpXcp iii = 。 
若訊號特徵 X 分類至故障類別 ic ，則若且為若， )}|({maxarg Xcpc Cci ∈= 。 
簡易貝氏分類器(Naïve Bayesian Classifier)是貝氏分類法中最簡易的一種，有
著一個強烈的前提假設，假設訊號特徵值之間是互相獨立的，也就是說，簡易貝
氏分類器假設任意訊號特徵的出現，並不會影響其它訊號特徵出現的機率。根據
此假設可將式子(9)改寫為 
)(
)|()(
),...,,(
)|()....|()|()|()(
),...,,(
),...,,,|()....,,|(),|()|()(
)|(
1
21
321
21
121213121
Xp
cxpcp
xxxp
cxpcxpcxpcxpcp
xxxp
xxxcxpxxcxpxcxpcxpcp
Xcp
m
j
iji
m
imiiii
m
mimiiii
i
∏
=
−
=
=
=
 
對於每個故障類型 ic 而言，其 )|( Xcp i 分母皆為 )(Xp ，可將 )(Xp 視為常數，式
子可簡化為 
∏
∏
=
=
∝
m
j
iji
m
j
iji
cxpcp
Xp
cxpcp
1
1 )|()()(
)|()(
 
 
簡易貝氏分類器(Naïve Bayesian Classifier): 
})|()({maxarg
1
∏
=
∈
=
m
j
jCci
cxpcpc        (10) 
  16
2-5-4 最大似然法則(Maximum Likelihood) 
欲計算事前機率時，用已知的實驗數據作出機率的函數，藉以求取實際機率
的數值，這種方法稱作 Likelihood。假設每次實驗皆有 mxxx ,...,, 21 的訊號特徵，
進行 k次實驗後的實驗數據為 },...,,{
,2,1, miiii xxxX =  , ki ≤≤1 ，統計m個訊號特
徵，可以得到其機率分佈為 )(' xp ，再藉由實驗數據統計出的機率分佈 'p 反推出
實際的機率分佈 p，一組良好的實驗數據可以讓 'p 非常的近似於 p，換句話說，
實驗的目標即是產出讓 )()(' xpxp = 的實驗數據，以期能符合真實的機率分佈。 
機率分佈 'p 是由實驗數據統計得來， 'p 雖然不一定貼近實際機率 p ，但若
是 p 與 'p 的分布一致，那 p產生 'p 現象的機率將會是最大的。因此，要最大化
原始機率模型 p 產生 'p 現象的可能性，就稱作最大似然法則 (Maximum 
Likelihood)。 
最大似然法則(Maximum Likelihood): 
∏
=
=
m
i
ip
xpXp
1
)(maxarg)(maxarg
          (11) 
 
2-5-5 貝氏網路(Bayesian Network) 
貝氏網路(Bayesian network)，是一種機率圖型模型，藉由有向非循環圖形
(Directed Acyclic Graphs, or DAGs)中得知一組訊號特徵 },...,,{ 21 mxxxX = 及其m
組條件機率分配(conditional probability distributions, or CPDs)的性質[11]。 
在本研究中，每個訊號特徵 ix 皆用貝氏網路的節點表示，節點間可以以箭頭
連接，代表兩個變數是具有因果關係，其中一個節點是「因(parents)」，另一個是
「果(descendants or children)」，其架構採用先前介紹的 TAN 結構。貝氏網路適用
  18
3. 六標準差應用於風機故障診斷 
3-1   DMADV流程於風機故障診斷 
在設計系統前，為了讓系統達到營運診斷的功用，依據六標準差方法去實
現。六標準差營運診斷流程並未在風機實行過，故我們選擇六標準差創新流程的
DMADV 方法，即定義、量測、分析、設計及驗證，提出本系統之設計流程。 
 
以下五個步驟為整個營運診斷的流程： 
1. D（Define）定義：定義振動訊號為風機損壞的主要監測訊號。 
2. M（Measure）量測：收集風機各種零件故障損壞的振動訊號特徵。 
3. A（Analyze）分析：分析數據並選擇適用的演算法以符合現有資料。 
4. D（Design）設計：設計故障模擬實驗。 
5. V（Verify）驗證：使用實際的實驗數據驗證理論。 
 
3-2   D（Define）定義 
要判斷其故障主因之時，考慮到風力發電機是典型的旋轉機械，在旋轉機械
故障診斷中，頻譜分析是最常用的方法，因此定義振動訊號為風機損壞的主要監
測訊號。 
3-3   M（Measure）量測 
不同的機械設備和不同的運作情況下，其頻譜特徵皆不相同，實驗上將建立
齒輪軸承轉子實驗平台，藉以模擬風力發電的零組件故障，取得實際運作訊號作
為診斷和驗證的依據。 
  20
1. 轉軸的旋轉頻率 1rf (主動軸)、 2rf (從動軸)： 
2
1
N
Ni =        (15) 
i :減速比 1N :主動軸齒輪齒數 2N :從動軸齒輪齒數 
12 nin ⋅=       (16) 
1n :主動軸轉速(rpm) 2n :從動軸轉速(rpm) 
60
1
1
nfr =       (17) 
1
2
2 60 rr
finf ⋅==      (18) 
 
1rf :主動軸旋轉頻率(Hz) 2rf :從動軸旋轉頻率(Hz) 
正齒輪組的嚙合頻率 mf ： 
2211 rrm fNfNf ⋅=⋅=      (19) 
行星齒輪組的嚙合頻率 mf ： 
60
)( 0nnzf rrm
+
=       (20) 
rz :參考齒輪齒數 rn :參考齒輪轉速(rpm) 0n :轉臂迴轉速度(rpm) 
 
齒輪振動的邊頻帶譜 sbf ： 
  22
  由於製造和安裝誤差、長期過度負荷、潤滑不良等在惡劣條件下，會使得齒
輪產生種種損傷，而這類的故障是屬於較嚴重的故障，會使得工作效率急遽下
降。例如齒根部裂紋、齒頂磨損、轉齒折斷、局部的齒距或齒形誤差、及齒輪間
隙變大的轉速變動等局部異常。 
 
本研究根據常見的三種齒輪故障(不平衡、斷齒、不平行)進行實驗驗證: 
 不平衡: 
當發生不平衡時，齒輪運轉將導致齒形誤差，其特徵常表現在嚙合
頻率及其倍頻，如圖 10 所示，並以不平衡齒輪所在軸轉頻為頻率的邊
頻帶現象，通常邊頻帶數量少而稀。此外，不平衡齒輪所在軸轉頻的幅
值會明顯升高。 
 
 
圖 10 不平衡頻譜特徵 
 斷齒: 
斷齒是嚴重而且常見的故障類型，其多數斷齒是因為疲勞而折斷。
轉軸轉動時，在斷齒處的齒輪嚙合時會產生很大的撞擊。從時域上可看
到相當大而且規律的撞擊型振動，其撞擊的頻率為所在轉軸的旋轉頻
率，如圖 11 所示；從頻率域來看，多表現在嚙合頻率及其間隔為斷齒
所在軸轉頻的邊頻帶，邊頻帶一般來說分佈寬，數量多，幅值大。此外，
由於撞擊的瞬間能量較大，常會激起齒輪固有頻率，出現以齒輪固有頻
  24
 
圖 13 滾動軸承[15] 
 
本研究使用之深溝滾珠軸承是最為廣泛的滾珠軸承，其內外環皆呈現弧狀深
溝，可承受徑向負荷、雙向負荷、軸向負荷及合成負荷，適用於高速迴轉。圖 9
為深溝滾珠軸承常用部位名稱。 
 
圖 14 深溝滾珠各部位名稱[15] 
 
軸承運作時，滾動體在內外圈之間可能產生衝擊而誘發軸承的振動，當振動
頻率與軸承固有頻率相等時，振動將會更加劇烈。而軸承固有振動取決於本身材
料、形狀和質量[14]。 
鋼球的固有頻率： 
  26
nBi fD
df 





+= αcos1
2
1
    (26) 
保持器碰撞外圈頻率： 
nBo fD
df 





−= αcos1
2
1
    (27) 
滾珠損傷頻率： 
d
D
D
dff nRS 





−= α22
2
cos1
2
1
    (28) 
Z :滾珠數 α :軸承壓力角 nf :轉軸旋轉頻率 D :軸承節徑  
d :滾珠直徑 
3-3-5 實驗設備裝置與規格 
本實驗針對齒輪箱及軸承振動診斷部份架設，對齒輪故障診斷部份進行實驗
驗證，實際製作故障訊號，振動實驗設備為一標準正齒輪嚙合之齒輪軸承轉子系
統。其加速規感測器規格屬於高頻寬的 3 軸向振動加速規，透過 B&K 3650 頻譜
分析儀測得來自加速度規的振動訊號，如圖 15 所示。 
 
圖 15 三軸向加速規與 B&K 3650頻譜分析儀 
  28
轉軸的兩端分別各自以兩個深溝滾珠軸承支承。在運行時以變頻器控制馬達轉
速，馬達藉由轉動轉軸帶動齒輪組運行，並持續以齒輪油注入運轉的齒輪中，以
達到潤滑效果，其整體實驗裝置圖如圖 17 所示。 
 
 
圖 17 齒輪軸承轉子系統設備圖 
3-3-6 實驗平台校正 
加速規校正: 
實驗初期為取得正常運作時的訊號，設備需經過校正，首先針對加速規進行
校正。校正上使用加速規校正器，校正器會釋放出穩定而規律的振動，若加速規
正常感測，則可從頻譜上看到純粹的 159.3Hz 的頻率，其振幅為 1g，如圖 18 所
示。 
  30
  
圖 20 轉軸間的距離必須等寬 
 
圖 21 轉軸與變頻馬達必須成平行 
 
3-3-7 實驗平台頻率解析 
在對故障頻率進行擷取之前，須對整座實驗平台的固有頻率進行探討，本研
究使用頻瀑分析以及頻率響應測試對實驗平台進行解析。 
頻瀑分析: 
如圖 22 所示，頻瀑圖是由連續頻譜圖所疊加而成的三維頻譜圖，由轉速間
格疊加而成，縱軸代表間格轉速，橫軸代表頻率值，而垂直方向則表示激振幅值
大小。本實驗平台頻瀑圖如圖所示，透過頻瀑圖分析，可觀察到振動量隨轉速變
  32
頻率響應測試: 
 實驗平台的固有頻率可藉由衝擊激發出來，實際操作上，針對加速規放置從
動軸右軸承時的固有頻率進行解析，並使用敲擊鎚給予衝擊。 
圖 23 為使用敲擊鎚以垂直轉軸方向敲擊軸承，圖 24~26 為敲擊軸承頻率響
應測試圖，頻率解析度分別為 200Hz、1600Hz 和 3200Hz。 
 
圖 23 敲擊軸承頻率響應測試 
 
圖 24敲擊軸承頻率響應測試圖-200Hz 
  34
圖 27 為使用敲擊鎚由上而下方向敲擊底板，圖 28~30 為敲擊底板頻率響應
測試圖，頻率解析度分別為 200Hz、1600Hz 和 3200Hz。 
 
圖 27 敲擊底板頻率響應測試 
 
圖 28 敲擊底板頻率響應測試圖-200Hz 
 
  36
圖 31 為使用敲擊鎚與轉軸垂直方向敲擊馬達，圖 32~34 為敲擊馬達頻率響
應測試圖，頻率解析度分別為 200Hz、1600Hz 和 3200Hz。 
 
圖 31 敲擊馬達頻率響應測試 
 
 
圖 32 敲擊馬達頻率響應測試圖-200Hz 
 
  38
敲擊不同元件會產生各種不同頻率高起，此高起頻率即為加速規放置此處之固有
頻率，因此在實驗設計時，務必分離固有頻率及轉速頻率，以避免擷取到固有頻
率作為特徵頻率。 
此外，還可根據式子(12)計算底板的固有頻率 m=11.9(kg)、K=68.9(GPa)，可
得 f=0.38296251(Hz)。然而觀察各頻率響應測試圖中，皆有低頻率(0~4Hz)的固有
頻率，因此推測其低頻為底板產生之。  
3-4   A（Analyze）分析 
選擇正確的工具對於建構智慧系統而言是關鍵的部份。到目前為止，對規則
式的專家系統、模糊系統、類神經網路、基因演算法等，都已經實作在各領域。
雖然利用這些工具可以很好得處理很多問題，但對於某個問題選擇最合適的工具
還是困難的。Davis’s law 提到：「每個工具都有其最適合任務」[16]。以下將討
論給定的任務選擇合適工具的基本原則，考慮建構智慧系統的主要步驟並討論如
何將資料轉化為知識。 
應用 K 平均演算法於故障診斷時，不需要事先指定每筆資料是屬於哪種情
況下所擷取的數據，是正常運作亦或是何種故障類型？首先給定訓練資料以完成
建模，再利用測試資料檢驗此模型準確度，圖 35 為實驗數據所繪製之二維平面
圖，可看出相同運作情況的數據會形成一群聚。 
 
圖 35 K平均演算法應用於故障診斷 
  40
圖看出其一倍、兩倍嚙合頻率的邊頻帶，分佈寬而且數量多幅值大，其
側頻與嚙合頻率的頻距為斷齒齒輪的轉速頻率。 
 
圖 37 斷齒頻譜圖 
 
圖 38 斷齒特徵頻率 
  42
 
圖 40 不平衡頻譜圖 
 
圖 41 不平衡特徵頻率 
  44
 
圖 43 不平行頻譜圖 
 
 
圖 44 不平行特徵頻率 
 
  46
3-6-1 資料分群診斷 
 此實驗數據針對不同運作情況單一偵測點進行測試，加速規皆放置於被動軸
右軸承上，馬達給予主動軸三種不同的工作轉速(894rpm、1194rpm、1494rpm)，
每一個工作轉速皆存取 10筆數據。而分析時， 80%作為訓練資料 20%作為測試
資料。 
 
圖 45 加速規放置被動軸右軸承上 
 
3-6-2 K 平均法分析單一轉速: 
 首先使用單一轉速 1494rpm 進行分析，實驗上共有四種運作情況(正常運
作、斷齒、不平衡、不平行)，加速規皆放置於被動軸右軸承，每種運作情況各
有 10筆數據，分析時用 8筆進行訓練 2筆進行測試，即總共 32筆訓練資料及 8
筆測試資料。進行分群演算法時，不需事先標記資料所屬故障類別，即可以進行
診斷；而在單一轉速的情況下，K 平均法能正確的對實驗數據進行分群，下表為
測試結果。 
 
表 8  K 平均法分析單一轉速測試結果 
類型 sa1 sa2 sa3 sa4 sa5 sa6 sa7 sa8 sa9 sa10 分析結果 
正常運作 0.000739 0.000153 0.006493 0.058250 0.048912 0.000020 0.000266 1.000000 0.474212 0.049736 cluster-1 
  48
表 9 K 平均法分析混合轉速測試結果之一 
 
 
 
 
 
類型 sa1 sa2 sa3 sa4 sa5 sa6 sa7 sa8 sa9 sa10 
分析結
果 
正常 0.000015 0.000027 0.028200 0.016309 0.309053 0.001601 0.149475 0.607610 1.000000 0.121974 cluster-1 
正常 0.000018 0.000039 0.029500 0.016333 0.348653 0.001277 0.352866 0.376279 1.000000 0.180841 cluster-1 
正常 0.000260 0.000057 0.006022 0.029272 0.287208 0.000445 0.000104 0.396767 1.000000 0.024700 cluster-1 
正常 0.000347 0.000039 0.005544 0.031531 0.280814 0.000180 0.000143 1.000000 0.849380 0.078888 cluster-1 
正常 0.000739 0.000153 0.006493 0.058250 0.048912 0.000020 0.000266 1.000000 0.474212 0.049736 cluster-2 
正常 0.000317 0.000091 0.006597 0.039193 0.050845 0.000481 0.000257 1.000000 0.503479 0.126512 cluster-2 
斷齒 0.000025 0.000003 0.002604 0.003691 0.056320 0.022786 0.477921 0.046694 0.595764 1.000000 cluster-4 
斷齒 0.000020 0.000002 0.001820 0.002361 0.049645 0.006330 0.158317 0.116389 1.000000 0.884811 cluster-4 
斷齒 0.001130 0.000046 0.016021 0.038780 0.722510 0.266593 0.060223 0.195838 0.452542 1.000000 cluster-4 
斷齒 0.001112 0.000010 0.017186 0.055100 1.000000 0.334537 0.112614 0.298928 1.000000 0.764711 cluster-4 
斷齒 0.000798 0.000020 0.003495 0.011944 0.046520 1.000000 0.005854 0.025143 0.052132 1.000000 cluster-4 
斷齒 0.001786 0.000018 0.006064 0.020914 0.064709 0.990020 0.004515 0.037355 0.075363 1.000000 cluster-4 
  50
3-6-4 貝氏網路診斷 
上述章節實驗使用分群演算法進行診斷，分析結果顯示，K 平均法分群法無
法對多種不同轉速進行正確分群，接著採用貝氏網路分類方法，對多種不同轉速
進行分類診斷。在將同樣的數據(總共 96筆訓練資料及 24筆測試資料)改採用貝
氏網路進行分析的情況下，貝氏有著明顯優於 K 平均法的表現，如表，其平均
準確度達到 0.954291。 
圖 46 為在 sa1,sa2,…,sa10 的特徵訊號下以及類別 C={C1, C2,…,Cm}之貝氏網
路，其結構是採用 TAN(Tree-Augmented naïve Bayesian Network)，貝氏網路中的
每個節點都有一張條件機率表作為計算之用途，機率表可於附錄查詢。表 11 及
表 12 則為分析結果。此架構下的貝氏網路，將特徵訊號分至類別 Ci 的機率為 
∏
=
−
=
∝
=
m
j
jijii
imiiii
m
imiiii
sacsapcsapcp
sacsapsacsapsacsapcsapcp
xxxp
sacsapsacsapsacsapcsapcp
2
11
113121
21
113121
),|()|()(
),|()....,|(),|()|()(
),...,,(
),|()....,|(),|()|()(
 
 
圖 46 故障診斷 TAN 結構之貝氏網路 
 
  52
 
表 12 貝氏網路分析混合轉速測試結果之二 
類型 準確度 斷齒 正常 不平衡 不平行 分析結果 
正常 0.966954 0.000035 0.966954 0.033011 0.000000 正常 
正常 0.987995 0.000466 0.987995 0.011539 0.000000 正常 
正常 0.998734 0.000000 0.998734 0.001264 0.000002 正常 
正常 0.999554 0.000000 0.999554 0.000444 0.000002 正常 
正常 0.999151 0.000000 0.999151 0.000000 0.000849 正常 
正常 0.999989 0.000000 0.999989 0.000000 0.000011 正常 
斷齒 0.999890 0.999890 0.000000 0.000108 0.000003 斷齒 
斷齒 0.993433 0.993433 0.000000 0.006566 0.000000 斷齒 
斷齒 0.999924 0.999924 0.000060 0.000016 0.000000 斷齒 
斷齒 0.671093 0.671093 0.295026 0.033881 0.000000 斷齒 
斷齒 1.000000 1.000000 0.000000 0.000000 0.000000 斷齒 
斷齒 1.000000 1.000000 0.000000 0.000000 0.000000 斷齒 
不平衡 0.999974 0.000006 0.000020 0.999974 0.000000 不平衡 
不平衡 0.634042 0.000011 0.365947 0.634042 0.000000 不平衡 
不平衡 0.982547 0.017449 0.000004 0.982547 0.000000 不平衡 
不平行 0.000104 0.000389 0.009085 1.000000 0.175287 0.000819 0.000425 0.087090 0.088851 1.000000 不平行 
不平行 0.000060 0.000020 0.000188 0.065439 0.008896 0.001082 0.000041 0.285255 0.199680 1.000000 不平行 
不平行 0.000028 0.000015 0.000123 0.056952 0.007530 0.003362 0.000042 0.764431 0.226410 1.000000 不平行 
不平行 0.000065 0.000032 0.000047 0.058832 0.019939 0.001245 0.000042 1.000000 0.457484 0.055237 不平行 
不平行 0.000077 0.000028 0.000140 0.060450 0.018853 0.000226 0.000087 1.000000 0.398289 0.052736 不平行 
不平行 0.000250 0.000575 0.010819 1.000000 0.134517 0.000882 0.000133 0.115462 0.080607 1.000000 不平行 
  54
表 13 感測器放置主動軸右軸承貝氏網路測試結果 
類型 準確度 斷齒 正常 不平衡 不平行 分析結果 
正常 0.576795 0.423175 0.576795 0.000030 0.000000 正常 
正常 0.627572 0.008153 0.627572 0.364275 0.000000 正常 
正常 1.000000 0.000000 1.000000 0.000000 0.000000 正常 
正常 1.000000 0.000000 1.000000 0.000000 0.000000 正常 
正常 1.000000 0.000000 1.000000 0.000000 0.000000 正常 
正常 1.000000 0.000000 1.000000 0.000000 0.000000 正常 
斷齒 0.999561 0.999561 0.000023 0.000416 0.000000 斷齒 
斷齒 0.952058 0.952058 0.000028 0.047898 0.000016 斷齒 
斷齒 0.999451 0.999451 0.000018 0.000531 0.000000 斷齒 
斷齒 0.995418 0.995418 0.000001 0.004581 0.000000 斷齒 
斷齒 0.999315 0.999315 0.000005 0.000680 0.000000 斷齒 
斷齒 0.930185 0.930185 0.066359 0.003456 0.000000 斷齒 
不平衡 0.999264 0.000367 0.000369 0.999264 0.000000 不平衡 
不平衡 0.999264 0.000367 0.000369 0.999264 0.000000 不平衡 
不平衡 0.677523 0.322477 0.000000 0.677523 0.000000 不平衡 
不平衡 0.919778 0.080205 0.000000 0.919778 0.000016 不平衡 
不平衡 1.000000 0.000000 0.000000 1.000000 0.000000 不平衡 
不平衡 1.000000 0.000000 0.000000 1.000000 0.000000 不平衡 
不平行 1.000000 0.000000 0.000000 0.000000 1.000000 不平行 
不平行 1.000000 0.000000 0.000000 0.000000 1.000000 不平行 
不平行 0.999999 0.000000 0.000000 0.000000 0.999999 不平行 
不平行 0.999999 0.000000 0.000000 0.000000 0.999999 不平行 
不平行 0.364072 0.000008 0.635919 0.000001 0.364072 正常 
  56
不平衡 1.000000 0.000000 0.000000 1.000000 0.000000 不平衡 
不平行 0.999828 0.000144 0.000027 0.000001 0.999828 不平行 
不平行 0.999828 0.000144 0.000027 0.000001 0.999828 不平行 
不平行 0.999984 0.000010 0.000007 0.000000 0.999984 不平行 
不平行 0.999944 0.000033 0.000023 0.000000 0.999944 不平行 
不平行 0.999435 0.000037 0.000525 0.000003 0.999435 不平行 
不平行 0.999435 0.000037 0.000525 0.000003 0.999435 不平行 
 
表 15 感測器放置平板上貝氏網路測試結果 
類型 準確度 斷齒 正常 不平衡 不平行 分析結果 
正常 0.392798 0.000802 0.392798 0.606395 0.000005 不平衡 
正常 0.719478 0.002517 0.719478 0.277999 0.000005 正常 
正常 0.789469 0.003194 0.789469 0.000001 0.207336 正常 
正常 0.789469 0.003194 0.789469 0.000001 0.207336 正常 
正常 0.943310 0.000518 0.943310 0.032640 0.023532 正常 
正常 0.943310 0.000518 0.943310 0.032640 0.023532 正常 
斷齒 0.692091 0.692091 0.222000 0.085779 0.000130 斷齒 
斷齒 0.935790 0.935790 0.008117 0.056092 0.000001 斷齒 
斷齒 0.999836 0.999836 0.000147 0.000000 0.000016 斷齒 
斷齒 0.999052 0.999052 0.000142 0.000000 0.000806 斷齒 
斷齒 0.750378 0.750378 0.209324 0.000655 0.039642 斷齒 
斷齒 0.705342 0.705342 0.085910 0.000018 0.208730 斷齒 
不平衡 0.999816 0.000113 0.000071 0.999816 0.000000 不平衡 
  58
 
表 16 變轉速測試資料轉速表 
筆數 起始轉速(rpm) 結束轉速(rpm) 
1 900 950 
2 1000 1050 
3 1100 1150 
4 1200 1250 
5 1300 1350 
6 1400 1450 
 
表 17 變轉速測試結果之一 
類型 準確度 斷齒 正常 不平衡 不平行 分析結果 
正常 0.991950 0.000000 0.008050 0.000000 0.991950 不平行 
正常 0.997951 0.000000 0.002043 0.000006 0.997951 不平行 
正常 0.957031 0.000002 0.957031 0.027052 0.015916 正常 
正常 0.962805 0.000001 0.036928 0.000267 0.962805 不平行 
正常 0.998008 0.000180 0.000715 0.001097 0.998008 不平行 
正常 0.997132 0.001411 0.001454 0.000002 0.997132 不平行 
       
平均 0.827294 0.000266 0.167703 0.004737 0.827294 不平行 
 
 
 
  60
表 20 變轉速測試結果之四 
類型 準確度 斷齒 正常 不平衡 不平行 分析結果 
不平行 0.999955 0.000000 0.000045 0.000000 0.999955 不平行 
不平行 0.372643 0.001902 0.257454 0.368001 0.372643 不平行 
不平行 0.987852 0.000048 0.012000 0.000100 0.987852 不平行 
不平行 0.997951 0.000000 0.002043 0.000006 0.997951 不平行 
不平行 0.997951 0.000000 0.002043 0.000006 0.997951 不平行 
不平行 0.999909 0.000003 0.000075 0.000013 0.999909 不平行 
       
平均 0.892710 0.000326 0.045610 0.061354 0.892710 不平行 
 
 
 
 
 
 
 
 
 
 
  62
4-2-1 故障診斷 
圖為故障診斷初始頁面，下拉式選單可選擇欲進行計算之運作情況，系統預
設四種運作情況各六筆資料。 
 
圖 49 選擇測試數據 
  64
 
圖 51 風機 3D 模擬初使頁面 
 
圖 52 故障時齒輪箱元件的顏色轉為紅色 
  66
5. 結論與建議 
本研究以六標準差的 DMADV 方法應用於風力發電機的故障診斷系統開
發。其診斷分析的結果為，使用 K 平均法以及貝氏診斷方法對實驗數據進行分
析時，實驗結果顯示貝氏皆有優於 K 平均法的結果，正常的情況下幾乎都能有
90%以上的分辨率。然而貝氏主要是靠著過去的經驗來學習，即越是完整的實驗
數據，越能完整的架構整套診斷系統；因此，若能將後續的實驗數據添加至背後
的知識庫，相信必能提升其貝氏的完整度和準確度。 
加速規放置處對於振動訊號有其舉足輕重的影響，實驗上將加速規放置多
點，並比較其分析結果。其結果顯示，靠近訊號源處的感測點有著較優越的準確
度(放置軸承座上)，而加速規放置馬達時，較易受馬達運轉頻率影響，進而影響
分析結果，加速規放在馬達上時為最差之分析結果。 
實驗中將變轉速測試資料套入原先由穩定轉速訓練出的貝氏網路模型進行
分析，測試結果並不理想，幾乎無法做出正確的分類。歸咎以下數點，(1). 在變
轉速使用快速傅立葉轉換時，頻譜的故障特徵並不像穩定轉速下的頻譜故障特徵
明顯(2).貝氏網路的訓練資料並沒有變轉速的訓練，在此情況下貝氏的效果低落。 
本研究目前針對三種齒輪故障進行，若能操作多種故障實驗，便能使故障類
型趨於完整。貝氏診斷時，只針對三種穩定轉速進行診斷，實際運用在風機時，
可能略嫌不足，因此若能設定更完整的轉速間隔，相信必能有更佳的準確率。 
 根據本研究開發出之診斷理論設計其故障診斷之網頁介面系統，使得使用者
不需具備專業人員之專業知識便可掌握其運作狀態，並輔以 X3D 開發之風力發
電機 3D 圖形介面，使其運作狀況更加清楚明瞭。 
 
 
 
  68
[14] 陳長征，胡立新，周勃，費朝陽，設備振動分析與故障診斷技術，科學出
版社 
[15] http://tpiweb.tungpei.com.tw/ 
[16] Davis R., Microsoft Corporation Microsoft Corporation Microsoft 
CorporationKing J., “An overview of production system, Machine Intelligence”, 8, 
300-322 
[17] Kahn Jr., C. E., Laur, J. J. and Carrera, G. F., “A Bayesian Network for Diagnosis 
of Primary Bone Tumors,” Journal of Digital Imaging, Vol. 14, No. 2, pp. 56-57, 
2001. 
[18] Romessis, C. and Mathioudakis, K., “Bayesian Network Approach for Gas Path 
Fault Diagnosis,” Journal of Engineering for Gas Turbines and Power, Vol. 128, No. 1, 
pp. 64-72, 2006. 
碩士論文 
1. 林緯俊，”風力發電機營運診斷系統之研究,”國立台灣大學工學院工
程科學及海洋工程學系碩士論文，中華民國 97 年 6月 
2. 紀騰陽，”風力發電機組關鍵零組件故障診段之研究,” 國立台灣大學
工學院工程科學及海洋工程學系碩士論文，中華民國 99年 7月 
發表論文 
1. 李雅榮、林銘崇、郭真祥、王昭男、江茂雄、蔡進發、詹育禔，”
離岸型風力發電機葉片設計之研究” ，海洋及水下科技季刊，Vol.9, 
No.2, pp31-41.2009,7。(期刊論文) 
2. 蔡進發、林緯俊、紀騰揚”離岸風力發電場智慧型線上營運系統 
iWind 的開發與驗證”， 第二十一屆中國造船暨輪機工程研討會暨
國科會成果發表會，高雄， 3 月 7~8 日， 2009. 
  70
 
Sa2 節點條件機率表 
父節點 機率 
sa1 類型 ≤0.0001328 0.0001328 
~0.0002576 
0.0002576 
~0.0003824 
0.0003824 
~0.0005072 
>0.0005072 
≤0.5 斷齒 0.986 0.003 0.003 0.003 0.003 
≤0.5 正常運作 0.781 0.208 0.003 0.003 0.003 
≤0.5 不平衡 0.980 0.004 0.004 0.004 0.004 
≤0.5 不平行 0.659 0.044 0.126 0.044 0.126 
>0.5 不平衡 0.009 0.009 0.485 0.128 0.366 
 
Sa3 節點條件機率表 
父節點 機率 
sa1 類型 ≤0.003906 0.003906 
~0.007775 
0.007775 
~0.011644 
0.011644 
~0.015513 
>0.015513 
≤0.5 斷齒 0.454 0.208 0.003 0.208 0.126 
≤0.5 正常運作 0.003 0.659 0.003 0.003 0.331 
≤0.5 不平衡 0.492 0.492 0.004 0.004 0.004 
≤0.5 不平行 0.659 0.208 0.126 0.003 0.003 
>0.5 不平衡 0.009 0.009 0.009 0.009 0.961 
  72
 
Sa5 節點條件機率表 
父節點 機率 
sa1 類型 ≤0.034677 0.034677 
~0.053332 
0.053332 
~0.071987 
0.071987 
~0.090642 
>0.090642 
≤0.5 斷齒 0.003 0.413 0.249 0.003 0.331 
≤0.5 正常運作 0.126 0.208 0.003 0.003 0.659 
≤0.5 不平衡 0.004 0.004 0.004 0.004 0.980 
≤0.5 不平行 0.659 0.003 0.044 0.044 0.249 
>0.5 不平衡 0.009 0.009 0.485 0.366 0.128 
 
Sa7 節點條件機率表 
父節點 機率 
sa1 類型 ≤0.002017 0.002017 
~0.003982 
0.003982 
~0.005292 
>0.005292 
≤0.5 斷齒 0.004 0.127 0.127 0.741 
≤0.5 正常運作 0.659 0.004 0.004 0.331 
≤0.5 不平衡 0.006 0.006 0.006 0.981 
≤0.5 不平行 0.987 0.004 0.004 0.004 
>0.5 不平衡 0.964 0.011 0.011 0.011 
  74
Sa10 節點條件機率表 
父節點 機率 
sa1 類型 ≤0.2282048 0.2282048 
~0.4211536 
0.4211536 
~0.6141024 
0.6141024 
~0.8070512 
>0.8070512 
≤0.5 斷齒 0.003 0.003 0.044 0.003 0.945 
≤0.5 正常運作 0.945 0.044 0.003 0.003 0.003 
≤0.5 不平衡 0.065 0.431 0.126 0.065 0.309 
≤0.5 不平行 0.331 0.003 0.003 0.003 0.659 
>0.5 不平衡 0.723 0.247 0.009 0.009 0.009 
 
96年度專題研究計畫研究成果彙整表 
計畫主持人：蔡進發 計畫編號：96-2221-E-002-296-MY3 
計畫名稱：離岸型風力發電機葉片設計之研究--離岸型風力發電風田智慧型線上營運系統 iWind 的開
發與驗證 
量化 
成果項目 實際已達成
數（被接受
或已發表）
預期總達成
數(含實際已
達成數) 
本計畫實
際貢獻百
分比 
單位 
備 註 （ 質 化 說
明：如數個計畫
共同成果、成果
列 為 該 期 刊 之
封 面 故 事 ...
等） 
期刊論文 1 2 50% 計畫剛完成第二篇論文撰寫中 
研究報告/技術報告 3 0 100%  
研討會論文 3 0 100% 
篇 
 
論文著作 
專書 0 0 100%   
申請中件數 0 0 100%  專利 已獲得件數 0 0 100% 件  
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 2 0 100%  
博士生 0 0 100%  
博士後研究員 0 0 100%  
國內 
參與計畫人力 
（本國籍） 
專任助理 0 0 100% 
人次 
 
期刊論文 0 0 100%  
研究報告/技術報告 0 0 100%  
研討會論文 0 0 100% 
篇 
 
論文著作 
專書 0 0 100% 章/本  
申請中件數 0 0 100%  專利 已獲得件數 0 0 100% 件  
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 0 0 100%  
博士生 0 0 100%  
博士後研究員 0 0 100%  
國外 
參與計畫人力 
（外國籍） 
專任助理 0 0 100% 
人次 
 
 
