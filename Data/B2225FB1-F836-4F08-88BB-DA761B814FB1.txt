1行政院國家科學委員會專題研究計畫成果報告
生產網絡：不確定性、風險與協同控制--子計畫一：
風險考量下半導體供應鏈競合行為模式分析與模擬
Risk Based Coopetition behavior Modeling and Simulation for
Semiconductor Supply Chains
計畫類別：□ 個別型計畫 ■ 整合型計畫
計 畫 編 號：NSC 95-2221-E-033-047-MY3
執 行 期 限：95年 8月 1日 至 98年 7月 31日
主 持 人：楊奕農 中原大學國際貿易學系
共同主持人：張時中 台灣大學電機學系
計畫參與人員：林芳珍、李家如、殷君豪、侯楚薇、高麗琪
成果報告類型(依經費核定清單規定繳交)：□精簡報告 ■完整報告
本成果報告包括以下應繳交之附件：
□赴國外出差或研習心得報告一份
□赴大陸地區出差或研習心得報告一份
■出席國際學術會議心得報告及發表之論文各一份
□國際合作研究計畫國外研究報告書一份
處理方式：除產學合作研究計畫、提升產業技術及人才培育研究計畫、列管計畫及下列情形
者外，得立即公開查詢
□涉及專利或其他智慧財產權，□一年■二年後可公開查詢
一、中文摘要
本研究以半導體供應鏈網絡中微晶片公
司 (IC design houses) 與晶圓廠 (foundry fabs)
之互動關係為問題研究之出發點，特別針對
這些企業在不同的資訊分享架構與各別企業
相對運籌能力差異下，分析可能對供應鏈競
合行為之影響。第一年我們已完成加入風險
考量下，微晶片公司與晶圓廠之賽局競合契
約行為模型，並推導出契約行為成立之條件，
與各種競爭環境與對未來期望資訊不同之情
況下，對半導體供應鏈競合契約之可能影響。
第二年我們略微調整原訂之研究項目，延續
第一年所建構之模型，分析競合行為下，一
般性供應鏈風險分擔之契約行為內涵，並針
對供應鏈收入分擔契約進行探討。第三年本
計畫建立了以 web 瀏覽器運作之行為實驗模
擬平台，並且執行數次不確定下供應鏈終端
決策實驗，以探討供應鏈成員在風險下之決
策行為。
3Manufacturing, IBM and Samsung have
developed a new business model to provide a
cohesive design and manufacturing ecosystem
through their Common Platform™ technology
(IBM 2006) for 300mm wafer fabs. Inotera
Memories, Inc., a joint venture by Qimonda AG
and Nanya Technology Corporation, is another
example. The innovation in Inotera’s business
model combines the contribution of Qimonda’s
(a former memory division of Infineon) leading
technology and Nanya’s cost eficiency in mass
production into competitiveness on the leading
edge within the DRAM industry. Risks in
process and capacity developments are shared
by strategic alliance of joint venture and
contractual collaboration in terms of purchase
commitment on yields (Richter et al. 2005).
In the supply chain management literature,
there has been research on risk sharing via
capacity commitments in a decentralized
environment (for example, Özer and Wei (2006)).
However, most of the existing models are only suitable for
applications in analyzing interactions between fabless
companies and pure-play foundries. Relatively few
theoretic research investigates the contractual
behavior of the alliance in semiconductor
industry such as the emerging fab-lite model.
Although there have been many descriptions
about the emerging fab-lite model evolutions
and the formation of alliances for risk mitigation
of semiconductor manufacturing, there are few
prescriptive models that may serve the needs for
strategic analysis and design.
In this paper, we develop a cooperative-
game theoretic model for contractual design of
purchase commitments on yields as a risk-
sharing mechanism among fabless-foundry
partnership. The model in this paper explicitly
takes market risks into considerations of the
supply chain members to study an potentially
emerging business model, a contract of purchase
commitments on shared yields. Under this
contract as in forming an alliance, the design
house commits to purchase a certain share of the
future yields that produced by the foundry fab.
In addition to a traditional "money-for-chip"
relationship, the design house contributes its
proprietary semiconductor process technology
and related know-how in the alliance to develop
deeper and longer lasting relationship with the
foundry. We model the market risks primarily as
the price variations of the IC products supplied
by the supply chain. We emphasize the risk-
sharing mechanism of the contract for members
of the supply chain facing a stochastic market
environment. Our model shows that the optimal
share of yields depends on the two firm's
expectations on prices of the IC products, risk-
aversion, and production scale. A Nash
bargaining solution for the wholesale price of
the IC products between fabless and foundry is
also proposed. The model and results may also
be applied as part of the contract analysis for
fab-lite transitions of IDMs.
The remainder of the paper is organized as
follows. Section 2 briefly reviews recent
literature related to contracts in supply chain. In
particular, we identify deficiencies of modeling
supply chain contracting behavior if there is no
risk consideration in a stochastic market
environment. The setting of a simple supply
chain model with explicitly risk considerations
is addressed to discuss the contract of purchase
commitments on shared yields as proposed. The
optimal Risk-sharing rule and bargaining
solution under the contract is analyzed in
Section 4. Section 5 gives some concluding
remarks.
5That is, the supplier will hesitate to invest in
capacity and fail to delivery products on right
timing. This in turn creates an incentive for the
buyers to inflate demand forecasts (soft orders)
in order to assure sufficient supply need but
these soft orders will eventually be revised
downward and/or cancelled by the buyer. As a
result, the classical prisoner's dilemma arises in
noncooperative behavior among partners as
observed empirically (Terwiesch et al. 2005).
Obviously, there are inevitable difficulties
for firms in semiconductor industry to trap into
the undesired dilemma. The buyers faces market
demand uncertainty. Their soft orders vary from
time to time in nature but partially resulted from
lack of commitment to purchase as those orders
initially placed. An empirical study reports that
the cost of cancellation and holding hosts are
about two times and three times higher than the
delay cost for the semiconductor equipment
suppliers (Cohen et al. 2003). It is not surprising
to see the supplier's under-investment in
capacity in response to this variation in soft
orders especially in an environment of risky
demand and growing costs in acquiring
production capacity.
In fact, the essentials of this problem are as
follows. If the buyer places firm orders instead
of soft orders like what others do in
conventional newsvendor model with a pre-
specified wholesale price, he has to bear the
whole market risk alone. As the market risk
overwhelmingly increases, the buyers would
either withdraw from the market or have to shift
(at least part of) the risk to others in order to
survive in that market. Therefore, the buyer's
attempt is understandable to shift market risk to
their upstream suppliers through soft orders. The
market forecasts carried by the soft orders are
probably incorrect due to misaligned incentives.
This will be, however, ultimately recognized by
the supplier. If we taking the supply chain as a
whole, the cause of the problem can attribute to
"distributing the market risk in a wrong way."
As a consequence, the keys to solve the
problem arising in a supply chain with highly
volatile market and high costs of production
capacity are how to appropriately allocate risk
into chain partners and how to gauge the
information sent by the buyers and received by
the supplier. The risk cannot be assumed away
as in other newsvendor models for regular
supply chains. In contrast, risk should be
explicitly taken into consideration of decision-
making models for contracting semiconductor
supply chains.
These, in line with the work by Wilson
(1968) and Stiglitz (1974), motivate us to
reconsider a long-run prospect over contracting
semiconductor supply chains. A novel business
model, a contract of purchase commitments on
shared yields is proposed and analyzed in this
paper. In stead of directly modeling repeated
behaviors of supply chain's members (such as in
Taylor and Plambeck 2007a, 2007b), we focus
on a static cooperative outcome which might be
considered as a long-run equilibrium ultimately
reached through repeated interactions among
partners of the supply chain.
The contract of purchase commitments on
shared yields proposed in this paper has many
appealing features in correspondence with the
keys discussed earlier. First, the design house
guarantees in prior to purchase a certain
proportion of the yields produced by the foundry
in the future may serve as a risk-sharing
mechanism since the chain risk is diversified
into partners. The double-marginalization
problem in typical price-setting newsvendor
model can also, at least partially be mitigated
7level, the utility of a firm is adjusted downward
for variance of the profit with the firm's
subjective degree of risk-aversion. This risk-
adjusted utility level is called certainty
equivalent (CE) utility level which is the amount
of profit such that the decision marker would be
indifferent between the risky outcome and this
amount of profit for sure. For any pair of (,
), one can find another (', 0) pair to achieve
the same expected utility level but without
uncertainty. Our model focuses on the price
variation as the source of market uncertainty but
allows each firm may have different expected
prices and degrees of risk-aversion from each
other.
In specific, the design house's profit isD =
(pwT)YCMM. The expected profit is ED
=(wT)Y CMM and variance of the profit
is 2
p
222
D Y  . Let rD and rF denote degrees of
risk-aversion for the design house and the
foundry, respectively. Therefore, the design
house's problem for maximizing expected
utilities becomes to maximize
MCYr
2
1
Y)w(EU M
2
p
22
DTDD  (1)
In similar, the foundry fab's expected profit is
ED =(1)Y+wTYCMM and variance of
the profit is 2
p
222
F Y)1(  . The foundry fab's
problem is to maximize
KCY)1(r
2
1
Y)w)(1(EU
K
2
p
22
F
TFF


. (2)
It is necessary to assume EUD and EUF are
nonnegative to ensure that the firms are
interesting in this market.
1.3 Analysis in the Supply Chain
with Risk-Sharing
1.3.1 Optimal Risk-sharing within the Supply
Chain
Taking the supply chain as an alliance, the allied
chain maximizes the joint expected utility of the
two firms, i.e.,
MCYr
2
1
Y)w(Max M
2
p
22
DTD 
KCY)1(r
2
1
Y)w)(1( K
2
p
22
FTF  .
The first order conditions are
  MFDM CH)1(HY  , (3)
  KFDK CH)1(HY  , (4)
0YHYH FD  , (5)
where 2
pDDD YrH  and
2
pFFF Y)1(rH  . HD and HF can be thought
risk-adjusted expected prices of the IC product
to the design house and foundry, respectively.
The last first order condition suggests
FD HH  . (6)
This indicates the chain can achieve utility
maximization by equating two firms' risk-
adjusted prices. Substitute FD HH  into (3) and
(4) and simplify to obtain
MDM CHY  , (7)
KDK CHY  . (8)
These two conditions jointly determine the
optimal inputs M, K, and total yields Y.
Furthermore, FD HH  plays an important role to
allocate the optimal shares of the yields to the
firms. The optimal share (*) for the design
house is
92
pDD Yˆr  < 2pDD Yˆr  for <1. This suggests
the quantities Yˆ produced in the integrated
supply chain will be less than in a allied supply
chain with a purchase-commitment contract.
Besides, with a smaller production capacity, it
might lead to a higher marginal cost of
production of the foundry.
1.3.2 Bargaining within the Supply Chain with
Risk-Sharing
It is demonstrated that the contact of purchase
commitments on yields proposed in the previous
section can coordinate a semiconductor supply
chain especially when the market volatility is
increasing. However, a rule for allocating the
chain's profit between the design house and
foundry is needed in practice given the optimal
allocation of the total yields. In bargaining
literature, the Nash fixed threat bargaining
model is often proposed (Chatterjee et al. 2002,
Taylor and Plambeck 2007b). The Nash solution
for the unit wholesale price wN is to choose an
wT by maximizing the product of the two parties'
profits given*




  YwMCYr
2
1
YMax NM
2
p
22
DD




  YwKCY)1(r
2
1
Y)1( NK
2
p
22
FF
. (13)
The first order condition is
Y)1(MCYr
2
1
Y[ FM
2
p
22
DD 
0Y]Yw2KCY)1(r
2
1
NK
2
p
22
F  . (14)
We may solve optimal wN from (14) to obtain




 
Y
EUEU
2
1
w FDN . (14b)
Note that, we may let wN = wT, therefore wT =
(1/) wN. In fact, this formulation states that the
two parties just equally share the chain's profit.
This is because it is not difficult by rearranging
(14) to show
 FDNFND EUEU2
1
YwEUYwEU  . (15)
The above analysis assumes the two parties have
the same bargaining power within the supply
chain. If one of the two parties is in competitive
market, the other party may have a stronger
bargaining position to gain more than
0.5(EUD+EUF).
1.4 Concluding Remarks
As the capital investment and process costs
continue to rise, and the demand become more
volatile in the semiconductor industry, there are
many IDMs engaging in partnering with pure-
play foundries and creating join ventures toward
a closer allied relationship or the fab-lite
business model over the past years. However,
most of the literature studying the interactions
between members of supply chains stem from
the non-cooperative game approach. It is
contributive in analyzing coordination issues for
decentralized supply chains but may not be
suitable for the supply chain as a strategic
alliance.
In this paper, a simple cooperative-game
model with explicitly considerations of price
riskinto firms' objective function in a
semiconductor supply chain is developed to
investigate the contractual design for the design
house and the foundry. A contract of purchase
commitments on shared yields is proposed and
analyzed. We identify that the optimal share of
yields depends on the two firm's expectations on
prices of the IC products, risk-aversion, and
production scale. It is shown that this type of
contracts can serve as a risk-sharing mechanism
to achieve coordination in the supply chain.
Furthermore, under this contract, the problem
11
supplier's cost of production is csq. Let c=cs + cr
be the total unit cost of the supply chain.
Before the retailer makes decisions on
production and retailing, the supplier and the
retailer may agree to a revenue-sharing contract
with two parameters, w, the unit wholesale price,
and , the retailer's share of revenue generated
from sales of the products to the market. It
means that the supplier keeps (1) of the
revenue generated by the retailer. Note that with
=1, the model reduces to the conventional
wholesale price contract with fixed wholesale
price.
To explicitly address the impact of risk on
the supply chain partnership, we consider a
specific utility function U = U(,) for a risk-
averse firm in this study where  is the profit
and  is the associated standard deviation of
profits. Formally, the expected utility
maximization problem can be approximated by
Max. 2r
2
1
)(EEU 
where r>0, a positive constant representing the
degree of risk aversion for the firm (Cuthbertson,
2004; Myerson, 2005). Namely, a higher r
indicates the firm is risk-averser. In addition, our
model focuses on the price variation as the
source of market uncertainty but allows each
firm may have different expected prices and
degrees of risk-aversion from each other.
To simplify the analysis, the retailer's
revenue is assumed to be normally distributed
with a mean, (q), which is decreasing in q, and
variance, 2, i.e., R(q,p) ~ N((q), 2). Under
the revenue-sharing contract, the retailer's profit
function and variance of the profit are
q)cw()p,q(R rr  , (1)
222
r  , (2)
and the retailer's expected utility level is
22
rrr r5.0EEU  . (3)
Similarly, the supplier's profit function and
variance of the profit are
q)wc()p,q(R)1( ss  , (4)
222
s )1(  , (5)
and the supplier's expected utility level is
22
sss )1(r5.0EEU  . (6)
In order to examine the performance of the
revenue-sharing contract, we first let all supply
chain's members have the same degree of risk
aversion, namely, rr = rs = r where r denotes the
degree of risk aversion of the centralized supply
chain owner. The owner's expected utility level
is
2
cc r5.0EEU  , (7)
where
c = R(q,p)(cr+ cs)q. (8)
Note that in a decentralized supply chain
environment, the joint expected utility of the
retailer and the supplier is
22
s
2
rc
srJ
])1(rr[5.0E
EUEUEU


. (9)
2.2 The Main Results
If the assumption, rr = rs = r, remains, the joint
expected utility of the retailer and the supplier in
(9) becomes
222
cJ ])1([r5.0EEU  . (10)
Based on these, we have the following
proposition.
Proposition 1: The revenue-sharing contract
serving as a risk-sharing mechanism
results in a Pareto outcome while taking
the supply chain as a whole.
Proof:
According to (10) and (7), it is easy to see
EUJ = EUc only if = 1 or 0. In addition, for 0<
13
3. Laboratory experiments on decision-
making problems for newsvendor
under stochastic environment.
One of the fundamental building blocks
related to optimization in supply chain
management is the well-known newsvendor
problem. A typical newsvendor problem in
general describes an optimal ordering decision
made by a retailer in supply chains to fulfill the
uncertain demand given prices and costs. The
simplest version of the newsvendor problem
usually assumes the retailer, a decision maker,
orders inventory before a one-period selling
season with a given distribution of stochastic
demand. If the retailer orders too much, the
stock is left over at the end of the period,
whereas if he/she orders too little, sales are lost.
The expected profit-maximizing order quantity
in the newsvendor problem is well established in
theory. However, many recent experimental
studies (Schweitzer and Cachon, 2000; Bension
et al. 2007; Bostian et al. 2008) show that the
ordering decisions made by subjects in these
newsvendor experiments are far from optimal
ones suggested by the theoretically optimal
solution. In particular, Schweitzer and Cachon
(2000) report an experimental study on the
newsvendor problem in which participants order
less (more) than the optimal quantities when
profit is high (low).
With recourse to the learning-by-doing
effect, Bolton and Katok (2008) extend
Schweitzer and Cachon's (2000) experiments
from 30 decision round to 100 round but find
the limited and slow improvement in
newsvendor performance. In addition, Benzion
et al. (2007) also conduct experiments with 100
decision round and different distributions of
demand. Their results show that the subject's
order significantly converges to a stable order
but is not the optimal value from the theoretic
model. All of the previous studies on
newsvendor experiments document a "pull-to-
Center" effect: average order quantities are too
low when they should be high and vice versa
(Bostian et al. 2008). However, the dominant
factors leading to this intriguing experimental
observation still need to be identified.
3.1 The Experimental Design
The experimental design in this study
follows Schweitzer and Cachon's (2000) with
some extensions. The participants in the
experiments included undergraduate and
graduate students from the department of
International Trade, Chung Yuan Christian
University (CYCU) and the department of
Electronic Engineering, National Taiwan
University (NTU). The experiments were held in
the computer lab via standard web browsers.
In each experiment, the subjects watched
video instructions before the formal newsvendor
experimental games. In the instructions, subjects
were told to play as a retailer to order quantities
of a virtual good for sale from the wholesaler.
The demand of the virtual good is stochastic and
uniformly distributed between [1, 300]. Subjects
were instructed that prices and costs of the
virtual good could be observed via clickable
tabs on the web page of the game. Prices and
costs were announced to vary in any future
round of the game. Subjects were not informed
of the total number of rounds in order to avoid
the end-of-game effects. But in every
experiment, 30 rounds of the game were
conducted as in the setup of Schweitzer and
Cachon (2000).
In each round of the experiment, subjects
were provided with history of demand, orders,
15
Figure 1(a), however, contradicts our
expectations on effects of the KPIs while the
others indicate the KPIs in this experiment do
not affect the subject's behavior.
The paired t-statistics to test for difference
in order quantities between our treatment group
and control group are reported in Table 1. Most
of them show insignificant differences in orders
between the treatment and control groups except
the high-profit condition in Experiment 1A and
the low-profit condition in 1B. But negative t-
statistic of Experiment 1A indicates a wrong
direction as we mentioned eariler.
One of the interesting results from our
experiments is that the order quantities seem to
exist asymmetric tendencies toward the optimal
values. As what Figure 1(a) and 1(c) show, in
the high-profit condition, the average orders
does not tend to be close to its optimal value. In
contract, the average orders in Figure 1(b) and
1(c) tend to converge to the optimal value as
indicated by the horizontal line.
3.3 Conclusions
In summary, the experimental results on
the newsvendor problem in this study are similar
to the previous literature. There do exist "Pull-
to-Center" effects throughout all our
experiments including two experiments not
reported here. Our KPI treatment to supplement
additional operational information, forgone
salvage, forgone profit, accumulated forgone
salvage and accumulated forgone profit, fails to
induce the subject's order quantities toward to
the optimal orders.
Nevertheless, we also find that the
subjects are affected from the last quantities
demanded (not reported here). In general, the
subjects tend to raise (decrease) their order if
past demand is higher (lower).
The consistent deviations of orders in the
laboratory from the optimal profit-maximizing
values call for further research to identify what
goes wrong with the experimental setting or the
underpinning theory.
REFERENCES
Benzion, U., Y. Cohen, R. Peled, and T. Shavit
(2007) "Decision-making and the newsvendor
problem: an experimental study." Journal of the
Operational Research Society, Vol. 59, No 9,
September 2008 , pp. 1281-1287
Bernstein, F. and A. Federgruen (2005)
"Decentralized Supply Chains with Competing
Retailers Under Demand Uncertainty,"
Management Science, vol. 51, No. 1, January
2005, pp. 18-29
Bolton, G.. and E. Katok (2008) "Learning-by-doing
in the newsvendor problem: A laboratory
Table 1. t-statistics for average order quantities between treatment and
control groups in the first 15 rounds.
Experiment 1 Experiment 2
Series of Experiemnts Exp. 1A Exp. 1B Exp. 2A Exp. 2B
Treatment: condition
high-profit -3.27
***
(11.91)
-0.30
(9.28)
-1.00
(10.32)
-0.58
(6.10)
KPI
low-profit -0.69(11.18)
-2.07**
(8.17)
0.07
(11.73)
1.64
(6.59)
Note: 1. *** and ** denotes statistical significance at 1% and 5%, respectively.
2. The number in (.) denotes standard error of t-statistic.
3. The KPIs provided in the treatment group are forgone salvage, forgone profit, accumulated forgone
salvage and accumulated forgone profit in each round of the newsvendor game.
17
附錄 A . 出國國際會議發表之論文
Yang  and Chang 
 
 In the supply chain management literature, there has 
been research on risk sharing via capacity commitments 
in a decentralized environment (for example, Özer and 
Wei (2006)). However, most of the existing models are 
only suitable for applications in analyzing interactions be-
tween fabless companies and pure-play foundries. Rela-
tively few theoretic research investigates the contractual 
behavior of the alliance in semiconductor industry such as 
the emerging fab-lite model. Although there have been 
many descriptions about the emerging fab-lite model evo-
lutions and the formation of alliances for risk mitigation 
of semiconductor manufacturing, there are few prescrip-
tive models that may serve the needs for strategic analysis 
and design.  
 In this paper, we develop a cooperative-game theo-
retic model for contractual design of purchase commit-
ments on yields as a risk-sharing mechanism among fa-
bless-foundry partnership. The model in this paper 
explicitly takes market risks into considerations of the 
supply chain members to study an potentially emerging 
business model, a contract of purchase commitments on 
shared yields. Under this contract as in forming an alli-
ance, the design house commits to purchase a certain 
share of the future yields that produced by the foundry fab. 
In addition to a traditional "money-for-chip" relationship, 
the design house contributes its proprietary semiconductor 
process technology and related know-how in the alliance 
to develop deeper and longer lasting relationship with the 
foundry. We model the market risks primarily as the price 
variations of the IC products supplied by the supply chain. 
We emphasize the risk-sharing mechanism of the contract 
for members of the supply chain facing a stochastic mar-
ket environment. Our model shows that the optimal share 
of yields depends on the two firm's expectations on prices 
of the IC products, risk-aversion, and production scale. A 
Nash bargaining solution for the wholesale price of the IC 
products between fabless and foundry is also proposed.  
The model and results may also be applied as part of the 
contract analysis for fab-lite transitions of IDMs.    
 The remainder of the paper is organized as follows. 
Section 2 briefly reviews recent literature related to con-
tracts in supply chain. In particular, we identify deficien-
cies of modeling supply chain contracting behavior if 
there is no risk consideration in a stochastic market envi-
ronment. The setting of a simple supply chain model with 
explicitly risk considerations is addressed to discuss the 
contract of purchase commitments on shared yields as 
proposed. The optimal Risk-sharing rule and bargaining 
solution under the contract is analyzed in Section 4. Sec-
tion 5 gives some concluding remarks. 
2 CONTRACTS IN COORDINATING SUPPLY 
CHAINS 
There is extensive literature studying the mechanism of 
contracts to coordinate the supply chain, i.e., to maximize 
the profit of the chain system, in stochastic environments.  
Most of the papers focus on how a specific type of con-
tracts can achieve coordination in a decentralized supply 
chain through a set of measures (Lee and Whang 1999).  
These contracts, for example, include buy-back contracts 
(Pasternack 1985, Bernstein and Federgruen 2005), price-
discount contracts , revenue-sharing contracts (Dana and 
Spier 2001, Cachon and Lariviere 2005), quantity-
flexibility, and/or mixed of them (Cachon and Lariviere  
2005).  The design of these contracts centers on offering a 
scheme to align incentives of decentralized partners 
within the supply chain.  These aligned incentives guide 
distributed decisions on polices of pricing, inventory, and 
capacity planning for counterparts of the supply chain.   
 A contract of coordinating distributed decision-
makers in a non-cooperative game theoretic sense within 
a supply chain is theoretically attractive in the short run 
but is not necessary in a long-run allied partnership within 
the chain.  In an alliance, the partners of the supply chain 
actually engage in repeated interactions rather in one-shot 
game. The incentive to deviate from the long-run coop-
erative outcome should be low among their partners.  
Some recent papers has raise this need based on the em-
pirical observations and analyzed issues of supply chain 
coordination in repeated game settings (Terwiesch et al. 
2005, Taylor and Plambeck 2007a, Taylor and Plambeck  
2007b). However, this paper does not model the problem 
in a repeated game setting. Instead, we take the direct ap-
proach to analyze the possible long-run outcome in a co-
operative game which may be a good candidate approach 
to study the behavior of alliances. 
 Additionally, existing literature in contracting supply 
chain usually assumes risk-neutral firms or implicitly 
models risk factors in the sense of 'mean' revenue or profit. 
It is suitable for markets of many products with a relative 
high profit margin and low price volatility. In high uncer-
tainty and low profit margin supply chains, such as in the 
semiconductor industry, these assumptions might be no 
longer appropriate. This is pointed out by Van Mieghem 
(2003) that it seems natural to consider the variability in 
payoffs in addition to the mean payoff in decisions of ca-
pacity investments, the articles incorporating risk is sur-
prisingly small. 
 When the firms in supply chains all care about risk, 
how the risk is transmitted through and what are the con-
sequences of the transmission on the supply chain become 
crucial. For instance, a common practice in the semicon-
ductor equipment supply chan is that the buyers initially 
place "soft" orders which only reveal their intent rather 
than "firm" orders which commit to purchase ser-
2245
Yang  and Chang 
 
chase a certain share (denoted by α, α∈[0,1]) of future 
yields of the foundry. The foundry therefore keeps 1-α of 
the yields. In addition, the design house contributes its 
proprietary semiconductor design and/or process technol-
ogy in exchange of the foundry's manufacturing service 
and pays the foundry a wholesale price wT per unit of the 
IC product. The design house's input level of proprietary 
design and/or process technology is denoted by M. The 
capacity supplied by the foundry fab is denoted by K. Let 
Y=Y(K,M) be the effective yield function which is in-
creasing in K and M but at a decreasing rate. To be spe-
cific, Yi and Yij denotes the first and second partial de-
rivatives of Y with respect to i and j, for i and j =K, M. 
Let CK and CM represent the unit cost of K and M, respec-
tively. A well-behaved concave function for yield maxi-
mization requires that YK > 0, YM > 0, YKK < 0, and YMM 
< 0.  
 To explicitly address the impact of risk on this supply 
chain partnership, we consider a specific utility function 
U = U(Π, σΠ) for a risk-averse firm in this study where Π 
is the profit random variable and σΠ = sqrt(Var(Π)) is the 
associated standard deviation of profits. This form of util-
ity function assumes the firm's utility is positively corre-
lated to profit but decreasing in the variation of profit. 
That is, a risk-averse firm prefers less uncertainty given a 
profit level. Formally, the expected utility maximization 
problem can be approximated by  
 max 2r
2
1)(EEU Πσ−Π=    
where r>0, a positive constant representing the degree of 
risk aversion for the firm (Van Mieghem 2003, Myerson 
2005). Namely, a higher r value indicates the firm is more 
risk-averse. In this functional form, given the profit level, 
the utility of a firm is adjusted downward for variance of 
the profit with the firm's subjective degree of risk-
aversion. This risk-adjusted utility level is called certainty 
equivalent (CE) utility level which is the amount of profit 
such that the decision marker would be indifferent be-
tween the risky outcome and this amount of profit for 
sure.  For any pair of (Π, σΠ), one can find another (Π', 0) 
pair to achieve the same expected utility level but without 
uncertainty. Our model focuses on the price variation as 
the source of market uncertainty but allows each firm may 
have different expected prices and degrees of risk-
aversion from each other. 
 In specific, the design house's profit is ΠD = 
α(p−wT)Y−CMM. The expected profit is EΠD =α(μ−wT)Y 
−CMM and variance of the profit is 2p222D Y σα=σ . Let rD 
and rF denote degrees of risk-aversion for the design 
house and the foundry, respectively. Therefore, the design 
house's problem for maximizing expected utilities be-
comes to maximize 
 MCYr
2
1Y)w(EU M
2
p
22
DTDD −σα−−μα=  (1) 
In similar, the foundry fab's expected profit is EΠD 
=(1−α)μY+αwTY−CMM and variance of the profit is 
2
p
222
F Y)1( σα−=σ . The foundry fab's problem is to 
maximize 
 
 
KCY)1(r
2
1
Y)w)(1(EU
K
2
p
22
F
TFF
−σα−−
+μα−=
. (2) 
It is necessary to assume EUD and EUF are nonnegative to 
ensure that the firms are interesting in this market.  
 
4 ANALYSIS IN THE SUPPLY CHAIN WITH 
RISK-SHARING 
4.1 Optimal Risk-sharing within the Supply Chain 
Taking the supply chain as an alliance, the allied chain 
maximizes the joint expected utility of the two firms, i.e.,  
 
 MCYr
2
1Y)w(Max M
2
p
22
DTD −σα−−μα    
 KCY)1(r
2
1Y)w)(1( K
2
p
22
FTF −σα−−+μα−+ . 
 
The first order conditions are  
 
 [ ] MFDM CH)1(HY =α−+α , (3) 
 [ ] KFDK CH)1(HY =α−+α , (4) 
 0YHYH FD =− , (5) 
 
where 2pDDD YrH σα−μ=  and 2pFFF Y)1(rH σα−−μ= . 
HD and HF can be thought risk-adjusted expected prices of 
the IC product to the design house and foundry, respec-
tively. The last first order condition suggests  
 FD HH = . (6) 
This indicates the chain can achieve utility maximization 
by equating two firms' risk-adjusted prices. Substitute 
FD HH =  into (3) and (4) and simplify to obtain 
 MDM CHY = , (7) 
 KDK CHY = . (8) 
These two conditions jointly determine the optimal inputs 
M, K, and total yields Y. Furthermore, FD HH =  plays an 
important role to allocate the optimal shares of the yields 
to the firms. The optimal share (α*) for the design house 
is 
 
2
pFD
2
pFFD
Y)rr(
Yr
* σ+
σ+μ−μ=α . (9) 
 
2247
Yang  and Chang 
 
have a stronger bargaining position to gain more than 
0.5(EUD+EUF). 
 
5 CONCLUDING REMARKS 
 As the capital investment and process costs continue 
to rise, and the demand become more volatile in the semi-
conductor industry, there are many IDMs engaging in 
partnering with pure-play foundries and creating join ven-
tures toward a closer allied relationship or the fab-lite 
business model over the past years. However, most of the 
literature studying the interactions between members of 
supply chains stem from the non-cooperative game ap-
proach. It is contributive in analyzing coordination issues 
for decentralized supply chains but may not be suitable 
for the supply chain as a strategic alliance. 
 In this paper, a simple cooperative-game model with 
explicitly considerations of price riskinto firms' objective 
function in a semiconductor supply chain is developed to 
investigate the contractual design for the design house and 
the foundry. A contract of purchase commitments on 
shared yields is proposed and analyzed. We identify that 
the optimal share of yields depends on the two firm's ex-
pectations on prices of the IC products, risk-aversion, and 
production scale. It is shown that this type of contracts 
can serve as a risk-sharing mechanism to achieve coordi-
nation in the supply chain. Furthermore,  under this con-
tract, the problem of information distortion carried by or-
ders from the design house to the foundry can be 
alleviated and the foundry will not be too conservative to 
invest in capacity. A bargaining solution in determining 
the wholesale price between the design house and the 
foundry is also demonstrated. 
ACKNOWLEDGMENTS 
This study was supported by the National Science Coun-
cil, Taiwan, R.O.C., under grants NSC-95-2221-E-033-
047-MY3. 
REFERENCES 
Bernstein, F., and A. Federgruen. 2005. Decentralized 
supply chains with competing retailers under demand 
uncertainty. Management Science 51:18-29. 
Cachon, G. P., and M. A. Lariviere, 2005. Supply chain 
coordination with revenue-sharing contracts: 
strengths and limitations. Management Science 51: 
30-44. 
Cohen, M. A., T. H. Ho, Z. J. Ren, and C. Terwiesch. 
2003. Measuring imputed cost in the semiconductor 
equipment supply chain. Management Science 49: 
1653-1670. 
Chatterjee, A., D., Gudmundsson, R. K. Nurani, S. Sesha-
dri, and J.G. Shanthikumar. 1999. Fabless-foundry 
partnership: models and analysis of coordination is-
sues. IEEE Trans. Semicond. Manuf. 12:44- 52. 
Chien, C.-F., J.K. Wang, T.-C. Chang, and W.-C.Wu. 
2007. Economic analysis of 450mm wafer migration. 
In Proceedings of ISSM 2007, California. 
Dana, J. D., and K. E. Spier. 2001. Revenue sharing and 
vertical control in the video rental industry. Journal 
of Industrial Economics 49:223-245. 
Hutcheson, D. 2006. 450mm: what will it cost to get 
there?  Future Fab Intl. Available via 
<http://www.future-
fab.com/documents.asp?d_ID=3718> [ac-
cessed June 20, 2008]. 
IBM Press Room. 2006. Available via <http://www-
03.ibm.com/press/us/en/ 
pressrelease/20509.wss> [accessed April 18, 
2008]. 
LaPedus, M. 2006. Debate rages over 450-mm wafer fabs. 
EE Times, Feb. 28. Available via 
<http://www.eetimes.com/news/semi/sh
owArticle.jhtml?articleID=187001870> 
[accessed March 6, 2008]. 
Lee, H., and S. Whang 1999. Decentralized multi-echelon 
supply chains: incentives and information. Manage-
ment Science 45:633-640.  
McGregor, J. 2007. A new model for semiconductor 
manufacturing - joint process technology. Global 
Semiconductor Forum.  Available via 
<http://www.semiconductor-
technology.com/features/feature948/> 
[accessed April 16, 2008]. 
Myerson, R. B. 2005. Probability models for economic 
decisions. California: Thomson Brooks/Cole. 
Özer, Ö., and W. Wei. 2006. Strategic commitments for 
an optimal capacity decision under asymmetric fore-
cast information. Management Science 52:1238-1257. 
Pasternack, B. A. 1985. Optimal pricing and return poli-
cies for perishable commodities. Marketing Science  
4:166-176. 
Richter, E., V. Reddy, G. Schweeger, and K.-H. Thaler. 
2005. Inotera Efficient Transfer Within Infineon-
Global Fabrication Cluster. Future Fab Intl. Avail-
able via <http://www.future-
fab.com/documents.asp?d_ID=3024> [ac-
cessed June 20, 2008]. 
Shelton, J. 2003. Fabless vision. Future Fab Intl. Avail-
able via <http://www.future-
fab.com/documents.asp?d_ID=1635> [ac-
cessed June 20, 2008]. 
Stiglitz, J. E. 1974. Incentives and risk sharing in share-
cropping. Review of Economic Studies 41: 219-255. 
2249
5th International Conference on Enterprise Systems, Accounting and Logistics (5th ICESAL ’08)
7-8 July 2008, Crete, Greece
Risk-Sharing Aspects of Supply Chain Coordination with
Revenues-Sharing Contracts
Yi-Nung Yang 1 and Chang-Chou Chiang2
1,2 Department of International Trade, Chung Yuan Christian University, Chung-Li, Taiwan
1yinung.cycu@gmail.com, 2chiangui@cycu.edu.tw
This study was supported by the National Science Council, Taiwan, R.O.C.,
under grants NSC-95-2221-E-033-047-MY3.
Abstract
This study explores the performance of revenue-sharing contracts under explicit
consideration of risk-averse members of the supply chain. Our model centers on the risk-
sharing aspects of supply chain coordination with revenues-sharing contracts. The results
in this study show that the revenue-sharing contracts can coordinate the supply only if the
contract is complementary with a particular percentage of revenue, which depends on the
degrees of risk-aversion of the retailer and the supplier, with a wholesale price as set by
Cachon and Lariviere (2005).
Keywords: risk-sharing contracts, risk sharing, supply chain coordination.
1. Introduction
There is extensive literature studying the mechanism of contracts to coordinate the
supply chain, i.e., to maximize the profit of the chain system, in stochastic
environments. Some papers focus on how a specific type of contracts can achieve
coordination in a decentralized supply chain through a set of measures (Lee and
Whang, 1999). These contracts, for example, include buy-back contracts
(Pasternack, 1985; Bernstein, 2005), price-discount contracts, revenue-sharing
contracts (Dana and Spier, 2001; Cachon and Lariviere, 2005), quantity-flexibility,
and/or mixed of them. The design of these contracts centers on offering a scheme
to align incentives of decentralized partners within the supply chain. These aligned
incentives guide distributed decisions on polices of pricing, inventory, and capacity
planning for counterparts of the supply chain.
In particular, a revenue-sharing contract specifies a business model in which
5th International Conference on Enterprise Systems, Accounting and Logistics (5th ICESAL ’08)
7-8 July 2008, Crete, Greece
approximated by
Max. 2r
2
1
)(EEU 
where r>0, a positive constant representing the degree of risk aversion for the firm
(Cuthbertson, 2004; Myerson, 2005). Namely, a higher r indicates the firm is risk-
averser. In this functional form, given the profit level, the utility of a firm is adjusted
downward for variance of the profit with the firm's subjective degree of risk-
aversion. This risk-adjusted utility level is called certainty equivalent (CE) utility
level which is the amount of profit such that the decision marker would be
indifferent between the risky outcome and this amount of profit for sure. For
example, for any pair of (, ), one can find another (', 0) pair to achieve the
same utility level but without uncertainty. Our model focuses on the price variation
as the source of market uncertainty but allows each firm may have different
expected prices and degrees of risk-aversion from each other.
To simplify the analysis, the retailer's revenue is assumed to be normally
distributed with a mean,(q), which is decreasing in q, and variance,2, i.e., R(q,p)
~ N((q), 2). Under the revenue-sharing contract, the retailer's profit function and
variance of the profit are
q)cw()p,q(R rr  , (1)
222
r  , (2)
and the retailer's expected utility level is
22
rrr r5.0EEU  . (3)
Similarly, the supplier's profit function and variance of the profit are
q)wc()p,q(R)1( ss  , (4)
222
s )1(  , (5)
and the supplier's expected utility level is
22
sss )1(r5.0EEU  . (6)
In order to examine the performance of the revenue-sharing contract, we first let all
supply chain's members have the same degree of risk aversion, namely, rr = rs = r
where r denotes the degree of risk aversion of the centralized supply chain owner.
The owner's expected utility level is
2
cc r5.0EEU  , (7)
where
c = R(q,p)(cr+ cs)q. (8)
Note that in a decentralized supply chain environment, the joint expected utility of
the retailer and the supplier is
22
s
2
rcsrJ ])1(rr[5.0EEUEUEU  . (9)
5th International Conference on Enterprise Systems, Accounting and Logistics (5th ICESAL ’08)
7-8 July 2008, Crete, Greece
Proof:
To find the optimal to maximize EUJ, the first order condition by taking
derivative of EUJ with respect tois
0)]1(r2r2[5.0
EU 2
sr
J 


. (11)
This implies
)1(rr sr  , (12)
or in another form

 )1(
r
r
s
r . (13)
By (13), one may explicitly solve the optimal revenue share to be
sr
s
rr
r
*

 . (14)
QED.
This proposition furthermore indicates the arbitrary selection of in revenue-
sharing contracts suggested by Cachon and Lariviere (2005) should be limited to
some special cases rather than a general one.
Proposition 3: The revenue-sharing contract with a unit wholesale price rccw 
coordinates the supply chain only if is equal to the optimal share,
*.
Proof:
Substitute rccw  and )rr/(r* srs  into EUr to obtain
].r5.0cq)p,q([
)(r5.0]q)ccc()p,q([EU
2*
r
*
22*
rrr
**
r


(15)
Recall thatc = R(q,p)(cr+ cs)q in (8), eq. (15) becomes
].r5.0E[EU 2*rc
*
r  (16)
Note that )rr/(r*1 srr  . Substitute )rr/(r* srs  and )rr/(r*1 srr  into (9)
to have
2
2
sr
r
s
2
sr
s
rcJ rr
r
r
rr
r
r5.0EEU 


















 . (17)
Eq. (17) can be simplified to
5th International Conference on Enterprise Systems, Accounting and Logistics (5th ICESAL ’08)
7-8 July 2008, Crete, Greece
In our model, the retailer should realize that an increase in actually leads to
large market risk due to the last term. Especially, Significant increases in market
risk may reverse the sign of  /EU r .
By analogy, the partial derivative of EUs (by substituting rccw  into (6))
with respect toreveals the incentive of the supplier to accept the revenue-sharing
contracts
])1(rcq)q([
EU 2
s
s 


. (21)
Without the term 2s )1(r  as analyzed in Cachon and Lariviere (2005), the
supplier unilaterally prefers =0 if cq)q(  >0 since  /EU s <0. As a
consequence, the incentives of the retailer and supplier to accept the revenue-
sharing contract are mis-aligned. But when there is an significant increase in
market risk, the supplier would possibly accept >0 since the sign of  /EU s
could change. QED.
As we have seen, the incentives of the retailer and the supplier to accept
0<<1 in revenue-sharing contracts deviate from each other's if there is no risk
consideration in their objective function. But with risk or an crucial increase in
market risk, the revenue-sharing contracts emerge naturally. A interest case worth
attention is how will the retailer and the supplier reach the agreement toward
revenue-sharing contract in a decentralized supply chain environment. It is stated
as follows.
Proposition 5: In a decentralized supply chain with risk-averse members, if the total
cost, expected revenue, and market risk of the supply chain are in
common knowledge, then the revenue-sharing contract agreed by
the retailer and the supplier will be the optimal revenue-sharing
contract. In other words, the split of the revenue,, will be optimal.
Proof:
If there is an interior solution for in the retailer's decision problem, namely,
 /EU r =0. According to (20) and make some arrangement to have
2r
c)q(
r

 . (22)
Similarly, let  /EU s =0 and after rearrangement to obtain
2s
c)q(
)1(r

 . (23)
It may be seen that if 2and,c),q(  are the same for the retailer and the supplier,
we will have the condition
)1(rr sr  . (24)
Refer to (12) and Proposition 2, the joint solution of is optimal for the supply
chain.
18
附錄 B . 實驗模擬平台操作手冊
1目錄
1. SCM_WEBGAME實驗網站介紹 .......................................................................1
1.1. 登入及註冊........................................................................................................1
1.2. 管理者介面－建立模型....................................................................................3
1.3. 遊戲進行............................................................................................................7
2. 遊戲設計說明及範例............................................................................................8
2.1. 單人遊戲範例：Newsvendor .........................................................................12
2.2. 多人 GROUP遊戲範例：Ultimatum Game： ..............................................17
2.3. 多人 JOINT遊戲範例：Auction game..........................................................19
3. 模型設計的函數、指令說明..............................................................................22
3.1. 變數定義(Variable definition) .........................................................................22
3.2. 運算元(Operators) ...........................................................................................24
3.3. 模型基本環境設定參數 (Model Properties) .................................................24
3.4. 數學函數 (Mathematical Functions) ..............................................................26
3.5. 邏輯函數(Logical Function) ...........................................................................29
3.6. 其他函數 (Miscellaneous Functions) .............................................................34
3.7. 多人遊戲函數 (Joint and Group Functions) ..................................................40
4. Webgame系統安裝、移轉與備份.....................................................................43
4.1. 在 Linux系統下安裝 SCM_WEBGAME網站 .............................................43
4.2. 在WINDOWS系統下安裝 SCM_WEBGAME網站...................................44
4.3. SCM_WEBGAME網站程式移轉 .................................................................45
4.4. 備份MYSQL資料庫......................................................................................52
2圖二 註冊基本資料填寫
當使用者具有管理者權限時，其可設定的功能包括使用者管理、使用者群
組、Pre-made Models、HTML檔案、中英文切換、自動登出時間、模擬記錄管
理、模摸記錄分析、設定Mailer、最新公告等十項（見圖三）。而若使用者僅為
一般玩家，則其僅會看到Web Game模擬、修改個人資料、修改密碼及登出等
四項功能。
圖三 管理者介面
4圖四 建立模型內容
模型內容的設計及編輯請
參閱模型範例及第三章指
令、函數及語法
遊戲規則，可設定是否允
許使用 HTML語法
遊戲統計，可設定是否允
許使用 HTML語法
6模型內容的六大部份分別為：
1. 模型名稱
設定模型名稱，例如 Newsvendor game或 Ultimatum Game等。
2. 模型內容
利用指令及函數來撰寫設計模型，設計範例可參閱第三章。
3. 遊戲說明（How to play）
可用來介紹遊戲規則及揭露遊戲資訊，並且可利用 HTML語法來編輯，
讓說明的內容豐富不單調，像是利用字體、字型、顏色來強調重要訊息。
4. 遊戲統計
在遊戲統束後，呈現一些遊戲統計資訊，例如玩過該遊戲的歷史排名。
同樣地，此類的文字方塊內容皆可使用 HTML語法。若要呈現遊戲中
的變數，在編輯內容中加上[[變數名稱]]即可
範例：
您所累積的利潤有[[Acc_profit]]。
5. 其他選項設定
可設定的項目包含：
 顯示/隱藏：若遊戲設定為隱藏，則一般使用者在進入
SCM_WEBGAME系統後，則看不到該遊戲。
 允許群組：管理者可以透過使用者群組設定將某些使用者分群組，
再進一步設定哪個遊戲可以允許哪個群組使用者來進行。
 Interface順序：遊戲進行中，遊戲參與者可查看的資訊有遊戲說
明、圖(Graphs)、表(Tables)、報告(Reports)及 TextInformation。其
中除了遊戲說明外，預設的顯示順序為 G, T, R, I，若欲修改顯示
順序，例如將表格資訊設定為第一個顯示，則顯示順序改為 T, G, R,
I。
 允許 user設定 Interface：大多的遊戲模型皆是由管理者設定
8合數及目前回合數、可查看的資訊點選項目以及決策變數的輸入文字框等。
遊戲一開始，遊戲參與者首先看到的是遊戲規則(How to play)，若欲查看圖
(Graphs)、表(Tables)、報告(Reports)等資訊，只要點選標籤名稱，右方頁面即會
顯示該項目資訊。
圖六 Newsvendor game 遊戲畫面
2. 遊戲設計說明及範例
SCM_WEBGAME實驗網站目前可以進行的遊戲種類可分為二種，分別是
單人遊戲及多人遊戲。多人遊戲相較單人遊戲而言，其差異即是多人遊戲的遊
戲參與者的決策會受到遊戲中其他參與者影響，也就是說多人遊戲中，遊戲參
與者之間有互動關係。而與遊戲中的所有參與者互動的模式，我們稱為 Joint模
型，若僅與遊戲中的特定參與者有互動，則稱之為 Group模型。
在遊戲模型的設計中，最重要的就是模型內容的部份，可使用的指令、函
數及語法等可以參閱第三章內容，在此我們先就一些簡單的遊戲模型來說明模
型內容的設定。模型內容的設定可分為四大類：
10
M roleassign="random"
M SHOWIDENTITY = 1
若 showidentity = 0則表示不顯示對手名稱，若 showidentity = 1則顯示對手名稱。
最後是回合時間顯示格式及數值格式設定，其設定的語法如下：
M TimeFormat = "Week #0"
M Numberformat="#.#0"
將回合時間顯示格式設定為"Week #0"，表示每回合即為每一週，當遊戲設定總
回合數為 10時，則會顯示為Week 01, Week 02,…, Week10。而數值格式在此我
們將其設定小數點第二位，也就是說所有數值在圖、表、報告等內容的呈現上，
會自動四捨五入至小數點第二位。
多人遊戲的角色設定範例如下列所示，
J player = {“seller”,“buyer”}
G player = {“dictator”,“people”}
若為 Joint遊戲，則角色設定的定義用的是 J，而若是 Group則以 G來定義角色。
Joint遊戲中共有二種角色，分別為 seller及 buyer，而 Group遊戲中，角色分別
為 dictator及 people。
2. 決策變數設定：
在決策變數的設定上，可以有許多的變化，以下列五個例子來說明，首先
決策變數可以給定一個數值當作預設值，在遊戲進行中，遊戲參與者仍可自行
修改數值以作為其決策，如 order1。若為了避免給予預設值會有引導遊戲參與
者決策的情況，我們也可以將決策變數的預設值設定成空白，如 order2。order3
則表示該決策變數為下拉式選單，遊戲參與者能從選項{None, 1,3,4,20}中擇一
輸入當作決策變數值。而 order4則是將決策變數的輸入範圍限制在 0至 300之
間，當遊戲參與者輸入的決策變數數值超過此範圍，系統即會發出警告，提醒
遊戲參與者修改決策變數。最後，在某些情況下，令遊戲參與者不能輸入數值，
像是輸流出招的遊戲(sequential game)，則可以利用 order5的設定方式來控制，
12
處理，如下列的範例：
F Figure 1={"demand","orders"}
F Figure 1.label="市場需求 & 訂貨量"
T Table 1 =if(info_order=1, {"profit","acc_profit"},{"cost","profit"})
T Table 1.label = if(info_order=1,"Table 1. KPI 重要績效指標","Table 1. 公司
營運報表")
R Report 1 =if(info_quantity=1,{"mean_forgone_profit"},{"acc_profit"})
R Report 1.label = if(info_quantity=1,"KPI 重要績效指標","公司營運報表")
M TextInformation=if(info_grade=1, "Grade1.html","Grade2.html" )
M TextInformation.Label = if (info_grade=1 , "考績表 A" , "考績表 B")
沒有設定條件，即表示所有遊戲參與者的圖內容皆相同，顯示的是 demand及
order變數的時間序列，則於下一行定義該圖標題為"市場需求 & 訂貨量"。而
在表格內容的設計上，則設定成，當遊戲參與者的 info_order變數值等於 1者，
其表格內容顯示 profit及 acc_profit兩個變數，否則的話就顯示 cost及 profit兩
個變數，而其表標題分別為"Table 1. KPI 重要績效指標" 及 "Table 1. 公司營運
報表"。同樣地，在報告(Report)及 TextInformation亦可以使用同樣的語法來進
行設定，唯 TextInformation使用的是 html檔案，故需事先編輯好所需的 html
檔後，再於模型中設定欲呼叫顯示的檔案內容。
透過模型內容的設計及編輯，可以進行不同的實驗遊戲及檢驗許多實驗遊
戲的假設。以下針對單人遊戲、多人 Joint遊戲及多人 Group遊戲這三個遊戲類
型的範例來說明遊戲模型內容的設計。
2.1. 單人遊戲範例：Newsvendor
簡單地說，所謂單人遊戲就是遊戲參與者其決策過程不會受到其他的遊戲
參與者的影響。我們以 Newsvendor遊戲來介紹單人遊戲模型的建構與進行。
14
當期利潤和累積利潤, 以及其它相關數據資訊, 也顯示在表的 Table 1之
中。
<font color=blue size = +1>準備好了嗎? 你可以開始試試你是否適合當一個
零售商經理!</font>
模型內容：
# 符號#之後的文字不會被執行，用來記錄註解或補充說明。
#### Experiment 1 in Schweitzer and Cachon, (2000)
# --------- general setting ---------
# The model runs from 0 to 30 weeks.
M StartTime = 0
# 遊戲起始回合為第 0回合。
M EndTime = 30
# 遊戲終止回合為第 30回合。
M InitialSteps=0
# 遊戲初始化回合數為 0回合。
M TimeFormat = "Week #0"
# 遊戲時間的顯示方式，在此每一回合代表一週。
M NumberFormat = "#,##0.##"
# 數值格式設定，在此數值設定為顯示至小數第二位。
# --------- model setting -----------
# demand uniform distribution number for all subject (由 excel 產生)
v Demand = userrand
16
# 在第 0回合即產生一個界於-1及 1之間的隨機變數，若隨機變數值為負
則 group sign值等於-1，若為正則 group sign值為 1，若為 0則 group sign
值為 0。
v Group = if(group sign >0,1,0)
# 如果 group sign值大於 0，則 Group值等於１，否則等於 0。
#----Treatments ------ 決定在 time to change 時改變 low/high cost 的情況
v time to change =15
# time to change變數值等於 l5。
v cost shift = if(SimStep>time to change,if(group=1,6,-6),0)
# 當回合數 simstep大於 time to change(值為 15)，且 group值等於 1，則 cost
shift等於 6，若 group值不等於 1，則 cost shift等於-6，其他情況則 cost shift
值等於 0。
v cost = if(group=1, low cost, high cost)+cost shift
# 遊戲參與者被分配到 group 1時，則其成本在第 1至第 15回合為低成本(在
此模型中為 3)，自第 16回合開始，即變更為高成本(在此模型中為 9)。反
之，group 0的遊戲參與者，其成本一開始為高成本，在第 16回合後變更
為低成本。
v profit = (price-salvage)*min(q, demand) -(cost-salvage)*q
# 利潤計算方式為價格減掉殘貨成本乘上銷售數量再減掉成本減掉殘貨成
本乘上可銷售庫存量。
v acc_profit =ACCUM(Profit, 0)
# 計算各期累積利潤。
v unsold = q-min(q,demand)
# unsold表示未銷售數量，即為缺貨量。當市場需求量小於可銷售量時，
則缺貨量為可銷售庫存量減掉市場需求量。
18
M SHOWIDENTITY = 1
# Group角色名稱分別為 dictator及 people
G player = {"dictator", "people"}
# dictator 決定分 m 元之 ratio 部份給 people, 但 people 只能決定接受
yes = 1, no=0
# 若 people 決定接受, 則 dictator 得 m*(1-ratio), 而 people 得 m*ratio
# 若 people 決定不接受, 則兩人 payoff 皆 = 0
# m變數為可分配的金額
V m=100
# 當遊戲參與者扮演的是 dictator角色時，其可在偶數回合做決策，其決策為下
拉式選單{none,0.1,0.2,0.5,0.8,0.9}，而在奇數回合則不能輸入任何值。而當遊戲
參與者扮演的是 people角色時，則可在奇數回合做決策，其決策選單為
{none,1,0}，其中 1表示接受，0表示拒絕。
D ratio=if(player="dictator" & Mod(SimStep,2)=0, {none,0.1,0.2,0.5,0.8,0.9}, NA)
D Accept=if(player="people" & Mod(SimStep,2)=1, {none,1,0}, NA)
#因為 people是在單數回合決策, 故到 dictator時, 則其 Accept值, 應抓前一期
的, ratio抓前 2期。
#people的 Accept值是當期, ratio抓前一期
####使用 G_GET來抓對手值
#使用範例: if(person="buyer", G_GET("seller","selling price"), G_GET("buyer",
"buying price"))
V accept_p=G_GET("people","Accept")
V ratio_d= G_GET("dictator", "ratio")
# 計算 dictator及 people的 payoff
V dictator_payoff = if(player="dictator" & Accept_p=1, m*(1-
20
2. Auction game 遊戲模型範例
#[多人] 價高者得
M TimeToStart = 2009-07-07 13:28:00
M InitialSteps=1
M TimeSpan = 10
M ENDTIME = 5
M ROLEASSIGN = "random"
##########一回合拍賣, 則令
#M ENDTIME = 1
J person = {"buyer"}
V quantity = 1
#reservation price要固定, 不同人有不同的值, 但是所有回合數固定。
V price rand= Round(RandBetween(10,50))
V Reservation price = REMEMBER(SIMSTEP >= 0, price rand, 0)
#設定買方出價的決策變數為 bid，且其出價範例在(0, 50)之間，
D bid = if(person = "buyer", (20,50), NA)
V bid_temp=if(bid>0, bid, 0)
#設定 seller=底價=18
V upset price = 18
#當回合所有買家的最高價=step_max, 上一回合所有買家的最高價=last step
max, 目前所有買家中的最高價= max price, 此一買家的最高出價=max buyer bid
V step_max=j_max("bid_temp")
22
3. 模型設計的函數、指令說明
藉由 SCM Webgame實驗網站內模型的設計，我們可以模擬出不同的實驗，
依照不同的實驗需求來設計模型，架構模型的指令及函數約可分為七大類，包
括變數定義、運算元、模型基本環境設定參數、數學函數、邏輯函數、其他函
數及多人遊戲函數。
3.1. 變數定義(Variable definition)
模型共用變數：M
M StartTime =0
M TimeFormat =“week #0”
M NumberFormat =“#,##0”
模型所定義之變數：V
一般變數：
V Inventory = PREVIOUS(Inventory + Deliveries from Vendors–Shipment to
Customers, Initial Inventory)
時間序列向量變數：(維度由M EndTime = 20決定)
V Data Series = {10, 1, 2,3,…, 20}
Data Series[0] = 10, Data Series[1] = 1, Data Series[2] = 2,…, 共 20+1個元
素。
模型所定義之決策變數：D (需要使用者輸入)
設定預設值
D Orders to Vendors = if(Inventory>20, 8, 10)
設定決策變數之範圍
D orders = (-10, 8)
下拉式選單
24
J player={“seller”,“buyer”}
G player={“seller”,“buyer”}
3.2. 運算元(Operators)
% ! 百分比(percent)、邏輯上的「反」運算符號(logical not)
^ 次方(power)
/ 乘(plus)、除(divide)
+ - 加(plus)、減(minus)
= <> 等於(equals)、不等於(not equals)
< 大於(greater than)、小於(less than)
>= <= 大於或等於(greater than or equal to)、小於或等於(less than or equal
to )
& 邏輯上的「且」運算符號(logical and)
| 邏輯上的「或」運算符號(logical or)
3.3. 模型基本環境設定參數 (Model Properties)
EndTime
The final time of the simulation. If less than StartTime, the simulation will
not advance.
Default value, if undefined: 10
Example:
M EndTime = 2010
InitialSteps
26
Default value, if undefined: 1
Example:
M TimeStep = 0.5
TimeFormat
The number format used when retrieving the current time.
Default value, if undefined: ###0
Example:
M TimeFormat = Year ###0
TimeSpan
以秒為單位，每一回合 (step) 的決策時間，若時間到，仍未下決策, 則
以前一回合的決策代入此回合，並自動進入下一回合。
Default value, if undefined: 0 (表示不限制決策時間之秒數)
Example:
M TimeSpam = 60 (60 秒 = 1 min)
Note: 此指令在單人遊戲時，可與 TimeToStart 獨立使用。
TimeToStart
設定 game 開始的時間適用集體進行的 game, 可避免相互參考結果。
Default value, if undefined: NA (表示不需同時開始的 game)
Example:
M TimetoStart = 2008/08/05 13:30
3.4. 數學函數 (Mathematical Functions)
ABS
Returns the absolute value of a number.
ABS(<expression>)
28
FLOOR(<expression>, <significance>)
Example model equation:
V Machinery Needed = FLOOR(112.7, 10)
Example result: 110
Other examples:
FLOOR(2.5, 1) equals 2
FLOOR(-2.5, -2) equals -2
FLOOR(-2.5, 2) equals NaN
FLOOR(1.5, 0.1) equals 1.5
FLOOR(0.234, 0.01) equals 0.23
INT
Rounds a number down (towards negative infinity) to the nearest integer.
INT (<expression>)
Example model equation:
V Population = INT(444.9)
Example result: 444
LN
Returns the natural logarithm of a number.
LN <expression>)
Example model equation:
V Natural Log Value = LN(5.3)
Example result: 1.6677
MOD
Returns the remainder after number is divided by divisor.
MOD (<expression>, <divisor>)
Example model equation:
V Remainder = MOD(8,3)
Example result: 2
ROUND
Rounds to a specified number of digits. If <num_digits> is greater than 0
30
one or more arguments are 0 (FALSE).
AND(<logicalexpression1>, <logicalexpression2>,...)
Example model equation:
V All These Statements Are True = AND(1, 5 > 4, 5 = 2)
Example result: 0
FALSE
Example model equation:
V Value of False = FALSE
Example result: 0
IF
Returns second argument if logical expression evaluates to a non-zero value
(TRUE) and third argument if it evaluates to 0 (FALSE).
IF (<logicalexpression>, <returniftrue>, <returniffalse>)
Example model equation:
V Sell Stock = IF(58 > 20, 1, 0)
Example result: 1
NOT
Inverts a logical expression. Returns 0 (FALSE) if argument is non-zero,
and 1 (TRUE) if argument is 0 (FALSE).
NOT(<logicalexpression>)
Example model equation:
V Opposite of False = NOT(FALSE)
Example result: 1
OR
Returns 0 (FALSE) if all its arguments are 0 (FALSE); returns 1 (TRUE) if
one or more arguments are non-zero.
OR(<logicalexpression1>, <logicalexpression2>,...)
Example model equation:
V One is True = OR(0, 3 > 2, 10 = 10)
Example result: 1
32
Example model equations:
V Data Series = {10,2,15,14,13,17,20,2}[SimStep + 1]
V Highest Value = HIVAL(Data Series)
INITIAL
Stores the initial value of an expression.
INITIAL(<initvalue>)
Example model equation:
V Initial Sales = INITIAL(10 + SIMSTEP)
LOVAL
Returns the lowest value since the start of the simulation (including the
current step).
LOVAL(<expression>)
Example model equations:
V Data Series = {10,2,15,14,13,17,20,2}[SimStep + 1]
V Lowest Value = LOVAL(Data Series)
PREVIOUS
Returns the value from the previous step
PREVIOUS (<expression>, <initvalue>)
PREVIOUS (<expression>)
Example model equation:
V Sales = PREVIOUS (Sales * 1.1, 100)
Example results:
Step 0 1 2 3
Sales 100 110 121 133.1
PULSE
A periodic pulse starting at <first> and repeating every <interval>. Amount
of the pulse = <volume> / timestep
PULSE(<volume>, <first>, <interval>)
Example model equation:
V Temporary Increase = PULSE(10,1,2)
34
M EndTime = 2010, V First Year = STARTTIME
3.6. 其他函數 (Miscellaneous Functions)
AVG
Returns the average of a list of arguments
AVG(<expression1>, <expression2>, ...)
Example model equation:
V Average Value = AVG(0, 10, 90, 100)
Example result: 50
EXPRND
Returns a random number from an exponential distribution with a mean of
<lambda> (defaults to 1).
EXPRND(<lambda>)
EXPRND
Example model equation:
V Random Result = EXPRND(10)
Example results:
Step
0
1
2
3
Result
6.0985
20.8459
2.1514
3.8784
GRAPH
Looks up a value from a table of equally spaced input values, with linear
interpolation. The interpolation is based on a starting x value of <startx>, with
points spaced at equidistant intervals of <intervalx>. If <input> is below <startx>,
36
LOOKUP
Looks up a value by index. The index of the first value is assumed to be 0.
Returns the first value with an index greater then or equal to input. If index is
greater than the number of values, returns the last value.
LOOKUP<input>, <val1>, <val2>, <val3>)
Example model equation:
V Result Over Time = LOOKUP(SIMSTEP, 10, 30, 0, 50)
Example results:
Step
0
1
2
3
Result
10
30
0
50
MAX
Returns the highest value in the list of arguments.
MAX(<expression1>, <expression2>, ...)
Example model equation:
V Highest Value = MAX(100, -5, 300, 0)
Example result: 300
MIN
Returns the lowest value in the list of arguments.
MIN(<expression1>, <expression2>, ...)
Example model equation:
V Lowest Value = MIN(100, -5, 300, 0)
Example result: -5
NORMAL(無用？)
Returns a random number within a normal distribution with a mean of 0 and
38
Returns a random number between <bottomvalue> and <topvalue>.
RANDBETWEEN(<bottomvalue>,<topvalue>)
RANDBETWEEN(<bottomvalue>,<topvalue>,<seed>)
Example model equation:
V Number Between 1 and 10 = RANDBETWEEN(1,10,6)
Example results:
Step
0
1
2
3
Result
6.2166
8.0021
2.0349
4.0416
STDDEV
Returns the standard deviation of a list of arguments. (similar to Excel's
STDEVP function)
STDDEV(<array>)
Example model equation:
V Standard Deviation = STDDEV(0, 10, 90, 100)
Example result: 45.27
SUM
Sums a list of arguments.
SUM(<expression1>, <expression2>, ...)
Example model equation:
V Total Value = SUM(0, 10, 90, 100)
Example result: 200
POISSON
Returns an integer number from a poisson distribution with a mean of
<mean>.
40
TextInformation
Example model equation:
M TextInformation =“test.html”
3.7. 多人遊戲函數 (Joint and Group Functions)
ROLEASSIGN
定義角色分配的方式。
ROLEASSIGN
Example model equation:
M ROLEASSIGN =“random”
M ROLEASSIGN =“team”
SHOWIDENTITY
設定是否顯示角色帳號。
SHOWIDENTITY
Example model equation:
M SHOWIDENTITY = 0 (匿名)
M SHOWIDENTITY = 1 (顯示角色帳號)
G_VAR
獲得某一個特定角色的某個變數值
G_VAR(“identity”,“variable”)
Example model equation:
V seller price = G_VAR(“seller”,“price”)
J_AVG
計算 Joint遊戲所有角色中，某個變數值的平均
J_AVG(“<expression>”)
Example model equation:
V seller price = J_AVG(“price”)
J_SUM
42
計算 Group遊戲所有角色中，某個變數值的平均
G_AVG(“<expression>”)
Example model equation:
V avg price = G_AVG(“price”)
G_SUM
計算 Group遊戲所有角色中，某個變數值的加總
G_SUM(“<expression>”)
Example model equation:
V sum profit = G_SUM(“profit”)
G_MAX
獲得 Group遊戲所有角色中，某個變數值的最大值
G_MAX(“<expression>”)
Example model equation:
V max price = G_AVG(“price”)
G_MIN
獲得 Group遊戲所有角色中，某個變數值的最小值
G_MIN(“<expression>”)
Example model equation:
V min price = G_MIN(“price”)
G_UNIQUE
判斷該變數值是否與該 Group遊戲內的其他所有人的變數值不同
G_UNIQUE(“<expression>”)
Example model equation:
V unique = G_UNIQUE(“price”)
Example results:
0 (遊戲中該變數有相同的值)
1 (遊戲中該變數沒有相同的值)
44
XAMPP: Starting Apache with SSL (and PHP5)...
XAMPP: Starting MySQL...
XAMPP: Starting ProFTPD...
XAMPP for Linux started.
4. 測試網頁
做一個簡單的網頁，用瀏覽器來開啟，即可確認是否有安裝成功。或開啟
http://localhost，即會呈現出 xampp預設的網頁。
在完成網站的安裝及設定後，往後較常使用的功能，大多是在於MYSQL
資料庫的管理。而 Xampp套件中包含了一個資料庫管理的網頁介面，稱為
phpmyadmin，故在開啟 Xampp測試頁時，可以順便在測試網頁下的 Security項
目中設定 phpmyadmin的帳號及密碼，以方便後續使用及操作 phpmyadmin。若
未設定則 phpmyadmin的登入帳號為 root，且不需輸入密碼。
4.2. 在WINDOWS系統下安裝 SCM_WEBGAME網站
安裝步驟：
1. 下載 Xampp for windows
下載Windows 版 Xampp，下載網址：
http://www.apachefriends.org/zh_tw/xampp.html
2. 安裝 Xampp
至Windows版 Xampp安裝檔案的目錄執行
F:\download:\xampp-win32-1.7.0-installer.exe
安裝完成後，會有一個控制視窗可以啟動 APACHE及MYSQL。若沒有控制視
窗，則至 Xampp目錄下執行 xampp_control即可以開啟控制視窗。
啟動後，開啟網頁輸入下列網址以檢視 xampp的預設畫面。
http://localhost
46
利用 myphpadmin網頁的新增使用者功能，來建立讀寫MYSQL資料庫的
帳號。建立的MYSQL資料庫的帳號及密碼時，需使用與WEBGAME程式內
所設定的帳號及密碼，可以到\scm_webgame\etc\include\configuration.php檔案內
找到 db_server_username及 password的設定，此組帳號密碼即為需建立的
MYSQL使用者帳號及密碼。
圖 3 利用 phpmyadmin建立MYSQL帳號、密碼及權限
3. 建立 SCM_WEBGAME程式使用的MYSQL資料庫
在設定好該帳號的權限後，WEBGAME程式尚未能正確的讀寫MYSQL資
料庫。必需新建一個MYSQL資料庫，再匯入原主機上的MYSQL資料庫備份
檔。
同樣地，在 phpmyadmin網頁，找到新增資料庫選項，新增一個與
\scm_webgame\etc\include\configuration.php檔案內 DB_DATABASE 相同名稱的
資料庫名稱。
48
圖 5 編輯MYSQL帳號存取 scm_webgame資料庫的權限
圖 6 增加 scm_webgame資料庫以獲得存取 scm_webgame的權限
50
圖 7 開啟 scm_webgame資料庫並匯入MYSQL資料庫檔案
圖 8 成功匯入資料庫
52
使按了, 也要再確認資料夾內的權限設定是否有修改。)。
7. 其他注意事項
在移轉 scm_webgame程式時，亦需注意若有必要修改 configuration.php檔
案內容時，則需以 ultraedit軟體來進行修改，若使用記事本修改則會出現錯誤。
4.4. 備份MYSQL資料庫
1. 使用 dump指令，備份MYSQL資料庫
開啟 dos畫面(命令提示字元)，找到MYSQL的目錄，並到該目錄下，找到
名為 scm_webgame資料庫。(以目前 140.135.77.154伺服器為例，mysql database
目錄位於 c:\mysql\data)
輸入下列指令備份MYSQL資料庫：
c:\mysql\data>mysqldump scm_webgame --user=root -p --opt > scm0725.sql
出現詢問MYSQL密碼，此時輸入正確密碼 enter即可。
輸入下列指令，用以查詢目前所有檔案
c:\mysql\data>dir
確認 scm0725.sql檔案是否已產生，有的話為備份成功 。
2. 使用 phpmyadmin，備份MYSQL資料庫
與匯入MYSQL資料庫的步驟相似，開啟 phpmyadmin網頁，並進入
scm_webgame資料庫，點選「輸出」後，勾選下方視窗內的「下載儲存」，並
可以對匯出資料庫命名，再點選「儲存」，即可以將MYSQL資料庫匯出作為備
份。
 
 
A CONTRACT OF PURCHASE COMMITMENTS ON SHARED YIELDS AS A RISK-SHARING MECHANISM 
AMONG FABLESS-FOUNDRY PARTNERSHIP 
 
 
Yi-Nung Yang 
 
Shi-Chung Chang 
 
Dept. of International Trade Dept. of Electrical Engineering 
Chung Yuan Christian University National Taiwan University 
Chung-Li, TAIWAN, R.O.C., 33023 Taipei, TAIWAN, R.O.C., 10617 
 
 
 
ABSTRACT 
This paper develops a simple cooperative-game model for 
an alliance with a design house and a foundry in a semi-
conductor supply chain. In particular, we attempt to inves-
tigate an emerging observed type of contracts among fa-
bless-foundry partnership. It is termed the purchase 
commitments on shared yields contract. We emphasize 
the risk-sharing aspect on the contract by explicit model-
ing risk into the fabless and foundry's objective functions. 
It is shown that the optimal share of yields depends on 
two parties' expectations on prices of the products, risk-
aversion, and scales of production. The optimal share is 
not directly related to the both firms' marginal cost of 
production. That is, this contract is a cost-invariant con-
tract. A Nash bargaining solution for the wholesale price 
under this contract between fabless and foundry is also 
proposed. 
 
 
1 INTRODUCTION 
Semiconductor manufacturing cost continues to rise in the 
sub-wavelength process technology era (McGregor 2007). 
The average capital investment of a state-of-the-art 90nm 
and 65nm fab has now gone above US$5 billion.  Fab 
costs in wafer size of 450mm is expected to be skyrocket-
ing and may become formidable (LaPedus 2006,  
Hutcheson 2006, Chien et al. 2007). Process development 
cost also grows significantly with each generation of 
process technology. As a natural result, the manufacturing 
cost increases. For example, the cost of developing one 
mask set for circuit printing over silicon wafers in one fab 
have already costed US$1M at the 0.1μm technology 
node, which is expected to continue to increase exponen-
tially. Such trends are shrinking the number of semicon-
ductor companies with fabs and foundries to below 40 
( McGregor 2007). 
 In the demand side of the semiconductor market, 
growths in consumer electronics and wireless/mobile 
communications have demanded for much higher variety, 
shorter life cycle time and lower costs for electronic 
products.  Such uncertain and dynamic demands com-
bined with the skyrocketing costs of fab and process de-
velopment costs have made the risk of semiconductor 
manufacturing unprecedentedly high. Driven by the needs 
for risk mitigation and cost sharing, market changes have 
occurred among independent design and manufacturing 
companies (IDM), fabless and foundry semiconductor 
companies. 
 In the past few years, more and more IDM companies 
have adopted the fab-lite model by partnering with foun-
dries and creating joint ventures (JVs). The fab-lite model 
is defined by the FSA as outsourcing 40 percent to 50 
percent of manufacturing operations (Shelton 2003). 
Many companies such as Motorola,  ADI, Sony, Renesas 
have taken the strategy. They have benefited in retaining 
some control of their own process technology, while gain-
ing access to leading-edge foundry technology.     
 Alliance formation has also been a significant busi-
ness model change for risk mitigation. Many semiconduc-
tor manufacturers and foundries have turned to joint proc-
ess technology and/or fab capacity developments.  For 
example, Chartered Semiconductor Manufacturing, IBM 
and Samsung have developed a new business model to 
provide a cohesive design and manufacturing ecosystem 
through their Common Platform™ technology (IBM 2006) 
for 300mm wafer fabs.  Inotera Memories, Inc., a joint 
venture by Qimonda AG  and Nanya Technology Corpo-
ration, is another example. The innovation in Inotera’s 
business model combines the contribution of Qimonda’s 
(a former memory division of Infineon) leading technol-
ogy and Nanya’s cost efficiency in mass production into 
competitiveness on the leading edge within the DRAM 
industry. Risks in process and capacity developments are 
shared by strategic alliance of joint venture and contrac-
tual collaboration in terms of purchase commitment on 
yields (Richter et al. 2005).   
2244 978-1-4244-2708-6/08/$25.00 ©2008 IEEE
Proceedings of the 2008 Winter Simulation Conference
S. J. Mason, R. R. Hill, L. Mönch, O. Rose, T. Jefferson, J. W. Fowler eds.
Yang  and Chang 
 
vices/production provided by suppliers (Terwiesch et al. 
2005). In advance of placing a firm orders by the buyers, 
the soft orders (often derived from buyer's forecasts on 
demand) serves as an informal information to guide the 
supplier's production capacity decisions (Cohen et al. 
2003, Terwiesch et al. 2005; Taylor and Plambeck  
2007a). Because these soft orders are subject to be revised 
and/or be cancelled by the buyers due to market uncer-
tainty, this may lead to late availability of capacity pro-
vided by the supplier. That is, the supplier will hesitate to 
invest in capacity and fail to delivery products on right 
timing. This in turn creates an incentive for the buyers to 
inflate demand forecasts (soft orders) in order to assure 
sufficient supply need but these soft orders will eventually 
be revised downward and/or cancelled by the buyer. As a 
result, the classical prisoner's dilemma arises in noncoop-
erative behavior among partners as observed empirically 
(Terwiesch et al. 2005). 
 Obviously, there are inevitable difficulties for firms 
in semiconductor industry to trap into the undesired di-
lemma. The buyers faces market demand uncertainty. 
Their soft orders vary from time to time in nature but par-
tially resulted from lack of commitment to purchase as 
those orders initially placed. An empirical study reports 
that the cost of cancellation and holding hosts are about 
two times and three times higher than the delay cost for 
the semiconductor equipment suppliers (Cohen et al. 
2003). It is not surprising to see the supplier's under-
investment in capacity in response to this variation in soft 
orders especially in an environment of risky demand and 
growing costs in acquiring production capacity.  
 In fact, the essentials of this problem are as follows. 
If the buyer places firm orders instead of soft orders like 
what others do in conventional newsvendor model with a 
pre-specified wholesale price, he has to bear the whole 
market risk alone. As the market risk overwhelmingly in-
creases, the buyers would either withdraw from the mar-
ket or have to shift (at least part of) the risk to others in 
order to survive in that market. Therefore, the buyer's at-
tempt is understandable to shift market risk to their up-
stream suppliers through soft orders. The market forecasts 
carried by the soft orders are probably incorrect due to 
misaligned incentives. This will be, however, ultimately 
recognized by the supplier. If we taking the supply chain 
as a whole, the cause of the problem can attribute to "dis-
tributing the market risk in a wrong way."  
 As a consequence, the keys to solve the problem aris-
ing in a supply chain with highly volatile market and high 
costs of production capacity are how to appropriately al-
locate risk into chain partners and how to gauge the in-
formation sent by the buyers and received by the supplier. 
The risk cannot be assumed away as in other newsvendor 
models for regular supply chains. In contrast, risk should 
be explicitly taken into consideration of decision-making 
models for contracting semiconductor supply chains.  
 These, in line with the work by Wilson (1968) and 
Stiglitz (1974), motivate us to reconsider a long-run pros-
pect over contracting semiconductor supply chains. A 
novel business model, a contract of purchase commit-
ments on shared yields is proposed and analyzed in this 
paper. In stead of directly modeling repeated behaviors of 
supply chain's members (such as in Taylor and Plambeck  
2007a, 2007b), we focus on a static cooperative outcome 
which might be considered as a long-run equilibrium ul-
timately reached through repeated interactions among 
partners of the supply chain. 
 The contract of purchase commitments on shared 
yields proposed in this paper has many appealing features 
in correspondence with the keys discussed earlier.  First, 
the design house guarantees in prior to purchase a certain 
proportion of the yields produced by the foundry in the 
future may serve as a risk-sharing mechanism since the 
chain risk is diversified into partners. The double-
marginalization problem in typical price-setting news-
vendor model can also, at least partially be mitigated 
though this point is not directly addressed in our model.  
Second, the contract provides a novel type of orders be-
tween the soft order and the firm order. The control of 
how many to produce is now on the foundry's hand. The 
problem of soft order's variability and inflation can be al-
leviated. The foundry will not be too conservative to in-
vest in capacity.  Third, a contract of sharing production 
yields is similar to the contract of sharing revenue pro-
posed by Cachon and Lariviere (2005). Under this con-
tract, the foundry can partially benefit from the design 
house's marketing effort especially when market is in the 
upside. The allied partnership will be further established 
under this contract. 
3 MODEL SETTINGS 
Now consider an aggregated market demand of IC prod-
ucts, where different products are lumped into one aggre-
gated type and will be referred to as “the product” in the 
remainder of the paper.    Let the demand function for the 
product be p(q), where q is the demand quantity. In stead 
of modeling market uncertainty by allowing a stochastic 
demand, q, for the IC products (Cachon and Lariviere 
2005), we attribute the market uncertainty to the variation 
of product price p. Let p be a random variable with a 
mean μ and variance 2pσ .  
 Let there be a simple semiconductor supply chain 
with two risk-averse firms, a design house and a foundry 
fab. The foundry owns wafer fabrication facilities and 
manufacturing and process knowledge. The design house 
or IDM designs IC products and owns some know-how of 
semiconductor processes and intellectual properties (IPs). 
We study a particular contract recently observed in the 
semiconductor industry. It is called a purchase commit-
ment contract in which the design house commits to pur-
2246
Yang  and Chang 
 
The derivation of the rule is straightforward by using the 
fact that 2pDDD YrH σα−μ= , 2pFFF Y)1(rH σα−−μ= , and 
FD HH = .  
 Observe that α* does not seem directly related to in-
put efforts and marginal costs. However, this mean that 
this contract of purchase commitments on shared yields 
proposed here is a cost invariant contract and is suitable 
for various situations of costs. It depends on the two firm-
s' expectations on prices of the products, degrees of risk-
aversion, and scales of yields (i.e., Y).  
There are many insights based on the implications 
from (9). First, let us consider a conventional wholesale-
price business model in which the design house hold the 
total yields Y (i.e., α=1) and pays wT per unit to the foun-
dry. in the conventional  wholesale-price model business 
model, the design house holds all yields, Yˆ , of the IC 
product. The price risk all falls on the design house while 
the foundry bears no risk of possible market price varia-
tion because he receives wT per unit of yield for sure. This 
would discourage the design house from entering a mar-
ket with expected high risk. 
Furthermore, note that α=1 requires  
2
pDFD Yr σ+μ=μ  according to (9). It indicates that the 
conventional wholesale-price business model will only 
succeed when the design house's expectation on the price 
of the IC products is high enough to the level μF + rDY 2pσ . 
Namely, if the design house has to take all market risk 
alone, the wholesale-price business model will easily fail 
when the market is volatile in terms of price variation 
(i.e., 2
pσ  increases). Facing a higher market risk alone, the 
design house will have no interests in such a market and 
therefore order nothing from the foundry. 
 An special case is worthy of notice. If both parties 
have the same consensus the expectations on price (i.e., 
μD=μF), the optimal share held by the design house by (9) 
reduces to a simple form 
 
FD
F
rr
r* +=α
.  
 
Under this situation, α* only depends on two parties' de-
gree of risk-aversion and is independent of total yields Y 
and price risk. That is, the design house take α* of the to-
tal yields will be always optimal whatever the price risk 
is. It also suggest that this type of contracts studied in this 
paper has nice properties to adapt to variation in costs. 
 Finally, consider a fully integrated supply chain. The 
centralized supply chain's problem is to maximize 
 MCYr
2
1Y)w(EU M
2
p
2
DTDD −σ−−μ=  
 + KCYw KT − . (10) 
 
The first order conditions require  
 
 MDM CHˆY = . (11) 
 KDK CHˆY = . (12) 
 
where Yˆ  denotes the optimal quantity of yields and 
2
pDDD YˆrHˆ σ−μ=  under this situation.  
 In this integrated supply chain, DHˆ  is lower than HD 
determined in (7) and (8) since 
2
pDD Yˆr σ−μ < 2pDD Yˆr σα−μ  for α<1. This suggests the 
quantities Yˆ  produced in the integrated supply chain will 
be less than in a allied supply chain with a purchase-
commitment contract. Besides, with a smaller production 
capacity, it might lead to a higher marginal cost of pro-
duction of the foundry.  
 
4.2 Bargaining within the Supply Chain with Risk-
Sharing 
It is demonstrated that the contact of purchase commit-
ments on yields proposed in the previous section can co-
ordinate a semiconductor supply chain especially when 
the market volatility is increasing. However, a rule for al-
locating the chain's profit between the design house and 
foundry is needed in practice given the optimal allocation 
of the total yields. In bargaining literature, the Nash fixed 
threat bargaining model is often proposed (Chatterjee et al. 
2002, Taylor and Plambeck 2007b). The Nash solution for 
the unit wholesale price wN is to choose an wT by maxi-
mizing the product of the two parties' profits given α* 
 ⎟⎠
⎞⎜⎝
⎛ −−σα−αμ YwMCYr
2
1YMax NM
2
p
22
DD
 
 ⎟⎠
⎞⎜⎝
⎛ +−σα−−μα−× YwKCY)1(r
2
1Y)1( NK
2
p
22
FF
. (13) 
The first order condition is 
 Y)1(MCYr
2
1Y[ FM
2
p
22
DD μα−−−σα−αμ  
 0Y]Yw2KCY)1(r
2
1
NK
2
p
22
F =−+σα−+ . (14) 
We may solve optimal wN from (14) to obtain 
 ⎟⎠
⎞⎜⎝
⎛ −=
Y
EUEU
2
1w FDN . (15) 
Note that, we may let wN = αwT, therefore wT = (1/α) wN. 
In fact, this formulation states that the two parties just 
equally share the chain's profit. This is because it is not 
difficult by rearranging (14) to show 
 ( )FDNFND EUEU2
1YwEUYwEU +=+=− . (16) 
The above analysis assumes the two parties have the same 
bargaining power within the supply chain. If one of the 
two parties is in competitive market, the other party may 
2248
Yang  and Chang 
 
Tang, C. S. 2006. Perspectives in supply chain risk man-
agement. International Journal of Production Eco-
nomics 103:451-488. 
Taylor, T., and E. L. Plambeck 2007a. Supply chain rela-
tionships and contracts: the impact of repeated inter-
action on capacity investment and procurement. 
Management Science 53:1577-1593. 
Taylor, T., and E. L. Plambeck 2007b. Simple relational 
contracts to motivate capacity investment: price only 
vs. price and quantity. Manufacturing & Service Op-
erations Management 9:94-113. 
Terwiesch, C., Z. J. Ren, T. H. Ho, and M. A. Cohen 
2005. An empirical analysis of forecast sharing in the 
semiconductor equipment supply chain. Management 
Science 51:208-220. 
Van Mieghem, J. A. 2003. Capacity management, in-
vestment, and hedging: review and recent develop-
ments. Manufacturing and Service Operations Man-
agement 5:269-302. 
Wilson, R. 1968. The theory of syndicates. Econometrica  
36:119-132. 
AUTHOR BIOGRAPHIES 
YI-NUNG YANG is an Associate Professor of Depart-
ment of International Trade at the Chung Yuan Christian 
University, Taiwan. He received his BS degree from The 
National Taiwan University and his PhD in Economics 
from The Utah State University, U.S.A.. He ( with Chris-
topher B. Barrett, Cornell University) received the best 
study prize in 2002 from the Taipei Economic Inquiry. 
His current research and teaching interests are in indus-
trial economics, experimental economics, and applied 
econometrics in time series analysis. 
SHI-CHUNG CHANG is a Professor at National Taiwan 
University, Taipei, Taiwan, with joint appointments by 
Electrical Engineering Dept., Graduate Institute of Indus-
trial Engineering and the Graduate Institute of Communi-
cation Engineering. Dr. Chang received his B.S.E.E. de-
gree from National Taiwan University, Taiwan, Republic 
of China, in 1979, and his M.S. and Ph.D. degrees in elec-
trical and systems engineering from the University of 
Connecticut, Storrs, in 1983 and 1986 respectively.  Dur-
ing 2001-2002, he served as the Dean of Student Affairs 
and a Professor of Electrical Engineering, National Chi 
Nan University, Pu-Li, Taiwan. He was a visiting scholar 
at the Electrical and Computer Engineering Department 
of the University of Connecticut during his sabbatical 
leaves in the 2003-2004  and 2006-2007 academic years.  
His research interests include optimization theory and al-
gorithms, production scheduling and control, network 
management, Internet economics and distributed decision 
making.  He has been a principal investigator and consult-
ant to many industry and government funded projects in 
the above areas, and has published more than 130 techni-
cal papers. He received, in 1996, the award of outstanding 
achievements in University-Industry Collaboration from 
the Ministry of Education for his pioneering research col-
laborations with Taiwan semiconductor industry on pro-
duction scheduling and control.  
2250
5th International Conference on Enterprise Systems, Accounting and Logistics (5th ICESAL ’08)
7-8 July 2008, Crete, Greece
a retailer not only pays supplier a wholesale price for each unit of goods but also
shares with the supplier a percentage of the revenue the retailer generates (Dana
and Spier, 2001; Cachon and Lariviere, 2005). Particularly, Cachon and Lariviere
(2005) shows that such revenue-sharing contracts can coordinate the supply chain
and arbitrarily allocate the supply chain's profit with a specific setting on the
wholesale price. They also mention that the split of the supply chain's profit
probably depends on the firms' relative bargaining power.
These models as well as many others' related to the literature of coordination
in supply chain usually consider the "mean" expected profit as the firms' objective
function despite under uncertain business environment while the magnitude of the
risk is often ignored. In their settings, these models implicitly assume risk-neutral
firms in the supply chain. It is suitable for markets of many products with a relative
high profit margin and low price volatility. However, for some products with highly
volatile demand and prices, assumptions of risk-neutral members in the supply
chain would be inappropriate.
This study explores the performance of revenue-sharing contracts under
explicit consideration of risk-averse members of the supply chain. Our model
centers on the risk-sharing aspects of supply chain coordination with revenues-
sharing contracts. The findings in this paper show that the revenue-sharing
contracts can coordinate the supply only if the contract is complementary with a
particular percentage of revenue, which depends on the degrees of risk-aversion of
the retailer and the supplier, with a wholesale price as set by Cachon and Lariviere
(2005).
2. Revenue-Sharing Contracts with Risk-Averse Firms
The basic setting of the model in this study is inspired by Cachon and Lariviere
(2005) but with explicit formulation of risk-averse firms in the supply chain. In
words, there are two risk-averse firms, a supplier and a retailer in the supply chain.
The retailer purchases q quantity of a product from the supplier and sells them at a
price p into the market. It is assumed that only the retailer generates revenue in
this supply chain.
Let R(q, p) denote the retailer's total revenue. The retailer's cost excluding
payments to the supplier is cr q. The supplier's cost of production is csq. Let c=cs + cr
be the total unit cost of the supply chain.
Before the retailer makes decisions on production and retailing, the supplier
and the retailer may agree to a revenue-sharing contract with two parameters, w,
the unit wholesale price, and , the retailer's share of revenue generated from
sales of the products to the market. It means that the supplier keeps (1) of the
revenue generated by the retailer. Note that with =1, the model reduces to the
conventional wholesale price contract with fixed wholesale price.
To explicitly address the impact of risk on the supply chain partnership, we
consider a specific utility function U = U(, ) for a risk-averse firm in this study
where  is the profit and  is the associated standard deviation of profits. This
form of utility function assumes the firm's utility is positively correlated to profit but
decreasing in the variation of profit. That is, a firm prefers less uncertainty given a
profit level. Formally, the expected utility maximization problem can be
5th International Conference on Enterprise Systems, Accounting and Logistics (5th ICESAL ’08)
7-8 July 2008, Crete, Greece
If the assumption, rr = rs = r, remains, the joint expected utility of the retailer and the
supplier in (9) becomes
222
cJ ])1([r5.0EEU  . (10)
Based on these, we have the following proposition.
Proposition 1: The revenue-sharing contract serving as a risk-sharing mechanism
results in a Pareto outcome while taking the supply chain as a whole.
Proof:
According to (10) and (7), it is easy to see EUJ = EUc only if = 1 or 0. In
addition, for 0< <1, it is true that 1)1( 22  . Combining these facts, it has
been shown that EUJEUc for 01. QED.
Note that the interpretation of Proposition 1 should be careful because it
depends on a specific formulation of risk-averse firms used in this paper. As in
Cuthbertson (2004), Myerson (2005) and in other economics and financial
literature, this form of risk-aversion has some nice mathematical properties. But
because the risk is measured by variance of the profit, split of the profit into two
members reduces the risk in the chain as a whole by nature. However, the most
important feature in this model setting under explicit risk consideration is the risk-
sharing mechanism.
Recall that when =1, the above revenue-sharing contract reduces to the
conventional newsvendor model with (fix) wholesale price contract. This indicates
that in the supply chain, only the retailer faces market risk while the supplier’s
revenue encounters no uncertainty. If the market risk is relatively small, the
conventional newsvendor model should work well. However, if the market risk is
high enough, the retailer will withdraw from the market since it has to face the
market risk alone. In fact, this leads to a inferior outcome for both supply chain
members. In order to attract retailers back into business, the revenue-sharing
contract is a good instrument to balance the market risk over the supply members.
3. The Optimal Revenue-Sharing Contract
Cachon and Lariviere (2005) argue that the revenue-sharing contracts can
coordinate the supply chain in their settings. Particularly, they mention that the split
of the supply chain’s profit can be arbitrary under the contract with the specified
wholesale price, i.e., rccw  . An interesting question to examine is that their
argument remains valid in our model with risk-averse supply chain members.
Given the model settings in the previous section, we find that there exists a
unique (optimal), rather than arbitrary, which maximizes the supply chain’s gains
(i.e., the joint expected utility of the retailer and the supplier). It is summarized in
the following proposition.
Proposition 2: The optimal share, *, in the revenue-sharing contract in supply
chain with risk-averse firms is determined by )rr/(r* srs  .
5th International Conference on Enterprise Systems, Accounting and Logistics (5th ICESAL ’08)
7-8 July 2008, Crete, Greece
 
.r5.0E
rr
1
rr5.0E
rr
rr
rr5.0EEU
2*
rc
2
sr
src
2
2
sr
sr
srcJ















(18)
Therefore, eq. (16) turns to be
.EUEU J
*
r  (19)
It should be easy to prove
.EU)1(EU J
*
s 
In similar to the results in Cachon and Lariviere (2005), a revenue-sharing contract
with )rr/(r* srs  coordinates the supply chain. QED.
4. The Revenue-Sharing Contract in Decentralized Supply Chains
The analysis in the previous sections should apply to cooperative game for the
supply chain. But how will the revenue-sharing contract work in decentralized
supply chains turns out to be the next issue we are going to examine.
Recall in Cachon and Lariviere’s (2005) model, the profit of the retailer is
increasing in while the profit of the supplier is decreasing in . This is because of
their setting without consideration of market risk. It is therefore the retailer's
incentive to accept the revenue-sharing contracts is low since the retailer's profit
function becomes flat asapproaches 0.
However, we are able to show as stated in the following proposition, Cachon
and Lariviere’s (2005) finding described above is just a special case in our model.
Proposition 4: In a decentralized supply chain with risk-averse members, the
incentive to adopt revenue-sharing contracts increases in the risk of
supply chain and the degree of risk-aversion for firms increases.
Proof:
Taking partial derivative of EUr (in (3) and let rccw  ) with respect to , we
may have
2
r
r rcq)q(
EU 


. (20)
The first two terms, c)q(  , stand for the mean profit of the retailer. The last term
in (20) can be viewed as the risk adjusted factor in retailer's utility. Without the last
term, EUJ is monotonically increasing in for cq)q(  >0. Hence, the retailer will
prefer =1. This is just what Cachon and Lariviere’s (2005) model shows. This
situation also holds for insignificant market risk or the small degree of the retailer's
risk-aversion since  /EU r > 0 if 2rrc)q(  >0.
