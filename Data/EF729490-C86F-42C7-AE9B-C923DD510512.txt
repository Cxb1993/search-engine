行政院國家科學委員會專題研究計畫結案報告 
 
發展半導體機台網路式診斷與預防保養系統-- 子計畫二 
半導體機台網路式診斷與預防保養功能架構之設計與實作(3/3) 
Design and Implementation of e-Diagnostics and e-Maintenance  
Functional Schemes for Semiconductor Equipment（3/3） 
計  畫  編  號： NSC-94-2212-E-014-001 
執  行  期  間： 94/08/01~95/10/31 
計 畫 主 持 人： 洪敏雄  國防大學理工學院電機工程學系教授 
 
一、中英文摘要 
中文摘要 
本子計畫二將先後完成半導體機台「網路式診斷功能架構」與「網路式預防保養功能架構」
兩個子系統之設計與實作，並將與總計畫及其他子計畫所研發的系統進行整合與測試，俾便建構
完成一個半導體機台網路式診斷與預防保養系統。在機台診斷功能架構方面，本子計畫將利用本
體論（Ontology）、資料採擷（Data Mining）及物件導向相關技術，來研發一個智慧型半導體機
台錯誤診斷系統，此系統可在機台發生錯誤時，即時地提供機台維修人員相關之診斷解答資訊，
以大幅縮短機台設備錯誤診斷及故障排除的時間。在機台預防保養功能架構方面，本子計畫將利
用資料採擷相關技術並研究機台設備的行為模式與相關資訊，來建構一個機台預防保養之通用預
測模型，以期可在機台尚未發生故障前，即可預測出機台未來可能之錯誤，機台維修人員可據以
事先採取必要之防範措施，如此，機台的可利用率（Availability）將得以有效地提昇。本子計畫
系統所需的機台工程資料（Equipment Engineering Data）將利用「通用型嵌入式架構」（子計畫
一）自機台取得；此外，維修保養的備料元件，將透過「料配件物流管理機制」（子計畫四）之
運作來獲得。同時，本子計畫系統之運作也會參考「網路式診斷與預防保養之可偵錯性塑模與分
析」（子計畫五）所提供之資訊。藉由繼承通用網服基元（總計畫）並擴增相關功能，本子計畫
系統將以網路服務為通訊機制來與本整合型計畫之其他系統通訊。 
子計畫二之研究主題如下： 
1)  研究及分析網路式診斷與預防保養功能架構之特性、功能與需求。 
2)  研究並獲得建構網路式診斷與預防保養功能架構之實現技術與知識。 
3)  研究機台工程資料並訂定擷取項目與規格介面。 
4)  設計網路式診斷功能架構。 
5)  設計網路式預防保養功能架構。 
6)  建構半導體機台網路式診斷功能架構。 
7)  建構半導體機台網路式預防保養功能架構。 
8)  半導體機台網路式診斷與預防保養應用實例之開發與功能驗證。 
9)  進行工廠端診斷與預防保養伺服器（ODMS）功能移植入嵌入式模組之規劃與開發。 
10) 進行總計畫與各子計畫間之全系統整合測試。 
11) 上線測試及效能評估與比較。 
 1
二、分年階段性目標 
本計畫之分年階段性目標如下： 
第一年：完成半導體機台網路式診斷與預防保養功能架構之整體需求分析與功能設計。 
1)  研究及分析網路式診斷與預防保養功能架構之特性、功能與需求。 
2)  研究並獲得建構網路式診斷與預防保養功能架構之實現技術與知識。 
3)  研究機台工程資料並訂定擷取項目與規格介面。 
4)  設計網路式診斷功能架構。 
5)  設計網路式預防保養功能架構 
第二年：建構半導體機台網路式診斷與預防保養功能架構暨應用實例之開發與功能驗證。 
6)  建構半導體機台網路式診斷功能架構。 
7)  建構半導體機台網路式預防保養功能架構。 
8)  半導體機台網路式診斷與預防保養應用實例之開發與功能驗證。 
第三年：完成全系統之整合與上線測試。 
9)  進行工廠端診斷與預防保養伺服器（ODMS）功能移植成嵌入式模組之規劃與開發。 
10) 進行總計畫與各子計畫間之全系統整合測試。 
11) 上線測試及效能評估與比較。 
三、第一、二、三年已完成項目 
截至 95.7.31 止，本計畫已根據分年階段性目標所排定之時程，如期完成第一、二、三年度所欲
達成之目標。現分述如下： 
 
第一年部份 
主題一：研究網路式診斷與預防保養功能架構之特性、功能與需求 
此一主題將初步分為以下三項工作： 
(1) 蒐集並研究半導體廠機台網路式診斷與預防保養系統的專業領域知識與資訊：我們將深入了
解目前各半導體廠機台診斷與預防保養之現況、流程、需求與缺失，並將研究 International 
SEMATECH 在網路式診斷（e-Diagnostics）與 IMS 在網路式預防保養（e-Maintenance）方
面所舉行的研討會資料及所發行的 Guidebooks，以充實執行本子計畫相關開發之專業知識
與資訊。 
(2) 研究機台維修保養相關知識、操作程序與機台行為模式： 
此項工作主要藉由研究機台系統結構、機台維修保養手冊、機台操作程序，以及機台行為模
式等，以瞭解整個機台系統的運作與維修保養方式。 
(3) 進行網路式診斷與預防保養功能架構之需求分析： 
本計畫將就多方面作需求分析探討，以作為設計系統功能之參考依據，分析項目初擬包括下
列幾項： 
1)  機台生產資料的收集、分類、儲存等之需求。 
2)  機台診斷與預防保養流程之需求。 
3)  工廠端診斷與預防保養伺服器之功能需求。 
4)  遠端診斷與預防保養伺服器之功能需求。 
5)  半導體製造商與設備供應商間診斷與預防保養資訊交換之需求。 
 3
1) 以 Ontology 的分析方法設計製造領域內之資訊交換基礎建設（Infrastructure），最能符合 
Knowledge-Based 與專家系統開發之知識交換架構需求。 
2) 對於知識分享而言，Ontology 能建構製造領域內標準化之知識模型，此參考模型能協助知
識交換機制快速地重用與學習。 
在實際的應用程式開發上，可利用本體論來架構領域內重要的概念(Concepts)，如此對於資訊系
統或是網際網路程式發展而言，透過本體論能夠組織關鍵字間的關聯性語意，以提供更精準的字
彙判斷機制。針對本體論，可利用 Ontology Inference Layer（OIL）作為輔助的開發工具。 
由於目前已成熟化發展的網路機制及標準規範，如 HTML，是以人類的易讀性及資訊的展現為
目的，但對於負責處理網路上大量資訊的電腦設備而言，卻無法真正的解譯這些資訊的語意；例
如：目前大部分 Search Engine 係採關鍵字執行網路搜尋，其所傳回的結果，有八成以上往往不
是使用者所預期的內容。由於電腦所處理的只是傳送資訊及展現資訊的功能，無法真正有效地處
理這些資訊的語意。然而 Semantic Web 的願景就是讓網路上流通的資訊都被包裝成能被電腦理
解的格式，並如人一般能夠明白資訊所代表的意思，OIL 在目標上就是為達到上述 Semantic Web
功能架構所設計之推論層。 
本子計畫將應用本體論來描述診斷與預防保養的知識，並運用 OIL 的方式包裝，使資訊得以在
網路上暢行無阻，本子計畫在設備供應商端所架設的錯誤診斷與預防保養知識資料庫，將運用此
一技術來開發。 
 
z 可延伸標記語言（XML, eXtensible Markup Language）：  
XML 為 W3C 推薦的標準，其具有文件自我描述特性、以及強大的文件結構化功能。XML 是一
種可延伸的標示語言，可針對不同的應用領域，定義所需的標記（Tag）；同時 XML 是一種元語
言（Meta-Language），可用來定義出其它的語言。一些基礎標準（如 DTD、XML Schema 等），
可用來規範 XML 文件的結構。XML 將資料的呈現與資料的內容分開，同一份文件可經由 XSL
（eXtensible Style-Sheet Language）轉換為適合不同裝置顯示得文件。同時，XML 是純文字檔，
可跨不同平台與應用程式，且容易進行處理及整合。因此能夠在網路上傳遞，跨平台整合不同來
源的資料內容，本子計畫的資料，將使用 XML 來表示。 
 
z 分散式物件導向技術（Distributed Object-Oriented Technology）：  
物件導向提供軟體元件三大特性：封裝、繼承與多型。在網路環境下，物件可能分散於各地方。
因此，如何整合這些物件，並做較高效率的運算將成為分散式物件導向技術所致力的重點，亦是
建構半導體診斷與預防保養系統，使其具有自主性與協調合作性的技術依據，本子計畫中分散式
物件間之通訊與協調合作，主要將運用網路服務（Web Services）相關技術來達成。 
網路服務乃是將網站上之應用功能做成可程式的元件放置於伺服器上，並提供存取之機制，可讓
網路上其他應用程式或網路服務，透過開放的網際網路通信協定來使用該元件，同時，網路服務
元件亦可整合其他的網路服務元件，以提供功能更複雜的服務。此一軟體架構為分散式物件提供
了自動溝通與整合訊息的機制，這也是新一代網際網路應用之技術趨勢。其運作原理是先由網路
服務提供者以 WSDL 描述網路服務，並藉由 UDDI 將網路服務發布到註冊節點（Service Broker）
後，網路服務使用者（Service Consumer）即可藉由 UDDI 在註冊節點找到所需要的網路服務，
並得以鍵結（Bind）使用該網路服務。 
 
 5
（2）擷取項目與規格介面之定義： 
Diagnosis Knowledge Presentation
Knowledge Concept
Layer
Semantic Binding
Layer
Knowledge Entities
Layer
Ontology
Search
Agent
Knowledge
Object
Model
Repair
Information
Model
include Knowledge
Entities
Schema/Java
XML- Binding
Mechanism
Repair
Information
Document
use
use
su
pp
or
thandle
abstract
Equipment
with
Embedded
Agents
On-site
Diagnostics
Server
Web
Internet
(SOAP)
Factory
Deliver the
un-repairable
information
Reply the
checkpoint
solutions
Diagnose for
checkpoint
solutions
Reply
checkpoint
solutions
Deliver
EE data & error
messages for
diagnostics & repair
Local diagnostic process
Data-Mining
System
Ontology
System
RDMS Communication
Manager
Diagnostics
Solution
Database
Data
Mining
Algorithm
User
feedback
record
use use
refer toDiagnostic
Agent
use
Supplier
Diagnostics-Solutions Retrieval System
Local
Diagnostics
Database
use
 
圖一 網路式診斷系統架構示意圖 
根據上一步驟可以得知擷取項目的種類可以分為連續資料（Trace Data）、事件回報（Events）與
錯誤回報（Exceptions）等三類型，目前 Events 與 Exceptions 以文字代碼表示，此兩項目可以提
供錯誤診斷的主要參考依據，而連續資料可以藉此繪製出曲線圖分析實際機台運作的情形，包含
正常運作與問題發生前後各模組的狀態。 
規格介面的定義主要目的為將上述分析整理後的機台工程資料，上傳給網路式診斷與預防保養系
統使用或其它子計畫使用，初步規劃可以參考 OBEM（Object Based Equipment Model）方式定義。
機台中主要的構成元件，包含 Equipment、Equipment Module、Equipment Resource、IO Device、
Process Capability、Material Location、Port Location、及 Carrier Port，其中 IO Device 定義機台
Sensor / Actuator 的屬性與狀態，此部份為主要 Trace Data 的來源，繼承自 Equipment Resource，
此部份之資訊將由子計畫一之嵌入式模組擷取，然後傳送給本子計畫二使用。至於此資訊擷取之
詳細設計方式將在子計畫一中說明。 
 
主題四：設計網路式診斷功能架構 
本主題說明網路式診斷（e-Diagnostics）功能架構之設計。 
網路式診斷功能架構之設計將包含工廠端（Factory Side）的診斷系統與設備供應商端（Supplier 
Side）的診斷系統，圖一為網路式診斷功能架構示意圖，分別說明如下： 
1. 設計工廠端的診斷系統： 
工廠端的診斷系統將設計有工廠端診斷伺服器（On-site Diagnostics Server，ODS） 
與本端診斷資料庫（Local Diagnostics Database）。 
(1) 工廠端診斷伺服器（On-site Diagnostics Server，ODS） 
ODS 其內將含有機台工程元件，以提供工廠本端診斷使用，同時也可以支援機台之遠端連結、
 7
 Equipment
with
Embedded
Agents
On-site
Maintenance
Server
Web
Internet
(SOAP)
Factory
Deliver the
un-prognostic
information
Reply the
suggestions
Reply
the
Prognostic
results
Deliver
EE data & for
Prognostics
RDMS Communication
ManagerPrognostic
Model
Data Mining
Algorithm
use
use
Local
Maintenance
Database
Analyze using
Prognostic model
use
Local maintenance process
Remote
Monitor
Performance
Knowledge Concept
Layer
Semantic Binding
Layer
Knowledge Entities
Layer
Ontology
Search
Agent
Knowledge
Object
Model
Maintenance
Information
Model
include
Knowledge
Entities
Schema/Java
XML- Binding
Mechanism
Maintenance
Information
Documentuse
use
su
pp
or
thandle
abstract
Ontology
System
Evaluation
Maintenance Knowledge Presentation
use
include
Supplier
Domain Experts
Support
 
圖二 網路式預防保養系統架構示意圖 
2. 設計設備供應商端之遠端預防保養系統： 
在設備供應商端的遠端預防保養系統將設計一個遠端預防保養伺服器（Remote Maintenance 
Server，RMS），其設計可分為兩部份，說明如下： 
 
(1) 本體論系統（Ontology System）： 
與上一主題類似，本系統將利用 Ontology、OIL 及 RDF 等技術，來建立了預防保養知識模型
（Maintenance Knowledge Model），並根據此一預防保養知識模型，利用 Java XML Data-Binding
技術，建置預防保養知識資料庫（Maintenance Knowledge Database）。如此，本系統可以根據機
台工程資料的描述資訊，以語意關聯找出與此問題相關的所有預防保養知識；本系統亦提供新增
建置預防保養知識的功能，將可不斷擴增預防保養知識庫的知識範疇。最後將此本體論系統的預
防保養解答資訊，透過網路服務機制傳輸，即時地提供給工廠端的機台工程師參考使用，以協助
他們進行機台設備之預防保養。系統設計說明如下： 
先收集所有有關半導體設備機台及工具的維護保養資料，其中可包含設計時的保養預防
（Maintenance Prevention）、維護時的事後保養（Breakdown Maintenance）、改善時的改良保養
（Corrective Maintenance）、時間計畫性的日常保養（Routine Maintenance）、及狀態監視的品質
保養（Quality Maintenance），將上述各資訊分析整理。 
根據本體論（Ontology）中所說明的概念（Concepts）能夠組織關鍵字間的關聯性語意，以提供
更精準的字彙判斷機制，運用此一機制，當收到關鍵字時，可藉由本體論的字彙判斷機制找到字
彙間的關聯性，然後連結到實體資料庫比對相對應的實體資料，傳回正確的資訊，因此可將預防
維護保養相關的概念整合起來成為一個模組類別，初期的模組類別包含了維護保養
（Maintenance）、維修（Repair）、調校（Adjustment）、零件更換（Change of Consumable）預防
保養（Preventive Maintenance）、保養手冊（Maintenance Specification）、及資訊來源（Resource）
 9
第二年部份 
 
主題六：建構半導體機台網路式診斷功能架構 
本主題實作及建構主題四所設計之網路式診斷功能架構。首先，我們實作在主題四所設計之各項
功能與系統，然後定義本網路式診斷功能架構中各式系統運作之架構訊息腳本（如工廠端之區域
診斷運作訊息及遠端診斷運作訊息等），並依此以物件導向的方式設計出系統使用案例圖（Use 
Case Diagram），接著進行系統的物件導向分析與設計（Object-Oriented Analysis and Design，OOA 
and OOD），據以完成各種循序圖（Sequence Diagrams）及類別圖（Class Diagrams），最後完成
網路式診斷功能架構之實作，簡要說明如下： 
 
1. 實作主題四所設計之各項功能與系統： 
主題四所設計之各項功能與系統是本網路式診斷功能架構能夠正常運作之核心所在，必須先將其
實作完成。 
 
2. 發展 ODS Communication Manager 及 RDS Communication Manager： 
由於我們利用物件導向的方法來設計系統，而物件導向的方法可利用繼承達到軟體之重複使用，
在總計畫中已經發展了一個通用網服基元（Web-Service Agent），其內部包含了 SOAP 通訊介面
（SOAP Interface）、UDDI 服務註冊機制（UDDI Registry Mechanism）、安全機制（Security 
Mechansim）、資料交換機制（XSLT Mechanism）和存取區域資料庫（Local Database）等功能，
其他元件可以利用繼承此通用網服基元而具有這些功能，毋須另行發展，這樣可以節省相當多的
發展時間，大幅提高系統的開發效率。因此，本網路式診斷功能架構中之 ODS Communication 
Manager（ODS 對外通訊的處理單元）及 RDS Communication Manager（RDS 對外通訊的處理單
元）均藉由繼承通用網服基元，並增加各自所需之相關功能來完成建構。 
ODS Communication Manager 及 RDS Communication Manager 因繼承通用網服基元，因此具有處
理網路服務及分散式運算的能力，因此，工廠端之診斷系統與遠端之診斷系統，得以利用 Web 
Services 機制相互溝通。 
 
3. 定義系統運作之架構訊息（Framework Messages）： 
為建構半導體機台網路式診斷功能架構，我們設計各式系統運作功能的架構訊息腳本，以作為系
統功能發展與整合測試的依據，以下即是一種可能之架構訊息腳本： 
1. EEA 將 EE 資料與錯誤訊息傳送給 ODS。ODS 根據從 EEA 得到之 EE 資料與錯誤訊息進
行診斷。 
2. ODS 將診斷結果與修復方案回傳給 EEA。 
3. EEA 根據從 ODS 得到之診斷結果與修復方案進行機台修復。 
4. EEA 將修復結果回傳給 ODS。 
5. ODS 根據從 EEA 得到之修復結果與更換零件要求 OLMS 進行零件備料。 
6. 若 ODS 無法根據從 EEA 得到之 EE 資料與錯誤訊息診斷出問題所在，則將此問題傳送給
RDS 並請求協助。 
7. RDS 根據從 ODS 傳來之 EE 資料與錯誤訊息進行診斷。 
8. RDS 將診斷結果與修復方案回傳給 EEA。 
9. EEA 根據從 RDS 得到之診斷結果與修復方案進行機台修復。 
10. EEA 將修復結果回傳給 ODS。 
11. ODS 根據從 EEA 得到之修復結果與更換之零件要求 OLMS 進行零件備料。 
 11
2. Query for Equipment Information 
  提供尋問機台設備的相關訊息。 
3. Maintain Information 
更新、維護機台設備診斷相關資訊、使系統能夠正常運作。 
接著繼續針對每個 Use Case，描述出其 OOA 階段的 Sequences Diagram，以表示出每個案例的
使用流程。 
Domain Expert
OILEd
DBMiner
Diagnose the un-repairable
information
Maintain Information
ODS
Query for Equipment Information
 
圖二 RDS 之使用者案例圖範例 
 
主題七：建構半導體機台網路式預防保養系統 
本主題實作及建構主題五所設計之網路式預防保養功能架構。首先，我們實作在主題五所設計之
各項功能與系統，然後定義本網路式預防保養功能架構中各式系統運作之架構訊息腳本，並依此
以物件導向的方式設計出系統使用案例圖（Use Case Diagram），接著進行系統的物件導向分析與
設計（Object-Oriented Analysis and Design，OOA and OOD），據以完成各種循序圖（Sequence 
Diagrams）及類別圖（Class Diagrams），最後完成網路式預防保養功能架構之建構，簡要說明如
下： 
1. 實作主題五所設計之各項功能與系統： 
主題五所設計之各項功能與系統是本網路式預防保養功能架構能正常運作之核心所在，必須先將
其實作完成。 
 
2. 發展 OMS Communication Manager 及 RMS Communication Manager： 
與上一主題類似，本網路式預防保養功能架構中之 OMS Communication Manager（OMS 對外通
訊的處理單元）及 RMS Communication Manager（RMS 對外通訊的處理單元）均藉由繼承通用
網服基元，並增加各自所需之相關功能來完成建構，OMS Communication Manager 及 RMS 
Communication Manager 因繼承通用網服基元，因此具有處理網路服務及分散式運算的能力，因
此工廠端之預防保養系統與遠端之預防保養系統，將可利用 Web Services 機制相互溝通。 
 
3. 定義系統運作之架構訊息（Framework Messages）： 
 13
3、Maintain Information 
更新、維護機台設備預防保養相關資訊、使系統能夠正常運作。 
得到使用者案例圖後，接著即可依序進行 RMS 的 OOA、OOD 及實作。 
 
Evaluate the un-prognostic
information
Domain Expert
OILEd
DBMiner
Maintain Information
OMS
Query for Equipment Information
 
圖四 RMS 之使用者案例圖範例 
主題八：半導體機台網路式錯誤診斷與預防保養應用實例建構及功能驗證 
本主題分為三部份：系統實作、功能測試，以及網路式診斷與預防保養系統應用實例之建構與功
能驗證，分別說明如下： 
 
1. 系統實作： 
軟體需求： 
A. 本研究計畫以統一建模語言（Unified Modeling Language, UML）對各個系統功能進行分析與
設計，完全依照物件導向的方式進行，相關文件的歸納與整理也將遵行統一發展流程（Unified 
Development Process, UDP）規範辦理。 
B. 電腦作業系統為 Microsoft Windows 2000。 
C. 系統開發以Borland Jbuilder 7.0與Microsoft Studio.NET為發展環境，所需完成的工作包含 Web 
Services、XML Parser、分散式程式設計、網路應用程式、資料庫應用及人機介面等。 
D. 機台工程資料（Equipment Engineering Data）將擷取自現場機台之工程資料，部分也將以模擬
方式產生，透過硬體介面（RS-232、Ethernet 等）對外輸出。 
E. 機台端監控採用 National Instrument LabVIEW 6.0i 為開發軟體，其提供許多虛擬儀表介面以及
硬體介面，包含（RS-232、GPIB、IEEE488、PXI 等），並且可有效與分散式環境做整合，再
搭配 Nacimiento AppletVIEW 可以透過網路將虛擬儀表畫面傳遞至遠端，達到監控的能力。 
F. 本系統中所應用的資料庫採用 Microsoft SQL Server。 
 
硬體需求： 
 15
1. 期刊論文 
[1] M.-H. Hung, K.-Y. Chen, R.-W. Ho, and F.-T. Cheng, “Development of an 
e-Diagnostics/Maintenance Framework for Semiconductor Factories with Security 
Considerations,” International Journal of Advanced Engineering Informatics, Vol. 17, Issues 3-4, 
pp. 165-178, July-October 2004. [SCI,EI] 
[2] M.-H. Hung, F.-T. Cheng, and S.-C. Yeh, “Development of a Web-Services-Based e-Diagnostics 
Framework for Semiconductor Manufacturing Industry,” IEEE Transactions on Semiconductor 
Manufacturing, Vol. 17, No. 5, pp. 122-135, February 2005. [SCI,EI] 
[3] M.-H. Hung, K.-Y. Chen, and S.-S Lin, “A Web-Services-based Remote Monitoring and Control 
System Architecture with the Capability of Protecting Appliance Safety,” Journal of Chung Cheng 
Institute of Technology, Vol. 34, No. 1, pp. 385-402, November 2005. [EI] 
[4] Y.-C. Su, M.-H. Hung, F.-T. Cheng, and Y.-T. Chen, “A Processing Quality Prognostics Scheme 
for Plasma Sputtering in TFT-LCD Manufacturing,” IEEE Transactions on Semiconductor 
Manufacturing, Vol. 19, No. 2, pp. 183-194, May 2006. [SCI,EI] 
[5] Y.-C. Su, F.-T. Cheng, M.-H. Hung, and H.-C. Huang, “Intelligent Prognostics System Design 
and Implementation,” IEEE Transactions on Semiconductor Manufacturing, Vol. 19, No. 2, pp. 
195-207, May 2006. [SCI,EI] 
 
2. 研討會論文 
[1] M.-H. Hung, S.-C. Yeh, and F.-T. Cheng, “Development of a Web-services-based e-Diagnostics 
Framework,” in Proceedings of 2003 IEEE International Conference on Robotics and Automation, 
Taipei, Taiwan, R.O.C., pp. 596-603, September 2003. 
[2] M.-H. Hung, R.-J. Huang, and F.-T. Cheng, “Development of an e-Diagnostics System for 
Semiconductor Equipment Using Data Mining and Ontology,” in The Seventh International 
Conference on Automation Technology (Automation 2003), Chia-Yi, Taiwan, R.O.C., pp. 37-42, 
September 2003. 
[3] M.-H. Hung, K.-Y. Chen, and S.-S. Lin, “Development of A Web-Services-based Remote 
Monitoring and Control Architecture,” in Proceedings of 2004 IEEE International Conference on 
Robotics and Automation, New Orleans, LA, USA, pp. 1444-1449, April 2004. 
[4] M.-H. Hung, R.-W. Ho, and F.-T. Cheng, “An e-Diagnostics Framework with Security 
Considerations for Semiconductor Factories,” in Proceedings of IEEE 2004 Semiconductor 
Manufacturing Technology Workshop (SMTW 2004), HsinChu, Taiwan, pp. 37-40, September 
9-10, 2004. 
[5] Y.-C. Su, F.-T. Cheng, G.-W. Huang, M.-H. Hung, and T. Yang, "A Quality Prognostics Scheme 
for Semiconductor and TFT-LCD Manufacturing Processes," in Proceedings of The 30th Annual 
Conference of the IEEE Industrial Electronics Society (IECON 2004), Busan, Korea, pp. 
1972-1977, November 2004. 
[6] M.-H. Hung, F.-Y. Hsu, T.-L. Wang, F.-T. Cheng, R. Lai, and T. Huang, “Development of a 
Secure Collaborative e-Diagnostics Framework for Semiconductor Factories,” in Proceedings of 
2005 IEEE International Conference on Automation Science and Engineering, Edmonton, Alberta, 
Canada, pp. 185-190, August 2005. 
[7] Y.-C. Su, M.-H. Hung, F.-T. Cheng, and T.-P. Lee, “Development of a Data Pre-processing 
Scheme and Pluggable Application Modules for an Intelligent Equipment Prognostics System,” in 
Proceedings of the 3rd International IEEE Conference on Industry Informatics (INDIN 2005), 
Perth, Western Australia, pp. 38-43, August 2005. 
 17
in 2001 IEEE International Symposium on Semiconductor Manufacturing, pp. 435-438, Oct. 8-10, 
2001. 
[15]  J.C. Lin, “A Study of On-Line Maintenance Practices at U.S. Nuclear Plants,” IEEE 
International Conference on reliability and maintainability 2002. 
[16]  S. Deb and S. Ghoshal, “Remote Diagnosis Server Architecture,” in AUTOTESTCON 
Proceedings of 2001 IEEE Systems Readiness Technology Conference, Valley Forge, PA, USA, 
pp. 988-998, Aug. 20-23, 2001. 
[17]  H. Li, T. Shi, Z. Li, Y. Tao, W. Chen and S. Yang, “Internet-based Remote Diagnosis: Concept, 
System Architecture and Prototype,” in Proceedings of the 3rd World Congress on Intelligent 
Control and Automation, Hefei, China, pp. 719-723, June 28-July 2, 2000. 
[18] N. H. M. Caldwell, B. C. Breton and D. M. Holburn, “Remote Instrument Diagnosis on the 
Internet,” IEEE Intelligent (Expert) Systems, vol. 13, issue 3, pp. 70-76, May-June 1998. 
[19] J. Han and M. Kamber, Data Mining:Concepts and Techniques, Academic Press, 2001. 
[20] P. C. Benjamin, C. P. Menzel, R. J. Mayer and N. Padmanaban, “ Toward a method for 
acquiring CIM ontologies, ” International Journal of Computer Integrated Manufacturing, vol. 
8, no. 3, pp. 225-234, 1995. 
[21] F. van Harmelen and I. Horrocks, “ Questions and answers on OIL: the Ontology Inference 
Layer for the semantic web, ” IEEE Intelligent Systems, vol. 15, no. 6, pp. 69-72, 2000. 
[22] Microsoft’s Web services site.  
http://msdn.microsoft.com/webservices 
[23] XML Specification. http://www.w3c.org/XML 
[24] E. Bertino and E. Ferrari, “XML and Data Integration,” IEEE INTERNET COMPUTING, pp. 
75-76, Nov.-Dec. 2001. 
[25] E. Bertino and B. Catania, “Integrating XML and Databases,” IEEE Internet Computing, vol. 5, 
pp. 84–88, July-Aug. 2001. 
[26] K. Scribner and M. C. Stiver, Understanding SOAP, SAMS, July 2000. 
[27] T. M. Chester, “Cross-Platform Integration with XML and SOAP”, IT Professional, vol. 3, pp. 
23–34, Sep.-Oct. 2001. 
[28] WSDL Specification. 
http://www.w3c.org/tr/wsdl 
[29] UDDI Specification. http://www.uddi.org 
[30] SEMI, “E98 for The Object-Based Equipment Model”, SEMI International Standard CD-ROM, 
Semiconductor Equipment and Materials International, 2001. 
[31] “Semantic Web Activity: Resource Description Framework (RDF),” W3C.  
http://www.w3.org/RDF/ 
[32] R. Mark, “An XML Data-Binding Facility for the Java Platform,” Sun Microsystems, Inc., 
1999. http://java.sun.com/ 
[33] M. Honma and J. Pettinato, “Factory Integration Attributes and Drivers for E-Manufacturing,” 
in 2001 International Technology Roadmap for Semiconductors, ITRS, 2001. 
[34] J. H. Lee, S. J. Yu, and S. C. Park, “Design of Intelligent Data Sampling Methodology Based 
on Data Mining,” IEEE Transactions on Robotics and Automation, vol. 17, no.5, pp. 637-649, 
Oct. 2001. 
[35] D. Braha and A. Shmilovici, “Data Mining for Improving a Cleaning Process in the 
Semiconductor Industry,” IEEE Transactions on Semiconductor Manufacturing, vol. 15, no. 1, 
 19
附件一 期刊論文 
 
[1] M.-H. Hung, K.-Y. Chen, R.-W. Ho, and F.-T. Cheng, “Development of an 
e-Diagnostics/Maintenance Framework for Semiconductor Factories with Security 
Considerations,” International Journal of Advanced Engineering Informatics, Vol. 17, Issues 3-4, 
pp. 165-178, July-October 2004. [SCI,EI] 
[2] M.-H. Hung, F.-T. Cheng, and S.-C. Yeh, “Development of a Web-Services-Based e-Diagnostics 
Framework for Semiconductor Manufacturing Industry,” IEEE Transactions on Semiconductor 
Manufacturing, Vol. 17, No. 5, pp. 122-135, February 2005. [SCI,EI] 
[3] M.-H. Hung, K.-Y. Chen, and S.-S Lin, “A Web-Services-based Remote Monitoring and Control 
System Architecture with the Capability of Protecting Appliance Safety,” Journal of Chung Cheng 
Institute of Technology, Vol. 34, No. 1, pp. 385-402, November 2005. [EI] 
[4] Y.-C. Su, M.-H. Hung, F.-T. Cheng, and Y.-T. Chen, “A Processing Quality Prognostics Scheme 
for Plasma Sputtering in TFT-LCD Manufacturing,” IEEE Transactions on Semiconductor 
Manufacturing, Vol. 19, No. 2, pp. 183-194, May 2006. [SCI,EI] 
[5] Y.-C. Su, F.-T. Cheng, M.-H. Hung, and H.-C. Huang, “Intelligent Prognostics System Design 
and Implementation,” IEEE Transactions on Semiconductor Manufacturing, Vol. 19, No. 2, pp. 
195-207, May 2006. [SCI,EI] 
 
 21
st
w
hen
Techn
l Chen
ce is
nd to
, and
s pap
encry
an ac
cation
Advanced Engineering Inform1474-0346/$ - see front matter q 2004 Elsevier Ltd. All rights reserved.Keywords: e-Diagnostics; e-Maintenance; Semiconductor Equipment; Web Services; Information integration framework
1. Introduction
The cost of equipment approximately occupies 75% of
the total investment for a semiconductor factory [1].
However, according to the statistics, such costly equipment
only possesses 33% of overall equipment effectiveness
(OEE) [1]. There is too much time during which the
equipment is either idle or under the routine/non-routine
maintenance. Therefore, how to effectively increase the
equipment effectiveness and availability has become a very
important task to be dealt with in the semiconductor factory.
It is also one of the key factors for gaining profits.
Generally, a semiconductor factory can increase the
equipment’s effectiveness and availability by diagnostics
and maintenance measures [2]. At present, the work of
diagnostics and maintenance on equipment is still far away
from full automation. When a problem occurs to equipment,
the equipment engineer may obtain the relevant remedy
solution from past experiences or by looking up
the equipment repair and maintenance documents provided
by the equipment supplier. If the problem is too compli-
cated, the equipment supplier may need to send equipment
service engineers to the factory to perform diagnostics,
testing, and maintenance on the equipment. Sometimes, the
equipment service engineer needs to bring the symptom
back to the equipment supplier’s diagnostics center and
uses the information system to inquire the solution
information or purchase the required maintenance com-
ponents. Hence, the diagnosis and repair on failed equip-
ment usually cannot be performed immediately such that the
downtime of equipment is long and causes a significant
production loss [3].
Due to the advancement of information and Internet
technologies, the concept of e-Diagnostics [4] and e-Main-
tenance [5] is proposed recently in the semiconductor
industry. By leveraging information and Internet technol-
ogies, the e-Diagnostics/Maintenance system provides equip-
ment supplier’s experts with the capability to remotely link toDevelopment of an e-Diagno
for semiconductor factories
Min-Hsiung Hunga,*, Kuan-Yii C
aDepartment of Electrical Engineering, Chung Cheng Institute of
bInstitute of Manufacturing Engineering, Nationa
Abstract
In recent years, the concept of e-Diagnostics and e-Maintenan
information technologies, e-Diagnostics and e-Maintenance inte
connectivity, manipulation, configuration, performance monitoring
promptly diagnosing, repairing, and maintaining equipment. In thi
oriented technologies, such as Web Services, XML signature, XML
framework with security considerations. The proposed framework c
diagnostics and maintenance information under a secure communi
q 2004 Elsevier Ltd. All rights reserved.ics/Maintenance framework
ith security considerations
a, Rui-Wen Hoa, Fan-Tien Chengb
ology, National Defense University, Tao-Yuan 335, Taiwan, ROC
g Kung University, Tainan 70101, Taiwan, ROC
proposed in the semiconductor industry. By using Internet and
provide equipment specialists with the remote capabilities of
data collection and analysis on equipment to achieve the goal of
er, new-generation information software technologies and object-
ption, UML, etc. are used to develop an e-Diagnostics/Maintenance
hieve the automaton of diagnostic processes and the integration of
infrastructure.
atics 17 (2003) 165–178
www.elsevier.com/locate/aeidiagnosis, de-bugging/fixing, performance monitoring, and
data collection and analysis. Accordingly, equipment can be
rapidly repaired and maintained, and equipment performance
doi:10.1016/j.aei.2004.07.004
3801407.
E-mail addresses: minmin@ccit.edu.tw (M.-H. Hung), chengft@
mail.ncku.edu.tw (F.-T. Cheng).factory’s equipment through Internet, allowing them to take
remote actions, such as setup, control, configuration,
* Corresponding author. Tel.: C886-3-3809991 ext 162; fax: C886-3-
and integration test. Finally, Section 7 provides the
summary and conclusions. Finally, Appendix A describes
the acronyms in the paper.
2. Design of the e-Diagnostics/Maintenance framework
The proposed Web-Services-based e-Diagnostics/Main-
tenance framework with security considerations is shown in
Fig. 1. For the sake of security, an outer firewall is installed
between the Internet and the enterprise (IC factory or
equipment supplier) to protect the security of Extranet
information of the enterprise. Also, an inner firewall
is installed within the enterprise to handle the inspection
and screening of the information that intends to enter the
enterprise’s Intranet for avoiding confidential data of
equipment being stolen or damaged. The information
components in Extranet usually need to communicate with
other information components outside the enterprise;
therefore, public Internet Protocol (IP) addresses are used.
On the contrary, the information components inside Intranet
need to use private IP addresses to lower the possibility of
suffering damages.
As shown in Fig. 1, the proposed e-Diagnostics/
Monitoring and Security Server (MSS) in Extranet on IC
factory side, Remote Diagnostics/Maintenance Server
(RDMS) and Global Diagnostics/Maintenance Database
(GDMD) in Extranet on equipment supplier side, and
Universal Description Discovery and Integration (UDDI)
[26] Registry Node in Internet.
EEA is the equipment that contains an embedded agent.
The embedded agent in EEA is responsible for monitoring
the equipment and collecting equipment engineering data
and can exchange data with other system components
through SOAP.
ODMS is the diagnostics and maintenance server
component. It contains various equipment engineering
Web Services components to provide diverse functions
and information required for equipment diagnostics and
maintenance. Moreover, ODMS is also responsible for
handling the local diagnostics and maintenance process of
equipment. For instance, when an error occurs on equip-
ment, the diagnostics will be processed first by ODMS to
solve the equipment problem. If the problem cannot be
solved locally, the equipment engineer near EEA may then
make a judgment for whether or not to activate the remote
diagnostics to request the assistance of the diagnostics
system on the equipment supplier side through Internet.
M.-H. Hung et al. / Advanced Engineering Informatics 17 (2003) 165–178 167Maintenance framework consists of Equipment with
Embedded Agent (EEA), On-site Diagnostics/Maintenance
Server (ODMS), Local Diagnostics/Maintenance Database
(LDMD) and On-site Global Equipment Engineering
Database (OGEED) in Intranet on IC factory side,Fig. 1. The proposed Web-Services-based e-Diagnostics/MSuch an operation practice can save the network bandwidth
and avoid the security threat that comes from the remote
diagnostics services through Internet.
ODMS can also retrieve equipment engineering (EE)
data from EEAs and save them into OGEED. These EE dataaintenance framework with security considerations.
MSS applies the technologies, such as XML signature and
XML encryption, to authenticate the accuracy of the
remote operation messages of equipment. MSS also
ineericontains the functions of user policies and profiles
management, which can collectively manage the infor-
mation and authorization of the system users. Accord-
ingly, the maintenance cost is reduced and the security is
enhanced. Besides, MSS acts as the security guard for
equipment and the remote diagnostics server component.
It provides the function of security logging that can
monitor and record all of the remote operation statuses of
the system to provide evidences for the system security
audit. The functions provided by MSS are built upon MSS
Web-Services Agent in the form of Web Services. Other
system components can use the functions provided by
MSS by calling the methods in MSS Web-Services Agent
through SOAP.
In RDMS on the equipment supplier side, professional
diagnostics and equipment engineering components are
designed to provide remote diagnostics and maintenance
functions. Similarly, the functions provided by RDMS are
built upon RDMS Web-Services Agent in the form of Web
Services. Other system components can use the functions
provided by RDMS by calling the methods in RDMS Web-
Services Agent with SOAP.
Since Web Services are exploited as the communi-
cation infrastructure, and Web Services are loosely
coupled, the proposed framework has good expandability.
If a new component is implemented in the form of Web
Services, then it can be easily added to the system
communication infrastructure to interoperate with other
components.
4. Analysis and design of the monitoring and security
server
This section describes the analysis and design of the MSS
that plays the key role of security considerations in the
proposed e-Diagnostics/Maintenance framework. The
development follows the procedure of the standard object-
oriented system development. The functional requirements
are analyzed first, and then the object-oriented analysis
(OOA) and object-oriented design (OOD) are subsequentlyvarious functions and information required for the diag-
nostics, maintenance, and engineering operations of equip-
ment in the IC factory. These equipment-engineering
components of ODMS are built upon ODMS Web-Services
Agent. Other system components can use the functions
provided by ODMS by calling the methods in ODMS Web-
Services Agent with SOAP.
MSS is responsible for providing the system with a
unified mechanism of user authentication and authori-
zation with single sign-on capability [27]. In addition,
M.-H. Hung et al. / Advanced Engperformed.4.1. Analysis of functional requirements
In this section, the functional requirements of MSS are
analyzed. The analyses include the following six phases: (1)
single sign-on authentication and authorization service; (2)
confirmation of data accuracy; (3) assurance of information
confidentiality; (4) management of system users; (5) audit of
system operations; and (6) safety guard and communication
agent.
4.1.1. Single sign-on authentication and authorization
service
All the components of the e-Diagnostics/Maintenance
system have the access security problem. In the proposed
framework, a single sign-on authentication and authoriz-
ation service is required. As such, after users passing the
authentication through the Web Services, a single integrated
authorization process can be performed so that it is not
necessary for the users to repeatedly perform login activities
among different system components for achieving inte-
grated operations among system components.
As shown in Fig. 3, a user requests MSS Web-Services
Agent to login the system via the user interface. MSS Web-
Services Agent, then, authenticates the user’s identity
through the authentication service. After finishing the
authentication, the user role-based identification is obtained
and fed back to the user. After successfully completing the
authentication for login, the user can use the feedback user
role-based identification to request MSS Web-Services
Agent to perform subsequent system operations. MSS
Web-Services Agent hands over the request to the
authorization service for processing authorization. Then,
after the authorization result is obtained, it will be passed to
the relevant application program for execution. By referring
to.NET passport mechanism [30] and Security Assertion
Markup Language (SAML) standard of OASIS [31],
together with incorporating the Public Key Infrastructure
(PKI) mechanism [32] to encrypt/decrypt the transmitted
data, the single sign-on authentication and authorization
service is implemented.
4.1.2. Confirmation of data accuracy
The application of XML signature [23] can ensure the
integrity of SOAP messages transmitting in Internet. Also,
the SOAP message receiving side can authenticate the
transmitter’s identity through authenticating the XML
signature in the message. Combining these two character-
istics, the non-repudiation can be achieved as the basis for
security auditing.
The utilization of certificates is required for processing the
authentication work of XML signature. To enable the system
to effectively obtain and securely manage all the certifica-
tions, MSS is designed to uniformly authenticate the XML
signature of messages. As shown in Fig. 4, the user on RDMS
uses her/his certificate kept in the current user certification
ng Informatics 17 (2003) 165–178 169store under the current operating system account to add XML
assura
ineeriXML signature to the request SOAP message, and then the
system transmits the signed SOAP message to MSS for
requesting services. After receiving the signed SOAP
message, MSS applies the trusted certificate that is relative
to the service requester and saved in the local machine
certification store to authenticate the XML signature of the
received SOAP message. After the authentication process is
passed, MSS applies that trusted certificate that is relative to
the service requester to implement XML encryption to the
execution result of the service request, and then feeds the
Fig. 5. Requirement analysis of theM.-H. Hung et al. / Advanced Engencrypted result back to RDMS. The encrypted data can
finally be decrypted only by the service requester.
4.1.4. Management of system users
MSS is responsible for providing a single sign-on
authentication and authorization service for the proposed
framework. Thus, it needs to possess the function of the
system user management. To avoid providing too much
authorization to users, which will reduce the overall security
of the system, a role-based authorization mechanism is
applied. According to the identities and the professional
specialties of users participating system operations, the role
is classified into different user groups. Then, the users in
different groups are granted with different authorizations for
using the system applications.
For instance, the person who belongs to the administrator
group can add or delete the system users’ accounts and data
and manage the entire system, the person who belongs to the
tool-analyst group can obtain the equipment engineering
data for analysis, and the person who belongs to the
technical-support-specialist group can operate the equip-
ment either at the local site or on the remote side to perform
relevant diagnostics and maintenance tasks. In this way,4.1.5. Audit of system operations
When the function of remote diagnostics and mainten-
ance is performed, MSS is responsible for auditing all
external communications of the IC factory. Therefore, all
remote operations in the e-Diagnostics/Maintenance systemeach user belongs to a certain user group. By setting up the
user groups for obtaining proper authority of using system
components, the management of user authorizations is
achieved.
nce of information confidentiality.ng Informatics 17 (2003) 165–178 171shall be recorded in MSS for the purpose of security
auditing. The records in MSS should include the requested
operation, the user information, the execution time,
execution results, and whether the requested operation is
authorized or not, so that the information security auditors
can smoothly perform their tasks. Moreover, a graphical
user interface is constructed to display the latest system
operation records. At any time, the information security
maintainer of the enterprise can monitor the system
operation statuses through this graphical user interface to
prevent any occurrence of system damages that may come
from unsecured behaviors.
4.1.6. Safety guard and communication agent
MSS is both the safety guard and the communication
agent between EEA and RDMS However, MSS is mainly
responsible for establishing the security functions for the
system, instead of practically performing requested oper-
ations. Therefore, MSS needs to possess the ability to pass
the requested operations on to other system components that
actually perform the associated operations. For instance, in
the operation that EEA requests remote diagnostics services
from RDMS, EEA actually sends the request to MSS, and
† Create a User: Administrator can add new system users
to the Account via MSS. This use case includes the
use cases of Get Current Users and Get Current User
Groups to avoid repeatedly setting up accounts for
existing users. Also, by selecting the newly added system
user and assigning the specific user group that the user
should belong to, the relevant authorization task is
completed.
† Create a User Group: Administrator can add a new user
group and the relevant authorization into the Account via
MSS.
† Modify Privileges: Administrator can revise the auth-
orities of the user groups stored in the Account via MSS.
This use case includes the use case of Get Current User
Groups to realize the authority setup status of the current
user groups. This authority setup status is used as the
basis for modifying the privileges.
According to the use case diagram, every use case is
further described to subsequently generate the correspond-
ing scenarios. Then, based on the scenarios, the OOA of
MSS is
only the
authenti
Step 3. MSSWeb-ServicesAgent checks the XML signa-
ture of the message and gets the public key, the
encryption token, relevant to the remote user by
using the method and information in the machine
key store of MSS, MSSMachineKeyStore.
Step 4. MSSWeb-ServicesAgent decrypts the message
with the public key by calling the method in
MSSMachineKeyStore. Then the ID and password
of the remote user in plain-text format can be
obtained.
Step 5. MSSWeb-ServicesAgent authenticates the remote
user and gets the role-based authorization of the
remote user by using the method and information in
the database, Account.
Step 6. MSSWeb-ServicesAgent records the action infor-
mation that includes the user ID, user role, action
time, action, and condition into the auditing
database of MSS, MSSAuditingDatabase.
Step 7. MSSWeb-ServicesAgent encrypts the role-based
authorization information with the public key and
Acco
generate
perform
class dia
M.-H. Hung et al. / Advanced Engineering Informatics 17 (2003) 165–178 173please refer to the Ref. [33].
The sequence diagram in Fig. 7 is described as follows.
Step 1. The user at RDMS sends the sign-on message with
XML signature and encryption to the interface of
MSS, MSSinterface.
Step 2. MSSinterface passes the sign-on message on to the
MSS Web-Services Agent.Fig. 7.sequence diagram of the remote single sign-on
cation and authorization of MSS is demonstrated in
For the rest of the detailed descriptions of OOA,diagramperformed to create the sequence diagrams and class
s of the OOA stage. Due to the space limit, hereFig. 7. Sequence diagram of remote single sign-on authenticationrding to the sequence diagrams and class diagrams
d during the OOA stage, the OOD of MSS can be
ed in depth to produce the sequence diagrams and
grams of the OOD stage. Fig. 8 shows the sequence4.3. Object-oriented designsends the encrypted information to RDMS through
MSSinterface. The user at RDMS can then decrypt
the message with his/her private key to get the role-
based authorization, which can be used in sub-
sequent system component accesses.and authorization at the OOA stage.
of MS
ineering Informatics 17 (2003) 165–178 175Fig. 9. Class diagram
M.-H. Hung et al. / Advanced Engequipment engineering system on the RDMS is created to
enable the supplier experts to remotely operate equipment
through MSS.
On the ODMS, in addition to the diagnostics component,
which can retrieve diagnostic solutions from LDMD
according to the equipment error messages, a prognostic
model for equipment predictive maintenance [37] is also
built by using neural network and time series analysis
techniques. The prognostic model can predict the future
potential faults of equipment before they occur. Accord-
ingly, equipment engineers can take necessary precautions
against those faults in advance such that the availability of
equipment can be effectively raised.
This prototype system adopts Windows 2000 as the
development platform to develop the system components
such as MSS, EEA, RDMS, ODMS, etc. Java language is
applied for the implementation of EEA, and Sun JRE [38] is
adopted as its execution environment. On the other hand,
MSS, ODMS, and RDMS are implemented with C#, and
Microsoft.Net CLR [39] is used as their execution
environment. This implementation has also proved the
interoperability of the proposed information integration
framework under heterogeneous execution environments
and different language programs.
The software tools of the system implementation include
(1) Borland Jbuilder 7 [40]; (2) Microsoft Visual Studio.NET
[39]; (3) Apache axis [41] and Microsoft Internet Infor-
mation Services [39]; (4) Microsoft SQL Server 2000 [39],S at the OOD stage.and
oth
set
OD
par
EE
for
pro
equ
e-D
sce
on
e-M
†(5)
er h
s of
MS
Fig.
adig
A, O
the
toty
ipm
In o
iag
nari
e sc
ain
e-D
1.
2.
3.Microsoft Web Services Enhancement [42]. On the
and, the hardware for system deployment uses four
Pentium IV PCs, where EEA, MSS, RDMS and
are separately installed in different PCs.
10 depicts the system integration and testing of the
m e-Diagnostics application. The designs of MSS,
DMS and RDMS all have graphical user interfaces
convenience of users to operate the system. In this
pe system, the equipment is substituted with the
ent simulator that complies with CEM specifications.
rder to verify the effectiveness of the proposed
nostics/Maintenance framework, various operational
os are designed to test the system. Among them,
enario for e-Diagnostics operation and one for
tenance operation are described below.
iagnostics scenario:
When an error occurs on equipment, the equipment
sends the error message to EEA. EEA then delivers
the error message to ODMS. ODMS searches the
relevant diagnostic solution from the LDMD accord-
ing to the error message. Finally, ODMS replies the
diagnostic solution to EEA.
If a proper diagnostic solution is available, the on-
site equipment engineer executes the suggestion for
diagnosing and repairing the equipment.
The on-site equipment engineer reports the restor-
ation status to ODMS via EEA. ODMS stores
the syste
ment engineering data, remote diagnostics, fixing, monitoring
in semiconductor factories, can be established. In addition,
TESTCON proceedings of IEEE systems readiness technology
conference; 2001 p. 988–98.
[12] Fong ACM, Hui SC. An intelligent online machine fault diagnostics
M.-H. Hung et al. / Advanced Engineering Informatics 17 (2003) 165–178 177the proposed framework can meet various security
requirements, such as the authentication and authorization
of users, the protection of information confidentiality, the
safeguard of data transmission security, and the monitoring
of system operations.
Because open and object-oriented technologies are used
to develop the system, the proposed e-Diagnostics/Mainte-
nance framework possesses the characteristics of openness,
modularity, expandability, easy maintenance, and low cost.
It is believed that the proposed framework can meet the
requirements of e-Diagnostics/Maintenance systems for the
semiconductor industry.
The authors would like to thank the National Science
Council of the Republic of China for financially supporting
this research under Contract No. NSC-91-2212-E-014-011,
NSC-92-2212-E-014-003, and NSC-92-2212-E-006-098.
Appendix A. Acronyms
APC Advanced Process Control
CEM Common Equipment Model
EEA Equipment with Embedded Agent
GDMD Global Diagnostics/Maintenance Database
GXA Global XML Web Service Architecture
HTTP Hyper Text Transfer Protocol
HTTPS Hyper Text Transfer Protocol with Secure Socket
Layer
IP Internet Protocol
ISDN Integrated Services Digital Network
LDMD Local Diagnostics/Maintenance Database
MSS Monitoring and Security Server
OBEM Object-Based Equipment Model
ODMS On-site Diagnostics/Maintenance Server
OEE Overall Equipment Effectivenessof equipment, and fault prediction, which are necessary
to adequately support the e-Diagnostics/Maintenance tasksvarious fOGEEDunctions, such as automatic collection of equip-and maintenance information through Internet so thatthe mechanism for automatically integrating diagnosticssequentially performed. The proposed framework providessystem implementation, integration, and testing, aresketched. Then, the OOA and design, together with thework is dm requirements are analyzed, the system frame-
esigned first. Next, the system component model issystem is developed with an object-oriented approach. Aftersecurity considerations for the semiconductor industry. Theproposes an e-Diagnostics/Maintenance framework withgeneration information security technologies, this paperBased on the Web Services technology and new-7. Summary and conclusionsOn-site Global Equipment Engineering Database[18] Web s
[19] XML[20] SOAPervices, http://www.webservices.org.
specification, http://www.w3c.org/XML.Technol 2003;14(6):508.through Internet, integrated manufacturing systems. Int J Manufact[17] Rao JS, Zubair M, Rao C. Condition monitoring of power plantsInterne
maintet. The third Asia Pacific conference systems integrity and
nance; 2002. p. 268.[16] Rao JS, Sharma S, Gupta T, Zubair M. On-line diagnostics using theIAS/PCA cement industry technical conference; 1999. p. 31–48.[15] Errath RA, Dominguez JJ. Remote drive condition monitoring. IEEE-13(3):70–6.[14] Caldw
diagnoell NHM, Breton BC, Holburn DM. Remote instrument
sis on the Internet. IEEE Intelligent (Expert) Systems 1998;congress on intelligent control and automation; 2000. p. 719–23.diagnosis: concept, system architecture and prototype. The third world[13] Li H, Shi T, Li Z, Tao Y, Chen W, Yang S. Internet-based remotesystem. Comput Control Eng J 2001;12(5):217–23.OOA Object-Oriented Analysis
OOD Object-Oriented Design
PKI Public Key Infrastructure
RDMS Remote Diagnostics/Maintenance Server
SAML Security Assertion Markup Language
SOAP Simple Object Access Protocol
SPC Statistics Process Control
SSL Secure Socket Layer
SSO Single Sign On
UDDI Universal Description Discovery and Integration
UML Unified Modeling Language
WSDF Web-Services-based e-Diagnostics Framework
XML eXtensible Markup Language
References
[1] SEMI (Semiconductor Equipment and Material International). http://
www.semi.org.
[2] Lee J, Wang B. Computer-aided maintenance—methodologies and
practices. Boston: Kluwer Academic; 1999.
[3] Raman R. Diagnostics in IC manufacturing: a case study.: Semicon-
ductor International; 2001, http://www.e-insite.net/semiconductor/.
[4] e-Diagnostics and EEC Workshop. International SEMATECH,
Austin, Texas; 2001, http://www.sematech.org/.
[5] Web site of the Center for Intelligent Maintenance Systems (IMS),
http://www.imscenter.net/.
[6] Singer P. e-Diagnostics: monitoring tool performance: Semiconductor
International; 2001, http://www.e-insite.net/semiconductor/.
[7] e-Diagnostics and EEC Workshop. International SEMATECH,
Munich, Germany; 2002, http://www.sematech.org/.
[8] e-Diagnostics Guidebook, version 1.5, International SEMATECH;
2002, http://www.sematech.org/.
[9] LocyM.The impact of e-Diagnostics—one year later. IEEE international
symposium on semiconductor manufacturing; 2001, p. 435–8.
[10] Inaba M, Aizono T, Sonobe K, Fukube H, Iizumi T, Arima J, et al. The
development of security system and visual service support software
for on-line diagnostics. IEEE international symposium on semicon-
ductor manufacturing, 2001, p. 45–8.
[11] Deb S, Ghoshal S. Remote diagnosis server architecture. AUTO-specification, http://www.w3c.org/tr/soap.
 
 
[2] M.-H. Hung, F.-T. Cheng, and S.-C. Yeh, “Development of a Web-Services-Based e-Diagnostics 
Framework for Semiconductor Manufacturing Industry,” IEEE Transactions on Semiconductor 
Manufacturing, Vol. 17, No. 5, pp. 122-135, February 2005. [SCI,EI] 
 
 1
HUNG et al.: DEVELOPMENT OF WEB-SERVICES-BASED e-DIAGNOSTICS FRAMEWORK 123
Fig. 1. Development procedure of the WSDF.
supporting systems, and deliver diagnostics information among
fabs and suppliers. Therefore, the construction of an e-diagnos-
tics system involves a variety of cross-platform information in-
tegration issues, such as the development of data transformation
mechanism, the design of communication messages, the selec-
tion of data transmission protocols, and the construction of a
safe network connection.
To fulfill the requirements of e-diagnostics systems and
remedy the shortcomings of existing diagnostic systems, this
paper proposes an e-diagnostics framework, called Web-Ser-
vices-based e-diagnostics framework (WSDF), which is based
on the new-generation distributed object technology—Web Ser-
vices [13]. WSDF possesses the mechanism of automatically
integrating diagnostics information over the Internet and thus
can support many functions needed for e-diagnostics, such as
automatically collecting equipment data, remotely diagnosing,
fixing, and monitoring equipment, and analyzing and predicting
the equipment performance.
WSDF uses the Web-Services technology to resolve the
information integration problems among cross-network,
cross-platform, and heterogeneous systems. In particular,
eXtensible Markup Language (XML) [14], [15] is exploited
to express data such that various kinds of information can
be exchanged and integrated among different systems and
platforms. In addition, Simple Object Access Protocol (SOAP)
[16] [17] is used as the messaging protocol to achieve the
interoperability of cross-platform and distributed systems. It is
notable that SOAP messages can be transported using Hyper
Text Transmission Protocol (HTTP) such that communication
messages can successfully pass through the firewall. Also, with
the property that Web Services are programmable application
components that can be described by Web Services Description
Language (WSDL) [18] and published on the Web, WSDF
allows semiconductor fabs to register equipment engineering
services and suppliers to register diagnostics services on Uni-
versal Description Discovery and Integration (UDDI) registry
nodes [19]. As such, client applications can find those equip-
ment engineering services and diagnostics services on Web and
use them. Therefore, WSDF can easily be expanded for global
applications involving multiple fabs and multiple suppliers.
Besides, a unified authentication-service mechanism and a safe
network connection are also designed in the framework.
The remainder of the paper is organized as follows. Section II
introduces the procedure of system development. Section III de-
tails the design of the WSDF. The object-oriented analysis and
design of system components in WSDF are depicted in Sec-
tion IV. Section V constructs a paradigm application of e-diag-
nostics and describes the associated implementation and inte-
gration test. Section VI provides the summary and conclusions.
Finally, Appendix A describes the acronyms in the paper.
II. DEVELOPMENT PROCEDURE
A systematic procedure is devised to develop the WSDF,
as shown in Fig. 1. Five stages are included in the procedure:
system analysis, e-diagnostics framework design, component
design and implementation, application construction, and
system integration and testing. Each stage of the procedure is
described as follows.
HUNG et al.: DEVELOPMENT OF WEB-SERVICES-BASED e-DIAGNOSTICS FRAMEWORK 125
Fig. 2. WSDF model.
Fig. 3. System component model of the WSDF.
B. Design the System Component Model
Based on the framework model in Fig. 2, the system com-
ponent model of WSDF is designed as in Fig. 3. The system
components include fab’s DAS and ODS, supplier’s RDS, au-
thentication service, and service components of other factories
and suppliers. The major server components, DAS, ODS, and
RDS in WSDF are described as follows.
HUNG et al.: DEVELOPMENT OF WEB-SERVICES-BASED e-DIAGNOSTICS FRAMEWORK 127
Fig. 5. Functional blocks of the Web-Service agent.
plug-and-play fashion. In such a manner, other business com-
ponents, such as manufacturing execution system (MES), enter-
prise resources planning (ERP), and supply chain management
(SCM), can also inherit the Web-Service agent to interoperate
with WSDF components.
According to aforementioned properties, WSDF can be ex-
panded for global applications involving multiple fabs and mul-
tiple suppliers, as shown in Fig. 4. The DASs in semiconductor
fabs can register various EE Web Services into UDDI registry
nodes such that the RDSs of suppliers can find and use these
services to obtain global EE data and access specific equipment.
At the same time, semiconductor fabs that possess diverse kinds
of equipment can find and use the correct diagnostics Web Ser-
vices registered by suppliers from any UDDI registry node. In
the manner that the service components of factories and sup-
pliers are described with WSDL and registered through UDDI
and can communicate with each other via SOAP, the global ap-
plication of WSDF can be achieved.
C. Identify Generic Functions Among Components
As described previously, several common functions, in-
cluding SOAP communication, UDDI registration, security
mechanism, data exchange mechanism, and local database
access, can be identified and put together to become the
Web-Service agent. In Fig. 5, the functional blocks that include
SOAP Interface, UDDI Registry Mechansim, Security Mech-
anism, eXtensible Stylesheet Language [35] Transformations
(XSLT) Mechanism, and Local Database, are used to express
these common functions, individually. Also, the Communi-
cation Kernel is designed to manage and use these functions.
Additional generic capabilities can also be added in the future.
D. Define Framework Messages
For the design of WSDF to support a specific application
operation, the framework messages, which are the communica-
tion messages among WSDF system components to complete
that operation, should be defined. According to the scenario of
the framework messages, the necessary system components in
WSDF and their associated methods and attributes can then be
designed. For example, Fig. 6 shows a set of designed frame-
work messages for completing an e-diagnostics operation,
which are described as follows.
1) When a fault occurs, the equipment delivers the error mes-
sage to DAS.
2) DAS passes the error message to ODS.
3) ODS searches the LDD for the diagnostic solution (check-
point solution) based on the error message.
4) ODS responds to DAS with the checkpoint solution.
5) DAS itself with the aid of onsite engineers may trou-
bleshoot the equipment based on the checkpoint solution.
6) DAS reports the diagnostic status to ODS. This completes
the local diagnostic operation.
7) If no diagnostic solution for the occurring fault is found
locally, or the fault cannot be remedied accordingly, then
DAS delivers the error message to RDS.
8) RDS responds to DAS with the checkpoint solutions,
which are obtained from the diagnostics-solutions re-
trieval system, which is a remote diagnostics system on
the supplier side.
9) DAS itself with the aid of onsite engineers may trou-
bleshoot the equipment based on the checkpoint solution
obtained in Step 8).
10)DAS reports the diagnostic status to ODS.
11)ODS saves the new case, which includes the information
of the fault and the associated diagnostic solution to LDD
to facilitate future local diagnostic operations.
12)DAS reports the diagnostic status to RDS to complete the
remote diagnostic operation.
The above framework messages consider ISMT e-diagnos-
tics capabilities [2] of Levels 0 and 1. Also, the framework mes-
sages of other operations, such as APC/OEE (Level 2 capability)
and e-maintenance (Level 3 capability) can also be defined [36].
The associated example scenarios considering the four levels of
e-diagnostics capabilities will be presented in Section V. It is
noted that the framework messages could be derived based on
the requirements of customized e-diagnostics operations or by
HUNG et al.: DEVELOPMENT OF WEB-SERVICES-BASED e-DIAGNOSTICS FRAMEWORK 129
Fig. 7. Use case diagram of the Web-Service agent.
service mechanism. This use case also includes the use case
“Connect to local database” to access user authorization data
from the local database.
According to the scenarios in all of the use cases, the se-
quence diagrams are developed. Then, the corresponding class
diagrams are designed. For the purpose of demonstrating the
properties of cross-platform and cross-language designs for the
Web-Service agent, this research develops two versions, Java
and C#, of Web-Service agent, aiming for two popular main-
stream programming platforms, Sun J2EE [21] and Microsoft
.NET [22], respectively. Currently, Microsoft .NET has sup-
ported over 20 programming languages, including C , Visual
Basic, and C#, and .NET allows cross-language inheritances.
Also, Java can be executed almost on any platform. Therefore,
system components can have two choices for selecting Java or
C# version of Web-Service agent to inherit.
Due to the space limit, only the Java version of the OOD
class diagram of the Web-Service agent is presented in Fig. 8.
The figure also illustrates the static relationships among the
constituent classes of the Web-Service agent, which are Se-
curityMechanism, SOAPInterface, CommunicationKernel,
XSLTMechanism, LocalDatabase, and UDDIRegistryMecha-
nism. Among these classes, CommunicationKernel associates
with all the other classes and possesses outward (boundary)
functional interfaces. Thus, a system component can possess
the functions provided by the Web-Service agent by just inher-
iting the CommunicationKernel class.
B. DAS
From the framework messages defined in Section III-D, the
communication messages associated with DAS can be identi-
fied. Then, the functional requirements of DAS can be summa-
rized as follows:
1) possess a SOAP communication interface for messaging
and coordination;
2) provide a UDDI registry mechanism for registering and
searching Web Services;
3) provide an XSLT mechanism for transforming the formats
of XML documents;
4) possess a security mechanism to encrypt and decrypt the
data delivered over the Internet and to provide authentica-
tion and authorization of accessing system services;
5) provide the functions of accessing the local database;
6) provide functions for remotely manipulating, monitoring,
and controlling equipment;
7) report EE data;
8) diagnose equipment.
HUNG et al.: DEVELOPMENT OF WEB-SERVICES-BASED e-DIAGNOSTICS FRAMEWORK 131
Fig. 9. Class diagram of DAS.
identification data to obtain the user’s authorization status.
OASIS SAML standard [23], [24] and Microsoft .NET passport
[25] may be referred to implement the authentication-service
mechanism. This part can also involve the PKI technique [38]
to encrypt and decrypt messages with public keys.
V. SYSTEM IMPLEMENTATION AND INTEGRATION TEST
A paradigm e-diagnostics system based on the WSDF model
shown in Figs. 2 and 3 has been successfully implemented, es-
tablished, and tested at the Automation Laboratory, Institute
of Manufacturing Engineering, National Cheng Kung Univer-
sity, Taiwan, R.O.C. The details of system implementation and
testing are described below.
A. System Implementation
Microsoft Windows 2000 [22] is selected as the development
platform. Specifically, DAS and RDS are programmed in Java
and adopt Sun JRE [21] as their execution environment with
Borland JBuilder 7 [39] being the development tool. On the
other hand, ODS and the authentication-service mechanism are
implemented in C#, and Microsoft .NET CLR is their execution
environment with Visual Studio .NET [22] being the develop-
ment tool. This type of implementation can also verify the in-
teroperability of WSDF among heterogeneous systems.
Also, Apache Axis [40] is selected as the Web servers of DAS
and RDS, while ODS and the authentication-service mechanism
adopt Microsoft Internet Information Services (IIS) [22] as the
Web servers. Finally, Microsoft SQL Server 2000 [22] is used
to construct the various databases.
B. Paradigm Application of e-Diagnostics
According to Figs. 2 and 3, a paradigm application of e-diag-
nostics using WSDF is constructed to verify the effectiveness of
HUNG et al.: DEVELOPMENT OF WEB-SERVICES-BASED e-DIAGNOSTICS FRAMEWORK 133
Fig. 11. Illustration of the operations of the authentication-service mechanism.
model can predict the future potential faults of equipment
before they occur. Accordingly, equipment engineers can take
necessary precautions against those faults in advance such that
the availability of equipment can be effectively raised.
To test the e-diagnostics paradigm application in a simulated
environment, OBEM equipment simulators [27] are used to re-
place the equipment. Also, compliance equipment simulators
(CEM) may be developed and employed in the future.
C. Integration Test
A snapshot of the integration test of the paradigm e-diagnos-
tics system is shown in Fig. 12. The graphical user interfaces
(GUIs) for DAS, ODS, RDS, and equipment simulators are dis-
played. Four major scenarios are adopted to test the system,
which are described as follows.
1) Diagnose Equipment Through ODS:
a) When an error occurs on equipment, the equipment sends
the error messages, which include equipment type, error
code, faulty part, and fault symptoms, to DAS. DAS then
delivers the error messages to ODS. Next, ODS searches
the relevant diagnostic solutions from the LDD according
to the error messages. Finally, ODS replies the diagnostic
solutions to DAS.
b) If a proper diagnostic solution is available, the onsite
equipment engineer executes the suggestion for diag-
nosing and repairing the equipment.
c) After successfully fixing the fault, the onsite equipment
engineer reports the successful repair information, which
includes the fault and the associated diagnostic solution
and the restoration status to ODS via DAS. ODS then
stores the repair information and statuses into the LDD
for the reference of next local diagnostic tasks.
2) Diagnose Equipment Through RDS:
a) In case no proper local diagnostic solution is available (ei-
ther the retrieved solution is invalid or no local solutions
exist), the onsite equipment engineer delivers the error re-
lated information to RDS through the Internet via DAS.
After RDS receives the error information, the DSRS in
RDS will then process the error information and return
the proper diagnostic solution to DAS.
b) Same as Step b) in the Scenario 1).
c) Same as Step c) in the Scenario 1). DAS also reports the
repair information and statuses to RDS for the reference
of RDS’s future diagnostics tasks.
3) Remotely Diagnose Equipment Through DAS and RDS:
a) If a proper diagnostic solution is still unavailable, via DAS
the onsite equipment engineer can ask RDS for advanced
expert’s diagnostics services.
b) The equipment supplier’s expert can perform remote op-
erations to diagnose and repair the equipment through the
remote equipment engineering system on RDS.
c) In case DAS and/or the factory onsite equipment engineer
finds any unreasonable remote operation on equipment,
the remote operation can be stopped immediately.
d) The equipment expert on the supplier side stores the repair
information and statuses to the global diagnostics data-
base (GDD) for future references.
It is noted that when RDS is conducting a remote diagnosis
on the faulty equipment at steps b) and c), DAS will display
messages to warn that the equipment is under remote diagnosis
mode.
4) EE Data Collection and Predictive Maintenance:
a) DAS collects EE data from equipment and then forwards
these EE data to ODS.
HUNG et al.: DEVELOPMENT OF WEB-SERVICES-BASED e-DIAGNOSTICS FRAMEWORK 135
[15] Guide for style usage of XML for semiconductor manufacturing appli-
cations (2003, Jan.). [Online]. Available: www.semi.org
[16] SOAP specification [Online]. Available: http://www.w3c.org/tr/soap
[17] Provisional specification for XML message structures (2003, May). [On-
line]. Available: www.semi.org
[18] WSDL specification [Online]. Available: http://www.w3c.org/tr/wsdl
[19] UDDI specification [Online]. Available: http://www.uddi.org
[20] G. Booch, J. Rumbaugh, and I. Jacobson, The Unified Modeling Lan-
guage Guide. New York: Addison-Wesley, 1999.
[21] Sun Java Web site, http://java.sun.com/.
[22] Microsoft web site [Online]. Available: http://www.microsoft.com/
[23] Z. Svoboda. (2002) Securing Web Services with Single Sign-On
[Online]. Available: http://www.theserverside.com/resources/arti-
cles/Systinet-web-services-part-6/article.html
[24] Security assertion markup language (SAML) v1.1 [Online]. Available:
http://www.oasis-open.org/specs/index.php#samlv1.1
[25] Microsoft .NET passport [Online]. Available: http://www.microsoft.
com/netservices/passport
[26] SSL 3.0 specification [Online]. Available: http://wp.netscape.com/
eng/ssl3/
[27] F.-T. Cheng and C.-Y. Teng, “An object-based controller for equipment
communications in semiconductor manufacturing,” Robot. Comput.-In-
tegrated Manufact., vol. 185–6, pp. 371–386, Oct. 2002.
[28] F.-T. Cheng and M.-T. Lin, “Enhancement of semiconductor equipment
communications using a web-enabled equipment driver,” IEEE Trans.
Semiconduct. Manufact., vol. 14, pp. 372–380, Nov. 2001.
[29] The Object-Based Equipment Model, 2001. Semiconductor equipment
and materials international, SEMI E98, SEMI International Standard
CD-ROM.
[30] Provisional specification for the common equipment model (CEM)
(2003, Jan.). [Online]. Available: www.semi.org
[31] H. Balen, Distributed Object Architectures with CORBA: SIGS, May
2000.
[32] R. Sessions, COM and DCOM: Micrsoft’s Vision for Distributed Ob-
jects, Jun. 1997.
[33] Provisional Specification for Equipment Self Description (ESD), May
2003. SEMI E125.
[34] Proposed standard for equipment data acquisition solutions (2003, Jan.).
[Online]. Available: www.semi.org
[35] XSL Specification [Online]. Available: http://www.w3.org/TR/xsl/
[36] S.-C. Yeh, “Development of a Web-Services-based information integra-
tion framework for e-diagnostics,” Master dissertation, National Cheng
Kung Univ., Taiwan, R.O.C., 2002.
[37] OPC foundation web site [Online]. Available: http://opcfoundation.org/
[38] Public Key Infrastructure [Online]. Available: http://www.pkiforum.org/
[39] Borland Software Corp. [Online]. Available: http://www.borland.com/
[40] Apache AXIS [Online]. Available: http://ws.apache.org/axis/
[41] J. Han and M. Kamber, Data Mining: Concepts and Techniques. San
Mateo, CA: Morgan Kaufmann, 2001.
[42] Ontology.org [Online]. Available: http://www.ontology.org/
[43] M.-H. Hung, R.-J. Huang, and F.-T. Cheng, “Development of an e-di-
agnostics system for semiconductor equipment using data mining and
ontology,” in Proc. 7th Int. Conf. Automation Technol., Taiwan, R.O.C.,
Sept. 2003, pp. 37–42.
[44] G.-W. Huang, “Design and implementation of e-maintenance functional
schemes for semiconductor equipment,” M.S. thesis, National Cheng
Kung Univ., Taiwan, R.O.C., 2003.
Min-Hsiung Hung was born in Chang-Hua, Taiwan,
R.O.C., on September 9, 1966. He received the B.S.
degree from Chung Cheng Institute of Technology,
Taiwan, the M.S. degree from National Cheng Kung
University, Taiwan, and the Ph.D. degree from The
Ohio State University, Columbus, in 1988, 1992, and
1999, respectively, all in electrical engineering.
He is currently an Associate Professor of electrical
engineering at Chung Cheng Institute of Technology,
National Defense University, Taiwan. His research
interests include factory automation for semicon-
ductor manufacturing, e-manufacturing, e-diagnostics, remote monitoring
and control technologies, information technology applications, intelligent
control, dynamic simulation and control of robotics, microprocessor systems,
embedded systems, and systems on programmable chips.
Fan-Tien Cheng (S’87–M’89–SM’98) received the
B.S. degree from the National Cheng Kung Univer-
sity, Taiwan, R.O.C., and the M.S. and Ph.D. degrees
from The Ohio State University, Columbus, in 1976,
1982, and 1989, all in electrical engineering.
He was employed by the Chung Shan Institute of
Science and Technology (CSIST), Taiwan, as a Re-
search Assistant in 1976 and was promoted to Assis-
tant Scientist, Associate Scientist, and Senior Scien-
tist in 1982, 1986, and 1994, respectively. He left the
Institute in August of 1995 when he was named an
Associate Professor of Manufacturing Engineering at the National Cheng Kung
University (NCKU). He was promoted to Full Professor in August 1997 and a
Distinguished Professor in August 2003. He served as the Director of the In-
stitute of Manufacturing Engineering from August 1998 to July 2001. When
he was in the CSIST, he served as the Director of Managing Office for design,
development, testing, and maintenance of modern fire control systems. His re-
search interests include factory automation for semiconductor manufacturing,
e-manufacturing, e-diagnostics, as well as control and optimization of multiple-
chain robotic mechanisms and redundant manipulators. He built a web-enabled
experimental manufacturing execution system, a holonic supply chain informa-
tion system, and a test bed of e-diagnostics framework for semiconductor man-
ufacturing at the Automation Laboratory of the Institute of Manufacturing En-
gineering for educational and research purposes.
Dr. Cheng was honored for his work with the Senior Scientist Award of
the R.O.C. Department of Defense in 1994. He won the Kayamori Best Paper
Award of the 1999 IEEE International Conference on Robotics and Automation.
He served as the Program Chair of 2002 IEEE/ASME International Conference
on Advanced Manufacturing Technologies and Education (AMTE 2002),
Award Chair of the Seventh International Conference on Automation Tech-
nology (Automation 2003), and Finance Chair of the 2003 IEEE International
Conference on Robotics and Automation (ICRA 2003). Currently, he serves
as the Program Chair of International Conference on Hands-on Intelligent
Mechatronics and Automation (HIMA 2005). He has been an Associate Editor
of the IEEE TRANSACTIONS ON ROBOTICS AND AUTOMATION since May 2000.
He is a board member of Chinese Institute of Automation Engineers. He
received the Outstanding Industry-University Cooperation Award in 2003 from
the Ministry of Education of R.O.C., and the Distinguished Industry-University
Professor Award of NCKU in 2004. He also served as advisor of the winners
of the 1999, 2000, and 2003 Acer Dragon Thesis Awards.
Sze-Chien Yeh was born in Taipei, Taiwan, R.O.C.,
on April 14, 1976. He received the B.S. degree in me-
chanical engineering from the Tam Kang University,
Taiwan, in 2000, and the M.S. degree in manufac-
turing engineering from National Cheng Kung Uni-
versity, Taiwan, in 2002.
He currently works as a System Analyst in the
R&D center for supply chain management, Pouchen
International Group, Taiwan. His research interests
include equipment automation and factory automa-
tion for semiconductor manufacturing.
Mr. Yeh received the Web Services Programming Award from Microsoft in
July 2002.
中正嶺學報 第三十三卷 第二期 民國 94.11. 
JOURNAL OF C.C.I.T., VOL.33, NO.2, NOV., 2005 
 
A Web-Services-based Remote Monitoring and Control 
Architecture with the Capability of Actively Protecting 
Appliance Safety 
Min-Hsiung Hung, Kuan-Yii Chen, and Shih-Sung Lin 
Department of Electrical Engineering, Chung Cheng Institute of Technology 
National Defense University 
ABSTRACT 
Recently, the emerging Web-Services technology has provided a new and excellent solution to the 
data integration among heterogeneous systems. In this paper, a remote monitoring and control (MC) 
architecture that uses Web Services to establish the communication infrastructure is proposed. 
Specifically, a Web-Services-based MC gateway, called WSMCG, is constructed to provide general 
remote MC functions and offer various operational interfaces for mobile devices. A watchdog 
mechanism that is capable of actively detecting appliance’s abnormal power consumption and ensuring 
appliance safety is also designed into WSMCG. In addition, a type of portable safety detection module 
(PSDM) is developed to make installing monitoring points very easy. The proposed architecture can 
provide a two-way and safe monitoring mode that the MC system actively notifies the users of the 
warning and hazard statuses of the monitored appliances and allows the users to operate the MC system 
using any browser-ready device, at any time, from anywhere. It is believed that the proposed MC 
architecture and methods could be useful references for developing new-generation remote MC systems. 
Keywords: Web Services, monitoring and control gateway, safety detection module, mobile device 
以網路服務為基礎具主動保護設備安全能力之遠端監控架構 
洪敏雄 陳冠宇 林世崧 
國防大學中正理工學院電機工程學系 
摘    要 
近年來，新興的網路服務技術已經對異質平台間資料的整合提供一個全新且優越的解決方
案。本論文提出了一個以網路服務建構通訊基礎建設之遠端監控架構。具體地，我們建構一個植
基於網路服務技術的監控閘道器（WSMCG）來提供一般的遠端監控功能及多樣的行動裝置操作
介面。WSMCG 中也設計有一個能夠主動偵測設備耗電異常與確保設備安全的看門狗機制。此外，
我們也開發了一款可攜式安全偵測模組，使得監控點的安裝變得很容易。本監控架構提供了一個
雙向且安全的監控模式，亦即，監控系統會將設備的警告及危險狀態主動通知使用者，同時也允
許使用者在任何時間、從任何地點，利用任何有瀏覽器的裝置來操作系統。相信本研究所提出的
監控架構及方法可作為發展新一代遠端監控系統的有用參考。 
關鍵詞：網路服務，監控閘道器，安全偵測模組，行動裝置 
 
文稿收件日期 93.4.16; 文稿修正後接受日期 94.2.15. 
Manuscript received April 16, 2004; revised February 15, 2005. 
 -385-
中正嶺學報 第三十三卷 第二期 民國 94.11. 
JOURNAL OF C.C.I.T., VOL.33, NO.2, NOV., 2005 
 
sharing, over Internet. The proposed architecture 
also contains a watchdog mechanism that can 
actively detect appliance’s abnormal power 
consumption, process emergent power anomalies, 
and promptly notify the users of the warning and 
hazard statuses. Therefore, the safety of the 
monitored appliances can be assured. In addition, 
a type of portable safety detection module is 
developed. Consequently, installation of 
monitoring points becomes very easy and 
convenient. A remote MC system for home 
appliances is also constructed to demonstrate the 
effectiveness of the proposed architecture. 
The remainder of the paper is organized as 
follows. Section 2 introduces the proposed remote 
MC architecture. Section 3 describes the design of 
the Web-Services-based monitoring and control 
gateway (WSMCG). Section 4 depicts the 
portable safety detection module (PSDM). The 
analysis and design of the components in 
WSMCG are presented in Section 5. The 
paradigm application and its system integration 
test are constructed in Section 6. Section 7 is the 
conclusion. 
II. DESIGN OF THE PROPOSED 
REMOTE AND MONITORING 
ARCHITECTURE 
The design of the proposed remote 
monitoring and control architecture is based on 
the following nine functional requirements: 
(1) Adopt Web Services to establish the 
communication infrastructure to avoid the 
shortcomings of traditional distributed object 
technologies. 
(2) Various remote MC functions should be 
provided, and new functions can be easily 
added in afterward. 
(3) Contain a watchdog mechanism to actively 
detect appliance’s abnormal power 
consumption and handle power anomalies for 
protecting appliance safety. 
(4) Possess a message-delivery mechanism 
through e-mails and mobile phones so that the 
warning and hazard statuses of the monitored 
appliances can be sent to the users promptly. 
(5) A security measure must be devised to protect 
the system. 
(6) The users should be able to operate the system 
functions through mobile devices. 
(7) A portable safety detection module should be 
developed and exploited to make sure that the 
installation of the MC points is easy and 
convenient. 
(8) The monitoring and control distance of the 
system can be flexibly extended through 
network. 
(9) The users are capable of accessing the images 
and audios of the MC points. 
As shown in Fig. 1, a Web-Services-based 
monitoring and control gateway, called WSMCG, 
is created to contain the major software 
components of the MC system. It is the 
communication bridge between the client side and 
the server side. To satisfy Requirements 1 and 2, a 
variety of MC functions are constructed in the 
form of Web Services, i.e., Web methods, and 
bundled to form the MC Web-Service Agent.  
These MC Web Services can acquire data from 
and send data to the monitored appliances through 
Ethernet-ready I/O modules. As such, clients on 
Intranet and Internet, as well as other components 
on WSMCG, can easily access the MC points by 
calling the Web methods on the MC Web-Service 
Agent.  
To fulfill Requirements 3 and 4, a Watchdog 
component is constructed to actively monitor the 
power consumption of appliances. When 
detecting an appliance’s abnormal power 
consumption, the Watchdog component is capable 
of disconnecting the power of that appliance, 
saving the abnormality-relevant information into 
the database, and sending warning and hazard 
messages to the person in charge through e-mails 
and the mobile phone short message Web 
Services, commercially provided on Web by 
third-party companies. In this paper, the person in 
charge represents the people who are responsible 
for taking care of or maintaining the appliances. 
The Security Measure (SM) component 
plays the role that safeguards the system security. 
It may contain several security mechanisms, such 
as authentication and authorization of users, 
assurance of Web-page access security, not 
allowing more than one user to control an 
appliance simultaneously, etc., to meet 
Requirement 5. For Requirement 6, a mobile 
device interface (MDI) component is established 
to provide the users with interfaces for remotely 
operate the system through mobile devices, such 
as PDA and mobile phones.  It needs to be 
 -387-
中正嶺學報 第三十三卷 第二期 民國 94.11. 
JOURNAL OF C.C.I.T., VOL.33, NO.2, NOV., 2005 
 
3.1 MC Web-Service Agent 
The design concept of the MC Web-Service 
Agent is illustrated in Fig. 2. Ethernet-ready I/O 
modules contain four types of API (Application 
Programming Interface): digital input, digital 
output, analog input, and relay output. By using 
these APIs, client applications can access the data 
channels of the Ethernet-ready I/O module 
through the Modbus/TCP protocol [15, 16]. To 
further expand the communication capability of 
these APIs for being suitably used in both the 
Intranet and Internet environments, we use the 
APIs of the I/O module to construct a variety of 
remote MC functions in the form of Web Services 
to form the MC Web-Service Agent. Notably, 
Web Services are programmable application 
components that can be described by WSDL (Web 
Services Description Language) [17] and 
published on Web. Thus, by calling the Web 
methods on MC Web-Service Agent using SOAP, 
the client applications on remote computers and 
mobile devices, as well as internal components of 
WSMCG, such as Watchdog and MDI, can access 
the data channels of Ethernet-ready I/O modules.  
3.2 Watchdog Component 
We design three mechanisms in the 
Watchdog component to actively protect 
appliance safety: (1) mechanism of detecting 
abnormal power consumption, (2) power anomaly 
handling mechanism, and (3) message-delivery 
mechanism. They are described below.  
3.2.1 Mechanism of Detecting Abnormal Power  
Consumption 
When an appliance encounters abnormality, 
its working current  may increase and 
generate extra heat energy that may harm the 
appliance. As shown in Fig. 3, we can define two 
thresholds, Caution Current Threshold  and 
Hazard Current Threshold , to identify the 
appliance’s condition. If  is below , the 
appliance is normal. When  is greater than 
, but smaller than , the appliance enters into 
a caution status and needs to be concerned 
because this early abnormal state may potentially 
evolve into a worse condition. As  is greater 
than , the appliance is in a hazard condition. 
We need to pay the highest level of concern to it. 
Otherwise, a catastrophic failure may occur and 
jeopardize the appliance’s safety. 
WI
cI
hI
WI cI
WI
cI hI
WI
hI
To define the Caution Current Threshold , 
we assume that the measurement of current is in 
normal distribution. According to The Empirical 
Rule in statistics 
cI
[18], interval 2X σ±  will 
contain approximately 95 percent of the 
measurements, where X  is the mean, and σ  
is the standard deviation. Therefore, we defined 
 as follows: cI
cI X
Ethernet-ready
I/O API
MC Web-Service Agent
PC
PDA
Mobile Phone
SOAP
SOAP
SOAP
Ih
Ic
Iw
Cu
rre
nt
                              Time
Hazard Band
Caution Band
Normal Band
 
Fig.3. Three bands of equipment working current. 
2σ= + .                     (1) 
On the other hand, for defining the Hazard 
Current Threshold , we take an experimental hI
Internet
MDI
connect connect
WSMCGWa tchdog
Fig.2. Design concept of the MC Web-Service Agent.
 -389-
中正嶺學報 第三十三卷 第二期 民國 94.11. 
JOURNAL OF C.C.I.T., VOL.33, NO.2, NOV., 2005 
 
We b S e rvice s
Home  P a ge
S ys tem
Deve lope r
Mobile
P hone AS P online  We b S e rvic e s  Ce nte r
Wa tchdog
Apply Account and
P urcha s e  Credits
3. Add the  We b re fe re nce
4. S e nd S O AP  m e s s a ge s
5 . S e nd m e s s a ge s  a nd de duct cre dits  from  Account
Short Message
Web Service
1. Login
2. Look for the  URL
Fig.6. The development process of the message-delivery
mechanism through the mobile phone short
message Web Service. 
caution status is dissolved. On the other hand, 
when an appliance is detected to be in the hazard 
status, the Watchdog will send out a hazard 
message to the person in charge. If the hazard 
status lasts for  (Default = 1) minutes, the 
Watchdog will disconnect the power of that 
appliance immediately for safety. To keep 
flexibility, the system allows the uses to set both 
 and  depending on the monitored 
appliances. 
2T
1T 2T
3.2.3 Message-Delivery Mechanism 
For promptly sending warning messages to 
the person in charge, we design a 
message-delivery mechanism through e-mail and 
the mobile phone short message service in the 
Watchdog component. 
3.2.3.1 E-Mail 
When detecting abnormal power 
consumption of an appliance, the Watchdog 
component will send the person in charge an 
e-mail that contains messages about the appliance 
information, power-consumption status, working 
current, occurrence time, etc. This function is 
accomplished by using the Simple Mail Transfer 
Protocol (SMTP) in the program.  
3.2.3.2 Mobile Phone Short Message Service 
The Watchdog component can also deliver 
the warning messages through the mobile phone 
short message service, which enables the 
messages to be sent to the persons in charge more 
quickly. Consequently, they can promptly take 
necessary measures to prevent the occurrence of 
possible damage. Nowadays, many companies 
commercially supply diverse Web Services with 
different functions on Web. This positively 
changes the programming paradigm. After 
making payment, developers can easily find and 
incorporate proper off-the-shelf Web Services in 
their programs to accomplish the desired 
functions. In this research, we adopt the mobile 
phone short message Web Service provided by 
the ASPonline company [20] to design a 
message-delivery mechanism for mobile phones. 
The development process of the message- 
delivery mechanism through the mobile phone 
short message Web Service is shown in Fig. 6 and 
described as follows:  
Start
Start Timer
Timer > 1 min ?
Get Iw every 5 sec 
for 1 min
Stop Timer
END
2C WI I σ= +
12
1
12
Wi
i
W
I
I ==
∑
Yes
No
12
2
1
( )
12
Wi W
i
I I
σ =
−
=
∑
h WI Iα=
Compute variance
Compute mean
Default: 1.1α =
 
Fig.5. Algorithm to compute the caution and hazard
current thresholds of the monitored
appliances adopted by the Watchdog
component. 
 -391-
中正嶺學報 第三十三卷 第二期 民國 94.11. 
JOURNAL OF C.C.I.T., VOL.33, NO.2, NOV., 2005 
 
authority. In addition to possessing the authority 
of the manager, the administrator can manage the 
user accounts and data and maintain the MC 
system. 
3.4.2 Assurance of Web-Page Access Security 
To enhance the security of Web page 
accesses, we employ the form-based 
authentication technique of ASP.NET [24] to 
filter out the illegal accesses of Web pages. If a 
login process fails, or an unlawful user gets the 
URL (Uniform Resource Locator) of a Web page 
from the browser’s records and tries to directly 
access that Web page, the system will redirect the 
user to the login page. This technique can ensure 
that only the user who passes the authentication 
and authorization can operate the system. 
3.4.3 Not allowing more than one user to control 
an appliance simultaneously 
To protect the appliance from being 
simultaneously controlled by multiple users to 
cause damage, we design a safeguard mechanism 
in the SM component such that any time only one 
user is allowed to access the Web page having 
control functions, called the control page. This 
mechanism is accomplished by integrating Java 
script with the database. If a user is accessing the 
control page, his/her information will be recorded 
into the database by Java script to indicate that the 
control page is being accessed. During this period, 
if another user tries to access the same control 
page, this user will be redirected to an alternative 
Web page without control functions. After the 
original user leaves the control page, his/her 
accessing record will be removed from the 
database to enable the control page to be accessed 
by the next user. 
Breaker Plug
Relay
Appliance
Analog Output
Socket
PSU
Digital Input
CTU
Current Sensor
PSDM
 
Fig.8. Functional blocks of the potable safety  
detection module (PSDM). 
IV. PORTABLE SAFETY 
DETECTION MODULE (PSDM) 
This section describes the design of the 
portable safety detection module (PSDM) whose 
functional blocks are shown in Fig. 8. PSDM 
consists of a socket, a plug, a current sensor, a 
breaker, a relay, a current transformation unit 
(CTU), and a power supply unit (PSU). After the 
current sensor measures an AC current, CTU will 
transform the measured AC current into a DC 
voltage. The Ethernet-ready I/O module can then 
acquire the output DC voltage of CTU through its 
analog input channel. The relay will be connected 
to the digital output channel of an Ethernet-ready 
I/O module so that the Watchdog component can 
remotely switch the power of the appliance on 
and off. The breaker is the power switch of 
PSDM. It has the function of short circuit 
protection. The power supply unit (PSU) 
transforms the AC power to provide the DC 
power needed by CTU. With such a design, an 
appliance’s working current can be conveniently 
measured by just putting the appliance’s plug in 
the socket of PSDM and inserting the plug of 
PSDM in the socket on wall. This makes the 
installation of the MC points very easy. 
The circuit design of the current 
transformation unit (CTU) is shown in Fig. 9. The 
circuit of CTU consists of four parts: the current 
sensing, the DC filter and voltage amplifier, the 
full-wave precision rectifier, and the voltage 
regulation. First, the AC working current  is 
measured by the current sensor and converted to 
an AC voltage  through the 50Ω resistor. 
Next,  is amplified to an AC voltage  by 
the DC filter and voltage amplifier circuit. Then, 
 is transformed to a ripple DC voltage  
through the full-wave precision rectifier. Finally, 
 is converted to a DC voltage  by the 
voltage regulation circuit. The output DC voltage 
 and the input AC current  of the CTU 
circuit have a linear relationship: 
1i
av
av bv
bv cv
cv oV
oV 1i
1o k iV = ⋅ , 
where 0.5k = , and  is in root-mean-square 
value. 
1i
 -393-
中正嶺學報 第三十三卷 第二期 民國 94.11. 
JOURNAL OF C.C.I.T., VOL.33, NO.2, NOV., 2005 
 
identify the appliance’s power-consumption 
status.  This use case includes the use case 
“Authenticate and Authorize Users” as well. 
z Perform Operations in Watchdog: In this use 
case, all of the operations in Watchdog are 
performed. The operations may include 
monitoring and controlling appliances in 
real-time, detecting abnormal power 
consumption of appliances, delivering 
messages to the person in charge, and 
recording the abnormality-relevant data into 
the database. Since these operations are 
activated by the Watchdog component itself, 
the actor of this use case is the Watchdog 
component. 
5.1.2 Sequence and Class Diagram 
According to the use case diagram, every use 
case is further investigated to subsequently 
generate the corresponding scenarios. Then, based 
on these scenarios, the object-oriented analysis 
(OOA) of WSMCG is performed to create the 
sequence diagrams. By integrating all of the 
sequence diagrams, the class diagram is 
established. Due to the space limit, here omits the 
sequence diagrams and the class diagram of the 
OOA stage. For the detailed descriptions of OOA, 
please refer to [26]. 
5.2 Object-Oriented Design 
According to the sequence diagrams and the 
class diagram generated during the OOA stage, 
the object-oriented design (OOD) of WSMCG 
can be performed to produce the sequence 
diagrams and the class diagram of the OOD stage. 
For detailed descriptions of OOD, please refer to 
[26]. 
VI. PARADIGM 
APPLICATION AND SYSTEM 
INTEGRATION TEST 
By referring to the architecture in Fig. 1, a 
remote monitoring and control system for home 
appliances is constructed to be as an application 
paradigm to demonstrate the effectiveness of the 
proposed architecture. The following describes 
the implementation and integration test of the 
paradigm system.  
6.1 System Implementation 
For the system implementation, we use 
Windows 2000 as the development platform and 
Microsoft .NET CLR [27] as the runtime 
environment.  The system programs are written 
in VB.NET, ASP .NET, and C#, while Visual 
Studio .NET [27] is the programming tool. 
Microsoft Mobile Internet Toolkit [23] is used to 
develop the mobile device interfaces. Besides, we 
exploit Microsoft Internet Information Services 
[27] as the Web server and employ Microsoft 
SQL Server 2000 [27]  to create the database. 
Regarding to the hardware requirement, a PC 
is needed for constructing the WSMCG, and a 
notebook is used as the client computer. The 
mobile devices include a PDA and a mobile 
phone that can connect to Internet through 
wireless LAN and GPRS (General Packet Radio 
Service) [28], respectively. Also, the Web I/O 
modules of Advantech [29] are used to satisfy the 
demand of Ethernet-ready I/O modules. Besides, 
the Ethernet-ready camera with an audio module 
of AXIS [30] is adopted to transmit the image and 
audio of the MC point. Moreover, the camera is 
installed upon a rotating platform of Lilin [31].  
By controlling the rotating platform, different 
views of images can be captured. 
6.2 System Integration Test 
Figure 11 shows the integration test of the 
paradigm remote MC system for home appliances. 
The figure depicts the graphical user interfaces of 
monitoring and control, login, data management, 
and alert report. The physical pictures of an 
Ethernet-ready I/O module, an Ethernet-ready 
camera with an audio module, the PSDM, a lamp, 
a fan, an induction cooker, and an air conditioner 
are also displayed. The system provides the user 
interface based on the role of the user. The user 
interface for the end user lacks the control 
capability and only has monitoring functions. 
That is, it simply displays a fixed-view image of 
the MC point and shows the working currents and 
statuses of the appliances. By contrast, the user 
interfaces for the manager and the administrator 
contain both monitoring and control functions. 
Figure 12 shows the remote MC user 
interface for the manager and the administrator. 
The buttons on the left are to remotely switch the 
 -395-
中正嶺學報 第三十三卷 第二期 民國 94.11. 
JOURNAL OF C.C.I.T., VOL.33, NO.2, NOV., 2005 
 
monitoring and controlling appliances, detecting 
abnormal power consumption, delivering 
abnormality-relevant messages, and operating the 
system using mobile devices. The results of 
testing show that the proposed remote MC 
architecture can certainly comply with the design 
objectives. 
VII. CONCLUSION 
This research aims to improve the 
shortcomings of the existing MC systems in two 
aspects: communication over Internet and safety 
protection of the monitored appliances. We 
propose a novel remote monitoring and control 
architecture that uses the emerging distributed 
object technology – Web Services to establish the 
communication infrastructure. Hence, the 
proposed MC architecture can more easily 
achieve data gathering, exchange, and integration, 
as well as information sharing, over Internet than 
those using traditional distributed object 
technologies. In particular, a Web-Services-based 
monitoring and control gateway (WSMCG) is 
developed to contain major system software 
components, including MC Web-Service Agent, 
Watchdog, Security Measure (SM), Mobile 
Device Interface (MDI), and Graphical User 
Interface (GUI). The users can securely perform 
remote monitoring and control on the appliances 
through WSMCG using any browser-ready 
computers and mobile devices. Besides, we 
design a type of portable safety detection module 
(PSDM) to conveniently measure the appliance’s 
working current and to make the installation of 
monitoring points very easy. Through the 
corporation of PSDM and the Watchdog, the 
proposed architecture can actively detect 
appliance’s abnormal power consumption, 
process emergent power anomalies, and promptly 
notify the users of the warning and hazard 
statuses. Therefore, the safety of the monitored 
appliances can be assured. Because open and 
object-oriented technologies are used to develop 
the system, the proposed architecture possesses 
the characteristics of openness, scalability, easy 
maintenance, and low cost. The architecture and 
technologies developed in this research can be 
applied in diverse remote MC applications for 
electric facilities, environments, buildings, 
hospitals, factory automation, etc.  
 
(a)                     (b) 
Fig.13. User interfaces for the administrator using
 (a) a PDA, (b) a mobile phone. 
ACKNOWLEDGMENT 
The authors would like to thank the National 
Science Council of the Republic of China for 
financially supporting this research under 
Contract No. NSC-92-2212-E-014-003, and 
Chung Cheng Institute of Technology of National 
Defense University for financially supporting this 
research. 
REFERENCES 
[1] Ho, Y. F., Masuda, H., Oda, H., and Stark, L. 
W., “Distributed Control for Tele- 
Operations,” IEEE/ASME Transactions on 
Mechatronics, Vol. 5, No. 2, pp. 100-109, 
2000. 
[2] Sessions, R., COM and DCOM: Micrsoft's 
Vision for Distributed Objects, John Wiley & 
Sons, Hoboken, New Jersey, U.S.A., 1997. 
[3] Hernandez, A. I., Bora, F., Villegas, G., 
Passariello, G., and Carrault, G., “Real-Time 
ECG Transmission via Internet for 
Nonclinical Applications,” IEEE Transactions 
on Information Technology in Biomedicine, 
Vol. 5, No. 3, pp. 253-257, 2001. 
[4] Cattell, R., Inscore, J., and Pa, E., J2EE 
Technology in Practice: Building Business 
Applications with the Java 2 Platform, 
Enterprise Edition, Addison Wesley, Boston, 
Massachusetts, U.S.A., 2001. 
 -397-
 
 
[4] Y.-C. Su, M.-H. Hung, F.-T. Cheng, and Y.-T. Chen, “A Processing Quality Prognostics Scheme 
for Plasma Sputtering in TFT-LCD Manufacturing,” IEEE Transactions on Semiconductor 
Manufacturing, Vol. 19, No. 2, pp. 183-194, May 2006. [SCI,EI] 
 
 1
184 IEEE TRANSACTIONS ON SEMICONDUCTOR MANUFACTURING, VOL. 19, NO. 2, MAY 2006
Fig. 1. Relationship between production equipment and measurement equipment.
Fig. 2. Conceptual diagram of QPS.
and processing quality under certain specific processing con-
ditions only. Nonetheless, equipment recipes are frequently
changed during production such that the process model needs
to be updated accordingly. Also, the prediction (called con-
jecture in this paper) accuracy was evaluated offline. Thus,
these DOE-based models may not be applicable to practical
production equipment and lack an online evaluation method for
the conjecture accuracy when the in situ measured quality data
are unavailable.
In this paper, a novel quality prognostics scheme (QPS) for
plasma sputtering in TFT-LCD manufacturing processes is pro-
posed. Distinct from previous research, the proposed QPS pos-
sesses capabilities of both conjecture and prediction. As shown
in Fig. 2, the QPS consists of a conjecture model and a pre-
diction model. The conjecture model is capable of conjecturing
the processing quality of current-lot glasses based on the values
of current-lot processing parameters online and in real time.
Further, the prediction model is able to predict the processing
quality of next-lot glasses based on the conjectured quality value
of current lot and the quality measurement data of several pre-
vious lots. Through this two-tier architecture, the functions of
the QPS can be flexibly utilized by using either only the conjec-
ture model or both models to fit the various needs for the plants.
For online evaluating, whether the conjecture results are trust-
worthy or not when the measured quality values are unavail-
able, a reliance index (RI) is developed for the conjecture model.
By defining a reliance threshold of the RI, a conjecture result
having an RI value greater than the reliance threshold can be
regarded as being trustworthy. On the contrary, the conjecture
result having an RI value smaller than the reliance threshold is
incredible. Thus, when the conjecture model warns that the pro-
cessing quality is out of limit, the quality engineer is then able to
verify that the alarm is caused by the process problem or by the
conjecture error itself based on the RI value. Also, with the aid
of the RI, the quality engineer may be more confident in using
the conjecture model to online estimate the processing quality of
all pieces of glass when the in situ measured quality data are un-
available, which is called virtual metrology (VM). In contrast, in
current practice of TFT-LCD plants, only two out of 100 pieces
of glass are offline sampled for measuring the quality, waiting
about 30 to 90 min after one processing of glass is finished. This
impedes the prompt detection of quality defects.
For increasing the accuracy of the QPS, a self-searching
mechanism is designed to automatically search the best set of
parameters and functions used by the conjecture and prediction
algorithms for cases that the processing properties vary or
the recipe changes. The QPS also possesses an auto-adjusting
mechanism that is developed for tuning the system parameters
and bringing the conjecture accuracy within an acceptable
bound when the accuracy is out of limit.
One set of plasma sputtering equipment in a TFT-LCD plant
is used as the paradigm production equipment for the QPS. Tests
on normal and abnormal processing conditions show that the
values of the mean absolute percentage error (MAPE) of both
the conjecture and the prediction results are less than 2%, which
validates the effectiveness of the proposed QPS.
The rest of the paper is organized as follows. Section II de-
scribes the architecture design of the QPS. Section III illustrates
how to model the quality prognostics scheme for one set of
plasma sputtering equipment in a TFT-LCD plant. Section IV
presents the test results and discussion. Finally, the conclusions
are made in Section V.
II. ARCHITECTURE DESIGN OF QPS
The architecture of the proposed QPS is designed as in Fig.3.
The QPS can be roughly divided into five parts: 1) conjecture
model; 2) prediction model; 3) self-searching and auto-ad-
justing mechanisms; 4) user selection-and-setup interface; and
5) reliance index. The function of each part is described as
follows.
A. Conjecture Model
The conjecture model is designed to estimate the current-lot
quality based on the current lot processing parameters. It can be
186 IEEE TRANSACTIONS ON SEMICONDUCTOR MANUFACTURING, VOL. 19, NO. 2, MAY 2006
mechanism is launched to activate the self-searching mech-
anism to establish a more accurate conjecture model, whose
conjecture accuracy will comply with the acceptable bounds.
D. User Selection-and-Setup Interface
The proposed QPS allows users to select various conjec-
ture and prediction algorithms. According to the equipment
properties, appropriate algorithms are selected to establish the
prognostics scheme. The algorithm types grow in accordance
with the various types of equipment considered. The more the
algorithms are evolved, the more applications the prognostics
scheme may be applied to. User selection-and-setup interface
is designed for the user to select proper conjecture/prediction
algorithms and to set up the associated initial parameters/func-
tions. Following the selections and setup, the QPS can start to
run.
E. Reliance Index
Generally, in TFT-LCD plants, after production equipment
finishes one processing of products, it must wait a period of
time, approximately 30 90 min, prior to sending some of the
products (two out of 100) to measurement equipment for exam-
ining the processing quality. Before the actual measured quality
data are available, the accuracy of the conjectured quality values
of the QPS cannot be evaluated. To solve this problem, a reliance
index RI is proposed to online evaluate whether the conjecture
results are trustworthy or not in cases that the actual measured
values are unavailable. The derivation and usage of RI are de-
scribed as the following four steps.
Step 1) Construct the standard pattern:
Assume that the largest tolerable conjecture error of
a QPS is . If there are sets of training plus
testing data with conjecture errors less than ,
and each set of data contains parameters, then
these data , , are re-
garded as normal data of the parameters and selected
to construct the standard pattern as follows. First,
each datum is normalized by
(1)
where and
are the mean and standard deviation of the th
parameter, respectively. The standard pattern is
defined as and ,
. By doing this, the mean and stan-
dard deviation of the normalized values of each
parameter are zero and one, respectively. Therefore,
each parameter of the normalized standard pattern
is zero. Then, since each
testing data set is normalized to , it can be com-
pared with [as stated in Steps 2)–4)] to determine
whether the testing data set is similar to the normal
data sets or not and to evaluate the conjecture error.
Step 2) Compute the Mahalanobis Distance:
The Mahalanobis distance [19], [20] is a dis-
tance measure considering correlations between
variables by which different patterns can be identi-
fied. It is a useful way of determining the similarity
of an unknown sample set to a known one. If two
data sets have high degree of similarity, their is
small. On the contrary, if they are dissimilar, their
can magnify the effect of dissimilarity. Thus,
the Mahalanobis distance can be a useful index of
quality classification. The between the stan-
dardized testing data and the standard pattern
is computed as follows.
First, the correlation coefficients of the parameters
of data sets, whose conjecture errors are less than
, are computed as
(2)
Then, the correlation coefficient matrix can be
obtained as
.
.
.
.
.
.
.
.
.
.
.
.
(3)
Assume that the inverse matrix of is defined as ,
that is
.
.
.
.
.
.
.
.
.
.
.
.
(4)
The Mahalanobis distance between and
is defined as
(5)
By substituting (4) into (5) and the fact that is
a zero vector, the can be simplified to
and computed by
(6)
where and are the th and th values of the
normalized testing data set, respectively, and is the
number of parameters.
Step 3) Compute the value of the reliance index RI:
188 IEEE TRANSACTIONS ON SEMICONDUCTOR MANUFACTURING, VOL. 19, NO. 2, MAY 2006
Fig. 5. Deployment flow of QPS.
properties, opinions of equipment engineers, operating manual,
and parameter correlation analysis.
Fig. 5 indicates the deployment flow of the QPS.
By considering several previous-lots measurement data
from the measurement equipment,
together with the conjecture value conceived from the cur-
rent-lot sensor data of the production equipment, the next-lot
prediction value of the sputtering coating thickness can
be prognosed.
A. Construction of Conjecture Model
In this illustrative example, back-propagation NNs [13]–[15]
are applied to establish the conjecture model. The construction
procedures of the conjecture model are illustrated in Fig. 6.
The first step in establishing an NN conjecture model is to
collect equipment parameters. During production, 96 items of
parameters are selected as valid sensor data based on the equip-
ment properties. The parameters can be categorized into six
groups: vacuum, inert gas concentration, temperature, voltage,
electric current, and power. According to the parameter features
and opinions of equipment engineers, 40 out of 96 parameters,
mainly related to vacuum, inert gas concentration, and power,
are carefully screened as input parameters. The sampling period
of sensor data is 10 s and six samples of sensor data correspond
to the measurement datum of one product.
Generally speaking, adopting one or two hidden layers may
achieve good convergence. Moreover, with more nodes in the
hidden layer, the convergence rate will accelerate, a smaller
error will be achieved, and a better conjecture result will be
accomplished. Nonetheless, too many nodes may cause over-
learning and excessive training time. On the contrary, too few
nodes can lead to the correlation between inputs and outputs
not being constructed. Consequently, the number of nodes must
be properly set to maximize the efficiency.
Regarding selecting the transfer function in the hidden layer,
Log-Sigmoid is one of the basic transfer functional types
(11)
An alternative type of transfer function is Hyper Tangent-Sig-
moid
(12)
In this example, there are two hidden layers, and the possible
numbers of nodes is between 1 and 50. Moreover, the possible
transfer functions are Log-Sigmoid or Hyper Tangent-Sigmoid.
The best combination of the hidden layer number, node number,
and transfer function is selected using the self-searching mech-
anism explained in (11) and (12).
Before entering the network training process, the input raw
data is normalized to increase the training efficiency. After fin-
ishing the training, the output data is also denormalized to re-
cover the actual physical scale of the output data. This example
chooses training cycle number and error bounds as conditions
for training termination. The training terminates when either
a training cycle number reaches the limit or when the error is
within the bounds specified by users. Common NNs usually
set initial weights randomly; whereas, the present example ap-
plied the conditional-random method [15] proposed by Nguyen
and Widrow to create initial weights. Mean square error (MSE)
190 IEEE TRANSACTIONS ON SEMICONDUCTOR MANUFACTURING, VOL. 19, NO. 2, MAY 2006
Fig. 7. Operating procedure of auto-adjusting mechanism with reliance index.
The more closely the MAPE value approaches zero, the
better the conjecture/prediction accuracy of the model holds.
MAPE can represent the average conjecture/prediction error of
a quality prognostics system. For the plasma sputtering process
of TFT-LCD plants, MAPE is required to be less than 2%.
The formula for Max Error is
Max Error (16)
For the plasma sputtering process of TFT-LCD plants, the Max
Error is required to be less than 5%.
D. Operating Procedure of Auto-Adjusting Mechanism With
Reliance Index
Fig. 7 shows the operating procedures of the auto-adjusting
mechanism with reliance index. Upon running the conjecture
mechanism [Step (A1)], the system will concurrently calculate
RI using data of the processing parameters [Step (R1)]. Then,
the value of RI is compared with the reliance threshold [Step
(R2)]. If the value of RI is less than the threshold, meaning that
the conjecture values may not be believable, the quality engi-
neer needs to decide whether actual measurement should be per-
formed [Step (R3)]. If actual measurement needs to be executed,
the product is then sent to measurement equipment for mea-
suring [Step (R4)]. As the measured quality data are available
[Step (A2)], the conjecture accuracy is evaluated [Step (A3)].
If the error is greater than M%, say [Step (A4)], the
auto-adjusting mechanism is activated to add the inaccurate data
to the training data set [Step (A5)]. The self-searching mecha-
nism is then launched to rebuild a more accurate conjecture al-
gorithm [Step (A6)]. As the new model is constructed, the RI
and RI threshold need to be recalculated.
IV. RESULTS AND DISCUSSION
In this section, the performance tests are conducted on
the QPS using three types of prognostics models: 1) (NN) +
(WMA); 2) NN + NN; and 3) CNN. Two kinds of processing
192 IEEE TRANSACTIONS ON SEMICONDUCTOR MANUFACTURING, VOL. 19, NO. 2, MAY 2006
Fig. 10. Prediction results on processing with drift.
TABLE III
PREDICTION ERRORS ON PROCESSING WITH DRIFT
NN, and CNN models are 1.73%, 1.76%, and 1.63%, respec-
tively. All are less than 2%. Also, the Max Error values of these
models are 5.07%, 4.59%, and 4.46%, respectively. In normal
processing conditions, the prediction performance of the CNN
model is better than the other two models.
Fig. 10 and Table III illustrate the prediction results of the
QPS using data of the processing parameters with drift. As
shown in Table III, the prediction MAPE values of NN + WMA,
NN + NN, and CNN models are 0.9%, 1.34%, and 1.1%, re-
spectively. All are less than 2%. Also, the Max Error values of
these models are 2.86%, 2.89%, and 4.53%, respectively. In
processing conditions with drift, the prediction performance of
the NN + WMA model is better than the other two models.
C. Test Results With Auto-Adjusting
Fig. 11 shows the conjecture results of the NN and CNN
models on processing having shift with/without auto-adjusting.
When processing shift occurs, because the shifted processing
data are not within the original training data set of the con-
jecture model, the conjecture accuracy will reduce, as shown
in sample 3 circumscribed by dotted ovals. At this time, the
auto-adjusting mechanism is activated to incorporate the shifted
processing data for retraining the conjecture model. After the
retraining is completed, if similar shifts emerge, the conjecture
model is then able to accurately conjecture the shifts, as shown
in samples 12 and 18 circumscribed by thick circles. Therefore,
the auto-adjusting mechanism that is based on the learning ca-
pability of NN or CNN effectively enhances the accuracy of pro-
cessing quality conjectures.
TABLE IV
RELIANCE INDEX ACCURACY
D. Test Results of Reliance Index
To evaluate the accuracy of the reliance index, 130 sets of
data are applied for testing. If the following two situations occur,
the conjecture with RI is regarded as being wrong: 1) the ac-
tual conjecture error is greater than 5% and the conjecture error
with RI is less than 5% and 2) the actual conjecture error is less
than 5% and the conjecture error with RI is greater than 5%.
Otherwise, the conjecture result with RI is considered correct.
Table IV shows the reliance index accuracy of the conjecture re-
sults. In the test, 122 out of the 130 testing data sets are correct.
Thus, the accuracy of the proposed reliance index is fairly high,
approximately .
V. CONCLUSION
This paper proposes a quality prognostics scheme that
includes self-searching and auto-adjusting mechanisms. The
quality prognostics scheme can perform virtual metrology and
quality prediction. Furthermore, the conjecture and prediction
models in this scheme are relatively generic and exchange-
able. The features of user selection and interface setup and
self-searching mechanisms help developers to efficiently de-
velop a quality prognostics scheme that can be rapidly applied
to different types of equipment. In addition, the auto-adjusting
mechanism automatically tunes the conjecture scheme in the
event of offsets of equipment properties, increasing the adapt-
ability of this scheme. In addition, a reliance index is proposed
to determine whether the conjecture quality is believable or not.
The reliance index enables the quality prognostics system to
effectively monitor the status of the processing quality in real
time. In turn, the objective of glass-to-glass quality monitoring
can be achieved. Based on the conjecture/prediction results
194 IEEE TRANSACTIONS ON SEMICONDUCTOR MANUFACTURING, VOL. 19, NO. 2, MAY 2006
Min-Hsiung Hung (M’01) was born in Chang-Hua,
Taiwan, R.O.C., on September 9, 1966. He received
the B.S. degree from Chung Cheng Institute of
Technology, Tao-Yuan, Taiwan, in 1988, the M.S.
degree from National Cheng Kung University,
Tainan, Taiwan, in 1992, and the Ph.D. degree from
The Ohio State University, Columbus, in 1999, all
in electrical engineering.
He is currently an Associate Professor of electrical
engineering at Chung Cheng Institute of Technology,
National Defense University. His current research in-
terests include factory automation for semiconductor manufacturing, e-Manu-
facturing, e-Diagnostics, remote monitoring and control technologies, informa-
tion technology applications, intelligent control, dynamic simulation and con-
trol of robotics, microprocessor systems, embedded systems, and systems on
programmable chips.
Fan-Tien Cheng (S’87–M’89–SM’98) received the
B.S. degree from the National Cheng Kung Univer-
sity (NCKU), Tainan, Taiwan, R.O.C., in 1976, and
the M.S. and Ph.D. degrees from The Ohio State Uni-
versity, Columbus, in 1982 and 1989, respectively, all
in electrical engineering.
He was with the Chung Shan Institute of Science
and Technology (CSIST), Taoyuan, Taiwan, as a Re-
search Assistant, in 1976, and was promoted to Assis-
tant Scientist, Associate Scientist, and Senior Scien-
tist in 1982, 1986, and 1994, respectively. He served
as the Director of the Managing Office in the design, development, testing, and
maintenance of a modern fire control system. In 1995, he joined the National
Cheng Kung University as an Associate Professor of manufacturing engineering
and was promoted to a Full Professor, in August 1997, and to a Distinguished
Professor, in August 2003. He also served as the Director of the Institute of
Manufacturing Engineering, from August 1998 to July 2001. He built a web-en-
abled experimental manufacturing execution system, a supply-chain informa-
tion system for IC-Packaging, and a test bed of e-diagnostics framework for
semiconductor manufacturing at the Automation Laboratory of the Institute of
Manufacturing Engineering for educational and research purposes. His research
interests include factory automation for semiconductor manufacturing, e-man-
ufacturing, e-diagnostics, as well as control and optimization of multiple-chain
robotic mechanisms and redundant manipulators.
Yeh-Tung Chen (S’06) was born in Kaohsiung,
Taiwan, R.O.C., on January 26, 1978. He received
the B.S. and M.S. degrees from National Cheng
Kung University, Tainan, Taiwan, in 2001 and
2003, respectively, both in statistics. He is currently
working toward the Ph.D. degree at the Institute of
Manufacturing Engineering, National Cheng Kung
University.
His research interests include factory automation
for semiconductor manufacturing, e-manufacturing,
industrial statistics, quality management, reliability
analysis, and system simulation.
IEEE TRANSACTIONS ON SEMICONDUCTOR MANUFACTURING, VOL. 19, NO. 2, MAY 2006 195
Intelligent Prognostics System Design and
Implementation
Yu-Chuan Su, Member, IEEE, Fan-Tien Cheng, Senior Member, IEEE, Min-Hsiung Hung, Member, IEEE, and
Hsien-Cheng Huang
Abstract—This paper proposes an intelligent prognostics system
(IPS) for semiconductor and TFT-LCD manufacturing. The IPS
comprises several generic embedded devices (GEDs) and remote
clients. The GED can be easily embedded into various types of
equipment to acquire equipment engineering data and meet the
specification requirements of Interface A for supporting semicon-
ductor industry equipment engineering capabilities. Furthermore,
the GED has an open-standard application interface offering plug-
gable and customized intelligent applications. With this feature,
the intelligent applications can be distributed and localized, re-
leasing the factory network burden and enhancing equipment reli-
ability and processing quality. This paper also develops two typical
pluggable applications: the predictive maintenance scheme (PMS)
for detecting equipment faults and the virtual metrology scheme
(VMS) for conjecturing equipment-processing quality. Integrating
the PMS into the IPS and the VMS into the IPS are, respectively,
accomplished using the conveyor equipment and the sputtering
equipment in a TFT-LCD factory. These two illustrative examples
clearly demonstrate that IPS is versatile, configurable, and effec-
tive.
Index Terms—Equipment engineering system (EES), generic
embedded device (GED), predictive maintenance, virtual
metrology.
I. INTRODUCTION
THE semiconductor and thin-film transistor liquid-crystaldisplay (TFT-LCD) industries are both high-capital and
technology-intensive industries with leading roles in global
high-technology development. The huge investment in these
industries implies that ensuring continuous operation and
maintaining high product quality are crucial, because equip-
ment breakdown and quality defects lead to loss of production
capability and an increase in cost. Hence, improving the overall
equipment effectiveness (OEE) of the manufacturing equip-
ment is critical to profits in the semiconductor and TFT-LCD
industries. Many manufacturers are also promoting shop floor
automation to raise production capacity, reduce manpower,
and decrease production cost. Thus, International SEMATECH
Manuscript received November 29, 2004; revised December 19, 2005. This
work was supported by the National Science Council, R.O.C., under Contracts
NSC-94-2212-E006-006 and NSC-93-2622-E-006-005.
Y.-C. Su, F.-T. Cheng, and H.-C. Huang are with the Institute of Man-
ufacturing Engineering, National Cheng Kung University, Tainan, Taiwan,
R.O.C. (e-mail: tom@super.ime.ncku.edu.tw; chengft@mail.ncku.edu.tw;
wilson@super.ime.ncku.edu.tw).
M.-H. Hung is with the Department of Electrical Engineering, Chung Cheng
Institute of Technology, National Defense University, Tao-Yuan 335, Taiwan,
R.O.C. (e-mail: minmin@ccit.edu.tw).
Digital Object Identifier 10.1109/TSM.2006.873512
(ISMT) [1] has proposed the e-manufacturing and e-factory
concepts to achieve electronic and unmanned manufacturing
using the Internet and information technologies.
In the e-diagnostics guidebook [2], ISMT divides e-diag-
nostic capabilities into four levels as follows: level 0—access
and remote collaboration; level 1—collection and control; level
2—analysis; and level 3—prediction. The capabilities in the
higher levels are built on those in the lower levels. Detailed
data must be collected from process equipment to obtain all
of these capabilities. Therefore, Interface A has been defined
for equipment data acquisition (EDA) to support e-diagnos-
tics/e-manufacturing in the semiconductor industry [2], [3],
[17]. Fig. 1 [3] shows that Interface A serves as the principal
interface between manufacturing equipment and the equipment
engineering system (EES). IBM [4] believes that Interface A
creates opportunities for integrating performance information
(e-diagnostic data) with control information (advanced process
control (APC), statistical process control (SPC), and OEE)
leading to improvements in yield, predictive maintenance, and
lower support cost.
This paper proposes a novel intelligent prognostics system
(IPS) comprising many generic embedded devices (GEDs) and
several remote clients. The IPS may serve as the infrastructure
of an EES. The GED can be embedded into any equipment to
acquire equipment engineering data and meet Interface A’s re-
quirements. Furthermore, the GED has an open-standard appli-
cation interface offering many pluggable and customized intelli-
gent applications. With this feature, the intelligent tasks, which
have capabilities such as self-learning, knowledge accumula-
tion, inferring, etc., can be distributed and localized to allow the
factory network burden to be released.
In developing the GED, this paper adopts the embedded
system design philosophy and works toward easy embedding
and interfacing with any information equipment and external
systems. All information tools, including manufacturing
equipment, servers, and automated guided vehicles, require
prognostics. Therefore, the GED developed in this paper is
applicable to all information tools mentioned previously.
This paper also presents two typical intelligent prognostic
schemes via pluggable applications of the GED to demonstrate
the integrity and effectiveness of the proposed IPS. These
schemes are the predictive maintenance scheme (PMS) and
virtual metrology scheme (VMS). The PMS is used mainly to
monitor equipment sensors and to determine the condition of
equipment such that an alarm can be sent before a failure oc-
curs. The VMS is applied to conjecture operation performance
0894-6507/$20.00 © 2006 IEEE
SU et al.: INTELLIGENT PROGNOSTICS SYSTEM DESIGN AND IMPLEMENTATION 197
Fig. 3. Architecture of Cimtrix’s CIMPortal.
Fig. 4. IPS architecture.
breakdown lacks backup, the entire prognostics system is para-
lyzed.
The GED’s design also adopts embedded system technology.
Therefore, some studies for equipment information collection
based on embedded system technology are surveyed as follows.
Considering the device-to-business idea proposed by the Center
of Intelligent Maintenance Systems [8], a device-to-business de-
vice is designed with embedded system technology and able to
gather equipment information. However, the detailed hardware
architecture and software mechanism of the device-to-business
device are not described in [8].
Because an embedded system is usually distributed and in
real time, many computer-aided maintenance management sys-
tems [9] are implemented on embedded systems. Additionally,
embedded computing [10] is increasingly applied in system ar-
chitecture design and automation. The information-collecting
device designed with embedded system architecture is config-
urable, extensible, and portable. Therefore, product line goals
can be achieved [11]. Moreover, embedded system applications
can be distributed, dynamic, adaptive and wireless, and thus
can meet a manufacturing company’s information acquisition
requirements.
III. IPS ARCHITECTURE
Fig. 4 shows that the IPS comprises many GEDs and sev-
eral remote clients. Each GED is embedded into specific
SU et al.: INTELLIGENT PROGNOSTICS SYSTEM DESIGN AND IMPLEMENTATION 199
Fig. 6. Proposed EES framework.
the PAM for setting up the proper PAM kernel and GUI.
Subsequently, the GED selects a proper DCPlan and calls Ac-
tivatePAM() to activate the operation of the PAM. Meanwhile,
the GED will collect the equipment data based on the DCPlan
and store them into the internal buffer waiting for the PAM to
access. The PAM, then, executes the application program and
replies the process results and error codes (if any) to the GED’s
internal buffer via return parameters of ActivatePAM(); then,
the GED sends the process results and error codes (if any) to
the remote client. Finally, after finishing the PAM’s mission,
the GED invokes DeactivatePAM() to deactivate the PAM.
C. Applying IPS Architecture to Serve as EES Framework
The SEMI Interface A specification [17] has been imple-
mented in the GED of the IPS; also, a PAM is added to the
GED for serving as a localized and/or customized application.
Hence, the IPS architecture is a very good option for the EES
framework in a semiconductor factory. The proposed EES
framework by applying the IPS architecture is shown in Fig. 6.
The ISMT EEC guidelines [3] and the common EES solutions
[5]–[7] mentioned above implement all of the EEC applications
in remote clients. Different from those solutions, the proposed
EES framework implements the self-related applications, such
as FDC, VMS, PMS, etc., in GEDs that are embedded in man-
ufacturing tools. Such an architecture enables the heavy work
of considerable data transition and processing to be handled by
a PAM in the GED; the PAM only has to report the processed
results to the remote client. Thus, a heavy burden to factory
network bandwidth is released.
The criteria for justifying the suitable location of an applica-
tion to be in a PAM of the GED or a remote client are stated as
follows.
1) The application that requires a great deal of self-related
equipment data transmission and processing, such as PMS,
VMS, FDC, etc., is suitable to be located in a PAM of the
GED.
2) The application that needs data from multiple tools or man-
ages multiple tools simultaneously, such as R2R, APC,
recipe management (RM), etc., is suitable to be located in
a remote client.
3) The application that requires remote login or control via
Internet from outside of the factory, such as e-Diagnostics,
should be implemented in a remote client for security con-
siderations.
This paper develops two typical PAMs: the PMS for equip-
ment fault detection and the VMS for virtual metrology. Two
practical examples concerning the PMS and the VMS are pre-
sented as follows to demonstrate the feasibility and effectiveness
of the IPS.
IV. ILLUSTRATIVE EXAMPLE I—IPS+PMS
This paper has selected a conveyor from a TFT-LCD fac-
tory as the example equipment for implementing the IPS+PMS.
Fig.7 depicts the schematic diagram of the conveyor equipment.
The conveyor is composed of four modules, CV-A, CV-B,
TT-A, and TT-B. CV-A and CV-B allow forward-and-back-
ward transportation, while TT-A and TT-B permit both for-
ward-and-backward and rotating transportation. This conveyor
is only a portion of the entire conveyor system for moving glass
sheets in a TFT-LCD factory from one piece of equipment to an-
other for processing, examining, or storing. The high fragility of
the glass implies that the motor-speed difference between two
neighboring conveyor modules over the allowable bounds may
scratch the glass, making it unusable.
The malfunction of a conveyor photo sensor, which detects
the appearance of a sheet of glass, may also cause collision
and damage glass sheets. Therefore, this example applies the
IPS and develops the PMS in a PAM to detect the motor-speed
SU et al.: INTELLIGENT PROGNOSTICS SYSTEM DESIGN AND IMPLEMENTATION 201
Fig. 9. Diagram for integrating PMS into IPS.
During the training phase, the GED data collection manager
retrieves the sensor and motor data from the conveyor and sends
the data to the remote client via the communication agent. Then,
the remote client establishes PMS reference values of normal
states and values for conveyor photo sensors and motors. Fi-
nally, the remote client transmits the PMS references to the PMS
via the GED communication agent and by invoking SetParam-
eter() of application interface.
In the running phase, the GED data collection manager ob-
tains the sensor and motor data from the conveyor and sends
them to the PMS by calling ActivatePAM() of application inter-
face. Then, the PMS evaluates the status of the conveyor sensors
and motor speeds by comparing the data with the PMS refer-
ences in real time. When an exception of the sensors or motor
speeds is discovered, the PMS reports its location and the error
code to the remote client, which warns the maintenance engineer
via return parameters of ActivatePAM() in application interface.
If an emergency stop is required, the PMS sends a signal to the
PLC to halt the conveyor.
Once the PMS detects an exception, the conveyor status panel
automatically appears to identify the exception location with
a red mark. This example has been successfully implemented
and integrated with conveyor equipment manufactured by a Tai-
wanese automation company.
V. ILLUSTRATIVE EXAMPLE II—IPS+VMS
Sputtering equipment from a TFT-LCD factory is selected as
the second exampleof equipment and is depicted in Fig. 10. The
equipment comprises 16 process modules, each of which is as-
signed to a different process. During manufacturing, glass (raw
material) is plated with a thin metallic coating, which serves
as the color frame of the LCD panels. The arrow direction in
Fig. 10 indicates the process sequence. A vacuum sensor is in-
stalled for collecting the vacuum condition. Moreover, a gas
concentration sensor is installed to monitor the gas-concentra-
tion condition. Sensors for detecting powers are installed in the
electric field that controls the ion plasma concentration. Conse-
quently, numerous sensor data are recorded during the manufac-
turing process.
After glass is processed, two out of 100 sheets are randomly
measured, and data of sputtering coating thickness are recorded.
The equipment must strictly control the sputtering coating thick-
ness to within the allowable range. To maintain the sputtering
coating thickness, the sensor data must be screened to identify
SU et al.: INTELLIGENT PROGNOSTICS SYSTEM DESIGN AND IMPLEMENTATION 203
Fig. 12. Test results of IPS+VMS.
where is sample number, is actual value,
and is prediction value.
The more closely the MAPE value approaches zero, the better
the conjecture accuracy of the model is held. MAPE can repre-
sent the average conjecture error of a VMS.
The formula for Max Error is
Max Error (2)
B. Integrating VMS Into IPS
The VMS shown in Fig. 11 can be packed as a PAM and
plugged into the GED. The diagram for integrating the VMS
into the IPS is similar to Fig. 9. The integration process can be
divided into system initialization phase, training phase, running
phase, and auto-adjusting phase. During the system initializa-
tion phase, the CEM files of the production and measurement
tools, the proper equipment driver for accessing the CEM files,
and the PAM module for the VM operation are selected via the
GED’s initialization GUI. Then, the GED invokes SetParame-
ters() of application interface to pass the VM application param-
eters to the VMS. Subsequently, the GED calls InitializePAM()
to establish the VMS kernel and the corresponding GUI. Finally,
the GED selects a suitable DCPlan for the VM operation.
During the training phase, the GED collects historical process
and measurement data from production equipment and mea-
surement equipment, respectively, according to the training DC-
Plan. Then, the GED calls ActivatePAM() of application inter-
face to pass those equipment data to the VMS. Afterward, the
VMS applies the self-searching algorithm to train and search
the best combination of weights and functions of the neural-net-
work conjecture model.
In the running phase, the VMS in the GED gathers the process
data from the production equipment and the measurement data
from the measurement equipment in real-time, based on the run-
ning DCPlan. Then, the conjecture model is executed to conjec-
ture the quality of the current glass and send the conjecture re-
sult as well as exception/alarm notice (if any) to the GED via the
return parameters of ActivatePAM(). Afterward, the conjecture
result as well as exception/alarm notice are sent to the remote
client. Meanwhile, the accuracy of the conjecture results is eval-
uated. If the accuracy is below 95%, then the VMS enters the
auto-adjusting phase; otherwise, the VMS continues running.
During the auto-adjusting phase, the VMS first adds the cur-
rent process and measurement data to the training data set and
starts executing the auto-adjusting mechanism. Then, the VMS
launches the self-searching mechanism to rebuild the conjecture
model. Once a more accurate set of weights/functions is found,
the VMS in the GED re-enters the running phase.
C. Test Results of VMS
Fig. 12 illustrates the test results of the VMS. The first to 20th
points are the training data, while the 21th to 60th points are the
testing data. As shown in the figure, the conjecture values of the
neural network model almost overlay the actual values in the
training phase, which means the training result is good. In the
testing phase, the conjecture errors are shown in Fig. 12 with
MAPE , and Max Error . The value
[30] is also calculated to show the wellness of fit be-
tween the actual measurement and virtual metrology.
VI. PERFORMANCE EVALUATION
XML performance evaluation and comparisons between the
ISMT common EES architecture (as shown in Fig. 1) [3] and
SU et al.: INTELLIGENT PROGNOSTICS SYSTEM DESIGN AND IMPLEMENTATION 205
Fig. 14. Comparison of XML performance. (a) XML serialization time. (b) XML deserialization time.
Table I
COMPARISONS FOR VM APPLICATION LOCATED IN REMOTE CLIENT AND GED
Fig. 13, Routes 2 (2a, 2b) and 3 (3a, 3b) are the message transfer
routes of Case 1 and Case 2, respectively. For Case 2, Route 3a
transmits 196.5 KB equipment raw data to the PAM and Route
3b sends less than 100 B in XML format, which contains the
process result and/or exception report, to the remote client. Ob-
serving Table I, it is clear that the total transfer time of
Case 1 (1853 ms) is much higher than that of Case 2 (37 ms).
As such, a real-time application can better be accomplished if it
is locally plugged into the GED.
For consideration of factory network burden, Case 1 takes 20
ms (Route 2a) on the equipment internal bus to transmit a mes-
sage of 196.5 KB to the GED and then takes 78 ms (Route 2b)
on the factory network to send a message of 718.2 KB to the re-
mote client. As for Case 2, it similarly takes 20 ms (Route 3a) on
the equipment internal bus to transmit a message of 196.5 KB to
the GED; meanwhile, it only takes 1 ms (Route 3b) on the fac-
tory network to send the process result and/or exception report
to the remote client. This 20 ms on the equipment internal bus is
SU et al.: INTELLIGENT PROGNOSTICS SYSTEM DESIGN AND IMPLEMENTATION 207
Professor, in August 2003. He also served as the Director of the Institute of
Manufacturing Engineering from August 1998 to July 2001. He built a web-en-
abled experimental manufacturing execution system, a supply-chain informa-
tion system for IC-Packaging, and a test bed of e-diagnostics framework for
semiconductor manufacturing at the Automation Laboratory of the Institute of
Manufacturing Engineering for educational and research purposes. His research
interests include factory automation for semiconductor manufacturing, e-man-
ufacturing, e-diagnostics, as well as control and optimization of multiple-chain
robotic mechanisms and redundant manipulators.
Dr. Cheng was the recipient of the Senior Scientist Award of the R.O.C.
Department of Defense, in 1994. He won the Kayamori Best Paper Award at
the 1999 IEEE International Conference on Robotics and Automation and the
Distinguished Industry-University Professor Award of NCKU, in 2004. He re-
ceived the Outstanding Industry-University Cooperation Award, in 2003, from
the Ministry of Education of the R.O.C. He also served as an Advisor of the
winners of the 1999, 2000, 2003, and 2005 Acer Dragon Thesis Awards. He
served as the Program Chair of the 2002 IEEE/ASME International Conference
on Advanced Manufacturing Technologies and Education, the Finance Chair
of the 2003 IEEE International Conference on Robotics and Automation, the
Program Chair of the 2005 International Conference on Hands-on Intelligent
Mechatronics and Automation, and the Program Co-Chair of the 2005 IEEE
International Conference on Mechatronics. He has also been an Associate Ed-
itor of the IEEE TRANSACTIONS ON ROBOTICS AND AUTOMATION and
was the Chairman of the Taipei Chapter of the IEEE Robotics and Automation
Society from August 2003 to July 2004. He is currently a Senior Board Member
of the Chinese Institute of Automation Engineers.
Min-Hsiung Hung (M’01) was born in Chang-Hua,
Taiwan, R.O.C., on September 9, 1966. He received
the B.S. degree from Chung Cheng Institute of
Technology, Tao-Yuan, Taiwan, in 1988, the M.S.
degree from National Cheng Kung University,
Tainan, Taiwan, in 1992, and the Ph.D. degree from
The Ohio State University, Columbus, in 1999, all
in electrical engineering.
He is currently an Associate Professor of electrical
engineering at Chung Cheng Institute of Technology,
National Defense University. His current research in-
terests include factory automation for semiconductor manufacturing, e-Manu-
facturing, e-Diagnostics, remote monitoring and control technologies, informa-
tion technology applications, intelligent control, dynamic simulation and con-
trol of robotics, microprocessor systems, embedded systems, and systems on
programmable chips.
Hsien-Cheng Huang was born in Tao-Yuan,
Taiwan, R.O.C., on April 25, 1979. He received the
B.S. degree from Da-Yeh University, Chang-Hua,
Taiwan, in 2002, and the M.S. degree from the
Institute of Manufacturing Engineering, National
Cheng Kung University, Tainan, Taiwan, in 2004.
He is currently pursuing the Ph.D. degree at the
Institute of Manufacturing Engineering, National
Cheng Kung University.
His research interests include factory automation
for semiconductor manufacturing, equipment engi-
neering systems, e-Manufacturing, embedded systems, and short-range wireless
technology.
 
[1] M.-H. Hung, S.-C. Yeh, and F.-T. Cheng, “Development of a Web-services-based 
e-Diagnostics Framework,” in Proceedings of 2003 IEEE International Conference on 
Robotics and Automation, Taipei, Taiwan, R.O.C., pp. 596-603, September 2003. 
  
Collect domain requirements
Analyze domain knowledge
Construct the framework model
Develop the generic
component
Develop WSDF components
Construct applications
Integrate the system and test it
Identify generic parts among
components
Define framework messages
System analysis
e-Diagnostics framework design
Application construction
System integration and testing
Component design and implementation
Modify
Design the system component
model
Figure 1. The development procedure of WSDF. 
 
Figure 2. Web-services-based e-diagnostics framework (WSDF) model. 
framework (WSDF). The object-oriented analysis and design of 
system components in WSDF are depicted in Section 4. Section 5 
constructs a paradigm application of e-diagnostics and describes 
the associated implementation and integration test. Section 6 is 
the summary and conclusions. 
2 Development Procedure 
In this research, a systematic procedure is devised to develop 
the WSDF, as shown in Fig. 1, which is described as follows. 
I. System analysis: 
To collect domain knowledge, the e-diagnostics workshop 
materials [3] and guidebook [4] of International SEMATECH 
are referred to and analyzed. Based on these analyses, the 
functional requirements of the WSDF are specified. 
II. e-Diagnostics framework design: 
According to the results in System Analysis, the diagnostics 
framework model is designed first. Then, the component 
model of the WSDF is developed. In particular, to benefit 
from code reuse and increase the overall system development 
efficiency, several common functions of system components 
are identified and built into a generic component, called 
Web-Service Agent. Other system components can then be 
constructed through inheriting the Web-Service Agent and 
adding specific functions. Besides, framework messages are 
defined to fulfill communications and operations among the 
system components. 
III. Component design and implementation: 
In this stage, UML (Unified Modeling Language) [20] is used 
as the tool to accomplish the object-oriented analysis and 
design (OOA and OOD) of system components in WSDF. The 
system components are then implemented using two 
mainstream programming languages, Sun’s Java and 
Microsoft’s C#. 
IV. Application construction: 
After the implementation of system components is completed, 
a paradigm application of the WSDF is constructed, using an 
e-diagnostics scenario. 
V. System Integration and testing: 
Finally, the system integration and testing of the paradigm 
application is performed to evaluate the effectiveness of the 
WSDF. 
3 Design of the Web-services-based e-Diagnostics 
Framework 
The design of the Web-services-based 
e-diagnostics framework (WSDF) 
includes four parts that are described in 
Section 3.1 to Section 3.4, sequentially. 
3.1 Construct the Framework Model 
The framework model of the WSDF is 
proposed as shown in Fig. 2. The WSDF 
consists of fab’s Equipment, Data 
Acquisition Servers (DASs), On-site 
Diagnostics Server (ODS), and Local 
Diagnostics Database (LDD), and 
supplier’s Remote Diagnostics Server 
(RDS) and Global Diagnostics Database 
(GDD), together with Authentication 
Service and UDDI Registry Node. 
In WSDF, each Data Acquisition 
Server (DAS) is designed to diagnose, 
monitor, and control multiple (sixteen at 
most) sets of equipment. Therefore, in a semiconductor fab, there 
are many DASs linking to equipment to access equipment 
engineering (EE) data.  These EE data can then be sent to other 
server components through SOAP. 
On the factory side, an On-site Diagnostics Server (ODS) is 
designed to contain EE services components that can be used by 
local and remote diagnostic systems. Also, ODS can handle the 
local diagnostic process of equipment. When equipment fault 
occurs, ODS performs the local diagnostic process to provide the 
DAS with the corresponding diagnostic solutions, which come 
from LDD. If and only if the corresponding diagnostic solutions 
cannot be found locally, then the DAS activates the remote 
diagnostic process to get diagnostic solutions from remote 
diagnostics systems on the supplier side. This approach can save 
the network bandwidth. 
On the supplier side, a Remote Diagnostics Server (RDS) is 
designed to provide professional diagnostic services. In addition, 
RDS can remotely collect EE data through fab’s DASs and save 
597
 Diagnostics, Maintenance, and Advanced Process Control/ 
Overall Equipment Efficiency (APC/OEE), which relate to the 
diagnostic functions on the factory side. Inside the ODS, the 
ODS Communication Manager is designed to take care of 
communicating with other server components. 
RDS is designed to possess professional diagnostics 
components, such as the diagnostics-solutions retrieval system 
and the remote EE system. Also, inside the RDS, the RDS 
Communication Manager is constructed to communicate with 
other server components over Internet. 
By analyzing the functional requirements of DAS, ODS, and 
RDS, several common functions, such as SOAP communication, 
UDDI registration, security mechanism, data exchange 
mechanism, and local database access, are identified and built 
into a generic component, called Web-service Agent. By 
inheriting the Web-service Agent and adding specific functions, 
other components, such as Data Acquisition Manager, ODS 
Communication Manager, and RDS Communication Manager, 
can then be constructed and contain these common capabilities. 
It is noted that WSDF uses Web services as the 
communication infrastructure, which is loosely coupled and 
peer-to-peer. Thus, system components can be plug-and-play. In 
such a manner, other business components, such as MES 
(Manufacturing Execution System), ERP (Enterprise Resources 
Planning), and SCM (Supply Chain Management), can inherit the 
Web-service Agent to interoperate with WSDF components. 
According to aforementioned properties, WSDF can be 
expanded for global applications involving multiple fabs and 
multiple suppliers, as shown in Fig. 4. The DASs in 
semiconductor fabs can register various EE Web services into 
UDDI registry nodes such that the RDSs of suppliers can find 
and use these services to obtain global EE data and access 
equipment. At the same time, semiconductor fabs that possess 
diverse kinds of equipment can find and use the correct 
diagnostics Web services registered by suppliers from any UDDI 
registry node. In the manner that the service components of 
factories and suppliers are described with WSDL and registered 
through UDDI and communicate with each other by SOAP, the 
global applications of WSDF can be achieved. 
3.3 Define the Web-Service Agent 
As described previously, the Web-service Agent contains 
several common functions, including SOAP communication, 
UDDI registration, security mechanism, data exchange 
mechanism, and local database access. In Fig. 5, the functional 
blocks, SOAP Interface, UDDI Registry Mechansim, Security 
Mechanism, XSLT (eXtensible Stylesheet Language 
Transformations) Mechanism, and Local Database, are used to 
express these common functions, individually. Also, the 
Communication Kernel is designed to manage and use these 
functions. Hence, other system components can use these 
functions by inheriting the class of Communication Kernel. In 
this paper, inheriting Web-service Agent represents inheriting the 
class of Communication Kernel. The development of the 
Web-service Agent is detailed later. 
3.4 Define Framework Messages 
For the design of WSDF to support a specific application 
operation, the framework messages, which are the 
communication messages between system components to 
complete that operation, should be defined. Figure 6 shows an 
example of framework messages for an e-diagnostics operation. 
In this research, the framework messages of other operations, 
such as e-maintenance and APC/OEE, are also defined. The 
framework messages in Fig. 6 are described as follows. 
1. When faults occur, the equipment delivers error messages to 
DAS. 
2. DAS delivers error messages to ODS. 
3. ODS searches LDD（Local Diagnostics Database）for  the 
diagnostic solutions (checkpoint solutions) based on the error 
messages. 
4. ODS responds to DAS with the checkpoint solutions. 
5. On-site engineers can troubleshoot the equipment based on the 
checkpoint solutions. 
6. DAS reports the diagnostic status to ODS. This completes the 
local diagnostic operation. 
7. If no diagnostic solutions for the occurring faults are found 
locally, or the equipment faults cannot be remedied 
accordingly, then DAS delivers error messages to RDS. 
8. RDS responds to DAS with the checkpoint solutions, which 
are obtained from the Diagnostics-Solutions Retrieval System, 
which is a remote diagnostics system on the supplier side. 
9. On-site engineers can troubleshoot the equipment based on the 
checkpoint solutions obtained in Step 8. 
10. DAS reports the diagnostic status to ODS. 
11.ODS saves the new case, which includes the information of 
faults and the associated diagnostic solutions, to LDD to 
facilitate future local diagnostic operations. 
12.DAS reports the diagnostic status to RDS to complete the 
remote diagnostic operation. 
Security
Mechanism
XSLT
Mechanism
Local
Database
SOAP Interface
Communication Kernel
UDDI
Registry
Mechanism
 
Figure 5. Functional blocks of the Web-service Agent. 
Internet
Supplier SideFactory Side
12. Report the diagnostic status
7. Deliver the unknown fault
8. Respond with the checkpoint solutions
Local
Diagnostics
Database
On-site
Diagnostics
Server
Equipment
Data Acquisition
Server
11. Save the new case
2. Deliver error messages
1. Deliver error messages
3. Search for checkpoint solutions
4. Respond
with the
checkpoint
solutions
5(9). Troubleshooting
6(10). Report the
diagnostic status
Remote
Diagnostics
Server
Figure 6. Example of framework messages for an 
e-diagnostics operation. 
599
 platforms. 
Due to the space limit, only the OOD 
class diagrams of Java version of 
Web-service Agent are presented here, as 
shown in Fig. 8. The figure also illustrates 
the static relationships among the constituent 
classes of Web-service Agent, which are 
SecurityMechanism, SOAPInterface, 
CommunicationKernel, XSLTMechanism, 
LocalDatabase, and 
UDDIRegistryMechanism. Among these 
classes, CommunicationKernel associates 
with all of other classes and possesses 
outward (boundary) functional interfaces. 
Thus, a system component can use the 
functions provided by the Web-service Agent 
by just inheriting the CommunicationKernel 
class. 
4.2 Data Acquisition Server (DAS) 
From the framework messages defined in 
Section 3.4, the communication messages 
associated with DAS can be identified. Then, 
the functional requirements of DAS can be 
summarized as follows: 
 Possess a SOAP communication interface 
for messaging and coordination. 
 Provide a UDDI registry mechanism for 
registering and searching Web services. 
 Provide an XSLT mechanism for 
transforming the formats of XML 
documents. 
 Hold a security mechanism to encrypt and decrypt the data 
delivered over Internet and to provide authentication and 
authorization of accessing system services. 
 Provide the functions of accessing local databases. 
 Provide functions for remotely manipulating, monitoring, and 
controlling equipment. 
 Report equipment engineering (EE) data. 
 Diagnose equipment. 
It is noted that the first five requirements are the same as those in 
Web-service Agent. Thus, DAS can inherit Web-service Agent to 
fulfill these requirements. 
According to above functional requirements, the Use Case 
diagram of DAS can be drawn. Then, based on the scenarios in 
the Use Case diagram, the object-oriented analysis and design of 
DAS are accomplished. Figure 9 shows the class diagrams of 
DAS in the OOD stage. In DAS, Data Acquisition Manager 
(DAM) is designed to provide all of the functions of DAS. It first 
inherits the CommunicationKernel class. Then, the functions of 
remotely manipulating, monitoring, and controlling equipment, 
together with reporting EE data and diagnosing equipment, are 
designed into the methods of DAM. In particular, DAM can 
operate on multiple sets of equipment conforming to OBEM. 
4.3 On-site Diagnostics Server (ODS) and Remote 
Diagnostics Server (RDS) 
ODS and RDS are designed in the same approach. First, the 
ODS Communication Manager and the RDS Communication 
Manager that take care of messaging for ODS and RDS, 
respectively, are developed by inheriting Web-service Agent. 
Then, other functions are added in to complete the design of ODS 
and RDS. Due to the limit of space, the detailed descriptions of 
design are omitted. Similarly, other system components can be 
developed in the same way to benefit from the code reuse and 
increase the overall system development efficiency. 
4.4 Equipment Object Model 
With regard to the connection to equipment, an equipment 
object model that refers to the OBEM specification [23][24] is 
developed, as shown in Fig. 10. The Machine, MachineModule, 
Equipment
AssignedOperators : String
EquipmentName : String
FactoryLocation : String
setEquipmentConstant()
getEquipmentConstant()
getStatusVariables()
MeasureResult ()
(from Object Based Equipment Model)
<<boundary>>
DAMinterface
requestEEdata()
sendEqCommand()
deliverError()
deliverUnknowError ()
replyDiagnosticsStatus ()
(from Data Acquisition Server)
<<boundary>>
DataAcquisitionManager
reportEEdata()
operateEqCommand()
deliverError()
(from Data Acquisition Server)
<<control>>
UDDIRegistryMechanism
inquiryURL : String
publishURL : String
methodName : String
userID : String
password : String
setUDDIinfo()
saveBusiness ()
deleteBusiness ()
findBusiness()
(from Web-Service Agent for Java )
<<control>>
SoapInterface
EncodingURI : String
TargetURI : String
MethodName : String
ServiceURL : String
setMethodInfo()
(from Web-Service Agent for Java )
<<control>>
CommunicationKernel
methodName : String
hostUrl : String
businessName : String
setMethod()
setUDDI()
saveService ()
deleteService()
findService()
isAuthenticated()
useXSLT()
useSSL()
(from Web-Service Agent for Java )
<<boundary>>
10..1
1 0..1
SecurityMechanism
hostUrl : String
Validate()
createSSL()
(from Web-Service Agent for Java )
<<control>>
1
1
1
0..1
LocalDatebase
serverName : String
getAuthorization()
saveXmlFile()
loadXslFile()
sendSQLCommand()
(from Web-Service Agent for Java )
<<entity>>
1
0..n
1 1
XSLTMechanism
XSLTransform()
(from Web-Service Agent for Java )
<<control>>
1
0..1
0..1 1
Web-Service Agent
Figure 9. Class diagrams of Data Acquisition Server (DAS). 
Machine Proxy in DAS
Machine
MachineModule
Machine Engineering
Data Port
MachineResource
Machine Proxy Object-Based Equipment Model
Machine
MachineModule
Machine Engineering Data Port
Equipment
EquipmentModule
Equipment Engineering Data Port
MachineResource EquipmentResource
OBEM
Equipment
Resource Tool
Parameter
Proccess
Capability
Equipment
Module
EE Data
Port
EquipmentClock MonitorPort
OBEM
CORBA/DCOM
 
Figure 10. Mapping between the machine proxy 
and the object-based equipment model.
601
 [7] N. H. M. Caldwell, B. C. Breton and D. M. Holburn, 
“Remote Instrument Diagnosis on the Internet,” IEEE 
Intelligent (Expert) Systems, vol. 13, issue 3, pp. 70-76, 
May-June 1998. 
[8] R. A. Errath and J. J. Dominguez, “Remote Drive Condition 
Monitoring”, in Conference Record of 1999 
IEEE-IAS/PCACement Industry Technical Conference, 
Roanoke, VA, USA, pp. 31-48, April 11-15, 1999. 
[9] H. Li, T. Shi, Z. Li, Y. Tao, W. Chen and S. Yang, 
“Internet-based Remote Diagnosis: Concept, System 
Architecture and Prototype,” in Proceedings of the 3rd 
World Congress on Intelligent Control and Automation, 
Hefei, China, pp. 719-723, June 28-July 2, 2000. 
[10] S. Deb and S. Ghoshal, “Remote Diagnosis Server 
Architecture,” in AUTOTESTCON Proceedings of 2001 
IEEE Systems Readiness Technology Conference, Valley 
Forge, PA, USA, pp. 988-998, Aug. 20-23, 2001. 
[11] A. C. M. Fong and S. C. Hui,”An Intelligent Online 
Machine Fault Diagnostics System,” in Computing & 
Control Engineering Journal, vol. 12, issue 5, pp. 217-223, 
Oct. 2001. 
[12] Web Services. http://www.webservices.org 
[13] J. Roy and A. Ramanujan, “Understanding Web Services,” 
IT Professional, vol. 3, pp. 69-73, Nov.-Dec. 2001. 
[14] XML Specification. http://www.w3c.org/XML 
[15] E. Bertino and E. Ferrari, “XML and Data Integration,” 
IEEE INTERNET COMPUTING, pp. 75-76, Nov.-Dec. 
2001. 
[16] SOAP Specification. http://www.w3c.org/tr/soap 
[17] T. Jepsen, “SOAP Cleans up Interoperability Problems on 
the Web,” IT Professional, vol. 3, pp. 52–55, Jan.-Feb. 
2001. 
[18] WSDL Specification. http://www.w3c.org/tr/wsdl 
[19] UDDI Specification. http://www.uddi.org 
[20] G. Booch, J. Rumbaugh, and I. Jacobson, The Unified 
Modeling Language Guide, Addison Wesley, 1999. 
[21] Z. Svoboda, “Securing Web Services with Single 
Sign-On,” Systinet Inc, 2002. 
http://www.theserverside.com/resources/articles/Systinet-w
eb-services-part-6/article.html 
[22] Microsoft .NET Passport. 
http://www.microsoft.com/netservices/passport 
[23] F.-T. Cheng and C.-Y. Teng, “An Object-Based Controller 
for Equipment Communications in Semiconductor 
Manufacturing,” to appear in Robotics and 
Computer-Integrated Manufacturing, 2002. 
[24] SEMI, “E98 for The Object-Based Equipment Model”, 
SEMI International Standard CD-ROM, Semiconductor 
Equipment and Materials International, 2001. 
[25] Public Key Infrastructure. http://www.pkiforum.org/ 
[26] Sze-Chien Yeh, “Development of a  Web-Services-based 
Information Integration Framework for e-Diagnostics,”  
Master thesis, National Cheng Kung University, Tainan, 
Taiwan, R.O.C., 2002. 
 
Internet
Firewall Firewall
Data Acquisition Server On-site Diagnostics Server Remote Diagnostics Server
OBEM Equipment Driver
SECSIM Pro SECSIM Pro
Factory Supplier
Figure 12. Integration test snapshot of the paradigm e-diagnostic system. 
603
Development of an e-Diagnostics System for Semiconductor Equipment 
Using Data Mining and Ontology 
 
Min-Hsiung Hung 
Department of Electrical Engineering 
Chung Cheng Institute of Technology 
National Defense University 
Taoyuan, Taiwan, R.O.C. 
minmin@ccit.edu.tw 
Rong-Ji Huang  Fan-Tien Cheng 
Institute of Manufacturing Engineering 
National Cheng Kung University 
Tainan, Taiwan, R.O.C. 
chengft@mail.ncku.edu.tw 
Abstract 
In this paper, data-mining, ontology, and Web-services 
technologies are utilized to develop an e-diagnostics system 
for semiconductor equipment. The proposed e-diagnostics 
system is intended to assist equipment engineers to 
effectively shorten the diagnosis and error-recovery time of 
equipment. First, a data-mining system is designed to be 
capable of quickly replying the associated diagnostic 
solutions as it receives equipment fault descriptions from 
factory clients (equipment engineers, etc.). Next, an 
ontology system is developed to be able to provide all of the 
related diagnostics knowledge when a specific equipment 
fault description is given. Following that, the data-mining 
system and the ontology system are combined to form a 
diagnostics-solutions retrieval system, called DSRS, which 
can provide diagnostic solutions and knowledge for factory 
clients through Web services. Finally, an application 
paradigm of e-diagnostics is constructed to evaluate the 
effectiveness of the e-diagnostics system prototype. 
Keywords: e-Diagnostics, Semiconductor Equipment, Data 
Mining, Ontology, Web Services 
1. Introduction 
When semiconductor equipment goes wrong, the on-site 
engineer must look up the diagnostic solutions from the 
supplier’s Web site or manuals, according to the equipment 
data report, to fix the problem. In most cases, the supplier 
needs to send field-service experts to the factory to perform 
on-site diagnosis, testing, and repair. However, due to the 
distance, the diagnosis and repair on failed equipment 
usually cannot be performed immediately such that the long 
downtime causes a significant production loss. Thus, the 
concept of e-diagnostics [1] is proposed recently in the 
semiconductor manufacturing industry. With e-diagnostics, 
supplier’s experts can remotely link to factory’s equipment 
through Internet, allowing them to take actions, such as 
configuration, diagnosis, de-bugging/fix, performance 
monitoring, and data collection and analysis, to rapidly 
repair and maintain equipment, so as to reduce production 
loss and continuously improve equipment performance [2]. 
Based on the requirements of e-diagnostics, we use 
data-mining [3] and ontology [4] technologies to develop a 
diagnostics-solutions retrieval system, called DSRS, which 
can receive equipment fault descriptions from factory 
equipment engineers and respond with the associated 
diagnostic solutions and knowledge through Web-services 
mechanism to facilitate them to rapidly fix the equipment 
faults.    
DSRS consists of a data-mining system and an ontology 
system. In the data-mining system, a data warehouse is 
established to store the data of successful equipment-fault 
repair records, called equipment fault-recovery data 
hereafter, which are created and edited by factory 
equipment engineers. Also, a data-mining engine is 
designed to mine the data warehouse, so as to create a 
diagnostics-solutions database. According to equipment 
fault descriptions sent by factory equipment engineers, the 
data-mining system can quickly reply the associated 
diagnostic solutions. In addition, equipment error-recovery 
data reported by factory equipment engineers can be 
persistently added into the data warehouse to enhance the 
accuracy of diagnostic solutions. 
In the ontology system, ontology [4], OIL (Ontology 
Inference Layer) [5], and RDF (Resource Description 
Language) [6] technologies are used to construct a 
diagnostics knowledge model for semiconductor equipment. 
Accordingly, a diagnostics knowledge database is created 
using the Java XML data-binding [7] technique. Given a 
specific fault description, the ontology system can provide 
all of the diagnostics knowledge relative to that fault 
description. 
DSRS combines the results of the data-mining system 
and the ontology system. It uses the Web-Services-based 
Diagnostics Framework (WSDF) [8] as the communication 
infrastructure to timely provide remote equipment engineers 
with the necessary diagnostic solutions and knowledge 
through Web services [9]. 
Finally, we integrate DSRS with WSDF to construct an 
e-diagnostics system prototype for semiconductor 
equipment. Also, an application paradigm of e-diagnostics 
is developed to evaluate the effectiveness of the system.  
The remainder of the paper is organized as follows. 
Section 2 introduces the Web-services-based e-diagnostics 
framework (WSDF). Section 3 describes the design and 
construction of the diagnostics-solutions retrieval system 
(DSRS). The development of the e-diagnostics system 
prototype is depicted in Section 4. Section 5 constructs a 
paradigm application of e-diagnostics and describes the 
associated implementation and integration test. Section 6 is 
the summary and conclusions. 
data-exchange mechanism, and local-database access, are 
identified and built into a generic component, called 
Web-service Agent. By inheriting the Web-service Agent 
and adding specific functions, other components, such as 
Data Acquisition Manager, ODS Communication Manager, 
and RDS Communication Manager, can then be constructed 
and contain these common capabilities. 
3. Design and Construction of the Diagnostics-Solutions 
Retrieval System (DSRS) 
The architecture of the proposed e-diagnostics system is 
shown in Fig. 2. The system consists of three parts: factory 
diagnostics components (DAS and ODS), RDS 
Communication Manager, and DSRS (Data-Mining System 
and Ontology System). 
When equipment goes wrong, it sends error messages to 
DAS. Then, DAS looks up the related diagnostic solutions 
from ODS to assist equipment engineers to rapidly fix the 
problem. On the other hand, if the equipment fault cannot 
be fixed locally, DAS sends the fault descriptions to RDS 
Communication Manager through Web services (SOAP). As 
RDS receives the fault descriptions, Diagnostic Agent is 
enabled to obtain the associated diagnostic solutions from 
the diagnostics-solutions database of the data-mining 
system. Also, Ontology Search Agent is activated to retrieve 
all of the related diagnostics knowledge from the 
diagnostics-knowledge database of the ontology system. 
Finally, the obtained diagnostic solutions and knowledge 
will be integrated and replied to DAS. 
The development of the data-mining system and the 
ontology system is described as follows.     
3.1 Data-Mining System 
The data-mining system stores considerable quantities of 
equipment error-recovery data from equipment clients. We 
use data-mining technologies to create a 
diagnostics-solutions database such that proper diagnostic 
solutions can be quickly found as an equipment fault 
description is given. 
3.1.1 Data Selection and Transformation 
An equipment error-recovery record contains many fields 
of data, including basic client information (Customer Name, 
ID, Location, Buying Date, etc.), equipment fault 
descriptions (Equipment Name, Model, Symptom, etc.), and 
diagnostics-solutions information (Causes, Check Points, 
Normal Voltages, Actions, etc.). However, some of data 
items, such as those in the basic client information, are not 
relative to the task of fault diagnosis. Thus, those data are 
filtered out before mining the data.    
3.1.2 Data-Mining Engine 
Among the data-mining techniques, the Association Rule 
method [3] can relate data items in a database. Thus, we use 
Association Rule method to design the data-mining engine. 
To generate the association rules among the data items, the 
following two steps are taken. (1) Find all of item sets with 
frequent occurrence: The support factor of each obtained 
item set needs to be greater than a specified minimum 
support factor. (2) Use item sets obtained in Step (1) to 
generate the association rules: The generated association 
rules have to satisfy a minimum support factor and a 
minimum confidence factor. Also, we use the Apriori 
algorithm [3] to find the item sets.     
3.1.3 Diagnostics-Solutions Database 
The procedure of creating the diagnostics solution 
database is shown in Fig. 3. The equipment error-recovery 
data are stored in a data warehouse. First, the data in the 
data warehouse are selected and transformed. Next, the 
data-mining engine is used to mine the filtered data to 
generate the association rules among data. Then, the records 
with an occurrence rate lower than a specified threshold 
value are deleted. Finally, the output data are stored in a 
database to complete the procedure. Because the current 
volume of the error-recovery data in this prototype system 
is not big, the threshold value is set to zero, which means no 
data records are deleted. As the volume of the 
error-recovery data increases, we can flexibly adjust the 
threshold value accordingly. 
 
3.2 Ontology System 
Data
Warehouse
Diagnostics
Solution
Database
filter
Selection and 
Transformation mine
Mining 
Engine 
(Association Rule)
verify Examine Results / Prune Results
output
 
Figure 3. Procedure of creating the 
diagnostics-solution database.
The ontology system contains three layers: (1) 
Knowledge Concept Layer: A repair information model is 
designed to describe the relationships among the equipment 
faults and the associated repair information. Also, OIL and 
RDF are used to express the repair information model, and 
thus to establish a repair knowledge object model. (2) 
Knowledge Entities Layer: In this layer, the Java XML 
data-binding technique is used to create a diagnostics 
knowledge database, which stores the diagnostics 
knowledge entities. (3) Semantic Binding Layer: This layer 
can relate the repair knowledge object model with the 
diagnostics knowledge entities through semantic binding. 
Specifically, the Ontology Search Agent will parse the RDF 
files of the repair knowledge object model to look up 
keywords and then retrieve all of the related diagnostics 
knowledge entities accordingly.   
3.2.1 Repair Knowledge Object Model 
To create the repair knowledge object model, we first 
take an object-oriented approach to design the semantic 
relationships of repair knowledge classes, which are 
illustrated in Fig. 4 and described as follows. The repair 
knowledge classes can be roughly divided into five groups: 
12~13. Diagnostic Agent delivers the obtained diagnostic 
solutions to the solution center. 
14~17. Diagnostic Agent activates the Ontology Search 
Agent to retrieve the related diagnostics knowledge.    
18. Ontology Search Agent output the diagnostics 
knowledge to the solution center. 
19. The solution center integrates the diagnostic solutions 
and knowledge. 
20. RDS responds to DAS with diagnostic solutions and 
knowledge. 
21. On-site engineers can troubleshoot the equipment 
based on the diagnostic solutions and knowledge. 
22. DAS reports the diagnostic status to ODS. 
23. ODS saves the new case, which includes the 
information of faults and the associated diagnostic 
solutions, to LDD to facilitate future local diagnostic 
operations. 
24~27. DAS reports the diagnostic status to RDS and saves 
the equipment error-recovery data into the data 
warehouse to complete the remote diagnostic 
operation. 
The Domain Expert in Fig. 5 denotes that the supplier’s 
experts can operate the system to augment the contents of 
the diagnostics knowledge database and perform data 
mining when necessary. 
4.3 Develop the RDS 
After finishing the functional requirement analysis and 
defining framework messages, we use UML [15] to perform 
the object-oriented analysis and design of the system. Many 
use-case diagrams, sequence diagrams, and class diagrams 
are accomplished. Due to the space limit, only the OOD 
class diagrams of the RDS are presented here, as shown in 
Fig. 6. In addition to the classes of the Web-service Agent, 
RDS also contains classes of RDS Communication Manager, 
Service Manager, Parser, Diagnostic Agent, Ontology 
Search Agent, Document Editor, Diagnostics Knowledge 
Database, etc. The figure illustrates the static relationships 
among the classes as well.     
Internet SupplierFactory
Remote Diagnostics Server
Diagnostics
Solution
Database
Diagnostics
Knowledge
Database
15. semantic
Binding
Add to
diagnostic
knowledge
Data
Warehouse
16. parse
diagnostic
RDF file
19. Reply the
checkpoint
solutions
8. Deliver the
unknown fault
10. Deliver fault
properties
11. Retrieve the
closest problem cases
12. flat-indexed
case IDs
9 (26). Parsing
25. Deliver the diagnostic
status
27. Save the
feedback record
Extract
knowledge
Update the
rule database
in order to
perform
effective
retrieval
Knowledge
Object Model
Diagnostics
Knowledge
Presentation
Knowledge
Entities
Ontology System
Data-Mining System
Domain
Expert
Data Mining
From Rule-Mining
(*.xml)
From OSA
(*.xml)
Prioritize
Solutions (*.xml)
1.
2.
3.
.
.
.
n.
13. map the case IDs
into actual solutions
14. Advance search by
problem classification
17. retrieve
the related
information
18. Output the more
related solutions
Note: If the fault of equipment on the factory 
site cannot be resolved, the 7th step begins.   
24. Reply the diagnostic status
7. Deliver the unknown fault
20. Reply the checkpoint
    solutions
Local
Diagnostics
Database
2. Deliver error
messages
1. Deliver error messages
3. Query for checkpoint solutions
4. Reply the
checkpoint
solutions
5 (21). Troubleshooting
6 (22). Reply the
    diagnostic status
Data
Acquisition
Server
On-site
Diagnostics
Server
Local
Diagnostic Process
Selection and
Transformation
Mining
Engine
Examine /
Prune Results
 *.xml  *.xsd
External data
Service
Manager
Solution
Center Ontology
Search Agent
RDS
Communication
Manager Diagnostic
Agent
23. Save the new case
Equipment
Diagnostics-Solutions Retrieval System
 
Figure 5. Example of framework messages for an e-diagnostics operation. 
DiagnosticsKnowledgeDatabase
saveDiagInfo()
OntologySearchAgent
SearchforClass : String
ClassName : String
ClassProperty : String
ClassResource : String
Similar : Boolean
lowPriority : String
SearchforInfo : String
RelatedInfo : String
retrieve()
getBinding()
parseRDF()
1
1
Parser
rootNode : String
Element : String
AttributName : String
AttributValue : String
parse()
exeProcess()
1
1
1
1
DocumentEditor
EqpDataID : Integer
EqpData : String
addEqpData()
delEqpData()
modifyEqpData()
openDocEditor()
1..n
1
ServiceManager
EqpStatus : Boolean
EqpType : String
CheckpointSolutionsNum : Integer
CheckpointSolution : String
Validate : Boolean
FaultPart : String
Symptom : String
getCheckpointSolutions()
confirmDiagStatus()
setEqpType()
maintainDiagInfo()
createEqpType()
selectEqpType()
validateEqpData()
maintainDiagInfo()
validateUserFeedback()
recordUserFeedback()
11
1
1
RDSCommunicationManager
queryStatus()
showResults()
(from <Layer Name> Layer)
DiagnosticAgent
FaultPart : String
Symptom : String
IndexID : Integer
highPriority : String
lowPriority : String
CheckpointSolutionsID : Integer
CheckpointSolutions : String
mapIDsToCases()
sendFaultProperties()
getHigherPriorityIDs()
merge()
Web-Service Agent
SoapInterface
EncodingURI : String
TargetURI : String
MethodName : String
ServiceURL : String
setMethodInfo ()
( from Web - Service Agent for Java )
<<control>>
UDDIRegistryMechanism
inquiryURL : String
publishURL : String
methodName : String
userID : String
password : String
setUDDIinfo ()
saveBusiness ()
deleteBusiness ()
findBusiness ()
( from Web - Service Agent for Java )
<<control>>
0..10..1
SecurityMechanism
hostUrl : String
Validate ()
createSSL ()
( from Web - Service Agent for Java )
<<control>>
1
1
0..1
XSLTMechanism
XSLTransform ()
( from Web - Service Agent for Java )
<<control>>
0..1
LocalDatebase
serverName : String
getAuthorization ()
saveXmlFile ()
loadXslFile ()
sendSQLCommand ()
( from Web - Service Agent for Java )
<<entity>>
0..n
11 10..1
CommunicationKernel
methodName : String
hostUrl : String
businessName : String
setMethod ()
setUDDI ()
saveService ()
deleteService ()
findService ()
isAuthenticated ()
useXSLT ()
useSSL ()
sendSQLCommand ()
( from Web - Service Agent for Java )
<<boundary>>
11
1 1
1
Figure 6. Class diagrams of Remote Diagnostics Server.
 
[3] M.-H. Hung, K.-Y. Chen, and S.-S. Lin, “Development of A Web-Services-based Remote 
Monitoring and Control Architecture,” in Proceedings of 2004 IEEE International Conference 
on Robotics and Automation, New Orleans, LA, USA, pp. 1444-1449, April 2004. 
WSMCG is the core of the system operations. It is the 
communication bridge between the client side and the server 
side. WSMCG contains a monitoring and control Web 
Services component (MCWSC), an authentication and 
authorization (AA) component, a mobile device interface 
(MDI) component, a graphical user interface (GUI) 
component, and a Watchdog component. 
MCWSC serves as the communication channel between 
WSMCG and Ethernet-ready I/O modules. The MC functions 
of MCWSC are created in the form of Web Services. Clients 
or other system components can access the data of the MC 
points by calling the methods of MCWSC. The role of the AA 
component is to safeguard the system security. It possesses 
methods to authenticate the users and grant the lawful users 
proper authority to access the system. The MDI component 
provides the users with interfaces to remotely operate the 
system through mobile devices, such as PDA and mobile 
phones.  The GUI component supplies user-friendly 
graphical Web interfaces for the users to manipulate the 
system through computers. The Watchdog component can 
actively monitor the power consumption of equipment, 
appliances, and facilities. When detecting an appliance’s 
abnormal power consumption, the Watchdog component is 
capable of disconnecting the power of that appliance, sending 
a warning message to the e-mail account and mobile phone of 
the person in charge, and saving the abnormality-relevant 
information into the database. In this paper, the person in 
charge represents the person who is responsible for taking care 
of or maintaining the appliances. 
By connecting WSMCG with Ethernet-ready I/O modules 
through networks, the MC points can be deployed at anywhere 
having Ethernet. Thus, the MC distance of the system can be 
unlimitedly extended. Also, using Ethernet-ready I/O modules 
to replace PCs at the MC points can reduce the deployment 
cost. The safety detection module (SDM) is a specially 
designed device with a socket. By just putting the plug of an 
appliance in the socket of SDM, the working current of that 
appliance can be easily measured by 
the Watchdog component. In 
addition, Ethernet-ready cameras 
with audio modules are incorporated 
into the architecture to promptly 
transmit the images and audios of the 
MC points. Besides, to enhance the 
system security, a Firewall is 
installed in front of WSMCG on the 
server side. Internet
Mobile Phone
PDA
Notebook
Database
Ethernet-ready
Camera
Ethernet
GUI MDI
MCWSC Watchdog
AA
WSMCG
Server SideClient Side
Firewall
Ethernet-ready
 I/O Module
Equipment
SDM
Ethernet-ready
 I/O Module
Appliance
SDM
Ethernet-ready
 I/O Module
Facility
SDM
PC
Fig. 1. Web-Services-based remote monitoring and control system architecture
with the capability of protecting appliance safety. 
The Web Services mechanism is 
adopted as the communication 
infrastructure of the system. 
Therefore, after passing the 
authentication and authorization of 
WSMCG, clients can remotely 
perform system functions at anytime, 
from anywhere, using any 
Web-enabled device. 
 
3 Design of the Web-Services-based Monitoring and 
Control Gateway (WSMCG) 
This section introduces the design of the 
Web-Services-based monitoring and control gateway 
(WSMCG). The authentication and authorization (AA) 
component, the monitoring and control Web Services 
component (MCWSC), the mobile device interface (MDI) 
component, and the Watchdog component are described 
sequentially. 
3.1 Authentication and Authorization (AA) Component 
To develop the AA component, several security 
mechanisms are designed to enhance the system security, 
including 1) authentication and authorization, 2) assurance of 
Web page access security, and 3) allowance of only one user to 
access the Web page with control functions at any time. 
1) Authentication and authorization: 
The authentication is accomplished by verifying the ID and 
password of the user. When a user asks to login, the system 
will compare the inputted ID and password with the user data 
stored in the database to check the user’s identity. Only the 
validated user can successfully login the system. 
To avoid providing too much authority to the user, which 
will reduce the overall system security, a role-based 
authorization mechanism is designed. The role is classified 
into three user groups: the end user, the manager, and the 
administrator. The end user only possesses basic authority of 
performing the remote monitoring functions and editing 
personal data, such as e-mail account, mobile phone number, 
and password. In addition to having the authority of the end 
user, the manager also possesses permission to perform remote 
control functions. The administrator owns the highest 
authority that can manage the system and user data, perform 
remote MC functions, establish the safe working current 
criteria, and browse the records of system’s abnormal statuses. 
[17], interval 2X σ±  will contain approximately 95 percent 
of the measurements for a normal distribution of 
measurements. Thus, the Safety Current Threshold sI  is 
defined as 
I I≤
2sI X σ= +                   (1) 
To define the Hazard Current Threshold , an air 
conditioner and an electric fan are chosen to conduct 
experiments. First, the air conditioner and the electric fan are 
turned on. To simulate a breakdown, the fans of both 
appliances are locked, while the corresponding working 
currents are measured. After a period of time, it is found that 
the working current of the air conditioner is raised to a value 
of 1.1 times of its mean, while the electric fan has a value of 
1.12 times of its mean. Thus, the Hazard Current Threshold 
 is specified as 
hI
hI
1.1hI = X                       (2) 
If the working current of an appliance is , then 
according to the power-consumption conditions, 
wI
w s , 
s wI I I< < h h, and , the system regards the appliance 
as being in the normal status, in the cautious status, and in the 
emergent status, respectively. If an appliance is in the cautious 
status for a period of  minutes, the Watchdog component 
will send out a caution message to the person in charge. On 
the other hand, if an appliance is in the emergent status for a 
period of T  minutes, the Watchdog component will 
disconnect the power of that appliance and deliver an 
emergency message to the person in charge to protect 
appliance safety. Both  and T  are set to five in this work. 
wI I≥
1T
1T
2
2
3) Mechanism of recording data into the database: 
To enable the users to inquire the records of the appliances 
that suffered abnormal power consumption, this mechanism 
possesses the function to record the relevant information into 
the database when abnormal power consumption happens. If 
an appliance has high occurrences of abnormal power 
consumption, the person in charge may need to perform 
maintenance over that appliance or install a new one. 
4) Mechanism of promptly delivering messages to the 
person in charge 
For promptly sending warning messages to the person in 
charge, a message delivery mechanism is designed in the 
Watchdog component. The messages are delivered through the 
e-mail and the mobile phone short message service. 
z E-Mail 
When detecting abnormal power consumption of an 
appliance, the Watchdog component may need to send the 
person in charge an e-mail that contains messages about the 
appliance information, power-consumption status, working 
current, occurrence time, etc. This function is accomplished by 
using the Simple Mail Transfer Protocol (SMTP). 
z Mobile Phone Short Message Service 
Web Services are programmable components on the Web. 
Nowadays, many companies supply various types of Web 
Services with diverse functions. Therefore, after making 
payment, developers can easily incorporate proper 
off-the-shelf Web Services in their programs to accomplish the 
required functions. Accordingly, a Web-Services-based 
message delivery mechanism through the mobile phone short 
message service is designed, as shown in Fig. 3. The 
mechanism adopts the mobile phone short message Web 
Service of ASPonline [18] to send the message. The 
development of this mechanism is described as follows. 
First, the system developer logins the Web Services home 
page of ASPonline to apply an account and purchase credits. 
Second, the system developer looks for the URL of the short 
message Web Service. Third, by means of adding the Web 
reference, the short message Web Service can be incorporated 
into the Watchdog program through generating a proxy of that 
Web Service. By utilizing the methods of the generated proxy, 
the program of the message delivery mechanism is completed. 
The Watchdog component can then call the method of the 
short message Web Service to deliver the abnormality-relevant 
messages to the mobile phone of the person in charge. At the 
same time, the Web Services center of ASPonline will deduct 
credits from the user account. Web Services
Home Page
System
Developer
Mobile
Phone ASPonline Web Services Center
WSMCG
Watchdog
Apply Account and
Purchase Credits
3. Add the Web reference
4. Send SOAP messages
5. Send messages and deduct credits from Account
Short Message
Web Service
1. Login
2. Look for the URL
Fig. 3. Web-Services-based message delivery mechanism
through the mobile phone short message service.
4 Safety Detection Module (SDM) 
The functional blocks of the safety detection module (SDM) 
are shown in Fig. 4. SDM consists of a socket, a plug, a 
current sensor, a breaker, a relay, a current transformation unit 
(CTU), and a power supply unit (PSU). After the current 
sensor measures an AC current, CTU will transform the 
measured AC current into a DC voltage. The Ethernet-ready 
I/O module can then acquire the output DC voltage of CTU 
through its analog input channel. It is notable that the working 
current of an appliance can be easily measured by just putting 
[10] H. Balen, Distributed Object Architectures with CORBA, 
SIGS BOOKS, May 2000. 
[2] M. C. Shults, R. K. Rhodes, S. J. Updike, B. J. Gilligan, 
and W. N. Reining, “A telemetry-instrumentation system 
for monitoring multiple subcutaneously implanted 
glucose sensors,” IEEE Trans. Biomed. Eng., vol. 41, no. 
10, pp. 937-942, Oct. 1994. 
[11] Web Services. http://www.webservices.org/  
[12] ASPNET. http://cht.gotdotnet.com/quickstart/aspplus 
[13] SOAP Specification. http://www.w3c.org/tr/SOAP [3] Y. F. Ho, H. Masuda, H. Oda, and L. W. Stark, 
“Distributed control for tele-operations,” IEEE/ASME 
Trans. Mechatron., vol. 5, no. 2, pp.100-109, Jun, 2000. 
[14] Microsoft Mobile Internet Toolkit. 
http://msdn.microsoft.com/library/ 
[4] A. I. Hernandez, F. Bora, G. Villegas, G. Passariello, and 
G. Carrault, ”Real-time ECG transmission via internet for 
nonclinical applications,” IEEE Trans. Inform. Technol. 
Biomed., vol. 5, no. 3, pp. 253-257, Sept. 2001. 
[15] WAP and WML. 
  http://www.oasis.open.org/cover/wap-wml.html  
[16] Compact HTML for Small Information Appliances 
[5] P. I-Hai Lin and H. L. Broberg, “Internet-based 
monitoring and controls for HVAC applications,” IEEE 
Ind. Appl. Mag., pp. 49-54, Jan/Feb 2002. 
http://www.w3c.org/TR/1998/NOTE-compactHTML-199802
09/  
[17] G. E. P. Box, W. G. Hunter, and J. S. Hunter, Statistics 
for Experimenters, John Wiley & Sons, pp. 46-47, 1978. [6] G. Bucci, E. Fiorucci, and C. Landi, “Digital 
measurement station for power quality analysis in 
distributed environments,” IEEE Trans. Instrum. Meas., 
vol. 52, no. 1, pp. 75-84, Feb. 2003.   
[18] ASPonline. 
http://www.asponline.com.tw/wsps/DesktopDefault.aspx 
[19] Microsoft Web Site. http://www.microsoft.com/ [7] T. Saito, I. Tomoda, Y. Takabatake, J. Ami, and K. 
Teramoto, “Home gateway architecture and its 
implementation,” IEEE Trans. Consumer Electron., vol. 
46, no. 4, pp. 1161-1166, Nov. 2000. 
[20] General Packet Radio Service. 
http://www.cellular-news.com/gprs/ 
[21] Advantech. http://www.advantech.com.tw/solutions/  [8] R. Sessions, COM and DCOM: Micrsoft's Vision for 
Distributed Objects, JW, June 1997. [22] AXIS. http://www.axis.com/ 
[9] R. Cattell, J. Inscore, and E. Pa, J2EE Technology in 
Practice: Building Business Applications with the Java, 
AW, June 2001. 
[23] Lilin. http://http://www.meritlilin.com/ 
 
  
Notebook
PDA
Air
Conditioner
Fan
Induction
Cooker
Lamp
Database
  Watchdog
Firewall Login
Monitoring and Control
Data Management  SWC data Construction
Watchdog
Component
Mobile Phone
Ethernet-ready
Camera with
Audio Module
Ethernet-
ready I/O
Module
Internet
Client Side Server Side
SDM
SDM
SDM
PC
SDM
 
Fig. 5. Integration test of the paradigm remote monitoring and control system for home appliances. 
WSMCG
An +Diagnostics Framework with Security Considerations for Semiconductor Factories' 
Min-Hsiung Hung Rui-Wen Ho 
Deparrment ofEldcaJ  Engjnming 
Cbmg Cheng InStiMe ofTechnnlom 
N a t i d  DefRlse UNversily 
Tanyuan, Taiwan, R0.C. 
"iim,CcitedLLm 
Ab&aci - In this neuyawaz7on s o f i m  techlo@ and 
objectf-olienfed techmlogfes, such as Web &vices, X W  signam, X W  
ennvption. UML, etc., m wedto develop M e-Dizgnoshhjkmewwk for 
semiconducfor fmto&. The pmpd ,hm"rk  can achitve the 
automalon of diapsh? processes and the mtegrhn of diagmstk 
eonnation under a s e "  communication h f i " c h i x  Sp+I& 
seyrral m m ,  such as sirgle s ipon  au tha t ion  and a u t h m n  
co$"n ofdata accuraq assurance of injomihn conjidentizl@ 
m g e m e n t  of vstem usm, and auditing of wtem operatiom, me 
desi& to enhunce the owrall mtem sennily Thepptdf imnmork 
am be rgpllied to comhuct e-D@nos&s systems fw the stmiconductror 
d i p  
1. INTRODUCTION 
Gendy, a semiconductor factoly can marase the equipment's 
effectiveness and availability by dmgpnstics and maintenance m e a " .  At 
prsent, the work of dmgpodie and maintenance on equipment is sZU fk 
away h m  111 " a i i o n .  Consequently, the diagnosis and repair of the 
failed equipment u s d y  cannot be PRfOrmed immediately such that the 
downfine of equipment is long and, thus, muses a sigdcant poduction 
loss [I]. 
Due to the advancement of infonnatinn and Intemet technologies, the 
concept of e-Diagnodcs [2j is proposed m t i y  in the wmimnductor 
inW. By levewjng information and Intemd technologies an 
e-Dngnnstics system can provide equrpment supplier's expnts with the 
capability to remotely luk to factory's equipment through Intemq allowing 
them to tlke remote actions, such as setup, control, conJiguAon, dmgnosis, 
de-bug&giixmg performance mrmitnring and data collection and 
analysis. Accmhgly, eqnipment can be 
rapidiy repaoed and equipmmt 
pnformance may be conhuousiy 
impved [3]. 
To achieve the " a t i o n  of diagnodics 
i n f d o n  integmfion an e-Diagndcs 
system needs to integrate various 
hetaogeneous data and systam in I n m e t  
Intemq or both For example, an 
e-Lbgnostics system must collect, acces$ 
and i.teg.lte diverse equipment data, 
exchange information among the 
diagnostics system and the sqqmikg 
systems, and deliva diagnnstics 
i n f d o n  among IC factories and 
equipment suppliers [4j. lkxfat, the 
conshuction of an ~Diagnodics system 
involves a variety of orss-platfnm 
infomalion intepfion issw sucb as tile 
2 T n e L x " h g  &. 
ITne;anhaswouldWcltohmkkeN&dkimceGxnc~ 
Fan-Tien Cheng 
Iostitute of Mannhchning Engrneenng 
National Cbeng Kung University 
Tajnan, Taiwq ROC. 
developmat of data !ransfonnation mechanisms, the design of 
c o m m ~ , d o n  mesages, the selection of data bansmission ptccok, and 
the commction ofa safe nehmk connection [5]. 
In this papn; we p~pose an e-Diagnnstics h e w o k  with security 
considedm for semiconduaor factnies. The h e w o r k  anpha.sii 
tlckling hvo c m  issues of an e-Diagn0Stic-s system: communicaticm and 
security. In the communication aspect, the Web Senices technolqg is wd 
to build the mnnnunica!jon infiastrucbse of the ovnall system for solving 
the p b l e m  of i n f o d o n  integrahbn among dishibuted, aoss-platform 
and hetaogeneous systems. In the &ty -< the GXA (Global XML 
Web Senice Arcbitechue) tecbnology [6J is applied to design a uniform 
dentication and anfhorizalion mechanism that includes several hctjons, 
such as basic authentication and anfhnrimjon, XML sign- [7J, XML 
enqption [SI, secure hansmission USR management, and a d h g  of 
system operahons. We also &ct an  diagnostics pmtow system 
thatdemnnsba&theeff&enessoftheproped h e w o d c .  
2. DESIGN OFTHE I+DIAGNOSI'ICS FRAMEWORK 
The proposed e-Diagndcs tiamewd with security consideratinns is 
shown in Fig. 1. Web S n V i c q  which are loasely coqld,  att adopted as 
the communication i n f " c m .  A h ,  €€I" incnporated with SSL 
technoloa, KITPS, is used to " i t  data ova Intemet to ensure the 
secuity of data bansmission. The information systems in Extranet use 
public Internet Fmtocol (IF') addraw because Uiey need to c0"Unicafe 
with i n f o d o n  system outside the enterprise. On the con-, the 
infonnatim systems in Inmet use private IP addessa to Iowa the 
possibility ofhacker attack 
07803&1696/W/$20WDZCWIEEE 37 
The hctional qukments ofMSS are anal@ as follow3 
Single sign-on ardhentrcaao ' ' n  and authori" service. All the 
wmponena of an e-Diagndcs wstem need to consider the security 
pmblem of access. In the pnrlwsed tiamewok, a s i e  s igna  
authentication and rudhnization SRVice is q u i d  As such &er m 
passing the authentication h u g h  the Web Sewica, a slngle inkgated 
autho&hn pmcess is performed so that the usen are not necessiny to 
compnents. By referring to .NET passpolt mechimian [13] and SAML 
(Sanity AssRtion MAup -e) standard of OASIS [le], together 
with incolporafing the PKI (Public Key -) mechanism [IS] to 
e n q @ a y p t  the tmwnitted the slngle signa ardhenticafion and 
auhorizdon sn\ice is implemented 
C o n m n  of dutn &grify undgenui" XML si- [7J can 
enslne the integrity of SOAP memges, t"ii& over Internet Also, the 
raeiving side of the SOAP message can veri@ the transmitter's identity 
thmugh ahentie the send& XML si- in the message. 
Combining these two chinacterisfics, both the data "y and 
!$lUinen~cank&ed. 
Asrwunce of inJon" m n i  The addition of X M L  s i g "  
in the SOAPmessage can ensure the integrity of the isansmitted messages 
and can authenticate the sends of the message. However, the body of the 
signed SOAP message may still exist in pb-text  fnmat Once unlawful 
piaties intercept the message, they can easdy use the wntent in the message. 
"E, the XML encrypfon k h l o g y  is uwd to encrypt the body of 
the SOAP message. In addition to &g the wn6denIjality of the 
message w n w  XML encryption can also asslne that oniy the pm& 
authokdreceivercan~themessage. 
M u n n g p m e n t o f ~  usem MSS needs topossss the management 
Mori of the system usns. To avoid povidng too much autho&on to 
UMS, which will reduce the overall Security of the Srstem a mlebased 
ahotization mechimian can be appliied Accorrlmg to the identities and the 
pmfmiona! specialties of the mas, the role is clasritied into ditfaent USQ 
goups Then, the usm in ditfaent @ups are mted with dill" 
authorizaiim of using the system applicatio~.. 
A~ui&gofsystemopmrdonc Whenthehctionofmotedqnosicsis 
@om4 MSS is responsible for auditing all extemal wmmunicaliom of 
the IC h r y .  Thaefae, all m o t e  opemtions in the eDiagnostics system 
shall be recorded in MSS to m e  as evidenm forthe seclnay auditingof 
system opadtous. The records in MSS should include the infonnation of 
the user, the opemion, the execution h e ,  exaution d t s ,  and whether 
the usa is a u t h d  to perform the opemtion. This infnmation can help 
the security auditors to wnvenientiy accomplish their tasks. 
Safq  guMi and mrivw&&bn agent. lvIsS shall be both the safety 
guard and the mun ica t ion  agent b e e n  EEA and RDS. For instance, 
in the @on that EEArqu&s m o t e  diagmlics snvices knn RDS, 
EEA actualry sends the service q u e s t  to MSS. Howevs, MSS is "ly 
responsible to pv ide  security measLnes for the ohgnostics systnn and 
not pracfically perforoming the requested opaafim. 'Iherefm, MSS needs 
to pass the rqi& on to the system wmponent that actuaUyperforms the 
quested @om By usingtheppty that a Web Savjcescompment 
can integrate wim other Web Setvices wmponents to povide m m  
complicated hctiom the task that enables MSS as the communication 
agentbetweenEEAandRDScanbeedyachievd 
O l @ M r b & A ~ k A n d ~  
Eptedly &om lo@n activitis for awsir lg  diffumt system 
Ailer the qukment  analysis of MSS is  accomplish^ the use case 
diagram of MSS can be drawn A c " g  to the use case d"I, each 
use case is l iniheradyzd to dxquentiy genetate the wnespondmg 
scenarios. Then, based on these &os, the objectaiented analysis and 
design (OOA and OOD) of MSS using UML (Unitied Mcdehg 
bnguage) are @om& m, the sequ~lce diagrams the class 
diagramg and otheruseiid d q p m  o f M S  ;ne obtained Fcrthe detailed 
descriptions ofOOAand OOD ofMSS, please referto the refaace [ lq .  
5. DESIGN OFOTHER SERVER COMPONENTS 
The analyses and designs of EEA, ODs, and RDS, an: accompljshed 
using the same development process as that of MSS in the pwious section. 
Please refa to refaace [ 161 for the detailed d y x s  and designs of alia 
system wmponents. 
6. SYSEM IMPLEMENTATION AND INTEGRATION I'EI 
By reking to the pnpased eDiagnostics h e w &  diagram in Fig. 1, 
an eDiagnoStcs putot&~ spkm is conshucted We adopts Wmdows 
2000 as the development platform to develop the system wmponena such 
as MSS, EEA, RDS, ODs, etc. lava hguage is applied for the 
implementation of EEA, and Sun JRE is adopted as its execution 
envkmmeni On the otha hand, MSS, ODs, and RDS are implemental 
with C#, and MiaosoftNet CLR is used as their execution envimnment 
Tli? implementation has also pmed the "pmhl l i t y  of the poposed 
h e w o k  mder heterogeneous e x d o n  envimmen~~ and Mkmt 
~ ~ g u a g e m .  
The s o h  tools of the system i m p l e m d o n  include ( I )  W a n d  
JbdldR 7, (2) M i m e  V d  SIudio.NET, (3) Apache axis and MiaosofI 
Intemet M d o n  Senica, (4) Miaosofi SQL Server 2W. and (5) 
MiaosofI Web %vim E h m e n t  [lv. On the other hand, the 
h;odwrlre for system deployment uses fou PatiUm IV PCs, whae EEA, 
MSS, RDMS and ODMS an: separatehi installed in Mmt PCs. 
Figure 3 depicts the system inte@on and tsting of the e ~ o s f i c s  
p r o m  system. MSS, EEA, ODs and RDS all have graphical user 
interfam for the USRS to conveniently op~ate the system. In this pototqpe 
syston, the equipment is substituted wih the equipment simulator that 
wmplies with CEM spenscatim [I I]. 
In rider to verify the eff&eness of the PDpOsed e-Dmgmstics 
tiamewmk variou opemtional &os are designed to test the system. 
The test mub indicate tkd the proposed eDagnosics b e w o r k  can 
"iy comply with the design objectives and its e W v e n e s  is 
demondrakd and verified 
7. SUMMARY AND CONCLUSIONS 
Based on the Web S&m technology and nau-generaiion infkmion 
security technologies, this paperpmposff an oDrqostics h e w o r k  with 
security wnsiddons for the srmiconductor "!q The system is 
developed with an objecturiented aplnnach The poposed h e w o k  
p v i d a  the mechanism for autnnaticaly integmfing dmgn&cs 
i n f d o n  Uimgh Internet so that wious iimciions, such as autondc 
wllecfion of equipment engineering data, m o t e  dqn&cs, fwng and 
monitoring of quipmen< which are necessuy to adquatew suppnt the 
e-Diagnostia tvks in mniwnductor hctoriq can be established. In 
addition, the poposed k e w d  can meet vaious secwhy mpimnen~ 
such as the authdcation and aumorizaron of mas, the protection of 
infonnation ddenw, the d& of dah !n"kion security, and 
3 
 
[5] Y.-C. Su, F.-T. Cheng, G.-W. Huang, M.-H. Hung, and T. Yang, "A Quality Prognostics 
Scheme for Semiconductor and TFT-LCD Manufacturing Processes," in Proceedings of The 
30th Annual Conference of the IEEE Industrial Electronics Society (IECON 2004), Busan, 
Korea, pp. 1972-1977, November 2004. 



A Secure Collaborative e-Diagnostics Framework for Semiconductor 
Factories*
Min-Hsiung Hung, Member, IEEE, Feng-Yi Hsu 
Department of Electrical Engineering 
Chung Cheng Institute of Technology 
National Defense University 
Taoyuan, Taiwan, R.O.C. 
minmin@ccit.edu.tw
Tsung-Li Wang, Fan-Tien Cheng, Senior Member, IEEE,
Robin Lai, and Tina Huang
Institute of Manufacturing Engineering 
National Cheng Kung University 
Tainan, Taiwan, R.O.C. 
chengft@mail.ncku.edu.tw
* This work is partially supported by National Science Council, Taiwan, R.O.C., under Contract #93-2212-E-014-001 to M.-H. Hung and Contract  
#93-2212-E-006-023 to F.-T. Cheng.
Abstract - According to the collaborative Diagnostics 
functions and the interface C requirements suggested in the 
recent e-Diagnostics guidebook of International 
SEMATECH, this paper proposes a novel e-Diagnostics 
framework, called Secure Collaborative e-Diagnostics 
Framework (SCDF). SCDF is developed based on the 
technologies of Web Services, clustering, and 
new-generation information security.  In addition to 
providing a variety of e-diagnostics functions, SCDF 
possesses mechanisms to solve several important issues, 
such as data isolation for different suppliers, supporting 
remote diagnoses through multi-party collaboration, 
diagnostics service and storage failover for assuring system 
availability and the security measures related to above issues. 
SCDF provides a possible solution to part of the 
e-Diagnostics interface C and can be applied in 
semiconductor industry to increase the equipment 
effectiveness and availability.
Index Terms - Collaborative e-Diagnostics Framework, 
Web Services, Clustering, Security Measures, Failover.
I. INTRODUCTION
According to a recent report from Semiconductor 
Equipment and Material International (SEMI), the cost of 
equipment approximately occupies 75% of the total 
investment for a semiconductor factory, and the overall 
equipment effectiveness (OEE) is only 33% [1]. Therefore, 
how to effectively increase the effectiveness and availability 
of equipment has become a very important task in 
semiconductor industry. It is also one of the key factors for 
the enterprise to gain profits. 
In recent years, the concept of e-Diagnostics [2] has been 
proposed in semiconductor industry. By using information 
and Internet technologies, an e-Diagnostics system can 
allow the experts of the equipment supplier, or simply called 
supplier, to remotely connect to factory’s equipment through 
Internet, enabling them to take remote actions, such as 
configuration, diagnosis, de-bugging/fixing, performance 
monitoring, and data collection and analysis. Consequently, 
the failed equipment can be rapidly repaired, and the 
supplier can continuously improve the performance of 
equipment.  
In e-Diagnostics guidebook V1.6 [3] of International 
SEMATECH, interface C had been defined as the access 
interface to e-Diagnostics between an IC factory and the 
supporting suppliers. Interface C involves many 
requirements, including interoperability (communication), 
security, supplier data separation, etc, and has a need to be 
standardized in the future. As such, this paper proposes a 
novel e-Diagnostics framework, called Secure Collaborative 
e-Diagnostics Framework (SCDF), which is intended to be a 
possible solution to part of Interface C. In addition to 
tackling the general communication and security problems 
of e-Diagnostics, SCDF also provides mechanisms to solve 
several important issues that are not figured out in previous 
work, such as data isolation for different suppliers, 
supporting remote diagnoses through multi-party 
collaboration, diagnostics service and storage failover for 
assuring system availability, and the security measures 
related to above issues. 
The rest of the paper is organized as follows. Section 2 
introduces the architecture design of the SCDF. Section 3 
describes the system component model. The methodologies 
for major mechanisms are presented in Section 4. Section 5 
depicts the design and implementation of the system 
components, while section 6 shows the integration test 
results. Section 7 is the summary and conclusions. 
II. ARCHITECTURE DESIGN OF THE SCDF
The architecture of the proposed SCDF is designed as 
shown in Fig. 1. For considering the security of the 
hardware-connectivity layer, the enterprises (both the IC 
factory side and the suppliers’ side) are divided into Extranet 
and Intranet. An outer firewall is installed between Internet 
and Extranet to protect the information security of Extranet. 
Also, an inner firewall is deployed within the enterprise to 
inspect and screen the messages that intend to enter Intranet 
such that steal or damage of confidential equipment data can 
be avoided. Information components in Extranet usually 
need to communicate with outside information components; 
Proceedings of the 2005 IEEE
International Conference on Automation Science and Engineering
Edmonton, Canada, August 1 & 2, 2005
0-7803-9426-7/05/$20.00 ©2005 IEEE 185
[7] registry nodes in both Internet and the Intranet of the IC 
factory for registering and discovering Web Services. 
III. SYSTEM COMPONENT MODEL
The system component model of the SCDF is shown in 
Fig. 2 and depicted as follows. 
GED may follow SEMI’s Equipment Data Acquisition 
(EDA) standards [8] to access equipment engineering data 
from CEM (Common Equipment Model) [9] compliant 
equipment. GED can flexibly accept, activate, and 
deactivate data collection plans and report the results 
through a data collection manager. Inside GED, a 
communication agent is designed to integrate customized 
applications via Web Services. Therefore, other system 
components can use the functions provided by GED by 
calling the methods in the communication agent with SOAP. 
Intranet UDDI contains several components for 
describing, registering, and searching Web Services on 
factory’s servers. We develop a UDDI communication 
kernel to wrap these components in the form of Web 
Services such that other system components can use the 
functions of the Intranet UDDI via SOAP. 
EDM contains EE components, such as diagnostics, 
maintenance, and APC/OEE (Advanced Process 
Control/Overall Equipment Effectiveness), to provide 
functions and information required for the diagnoses, 
maintenance, performance analyses, and management of IC 
factory’s equipment. EDM also possesses components of 
XML signature process and XML encryption process to 
protect the information security of the delivered SOAP 
messages. The functions of EDM are built upon an EDM 
Web-Service Agent. Other system components can use 
EDM’s functions through calling the methods on EDM 
Web-Service Agent with SOAP. 
MSS contains components to provide functions, such as 
single sign-on authentication and authorization for users to 
login the system, certificates issue for data encryption and 
digital signature, secure logging of system operations for 
security auditing, and user policies and profiles management. 
The functions of MSS are built upon a MSS Web-Service 
Agent. Other system components can use the functions 
provided by MSS by calling the methods in MSS 
Web-Services Agent through SOAP. 
Each RDS contains professional EE components to 
provide remote diagnostics and maintenance functions. For 
example, a remote EE system can allow experts of the 
suppliers to remotely connect to and access the IC factory’s 
equipment through EDM. A diagnostics-solutions retrieval 
system is able to remotely provide diagnostics solutions to 
IC factories. The expert collaboration component is capable 
of enabling multiple experts to simultaneously work on a 
single equipment diagnostics task through remote 
collaboration. Similarly, the functions of RDS are built upon 
a RDS Web-Service Agent. Other system components can 
use the functions provided by RDS by calling the methods 
on the RDS Web-Service Agent with SOAP.!
Internet
( SOAP/ WSDL/UDDI )
Equipment
Suppliers SideIC Factory Side
SOAP SOAP
SOAP
Third-Party
Support Company
Firewall
Extranet
(DMZ)Intranet
Manager
Diagnostics
Equipment
(EDM)
Monitoring
and
Security
Server
Remote
Diagnostics
Server
(RDS)
Standardize
Description
Mechanism
Search
Mechanism
Registry
Mechanism
UDDI Communication Kernel
Firewall Firewall
RDS Web-Service Agent
Remote
Equipment
Engineering
System
Diagnostics-
Solutions
Retrieval
System
Expert
Collaboration
RDS Web-Service Agent
Remote
Equipment
Engineering
System
Diagnostics-
Solutions
Retrieval
System
Expert
Collaboration
Inner
Firewall
Generic
Embedded
Device
(GED)
Physical
Equipment
IO
Device
Equipment
Resource
Equipment
Module
Proccess
Capability
Equipment
Material
Location
Carrier
PortClock
Port Location
CEM
Communication Agent
ApplicationInterface
Embedded
Application
EquipmentDriver
DataCollection
Manager
DCPlan
DCReport
EDM Web-Service Agent
Equipment
Management Diagnostics
APC/
OEE
Mainten-
ance
XML
Encryption
Process
XML
Signature
Process
Outer
Firewall
(MSS)
Firewall
Backup
MSS Web-Service Agent
Authentication
&
Authorization
Service
(SSO)
Secure
Logging
User
Policies
&
Profiles
Management
Certificate
IssueUniversal
Description
Discovery
and
Integration
(UDDI)
Fig. 2 System component model of the SCDF.
187
4) According to the above Web services’ URL, GED can 
call the diagnostics service on EDM a1.
5) Assume that the diagnostics service on EDM a1 has no 
response for a predefined times of retries of Step 4. 
6) GED sequentially refers to the 2nd Web services’ URL 
that is located on EDM a2.
7) According to the above Web services’ URL, GED can 
call the diagnostics service on EDM a2.
8) If Step 7 succeeds, the equipment can then be diagnosed 
through the same service on EDM a2.
The service failover mechanism described above is valid 
for service failures due to the problem of the service itself or 
the server failure. By contrast, Microsoft Server 2003 
clustering technology [12] can accomplish service failover 
only in the case of server failure. 
D. Database Failover Mechanism 
To prevent data loss, a simple database failover 
mechanism is designed. We adopt dual SQL servers for the 
databases. The SQL server has a built-in real-time 
transactional data replication function. Any transaction, such 
as addition, modification, and deletion of data, occurs in one 
SQL database, the content of the related database in the 
other SQL server will be synchronously updated in real-time 
such that the contents in both SQL databases are consistent. 
The database failover mechanism is shown in Fig. 6 and 
described as follow: 
1) First, the real-time transactional data replication 
function of the dual SQL databases is started. 
2) Each EDM creates a database look-up table that 
contains the IDs and IPs of the dual databases. 
3) EDM first refers to the 1st database IP address in the 
loop-up table. 
4) EDM can then access the 1st database (DB 1). 
5) Assume that DB 1 has no response for a predefined 
times of retries of Step 4. 
6) EDM refers to the 2nd database IP address in the look-up 
table.
7) EDM can then access the 2nd database (DB2). 
Notably, Microsoft server cluster (MSSC) technology [12] 
can also be used for storage failover. However, the hardware 
for MSSC needs to satisfy some criteria and is far expensive 
than that used in the database failover mechanism in Fig. 6. 
V. DESIGN AND IMPLEMENTATION OF THE SYSTEM 
COMPONENTS
We adopt object-oriented approach to develop the system 
components in SCDF. The Unified Modeling Language 
(UML) is used as the tool. 
First, we conduct thorough analyses of functional 
requirements for all of the system components. Then, the use 
case diagrams for these components can be drawn. Next, 
each use case in the use case diagrams is further investigated 
to subsequently generate the corresponding scenarios. Then, 
based on these scenarios, the object-oriented analysis and 
design (OOA and OOD) of system components using UML 
are performed. Consequently, the sequence diagrams, the 
class diagrams, and other useful diagrams can be obtained. 
For the detailed descriptions of OOA and OOD of the 
system components in SCDF, please refer to [13]. 
A prototype e-Diagnostics system is constructed to 
validate the effectiveness of the SCDF. To provide 
diagnostics and predictive-maintenance functions, we 
created several EE subsystems. Specifically, in EDM and 
RDS, we used data-mining and ontology technologies to 
develop a Diagnostics-Solution Retrieval System (DSRS) 
[14], which can receive equipment fault descriptions from 
remote factory clients and respond with the associated 
diagnostic solutions and knowledge through the 
Web-Services mechanism for facilitating equipment 
technicians to rapidly fix the equipment faults. In EDM, a 
prognostic model [14] was also built by using neural 
network and time series analysis techniques. The prognostic 
model can predict the future potential faults of equipment 
before they occur. Accordingly, equipment technicians can 
˪˸˵ʳ˦˸ ̅̉ ˼˶ ˸̆ ʳ˨ ˥˟ ʳ˴ ́˘˗ ˠʳ˴́ ʳ˜ ˗
˪˸˵ʳ˦˸ ̅̉ ˼˶ ˸̆ ʳ˨ ˥˟ ʳ˴ ˆ˘˗ ˠʳ˴ˆ ʳ˜ ˗
˪˸˵ʳ˦˸ ̅̉ ˼˶ ˸̆ ʳ˨ ˥˟ ʳ˴ ˅˘˗ ˠʳ˴˅ ʳ˜ ˗
˪˸˵ʳ˦˸ ̅̉ ˼˶ ˸̆ ʳ˨ ˥˟ ʳ˴ ˄˘˗ ˠʳ˴˄ ʳ˜ ˗
˪˸˵ʳ˦˸ ̅̉ ˼˶ ˸̆ ʳ˔ ˷˷ ̅˸ ̆̆˘˗ ˠʳ˜˗
EDM an
EDM a1
EDM a2
.
.
.
.
.
.
4.Request diagnostics
from EDM a1
8.Diagnose
equipment
through EDM a2
5.EDM a1 has no response
3.Refer to the
first WSs URL
Equipment
with GED
6.Refer to the second
WSs URL
7.Request diagnostics
from EDM a2
UDDI
1.Periodically register update
WS addresses of EDMs
.
.
.
2.Dynamically look up the
WS URLs of EDMs
*WS : Web Services
Look-Up Table on GED
Fig. 5 Service failover mechanism.
Local Diagnostics DB2Local Diagnostics DB1
1. Start real-time transactional
data replication
Database Look-up Table on EDM
EDM
2.Create a database
look-up table
3. Refer to the first
Database IP
Address
4. Access DB1
7. Access DB2
6. Refer to the second Database IP Address
5. DB1 has no response
˜ˣʳ˔ ˷˷ ̅˸ ̆̆˅˗˕˅
˜ˣʳ˔ ˷˷ ̅˸ ̆̆˄˗˕˄
˗ ˴̇˴˵˴̆˸ ʳ˔˷ ˷ ̅˸̆̆˗ ˴ ̇˴˵˴ ̆˸ ʳ˜˗
Fig. 6 Database failover mechanism. 
189
 
[7] Y.-C. Su, M.-H. Hung, F.-T. Cheng, and T.-P. Lee, “Development of a Data Pre-processing 
Scheme and Pluggable Application Modules for an Intelligent Equipment Prognostics 
System,” in Proceedings of the 3rd International IEEE Conference on Industry Informatics 
(INDIN 2005), Perth, Western Australia, pp. 38-43, August 2005. 
kinds ofequipment. Besides, equipment prognostics systems
usually adopt a central host architecture that may heavily
consume factory network bandwidth to transfer equipment
data. Also, sending all of data to the same remote host for
prediction and monitoring can overload the remote host and
impact its real-time analysis efficiency. Additionally, if the
remote host fails without backup, the entire prognostics
system will become paralyzed. On the other hand, different
equipment may need different prognostics modules. There-
fore, an equipment prognostics system should have a
mechanism to rapidly replace the prognostics module ac-
cording to the need of equipment.
To resolve the disadvantages of past work and meet the
needs mentioned above, this work proposes a novel intelli-
gent equipment prognostics system (IEPS) that comprises
many generic embedded devices (GEDs) and a remote host.
The GED can be embedded into various kinds of equipment
to acquire equipment parameter data and has an
open-standard application interface through which many
customized intelligent-prognostics modules can be plugged
in to offer prognostics functions. With this feature, the
prognostics tasks can be distributed to GEDs and done lo-
cally to release the burden of the factory network and the
remote host.
Since different prognostics modules may need different
numbers and types of equipment parameters, the data
pre-processing operation is very important and can be te-
dious in an EPS. In this work, we present a data
pre-processing scheme that allows the users to easily select
desired equipment parameters and pluggable application
modules (PAMs) through a graphical user interface (GUI).
Notably, the prognostics modules are constructed in the
form of PAM, which can be downloaded and plugged into
GEDs. Thus, the proposed IEPS can be used in various types
of equipment without changing the system architecture.
Finally, the IEPS applied to a set ofconveyor equipment
in a TFT-LCD factory is selected to validate the
effectiveness and flexibility of the proposed data
pre-processing scheme and PAM.
The rest of the paper is organized as follows. Section 2
depicts the architecture of the IEPS. Section 3 presents the
development of the data pre-processing scheme. The design
of the PAM is explained in Section 4. Section 5 elaborates
on the construction of the PAM and the IEPS. Section 6 is
the summary and conclusions.
II. THE IEPS ARcHITECTURE
Figure 1 shows the IEPS architecture that comprises
three major portions: a remote host, GEDs, and PAMs. Each
Fie. I The architecture of the IEPS.
GED is embedded into specific equipment to collect
equipment data and possesses a pluggable application
module, which can be configured with customized applica-
tions for predictive-maintenance or quality-prognostics
tasks. The remote host can receive exception reports sent
from each GED and execute the corresponding exception
handling routines. This architecture also allows multiple
remote hosts, if needed. The detailed description of every
portion is presented as follows.
2.1 The Remote Host
The remote host can receive equipment prognostics
results from GED embedded in the equipment and store the
data in the database. As mentioned in Section I, the analysis,
monitoring, and prediction tasks of equipment have been
distributed to the prognostics application modules in the
GEDs embedded in equipment. Therefore, this architecture
can avoid the suspension of the prognostics system due to
the failure of the central host. Also, only few analysis or
prediction results must be sent to the remote host for storage
or globally monitoring the performances of equipment. This
can release a lot ofnetwork burden.
2.2 The Generic Embedded Device (GED)
The GED can be embedded in equipment and contains
three major functions. (1) GED can retrieve equipment pa-
rameters and send the data to PAM for analysis, monitoring,
or prediction. (2) GED can send prediction results and alarm
messages to the remote host. (3) The remote host can trace
the equipment statuses through GED. The functional
requirements and modules of the GED are described as fol-
lows.
2.2.1 Functional requirements ofGED
The GED has the following functional requirements:
a. The GED should be able to be embedded into different
tools, such as processing equipment, measurement
equipment, material handling devices, etc.
b. The GED must meet the specifications of SEMI [1]
equipment engineering capability (EEC) [11], such as
E132 (Authentication and Authorization, A&A) [12],
E120 (Common Equipment Model, CEM) [13], E125
(Equipment Self Description, ESD) [14], and E134 (Data
Collection Management, DCM) [15]. A&A allows facto-
ries to control, in software, which applications may
communicate with the equipment and which equipment
services may be used by applications. CEM is a common
static model for describing the structure and the
properties of physical equipment. ESD is an abstract
model ofequipment metadata describing units, types,
equipment structure, state models/events and
alarms/exceptions. Finally, DCM is an abstract model
of data collection plans (DCPs), DCP management
interfaces, and DCP reporting formats.
c. When the PAM detects a fault, the GED should be
capable of sending the corresponding exceptional
message to the remote host. The GED must also pro-
vide a standard application interface to plug in the
desired PAM, which is downloaded from the remote
host, to offer the necessary prognostics functions.
39
Fig. 3 Main GUI of the IEPS.
rameter structure that complies to the SEMI CEM specifi-
cation. The user can select the desired equipment model
from the "CEM" frame, and then the CEM of the selected
equipment will appear in "The Structure of Equipment
frame.
The main GUI of the IEPS also allows the users to
manage data collection plans (DCPs). When the user presses
the "Create DCP" button to create a new DCP, a new GUI,
shown in Fig. 4, will appear. The left side ofthe GUI shows
the parameters and sensors structure of the selected equip-
ment. The user can then select the key parameters and sen-
sors into the "Selected Parameter" frame and fill in the DCP
name, sampling interval, and the description. After the user
presses the "OK" button, the new DCP is created and shown
in the DCP list of the main GUI, shown in Fig. 3. In this
manner, the user can conveniently create multiple DCPs for
different equipment requirements.
When the user selects a DCP from the DCP list and
presses the "Activate DCP" button, the GED will begin to
retrieve equipment parameter data according to the pa-
rameter requirements ofthe activated DCP. Specifically, the
data collection manager (DCM) inside the GED will collect
equipment parameters through the equipment driver (ED)
and fill them into a data collection report (DCR) according to
the data types and formats defined in the activated DCP.
Besides, the DCM will add a timestamp in each data set to
record the sampling time. After the DCR is completed, the
DCM will send the DCR to the PAM through the application
interface (Al) for analyses and prognostics. The DCM can
also send the DCR to the remote host through the commu-
nication agent (CA) for other applications, such as the shop
floor control and the manufacturing execution system.
Fig. 4 The GUI of "Create a New DCP."
The above data pre-processing scheme provides the user
with an integrated environment to decide and select
important parameters for the data acquisition in equipment
prognostics. Other data pre-processing methods, such as
finding key parameters by mathematic algorithms, may be
included in the future to enhance the capability.
IV. THE DESIGN OF THE PAM
The PAM must be able to communicate with the remote
host via the modules ofCommunication Agent (CA) and the
Application Interface (Al). . In particular, the Al must be
constructed in a way that a PAM can be dynamically
plugged into the GED.
For achieving the pluggable ability, the Al needs to be
defined to satisfy the requirements ofdata transmission. The
functional requirements ofthe Al are described as follows:
a. The Al must be able to transfer equipment parameter data
from the DCM to the PAM.
b. The Al must be able to transfer the prognostics results to
the DCM.
c. The Al must be able to receive the prognostics trace re-
quirement and the PAM parameters from the remote host.
d. The Al must be able to respond to the prognostics trace
requirement ofthe remote host.
e. The Al must be able to send the exception or alarm mes-
sages to the remote host.
The major methods of the Al are shown in Fig. 5. In
order to communicate with the Al, each PAM must imple-
ment these methods. The PAMs can be created in the forms
of dynamic linking library (DLL), ActiveX, COM, etc., and
added to the PAM database. Then the user can conveniently
select a new PAM from the "PAM selection" frame, shown
in Fig. 3, to plug in GED.
V. ILLUSTRATIVE EXAMPLE
This work has selected a conveyor from a TFT-LCD
factory as example equipment for implementing the data
pre-processing scheme and pluggable application modules.
Figure 6 depicts the schematic diagram of the conveyor
equipment. The conveyor is composed of four modules:
CV-A, CV-B, TT-A and TT-B. CV-A and CV-B allow
forward-and-backward transportation; TT-A and TT-B
permit both forward-and-backward and rotating transporta-
tion. The high fragility of the glass implies that the mo-
Fig. 5 The Standard Application Interface (Al).
41
<<interface>>
Application Interface
+GetDataFromDCMO
+SendResultToDCMO
+ReceiveTraceRequirementO
+ReceivePAMParameterO
+ResponscTraceResultO
+SendExccptionMessageO
fSendAlarVl"essageO
IW@@@@*O@@6*SU*SSUSSUU3SSS@*6OS@SSWSSSUS@SS@UUUUSOO@@OSSSS@SU*SUSUS6@USOOOSS*06S4
Fig. 7 The IEPS of the conveyor equipment.
alization of the data pre-processing scheme and the PAM.
The results show that a generic prognostics system for
various types of equipment can be conveniently established
using the proposed data pre-processing schenie and the
PAM.
REFERENCES
[1] Web site of the Center for Intemational SEMATECH
(ISMT). http://www.sematech.org/index.htm
[2] e-Diagnostics Guidebook, version 2.0, Intemational
SEMATECH, October, 2004.
hp://ismi.sematech.org/emanufactur-
ingediag/guide.htm
[3] M. Benghanem and A. Maafi, "Data Acquisition Sys-
tem for Photovoltaic Systems Performance Monitor-
ing," IEEE Transactions on Instrument and Meas-
urement, Vol. 47, No. 1, February 1998, pp. 30-33.
[4] R. Mukaro and X. F. Carelse, "A Microcontrol-
ler-Based Data Acquisition System for Solar Radiation
and Environmental Monitoring," IEEE Transactions
on Instrument and Measurement, Vol. 48, No. 6, De-
cember 1999, pp. 1232-1238.
[5] R. Lombardi, G. Coldani, G. Danese, R. Gandolfi, and
F. Leporati, "Data Acquisition System for Measure-
ments in Free Moving Subjects and its Applications,"
IEEE Transactions on Instrument and Measurement,
Vol. 52, No. 3, June 2003, pp. 878-884.
[6] B. R. Kumar, K. Sridharan, and K. Srinivasan, "The
Design and Development of a Web-Based Data Ac-
quisition System," IEEE Transactions on Instrument
and Measurement, Vol. 51, No. 2, June 2002, pp.
427-432.
[7] J. A. Stankovic, "Reflection in Real-Time Systems," in
International conference on Meta-Level Architectures
and Reflection 1999, LNCS 1616, p. 1, 1999.
[8] R. Jones, "Computer Aided Maintenance Management
System," Computing & Control Engineering Journal,
Vol. 5, No. 3, August 1994, pp. 18-192.
[9] B. R. Rau and M. S. Schlansker, "Embedded Com-
puting: New Directions in Architecture and Automa-
tion," in International Conference on High Perform-
ance Computing, LNCS 1970, 2000, pp. 225-244.
[10] R. L. Nord, "Meeting the Product Line Goals for an
Embedded Real-Time System," in International
Workshop on Softvare Architectures for Product
Families, LNCS 1951, 2000, pp. 19-29.
[1 1] Equipment Engineering Capabilities (EEC) guidelines,
Version 2.5, International SEMATECH, July 2002.
[12] SEMI E132-1104, Provisional Specification for
Equipment Client Authentication and Authorization
(A&A), U.S.A., 2004.
[13] SEMI E120-0703, Provisional Specification for the
Common Equipment Model (CEM), U.S.A., 2003.
[14] SEMI E125-0703, Provisional Specification for
Equipment Self Description (ESD), U.S.A., 2003.
[15] SEMI E134-1104, Provisional Specification for Data
Collection Management (DCM), U.S.A., 2004.
[16] SEMI E128-0703, Provisional Specification for XML
Message Structures, U.S.A., 2004.
43
Is
I
I
I
I
I
I
I
I
I
I
I
I
I
I
I
I
I
I
I
I
I
I
I
I
I
I
A Virtual Metrology Scheme for Predicting CVD Thickness in 
Semiconductor Manufacturing1
Tung-Ho Lin*, Ming-Hsiung Hung**, Rung-Chuan Lin*, and Fan-Tien Cheng* 
* Institute of Manufacturing Engineering, National Cheng Kung University, Tainan, Taiwan, R.O.C.  
Email: chengft@mail.ncku.edu.tw
** Department of Electrical Engineering, Chung Cheng Institute of Technology, National Defense University, Taoyuan, 
Taiwan, R.O.C. Email: minmin@ccit.edu.tw
                                                       
1 This work is partially supported by National Science Council, Taiwan, R.O.C., under Contract #NSC-94-2212-E-014-001 to M.-H. Hung and Contract  #NSC-
94-2622-E-006-001 to F.-T. Cheng.
Abstract - For maintaining high stability and production 
yield of production equipment in a semiconductor fab, on-line 
quality monitoring of wafers is required. In current practice, 
physical metrology is performed only on monitor wafers that are 
periodically added in production equipment for processing with 
production wafers. Hence, equipment performance drift 
happening in-between the scheduled monitoring cannot be 
detected promptly. This may cause defects of production wafers 
and the production cost.  In this paper, a novel  virtual 
metrology scheme (VMS) that is based on a radial basis function 
neural network (RBFN) is proposed for overcoming this 
problem. The VMS is capable of predicting quality of production 
wafers using real-time  sensor data from production 
equipment. Consequently, equipment performance abnormality 
or drift can be detected timely. Finally, the effectiveness of the 
proposed VMS is validated by tests on chemical vapor deposition 
(CVD) processes in practical semiconductor manufacturing. It is 
therefore proved that RBFN can be effectively used to construct 
prediction models for CVD processes.
Index Terms - Virtual Metrology, Radial Basis Function 
Neural Network, Chemical Vapor Deposition.
I. INTRODUCTION
 Process control of product equipment is very important 
for semiconductor factories. To assure process reliability and 
high yield, it is necessary to monitor wafer on-line [1][2]. In 
current practice, physical metrology is performed only on 
monitor wafers that are periodically added in production 
equipment for processing with production wafers. This 
approach may cause that the qualities of production wafers in-
between the measuring time are unable to know. If equipment 
is out of order, and the abnormality is not discovered in time, 
many defective wafers may have been produced before the 
next measurement. This will result in a great loss to cost. 
To overcome this problem, one possible way is to predict 
the process quality of every wafer using process parameters 
data of production equipment without physically conducting 
quality measurement. This approach is called virtual 
metrology (VM) [3]. 
A VM system can not only predict quality of production 
wafers but also reduce the usage rate of monitor wafers. Fig. 1 
depicts the comparison between real metrology and virtual 
metrology. The upper part of the figure is the common 
approach adopted by most semiconductor factories for wafer 
quality monitoring. In semiconductor production process, each 
FOUP of equipment contains 25 wafers. For monitoring the 
abnormality of production equipment, monitor wafers are 
regularly added in, and real metrology is performed only on 
those monitor wafers. By contrast, through a VM system as 
shown in the lower part of Fig. 1, virtual metrology data for 
each of monitor and production wafers can be obtained using 
on-line sensor data from the production equipment. Hence, the 
objective of real-time wafer-to-wafer quality monitoring is 
possibly achieved. Many researches related to VM had been 
presented in the past, such as literatures [3]~[7]. 
ou
tp
ut
 v
al
ue
s am p le  d a ta  a t 
U C L
L C L
it
it jt
TΔ TΔ
Tti Δ+ Tt j Δ+
I BM
ou
tp
ut
 v
al
ue
sa m p l e  d a ta  a t 
U C L
L C L
it
it 1+it 2+it 3+it 4+it jt 1+jt 2+jt 3+jt 4+jt
ˣ˛ ˔ ˦˘ ʳˈ
˗˘ ˣ˧ ʳ ˉ
˗˘ ˣ˧ ʳ ˈ
˗˘ ˣ˧ ʳ ˇ
˗˘ ˣ˧ ʳ ˆ
˗˘ ˣ˧ ʳ ˅
˗˘ ˣ˧ ʳ ˄
ˣ˛ ˔ ˦˘ ʳ ˇˣ˛ ˔ ˦˘ ʳ ˆˣ˛ ˔ ˦ ˘ʳ ˅ˣ ˛ ˔˦ ˘ʳ ˄
˗˘ ˣ˟ ˢˬ ˠ˘ ˡ ˧ʳ ˖ ˛˔ ˥ ˧
Metrology 
Equipment
Production 
Equipment
Virtual Metrology 
System
Monitoring Wafer
Product 
Sensor 
Data ijx
iyReal Metrology Data
iyˆVirtual Metrology Data
Real-Time & On-Line
TΔTransportation Time
ou
tp
ut
 v
al
ue
ou
tp
ut
 v
al
ue
Fig. 1. Comparison between real metrology and virtual 
metrology. 
Instead of using back-propagation neural network (BPN) 
as did in previous work, this paper adopts radial basis function 
neural network (RBFN) to construct a virtual metrology 
scheme (VMS) for chemical vapor deposition (CVD)
processes in practical semiconductor manufacturing. 
II. VIRTUAL METROLOGY SCHEME
The proposed virtual metrology scheme (VMS) is shown 
in Fig. 2.  Fig. 2(a) is the training mode, while Fig. 2(b) is the 
running mode. Each functional block is described below. 
z Production Equipment: In wafer manufacturing, 
production equipment contains raw data of process 
parameters.  It also provides real-time data acquisition for 
the VM system.  
z Metrology Equipment: Metrology equipment can perform 
measurement on wafers to physically obtain wafer quality 
data. It also facilitates evaluating the accuracy of the VM 
system.
Proceedings of the 2006 IEEE International Conference on Robotics and Automation
Orlando, Florida - May 2006
0-7803-9505-0/06/$20.00 ©2006 IEEE 1054
Fig. 3. The setting of the RBFN is summarized in Table I. 
Assume that there are m  input variables and n training 
sample sets. Also, the RBFN possesses  ( 3)q = output neurons 
for predicting the mean, range, and uniformity of thickness 
(THK), respectively. 
nz
THK_Mean (y1)
…………………………………..
21w11w
THK_U (y3)THK_Range (y2)
31w
b1 b2 b3
1z
1r
1nw 2nw 3 nw
mr
Fig. 3. RBFN architecture for CVD process. 
TABLE I
Setting of RBFN 
RBFN Setting  
Number of neurons in 
the input layer 
m = number of selected variables 
after data pre-process 
Number of neurons in 
the hidden layer n = number of training sample sets 
Number of neurons in 
the output layer 
q =3, for predicting the mean, 
range, and uniformity of THK, 
respectively 
Transfer function of 
the hidden layer 
Gauss function, one of default 
transfer functions of RBFN 
Transfer function of 
the output layer Linear function 
 The sample data of the VM model is classified into three 
types: training sample, testing sample, and running sample. 
The training and testing samples are used to train and test the 
VM model, respectively. When the VM model is running, its 
input data sets are called the running sample. 
The computation of the hidden-layer output, weighting 
matrix, and output-layer output of RBFN is described below. 
z Hidden-Layer Output: According to the above assumption, 
the training data can be expressed as X  whose size 
is m n× . Because there are n  training sample sets, the 
number of hidden-layer neurons is set to .n  If any data set 
1m×r  is inputted to the network, the corresponding output 
1 n×z  of the hidden layer is computed by Gauss transfer 
function as follows:  
           
2
1
21
(0.8326 )
exp
T
m
n C
×
×
× −
= −
⎛ ⎞⎜ ⎟⎜ ⎟⎝ ⎠
r X
z                  (1) 
where TX is the transpose of X , C  is the spread constant of 
the network, and 1
T
m× −r X  is the Euclidean distance [8] 
between the input vector r  and the training samples X .
For computing the weighting matrix, the training sample 
sets are sequentially passed through the network. According to 
Eq. (1), the resulting output in the hidden layer will be 
computed as: 
2
2
(0.8326 )
exp
T
C
× −
= −
⎛ ⎞⎜ ⎟⎜ ⎟⎝ ⎠
X X
Z                   (2)
where the size of Z  is n n× , and the ith  row of Z  is the 
hidden-layer output of the ith training sample set. 
z Weighting Matrix: The weighting matrix W is calculated 
as: 
                13 3n n n n
−
× × ×=W T Z                                         (3) 
where 3 n×T  is the target-value matrix of the training samples, 
and the ith column of T  represents the target output for the ith 
training sample set.  
z Output-Layer Output: As the weighting matrix is obtained, 
the output 3 1×y  of any input data set 1m×r  can be 
computed as follows:  
3 1 3 1 3 1
T
n n× × ×⋅ + ×=y W z b                      (4) 
where 1 n×z  is computed by Eq. (1), and 3 1×b  is the offset 
constant vector for the output. 
3) Construction of Model Parameter Coordinator 
The construction of the model parameter coordinator is 
completed by the following three steps. 
(a) Transferring  input variables into independent ones :
The input variables of RBFN should be mutually 
independent for enabling RBFN to possess high processing 
efficiency. Thus, high similarity between input variables 
should be avoided. 
This work adopts the principle component analysis to 
transfer the input variables into independent ones whose 
number is also less than the original one. First, by data pre-
processing, relatively important input variables ir are 
selected, 1, , .i m=   Next, the covariance matrix S of these 
input variables are computed as follows:
1 1
2
2
m
m
r r r
r
σ σ
σ
⎡ ⎤⎢ ⎥
= ⎢ ⎥⎢ ⎥⎢ ⎥⎣ ⎦
S

                       (5)
1056
Under the constrained range, the value of C is incrementally 
increased for finding the optimal value. 
4) Construction of Reliance Index: 
When the VM model is in the running mode, there are no 
real metrology values for computing the prediction errors. As 
mentioned previously, this research develops a reliance index 
(RI) which can indicate the credibility of the virtual metrology 
values. The RI is designed in a way that a larger value of RI 
represents a higher credibility. With the aid of the RI, the 
quality engineer may be more confident on using the VM 
system to on-line estimate the processing quality of all wafers 
when the in-situ measured quality data are unavailable. The 
details of RI and its applications will be published elsewhere. 
5) Construction of  Accuracy Evaluator: 
This work employs both of the mean absolute percentage 
error (MAPE) [10] and the maximum error (Max Error) as 
indexes to evaluate the prediction accuracy. The formula of 
MAPE is as follows:     
%100
|/)ˆ(|
1 ×
−
=
∑
=
n
YYY
MAPE
n
i
iii           (13) 
where i = 1,…,n , Yˆ : prediction value, Y: actual value, n: 
sample number. The more closely the MAPE value approaches 
zero, the better the prediction accuracy of the model holds. 
MAPE can represent the average prediction error of a VM 
system.  
The formula of Max Error is as follows: 
⎭⎬
⎫
⎩⎨
⎧
=
−
= ni
Y
YYMaxError
i
ii ,,2,1,
ˆ
max 
          (14)
IV. COMPARISON AND DISCUSSION 
This section uses the prediction results of the thickness 
mean (THK_Mean) of one chamber, Chamber B, in CVD 
equipment as a case study to illustrate the performance of the 
proposed VMS. The prediction results are also compared with 
those of the BPN approach adopted in [6].  
1) Results Comparison: 
There are totally 100 data sets of wafers for the case study. 
Among them, the first 15 data sets are training samples, the 
16th to 60th data sets are testing samples, and the rest of data 
sets are running samples. Four cases are performed: (a) BPN 
with activating auto-adjustment, (b) RBFN without running 
model parameter coordinator, (c) RBFN with running model 
parameter coordinator, and (d) RBFN with running model 
parameter coordinator and activating auto-adjustment. The 
threshold of activating the auto-adjustment mechanism is set 
as MaxError=1%. The prediction results of these four cases 
are shown in Fig. 5 (a) ~ (d), respectively.  
By comparing Fig. 5 (b), (c), and (d), it shows that running 
the model parameter coordinator improves the prediction 
accuracy. Also, in addition to running the model parameter 
coordinator, activating auto-adjustment can further increase 
the accuracy of prediction results. On the other hand, 
comparison between Fig. 5 (a) and (d) indicates that RBFN 
can achieve similar, even slightly better, prediction accuracy 
as BPN can do. 
(a) BPN with activating auto-adjustment. 
(b) RBFN without running model parameter coordinator. 
ʻ˶ʼ RBFN with running model parameter coordinator.ʳ
(d) RBFN with running model parameter coordinator and 
activating auto-adjustment. 
Fig. 5. Prediction results of the mean thickness (THK_Mean) 
in Chamber B. 
2) Discussion: 
The comparison results of RBFN and BPN models are 
summarized in Table II. They are discussed below. 
(a) Number of hidden layers and neurons: Setting the number 
of neurons and hidden layers in RBFN is simple. 
Specifically, RBFN has one hidden layer, and the neuron 
number of the hidden layer is set to be equal to the number 
of training samples. By contrast, BPN needs to depend on 
trial-and-error approaches to set the number of hidden 
layers and neurons for proper performance. 
(b) Number of adjustable parameters: There is only one 
parameter needed to be adjusted for constructing a RBFN 
model, while a BPN model possesses many parameters in 
the form of a weighting matrix to be tuned during the 
construction phase. Therefore, RBFN has shorter training 
time than BPN. Also, by the proposed model parameter 
1058
附件三 中華民國專利 
 
[1] 鄭芳田、黃國偉、陳俊宏、洪敏雄，技術名稱：『可擷取和傳送客製化應用之資訊的通
用型嵌入式裝置與方法』，中華民國發明專利，專利號碼：I225606，專利期間：
93.12.21~112.05.12，專利權人：國立成功大學。 
 
 
[1] 2004 IEEE International Conference on Robotics and Automation (ICRA 2004)  
 
表 Y04 2
 
二、與會心得 
本次國際學術會議，國內有多位的專家學者參加，特別是生產自動化領
域，有許多篇論文發表，由此可以驗證國內學者只要努力認真地做研
究，亦可以在國際的學術舞台上與世界各地之學者並駕齊驅且名列前
茅。因此期盼國內學者繼續積極參與國際學術活動並發表論文，以期提
升我國之國際學術地位。 
 
三、攜回資料名稱及內容 
1. Proceedings CD, 2004 IEEE International Conference on Robotics and 
Automation. 
 
四、其他 
本次研討會從研討會訊息、論文投稿、論文審稿、論文審查意見通知、
論文定稿、到研討會註冊報名等均可由 ICRA2004 網站作業完成。此點
值得國內辦理研討會時參考。 
 
行政院國家科學委員會補助國內專家學者出席國際學術會議報告 
                                                           94 年 8 月 8  日 
報告人姓名 洪敏雄 服務機構
及職稱 
中正理工學院電機系 
副教授 
     時間 
會議 
     地點 
94 年 7 月 31 日~8 月 2 日 
加拿大艾德蒙頓(Edmonton)
本會核定
補助文號
NSC 93-2212-E-014-001 
會議 
名稱 
 (中文) 2005 年 IEEE 自動化科學與工程國際研討會 
 (英文) 2005 IEEE International Conference on Automation Science and 
Engineering (IEEE-CASE 2005) 
發表 
論文 
題目 
 (中文) (1) 一個可用於半導體工廠之安全合作式電子診斷架構 
       (2) ㄧ個智慧型預兆偵測系統的設計與實現 
 (英文) (1) A Secure Collaborative e-Diagnostics Framework for 
Semiconductor Factories  
(NSC 93-2212-E-014-001 & NSC 93-2212-E-006-023 ) 
(2) Design and Implementation of an Intelligent Prognostics System
(NSC-93-2622-E-006-005) 
報告內容應包括下列各項： 
ㄧ、參加會議經過 
本次2005年 IEEE 自動化科學與工程國際研討會（2005 IEEE International Conference on 
Automation Science and Engineering, IEEE-CASE 2005）於加拿大亞伯他省（Alberta）艾
德蒙頓（Edmonton, Canada）舉行。 
IEEE-CASE 為 IEEE Rototics and Automation Society 專為自動化科技領域所創設的國際
研討會，本次會議為第一屆，共有 101 篇論文投稿，審查結果僅 69 篇（接受率約 70%）
獲接受於本次大會發表。 
本次大會利用 2 天之時間將所有論文分成 23 個 Sessions 發表，本人在會中共有兩篇論文
發表，資料如下： 
1.  M.-H. Hung, F.-Y. Hsu, T.-L. Wang, F.-T. Cheng, R. Lai, and T. Huang, 
“Development of a Secure Collaborative e-Diagnostics Framework for Semiconductor 
Factories,” in Proceedings of 2005 IEEE International Conference on Automation Science 
and Engineering, Edmonton, Alberta, Canada, pp. 185-190, August 2005. 
(NSC 93-2212-E-014-001 & NSC 93-2212-E-006-023) （8 月 1 日下午） 
2.  Y.-C. Su, F.-T. Cheng, M.-H. Hung, Y.-C. Lin, and R.-C. Lin, “Design and 
Implementation of an Intelligent Prognostics System,” in Proceedings of 2005 IEEE 
International Conference on Automation Science and Engineering, Edmonton, Alberta, 
Canada, pp. 273-278, August 2005. (NSC-93-2622-E-006-005) （8 月 2 日上午） 
附件三
 
表 Y04 1
 
[3] 2006 IEEE International Conference on Robotics and Automation (ICRA 2006) 
