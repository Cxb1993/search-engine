 1
二、計畫緣由與目的 
在磨潤的研究領域內，常常需要執行
龐大且複雜的數值計算，雖然電腦性能隨
著時間快速成長，個人電腦處理器的多核
心化，仍然無法有效地大幅降低計算執行
的時間。平行計算的觀念很早以前便出
現，其概念是使用一個以上的計算資源共
同處理一個工作以降低計算時間，目前較
常被使用的標準有MPI (Message Passing 
Interface)，OpenMP及單一系統鏡像叢集。
然而，此類技術在國內很少被使用於磨潤
領域，除了演算法的考量，其瓶頸可能是
系統建構、平行程式及其相關數值方法撰
寫不易。 
Wang et al. (2004)採用單一系統鏡像
(Single System Image) 之電腦叢集，來解決
氣體軸承之最佳化設計問題[1]，結果顯示
使用電腦叢集可以大幅度縮短計算時間，
且獲得合理的高平行效率。接著，相關的
電腦叢集系統及應用被相繼提出[2-5]。前
述之叢集系統的訊息溝通介面採用
OpenMosix之Linux核心延伸套件，系統的
建立及使用方式較為簡單，且具備硬體的
可擴充性。由這些研究結果可知，電腦叢
集系統適合計算工作量大的問題，而平行
效率通常受節點間訊息溝通及工作負載的
不平均而有很大的影響。 
平行計算運用在如最佳化設計之大計
算工作量的應用時，存在三個影響平行效
率的因素，一為不同設計參數之數值模型
計算的收斂速度不同，二為不同性能之計
算電腦執行同樣工作的時間花費不同，三
為系統的異常，如網路或電腦節點不穩
定。然而，先前相關測試及研究中[2-5]，
最佳化設計工作中的個別計算工作量均約
略相等，電腦叢集中的硬體性能亦相同。
但是在實際的應用中，這些影響因素仍然
存在，如無法有效的克服，將限制發展成
高可擴充性電腦叢集的應用。為了解決後
二個影響因素所造成的影響，因此，建立
工作負載平衡機制於可延伸性的計算叢集
以確保平行計算的運算效能是必要的，也
是本研究的主題，以期此電腦叢集架構可
廣泛地應用在磨潤及其相關工程領域上。 
三、實驗設計 
負載平衡機制的功用在於依據叢集系
統內不同電腦的性能 (即執行計算之速
度)，來決定計算工作分配的順序。自動化
的負載平衡機制不需要人為的決定，可以
降低計算工作間互相等待的時間，提升計
算資源的使用率。本研究提出的機制包含
兩個部份，一為依據閒置的電腦所具備的
處理器及網路連線能力決定工作分配順
序，二是建立平行計算的監控功能，為避
免因作業系統或網路異常而造成主要程式
無法順利進行、中斷或計算結果錯誤。此
兩個部份皆以副程式的方式在主控電腦上
執行，並不影響原有平行計算之功能。使
用可簡單擴充的電腦叢集作為平行計算的
工具時，雖然計算電腦數量的增加可縮短
整體計算時間，然而訊息溝通次數的增加
及電腦性能優劣不等反而會造成電腦閒置
時間增加，造成平行效率降低的情形。 
本研究以熱液動壓潤滑之計算[5]為
例，為了測試負載平衡機制，本研究中採
用計算2個設計參數的滑塊軸承性能的平
行計算工作，在17台個人電腦組成的叢集
系統上執行測試，電腦叢集的詳細規格如
表1。其中，節點23的任務為分配工作(主
控端)，其餘的任務為執行計算任務(計算
端)。為了模擬電腦溝通時間較長的情形，
除了兩台個人電腦與主要集線器(100 Mb/s)
之間透過另一個集線器(10 Mb/s)橋接，其
餘皆僅透過主要集線器執行訊息溝通，叢
集之網路聯結架構如圖1。 
 
表1 個人電腦叢集之規格表 
 
名稱/編號
處理器
(GHz)
記憶體 
(MB) 
網路 
(Mb/s)
主
控
電
腦
23 1.7  
1-12 
13-14
1.7 
計
算
節
點 15-16 1.836 
512 100 
 3
圖5則顯示在不同傳輸速度的工作運算
圖，可以看出傳輸速度是大量小型工作的
瓶頸，且與執行工作之大小沒有關連。圖6
為本研究為防止運算電腦斷線、當機而採
用的流程，模擬的結果如圖7，顯示叢集運
算時電腦斷線之時程，由圖中可以看出計
算工作可以順利執行完畢，除了增加部份
執行時間外，結果並不受系統不穩定因素
的影響。 
 
 
0 50 100 150 200 250 300 350
0
1
程式結束時間為349秒
依據運算電腦編號分配工作
選擇節點13和14執行程式
工
作
負
載
程式執行時間(秒)
圖3(a) 14個計算工作的負載變動紀錄 
(依據計算電腦編號順序分配工作) 
 
 
0 50 100 150 200 250 300 350
0
1
程式結束時間為341.7秒依據運算電腦性能分配工作選擇節點15和16執行程式
工
作
負
載
程式執行時間(秒)
圖3(b) 14個計算工作的負載變動紀錄 
(依據負載平衡機制分配計算工作) 
 
0 50 100 150 200 250 300 350
0
1
程式結束時間為349.2秒依據運算電腦編號分配工作選擇節點13、14和15執行程式
工
作
負
載
程式執行時間(秒)
圖4(a) 15個計算工作的負載變動紀錄 
(依據計算電腦編號順序分配工作) 
 
0 50 100 150 200 250 300 350
0
1
程式結束時間為347.3秒依據運算電腦性能分配工作選擇節點13、15和16執行程式
工
作
負
載
程式執行時間(秒)
圖4(b) 15個計算工作的負載變動紀錄 
(依據負載平衡機制分配計算工作)  
 
 
表 2 不同傳輸速度下的訊息等待時間 
 
 
