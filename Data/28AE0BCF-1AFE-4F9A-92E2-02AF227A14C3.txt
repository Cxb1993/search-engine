磁通估測是高效能馬感應馬達控制架構中不可或
缺的一環，傳統的電流型或電壓型磁通估測器屬於開迴
路的估測法則，對控速範圍需求嚴苛或參數變化影響的
抑制能力，仍有改善空間[9-12]。增益排程是根據不同
的轉速切換不同的估測器參數[13-14]，使磁通估測器對
於感應馬達的電阻參數變動具有強健性。 
參考式（1）馬達電氣狀態方程式可得： 
 
⎥⎥⎦
⎤
⎢⎢⎣
⎡−⎥⎥⎦
⎤
⎢⎢⎣
⎡
⎟⎟⎠
⎞
⎜⎜⎝
⎛ ++⎥⎥⎦
⎤
⎢⎢⎣
⎡=
=⎥⎥⎦
⎤
⎢⎢⎣
⎡
⎥⎥
⎥⎥
⎦
⎤
⎢⎢
⎢⎢
⎣
⎡
−
s
qs
s
ds
m
r
s
qs
s
ds
r
mr
m
rs
s
qs
s
ds
m
r
s
qr
s
dr
r
r
r
r
r
r
u
u
L
L
i
i
L
LR
L
LR
i
i
L
LL
y
L
R
L
R
&
&σ
φ
φ
ω
ω
 （2） 
 
移項整理可得： 
 
u
L
R
L
R
s
qr
s
dr
r
r
r
r
r
r
s
qr
s
dr +⎥⎥⎦
⎤
⎢⎢⎣
⎡
⎥⎥
⎥⎥
⎦
⎤
⎢⎢
⎢⎢
⎣
⎡
−
−−
=⎥⎥⎦
⎤
⎢⎢⎣
⎡
φ
φ
ω
ω
φ
φ
&
&  （3） 
 
其中 
 
⎥⎥⎦
⎤
⎢⎢⎣
⎡= s
qs
s
ds
r
mr
i
i
L
LRu  
 
藉由式（2）與式（3）可推導出磁通估測器如下，其中，
為估測增益矩陣，” ^ ”上標表示估測值。 G
 
)(
)ˆ
ˆ
)((
)ˆ(ˆ
ˆ
ˆ
ˆ
⎥⎥⎦
⎤
⎢⎢⎣
⎡−⎥⎥⎦
⎤
⎢⎢⎣
⎡+⎥⎥⎦
⎤
⎢⎢⎣
⎡+
⎥⎥⎦
⎤
⎢⎢⎣
⎡+
⎥⎥⎦
⎤
⎢⎢⎣
⎡
⎥⎥
⎥⎥
⎦
⎤
⎢⎢
⎢⎢
⎣
⎡
−
−−
+=
−++
⎥⎥⎦
⎤
⎢⎢⎣
⎡
⎥⎥
⎥⎥
⎦
⎤
⎢⎢
⎢⎢
⎣
⎡
−
−−
=⎥⎥⎦
⎤
⎢⎢⎣
⎡
s
qs
s
ds
m
r
s
qs
s
ds
m
rs
s
qs
s
ds
m
r
s
qs
s
ds
r
mrn
s
qr
s
dr
r
r
r
r
r
r
s
qr
s
dr
r
r
r
r
r
r
s
qr
s
dr
u
u
L
L
i
i
L
LR
i
i
L
LL
G
i
i
L
LR
L
R
L
R
GI
yyGu
L
R
L
R
&
&
&
&
σ
φ
φ
ω
ω
φ
φ
ω
ω
φ
φ
   （4）
 （4 ） .4
 
III. 標么化 
在感應馬達向量控制系統中，變數均有其單位意
義，如電壓、電流、電阻、電感等，通常為了使數值運
算簡單方便，可先透過適當標么，由於標么化的變數數
值沒有單位，故所有數值運算也僅僅是數字上做加減乘
除而已，變為簡單許多。再者，以有限的位元長度來表
示具有單位意義的實際值，不僅符合 Q 格式的意義，
而且精準度也會與實際數值運算結果相近不遠。要對於
整個系統做標么化動作，首先，先選定適當的基值，再
以小數來表示適當的實際量。 
 
 
由式（4）展開可得： 
 
⎥⎦
⎤⎢⎣
⎡ −++
⎥⎦
⎤⎢⎣
⎡ −++
⎥⎦
⎤⎢⎣
⎡ +−+
⎥⎦
⎤⎢⎣
⎡ +−−+=
s
qs
m
rs
qs
m
rss
qs
m
r
s
ds
m
rs
ds
m
rss
ds
m
r
s
qs
r
mrns
qr
r
rs
drr
s
ds
r
mrns
qrr
s
dr
r
rs
dr
u
L
L
i
L
LR
i
L
LL
G
u
L
L
i
L
LR
i
L
LL
G
i
L
LR
L
R
G
i
L
LR
L
R
Gp
&
&
σ
σ
φφω
φωφφ
12
11
12
11
ˆˆ
ˆˆ)1(ˆ
 （5） 
( )
⎥⎦
⎤⎢⎣
⎡ −++
⎥⎦
⎤⎢⎣
⎡ −++
⎥⎦
⎤⎢⎣
⎡ +−++
⎥⎦
⎤⎢⎣
⎡ +−−=
s
qs
m
rs
qs
m
rss
qs
m
r
s
ds
m
rs
ds
m
rss
ds
m
r
s
qs
r
mrns
qr
r
rs
drr
s
ds
r
mrns
qrr
s
dr
r
rs
qr
u
L
L
i
L
LR
i
L
LL
G
u
L
L
i
L
LR
i
L
LL
G
i
L
LR
L
R
G
i
L
LR
L
R
Gp
&
&
σ
σ
φφω
φωφφ
22
21
22
21
ˆˆ1
ˆˆˆ
 （6） 
 
因磁通變量的單位為伏特，故將等式（5）及（6）左右
同除 ，經化簡可得（7）及（8） bv
 
⎥⎦
⎤⎢⎣
⎡ −++
⎥⎦
⎤⎢⎣
⎡ −++
⎥⎦
⎤⎢⎣
⎡ +−+
⎥⎦
⎤⎢⎣
⎡ +−−+=
s
qs
m
rs
qs
m
rss
qs
mb
r
s
ds
m
rs
ds
m
rss
ds
mb
r
s
qs
r
mrns
qr
r
rs
drr
s
ds
r
mrns
qrr
s
dr
r
r
b
s
dr
u
X
Xi
X
XRi
X
XXG
u
X
Xi
X
XR
i
X
XX
G
i
X
XR
X
RG
i
X
XR
X
RG
v
p
&
&
ω
ω
φφω
φωφφ
σ
σ
12
11
12
11
ˆˆ
ˆˆ)1(
ˆ
 （7） 
⎥⎦
⎤⎢⎣
⎡ −++
⎥⎦
⎤⎢⎣
⎡ −++
⎥⎦
⎤⎢⎣
⎡ +−++
⎥⎦
⎤⎢⎣
⎡ +−−=
s
qs
m
rs
qs
m
rss
qs
mb
r
s
ds
m
rs
ds
m
rss
ds
mb
r
s
qs
r
mrns
qr
r
rs
drr
s
ds
r
mrns
qrr
s
dr
r
r
b
s
qr
u
X
Xi
X
XRi
X
XXG
u
X
Xi
X
XRi
X
XXG
i
X
XR
X
RG
i
X
XR
X
RG
v
p
&
&
ω
ω
φφω
φωφφ
σ
σ
22
21
22
21
ˆˆ)1(
ˆˆ
ˆ
 （8） 
 
再利用尤拉法將式（9）代入（7）及（8）離散化： 
 
T
kk
T
kk
v
p
b
s
qr
s
qr
bb
s
qr
s
qr
b
s
qr
⋅
−+=⋅
−+= ω
φφ
ωφ
φφφ )(ˆ)1(ˆ)(ˆ)1(ˆˆ  （9） 
 
Tkkk b
s
dr
s
dr
s
dr ωφφφ )1(ˆ)(ˆ)1(ˆ ++=+  （10） 
 
Tkkk b
s
dr
s
dr
s
dr ωφφφ )1(ˆ)(ˆ)1(ˆ ++=+  （11） 
 
將離散化過後之式子以 VHDL 語言寫入 FPGA，並與
MATLAB/Simulink 模擬環境作驗證，如圖 2，輸入相
同命令實線是磁通估測模組 IP 後的響應。 
 2
