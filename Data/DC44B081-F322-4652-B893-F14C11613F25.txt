I 
 
中文摘要 
 
多媒體會議是一個實現多方即時互動並且以多媒體應用為主的通訊服務，例如影像、
語音、文字等傳輸。由於網路技術成熟和網路使用普遍，使得以網路為基礎的多媒體會議
服務受到重視。本計畫提出一個叢集式系統架構，提供多媒體會議服務。在此架構下，透
過叢集自我組織與自我維護，分享叢集內終端機之會議控制與混合器資源，不但可以降低
會議伺服器負載，也可以減少會議服務基礎建設成本。本系統使用 SIP 作為主要信令控制
協定，並提出以 SIP 為基礎的叢集運作機制，包含叢集操作與心跳機制。最後，針對 Intra 
Cluster 環境提出 P2P Mixer 資源分配機制，並且以 IXP 465 與 PXA 270 嵌入式系統實
現本系統 Ad-hoc Conference 雛型，其中包含：Conference Server、Video Mixer 與 SIP 
UA。 
 
關鍵字：多媒體會議、網路會議、網路電話、會議初始協定 
 
1 
1. 前言 
多媒體會議是一個實現多方即時互動並且以多媒體應用為主的通訊服務，例如影像、
語音、文字等傳輸。傳統以電信傳輸模式所提供的遠距視訊會議服務是以使用事先所部署
的昂貴設備和專線的方式來達成，雖然會議傳輸品質較穩定、可靠，但是也因為成本高以
及應用不易開發等原因，使用的情況並不普及。由於網路技術快速地發展及普遍地使用於
一般的家庭使用者，並且受惠於網路資源共享及無所不在的特性，期望能夠藉由建構在以
IP 網路為傳輸媒介的方式來提供廉價、易取得的多媒體會議服務。 
目前在網路多媒體會議服務的系統架構設計已有相當多的討論及研究。IETF 將其區分
為三種模型[2]: 
 緊密耦合模型 
 鬆散耦合模型 
 完全分散式模型 
在緊密藕合模型中，服務元件以網路上的伺服器來呈現，這些伺服器用來提供會議服
務並且處理相關的訊息及影音串流。因為資訊和資源的集中式管理，緊密耦合的系統具有
高穩定性和高可靠度。然而，集中式的環境造成伺服器的負擔重及依賴性高，這樣的架構
模型不利於大型的服務規模。此問題可以經由部署多台伺服器並且以階層式管理的方式來
解決，但是卻也同時提高了系統成本。 
鬆散耦合模型通常建立在以網路層的群播技術來達到資料傳輸。在這種架構下，會議
成員之間不具有信令協調的關係，而是經由加入、離開一個群播位址群組來參與會議。鬆
散耦合模型適合大型的服務規模，然而它的缺點則是使用者端必須具備串流處理的功能以
及尚未普遍地具備群播技術的問題。 
完全分散式模型尚未有較明確的系統架構雛形，目前 IETF 提出應用點對點 
(Peer-to-Peer) 技術的 P2PSIP 多媒體應用服務架構[8]，我們認為此架構為發展完全分散
式模型的基礎。此系統模型最主要的概念是透過部份使用者建立一個服務網絡來提供並且
維護管理整個服務，也就是說某些設備能力充足的使用者能夠分享其資源並且提供部份服
務及功能。 
基於前文所說明三種模型的特性，我們提出一個以 SIP 為基礎的叢集式系統架構來提
供多媒體會議服務。這個系統架構整合了緊密耦合模型和完全分散式模型的概念，透過分
享使用者資源來降低系統的通訊成本。此外也因為其優點互補，能提供一個穩定、可靠且
適合大型服務規模的多媒體會議服務系統。 
在我們的架構中，保留了緊密耦合模型的集中式伺服器設置，稱之為多媒體會議骨幹
網絡，這個骨幹網絡提供會議控制管理、影音串流處理、使用者的認證授權以及叢集的管
理等。另一方面，使用者端可建立群組關係，意即形成多個叢集並透過叢集頭 (cluster 
head) 來與骨幹網絡溝通。一個叢集可由一個以上的使用者所組成，叢集的形成必須滿足
最少存在一個優異者在系統中以及無叢集存在的兩個條件。叢集運作將在第四章作更詳細
的介紹。 
我們系統架構的特性是藉由運用叢集的概念來達到使用者資源分享。每一個使用者會
根據它的設備能力區分為優異者 (Superior) 與同等者 (Peer)，這兩種不同型態主要的差
異在於優異者有足夠的資源分享給其他使用者，在這裡資源指的是設備的計算能力、儲存
空間以及網路頻寬，而利用這些資源所提供的服務包含管理叢集成員 (cluster member)、
會議控制及影音串流處理。此外，使用者資源只分享於叢集內部。 
本計畫貢獻主要在於提出一個能夠兼具穩定、可靠且擴展性高的多媒體會議系統架
構，又同時藉由分享使用者資源來降低系統的通訊成本。在我們的系統中，一個資源充裕
3 
達到分散系統負載、減少通訊成本以及突破服務規模等效用。 
3. 系統架構 
3.1. 系統架構 
我們提出的系統建構在 IP 傳輸網路之上，由多媒體會議骨幹網絡和使用者所構成，其
中使用者藉由形成叢集並透過叢集運作來和骨幹網絡交換訊息，如圖 1所示。我們底下針
對多媒體會議骨幹網絡與叢集作介紹。 
 
 
圖 1 系統架構 
3.2. 多媒體會議骨幹網路 
多媒體會議骨幹網絡保留緊密耦合模型的架構，並且由多個服務元件所組成，其中
Focus 和 mixer 的功能如第二章所介紹。在我們的架構中，我們部署一個 Focus 和數個
mixer，並以階層式處理多個來源串流，此外由於我們使用 SIP 作為信令控制的協定，因
此也部署了多部信令處理伺服器 (signaling server)，亦即 SIP 伺服器。 
系統包含依據 RFC3261 所定義的 SIP 伺服器[3]:註冊機 (Registrar)、導向伺服器 
(Redirect) 和代理伺服器 (Proxy)。在我們的系統中，提出一個新的信令處理伺服器功
能─叢集管理，其負責管理所有的叢集，提供建立、解散叢集以及維護叢集狀態、成員資
訊的功能。圖 2 是我們所設計的叢集管理細部功能區塊。 
 
 
圖 2 叢集管理細部功能區塊 
5 
完成認證。如果透過叢集來登入，則必須在認證完成之後，加入此叢集。圖 5 說明完整的
使用者登入流程，我們簡述如下: 
 1: 首先使用者終端機會先檢查有無優異者名單(Superior list)，優異者名單是我們設
計用於尋找叢集頭的一個機制，如圖 6 所示的一個範例。如果存在此名單，則進行 2(a)。
沒有，則進行 2(b)。 
 2(a): 根據此名單發送認證請求，有回應表示有叢集頭存在，使用者透過它進行認證。
如果沒有回應，則跳至 2(b)。 
 2(b): 直接與信令處理伺服器做認證動作，並在同時取得最新的優異者名單。 
 3: 完成認證之後，信令處理伺服器會更新使用者的檔案。 
4.2. 叢集機制 
4.2.1. 心跳機制 
我們利用 RFC3265 所擴充的 SIP 應用─特定事件通知架構 (Specific Event 
Notification) 來設計心跳機制[1]。心跳機制包含兩個已定義的事件，第一種事件是我們
自己定義的“叢集”事件 (“cluster” event)，叢集成員向叢集頭訂閱此事件表示加入
此叢集之意，而信令處理伺服器也會向所選定的叢集頭訂閱此事件，因此整個叢集的關係
與叢集頭的指定就可以經由這樣的行為來建立，如圖 7 的示意圖。此事件針對每位叢集成
員定義了一個簡單的有限狀態機，如圖 8所示，根據這個有限狀態機的狀態變換，“叢集”
事件可以針對叢集成員的變動發送變動通知，通知訊息會加入叢集變動的資訊。此外，除
了成員之外，此事件也會定期發送通知(虛擬的狀態變換)，並且根據使用者有無回應來偵
測是否有異常的狀況，同樣的，信令處理伺服器也針對叢集頭是否有發送通知來偵測叢集
的異常狀況。 
另一事件為 RFC3515 所定義的 REFER訊息[5]，利用此訊息可以引導使用者對訊息所提示的
URI 位址進行動作，而在本機制的設計中，使用者如收到 REFER 訊息，則會對提示的 URI
位址作更新認證並訂閱“心跳”事件。此事件在心跳機制中，主要作為叢集變動時的引導
之用。 
 
圖 7 心跳機制模型 
Init
Active
Terminated
subscribed
expired
deactivated
unsubscribed
rejected
 
圖 8 描述叢集成員行為的有限狀態機 
 
7 
(P2P Mixer) 來處理會議的媒體串流。這樣的會議設計能夠完全地經由使用者來處理，因
此不會佔用系統資源。 
跨叢集會議或是資源不足的叢集內部會議，將會交由多媒體會議骨幹網絡來處理，如
圖 10 所示，其運作類似於一般緊密耦合模型。 
5. Mixer 資源分配與系統實作 
5.1. Mixer 資源分配機制之設計 
在系統設計過程中，我們發現當叢集機制開始運作時，Cluster Head 將面臨資源管理
的問題，如何運用 Cluster 內部有限的資源，服務更多的使用者，這將是 Mixer 資源分
配機制設計之目標。 
因此，本計畫針對 Intra Cluster Conference Call 設計一 Mixer 資源分配機制，並
且提出以下幾點假設： 
1. P2P Focus 動態分配 Cluster 內部 P2P Mixer 給予 Intra Cluster Conference 
Call，協助聲音與影像資料混合，以降低 Conference Provider 之集中式 Mixer 
之負載。 
2. 會議進行中，P2P Mixer 可以轉移。會議聲音與影像混合工作，可以由某一台 P2P 
Mixer，轉移到另一台 P2P Mixer。 
3. 假設使用者可以接受 P2P Mixer 轉移所造成的短暫通訊中斷。由於 P2P Mixer轉
移，可能會造成會議通訊短暫中斷，其中斷時間與效益問題在此不考慮，未來可
以再做更深入討論。 
因此，本計畫將此問題轉換成數學最佳化問題，其數學式如下： 
 Given Variables: 
 
 Decision Variables: 
 
 Objective: 
 
9 
力，並且根據 URI-list 上的 URI 邀請成員至會議。 
 Video Mixer Server：提供會議成員 Video Stream 混合功能，將每一個成員的 
Video Stream 加以混合，整合為一個框架包含多位成員的影像。 
 SIP UA: 提供 UAC (User Agent Client) 及 UAS (User Agent Server) 基本功
能，可作為撥打電話端，以及接受電話端兩種身分。除此之外，SIP UA 必須支援 
Conference Call 與 URI-list 處理能力。 
本系統 Conference Server 與 SIP UA 實作成果分別展示於圖 12 與圖 13。Video Mixer 
雖然已實作成功，但我們發現僅利用軟體進行 Video Mixing 動作，PXA270 的處理能力不
足，因此在會議進行時畫面會有停格現象，甚至會造成 SIP UA 不正常斷線。因此，我們
可以發現 Video Mixing 是一件非常耗系統資源的工作，如何改善其效能皆是未來可以努
力的方向。 
 
圖12 Conference Server - Intel IXP 465 嵌入式系統
 
圖13 SIP UA – Intel PXA 270 嵌入式系統
 
 
Call setup delay
0
0.2
0.4
0.6
0.8
1
1.2
1.4
1.6
1.8
0 6 10 14 18 22
hour
s
最大值
平均值
最小值
 
圖 14 Conference Call Setup Delay 分佈曲線 
11 
計畫成果自評 
 
 原計畫與已達成之研究成果 
1. 原計畫為三年延續型計畫，第一年預計完成叢集式多媒體會議軟性網路之需求規
範、叢集式多媒體會議軟性網路系統架構設計、以及合作與感知之服務搜尋與叢
集機制設計與發展；第二年預計完成叢集式多媒體會議控制機制設計、叢集式多
媒體會議軟性網路服務資源規劃方法，以及服務資源管理-會議允許控制機制設
計；第三年預計完成服務資源管理-話務品質動態調整機制之設計、系統模擬與分
析，以及服務模型改良與發展。 
2. 今年度本計畫已完成三大研究成果，(1) 叢集式多媒體會議軟性網路相關規範研
究與探討；(2) 叢集式多媒體會議軟性網路系統架構設計；(3) 叢集機制設計；
(4) P2P Mixer 資源分配機制設計；(5) 嵌入式系統雛型實作。 
3. 在嵌入式系統雛型實作部份，本研究透過 Asterisk Open Source 軟體為基礎，
增加 URI-list 功能與 Video Mixer 資源動態分配機制，以 IXP 465 嵌入式系
統實現系統雛型；並且以 OPAL 與 minisip 兩種 Open Source 為基礎，以 PXA 
270 嵌入式系統實現支援 Ad-Hoc Conference 之 SIP UA。 
4. 因此，本研究成果與原計畫完全相符，並且完成第二年預計討論的叢集式多媒體
會議控制機制設計，以及服務資源規劃方法。這些研究成果，未來將作為本人 97
年國科會計畫 (NSC-97-2221-E-343-003)，研究叢集式隨意點對點多媒體會議服
務系統及資源最佳化管理之重要研究基礎。 
 
 研究成果之學術與應用價值 
1. 本研究初步成果與相關延伸之研究成果已發表於國內外學術研討會。 
 2007 ICSNC 國際研討會論文一篇 
 2008 RIVF 國際研討會論文一篇 
 2008 全國電信研討會 (NST 2008) 論文兩篇 
 2008 台灣網際網路研討會 (TANET 2008) 論文三篇 
2. 本研究設計與發展之叢集式多媒體會議服務系統，目前已於嵌入式系實現與測
試，具應用與產品化之價值。 
 
出席國際學術會議心得報告 
1. 
計畫編號 NSC-96-2221-E-343-001 
計畫名稱 叢集式多媒體會議軟性網路之設計與研究 
出國人員姓名 
服務機關及職稱 
蘇暉凱, 南華大學資訊工程學系, 助理教授 
會議時間地點 Cap Esterel, 尼斯, 法國 
會議名稱 
The Second International Conference on Systems and Networks 
Communications (ICSNC 2007) 
發表論文題目 IP Local Node Protection 
 
一、參加會議經過 
 
ICSNC 2007 今年舉辦於法國尼斯附近的一個小鎮 Agay， Cap Esterel 飯店，由 IARIA 
組織主辦 (http://www.iaria.org/)。會議時間從 2007/8/25 至 2007/8/31，共歷時六天，正式論
文研討會議於 2007/8/27 開始。ICSNC 2007 今年論文接受率平均為 34%，共收錄 85 篇論
文。 
 
由於航班行程與轉機關係，當地時間 8 月 29 日抵達尼斯國際機場後，即前往 Cap 
Esterel 會場註冊，會場中與大會主席 Petre DINI Adj. Professor 交換一些意見，以及最近一
年 IARIA 組織所舉辦的活動。如圖 1，本人為左邊第一位，左邊第二位與右邊第一位分別
為中正大學電機系吳承崧教授與朱元三教授，右邊第二位為大會主席 Adj. Professor Petre 
DINI。 
 
 
 
圖 1: 與大會主席 Adj. Professor Petre DINI 合影 (右二) 
2. 
計畫編號 NSC-96-2221-E-343-001 
計畫名稱 叢集式多媒體會議軟性網路之設計與研究 
出國人員姓名 
服務機關及職稱 
蘇暉凱, 南華大學資訊工程學系, 助理教授 
會議時間地點 胡志明市, 越南 
會議名稱 
2008 IEEE International Conference on Research, Innovation and Vision for the 
Future (RIVF 2008) 
發表論文題目 
A Framework for QoS-Oriented SIP Multimedia Conference over 
DiffServ/MPLS Networks 
 
一、參加會議經過 
 
RIVF 2008 今年由越南胡志明市  University of Natural Sciences 主辦，並舉辦於 
University of Natural Sciences 校區。會議時間從 2008年 7月 13日至 2008年 7月 17日，共
歷時五天。RIVF 2008 今年共收到 176 篇文章，僅接受 51 篇長篇論文，接受 37 篇短篇論
文，以及 11 篇壁報論文，論文接受率約 56%；會議論文發表依研究主題分類，同一時間三
個 Session 同時進行。 
 
本人 7/12 早上從高雄小港機場出發，飛往胡志明市，由於胡志明市當地公共交通比較
不方便，因此這趟行程比會議行程提早一天到達，先熟悉當地環境與安頓住宿問題。7/13 大
會安排 Tutorial 課程，本人雖然沒有參加 Tutorial 課程，但先瞭解 University of Natural 
Sciences 地點與相關交通資訊。 
 
7/14 開幕式，一開始由 Chair Vu Duong 致詞，VNU-HCM Vice President Le Quang Minh 
介紹 RIVF 近幾年辦的活動與未來發展，從早期在法國當地舉辦 (以法語為主)，到以英文為
主的國際會議，一直到去年受到  IEEE Communications Society 與  IEEE Computational 
Intelligence Society 支持。最後由 RIVF08 PC Chair Tu-Bao Ho 介紹今年相關委員與論文收錄
狀況，由統計數據可以發現，本次會議南韓與越南學者所發表的論文相當多，台灣部份只看
到彰化師範大學資工系詹益禎教授發表的 ”A Competitive Delay-Based TCP” 與本發表之論
文。 
 
RIVF 2008 壁報論文可以張貼整個會期，因此 7/14 本人即於會場張貼與解說論文，如
圖 2。在會議進行中，亦參加幾場有興趣的 Session，收集一些較新的研究主題，如圖 3。所
收集之重要資訊彙整如下： 
 
1. Keynote Speaker, Prof. Yong Jin Park (Hanyang University, Keroa)，介紹亞洲 Internet 
相關組織活動與未來發展，未來亞洲地區對 Internet 發展與貢獻，將扮演重要角色。 
2. Nguyen Xuan Quy, Dugki Min, Eunmi Choi 發表 “An Energy-Efficient Data 
Dissemination Protocol for Grid-Based Wireless Sensor Networks”，介紹如何設計 
Protocol，在 Grid-Based Wireless Sensor Networks 中，週期性追蹤 Mobile Node 位
置，以達到省電之目標。 
3. Hung Quoc Vo, Choong Seon Hong 發表“A Novel Scheme for Seamless Hand-off in 
Wireless Mesh Networks”，利用統計 Channel Idle Time 推算無線 Channel 剩餘可
 圖 2：壁報論文張貼與解說 
 
 
圖 3：RIVF 2008 會場 
 
 
二、與會心得 
 
這次參加 RIVF 2008 研討會收穫良多，在此會議本人瞭解近年 Multimedia System, 
