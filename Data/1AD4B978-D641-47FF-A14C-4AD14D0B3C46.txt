 
近幾年許多國家紛紛投入機器人的研究
與開發，其目的就是希望透過機器人提供民眾
更便利的生活娛樂與協助[1,2]，然而嵌入式系
統主要為特定功能量身訂做的系統，利用嵌入
式系統開發機器人，不僅可以整合許多周邊裝
置，並且提供比單晶片更快的運算速度。全世
界首富微軟公司（Microsoft）的總裁比爾蓋茲
(Bill Gates)更預測機器人產業將是下一個熱
門的研究領域，他預言在未來家庭中，機器人
的應用就會像現在個人電腦在家中使用一樣
普及。 
 
由於嵌入式系統主要為特定應用而開發
設計的系統，因此在嵌入式系統上應用軟體的
開發具有量身定做的特性[3]。目前設計重心
已從電腦為主的設計轉向以消費者為主的設
計。在這種市場趨勢下，許多產業紛紛朝網路
架構以及互動性、相容性高的系統軟體為開發
的首要目標。此舉，不但可以節省人力資源成
本，配合了嵌入式系統的多功能化，也滿足了
消費者嘗新求變的心態。 
 
因此，在未來居家生活裡，會越來越多的
機器人融入我們的生活中為我們服務，然而室
內定位與影像監控將會是其中重要的環節
[4,5]。因此本計畫將以智慧生活空間為目標。
開發出可以讓使用者透過瀏覽網頁方式遠端
監控室內環境的機器人。 
 
然而，針對室內而言，對很多的應用，
找出正確的位置是非常重要的一環。由於受到
隔間、電梯、設備或其他的設施的干擾，造成
了相當多不確定的環境因素。這些變數，造成
訊 號 的 散 射 (Scattering) 、 多 路 徑
(Multi-pathing)、及衰減(Attenuation)。國內外
也有不少專家學者也透過不同的訊號頻率與
協定來解決此問題，其中包括透過(a)超音波
(Ultrasonic)的方式[7]，(b)手機(Global System 
for Mobile communications, GSM) 的 方 式
[8,9]，(c)無線網路(Wi-Fi)的方式[10,11]，(d) 
主 動 式 射 頻 標 籤 (Radio Frequency 
Identification, RFID) 的方式[12,13]，(e) 無線
感 測 網 路 (ZigBee) 的 方 式 [14,15] ， 及 (f) 
Ultra-Wideband Radios[16]等。 
 
本論文主要是開發一套系統能夠協助使
用者外出不在家時，可以透過網際網路遠端登
入本系統並且監控室內的周遭情況。因此本論
文透過 DMA-PXA270 的嵌入式開發板配合
Embedded Linux 2.6.9 開發出結合室內定位、
即時影像擷取、環境感知、機器人與影像監控
模組的視訊鏡頭方向控制等功能，同時透過全
向輪設計機構在室內多角度的移動，完成具遠
端監控的室內機器人系統。  
 
1. 研究方法及系統設計 
本 系 統 示 意 圖 如 圖 1 所 示 ， 以
DMA-PXA270 嵌入式開發平台為核心，並以
Embedded Linux 2.6.9 為作業系統，並結合馬
達驅動控制系統、無線通訊系統、人機介面系
統、即時影像擷取系統、ZigBee 定位系統與
環境感知系統架設一個可透過具備網路與網
頁瀏覽器的電腦、PDA 或手機來下達控制訊
號與查看資訊，其包含環境感知資訊、即時影
像與定位資訊等。 
 
 
圖 1. 系統示意圖 
 
本計畫設計目的當民眾不在家時，可透過
網路遠端監控室內的情況，因此設計了具遠端
監控的室內機器人系統。本系統架構主要分為
兩部份，分別為室內行動機器人與可移動式影
像監控模組。室內行動機器人負責監控整個室
內的環境，主要包含無線通訊系統、人機介面
系統、即時影像擷取系統、環境感知系統、馬
達驅動控制系統與 ZigBee 定位系統等功能。 
 
可移動式影像監控模組則是提供當室內
行動機器人無法到達的區域或者監看視野角
度時，可切換另一個視野角度查看，其功能包
含了無線通訊系統、ZigBee 定位系統與馬達
驅動控制系統等功能。本系統架構圖如圖 2
所示。 
訊號，最後訊息將透過無線網路以網頁方式傳
達給使用者。 
 
 
圖 5. 無線通訊資料傳遞示意圖 
 
(d) 環境感知系統： 
    本計畫中環境感知系統設計與規劃可分
為室內行動機器人感知系統與室內環境感知
系統。室內行動機器人感測系統主要以 Stamp 
2 與 PSoC 為主。Basic Stamp 2 連接兩組超音
波感測器偵測周圍是否有無障礙物，透過電子
羅盤訊號判斷目前室內行動機器人朝向的方
位以及溫溼度感測器測量目前室內溫度與溼
度，而 PSoC 連接馬達編碼器，透過 UART
將馬達編碼器資訊回傳到核心系統，即可得知
目前機器人的移動方向與速度。 
 
    另一個室內環境感知系統主要以 ZigBee
系統為核心，主要將 TI2430 參考節點連接環
境感測板，其感測板包含紫外線、溫度、溼度
與光線感測器，此環境感測板可放置於室內任
何位置，透過 ZigBee 將感測資訊傳送到協調
器，再經由協調器傳送到核心系統並於網頁上
即時顯示出來，讓使用者即可得知目前室內環
境情況。圖 6 為環境感知系統方塊圖。 
 
 
圖 6. 室內行動機器人感測系統方塊圖 
 
    在室內行動機器人軟體介面部分主要可分
成 (a)即時影像擷取系統、(b)互動式網頁等二
個子系統。 
 
(a) 即時影像擷取系統： 
    本系統主要將移植 Web CAM 視訊模
組。並在 Embedded Linux 2.6.9 上架設 Httpd 
Web Server，而即時影像擷取是透過 DMA 
PXA-270 連結 Web CAM 視訊模組，最後顯示
於系統網頁上。透過 Embedded Linux 2.6.9 移
植Web CAM晶片驅動程式，採用Video4Linux
的視訊影像採集方式，利用靜態掛載視訊的驅
動方式，以增加系統的便利性。影像擷取包含
Frame buffer 的架構，是利用 map 向 kernel 
映射出「顯示記憶體」區塊，當任何程式將影
像資料以 RGB (RGB16) 的格式填入此一區
塊時，就能顯示於螢幕上。 
 
    而 Video4Linux，則提供非常方便的介
面，讓程式可以輕易的控制影像擷取裝置。透
過 Video4Linux 與影像串流伺服器的結合，既
可以把影像擷取裝置所擷取的影像顯示於影
像視訊串流伺服器上。影像串流伺服器是在
DMA PXA270 中執行 Spcaserv 影像擷取伺服
器發送影像串流，同時 JAVA 視訊網頁以 FTP
方式即時獲取影像擷取伺服器發送影像串流
結合而成，其視訊擷取架構圖如圖 7 所示。 
 
 
圖 7. 視訊擷取架構圖 
 
(b) 互動式網頁： 
    互動式網頁提供使用者可隨時透過網際
網路連結網頁伺服器，其網頁主要採用HTML
設計，並利用 CGI 提供網頁伺服器與外部溝
通的橋樑，實現交互動態網路服務。本系統網
頁可提供使用者監控機器人目前各模組狀與
環境感測資訊，目前互動式網頁包含即時定位
視窗、可選擇鏡頭監看的即時影像視窗、可察
看感測資訊與控制視窗，各網頁配合著所屬的
CGI、JAVA 程式實現交互動態網路服務。 
 
本系統在進行路徑規劃時，會透過查詢室
內空間資訊系統的資料，儘量避免經過障礙物
（家俱、牆壁等），但是若是遇到可移動家俱
有搬動位置時，除了會動態配合室內定位與影
像辨識進行室內空間資訊系統的更新。機器人
的避障演算法是將下一點座標當作目標，採用
吸力與斥力的原理來設定機器人行走軌跡
[17,18]，如圖 11，當前方沒有阻擋時，機器
人行徑方向是朝著目標前進（吸引力），當感
測模組偵測到前方有障礙物時，垂直於障礙物
則會出現一個排斥力，而兩個力會合成一個合
力，導引機器人避開障礙物，當機器人離開障
礙物後，又會自動被吸引力吸引，而轉向目標
繼續前進。當機器人完成一個「目標」，將會
自「任務佇列」中取出下一個任務點，然後繼
續完成它，直到任務完成為止。 
 
 
圖 11. 透過吸力與斥力的原理來執行避障 
 
3. 軟體開發環境 
 如同之前所述，本計畫核心系統與馬達驅
動控制系統由於使用的硬體晶片與作業系統
不同，因此針對此部分的軟體開發環境作說
明。 
 
3.1 核心系統 
本計畫透過Embedded Linux 2.6.9上架設
Httpd Web Server，而影像畫面擷取是透過
DMA PXA-270 連結 Web CAM 並以網頁視訊
串流伺服器方式顯示於網頁系統上。 
 
透過 Embedded Linux 視訊 Web CAM 驅
動程式的掛載，配合影像擷取包含 Frame 
buffer 的架構，是利用 map 向 kernel 映射出
「顯示記憶體」區塊，搭配 Video4Linux 的視
訊影像採集功能，將影像資料以  RGB 
(RGB16) 的格式填入此一區塊時，就能顯示
於螢幕上。 
 
透過 Video4Linux，則提供非常方便的介
面，讓程式可以輕易的控制影像擷取裝置。透
過兩者的結合，既可以把影像擷取裝置所擷取
的影像顯示於影像視訊串流伺服器畫面上。影
像 串 流 伺 服 器 是 在 核 心 系 統 中 執 行
Spcaserver 影像擷取伺服器發送影像串流，同
時 JAVA 視訊網頁以 FTP 方式即時獲取影像
擷取伺服器發送影像串流結合而成，其影像串
流伺服器獲取影像示意圖如圖 12 所示。 
 
 
圖 12. 影像串流伺服器獲取影像示意圖 
 
3.2 馬達驅動控制系統 
馬達驅動控制系統的軟體主要採用
Parallax 公司的 Basic Stamp 2 Editor，主要是
提供一個可以撰寫與編譯的整合環境，這個整
合環境的指令與操作，與 Microsoft Visual 
Basic 的環境相當類似, 但因為某些指令集為
Parallax 公司專為 Basic Stamp 2 晶片所開發, 
所以該套程式語法稱為 PBASIC。 
 
Basic Stamp 2 其實是一個簡單的小型電
腦，它具有記憶體（EEPROM）可以儲存使
用者所開發的程式；並且具有輸出輸入裝置
（ I/O），這些輸出輸入的裝置可以利用
PBASIC 語法，很容易便可以去規劃及使用，
例如去達成一些馬達控制，迅速完成機器人系
統或是機電整合系統。 
 
4. 結果與討論 
本計畫利用DMA-PXA270嵌入式開發平
台為核心系統，透過Basic Stamp 2開發感測系
統與馬達驅動控制系統，整合ZigBee定位完成
室內行動機器人、室內環境感知與控制裝置。
並透過系統網頁即時顯示室內行動機器人目
前位置，如圖13定位網頁視窗圖所示，透過網
用者可以透過網頁瀏覽器遠端設定巡邏的路
徑，並點選預先規劃好的標靶影像（如圖 17
下圖中點選人跟兔子），當機器人巡邏過程中
偵測到所設定的影像時，機器人將會自動瞄準
目標，並開槍射擊此目標。為了能夠提高機器
人移動的自由度，此系統改採用一個是由三組
馬達，夾角之間各差 120 度的全向輪馬達建構
而成，利用此種設計可以提供 360 度的自由
度，將可自由穿梭在室內外的空間；改良原先
履帶驅動無法左右平移功能，大大的提高自動
瞄準目標時的精確度，方便機器人進行自動瞄
準及射擊的動作，此成果參加教育部舉辦的
「2008 DSP 數位訊號處理創思競賽」獲得創
意系統組競賽「第二名」的肯定。 
 
 
圖 17. 機器人影像辨別自動射擊系統[30] 
 
    另一方面，為了解決室內定位的精確度，
及方便應用到未來室內智慧生活空間的所
需，本實驗室嘗試將 RFID 被動標籤（Tag）
安置在室內地板上（未來將可將 RFID 標籤嵌
入在建材中），並在機器人底部安裝一個 RFID
讀卡器，透過讀取預先錄製好的 RFID 標籤，
即可獲知實際上行走的位置，同時透過影像辨
識，找出 5 元、10 元、50 元硬幣，並即時標
的在座標位置上；此機器人被命名「尋寶機器
人」，透過影像辨識及嵌入式系統的整合，可
以廣泛的應用在居家生活中[26]。如圖 18 所
示是尋寶機器人的動作示意圖及照片（右下
方），此成果在教育部舉辦的「2008 RFID 設
計與應用競賽」中榮獲應用組競賽「佳作獎」
的肯定。 
在本計畫中總共訓練三位研究生畢業
[23-25]，同時發表國內外會議論文 6 篇
[19-22,26-27]，同時參加國內競賽共 4 件獲獎
[28-31]。 
 
圖 18. 透過 RFID 標籤定位的機器人照片[29] 
 
7. 參考文獻： 
 
[1] J.H. Kim, K.H. Lee, and Y.D. Kim, 
“Ubiquitous Robot: Recent Progress and 
Development,” SICE-ICASE International 
joint Conference, Busan, Korea, 2006. 
[2] J.H. Kim, K.H. Lee, and Y.D. Kim, 
“Ubiquitous Robot: A New Paradigm for 
Integrated Services,” IEEE International 
Conference on Robotics and Automation, 
Roma, Italy, 2007. 
[3] 胡繼陽、李維仁、柯力群、 張志龍，“嵌
入式系統導論”，3e，學貫出版社，2004。 
[4] 蔡靖濤，“嵌入式網路行動影像監看系統
研製”，國立中興大學電機工程學系所碩
士計畫，2005，台中。 
[5] 張怡如，“無人載具嵌入式即時影像監控
及追蹤系統之開發”，國立台北科技大學
機電整合研究所碩士論文，2006，台北。 
[6] 張正東，”結合影像及紅外線感測於自動
導航車避障策略之設計”，國立台北科技
大學電機工程系碩士論文，2001，台北。 
[7] W.T. Kuang, and A.S. Morris, “Algorithm 
for robot position tracking using 
ultrasonics”, Electronics Letters 7th, Vol. 35, 
pp.87-88, 1999. 
[8] D. Ru, Z. Tong1, Z. Li1, and L. Gang, 
“Design and Realization of 
Omni-directional Mobile Robot Body Based 
on Zigbee Technology”, 2008. SEC '08. 
Fifth IEEE International Symposium on 
Embedded Computing, pp.207-211, 2008. 
[9] D.K.P. Tan, H. Sun, Y. Lu, M. Lesturgie 
and H.L. Chan, “Passive radar using Global 
System for Mobile communication signal: 
theory, implementation and measurements”, 
IEE Proceedings - Radar, Sonar and 
