 2 
目錄 
 
1. 報告內容……………………………………………………………………3 
 
2. 參考文獻…………………………………………………………………..17 
 
3. 計畫成果自評……………………………………………………………..18 
 
 4 
二、計畫的緣由與目的 
地面數位電視廣播(Digital Video Broadcasting-Terrestrial/Handheld, DVB-T/H)系統自九零年代提
出至現在無論是在歐洲或台灣皆已漸趨普及，台灣目前已有十數家數位電視頻道，當滲透率達 85% 
時即將全面開播數位電視內容，在消費者端，數位電視廣播的解調模組除了整合在液晶電視內，也
可見於個人電腦、汽車配備…等，由於數位通訊技術的進步與無線通訊的便利性，當全面開播數位
電視之後，可以預期的是數位電視廣播解調模組將會成為消費者不可或缺的一項產品，甚至成為汽
車內的標準配備，著眼於此，本整合型計畫期望藉由新式通訊技術的結合，提高此數位電視廣播解
調模組在汽車內的附加價值，因此提出將數位電視廣播系統轉為車輛間的行動視訊會議系統，讓消
費者除了享有原來地面數位電視廣播的寬頻影音服務之外，也可以藉由車輛間的行動視訊會議系統
來得到道路交通即時訊息的交換、車禍的救援、意外的排除、行動視訊會議的召開… 等。 
 
本整合型計劃在構建ㄧ基於正交分頻多工調變技術之平台且適用於車輛間行動視訊會議之系
統，為了達到此一目的，本整合型計畫在基頻通訊系統規格上主要依循 3GPP-LTE 之系統參數，並
具有多輸入輸出之多天線配置之考量，除了演算法性能的改善之外，也考慮硬體實作之複雜度與可
行性，最後即設計晶片來執行此一部份之功能，期望達成在車輛高速行駛下之高傳輸率無線通訊系
統。 
 
三、 研究方法及成果 
本計劃的研究成果主要包含完成低成本考量之快速傅立葉轉換處理器應用於 DVB-T/H 之晶片
設計之改善與應用於配合其他子計劃之需求的改善： 
A. Conflict-Free Parallel Memory Accessing Techniques： 
A key challenge in many communication applications is the hardware implementation of Fast Fourier 
transform (FFT) processor with large transform length. An in-place FFT is simply an FFT that is calculated 
entirely inside its original sample memory. The low-cost memory-based FFT (MBFFT) processors have 
been commonly employed. This paper presents an in-place signal flow graph (SFG) that describes the 
conflict-free memory addressing scheme and the butterfly Processing Element (PE) operation. Based on 
the SFG, a radix-2 MBFFT algorithm and the associated architecture are presented, and the control 
signals that meet the in-place FFT operation are derived with a highly regular structure. The key 
challenges include low cost, efficiency, and scalability for large-length FFT processors. 
Consider the radix-2 FFT algorithm with single butterfly processing element (PE) for N=2
r
 points, 
where r is any positive integer and two memory banks, R0 and R1 connected in parallel, are employed. 
Each bank consists of (N/2) elements. Fig. A1(a) illustrates a typical PE which takes two input data, one 
from each memory bank, and processes them, and stores the processed data back to the memory banks in 
two different ways in order to maintain the conflict-free memory accessing scheme: Exchange (XC) and 
No-Exchange (NX), as shown in Fig. A1(b). Fig. A1(c) depicts the detail operations of the PE. 
 
Fig. A1. Butterfly PE for Radix-2 FFT: (a) Typical; (b) Conflict-free; and (c) PE. 
 
 6 
The MBFFT processor is comprised of a butterfly PE and four two-to-one multiplexer (MUX) circuits. 
Two MUX circuits, MUX1 and MUX2, controlled by m1 and m2, adjust the order of processing data for 
R0 and R1, while the other two MUX circuits, MUX3 and MUX4, controlled by m3 and m4, are for the 
processed data. Fig, A3(b) shows the control signals of m1~m4. The signal generator includes a 5-bit 
counter, a RAM-address generator, and a ROM & MUX control signal generator. The 5-bit counter, as 
shown in Fig. A4(a), is comprised of a 3-bit counter which generates the address [k2k1k0] and a 2-bit stage 
counter which generates the stage counter [s1s0]. The RAM-address generator, as illustrated in Fig. A4(b), 
takes the signals [k2k1k0] as the addresses of R0 and generates the addresses of R1 by XORing the signals 
with the signals h2, h1, and h0 which are generated by a 3-bit shift register whose functions are shown in 
Fig. A4(c).  
 
 
Fig. A4 Control Signal Generator: (a) Counter; (b) RAM Address Generator; (c) h-signals; and  
(d)&(e) ROM Address Generator and MUX Control Signals. 
 
Finally, based on the ROM & MUX control signals listed in Fig. 4(d), the signals can be generated by 
a 3-bit barrel shifter with the control signals hi‟s in Fig. 4(c), a XOR gate, and two inverters, as shown in 
Fig. 4(e). Note that the barrel shifter can be implemented with transmission gates for smaller area at the 
cost of delay overhead. However, the barrel shifter is operated only when the stage is changed and it is 
not on the critical path. 
In summary, for N=16, i.e., r=4, the control signal generator includes a 5-bit counter, a 3-bit shift 
register, a 4-bit shift register, 4 XOR gates, and two inverters. In general, for N=2
r
, let q=log2r, the 
signal generator is comprised of a (r+q-1)-bit counter, r XOR gates, and two inverters.  
The proposed FFT architecture has been designed and simulated with TSMC 0.18um 1P6M digital 
CMOS process, where the memories and control circuitry were synthesized by the Artisan Tool and 
Design Compiler, respectively. A radix-2 MBFFT with N=8192 points is implemented, where each word 
contain 24 bits, i.e., 12 bits in complex numbers. For N=8192, i.e., r=13, and q= q=log2r=4. A 
(12+4)-bit counter is needed to generates the addresses [k11k10...k1k0] and [s3s2s1s0] for stage count. The 
control signal generator is illustrated in Fig. A5. 
The MBFFT processor takes two 4K RAMs and a ROM. In this implementation, both single-ported 
and dual-ported memories have been implemented. Fig. 6 shows the layout view of the proposed MBFFT 
processor designs with dual-ported and single-ported memories. Fig. A6(a) shows the layout of the 
MBFFT processor with dual-ported memories. The core area is 2.026x2.035, or 4.12mm
2
. The 
post-layout simulation result shows that the maximum work frequency is approximately 117 MHz. 
The total area of the two 4K dual-ported RAMs is approximately 82.03% of the total area, or 
3.38mm
2
. The ROM takes approximately 10.25%. On the other hand, the PE and control logics (including 
MUXs) require only 2.13% and 0.71%, respectively. The data show that the control logic is very simple 
for this implementation, while the area of PE is also not significant. 
Fig. A6(b) shows the physical layout of the radix-2 MBFFT processor with single-ported RAMs. The 
 8 
B. ROM-Based Twiddle Factor Generator for Radix-2 FFT Processors with Parallel Processing Elements 
A key challenge in many communication applications is the hardware implementation of Fast Fourier 
Transform (FFT) processor with large transform length. Twiddle factor (TF) generator is also a key 
component. The required twiddle factors are generally assumed to store in ROMs in advance and to 
retrieve for butterfly multiplication. Efficient TF generators with small area and high speed performance 
have been developed. Recently, the low-cost, in-place memory-based FFT (MBFFT) has been commonly 
used with multiple butterfly processing elements (PEs) to speed up performance for large-length FFT 
operations. The advantages of efficient TF generator may be offset due to the need of multiple TF 
generators in such implementation. Thus, this paper presents a ROM-based TF generators and a 
conflict-free ROM addressing scheme so that the ROM table can be shared by all PEs. The conventional 
(N/2)-words ROM is partitioned into many smaller ROM tables which have the total of (N/2)-words. 
Twiddle factor (TF) generator is a key component in FFT/IFFT computation. The required twiddle 
factors are generallyassumed to store in ROMs in advance and to retrieve for butterfly multiplication. 
This normally ends up with a very large lookup table in comparison with the core FFT processing 
elements and main data memory, particularly for long-point FFT with 8192 points used by DVB-T/H. 
For the MBFFT with two parallel PEs, two different twiddle factors may be required by both PEs 
simultaneously, and thus two TF generators may be needed. Further, the MBFFT with four parallel PEs 
may require four TF generators, and so on. Even efficient TF generators developed are employed, their 
advantages of small area and high speed performance may be offset due to the need of multiple copies.  
Consider the radix-2 MBFFT with N=2
r
, a butterfly PE performs the following computations for the 
processing data pair x[n] and x[(N/2)+n] with an index-difference of (N/2), 
y[n] = x[n] + x[(N/2)+n]  (1) 
y[(N/2)+n]= (x[n] - x[(N/2)+n])WN
n
  (2) 
where WN
n
 is the twiddle factor stored in a ROM. 
Based on the SFG of a FFT, the twiddle factors required by the PE at various clock cycles in each 
stage are tabulated with their associated addresses in Fig. B1(a). The addresses of the twiddle factos 
required by the PE at the cycle (k2k1k0) are (1k2k1k0), (k21k1k0), (k2k11k0), and (k2k1k01) for Stage 0, 1, 2, 
and 3, respectively. For simplicity of presentation, the twiddle factor (TF) table simplified as described in 
Fig. B1(b). Suppose that the twiddle factors are stored in ROM with the addressed presented in Fig. B1(c). 
The twiddle factors in Fig. B2(b) are then replaced by their ROM addresses, as shown in Fig. B2(d). In 
other words, the entry in Fig. B1(d) represents the ROM address which store the twiddle factor required 
by the PE at the indicated cycle and stage. Further, it is not necessary to memorize the ROM addresses in 
the implementation, the addresses can be expressed in terms of k2, k1, and k0 as k2k1k0, k1k00, k000, and 
000 for stages 0, 1, 2, and 3, respectively, as illustrated in Fig. B1(e). 
 
 
 10 
The ROM-based TF generator for radix-2 MBFFT with N=2
r
 and with single PE is comprised of a 
ROM Addresses Generator (RAG) and (N/2)-words ROM. The ROM is connected to the PE thru a 
pre-fetched register as the buffer. Similarly, the ROM-based TF generator for MBFFT with N=2
r
 and 
with 2
w
 parallel PEs requires 2
w„s (N/2w+1)-words ROM sub-tables shared by all PEs. 
 
Property 3. 
Let PE#u, u=0,1,..,(2
w
-1), or u=(uw-1,...,u1,u0), be the 2
w
 parallel PEs of a radix-2 MBFFT with N=2
r
. 
The initial ROM table is initialized as TF(ROM#u)=TF(PE#u). 
 
Algorithm 1 summarizes the the ROM table Generation process. The process is comprised of three 
steps: (a) Derive initial solution; (b) Adjustment; and (c) Conflict-free verification. 
 
For a radix-2 MBFFT with N=2
r
 and two PEs, the twiddle factors wj at Stage 0 is expressed as 
j=(kr-3,..,k1,k0,u), where u=0 or 1. At PE#0, i.e., u0=0, and PE#1, i.e., u0=1. Fig. B5(a) shows the twiddle 
factors required by both PE#0 and PE#1, respectively. Fig. B5 illustrates the RAG of the MBFFT with 
N=2
r 
and four PEs. 
      
A key challenge in many communication applications is the large-length FFT hardware 
implementation, where the memory dominates the entire cost. An in-place FFT is simply an FFT that is 
calculated entirely inside its original sample memory. Thus, it is required only N-word memory for the 
N-point FFT processors. Developing a conflict-free memory management scheme for the in-place FFT is 
absolutely necessary. Its key challenges include efficiency, scalability, and low cost for large-length FFT 
processor. 
 12 
the receiver diversity can deal with maintaining the acceptable system performance in the crucial 
operation environments. Achieving a successful design means the system should be able to support 
different operating modes required by diverse application. This is the reason why reconfigurable 
hardware has been paid more attention recently. 
Consider the conventional signal flow graph (SFG) of a FFT processor with N=2
r
, for any integer r. 
The SFG implements with the decimation-in-frequency (DIF) radix-2 FFT algorithm, and it is comprised 
of r stages. Fig. C1(a) shows a conventional (16-8-4-2-1)-SFG with N=32. In general, a SFG can be 
permuted in different forms while still maintaining the same functions if their data dependencies are not 
altered. As such, all permuted SFGs have the same index-differences of 2
r-1
, 2
r-2
, ..., 2, and 1 at Stages 0, 1, 
2, ..., and (r-1), respectively. The conventional (2
r-1
-2
r-2
-..-4-2-1)-SFG with N=2
r
 can be permuted as a 
(2
r-w-1
-..-2-1-2
r-w
-...-2
r-2
-2
r-1
) -SFG if the input data are partitioned into 2w groups, G(i), i=0,...,2
w
-1. Let 
(aw-1,...,a1,a0) be the binary representation of i, and g is the binary value of its bit reverse, (a0,..., aw-2,aw-1), 
i.e., 
g = a0*2
w-1
 + a1*2
w-2
 + ...+ aw-2*2
 1
+ aw-1  (1) 
 
Property 1. 
G(i) contains the following input data 
 G(i)[k] = 2
w
 *k + g.  (2) 
where k=0,1,...,2
r-w
 -1, and g is defined in (1). 
 
For p=2, i.e., w=1, by (2), 
 G(0)[k] = 2*k; and G(1)[k] = 2*k + 1  (3) 
where, k=0,1,.., 2
r-1
-1. Both G(0) and G(1) contain even- and odd-numbered input data, respectively. For 
N=32, or r=5, the conventional (16-8-4-2-1)-SFG in Fig. C1(a) is permuted as a (8-4-2-1-16)-SFG with 
p=2 groups, G(0) and G(1), as shown in Fig. C1(b), where the input data are tabulated in Fig. C1(c). For 
p=4, i.e., w=2, by (2), 
G(0)[k]=4*k; G(1)[k]=4*k+2; 
G(2)[k]=4*k+1; G(3)[k]=4*k+3;  (4) 
where k=0,1,...,2
r-2
-1. 
 
 
 
The conventional (16-8-4-2-1)-SFG with N=32 in Fig.C1(a) is permuted as a (4-2-1-8-16)- SFG with 
p=4 groups, G(i), i=0~p-1, as shown in Fig. C1(d), where the input data in four groups are tabulated in 
 14 
      
Fig. C4 shows the MBFFTP4 processor with N=2r. The MBFFTP4 processor is comprised of two 
MBFFTP2 processors. Thus, an MBFFTP2
w
 processor with N=2
rw
 contains 2
w
 MBFFT1 processors with 
(2
r-w
) points. In addition, the processor also contains (2
w
-1) DMUXs in w levels at its input portion, and 
(2
w-1
*w) MUX pairs in w levels. Note that all MBFFT1 processors share the same ROM and control 
signal generator. 
Due to high scalability of the proposed in-place MBFFT processors with multiple PEs connected in 
parallel, the homogenous PEs inherently possesses high reconfigurability. An in-place MBFFTP2
w
 
processor with N=2
r
 can be configured into one MBFFTP2
w
 processor, or two MBFFTP2
w-1
 processors, 
or four MBFFTP2
w-2
 processors, etc. It is also possible to have one MBFFTP2
w-1
 processor and two 
MBFFTP2
w-2
 processors, and etc.  
A reconfigurable MBFFTP2
w
 processor takes the MBFFTP2
w
 processor with additional (2
w
-1) 
MUXs. Each MUX takes two inputs, one from external and the other from the output of a DMUX. Fig. 
C5(a) shows the MBFFTP8 processor, i.e., w=3, while its reconfigurable form is illustrated in Fig. C5(b), 
where there are 3 levels of MUX pairs and each level has four MUX pairs. The reconfigurable MBFFTP8 
processor can be configured as two MBFFT4 processors in Fig. C5(c) and C5(d). The reconfigurable 
MBFFTP8 can configure to the following 10 configurations: 
 {(8), (4,4), (4,2,2), (4,2,1,1), (4,1,1,1,1), 
(2,2,2,2),(2,2,2,1,1),(2,2,1,1,1,1), 
(2,1,1,1,1,1,1),(1,1,1,1,1,1,1,1)} 
where the index i represents MBFFTPi processor. 
 
 
 
Table 1 shows the essential parameters of various OFDM standards/drafts. IEEE 802.11n with 
MIMO and other new features to improve the previous 802.11 standards; 3GPP-LTE is the last step 
toward the 4th Generation of radio technologies and provides 6 modes in FFT operations from 128~2048 
points; and DVB-T/H was proposed only for SISO configuration. 
 16 
Reconfigurable architectures have demonstrated better tradeoffs between algorithm flexibility, 
implementation complexity, and energy efficiency. This paper presents a reconfigurable homogeneous 
memory-based FFT processor (MBFFT) architecture integrated in single chip to provide hybrid 
SISO/MIMO OFDM wireless communication systems. 
This paper presents the reconfigurable MBFFT processor design. The in-place MBFFT processor has 
high scalability and can be operated with multiple PEs connected in parallel, the homogenous PEs 
inherently possesses high reconfigurability. For example, a reconfigurable MBFFTP8 processor can 
provide 10 different configurations. For example, the reconfigurable MBFFTP8 processor, one can 
configure it to one MBFFTP4 processor for DVB-T/H with N=8192, and two MBFFTP2 processors for 
two 802.11n applications with N=128. Many other configurations can be easily achieved. However, the 
reconfigurable structure has the design tradeoff among speed performance, throughput, power 
consumption, and system performance. The reconfigurable processors can perfectly fit to the applications 
of Software Defined Radio (SDR) which requires more hardware flexibility. 
 
 
 
 18 
計畫成果自評 
 
1. 研究內容與計畫相符程度: 100% 
 
2. 達成預期目標情況: 100%  
已完成一低成本考量之並列型記憶體式快速傅立葉轉換器,更進一步的發展將其延伸結
合至多輸入輸出系統中。 
 
3. 研究成果之學術或應用價值: 
研究成果有部分已經投稿會議論文及期刊，由於植基在 3GPP-LTE 系統參數上，故對產
業應用上也有幫助。 
 
4. 是否適合在學術期刊發表或申請專利: 
進行系統整合，以學術期刊發表整系統為目標。 
 
表 Y04 
二、與會心得 
During the conference, I have presented the paper entitled, “Reconfigurable Homogenous 
Multi-Core FFT Processor Architectures for Hybrid SISO/OFDM Wireless Communications.” 
Multi-core processors have been attracting a great deal of attention. In the domain of signal 
processing for communications, the current trends toward rapidly evolving standards and formats, 
and toward algorithms adaptive to dynamic factors in the environment, require programmable 
solutions that possess both algorithm flexibility and low implementation complexity. 
Reconfigurable architectures have demonstrated better tradeoffs between algorithm flexibility, 
implementation complexity, and energy efficiency. This paper presents a reconfigurable 
homogeneous memory-based FFT processor (MBFFT) architecture integrated in single chip to 
provide hybrid SISO/MIMO OFDM wireless communication systems. For example, a 
reconfigurable MBFFT processor with eight processing elements (PEs) can be configured for one 
DVB-T/H with N=8192 and two 802.11n with N=128. The reconfigurable processors can perfectly 
fit to the applications of Software Defined Radio (SDR) which requires more hardware flexibility. 
Signal processing has played an increasingly important role in wireless communications 
systems. Examples include wireless LANs, digital audio and television broadcasting systems, and 
personal communication systems. In wireless applications, fading due to multipath propagation 
severely impacts system performance. However, the effects of fading can be substantially mitigated 
through the use of diversity techniques in such systems via appropriately designed signal processing 
algorithms at both the transmitters and receivers. Practical, high-performance systems require that 
such diversity techniques be efficient in their use of resources such as power, bandwidth, and 
hardware cost and that they meet often stringent computational and delay constraints. 
The use of multiple antennas at the receiver, referred to as receive diversity, is easily exploited. 
In essence, multiple copies of the transmitted stream are received, which can be efficiently 
combined using the appropriate matched filter, i.e., maximal-ratio combining. As the number of 
antennas increases and the effective channel approaches an additive Gaussian noise channel, which 
simplifies communication. The diversity scheme had been presented the signal quality at the 
receiver on one side of the link by simple processing across two transmit antennas on the opposite 
side. The scheme may easily be generalized to two transmit antennas and M receive antennas to 
provide a diversity order of 2M. This is done without any feedback from the receiver to the 
transmitter and with small computation complexity. In recent year, many applications had been 
developed the diversity receiver against the operation environment. 
Orthogonal Frequency Division Multiplexing (OFDM) is employed in many communication 
systems as the primary modulation method such as ADSL, IEEE 802.11a/g, DVB-T/H, T-DMB and 
WiMAX. OFDM has many benefits including multipath interference resistance and high spectrum 
efficiency. Furthermore, by allocating variable number of subcarriers to uplink and downlink, their 
speeds can be varied. Typically, OFDM systems are custom designed to achieve required 
performance.  
Multi-core processors have been attracting a great deal of attention since they achieve both 
higher performance and lower power consumption by utilizing a number of computational 
resources in parallel at low clock frequency. In the domain of signal processing for communications, 
表 Y04 
三、考察參觀活動(無是項活動者省略) 
 
略 
 
四、建議 
 
I was the only technical committee member from Taiwan and will serve the committee member 
again for next year. 
 
五、攜回資料名稱及內容 
 
The information includes the design digest of technical papers in a CD ROM. 
 
 
六、其他 
 
 
 
98年度專題研究計畫研究成果彙整表 
計畫主持人：魏慶隆 計畫編號：98-2220-E-008-003- 
計畫名稱：植基於 DVB-T/H 規格之前瞻性車用無線視訊會議系統傳收機系統晶片之研製--子計畫二：
植基於 DVB-T/H 之前瞻性車用無線視訊會議傳收機系統晶片之快速演算法與可測試硬體實現(2/2) 
量化 
成果項目 實際已達成
數（被接受
或已發表）
預期總達成
數(含實際已
達成數) 
本計畫實
際貢獻百
分比 
單位 
備 註 （ 質 化 說
明：如數個計畫
共同成果、成果
列 為 該 期 刊 之
封 面 故 事 ...
等） 
期刊論文 6 9 50%  
研究報告/技術報告 1 1 100%  
研討會論文 9 9 50% 
篇 
 
論文著作 
專書 0 0 100%   
申請中件數 0 0 100%  專利 已獲得件數 0 0 100% 件  
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 3 0 100%  
博士生 4 0 100%  
博士後研究員 0 0 100%  
國內 
參與計畫人力 
（本國籍） 
專任助理 0 0 100% 
人次 
 
期刊論文 0 0 100%  
研究報告/技術報告 1 1 100%  
研討會論文 2 2 100% 
篇 
 
論文著作 
專書 0 0 100% 章/本  
申請中件數 0 0 100%  專利 已獲得件數 0 0 100% 件  
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 0 0 100%  
博士生 0 0 100%  
博士後研究員 0 0 100%  
國外 
參與計畫人力 
（外國籍） 
專任助理 0 0 100% 
人次 
 
 
