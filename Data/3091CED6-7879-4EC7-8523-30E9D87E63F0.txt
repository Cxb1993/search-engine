 2 
1 前言  
ZigBee 為一種無線通訊技術[1]，目前已
廣泛應用於家庭電器、電腦、感測器，遊戲和
玩具等。其名稱源自於當蜜蜂發現蜜源時，會
飛舞出如同 ZigZag 形狀的舞姿作為共同識別
的訊息，來通知其他其他同伴蜜源所在的正確
位置。 
目前的 ZigBee 無線通訊技術大多用於靜
態的無線中繼傳輸，也就是發射或接收模組是
靜止不動或是移動速度緩慢的，例如居家照
護、家庭電器控制、山坡及橋樑監控，遊戲和
玩具等，而且主要是以傳輸速率要求低的感測
數據為考量。我們認為，若能將 ZigBee 的優
勢整合於本實驗室所開發的 MAV 無線回傳系
統，使達到低功率、抗干擾、通訊距離長的目
標，將能提升無人飛行載具的應用範疇。 
本實驗室多年來致力於 MAV 無線回傳系
統的研發，已完成利用 FSK 為基礎的影像及
GPS 定位資訊回傳系統開發[2][3]，架構如圖
1所示。雖然傳輸品質已具有一定的水準，但
考量在實用上仍有些需要改進的地方，列舉如
下： 
(1) 機載的無線影音發射機除了體積及重量佔
了酬載的大部分，壓縮了可以搭載其它感
測酬載的空間。且因耗電量過大也影響了
滯空時間，無法完成長距離或長時間的偵
察任務。 
(2) 若實際應用於軍事偵察或通訊中繼任務，
則必須考量資訊傳輸的保密性及抵抗抗惡
意干擾(jamming)的能力；而利用傳輸中繼
(transmission relay)的技術來延伸執行任務
範圍以及提昇多重路徑影響下的傳輸品
質，也是必須考量的重點之一。 
(3) 受限於傳輸速率及微處理器運算速度的限
制，僅能採用較簡易的Rate 1/2迴旋碼的錯
誤控制編碼技術，錯誤修正能力有限。若
能提昇硬體規格以及演算法，未來可以改
用容錯能力更佳的編碼器，對於傳輸效能
將有很大的改善空間。 
(4) 地面接收端的資訊整合介面用來顯示MAV
即時位置的底圖是由Google Earth的衛照影
像畫面擷取並經過影像轉換與縫製而得，
除了座標精準度上稍嫌不足，也僅能適用
於影像所在當地的展示；未來可考量應用
Google Earth API技術[4]，將MAV所在位置
直接顯示於Google Earth應用程式的畫面
中，如此一來可以結合衛星影像來即時顯
示MAV飛行所在位置。 
有鑑於此，我們認為除了繼續延伸目前以
FSK 為基礎的架構性能提升之外，研發一套以
ZigBee 為基礎的架構，實現了省電、抗干擾
以及具有多躍式(multi-hop)無線中繼傳輸功能
的 MAV 即時影像及飛航數據傳輸系統實有其
必要性。此外，開發地面接收端結合 Google 
Earth 衛星影像進行追蹤監控的接收端資訊整
合介面，也可作為達到進一步延伸 MAV 的應
用範圍的目標。 
 
 
圖1.  FSK 為基礎的架構 
 
2 ZigBee為基礎的架構設計 
2.1 ZigBee通訊協定標準 
ZigBee 無線通訊標準是由 IEEE 802.15.4
小組與 ZigBee Alliance 聯盟組織共同協定，在
設計架構上具有低成本、低耗電、低複雜度、
可架設多點無線裝置、高可靠性及安全性等各
項優點。在規格方面，其操作頻段有三種，分
別為 2.4GHz、868MHz 以及 915MHz，傳輸距
離為 75 公尺至數十英哩，傳輸速率介於 20k 
-250k bps 之間(視晶片模組型號規格而定)，並
且可在低耗電待機模式下，使用 2 顆 5 號電池
可驅動長達 6 個月。此外 ZigBee 採用展頻通
 4 
機所擷取的 JPEG 串流訊號形成傳輸資料流，
然後傳送到 ZigBee 等待無線發送至地面接收
端。 
 
(a) 
 
(b) 
圖4. 發射端信號處理電路 (a)正面 (b)背面 
 
2.4 GPS數據擷取 
本研究規劃MAV需要GPS接收模組回傳
的資訊包括經度、緯度、高度、速度、航向，
這些資訊分散在 GPGGA 以及 GPRMS 兩個
NMEA 的子句內，如圖 5所示。一般常用的
GPS 模組的定位資訊更新率為 1Hz，也就是每
秒傳回 1 筆定位資訊，對於一般車用導航而言
已足夠，但對於飛行中的 MAV 而言，則較難
顯示其動態的飛行軌跡變化，因此有必要增加
GPS的資料更新速率。本研究利用Holux M-87
模組[10]的 GPS 接收模組，配合韌體的更新，
將原本內建的 1Hz 更新率改為 5Hz，以及傳輸
速率為 57600 bps。依此推算，以 GPGGA 及
GPRMC 這兩個句子的最大長度分別為 82 以
及 74 個 ASCII 字元為例，傳輸 1 筆定位資訊
總共需要 1248 位元(bits)，傳輸時間為 21.667 
ms，因此在接收下一筆定位資訊之前，PIC 微
處理器還有 178.22 ms 的時間作為信號處理之
用。 
 
圖5.  NMEA0183 格式的 GPGGA 及
GPRMC 句子結構 
 
2.5 影像資料擷取與傳輸資料流規劃 
在圖 3架構中，資料處理電路板的
PIC18F2520 單晶片需接收了來自兩個不同的
資料來源；其一是來自 GPS 模組的定位資訊，
另一則是與 CMOS CCD 同步溝通資料以及影
像封包串流資料。當資料處理電路板電源啟動
後，在資料處理電路板中的 PIC 單晶片外部中
斷功能也一併開始運作，並開始執行與 CMOS 
CCD 攝影機的同步要求及擷取圖片資料封包
等動作，同時 M-87GPS 模組亦開始接收來自
GPS 衛星的訊號源。在工作週期期間一旦有
GPS 訊號輸入時，PIC 單晶片會中斷目前的動
作，之後將接收到的 GPGGA 及 GPRMC 句子
壓縮成 88 位元，以及進行錯誤控制編碼的程
序，並優先傳送到 ZigBee 模組的資料接收
端，完成後程式會再回到中斷前的 CMOS 
CCD 同步要求及接收影像資料的串流迴圈。
由此得知，ZigBee 模組所傳送的資料流包含
了影像及 GPS 模組的定位資訊，如圖 6所示。 
 
圖6. ZigBee 傳輸資料流規劃 
 
由於 CMOS CCD 攝影機的影像輸出為
JPEG 影像格式的串流資料，在 JPEG 的檔案
格式中，每張圖片的起始碼為 0xFFD8，結束
碼為 0xFFD9，為了正確識別每一張圖片的串
流起始點，必須有正確的同步資訊，才能使
PIC 單晶片與 CMOS CCD 攝影機能處與正常
溝通傳輸的階段。本研究將 PIC 單晶片視為
HOST 端，其讀取 CMOS CCD 串流的同步程
 6 
的電波，我們稱為多重路徑(multi-path)。多重
路徑除了直視波(line of sight, LOS)之外，還包
括散射 (scattering)、遮蔽 (shadowing)、衍射
(diffraction)以及折射(refraction)等。由於訊號
在無線的傳輸過程中容易受到多重路徑的影
響導致接收端接收到的錯誤訊號，為了改善這
種情形，本研究藉由資料壓縮及通道編碼的技
術來提升無線傳輸的品質，以降低傳輸錯誤率
的發生。 
3.1 資料壓縮 
為了降低訊號在傳送過程中受到干擾的
機率並減少傳輸數據量，本研究發展一套傳輸
資訊規劃的方式來縮短傳輸資料量，但仍保有
每秒更新 5 次 GPS 定位資訊的性能表現。在
考量目前微飛行器導航與導引需求的條件
下，我們規劃在 MAV 飛行期間回傳的資訊至
少應包括以下資訊： 
(1) 位置資訊：包括緯度、經度及高度，提供
座標及地理位置識別。 
(2) 飛行資訊：包括航速、航向及飛行模式，
提供地面操作人員掌握飛行狀況。其中飛
行模式依照規劃可分為四種，分別為：手
動模式、自動駕駛模式、導航模式以及自
動返航模式。 
(3) 航電資訊：包括電池容量、定位狀態等，
提供載具本身電能狀況及 GPS 定位狀態。 
以上第(1)(2)項的資訊可以藉由 GPS 接收
模組輸出的GPGGA及GPRMC兩個句子中獲
得。然而，若直接傳送 GPGGA 及 GPRMC 的
句子，以二進位(Binary)方式傳輸總共需要傳
送 1248 位元(bits)，若傳輸過程中某一位元因
雜訊或障礙物遮蔽等通道效應影響而發生錯
誤或漏失，則整筆資料形同傳輸失敗而必須捨
棄。此外，兩句子有些資訊重複(例如經度及
緯度)以及含有不相關的字元(例如逗號)，直接
傳送除了浪費時間，也增加傳輸期間受干擾而
導致失敗的機率。因此如何決定傳送位元串，
使得能以最短的傳輸資料包含最多的回傳資
訊，進而降低傳輸期間受干擾的機率有其必要
性。 
為了能有效降低資料在傳送的過程中發
生錯誤機率，我們須訂定傳送位元串的作法首
先是將 GPS 接收機傳送到訊號處理電路板的
GPGGA 及 GPRMC 的句子萃取出所需的資
訊，包括經度、緯度、高度、航速、航向及定
位狀態等，再加上電池電量及飛行模式等感測
資訊，以上資訊配合傳輸同步所需的標頭碼、
識別碼及結尾，以 ASCII 字元來表示總共僅需
312 位元。相較於直接傳送兩子句所需的 1248
位元，此時減少了 75%的資料傳輸量，又考量
MAV 之飛行包絡 (Flight Envelope)、航程
(Range)及續航力(Endurance)，在飛行期間僅
傳送與起飛前的地面參考點座標的差值，則又
可進一步縮減傳輸量，比起原始 NMEA 格式
之數據量大幅減少了 93.9%的資料傳輸量，有
關傳輸資訊在規劃前及規劃後所需的位元數
詳如表 1所示。 
 
表1. MAV 傳輸資料規劃表 
 
單
位 
 傳輸長度 
回傳 
資訊 NMEA 格式 原始 資料
(Byte) 
規劃後(bits) 
  Mode 0 Mode 1 
標頭檔 N/A  3 12 12 
識別碼 N/A  1 4 4 
緯度 分 ddmm.mmmm 9 25 13 
經度 分 dddmm.mmmm 10 26 13 
高度 米 -9999.9-99999.9 7 20 11 
航速 節 000.0-999.9 5  8 
航向 度 000.0-359.9 5  9 
飛行模式 N/A 0,1,2,3 1  2 
電池容量 格 0,1,2,3 1  2 
定位狀態 N/A A or V 1 1 1 
結尾 N/A    1 
傳輸總長度 312bits 88 bits 76 bits
 
3.2 錯誤控制編碼 
圖 10 所示為具有通道編解碼設計的無
線通訊系統示意圖，編碼器的錯誤修正能力與
所選用的編碼技術有關，目前編碼效率較佳的
技術如 Turbo Code[11]或 LDPC Code [12]等，
但此類編解碼需要較長的運算時間以及較大
的記憶體空間。以往受限於 PIC 微處理器的處
 8 
在實驗方面僅能以 1Hz 的 GPS 接收模組傳輸
測試來進行。表 4所示為 ZigBee 架構於 100
公尺點對點回傳效能統計結果，相較於表 2的
FSK 架構在 100 公尺的表現，我們可以看出
ZigBee 架構的回傳效能較差，更何況 GPS 更
新率僅為 1Hz。 
 
表4. ZigBee 架構於 100 公尺點對點回傳效能 
編碼方式 測試時間
(sec) 
實際回傳/ 
應回傳數 回傳率 
無編碼 720 679/720 94.30%
1/2 迴旋碼 709 687/709 96.89%
1/3 迴旋碼 737 722/737 97.96%
 
然而，在無障礙物環境下利用單點中繼延
伸至傳輸距離為200公尺的回傳效能統計。相
較於表4的點對點傳輸效能統計，從表5我們可
以看出利用中繼回傳的效能稍差，顯示這期間
仍存在封包碰撞的問題。另從表6所示ZigBee
傳輸架構在100公尺的障礙物環境下，一樣受
到嚴重的干擾而影響傳輸效果，但如表7所
示，雖然數據傳輸會受到障礙物干擾，但以
ZigBee傳輸的優勢在於可以利用中繼跳點的
架構，來避免多重路徑下的干擾；在無障礙環
境下可利用中繼端點來延伸傳輸距離，而在多
障礙物環境下可將中繼端放置較無障礙物干
擾的地點，來避免多重路徑的干擾達到提升資
料傳輸的回傳率。 
 
表5. ZigBee 架構於 200 公尺無障礙環境下的
單點中繼回傳效能 
編碼方式 傳輸時間
(sec) 
實際回傳/
應回傳數 回傳率(%) 
無編碼 851 814/851 95.65% 
1/2 迴旋碼 714 697/714 97.61% 
1/3 迴旋碼 833 821/833 98.55% 
 
表6.  ZigBee架構於100公尺障礙物環境下點
對點回傳效能 
編碼方式 傳輸時間
(sec) 
實際回傳/
應回傳數 回傳率(%) 
無編碼 850 449/850 52.82% 
1/2 迴旋碼 713 549/713 76.99% 
1/3 迴旋碼 753 652753 86.58% 
 
表7. ZigBee 架構於 100 公尺障礙物環境下單
點中繼回傳效能 
編碼方式 傳輸時間
(sec) 
實際回傳/
應回傳數 回傳率(%) 
無編碼 850 741/850 87.17% 
1/2 迴旋碼 713 669/713 93.82% 
1/3 迴旋碼 775 735/775 94.83% 
 
4.3 戶外實機飛行測試 
4.3.1 FSK架構的組裝及飛行測試 
圖12所示為FSK架構搭載於45公分級MAV
的電路組裝及飛行測試實況。 
戶外飛行測試的目的除了驗證系統電路裝
置的可行性與穩定性以及MAV的可攜性之
外，如何設計一個實用、美觀且易於操作的終
端資訊展示介面也是重點之一。為了將MAV
回傳的GPS定位資訊及時顯示於地圖上，本研
究利用Google Earth API技術來達成，也就是
利用將資訊顯示於Google Earth的介面，除了
省去動畫製作的程式設計，也可以利用Google 
Earth應用程式的資源進行畫面的縮放、傾斜
以及旋轉的效果，如圖13所示。 
 
(a) 
 10 
方面，可以應用於約300公尺範圍內的短距離
偵察；而在ZigBee為基礎的方面，雖然目前我
們認為可以進行長距離但不需連續回傳影像
的偵察，應用有限，但未來若能克服傳輸速率
以及封包碰撞的問題，其傳輸效能應能達到
FSK為基礎的水準，若再加上ZigBee採用展頻
通訊的技術可以具有抗干擾及保密的特性，將
更能適用於軍事偵察之用。 
 
6 誌謝  
感 謝 國 科 會 研 究 計 畫 NSC 
99-2221-E-606-007 支持本研究的進行。 
 
參考文獻 
[1] ZigBee Standards Overview, 
http://zigbee.org/Standards/Overview.aspx 
[2] 張枝成,曾正雄, 郭智賢, 石大明, 瞿忠正, 
李勝義, et.al, “軍事用 40 公分級微飛行器
系統之開發研究,” 97 年度國防科技學術
合作計畫成果發表會論文集, Dec. 2008. 
[3] 李勝義,郭志賢,張博翔,李秉儒,林佑儒, 
“數位調變架構應用於微飛行器無線傳輸
系統的研究,” 第 18 屆國防科技學術研討
會, Nov. 2009. 
[4] Google API in PPC Definition , 
http://www.davechaffey.com/E-marketing-
Glossary/Google-API-in-PPC.htm 
[5] Patrick Kinney, “ZigBee Technology: 
Wireless Control that Simply Works”, 
Communications Design Conference, 
Kinney Consulting LLC,2003. 
[6] Xtrend ZigBee Module Overview, 
http://www.digi.com/products/wireless-wir
ed-embedded-solutions/zigbee-rf-modules/
point-multipoint-rfmodules/xtend-module#
overview 
[7] C328R JPEG Camera Module, 
http://www.electronics123.net/amazon/data
sheet/C328R.pdf 
[8] 李勝義, 郭智賢, 張博翔, “具錯誤控制編
碼之微飛行器視訊及飛航數據鏈路傳輸
系統研究,” Journal of Aeronautics, 
Astronautics and Aviation, Series B, vol.43, 
no.1, pp.19-28, Apr, 2011. 
[9] S. Lin and D. J. Costello, Error control 
coding: fundamentals and applications, 
Prentice Hall, 1983. 
[10] HOLUX Technology Inc., M-87 GPS 
engine board specification manual, User 
Manual, 2007. 
[11] C. Berrou, A. Glavieux, and P. 
Thitimajshima, “Near Shannon limit 
error-correcting coding and decoding: 
Turbo-codes,” in Proc. ICC’93, Geneva, 
Switzerland, pp. 1064-1070, May 1993. 
[12] A. D. Liveris, Z. Xiong, and C. N. 
Georghiades, “Compression of Binary 
Sources With SideInformation at the 
Decoder Using LDPC Codes,” IEEE 
Commun. Lett. Vol. 6, No. 10, pp. 440-442, 
Oct. 2002. 
 
 
99 年度專題研究計畫研究成果彙整表 
計畫主持人：李勝義 計畫編號：99-2221-E-606-007- 
計畫名稱：多躍式無線中繼傳輸架構在微飛行器之實現研究 
量化 
成果項目 實際已達成
數（被接受
或已發表）
預期總達成
數(含實際已
達成數) 
本計畫實
際貢獻百
分比 
單位 
備 註 （ 質 化 說
明：如數個計畫
共同成果、成果
列 為 該 期 刊 之
封 面 故 事 ...
等） 
期刊論文 1 100 100%  
研究報告/技術報告 0 0 100%  
研討會論文 2 100 100% 
篇 
 
論文著作 
專書 0 0 100%   
申請中件數 0 0 100%  專利 已獲得件數 0 0 100% 件  
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 2 100 100%  
博士生 1 100 100%  
博士後研究員 0 0 100%  
國內 
參與計畫人力 
（本國籍） 
專任助理 0 0 100% 
人次 
 
期刊論文 0 0 100%  
研究報告/技術報告 0 0 100%  
研討會論文 0 0 100% 
篇 
 
論文著作 
專書 0 0 100% 章/本  
申請中件數 0 0 100%  專利 已獲得件數 0 0 100% 件  
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 0 0 100%  
博士生 0 0 100%  
博士後研究員 0 0 100%  
國外 
參與計畫人力 
（外國籍） 
專任助理 0 0 100% 
人次 
 
國科會補助專題研究計畫成果報告自評表 
請就研究內容與原計畫相符程度、達成預期目標情況、研究成果之學術或應用價
值（簡要敘述成果所代表之意義、價值、影響或進一步發展之可能性）、是否適
合在學術期刊發表或申請專利、主要發現或其他有關價值等，作一綜合評估。
1. 請就研究內容與原計畫相符程度、達成預期目標情況作一綜合評估 
■達成目標 
□未達成目標（請說明，以 100 字為限） 
□實驗失敗 
□因故實驗中斷 
□其他原因 
說明： 
2. 研究成果在學術期刊發表或申請專利等情形： 
論文：□已發表 □未發表之文稿 ■撰寫中 □無 
專利：□已獲得 □申請中 ■無 
技轉：□已技轉 □洽談中 ■無 
其他：（以 100 字為限） 
已發表期刊及會議論文 
[1] 李勝義, 郭智賢, 張博翔, ’具錯誤控制編碼之微飛行器視訊及飛航數據鏈路傳輸
系統研究,’ Journal of Aeronautics, Astronautics and Aviation, Series B, vol.43, 
no.1, pp.19-28, Apr, 2011. 
[2] 劉建均,簡名司,李勝義,郭智賢, ’FSK 與 ZigBee 為基礎的 MAV 無線傳輸系統研發與
性能分析,’ 第 20 屆國防科技學術研討會,桃園龍潭, Nov. 18, 2011. 
[3] 劉建均,簡名司,李勝義,郭智賢, ’多躍式無線中繼傳輸架構在微飛行器之實現研
究,’ 2011 航空科技與飛航安全學術研討會, 高雄岡山, Nov. 25, 2011. 
 
 
此外，較完整的研究成果已投稿於第 20 屆國防科技研討會，已被接受。(Nov, 2011) 
3. 請依學術成就、技術創新、社會影響等方面，評估研究成果之學術或應用價
值（簡要敘述成果所代表之意義、價值、影響或進一步發展之可能性）（以
500 字為限） 
1.學術成就與技術創新方面： 
  本計畫就成果有兩大技術創新，其一是將 ZigBee 應用於動態飛行載具，且同時回傳影
像及 GPS 定位資訊；其二是將通訊理論中的錯誤控制編碼技術應用於回傳信號上，提升了
資料回傳的正確率。 
  ZigBee 無線通訊技術通常是用於靜態的無線中繼傳輸，也就是發射或接收模組是靜止不
動或是移動速度緩慢的，而且主要是以傳輸速率要求低的感測數據為考量。本研究突破上
述傳統的 ZigBee 應用方式，嘗試將 ZigBee 置於移動速度較高的微飛行器上，傳輸內容也
混合了 GPS 定位資訊與 JPEG 影像串流。再加上本研究提出的資料壓縮及採用錯誤控制編
碼技術，使得微飛行器在低空巡航受障礙物遮蔽情況下，仍能提升其資料回傳率。本計畫
經實驗量測以及戶外實機飛行測試，證實本研究的構想是可行的。 
