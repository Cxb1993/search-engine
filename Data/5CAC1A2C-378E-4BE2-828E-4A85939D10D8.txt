 2
????????????????????????????????
? (2/2) 
NSC 95 – 2221 – E – 224 – 114 
??? lowcy@yuntech.edu.tw 
?????????????? 
 
?  ?  
 
???????????????????????????????????????????
?????????????????????????????????????????????
???????????????? 0-1 ???????????????????????????
?????????????????????????????????????????????
?????????????????????????????????????????????
?????????????????????????????????????????????
?????????????????????????? 
 
???????????????????????????????????? 
 
An Approach of Simulated Annealing in Multistage Flow Shop Scheduling with Unrelated Parallel 
Machines 
 
 
Abstract 
In this research, a non-identical parallel machine flow shop scheduling problem of minimizing mean flow 
time is considered. In the past few years, in order to simplify the scheduling problem, most of research assumes 
setup and removal times are even negligible or part of the processing time. In this research, we look the setup, 
processing, and removal times as separatable, then take the sequence-independent setup and dependent removal 
times into account. To solve the addressed problem two different solving models are developed.  First, a 0-1 
integer programming model is constructed; however, the mathematical model is too time consuming to solve the 
medium or large size problem, thus, an ant colony optimization based heuristic is proposed to get an near 
optimal schedule in a reasonable computation time.  During the research, the parameters used in the heuristics 
that affect the solution quality and efficiency are analyzed and designed; then for the constructed heuristic, a 
good parameter setting is suggested.  The experimental results are reported, and provided for the references for 
the further research. 
 
Keywords: unrelated parallel machine, flow shop, setup, removal, ant colony optimization 
 
1. ?  ?  
????(production scheduling)?????????????????????????????
????????????????????????????????????????????
????????????????????????????????????(semiconductor 
industry)?????????????????????????????????????????
?????????????????????????????????????????????
??????????????????????????(flow shop with multiple processors?FSMP)?
?????????????????????????????????????????????
?????????????????? N ??????? M ?????? Mk ,,3,2,1 L= ?????
?????????????? k ?? km ??????????? i? Ni ,,3,2,1 L= ??? M ???
? Mj ,,3,2,1 L= ????????? i ??????????????????????? i ????
??????????????????? i ????? j ?????? k ?????????? ijkP ?
??? k ??????? i ?????????????? ijkS ????????? ijkR ????? i
?????????????????????????????????????????????
??????? internal setup?- ???????????????????????????????
?????????????????? 85??????????????????????????
?????????????????? 
 4
v ?  ??????, v =1,2,… … , m? 
Sn?  ???????(n?m)? 
i? ???????????, i=1,2,… … , n? 
j? ???????????j=1,2,… … , Sn? 
k?  ??? k ???, k=1,2,… … ,m? 
Oi? ???? i ???, i=1,2,… … , Sn? 
PTuv?  ???? u ??? v ????????? 
STijv? ???? i ??? j ????????? i ??? v ????????? 
ST0iv? ???? i ??? v ???????????????? 
TN? ??????? 
AN?  ?????? 
0? ?  ???????????? 0.0001? 
r ? ???????????? 0~1 ??? 
( )r-1 ? ??????????? 
a ?  ?????????? 0~1 ??? 
b ?  ??????????? 0~1 ??? 
t? ???? t ??? 
)(tij? ?  ????? t ?????? i ????? j ??????? 
k
jh ? ?????? j ????????????????????????????????
????????? 
q ?  ??????????? 0~1 ??? 
( )tPkij ?  ????? t ??? k ???????? i ????? j ????? 
Tu? ???? u ?????? 
SEv?  ?????????? v ??????????? 
 
2.2 ????  
? n ????m ????????????????????????????????????
?????????????????????????????????????????????
??????????????????????????????????? TSP ????????
?????????????????????????????????????????????
?????????????????????????????????????????????
????????????? 5 ?? 2 ??????????? 1 ??? 
 
? 1  ????????????? 
?? 1 2 3 4 5 6 7 8 9 10 
?? 1 1 2 2 3 3 4 4 5 5 
?? 1 2 1 2 1 2 1 2 1 2 
 
???????????????????????????????????????????
?????????????????????????????????????????????
??? 1 ??? 2 ?????????????????????????????????????
?????????????????????????????????????????????
?????????????????????????????????? 1 ??????(i,j)???
??? j ??? i ???????  
 
  ?            ? 
 1 2 3 4 5 6 7 8 9 10 
1           
2           
3           
4           
 
 
? 
 
? 
5           
 6
 
??????????? 
???????????????????????????????????????????
???? 10 ??? 
( )
å
´-+´=+
=
n
u
u
ijij
T
tt
1
11)()1( rr ??  (10) 
?????????? 
???????????(t<TN)???????????? 
 
2.5 ???????  
??????????????????????????????? (????)???????
?????????????????????????????????????????????
?????????????????????????????????????????????
?a ? b ?????????????????????????????????????????
??????????????????? 
????????????? 
??????(TN)???????( 0? )????????( r )????(AN)? 
?????? AN?AN ????? 
?? 2.1????????????? i=0? 
?? 2.2?? i?AN ????????????????????????? AN ???????
??? 3.6 ?? 
?? 2.3???? 2.2 ????????????????????????? 
?? 2.4?? i=AN ?????????? i=i+1?????? 2.2? 
?????????? 
????????????????????? Tabuk ???????????? Sk ??????
????? 
????????? 
?????????????????????? Tabuk ???? 1 ?????? Sk ??????
?????? 
????????????? 
???? k ??? 2 ??????? 11??? 12 ??? 13 ? Sk ??????????????
Tabuk ? Sk ?????????????? Sk ?????????????????????????
??????????? q? 10 ££ q ??? 0qq £ ?? Sk ??????????????????
?????????????????????????????????????????? 
[ ] [ ]{ }
ïþ
ï
ý
ü
ïî
ï
í
ì ´
= Î
J
t
j
k
lilSl k
 /1)(max ht
 (11) 
if 0qq < ?????11?????????j 
if 0qq ³ ??? J?J ????? 12 ???: 
 
[ ] [ ]
[ ] [ ]å ´
´
=
Î kSl
k
lil
k
lilk
il
t
t
tP
ht
ht
/1)(
/1)(
)(  (12) 
 
)log(
)log(
0 TN
t
q =  (13) 
???Tabuk ?????????????? 
??????????? 
??????????????(???????)????????? 9? 
??????????? 
 8
? 2  ??????? 
?? ? ? ? ? ? 
S:P:R 5:1:5 3:1:3 1:1:1 1:3:1 1:5:1 
 
????????????????????? F ??F ??? U(10,100)? 
????(S):?? F ?????????????? 
????(P):?? F ?????????????? 
????(R):??????????????????????????????????????
???????(RU)????(RL)?????????????????????? U(RL,RU)??
???????????????????? 
?????(RL)??? 
RL=(F´ ??????????)?4? 
RU=(F´ ??????????)?4? 
2. ??????????????????????????????????? 12*5*10=600 ?? 
 
3.2 ??????????????????  
??????????????????????????????????????????
?????????????????????7???????????????? 
???? Lingo 6.0 ???????????????????????????????? Lingo 
???????????? 3 ?????? 3 ?????????????????????????
????????????????????????????????? 
? 3  ??????????????????? 
Job Stage Machine ?? ???? ?????? 
    opt cpu(?) opt cpu(?) 
3 3 2-1-2 1 576 2 576(5) 0.0094 
   2 699 7 699(5) 0.0126 
   3 564 4 564(5) 0.0094 
   4 477 1 477(5) 0.0124 
   5 508 1 508(5) 0.0126 
3 3 2-2-2 1 344 5 344(5) 0.0094 
   2 367 5 367(5) 0.0126 
   3 570 15 570(5) 0.0092 
   4 479 2 479(5) 0.0094 
   5 673 7 673(5) 0.0094 
3 4 2-1-2-1 1 565 7 565(5) 0.0156 
   2 583 6 583(5) 0.0156 
   3 659 1 659(5) 0.0126 
   4 708 2 708(5) 0.0156 
   5 741 6 741(5) 0.0126 
3 4 2-2-2-2 1 631 21 631(5) 0.0156 
   2 573 259 573(5) 0.0156 
   3 657 64 657(5) 0.0156 
   4 733 124 733(5) 0.0094 
   5 541 75 541(5) 0.0126 
4 2 2-2 1 567 17 567(5) 0.0094 
   2 632 53 632(5) 0.0092 
   3 336 27 336(5) 0.0094 
   4 431 32 431(5) 0.0094 
   5 420 19 420(5) 0.0094 
4 3 2-1-2 1 702 50 702(5) 0.0126 
   2 771 56 771(5) 0.0094 
   3 604 38 604(5) 0.0094 
   4 361 21 361(5) 0.0092 
   5 626 46 626(5) 0.0156 
4 3 2-2-2 1 1013 352 1013(5) 0.0156 
   2 849 485 849(5) 0.0094 
 10 
?? 6. ?? j ??????????????????????? (????????????????
???)??? j+1 ?????????? 
?? 7. j=j+1????? 2? 
 
 H2: 
?? 1. ??????????????????????????????????????????
????????????????????????????????????????? 
?? 2. ??????????????????????????????????? 
?? 3. ????????????????????????? 
?? 3.1 ???????????????????????????? 
?? 3.2:?? i ??? j ???????????????? i ??? j ????????(???
????????????????????????????) 
?? 3.3 ??????????????????????????????????????
????(?????????????????????????????????) 
?? 4. ????????????????????????????????????????? 3
????????????? 
 
 H3: 
?? 0. ?????? j?j=1? 
?? 1. ??????????????????????????????????????????
????????????????????????????????????????? 
?? 2. ??????????????????????????????????? 
?? 3. ?????????????? j? 
?? 3.1 ??????????????????????????? 
?? 3.2 ???????????????????????? i ??? j ???????? 
?? 4. ??? j+1 ???????????????? j ????????????????????
????????????????? 3? 
?? 5. ?????????????????????????????????  
?? 6. ?????????????????????????????????????????
?? 
?? 7. j=1????? 3?????????????? 
 
 H5: 
?? 0. ?????? j?j=1? 
?? 1. ??????????????????????????????????????????
????????????????????????????????????????? 
?? 2. ??????????????????????????????????? 
?? 3. ?????????????? j? 
?? 3.1 ??????????????????????????? 
?? 3.2:???????????????????????? i ??????????? 
?? 4. ??? j+1 ???????????????? j ????????????????????
????????????????? 3? 
?? 5. ?????????????????????????????????       
?? 6:?????????????????????????????????????????
?? 
?? 7?j=1????? 3? 
 
 H6: 
?? 0. ?????? j?j=1? 
?? 1. ??????????????????????????????????????????
?????????????????????? 
?? 2. ???????????????????? j ???????? i ??? j ????????
????????????? i ??? j ???????? 
?? 3. ?? j ????????????????????????????? 
 12 
????  
????????????????? 
i?????  i =1,2,..., n? 
j?????  j =1,2,… , l?  
k?????  k  =1,2,… , mj? 
Sijk??? i ??? j ???? k ????????? 
Pijk??? i ??? j ???? k ????????? 
H ????????? 
TSij ??? i ??? j ???????? 
TSijk??? i ??? j ??? k ????????? 
TPij ??? i ??? j ???????? 
TPijk??? i ??? j ??? k ????????? 
TRij ??? i ??? j ???????? 
TRijk??? i ??? j ??? k ????????  
Fi   ??? i ?????? 
Xijk  ?1??? i ??? j ???? k ???? 
           0????      
Uii’jk?1?????? j ??? k ????????? i ??? i’?????? 
0???? 
Zii’jk?1?????? j ??? k ????????? i ??? i’??????? immediately preceding 
operation??        
0????  
Yii’jk?1??? i ??? i’????? j ???? k ??? 
0???? 
Ejk  ?????? j ?? k ????????? 
Oij ??? i ??? j ?? 
mj  ??? j ????????? 
Ajk ???????? j ??? k ????????? 
Afjk ??? j ?? k ??????????? 
Cjk ????? j ??? k ???????????????? 
Rii’jk???? j ??? k ???? i’??? i ?????????????????? 
 
2.2 ????  
?????????????????????????????? 
Minimize å
=
n
i
iF
1
 
subject to: 
( ) iFZRTR i
m
k Ei
jkiijkiiil
l
jk
"=´+ å å
= Î
            
1 '
''  (1) 
( )             
1
ij
m
k
ijkijkij TPSXTS
j
=´+ å
=
jmkji L,3,2,1,, ="  (2) 
( )             
1
ij
m
k
ijkijkij TRPXTP
j
=++ å
=
jmkji L,3,2,1,, ="  (3) 
            1
1
=å
=
jm
k
ijkX jmkji L,3,2,1,, ="  (4) 
1,,3,2,1,          )1( -="£ + ljiTPTR jiij L  (5) 
            ijkijijk XTSTS ´= jmkji L,3,2,1,, ="  (6) 
          ijkijijk XTPTP ´= jmkji L,3,2,1,, ="  (7) 
            ijkijijk XTRTR ´= jmkji L,3,2,1,, ="  (8) 
 MINIMIZING THE MAKESPAN WITH AN AVAILABILITY CONSTRAINT 
ON A SINGLE MACHINE UNDER SIMPLE LINEAR DETERIORATION 
Chinyao Low1   Chou-Jung Hsu1,2  Chwen-Tzeng Su1  
 
1Institute of Industrial Engineering and Management 
National Yunlin University of Science and Technology, Taiwan 
lowcy@yuntech.edu.tw 
 
2Department of Industrial Engineering and Management 
Nan Kai Institute of Technology, Taiwan 
 
 
Abstract: This article  is aimed at solving a machine maintenance scheduling problem under simple linear deterioration. We 
follow the research topic of C. C. Wu and W. C. Lee [8] and propose a more reasonable model for some production settings. 
This problem can be solved with 0-1 integer programming technique. 
 
 
1. INTRODUCTION 
 
A survey of scheduling literature reveals that few researches consider the scheduling problem with maintenance. 
However, machines subject to maintenance are found prevalently in process industries and manufacturing systems [4]. A 
book by Pinedo [7] reemphasizes the need for research in this area: “Most theoretical models do not take machine availability 
constraints into account; it is usually assumed that the machine is available at all times. In the real world, machines are usually 
not continuously available.“ In aerospace industry, a machine may not be available in the scheduling period due to a 
preventive maintenance or tools change to assure the product’s high quality. These stop times will affect the makespan 
(maximum completion time) of the single machine and the total productivity. Therefore how to obtain the minimum 
makespan and enhance the overall performance is an important problem for the industries.  
The deterioration job scheduling problem (DJSP) was introduced by Browne and Yechiali [1]. They consider n jobs, all 
available for processing at time 0, with initial processing requirements ip . If job i’s processing is delayed until t, they assume 
that the initial requirement deteriorate in such a manner that its processing requirement grows linearly with the delay to 
tptY iii a+=)( , where ia  is job i’s processing  growth rate, ip  is the original processing time for job i and t  is the time at 
which processing of job i begins.  Kunnathur and Gupta [3] and Mosheiov [6] pointed out several real-life situations in which 
deteriorating jobs might occur. These include shops with deteriorating machines, and/or delay of maintenance or cleaning, 
fire fighting, hospital emergency wards and steel rolling mills. Such problems also occur when the machine, not the job, is 
deteriorating, so that jobs processed later require a longer processing time. Later, Mosheiov [5] studied a special case 
proposed by Browne and Yechiali [1] (referred to as simple linear deterioration) in which the actual processing time for job i 
is given by 0, tttP iiii ³= a  being the starting time. They assumed all jobs be available for processing at time 00 >t . For a 
complete list of studies see the concise survey of T.C.E. Cheng e.l.[2].  
C. C. Wu and W. C. Lee [8] used the model discussed in Mosheiov [5] to study the single machine scheduling problem 
with an availability constraint  under linear deteriorating jobs. In brief, the resumable availability and the job deterioration 
fro m the beginning to the starting of the process are considered in their paper. In this article, we follow their research topic. 
However, we consider the nonpreemptive case and assume that the machine’s situation after non-available period (such as 
maintain, adjust, or tools change) be similar with the situation of time 0t . These assumptions are more reasonable for some 
real production settings. The objective is to minimize the makespan. 
 
 
2. NOTATION AND ASSUMPTIONS 
 
ia   the growth rate for job i, i = 1, 2,… , n, )1,0(Îia ; 
][iC   the completion time growth rate for the job processed in the ith position, i = 1, 2,… , n; 
 This is equivalently to  
Maximize )1(
1
][Õ
=
+
i
j
ja  
Subject to: 
0
1
1
][ )1(
t
bi
j
j £+Õ
=
a .  
Therefore, by taking the logarithms, the problem is transformed into the following 0-1 integer problem. 
Maximize ( ) i
n
i
i xZ å
=
+=
1
1ln a  
Subject to: ( ) ÷÷
ø
ö
çç
è
æ
£+å
= 0
1
1
ln1ln
t
b
xi
n
i
ia  where }1,0{Îix and },...,,{ 21 nJJJNi =Î . 
Order all of the jobs such that ][]2[]1[ ... naaa £££ . It is easy to find a maximum integer c such that 1
1
][ )1( b
c
j
j £+Õ
=
a . 
This is equivalently to the number of jobs processed before non-available period are not greater than c. Reverse the order of 
][]2[]1[( ... naaa £££  and represent it as ][]2[]1[ ... naaa ³³³ . It is easy to find a maximum integer d such 
that 1
1
][ )1( b
d
j
j £+Õ
=
a . This is equivalent to the number of jobs processed before non-available period is no less than d if the 
minimum makespan will be considered. Thus, assume that 1=ix  represent the jobs that are processed before the 
non-available period and that 0=ix represent the jobs that are processed after the non-available period, the problem is 
represented into the following 0-1 integer problem. 
Maximize ( ) i
n
i
i xZ å
=
+=
1
1ln a  
Subject to : ( ) ÷÷ø
ö
ççè
æ
£+å
= 0
1
1
ln1ln
t
b
xi
n
i
ia   where }1,0{Îix and },...,,{ 21 nJJJNi =Î , 
          å
=
££
n
i
i cxd
1
. 
Hence, the minimum value of the makespan can be calculated via 0-1 integer programming technique. However, in the 
constraint equation of ( ) ÷÷
ø
ö
çç
è
æ
£+å
= 0
1
1
ln1ln
t
b
xi
n
i
ia , there are two cases, its ( ) ÷÷
ø
ö
çç
è
æ
<+å
= 0
1
1
ln1ln
t
b
xi
n
i
ia or ( ) ÷÷
ø
ö
çç
è
æ
=+å
= 0
1
1
ln1ln
t
b
xi
n
i
ia . 
Therefore, we solve this problem according to the two cases of constraint equation as follow. 
 
Case 1:  
Maximize ( ) i
n
i
i xZ å
=
+=
1
1ln a  
Subject to : ( ) ÷÷ø
ö
ççè
æ
<+å
= 0
1
1
ln1ln
t
b
xi
n
i
ia   where }1,0{Îix and },...,,{ 21 nJJJNi =Î , 
          å
=
££
n
i
i cxd
1
.  
Clearly, it is easy to get a unique solution. Hence, the minimum value of the makespan can be calculated accordingly. 
 
 
  
Figure 2. Illustration of proposed problem with the different values of b1,  
the starting time t0 = 1 and the non-available time b2-b1 = 5. 
 
 
5. CONCLUSION 
 
This article first makes 0t  meaningfu l. We propose a more reasonable model for some production settings and show this 
model also can be solved with 0-1 integer programming technique. Future research might consider a general model 
introduced by Browne and Yechiali [1] with the same criteria or other criteria such as the total flow time, the number of tardy 
jobs. Extending this problem to an m-parallel machine or m-machine flowshop is also an interesting issue. 
 
 
6. REFERENCES 
 
1. Browne, S., Yechiali, U. (1990). Scheduling Deteriorating Jobs on a Single Processor. Operations Research, 38: 
495-498. 
2. Cheng, T. C. E., Ding, Q. and Lin, B. M. T. (2004). A Concise Survey of Scheduling with Time -Dependent Processing 
Times. European Journal of Operations Research, 152: 1-13. 
3. Kunnathur, A. S. and Gupta, S. K. (1990). Minimizing the Makespan with Late Start Penalties Added to Processing 
Times in a Single Facility Scheduling Problem. European Journal of Operations Research, 47: 56-64. 
4. Liao, C. J. and Chen, W. J. Chen. (2003). Single-Machine Scheduling with Periodic Maintenance and Nonres umable 
Jobs. Computers and Operations Research, 30: 1335-1347. 
5. Mosheiov, G. (1994). Scheduling Deteriorating Jobs under Simple Linear Deterioration. Computers and Operations 
Research, 21: 653-659.  
6. Mosheiov, G. (1995). Scheduling Jobs with Step-Deterioration: Minimizing Makespan on Single and Multi-Machine. 
Computers and Industrial Engineering, 28: 869-879. 
7. Pinedo, M. (1993). Scheduling: Theory, Algorithms , and Systems. Prentice Hall, Englewood Cliffs, NJ. 
8. Wu, C. C and Lee, W. C. (2003). Scheduling Linear Deteriorating Jobs to Minimize Makespan with an Availability 
Constraint on a Single Machine. Information Processing Letters, 87: 89-93. 
 
