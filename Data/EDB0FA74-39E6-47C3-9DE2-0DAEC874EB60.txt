2行政院國家科學委員會專題研究計畫成果報告
燃料電池電動輔助自行車控制系統設計與製作
國科會計畫編號：NSC-94-2212-E-150-034
執行期限：94 年 8 月 1 日至 95 年 7 月 31 日
主持人：許源鏞 副教授
執行機構：國立虎尾科技大學 車輛工程系
摘 要
本研究主要目的為改善電動輔助自行車之騎乘
里程數不足之問題。因此，本系統規劃結合人力、燃
料電池及輔助電池三者，將燃料電池與輔助電池並聯
使用，並在定速、減速時對輔助電池進行電能回充。
所完成的系統整體性能足符行駛需求，系統亦具實用
性。
本文先依據數學模式，以 MATLAB／Simulink
軟體建構反向動態模型，以了解系統運作情形，並得
出最適宜的系統規格與最佳的控制策略，作為系統設
計時的參考依據。燃料電池電動輔助自行車控制系統
設計與製作則是分三階段進行，首先選定系統規格與
架構，其次對各控制器進行設計與製作，並於測試平
台進行系統整合與性能測試。
至於系統性能測試部分，分別以純電動模式、
純燃料電池模式及混成動力模式進行，以得出最佳控
制模式。實驗結果顯示，藉由能源管理系統之運作，
混成動力模式能提高其行駛里程數，可改善一般電動
輔助自行車里程數不足之缺點，。
關鍵字：燃料電池，電動輔助行自行車，控制器、
平台測試
1. 前 言
人類對於能源的需求及依賴度與日俱增，在過度
的開發及使用石化能源之際，促使全球的生態環境造
成變遷，使得全球產生溫室效應(Greenhouse effect)
及能源的日益枯竭。世界各國基於生態維護及尋找石
化替代能源之需要，紛紛投入低污染、能源轉換效率
佳及可永續發展之新能源技術的研發。
現今世界各大車廠投入大量人力資源研發新一
代車輛與替代能源，以達到符合低污染及並降低對石
化燃料的需求。在眾多新能源及替代能源的研發中，
以燃料電池(Fuel cell)具備低污染、高能量轉換效率之
特性，成為近年來最受矚目的新穎潔淨能源技術。就
現有國內車輛相關產業進行分析，汽車工業處於弱勢
低位，機車、自行車與電子資訊產品在國際間有一定
之水準；因此，朝此切入燃料電池領域會有較大立基
點。自行車一向講求自然、健康與環保，台灣也一直
以自行車製造王國享譽國際，若將燃料電池應用於自
行車上有利未來整體產業的發展[1]。
2. 燃料電池電動輔助自行車之系統模擬
本研究採用之複合動力電動輔助自行車系統，其
混成動力架構採用並聯模式，藉由 MATLAB／
Simulink 建立軟體模擬程式，反向模擬架構如圖一所
示。它是藉由車子行駛時的車速，反推行車阻抗、輪
胎動態、傳動系統、馬達、電池組與燃料電池組等元
件之輸出。因此，本文主要依據各子系統已知經驗或
半經驗模式，建立系統輸入及輸出參數關係，再將各
子系統的輸入／輸出訊息的回饋關係連接，成一完整
系統。如此，可針對各子系統參數變化及不同控制法
則進行探討分析，以了解系統運作情形，並得出最適
宜的系統規格與最佳的控制策略，作為系統設計時的
參考依據。
2.1 行車型態模組
黃有烽[2]研究指出，一般人踩腳踏車時感覺最舒
適轉速在 57.5rpm 左右，分布範圍為 50~70rpm，而
人體舒適度主要是受曲柄軸轉速影響，車速之影響較
不明顯。自行車實用手冊[3]中提及自行車之行走雖按
車種回轉數的不同各有差異，但一般轉速約為
40~120rpm，而一般人腳踏力大約為 5~10kgf。因此，
我們以人行駛最舒適的速度及腳踏力，配合歐洲經濟
同盟（Economic Commission for Europe, ECE）所提
出的 ECE 行車型態，來規劃複合動力電動輔助自行
車的行車型態模式如圖二所示，將行車型態最高行駛
速率訂在時速 15km/hr。故本文利用 ECE 行車型態之
加減速及定速的行車速率之變化，來進行系統動力模
擬，以觀察、分析各系統元件之性能。
2.2 能源管理模組
研發複合動力電動輔助自行車的目的，主要是針
對市面上現有之電動輔助自行車騎乘里程數短，續航
力不足等相關問題進行改善。因此，我們先針對系統
能源管理與控制策略進行規劃與設計，對系統動力源
能量分配方式、減速回充之時機等做一評估、規劃與
設計。初步擬訂的控制策略為：
1.以常人感覺最舒適之腳踏力為主要考量之動力切
換點，當系統總需求扭力高於此設定值時，會同時
使用人力與燃料電池混合出力。
2.當人力與燃料電池混合出力仍無法滿足扭力需求
時，再考量以鉛酸電池（或鎳氫電池）輔助出力。
而鉛酸電池（或鎳氫電池）的出力與否，依電池之
殘電量値（SOC）決定。當
(1)電池 SOC 值高於某一設定之 SOC 值(例如 50%)
時=> 電池提供輔助動力
4整體系統平台在建構完成後如圖十四所示，分別
以純電動模式、純燃料電池模式及混成動力模式進行
測試，本研究針對人行駛最舒服的速度及腳踏力配合
ECE 行車型態來規劃自行車行車模式，其系統最高行
駛速率訂在 15km/hr，踏力值設為 5kgf；腳踏力高於
設定值時，由輔助馬達提供輔助。
4.1 複合動力電動輔助自行車系統模擬分析
在複合動力電動輔助自行車性能模擬分析中，分
別以 300W、150W、100W 及 50W 進行性能模擬，
而腳踏力分別以 5kgf 與 10kgf 進行分析，藉由模擬結
果得出適合系統所適合與需要之燃料電池組。
首先以腳踏力 5kgf 進行模擬，當燃料電池組介
於 50W~150W 之間時，在 ECE 測試循環加速區間，
需要輔助電池提供電能輔助；然而，由於在定速與減
速時有電能充電，完成一個測試循環時，輔助電池之
殘電量 SOC 仍能回復為原先值。另一方面，當燃料
電池組功率提高為 300W 時，ECE 測試循環之加速
區間，則完全不需要輔助電池提供電能輔助。依此模
擬分析結果，我們若選定功率介於 50W~150W 間之
燃料電池組應足符需求，此並聯式複合動力電動輔助
自行車，只要提供氫氣，即可一直行駛；輔助電池（鉛
酸或鎳氫電池）在行駛過程中，急加速或重負荷時提
供電能輔助系統，定速或減速時由系統對電池進行充
電，最後能恢復行駛前之殘電量，無須外接電源充電。
接著，我們將騎乘者腳踏力提高為 10kgf，同樣
進行 ECE 行車型態模擬分析，模擬結果顯示，當燃
料電池組功率為 50W 時，在 ECE 測試循環在加速區
間，需要輔助電池提供電能輔助；然而，由於在定速
與減速時有電能充電，完成一個測試循環時，輔助電
池之殘電量 SOC 仍能回復為原先值。當燃料電池組
功率介於 100W~300W 時，ECE 測試循環之加速區
間，則完全不需要輔助電池提供電能輔助。
綜合上述模擬分析結果，我們初步選定功率介於
50W~150W 間之燃料電池組；然考量各系統效率及
實際運作情況、系統安全性，我們建議先以 150W 燃
料電池組進行其他性能測試，以研判其整體性能。
4.2 燃料電池電動輔助自行車系統平台測試
由平台測試結果顯示，純電動模式完成一次 ECE
行車型態循環，大約消秏 1%左右的殘電量。初始殘
電量為 100%，截止殘電量以 50%為準時，騎乘距離
約為 17 km 左右，所消耗之電量約為 3.65A-hr 左右。
我們藉由純燃料電池模式測試結果，計算燃料電
池系統效率及整體系統效率，如表二所示。整體而
言，燃料電池系統效率為 32.37%~44.52%間，平台效
率為 22.66~31.17%間。
其次說明混成動力模式測試結果。圖十五為系統
啟動後之前 3 個 ECE 循環，輔助電池提供電力給輔
助馬達，並輔助人力啟動系統，其目的為讓燃料電池
系統有暖機動作。第 4 個 ECE 循環後，燃料電池系
統成為平台之主要動力源。圖十五(b)為燃料電池電
壓、電流及功率與時間關係圖，燃料電池系統在前 3
個 ECE 循環時電壓有稍微下降，它是因為燃料電池
系統需提供鼓風機所需電力之故，當鼓風機啟動時會
使燃料電池系統電壓降低。圖十五(c)為輔助電池電
壓、電流及功率與時間關係圖，由圖中可得知在前 3
個 ECE 循環，輔助電池為放電狀態，其最大輸出電
流為 5A~6A 左右，輸出功率為 126W~154W 左右；
第 4 個 ECE 循環開始，依據所設定之輔助電池殘量
值，進行電能回充。圖十五(d)為輔助電池殘電量值與
時間關係圖，由圖中得知，輔助電池初始殘電量為
100%，經過 3 個 ECE 循環之放電後，殘電量下降到
97.49%；其後進行電能回充，其殘電量值慢慢增加。
圖十六則為混成模式電能回充性能測試結果，圖十六
(b)中，燃料電池系統在進行電能回充初期，燃料電池
系統除了提供平台運作外，還需提供電力對輔助電池
進行電能回充，因此燃料電池系統之啟始輸出電流及
功率會較大些，分別為 9.97A 與 257W，隨著電能回
充電流變小，燃料電池系統輸出功率變小，其輸出電
流值變為 5A~6.35A 間，輸出功率為 137W~170W 間。
圖十六(c)中輔助電池採定電壓充電方式進行電能回
充，初期充電電流最大約為 6.34A，隨著輔助電池自
我調整電流的狀態，充電電流有變小之趨勢。圖十六
(d)中輔助電池殘電量在充電初期有增加較大之趨
勢，隨著充電電流轉小，殘電量上升趨緩。
表三所示則為混成動力模式運轉測試結果。整體
而言，混成動力系統平台效率在 29.07%~36.98%間。
由表二與表三比較得知，混成動力模式系統效率較純
燃料電池系統高，其原因為本文之平台系統為低負載
狀態，且燃料電池系統採用氫氣掃氣方式對氫能之使
用效率不佳，而混成動力系統適時的對輔助電池進行
電能回充，可有效的避免能量的浪費，故混成動力系
統效率高於純然料電池系統。表四所示為混成動力模
式測試時之輔助電池殘電量值，由表中得知輔助電池
在系統中提供電力輔助後，燃料電池系統能對輔助電
池進行電能回充，當測試結束後，其殘電量值可回復
與初始殘電量一致。
5. 結 論
1.本文利用 Matlab/Simulink 軟體建構之燃料電池電
動輔助自行車整車模組，以模組化方式進行分析，
可即時調整系統各參數，並分析系統輸出響應。藉
由 Matlab/Simulink 軟體模擬所推算出相關數據，
與測試平台實測所得扭力值與轉速值之基本趨勢
是相同的。系統之燃料電池組的選配，可藉由模擬
方試推估規格為 150W燃料電池組即能合乎系統需
求；而實測結果顯示，系統運作時，燃料電池系統
輸出功率約為 137W~170W 間。
2.經實驗結果顯示，本文採用整合型殘電量估測法，
對電池進行殘電量估測，較傳統開路電壓法等為
佳。傳統開迴路電壓值的量測方式，約需經過 2 小
6圖七 整合型殘電量估測法流程圖
24 24.5 25 25.5 26 26.5 27
Open Circuit Voltage(V)
0
10
20
30
40
50
60
70
80
90
100
110
S
ta
te
o
fC
h
ar
g
e(
%
)
OCV(V) vs SOC(%)
Curve Fitting
圖八 開路電壓與殘電量之關係圖
0 5 10 15 20 25 30
Input Current(A)
0
10
20
30
40
50
60
M
od
ifi
ed
C
ur
re
nt
(A
)
Data
Least Square Method
Imodified=(0.0369*I+1.1244)*I
圖九 真實電流與修正電流之關係
圖十 殘電量計之實體圖
圖十一 能源管理控制系統示意圖
圖十二 能源管理控制系統實體圖
圖十三 主控制器輸入/輸出的配置
圖十四 燃料電池電動輔助自行車平台實體圖
0 100 200 300 400 500 600 700 800 900 1000 1100
Time(sec)
0
5
10
15
20
B
ic
yc
le
ve
lo
ci
ty
(k
ph
)
Command
Experiment
Fuel Cell ModeBattery Mode
(a)車速與時間關係圖
0 100 200 300 400 500 600 700 800 900 1000 1100
Time(sec)
0
8
16
24
32
Fu
el
ce
ll
vo
lta
ge
(V
)
0
5
10
15
Fu
el
ce
ll
cu
rr
en
t(
A
)
0
100
200
300
Fu
el
ce
ll
po
w
er
(W
)
Fc Voltage
Fc Current
Fc PowerBlow Running
No Load(Warnning-Up) Load On
(b)燃料電池電壓、電流及功率與時間關係圖
0 100 200 300 400 500 600 700 800 900 1000 1100
Time(sec)
20
22
24
26
28
B
at
te
ry
V
ol
ta
ge
(V
)
-10
-5
0
5
10
15
B
at
te
ry
C
ur
re
nt
(A
)
-200
-100
0
100
200
300
B
at
te
ry
po
w
er
(W
)
Battery Voltage
Batery Current
Battery Power
Discharge Charge
(c)輔助電池電壓、電流及功率與時間關係圖
0 100 200 300 400 500 600 700 800 900 1000 1100
Time(sec)
97
98
99
100
St
at
e
of
ch
ar
ge
(%
)
Discharge Charge
(d)輔助電池殘電量與時間關係圖
圖十五 混成模式性能測試結果(前 5 個 ECE 狀態)
Fuel Cell(R1)
Battery(R2)
Motor(R3)
各轉速、扭力訊號
鉛酸電池電壓、電流、殘電量
燃料電池組電壓、電流
燃料電池組各單電池電壓
運轉模式選擇
腳踏力參數設定
動力源參數設定
主
控
制
器
資料儲存
電壓電流監控
輔助馬達控制器
電能回充參數設定
腳踏力模擬系統
行車阻抗模擬裝置
能源管理系統
量測開迴路電壓(OCV)
S_ocv=f1(OCV)
量測電池輸出電流(Iout)
Mod_I=f3(Iout)
已使用之電容量(N)
K_old=f2(N)
S_inital=S_ocv*K_old
Ah_inital=S_ocv*Ah_standard
Soc(%)=
Ah_initial- ?Mod_I(t)dt
Ah_standard
修正開路電壓估測法
修正庫倫估測法
整合型殘電量估測法
Fuel Cell
Stack
Dc/Dc
Conveter
Lead-Acid
Battery
Relay 2
(Lead-Acid
Battery)
Relay 1
(Fuel Cell Stack)
Relay 3
(DC Motor)
DC MotorMotor Controller
IFcIFc
ICharge
IBat
IMotorIFc+Bat
FCHYBC
Auxiliary
PMotor
PMan
