 2
長度的增減。 
 
A. 訊框長度的描述 
 
在 DFLCA 中，訊框的長度是可以根據節點數
量或是網路拓樸來做動態的調整的。圖 1 表示
DFLCA 格式，位於其競爭區域的節點。節點 k 位
於節點 i 和節點 j 重疊的競爭區域內。因為節點 k
是一個隱藏節點，所以節點 k 在選擇時槽來傳送的
時候，必須注意到可能發生的碰撞。因此，當時槽
1 和時槽 2 已經被節點 j 取得後，節點 k 則必須選
擇時槽 3 來傳送，否則節點 k 勢必會被拒絕傳送。
每個節點所管理的訊框，其長度設為二的指數倍，
如此一來，可以避免在 two-hop 競爭區域內，因為
訊框長度不一致造成的碰撞問題。舉例來說，節點
k 處於一個訊框長度為 4 和一個訊框長度為 8 的競
爭區域內，則節點 k 可以將自己管理的訊框長度設
為 8，如此一來，就能夠避免封包在競爭區域內的
碰撞。 
如圖二表示，協定制定每個節點都有一個控制
頻道和一個資料頻道。第一個時槽(0’)為新節點要
加入時，或是新連線要建立時所專用的。控制頻道
的訊框長度為二的指數倍，而且其大小包括新節點
的時槽；而資料頻道的訊框長度也如同控制頻道一
般，只是訊框前頭少了一個時槽的長度而已。每個
節點都會擁有一份控制頻道和資料頻道。 
 
B. 資料頻道 
 
當節點有資料要傳送時，會利用自己的訊框發
出一個時槽請求。資料封包中夾帶自己的訊框長度
和時槽分配的資訊，傳送給周遭的鄰居。 
 
C. 控制頻道 
 
控制頻道是由每個訊框的第一個時槽所構成
的。時槽 0’是專門作為控制用途，為相關的資料時
槽所保留。假設某個節點想要保留一個時槽，就會
利用相對應的控制時槽來競爭。當節點有資料要使
用資料時槽傳送時，會利用接下來描述的四種階
段，利用控制封包發送，來宣告取得一個時槽。 
1) 請求階段：這是一個初始化的階段。節點會
發出一個請求的封包，詢問周遭的鄰居他們
對於各自訊框使用的狀況。 
2) 回覆階段：這是取得時槽的第二階段。周遭
的節點會回覆第一階段接受的到請求封
包，封包內容包含自己的訊框長度和時槽分
配狀況，以及已知的鄰居訊框資訊。 
3) 保存階段：在這個階段，節點接收到第二階
段回覆的資訊，接著發出通告封包，告知鄰
居自己的訊框長度，以及訊框分配的情況。 
4) 確認階段：這個階段，鄰居節點收到節點發
出的通告封包，並且允許該節點使用該時
槽。鄰居節點會回覆一個確認封包，代表接
受該時槽的使用。 
請參考圖 3，現在節點 i 想要傳送資料給節點
n1。在請求階段，節點 i 送出請求封包(REQP)，節
點 i 的鄰居收到請求封包後，就會利用分配好的控
制時槽送出回覆封包(RSPP)，節點 i 蒐集收到的每
個封包後，挑選出一個沒有被使用的時槽，並且送
出保存封包(RSRP)，節點 i 的鄰居收到保存封包之
後，同樣利用分配好的時槽發出確認封包
(CFMP)。最後，節點 i 正式取得第五個時槽；利
用四個階段的保留機制如此一來就完成了。 
 
D. 動態頻道分配 
 
在多點式跳躍無限特殊網路的環境中，
DFLCA 的方式是以時槽的架構為基礎發展出來
的。我們提出的協定中，訊框的長度會根據競爭區
域內的網路流量或是節點個數做調整，利用這個方
式來控制沒被使用到的時槽。當一個新加入的節點
發現時槽的使用有衝突的情況時，此時會先傾聽並
且蒐集周遭的節點使用時槽的狀況。利用我們的協
定，能夠明顯的增進頻道重複使用效率，提昇網路
的總流量。DFLCA 利用控制時槽和控制封包在各
節點間的互相溝通，來取得可以使用時槽。DFLCA
頻道分配的方式如下： 
1) 當一個無限節點有資料要傳送，卻沒有可以
使用的時槽(FindSlot = False)。 
2) 該節點為了蒐集時槽使用情況，會先傾聽周
遭其他節點使用時槽的資訊。 
3) 該節點會先將自己的訊框長度設為蒐集到
的資訊中，周遭鄰居訊框長度的最大值。 
4) 根據蒐集到的資訊，該節點更新自己的訊框
表單。 
5) 如果其中有未使用的時槽，則把 FindSlot 設
為 True。 
6) 假如 FindSlot 依然為 False，而且有其他連結
使用兩個時槽以上，則利用溝通的方式，取
得編號較大的時槽為己用。 
7) 假如 FindSlot 為 False，且沒有其他連結使用
多個時槽，則會將訊框的長度做倍增，並且
複製前半段訊框使用的情況到後半段的時
槽，接著將未使用的時槽分配給該節點使
用。 
8) 現在該節點取得自己可以使用的時槽了，接
下來會發出保存封包告訴周遭的鄰居。 
9) 鄰居收到保存封包後，回覆確認封包給該節
點，並且將該訊框使用資訊也一併通知原節
點 two-hop 的鄰居。 
 
E. 有效率的復原方式 
 
DTSA 協定的一個限制就是訊框長度，當把它
增加的方式設為倍增，可能會因為網路中有太多的
節點而造成增長的速度太快。當傳輸完成，連線釋
放掉之後，不斷的累積，便會造成訊框中存在太多
未使用的時槽。 
在DFLCA中所使用的有效率復原方式提昇了
 4
2) 控制封包總量：單位時間內所產生的控制封
包數量。 
圖 5 標示 DFLCA 和 DTSA 的頻道重複使用效
率，由圖發現 DFLCA 的頻道使用效率比 DTSA 高
多了。在 DTSA 中，隨著訊框長度的增加，頻道
重複使用效率並沒有明顯的跟著成長。在 DFLCA
中，我們使用之前敘述過的方法，隨著訊框長度越
長，頻道重複使用效率的情況越明顯；而且隨著訊
框長度越長，訊框回復的功能也越常被使用，使得
有較佳的頻道重複使用效率。 
表 1 的資訊是 DFLCA 和 DTSA 在不同最大訊
框長度和不同節點的環境下，平均每秒的總控制封
包量，多出的這些頻寬是由控制頻道造成的。
DFLCA 比 DTSA 花費更多的控制頻寬是因為使用
有效率的回復方式，必須較多傳送請求和確認封包
導致的。 
在 DFLCA 中，較佳的頻道重複使用效率就是
利用這些額外的控制封包來達成的。為了證明
DFLCA 可以讓頻寬的使用更節省，接下來我們將
控制訊號所花費的頻寬和頻寬使用率做個轉換。 
舉例來說，600 個節點、最大訊框長度為 64、
負載參數為 8 的情況下，從圖 6 我們可以發現
DFLCA 使用 59 個時槽，DTSA 使用 38 個時槽；
從表 1 我們可以得知 DFLCA 每秒產生 35.77 個控
制封包，而 DTSA 每秒產生 13.73 個控制封包。比
較 DFLCA 和 DTSA 頻寬節省的情況，平均每個控
制封包可以省下(35.77-13.73)÷(59-38)=1.05 的頻
寬。如果平均控制標頭量為 1kB，那所耗損的頻寬
就是 1.05kBps/channel，也就是 8.40kbps/channel。
因此，我們可以想成使用 8.40kbps 來節省一個頻
道(一個頻道的大小往往超過 64kbps)。這也是為什
麼DFLCA可以比DTSA在多點式跳躍無線特殊網
路下有更好的效能的原因。表 2 比較了各種情況
下，DFLCA 與 DTSA 每個控制封包與頻寬節省率
的關係。 
 
四、 結論 
 
DFLCA 協定會根據網路的流量負載或是競爭
區域內節點的個數來動態調整訊框的長度，達到控
制訊框長度增減的功能，這個方式將頻道做更有效
的利用。當有連線釋放的時候，往往很多節點就會
留下許多未使用的時槽，利用我們提出的有效率的
回覆機制，利用重整和更新頻道表的方式，減少未
使用的時槽的數量。DFLCA 改善了 DTSA 在跳躍
式無線特殊網路的缺陷，並且能夠讓網路重複使用
率提高，DFLCA 的網路重複使用率大約是 DTSA
的三倍左右。另一方面，因為使用有效率的回覆機
制必須發出大量的通知或確認封包，造成網路的控
制封包流量提高不少。但是根據模擬的結果，與頻
道資源的節省比較起來，這些增加的控制封包流量
是能夠忽略的。 
 
參考文獻 
 
[1] H. Lee. J. Yeo, S. Kim, and S. Lee,”Time slot 
assignment to minimize delay in ad hoc 
networks,” IST Mobile Communications 
Summit, Sep. 2001. 
[2] L.C. Pond and V.O.K. Li, ”A distributed 
time-slot assignment protocol for mobile 
multi-hop broDFLCAst packet radio networks,” 
in Proc. IEEE MILCOM ’89, vol.1, pp. 70-74, 
Nov. 1989. 
[3] C.R. Dow, C.M. Lin and D.W.Fan,”Avoidance 
of hidden terminal problems in cluster-based 
wireless networks using efficient two-level code 
assignment schemes,” IEICE Trans, 
Communications, vol. E84-B, no. 2, Feb. 2001, 
pp. 180-190. 
[4] C.D. Young, ”USAP: A unifying dynamic 
distributed multichannel TDMA slot 
assignment protocol,” in Proc. IEEE 
MILCOM ’96, vol.1, pp.235-239, Oct. 1996. 
[5] C.D. Young, ”USAP multiple access: dynamic 
resource allocation for mobile multihop 
multichannel wireless networking,” in Proc. 
IEEE MILCOM ’99, vol.1, pp.271-275, Nov. 
1999. 
[6] A. Kanzaki, T. Uemukai, T. Hara, and S. 
Nishio, ”Dynamic TDMA slot assignment in ad 
hoc networks,” in Proc. 17th IEEE AINA’03, 
pp. 330-335, Mar. 2003. 
 
 
計畫成果自評 
1. 研究內容與原計畫相符程度達 100% 
2. 達成預期目標情況達 100% 
3. 研究成果之學術價值:證明這個方法所花費控
制標頭的頻寬，與增進頻道重複使用效率相比
是值得的。 
4. 適合在學術期刊發表:已將成果投稿於
Computer Communications(SCI)期刊。 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
