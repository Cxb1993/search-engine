 2 
XjǿĶ  
ɡnēȆū]ę´ÑƸǬȌœÒƕYįƽ
·ƇąħǌóðƘ¥ļĶąƋȶñúșɫ=¢±;ċƵrÄŒą·Ƈħǌȃſ
~tɱɘɆHŇÕƈǜśHąĄĂ;äǂZƣèąăɆ=ɈķƼąȟÄĪƽŊ~ɧ
­ą·ħǌȃƸȔȯ;tċƵärÄŒ£ȃſśŽ·Ƈħǌ=
¤ȵŃ·ƇħǌȃƸąɈķƼX;SķƼąįÜǾǉĪŸ·ɂǗƸȯ@24(5574(
5(0514AąɡnȾwčǩȝ¹bąɡnēȆǶǰū;įÜkĔĪƽŊï´ÑƸǬȌ
œÒƕ=ŀ;ķƼŸũǾSķƼGúéąɡnēȆǶǰĤȀ@{É5,*0$.
&10',6,10,0*Ȍ$0$.1*61',*,6$. &108(45,10AƽŊ´ÑƸǬÒƕte~tȌYŨ¡ąƾɰ
œÒƕ=ƁǄ;ķƼŸƽŊtƛɰ@ȌSķƼM¡¾Aùȝ¹ǶǰǼƌąȝ¹b
´ÑœÒƕ;tŬ}ȎƿůƎùƠɅǻ¢ŝVɏƟ®ąČƋǘŐɃ;ɕ´
ÑƸǬǶǰąǌƸǁþ;ķȈwȝ¹bœúȒąűȝCě;ķƼŸÕǋE×ƽŊ
ɡnȝ¹ɗƱȯūąŉȿÒƕ;tƮdƍĖąÞƊ=
ɟɌ¨?ū<´ÑƸǬ<´Ñœ<ŉȿÒƕ
 
ĴjǿĶ  
Built-In Self-Testing and Calibration Techniques for Analog Front-End Array 
Blood flow and blood pressure are affected by many crucial mechanisms; thus, a 
long-term and real-time blood monitoring device provides the medical professionals with 
more patient’s physical conditions. The goal of the main project is to develop a non-invasive 
and portable blood monitoring device. 
The goal of this sub-project is to develop self-testing and self-calibration techniques for the 
analog front-end circuit array which converts the analog signals from the sensor array into 
digital signals. First, we will work with sub-project II to develop the ADC self-testing and 
calibration techniques. Then, we will work with sub-project III to develop the corresponding 
software procedures or programs to be performed in the digital signal processor. 
Keywords: ADC Array, Self-Testing, Self-Calibration, Fault Tolerance 
 4 
ǚWüǷƵąƋǘŁ=ǾƉ¡čǩǶǰ³á;ƜéżƙķĉǒŮĭǢĐ«ąƙķ;
éżúƍą IC ¤úƙõąȎƿůƎ@process variationA]ĬŢŹǲ¾;tǴð~
ƁóąÞƊ@yieldA=ƺ³;ƜŃɊüĐ«ąƙķhĦ;ŹƟ®ǵĘƙķ@over-designA;
ȱĲWĶązƊŘŠ<ƾɰĿȸȖyǀWÂșɫ=üȝ¹ǶǰĭǾ³á~t¢ĪȎ
ƿąÓǋ³żðÕ¦ąǋ×@§?Ŀȸ<ƞĘ<zƊŘŠA;¢±;ǙąƉ¡čǩǶǰ
ƙķɊǔĢéǱfùøŢǱŋąɡnǶǰ@tƐ¡zƊŘŠȌĿȸǀȒÙA;³é
®Ǳ¿ąȝ¹ǶǰìœɡnǶǰąČȦøĘ;ë§¤[Murmann 2004]úƮwą
Digitally-Assisted Pipeline ADCs= 
ĪFǴð~ɧȌċƵȃſąą;úƽŊą·ħȃſȯǚŸɂǗū<ɡnēȆ
ūȌȝ¹čǩƔƋȯȵ¡¤ƧEÝƑƲpO=ŭĘąȵ¡éż±·ħȃſÝƑƲpą
~ƸǬøƙķ@design-for-test;DfTAȌœ@calibrationAɮżK`ļĶ;ïņ¢§N? 
1. ~ƸǬøƙķ@DfTA  
ÝƑƲp]ƠąčǩɳǽùſñǱĪÊɠ;WÂüľ¿ǌƍƸǬ®=¤±·ħ
ȃſÝƑƲpX;ɡnēȆūąȾIȆŸWƁðƲpƁǧ@I/O pinA;ɮ®F]Ơ
čǩ=üɕſñɂǗūìƍƸǬɡnēȆūúȒąɡnčǩČŹÊɠ;ĳƹ
ȭǢą~ƸǬøƙķ@design-for-testA;ÅHŢǥȵŃÝƑƲpązŢƸǬìƂƸ
ɡnēȆūąøŢ;Ɵ®ƸǬ®ƮŭȌƹāƮêȿȏǈɐ@fault diagnosisAǯŦą
Ųɛ= 
2. øŢůƎœ  
¤±·ħȃſÝƑƲpX;ɂǗūȌɡnēȆūơǚóðȎƿůƎąșɫ;
Ɵ®øŢůƎƋǘąƙķŁ=§ēúĺ;Ɯéżœ®Īǒ=tɂǗȌɡnēȆū
Īë;ÅHúǋ¸ąœ~tƣŹßąȦøĘ@linearityA<ȖŜ@gainAȌ DC Ǡ¹
ąœ;ð~tŉÐƽɣļȿȏ³ƹāéąūƧ\@Ä~ŉȿąƙķA=¤Ý
ƑƲpXyIøŢœąǶǰąɀɎ¯íŃĿĭ?ŀ;¢ĪȎƿůƎ³WƐ¡ƗŖą
Ʋp~tǥœ³ȁâøŢȒÙ;Ɯ~tƮŭƲpȎƟąÞƊ@yieldA>ĉ;ÅH
~tÕȸǝ£ûɜƙķŒąƗŖ;çȽœìǴðúȒąøŢĶÙ= 
 
¤ȵŃ~ɧ­·ħȃſÝƑƲpX;SķƼąà¶ÄĪŸƽŊɡnēȆǶǰū
ą´ÑƸǬȌœÒƕ;tƮŭȵŃÝƑąƙķ<ƍȌƸǬąŐƊ= 
 6 
jɤƀť  
ɡnēȆū{Ğčǩȫȵ@signal conditioningAȌɡnȝ¹ɗƱ@analog-to-digital 
conversionAíŃƠ=üčǩȫȵǶǰąȾwĪɡnčǩ;ï´ÑƸǬǶǰąǼƌ
ǱW~¸>¢±;SķƼŸïǅĪ ADC ūąEƠìǋ¸ƸǬȌœ= 
¤Ȅ ADC ÒƕX;tǎɟǶŉ@switched-capacitor;SCAÒƕĪŵɒąȇȦ­
ɡnȝ¹ɗƱȯ@pipelined ADCAĢòȞƊ<ŭǫÿĘɃŹąɡnȝ¹ɗƱÒƕ=
ƺ³;ƹ~ɋÀą\WcŨĽñF pipelined ADC ąǫÿĘ=Eţ³á;Û¯ǥǵœ
@calibrationAùȫȵ@trimmingAą pipelined ADC ïǫÿĘƝŹŢǴð 10 Ń¹\
[Bernal 2006]=Eţ³á;ǶŉWcŨȌnǱȯąȾIǶɂůƎ@,02761))5(681.6$*(A
ĢƟ® 2,2(.,0(' ČȦøŚøąíŃsĶņ¢=
ĪFƮŭ 2,2(.,0(' ąøŢ;ǵ}Uǥ¯ĭǢ¥ąÒƕƖƮw>ƜåÒƕ~t
Ű`ĪɡnȌȝ¹ąkā=¤" 10* #X;¾ĉƮwEŃǶŉȿȏËÒƕ@
&$2$&,614 (4414$8(4$*,0* 6(&+0,37(;±ÒƕéíŃȴ¾ûRȯ@12$/2AȌMŃȴ¾
Ƞ­?òȞȠ­@5$/2.,0*2+$5(A<ûRȠ­@$/2.,),&$6,102+$5(AȌÚõȠ­@'(&,5,10
2+$5(A=¤"+$4$ #X;ĪFǫÚWcŨąŲɛ;yIFEŃ~ȫȵǶŉūìȋ
ĜǶŉącŨ=Eţ³á;ƃɡnkāą 2,2(.,0(' œÒƕơ~tǴðĭǢ¦
ąœŐþ;½úȒĶąɚǶǰĿȸȌȱĲąɚǶǰȨəĘĕ~ŢƹāƁó;ë
§?" 10* #ȒĶíŃȴ¾ûRȯȌMŃȴ¾Ƞ­>"+$4$ #ȒĶEŃǶŉū
=
ĭǱYN;ȝ¹œÒƕĔɋÀńÓùșɫ 2,2(.,0(' XnǱƅǗąɡnǶǰ
="1/%1765 #ƮwFEŃȝ¹ȿȏËÒƕ@',*,6$. (4414$8(4$*,0*A;±ÒƕŸ
2,2(.,0(' `®ēěíĦ@  Ȍ  A;äréěĦąƬŞìńēĦƬŞą
ČȦøĘ;±ÒƕąşɎĢɡnȝ¹ɗƱƞƊǚɮ®ņìąE|="+(0#ƮwEŃ
~ȭøıƳœÒƕ@$'$26,8(%$&-*4170'&$.,%4$6,106(&+0,37(A;±ÒƕġWȒĶ
ºŚÁąƸǬčǩ;PWǾº 2,2(.,0(' ]Ơčǩǋ¸ǌƸ;±ÒƕĜɨȃſ
2,2(.,0(' ȾwȢìÚõąœűȝ;±kāóĽüǒŒŒÕǙœŦō;
±;ĪFǫÚnǱȯȾIůƎ@&1/2$4$6141))5(6AúȒąŤȲɰŉǌǚÇƌĝȝÏą
®ċ=¤"$4$0,&1.$5	#<"71
#<"418156
#<",0#Ȍ"$,#ǀÒƕ
WȒĶńÓ2,2(.,0('ĤȀ>ƜåÒƕơ`ÿąȾwȢ³ƂȱwØEŞǾɃą
ȿȏĒȝ;äréƜåȿȏĒȝìǋ¸ȝ¹œ;ƜåkāąWƔ¤üƂȱȿȏ
ĒȝąkāW=¤"$4$0,&1.$5 	#Ȍ"71 
#X;ĒɕŻñƙõģåŞą 
ȾIŁ>"418156
#Ȍ",0#é]ęą @,06(*4$.010.,0($4,6:AķȈǶǰżð
 8 
Jun. 2008. 
[Huang 2009] X.-L. Huang, P.-Y. Kang, Y.-C. Yu, and J.-L. Huang, “Co-calibration of capacitor mismatch and 
comparator offset for 1-bit/stage pipelined ADCs,” IEEE International Symposium on VLSI Design, 
Automation, and Test, Apr. 2009. 
[Jin 2005] L. Jin, D. Chen, and R. Geiger, “A digital self-calibration algorithm for ADCs based on histogram test 
using low-linearity input signals,” IEEE International Symposium on Circuits and Systems, vol. 2, May 
2005, pp. 1378-1381. 
[Karanicolas 1993] A. N. Karanicolas, H.-S. Lee, and K. L. Bacrania, “A 15-b 1-Msample/s digitally 
self-calibrated pipeline ADC,” IEEE Journal of Solid-State Circuits, vol. 28, no. 12, pp. 1207-1215, Dec. 
1993. 
[Lee 1992] S.-H. Lee and B.-S. Song, “Digital-domain calibration of multistep analog-to-digital converters,” 
IEEE Journal of Solid-State Circuits, vol. 27, no. 12, pp. 1679-1688, Dec. 1992. 
[Murmann 2004] B. Murmann and B. E. Boser, Digitally Assisted Pipelined ADCs: Theory and Implementation, 
Kluwer Academic Publishers, 2004. 
[Nikoozadeh 2006] A. Nikoozadeh and B. Murmann, “An analysis of latch comparator offset due to load 
capacitor mismatch,” IEEE Transactions on Circuits and Systems - II, vol. 53, no. 12, pp. 1398-1402, 
Dec. 2006. 
[Ohara 1987] H. Ohara, H. X. Ngo, M. J. Armstrong, C. F. Rahim, and P. R. Gray, “A CMOS programmable 
self-calibrating 13-bit eight-channel data acquisition peripheral,” IEEE Journal of Solid-State Circuits, 
vol. SC-22, no. 6, pp. 930-938, Dec. 1987. 
[Provost 2004] B. Provost and E. Sanchez-Sinencio, “A practical self-calibration scheme implementation for 
pipeline ADC,” IEEE Transactions on Instrumentation and Measurement, vol. 53, no. 2, pp. 448-456, 
Apr. 2004. 
[Rombouts 1998] P. Rombouts and L. Weyten, “A digital error-averaging technique for pipelined A/D 
conversion,” IEEE Transactions on Circuits and Systems-II, vol. 45, no. 9, pp. 1321-1323, Sep. 1998. 
[Song 1988] B.-S. Song, M. F. Tompsett, and K. R. Lakshmikumar, “A 12-bit 1-M sample/s capacitor 
error-averaging pipelined A/D converter,” IEEE Journal of Solid-State Circuits, vol. 23, no. 6, pp. 
1324-1333, Dec. 1988.
 10 
missing segments. In “Boundary Code Modification,” some narrow boundary codes are 
merged to improve the final linearity. Finally, overlapping missing segments due to severe 
mismatch are identified to derive the correct per-stage error coefficient. At the end of Phase 
II, the error coefficients of the calibrated stages are stored. 
Fig. 4 shows the block diagram of the proposed technique. During the two-phase 
calibration flow, ATE applies the linear ramp to the ADC under test to perform linear 
histogram testing and executes the calibration algorithm. After the calibration flow, the gain 
adjustment information and the error coefficients are stored in on-chip non-volatile memory 
inside the controller. (One may use fuses instead to store the calibration information.) During 
the normal ADC operation, the controller, upon powered up, loads the gain adjustment 
information to the gain control scan chain and the error coefficients i’s to the error coefficient 
registers. (In this figure, it is assumed that the first three stages are calibrated.) 
 
 
 
,*74(	!+(6912+$5(2,2(.,0('&$.,%4$6,10).19 
 
,*74(
.1&-',$*4$/1)6+(241215('&$.,%4$6,106(&+0,37( 
 12 
Fig. 6 shows the DNL and INL plots after applying the phase I missing-decision-level 
calibration. As we have expected, the missing-decision-level errors are removed, i.e., DNL is 
less than 1 for all codes, via MDAC gain reduction. Note that the side effect is the increased 
number of missing codes; this is to be solved in phase II. 
Fig. 7 depicts the final DNL and INL results after applying the phase II calibration. The 
plots show that all the missing codes and missing-decision-level errors are removed. 
Furthermore, the maximum DNL and INL are reduced to 0.35 and 0.65 LSB, respectively. 
This demonstrates the effectiveness of the proposed technique. 
 
Conclusion 
This work presents a simple yet efficient calibration algorithm for 1-bit/stage pipelined 
ADC. Both capacitor mismatch and comparator offset are calibrated, and techniques are 
developed to deal with narrow boundary codes and overlapping missing segments. 
 
,*74(!+(),0$.$0'2.165 
□  赴國外出差或研習 
□  赴大陸地區出差或研習 
■ 出席國際學術會議 
□  國際合作研究計畫出國 
心得報告 
報 告 人 
姓 名 
黃俊郎 
服 務 機 構 
及 職 稱 
副教授 
電子工程學研究所 
會議/訪問時間 
 地點 
十一月七日 ~  十一月十三日 
San Jose, California 
會 議 名 稱 
國際電腦輔助設計會議（ICCAD, International Conference on Computer Aided Design） 
平行化電腦輔助設計會議（ParCAD） 
一、經過 
十一月七日搭乘晚上長榮BR18班機出發，於當日下午抵達舊金山國際機場，當晚即住宿於會議
舉辦所在旅館。 
星期一為ICCAD大會開幕，過去通常在一樓宴會廳舉辦，今年是在二樓舉辦，略顯寒酸，但因
為場地較小，所以幾乎滿座。 
今年ICCAD共有382篇論文投稿，接受率為28%，維持一貫的品質要求。很驚訝地看到教育改進
計畫中的DAT聯盟出現在贊助廠商名單中，這對於提升台灣的能見度幫助很大。今年台灣沒有在
CADathlon競賽中得獎，十分可惜。 
Keynote講者為UCSD的Bouwer博士，講題為“Multi-Scale Microscopy of the Nervous Systems: The 
Challenge of Imaging and Organizing Data Across Spatial Scale Spanning Twelve Orders of 
Magnitude”。主要的挑戰在於處理極大的資料量，這應該跟資料庫建立與計算機架構較相關，與
電腦輔助設計似乎較無直接關連。 
下午報告與Mentor Graphics合作發表的論文：A Scalable Quantitative Measure of IR-Drop Effects 
for Scan Pattern Generation。測試相關的論文在ICCAD中並沒有太多人注意，只有約20人在場。 
今年的technical program的四個tracks中，有一個為Tutorial track，相當特別，對於想找新題目
的人幫助不小。參加了比較有興趣的“Analog Challenges in Nanometer CMOS and Digitalization of 
Analog Functions”、“ Organic Electronics”與“Manufacturing, CAD and Thermal-Aware 
Architectures for 3-D MPSoCs”三個tutorials。在類比電路設計自動化方面，並沒有太令人興奮的發
展，還停留在re-sizing的階段；一個比較有趣的觀點則是在高速低解析度的應用上，類比信號處理
可能比數位信號處理更有利。在Organic Electronics方面，雖然已經有一些數位與類比電路設計成功
的例子，但是現有的材料實在無法與CMOS抗衡，如果在元件方面沒有突破的化，以CMOS積體電
路實現運算配合軟電適合大面積佈建的特性比較可能找到更多的應用。3D-IC的tutorial了無新意，
乏善可陳。 
 
ParCAD於星期四（Nov. 11）舉辦，參加人數約三十人。Keynote是由相當固執的Prof. Arvind from 
MIT報告80年代平行運算發展的經驗。建議是應該往高階發展，不要在thread層級搞平行。 
在Computing Platforms部份，RPI與Amazon各自發表所使用的平行計算平台。在應用方面，
Altera、Sandi National Labs報告其平行軟體。在平行化輔助工具方面，Intel介紹其軟體。最後，在
Panel則是一番激戰，對於平行化到底幫助有多大與可行性有多高，眾說紛紜，鬧成一團。 
 
晚上，拜訪Syntest，與王榮騰博士討論合作事宜。 
 
最後，搭乘舊金山當地星期五凌晨BR17班機於星期六早上回到台北。 
 
二、心得 
測試在ICCAD仍然是個冷門的題目，若非因為知名度較高，實在不是個發表論文的好地方。3D-IC
雖然很熱門，但感覺上與2D差別並不大，主要問題是熱與電力，目前CAD可著力處並不多。軟性電
國科會補助計畫衍生研發成果推廣資料表
日期:2011/05/31
國科會補助計畫
計畫名稱: 子計畫四：類比前端陣列內建自我測試與校正技術之研發(1/3)
計畫主持人: 黃俊郎
計畫編號: 99-2220-E-002-034- 學門領域: 晶片科技計畫--整合型學術研究
計畫
無研發成果推廣資料
其他成果 
(無法以量化表達之成
果如辦理學術活動、獲
得獎項、重要國際合
作、研究成果國際影響
力及其他協助產業技
術發展之具體效益事
項等，請以文字敘述填
列。) 
無 
 成果項目 量化 名稱或內容性質簡述 
測驗工具(含質性與量性) 0  
課程/模組 0  
電腦及網路系統或工具 0  
教材 0  
舉辦之活動/競賽 0  
研討會/工作坊 0  
電子報、網站 0  
科 
教 
處 
計 
畫 
加 
填 
項 
目 計畫成果推廣之參與（閱聽）人數 0  
