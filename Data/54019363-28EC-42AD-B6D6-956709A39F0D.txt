requirements and results in much higher bandwidth 
efficiency than previous algorithms. 
英文關鍵詞： Quality of Service, Wireless LAN, Scheduling 
 
Abstract 
The Medium Access Control (MAC) of IEEE 802.11e defines a novel coordination 
function, namely, Hybrid Coordination Function (HCF), which allocates Transmission 
Opportunity (TXOP) to stations taking their quality of service (QoS) requirements into 
account.  However, the reference TXOP allocation scheme of HCF Controlled Channel 
Access (HCCA), a contention-free channel access function of HCF, is only suitable for 
constant bit rate (CBR) traffic.  For variable bit rate (VBR) traffic, packet loss may occur 
seriously.  In this project, we generalize the reference design with an efficient TXOP 
allocation algorithm, a multiplexing mechanism, and the associated admission control unit to 
guarantee QoS for VBR flows with different delay bound and packet loss probability 
requirements.  We define equivalent flows and aggregate packet loss probability to take 
advantage of both intra-flow and inter-flow multiplexing gains so that high bandwidth 
efficiency can be achieved.  Moreover, the concept of weighted-loss fair service scheduling 
is adopted to allocate the aggregate TXOP to individual flows.  From numerical results 
obtained by computer simulations, we found that our proposed scheme meets QoS 
requirements and results in much higher bandwidth efficiency than previous algorithms. 
Index Term: Quality of Service, Wireless LAN, Scheduling 
 4 
1. Introduction 
Wireless networks such as IEEE 802.11 WLANs [1] have recently been 
deployed widely with rapidly increasing users all over the world.  As real-time 
applications such as VoIP and streaming video are getting more common in daily life, 
quality of service (QoS) guarantee over wireless networks is becoming an important 
issue.  Generally speaking, QoS support includes guarantee of maximum packet 
delay, delay jitter, and packet loss probability.  To cope with this problem, a new 
enhancement of WLANs, called IEEE 802.11e [2], was introduced to provide QoS 
support for real-time traffic.  Because of the importance of QoS support in WLANs, 
IEEE 802.11e had been combined into IEEE 802.11 in 2007 [1]. 
The QoS-aware coordination function proposed in IEEE 802.11e is called Hybrid 
Coordination Function (HCF).  This function consists of two channel access 
mechanisms.  One is contention-based Enhanced Distributed Channel Access 
(EDCA) and the other is contention-free HCF Controlled Channel Access (HCCA).  
The contention-free nature makes HCCA a better choice for QoS support than EDCA 
[3]. 
HCCA requires a centralized QoS-aware coordinator, called Hybrid Coordinator 
(HC), which has a higher priority than normal QoS-aware stations (QSTAs) in gaining 
channel control.  HC can gain control of the channel after sensing the medium idle 
for a PCF inter-frame space (PIFS) that is shorter than DCF inter-frame space (DIFS) 
adopted by QSTAs.  After gaining control of the transmission medium, HC polls 
 6 
sample scheduler with modified TXOP allocation algorithm and admission control 
unit so that both delay bound and packet loss probability requirements of admitted 
traffic flows can be fulfilled.  The fact that many real-time VBR applications can 
tolerate packet loss to certain degree was taken into consideration in those schemes to 
improve bandwidth efficiency.  The sample scheduler does not take advantage of 
inter-flow multiplexing gain because the TXOP duration allocated to a QSTA is the 
sum of the TXOP durations allocated to individual flows attached to it.  The schemes 
proposed in [5]–[8] result in higher bandwidth efficiency than the sample scheduler 
because they considered inter-flow multiplexing effect.  In references [5] and [6], it 
was assumed that all traffic flows have the same delay bound of one SI and the same 
packet loss probability requirement.  In [7], traffic flows are allowed to have 
different delay bound but identical packet loss probability requirements.  A finite 
buffer is provided for packets with delay bound greater than one SI.  With such a 
buffer, packets that arrived in different previous SIs (and have not violated their delay 
bound requirement) can share the current TXOP to achieve intra-flow multiplexing 
gain.  The Rate-Variance envelope based Admission Control (RVAC) algorithm 
presented in [8] uses token buckets for traffic shaping.  With the token buckets, the 
envelope of traffic arrival can be determined.  Using the traffic envelope and the 
given delay bound requirement, one can compute the packet loss probability for an 
allocated bandwidth.  This scheme only considers identical delay bound and packet 
loss probability requirements. 
In contrast to static ones, a dynamic scheduling scheme allocates TXOP duration 
 8 
The remainder of this project is organized as follows.  In Section 2, we describe 
the system model.  In Section 3, we review related previous works.  Section 4 
contains our proposed TXOP allocation algorithm, the weighted-loss fair service 
scheduler, and the associated admission control unit.  Simulation results are provided 
and discussed in Section 5.  Finally, we draw conclusion in Section 6.
 10
illustrated in Fig. 1, the TXOP for kQSTA , denoted by kTXOP , is allocated every SI 
and is of fixed length.  The length of scheduled SI is chosen to be the minimum of 
all requested delay bounds.  Note that SI is updated if a new flow with delay bound 
smaller than those of existing ones is admitted or the existing flow with the smallest 
delay bound is disconnected and there is no other existing flow with the same delay 
bound.  In this case, the TXOPs allocated to QSTAs have to be recalculated 
accordingly. 
T
X
O
P
1
T
X
O
P
2
T
X
O
P
a
T
X
O
P
K
T
X
O
P
1
T
X
O
P
2
T
X
O
P
a
T
X
O
P
K
 
Fig. 1 Static and periodic schedule for 802.11e HCCA. 
Consider the existing flows of a specific QSTA, say QSTAa.  The na flows 
attached to QSTAa are classified into groups according to their QoS requirements.  
Let 
,i jF  represent the set which contains all traffic flows with packet loss probability 
iP  and delay bound jD .  Furthermore, let 1 ,i j J i jF F≤ ≤= U  and 1 i I iF F≤ ≤= U .  To 
reduce computational complexity, we assume that the traffic arrivals of different flows 
are independent Gaussian processes.  Since sum of independent Gaussian random 
variables remains Gaussian, the aggregated flow of all the flows in set 
,i jF  is 
Gaussian and will be represented by 
,i jf .  For convenience, we shall consider ,i jf  
as a single flow.  A separate queue, called 
,i jQueue , is maintained for flow ,i jf , 
1 i I≤ ≤  and 1 j J≤ ≤ .  Let 2
, ,
( , )i j i jN µ σ  denote the distribution of traffic arrival 
 12
3. Previous Works 
3.1 The Sample Scheduler 
Consider aQSTA  which has an  flows.  Let lρ , lL  denote, respectively, the 
mean data rate and the nominal MSDU size of the lth flow attached to QSTAa.  HC 
calculates aTXOP  as follows.  Firstly, it decides, for flow l, the average number of 
packets lN  that arrive at the mean data rate during one SI 
 
l
l
l
SIN
L
ρ ×
=  
 
 (1) 
Secondly, the TXOP duration for this flow is obtained by 
 
max
min minmax ,
l
l l
a a
L LTD N O O
R R
   
= × + +  
   
 (2) 
where minaR  is the minimum physical transmission rate of aQSTA , and maxL  and O 
denote, respectively, the maximum allowable size of MSDU and per-packet overhead 
in time units.  The overhead O includes the transmission time for an ACK frame, 
inter-frame space, MAC header, CRC field and PHY PLCP preamble and header. 
Finally, the total TXOP duration allocated to aQSTA  is given by 
 
1
an
a l POLL
l
TXOP TD SIFS t
=
 
= + + 
 
∑  (3) 
where SIFS and POLLt  are, respectively, the short inter-frame space and the 
transmission time of a CF-Poll frame. 
Admission control is performed as follows.  Assume that aQSTA  negotiates 
with HC for admission of a new traffic flow, i.e., the ( 1)than +  flow of aQSTA .  For 
 14
delay bound is j SIβ .  Let 1, jf , 1 j J≤ ≤ , with traffic arrival distribution 
2
1, 1,( , )j jN µ σ  denote the aggregated flow of all the flows in set 1, jF .  The first come 
first serve (FCFS) service discipline was adopted for packet transmission.  The 
effective bandwidth 1, jc  of flow 1, jf  is computed to take advantage of intra-flow 
multiplexing gain.  The effective bandwidth 1, jc  is defined as the minimum TXOP 
allocated to flow 1, jf  to guarantee a packet loss probability smaller than or equal to 
1P  for flow 1, jf .  Since the delay bound of flow 1, jf  is j SIβ , the effective 
bandwidth 1, jc  can be determined with a finite-buffer queueing model where the 
buffer size is 1,j jcβ , the server transmission capability is 1, jc , and the desired packet 
loss probability is 1P .  Given the traffic arrival distribution 
2
1, 1,( ,  )j jN µ σ , the 
effective bandwidth 1, jc  can be written as 1, 1, 1, 1,j j j jc µ α σ= + , where 1, jα  was 
called the QoS parameter of flow 1, jf .  Derivation of packet loss probability for a 
finite-buffer system is complicated.  Reference [16] provided a good approximation 
based on the tail probability of an infinite buffer system and the loss probability of a 
buffer-less system, as shown in equation (5). 
 ( ) ( )( ) ( )
0
0
L
L
P
P x P X x
P X
≈ >
>
 (5) 
In the above equation, ( )LP x  represents the packet loss probability of a finite-buffer 
system with buffer size x and ( )P X x>  denotes the tail probability above level x of 
an infinite-buffer system.  The equation for ( )P X x>  can be found in [16].  It is 
pretty complicated and thus is omitted due to space limitation.  The equation for 
( )0LP  can be found in [7] and is given by 
 16
( )21, 1,ˆ ˆ,j jN µ σ  be the traffic arrival distribution of 1,ˆ jf .  We have 1,1 1,1ˆf f= .  The 
equivalent flow 1,ˆ jf  for 2 j J≤ ≤  is obtained by letting its mean and effective 
bandwidth equal to those of flow 1, jf , i.e., 1, 1,ˆ j jµ µ=  and 1, 1, 1, 1,ˆ ˆj j j jα σ α σ= , where 
1,ˆ jα  is the QoS parameter of the equivalent flow.  Since the delay bound of the 
equivalent flow 1,ˆ jf  is equal to 1D SI= , a packet of 1,ˆ jf  which arrives in the nth SI 
will violate its delay bound and be dropped if it is not served in the ( 1)thn +  SI.  As 
a consequence, the effective bandwidth for 1,ˆ jf  can be derived based on a buffer-less 
system.  That is, the QoS parameter 1,ˆ jα  can be computed according to equation (6) 
for 1(0)LP P= .  It was shown in [7] that 1,ˆ jα  can be well approximated by ( )1 1Q P− .  
With the approximation, we have ( )11, 1, 1, 1ˆ j j j Q Pσ α σ −= .  After obtaining the 
equivalent flows 1,ˆ jf , 1 j J≤ ≤ , one can determine the aggregate equivalent flow 1ˆf .  
Let ( )21 1ˆ ˆ,N µ σ  denote the distribution of traffic arrival in one SI for the aggregate 
equivalent flow 1ˆf .  Since sum of independent Gaussian random variables remains 
Gaussian, we have 1 1,1 1,2ˆ ˆ
J
jjµ µ µ== +∑  and  
2 2 2
1 1,1 1,2
ˆ ˆ
J
jjσ σ σ== +∑ .  Again, given 
1µˆ  and 21σˆ , the QoS parameter 1αˆ  of flow 1ˆf  can be derived according to 
equation (6) for 1(0)LP P= .  Having 1αˆ , one can compute the effective bandwidth 
1cˆ  for flow 1ˆf .  The TXOP duration allocated to aQSTA  is then determined as 
follows 
 
max1
1
ˆ
max ,a POLL a
a a
LcTXOP N O SIFS t n O
R R
   
= + × + + × +  
   
 (10) 
where 
 11 1 1ˆˆ ˆ ˆc µ α σ= +  (11) 
 
1
1
1
cˆN
L
 
=  
 
 (12) 
 18
4. Our Proposed Scheme 
HC
QSTA1
QSTAa
QSTAK
TXOP allocation 
algorithm
Admission Control
Queue1,1
Queuei,1
Queuei,2
Queuei,J
QueueI,J
Queuei,j
f1,1
fi,1
fi,j
fi,J
fI,J
fi,2
TD1,1
TDi,1
TDi,2
TDi,j
TDi,J 
TDI,J 
 q
u
eu
es
I
J
×
,
,
i j a
i j
TD TXOP=∑
 
Fig. 2 The system architecture of our proposed scheme 
Our proposed scheme consists of an aggregate TXOP allocation algorithm, the 
weighted-loss fair service scheduler, and the associated admission control unit.  As 
mentioned before, TXOP allocation and admission control are performed in HC and 
weighted-loss fair service scheduler is implemented in QSTAs.  An overview of our 
proposed scheme is depicted in Fig. 2.  Once again, let us consider aQSTA  with an  
traffic flows, which are classified into I J×  groups according to their QoS 
requirements. 
4.1 Aggregate TXOP Allocation Algorithm 
First of all, an aggregate equivalent flow, denoted by ˆif , is determined using the 
technique described in the last section for flows 
,1if , ,2if , …, and ,i Jf , for all i, 
 20
(6) with ultimateP  as the desired packet loss probability. 
Step 4. Compute the aggregate transmission duration aTXOP  allocated to aQSTA  
using equation (10) with the effective bandwidth and average number of 
packets served in one SI obtained from equations (15) and (16), respectively. 
4.2 Weighted-Loss Fair Service Scheduler 
When polled, QSTAa needs to determine how the flows attached to it share the 
allocated TXOP.  Let 
,i jQueue  denote the queue maintained in QSTAa that is used to 
save packets of flow 
,i jf .  As shown in Fig. 3, ,i jQueue  is divided into jβ  virtual 
sub-queues such that the thp  sub-queue, represented by 
,
p
i jQueue , 1 jp β≤ ≤ , 
contains packets which can be kept for up to p SIs before violating the delay bound.  
How the allocated TXOP is shared is controlled by our proposed weighted-loss fair 
service scheduler. 
1
,i jQueue2,i jQueue,pi jQueue, ji jQueueβ
 
Fig. 3 The structure of sub-queues for 
,i jQueue . 
Consider the thn  SI.  The proposed weighted-loss fair service scheduler is 
similar to the earliest deadline first (EDF) scheduler [17].  Let [ ]
,
p
i jQ n , 1 jp β≤ ≤ , 
represent the buffer occupancy in terms of transmission time for 
,
p
i jQueue  and 
[ ] [ ]
, ,1
j p
i j i jpQ n Q nβ ==∑ .  If the aggregate TXOP allocated to aQSTA  satisfies 
[ ]
,,a i ji jTXOP Q n≥∑ , then all packets in ,i jQueue  can be served and, therefore, no 
 22
(pseudo) running packet loss probabilities of traffic flows are proportional to their 
packet loss probability requirements.  To achieve the goal, we let [ ]
,
0=i jl n  if 
j mβ <  or j mβ ≥  and [ ], 0mi jQ n = .  For ,i jQueue  with j mβ ≥  and [ ], 0mi jQ n > , 
the following equations are solved for [ ]
,i jl n . 
 
[ ] [ ] ( ) ( ), ,   , , ,i j r s active
i r
P n P n
i j r s U
P P
= ∀ ∈  (17) 
 [ ] [ ]
( ) ,, active
i j
i j U
Loss n l n
∈
= ∑  (18) 
In equations (17) and (18), activeU  is a set which contains ( ),i j  such that 
[ ]
,
0mi jQ n > .  For ease of description, we assume that every ,i jQueue  is in activeU  if 
j mβ ≥ .  After some derivations (shown in the Appendix A), we get 
 
[ ] [ ]
( )
[ ] [ ] [ ]
( ) ( ) ( )
[ ] [ ]
( ) ( ) ( )
, , ,
, , , ,
,
,
, ,
, , , ,
1 1
                                           1
active
active
active
i j i i j r s
r s i j r s Ur r s
r s U
i j r r s
r s i j r s U
l n P A n Loss n L n
P A n
L n P A n
≠ ∈
∈
≠ ∈
  
= ⋅ ⋅ + −  
⋅   

− − ⋅ ⋅ 

∑
∑
∑
 (19) 
If the solution satisfies [ ] [ ]
, ,
0 mi j i jl n Q n≤ ≤  for all ( ), activei j U∈ , then a feasible 
solution is obtained.  The TXOP duration for 
,i jQueue , i.e., [ ],i jTD n , is given by 
 [ ] [ ] [ ] [ ]1
,, ,
1
,
m
p
i ji j j
p
m
j i iTD n Q n lQ n n
−
=
 
= + − 
 
∑  (20) 
However, the solution obtained by equation (19) may be infeasible, i.e., it is 
possible to have [ ] [ ]
, ,
m
i j i jl n Q n>  or [ ], 0i jl n <  for some ( ), activei j U∈ .  If it 
happens, then adjustment is necessary to make the solution feasible.  The adjustment 
is accomplished by the loss computation algorithm shown in Appendix B.  Its basic 
idea is described below.  There are four possible cases for the solution obtained by 
equation (19). 
 24
queues in U  and equation (18).  In fact, the amount [ ] [ ]
, ,
m
r s r sl n Q n−  is 
proportionally shared by queues in U, i.e., it holds that 
[ ] [ ] [ ] [ ] [ ] [ ]
, , , , , ,
( ) / ( ) /a b a b a b a c d c d c d cl n l n A n P l n l n A n P′ ′− = −  for all ( ), ,  ( , )a b c d U∈ .  
It is worth to point out that although Theorem 1 is stated for one ( ),r s  which 
satisfies [ ] [ ]
, ,
m
r s r sl n Q n> , it actually implies the same conclusion if multiple queues 
satisfy the condition. 
Case 3 [ ] [ ]
, ,
m
i j i jl n Q n<  for all ( ), activei j U∈  and [ ], 0r sl n <  for some ( ),r s . 
In this case, we assign [ ]
,
0i jl n =  for every ( ),i j  such that [ ], 0i jl n ≤ , remove 
( ),i j  from activeU , and solve for new [ ],i jl n  with equation (19) for the updated 
activeU  and [ ]Loss n .  The updated solution will fall in either Case 1 or Case 3.  
This is implied by Theorem 2 stated below.  Similarly, a feasible solution is found if 
the updated solution falls in Case 1.  Otherwise, the same process is repeated till a 
feasible solution appears.  The proof for Theorem 2 is similar to that for Theorem 1 
and is omitted. 
Theorem 2 Given activeU  and [ ]Loss n .  Assume that the solution shown in 
equation (19) satisfies [ ] [ ]
, ,
m
i j i jl n Q n≤  for all ( ), activei j U∈  and [ ], 0r sl n <  for 
some ( ),r s .  Let ( ){ },activeU U r s= −  and [ ],i jl n′ , ( ),i j U∈ , be the solution of 
equations (17) and (18) for U and [ ]Loss n .  It holds that [ ] [ ] [ ]
, , ,
m
i j i j i jl n l n Q n′ < < . 
Theorem 2 states that if we set [ ]
,
0r sl n =  when [ ], 0r sl n < , then [ ],i jl n  has to 
be decreased for all ( ),i j U∈  in order to satisfy equation (17) for queues in U  and 
equation (18).  Again, although we state Theorem 2 for one ( ),r s  which satisfies 
 26
( ) 1,i j V∈ , be the solutions and 1W  and 2W  be two sub-sets of 1V  such that 
( ) [ ] [ ]1 1 , ,{ , : }mi j i jW i j V l n Q n′= ∈ <  and 2 1 1W V W= − .  We set [ ] [ ], ,mi j i jl n Q n=  for all 
( ) 2,i j W∈ .  Let 2 2 1V V W= ∪  and [ ] [ ] [ ]( ) 2 ,, i ji j WLoss n Loss n l n∈′ = −∑ .  Equations 
(17) and (18) are solved for 2V  and [ ]Loss n′ .  Note that this step is necessary to 
achieve the equality described in equation (17) for queues in the updated 2V .  If the 
solution falls in Case 3, then Case 3 will be repeatedly executed until a feasible 
solution is obtained.  Finally, if the solution falls in Case 4, then either Sub-case 1 or 
Sub-case 2 is performed again. 
The computational complexity of the loss computation algorithm is stated in the 
following Theorem 3. 
Theorem 3 The loss computation algorithm takes at most ( )2 1N −  iterations to find 
the feasible solution, where activeN U= , the size of activeU . 
Proof: It is clear that the solution of the last iteration falls in Case 1.  Let M denote 
the size of U in that iteration.  We shall prove that the loss computation algorithm 
takes at most ( )2 N M−  iterations to find the feasible solution if M N<  or one 
iteration if M N= .  The case of M N=  is obviously true.  We prove the case of 
M N<  by mathematical induction.  For simplicity, we use Sub-case i ( 1,2i = ) to 
represent Sub-case i of Case 4 in this proof. 
 For 2N = , we have 1M = .  Since M N< , we know that the solution of the 
first iteration cannot fall in Case 1.  By tracing the algorithm, one can see that the 
number of iterations required to find the feasible solution is equal to ( )2 2 N M= − .  
 28
Case 2.  Since 1k i≤ − , we have ( ) ( ), 2 1B i k i k≤ − − .  Assume that, before 
Sub-case 1 resumes its execution, Sub-case 2 is visited for the second time in iteration 
r.  This implies the solutions of iterations 2, …, and 1r −  all fall in Sub-case 1 and, 
therefore, at least 2r −  queues are removed from activeU .  Let x , y, and z represent, 
respectively, the size of 1V , the size of 2V , and the number of queues added to 2V  
when iteration r resumes its execution.  It is clear that 2x y i r+ ≤ − + .  After 
iteration r resumes its execution, the situation is the same as iteration 1 except that the 
size of 1V  (of iteration 1) is changed from i  to y z+ .  As a result, we have 
( ) ( ) ( ) ( ), 1 , ,B i k r B x z B y z k≤ − + + + .  According to Hypothesis II, it holds that 
( ),B i k ≤  ( ) ( ) ( ) ( )1 2 1 2 1 2 1r x z y z k i k− + − − + + − − ≤ − − .  This completes the 
proof of Theorem 3. 
After the feasible solution is found, [ ]
,i jTD n  can be obtained according to 
equation (20).  If data are dropped (i.e., 1m = ), [ ]
,i jL n  is updated as follows 
 [ ] [ ] [ ]
, , ,
1i j i j i jL n L n l n= − +  (21) 
Since the number of real-time flows attached to each QSTA is normally small, the 
complexity of the loss computation algorithm should be acceptable.  Furthermore, 
because of static and periodic TXOP allocation, each QSTA has time one SI to 
compute the solution.  Therefore, the proposed weighted-loss fair service scheduler 
should be feasible for real systems. 
4.3 The Associated Admission Control Unit 
Assume that QSTAa is negotiating with HC for a new traffic flow, i.e., the 
 30
Note that, if an existing flow of QSTAa is disconnected, a process similar to that 
shown above is conducted to obtain *a aTXOP TXOP TXOP∆ = − , and BWava is updated 
by = + ∆ava avaBW BW TXOP .  Note that if admission or disconnection of a flow 
leads to change of SI, then the TXOPs for all QSTAs should be recalculated.
 32
ρ  and the variance of frame size 2υ  provided in the trace file, using the technique 
described in Section 2.  The calculated µ  and 2σ  of each flow are shown in the 
last two rows of Table II.  Because of the static and periodic nature of our proposed 
scheme, the performance of each type of QSTA is independent of whether or not there 
exists any other QSTA in the system.  Therefore, to evaluate the efficiency of the 
proposed TXOP allocation algorithm, it suffices to study a system which consists of 
one HC and three QSTAs, one for each type.  Note that Type III QSTA is included to 
study the effect of aggregating flows with identical QoS requirements. 
Table II TSPECs of traffic flows attached to Type I, Type II and Type III QSTAs. 
Type of QSTA Type I Type II Type III 
Attached Real Trace Jurassic Park I 
Lecture 
Camera Mr. Bean 
Office  
Camera 
Lecture 
Camera 
Office 
Camera 
Packet Loss Rate Requirement (PL) 0.01 0.001 0.01 0.001 0.001 0.001 
Maximum Service Interval (SImax) 80(ms) 160(ms) 80(ms) 160(ms) 160(ms) 160(ms) 
Mean Data Rate ( ρ ) 268k(bps) 210k(bps) 184k(bps) 112k(bps) 210k(bps) 112k(bps) 
Nominal MSDU size (L) 1339 (bytes) 1048 (bytes) 920(bytes) 558(bytes) 1048 (bytes) 558(bytes) 
Variance of Frame Size ( 2υ ) 1273237 828990 801216 1604797 828990 1604797 
Frame inter-arrival time 40 (ms) 
Scheduled Service Interval (SI) 80 (ms) 
Calculated Mean per SI ( µ ) 2680 (bytes) 2100 (bytes) 1840 (bytes) 1120 (bytes) 2100 (bytes) 1120 (bytes) 
Calculated Variance per SI ( 2σ ) 2546474 1657980 1602432 3209594 1657980 3209594 
Table III The 99% confidence intervals of packet loss probability of flows 
attached to Type I, Type II and Type III QSTAs. 
Packet Loss Probability (PL) 
Type I QSTA Type II QSTA Type III QSTA 
 
Jurassic Park I Lecture Camera Mr. Bean Office Camera Lecture Camera Office Camera 
Sample scheduler 0.1857 ± 4×10-3 0.0186 ± 3×10-3 0.2323 ± 3×10-5 0.0232 ± 6×10-6 0.0760 ± 8×10-5 0.0760 ± 9×10-5 
RVAC 0.0008 ± 4×10-6 0.0001 ± 4×10-6 0.0025 ± 9×10-6 0.0003 ± 9×10-6 0.0002 ± 8×10-5 0.0002 ± 6×10-5 
Scheme of [7] 0.0052 ± 2×10-5 0.0005 ± 2×10-5 0.0032 ± 1×10-5 0.0003 ± 1×10-5 0.0004 ± 8×10-5 0.0004 ± 1×10-4 
Our proposed scheme 0.0099 ± 3×10-5 0.0010 ± 3×10-5 0.0072 ± 2×10-5 0.0007 ± 2×10-5 0.0004 ± 8×10-5 0.0004 ± 1×10-4 
Our proposed scheme* 0.0100 ± 1×10-4 0.0010 ± 3×10-5 0.0073 ± 1×10-4 0.0007 ± 2×10-5 0.0004 ± 8×10-4 0.0004 ± 1×10-3 
 34
For example, the ratios of the actual packet loss probabilities of Jurassic Park I and 
Lecture Camera for the sample scheduler, the RVAC scheme, the scheme proposed in 
[7], our proposed scheme, and our proposed scheme with transmission error are, 
respectively, 0.1857:0.0186, 0.0008:0.0001, 0.0052:0.0005, 0.0099:0.0010, and 
0.0100:0.0010, which are all very close to the ratio of the requested packet loss 
probabilities, i.e., 0.01:0.001.  Another important observation is that the results of 
our proposed scheme are satisfactory even for a frame error rate of 30.5 10−× .  This 
implies that, to cope with transmission errors, one need only select an appropriate 
feasible physical transmission rate so that the probability of transmission error is 
sufficiently smaller than the requested packet loss probability. 
We also record the running packet loss probabilities of traffic flows attached to 
Type I QSTA for all investigated schemes.  Here, the running packet loss probability 
for flow 
,i jf  up to the thn  SI is given by [ ] [ ], ,i j i jL n A n .  For sample scheduler, 
as shown in Fig. 4, the running packet loss probabilities of all simulated traffic flows 
are more than 10 times larger than their requested levels for most of the time.  For 
TXOP allocation schemes which consider packet loss probability, we compare the 
sample paths of each traffic flow attached to Type I QSTA .  The results are 
illustrated in Fig. 5 and Fig. 6.  It can be seen that the long-term packet loss 
probability meets the requirement for all the investigated schemes.  However, our 
proposed scheme is the most efficient one because it allocates the smallest TXOP 
durations to QSTAs.  Fig. 7 compares the admissible regions of the investigated 
TXOP allocation schemes.  For a particular scheme, the system can accommodate x 
 36
0 5 10 15 20 25 30 35 40 450
0.01
0.05
0.1
0.15
0.2
0.25
0.3
0.35
Simulation Time (103 SI)
Pa
ck
e
t L
o
ss
 
Pr
o
ba
bi
lit
y
Packet Loss Probability of Jurassic Park I
 
 
Our proposed scheme
Scheme of [7]
RVAC
 
Fig. 5 Running packet loss probabilities of Jurassic Park I attached to Type I 
QSTA. 
0 5 10 15 20 25 30 35 40 450
0.001
0.005
0.01
0.015
0.02
0.025
0.030
Simulation Time (103 SI)
Pa
ck
e
t L
o
ss
 
Pr
o
ba
bi
lit
y
Packet Loss Probability of Lecture Camera
 
 
Our proposed scheme
Scheme of [7]
RVAC
 
Fig. 6 Running packet loss probabilities of Lecture Camera attached to Type I 
QSTA. 
 38
6. Conclusion 
In this project, we have presented an efficient TXOP allocation algorithm, a 
weighted-loss fair service scheduler, and the associated admission control unit to 
provide QoS guarantee for VBR traffic flows with different packet loss probability 
and delay bound requirements in WLANs.  Computer simulations are conducted to 
evaluate the performance of our proposed scheme.  Results show that our proposed 
scheme is effective in QoS guarantee and, moreover, performs much better than 
previous works.  In real systems, it is likely that there are only a limited number of 
possible applications.  Therefore, one can pre-compute the QoS parameter of each 
type of application so that admission control can be performed in real time.  An 
interesting further research topic is to mathematically analyze the performance of the 
proposed scheme for various traffic models and QoS requirements.
 40
Pseudo code for computing feasible [ ]
,i jl n  for all ( , ) activei j U∈ . 
Algorithm: Loss computation 
Initialization 
1. activetemp UU =  
2. [ ]tempLoss Loss n=  
3. 0=Flag  
Begin 
4. [ ] ( ), 1, ( , ) ,activei j active temp tempUl n i j U LossComputation Loss U× ∀ ∈ =   
End 
/*Loss computation module*/ 
1. ( ),LossComputation Loss U  
2.    ( ),WeightedLossCalculation Loss U  /*Compute [ ]
,i jl n  with eqn. (19)*/ 
3.    if [ ] [ ] ( )
, ,
0  ,mi j i jl n Q n i j U≤ ≤ ∀ ∈  /*Case 1*/ 
4.        exit 
5.    elseif [ ] ( ) ( ) [ ] [ ]
, , ,
0  ,  and , , . . mi j i j i jl n i j U i j U s t l n Q n≤ ∀ ∈ ∃ ∈ >  /*Case 2*/ 
6.        for all ( ),i j U∈  
7.           if [ ] [ ]
, ,
m
i j i jl n Q n≥  
8.              [ ] [ ]
, ,
m
i j i jl n Q n=  
9.              ( ){ },U U i j= −  
10.              [ ]
,i jLoss Loss l n= −  
11.           end if 
12.        end for 
13.        if 1Flag =  
14.           0=Flag  
15.           exit 
16.        else 
17.           ( ),LossComputation Loss U  
18.        end if 
19.    elseif [ ] [ ] ( ) ( ) [ ]
, , ,
 ,  and , , . . 0mi j i j i jl n Q n i j U i j U s t l n≤ ∀ ∈ ∃ ∈ <  /*Case 3*/ 
20.        for all ( ),i j U∈  
21.           if [ ]
,
0i jl n ≤  
22.              [ ]
,
0i jl n =  
23.              ( ){ },U U i j= −  
24.           end if 
25.        end for 
26.        ( ),LossComputation Loss U  
27.    else /*Case 4: ( ) ( ) [ ] [ ] [ ]
, , ,
,  and , ,  . .  and 0mi j i j r si j r s U s t l n Q n l n∃ ∈ > < */ 
28.        ( ) [ ]{ }1 ,, : 0i jV i j U l n= ∈ ≥  
 42
Summary of notation used in this project 
The investigated QoS requirements 
1. iP  The ith packet loss probability requirement. 1 i I≤ ≤  
2. jD  The jth delay bound requirement ( j jD SIβ= ⋅ ). 1 j J≤ ≤  
Traffic flow notation identified by QoS requirements 
3. 
,i jF  The set which contains traffic flows with packet loss probability and delay 
bound requirement equal to iP  and jD ,respectively. 
4. 
,i jf  The aggregate traffic flow for all flows in ,i jF  with distribution assumed 
to be 2
, ,
( , )i j i jN µ σ . 
1 i I≤ ≤ , 
1 j J≤ ≤  
5. iF  The set which contains traffic flows with packet loss probability equal to 
iP  (i.e., 1 ,Ji j i jF F== U ). 
6. if  The aggregate traffic flow for all flows in iF . 
1 i I≤ ≤  
7. F The set which all traffic flows.  
8. f The aggregate traffic flow for all flows in F.  
Traffic flow specification for fi,j 
9. 
,i jα  QoS parameter of ,i jf . 
10. 
,i jc  Effective bandwidth of ,i jf  in one SI. (i.e., , , , ,i j i j i j i jc µ α σ= + ) 
11. 
,i jN  The number of packets belonging to ,i jf  arrived in one SI. 
12. 
,i jN  The estimated number of packets belonging to ,i jf  arrived in one SI. 
13. 
,i jX  Packet size distribution of ,i jf . 
14. 
,i jL  Nominal MSDU size of ,i jf . 
1 i I≤ ≤ , 
1 j J≤ ≤  
Equivalent traffic flow notation identified by QoS requirements 
15. 
,
ˆ
i jf  The equivalent flow of ,i jf  with distribution denoted by 2, ,ˆ ˆ( , )i j i jN µ σ . 1 i I≤ ≤ , 
1 j J≤ ≤  
16. ˆif  The equivalent flow of if  with distribution denoted by 2ˆ ˆ( , )i iN µ σ . 1 i I≤ ≤  
17. ˆf  The equivalent flow of f  with distribution denoted by 2ˆ ˆ( , )N µ σ .  
Equivalent traffic flow specification 
18. 
,i jα  QoS parameter of 
,
ˆ
i jf . 1 i I≤ ≤ , 
1 j J≤ ≤  
19. ˆiα  QoS parameter of ˆif . 
20. ˆic  The effective bandwidth of ˆif  (i.e., ˆˆ ˆ ˆi i i ic µ α σ= + ). 
21. iN  The estimated number of packets belonging to ˆif  arrived in one SI. 
22. iL  The weighted average packet size of ˆif . 
1 i I≤ ≤  
 
 44
scheme for real-time variable bit rate traffic flows with different delay bounds,” 
IET Commun., vol. 2, no. 4, pp. 598-608, 2008. 
[8] D. Gao, J. Cai and C. W. Chen, “ Admission control based on rate-variance 
envelop for VBR traffic over IEEE 802.11e HCCA WLANs”, IEEE Trans. 
Vehicular Tech., vol. 57, no. 3, May, 2008. 
[9] C. Cicconetti, L. Lenzini, E. Mingozzi, and G. Stea, “An efficient cross layer 
scheduler for multimedia Traffic in Wireless Local Area Networks with IEEE 
802.11e HCCA”, ACM Mobile Computing and Commun. Review, vol. 11, no. 3, 
pp. 31-46, Jul. 2007. 
[10] Y. Higuchi, A. Foronda, C. Ohta, M. Yoshimoto and Y. Okada, “Delay guarantee 
and service interval optimization for HCCA in IEEE 802.11e WLANs,” in Proc. 
IEEE WCNC’07, pp. 2080-2085, Mar. 2007. 
[11] M. M. Rashid, E. Hossain, V. K. Bharggava, “Controlled channel access 
scheduling for guaranteed QoS in IEEE 802.11e-based WLANs,” IEEE Trans. 
Wireless Commun. vol. 7, no. 4, pp.1287-1297, Apr. 2008. 
[12] A. A. Bourawy, N. A. AbuAli and H. S. Hassanein, “A selectivity function 
scheduler for IEEE 802.11e”, in Proc. IEEE ISCC’09, pp. 950-955, Jul. 2009. 
[13] J. J. Huang, Y. H. Chen and C.Y. Chang, “An MSI-based scheduler for IEEE 
802.11e HCCA,” in Proc. IEEE VTC’09, pp. 1-5, Sep. 2009. 
表 Y04 
行政院國家科學委員會補助國內專家學者出席國際學術會議報告 
                                                           99 年 11 月 29 日 
報告人姓名 李程輝 服務機構 及職稱 
交通大學電機系暨電信所 
教授 
     時間 
會議 地點 
99 年 11 月 21～11 月 24 日 
福岡,日本 
本會核定
補助文號 NSC 98-2221-E-009-062-MY2 
會議 
名稱 
 (中文) 2010 年 國際電子電機學會 第十區 (亞太區) 學術研討會 
 (英文) IEEE TENCON (Region Ten, i.e., Asia-Pacific Region) 2010 
發表 
論文 
題目 
2 
(Poster) 
(中文) 無線區域網路針對排程化自動節能遞送之重排演算法 
(英文) A Rearrangement Algorithm for Scheduled Automatic Power Save 
Delivery of Wireless LANs 
一、參加會議經過 
2010 年國際電子電機學會 第十區 (亞太區) 學術研討會(2009 IEEE TENCON (Ten 
Region, i.e., Asia-Pacific Region))在日本福岡舉辦，TENCON 一直都是通訊與網路領域重要的
國際研討會之一，今年共有 707 篇論文投稿而有 489 篇論文獲得接受，其中總共 302 篇論文
以口頭報告，另外的 187 篇以張貼海報方式進行討論，是世界各國研究人員很好的交流場合。
另外，主辦單位舉行 2 場 tutorials，內容相當充實。研討會的議題包括了： 
 
1. 電力與能源(Power and Energy) 
2. 器材、材料及製程(Devices, Materials and Processing) 
3. 訊號處理與其相關應用(Signal Processing and Applications) 
4. 網路通訊(Networks and Communications) 
5. 運算智慧、機器人與電腦系統應用(Computational Intelligence, Robotics and Computer 
System Applications) 
6. 計算機架構與系統(Computing Architectures and Systems) 
7. 演算法、軟體與資料庫系統(Algorithms, Software and Database Systems) 
8. 電路與系統(Circuit and Systems) 
9. 生醫工程與其他(Biomedical Engineering and Others) 
10. 天線與傳播(Antennas and Propagation) 
二、與會心得 
參與本次會議的主要目的，除了將自己與指導的博碩士班學生在無線區域網路領域的研
究成果以張貼海報方式發表並聽取同行的建議之外，同時參加相關場次之論文發表並和從事
相關領域研究人員交換心得，建立起交流溝通的管道，相信對後續研究有很大的幫助。 
    無線區域網路目前在節能議題上仍有相當大的改善空間，由於行動裝置電源有限，目前
在以延長電池壽命為目標的研究上，高效能的節能機制為研究主流之一，本次會議我們發表
對於節能機制的看法深獲好評，同時也從討論中激發出新的靈感，正著手進一步的研究。 
 
三、攜回資料名稱及內容 
會議光碟一片。 
 
 
附件三
 
the new TS which achieves the maximum among minimum rela-
tive distances. The relative distances between the scheduled in-
stants of the new TS and existing SEs are defined as the dis-
tances from every scheduled instant of the new TS to its closest 
previous and next existing SEs. Note that only a finite number of 
possibilities for the SST should be considered since there is a 
maximum precision used by the 802.11e specification. Let the 
length of the maximum precision be normalized to one. Assume 
that the SI of the new TS is SInew, which is an integer. As a re-
sult, to determine the optimal SST of the new TS, it suffices to 
consider an interval of length SInew. For a particular value of 
SST, say, t, relative distances are calculated for an interval of 
duration LCM, the least common multiple of the individual SIs 
of the SEs and SInew. The minimum among the relative distances 
is recorded as the distance of the particular SST and is denoted 
as distt. The optimal SST is the one which satisfies distt ≥ dists 
for all s. If there is a tie, then the one with maximum average 
relative distance is selected. In case there is still a tie, it is bro-
ken arbitrarily. The procedure provided in [3] adopts exhaustive 
search to determine the optimal SST which obviously requires 
high online complexity when there are many STAs. 
C. Low-Complexity S-APSD 
LCS-APSD adopts the notion of sequence to represent sche-
duled instants for a specific TS. Let { } { }r r rp rx
∞ ∞
=−∞ =−∞
×= =X  
be a periodic sequence and { } { }l l ly q l
∞ ∞
=−∞ =−∞
= = ×Y  be another 
periodic sequence. Further, let k+Y ={ }l ly k
∞
=−∞
+  be a shifted 
version of Y and k is the offset with respect to Y . Define the 
distance between ly k+ and rx as ( , )r ld x y k+  
= | |l ry k x+ − = | |q l k p r× + − × and define the distance be-
tween sequences X  and k+Y as  
,
( , ) min ( , )
l r
r ld k d x y k
−∞≤ ≤∞
+ = +X Y .                (1) 
It is clear that ( , ) ( , ) ( , )d k d k d k+ = + = −X Y Y X X Y  and 
( , 0) ( , ) 0d d+ = =X Y X Y . Let gcd( , )G p q=  be the greatest 
common divisor of p  and q . In [4], a property of ( , )d k+X Y  
was proved and is referred to as Lemma 1 in this paper. 
Lemma 1. ( , )d k+X Y  is periodic in k  with period G . 
Assume that, when a new TS with period q is to be scheduled, 
there are K already scheduled TSs in the system and the period 
of the mth existing TS is mp , 1 m K≤ ≤ . Let m =X  ,{ }m r rx
∞
=−∞
=  
{ }m rp r
∞
=−∞
×  be a sequence and let ,{ }m m r rx
∞
=−∞
=X  =  m mO+X  
= ,{ }m r m rx O
∞
=−∞
+  be the scheduled instants of the thm  existing 
TS. Use 1X  as reference and assign 1 0O = . Consequently, we 
have 1 1=X X  and mO  = ,0 1,0mx x−  represents the offset of mX  
with respect to 1X . Let =X  
1
m
m K≤ ≤
X∪  such that x  is an element 
of X  if and only if (iff) it is an element of mX  for some m. 
Clearly, X  is periodic with period 1 2lcm{ ,  ,  p p  ...,  }Kp , the 
least common multiple of 1 2,  ,  ...p p  , and Kp .  
Define ,
,
( , ) min | |m l m r m
l r
d k y k x O
−∞≤ ≤∞
+ = + − −X Y and 
( , )d k+X Y  = 
1
min ( , )m
m K
d k
≤ ≤
+X Y . Let gcd( , )m mG p q=  and 
1KGL + =  1 2lcm{ ,  ,  ..., }KG G G . ( , )d k+X Y  is periodic with 
period 1KGL +  because ( , )md k+X Y  is periodic with period mG  
according to Lemma 1. The goal of scheduling is to find *k  
which satisfies  
*k =  arg ( , )max k d k+X Y , 1
*0 1Kk GL +≤ ≤ −        (2) 
It is possible that there are only a few periods for TSs and, there-
fore, one can classify them into classes so that two TSs are in the 
same class iff they have the same period. Assume that there are 
C classes. Let pi represent the period of Class i TSs, 1 ≤ i ≤ C. 
The impact of Class i TSs to a Class j TS can be pre-calculated 
and stored in advance. Let ( , )i jd k+X X  be the distance be-
tween a Class i sequence { }i i rp r
∞
=−∞
= ×X  and another Class j 
sequence j k+ =X { }j lp l k
∞
=−∞
× + . The impact can be 
represented by an array Ai,j which stores 
[ ,( , 0) ( , 1) ... ( , 1)i j i j i j i jd d d G+ + + −X X X X X X ],    (3) 
where , ( , )i j i jG gcd p p= . Assume that the m
th  scheduled TS, 
1 m K≤ ≤ , belongs to Class i and the new TS to be scheduled 
belongs to Class j. Given the reference 1X , the impact of the m
th 
scheduled TS to the new TS, [ ( , 0)md +X Y ( , 1)md +X Y  … 
( , 1)m md G+ −X Y ], where mG ,i jG= , can be obtained by circu-
larly shifting Ai,j to the right by Om positions. Therefore, the im-
pact of all existing TSs to the new Class j TS can be obtained by 
constructing a scheduling matrix of size 1KK GL +×  according to 
corresponding Ai,j’s and offsets. The mth row of the scheduling 
matrix is [ ( , 0) ( , 1)m md d+ +X Y X Y  ... ( , 1)m md G+ −X Y ] 
repeated for 1 /K mGL G+  times. To obtain the optimal offset k
*, it 
needs to take the minimum of each column and then find the 
maximum among the minima. Based on *k+Y , the SST for the 
new TS can then be selected according to the current time. 
As described above, OAS-APSD and LCS-APSD deter-
mine the SSTs of the SEs in a greedy fashion, which means that 
they incrementally add the joining TS and make the locally op-
timal choice every time at each stage. The scheduling result de-
pends on the order TSs join the system and, therefore, may fail 
to produce the optimal solution.  
III. REARRANGEMENT OF SCHEDULED EVENTS 
Rearrangement is a process to simultaneously schedule all exist-
ing TSs irrespective of the order they join the system. Let ni 
represent the number of TSs in Class i and assume that there are 
K
1
C
ii
n
=
= ∑  TSs in the system. For simplicity, assume that ni  > 
0 for all i. Denote {O1, O2, ..., OK} the offsets of the K TSs. Giv-
en offsets Om and On, the distance between TS m and TS n, 1 ≤ 
m, n ≤ K, is ( , )m nd X X . Moreover, given {O1, O2, ..., OK}, the 
Lemma 3. It holds that ( , 1)r ld x y k+ + = ( , ) 1,r ld x y k+ + if rx  
≤  ly k+ . Otherwise, ( , 1)r ld x y k+ + = ( , ) 1.r ld x y k+ −  
Proof: If r lx y k≤ + , we have ( , 1)r ld x y k+ + =  
| 1 |l ry k x+ + − | | 1l ry k x= + − + . Otherwise, ( , 1)r ld x y k+ +  
| 1 | | | 1l r l ry k x y k x= + + − = + − − . This completes the proof.  
                                                    
Theorem 4. It holds that 
{ ,  0 / 2( , ) ,  / 2 1k k Gd k G k G k G≤ ≤+ = − ≤ ≤ −⎢ ⎥⎣ ⎦⎡ ⎤⎢ ⎥X Y .               (7) 
Proof: Assume that G is an even number. We claim that 
( , )d k k+ =X Y  for 0 ≤ k ≤ (G/2).  It is clear that ( , ) 0d =X Y . 
Since 0 0( , )d x y k k=+ , we know that ( , )d k+ =X Y  
,
min | |l rl r y k x−∞≤ ≤∞ + −  k≤ . Assume that there exist some rx  and 
ly  such that ( , )r ld x y k d k′+ = < .  If r lx y k≤ + , then, ac-
cording to Lemma 3, we have ( , ) 0r ld x y k d ′+ − = , which con-
tradicts Lemma 1 because 0 < 'k d−  < G. Assume that 
r lx y k> + .  According to Lemma 3, we have ( , )r ld x y k d ′+ +  
0= which implies ( , ) 0d k d ′+ + =X Y . This contradicts 
Lemma 1 again because 2k d k G′+ < ≤ . Therefore, we con-
clude that ( , )d k k+ =X Y  for 0 ≤ k ≤ (G/2). 
Consider now that (G/2) +1 ≤ k ≤ G−1. Since 
( , ) ( , ) ( , )d k d k d G k+ = − = + −X Y X Y X Y  by Lemma 1, we 
have ( , )d k G k+ ≤ −X Y  because 0 0( , )d x G k y G k+ − = − . 
Assume again that there exist some rx  and ly  such that 
( , )r ld x y k d G k′+ = < − . If r lx y k≤ + , then Lemma 3 im-
plies ( , ) 0r ld x y k d ′+ − = and thus ( , )d k d ′+ −X Y  = 0, 
which contradicts Lemma 1 because 2 0k d k G′− > − >  and 
' ( 1) ' 1k d G d G− ≤ − − < − . Assume that r lx y k> + . From 
Lemma 3 we have ( , ) 0r ld x y k d ′+ + =  which implies 
( , )d k d ′+ +X Y  = 0.  This contradicts Lemma 1 again because 
0 < k d ′+ < G. Therefore, Theorem 4 is also true for (G/2) +1≤ 
k ≤ G−1. The proof for odd values of G is similar except that the 
largest achievable distance becomes / 2G⎢ ⎥⎣ ⎦ . This completes 
the proof of Theorem 4.                                                                                    
As a consequence of Theorem 4, / 2G⎢ ⎥⎣ ⎦  is the largest 
possible value for ( , )d k+X Y  since G/2 ≥ / 2G⎢ ⎥⎣ ⎦ = 
G− / 2G⎡ ⎤⎢ ⎥ . Therefore, we find that the largest possible mini-
mum distance between two periodic sequences is actually strict-
ly upper bounded by the value of / 2G⎢ ⎥⎣ ⎦  rather than p or q. For 
C classes, define the minimum GCD among the pairwise GCD’s 
as Gmin. Then the maximum achievable minimum distance of the 
system is upper bounded by / 2minG⎢ ⎥⎣ ⎦ . In real applications, it is 
likely that the Gmin would be the common divisor of the SIs for 
TSs. As an example, consider a scenario with C = 5. The five 
traffic classes are real-time voice, video, streaming audio, video, 
and real-time gaming whose SIs are 40, 60, 150, 300, and 
100ms, respectively. Therefore, the Gmin is 100 when the used 
precision is 100μs and Gmin|Gi,j, 1≤ i, j ≤ C. It holds that Gmin | pi 
and we can express pi as pi = Gmin × fi . It is clear that when pi is 
divided by any factor of fi, Gmin is still held. Therefore, the equal 
spacing can be employed without altering the Gmin as long as the 
number of TSs to form the equal-spacing group is a factor of fi. 
A. The Gmin-Maintaining Decomposition Greedy Scheduling 
In this sub-section we propose an algorithm, named Gmin-
Maintaining Decomposition greedy scheduling (GMD greedy 
scheduling) with the intention to increase the performance of 
rearrangement while keeping the complexity to be tractable. 
Assume that pi = Gmin × fi . We factorize fi, and let Fi = {fi,1, fi,2, 
…, fi,ui} = {fi , …, 1} be the set of complete factors of fi , fi,k > 
fi,k+1, and ui is the cardinality of Fi . For a group with fi,k  mem-
bers, the revised period after performing equal-spacing schedul-
ing becomes pi / fi,k = pi,k. 
Since the maximum of minimum distance of the system 
would be affected by Gmin, our goal is to maintain Gmin while 
performing equal-spacing to minimize the scheduling complexi-
ty, i.e., dividing TSs into fewest number of groups. Below we 
provide an algorithm for the decomposition. 
 
The Gmin-Maintaining Decomposition Algorithm 
 
n ← ni ; t ← 1 
while n > 0 do 
Choose the largest element fi,k from Fi such that fi,k ≤ n. 
f (t)← fi,k 
Q(t) ← / ( )n f t⎢ ⎥⎣ ⎦  
n ← n – Q(t) ×f(t) 
t ← t + 1 
end while 
 
Based on the algorithm, we can decompose ni as in =  
( ) ( )i it Q t f t×∑ . We assume that the number of TSs of Class i 
after the grouping becomes Ri, ( )i itR Q t= ∑ . 
After the decomposition, we divide the Class i TSs into Ri 
groups. Then equal spacing scheduling is performed within each 
group. For a group with ( )if t  members, the inter-group offset 
for the mth TS to the leading TS is set to (m−1) × pi / ( )if t , 1 < m 
≤ ( )if t . Clearly, the equal spacing scheduling can still be utilized 
in this way to decrease complexity without altering the Gmin. 
Finally, for C classes, we have 
1
C
ii
R R
=
= ∑  aggregated TSs to 
be scheduled. By the size of the revised periods for these TSs, 
the sorted greedy scheduling is adopted to reduce computational 
load and to determine the inter-group offsets. The final offset for 
each TS would be the sum of the inter-group offset and the intra-
group offset.  
i+4] (mod 5) for 1≤ i ≤5, and repeats till K is reached. 
2. The joining order is according to Class [ i, i−1, i−2, i−3, i−4] 
(mod 5) for 1≤ i ≤5, and repeats till K is reached. 
3. The joining order is by the ascending order of periods. 
4. The joining order is by the descending order of periods. 
In Fig. 2, we record the worst, average, and best performance 
for the LCS-APSD scheme for the studied cases. As shown in 
Theorem 4, without producing the coprime situation, the system 
minimum distance is bounded by Gmin/2 = 50 for all algorithms. 
For the studied cases, the performance of the GMD greedy algo-
rithm is better than the LCS-APSD on average especially when 
the number of TSs is large. This may because that the TSs form-
ing aggregated TS had been distributed uniformly before the 
inter-group scheduling. Also, we schedule the aggregated TSs 
based on their levels of scheduling difficulty. As for the Simply 
Sorted greedy algorithm, it also performs well since the TSs are 
scheduled in ascending order according to the size of the period. 
Due to the fact that we do not divide any TS into the groups, the 
periods of the TSs are larger than using the GMD method and 
more positions can be chosen to maximize the minimum dis-
tance. Thus it is likely that the Simply Sorted greedy algorithm 
has better chance to find the offsets to maximize the minimum 
distance of the system. However, as shown in previous evalua-
tion, the Simply Sorted method requires much higher complexity 
than that of the other algorithms. 
VI. CONCLUSIONS 
In this paper, for the goal of rearrangement, we first present 
the brute-force searching method to obtain the global optimum; 
however, its complexity increases exponentially and is thus not 
feasible. Therefore, we develop algorithms with moderate com-
plexity for the goal of rearrangement. We show that the maxi-
mum of minimum distance between two periodic scheduled 
events is closely related to the GCD of their periods. Taking ad-
vantage of this observation and scheduling the TSs by the as-
cending order of periods, the proposed GMD greedy method and 
the Simply Sorted greedy method can attain larger maximum of 
minimum distance than that of the previous greedy-based sche-
duling method. Therefore, better power saving performance can 
be expected.  
REFERENCES 
[1] IEEE 802.11 WG: IEEE Standard 802.11-1999, Part 11: Wireless 
LAN MAC and PHY Layer specifications. Reference number 
ISO/IEC 8802-11:1999(E), 1999. 
[2] IEEE Std 802.11e-2005, Part 11: Wireless LAN Medium Access 
Control (MAC) and Physical Layer (PHY) specifications 
Amendment 8: Medium Access Control (MAC) Quality of Service 
Enhancements. 
[3] X. Pérez-Costa, D. Camps-Mur, J. Palau, D. Rebolleda and S. 
Akbarzadeh, “Overlapping Aware Scheduled Automatic Power 
Save Delivery Algorithm,” Proc. of European Wireless 
Conference (EW), Paris, France, Apr. 2007. 
[4] T.-H. Lee and J.-R. Hsieh, "An Efficient Scheduling Algorithm for 
Scheduled Automatic Power Save Delivery for Wireless LANs," in 
Proc. IEEE VTC2010-Spring, May 2010. 
[5] H. Cormen, C. R. Leiserson, R. L. Rivest, and C Stein, 
Introduction to Algorithms, second ed., MIT Press and McGraw–
Hill. ISBN 0262032937. 
[6] Q. Zhao and D. H.K. Tsang, “An Equal-Spacing-Based Design for 
QoS Guarantee in IEEE 802.11e HCCA Wireless Networks,” 
IEEE Trans. Mobile Computing, Vol. 7, no. 12, Dec. 2008. 
[7] F. Fitzek ,  A. Koepsel ,  A. Wolisz ,  M. Krishnam ,  and M. 
Reisslein, “Providing Application-Level QoS In 3G/4G Wireless 
Systems: A Comprehensive Framework Based On Multi-Rate 
CDMA,” IEEE Wireless Comm. Mag., Vol. 9, no. 2, Apr., 2002. 
 
Fig.2. Comparison of the obtained maximum of minimum distance. 
98 年度專題研究計畫研究成果彙整表 
計畫主持人：李程輝 計畫編號：98-2221-E-009-062-MY2 
計畫名稱：以 HCCA 在無線區域網路提供變動位元速率訊務之服務品質保證 
量化 
成果項目 實際已達成
數（被接受
或已發表）
預期總達成
數(含實際已
達成數) 
本計畫實
際貢獻百
分比 
單位 
備 註 （ 質 化 說
明：如數個計畫
共同成果、成果
列 為 該 期 刊 之
封 面 故 事 ...
等） 
期刊論文 0 1 100%  
研究報告/技術報告 0 0 100%  
研討會論文 0 0 100% 
篇 
 
論文著作 
專書 0 0 100%   
申請中件數 0 0 100%  專利 已獲得件數 0 0 100% 件  
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 5 0 100%  
博士生 3 0 100%  
博士後研究員 0 0 100%  
國內 
參與計畫人力 
（本國籍） 
專任助理 0 0 100% 
人次 
 
期刊論文 0 2 100%  
研究報告/技術報告 0 0 100%  
研討會論文 3 0 100% 
篇 
 
論文著作 
專書 0 0 100% 章/本  
申請中件數 0 0 100%  專利 已獲得件數 0 0 100% 件  
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 0 0 100%  
博士生 0 0 100%  
博士後研究員 0 0 100%  
國外 
參與計畫人力 
（外國籍） 
專任助理 0 0 100% 
人次 
 
國科會補助專題研究計畫成果報告自評表 
請就研究內容與原計畫相符程度、達成預期目標情況、研究成果之學術或應用價
值（簡要敘述成果所代表之意義、價值、影響或進一步發展之可能性）、是否適
合在學術期刊發表或申請專利、主要發現或其他有關價值等，作一綜合評估。
1. 請就研究內容與原計畫相符程度、達成預期目標情況作一綜合評估 
■達成目標 
□未達成目標（請說明，以 100 字為限） 
□實驗失敗 
□因故實驗中斷 
□其他原因 
說明： 
2. 研究成果在學術期刊發表或申請專利等情形： 
論文：□已發表 ■未發表之文稿 □撰寫中 □無 
專利：□已獲得 □申請中 ■無 
技轉：□已技轉 □洽談中 ■無 
其他：（以 100 字為限） 
3. 請依學術成就、技術創新、社會影響等方面，評估研究成果之學術或應用價
值（簡要敘述成果所代表之意義、價值、影響或進一步發展之可能性）（以
500 字為限） 
學術成就： 
我們撰寫了三篇期刊論文分別投稿至 IEEE Transaction on Communications, IEEE 
Transaction on Vehicular Technology 和 Journal of Chinese Institute of Engineers。
另外撰寫三篇國際會議論文分別投稿至 IEEE TECNCON 2009、IEEE TECNCON 2010、IEEE 
VTC-Spring 2010。 
 
技術創新： 
我們針對 IEEE 802.11e HCCA 提出 1)高效能傳送機會分配演算法、2)工作站封包多工機
制、3)允入控制單元，以保證變動位元速率訊務的服務品質需求(延遲限制、封包遺失機
率)。我們透過定義等效訊務流、整體封包遺失率機率來得到訊務內與訊務間多工增益，
並藉此提高頻寬使用效率。再者，分配集合傳輸機會給各個訊務流時，我們也提出並採用
加權遺失公平的服務排程概念。電腦模擬的數據顯示，相較於先前研究成果，我們所提出
的方法不僅滿足每個訊務流的服務品質需求並且可達到較高的頻寬使用效率。 
 
社會影響： 
由於IEEE 802.11e 針對傳送機會分配與允入控制尚無明確的規範，對於開發IEEE 802.11e
技術的單位而言，為了提供服務品質保證，必須自行開發有效的演算法以達目的。本研究
計畫開發一套高效能的服務品質保證技術，據電腦模擬結果顯示，若實作本計劃開發所之
