 1
一、前言 
半導體雷射（Semiconductor Laser），又稱為雷射二極體 Laser Diode；LD），是一個 PN 
接面二極體，利用電子與電洞的結合而產生光子釋放出來。LD 具有輕、薄、短、小、高壽命、
耐震、方向性佳及輸出功率高等特性，適合供作長距離和大容量之通信用光源及存取高密度
記錄媒體，已大量應用於光通訊與光儲存產業上。其依波長可分為短波型與長波型，短波型
半導體雷射包含波長 635～950nm，主要以砷化鎵（GaAs）作為磊晶成長之基板，大多應用於
非通訊用途如雷射印表機、唯讀型 DVD 光儲存系統（DVD-R、DVD-RW、DVD-Video）、可讀寫
型 CD 光儲存系統（CD-R、Rewritable MiniDisc）等，而長波型則是指發射波長在 950～1550nm
之半導體雷射，主要以磷化銦（InP）作為磊晶成長之基板，幾乎全部應用在光纖通訊方面。
雖然 LD 產業屬高技術層次和高投資金額，因台灣已建立完整 LED 產業，將有利於國內業者
切入 LD 產業。我國 LD 產業早期係以發展 LD 指示筆（Pointer）為主力，因其技術門檻低，
在受到大陸低價競銷影響下，因此轉型發展高功率雷射二極體，但由於上游應用技術之系統
廠商多為日、美等廠商把持，現階段國內廠商多以接國際大廠之 OEM 訂單為主。為了擺脫日、
美等廠商技術之牽制，國內現今必須加速發展 LD 之光電半導體材料製程與封裝製程之自動檢
測技術，以達到技術自給自足目的。 
 
二、研究目的 
由於現今機械加工技術精進，因此物鏡可用單片雙面之非球面鏡，取代傳統之多片鏡組
而解決重量問題，但由於物鏡輕薄短小，外徑約只2mm，物鏡在封裝焊接製程中，容易裂傷或
玷污，最後影響LD聚光之性能。因此，現今LD之封裝廠於LD封裝最後階段，皆會以人工用40
倍顯微鏡檢查LD物鏡之瑕疵，確保產品品質，但因工人技術參差不齊，品管難以落實，對物
鏡細微之裂痕常會疏漏，且檢查速度慢和浪費人力。本文將發展一套雷射二極體物鏡瑕疵之
自動檢測系統，來搭配實際封裝之生產線，達到生產線自動化的目的，以取代現有雷射光束
和人工不精準之檢測方式，並能確實檢測出物鏡細小汙點及細微裂痕區域特徵，將瑕疵位置
顯示出來，這不但能大幅縮短檢測時間及提高辨識率等，且還提升整體製程之工作效率。 
 
三、文獻探討 
在現今常用之雷射二極體瑕疵之檢測技術，大部分都利用雷射光束外型、流明特性、封
裝焊接殘留應變、亮度分部和光強衰退速度，進而分析出雷射二極體製程中半導體磊晶、封
裝焊接殘留應變和驅動電路等瑕疵[1]，但對於雷射二極體物鏡瑕疵之檢測研究則付之闕如，
以雷射光束之光場檢測方式，是無法辨識出物鏡細微之裂痕及汙點。在視覺影像對於檢測表
面破裂或玷污之紋路分析，依影像處理技術，相關文獻主要可分空間域與頻率域二部份；(一)
空間域：Wu[2]在彩色影像轉成灰階影像比對中，建立出色彩對應的樣本區塊，再經由區塊的
相似比對使灰階影像具有較為真實的色彩資訊。Zhang等人[3]提到先將擷取的影像經過濾波
器來消除雜訊，透過處理的影像與原始影像相減，可得到強化瑕疵以便於檢測。Otsu [4]透過
統計所有相關灰階度係數值，並將這些相關係數分成兩類，經由疊代方式，找到兩個群組最
小的變異數加權總合，即為在影像二值化中之最佳門檻值。Walle等人[5]在生醫科技中，使用
X光照射頭顱區域，並抓取頭顱外圍輪廓所有邊界點，透過最小平方法來找到最佳近似圓位
置，此方法針對圓形與橢圓形輪廓搜尋效果非常好。Rigney等人[6]提到在機器視覺應用技術
中提到影像連結體的計數方法是屬於Blob 分析技術，此法應用於物體表示法可以得到許多物
 3
 
 
 
圖一、 雷射二極體檢測硬體架構方塊圖 
 
圖二、 檢測流程 
 5
 
圖三、 影像二值化 
   
                                                 
 
圖四、 Otsu 二值化影像 
 
 
圖五、 編幅長碼法示意圖 
 
 
圖六、 去除鋁框 
 7
(3) 空間域瑕疵辨識 
    最後利用形態學中斷開運算的二值化影像，將物鏡內每個封閉的黑色面積經由編幅長碼
後，如圖八所示，依照每個瑕疵的位置給與一個標籤，並記錄每個瑕疵的周長及面積大小，
如表 1 所示，其中雷射二極體物鏡有時會因空氣中的灰塵附著而產生檢測鏡片造成誤判，因
此設定良品之檢測條件必須在物鏡範圍內不能有同時超過 5 個像素點的黑色封閉面積及周
長，而不良品檢測條件即為須大於 5 個像素點以上才能判斷為瑕疵。 
(4)頻率域瑕疵辨識 
    首先將最小平方法所顯示的雷射二極體平滑物鏡經由低通濾波器濾除高頻雜訊後，再透
過 Haar 小波轉換把影像中的像素值都先視為各自獨立的數值，然後利用這些像素值做相加或
相減的運算，來求得頻域中的小波係數，其中像素值相加部分之值會越來越大，也就是影像
重要的特徵資訊，即是我們的低頻部分。相反地，相減的部份為像素間的差值，若差值越大，
即為影像邊緣部份，若差值越小，即為影像平滑的部分，而處理步驟可分為下列兩個步驟。 
步驟一、小波轉換： 
先做水平小波分解，首先依序由左至右的水平方向，讀取空間域中物鏡影像之矩陣像素值，
並取出 A 、 B 、C 、 D 相鄰的像素作相加與相減之平均運算，之後將依序水平方向儲存，再
做垂直小波分解，將水平小波分解後的運算結果，再依序由上而下的垂直方向讀取相鄰的係
數值，再作一次相加與相減的平均運算，經過運算後的係數也分別依垂直方向順序儲存，即
可得到 LL 、 LH 、 HL及 HH 四個不同頻帶影像如圖九所示，圖中在相加的區域我們稱為空間
域影像的低頻區，此以 L 表示，相減的區域則為空間域影像的高頻區，此以 H 表示。而每ㄧ
個頻帶區域的影像長度皆是原始影像的四分之ㄧ；因此當雷射二極體物鏡影像經過小波轉換
後，根據小波轉換的特性，在 HH 區域裡，可發現在物鏡影像中，大部分雜訊均被濾除掉，
且讓所有亮度對比不同的瑕疵特徵位置變得更清晰。 
步驟二、小波反轉換： 
小波反轉換目的是因 Haar 小波轉換結果為四個頻帶，而每個頻帶區域的影像都為原影
像的四分之ㄧ，為了讓區域中的瑕疵特徵位置能與原來影像位置相同，所以使用反小波轉換。
從 LL 、LH、HL及 HH 四個頻帶中先分別取出 E、F、G、S 的第一點係數值，然後依序做 FE + 、
FE − 、 SG + 、 SG − 之垂直方向運算，而影像中其餘之係數都照此運算方式處理，並依垂直
方向分別作儲存，則可得到第一次垂直回復係數的矩陣。然後再將垂直反轉後的兩個頻帶中，
依水平方向順序分別取出 A 、 B 、C 、 D 等係數，並做 BA+ 、 BA− 、 DC + 、 DC − 之水平反
轉，而影像中其餘之係數ㄧ樣依照此方式做運算，並依水平方向分別作儲存，進而獲得水平
回復係數的矩陣，這時便可得到反小波轉換，即是原來影像中像素值的位置，如圖十所示，
將影像做 Haar 小波轉換後再用反小波轉換後，便可得到原來原始影像之位置，因此在 HH 區
域中，所發現的瑕疵位置就會跟原影像位置相同。 
最後藉由 Haar 反小波轉換，所得到的瑕疵特徵位置，如圖十一所示，其中因圖（a）雷
射二極體物鏡和背景紋路反光不同，而造成小波轉換後殘留部分背景雜訊，使得直接影響物
鏡瑕疵之辨識，所以我們透過亮點位置做比對，若比對後物鏡內留下之所有白色像素點與物
鏡反光亮點位置都相同時，就判斷為良品，若其中白色像素點與物鏡反光亮點位置比對後不
相同時，就判斷為不良品。 
 
五、結果與討論 
 9
 
圖十 反 Haar 小波轉換影像 
 
  
圖十一、頻率域瑕疵檢測 
 
圖十二、空間域汙點物鏡檢測 
 
圖十三、頻率域汙點物鏡檢測 
