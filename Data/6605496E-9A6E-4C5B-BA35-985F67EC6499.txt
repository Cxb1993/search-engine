ii
自主型四足機器人跨越河石地形的路徑規劃與實驗
主持人：鄭璧瑩
國立交通大學機械工程學系
摘 要
由於仿生四足機器人應用的範疇包括如軍事、工業、娛樂等方面，日
趨廣泛，伴隨而來的便是越來越複雜的地形與環境適應能力等技術需求的
開發與實現，才能使四足機器人真正符合現今社會的應用需求。本研究規
劃的第一階段研究目標為針對多種路徑規劃方法，包括路線圖、單元分解
法、勢場法及隨機路線圖法 (PRM， Probabilistic -Roadmap) 等理論進
行進一步評估與推導，由上述方法中，分別擷取個別優點後開發建立一穩
定且有效的 NCF4 河石地形(River stone terrain)路徑規劃法則，完成四
足機器人應用在非連續地形的路徑規劃問題上之具體有效的路徑規劃程序
並利用代克斯托演算法(Dijkstra's algorithm)尋求在可能路徑組合中建
構最短路徑，節省機器人由初始位置移動至目標位置的時間，研發成果採
用動態模擬法驗證四足機器人跨越河石地形的動態效果與具體成效，以提
供接續實機控制系統發展的參考與依據。
本研究規劃的第二階段研究目標為針對非連續河石地形，設計輕量
化、跨步靈巧的四足機器人，透過本研究規劃的平衡步驟，與足部摩擦的
調整，完成可用單晶片嵌入式系統控制的跨越河石地形的足部規劃與實作
平台，可提供自行訓練或擴增智能型地形偵查定位與跨步理論的附加程式
功能，逐步加強與增進四足機器人（NCF4-09）跨越河石地形的功效。研究
中運用TRIZ理論推導，提出新型的四足機器人之設計架構。據此，以CAD軟
體進行虛擬模型干涉檢查與零件強度分析，並尋找較佳的機器人工作空間
配置。另對於機器人行走動作規劃，透過地形資料座標化，應用反向運動
學配合ZMP理論，建立機器人穿越非連續複雜地形的移動規則。接著將所完
成之設計結果，建立以單晶片Basic Atom為核心，伺服馬達為致動器之四
足機器人原型，進行非連續河石地形行走能力測試，證明所推導之設計架
構，能夠滿足本四足機器人平台設計之目標。
關鍵字：四足機器人、河石地形、路徑規劃、萃思（TRIZ）、機構設計
iii
誌謝
本論文研究獲得國科會計畫編號 NSC 96 -2221-E009-200-MY2 的贊助得以
順利完成，特此申致謝忱。
5故相關的研究不少。對於步行機器人，從腳的數量而言，大致可分為雙足、
四足以及多足機器人架構，主要的差異在於平衡控制的困難度，與系統的
穩定度。雙足機器人在結構上雖然是高度非線性的不易穩定系統，但具備
似人外型與容易模仿人類動作的特點，使其發展定位成在高風險的場合代
替人類工作，日本 Honda 公司目前最新的雙足機器人 ASIMO〔1〕，全身具備
二十六個關節，並不斷研究提升動作穩定度，以及與人類的互動能力。腳
數在六足以上的機器人，在穩定性上佔有絕對的優勢，但在機械結構與分
析規劃上亦較複雜，Ozguner 等人於〔2〕所提出的六足機器人 Hexapod 便
算是早期的代表。而四足機器人在穩定性上較雙足機器人高，在結構方面
則不似多足機器人複雜，故常見於步行機器人設計，日本 SONY 公司所發展
的 AIBO 機械狗(如圖 1所示)，算是四足機器人中最早商品化大量生產的產
品，全身
圖 1 SONY ERS-210 圖 2 銳角步伐與鈍腳步伐的比較圖
包含二十個關節，除了四肢可動外，頭部與尾巴亦可動作，以模仿動物的
表情動作。 Tim Bretl 等人於〔3〕中提出了非步伐式（non-gaited）的多
步步態規劃（multi-step motion planning），它能使多足機器人能自由的
攀爬垂直的岩面。這種多步動作規劃器是以前述所提到的單步運動為基
礎，來發展一系列的單步運動完成一動作。 另外，Y. Koga and J.-C.
Latombe 於〔4〕提到多臂（multi-arm）機器人操作一可移動的物體在兩個
不同特徵（configuratiion）間的自動動作路徑產生問題，這兩個特徵處
於障礙物中。為了避免機器人會被碰撞，它們必須改變抓取物體的位置，
實驗顯示此方法不僅快速且能可靠的找出避免碰撞的路徑。由Belen Curto,
Vidal Moreno, and Francisco J. Blanco 等人提出的論文〔5〕中，提到
了一種新的一般性的方法，來在機器人的特徵空間中表示障礙物，這種方
法是以立體空間的數學形式為基礎，來計算特徵-障礙物（C-obstacle）的
表示，在工作空間與特徵空間使用這種方法，和選擇適合的座標系，會導
致障礙物在特徵空間的表示法，可視為兩函數的迴旋積（convolution），
分別代表機器人和障礙物。這種方法可以直接應用在車輛型機器人（mobile
robot）及肘節機器人（articulated robot），而不需任何形式的轉化，且
機器人和障礙物的形狀也沒有限制。因此，這種方法非常適合用在動作規
7二、 研究方法與基本理論
本實驗室(NCTU CIDM Lab.)近年來發展並持續改進四足機器人的機構
與控制系統，如圖 4所示，及針對河石地形等不連續地形的步伐規劃理論
與程式〔8〕。 鄭璧瑩、林建堯〔9〕提出了一套四足機器人在不連續河石
地形上的步態規劃法，利用投影的概念，將三維的工作空間簡化為二維的
特徵空間來作分析，再搭配 ZMP 原理為穩定判斷法則，能夠迅速的建立跨
越河石地形的有效路徑。
圖 4 NCTU-CIDM-F4-2005 四足機器人
對於穿越複雜非連續型地形之機器人的設計目的，依據本研究訂定的
研究方向與功能需求，研發步驟將大致規劃為四個階段：
（1）分析一般四足機器人設計與地形限制條件，定義設計目標。
（2）建立機構設計與系統架構，初步實作機器人架構。
（3）實際驗證機器人穿越地形運作情形。
（4）結合感測系統，導入智慧型路徑規劃。
此研究之宗旨在建立一輕巧快速，並具備非連續地形適應能力的機器
人架構，配合實驗室先前發展之路徑規劃方法，輔以軟體分析設計結構的
可靠度及穩定度，並加以實驗佐證，未來將再導入影像系統輔助路徑規劃。
實驗室亦有規劃另一研究主題，結合類神經網路與基因演算法，發展更佳
的路徑控制程式。在兩者相互輔助下，使四足機器人整體有完整發展。
為了達成研究期望的動機，讓四足機器人能發展為一有效率的機器人平
台，本研究規劃了兩個研究重點：
（1）輕巧快捷的機體架構－有鑑於重型架構在移動速度上的不足，本研
究的設計以輕巧快捷為設計目標。
（2）正確的非連續地形穿越動作－為了配合實驗室發展的非連續地形穿
越路徑規劃法，新一代的機器人架構，亦必須準確地執行演算出的移動路
徑，能夠以迅速的動作，配合準確的移動路徑，展現穩定而有效率的地形
9上，從那時開始，ZMP 就成為動態平衡步行的指標。ZMP 的定義為地面上一
點的慣性力和重力之淨力矩（net moment）無水平軸的分量 Mx和 My則稱此
點為零力矩點，當 ZMP 落在人形機器人腳底所形成的支撐面內，則機器人
可維持平衡不摔倒。而地面對機器人反作用力的合力所作用的點，則稱為
壓力中心（Center of Pressure），當機器人步行維持平衡時，壓力中心和
零力
圖 7 零力矩點位置圖
矩點是重疊的，如圖 7所示， ZMP 的計算公式如(1)式：
.. .. ..
,
0 0 0
..
0
.. .. ..
,
0 0 0
..
0
( ) ( )
( )
( ) ( )
( )
n n n
i iyi i i i ZMP iy ext x f
i i i
ZMP n
ii
i
n n n
i ixi i i i ZMP ix ext y f
i i i
ZMP n
ii
i
m z g x m x z z I F z
x
m z g
m z g y m y z z I F z
y
m z g


  

  

    


    


  

  

(1)
其中
im ：第 i桿的質量
( , , )ZMP ZMP ZMPx y z ：ZMP 的座標
( , , )i i ix y z ：第 i桿件質心座標
g：重力加速度
11
A
x y z
A
x y z
A
x y z
u u i u j u k
v v i v j v k
w w i w j w k
  
  
  
   
   
   
(5)
考慮一般性空間移動的座標轉換關係，根據圖 8，發現移動座標系除了
轉動外還包含了移動 q，從圖中的向量關係圖可以得到兩座標系之間的關
係：
A B AA
Bp R p q 
  
(6)
將上式整理成均質轉換矩陣（Homogeneous Transformation Matrix）可得
兩座標系之間的關係：
A BA
BTp p
 
(7)
圖 8 一般空間移動之參考座標系與移動座標系關係
其中：
AA
B
A
B
0 0 0 1
R q
T
 
 
 
   


 

(8)
要反求
A
p

對
B
p

間的關係時，因為 A BT 並非正交矩陣( A -1 A TB BT T )，將(6)式
等號兩邊同乘 A -1BR ，又 A -1 A TB B=R R ，可得(9)式。
B A A AT T -1- q = TA A AB B Bp R p R p
   
(9)
其中：
13
 1 2 3- cos sinL a a a      (11)
而 A 點座標在 xy 平面的投影值可改寫為：
cos
sin
x L
y L



 
(12)
再由 A點高度變化：
 2 3sin cosz a a     (13)
利用式(14)與(15)，只要知道L及α之值，就可以解出其餘兩軸β與γ之
解，令：
 
 
2
1 2
22 2 2
3 2 1
2
2
- - -
D a z
E L a a
F a a z L a

 
 
則β及γ可由下面兩式求出：
2 2 2
12 tan
D D E F
F E
     

(14)
1 2
3
sin
cos
a z
a
    
 
(15)
經由上述的運算就可正確的將一足的三軸角度運算出來供規劃時使
用。此外，機器人的座標系統如圖五所示，經由這些座標系的定義，就可
將完整之四足機器人工作空間與特徵空間建構出。
地形限制條件及隨機函數產生之特徵空間
由圖12可以很清楚的了解這裡所謂地形限制的意義，即本篇所謂的河
石地形之外貌。
圖11 機器人座標系統
利用上節所提到的座標系概念及亂數之概念，可以建構出大致的工作
空間及特徵空間如圖七所表示之左圖為第一足工作空間，圖13則為相對應
工作空間之特徵空間，其中紅色點的部份代表安全的點，即有河石存在之
15
穩定就保留此四個位置，若不穩定，則重新選取，有了初始位置後由第一
足之資料庫選取第二筆資料，而第二筆資料的座標值必須在第一足初始位
置的前方，並且再一次進行 ZMP 條件測試，也就是 ZMP 的位置必須落在其
他三足(二、三、四足)所形成的穩定多邊形內，若是不穩定，就重新選取
第二筆資料，第二筆資料就是第一足跨步的下一個位置。
依此類推，接著第二、三、四足都進行同樣的步驟各跨一步，最後四
足分別各跨一步後，四足固定不動，開始將機器人的中心點向 y軸正向來
移動一段距離，作為機器人中心的新位置，此機器人中心之新位置必須滿
足四足之機構限制與 ZMP 條件的檢測，完成此步驟後，稱為一個循環，下
一個循環則由機器人新的中心點位置開始，一樣重複上述的所有步驟，並
且完成下一個循環，就這樣，機器人會不斷前進，直到通過河石地形。
研究流程：第二階段
TRIZ 理論
TRIZ 理論是俄文創意問題解決理論（Theoria Resheneyva Isobretate
lskehuh Zadach）的字首。創始人 Genrich Altshuller 從 200,000 件的專
利中，挑出 40,000 件具有較佳創新方法的專利，從中歸納出基本原則與型
態，發現具有創意的專利，都是在解決“需求衝突”的問題，也就是“矛
圖 15 TRIZ 流程圖
盾”，而其被基本解重複的使用，若發明時參考前人的資料，創新的工作
將更容易。參考圖 15 TRIZ 流程圖，在處理工程問題時，可以分為“技術
矛盾”與“物理矛盾”的問題。“技術矛盾”是指在一系統中，當一個參
17
表 2 前 10 項工程參數之矛盾矩陣表
矛盾參
數
1.移
動物
體的
重量
2.靜
止物
體的
重量
3.移
動物
體的
長度
4.靜
止物
體的
長度
5.移
動物
體的
面積
6.靜
止物
體的
面積
7.移
動物
體的
體積
8.靜
止物
體的
體積
9.速
度
10.力
量
1.移動
物體的
重量
* -
15, 8,
29, 34
-
29,
17,
38, 34
-
29, 2,
40, 28
-
2, 8,
15, 38
8, 10,
18, 37
2.靜止
物體的
重量
- * -
10, 1,
29, 35
-
35,
30,
13, 2
-
5, 35,
14, 2
-
8, 10,
19, 35
3.移動
物體的
長度
8, 15,
29, 34
- * -
15,
17, 4
-
7, 17,
4, 35
-
13, 4,
8
17,
10, 4
4.靜的
長度
-
35,
28,
40, 29
- * -
17, 7,
10, 40
-
35, 8,
2, 14
- 28, 10
5.移動
物體的
面積
2, 17,
29, 4
-
14,
15,
18, 4
- * -
7, 14,
17, 4
-
29,
30, 4,
34
19,
30,
35, 2
6.靜止
物體的
面積
-
30, 2,
14, 18
-
26, 7,
9, 39
- * - - -
1, 18,
35, 36
7.移動
物體的
體積
2, 26,
29, 40
-
1, 7,
4, 35
-
1, 7,
4, 17
- * -
29, 4,
38, 34
15,
35,
36, 37
8.靜止
物體的
體積
-
35,
10,
29, 14
19,
14,
35, 8,
2, 14
- - - * -
2, 18,
37
9.速度 2, 28,
13, 38
-
13,
14 ,8
-
29,
30, 34
-
7, 29,
34
- *
13,
28,
15, 19
10.力量 8, 1,
37, 18
18,
13, 1,
28
17,
19, 9,
36
28, 10
19,
10, 15
1, 18,
36, 37
15, 9,
12, 37
2, 36,
18, 37
13,
28,
15, 12
*
在工程參數矛盾矩陣表中，依據提出的兩個矛盾參數，對應得到之數
字代號即代表建議法則，並依據常用之順序排列。TRIZ 中歸納出的 40 項創
19
軟體介紹
SolidWorks 2008 繪圖軟體
設計中所使用的 3D 機械設計軟體，是採用 Dassault Systemes
SolidWorks Corporation 的 SolidWorks 做為四足機器人機械結構設計的
輔助設計工具。它可以接受多種從其他不同的 2D 和 3D 輔助設計軟體所建
立的文件類型、具有三維建模、鈑金、材質設定、零件裝配等 CAD 功能，
並可將建立的虛擬模型檔案轉存為其他檔案類型，方便提供其他軟體利
用。在建立虛擬模型的同時，除了建立快速瀏覽的外觀外，也能指定零件
的特性，如密度、彈性、強度等，可以配合建立出的模型估算出實際成品
的機械特性，如圖 16 所示。建立出的組合件亦可給予動作設定，產生模擬
動畫，給予更完整的設計輔助。COSMOS 模擬軟體方面，分別包含
COSMOSXpress 與 COSMOS Motion，藉由與 Solidworks 整合的介面，使得建
立完的零件與組合件可以快速的完成應力、應變分析，以及機械運作模擬，
節省在傳統設計流程中可能浪費的時間與成本，提升了設計工作時的效
率，如圖 17 所示。在這次設計工作中，將先以模型建立功能，完成初步機
器人架構，輔以模擬分析功能進行結構分析，完成機器人結構設計〔14〕。
圖 16 SolidWorks 2008 操作畫面
21
料，轉換為以純文字格式編寫的機器人動作角度檔案匯出，或將由其他軟
體產生之相同格式檔案匯入產生動作。另外，為配合將完成之動作運用於
目前廣為使用之微控制器 Basic Stamp 或 Basic Atom，完成的動作也可匯
出成適用於上述微控制器的程式碼，直接由機器人獨立執行。
圖 18 Visual Sequencer
圖 19 SSC-32 伺服馬達設定介面
23
圖 21 實驗規劃流程
圖 22 跨越河石地形(循環範例)
四、 結果分析與動態模擬
第一階段成果：
由前面章節的例子來看，本研究針對跨越河石地形所發展的路徑規劃法
為具體可行的方法。本研究並採用ADAMS模擬軟體來進行動態的模擬來觀察
與驗證機器人運動的情形，如圖22是機器人及河石地形在軟體中的配置情
形。一連串動態測試圖，四足機器人會根據程式所運算出的腳步資訊而持
續前進，此外將動態圖分成三個視角來觀察機器人移動的情形。由圖23 (1)
至(9)連串動態模擬圖展示出四足機器人依據程式所計算出不同時間時機
25
第二階段成果：
設計推演
依據本實驗室的研究主題、非連續性地形的特性、修改第一階段機器
人的架構，規劃出第二階段的設計目標：
（1）高地形適應性
（2）快速準確動作
（3）機體重量輕
依上述的設計目標，與機器人的基本功能需求相互參照，便會浮現幾
個設計問題。是故在此依據 TRIZ 創新理論，將這些設計問題歸納，整理為
下列的矛盾問題：
（1）想要機器人有高地形適應性，但希望不用提高致動器的使用數量。
（2）想要四足機器人的動作迅速，但致動器有一定的出力需求。
（3）想要機器人減輕重量，但減輕重量可能影響強度。
將這些矛盾問題對照 0中的 39 個工程參數，可以轉化成工程參數間的
矛盾，再對照 TRIZ 提供的矛盾矩陣表，便可得到解決設計問題的方向提示。
參照矛盾問題所得到的結果如下：
13.物體穩定性 + 36.裝置複雜性
= 2.萃取, 35.改變物質特性, 22.將害處轉為好處, 26.複製
9. 速度 + 10. 力量
= 13.反向, 28.取代機械系統, 15.動態, 19.週期運動
1.移動件重量 + 14.強度
= 28.取代機械系統, 27. 丟棄, 18. 機械振動, 40.複合材料
根據得到的所有創新方向，在此分別挑出萃取、取代機械系統、複合
材料三項，作為尋求解答的方向，並對三項矛盾問題提出改善方法：
（1）萃取：將機器人足部工作空間進行整理，改善致動器配置進而使工
作空間增加。
（2）取代機械系統：將原來之步進馬達系統更換為伺服馬達系統，減輕
機身重量並簡化電路設計，提高動作反應速度。
（3）複合材料：更換機器人結構件，改採壓克力加工件及鋁合金鈑金件，
並在部分結構直接使用伺服馬達本體作為結構的一部分，減少較厚重的金
屬铣削件的使用。
依據在此所推導而出的改善方法，將運用於本研究後續的機器人架構設
計中。
機械系統說明
機器人設計架構分為軀幹、腿部與電路部分，如圖 25 所示。依據在
27
點相對於座標系原點位置，現對於機器人各關節之旋轉角度定義如下：
上臂旋轉自由度：旋轉角度 α
上臂抬放自由度：旋轉角度 β
下臂抬放自由度：旋轉角度 γ
將 O點定義為座標原點，則關節臂下方 A點的座標則可以式(16)的公
式來表示：
在進行位置分析前，必須建立兩組座標系，其一為系統的參考座標系
OXYZ以大寫 XYZ 表示，用以描述在機器人和地形在空間中的絕對位置和 ZMP
的計算；另一個是以機器人中心為原點，以機器人本體法向量為 z軸，本
體前方為 y軸的座標系 Oxyz以小寫 xyz 來表示，此一座標系隨四足機器人本
體移動、旋轉而改變，主要用以描述機器人的四足相對於機器人中心的位
置及特徵空間的計算。此二座標系，在後面即是用來連結地形與機器人間
相對位置的工具。
在描述機器人的位置時，除了每一足中三個自由度α、β與γ的值等
12 個參數，還必須包括了機器人中心點的座標 OC（XC, YC, ZC），為了配合
複雜地型而放大機器人限制條件的情況下，還加上一 x軸的旋轉角ΘC，使
機器人有前傾後仰的動作。
當在分析機器人的位置時，必須面對的第一個問題就是多參數的問
題。由於單腳的參數個數為 3個，為了能達到簡化進行位置分析的需求，
使用 Oxyz座標系的 xy 平面(以下以 xy 平面簡稱)之工作空間投影來進行分
析。此 xy 平面的工作空間投影，其實為腳的投影長度 L及α角度的變化所
掃成的面積，而腳的投影長度 L則為其它兩軸自由度β及γ的函數，即：
(17)
再利用投影長度 L及旋轉角度α，將端點座標改寫為：
(18)
(19)
將以上兩式聯立，可以得知α與 xy 關係為：
(20)
式(11)與式(13)經由移項整理，得到：
(21)
(16)
29
圖 28 機器人控制流程 圖 29 單循環動作流程圖
動作流程說明
在路徑程式執行的過程中，因為本研究分析的四足機器人目的為跨越
河石地形，其移動速度較緩慢，所以選擇了靜態 ZMP 來作為機器人的穩定
準則，這是一個相當簡易的判斷準則，當機器人的質心座標投影在另外三
隻支撐腳的連線三角形中，即判定為穩定，但為避免在機器人跨步時，抬
腳動作的慣性，使機器人傾斜翻倒，在本設計之應用中，會對此連線三角
形向內側作偏移修正，以提高抬腳時的機身穩定度。
整個程式的詳細流程。首先，定義機器人中心點的初始點，並給定機
器人的初始姿態，接著進行抬第一足前的 ZMP 檢測，若不符合則進入移動
重心的模式，固定四隻腳的位置，依照 ZMP 規則對機身平衡進行修正，透
過反向運動學求得四足各軸的角度，將機器人中心點位置移動至符合抬第
一足前 ZMP 的中心點的位置。隨後抬升第一足，並將之移至目標踩踏點，
完成單足踩踏動作，依此類推，接著第二、三、四足都進行同樣的步驟各
跨一步，完成移動循環，如圖 29 所示。
31
由工作空間分析圖可得知，下臂的比例越長，在 X向所橫跨的區間越長，
且在 Z向的分布較集中，因此越容易運用於機器人行走運用。是故依據分析
結果，機器人之腿部配置，將採用上下臂比例 4:5 為設計基準。
對於機器人單足之工作空間，相當於將前面所得之 x-z 平面工作空間，
以肩關節軸心為準，所旋轉掃出之空間。而掃出範圍之限制，則取決於機器
人腿部旋轉時所可能產生之機構干涉。對於此位置之旋轉角度設計，一般常
以圖 26 中 X 軸為中心對稱配置，但此配置在行走時會與同側腿部工作區域
相干涉，使實際可使用範圍約在-30°~110°，故在此改採一旋轉了Θ角度之 X’
軸為配置中心，使腿部能獲得最大工作空間設計，隨後將運用於測試的應用。
機構檢驗
模擬流程的第二階段，將對機器人模型進行動作空間干涉檢驗與個別零
件的安全系數及應力應變分析。運用 SolidWorks 的組合件干涉檢查， 如圖
31所示先對零件組合間的干涉進行修正，再利用移動零件的碰撞偵測，設定
為碰撞時停止，藉此檢驗動作時的干涉情形調整伺服馬達的旋轉角度上下
限。
圖 31 四足機器人干涉檢查
在前面建立模型時，已經先對零件輸入了材質與密度的物理特性，依
據這些參數，可以計算出機器人各關節在動作中所承受的最大負載，藉由
這些負載的資料，找出機器人桿件在運作中所可能承受之最大負載，將這
些受力狀況進行模擬，如圖 32，施加於個別零件上，進行安全係數評估與
應力應變分析，如圖 33，檢查負載下各零件受力情形加以調整，整個分析
流程如圖 34。至此，完成了一個滿足設計目標的機器人架構。
33
機體實作
伺服馬達規格
為改善機器人的動作反應速度，並簡化驅動系統的控制流程，標準的
微型伺服馬達有三條線，分別為：電源、接地及控制。電源線與地線用於
提供內部的直流馬達及控制線路所需的能源，控制線則接收週期性的正向
脈波訊號作為旋轉定位。本四足機器人架構將採用韓國 HiTEC 公司所生產
之伺服馬達 HS-475HB (如圖 35 所示)，作為機器人平台上主要致動器系統，
總共將使用十二個。表 3 為伺服馬達之規格進行說明：
圖 35 HiTEC HS-475HB Servo Motor 尺寸圖
表 3 HiTEC HS-475HB Servo Motor 規格表
Control System +Pulse Width Control 1500usec Neutral
Operating Voltage Range 4.8V to 6.0V
Test Voltage at 4.8V at 6.0V
Operating Speed 260°/sec at no load 333°/sec at no load
Stall Torque 4.4kg.cm 5.5kg.cm
Idle Current 7.4mA at stopped 7.7mA at no load
Running Current 160mA/60° at no load 180mA/60° at no load
Stall Current 900mA 1100mA
Operating Travel One Side Pulse Traveling 900usec
Direction Clock Wise/Pulse Traveling 1500 to 2400usec
Motor Type Cored Metal Brush
Potentiometer Type 6 Slider/Indirect Drive
Amplifier Type Analog Controller & Transistor Driver
Dimensions 38.8x19.8x36mm
Weight 40g
Ball Bearing Top/MR106
Gear Material Heavy Duty Resin
資料來源： HITEC RCD KOREA INC〔16〕
35
圖 37 Mini-ABB（Atom Bot Board）
SSC-32 脈波產生器介紹
為了分割程序處理與伺服馬達控制兩個部分，在轉譯動作為伺服馬達
所需脈波的部分，使用的是 Lynxmotion 公司所生產的 SSC-32 脈波產生器，
如圖 38 所示，利用 AVR 公司的 ATmega8 單晶片，結合 4組 74HC595 晶片構
成之模組，可以控制 32 個伺服馬達。詳細規格如表 3所示。
表 3 SSC-32 脈波產生器規格
Microcontroller Atmel ATMEGA8-16PI
EEPROM 24LC32P (Not supported on this release)
Speed 14.75 MHz
Internal Sequencer 12 Servo Hexapod (Alternating Tripod)
Serial input True RS-232 or TTL, 2400, 9600, 38.4k, 115.2k,
N81
Outputs 32 (Servo or TTL)
Inputs (Static or Latching)
Current requirements 31mA
PC interface DB9F
Microcontroller interface Header posts
Servo control Up to 32 servos plug in directly
Servo type supported Futaba or Hitec
Servo travel range ~170°
Servo resolution 1uS, .11°
Servo speed resolution 1uS / Second
Servo motion control Immediate, Timed, Speed or Synchronized
資料來源：Lynxmotion, Inc.
37
達。依照前述之訊號處理流程，機器人運作時的控制架構整理為圖 39 所示。
圖 39 PC 訊號源處理流程
圖 40 組裝完成之四足機器人
原型組裝
此機器人之原型建立，除前述之電路與致動元件外，部分將使用市
售鋁合金鈑金結構件，及自行加工之壓克力加工件。 壓克力加工件的部
分，是使用 ILS-II 精巧型二氧化碳雷射雕刻機，進行雷射加工，由於受限
於雷射切割機具僅具兩軸自由度，故加工零件的設計亦已配合此特性加以
設計。 伺服馬達直接裝配於機器人關節部位，軸心對稱關節軸，使關節
部位的動力由伺服馬達直接驅動。為了確保各關節受力準確通過軸心，在
伺服馬達盤面相對側旋轉軸心位置加裝軸承，與各機械臂連接，避免因不
當受力造成損壞。 最後進行安裝的是電路系統部分的線路，分別包含電源
線路、伺服馬達控制線路、控制電路板訊號線，其中必須特別注意會出現
在機身下側的伺服馬達線路，必須拉緊加以固定，以免在行走時拉扯到地
39
機器人之不動三足踏點被調整至所構成之三角形較為狹長的位置，這是因
為這同時是一種較易翻覆的位置。實際測試結果如表 4所示，可知在 K值
大於 8的情況下，有較佳的穩定性。
非連續地形設計說明
為了驗證機器人穿越非連續地形的能力，本研究設計了一非連續河石地
形，如圖 43 所示。在此河石地形中，取白河石為可踩踏的點，隨機安置於
地形中的圓孔，作為非連續的踩踏地形。河石有兩種尺寸，直徑同樣是
35mm，厚度分別為 4mm 與 8mm 的圓盤，河石地形板為 250mmX350mm 的白色
壓克力板，上有 8Ｘ6個圓孔，其圓心之間距離為 40mm。在行走測試中，會
將河石依測試目標，隨機置於河石地形板上，作為模擬機器人行走時，可
能遇到的非連續地形。
圖 43 測試用非連續河石地形
圖 44 步伐動作流程圖
機器人行走路徑產生說明
對於機器人的行走型式，在本文中的步態為爬（crawl），這是一種靜
態穩定的走法，基於機器人主要是在非連續的河石地形上移動，而本研究
的目的是希望機器人能順利跨越河石地形，故選擇這種最穩定的步態作為
機器人移動的方式。圖 44 為爬行流程的的步伐動作流程圖，此為波浪步態
（wave gait），橫軸為一次循環中的動作順序，縱軸為各足編號及中心，
41
行走實驗
實驗的第二階段，是針對完成的機器人進行測試，內容將針對機器人
的行走能力、高度變化適應能力、非連續地形適應能力進行測試。同時，
為了驗證本研究之控制架構具備獨立行走的能力，在各項測試中將分別就
電腦控制與 Basic Atom 控制兩種情況進行測試，將其間差異將以討論。
實驗一：直線平坦地形行走測試
直線平坦地形行走測試所使用的地形如圖 45 所示，實驗一開始先將地
形資料加以座標化，套用至前一節所說明的路徑產生規則，並依此所產生
之
圖 45 測試用直線平坦地形
機器人行走動作資料，進行直線平坦地形實際行走測試。首先進行的電腦
控制測試結果如圖 46 所示，行走之步伐大致正確。隨後進行將測試過之步
伐匯入機器人處理器進行獨立行走測試，測試結果如圖 47 所示，與前次測
驗大致相同，證實在此架構下，機器人可完成平地直線行走的目標。
43
圖 48 直線平坦地形實際行走完整步態
45
圖 50 非連續非平坦地形單一行走循環（電腦控制）
圖 52 非連續非平坦地形單一行走循環（獨立行走）
47
五、 結論與未來目標
本研究專題計畫分由兩階段進行，茲分別加以說明：
第一階段眼研究成果
本研究成功推導出 NCF4 四足機器人在平面河石地形的步伐規劃法則，並可
推導至其他四足或多足機器人的步伐規劃等應用方面，並且說明河石地形
規劃程式的運用流程以及工作空間與特徵空間的轉換與應用步伐規劃法則
加入亂數及零矩點(ZMP)計算的方法，以確定四足機器人行動時的穩定性。
本研究的成果達成預期階段進度目標，具體成果可歸納為數項特點加
以說明：
(1)將多維度的路徑規劃問題簡化為多個二維的問題組合。
(2)完成一基本的河石地形路徑規劃方式。
(3)可適應不同排列方式之河石地形。
(4)證實規劃法則可適用於複雜的非連續型地形。
本研究的成果將提供接續實機控制系統發展的參考與依據。
第二階段眼研究成果
開發具備高度地形適應與負重能力，並能實際運用之四足機器人系統，是
本實驗室長期的研究目標。本次四足機器人創新設計研究的主軸，是以提
高動作靈敏度以及機身輕量化為主，輔以控制系統的改善，最後結合實驗
室發展的快速規劃跨越河石地形的路徑規劃法，以圖實現足以達成目標之
設計。透過連續的設計規劃與分析，建立具備跨越非連續河石地形能力的
自主型四足機器人系統，並分別經由模擬分析與實機測試展示的方式，驗
證設計可行性。目前本研究完成之成果，可歸納為以下幾項重點：
（1）輕巧快速的機器人架構：
研究中首先設定了機器人的設計目標－高地形適應性、快速準確動
作、機體重量輕，以此與實驗室前一代機器人的設計進行比對分析，運
用 TRIZ 理論的推演，依此產生了三個新的設計修正方向，即萃取、取
代機械系統、複合材料。對於機器人上下臂比例，與肩部關節可驅動範
圍，做出了分析，改善了腿部關節的配置，從而將機器人的工作空間進
行調整得到較大運作範圍；更換了機械系統以提高機器人工作空間大小
並減輕機器人重量，對於動作速度亦有大幅改善；另外，將主要的結構
件以複合材料取代，大幅減輕機器人的重量。經由後續的測試，證明本
設計成功達成了機身輕巧與動作快速的目標。
（2）建構四足機器人的模擬模型：
49
參考文獻
〔1〕 Yoshiaki Sakagami, Ryujin Watanabe, Chiaki Aoyama, Shinichi
Matsunaga, Nobuo Higaki, Kikuo Fujimura, “The intelligent ASIMO:
system overview and integration”, Intelligent Robots and System, 2002.
IEEE/RSJ International Conference on, Volume 3, Page 2478 – 2483, 30
Sept.-5 Oct. 2002
〔2〕 Ozguner, F., Tsai, S.J., and McGhee, R.B., “An Approach to the Use
of Terrain Preview Information in Rough Terrain Locomotion by a Hexapod
Walking Machine”, The International Journal of Robotics Research, Vol.
3, No. 2, page134-146,1984
〔3〕 Tim Bretl, Sanjay Lall, Jean-Claude Latombe, and Stephen Rock,
“Multi-Step Motion Planning for Free-Climbing Robots”, To appear in
WAFR, Zeist, The Netherlands, 2004
〔4〕 Y. Koga and J.-C. Latombe, “On multi-arm manipulation planning”,
In IEEE Int. Conf. Rob., Aut. 1994
〔5〕 Belen Curto, Member, IEEE, Vidal Moreno, IEEE, and Francisco
J.Blanco, Member, IEEE, ”A General Method for C-Space Evaluation and
its Application to Articulated Robots Robots”, IEEE Tr. Rob. Aut.,
Vol.18, No.1, Feb. 2002
〔6〕 Bo Huang, Lining Sun, Yufeng Luo, ”Statically Balanced Stair
Climbing Gait Research for A Hybrid Quadruped Robot ”, Proceedings of
the IEEE, International Conference on Mechatronics & Automation,
Niagara Falls, Canada, July 2005
〔7〕 Christophe Grand, Faiz Benamar, Frederic Plumet, Philippe Bidaud,
“Stability and Traction Optimization of a Reconfigurable Wheel-Legged
Robot”, Laboratoire de Robotique de Paris(LRP), Universite Pierre et
Marie Curie, CNRS FRE2507
〔8〕 鄭璧瑩，「創意機器人系統設計備忘錄 2005」，交大 CIDM Lab，2005
〔9〕 鄭璧瑩、林建堯，「仿生四足機器人跨越河石地形的路徑規劃」，第十屆中
華民國機構與機器原理研討會，2007 年 11 月
