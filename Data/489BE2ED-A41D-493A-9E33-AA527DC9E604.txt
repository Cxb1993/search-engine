trees)及樹狀、網狀的混合型[3]。儘管以樹狀結構為基礎
的P2P有較簡單枝節點關係，但容易受到節點異質性和用
戶大量加入與離開的動態變化所影響。以網狀結構為基礎
的P2P有較複雜之節點關係，但卻明顯改善了對於動態節
點的應變能力。 
 
圖1. P2P IPTV 樹狀及網狀結構示意圖 
 
本計畫採用 SIP 協定[26]來建構一個安全的應用層群
播(Application Layer Multicast, ALM)重疊網路與具有負載
平衡及穩定性的 IPTV。具有 SIP 功能的安全群播重疊網
路稱為 SIPTVMON，這是一個樹狀結構為基礎的重疊網
路。為了克服重疊樹狀結構容易受異質性節點和用戶上線
離線變化量大所造成的影響，我們透過節點的鏈路頻寬和
在線時間來調整重疊樹的方法來進行優化，使其達到穩定
並盡可能降低上述影響。 
SIP 已被廣泛和成功地應用在於許多  VoIP（Voice 
over IP）系統。電信 3G 的 IP Multimedia Subsystem 
(IMS)[35]也是由 SIP 協定所建構。我們相信提出的
SIPTVMON架構不僅可以配合其他使用 SIP的網際網路應
用，如普遍的 VoIP 多媒體應用，也能幫助 IMS 在 3G 行
動網路上達到具有可擴展性與成本效益的 IPTV服務。 
本計畫成果報告以下的文章結構如下，在第二節，我
們介紹 ALM 重疊網路、隱私保護機制和 SIP 訊號協定的
相關技術，第三節闡述本計畫成果所提之 SIPTVMON 相
關架構的細節，第四節介紹 SIPTVMON 的模擬實驗，以
及對於 P2P IPTV 的性能測試結果，最後是結論及未來工
作。 
 
2. 相關技術 
本節我們會簡要回顧有關本研究計畫成果所提解決方
案的相關技術，為具可擴充性的 IPTV 服務來構建一個具
有隱私保護以及負載共享和穩定性的應用層群播重疊網
路。 
2.1. 應用層群播(Application Layer Multicast) 
ALM 是一個應用層的網際網路群播資料傳輸方法，
讓 IP 群播封包透過單播(unicast)路徑不需要路由器的幫助
就能群播資料到另一個網段。ALM 被認為是對於建構適
合大型網際網路多媒體應用的重疊網路而言是一個有效符
合成本效益比的重要工具。ALM 具有許多優勢：相較於
IP Multicast，能夠降低路由器之維護；可以提供比 IP 
Multicast更大的群播組數；較少 IP群播的相容性問題；以
及容易擴展新功能：如安全性、錯誤控制與穩定性等等。 
路由器為避免過多 IP Multicast 封包，在網際網路上
傳送，因而降低路由器之效率，大多將 IP Multicast 關
閉。因此，透過 ALM 能夠有效的解決此問題，並能提供
更多附加之服務。 
如圖 1(a)所示，一個單源單樹(Single Source Single 
Tree)的 ALM[16][17]主要目的是在於優化單一來源的資料
串流來減少延遲和遺失率。在加入 ALM時，此新成員 (i.e. 
群播代理人，MA)必須先連結到目錄伺服器(rendezvous)，
作為起始動作，藉以獲取成員列表，並從其中選取各種不
同基準(如  RTT(round-trip time)、遺失率與頻寬等)之成
員，用以取得多媒體串流服務。 
如圖 1(b)所示，網狀結構其優點在於，能夠避免重複
群組管理及較佳節點失效時之應變能力 [20]。網狀 ALM
可視為，由多顆不同之生成樹所構成，其相對於單一樹狀
結構之方法，多重樹狀結構更為複雜。 
在文獻[18]中，作者提出一個應用於 P2P 即時影音串
流兼具有較低延遲及較高頻寬之網狀結構：Fast-Mesh，並
提出一個集中啟發式(centralized heuristic)的完整性網狀架
構。並透過實驗證明其所提出之解決方案，在數以百計之
網狀結構節點，傳輸 10kbps影音資料流下，能夠達到平均
延遲在 50ms到 100ms 。且在其所提出之測試環境，儘管
節點橫跨不同國家，在傳輸 30kbps之影音資料流下，Fast-
Mesh仍能提出較低延遲，且延遲時間介於 10ms至 500ms
間。 
在我們所提出的 SIPTVMON，採用單源單樹的方法
是肇因其簡單性，不僅可應用於隱私保護，也能提供具有
擴展性與穩定性之最佳化 IPTV調整群播樹。 
2.2. IPTV私密性 
網路視訊串流的隱私保護為了節省時間通常使用對稱
式加密。有兩種對稱式加密的機制。一種方法是完全加
密，一種方法是選擇性加密。一般來說，選擇性加密主要
的缺點是不夠安全而且依賴視訊內容格式。換言之，完全
加密通常是被批評有較長的計算延遲，不適合即時影像串
流。然而，根據 2007 年完全加密的處理速度實驗[25]結
果，延遲時間較長的缺點不再是一個問題。在這個測試
中，使用的計算機採用 Intel dual core 1.83GHZ，在 triple 
DES、DES和 AES的加密位元比分別可以達到 104Mbps、
272Mbps和 792Mbps。 網際網路上視訊串流位元速率很少
高於 10Mbps，因此顯示完全加密有能力來支援如同 IPTV
的即時高畫質視訊串流傳輸的安全防護。 
(dMA)。此外， SA[21]不只需要詳細存有各 MA 及
SIPTVMON 之拓樸資訊，並且也須協助位於私有網路
(Private Network)之 MA，轉送 IPTV 影音資訊，用以達到
無所不在之 IPTV服務。 
 
圖4.  SIPTVMON主要架構 
 
然而，SIPTVMON 的拓撲結構，將會由於使用者訂
閱或退訂 IPTV 服務而改變，相對應之 MA 因而可能加入
或離開 SIPTVMON。同時，每個 dMA 保留不同的系統資
源及額外之頻寬可進行封包轉送，因此本計畫提出具有附
載分享之 IPTV群播服務：SIPTVMON，來防止 sMA負載
過大，而影響 IPTV影音品質。  
3.1. MA具有安全規定的 加入/離開 到/從
SIPTVMON  
基於長尾理論 (Long Tail Theory)[9]，大多剛加入
SIPTVMON 之使用者，不會待在 SIPTVMON 太久。因
此，為了進一步減少由於使用者加入離開時，導致必須重
新連結非葉節點(non-leaf node)間的連結，因而新使用者
(dMA)必須被加入至葉節點(leaf node)。 
 
圖5. 新使用者(i.e. MAnew)加入 SIPTVMON之程序 
 
加入新的MA的過程如圖 3所示，過程如下: 
1. 當新使用者 MAnew欲加入 IPTV 時，會透過 SIP 發送
"REGISTER"訊息給 Server 用以通知加入 IPTV，並取
得可以當做 Parent Node也就是MAleaf之相關資訊。 
2. SA 所扮演的角色：SIP proxy 及保存 SIPTVMON 拓
撲。當 SA收到 MAnew之訊息時，便透過 SIP/SDP回應
可做為父節點 MAleaf 之相關訊息。SA必須存有所有最
新之拓樸訊息，用以正確的回應所有MA之需求。 
3. 註冊成功後，MAnew 需要通過 ECDH 金鑰交換演算法
來準備公有的參數和金鑰給 MA。橢圓曲線[32][33]的
函數參數 Eq1(a1,b1)、基本點 G1=(x1,y1)及隨機私鑰 Knew
都是由 MAnew所產生。然後經由 Knew、Eq1和 G1可以
計算出一個公鑰 Pnew。 
4. MAnew經由 SA proxy送出一個 SIP "INVITE" 請求訊息
給遠程的 MAleaf。SIP訊息裡的 SDP結構包含著 ECDH
公開資訊 Eq1、G1 和 Pnew。 
5. 當 MAleaf 接收到 MAnew 的  "INVITE" 訊息時，表示
MAnew被授權加入 SIPTVMON，它將會隨機生成一個
私鑰 kleaf，然後根據 kleaf、Eq1和 G1計算出一個公鑰
Pleaf。此外，用來加密視訊用的共同私鑰 Kc可以經由
kleaf、以及所收到包含於 SDP 之 Pnew、Eq1和 G1計算
出。 
6. 接著 MAleaf回應一個 SDP 結構包含著公鑰 Pleaf的 SIP  
“OK” 訊息給MAnew。 
7. 當 MAnew接收到來自 MAleaf的 SIP "OK" 訊息裡的公鑰
時，MAnew可以使用 Pleaf、私鑰 Knew、Eq1和 G1來計算
出共同私鑰 Kc，用來解密被加密的影音內容。 
8. 最後，MAnew將會送出一個 SIP "ACK" 訊息給MAleaf，
經由 SA 來確認 ECDH 金鑰交換和成員加入到
SIPTVMON 完成。同時， SA 也可以藉此更新
SIPTVMON之拓撲訊息，用以相應新成員加入。 
 
當非葉節點欲離開 SIPTVMON 時，必須等待其同網
段中之使用者離開，以及其子節點(i.e. MAs)重新連結至新
的 MA，作為新的父節點時，才能允許離開 SIPTVMON，
結束其 IPTV之服務。 
成員離開群播樹時，為確保其子節點影像傳輸不中
斷，成員應該要依循正確的方式離開，等待底下成員回報
完成新的連接之後自己才可離開。在圖 4 的例子中，當一
個非 Leaf 之 MA 欲離開群播樹時，會依序進行以下動
作： 
1. MAl首先將會送出離開請求的 SIP/SDP "BYE" 訊息，
並且包含視訊內容資訊及註冊訊息。不只來告知其父
節點停止轉送視訊，即告知其子節點  (i.e. MAc1 和 
MAc2) ，去尋找新的父節點 MAs來取代它們舊的父節
點MAl以維持 IPTV視訊串流。 
2. 被告知的子節點(i.e. MAc1 和 MAc2)將會送出重新登記
請求的 SIP/SDP "REGISTER" 訊息，並包含相同之視
 
圖7. 基於 ABTP調整 SIPTVMON樹狀架構 
 
由於 SA也作為 SIP Proxy使用，可藉由所有節點傳送
SIP 訊息時，可得到整體 SIPTVMON 樹狀結構之拓樸資
訊，更可藉此取得 MA的頻寬及存活時間。藉由所獲得的
資訊，SA能夠計算出各節點之調整標準(eg. ABTP)，並藉
由 SIP 訊息： "UPDATE"，用以調整、優化基於
SIPTVMON之樹狀架構所進行之 IPTV服務。 
如圖 8所示，描述如何透過 SIP訊息，完成圖 7中所
述之調整機制，詳細說明如下： 
1. 當 SA 偵測到 SIPTVMON 樹狀架構下，位於較低階
層節點 M2之 ABTP 數值，大於上層節點之調整數值
時，SA便透過 SIP "UPDATE" 訊息與 SDP中包含M2
之影音資訊標幟、註冊金鑰、以及新的父節點 M0等
資訊送至M2。 
2. M2收到 SA 之資訊後，會開始猶如於圖 6 之離開程
序，但不會通知其子節點重新加入其他父節點。接著
M2 及其子節點則與圖 5 中，以 ECDH 架構加入
SIPTVMON之方式，與 M0開始加入程序。當完成加
入程序後，便發送 SIP "OK" 訊息至 SA 
3. SA 接著發送 SIP "UPDATE" 訊息至較低調整數值枝
節點 M1，以及 SDP 訊息包含其認證標誌以及新父節
點M2之資訊。 
4. 在 M1接收到 SA 建議的新的父節點後，它將會先啟
動類似圖 6的離開程序，但是不告知它目前的子節點
重新加入其他父節點，然後 M1和它目前的子節點開
始啟動上述的 EDCH加入流程計畫來連結到新的父節
點 M2。當完成加入程序時，M1送出 SIP "OK" 訊息
至 SA。 
5. 因為 M1的子節點 M3已經被移動至，比 M2的子節點
M4、M5 和 M6 還要低的層級，有較高調整數值之
M3，必須先和 M2最低調整數值的子節點 M5交換位
置。因此，SA發送 SIP "UPDATE" 訊息至 M5，要求
M5重新連結至新父節點M1。 
6. 在 M5像前面的步驟一樣重新加入 M1後，M5送出
SIP "OK" 訊息給 SA。 
7. 然後 M1的子節點 M3，重新連結至和 M2的子節點相
同的層級後。SA發送 SIP "UPDATE" 訊息至 M3，要
求M3重新連結至新的父節點M2。 
8. 在 M3像前面的步驟一樣重新加入 M2後，M3送出
SIP "OK" 訊息至 SA。 
9. 由於 M2之外分支度比先前來得要大，因此須將子節
點中，最低調整標準之 M4移置下層。SA 發送 SIP 
"UPDATE" 訊息至M4，用以重新連結至新父節點M1-
。 
10. M4重新加入成為 M1之子節點後，M4送出 SIP 訊息
"OK"至 SA，用以完成優化過程。 
 
圖8. SIPTVMON調整之 SIP 訊息流程 
 
為了優化 SIPTVMON 樹狀架構之負載平衡及穩定性
的調整，可能因而導致服務中斷。但透過 ABTP，可以降
低頻寬變動導致來避免 SIPTVMON 不必要的調整，因而
可以更進一步有效的減少服務中斷。使用 ABTP 做為調整
基準，能夠提供以 SIPTVMON作為 IPTV服務架構兩個優
點： 
 ABTP 遵照長尾分布：使用者存在系統較長之時間，能
夠擁有較大之 ABTP 數值，即使節點擁有較大之頻
寬，卻因存在系統時間較短，而無法擁有較大之 ABTP
數值。但經過一長段之時間，擁有較大頻寬的節點，
也能夠擁有較大之 ABTP 數值，此節點因此會被移到
較高之階層。 
 ABTP 可以避免不必要的調整：頻寬之變化容易導致節
點之階層改變。 
最 後 透 過 實 驗 證 明 ， ABTP 作 為 調 整 數 值 之
SIPTVMON 樹狀架構，能夠提出較佳之負載分享及穩
定性。 
4. SIPTVMON的實驗和效能評估 
為了證明基於 ABTP 為調整基準之 SIPTVMON 樹狀
架構，透過使用知名模擬軟體 OMNET++[14]來模擬
SIPTVMON 中，MA的加入、離開及調整，用以證明系統
之負載分享及穩定性。調整標準之比較，則使用：單一頻
寬(B)、在線時間(T)、BTP、平均頻寬(ABO)、ABTP 做為
比較之基準。 
 
圖13. SIPTVMON之客觀 PSNR值 
 
 為了證明在 SIPTVMON上，所提供 IPTV之視訊
服務品質，我們估計在上述模擬中服務中斷時，整體封包
遺失率。接著透過所估計之遺失封包率，應用到一個大約
2分鐘長度的影片，來測量客觀的 PSNR值。如圖 13所
示，在視訊剛開始的 10到 20秒，由於調整機制還未啟
動，因此在此時之 PSNR值較低。 
5. 結論與未來工作 
本計畫基於 IPTV 服務提出具有負載分享、穩定性及
安全性之應用層群播重疊網路，所提出之 SIPTVMON 架
構能夠提供使用者，具擴展性及穩定性之安全的 IPTV 影
音串流服務。經由實驗證明，本計畫中所提出的基於平均
在線時間及頻寬之調整標準，相較於其他調整標準，不僅
能提供較少之控制訊息、中斷次數以及樹的深度，皆能擁
有較佳之表現，也能提供較佳之 PSNR數值。 
未來，計畫成果會嘗試將 SIPTVMON 部署至全球之
網際網路測試平台 (e.g. PlanetLab[36]) ，用以證明本計畫
所提出之架構，適用於實際網際網路之環境。並且為了進
一 步 提 高 P2P-IPTV 之 傳 輸 服 務 品 質 ， 將 對 於
AFEC(Adaptive-FEC)以及封包暫存(cache)之機制，進行後
續研究。 
 
 
參考文獻 
[1] X. Hei, C. Liang, J. Liang, Y. Liu, K. W. Ross, "A Measurement Study 
of a Large-Scale P2P IPTV System," IEEE Transactions on Multimedia, 
pp.1672-1687, Vol.9, No.8, December 2007. 
[2] X Hei, Y. Liu, K. W. Ross, "IPTV over P2P Streaming Networks: The 
Mesh Pull Approache," IEEE Communications Magazine, pp.86-92, 
February 2008. 
[3] F Wang, Y. Xiong and J. Liu, "mTreebone A Collaborative Tree-Mesh 
Overlay Network for Multicast Video Streaming," IEEE Transactions on 
Parallel and Distributed Systems, pp.379-392, Vol.21, No.3 March 2010. 
[4] D. Ciulo, et al., "Network Awareness of P2P Live Streaming 
Applications: A Measurement Study," IEEE Transactions on Multimedia, 
pp. 54-63, IEEE Transactions on Multimedia, Vol.12, No.1, January. 
2010. 
[5] David Andersen, et al., "Resilient overlay networks," SIGOPS Oper. 
Syst. Rev., vol. 35, pp. 131-145, 2001. 
[6] Yang-hua Chu, Rao Sanjay G., and Zhang Hui, "A case for end system 
multicast (keynote address)," in Proceedings of the 2000 ACM 
SIGMETRICS international conference on Measurement and modeling 
of computer systems Santa Clara, California, United States: ACM, 2000. 
[7] S. E. Deering, "Multicast routing in internetworks and extended LANs," 
in Symposium proceedings on Communications architectures and 
protocols Stanford, California, United States: ACM, 1988. 
[8] G. Tan and Jarvis S. A., "Improving the Fault Resilience of Overlay 
Multicast for Media Streaming," Parallel and Distributed Systems, IEEE 
Transactions on, vol. 18, pp. 721-734, 2007. 
[9] Chris Anderson, "The long tail," in Wired, Oct. 2004. 
[10] Anne-Marie Kermarrec and Steen Maarten van, "Gossiping in 
distributed systems," SIGOPS Oper. Syst. Rev., vol. 41, pp. 2-7, 2007. 
[11] D. Igarashi, Tsuchiya T., and Kikuno T., "Overlay network topologies 
for gossip-based multicast," in Parallel and Distributed Systems, 2005. 
Proceedings. 11th International Conference on, 2005, pp. 2-7 Vol. 1. 
[12] M. Hosseini et al., “A Survey of Application-Layer Multicast 
Protocols,” IEEE Communications Surveys, vol. 9, no. 3, 2007, pp. 58–
74. 
[13] D. A. Tran, K. A. Hua, and T. T. Do, “A Peer-to-Peer Architecture for 
Media Streaming,” IEEE JSAC, vol. 22, no. 1, Jan. 2004, pp. 121–33. 
[14] OMNet++, http://www.omnetpp.org/ 
[15] Y. Chu, S.G. Rao, S. Seshan, H. Zhang, "A case for end system 
multicast," IEEE J. Select. Areas Commun. 20 (8) (2002). 
[16] Y. Chu, S.G. Rao, S. Seshan, H. Zhang, "Enabling conferencing 
applications on the Internet using an overlay multicast architecture," 
Proc. ACM SIGCOMM August (2001). 
[17] C.K. Yeo, B.S. Lee, M.H. Er, "Application layer multicast architecture 
for media streaming," Proceedings of the Seventh IASTED International 
Conference on Internet, Multimedia, Systems and Architectures, Hawaii, 
USA, August 2003. 
[18] D. Ren, Y.-T. H. Li, and S.-H. G. Chan. "FastMesh: A low-delay high-
bandwidth mesh for peer-to-peer streaming," IEEE Transactions on 
Multimedia, 11(8):1446–1456, 2009. 
[19] M. Kobayashi, H. Nakayama, N. Ansari, N. Kato, "Reliable Application 
Layer Multicast over Combined Wired and Wireless Networks," IEEE 
Transactions on Multimedia, 11(8):1466–1477, 2009. 
[20] C. K. Yeo, B. S. Lee, M. H. Er, "A survey of application level multicast 
techniques," Computer Communications, 27 (2004) 1547-1568. 
[21] Ray-I Chang, Te-Chih Wang, Chia-Hui Wang,Jen-Chang Liu, Jan-Ming 
Ho, "Effective Distributed Service Architecture for Ubiquitous Video 
Surveillance," Journal of Information Systems Frontiers special issue on 
Ubiquitous Multimedia Services, 2010,  
http://www.springerlink.com/content/v688368mu017um6k/fulltext.html 
[22] NIST, Advanced Encryption Standard, Federal Information Processing 
Standard 197, Nov. 2001, 
http://csrc.nist.gov/publications/fips/fips197/fips-197.pdf 
[23] H. Schulzrinne and J. Rosenberg, "The IETF Internet telephony 
architecture and protocols," IEEE Network, pp.18-23, May/June 1999. 
[24] J. Rosenberg, H. Schulzrinne, and et al., "Session Initiation Protocol 
(SIP)," IETF, RFC 3261, June 2002. 
[25] http://www.cryptopp.com/benchmarks.html 
[26] J. Rosenberg, H. Schulzrinne, and et al., "Session Initiation Protocol 
(SIP)," IETF, RFC 3261, June 2002. 
[27] M. Handley and V. Jacobson, "Session Description Protocol (SDP)," 
IETF, RFC4566, July 2006. 
[28] J. Arkko, E. Carrara, F. Lindholm, M. Naslund and K.Norrman, 
"Multimedia Internet KEYing (MIKEY)," IETF, RFC 3830, August 
2004. 
[29] M. E. Hellman, "An Overview of Public Key Cryptography," IEEE 
Communications Magazine, pp.42–49, May 2002. 
[30] C.C.Yang, R.C.Wang, W.T.Liu, "Secure Authentication Scheme for 
Session Initiation Protocol," ELSEVIER, Computer & Security, 24, 
P381-386, 2005. 
[31] H. Schulzrinne and et al., "RTP: A Transport Protocol for Real-Time 
Applications," IETF RFC 3550, July 2003. 
 1
 
國科會補助專題研究計畫項下出席國際學術會議心得報告 
                                    日期：100 年 10 月 25 日 
一、參加會議經過 
個人隨系上徐武孝老師參加了在新加坡 Biopolis 舉辦的第二十五屆 IEEE AINA 2011 國際會議，
並發表論文，該會議議期為 2011/3/22 至 2011/3/25, 出席該會議的行程如下： 
3/22：一早出發搭機至新加坡，到飯店 Check In 後，隨即下午到會場辦理報到，晚上參加大會舉
辦的歡迎酒會。 
3/23: 早上到達會場，聆聽相關論文發表，並與參加專家學者交流，下午議程結束後，參觀新加
坡景點與市容。 
3/24: 早上到達會場，聆聽相關論文發表，並從事學術交流活動，晚上參加大會舉辦的晚宴，同
時大會並感謝大會主要工作人員，公布此次大會最佳論文及宣佈下屆大會舉辦相關事宜。 
3/25: 早上到達會場並發表論文，聽取學者專家們的建議與進行討論，隨即結束出席該會議，回
到旅館 Check out，下午搭機回國。 
 
計畫編號 NSC  99－2221－E－130－004－ 
計畫名稱 建置具有負載分享及私密性與智財權防護的 IPTV 應用服務平台(II) 
出國人員
姓名 王家輝 
服務機構
及職稱 銘傳大學資訊工程學系助理教授 
會議時間 100 年 3 月 22 日至 100 年 3 月 25 日 會議地點 新加坡 Biopolis 
會議名稱 
(中文)2011 年第二十五屆 IEEE 尖端資訊網路與應用國際會議 
(英文)The 25th IEEE International Conference on Advanced Information 
Networking and Applications (AINA-2011) 
發表論文
題目 
(中文)在 IEEE 802.16e 多跳躍傳遞的無線大都會區網上的行動基地
台定位方法之研究 
(英文) The Research of Locating Methods for Mobile Stations Based on 
IEEE 802.16e Multi-hop WMANs 
 
wangch wangch <wangch@mail.mcu.edu.tw>
2 封郵件
Sheng-Cheng Yeh <peteryeh@mail.mcu.edu.tw> 2010年12月10日上午8:26
收件者: wangch <wangch@mail.mcu.edu.tw>
Prof. Wang,
 
PLS check as follows.
Sheng-Cheng Yeh
Associate Professor
Dept. of Computer and Communication Engineering
Ming Chuan University
(O)03-3507001#3426
---------- Forwarded message ----------
From: AINA 2011 <aina2011@easychair.org>
Date: 2010/11/4
Subject: FINA 2011: Symposium notification for paper 57
To: Sheng-cheng Yeh <peteryeh@mail.mcu.edu.tw>
Dear Authors,
Thank you for submitting your paper (57) entitled “The Research of Locating Methods for Mobile Stations Based
on IEEE 802.16e Multi-hop WMANs” to AINA 2011. Due to logistics and relevance purposes, your paper has
been accepted to the Seventh International Symposium on Frontiers in Networking with Applications (FINA 2011)
which will be held in conjunction with the
IEEE AINA 2011 conference, Biopolis, Singapore from March 22 to 25, 2011.
On behalf of the FINA-2011 Program Committee, we would like to invite you to present your paper in the
FINA-2011 symposium and to have the paper published in the workshop proceedings, which will be published by
the IEEE Computer Society Press.
You can make the following selections:
[ ] Yes, I would to like my paper (originally submitted to AINA-2011) to be included in the FINA-2011
proceedings.
[ ] No, I decline that my paper be included in FINA-2011 symposium.
Please send back a selection to both "aina@easychair.org" and "hptan@i2r.a-star.edu.sg" by e-mail before
NOVEMBER 6, 2010 (Singapore time: 17:00p.m.). If we would not receive a reply from you by the deadline,
your paper will not be included in neither the proceedings nor technical program of AINA-2011 workshop. This is
a very strict rule.
The author kit for AINA2011 workshops and symposiums will be sent to you by IEEE Computer Society Press.
The maximum number of pages for FINA-2011 is 6 pages. For each paper, 2 additional pages are allowed with
additional charges.  Please prepare the camera-ready paper and copyright form using IEEE Computer Society
format and submit them to IEEE Computer Society according to the author kit before the deadline (DECEMBER
3, 2010). If the authors will not submit their paper and copyright form to IEEE Computer Society by the deadline,
the paper will be automatically removed from conference proceedings.
The registration policy of FINA-2011 is the same as AINA-2011. We require at least one author of an accepted
paper to register the paper by DECEMBER 3, 2010. This deadline is strictly required to all
authors. You can check the registration rules at AINA-2011 web page:
Ming Chuan University 郵件 - Fwd: FINA 2011: Symposium notificatio... https://mail.google.com/a/mail.mcu.edu.tw/?ui=2&ik=07b181398d&vi...
1／4 2010/12/14 下午 07:27
--- subreviewer different from the PC member in charge, add
--- information about the subreviewer in the form below. Do not
--- modify the lines beginning with ***
*** REVIEWER'S FIRST NAME: (write in the next line)
*** REVIEWER'S LAST NAME: (write in the next line)
*** REVIEWER'S EMAIL ADDRESS: (write in the next line)
--------------------------------------------------------------
---------------------------- REVIEW 2 --------------------------
PAPER: 57
TITLE: The Research of Locating Methods for Mobile Stations Based on IEEE 802.16e Multi-hop WMANs
OVERALL RATING: -1 (weak reject)
REVIEWER'S CONFIDENCE: 3 (high)
Significance: 2 (poor)
Originality: 2 (poor)
Scientific Quality: 2 (poor)
Quality of Presentation: 2 (poor)
Relevance to AINA: 4 (good)
Candidate for Best Paper: 1 (no)
PAPER AND REVIEW SUMMARY:
Based on IEEE 802.16e WMANs (Wireless Metropolitan Area Networks), this paper is to propose three
positioning methods for three scenes in terms of the relative location between Base Station, Fixed Relay
Stations, and Mobile Relay Station, and a Multi-hop method.
STRENGTHS:
(Please describe briefly the strong points of the paper)
This paper is to discuss an important issue in wireless networking environments.
WEAKNESSES:
(Please describe briefly the weaker points of the paper)
1. The techniques presented here are not new and innovative.
2. No implementation and experimental resulted are shown and provide.
3. The presentation should be improved.
DETAILED REMARKS TO AUTHORS:
Below are some comments to this paper:
1. The techniques presented here are not new and innovative.
2. No implementation and experimental resulted are shown and provide.
3. The presentation should be improved.
---------------------------- REVIEW 3 --------------------------
PAPER: 57
TITLE: The Research of Locating Methods for Mobile Stations Based on IEEE 802.16e Multi-hop WMANs
OVERALL RATING: -2 (reject)
REVIEWER'S CONFIDENCE: 3 (high)
Significance: 2 (poor)
Originality: 2 (poor)
Scientific Quality: 2 (poor)
Ming Chuan University 郵件 - Fwd: FINA 2011: Symposium notificatio... https://mail.google.com/a/mail.mcu.edu.tw/?ui=2&ik=07b181398d&vi...
3／4 2010/12/14 下午 07:27
The Research of Locating Methods for Mobile Stations Based on IEEE 802.16e
Multi-hop WMANs
Sheng-Cheng Yeh
Department of Computer
and Communications
Engineering
Ming Chuan University
Taoyuan, Taiwan
peteryeh@mail.mcu.edu.tw
Chia-Hui Wang
Department of Computer
Science and Information
Engineering
Ming Chuan University
Taoyuan, Taiwan
wangch@mail.mcu.edu.tw
Wu-Hsiao Hsu
Department of Computer
Science and Information
Engineering
Ming Chuan University
Taoyuan, Taiwan
wuhsiao@mail.mcu.edu.tw
Ming-Yang Su
Department of Computer
Science and Information
Engineering
Ming Chuan University
Taoyuan, Taiwan
minysu@mail.mcu.edu.tw
Abstract—The major part of the outdoor locating systems can be
categorized into the following two approaches. One is based on the
global positioning system (GPS); the other is based on the cellular
network system. Although the approaches of these two major
systems have been shown to be effective in outdoor environments,
their positioning capabilities are limited in indoor or
Non-Line-of-Sight (NLOS) environments due to the received
signals too weak to provide accurate position. Additionally, their
RSSI is variable due to multiple reflections and refractions of the
signal, respectively. For the purpose of better positioning and
tracking services, it is necessary to develop appropriate algorithm
to estimate the location of a mobile station (MS). In this paper
based on IEEE 802.16e WMANs (Wireless Metropolitan Area
Networks), three positioning methods for three scenes were
proposed in terms of the relative location between Base Station,
Fixed Relay Stations, and Mobile Relay Station, and a Multi-hop
method for when the MS cannot receive GPS signals or the
weather is unfavorable.
Keywords- GPS, IEEE 802.16e, LBS, TOA, WMAN.
I. INTRODUCTION
The LBS (Location-based service) applications have
become more sophisticated recently, providing advanced
services such as Google’s My Location and Skyhook service
for mobile stations to triangulate locations [1][2]. These
locating techniques are based on GPS (Global Positioning
System), AOA (Angle of Arrival), TOA (Time of Arrival),
TDOA (Time Difference of Arrival), or RSS (Received
Signal Strength) method. These methods have been shown to
be effective in outdoor environments with the free space, but
their positioning capabilities are limited in indoor scenarios
for the multipath fading and shadowing due to the absence of
a direct LOS (Line of Sight) path [3][4]. In order to provide
better LBS applications for vehicular mobile stations, it is
necessary to develop an appropriate system to estimate the
location of a mobile station (MS) under dynamic
environments (such as temperature and humidity variations,
long-term and short-term fading, and mobile devices
heterogeneity) [5].
For the GPS, a major source of error arises from the fact
that distance measurements may vary as the values of the
signal speed vary in the atmosphere. Another source of error
is the multipath fading and shadowing due to the absence of a
direct LOS path [6]. The TOA and TDOA are sensitive in
time synchronism and must maintain synchronization
between the receiving end and transmission end in order to
avoid errors. AOA performs positioning by using the angles
reached by signals. A directional antenna or antenna array is
required to determine the receiving angle of signals [7]. The
RSS method can be divided into off-line phase and on-line
phase. For the off-line phase, the signal strength is collected
at fixed positions, and the relevancy between signal strength
and the positions are used to establish a Radio Map. For the
on-line phase, the pattern matching method is adopted to
compare the signal strength with the Radio Map to estimate
possible positions. The main flaw of the RF pattern matching
method is that the signal strength varies with time and
environment [8].
In this paper, the IEEE 802.16e WMAN is applied to the
outdoor environment. We assume that vehicular mobile
stations cannot receive the radio signals of GPS satellites due
to atmospheric conditions, multipath fading and shadowing
effects. However, this study proposes the positioning method
of three situations through relative location and Multi-hops
between Base Station, Fixed Relay Station, and Mobile
Relay Station, and discusses the possibility of applications to
meet the requirements of LBS.
II. RELATTED WORK
A. Global Positioning System
The GPS was developed by the government of the U.S.,
and has been widely applied around the world. The main
concept of GPS is: it receives the satellite signals through 24
earth orbiting satellites, and when GPS receivers on earth
receive more than three satellite signals, the satellite at the
center of the circle, the distance between the satellites, and the
GPS receiver as radius, over three circles can be delineated in
space. The intersection point of the circles can be determined
using the triangulation technique, and the intersection point is
the position of the GPS receiver on earth as shown in Figure 1
[6].
Figure 3. The outdoor positioning method 1.
B. The Locating method with two Relay Stations
Taking an outdoor positioning environment as an
example, it is supposed that, two Relay Stations are in the
signal coverage of a Base Station as shown in Figure 4. In the
range received by the vehicular Mobile Station, the signals
from two Fixed Relay Stations can be received, and the
longitude and latitude of the two Fixed Relay Stations can be
determined, as well as the distance between the two Relay
Stations. Similarly, the distance between the vehicular
Mobile Stations and two Relay stations can be determined by
the TOA positioning mechanism and the position of the
Mobile Station can be determined.
Figure 4. The outdoor positioning method 2.
C. The Locating method in tunnels
It is supposed that, one Fixed Relay Station is laid out at
both ends of Mobile Stations in a tunnel. The GPS receivers
are above the Mobile Relay Stations and Fixed Relay Station,
as shown in Figure 5. The vehicular Mobile Stations are
connected in an Ad Hoc manner. The GPS receiver of each
Mobile Station loses the GPS signals, and positioning cannot
be performed, but the distance difference between the Mobile
Relay Stations can be determined through signal attenuation.
When one of the Mobile Relay Stations receives the signals
from any Fixed Relay Station, the signals received can be
used to carry out positioning, and the positioning information
can be sent to the Mobile Relay Station that cannot be
positioned. Thus, all the Mobile Relay Stations that have not
been located can be positioned.
Figure 5. The outdoor positioning method 3.
D. Indoor positioning technology
For indoor positioning, receiving wireless signals will be
affected because indoor environments have more
obstructions than outdoors. Thus, the RADAR [8]
positioning method is adopted when wireless signals are used
for indoor positioning [8]. The fingerprinting of each training
point collected in the Off-line phase can be used to establish
a Radio Map; the established Radio Map is compared
through real-time collection of signals when positioning is
required in the On-line Phase to determine the current
location of MS
If the indoor environment factors change, the received
signals will change. The Radio Map established at the
Off-line Phase cannot meet the current environment, thus, the
Radio Map must be reestablished. Therefore, this paper
presents the concept of RP (Reference Point). If the changes
in environment affect the collection of signals, the wireless
signals received by RP will change. The established Radio
Map can be replaced by RP.
The difference between the MS Received Signal Strength
and RP Received Signal Strength (RSS) can be compared
when the location of MS is required, as shown in (1), the
minimum value is taken, the MS is near the RP.
  ki RPMS RSSRSS1 2 (1)
When the RP near the MS is near is determined, the other
two RP can be found. A region can be positioned through the
three RP, and this region is close to the actual position. The
fluctuation of RP signals is smaller than that of MS, as
shown in the Figure 6.
 3
 
國科會補助專題研究計畫項下出席國際學術會議心得報告 
                                    日期：100 年 10 月 25 日 
一、參加會議經過 
個人與學生參加了大陸上海舉辦的第三十屆 IEEE INFOCOM 2011 國際會議，並發表論文，該會
議議期為 2011/4/10 至 2011/4/15, 出席該會議的行程如下： 
4/9：出發搭機至上海，進入飯店，準備論文發表事宜。 
4/10: 到達會場，辦理報到，當天下午並發表論文。 
4/11: 參加該會議 Mini-Conference 的開幕典禮，聆聽相關論文發表，並從事學術交流活動。 
4/12: 參加大會正式開幕典禮，聆聽專題演講與討論及相關論文發表，參加大會接待晚宴與學術
交流活動。 
4/13: 結束出席該會議，搭機回國。 
 
 
二、與會心得 
該會議近 30 年來一直都是國際間知名的主要國際會議, 該會議的宗旨主要是希望將學術界從
計畫編號 NSC  99－2221－E－130－004－ 
計畫名稱 建置具有負載分享及私密性與智財權防護的 IPTV 應用服務平台(II) 
出國人員
姓名 王家輝 
服務機構
及職稱 銘傳大學資訊工程學系助理教授 
會議時間 100 年 4 月 9 日至 100 年 4 月 13 日 會議地點 大陸上海市 
會議名稱 
(中文)2011 年第三十屆 IEEE 電腦通訊國際會議 
(英文) The 30th IEEE International Conference on Computer 
Communications (FMN-IPTV Workshop in INFOCOM 2011) 
發表論文
題目 
(中文)SIPTVMON: 利用SIP協定為具有負載分享與穩定的 IPTV服務
建構一個有安全防護能力的群播重疊網路 
(英文) SIPTVMON: A Secure Multicast Overlay Network for 
Load-balancing and Stable IPTV Service Using SIP 
 
[FMN-IPTV INFOCOM Workshop] Your paper 'IPTVMON: 
A Secure Multicast Overlay Network for Load-balancing 
and Stable IPTV Service Using SIP' 
2 封郵件 
wangch wangch <wangch@mail.mcu.edu.tw> 
EDAS <help@edas-help.com> 2011年2月22日上午7:59 
收件者: Chia-Hui Wang <wangch@mail.mcu.edu.tw> 
副本: Yu-Hsien Chu <s8366043@ss24.mcu.edu.tw>, Tsao-Ta Wei <99366512@ms1.mcu.edu.tw> 
Dear Dr. Chia-Hui Wang: 
 
Congratulations - your paper #1569403487 ('IPTVMON: A Secure Multicast Overlay Network for Load-
balancing and Stable IPTV Service Using SIP') for FMN-IPTV INFOCOM Workshop has been accepted. 
Below, you will find attached the reports of the reviewers or can be found at http://edas.info 
 
According to those reports, your camera ready paper should give evidences that (i) you have improved 
quality of your contribution according to the points highlighted by the reviewers and (ii) your final 
contribution would continue giving evidences that it is focused on main workshop topics. 
 
Please refer to http://www.ieee-infocom.org/Workshop_finalsubmission.htm and prepare your Camera-
Ready Submission according to INFOCOM 2011 Workshops-Guidelines. 
 
Finally, please upload it to EDAS by March, 10 (HARD DEADLINE). 
 
With best regards, 
 
The Workshop Chairs 
 
======= Review 1 ======= 
 
> *** Paper Presentation: Score for Paper Presentation (format, language, clearness) 
need major presentation modifications (1) 
 
> *** Strong Points of Contribution: The strong points of this contribution are: 
 
The paper deals with a multicast overlay construction using SIP, intended to serve for IPTV 
 
> *** Weak Points of Contribution: The weak points of this contribution are: 
 
The paper does not seem to present an original contribution, but merely combines known mechanisms to 
a somewhat unclear mixture of solution. The presentation is so weak that many parts remain unclear. 
However, there are numerous statements throughout the lines that are technically not sound. 
 
> *** Detailed Review: Please provide a detailed review of this contribution highlighting how it can be 
improved 
 
The corresponding work of the paper does not seem to have a clear focus on a particular contribution ... 
so the authors should first identify what they actually do contribute and name it clearly. Such a 
mechanism should then be carefully explained, discussed and evaluated. 
Any writing should be remarkably improved, advisably with the help of a native speaker. 
On the other hand, the work should be stripped of all well known standard mechanisms that are in use 
anyway ... 
 
> *** Overall Decision: Please provide your overall decision about this paper 
Weak Reject (may argue for rejecting this contribution) (2) 
 
頁 1 / 5Ming Chuan University 郵件 - [FMN-IPTV INFOCOM Workshop] Your paper 'IPTVM...
2011/2/25https://mail.google.com/a/mail.mcu.edu.tw/?ui=2&ik=07b181398d&view=pt&q=EDA...
 
The paper misleads the reader on the objectives, as it  claims targeting the work for Internet TV but calling 
it IPTV (official definition of IPTV by ITU is of a managed environment to support the required level of 
quality of service). 
 
If the objective is in fact Internet TV, the authors do not address the issues related with reachability of 
destination Multicast Agents, mostly hidden behind NATs or Firewalls, with dynamic IP addressing, and 
highly asymmetric bandwidth (uplink-downlink). As such, the proposed techniques suffer from 
controversial assumptions, whereby the "best-effort" model of the Internet environment compromises the 
ALM stability and the Load Sharing proposed techniques. 
 
But if the target is for IPTV, destination MAs are under a managed environment (even being IMS based 
and with end users in heterogeneous access networks), with precise and controlled IP addressing (even 
dynamic and with mobility) and the proposed techniques become feasible. 
 
> *** Detailed Review: Please provide a detailed review of this contribution highlighting how it can be 
improved 
 
The paper to be accepted, should reposition the proposed techniques for IPTV (even in heterogeneous 
environments like in IMS architecture) and not for Internet TV. 
 
The english is readable but requires a review checking for correct grammar and correct spelling. 
 
Some paragraphs need to be rewritten, for example: 
 
Page 5: "It’s known that the larger outbound link bandwidth of MAs in SIPTVMON not only support 
higher video sending rate, but also indicates that the more number of remote destination MA (dMA) that 
the source MA (sMA) can be directly connected to and serve well." 
-> It's known from whom? 
-> What do you mean by "also indicates….can be directly connected to and serve well". 
 
"Without loss of generality…the second one due to the first one preserve less tree levels", 
-> difficult to understand the meaning. 
 
Page 6: all the details explaining the SIP message flow of Figure 8 are very hard to read and follow. The 
authors should simplify it just focusing on the key messages of the technique. 
 
Figure 2 is irrelevant and should be removed (just to show SIP signalling for VoIP ?) 
 
Figure 13 should be improved (axis labels and meaning) 
 
> *** Overall Decision: Please provide your overall decision about this paper 
Weak Accept (may argue for accepting this contribution) (3) 
 
======= Review 4 ======= 
 
> *** Paper Presentation: Score for Paper Presentation (format, language, clearness) 
need minor presentation modifications (2) 
 
> *** Strong Points of Contribution: The strong points of this contribution are: 
 
The paper treats an important topic, where P2P multimedia applications are observing an increasing 
potential, while having the shortcomings of QoS, users’ experience and security. This paper proposed a 
solution for resolving such shortcomings. The proposed solution is validated throough simulations. 
 
> *** Weak Points of Contribution: The weak points of this contribution are: 
 
The paper is lengthy and needs to be shortened, especially for Section III which presents the solutions 
while introducing from time to time background work related to each part of the solution. This makes the 
paper lengthy and at the same time makes the reader loses the continuity. 
 
> *** Detailed Review: Please provide a detailed review of this contribution highlighting how it can be 
improved 
頁 3 / 5Ming Chuan University 郵件 - [FMN-IPTV INFOCOM Workshop] Your paper 'IPTVM...
2011/2/25https://mail.google.com/a/mail.mcu.edu.tw/?ui=2&ik=07b181398d&view=pt&q=EDA...
SIPTVMON: A Secure Multicast Overlay Network 
for Load-balancing and Stable IPTV Service Using 
SIP 
Chia-Hui Wang, Yu-Hsien Chu and Tsa-Ta Wei 
Department of Computer Science & Information Engineering 
Ming Chuan University 
Taoyuan County 333, Taiwan 
{wangch@mail, s8366043@ss24, 99366512@ms1}.mcu.edu.tw 
 
Abstract— IPTV is an emerging multimedia network application 
over prevalent Internet. IPTV over P2P streaming network 
preserves significant advantages in scalability over conventional 
client-server architecture. IPTV media content delivered in P2P 
networks over public Internet still preserves the issues of privacy 
and intellectual property. In this paper, we use SIP protocol to 
construct a secure application-layer multicast overlay network, 
called SIPTVMON , with load-balancing and stability. 
SIPTVMON can secure all the IPTV media delivery paths 
against the eavesdroppers via elliptic-curve Diffie-Hellman 
(ECDH), SIP signaling and AES encryption. The proposed 
SIPTVMON also optimizes the load-balancing overlay tree by 
not only the link bandwidth to minimize the service latency, but 
also the life time to minimize the service degradations from 
frequent users’ joins and leaving. The performance results from 
simulation and experiments in very large scale demonstrate the 
SIPTVMON’s cost-effectiveness in quality of privacy protection 
and stability with good perceptual quality of objective PSNR 
values for IPTV. 
Keywords- IPTV; application-layer multicast overlay; privacy 
protection;load balancing; SIP; elliptic-curve Diffie-Hellman; AES. 
I.  INTRODUCTION  
Due to the prevalent broadband Internet access and 
advanced video compression techniques, IPTV has been 
emerging as one of the most popular Internet applications. 
IPTV can further benefit Internet users by entertainment, social 
and business values, but IPTV faces more challenges of 
scalability, privacy and service quality over the public Internet 
due to conventional client-server architecture. 
The success of well-known P2P video streaming systems 
such as PPStream, PPLive, Sopcast and TVants has proven that 
P2P paradigm is a feasible solution to deliver bandwidth-
hunger IPTV media content in large scale over the pervasive 
Internet. However, the above-mentioned proprietary P2P video 
streaming systems still suffer the issues of long startup delays, 
significant video switching delays, large peer playback lags and 
security due to the peer heterogeneity and churn [1][2] [4].  
                                                           
  The work was partially supported by National Science Council, Project No. 
NSC 99-2221-E-130-004, Taiwan. 
Therefore, the P2P overlay networks for future multimedia 
networks (FMN) should overcome the previous shortcomings 
to further promise quality of service, security and experience to 
the IPTV end-users. Moreover, the FMN P2P overlay 
architecture for IPTV services should be not only easily 
convergent in heterogeneous networks, but also feasibly 
integrated with other Internet applications. 
The logical topology applied in current P2P video 
streaming technologies is roughly classified into tree, mesh (i.e. 
multiple trees) and hybrid of tree and mesh [3]. Though tree-
based P2P structure preserves simplicity, it is known 
vulnerable to peers’ dynamics of heterogeneity and churn. 
Mesh-based P2P structure preserves more complex peer 
partnership, but it significantly improves the resilience to the 
dynamics from peers. 
In this paper, we apply the well-known SIP signaling 
protocol [11] to construct a secure application-layer multicast 
(ALM) overlay network with load-balancing and stability for 
IPTV. The SIP-enabled secure multicast overlay network is 
called SIPTVMON and it’s a tree-based overlay networks. To 
overcome the vulnerability of peers’ heterogeneity and churn in 
tree-based overlay without significant overhead, we optimize 
the load-balancing SIPTVMON by the product of peers’ link 
bandwidth and life time to achieve the stability. 
The applied SIP protocol has been widely and successfully 
applied in many VoIP (Voice over IP) systems. The core of 
telecommunication’s IP Multimedia Subsystem (IMS) [19] of 
3G is also constructed by SIP signaling protocol. We believe 
that the proposed SIP-enable SIPTVMON not only can 
cooperate with SIP-based Internet applications like the 
prevalent VoIP applications, but also is feasible to help IMS in 
3G mobile networks to achieve scalable IPTV service in cost-
effectiveness. 
The remainder of this paper is organized as follows. In 
Section II, we describe the related works of ALM overlay 
network, privacy protection and SIP signaling protocol. The 
details of proposed SIPTVMON are presented in Section III. 
Section IV describes simulation experiments for SIPTVMON 
and their performance results for P2P IPTV. Finally, we 
conclude the paper and future work. 
IEEE INFOCOM 2011 International Workshop on Future Media Networks and IP-based TV978-1-4244-9920-5/11/$26.00 ©2011 IEEE 97
topology information of SIPTVMON, but also help to forward 
the video from one source MA to the destination MA, which is 
located in a private multicast island, and etc. to furnish the 
ubiquitous IPTV service over the pervasive Internet. 
 
Figure 2. Primary SIPTVMON architecture. 
However, the topology of SIPTVMON will change from 
time to time, because the Internet users can subscribe or 
unsubscribe the IPTV service at any time and then the 
corresponding MA may join or leave the SIPTVMON while 
either its local users subscribe or no user subscribes the IPTV 
service. Meanwhile, every dMA in its multicast island may 
preserve different capabilities of system resources and 
outbound network bandwidth to forward the media content, so 
we propose a load sharing scheme for SIPTVMON to prevent 
overloading sMA from jeopardizing perceptual quality of IPTV 
service for end users. 
 
Figure 3. SIPTVMON’s join procedures for a new MA (i.e. MAnew). 
A. MA joins/leaves to/from SIPTVMON with security 
provision 
According to the long tail theory of customer demographic 
[7], usually most of the customers like newly joined MAs of 
SIPTVMON won’t stay with SIPTVMON for a long period. 
To further reduce the processing overhead of reconnecting 
disjoint trees in SIPTVMON while a non-leaf node of MA 
occasionally leaves from SIPTVMON, the new dMA should be 
joined to the leaf node of MA in SIPTVMON. 
The procedures of a new MA joining to SIPTVMON are 
illustrated in Figure 3 and described as follows: 
1. New MA denoted as MAnew sends a SIP "REGISTER" request with specified 
content identifier and registration identifier to SA to ask SA for the 
connection address of a leaf MA which the MAnew can be connected to join 
the SIPTVMON tree. 
2. SA plays as roles of SIP proxy and oracle of SIPTVMON topology 
information to send back the SIP "OK" response with SDP body of 
corresponding connection address of a leaf node MAleaf, which the new 
MAnew can be connected to SIPTVMON. Therefore, the SA must maintain 
all up-to-date SIPTVMON topology information to effectively and correctly 
reply the access request with a capable leaf node of handling the forwarding 
requested video to the new subscriber MAnew. That’s the reason why SA is 
called the super agent. 
3. After successful registration, MAnew needs to prepare the public parameters 
and key for the peer by ECDH key exchange algorithm. Elliptic curve [17] 
function’s parameter Eq1(a1,b1),base point G1=(x1,y1) and a random private 
key knew are generated by MAnew. Then, a public key Pnew can be calculated 
by knew, Eq1 and G1. 
4. MAnew sends a SIP "INVITE" request message to remote MAleaf via SA 
proxy. The SDP body in the SIP message includes the ECDH public data of 
Eq1, G1 and Pnew. 
5. While MAleaf receives the MAnew’s "INVITE" message and MAnew is 
authorized to join the SIPTVMON, it will randomly generate a private key 
kleaf and then calculate a public key Pleaf according to the kleaf and received 
Eq1 and G1. Besides, the common private key Kc for encrypting video 
content can be computed by the kleaf, received Pnew, Eq1 and G1. 
6. Then MAleaf responses a SIP "OK" message with SDP body including the 
public key Pleaf back to MAnew. 
7. While MAnew receives the public key Pleaf from MAleaf’s SIP "OK" message, 
MAnew can use Pleaf, private key knew, Eq1 and G1 to computer the common 
private key Kc to later decrypt the encrypted video. 
8. Then, MAnew will send to MAleaf a SIP "ACK" message via SA to confirm 
the completion of ECDH key exchange and member join to SIPTVMON. 
Meanwhile, SA can also update its SIPTVMON tree topology information 
of new member join accordingly. 
While a non-leaf MA needs to leave from the SIPTVMON 
after its local users in multicast island sequentially unsubscribe 
the IPTV service and it has no obligation to forward video for 
other MAs (i.e. child nodes of the leaving MA), the child nodes 
must reconnect to other MAs in the SIPTVMON to continue 
the IPTV service. 
As shown in the example of Figure 4, procedures of a non-
leaf node MAl leaving the SIPTVMON without breaking IPTV 
service of its child nodes are illustrated and the details are 
described as follows: 
1. The MAl will first send leaving requests of SIP "BYE" with SDP body of 
the video content identifier and its registration identifier to acknowledge not 
only its parent node to cease forwarding video later, but also its child nodes 
(i.e. MAc1 and MAc2) to seek other new parent nodes of MA to replace their 
old parent MAl for continuing IPTV video streaming. 
2. The acknowledged child nodes (i.e. MAc1 and MAc2) will send re-
registration requests of SIP "REGISTER" with SDP body of the same video 
content identifier, their registration identifiers, and the reason of re-
registration to the oracle SA to ask for the connection information of new 
parent nodes respectively. 
3. SA will send back response messages of SIP "OK" with SDP body of the 
connection information of new parents (i.e. MAs1 and MAs2) to the leaving-
acknowledged child nodes (i.e. MAc1 and MAc2). 
4. The acknowledged child nodes for parent node’s leaving will be able to 
directly send re-connect requests of SIP "INVITE" message with SDP body 
of the video content identifiers, their registration identifiers and the ECDH 99
 
Figure 6. SIP message flow for SIPTVMON optimization in Figure 5. 
As shown in Figure 6, the SIP messages flow is illustrated 
to accomplish the optimization of the example from Figure 5 
and the procedures are described in details as follows: 
1. Oracle SA detects the optimization score of M2 at lower level is larger than 
the M1 at higher level in SIPTVMON tree. SA sends M2 the SIP 
"UPDATE" with the SDP body of M2’s video content identifier and 
registration identifier (for authentication) and the recommended new parent 
M0’s connection information. 
2. After M2 receives the recommendation of new parent from SA, it will first 
start the similar leaving procedures mentioned above but without 
acknowledging its children to re-join to other parents, and then M2 with its 
children starts the join procedure with ECDH scheme mentioned above to 
connect to new parent M0. While the join procedure is completed, M2 sends 
the SIP "OK" response message to SA. 
3. SA then sends M1 with low optimization score the SIP "UPDATE" message 
with the SDP body of authentication identifiers and the recommended new 
parent M2’s connection information. 
4. After M1 receives the recommendation of new parent from SA, it will first 
start the similar leaving procedures mentioned above but without 
acknowledging its current children to re-join to other parents, and then M1 
with its current children starts the join procedure with ECDH scheme 
mentioned above to connect to new parent M2. While the join procedure is 
completed, M2 sends the SIP "OK" response message to SA. 
5. Because M1’s child M3 has been moved to lower level of SIPTVMON than 
M2’s children M4, M5 and M6, M3 with higher optimization score must first 
exchange position with M2’s child M5 with the lowest score. Therefore, SA 
sends M5 the SIP "UPDATE" message with similar SDP body to ask M5 to 
reconnect to new parent M1. 
6. After M5 rejoins to M1 like previous steps, M5 sends the SIP "OK" response 
message to SA. 
7. Then M1’s child M3 has to move to the same level as M2’s children. SA 
sends M3 the SIP "UPDATE" message with similar SDP body to ask M3 to 
reconnect to new parent M2.  
8. After M3 rejoins to M2 like previous steps, M3 sends the SIP "OK" response 
message to SA. 
9. Since the out degree of M2 is higher than before, currently the child M4 with 
lowest score must move to the lower level of M2 with one available degree. 
Therefore, SA sends M4 the SIP "UPDATE" message with similar SDP 
body to ask M4 to reconnect to new parent M1. 
10. After M4 rejoins to M1 like previous steps, M4 sends the SIP "OK" 
response message to SA to finish the procedures of optimization. 
The adjustment of SIPTVMON tree for optimization of 
load-sharing and stability may incur the service disruption, but 
ABTP can smooth the variation of bandwidth on Internet to 
avoid unnecessary adjustment of SIPTVMON and then further 
effectively reduce the service disruption. 
IV. EXPERIMENTS AND PERFORMANCE OF SIPTVMON 
To demonstrate our proposed optimization scheme via 
ABTP criteria for SIPTVMON, we use the well-known 
simulation tool OMNeT++4.0 [8] to construct a vital 
SIPTVMON with new MAs joining, old MAs leaving and 
timely SIPTVMON adjustment for optimization at load-
sharing and stability. The detailed simulation parameters and 
corresponding test values are listed in TABLE I.  
TABLE I.  SIMULATION PARAMETERS FOR SIPTVMON. 
Parameter Values 
MA quantity 2000, 4000, 6000, 8000, 10000 
degree of MA 2 to 5 out-degree (uniform distribution) 
link bandwidth Mean:400kbits, Std: 10, normal distribution 
link delay Mean:0.08s, Std: 0.05, normal distribution 
optimization 
(Opt.) 
Bandwidth only(B), Life time only(T), BTP, 
Averaging bandwidth only(ABO), ABTP 
simulation 
time 20000 seconds 
Opt. cycle 40 seconds 
During the simulation for SIPTVMON, we recorded the 
count of control messages and service disruptions, tree depths 
and service latency for different optimization criteria. We will 
perform each test case five times to find out the mean and 
standard deviation of these simulation results. 
As shown in Figure 7, ABTP criterion outperforms less 
overhead of control message than the other four optimization 
criteria. Those criteria (i.e. B and ABO) without considering 
life time preserve more control message. It’s because more 
possibility of high-level nodes leaving the SIPTVMON tree 
indicated more control messages are needed to repair the 
SIPTVMON for continuing IPTV service, if MA’s life time is 
not considered in optimization for load sharing. 
 
Figure 7. Average of control messages, service disruption, tree depths an 
service latency in different optimization criteria. 
While an old MA leaving SIPTVMON or SIPTVMON’s 
adjustment for load sharing, service disruption may occur to 
degrade the quality of IPTV video streaming service for those 
dMAs under detached parent in SIPTVMON. ABTP also 101
國科會補助計畫衍生研發成果推廣資料表
日期:2011/10/25
國科會補助計畫
計畫名稱: 建置具有負載分享及私密性與智財權防護的IPTV應用服務平台(II)
計畫主持人: 王家輝
計畫編號: 99-2221-E-130-004- 學門領域: 計算機網路與網際網路
無研發成果推廣資料
碩士生 0 0 100%  
博士生 0 0 100%  
博士後研究員 0 0 100%  
參與計畫人力 
（外國籍） 
專任助理 0 0 100% 
人次 
 
其他成果 
(無法以量化表達之成
果如辦理學術活動、獲
得獎項、重要國際合
作、研究成果國際影響
力及其他協助產業技
術發展之具體效益事
項等，請以文字敘述填
列。) 
無 
 成果項目 量化 名稱或內容性質簡述 
測驗工具(含質性與量性) 0  
課程/模組 0  
電腦及網路系統或工具 0  
教材 0  
舉辦之活動/競賽 0  
研討會/工作坊 0  
電子報、網站 0  
科 
教 
處 
計 
畫 
加 
填 
項 
目 計畫成果推廣之參與（閱聽）人數 0  
 
