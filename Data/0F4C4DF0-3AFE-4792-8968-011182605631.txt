 2
中   華   民   國  九十六  年  十  月  二 十  日 
 
 4
二、緣由與目的 
近二、三十年來，在工程最佳化設計領
域中，結合隨機性和模擬自然界不同現象所
發展出來的高階啟發式演算法 (meta- 
heuristic algorithms)已逐漸受到重視，並被
用來求解一些多極值問題的近似最佳解。此
類方法通常具備下列特色：不需要函數的微
分、隨機性和跳脫局部空間全域搜尋的能力
等，其搜尋程序大多源自於模擬自然界的某
些現象，包括模擬退火法、禁忌搜尋法、演
化策略、遺傳演算法、粒子群法、和聲搜尋
法及蟻群搜尋法等。 
Blum [1]曾分別針對高階啟發式演算法
作了一些回顧和建議，他認為各類高階啟發
式演算法雖然都強調具備全域搜尋的能
力，很適合用來處理多極值的問題，但因採
用隨機的方式搜尋，使得局部搜尋的精準性
不足，故都仍有改善的空間。反觀一般的局
部搜尋法，不論是以函數梯度為基礎的方法
或直接搜尋法，通常局部搜尋能力較強，速
度也比較快，可是這類方法只要搜尋進入局
部的凸集合區域，即不易跳脫出來[2]。因
此，如果能夠在高階啟發式演化法中，設法
導入局部搜尋的啟發式解法或傳統的局部
搜尋法，互相弭補缺失，則應該可以提高求
解的速度、穩定性和解的品質。 
本文之主要目的便是提出以和聲搜尋
法(Harmony search method, HS)[3]作為全域
多點搜尋的工具，同時藉由離散拉格朗日法
(discrete Lagrangian method, DLM)[4]來補強
局部搜尋的能力和提供處理束制函數的機
制的一種混合型搜尋法，並藉由結構輕量化
設計問題來探討搜尋法的效能。 
  
三、研究方法 
3-1 HS 演算法 
HS 乃由 Geem 等人[3]所提出之一種多
點隨機搜尋法，此法是將一個重奏樂團的演
奏者嘗試合奏出好聽之和聲的過程模擬成
搜尋最佳解的程序。 
HS 將每個獨立設計變數視為樂團中的
演奏者，每個獨立設計變數的可行範圍視為
每一演奏者心中既存的較佳音符，由所有演
奏者同時彈奏出來的一個和聲即為一個可
能的解。所有演奏者藉由不斷的合奏、調音
來找出”最好聽之和聲”的過程，即為搜尋最
佳解的過程。 
HS 的搜尋之初，先由不同樂器的演奏
者分別隨意彈奏出不同的音符來建立一個
初始的和聲資料庫，稱為和聲記憶(Harmony 
Memory, HM)，此類似遺傳演算法中的族群
(population)。HM 中和聲的總數量稱為
Harmony memory size (HMS)，是由演奏者
自定。HM 中的每一組和聲根據其好聽與否
加以排序。所謂”和聲的好聽與否”是以所處
理問題的適應函數(fitness function)加以定
義，適應度越佳的和聲排序越前面，即代表
解的品質越佳。 
如果各種樂器的演奏者同時再由他們
喜歡的音符中隨意彈奏出一個新和聲，若此
新和聲比 HM 中適應度最差的和聲好，則此
新和聲便取代 HM 中最差的和聲。HS 即根
據上述步驟反覆演化出適應度更佳的個
體，直到滿足終止條件為止。 
在HS中，組成新和聲之每一音符(即設
計變數)的產生方式，是透過和聲記憶考量
(harmony memory consideration)、隨機產生
(totally random generated) 和 調 音 (pitch 
adjustment)三個運算子來決定。和聲記憶考
量意指某一設計變數xi的數值是由HM內既
有之xi值來選取；隨機產生則是指xi值由此
設計變數可選用之集合Si中隨機選取；當設
計變數xi是由HM中選出時，則藉由機率值
決定是否要調音，這個調音是局部的，僅在
新選出之xi值的鄰近有限範圍內隨機找一個
新的xi值。 
上述選取設計變數和局部調音均透過
使用者設定之和聲記憶考量機率(Harmony 
memory consideration rate, HMCR)和調音機
率 (Pitch adjustment rate, PAR)來決定。
HMCR和PAR在意義上可比擬為遺傳演算
法的交配機率和突變機率。HMCR是用來控
解，若為不可行解，則以 DLM 搜
尋鄰近之可行解取代之。若此新的
解目標函數值較 HM 中最差的解
低，則以此新的解取代最差的解，
並重新將 HM 中的解排序。 
Step 3: 重複 Step 2 直到使用者指定的搜尋
次數達到為止。 
Step 4: 將 HM 中的最佳解再以 DLM 的收
斂條件檢核，若不滿足，則再以以
DLM 搜尋鄰近之可行解取代之。 
 
四、結果與討論 
為展示 HS-DLM 混合搜尋法的效能，
本文將透過表一所示的幾個結構輕量化設
計例來說明，各設計例的相關資料可由請參
考相關文獻的說明。 
 
表一：設計例 
設計例 變數性質 參考文獻 
十桿桁架 離散變數 4, 6, 7 
39 桿桁架的形狀與桿
件離散截面設計 
混合變數 8, 9 
五層雙跨剛構架 關聯性離
散變數 
10, 11 
 6
 
HS-DLM 的設計參數為：HMS=20、
HMCR=0.9、PAR=0.3、w=0.1、DLM 鄰點
=1。各例題的設計結果說明如下。 
4.1 十桿桁架的輕量化設計 
圖二所示之十桿桁架為傳統之最佳化
設計例，所有桿件的截面必須由 42 個離散
斷面資料庫中選取[6,7]。設計結果的比較如
表二所示，其中 HS-DLM 和 HS 各執行 20
次。20 次的搜尋 HS-DLM 都可以收斂至相
同的解，且較文獻[6]、文獻[7]和單獨使用
HS 的結果來的低，其中文獻[7]的結果為不
可行解。 
圖三為 HS-DLM 的搜尋歷時圖，雖然
最高搜尋次數設定為 1000 次，但實際上大
約經過 10~20 次的搜尋後，即可找到最佳
解。 
 
圖二：十桿桁架 
 
 
表二：十桿桁架設計結果的比較 
Method HS-DLM HS Ref. 6 Ref. 7
A1(in2) 33.5 30 30 33.5 
A2(in2) 1.62 1.62 1.62 1.62 
A3(in2) 22.9 22.9 22.9 22 
A4(in2) 14.2 16.9 13.5 15.5 
A5(in2) 1.62 1.62 1.62 1.62 
A6(in2) 1.62 1.99 1.62 1.62 
A7(in2) 7.97 7.97 13.9 14.2 
A8(in2) 22.9 22.9 22 19.9 
A9(in2) 22 22.9 22 19.9 
A10(in2) 1.62 1.62 1.62 2.62 
Weight (lbs) 5490.7 5521.1 5586.59 5613.84
 
0 200 400 600 800 1000
5480
5500
5520
5540
5560
HS-DLM
Optimum
Iteration
W
ei
gh
t o
f S
tru
ct
ur
e 
(lb
s)
 
圖三：十桿桁架搜尋歷時 
 
的柱必須選用同一斷面，故共有 15 個離散
變數。 
 設計結果如表五所示，單獨採用 HS 歷
經 1000 代搜尋的結果最差，而 HS-DLM 混
合式演算法則大約僅需 10 次的搜尋即可獲 
 
 彈性模數E=205.8GPa、單位重 ρ=78 kN/m3
 容許合應力σall= ±166.6 MPa 
 頂樓容許側向位移δall=±4.58cm 
 
圖五：五層樓雙跨剛構架 
 
表五、五層樓雙跨剛構架設計結果的比較 
Method 
Ref. 10 Design variables HS-DLM HS GA-NB DLM 
A1(cm2) 80.04 80.04 80.04 80.04 
A4(cm2) 69.81 91.24 69.81 69.81 
A7(cm2) 69.81 57.66 63.67 69.81 
A10(cm2) 57.66 63.67 63.67 63.67 
A13(cm2) 57.66 80.04 57.66 63.67 
A16(cm2) 97.00 97.00 97.00 97.00 
A17(cm2) 80.04 109.8 69.81 69.81 
A18(cm2) 80.04 109.8 97.00 80.04 
A19(cm2) 80.04 80.04 57.66 69.81 
A20(cm2) 80.04 91.24 97.00 80.04 
A21(cm2) 69.81 69.81 57.66 69.81 
A22(cm2) 80.04 91.24 80.04 80.04 
A23(cm2) 57.66 63.67 57.66 57.66 
A24(cm2) 80.04 80.04 80.04 80.04 
A25(cm2) 63.67 109.8 63.67 63.67 
weight 
(kN) 72.90 82.67 72.94 73.27 
 8
 
得較文獻低的解，文獻[10]分別採用 GA-NB
和 DLM 求解，GA-NB 也是一種混合型演算
法，所得結果相當接近 HS-DLM 的結果，
但演化代數則需約 300 代左右。 
 
4.4 10 桿桁架配置最佳化設計 (Layout 
Optimization)[11,12] 
圖二所示之 10 桿桁架再次以拓樸及截
面積和節點座標值作為設計變數進行配置
最佳化設計，其中拓樸變數是以 0 和 1 分別
代表桿件存在與否，截面積的範圍為 0.07 
in2至 10.0 in2。四組座標設計變數分別為x3、
y3 、 x5 以及 y5 ，座標變數之範圍為：
400in ≤ x5 ≤ 800in 、 200in x≤ 3 ≤ 500in 、
200in≤y5 ≤500in以及 200in y≤ 3 ≤500in。 
    表六為 HS-DLM 演算法設計之分別設
計 15 次之結果統計。結果顯示 HS-DLM 所
搜尋到的解在 1750 lbs 至最佳解 1719.594 
lbs 之間，大部份在 200 代至 400 代之間結
構重量已降至 1750 lbs，往後的搜尋重量持
續降至最佳解。 
    表七與圖六為最佳結果與文獻之比
較，HS-DLM 所得結果就比文獻 11 和 12 採
用 GP 和 GA 所得之解還要來的好，且文獻
中所得之解都是不可行解，但其誤差值小，
實際設計上是可以接受的。 
 
表六、10 桿空間桁架設計結果 
 平均值 變異係數 V
結構重平
均值(lbs) 1724.96 34.96% 
最差解結
構重(lbs) 1750.0 
設
計
結
果 最佳解結
構重(lbs) 1719.594 
 
 
 
 
 
 
 
