2件解集合裡所有可能被選上的元件中選擇
到元件 ci的機率，s表示被建立出來的解，
τi則是元件 ci上的費洛蒙濃度，η為權重函
數，其值即啟發式訊息，α和β為費洛蒙濃
度與啟發式訊息的權重。
費洛蒙更新法則包含兩部份，即費洛
蒙揮發與費洛蒙增加。費洛蒙揮發的部份
是在每一迭代後，將所有費洛蒙濃度一致
地減少。相反的，被選中的解其費洛蒙濃
度將會增加。最後的收歛解擁有最高的費
洛蒙濃度。為避免陷入局部最佳解，費洛
蒙揮發的量應不可太大，如此才有足夠的
機會去搜尋到不同的搜尋空間。費洛蒙增
加的部份則是讓一或多個由本次迭代或前
幾次迭代中得到的解，將這些元件解的費
洛蒙濃度予以增加。費洛蒙更新的定義 11
如下式：
其中τi為元件解 ci的費洛蒙濃度，ρ為揮發
率且 0 <ρ≤ 1，F(s)為解 s的品質函數值，
ws為該品質函數值的權重因子，Supd為可以
被用來更新元件解費洛蒙濃度的解集合。
其中 Supd包含當次迭代中最好的 m-1(m-1≤
na 其中 na 為每一迭代中的人工螞蟻數)個
解，記為 siter，以及自演算開始到本次迭代
為止所得到的最佳解，記為 sbs。在式子(2)
中，其 ws的設定如下：在當次迭代中最好
的 m-1個解，其 ws = m–r，其中 r為當次
迭代中的解 s 的品質函數值排序(擁有最佳
的品質函數值，其排序為 1，依此類推)；
對於自演算開始到本次迭代為止所得到的
最佳解，其 ws = m。根據如此設定，自演
算開始到本次迭代為止所得到的最佳解在
費洛蒙更新方面，擁有最高的影響力，當
次迭代中最好的 m-1 個解，其影響力依其
排序而定。此外，數值由設計者自行決定。
（二）RAS控制棒佈局設計方法
核二廠有145組控制棒分為A1、A2、
B1、B2四群，如圖1所示。
(a) (b) (c) (d)
圖1 四分之一爐心控制棒分佈 (a) A2群 (b)
B1群(c) A1群(d) B2群
在每個燃耗點只有一群控制棒會插入
爐心，在核二廠是依 A2-B1-A1-B2或
A1-B2-A2-B1的棒序，其中A1與A2群控制
棒是八分之一爐心對稱，如圖1 (a) (c)，B1
與B2群控制棒是四分之一爐心鏡像對稱，
如圖1 (b) (d)。因此，在控制棒佈局設計時，
A1群控制棒只要考慮5組控制棒，A2群控
制棒要考慮8組，B1與B2群控制棒要考慮11
組。每組控制棒位分為48節，第0節表示控
制棒全入，第48節表示控制棒全出，且只
能插至偶數節的棒位。在控制棒設計時有
一個設計上的要求—避免插中棒，也就是
第18~30節，但這並不是禁止條件。為了簡
化設計問題，我們允許控制棒插至第18節
與第30節，但機率較深棒與淺棒為低，第
20~28節則禁止插入。因此，在控制棒佈局
設計時，每組控制棒有{0, 2, 4, 6, 8, 10, 12,
14, 16, 18, 30, 32, 34, 36, 38, 40, 42, 44, 46,
48}共20個控制棒位可選擇。
在控制棒佈局設計時，第(1)式的轉移
機率可寫成下式：
其中pk(ci)是第k組控制棒插到ci棒位的
轉移機率，τk(ci)則是該組控制棒插到ci棒位
時的費洛蒙濃度，ηk(ci)則是該組控制棒插
到ci棒位的啟發式訊息，為了簡化設計，將
(1)式中的α與β值設為1。啟發式訊息則根據
經驗與設計法則規範如下：
1. 同一群控制棒的相鄰控制棒插入
棒位要大於4節。
4DMFLCPR項反映熱限值MFLCPR，定義
如第(10)式。
DMFLCPR會依超過設計限值多寡給予懲
罰值，超過愈多懲罰值愈大。在相同的功
率下，流量愈大熱傳愈好，會造成愈大的
臨界功率與臨界熱功率比（CPR），也就是
MFLCPR值愈小。由於用來評鑑控制棒佈
局的MFLCPR值並不是經過流量搜尋計算
後的值，在評鑑控制棒佈局時應考慮流量
效應而加以修正。當keff值比目標Keff值大
時，流量搜尋計算後的MFLCPR值會變
小，反之則變大。由圖3可以看出，流量搜
尋計算前後的MFLCPR值，與keff和目標keff
值的差距為線性關係，為了能有效評估控
制棒佈局，將流量搜尋計算後的MFLCPR
定為MFLCPRmodified，其定義如(11)式。
當keff大於目標keff時，MFLCPR的修正
項是正值，若修正得不夠，會導致在流量
搜尋計算後MFLCPR值可能違反設計限
值，MFLCPRmodified值就無法有效地評估控
制棒佈局，因此在(11)是採用不同的係數來
修正MFLCPR值。
-0.002 -0.001 0 0.001 0.002 0.003
keff - target keff
-0.06
-0.04
-0.02
0
0.02
0.04
M
F
LC
P
R
-
M
F
LC
P
R
m
od
ifi
ed
Thermal Limits
MFLCPR
Fit 1: Linear
MFLCPR - MFLCPRmodified = -14(keff - target keff)
MFLCPR - MFLCPRmodified = -20(keff - target keff)
圖3 MFLCPR改變量 vs. keff 改變量
EMFLPD與FMAPRAT則是用來反映MFLPD
與MAPRAT兩個熱限值，定義如(12)與(13)
式。
MFLPD與MAPRAT的設計限值為
0.92，在某些燃耗點MFLPD會是三個熱限
值中最大的，但MFLPD在流量搜尋計算後
的改變量不大，因此將設計限值再增加
0.002的設計餘裕。
當相對應的熱限值合於設計限值，則
DMFLCPR、EMFLPD與FMAPRAT的值為1，若違反
設計限值則會給品質函數1加上10倍於和
設計限值差距的負面評價。
圖4為設計流程圖，第一步先決定一個
燃料佈局，在每個燃耗步階的控制棒佈局
設計一開始，先將所有控制棒位設為全
出，起始費洛蒙值設為一個正值。接著每
隻螞蟻以RAS演算法的轉移機率來決定該
燃耗步階相對應的控制棒群的控制棒位，
並將設計好的控制棒佈局以SIMULATE-3
程式計算keff、SDM、RPFi、MFLCPR、
MFLPD與MAPRAT供品質函數F(s)使用，
並依據F(s)函數值來更新費洛蒙，重複此步
驟直到收斂條件或設定的最大迭代次數為
止，此時會選出一個最佳的控制棒佈局並
進行流量搜尋計算，之後進入下一燃耗步
階的控制棒佈局設計，依照相同的方式設
計相對應棒序的控制棒佈局直到EOC。
五、結果與討論
本研究使用兩個燃料週期來做測試，證
明此控制棒佈局設計方法的可用性，第一
個週期是小幅度功率提升（measurement
uncertainties recapture, MUR）前的週期，第
二個週期則是 MUR 後將功率提升到
101.693%的週期，RAS 演算法的各參數設
定如下：
6本研究共有 5個測試案例，第 1、2個
案例是使用兩個燃料週期的廠家設計燃料
佈局，第 3~5 個案例則是使用第一階段燃
料佈局設計時針對不同螞蟻數目產生的燃
料佈局。表 1 為這 5 個案例主要會影響控
制棒佈局設計的參數，如：黑林週期長度、
黑林 EOC MFLCPR 與 BOC 冷爐停機餘
裕。尤其是黑林 EOC MFLCPR影響最大，
黑林 EOC MFLCPR值愈小，愈容易在 EOC
時達到全棒出（all rods out, ARO），週期長
度愈長。
圖 5 是第一個週期廠家設計的控制棒
佈局與案例 1的控制棒佈局比較，在圖 5(b)
中可看到，EOC時必須將控制棒插到第 14
節才可以符合所有的設計限值，圖 5(a)則可
在 EOC 時 ARO，但案例 1 的週期長度為
11.722 GWD/MT仍較廠家設計的長。表 2
是 SIMULATE-3 步階計算的結果，包括爐
心流量、MFLCPR、MFLPD、MAPRAT與
SDM，所有的參數都合於設計限值，keff值
也皆為目標 keff值 1.003，結果顯示本研究
採用較低的爐心流量設計控制棒佈局，可
得到較長的週期長度。圖 6 為軸向功率比
較，在前 6 個燃耗步階，功率峰值都比廠
家的結果更偏底部。
(a)
(b)
圖5 第一個燃料週期：(a)廠家設計的控制
棒佈局，與(b)案例1產生的控制棒佈局
圖6 案例1與廠家設計軸向功率分佈比較
表2 第一個燃料週期SIMULATE-3步階計算結果
burnup
(GWD/MT)
core flow (%) MFLCPR MFLPD MAPRAT SDM (%)
vendor case 1 vendor case 1 vendor case 1 vendor case 1 vendor case 1 vendor case 1
step 1 0.0 99.72 89.00 0.801 0.879 0.859 0.915 0.748 0.816 2.18 2.18
step 2 1.3 94.88 89.00 0.809 0.917 0.844 0.908 0.754 0.835 2.45 2.43
step 3 2.6 96.14 89.51 0.859 0.877 0.861 0.895 0.771 0.798 2.83 2.76
step 4 3.9 99.36 88.91 0.822 0.876 0.832 0.916 0.742 0.827 3.16 3.04
step 5 5.2 99.27 89.15 0.817 0.858 0.802 0.903 0.756 0.839 3.27 3.15
step 6 6.5 97.68 89.26 0.848 0.903 0.863 0.907 0.795 0.869 2.95 2.79
step 7 7.8 89.95 88.36 0.864 0.882 0.837 0.805 0.778 0.752 2.54 2.48
step 8 9.1 89.75 89.77 0.918 0.916 0.753 0.721 0.724 0.695 2.36 2.45
step 9 10.4 95.00 95.16 0.917 0.916 0.738 0.789 0.690 0.747 2.46 2.60
step 10 11.6 11.7 97.64 99.70 0.907 0.920 0.786 0.818 0.714 0.760 2.78 2.73
step 11 11.681 11.722 100.0 100.0 0.900 0.920 0.792 0.820 0.718 0.764 2.82 2.74
8表4 使用3個設計的燃料佈局進行控制棒佈局設計的SIMULATE-3步階計算結果
burnup (GWD/MT) core flow (%) MFLCPR MFLPD MAPRAT SDM (%)
case 3 case 4 case 5 case
3
case
4
case
5
case
3
case
4
case
5
case
3
case
4
case
5
case
3
case
4
case
5
case
3
case
4
case
5
step 1 0.0 89.13 88.80 88.71 0.839 0.920 0.893 0.917 0.870 0.889 0.805 0.791 0.806 1.68 1.46 1.46
step 2 1.3 88.80 88.35 88.50 0.888 0.909 0.848 0.863 0.844 0.899 0.750 0.786 0.797 2.05 2.02 1.82
step 3 2.6 90.90 89.82 88.62 0.800 0.831 0.866 0.889 0.906 0.872 0.779 0.802 0.825 2.35 2.40 2.03
step 4 3.9 88.71 89.21 88.20 0.899 0.901 0.862 0.886 0.908 0.895 0.801 0.829 0.831 2.55 2.49 2.14
step 5 5.2 88.83 88.42 89.23 0.846 0.912 0.917 0.861 0.862 0.915 0.786 0.804 0.860 2.58 2.42 2.05
step 6 6.5 88.39 88.87 89.00 0.913 0.913 0.915 0.914 0.891 0.860 0.861 0.834 0.817 2.42 2.20 1.69
step 7 7.8 90.90 89.57 90.89 0.851 0.904 0.879 0.822 0.878 0.840 0.710 0.800 0.766 2.23 1.88 1.44
step 8 9.1 88.77 90.30 88.47 0.904 0.906 0.908 0.710 0.800 0.766 0.679 0.735 0.737 2.21 1.71 1.40
step 9 10.4 90.90 88.41 91.50 0.916 0.917 0.915 0.730 0.806 0.839 0.691 0.738 0.800 2.36 1.85 1.63
step 10 11.7 98.74 90.18 91.56 0.899 0.917 0.916 0.874 0.867 0.889 0.794 0.788 0.838 2.61 2.14 1.94
step 11 11.997 12.022 12.002 100.0 100.0 100.0 0.898 0.884 0.888 0.902 0.842 0.905 0.800 0.763 0.850 2.67 2.28 2.04
(a)
(b)
(c)
圖9 控制棒佈局設計結果：(a)案例3 (b)案
例4 (c)案例5
SDM最大值只比 BOC SDM值大一點，這
也證實了在燃料佈局設計時以 BOC SDM
做評估參數並加上一點餘裕是可行的。
本研究設計的核二廠控制棒佈局設計
方法採用 RAS演算法，可成功的用於 5個
不同的燃料佈局上，可自動設計出合於設
計限值的控制棒佈局，且具有足夠的週期
長度。品質函數是此控制棒佈局設計方法
的關鍵，可以正確的引導控制棒佈局的搜
尋方向符合設計者的要求，6 個品質函數
APD、keff、SDM、MFLCPR、MFLPD 與
MAPRAT 足以反應 BWR 控制棒佈局的設
計要求，如：週期長度、臨界運轉條件、
SDM 與熱限值。也證實在燃料佈局設計
時，採用黑林週期長度、黑林 EOC MFLCPR
與 BOC SDM 等評估參數，可以確保成功
設計出合於設計限值與足夠週期長度的控
制棒佈局。
參考文獻
1. C.-D. WANG, and C. LIN, “Automatic 
Boiling Water Reactor Loading Pattern
Design Using Ant Colony Optimization
Algorithm”, Ann. Nucl. Energy, 36, 1158
(2009).
2. Y. KOBAYSHI, and E. AIYOSHI,
“Optimization of Boiling Water Reactor
Loading Pattern Using Two-Stage
Genetic Algorithm”, Nucl. Sci. Eng., 142,
119 (2002).
3. J. L. MONTES, J. J. ORTIZ, I.
REQUENA, and R. PERUSQUÍA,
“Searching for Full Power Control Rod
Patterns in A Boiling Water Reactor
Using Genetic Algorithms”, Ann. Nucl.
Energy, 31, 1939 (2004).
4. J. J. ORTIZ, A. CASTILLO, J. L.
MONTES, and R. PERUSQUÍA,“A New
System to Fuel Loading and Control Rod
Pattern Optimization in Boiling Water
Reactors”, Nucl. Sci. Eng., 157, 236
(2007).
5. J.-L. FRANÇOIS, C.
MARTÍN-del-CAMPO, and A.
國科會補助計畫衍生研發成果推廣資料表
日期:2010/11/03
國科會補助計畫
計畫名稱: 子計畫三：人工智慧應用於核能科技之研究(2/3)
計畫主持人: 林強
計畫編號: 99-2623-E-007-004-NU 學門領域: 原子能科技之推廣與人才培訓
無研發成果推廣資料
其他成果 
(無法以量化表達之成
果如辦理學術活動、獲
得獎項、重要國際合
作、研究成果國際影響
力及其他協助產業技
術發展之具體效益事
項等，請以文字敘述填
列。) 
無 
 成果項目 量化 名稱或內容性質簡述 
測驗工具(含質性與量性) 0  
課程/模組 0  
電腦及網路系統或工具 0  
教材 0  
舉辦之活動/競賽 0  
研討會/工作坊 0  
電子報、網站 0  
科 
教 
處 
計 
畫 
加 
填 
項 
目 計畫成果推廣之參與（閱聽）人數 0  
