Keywords: Digital Differentiator, Neural 
Network, VLSI, DSP chip 
 
二、 緣由與目的 
數位微分器具有決定與估測所需信號
的時間微分，在一些信號處理的應用中扮
演重要角色，像在雷達、聲納等領域中，
可以經由所量測的位置資料透過數位微分
器的計算來得到所需信號的速度與加速
度；而在生物醫學工程應用中，常需要得
到生物醫學信號低頻率的高階微分以進一
步進行分析與判斷，這都需要數位微分器
有效計算出所需要的信號資訊，因此設計
具即時處理能力之數位微分器在這些應用
領域便顯得非常重要[1]-[7]。 
數位微分器的設計可以利用：(1) 有限
脈衝響應(FIR)濾波器，(2) 無限脈衝響應
(IIR)濾波器來設計； FIR 濾波器具有穩
定特性、可利用快速演算法實現、線性相
位等優點；而 IIR 濾波器則可利用較少係
數達到 FIR 濾波器所須達到之規格、實
現容易、相位響應等特性。而在數位濾波
器的諸多設計方法中[1]-[7]，最小平方法
與 Minimax 法是受到探討最多的兩種最
佳化方法，最小平方法設計簡單但在頻帶
邊緣有誤差大的缺點；Minimax 法設計過
程雖然複雜，但卻可以降低頻帶邊緣誤差
及達到等值漣波效果，且設計之濾波器長
度可以較短的長度滿足設計規格，是探討
最多的方法。 
類神經網路利用大量具有相同特性神
經元(neuron)連接所產生具學習及平行處
理之能力，使得在最佳化的問題中受到學
者專家廣泛的探討與研究，在影像處理、
圖形識別、語音辨識及通訊系統等各領域
受到廣泛的探討與研究，近年來，更有學
者專家利用類神經網路所具有非線性、快
速收斂及可用硬體快速實現特性，利用類
神經網路來設計數位濾波器，以應用於即
時訊號處理之需求，相關研究可以參考文
獻 [8]-[10]，這些設計的濾波器包括等值
連波濾波器、2-D FIR 濾波器、2-D IIR 濾
波器、Hilbert 轉換器、數位微分器、分數
延遲濾波器等，顯見類神經網路具快速收
斂速度的能力在數位濾波器設計上也逐漸
扮演另一重要方法。 
本人近三年在國科會經費補助下，從事
於利用類神經網路時實現數位濾波器之設
計，目前為止已完成利用類神經網路實現
等值漣波濾波器、數位微分器等之設計，
而這些類神經網路實現都是架構在利用
MATLAB 軟體來模擬類神經元的模式及
其動態方程式，基本上所發展的演算法還
是架構在線性代數的最佳化，而軟體所模
擬之結果也無法達到真正即時設計之效
能，因此本計畫將運用德州儀器(TI)所出
產之數位信號處理器 TMS320C6X系列實
現類神經網路架構所設計之數位微分器之
數位信號處理晶片組(DSP chip)實作，以進
一步驗證其即時處理之效能並提供於生物
醫學工程信號處理之應用。 
德州儀器公司發展之 TMS320系列數位
訊耗號處理器(Digital Signal Processing, 
DSP)已廣泛應用在通信、控制、語音處
理、影像處理、數據傳輸、手機電話等即
時數位訊號處理及消費者產品之應用
[13]-[19] 。 近 年 來 ， 它 所 發 展 之
TMS320C67x處理器更具備超長指令字組
架構(VLIW)強大功能，此架構非常適合高
效率高階語言編譯器之發展。數位信號處
理器主要為應用到需達即時處理之應用，
且基於 DSP 處理器實現系統更具有不易
受環境溫度變化之影響，因此此系統容易
使用、彈性且非常有效率。TI的數位信號
處理器模組區分 EVM及 DSK，本計畫將
嘗試利用 DSK模組來實作，藉由第三協力
廠商提供「圖控式 DSP 程式軟體
(VAB/RIDE)」及「整合式發展環境(Code 
Composer Studio, CCS)」可將本計畫於預
期結果下完成。計畫完成將可此部份結果
以(System on Chip, SOC)技術封裝，對生物
醫學工程信號處理等低頻率信號的分析提
供一新的技術，此研究成果將可提供學術
界學理之驗證，對產業界及醫學工程亦可
提供數位信號處理晶片在實務之應用。 
 
 2
連接神經元之權重， 、  分別代表電
容及電阻，此即是運用電路元件模擬類神
經網路之代表架構。 
iC iR
( ) ( )
( )
⎪⎪⎩
⎪⎪⎨
⎧
−≤−
<<−
≥
=
+=+
λ
λλλ
λ
bub
bubtu
bub
tugtv
i
ii
i
ii
,
,1
,
)1(1
 (9) 
其中  一有界限類神經作用函數，( )iug
λ/1  是神經元函數的斜率。當此系統經由
初始值設定及相關參數計算輸入到達穩定
後，神經元的輸出就是我們所要設計的濾
波器係數。 
類神經網路實現微分器的相關參數，經
過一些數學化簡程序，我們可以得到
Hopfield 網路的互連權重 與偏壓 分別
為： 
ijT iI
( ) ( )∑
=
⋅−=
L
l
ljliijT
1
ωϕωϕ  (10) 
( ) ( )liL
l
lIi AI ωϕω ⋅= ∑
=1
 (11) 
其 中  , 10 −+= ini av 1,1 0 +−≤≤ nMji  
。 10 +−= nMp
一旦 Hopfield 類神經相關參數計算出
後，就可以利用類神經網路的動態方程式
來實現微分器設計，在此計畫中我們將採
用簡單型類神經網路來實現， 
))(()()1(
1
∑
=
+Δ+=+
p
j
ijij
i
ii ItvTC
ttutu  (12) 
當整個系統收斂時即可得到最佳的微分器
設計。 
觀察(10)與(11)兩式可以發現類神經網
路的互連權重與偏壓均是 sin 或 cos 的函
數，因此當所設計的微分器規格給定後，
此兩個參數也可進一步化簡，大幅降低計
算類神網路參數的運算量。經過數學三角
函數化簡可歸納如下。 
(i)一階數位微分器 
型態 III與 IV 可用來設計一階微分器，其
相關參數化簡如下： 
當 時， ji =
( )( )[ ] ( )[ ]
( )[ ]p pppij dki
fkidfkiLT −
−⋅−−⋅+−= π
ππ
2sin
2sin2cos
2
1
2  
 (13) 
當 ji ≠ 時， ( )[ ] ( )( )
( )( )[ ] ( )[ ]
( )[ ]p ppp
p
ppp
ij
dk
fkdfk
d
fdf
T
2sin
2sin2cos
2
1
sin
sincos
2
1
−Δ
−Δ⋅−−Δ⋅
+⋅−⋅−=
π
ππ
πδ
πδπδ
 
 (14) 
其中， Mji ≤≤ ,1 ,  當 N 為奇數 0=k
2
1=k 當 N 為偶數，
L
f
d pp = , ji +=Δ  
and ji −=δ . 
( )( ) ( )( )( )( )( ) ( ) ( ) ( )( )⎥⎥⎦
⎤
⎢⎢⎣
⎡ −−−−−
−−
−= kidfdfkid
kidfd
kid
I pppp
p
ppp
p
i ππ
π
π
π 2cos
sin2
2sin
sin
 
 (15) 
(ii)高階微分器以型態 II為例 
當 ji = 時， 
( )( )[ ] ( )[ ]
( )[ ]p pppij di
fidfiLT
2/12sin
2/12sin2/12cos
2
1
2 −
−⋅−−⋅−−= π
ππ
 
 (16) 
當 ji ≠ 時， 
( )[ ] ( )( )
( )( )[ ] ( )[ ]
( )[ ]p ppp
p
ppp
ij
d
fdf
d
fdf
T
1sin
1sin1cos
2
1
sin
sincos
2
1
−Δ
−Δ⋅−−Δ⋅
−⋅−⋅−=
π
ππ
πδ
πδπδ
(17) 
當運用此化簡所得到的參數，可在微分器
設計中大量降低運算量，提高整體效能。 
C數位信號處理器架構實現基於類神經網
路設計之數位微分器實現 
全世界的數位訊號處理晶片供應商有
數十家，其中以德州儀器公司所生產之
TMS320 系列產品的市場佔有率最高、應
用也較廣，在這些產品中以 TMS320C6X
為最新與高效能的 DSP 晶片，其中
C62X、C64X 屬於定點數運算；C67X 屬
於浮點數運算，這兩類處理器各有優缺
點，完全以使用者及應用需求為考量，到
底是採用速度快的定點運算或精確度較高
的浮點數運算。本計畫將嘗試以 C67X 浮
點運算來實作完美重建鏡射濾波器之設
計，以達到較好之效能。圖 1 為
TMS320C6711之硬體架構圖。 
 4
TMS320C67X 數位信號處理晶片擁有整
套極佳的開發工具，其中包括了第三協力
廠商開發之整合發展環境(IDE)的 CCS 軟
體，其涵蓋了 C編譯器、組譯器、連結器、
除錯器等有效之程式。本階段工作將藉由
熟悉此整合式開發環境 CCS 所提供之編
譯、組譯、連結、除錯及模擬環境來實現
類神經網路設計的數位微分器。數位訊號
處理器晶片優於類比式晶片之一重要原
因，即當使用者需求變更後，可不需向類
比式數位信號處理必須重新變更設計，而
只要利用此開發環境重新修改及更新程
式，將 OUT 檔更新後載入德州儀器之板
子，整個數位信號處理晶片即可更新使用
者需求。整個計畫之實現流程圖如圖 3所
示。 
四、 實驗結果與討論 
在本計畫中將推導出類神經網路設計
之數位微分器設計，然後再利用德州儀器
所支援之整合式開發工具 CCS 搭配
TMS320C6711 DSK 來實現。 
在以下的設計實例中，類神經網路的初
始參數設定如下： , ( ) 4100 −=iu ( ) 00 =iv  
FCi μ01.0= ，而每一神經元的作用函數參
數 與 b λ分別設定為 3 和 200。頻域響應
之取樣點數與濾波器長度的關係均為
。 NL 10=
實例 1：一階數位微分器設計 
在此實驗中分別設計了型態 III與 IV的
數 位 微 分 器 ， 其 中 帶 通 邊 緣 頻 率
，濾波器長度分別為 πω 92.0=p 17=N 及
；全通數位微分器，濾波器長度分
別為 及 ，圖 3與 4分別為所設
計之振幅響應與峰值誤差響應。為了比較
所設計之誤差效能分別定義峰值振幅誤差
(
41=N
6=N 70=N
( ) ( ) LlAAMax llI ≤≤− 1,ωω ) 及 均 方 誤 差
( ( ) ( )[∑
=
−
L
l
llI AA
1
21 ωωπ ] )，表 1 為所設計之誤
差效能比較，所設計結果相當接近最小平
方所設計的結果。 
實例 2：高階數位微分器設計 
在高階數位微分器的實驗中我們分別
針對濾波器長度為奇數與偶數分別設計全
通與非全通的頻率響應，圖 5顯示一長度
N=32，通帶頻率邊緣 πω 92.0=p 的 4階微分
器振幅響應，圖 6顯示一長度 N=32，5階
全通之微分器振幅響應，表 2為所設計之
效能比較。 
0 0.05 0.1 0.15 0.2 0.25 0.3 0.35 0.4 0.45 0.5
0
0.1
0.2
0.3
0.4
0.5
Normalized frequency
A
m
pl
itu
de
 re
sp
on
se
0 0.05 0.1 0.15 0.2 0.25 0.3 0.35 0.4 0.45 0.5
0
0.1
0.2
0.3
0.4
0.5
Normalized frequency
A
m
pl
itu
de
 re
sp
on
se N=70
N=6
N=41
N=17
 
圖 3 、一階數位微分器的振幅響應 
0 0.05 0.1 0.15 0.2 0.25 0.3 0.35 0.4 0.45 0.5
-0.05
0
0.05
0.1
Normalized frequency
E
rro
r
N=41
N=17
0 0.05 0.1 0.15 0.2 0.25 0.3 0.35 0.4 0.45 0.5
-0.02
0
0.02
0.04
Normalized frequency
E
rro
r
N=70
N=6
 
圖 4 、一階數位微分器的誤差響應 
0 0.05 0.1 0.15 0.2 0.25 0.3 0.35 0.4 0.45 0.5
0
0.005
0.01
0.015
0.02
0.025
0.03
0.035
0.04
0.045
Normalized Frequency
A
m
pl
itu
de
 R
es
po
ns
e
 
圖 5 、長度 32=N ， πω 92.0=p ，4階數位微
分器振幅響應。 
 6
