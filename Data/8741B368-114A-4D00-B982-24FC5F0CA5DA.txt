 GPS電碼觀測量訓練與調整一般品質振盪器。雖
然其短期頻率性能受限於GPS電碼之解析度，但
考量設置簡易及成本較低廉，所以在眾多頻率同
步應用之埸合經常可見其身影。然而，為了擴展
該應用領域，勢必要對於短期頻率穩定度加以改
善，同時期望能將成本降低。有鑑於此，本計畫
將嘗試以GPS載波相位觀測量為基礎，並整合模
糊控制器及DA轉換器等，進行GPSCDO之性能
評估，以期獲得短期頻率穩定度高於傳統
GPSDO性能10 倍之結果。此外，本計劃將提出
一個頻率同步之新方法，利用適應性類神經模糊
系統(ANFIS)[8]預測大氣效應等所導致的頻率變
化量，進而應用於GPSCDO系統，以大幅提昇長
期頻率穩定度。 
二、研究方法及成果 
本研究係利用GPS載波相位觀測量估測振盪
器相對於GPS時間之頻率偏差量，並結合ANFIS
所預測之修正量，以大幅消除大氣效應及衛星時
錶偏差等導致之頻率誤差，參考此修正量，控制
器則輸出致動信號訓練調整振盪器。有關研究方
法及進行步驟，茲敘述如后： 
2.1 GPS載波相位觀測[1][5] 
GPS載波相位數學模型如 (2.1) 式： 
  (2.1) ελρ +⋅++−−⋅+=Φ NdddTdtc tropionjA )(
其中 
j
AΦ  ：接收機A觀測衛星j之載波相位距離觀
測量； 
λ  ：波長 (L1 = 575.42MHz；L2 = 1227.60 
MHz)； 
ρ  ：衛星與接收機天線之實際距離； 
iond  ：電離層效應造成之延遲； 
tropd ：對流層效應造成之延遲； 
c  ：光速； 
N ：整數週波未定值； 
ε  ：未定義之誤差量。 
GPS載波相位量測的基礎在於接收機的參考
頻率與接收到的GPS載波進行比較所獲得之頻率
差。顯然，接收機和衛星始終存在著相對運動，
且源自於衛星、大氣層、接收機與不良的觀測環
境等均會貢獻誤差與偏差量，因而產生都卜勒偏
移 (Doppler shift) 效應，再者，接收機與衛星的
振盪器頻率顯然不一致。這些偏差與誤差量均會
表現於載波相位觀測量，此外，對於兩個不同頻
率之相位比較，所能獲得的資訊，僅為相位之小
數部份 (小於一個週期)，至於整數相位個數則不
得而知，因此(2.1)式通常會存在整數週波未定值 
(Integer cycles ambiguity)表示項，一旦接收機相
鎖衛星的載波後，整數周波未定值N則保持固
定，除非發生周波滑失(Cycle slip)或衛星脫鎖
(Lose of lock)現象。 
 
圖2.1、載波相位振盪器基本結構圖。 
GPSCDO之基本架構如圖2.1所示，係以單
機進行觀測，與傳統GPSDO之主要相異在於外
頻已直接輸入至GPS接收機，外部振盪器頻率之
行為因此能表現在GPS原始觀測量中。若忽略單
機無法克服之誤差與偏差量，並進行載波相位時
間差分運算，可得 
  (2.2) dTcjA δδρδ −=Φ
其中 δ 表示時間差分運算。 
(2.2) 式之 為外部振盪器頻率相對於GPS
頻率之相位差，因此兩者之頻率偏差值 可表
示為： 
AdT
τy
 τ
δ
τ
AdTy −=  (2.3) 
其中 τ 為量測之取樣時間。 
本系統中，我們採用頻率偏差量 及其相
對於時間之變量
τy
τyΔ 當作控制器的輸入變數，有
關控制器的設計，則採用 Fuzzy 控制理論實現。 
如圖2.1之系統架構，以單機觀測GPS載波相
位，且立即估測溫控石英振盪器(Oven Controlled 
Quartz Oscillator, OCXO) 頻率與GPS頻率之偏差
量。參考此頻率偏差量 及其相對於時間之變
量
τy
τyΔ ，控制器則輸出電壓控制信號，透過D/A
轉換器調整OCXO頻率同步於GPS頻率。在研究
初期，我們以PC擔任資料的收集與控制器的實
2 
  
 
∑
∑∑
=
=
=
== p
p
p
p
p
ppp
p
pp
w
fw
fwO
1
1
1
1,5  (2.8) 
2.3 模糊控制器設計[4] 
表2.1、控制規則。 本系統所採用的模糊控制器方塊如圖2.3所
示，其中推論引擎 (Inference engine) 的知識庫 
(Knowledge base) 包含了資料庫 (Data base) 和控
制規則庫 (Control rule base)，茲將模糊控制器的
設計步驟分述如后： 
2.3.3 解模糊化 (Defuzzifier) 
由 (2.9) 式可知，共有25個推論規則，為了
解模糊化，首先必須計算各個推論規則命題部的
適合度。假設輸入為 及 ，則
命題部的適合度 為 
oXX 11 = oXX 22 = iR
iw
2.3.1 模糊化 (Fuzzifier) 
首先將回授之 與 經由比例因子轉換到
適當的區間後，再利用歸屬函數 (Membership 
function)將輸入訊號轉換成模糊推論可接受的模
糊量。為利軟體的實現，本系統採用三角型的歸
屬函數進行模糊化，且定義五個模糊集合，分別
為大程度負(NB，Negative big)、小程度負(NS，
Negative small)、零 (ZE, Zero)、小程度正 (PS, 
Positive small)及大程度正(PB, Positive big)。 
τy τyΔ
  (2.10) )()( 022
0
11 XAXAw iii ∧=
(2.10)式中， 與 分別為 在
與 在 時的歸屬值；∧ 則表示
模糊集合的交集 (取最小值)。 
)( 011 XAi )(
0
22 XAi 1iA
0
11 XX = 2iA 022 XX =
至於輸出論域則定義為 ，有關模糊
控制器之輸出部分，本系統則採用重心法來解模
糊化，如 (2.11) 式。   
{ }iuU =
 
 
 
∑
∑
=
== n
i
i
n
i
ii
out
u
uw
Ku
1
10  (2.11) 
其中， 表示輸出部之控制增益； 為
輸出歸屬函數第 i個集合之適合度； 則表示輸
出歸屬函數第 i個集合之輸出標籤； 則表示第
條規則。 
outK iw
iu
n
n
圖2.3、模糊控制器方塊圖。 
2.3.2 法則推論 (Rule inference) 
考慮各種可能的控制情況，以頻率偏差值
及其變量 為推論基礎，目的在於使振盪器
相對於參考頻率偏差值為零，然後，配合五個等
級的歸屬函數，則可訂定控制規則，建立推論規
則表 (Rule table)，如表2.1。有關模糊控制規則
的一般表示式為 
τy τyΔ
2.4 實驗架構與成果 
實驗之系統架構如圖2.4所示，參考站主要
包括銫原子鐘  (HP5071A) 及單頻GPS接收機 
(Ashtech GG24)等；位於遠端之GPSCDO系統主
要包含OCXO(DatumTM FTS1130)、單頻GPS接收
機及數位/類比轉換器等，兩基站之GPS接收機
外頻分別由銫原子鐘及OCXO輸出之10MHz所提
供。遠端站之控制、通訊介面及資料收集等程式
均由C程式語言撰寫。  
25~1,            : 2211 =iBisYthenAisXandAisXifR iiiii  (2.9) 
其中，i 為控制規則編號； 1X 與 2X 表示控
制規則命題部的輸入變數； 則為控制規則推論
部的輸出變數；
iY
1iA 、 2iA 及 iB 分別表示輸入部分
與輸出部分之歸屬函數，有關本系統所採用之規
則如表2.1所示。 
4 
