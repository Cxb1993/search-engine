 2 
( ) [ ] ( )
( ) ( )
( )
j
βα
i i
i iβα
j jc N s
τ η c
p c |s    c N s
τ η c
∈
  
= ∀ ∈
     ∑
( ) ( )
{ }upd i
i i s
s S c s
τ 1 ρ τ ρ w F s
∈ ∈
← − ⋅ + ⋅ ⋅∑
式訊息可用來排除不合適的選擇路徑，以
縮減搜尋空間並減短計算時間。 
 先前的研究中 1,2，控制棒抽出序列是
事先提供的，且目標控制棒佈局並未列入
功率升載的目標考量。此外滿足燃料預調
節準則並保護燃料護套的燃料預調節封套
也未加考慮。通常控制棒抽出序列由核子
工程師利用電腦程式，於啟爐前將其規劃
完成；對於核子工程師而言，這是一項麻
煩的工作。在本研究中，控制棒抽出序列
以及爐心流量率的增加程序將自動產生，
並且在最短的時間內達到全功率運轉與目
標控制棒佈局。同時滿足下列的相關限制。 
1. 熱限值；即最小臨界熱功率比，最大線
性熱產生率以及最大平均平面線性熱
產生率的比值，其最大值應小於運轉限
制值 1.0。 
2. 計算結果的封套值應小於封套限制
值；或是在違反封套限制值時，功率提
升應符合封套升載率。 
3. 運轉路徑應在功率流量圖中的運轉區
域內；即符合功率震盪衰減比與最大控
制棒負載線的限制區域。 
 
三、蟻群最佳化演算法 
 
蟻群最佳化演算法 7 包含兩個演算構
成要素，即每一疊代中由螞蟻建立的解以
及費洛蒙更新。當建立解的時候，人工螞
蟻根據可能性與建設性的啟發式訊息來搜
尋一連串的元件解，並組合成一解。在每
一個建立解的步驟中，自一組合適的元件
解中利用機率理論來挑選出一個元件解，
關於費洛蒙模型中機率理論的實行，即稱
為轉移機率。轉移機率的定義如下： 
 
                            (1) 
 
其中 p( ic |s)表示每一建立解的步驟時，在
元件解集合裡所有可能被選上的路徑中(即
N(s))選擇到路徑 ic 的機率，s表示被建立出
來的解， iτ 則是路徑 ic 上的費洛蒙濃度，η
為權重函數，其值即啟發式訊息，α和β為
費洛蒙濃度與啟發式訊息的權重。 
 費洛蒙更新法則包含兩部份，即費洛
蒙揮發與費洛蒙增加。費洛蒙揮發的部份
是在每一疊代後，將所有費洛蒙濃度一致
地減少。相反的，被選中的解其費洛蒙濃
度將會增加。最後的收歛解擁有最高的費
洛蒙濃度。為避免陷入局部最佳解，費洛
蒙揮發的量應較少，如此才有足夠的機會
去搜尋到不同的搜尋空間。費洛蒙增加的
部份則是讓一或多個由本次疊代或前幾次
疊代中得到的解，將這些元件解的費洛蒙
濃度予以增加。費洛蒙更新的定義 7 如下
式： 
 
                    (2) 
 
其中 iτ 為元件解 ci的費洛蒙濃度，ρ為揮發
率且 0 < ρ  ≤ 1，F(s)為解 s 的品質函數
值， sw 為該品質函數值的權重因子，Supd
為可以被用來更新元件解費洛蒙濃度的解
集合。其中 Supd 包含當次疊代中最好的
m-1(m-1≤ na 其中 na 為每一疊代中的人工
螞蟻數)個解，記為 iters ，以及自演算開始到
本次疊代為止所得到的最佳解，記為 bss 。
在式子(2)中，其 sw 的設定如下：在當次疊
代中最好的 m-1 個解，其 sw  = m – r，其中
r 為當次疊代中的解 s 的品質函數值排序
(擁有最佳的品質函數值，其排序為 1，依
此類推)；對於自演算開始到本次疊代為止
所得到的最佳解，其 sw  = m。根據如此設
定，自演算開始到本次疊代為止所得到的
最佳解在費洛蒙更新方面，擁有最高的影
響力，當次疊代中最好的 m-1 個解，其影
響力依其排序而定。此外數值由設計者自
行決定。 
 
 
 
 4 
的元件解設定為 0。 
 當熱功率大於 90%的額定量，且
所有深棒到達目標棒位，此時增
加爐心流量率並控制熱功率提升
的速率為每小時 1%的額定量。啟
發式訊息將控制棒部分以及增加
量大於 2%的爐心流量率設定為
0。 
 至於不同控制棒群組的啟發式訊
息設定，根據控制棒周圍的熱限
值餘裕大小決定。該控制棒群組
擁有較大的餘裕則有較大的機會
將其抽出，也就是說有較大的啟
發式訊息的數值。最大的啟發式
訊息設定為 10，其次為 9，依此
類推。 
F(s)為品質函數，計算每隻人工螞蟻所
建立出的解的品質，計算結果將被用 
來更新費洛蒙，也就是代入第(2)式。品質
函數反映出幾個設計目標，也就是到達全
功率、較短的升載時間、目標控制棒佈局、
及符合各個運轉限制。品質函數定義如
下，並於搜尋過程中尋找最小值。 
( ) 1 power 2 time 3 CR
4 violation 5 MFLCPR 6 MAPRAT
7 MFLPD
F s w *F w *F w *F
       w *F w *F w *F
       w *F
= + +
+ + +
+
  (3) 
其中 wi 為權重因子。 
Th
power
Th Th
0 if P   100%
F
100 P if P   100%
=
= 
− <
   (4) 
熱功率在第(4)式中表示最後得到的熱功率
百分比。若未達到全功率，將給予一懲罰
值。 
timeF =升載到達最後狀態所需的時間。其所
需時間愈短愈好。 
( )
( )
( )
T
CR 31 s s
T
32 m m
T
33 d d 31 32 33
F w * R R
      w * R R
      w * R R ,   w w w
= −
+ −
+ − > >
  (5) 
其中 sR 、 mR 和 dR 分別表示淺棒、中間棒
以及深棒的位置，右上角標示的 T 則表示
目標棒位。 31w 、 32w 和 33w 為權重因子。
若未達到目標棒位，將給予一懲罰值。通
常深棒可以在達到全功率後再抽到目標棒
位，然而淺棒及中間棒有時無法達到目標
棒位。因此淺棒及中間棒應有相對於深棒
較大的權重因子。 
違反限值之項如下： 
 
若未連續違反： 
violationF =搜尋到的升載路徑違反運轉 
限制的次數 
若因連續違反導致中止搜尋： 
violationF =搜尋到的升載路徑違反運轉 
限制的次數
4
1
+
 w
  (6) 
運轉限制包含熱限值、封套限值、功率震
盪曲線以及最大控制棒負載線。為確保功
率流量率運轉在安全區域，在搜尋過程中
功率震盪曲線以及最大控制棒負載線皆保
有 5%的餘裕。當運轉路徑違反這些限制，
計算其違反次數成為懲罰項。此外運轉過
程若發生一次違反限制值，則必須在 2 小
時內使其回到安全運轉狀態。若運轉限值
連續違反，則表示該路徑不適用將被棄
置，因此給予一較大的品質函數數值如第(6)
式。 
最小臨界熱功率比(MFLCPR)、最大線性熱
產生率(MFLPD)及最平均平面線性熱產生
率(MAPRAT)的品質函數皆相同，如下式。 
( )
( )
x
x
x
0 if x 1.0 δ
F 1 if x 1.0 δ
1.5 x
 < −

= 
≥ −
−
  (7) 
其中 Fx 的 x 為 MFLCPR、MFLPD 及
MAPRAT。 xδ 定義為運轉限制值的餘裕，
並補償 SIMULATE-3 與爐心監控系統之間
計算結果的差異。 xδ 的數值於本範例中為
0.05。第(7)式中分母的 1.5 為確保 Fx 為一
正值。 
 至於費洛蒙更新，在介紹蟻群最佳化
演算法時所用的第(2)式，其更新的公式適
用於求品質函數最大值的情形。為了求品
 6 
5. 最大疊代次數為 120 次 
在搜尋過程中，SIMULATE-3 採用功
率搜尋模式(power search option)，也就是利
用給定的爐心流量率以及控制棒棒位來計
算功率，同時假設有效增值因子為一固定
值。此外氙濃度設定為在初始爐心狀態已
運轉 20 小時，後續計算皆為氙濃度的暫態
計算。封套值則利用燃料節點燃耗值的線
性方程式來求得，此方程式由廠商提供。 
初始爐心流量率在範例一中為 50.4%
的額定量，其控制棒佈局如圖 2(a)所示，其
中 0 表示控制棒全入。 
    
(a)             (b) 
圖 2 (a)範例一初始控制棒佈局 
(b)範例一之目標控制棒佈局 
圖3(a)顯示每一疊代中最佳解的品質函數
值。此數值在一開始的37次疊代振盪較
大，其後為較小的變動，最後在第79次疊
代收斂且程式終止於第83次疊代。圖中在
第40次疊代之後出現一些較大的數值，則
表示演算法仍在搜尋不同的路徑。自演算
開始到本次疊代的最佳解，其品質函數之
數值如圖3(b)，由圖顯示出開始出現最佳解
時為第57次疊代。圖4為第(3)式中各分項的
貢獻，其來源為每一疊代中的最佳解。由
於到達全功率，因此功率部份的品質函數
值為0。圖4(a)為升載時間項，若該項數值
大於2.2，即表示其升載時間超過110小時並
且停止搜尋，此項停止搜尋條件並未出現
在範例一中。升載時間之品質函數分項處
在震盪情形，則表示搜尋過程仍為隨機狀
況並漸漸搜尋到較短升載時間的路徑。事
實上，此項為第(3)式的主要貢獻，原因為
其他懲罰項在後續的疊代中皆符合限制，
故其數值為0。範例一中達到目標控制棒佈
局，如圖2(b)，因此控制棒在所有疊代的懲
罰項數值為0。圖4(b)顯示出在部份疊代
中，出現一次違反限制值的情形。最小臨
界熱功率比在部份疊代中超過0.95，如圖
4(c)所示。至於最大平均平面線性熱產生率
與最大線性熱產生率的數值皆小於0.95，因
此在此範例中沒有任何懲罰作用。 
20 40 60 80
1.50
1.75
2.00
Ite
ra
tio
n
 
be
st
 
v
al
u
e
Iteration number
 
(a) 
20 40 60 80
1.50
1.75
2.00
B
es
t-
so
-
fa
r 
v
al
u
e
Iteration number
 
(b) 
圖 3 (a)每一疊代最佳解之品質函數值 
(b)自演算開始至本次疊代所得之 
  最佳解品質函數值 
20 40 60 80
1.50
1.75
2.00
Ft
im
e*
w
2
Iteration number
 
(a) 
 8 
初期之演算所得的最佳解品質函數值，圖
6(b)，亦比前述結果(10 隻螞蟻)要小，因為
本次測試一開始為 20 隻螞蟻來搜尋最佳
解，此現象亦十分合理。圖 7(a)和 7(b)分別
為爐心流量率與功率隨時間的變化情形，
由圖顯示其升載路徑不同於先前的結果。
在本次測試中，爐心流量率於升載初期增
加少量，且控制棒抽出較少，此為與前次
測試結果之升載路徑與上述的控制策略明
顯不同的地方。其顯示此方法可產生更靈
活的路徑。儘管如此，升載所需時間為 52.2
小時，且過程符合所有限制條件。若由總
螞蟻隻數及疊代次數來估算程式的計算時
間，後者的計算時間較短。 
20 40 60 80
1.50
1.75
2.00
Ite
ra
tio
n
 
be
st
 
v
al
u
e
Iteration number
 
(a) 
20 40 60 80
1.50
1.75
2.00
B
es
t-
so
-
fa
r 
v
al
u
e
Iteration number
 
(b) 
圖 6 (a)每一疊代最佳解之品質函數值 
(b)自演算開始至本次疊代所得之最佳 
解品質函數值 
0 10 20 30 40 50
50
55
60
65
70
75
80
Co
re
 
flo
w
 
ra
te
 
(%
)
Time (h)
 
(a) 
0 10 20 30 40 50
40
50
60
70
80
90
100
Th
er
m
al
 
po
w
er
 
(%
)
Time (h)
 
(b) 
圖 7 (a)爐心流量率隨時間之變化情形  
(b)熱功率隨時間之變化情形 
另一個週期，也就是範例二亦加入測
試。根據用 SIMULATE-3 計算升載記錄的
過程，並將計算結果與運轉記錄相互比
較，顯示出兩者結果並不一致，特別是最
小臨界熱功率比與最大線性熱產生率皆大
於運轉記錄上的數值。因此將範例二的封
套限值數值提高 0.2kw/ft，否則封套值將限
制住控制棒的抽出。 
除了最終控制棒佈局沒有達到目標佈
局外，其收斂結果與前一範例相似。圖 8(a)
顯示出在一開始抽出許多控制棒，並未增
加爐心流量率，因此導致熱功率上升如圖
8(b)。當頂到封套限值時，增加爐心流量
率，氙濃度於此時建立起來，再次抽出控
制棒後造成功率突然上升，如圖 8(b)。重
覆此過程直到到達 90%的額定功率。然而
目標控制棒無法到達。圖 9(a)為目標控制棒
佈局，圖 9(b)為規劃所得到的控制棒佈局。
圖 9(b)的結果與運轉記錄，即圖 9(c)，相
