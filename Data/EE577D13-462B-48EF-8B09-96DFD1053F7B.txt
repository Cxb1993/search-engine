 2
CHAPTER 1 
INTRODUCTION 
1.1 Research Motivation 
Rapid domestic economic growth in recent years has led to saturated development 
of the cities in the western part of Taiwan. The related government entities are concerned 
to considerate the entire development of the country and to balance difference between 
the eastern and western parts, many great public works have been actively propelled now, 
including a high percentage of local transportation construction, for example National 
Highway No. 5 (Bei-Yi Freeway), New Chung-Heng Highway, High Speed Rail, etc. 
Because of the high population density of Taiwan, mountains and hills occupy 70% of 
the surface. If the country desires to establish a traffic communication network, crossing 
the mountain ranges is essential. Hence, a tunnel construction plays an important task.  
A tunnel is an artificial underground passage that facilitates the flow of traffic, or 
the transportation of water or other equipment between two points. Executing tunnel 
construction, unlike with architecture or civil engineering, carries uncertain geological 
risks such as joints, fault zones, or ground water. The geological conditions are a key 
element in the ultimate success of a tunnel excavation. Judgments regarding geological 
conditions for a proposed tunnel not only determine the tunnel’s path, they also affect the 
construction method, equipment and cost. Because the construction of tunnels is mostly 
realized underground or in the mountains, it is important to thoroughly investigate 
surrounding geological conditions and structural development, such as underground 
water, rock mass nature, rock intensity, fault strike and joint conditions, etc., to enable the 
best analysis and assessment (Pan 1995; Chen 1998). 
 4
an experienced geologist. So, the data of geological conditions cannot be grasped 
easily. 
(3) The professional background and experience of the geologist may affect the 
accuracy on judging the geology. Therefore, misjudgments may happen. 
The length of the tunnel has continually on the increase, and therefore large 
amount of data are continually accumulated.  This may result in uneasy data 
management and integration.  An information management technique needs to be 
applied for tunnel data record, storage and management. Furthermore, in addition to 
traditional numerical and string data attributes, valuable tunnel information contains 
multi-media attributes, such as images, video and audio. Therefore, it is necessary to 
apply a modern information technology on the application of visualization of geological 
characteristics on tunnel excavation faces.  
z Direction to deal with the drawbacks 
Computer vision is concerned with the physical structure of a three dimensional 
world by the automatic analysis of images of that world. Hence, the goal of a computer 
vision system is to create a model of the real word from images.  In practice, computer 
vision includes many techniques, e.g. image processing and patter recognition. More 
significantly, computer vision includes techniques for the useful description of shape 
and of volume, for geometric modeling, and for so-called cognitive processing. 
Consequently, though computer vision is certainly concerned with the processing of 
images, these images are only the raw material of a much broader science which, 
ultimately, endeavour to emulate the perceptual capabilities of man (Vernon 1991).  
 6
image recognition techniques in order to identify geological weak plane characteristics 
such as joints, faults, etc. Different techniques are evaluated to determine their suitability 
and feasibility.  Thus, the purposes of this research are included as below: 
 Through digital image manner to improve traditional geological recording and 
preservation methods during the tunnel construction.  
 Through image extraction automatically, to help the no experience engineer analyze 
effectively the geological characteristics of tunnel excavation faces.. 
 Through image recognition automatically, to decrease the geologist subjective 
judgments that could result in erroneous evaluation. 
1.3 Scope Definition 
Correct geological judgments are essential for tunnel engineering projects. This 
research employs digital image processing technology to assist those judgments. 
Principal tasks main include image segmentation/edge detection and image recognition. 
The boundary and assumptions of this research is specified below. 
Boundary Identification: 
z According to the different feature of the rock, tunnel can be divided into three 
categories, which are the rock tunnel, the soil tunnel and the special geological 
tunnel (such as gravel tunnel). This research is primary based on rock tunnel, which 
are composed of sedimentary, igneous, and metamorphic. Regular or irregular 
geological weak planes are formed by the various geology actions. 
z From the definition and objective of the computer vision concepts, we can know 
that it can be intended to analysis, process, and recognize complex 3D objects in 
 8
1.4 Research Methodology 
The primary purpose of this dissertation is to develop the recognition algorithms of 
geological characteristics of a tunnel excavation face through image analysis and image 
recognition. The process and corresponding contents are explained below: 
 Literature Review  
Collect literature related to this thesis, including engineering construction of tunnels, 
geological records of tunnels and survey methods, etc. Also review other applications 
of image processing techniques.  
 Digital Image Processing 
Using the digital image processing techniques, study and discuss the traditional 
image processing flow, including image enhancement, image segmentation/edge 
detection and image recognition, etc. The wavelet theory is also another important 
topic of this research. Consequently, basic concepts and applications of the wavelet 
theory are also studied.  
 Image Characteristic Extraction 
Extracting image characteristics is considered a very important pre-processing stage 
of image identification. If the effect of the characteristic extraction is poor, it could 
affect the recognition result. In this research, in addition to using traditional edge 
detection techniques, multi-scale based edge detection is attempted to further the 
discussion of characteristic extraction. This paper evaluates the suitability of both 
techniques. Because of the complexity of the tunnel excavation face image, in order 
to eliminate “noise,” it is also necessary to establish a post-processing method in 
order to improve the image extraction effect.  
 10
CHAPTER 2 
LITERATURE REVIEW 
In this chapter, an overview of the tunnel and image processing is introduced. First, 
the basic concepts of the New Austrian Tunnel Method (NATM) are described in Section 
2.1. Next, in Section 2.2, we briefly introduce exploring geologic techniques for tunnel 
engineering. Finally, in Section 2.3, we mention recent the applications of image 
processing and Section 2.4 concludes the subjects with some discussion. 
2.1 Introduction of NATM 
In recent decades, domestic tunnel techniques have advanced from small-pilot 
manual boring to full-section mechanized excavating. With the advent of this excavating 
method, construction techniques and equipment for drilling, blasting, and mucking, 
support materials and lining techniques have also been updated. In the late 1970s, NATM, 
which uses the geological stress of surrounding rock mass to stabilize the tunnel, was 
introduced to Taiwan. In 1987, the hydroelectric Mingtan Power Plant project utilized 
Rock Mass Rating (RMR) together with NATM, and since then it has been the dominant 
method for all domestic tunnel construction (Zeng 1990; Chang, 2001). 
In essence, NATM is an approach or philosophy integrating the principles of rock 
behavior under load and monitoring the performance of underground excavations during 
construction (Chang 2001). NATM is often misunderstood to be a construction technique; 
some even regard the use of shotcrete as NATM. In fact, an NATM construction process 
typically includes the following tasks: geologists record the conditions of excavation 
faces on geological sheets, adopting specific rock mass classification systems (such as 
 12
Overall Geological
Survey
Start
Site Geologic
Investigation
Rock Mass Classification
Establishment
Supporting System
Design
Tunnel Driving and
Construction
Rock Mechanical
Logging and
Rock Mass
Classification Insitu
Supporting System
Selection Insitu
Supporting/
Construction
Is supporting status
O.K ?
Monitoring
Strengthening of
Supporting Systems
Is orginal design
appropriate ?
Is difference between
original and feedback
design significant ?
OK
No
Yes
No
Feedback Design
Yes
No
Analytical
Modeling
Fig. 2.1 Classical flow of NATM construction. 
 14
support system, to confirm the suitability of the tunnel support.  
The “2D geotechnical map” shows every section and wall for every digging step in 
the tunnel. Using the tunnel axis as the standard length, this view stretches out the two 
sidewalls from bottom to top (as shown in Fig. 2.2) in the same plane as the starting point 
of the arch-line (Shih 1997). The 2D geotechnical map can be used not only to review the 
cause of disasters – should any occur – such as a roof collapse or water inflow during 
tunnel construction, but it can also serve as the basis of design alterations, helping 
engineers to evaluate geological conditions at the front before further construction. 
 
 
Fig. 2.2 “2D geotechnical map” diagram 
 16
(3) Industrial and Commercial Applications: Nowadays image processing technology has 
been widely adopted in the quality control stage of industrial production. For example, 
image processing could detect surface defects on a copper plate, automatically inspect 
and test a system of products, and so on. Commercially the technology has even been 
used to fit clothing and demonstrate hair-styling. (Xlan et al. 1990; Sun & Tsai 1992; 
Wen 2003) 
(4) Communication Application: Video telephones and real-time video conferencing, 
which use Internet networks and image processing technology to complete image 
transmission and enhance image quality. (Lee 2000; Wang 2000; Liu 2003) 
(5) Security Systems: Image technology instantly identifies fingerprints, allowing people, 
for example, to use their unique fingerprint instead of a duplicable key. (Yang 2000; Tsai 
2000; Ho 2003; Li 2004) 
(6) Medical Engineering: Physicians employ image processing to assist with diagnoses as 
they consult X-rays, ultrasonic images, or infrared-ray imaging. Pathological changes of 
tissues and organs can be viewed more accurately through image synthesis, analysis, 
identification, 3-D reconstruction, and so on. The computerization of medical images is 
divided into different parts, such as: the intake of various medical images and their output 
format integration, database management of cases, images and sounds, the medical image 
storage and transmission system, the establishment of an integrated medicine network, 
the processing and analysis of various medical images, expert systems for 
diagnosis-assistance, and user interface tools. (Yang 1994; Chang 1998; Verma & Zakos 
2001; Hsu 2002; Tzeng 2004) 
In the recent years, image processing technology has also been applied in the field 
of civil engineering. Considerable efforts have also been made in automatic recognition 
 18
2.4 Summary 
Using various image processing technologies, we can obtain record and analyze 
not only the images visible to the naked eye, but also invisible data. In the past decade 
some researchers have endeavored to improve tunnel engineering operations in order to 
shorten the duration of tunnel excavation, improve the accuracy of geological evaluation, 
and reduce the amount of paperwork. The ultimate aim would be an automated 
geological record. However, the application of image processing to tunnel engineering 
still remains immature. In most cases where it is employed now, digital images are used 
merely to record and store the tunnel excavation face image. Follow-up processing and 
analysis have not yet been achieved.  
It is hoped that the discussion and application of this research will pave the way to 
more efficient digital image processing technology. The basic theory and application of 
digital image processing will be introduced in detail in the following chapter. 
 
 20
In tunnel engineering, critical weak planes such as bedding planes, joints, faults, 
shear zones, and folds are encountered.  These are discussed in the following sections. 
3.1 Bedding Planes 
During the sedimentation process of a rock mass, interfaces are formed due to the 
differences in rock properties or similar properties but different particle sizes (fine or 
coarse).  For example, after the sedimentation process has been in progress for a certain 
period of time, some coarse sands become fine mud.  As a result, the coarse sands form 
sandstone, while the fine mud forms mudstone or shale; subsequently, a significant 
interface will be formed between the sandstone and shale.  This is called the bedding 
plane.  In addition, we can often observe alternating sedimentation of the sandstone and 
the mudstone in the hills zone; such a formation is also known as the alternation of 
sandstone and shale, refer to the bedding-plane diagram in Fig. 3.1(a).  In addition, a 
natural interface may be formed due to changes in the environment of the sedimentation 
or volcanic activities within different phases, etc. (Hung 1990; Shih 1997)  
   
(a)                                      (b) 
Fig. 3.1 Bedding plane diagram (a) bedding planes formed by the sedimentation of 
different materials (b) cross-bedding. (Shih 1997) 
Sandstone
Bedding Plane 
Shale  
Limestone 
 22
adjacent joints in a joint set can range from several centimeters to several meters (Lin 
2002). On occasion, more than two joint sets may be formed in a single rock mass, as 
shown in Fig. 3.2 
Once a joint has occurred, the shear strength at the joint surface will generally be 
lower than that of the intact rock mass.  Most joints are unclosed gaps; thus, in addition 
to high permeability, weathering occurs easily and causes discoloration, softening, 
fracture, or even mixing with mud. 
 
Fig. 3.2 There are two joint sets (layers 7 and 8) in the rock mass (Hung 1990).  
 
3.3 Fault and Shear Zone 
A fault is regarded as fracture deformation.  When a rock is subjected to a 
massive tectonic stress, relative displacements occur across fracture surfaces, such as the 
up-down, left-right, and forward-backward movements.  Such fracture surfaces are 
called fault planes, and they may have clear sharp fracture surfaces.  However, these 
fracture surfaces are mostly fractured zones with variable thicknesses.  Hence, such 
zones are called fault zones.  Fault zones normally consist of fragments and breccias of 
rocks from both sides of the fault, and sometimes they may contain several sub-faults in 
the interior.  In addition, the fault plane can intersect the rock mass at a variety of angles.  
 24
compression of the crust.  Further, they can be categorized into left-lateral faults and 
right-lateral faults, as shown in Fig. 3.4 (c) and (d).  
Once a fault has occurred, it usually causes the rock to be considerably more 
fractured, and this further increases the weathering activity.  If the slip of the fault 
continues, the fractured rocks are crushed and become fault breccia with specific 
thicknesses.  Alternatively, they may be ground further and become fault gouges.  As a 
result, the strength of the rock mass is decreased and its permeability is increased.  This 
compromises the stability of the rock mass.  
A shear zone (Hung 1990; Yang 1994) may have several sets of slip planes or shear 
planes that intersect over a certain area.  However, some scholars (Wu 1982) believe 
that shear zones are zones where rocks slips intersect each other similar to the case of a 
fault; however, such apparent and significant developments do not occur, as shown in Fig. 
3.3(c). 
 
 26
if the angles of the two limbs of a fold are similar and the fold has a perpendicular axial 
plane, it is called a “symmetric fold.”  On the contrary, if the angles of the two limbs of 
the fold are different, it is called an “asymmetric fold.”  
 
(a)                          (b) 
Fig. 3.5 (a) Anticline and (b) Syncline. The directions of the arrows represent the  
direction of younger rock strata. (Yang 1994) 
 
Once a fold has occurred, it is an irreversible structural change that also can cause 
other phenomenon in the rock; for example, since the slipping phenomenon occurs in 
between the layers, the limbs or hinge of the fold may crack and geological structures 
such as cleavages or joints are formed.  Therefore, the rock becomes more fragile and 
the rock mass slides down easily, thus, leading to the easy infiltration of groundwater. 
 28
 
 
Fig. 4.1 A 2D digital image diagram 
 
However, image processing is not a one-step process. We are able to differentiate 
several steps which must be performed one after the other until we can extract the data of 
interest from an observed image (Gonzalez & Woods 1987). Common image processing 
operations are shown in Fig. 4.2. First, the digital images are obtained by a camera. Then, 
selecting a suitable procedure depends on the aim of image processing application. For 
example, image recognition (or object inspection) can be applied to identify (or inspect) 
the objects of interest. In general, this is a complex procedure requiring a variety of steps 
that successively transform the iconic data to recognition information. So the image 
recognition process requires the use of tools such as image enhancement, image 
segmentation, feature extraction, pattern recognition, and so on. The details relating to 
image processing technologies at different phases are introduced in the following 
sections.   
 30
Image
Enhancement
Frequency_Domain
Point
Processing
Spatial_Domain
Image Negative
Image Binary
Gray Level
Transformation
Low_Pass Filter
Image Averaging
Image Subtraction
Histogram Equalization
Histogram Modification
Histogram
Processing
High_Pass
Filter
Butterworth High-Pass Filter
Idel High-Pass Filter
Butterworth Low-Pass Filter
Idel Low-Pass Filter
Contrast Adjustment
Amplitude Adjustment
Brightness Adjustment
Histogram Specification
Local Enhancement
Others
Variation Equalization
Sharpening
Filter
Smoothing
Filter
Low-Pass Filter
Derivatives Filter
High_Frequency Emphasis Filter
High-Pass Filter
Median Filter
Homomorphic
Filter  
Fig. 4.3 Image enhancement methods. 
Point enhancement is an image enhancing technique that directly revises the gray 
levels of individual pixels, without considering the effect on surrounding pixels. Basic 
point image enhancement methods perform addition and subtraction on the gray level 
value of each pixel or eliminate some specific mingled noises. Typical point image 
enhancement procedures include image negation, amplitude adjustment, contrast 
adjustment, and brightness adjustment, among others (Green 1983; Jain 1989; Pratt 
 32
 
Fig. 4.5 The operation of the 3x3 mask 
 
Spatial-domain-based image enhancement techniques are usually divided into two 
categories: smoothing filters and sharpening filters. Smoothing operations are used 
primarily to diminish spurious effects that may be present in a digital image and to 
reduce noise in an image. They are frequently composed of low-pass filters, median 
filters and high-pass filters and each concentrates on a specific energy frequency domain. 
For example, low-pass filters emphasize the energy of a typical image concentrated 
primarily in low-frequency components. Using smoothing filters, some noises in a 
complex image may be removed and significant image characteristics may be more 
easily identified. In contrast, sharpening filters are useful primarily as enhancement tools 
for highlighting edges in a digital image. The edges and details of image characteristics 
can be more readily seen through sharpening filters. Median-pass and high-pass filters 
have stronger ability to sharpen edges in digital images, but they may also eliminate 
features or pixels required for reservation due to their comparatively aggressive 
 34
Image
Segmentation
Boundary
Detection
Thresholding
Region Oriented
Adaptive Thresholding
Boundary Tracking
Gradient Thresholding
Optimal Thresholding
Region Splitting/
merging
Pixel Region Growing
Edge Detection
Sobel Operators
Canny Operators
Roberts Operators
Prewitt Operators
Laplacian_Gaussian
Boundary Detection
Kirsch Operators
Global Thresholding
 
Fig. 4.6 Image segmentation methods. 
 
Thresholding is one of the most important approaches to image segmentation. To 
illustrate the basic concept of thresholding, let us suppose a gray level histogram as 
shown in Fig. 4.7. The histogram corresponds to an image, f(x, y), composed of light 
objects on a dark background, such that object and background pixels have gray levels 
grouped into two modes. One can select a threshold T that separates objects from 
background. A threshold image f(x, y) can be expressed as follows: 
( ) )2.4(
),(0
),(1
,
⎭⎬
⎫
⎩⎨
⎧
≤
>=
Tyxif
Tyxif
yxf  
Pixels labeled 1 correspond to objects while pixels labeled 0 correspond to the 
background. As a matter of fact, the method is binary. Good results can be achieved 
when there are simple objects against a background with clear contrast.   
 36
Region-oriented segmentation partitions an image into several sub-regions Ri.  
pixels within a sub-region have certain characteristics; for example, the grey values are 
within the same range. This is defined as follows (Miao 1999): 
(1)U
n
i
i RR
1=
=  
(2) Ri is a connected region, i = 1, 2, . . . , n 
(3) φ=I ji RR  for all i and j, i≠j 
(4) ( ) TRUERP i =  for i = 1,2, . . . , n 
(5) ( ) FALSERRP ji =U  for i≠j 
Where ( )iRP is a logical predicate defined over the points in set Ri, and φ  is the 
null set. However, methods like region growing by pixel aggregation and region splitting 
and merging are based on the region-oriented segmentation which we do not elaborate 
here. Please refer to related literature if interested (Gonzalez & Woods 1987; Jain 1989).  
There are many ways of dealing with boundary detection-based segmentation. The 
first-order or second-order derivatives are mainly used for boundary detection. For 
example, edges are detected based on the first-order derivative. Then smaller edges are 
connected to a boundary by applying the directions of the first-order derivative. Most 
boundary detection adopts the aforementioned method. As to the first-order and 
second-order derivatives for image f(x, y), we define them as follows:  
( ) ( ) ( ) )3.4(,,, jyxf
y
iyxf
x
yxf ∂
∂+∂
∂=∇  
( ) ( ) ( ) )4.4(,,,
2
2
2
2
2 jyxf
y
iyxf
x
yxf ∂
∂+∂
∂=∇  
 38
( ) ( )
( ) ( ) )7.4(22
)6.4(22
741963
321987
ppppppG
ppppppG
y
x
++−++=
++−++=
 
where Gx and Gy represent the components of the gradient vector in the x direction 
and in the y direction. A 3x3 mask as shown in Fig 4.8(a), P5 represents the gray level at 
location(x, y) and the other Pi represents the gray level of the 8-neighbors of (x, y). The 
difference between the third and the first rows of the adjacent regions to a 3x3 mask is 
similar to the derivative in the x direction as shown in Fig 4.8(b) while the difference 
between the third and first columns shown in Fig 4.8(c) is similar to the derivative in the 
y direction. Regarding the spatial algorithm, only multiplication and addition of grey 
values of pixels can be calculated due to the adoption of the mask. The above calculation 
is efficient. However, the Sobel edge detection is unsuitable for image detection at a 
tunneling site based on our review of relevant literature (Jiang 2000; Wu 2000). The 
processing flow relating to Sobel edge detection is shown in Fig 4.9.   
 
P1 P2 P3
P4 P5 P6
P7 P8 P9
-1 -2 -1
0 0 0
1 2 1
-1 0 1
-2 0 2
-1 0 1
(a) (b) (c)
 
Fig. 4.8 Sobel operation diagram:(a) a 3x3 mask (b) the x direction(c) the y direction. 
 
 40
those, the Fourier transform is the most broadly applied. The Fourier transform pair can 
be defined by the equations (4.8) and (4.9): 
( ) ( ) )8.4(dxexff xiωω −∞
∞−
∧ ∫=  
( ) )9.4()(
2
1 ωωπ
ω defxf xi∫∞∞− ∧=  
Equation (4.8) represents the Fourier transform of f(x) and equation (4.9) represents the 
inverse Fourier transform. 
In general, there is huge quantity of data in an image. To enhance the efficiency of 
calculations, a Fast Fourier Transform (FFT) has been proposed (Gonzalez & Woods 
1987). Its advantage lies in reducing calculations and employing simple operations with a 
calculator. Many real-world applications such as radar, sonar, image processing, etc. 
adopt spectrum calculations. Signals which are time-varying are categorized as 
non-stationary signals.  The spectrum converted from signals by the Fourier transform 
is unable to completely present the actual variables of signals. That is to say, the 
so-called “irregularity”, of signal f (x, y) in the spatial domain is suddenly regarded as 
high-frequency signal. The changes in frequency through the conversion of the Fourier 
transform are distributed on the overall frequency axis. Therefore, the positions of spatial 
domain become very important (Gonzalez & Woods 1987; Froese 1996).   
To deal with time-varying, non-stationary signals, several signal processing 
techniques have been established in the past decade. First, Gabor (Gabor 1946; Graps 
1995) pointed out the concept of windowed Fourier transform (WFT) which is 
augmented with a window function g(x).  The function is also call Short-Time Fourier 
Transform (STFT) defined in the following formula (4.10): 
 42
 
Fig. 4.10 The time-frequency plane decomposed with windowed Fourier Transform. 
 
To mitigate the disadvantage of fixed resolution by applying WFT, we have 
chosen wavelet transform with the capability to make multi-resolution analysis (MRA) as 
another theme for our study. The concept of wavelet transform (WT) is similar to that of 
WFT.  Both methods conduct analysis on image functions through a window function, 
but there is one significant difference. The window function in WFT cannot be changed, 
and therefore the resolution is fixed. But wavelet transform makes use of dilations and 
translations of a unique function to expand a signal into a family of functions. Hence, the 
wavelet transform can be viewed as a useful tool for function analysis, as its elements are 
known to have good localization both in the spatial and frequency domains. The size of 
the window can be varied as shown in Fig. 4.11. The wide windows which are used to 
view low frequencies are precise about frequency but vague about time. The narrow 
windows used to look at high frequencies are precise about time but vague about 
frequency. Consequently, WT provides resolutions without being fixed. This feature is 
called multi-resolution analysis.  
 44
4.4 Wavelet Theory  
In recent years, wavelet theory (WT) has been widely used in various signal 
processing (such as speech and images) (Antonini et al. 1992; Averbuch et al. 1996) and 
in numerical analysis; many other applications of the theory are currently being studied. 
There are several reasons for the successful applications of the wavelet theory. The 
principal reason is that wavelets are a very simple mathematical tool with a great variety 
of possible applications. Most important, the wavelet provides good localization both in 
spatial and frequency domain and it also provides a significant advantage in the manner 
in which the wavelet is analyzed according to scale. However, the scale that we use to 
look at the data plays a special role. Wavelets process data at different scales or 
resolutions. If we look at a signal with a large window, we would observe gross features.  
Similarly, if we look at a signal with a small window, we would observe fine features 
(Graps 1995). 
As stated above, the wavelet’s great flexibility make it a desired processing 
technique in many situations, and thus merits attention here. In the following, we will 
further discuss the concepts of wavelet multi-resolution.  
4.4.1 Multiresolution Analysis 
Similar to traditional orthogonal expansion, the purpose of wavelet analysis is to 
span a finite-energy real signal completely using a set of orthogonal base functions. 
These basis functions must have properties of multi-resolution analysis, such as 
containment, completeness, scaling and other basis properties. 
Basically, the multi-resolution analysis presents a function )()( 2 RLxf ∈ by a 
sequence of successive approximations, each of which is a smoothed version of f(x). 
 46
From property (1), we know ( )xfPj 1−  is a better approximation than ( )xfPj for 
all Zj∈ .  So the sequence Vj is called the multi-resolution approximation. When j 
increases, Vj becomes spaced at a lower resolution. For each nZj∈ , let Wj be the 
orthogonal complement of Vj in Vj-1. Since 1−⊂ jj VV , the space Vj-1 can be decomposed 
into the spaces Vj and Wj; then, Vj-1= Vj + Wj  and jj VW ⊥ (see Fig. 4.12). This satisfies 
the following relationship:  
)14.4(1 jjj WVV ⊕=−  
Where⊕ denotes the direct sum. So, the sum of an element in Vj and another element in 
Wj is equal to each of the elements of Vj-1. 
 
Fig. 4.12 The representation of a sequence of closed subspaces Vj and Wj  
(at different resolutions) 
 
Beside the scaling function, wavelet function ( )xψ  exists whose dilations and 
translation can generate a Riesz basis ( ){ }
Zkkj
x ∈,ψ to expand the space Wj, and therefore 
have the following relationship: 
 48
 
Fig. 4.13 Pyramid architecture of decomposition and reconstruction of wavelet transform. 
(a) Decomposition and (b) Reconstruction 
 
4.4.2 Multi-scale Edge Detection 
As we have mentioned previously, the multi-resolution (MRA) of wavelet indeed 
provide a great advantage which can be adjusted according to problem complexities. 
Hence, some researches try to combine the MRA and edge detection to effectively 
extract significant characteristics. Next, we will briefly review the development of the 
multi-scale edge detection. 
Edge detection methods can be broadly categorized into spatial domain and 
frequency domain. The basic concept of frequency domain is that edges in f(x, y) can be 
expressed by using a function that emphasizes the high frequency components. That is to 
say, the method transforms the expression from the spatial domain to the frequency 
 50
maximum properties of the first directional derivatives at the point of an edge. Also, he 
considers that edge detection is characterized as a constrained optimization process 
which has to fulfill three criteria. The three criteria are good detection, good localization, 
and low spurious response.  So, above-stated methods provide a capability of removing 
noises on detecting images.  
Marr and Hildreth (1980) developed a variable-scale Laplacian operator in 1980, 
which can locate the main features of an image at different resolutions. Applying the 
Laplacian to Gaussian filters characterized by different variances and zero-crossing 
detection techniques, the edge points can be identified. Multi-scale edge detection is 
proposed first of all to detect image features at different resolutions.   
We can clearly know that a good edge detector must possess the capability to 
identify an edge from the variation of gray levels of any scale.  Therefore, 
multi-resolution and wavelet-based methods for image edge detection have received 
considerable attention in recent years.  A new edge detection filter based on wavelet 
transform has been proposed by Mallat and Zhong (1992).  This method combined the 
properties of a wavelet transform and a gradient method to form a multi-scale edge 
detector, that is, the first derivative of a cubic spline function is used to detect the local 
extreme values of a wavelet transform as edge points.  Typically, successively coarser 
scales of the original image are produced by smoothing operations and down-sampling, 
and information is fused from several scales to detect an image.  This is the reason why 
the concept of multiscale edge detection is very popular recently. 
 52
Pattern recognition systems are quite complex, and procedures must be broken 
down into sub-problems. According to conventional image processing procedures (see 
Fig. 4.2), a complete image recognition process (Green 1983) can be further divided into 
3 stages as shown in Fig. 4.15: low-level processing, intermediate-level processing and 
high-level processing. Low-level processing aims to strengthen image features, which in 
turn facilitates follow-up image feature extraction of the result. Subsequently, through 
feature descriptions and representations, the relation is established between image feature 
and object. Together with analytic techniques for various types of pattern recognition, 
image recognition is achieved. The phrases “descriptions and representations” and 
“image recognition” are important issues in the setup of a complex computer vision 
system.  
 
 
Fig. 4.15 A complete solution procedure to a pattern recognition problem 
 
Pattern recognition falls under the “last procedure” of digital image processing (see 
Fig. 4.15). This process regard as general intellectual understanding. Based on common 
recognition theories, it is divided into two types: 1. Supervised learning method; and 2. 
 54
This is frequently called “Conditional Average Risk or Loss” in decision theory. 
The following equation is attained using probability theory:  
)19.4()()(
1
ii
M
i
ijj wPwxPLr ∑
=
=  
where p (x|wi) represents the probability density function of class x in wi, while p (wi) is 
the occurrence rate of wi class.  
Then, loss L is taken into consideration. Under correct decision-making, loss is 
normally set as 0; and under incorrect decision-making, loss is set at 1. Thus, 
)20.4()()()()( ijj wPwxPxPxr −=  
When an arbitrary x is designated, there are M class choices. If we calculate the 
loss of each class using x as the minimum class of loss to minimize the total mean loss, 
this type of classification is known as Bayes Decision Theory. In other words, if j = 
1,2,…,M , and that j ≠ i is ri(x) < rj(x) , then, x is classified under wi class. Based upon 
the above, a decision function is defined as:   
)21.4(,...,2,1)()()( MjwPwxPxd jjj ==  
If all j ≠ i, di(x) > dj(x) , then, x is classified under wi class.。  
 Artificial Neural Network  
In recent years, Artificial Neural Networks have been extensively applied in 
various engineering and scientific areas including image recognition and predictions. A 
review of neural network developments shows that neural mathematical models proposed 
by McCulloch and Pitts to be the predecessors of artificial neural networks. Subsequently, 
 56
CHAPTER 5 
TUNNEL EXCAVATION FACE 
CHARACTERISTIC EXTRACTION 
In this chapter, a more effective method for extracting features from a tunnel image 
is presented. In Section 5.1, introduction to how to obtain the tunnel excavation face 
images. The results of the image features extracted from spatial-domain-based edge 
detection and multi-scale edge detection are discussed and evaluated in Section 5.2. 
Finally, in Section 5.3 we also propose a post-processing method for extracted tunnel 
geological features and Section 5.4 concludes the work with a brief discussion.  
5.1 Introduction 
This chapter focuses on how to apply digital image processing techniques to 
extract important geological characteristics from tunnel excavation face images and then 
to identify these characteristics with pattern recognition. We must first obtain one or 
more images to process.  
Digital images for excavated tunnel faces are first taken by digital cameras and 
then converted and standardized in a notebook computer prior to subsequent image 
analysis. The image characteristics of tunnel excavation faces are most complicated than 
synthetic or texture images. Also, in tunnel excavating, some circumstances could result 
in the difficulty of the image feature extracting, such as uneven surfaces of excavation 
face, boring or light deficiency, and so on.  Therefore, extracting objects or other 
interesting features from a tunnel image is further discussed in next section. 
 
 58
filter with 3x3 or 5x5 masks (as shown in Fig. 4.4) to perform the image enhancement. 
Using this process, some noise in a tunnel face image may be removed and geological 
characteristics may be more easily identified. 
After the image enhancement processing, another image preprocessing task is 
image edge detection. According to the definition of the edge, an edge usually appears in 
the boundary between two regions with relatively distinct gray-level properties. 
(Gonzalez and Woods 1987; Pratt 1991) Therefore, edge detection is by far the most 
common approach for detecting meaningful discontinuities in gray level. In this research, 
the Sobel approach was adopted for tunnel excavation face images. Sobel edge detection 
uses a high-pass filter to remove the smooth parts in images; the remaining parts 
represent pixels where the gray levels are changing rapidly, that is, at pixels that lie on 
edges. A spatial image processing framework is depicted in Fig. 5.1. From our review of 
literature (Jiang 2000; Wu 2000), we know that a spatial image processing is not 
applicable for tunnel face images. Interesting features such as joints and cracks can be 
approximately extracted, but for complex images, such as tunnel faces, some noises were 
also filtered. This means that the Sobel operator could not provide satisfactory results on 
complex images.  
Our task therefore is to overcome the limitations of the Sobel operator and increase 
the effectiveness of edge detection for complex images. In this research, multi-scale 
image edge detection processing is suggested and explored. 
 
 60
multi-scale image edge detection was derived..  
In (Mallat and Zhong 1992), Mallat and Zhong combined the properties of a 
wavelet transform and a gradient method to form a multi-scale edge detector. In their 
work, the first derivative of a cubic spline function was applied to detect the local 
extreme values of a wavelet transform as edge points. Here, we simply describe the 
principle of the multi-scale detection of edges. We consider a smoothing function φ(x) 
whose integral is equal to 1 and that converges to 0 at infinity. (A typical example of such 
smoothing function is the Gaussian function). In order to obtain smoothed versions of a 
signal at different scales, we introduce the smoothing function φs(x) at scale s: 
( ) )1.5(1 ⎟⎠
⎞⎜⎝
⎛=
s
x
s
xs ϕϕ  
Multi-scale edges are defined as the modulus maxima points of the first derivative 
of smoothed versions of the signal. They are inflexion points of the filtered signal. If the 
smoothing function is differentiable, the first derivative of a function f, smoothed at scale 
s can be expressed by: 
( )( ) ( ) )2.5(1
2 ⎟⎠
⎞⎜⎝
⎛∗=∗=∗
s
x
dx
df
s
x
dx
d
fxf
dx
d s
s
ϕϕϕ  
where * denotes the convolution product. 
This concept of multi-scale edge detection can be also expressed in terms of 
wavelet transform. Here, we introduce the wavelet function )(xψ  and the wavelet 
function )(xsψ  at scale s: 
)3.5(1)(),()( ⎟⎠
⎞⎜⎝
⎛==
s
x
s
xx
dx
dx s ψψϕψ  
 62
Let ),(02 yxfS  be the finest resolution and ),(12 yxfS be the coarser resolution of 
f(x, y).  Here, we assume )(
2
nL j  and )(2 nH j  denote the discrete filters obtained by 
putting 12 −j  zeros between all two consecutive coefficients of L(n) and H(n), 
respectively. The algorithm of the 2D discrete wavelet transform (DWT) can be 
illustrated as follows (Hsieh 1996): 
;0);,(),(02 == jyxfyxfS
[ ]
[ ][ ]
;
;1
)7.5(;)(),(),(),(
)6.5(;)(),(),(),(
)5.5(;)(),(),(),(
2222
22
2
2
22
1
2
1
1
1
end
jj
nLnLnmfSnmfS
nHndnmfSnmfW
ndmHnmfSnmfW
doJjwhile
jjjj
jjj
jjj
+=
∗=
∗=
∗=
<
+
+
+
 
Here, J denote coarsest resolution, [ ])(),(),( nbmanmI ∗  specifies two separate of 
convolutions with respect to m and n, respectively, of an image I(m, n) using the 1-D 
filters a(m) and b(n).   
Next, we will use ),(12 yxfW j  and ),(
2
2 yxfW j to calculate related information 
about the detected edge points from an image. An important feature can be found, that is, 
the local maximum in the position of the horizontal detail image ),(12 yxfW j  and the 
vertical detail image ),(2
2
yxfW j  corresponds to the image edge point in the horizontal 
and vertical directions. At scale 2j, the modulus of the gradient vector of the input image 
f(x, y) is defined as follows: 
)8.5(),(),(),(
22
2
21
22 yxfWyxfWyxfM jjj +=  
and the orientation of the gradient vector is: 
 64
Tunnel Excavation Face Images
Image Standardization
Extract High-pass 
signals at each 
decomposition scale
Low-Pass
Signals
High-Pass
Signals
Smoothed Image  
Loop
Gradient Calculation
Optimal Threshold Selection
Geological Feature Extraction
From Excavation Face Images
Wavelet Decomposition
 
Fig. 5.2 Framework of wavelet-based multi-scale edge detection 
 66
5.3 Post-Processing for Extracted Geological Feature 
To improve the effectiveness of image processing, we further propose a 
post-processing algorithm to examining the features of excavation face images. This 
algorithm contains three processing procedures: thinning, split-branch and break-point, 
and local-linking. A complete procedure for extracting tunnel geological features is 
shown in Fig. 5.4.  First, Zhang and Suen’s thinning algorithm (Zhang and Suen 1984) 
is adopted to thin and reduce noise. Next, a split-branch and break-point process deletes 
the edge points that satisfy some special conditions, such T-junctions, cross junctions, 
and highly-curved edge lines. Finally, we again apply local-linking algorithm which can 
improve the continuity of displayed edges. The post-processing algorithm is described 
further in the following section. 
5.3.1 Thinning Processing 
In general, the edge detection process locates many edges that usually appear fat 
and broken. Since they are ill-formed, some post-processing is required to identify the 
points of real edges. First, the thinning process captures the skeleton of the binary image. 
In a thinned image, the width of the skeleton is one pixel. By analyzing the skeleton, we 
can accurately identify the features using subsequent processes, e.g. pattern recognition. 
In the literature regarding thinning, Zhang’s algorithm is one of the few that 
maintains the original structure. However, the thinning process assumes certain 
constraints (Zhang and Suen 1984; Gonzalez and Woods 1987): 
(1) The deletion of the points does not remove end points.  
(2) The deletion of the points does not break connectedness.  
(3) The deletion of the points does not cause excessive erosion of the region. 
 68
Tunnel Excavation Face Images
Image Standardization
Extract High-pass 
signals at each 
decomposition scale
Low-Pass
Signals
High-Pass
Signals
Smoothed Image  
Loop
Gradient Calculation
Optimal Threshold Selection
Geological Feature Extraction
From Excavation Face Images
Wavelet Decomposition
Thinning 
Split-branch & Break-point 
Local-linking 
Post-Processing
 
Fig. 5.4 The complete procedure of tunnel image geological feature extracting 
 70
 
(a) 
 
(b) 
Fig. 5.6 Comparison of experimental results for thinning processing. 
(a) The binary image by using edge detection (b) The thinned image result 
 
 72
 
Fig. 5.8 T-junction and cross-junction Forms that the center point should be deleted. 
 
In addition to the split-branch algorithm, the application of a break-point algorithm 
is important as well, especially in complex images such as tunnel excavation faces. 
Sometimes overly crooked edge segments will be present, and in order to analyze every 
edge segment accurately (measuring direction, length, etc.) we must adopt break-point 
processing. The process is in fact very simple: the cosine-law, expressed in Fig. 5.10, is 
applied. When the angle of any edge point on edge segments is an acute angle, calculated 
by cosineα formula, delete the edge point. A test result is shown in Fig. 5.11. After 
processed through the above procedures, it is indeed useful for improving the situations 
of T-junction, cross-junction or overly crooked edge segment, etc.  These edge 
segments remained are considered as more important geological characteristic, and are 
also the objects that we want to analyze and identify in follow-up. 
 
(a) Normal edge points (b) T-junction edge points (c) Cross-junction edge points 
 74
 
Fig. 5.10 Cosine-law diagram 
 
(a) 
 
(b) 
Fig. 5.11 Experimental results using break-point processing (a) The image after thinning and 
     split-branch processing (b) Test result of break-point processing on the above (a)image 
A 
B 
C 
α 
β γ
Cosine-law formula as follows: 
bc
acb
2
cos
222 −+=α  
 76
nearest position (such as P1 in Fig. 5.12). The nearest position means that 
the across point presents within the threshold value of distance of the two 
edge segments.    
 
 
Fig. 5.12 The two edge segments across at one point diagram 
Though noises or other factors can cause a complete edge segment to be divided 
into several short edge segments, these shorter edge segments all lie in the same direction. 
For example, as Fig. 5.13(a) shows, a set of approximately horizontal bedding planes and 
two sets of joint appear on the tunnel excavation face. The bedding planes mark (1) and 
mark (2) have the same directional characteristics.  Mark (3) and mark (4) comprise the 
first joint with the same direction. Mark (5), mark (6) and mark (7) are the second joint. 
Therefore, we first judge whether they are the same object using Criterion 1. Criterion 1, 
however, is not a stringent enough requirement on its own. As Fig. 4.13 (b) shows, the 
linkage of mark (1) and mark (2) is incorrect. Although mark (1) and mark (2) are 
bedding planes with the same directionality, they will become two separate, independent 
edge segments after edge detection. In order to avoid linking together edge segments 
with different positions we must utilize Criterion 2 and Criterion 3. When the distance of 
the two edge segments is very closely and is across at one point, and this point is located 
in the nearest position, we link the edge segments together. 
 78
Synthesizing the narration above, this algorithm must be performed as follows: 
Step1. Read all edge segments on the image, and calculate and store relevant information 
for every edge segment, including starting point coordinate, terminal point 
coordinate, length, and direction. 
Step2. Arrange and store all edge segments from the longest to the shortest. 
Step3. Begin with the longest edge segment, which will be called the main edge segment 
Emain. When the direction of Emain is close to that of another edge segment Ej, j = 
1…n, as in formula (5.10), indicating that Emain and Ej may be in the same 
classification, mark them. If not, choose the next edge segment Ej+1, j = 1…n, and 
carry on, using formula (5.10), until the main edge segment Emain has been 
analyzed with all other edge segments. 
Step4. Then, analyze the edge segments marked in Step 3. First, calculate the shortest 
distance between Emain and the other edge segments. Find the segments the 
shortest distance away and judge whether they lie less than the threshold value of 
distance from Emain, as formula (5.11) shows. If so, carry on to the next step. If not, 
go to Step 6. 
Step5. After finding the two edge segments with the same direction that are the closest, 
ascertain whether these two edge segments lie across from each other at one point 
and that this point is the nearest point. If it is, link the two edge segments; if not, 
do not link them. 
Step6. Go back to Step3, select a new main edge segment Emain, and carry out Steps 3 to 
6, until the judgments for all edge segments have been finished. 
 80
5.4 Summary 
In this chapter, we first applied a wavelet-based multi-resolution edge detector, and 
then adopted the proposed post-processing to resolve the tunnel image features. The 
inherent multi-resolution nature of a wavelet provides more flexibility in edge detection 
for image analysis. From the experimental results, we propose that the image feature 
extracting approach be divided into two phases, which provides better results than those 
obtained using only a wavelet-based edge detection method. 
 
 82
According to image interpretation, its purpose is to define the recognized results as a 
whole according to the system’s domain knowledge and generated applicable linguistic 
descriptions. 
In order to accomplish these objectives, in this chapter, we mainly discuss an 
algorithm to recognize the geological characteristics of a tunnel excavation face.  The 
complete procedure for this process is shown in Fig. 6.1. Then, we discuss how the 
recognition algorithm for tunnel excavation face images is established. 
Image  
Acquisition
Image
Standardization
Characteristics
Edge Detection
Characteristics
Post-Processing
Characteristics
Analysis & Description
Characteristics
Edge Segments
Geology
Characteristics Type
Characteristics 
Identification
Image Analysis
Image Recognition
Image Interpretation 
 
Fig. 6.1 The flow diagram for tunnel excavation face image recognition 
 
 84
The tunnel geological characteristics are very sophisticated.  Thus, the algorithm 
for geological recognition logic analysis is divided into two steps.  In the first step, the 
analysis is made according to the following two criteria: (1) determine if the directions of 
edge segments are the same and (2) determine if the edge segment is sufficiently long.  
Next, to identify the geological characteristics, the analytical results obtained in the first 
step are used as the criteria for executing algorithm I or algorithm II.  For example, we 
group the edge segments with similar directions together and then determine if the 
longest edge segment of each group is sufficiently long (greater than a threshold value).  
If the length of the longest edge segment is greater than the threshold value, algorithm I 
is executed to identify the bedding planes, faults, shear zones, and folds.  If not, 
algorithm II is executed in order to identify joints and noise.  The detailed descriptions 
relating to the identification of the various geological characteristics are further described 
as follows. 
 Bedding Plane 
In Chapter 3, the geological features of a bedding plane were introduced.  Here, 
we analyze the characteristics of bedding planes from the viewpoint of image recognition. 
In general, bedding planes are supposed possessing linear geometric shapes.  The 
lengths of edge segments are usually long (indicating better continuity of edge segments). 
Hence, it can be regard as a long-edge shape. Furthermore, the bedding planes of the 
same group are parallel to each other in any direction.  Based on these characteristics, 
two criteria can be applied to identify bedding planes. 
(1) The direction of the edge segment 
Since bedding planes of the same group are oriented in the same direction, the edge 
 86
0.1 0.20 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1.0
correct
incorrect
Identification Result
α  
Fig. 6.3 Comparison of the test result for various reduction factor α 
 
From the above description, we suggest the following steps for the execution of a 
long-edge recognition algorithm:  
Step 1. Identify the longest edge segment from any one of the groups. 
Step 2. Determine if the longest edge segment is larger than the threshold value.  If yes, 
the edge segments of the selected group are considered as belong to a bedding 
edge.  Otherwise, the edge segments of the selected group are marked as 
“non-bedding edge.”  
Step 3. Repeat Step 1 and Step 2 to complete the identification for all the groups.   
 88
( ) )5.6(,
22
11
ba
cbyax
LAD
+
++=  
where D(A,L) represents the perpendicular distance between A (the intersection) and 
line L (bedding edge segment).   
 
Fig. 6.4 Edge segment intersects a bedding edge segment 
 
Based on the above, the algorithm for identifying a short-edge is as follows:  
Step1. Determine the direction of any non-bedding edge segment that is almost 
perpendicular to the direction of any edge segment of a bedding group.  That is, 
both edge segments meet the directional difference derived in equation (6.6). 
( ) ( ) ( ) ( ) )6.6(180 θθθθ ThNBBTh −<−<  
where B(θ) and NB(θ) denote the directions of the bedding edge segment and 
non-bedding edge segment, respectively.  Th(θ) denotes the direction threshold 
value which is usually in the range 30° ~ 90°.   
Step2. Apply equations (6.3) and (6.4) to identify any intersection between the 
non-bedding edge segments and the bedding edge segment.   
Bedding edge 
Real intersection
Edge 
Edge 
Edge 
Edge 
False intersection 
False intersection 
Bedding edge 
 90
Criteria 1: When there are two edge segments overlapping and almost parallel to 
each other, reduce the shorter edge segments.  
 
Fig. 6.5 The diagram of bedding edge segments.  
      (a) Before reducing. (b) After reducing. 
Step2. Analyze and calculate the number of layers of bedding edge segments according 
to the following steps. 
Step2.1. Divide the tunnel excavation face into four closed intervals (n = 1, 2, 3, 
and 4), as shown in Fig. 6.6.  Next, record the coordinates of the start 
point and end point of the bedding edge segments appearing in each 
closed interval.  
Step2.2. Count and mark the number of layers of bedding edge segments in each 
closed interval.  
Step2.3. Identify the bedding edge segment marked with different closed intervals 
and then corrects the number of layers of bedding edge segments. 
(a) 
(b) 
 92
 Fold & Shear Zone 
In this section, we discuss folds and shear zones.  From Chapter 3, we know that 
folds and shear zones have very different geological characteristics; folds buckle in wavy 
shapes with amplitudes that vary from several centimeters to several kilometers.  
Further, fold shapes vary greatly.  However, a shear zone is like a strip-shaped block 
that moves in a manner similar to that of a fault.  However, the real geometrical shapes 
of both folds and shear zones are not reflected in the image characteristics extracted 
through the image preprocessing. 
Although the effect of image extraction is not favorable, once these folds and shear 
zones have been detected through image edge detection, the extracted image 
characteristics are usually displayed as relatively shorter edge segments.  However, in 
the analysis of these image characteristics using the proposed geological recognition 
algorithm, these short edge segments are often regarded as noise.  We also found that in 
the areas where folds or shear zones exist, the distribution of the noise edge segments is 
more irregular and concentrated than that in other areas.  
Therefore, we use the number of noise edge segments (i.e., the probability 
distribution of noise) as the judgment criterion in the initial stage.  The shape of the 
noise distribution area is analyzed in order to judge whether a fold, a shear zone, or 
neither exists.  Based on the above discussion, we present the algorithms for the 
identification of shear zones and folds as follows.  
The algorithm for recognizing a polygon edge (i.e., shear zones)  
Step1. Calculate the total number of noise edge segments.  
Step2. Depending on the width and height of the image, we carry out large block division 
 94
0.1 0.20 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1.0
incorrect
correct
Identification Result
PTh（n）  
Fig. 6.7 Comparison of the test result for various PTh(n) 
 
Image Size Dividing numbers 
0~399 
400~599 
600~799 
800~999 
2 
3 
4 
5 
(a) The first division 
(b) The second division 
Fig. 6.8 Block division diagram 
(c) The third division 
 96
 
Fig. 6.9 Analysis of the spatial relation of the small blocks 
 
The algorithm for recognizing a waved-edge (i.e., fold) 
Step1. Identify the small blocks with relatively more noise by using the seven steps 
of the shear zone recognition algorithm. 
Step2. Reserve the important small blocks to aid the subsequent analysis by 
analyzing the spatial relation of the small blocks (this is the same as Step 8.1 
of the shear zone recognition algorithm). 
Step3. Identify the centerline of the geometrical shape in the area where short line 
segments are distributed.  However, before identifying the centerline, we 
must determine whether the geometrical shape in this area is oriented 
horizontally or vertically.  This operation is conducted using the following 
steps: 
Step3.1. Seek Xmin, Xmax, Ymin, and Ymax of the coordinates of the noise edge 
d1 > Threshold 
d2 < Threshold 
 98
 
Fig. 6.10 The centerline smoothness processing diagram. 
(a) Original centerline. (b) Centerline after smoothing 
 
Step5. The resulting variance is computed when the angle of the centerline changes.  
When the centerline is approximately a smooth straight line, this variance is 
fairly small.  In such areas, only the blocks of rock are comparatively 
fragmented; conversely, when the centerline is curved (e.g., concave curved 
line segments or protruding curved line segments), a waved-edge may exist 
in the area (i.e., folds).  
P1
P2
P3
P4
P5
P6
P1
P2′ P3′ P4′
P5′ P6′
P6
(a) 
(b) 
 100
(a) 
(b)  
Fig. 6.11 Test the proposed recognition algorithm with the edge image (Case I) 
(a) Before implementing. (b) After implementing. 
 
 
: Long-Edge (i.e., Bedding Plane) 
: Short-Edge (i.e., Joint) 
: Strip-Edge (i.e., Fault) 
: Waved-Edge (i.e., Fold) 
: Polygon-Edge (i.e., Shear Zone) 
: Noises  
 102
(a) 
(b) 
Fig. 6.13 Test the proposed recognition algorithm with the edge image (Case III).  
(a) Before implementing. (b) After implementing. 
 
: Long-Edge (i.e., Bedding Plane) 
: Short-Edge (i.e., Joint) 
: Strip-Edge (i.e., Fault) 
: Waved-Edge (i.e., Fold) 
: Polygon-Edge (i.e., Shear Zone) 
: Noises  
 104
fragmented rocks, including the length, direction, and distribution, are unable to convey 
the facts of the geology.  
 
(a) 
(b) 
Fig. 6.14 Test the proposed recognition algorithm with the edge image (Case IV). 
(a) Before implementing. (b) After implementing. 
 106
(a) 
(b) 
Fig. 6.16 Test the proposed recognition algorithm with the actual tunnel image (Case I). 
(a) Before implementing. (b) After implementing. 
 
 
: Long-Edge (i.e., Bedding Plane) 
: Short-Edge (i.e., Joint) 
: Strip-Edge (i.e., Fault) 
: Waved-Edge (i.e., Fold) 
: Polygon-Edge (i.e., Shear Zone) 
: Noises  
 108
(a) 
(b) 
Fig. 6.18 Test the proposed recognition algorithm with the actual tunnel image (Case III). 
(a) Before implementing. (b) After implementing, the result is “broken rocks, 
unidentifiable” 
 110
CHAPTER 7 
Conclusions and Recommendations 
In this dissertation, a systematic study of image processing including theory, 
operation, and application has been presented and discussed as it relates to tunnel 
engineering and construction. In this chapter, conclusions and recommendation will be 
addressed. 
7.1 Conclusions 
From a review of the literature, we know that geological logging and rock mass 
classification are two major tasks to be completed prior to NATM tunnel face excavation.  
Most excavation face conditions are presently logged and determined by manual visual 
investigation. Costly and time-consuming 2D geological maps may then be drawn to 
show the location and direction of weak planes. Our aim here is to overcome the 
limitations of these conventional approaches. The primary purpose of this study is to 
utilize image processing to assist geologists and tunnel project engineers in analyzing and 
evaluating significant geologic characteristics of tunnel excavation faces. 
The contributions of this research can be summarized as follows: 
1. A digital image can completely record geologic conditions during tunnel excavation. 
Human recording may permit errors or omissions.   
2. Owing to the complexities of natural object images like tunnel excavation faces, 
traditional spatial-domain-based edge detection may not effectively discern tunnel 
geological features. Adopting wavelet-based image edge detection solves this problem. 
 112
be applied. The applications may simplify the post-processing procedures and enhance 
image analysis efficiency. 
3. If complete tunnel excavation images can be collected to provide sufficient image data, 
this data might then be used in modern neurology, enabling a neural network, fuzzy 
theory, etc. to compile important recognition factors. When augmented by human 
experience, the goal of “automatic identification” could be achieved.   
4. In order to achieve superior visualization, it is recommended that image processing 
techniques be expanded from 2D to 3D to predict the orientation of geologic weak 
planes. In other words, in conjunction with the 3D reconstruction technique, the 
geologic weak plane of tunnel excavation face is displayed in 3D. Applying a 3D 
measurement would then quantify the direction of the dip of the weak plane. After 
attaining quantified weak plane data, insert-type image techniques may be applied to 
predict the weak plane distribution for the remaining unexcavated tunnel. 
 
 114
Taiwan, R.O.C. (in Chinese). 
Chui, C. K. (1992) an Introduction to Wavelets, Academic Press, Boston. 
Cherng, H.D. and Miyojim, M. (1996) “Synthesized images for pavement management 
system design.” Journal of Computing in Civil Engineering, ASCE, 10(1), 60-66. 
Chua, K.M. and Xu, L. (1994) “Simple procedure for identifying pavement distress from 
video images” Journal of Transportation Engineering, ASCE, 120(3), 412-431. 
Daubechies, I. (1988) “Orthonormal bases of compactly supported wavelets,” Commun. 
Pure Appl. Math. 41, 909-996. 
Daubechies, I. (1992) Ten Lectures on Wavelets. Society for Industrial and Applied 
Mathematics, Philadelphia, P.A. 
Froese, T. (1996) “Models of Construction Process Information.” Journal of Computing 
in Civil Engineering, ASCE, 10(3) 183-193. 
Carpenter, G. A., Grossberg, S. and Rosen, D. B. (1991)“Fuzzy ART: Fast stable 
Learning and Categorization of Analog by Adaptive Resonance System.＂ Neural 
Networks, 4, 759-771. 
Carpenter, G. A., Grossberg, S. and Rosen, D. B. (1988)“The ART of Adaptive 
Pattern Recognition by Self-Organizing Neural Networks. ＂ Computer, 21(3), 
77-88. 
Gonzalez, R. C. and Woods, R. E. (1987). Digital Image Processing, 3rd ed., 
Addison-Wesley, Reading, Mass. 
Graps, A. (1995) “An Introduction to Wavelets,” IEEE Computational Science & 
Engineering, 50-61. 
Gabor, D. (1946)“Theory of communication,＂J. of the IEEE, Vol. 93, .429-457. 
Goshtasby, A., Turner, D. A. and Ackerman, L. V. (1992) “Matching of Tomographic 
Slices for Interpolation.” IEEE Transaction on Medical Imaging, 11(4), 507-516. 
Guralnick, S.A. and Suen, E.S. (1993) “Automatic inspection of highway pavement 
surfaces” Journal of Transportation Engineering, ASCE, 119(1), 1-12. 
 116
Analysis.” Master Thesis, Department of Civil Engineering, National Central University, 
Jhongli, Taiwan, R.O.C. (in Chinese). 
Jurie, F. (1998) “Tracking Objects With a Recognition Algorithm.” Pattern Recognition 
Letters, 19, 331-340. 
Koplowitz, J.; Greco, V. “On the edge location error for local maximum and 
zero-crossing edge detectors ” Pattern Analysis and Machine Intelligence, IEEE 
Transactions on Volume: 1612,1207-1212 
Lee, C. S. (2000) “Using Wavelet Transform in Real-Time Image Transmission System.”
Master Thesis, Department of Electrical Engineering, National Taiwan University of 
Science and Technology, Taipei, Taiwan, R.O.C. (in Chinese). 
Lee, C. W. (2000) “Vehicle Plate Recognition System.” Master Thesis, Department of 
Electrical Engineering, National Taiwan University of Science and Technology, Taiwan,
R.O.C. (in Chinese). 
Li, C. W. (2004) “Application of image recognition for the security system.” MS thesis,
Department of Electrical Engineering, Southern Taiwan University, Tainan, Taiwan,
R.O.C. (in Chinese). 
Liu, J. Q. et al. (2000) “Bohai sea ice monitoring using satellite images.” Journal of Cold 
Regions Engineering, ASCE, 14(2), 93-100. 
Li, W. (1997) “Classification of Remote Sensing Images Using Texture Analysis.” MS 
thesis, Department of Civil Engineering, National Central University, Jhongli, Taiwan, 
R.O.C. (in Chinese). 
Liao, T. K. (1994) “Application of Image Processing for Pavement Distress Evaluation.”
Master Thesis, Department of Civil Engineering, National Taiwan University, Taipei, 
Taiwan, R.O.C. (in Chinese). 
Liu, Y. L. (2003) “The Techniques of Digital Image Transmission and Authentication.”
Master Thesis, Computer Science and Information Engineering, National Chung Cheng 
University, Chiayi, Taiwan, R.O.C. (in Chinese). 
Mallat, S. and Hwang, W. L. (1992) “Singularity detection and processing with 
 118
systems.” IEEE Expert, 3(1), 64-79. 
Rao, R. M. and Bopardikar, A. S. (1998) Wavelet Transforms: Introduction to Theory 
and Applications, Addison-Wesley, Reading, Mass.  
Schalkoff, R. J. (1992). Pattern Recognition: Statistical, Structural and Neural 
Approaches, John Wiley & Sons, New York.  
Gilbert Strang and Truong Nguyen (1996). Wavelets and Filter Banks, 
Wellesley-Cambridge Press. 
Sergios Theodoridis and Konstantinos Koutroumbas. (1999) Pattern recognition, 
Academic Press, San Diego. 
Shiu, J. S. (2003). “Study on the Accuracy of Agricultural Landuse Classification by 
Multi-scale Remote Sensing Imagery.” Master Thesis, Department of Civil Engineering, 
Chung Hua University, HsinChu, Taiwan, R.O.C. (in Chinese). 
Siuzdak, J. (1998) ”A Single Filter for Edge Detection.” Pattern Recognition, 31(11), 
1681-1686. 
Sklansky, J. (1978) “Image Segmentation and Feature Extraction.” IEEE Transaction on 
Systems, Man, and Cybernetics. 
Sobel, I. E. (1970) Camera Models and Machine Perception, Ph.D. thesis, Standford 
University,  
Sun, Y. N. and Tsa Hall, 1979i, C. T. (1992) “A New Model-Based Approach for 
Industrial Visual Inspection,” Pattern Recognition, 25, 1327-1336. 
Tsai, C. S. (2000) “Low Resolution Infrared Image Recognition for Home Security.” 
Master Thesis, Department of Electrical Engineering, National Chung Cheng University, 
Chiayi, Taiwan, R.O.C. (in Chinese). 
Treash, K. and Amaratunga, K. (2000) “Automatic road detection in grayscale aerial 
images.” Journal of Computing in Civil Engineering, ASCE, 14(1), 60-69.  
Tzeng, H. R. (2004) “Implementing the Referral Patient Record Including Medical 
Images by SMIL/XML Technologies.” Master Thesis, Department of Engineering 
Science, National Cheng Kung University, Tainan, Taiwan, R.O.C. (in Chinese). 
 120
Yang, C. L. (2000) “An Intelligent Anti-Burglary System of multimedia Personal 
Computer --Image Analysis of Alert Conditions.” Master Thesis, Institute of 
Manufacturing Engineering, National Cheng Kung University, Tainan, Taiwan, R.O.C. 
(in Chinese). 
Yang, D. K. (2005) “Development and Application of a Vehicle Plate Recognition 
System.” Master Thesis, Department of Vehicle Engineering, National Taipei University 
of Technology, Taipei, Taiwan, R.O.C. (in Chinese). 
Yang, Y. H. (1994) “The 3-D Vision System for Volume Rendering and Segmentation of 
Human Coxal Bone” Master Thesis, Department of Computer and Information 
Engineering, National Cheng Kung University, Tainan, Taiwan, R.O.C. (in Chinese). 
Zhang, M., Scofield, R. A. (1994) “Artificial Neural-Network Techniques for Estimating 
Heavy Convective Rainfall and Recognizing Cloud Mergers from Satellite Data.” 
International Journal of Remotes Sensing, 15(16): 3241-3261. 
Zhang, T. Y. and Suen, C. Y. (1984) “A fast parallel algorithm for thinning digital 
patterns.” Commun. of the ACM, 22(3), 236-239. 
(Chang 2001) 張吉佐，台灣地區隧道岩體分類系統暨隧道工程資料庫之建立(第二
期)，台北市，行政院公共工程委員會。 
(Chen 1998) 陳志南，隧道工程實務理論，台北，科技圖書公司。 
(Hung 1990) 洪如江，初等工程地質學大綱，台北，財團法人地工技術研究發展基
金會。 
(Lay 1995) 賴坤財，「以小波轉換作影像處理」，國科會專題研究計劃成果報告。 
(Lian 1992) 連國珍，「數位影像處理」，台北市，儒林出版社。 
(Lin 2002) 林朝宗，台灣的地質現象第三集，台北縣，經濟部中央地質調查所。 
(Miao 1999) 缪紹剛，數位影像處理活用-Matlab，台北，全華書局. 
(Pan 1995).潘桂南，隧道工程之理論與實務，台北，榮工技術叢書十三。 
(Shih 1997) 施國欽，大地工程學(三)-工程地質篇，台北市，文笙書局。 
