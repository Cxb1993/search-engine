 1 
 
□期中進度報告 
行政院國家科學委員會補助專題研究計畫 
■期末報告 
 
應用於自動化系統的三相無刷馬達的創新式類步進驅動 
 
 
計畫類別：■個別型計畫   □整合型計畫 
計畫編號：NSC  100 － 2221 － E － 009 － 024 － 
執行期間： 100 年 8月 1日至 101年 7月 31日 
 
執行機構及系所：國立交通大學 電機工程學系 
 
計畫主持人： 林錫寬 
共同主持人： 
計畫參與人員：吳建寰，陳昱全，邱彣漢 
 
 
 
 
本計畫除繳交成果報告外，另含下列出國報告，共 _0_ 份： 
□移地研究心得報告 
□出席國際學術會議心得報告 
□國際合作研究計畫國外研究報告 
 
 
 
處理方式：除列管計畫及下列情形者外，得立即公開查詢 
            □涉及專利或其他智慧財產權，□一年□二年後可公開查詢 
 
中   華   民   國 101 年 10 月 3 日
 3 
一、前言 
近年來由於永磁三相直流無刷馬達廣泛被應用在電腦相關產品與工業界自動
化上，中大型者有用於工具機和電動機車，而小型者最常見者為光碟機的主軸馬達，
電腦的風扇馬達。然而直流無刷馬達的驅動與控制，以d-q軸轉換的向量控制法則[1]
為主流[2-3]。而對精密度要求不高者，則採用六步方波的法則。前者需要精密的編碼
器以求得位移和轉速。後者則用三顆Hall感測器，取得馬達的粗估位置，作為六步方
波換相的依據。鑑於編碼器的昂貴，和Hall感測器的壽命，無感測控制法則應運而生
[4-11]。這些控制法則都有其優缺點，無感測控制僅適用於速度控制；向量型的正弦
波控制法相當複雜，實現代價昂貴，又有一定的控制誤差。而學者們已經累積近十年
的研究於全步進(六步)與半步進(十二步)無感測控制，這些法則無論是60°方波驅動、
120°方波驅動、150°方波驅動與180°方波驅動[11]，多停留於全步進驅動控制與半步
進驅動控制上，要進一步作到微步進控制不太可能。 
 
本計畫發展無感測器的類步進驅動法則於三相直流無刷馬達上，並且能夠作到微
步進驅動。類步進驅動之意為類似步進馬達的運作。目前市售的步進馬達以二相驅動
為主，只有 Oriental公司有自己專利的五相驅動步進馬達。五相驅動步進馬達雖然可
得到比二相驅動的步進馬達高的扭矩對體積比，但是其構造複雜，驅動器昂貴，只適
用於高價位的產品。二相驅動的步進馬達，一直有扭矩小的缺點，難用於空間小又要
扭矩大的情況，例如工具機或機器人。此外，步進馬達都有明顯的轉矩漣波，易造成
震動和噪音，要作到微步進的代價也很高。雖然可以有很好的定位性，但是頓轉扭矩
大，常在定位控制有擾動現象。 
 
步進馬達的絕對優勢在於，對使用者而言，控制簡易，只要輸入方向和步進脈波，
則可以無誤差的達到固定位移，誤差僅在步進角範圍內。如果要作速度控制，則輸入
固定頻率脈波，就能驅使馬達作定轉速。一般而言，作全步進和半步進，只要對二相
電流作全電流的切換即可，相當簡單。但是要作細分割，則要對二相電流作正弦波比
例的電流控制，一般都用PWM來實現[12]。微步進越細，驅動法則就越複雜。 
 
本計畫案研究出三相無刷馬達的類步進驅動理論，並且用32位元微控器實作來驗
證。根據三相電流波型，我們提出使三相無刷馬達達成類似步進馬達的驅動定理。這
個創新驅動法則，我們利用一顆32位元微控器來實現，確實讓永磁三相無刷馬達達到
步進的轉動。這個驅動法則未使用到位置感測元件，以三相電流回饋控制的方式，進
行步進驅動控制。 
 
二、主要理論 
 
2.1理論推導 
 
根據永磁三相無刷馬達的六步方波驅動法，我們可以定義全步進模式為馬達一
步是 60°的電氣角。如此模仿步進馬達的推演，半步進模式時，馬達一步是 30°的電
 5 
表 1  三相扭矩係數 
θe kta / kt = cos(θe) ktb / kt = cos(θe -120) ktc / kt = cos(θe +120) 
-15° 0.9659 -0.7070 -0.2588 
0° 1 -0.5 -0.5 
15° 0.9659 -0.2588 -0.7070 
30° 0.8660 0 -0.8660 
45° 0.7070 0.2588 -0.9659 
60° 0.5 0.5 -1 
75° 0.2588 0.7070 -0.9659 
90° 0 0.8660 -0.8660 
 
假設外部負載為 0，要達成類步進的驅動，必須在每一步進角時馬達的扭矩 Te為
0。有負載的情況將在後面討論。根據表 1的觀察，在 θe=90°時，由(1)和(5)可以導得 
cb ii =  
bcba iiii 2)( -=+-=  
我們令電流最大值為 1，則可以導得二組解：(1)ia=1，ib= -0.5，ic= -0.5，和(2) ia= -1，
ib=0.5，ic=0.5。類步進驅動為從 75°到 90°間的驅動電流皆維持在相同值，因此這二組
解在 75°時，馬達的扭矩分別為：(1) 0.38825 Nm，和(2)-0.38825 Nm。為了作正旋轉，
馬達在 75°到 90°間的扭矩必須為正，所以必須選擇第一組解。 
 
同理，在 θe=30°時，類步進驅動的三相電流可以推導得為 
ca ii =  
acab iiii 2)( -=+-=  
所以從 15°到 30°間的驅動電流皆要維持在 ia= 0.5，ib=-1，ic= 0.5。 
 
   在 θe=0°時，類步進驅動的三相電流可以推導得為 
05.05.0 =-- cba iii  
0=++ cba iii  
其進一步推演得 ia=0。接著有無窮多組解： ib=- ic。同理，從 45°到 60°間，ic=0， ib=- 
ia。 
 
另外，從 60°到 75°間也可以由(1)和(5)得 
)( bac iii +-=  
acabba iiiiii 2679.0 ,7321.0     06729.12247.1 -=-=Þ=+  
 
同理，從 30°到 45°間，可以得 
)( bac iii +-=  
acabba iiiiii 3659.0 ,3659.1     02247.16729.1 =-=Þ=+  
 
還有，從 0°到 15°間，也可以得 
)( bac iii +-=  
acabba iiiiii 7321.0 ,2679.0     04482.06729.1 -=-=Þ=+  
 7 
 
圖 3  類步進驅動下的扭矩與電氣角的關係。 
 
    一般情況下，使用者不知道馬達的真正電氣角。我們使用電氣角 75°到 90°間
所需的電流 ia= -1，ib=0.5，ic=0.5，並且保持不變的應用到所有電氣角，結果發現
扭矩的變化為正弦曲線，如圖 4所示。所以使用者只要提供電流淨值足夠可以產
生最大扭矩使得馬達啟動，則依序切換命令值的虛擬步進電氣角，就能在某一時
刻讓馬達啟動。一旦馬達轉動後，就會自己追到扭矩平衡的電氣角。爾後的每一
個步進電流切換，都能夠帶動馬達旋轉一個步進電氣角，因為之後的扭矩變化會
類似圖 3的型態。 
0 30 60 90 120 150 180 210 240 270 300 330 360
-2
-1.5
-1
-0.5
0
0.5
1
1.5
2
To
rq
ue
 T
e
angle = 0 to 360  
圖 4  同一電流電流 ia= -1，ib=0.5，ic=0.5的扭矩與電氣角之關係。 
0 30 60 90 120 150 180 210 240 270 300 330 360 
-0.8 
-0.6 
-0.4 
-0.2 
0 
0.2 
0.4 
0.6 
0.8 
To
rq
ue
 T
e 
qe 
 9 
個四象限的 sin值，也可以推算出 cos值（cosq = sin(p/2-q)）。將 0°£q<90°分成 256等分
（方便用 8位元來表示），而 sin值採用有號數 16位元(s16)表示，則 sin表格列於表 3。
如果再將其中任一等分細分成 64等分（可用 6 位元表示），原因在說明表 5時解釋。三
角函數和差化積的近似方程式如下： 
  
 sin(a+b) = sina cosb + cosa sinb » sina + cosa sinb » sina + cosa ´ b 
 cos(a+b) = cosa cosb - sina sinb » cosa - sina sinb » cosa - sina ´ b 
 
其中b以徑度(radian)為單位。注意，Taylor展開式為 sin(a+b) = sina + b cosa - b 2sina /2 - 
b 3 cosa /6。所以此近似方程式為僅含前二項的 Taylor展開式。 
 
表 3： 正弦函數 sin表格 SIN_COS_TABLE 
[i] 0 1 2 … 254 255 
q 0° d° (2d)° … (254d)° 90°- d° 
sinq´215 0x0000 0x00C9 0x0192 … 0x7FFD 0x7FFE 
註：d = 90/256。 
 
根據 sin曲線，誤差最大處在角度為 0°或 180°附近（亦即斜率最大處）：63e，其中e 
= 0.0054931640625°= 9.58738´10-5rad或e = 0.005°= 8.7266´10-5。以下計算法所產生的誤
差值列於表 4。注意：在使用 Q15格式表示角度q下，(b´215/180)將是q的最低六個位元值。 
 
方法：215´sin(a+b) = (sina´215) + (cosa´215)´[(b´215/180) ´(p´28)]/ 223，其
中b以角度計數。例如，當b=e時，(b´215/180)=1。注意，(b´215/180)
的最大值為 63，所以採用(p´28)=804，就不會因為相乘後大於或等
於 216。另外，注意，215´28= 223。 
 
 
表 4：固定點查表求 sinq法與真值之比較 
q=a+b  sinq´215 所提方法 
e°    3.14 3 (0x03) 
(63e)° 197.92 197 (0xC5) 
註：e = d/64=90/256/64=0.0054931640625度。 
 
在程式中角度q是使用 Q15格式（乘 215）來表示，以求達到高解析度。定義qs16 = 
(q/180)´215，其中-180°£q<180°。要使用正弦函數 sin表前，需要確定角度qs16所在的象限，
並且將該角度對應到該象限的 256等分。為了將角度等分都是從 0起算，可以將qs16+215
作平移到正整數。接著令qu10 =(qs16+215)>>6，則可以用qu10的位元 8和 9來判斷所處的象
限，而qu10的位元 0至 7就是所對應的 256等分之值 i，結果如表 5所示。這裡可以看出，
查表後尚有 6個位元的角度解析度，可以用和差化積的近似公式來求更精準的三角函數
值。 
表 5：查 sin表前的角度演算過程 
象限 III IV I II 
q (度) -180 <-90 -90 <0 0 <90 90 … (180-e) 
qs16 -2
15  -214  0  214  (215-1) 
qs16+215 0  2
14  215  214+21
5 
 (216-1) 
qu10 0  2
8  29  28+29  (210-1) 
(qu10).[9:8] 00b 00b 01b 01b 10b 10b 11b 11b 11b 
i=(qu10).[7:0] 0 £0xFF 0 £0xFF 0 £0xFF 0 £0xFE 0xFF 
 11 
 
圖 5  實驗結果：(a) 時間刻度 2.5ms；(b) 時間刻度 1.0ms；。 
 13 
 
國科會補助專題研究計畫成果報告自評表 
請就研究內容與原計畫相符程度、達成預期目標情況、研究成果之學術或應用價
值（簡要敘述成果所代表之意義、價值、影響或進一步發展之可能性）、是否適
合在學術期刊發表或申請專利、主要發現或其他有關價值等，作一綜合評估。 
1. 請就研究內容與原計畫相符程度、達成預期目標情況作一綜合評估 
■  達成目標 
□ 未達成目標（請說明，以 100字為限） 
□ 實驗失敗 
□ 因故實驗中斷 
□ 其他原因 
說明： 
 
 
 
2. 研究成果在學術期刊發表或申請專利等情形： 
論文：□已發表 □未發表之文稿 □撰寫中 ■無 
專利：□已獲得 □申請中 ■無 
技轉：□已技轉 □洽談中 ■無 
其他：（以 100字為限） 
 
 
 
3. 請依學術成就、技術創新、社會影響等方面，評估研究成果之學術或應用價
值（簡要敘述成果所代表之意義、價值、影響或進一步發展之可能性）（以
500字為限） 
 
本計畫案研究出三相無刷馬達的類步進驅動理論，並且用32位元微控器實作來
驗證。根據三相電流波型，我們提出使三相無刷馬達達成類似步進馬達的驅動定
理。這個創新驅動法則，我們利用一顆32位元微控器來實現，確實讓永磁三相無刷
馬達達到步進的轉動。這個驅動法則未使用到位置感測元件，以三相電流回饋控制
的方式，進行步進驅動控制。 
 
 
附件二 
100年度專題研究計畫研究成果彙整表 
計畫主持人：林錫寬 計畫編號：100-2221-E-009-024- 
計畫名稱：應用於自動化系統的三相無刷馬達的創新式類步進驅動 
量化 
成果項目 實際已達成
數（被接受
或已發表）
預期總達成
數(含實際已
達成數) 
本計畫實
際貢獻百
分比 
單位 
備 註 （ 質 化 說
明：如數個計畫
共同成果、成果
列 為 該 期 刊 之
封 面 故 事 ...
等） 
期刊論文 0 0 100%  
研究報告/技術報告 1 1 100%  
研討會論文 3 3 100% 
篇 
 
論文著作 
專書 0 0 100%   
申請中件數 0 0 100%  專利 已獲得件數 0 0 100% 件  
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 0 0 100%  
博士生 0 0 100%  
博士後研究員 0 0 100%  
國內 
參與計畫人力 
（本國籍） 
專任助理 0 0 100% 
人次 
 
期刊論文 0 0 100%  
研究報告/技術報告 0 0 100%  
研討會論文 0 0 100% 
篇 
 
論文著作 
專書 0 0 100% 章/本  
申請中件數 0 0 100%  專利 已獲得件數 0 0 100% 件  
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 3 3 100%  
博士生 0 0 100%  
博士後研究員 0 0 100%  
國外 
參與計畫人力 
（外國籍） 
專任助理 0 0 100% 
人次 
 
