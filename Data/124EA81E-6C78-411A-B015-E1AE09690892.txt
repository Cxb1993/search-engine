safety applications, vehicular ad hoc networks 
 
 2
行政院國家科學委員會專題研究計畫成果報告 
佈署路側單元以改善車載網路中廣播訊息傳遞之研究 
 
計畫編號：NSC 99－2221－E－006－122－  
執行期限：99 年 8月 1 日至 100 年 10 月 31 日 
主持人：蘇淑茵  國立成功大學電腦與通信工程研究所 
 
中文摘要 
在車載隨意網路(VANET)的安全應用中，當車輛偵測到交通事故或路面上的特殊狀況，可以
透過廣播來發送交通安全訊息給後方車輛，以通知駕駛者道路上的危險區域或事故。然而
在非繁忙時段或是較偏僻的地區時，由於行駛車輛數目太少，車載通訊節點間不一定能直
接傳訊，我們稱這種特殊的車載網路結構為稀疏車載網路。為了解決上述問題，過去的研
究利用對面車道的車輛來當轉送節點，此方法的缺點是不能保證訊息能否在有效時間內傳
送到斷訊的車輛節點，因而錯過安全警告的最佳時機。由於這個原因，為了有效降低稀疏
車載網路中安全訊息傳遞的恢復時間(re-healing time)與所需的恢復跳點(re-healing 
hops)數目，本計畫利用路側單元的佈署方案來協助交通安全訊息的傳遞。我們將探討如何
佈署有限數目的路側單元以有效改善安全應用的重新恢復時間與恢復跳點，在本計畫中，
我們建立了一個數學分析模型以探討路側單元佈署的數量與稀疏網路中重新恢復連線的關
係。經實驗結果證明，我們方法除了可以顯著改善稀疏網路之的訊息傳遞效能外，配合我
們提出的廣播封包路由機制，更可以成功壓抑不適當的廣播流量。 
 
關鍵詞: 廣播、網路連接度、路側單元、安全應用、車載隨意網路 
 
Abstract 
In Vehicular Ad Hoc Network (VANET) safety applications, the source vehicle that detects an 
accident can generate a warning message and propagate it to the following vehicles in order to 
notify other drivers before they reach the potential danger zone on the road. Recent studies have 
shown that sparse vehicle traffic leads to network fragmentation, which poses a crucial research 
challenge for safety applications. In this project, we analyze and quantify the improvement in 
VANET connectivity when one deploys a limited number of Roadside Units (RSUs), as well as to 
investigate the routing performance for broadcast-based safety applications in this enhanced 
VANET environment. Our results show that, even with a small number of RSUs, the performance 
in terms of the probability of network connectivity, the re-healing delay, the number of re-healing 
hops, and the message penetration time can all be significantly improved in highway VANET 
scenarios. 
 
Keywords: broadcasting, network connectivity, roadside unit, safety applications, vehicular ad 
hoc networks 
 
 
and the infrastructure based RSUs whereby the RSUs are connected through fiber or broadband
wireless links. In [24], the authors showed that a deployment of connected RSUs is capable
of yielding significant gains. Specifically, infrastructure based RSUs yield a high and stable
network-layer connectivity over long distances. However, the deployment and maintenance
cost of the RSUs with fiber or broadband wireless links in some countries might be expensive
and impractical. For ease of deployment and cost efficiency, we therefore consider ad-hoc based
RSUs for highway deployment in this project. This section proposes an advertising model to
improve the message delivery of a safety message under ad-hoc based RSU deployment. With
the advertising model, in addition to a disconnected vehicle, a succeeding RSU of the source
vehicle is also considered as a re-healing node. Our proposed RSU advertising model is based
on the following rules:
1. When a source vehicleV0 detects a hazard or an accident, it broadcasts a safety message
to the succeeding neighbors in its cluster, which may be the RSUs deployed on the high-
way and the vehicles following V0’s direction (throughout this project, V0’s direction is
referred to as the destination direction).
2. If an RSU receives the safety message, it will periodically advertise the safety message to
the vehicles traveling in the destination direction. Advertising the safety message via an
RSU can reduce the amount of broadcast load.
3. When the safety warning is abandoned, e.g., the message is not needed anymore, the RSU
drops the message and stops advertising.
4. If an RSU is not located withinV0’s cluster, vehicleVk (i.e., the tail inV0’s cluster) will
take on the responsibility to designate a forwarder for message delivery.
5. A neighboring vehicle traveling in the opposite direction of Vk is chosen to be a for-
warder.
6. When the forwarder receives the safety message, the forwarder carries the message and
then delivers it to a re-healing node. A re-healing node is either an RSU or a disconnected
vehicle Vk+1, which is at the head of the succeeding cluster in the destination direction
(with this rule, one can reduce the number of hops for re-healing. It is especially important
to reduce the amount of unnecessary broadcast traffic for a dense VANET).
3 Analytical model
Based on the RSU advertising model proposed in Section 2, this section first formulates the
safety message delivery problem and then proposes an analytic model to derive the performance
metrics in terms of the connectivity probability, the re-healing delay, and the number of re-
healing hops.
4
...
Eastbound lane 
RSU Accident
Westbound lane 
R
RSU
V0V1V2Vn-1Vn
U1 U0
(a) The illustration of the scenario in Case I
...wn wn-1 w1 w0
(Source)
V0
ru
Du
(The 
preceding 
RSU)
U0
V1V2Vn-1Vn
(The 
succeeding 
RSU) 
U1
(b) The diagram for deriving the probability in Case I
Figure 1: The illustration and the diagram for Case I, where the succeeding RSU is within the
transmission area of the source’s cluster.
to the first vehicle of the following cluster. As shown in Figures 1 and ??, the preceding and
the succeeding RSUs of the source vehicle V0 are denoted as U0 and U1, respectively. We
illustrate two different scenarios of the vehicle locations when the safety message is issued after
an accident occurs:
Case I. The succeeding RSUU1 is within the transmission area of the source’s cluster. Hence,
when a traffic safety message is issued by the source vehicles V0, the message can be
delivered to the RSUU1 through the cluster nodes; e.g., from V1, V2, . . ., Vn−1 to Vn,
as shown in Fig. 1 (a). Note that vehicleVn need not to be the last vehicle in the source’s
cluster.
Case II. The succeeding RSUU1 is not within the transmission area of the source’s cluster. In
other words, the distance betweenU1 and the last vehicle, sayVk, in the source cluster is
larger than R, as shown in Fig. ?? (a). The traffic safety message is stored and forwarded
to a vehicle X traveling in the opposite direction. Then X relays the message until the
succeeding RSU U1 or the first vehicle, say Vk+1, in the next cluster (i.e., the cluster
behind the source’s cluster) receives it.
If the RSUs are uniformly deployed along the highway, then the distance Du between U0
and U1 will be Du = LNu . Consider the succeeding RSU U1 is within the transmission area of
the source’s cluster when the traffic safety message is issued by vehicle V0. In this case, the
safety message can be delivered toU1 by directly broadcasting the safety message through the
vehicles located withinV0 andU1. In Fig. 1 (b), the message is relayed by vehiclesV1 toVn.
The probability PI of this case is derived below.
Let ru be the distance between the source vehicleV0 and the succeeding RSUU1. Assume
that the accident occurrences are uniformly distributed over the highway. Since the accident (or
6
= e−λes
∑∞
n=0
∑⌊s/R⌋
j=0
(
n+1
j
)
(−1)j [λe(s−jR)]n
n!
= e−λes
∑⌊s/R⌋
j=0
(−1)j
j!
∑∞
n=j−1
n+1
(n+1−j)! [λe(s− jR)]n . (3)
The time complexity of the above solution is O(n2). After some manipulations described in
Appendix, (3) can be expressed in closed form as
W (s) = e−λes
⌊s/R⌋∑
j=0
(−1)j
j!
[λe(s− jR)]j−1[j + λe(s− jR)]eλe(s−jR). (4)
Note that Eq. (4) can be easily computed in linear time and will be used to derive other output
metrics in this section. From (??) and (4), PI is derived as
PI =
∫ ∞
ru=0
W (ru)Ru(ru)dru
= 1
Du
∫ Du
ru=0
e−λeru
∑⌊ru/R⌋
j=0
(−1)j
j!
[λe(ru − jR)]j−1[j + λe(ru − jR)]eλe(ru−jR)dru. (5)
4 Numerical Results
In this section, we outline the VANET topology, mobility model, and data traffic model assumed
in the customized event-driven Monte-Carlo simulator developed by the authors. The network
topology, the vehicle mobility pattern and the network communication model are described as
follows: As suggested by the VSC, the DSRC transmission power can be set for a distance of
200-250 m [6, 7]. In this project, we use 250 m as the default value of R. Detailed transmission
range assignment techniques used in VANET can be found in [14, 15, 16]. In terms of detailed
protocol operations, we assume that the traffic safety message arriving at a well-connected node
(i.e., within the same cluster) on the eastbound road get re-forwarded immediately according
to the broadcast mechanism. Vehicles traveling westbound assist store-carry-forward the safety
message if the network on the eastbound is disconnected. Since the event-driven safety message
has the highest priority to access the 802.11 channel, we argue that the delay incurred in MAC
and PHY layers has very little impact on the overall network performance. In this section, we
assume ideal MAC/PHY layers where a message arriving at network layer gets transmitted right
away without any contention at the MAC layer and all the transmitted messages arrive at the
intended destination in an error free manner. Therefore, the spatial delay can be neglected.
5 Conclusions
In VANET safety applications, the source vehicle that detects an accident can generate a warn-
ing message and propagate it to the following vehicles in order to notify other drivers before
they reach the potential danger zone on the road. In order to reduce the re-healing time for a
sparse VANET as well as to decrease the number of re-healing hops for a dense VANET, one can
make use of the RSUs to assist the traffic safety messaging. Based on highway scenarios, we
8
have investigated the re-healing delay and the number of re-healing hops needed to propagate
a traffic safety message to a re-healing node. A comprehensive analytical framework is devel-
oped for determining the benefits of deployment of RSUs on the performance of a VANET in a
highway scenario. We have also validated the results of our analytical framework via extensive
simulations.
References
[1] L. Campelli, M. Cesana, and R. Fracchia, “Directional broadcast forwarding of alarm messages in
VANETs,” In Fourth Annual Conference on Wireless on Demand Network Systems and Services,
Jan. 2007, pp. 72–79.
[2] N. Wisitpongphan, O. K. Tonguz, J. S. Parikh, P. Mudalige, F. Bai, and V. Sadekar, “Broadcast
storm mitigation techniques in vehicular ad hoc networks,” IEEE Wireless Communications, vol.
14, no. 6, pp. 84–94, Dec. 2007.
[3] N. Wisitpongphan, F. Bai, P. Mudalige, V. Sadekar, and O. K. Tonguz, “Routing in sparse vehicular
ad hoc wireless networks,” IEEE Journal on Selected Areas in Communications,, vol. 25, no. 8, pp.
1538–1556, Oct. 2007.
[4] O. K. Tonguz, N. Wisitpongphan, F. Bai, P. Mudalige, and V. Sadekar, “Broadcasting in VANET,”
in IEEE INFOCOM MOVE Workshop, May 2007, pp. 7–12.
[5] F. Bai, T. Elbatt, G. Hollan, H. Krishnan, and V. Sadekar, “Towards Characterizing and Classifying
Communication-based Automotive Applications from a Wireless Networking Perspective,” in Proc.
of IEEE Workshop on Automotive Networking, Dec. 2006.
[6] NHTSA, “Second Annual Report of the Crash Avoidance Metrics Partnership, April 2002 - March
2003,” in National Highway Traffic Safety Administration, DOT HS 809 663, Jan. 2003.
[7] NHTSA, “Third Annual Report of the Crash Avoidance Metrics Partnership, April 2003-March
2004,” in National Highway Traffic Safety Administration, DOT HS 809 837, Feb. 2005.
[8] O. K. Tonguz, N. Wisitpongphan, and F. Bai, “DV-CAST: A distributed vehicular broadcast protocol
for vehicular Ad Hoc Networks,” IEEE Wireless Communications Magazine, vol. 17, no. 2, pp. 47–
57, Apr. 2010.
[9] F. Farnoud and S. Valaee, “Reliable broadcast of safety messages in vehicular ad hoc networks,” in
IEEE INFOCOM 2009, Apr. 2009, pp. 226–234.
[10] N. Banerjee, M. D. Corner, D. Towsley, and B. N. Levine, “Relays, base stations, and meshes:
enhancing mobile networks with infrastructure,” in MobiCom ’08: Proceedings of the 14th ACM
international conference on Mobile computing and networking, 2008, pp. 81–91.
[11] C. Lochert, B. Scheuermann, M. Caliskan, and M. Mauve, “The feasibility of information dis-
semination in vehicular ad-hoc networks,” in Fourth Annual Conference on Wireless on Demand
Network Systems and Services, Jan. 2007, pp. 92–99.
[12] C. Lochert, B. Scheuermann, C. Wewetzer, A. Luebke, and M. Mauve, “Data aggregation and
roadside unit placement for a vanet traffic information system,” in VANET ’08: Proceedings of the
fifth ACM international workshop on VehiculAr Inter-NETworking, 2008, pp. 58–65.
[13] P. Li, X. Huang, Y. Fang, and P. Lin, “Optimal Placement of Gateways in Vehicular Networks,”
IEEE Transactions on Vehicular Technology, vol. 56, no. 6, pp. 3421–3430, Nov. 2007.
[14] M. Artimy, “Local Density Estimation and Dynamic Transmission-Range Assignment in Vehicular
Ad Hoc Networks,” IEEE Transactions on Intelligent Transportation Systems, vol. 8, no. 3, pp. 400–
412, Sep. 2007.
10
 12
國科會補助專題研究計畫成果報告自評表 
請就研究內容與原計畫相符程度、達成預期目標情況、研究成果之學術或應用價
值（簡要敘述成果所代表之意義、價值、影響或進一步發展之可能性）、是否適
合在學術期刊發表或申請專利、主要發現或其他有關價值等，作一綜合評估。
1. 請就研究內容與原計畫相符程度、達成預期目標情況作一綜合評估 
□ v 達成目標 
□ 未達成目標（請說明，以 100 字為限） 
□ 實驗失敗 
□ 因故實驗中斷 
□ 其他原因 
說明： 
 
2. 研究成果在學術期刊發表或申請專利等情形： 
論文：□ v 已發表 □未發表之文稿 □撰寫中 □無 
專利：□已獲得 □申請中 □無 
技轉：□已技轉 □洽談中 □無 
其他：（以 100 字為限） 
 
本計畫成果共計發表兩篇期刊論文及兩篇會議論文, 其中兩篇論文分別接受刊登於
IEEE Transactions on Vehicular Technology (IF=1.485, 17/78, 論 文 名 稱
"Enhancing VANET connectivity through Roadside Units on Highways")及 IEEE 
Communications Letters(IF=1.059, 28/78, 論 文 名 稱 "Modeling Session 
Completion in Sparse Vehicular Internet Access")上, 以上期刊為通訊領域之 A 級
資深期刊。 
 
3. 請依學術成就、技術創新、社會影響等方面，評估研究成果之學術或應用價
值（簡要敘述成果所代表之意義、價值、影響或進一步發展之可能性）（以
500 字為限） 
 
在本計畫中，我們針對提出的 RSU 佈置與廣播機制，建立相對的數學及模擬分析模
型。目前在 VANET 研究上，均以模擬取得分析結果為主，這對網路效能評估與預測
並不足夠，因此本計畫中，我們成功地分析在公路上建置 RSU 節點的廣播重新恢復
時間及轉接數目，並建立數學模型推導出這兩項效能指標的分佈函數及平均值。我
們建立的數學模型已發表在兩篇 IEEE 期刊上，若能得到國科會資助，以上模型可
以針對城市道路之各種特殊拓樸作深入研究，以建立一個通用化的 VANET RSU 分析
模型。 
 
3586 IEEE TRANSACTIONS ON VEHICULAR TECHNOLOGY, VOL. 60, NO. 8, OCTOBER 2011
Enhancing VANET Connectivity Through
Roadside Units on Highways
Sok-Ian Sou and Ozan K. Tonguz, Member, IEEE
Abstract—In vehicular ad hoc network (VANET) safety appli-
cations, the source vehicle that detects an accident can generate
a warning message and propagate it to the following vehicles to
notify other drivers before they reach the potential danger zone
on the road. Recent studies have shown that sparse vehicle traffic
leads to network fragmentation, which poses a crucial research
challenge for safety applications. In this paper, we analyze and
quantify the improvement in VANET connectivity when a limited
number of roadside units (RSUs) are deployed and to investigate
the routing performance for broadcast-based safety applications
in this enhanced VANET environment. Our results show that,
even with a small number of RSUs, the performance in terms of
the probability of network connectivity, the rehealing delay, the
number of rehealing hops, and the message penetration time can
be significantly improved in highway VANET scenarios.
Index Terms—Broadcasting, network connectivity, roadside
units (RSUs), safety applications, vehicular ad hoc networks
(VANETs), vehicular traffic modeling.
I. INTRODUCTION
V EHICULAR ad hoc networks (VANETs) have emergedas one of the most successful commercial applications of
mobile ad hoc networks. One major goal of VANET deploy-
ment is to increase road safety and transportation efficiency.
To enhance the road safety and efficiency of the transportation
system in the U.S., the Federal Communications Commission
(FCC) has allocated 75 MHz of spectrum in the 5.9-GHz band
for dedicated short-range communications (DSRC). In vehicle
safety applications that communicate by DSRC radios, vehicles
disseminate traffic-related information to all reachable nodes
based on broadcast transmission. When a source vehicle detects
a hazard or an accident, it can generate a safety message to
the succeeding vehicles. This safety message contains real-time
traffic information, which is used to warn travelers before they
drive to potential danger zones on the road.
Manuscript received April 6, 2010; revised July 26, 2010, December 11,
2010, May 10, 2011, and August 3, 2011; accepted August 7, 2011. Date of
publication August 22, 2011; date of current version October 20, 2011. The
work of S.-I. Sou was supported in part by the National Science Council (NSC),
Taiwan, under Contracts NSC 99-2221-E-006-122 and NSC 100-2221-E-006
-200 and by the Taiwan Information Security Center, National Cheng Kung
University. The review of this paper was coordinated by Prof. H. Hassanein.
S.-I. Sou is with the Department of Electrical Engineering, Institute of
Computer and Communications Engineering, National Cheng Kung University,
Tainan 701, Taiwan (e-mail: sisou@mail.ncku.edu.tw).
O. K. Tonguz is with the Department of Electrical and Computer Engi-
neering, Carnegie Mellon University, Pittsburgh, PA 15213-3890 USA (e-mail:
tonguz@ece.cmu.edu).
Color versions of one or more of the figures in this paper are available online
at http://ieeexplore.ieee.org.
Digital Object Identifier 10.1109/TVT.2011.2165739
Most VANET research has focused on analyzing routing
algorithms in a highly dense network topology [1], [2], under
the oversimplified assumption that a typical vehicular network
is well connected in nature. In contrast, recent studies have
shown that sparse vehicle traffic in rural areas or on highways
during late-night hours might lead to a fragmentation problem
in VANETs [3]. Another important phenomenon that could lead
to network fragmentation in VANETs is the low penetration
ratio of the DSRC technology at the initial stages. This case
implies that, even during rush hours, the number of cars that
are equipped with DSRC radios could be extremely small due
to the low penetration ratio of the DSRC technology. Hence,
the network might appear as a sparse network, although the
vehicle density is high, thus leading to similar concerns in terms
of the VANET connectivity, rehealing time, and reaction time
of drivers in the region of interest (RoI) [3]. This disconnected
network problem poses a crucial research challenge for devel-
oping a reliable efficient routing protocol that can support safety
applications in highly diverse VANET topologies. The objective
of this paper is to enhance VANET connectivity by deploying
a limited number of roadside units (RSUs) with a message-
advertising model and to investigate the routing performance of
broadcast-based safety applications in this enhanced VANET
environment.
Consider the scenarios depicted in Fig. 1, where all vehicles
are equipped with DSRC radios so that they can communicate
within the wireless communication range. In scenario I, during
the directional broadcast, the safety message that is issued by
vehicle V0 can successfully be delivered to vehicles V1–V3
through direct forwarding (i.e., all involved nodes are destina-
tion nodes). In scenario II, because the spacing between V3
and V4 is larger than the maximum communication range,
the safety message cannot be delivered across the cluster
boundary. In scenario III, we employ the store–carry–forward
mechanism, as described in [3] and [4], to solve the discon-
nected network problem; therefore, the safety message can
be delivered from the preceding cluster tail V3 to the suc-
ceeding cluster head V4 through an opposite vehicle X that
acts as a message forwarder. The message delivery path thus
becomes V3 → X→ V4. Although the store–carry–forward
scheme can handle the disconnected network problem without
additional hardware cost, its performance highly depends on
the time when the preceding cluster tail V3 can designate
the message delivery to a neighboring vehicle X that travels
in the opposite direction. Hence, the rehealing time that is
taken to deliver a message across two adjacent clusters cannot
be guaranteed, which is a major concern in the design and
implementation of several safety applications [5].
0018-9545/$26.00 © 2011 IEEE
3588 IEEE TRANSACTIONS ON VEHICULAR TECHNOLOGY, VOL. 60, NO. 8, OCTOBER 2011
dissemination in city scenarios. Lochert et al. studied in [12]
how the infrastructure should be used to improve the travel
time of data dissemination over large distances. In [13], the
problem of placing gateways in VANETs to minimize the power
consumption and the average number of hops from access
points to gateways is investigated.
Several congestion avoidance mechanisms for broadcast
messages, particularly for the periodic beacon messages, have
also been proposed. In [14], for example, a scheme that allows
vehicles to estimate the local density and distinguish between
the free-flow and the congested traffic phases is proposed.
Based on the local traffic conditions, a vehicle can dynamically
set a suitable transmission range according to the traffic density.
In [15], a transmission control protocol is proposed that allows
each vehicle to track all its neighboring cars with an acceptable
accuracy while avoiding congestion in the shared channel. The
authors studied how they can adapt the communication rate and
power based on the dynamics of a vehicular network and safety-
driven tracking process. In [16], a distributed transmit power
control method is proposed based on a strict fairness criterion
to control the load of periodic messages on the channel and to
avoid saturated channel conditions.
In addition, a number of recent works have been proposed
to study how the DSRC technology can improve safety on
roads. In [17], the authors presented an overview of vehi-
cle cooperative collision avoidance application based on the
emerging DSRC devices. This work showed how vehicle-to-
vehicle communications can enhance highway traffic safety. It
also demonstrated the need for data prioritization for safety-
critical applications. In [18], it is shown the current 802.11
Medium Access Control (MAC) needs to be modified to meet
the requirements of DSRC environments with high vehicle
mobility and multihop connectivity. The authors showed that
the protocol can be improved by dynamically adjusting the
contention window to meet predefined requirements such as
the maximum saturation throughput, the weighted fairness,
and the bounded delay. In [19], a periodic safety message
mechanism is studied. They evaluated the MAC performance
in terms of the reception probability and the channel busy time.
Aside from the aforementioned issues, the message rout-
ing and delivery problems are among the key concerns in
VANETs. In [20], the authors investigated delay-tolerant net-
works (DTNs), where an end-to-end route between mobile
nodes does not exist. In such networks, traditional ad hoc
routing paradigms such as ad hoc on-demand distance vector
routing (AODV) [21] or dynamic source routing (DSR) [22]
will not properly work. Instead, the asynchronous message
forwarding paradigm based on the store–carry–forward concept
is used to achieve interoperability among different networks.
Naumov et al. studied in [23] VANET routing protocols by
using mobility information that is obtained from a vehicular
traffic simulator based on real road maps. The authors also
discovered that the AODV protocol exhibits serious perfor-
mance problems such as a low packet delivery ratio. In [3],
the authors focused on network fragmentation scenarios in
VANETs with real-world vehicular mobility models and pro-
vided a store–carry–forward solution to routing in disconnected
networks.
Based on the reported results in these previous studies, we
find that the design of a safety message-advertising model with
a reliable routing protocol for broadcast messaging that can
cope with the network fragmentation problem is crucial. To
reduce the rehealing time for a sparse VANET and to reduce the
number of rehealing hops for a dense VANET, we investigate
the use of RSUs to assist the traffic safety messaging, which
aims at delivering traffic safety messages with high reliability,
few hop counts, and low delay. Our goal is to improve the
VANET connectivity for safety message delivery between the
vehicles and the RSUs and to analytically quantify the perfor-
mance of the proposed mechanism.
III. ROADSIDE UNIT-ADVERTISING MODEL
In this paper, we assume that the vehicles are all equipped
with DSRC radios and Global Positioning System (GPS) re-
ceivers and they periodically broadcast beacon messages to
their neighbors. The neighbor detection mechanism estimates
the local topology by monitoring periodic hello updates that are
received from one-hop neighbors. Upon receiving the hello or
data packet from the neighbor, each vehicle has to compare its
GPS information and determine whether the neighbor moves
in the same direction or in the opposite direction. This way,
a vehicle can maintain its one-hop neighbor list (which con-
tains the list of neighbors who lead, follow, or move in the
opposite direction, respectively) through beacon exchanging.
In addition, a vehicle can determine the message direction
(contained in the message header) when it compares its position
information. Further details can be found in [8].
In terms of the connection among RSUs, two kinds of
different RSU deployment can be envisioned. Ad-hoc-based
RSUs are deployed without a physical connection between
them and the infrastructure based RSUs, where the RSUs are
connected through fiber or broadband wireless links. In [24],
the authors showed that a deployment of connected RSUs can
yield significant gains. In particular, infrastructure-based RSUs
yield a very stable network-layer connectivity over long dis-
tances. However, the deployment and maintenance cost of the
RSUs with fiber or broadband wireless links in some countries
might be expensive and impractical. For ease of deployment
and cost efficiency, we therefore consider ad-hoc-based RSUs
for highway deployment in this paper. This section proposes
an advertising model to improve the message delivery of a
safety message under ad-hoc-based RSU deployment. With
the advertising model, in addition to a disconnected vehicle,
a succeeding RSU of the source vehicle is considered as a
rehealing node. Our proposed RSU-advertising model is based
on the following six rules.
1) When a source vehicle V0 detects a hazard or an ac-
cident, it broadcasts a safety message to the succeeding
neighbors in its cluster, which may be the RSUs that are
deployed on the highway and the vehicles that follow
V0’s direction (throughout this paper, V0’s direction is
referred to as the destination direction).
2) If an RSU receives the safety message, it will periodically
advertise the safety message to vehicles that travel in
the destination direction. Advertising the safety message
3590 IEEE TRANSACTIONS ON VEHICULAR TECHNOLOGY, VOL. 60, NO. 8, OCTOBER 2011
Fig. 3. Illustration and diagram for case 1, where the succeeding RSU is within the transmission area of the source’s cluster. (a) Illustration of the scenario in
case 1. (b) Diagram for deriving the probability in case 1.
Fig. 4. Illustration and diagram for case 2, where the succeeding RSU is out of the transmission area of the source’s cluster. (a) Illustration of the scenario in
case 2. (b) Diagram for deriving the delay whenU1 is the rehealing node. (c) Diagram for deriving the delay whenVk+1 is the rehealing node.
a multiple-lane highway. In addition, the last vehicle in
any given cluster will remain disconnected from the first
vehicle in the succeeding cluster until it exits the highway
segment.1
Based on the aforementioned vehicular environment, we
investigate the probability of network connectivity, the re-
1Note that this assumption might seem unrealistic in the real world; however,
the delivery delay that is observed in all the cases that are investigated in this
paper is only several seconds. Based on this observation, it is reasonable to
assume that, in a highway scenario, two vehicles tend to keep a fixed spacing
between them for a few seconds.
healing time, and the rehealing hops needed to propagate a
traffic safety message to a rehealing node (i.e., the first dis-
connected vehicle in the succeeding cluster or the succeed-
ing RSU). The performance metrics of interest are listed as
follows:
• the connectivity probability PI that a succeeding RSU is
within the transmission area of the source’s cluster;
• the expected rehealing delay E[tr] that is experienced
when a safety message is delivered to either the nearby
RSU or the first vehicle in the succeeding cluster that
travels in the same direction;
3592 IEEE TRANSACTIONS ON VEHICULAR TECHNOLOGY, VOL. 60, NO. 8, OCTOBER 2011
s ≤ R. Considering all the possibilities of n, based on (3) and
(4), we have
W (s) = Pr
[
w(n) < R,Ne(s) = n,∀n
]
=
∞∑
n=0
Pr
[
w(n) < R|Ne(s) = n
]
Pr [Ne(s) = n]
= e−λes
∞∑
n=0
s/R∑
j=0
(
n+ 1
j
)
(−1)j [λe(s− jR)]
n
n!
= e−λes
s/R∑
j=0
(−1)j
j!
×
∞∑
n=j−1
n+ 1
(n+ 1− j)! [λe(s− jR)]
n . (5)
The time complexity of the aforementioned solution is
O(n2). After some manipulations described in the Appendix,
(5) can be expressed in closed form as
W (s) = e−λes
s/R∑
j=0
(−1)j
j!
[λe(s− jR)]j−1
× [j + λe(s− jR)] eλe(s−jR). (6)
Note that (6) can easily be computed in linear time and will
be used to derive other output metrics in this section. Based on
(2) and (6), PI is derived as
PI =
∞∫
ru=0
W (ru)Ru(ru) dru
=
1
Du
Du∫
ru=0
e−λeru
ru/R∑
j=0
(−1)j
j!
[λe(ru − jR)]j−1
× [j + λe(ru − jR)] eλe(ru−jR)dru. (7)
C. Deriving the Expected Rehealing Delay E[tr]
In this section, we derive the expected rehealing delay E[tr]
for a traffic safety message delivery. Based on the results
obtained in Section IV-B, the probability of case 2 is 1− PI .
Let the rehealing delays for cases 1 and 2 be tI and tII ,
respectively. Assuming that the direct wireless transmission
delay is negligible, we have E[tI ] ≈ 0. The rehealing delay for
tII is discussed as follows.
Consider the scenario illustrated in Fig. 4(a), where the
source cluster is disconnected before the message is delivered
to the succeeding RSU U1. Suppose that Vk (0 ≤ k ≤ n) is
the last vehicle in the source’s cluster and Vk+1 is the first
vehicle in the succeeding cluster. (For k = 0, it means that
there is no connected node behind the source node. For k = n,
it means that the succeeding cluster is behind the succeeding
RSU.) In this case, we can employ the store–carry–forward
approach studied in [3]. The traffic safety message needs to
be stored and forwarded to vehicle X, which travels in the
opposite direction [i.e., the westbound lane in Fig. 4(a)]. Then,
X relays the message to the rehealing node, which may be the
succeeding RSUU1 or the first vehicleVk+1 in the succeeding
cluster. In Fig. 4(b) and (c), let the distance between vehicle
X and the coverage boundary of the last vehicle in the source
cluster be xw. Let tU and tV be the delivery delays for the
succeeding RSUU1 and vehicleVk+1 that receives the traffic
safety message. The expected values of tU and tV are derived
as follows.
Given that the distance between V0 and U1 is ru, the
probabilities of cases 1 and 2 are W (ru) and 1−W (ru),
respectively. In (2), we have expressed the probability density
function of ru as Ru(ru) = 1/Du. To derive the rehealing
delay in case 2, we need to further derive the conditional
probability density function Ru|II(ru) of ru conditioned on
case 2 (i.e., the succeeding RSU U1 is out of the transmission
area of the source’s cluster). Because Ru(.) = 1/Du, based on
(2) and (6), Ru|II(ru) can be expressed by
Ru|II(ru) =
Ru(ru) (1−W (ru))∫Du
s=R (1−W (s))Ru(s)ds
=
1−W (ru)∫Du
s=R (1−W (s)) ds
. (8)
In Fig. 4(b), when the succeeding RSU U1 is the rehealing
node, the distance betweenU1 and vehicleX is ru − rc −R +
xw, where rc is the remaining source cluster length. Because
two nodes can communicate within the distance R, based on
(8), the delivery delay tU in case 2 can be approximated by (9),
shown at the bottom of the page,
In (9), E[rc|ru] and E[xw] can be derived as follows. In
Fig. 4(b), when the succeeding RSU is out of the transmission
region of the source cluster, it implies that the remaining source
cluster length rc is less than ru −R. In the interval rc, vehicles
V0–Vk are closely connected (i.e., the interspacings between
two consecutive vehicles are less than R), with probability
W (rc). In this case, if there is no connected vehicle behind
E[tU ] ≈
(
1
vw
) Du∫
ru=R
max [0, (ru − E[rc|ru] + E[xw]− 2R)]Ru|II(ru)dru
=
∫Du
ru=R
max [0, (ru − E[rc|ru] + E[xw]− 2R)] (1−W (ru)) dru
vw
∫Du
s=R (1−W (s)) ds
. (9)
3594 IEEE TRANSACTIONS ON VEHICULAR TECHNOLOGY, VOL. 60, NO. 8, OCTOBER 2011
TABLE I
COMPARISON OF THE ANALYTICAL AND THE SIMULATION RESULTS
r∗c = ru when all the vehicles in ru are connected (with proba-
bility W (ru) in case 1), and we have r∗c = rc when the source
cluster is disconnected in ru (with probability 1−W (ru) in
case 2). Based on (2), (6), and (10), we have
E [r∗c]
=
R∫
ru=0
ruRu(ru) dru
+
Du∫
ru=R
{ruW (ru)+E[rc|ru](1−W (ru))}Ru(ru) dru
=
1
Du


R2
2
+
Du∫
ru=R
{ruW (ru)+E[rc|ru](1−W (ru))} dru

 .
(19)
The aforementioned analytical result is also validated
through extensive simulations. Details of the simulation model
are described in Section V. Table I lists E[tr] and E[Nh]
values when L = 300 km, ve = vw = 30 m/s, R = 250 m, and
λe = λw = 0.02 veh/m. This table shows that the discrepancy
between the analytical results [in particular, (15) and (18)] and
the simulation data (as described in the next section) is within
±4%.
V. NUMERICAL RESULTS
In this section, we outline the VANET topology, mobility
model, and data traffic model assumed in the customized event-
driven Monte Carlo simulator that was developed by the au-
thors. The network topology, the vehicle mobility pattern, and
the network communication model are described as follows. As
suggested by the VSC, the DSRC transmission power can be
set for a distance of 200–250 m [6], [7]. In this paper, we use
250 m as the default value of R. Detailed transmission range
assignment techniques that are used in VANETs can be found in
[14]–[16]. In terms of detailed protocol operations, we assume
that the traffic safety message that arrives at a well-connected
node (i.e., within the same cluster) on the eastbound road is im-
mediately reforwarded according to the broadcast mechanism.
Vehicles that travel westbound assist store–carry–forward the
safety message if the network on the eastbound is disconnected.
Because the event-driven safety message has the highest prior-
ity to access the 802.11 channel, we argue that the delay that is
incurred in the MAC and physical (PHY) layers has very little
impact on the overall network performance. In this section, we
assume ideal MAC/PHY layers, where a message that arrives at
the network layer is transmitted right away with no contention
at the MAC layer, and all the transmitted messages arrive at
the intended destination in an error-free manner. Therefore,
the spatial delay can be neglected. In Section VI, we will
conduct extensive ns-2 simulations based on the 802.11p envi-
ronment to include more realistic MAC/PHY effects in message
transmission.
In this section, we consider VANET topologies on a 300-km
highway segment, where the vehicles that travel on the east-
bound and westbound lanes are assumed to move at a default
constant speed (ve and vw) of 30 m/s, respectively. The traffic
densities that are observed in the eastbound and westbound
lanes follow a Poisson distribution with parameters λe and λw
and range from 0.004 to 0.07 veh/m, which match the empirical
data shown in Table II. That is, the interspacing between two
consecutive vehicles is an exponential random variable. In
each round, we simulate the RSU deployment and the vehicle
locations on both the eastbound and westbound lanes on the
highway. Without loss of generality, the source vehicleV0 (i.e.,
the closest vehicle to the accident) is an arbitrary vehicle located
on the eastbound lane, where we assume that this vehicle is the
one that first sees the accident and is responsible for the safety
message delivery. That is, all vehicles located on the eastbound
lane have an equal chance of being selected for issuing the
safety warning. In this section, we mainly vary the number Nu
of RSUs deployed on the highway, the traffic densities (λe and
λw), the wireless transmission range R, and the vehicle speeds
(ve and vw) to evaluate how they impact various characteristics
of VANET, particularly the network. Then, we calculate the
expected rehealing delay and the expected number of rehealing
hops based on the simulated traffic situation.
• Effects of the vehicle’s density. Fig. 5 plots the expected
rehealing delay and the expected number of rehealing hops
against the number Nu of RSUs deployed on a 300-km
highway, where R = 250 m. According to the empirical
data shown in Table II, we set ve = vw = 10 m/s for
λe = λw = 0.07 veh/m and ve = vw = 30 m/s for other
cases. Fig. 5(a) shows that the expected rehealing delay
decreases as the vehicles’ densities λe and λw increase.
For λe = λw ≥ 0.02 veh/m, the rehealing delay is less
3596 IEEE TRANSACTIONS ON VEHICULAR TECHNOLOGY, VOL. 60, NO. 8, OCTOBER 2011
Fig. 6. Effects of the transmission range R (L = 300 km and ve = vw = 30 m/s). (a) Expected rehealing delay (λe = λw = 0.02 veh/m). (b) Expected
number of rehealing hops (λe = λw = 0.02 veh/m). (c) Expected rehealing delay (λe = λw = 0.004 veh/m). (d) Expected number of rehealing hops (λe =
λw = 0.004 veh/m).
Fig. 7. Probability of case 1 (L = 300 km, ve = vw = 30 m/s, and
R = 250 m).
VI. SAFETY SCENARIO OVER A REGION OF INTEREST
In Section V, we use a discrete-event-based C++ simulator
to validate our proposed analytical model and show how RSU
deployment can reduce the rehealing time and the number of re-
healing hops in message broadcasting. In the previous sections,
the intervehicle spacing is considered to follow an exponential
distribution. In this section, the initial vehicle placement for the
highway scenario is generated through VisSim (which is a well-
known transportation simulator) [31]. The average vehicle’s
speed is v = ve = vw = 90 km/h (i.e., 25 m/s). The following
two types of broadcast-based messages are used for traffic-
safety-related communications by VSC: 1) periodic messages
(i.e., beacons) that are sent by all vehicles to inform their
neighbors about their current status (i.e., position) and 2) event-
driven messages that are sent whenever a hazard has been de-
tected. According to the traffic scenario that was recommended
in [8], we consider four traffic flow rates with 432, 864, 1188,
and 1728 veh/h. The output trace file records the information of
3598 IEEE TRANSACTIONS ON VEHICULAR TECHNOLOGY, VOL. 60, NO. 8, OCTOBER 2011
Fig. 9. Message penetration time of the safety message.
message penetration time, because the delay incurred in
store–carry–forward (which highly depends on the ve-
hicles’ speeds) significantly increases. When more than
12 RSUs are deployed on the RoI, the VANET is dense,
and the message delivery can be achieved through direct
transmission. It is interesting to note that the C++ and
the ns-2 simulation results are similar when the VANET
is dense.
• Effects of the channel congestion. To study the perfor-
mance in a congested channel, we illustrate the packet de-
livery ratio (PDR) of the rehealing node with 2- and 5-Hz
beacon frequencies. The PDR is defined as the ratio of the
total number of packets received in the rehealing node to
the total number packets sent by the source nodeV0.
As shown in Fig. 10(a), the PDR significantly decreases
as the number of neighboring nodes with periodic bea-
coning increases. For example, when there is no RSU, the
PDR decreases from 46.4% to 17.6% when the traffic flow
rate increases from 1188 veh/h to 1728 veh/h at a 5-Hz
beacon frequency, respectively. Note that a packet can fail
to successfully be transmitted, including collisions, hidden
nodes, and weak signal strength. Therefore, the packet loss
that is observed in Fig. 10(a) can be caused by interference
from both direct and/or hidden nodes. In the simulation
experiments conducted, we find that a hidden node can
decrease the delivery ratio by about 1%–3% (for example,
the computer simulations conducted show that, when there
is no RSU at a traffic flow rate of 1188 veh/h, the PDR
decreases from 46.4% to 43.5% if there is an additional
hidden node located within the transmission range of the
rehealing node).
Fig. 10(a) also clearly shows that, when the number
of RSUs deployed on the RoI increases, the PDR of the
rehealing node improves, because the distance between
V0 and the rehealing node becomes smaller. For example,
adding 10 RSUs on a 5-km-RoI when the traffic flow rate
with 1728 veh/h, the PDR of the rehealing node improves
from 42% to 92% and from 18% to 79% for beacon
frequencies of 2 and 5 Hz, respectively.
Fig. 10. Effects of the beacon frequency on a 5-km RoI. (a) Packet delivery
ratio. (b) Expected rehealing delay.
In Fig. 10(b), we observe that the beacon messages
have little impact on the delivery delay experienced by
the rehealing node. The delivery delay only slightly in-
creases as the beacon frequency increases. This case is
because the MAC/PHY layers’ spatial delay caused by
contention/collision is much smaller than the store–carry–
forward temporal delay.
• Effects of the congested traffic. We conduct simulations to
investigate two congested traffic scenarios with the aver-
age intervehicle spacing of 10 m and 20 m, respectively.
The results in Fig. 11 clearly show that as the number
of RSUs deployed on the RoI increases, the PDR of the
rehealing node significantly increases while the expected
rehealing delay significantly decreases. For example, at the
average intervehicle spacing of 10 m, as deploying 10 an
15 RSUs on a 5-km RoI, the respective PDRs become
45.3% and 60.5%; while the respective delivery delays
become 62.7 ms and 51.4 ms.
• Effects of the multiple lane highway. Fig. 12 shows the
PDR of the rehealing node and the expected rehealing
3600 IEEE TRANSACTIONS ON VEHICULAR TECHNOLOGY, VOL. 60, NO. 8, OCTOBER 2011
ever, that through the broadcast mitigation techniques described
in [2] and the RSU-advertising model proposed in this paper,
contention can be mitigated substantially. For example, our
RSU-adverting model can ensure that other vehicles do not
keep broadcasting; instead, the responsible RSU can broadcast
the message.
Note that some of the assumptions made in this paper are
not absolute and can easily be relaxed. For example, to gain
some fundamental insights into the deployment of RSUs, we
assumed in this paper that the RSUs will uniformly be deployed
along a highway. This assumption can be relaxed, and we could
consider nonuniformly and judiciously deploying RSUs at
locations where accidents are more likely to occur. Another
option is to place RSUs with a probabilistic approach, where
we target a certain probability for each safety message to reach
an RSU within a given maximum time. Clearly, all of these
options are plausible and highly dependent on the cost of RSUs
and the investment that the Department of Transportation (DoT)
of different countries are willing to make. Further research will
be needed to investigate some of these interesting variants.
Based on the empirical study in [3], we have conducted
simulation experiments to investigate several fundamental
network characteristics and performance metrics of interest,
e.g., the connectivity probability, the expected rehealing de-
lay, the average number of rehealing hops, and the message
penetration time. Our results show that the safety of high-
way VANETs (as measured by these performance metrics)
can substantially be improved, even with a limited number
of RSUs. It is worth mentioning here that the results of this
paper pertain to highway VANET scenarios and cannot be
directly applied to urban scenarios as the latter have very
different characteristics, e.g., accidents occur more frequently
at intersections, so placing RSUs uniformly would not be wise.
In addition, compared with highway VANETs, the mobility and
connectivity properties of urban VANETs are very different, as
shown in [33].
Note that the results presented in this paper are based on the
models, assumptions, and definitions used in this paper. Among
these factors, the definition of rehealing time is important,
because this paper takes the viewpoint that, when a message
is relayed through the store–carry–forward mechanism to an
RSU or a car in the RoI, rehealing is achieved. In other words,
this viewpoint is based on treating an RSU as an equivalent
node (member) of the VANET as other cars. This definition or
viewpoint, however, is not absolute, because other definitions
are also plausible. We could take the viewpoint, for example,
that the RSUs should be differently treated from other cars
in a VANET. In this case, the rehealing time would be the
time that the message would take to reach another car in the
RoI (compared to a car or an RSU). This definition is stricter,
and the results obtained with this definition would be very
different. In [24], for example, it is shown that, if we take this
viewpoint, deploying ad hoc (i.e., disconnected) RSUs does
not significantly improve the rehealing time and substantial
reductions in the rehealing time are only possible when the
RSUs are connected through fiber or wireless communications.
Such conclusions can also be drawn based on Fig. 6 (see
Section V).
VIII. CONCLUSION
In VANET safety applications, the source vehicle that detects
an accident can generate a warning message and propagate it to
the following vehicles to notify other drivers before they reach
the potential danger zone on the road. To reduce the rehealing
time for a sparse VANET and to decrease the number of reheal-
ing hops for a dense VANET, we can make use of the RSUs to
assist the traffic safety messaging. Based on highway scenarios,
we have investigated the rehealing delay and the number of
rehealing hops needed to propagate a traffic safety message
to a rehealing node. A comprehensive analytical framework is
developed to determine the benefits of deployment of RSUs on
the performance of a VANET in a highway scenario. We have
also validated the results of our analytical framework through
extensive simulations. The following observations summarize
our main findings.
• On a 300-km highway, for example, the rehealing delay is
reduced by 70%, whereas the average number of rehealing
hops is reduced by 68.4% when deploying 50 RSUs com-
pared to an operation with no RSU. Therefore, deploying a
small number of RSUs can achieve a substantial improve-
ment when the vehicular network is sparse.
• Even when 50 RSUs are deployed on a 300-km highway,
the broadcast traffic will effectively stop when a succeed-
ing RSU receives the message; therefore, we can prevent
a broadcast storm that is induced by the broadcast of the
traffic safety message.
• For a 300-km highway, the number of hops required for
rehealing is less than 5 in all cases for Nu > 100.
• We have examined the RSU performance when important
issues such as vehicle deceleration, channel congestion,
different beacon frequencies, hidden node problem, and
multilane traffic are considered. We observe that RSU
deployment can significantly improve the message pene-
tration time, packet delivery ratio, and the delivery delay
of a rehealing node.
As a final remark, we note that, although this paper has inves-
tigated the impact of RSU deployment on the performance of
safety applications for VANETs in highway scenarios, further
research is needed to extend this model to urban scenarios,
where the accident occurrences are not uniformly distributed on
the road, because the intersection traffic is more complicated,
and more prone to accidents. Our current research is focused
on these extensions.
APPENDIX
Let a = λe(s− jR) and f(a) =
∑∞
n=j−1((n+ 1)/(n+
1− j)!)an. Let g(a) =∑∞n=j−1(an+1/(n+ 1− j)!). Then,
we have f(a) = (d/da)g(a). Based on the aforementioned
ddefinitions, we have
g(a) =
∞∑
n=j−1
an+1
(n+ 1− j)!
= aj
∞∑
n=j−1
an+1−j
(n+ 1− j)! = a
jea. (20)
3602 IEEE TRANSACTIONS ON VEHICULAR TECHNOLOGY, VOL. 60, NO. 8, OCTOBER 2011
Ozan K. Tonguz (M’11) received the B.Sc. de-
gree in electrical engineering from the University
of Essex, Colchester, U.K., and the M.Sc. and
Ph.D. degrees in electrical engineering from Rutgers
University, Piscataway, NJ.
From 1988 to 1990, prior to joining academia, he
was with Bell Communications Research (Bellcore),
where he conducted research in optical networks
and communication systems. In 1990, he joined the
Department of Electrical and Computer Engineering,
State University of New York, Buffalo, as an Assis-
tant Professor where he was granted early tenure and was promoted to Associate
Professor in 1995 and to Full Professor in 1998. In August 2000, he joined
Carnegie Mellon University (CMU), Pittsburgh, PA, where he is currently
a tenured Full Professor with the Department of Electrical and Computer
Engineering. He is well known for his contributions to vehicular ad hoc
networks, wireless communications and networks, and optical communications
and networks. He is a coauthor (with G. Ferrari) of the book Ad Hoc Wireless
Networks: A Communication-Theoretic Perspective (Wiley). He was also the
architect of the High Performance Waveform (HPW), which was implemented
in the Harris RF Communications AN/PRC-117f UHF-band manpack tactical
radio. His industrial experience includes periods with Bell Communications
Research, CTI Inc., Harris RF Communications, Aria Wireless Systems, Clear-
wire Technologies, Nokia Networks, Nokia Research Center, Neuro Kinetics,
Asea Brown Boveri, General Motors, Texas Instruments, and Intel. He was
also a Codirector (Thrust Leader) of the Center for Wireless and Broadband
Networking Research, CMU. He has served as a Consultant or Expert for
several companies (such as Aria Wireless Systems, Harris RF Communica-
tions, Clearwire Technologies, Nokia Networks, Alcatel, and Lucent Tech-
nologies), major law firms (such as Jones Day, WilmerHale, Williams and
Connolly, Heller Ehrman, and Baker Botts), and government agencies in
the U.S., Europe, and Asia in telecommunications and networking. He co-
founded Virtual Traffic Lights, LLC, a CMU spinoff, in December 2010,
which specializes in providing solutions to several transportation problems
(such as safety and traffic information systems) using V2V and V2I commu-
nications paradigms. His research interests include vehicular ad hoc networks
and sensor networks, wireless communication systems and networks, self-
organizing networks, high-speed networking (Internet), optical communica-
tions and networks, satellite communications, bioinformatics, and security.
He has published close to 300 technical papers in these areas in the IEEE
PROCEEDINGS AND CONFERENCE PROCEEDINGS. More details about his
research interests, research group, projects, and publications can be found at
http://www.ece.cmu.edu/ tonguz/
Dr. Tonguz has served on the Technical Program Committees of several IEEE
conferences, e.g., the IEEE International Conference on Computer Commu-
nications (INFOCOM); the IEEE Conference on Sensor, Mesh, and Ad Hoc
Communications and Networks (SECON); the IEEE International Conference
on Global Communications (GLOBECOM); the IEEE International Confer-
ence on Communications; the IEEE Vehicular Technology Conference; and the
IEEE Wireless Communications and Networking Conference; and symposia
in wireless communications and optical networks. He has served as an Asso-
ciate Editor for the IEEE TRANSACTIONS ON COMMUNICATIONS, the IEEE
COMMUNICATIONS MAGAZINE, and the IEEE JOURNAL OF LIGHTWAVE
TECHNOLOGY. He was a Guest Editor of the Special Issue of the Elsevier Ad
Hoc Networks Journal on Vehicular Networks in 2010 and a Guest Editor of the
IEEE JOURNAL OF LIGHTWAVE TECHNOLOGY and the IEEE JOURNAL ON
SELECTED AREAS IN COMMUNICATIONS Special Issue on Multiwavelength
Optical Networks and Technology, published in 1996.
2contend on the channel. If each vehicle transmits a packet with
probability τ , Ptx(m) = 1−(1−τ)m.1 The probability Ps(m)
of a non-collision transmission follows
Ps(m) =
(m1 )τ(1−τ)m−1
Ptx(m)
= mτ(1−τ)
m−1
1−(1−τ)m . (3)
Let B be the transmission bandwidth of an AP. Suppose that
the wireless transmission error rate is pe, given thatm vehicles
associated with the AP, the effective AP bandwidth for non-
collision transmission is therefore
B∗(m) = B(1− pe)Ps(m) = B(1−pe)mτ(1−τ)
m−1
1−(1−τ)m . (4)
Under the same wireless condition, given that there are Ntx
vehicles associated with an AP, the transmission bandwidth of
each vehicle is approximated by b = B∗(m)/Ntx. From the
probability mass function of Ntx derived in (2), on average,
X has the effective transmission rate
b=
∑∞
m=1 Pr[Ntx = m]
(
B∗(m)
m
)
. (5)
In the literature, we find that the most common data traffic
model is based on Pareto distribution [8]. Let y be the data
volume delivered in a vehicular session that follows a Pareto
distribution with shape parameter α and scale parameter k.
Then, y has the cumulative distribution function
F (Y ) = 1− ( kY )α , for Y > k. (6)
Let λr be the packet retransmission rate incurred due to the
packet loss/error over the transport layer.2 Hence, y∗ = y(1+
λr) is the total volume of data transmitted. Since Pr[y∗ < a] =
Pr[y < a1+λr ], y
∗ has the cumulative distribution function
G(Z) = 1−
[
k(1+λr)
Z
]α
= 1−
(
k∗
Z
)α
, for Z > k∗. (7)
In Fig. 1, vehicle X starts a session in AP1 at any arbitrary
time tstart. The session connection time is ts = t
(1)
out − tstart.
Assume the AP association delay is tl, it is clear that 0 < ts <
L
v − tl. Denote the distance between where X starts a session
and where it departs AP1 as l, we have ts = min( lv ,
L
v − tl).
Considering l has a uniform distribution, where fl(l) = 1/L,
for 0 < l < L. If y∗ ≤ bts, the session will be complete
before X departs AP1. From Eq. (5), the session completion
probability P1 for a vehicular session within AP1 is derived
as
P1=
∫ L
l=0
Pr[y∗ < bts]fl(l)dl
= 1L
{
tlvG(b(
L
v − tl)) +
∫ L
l=tlv
G(b( lv ))dl
}
. (8)
Eq. (8) comprises of two terms that refer to situations in
which the session is issued at a random point over (0, tlv)
and (tlv, L), respectively. In the first term, the association
procedure is still ongoing and the data transmission begins
after the association is finished, with ts = Lv −tl. In the second
term, the vehicle has already associated to the AP and the data
1Note that τ depends on the collision probability and the contention window
size in each backoff stage. If no exponential backoff is used, the contention
window size W will be a fixed value, and τ = 1
W+1
.
2The retransmission rate is affected by the packet drop rate, the transmission
round trip time, and the time-out mechanism used by the transport layer.
transmission starts immediately, with ts = lv . For y
∗ > k∗
(i.e., l > vk∗/b), let lmin = vk∗/b and lmax = L− tlv. After
some manipulations, (8) is expressed in closed form as
P1=1− 1L
[
tlv + lmin +
(
k∗v
b
)α
(1− α)−1(l1−αmax − l1−αmin )
]
+ tlvL
[
1−
(
k∗v
lmaxb
)α]
. (9)
It is worth to note that Delay Tolerant Network (DTN)
technique could be used to allow vehicles starting sessions
even when the AP is not available [9]. In this case, the data
transmission starts immediately just after a vehicle associated
with an AP, which gives ts = Lv − tl. The completion proba-
bility for a vehicle therefore becomes
[
1−
(
k∗v
(L−tlv)b
)α]
.
III. NUMERICAL EXAMPLES
We develop a C++ discrete-event simulation to validate the
proposed analytical model. Each data point on the plots shown
in this letter is an average of 1,000,000 samples of such cases.
The discrepancies between the analysis (see the solid lines)
and the simulation data (see the ⋆, , ▽ symbols) are matched
as shown in Fig. 2.
In each simulation round, we use the inter-spacing model
to generate the vehicles’ locations. Then, we determine the
number of vehicles currently located and associated with an
AP. These vehicles content for the wireless channel. To create
a more comprehensive result in the simulation model, we use
a dichotomized headway distribution to model the headways
between vehicles as discussed in [11]. In this model, a bunched
vehicle keeping a minimum headway ∆min follows the pre-
ceding vehicle as closely as is reasonable and safe; a free
vehicle having a headway equals to ∆min plus an exponential
distributed distance travels freely without interacting with
the vehicles ahead. The proportion γ of free vehicles on a
road is computed by using Eq. (6) in [11]. Although our
analysis is based on an exponential headway (i.e., γ = 1 and
∆min = 0), Fig. 2 demonstrates that our model provides a
good approximation to the dichotomized headway as well.
In the experiments, we consider one AP that deployed on the
straight road having an equivalent coverage length of L = 2R.
We consider pe = 1%, ρ = 100%, W = 64 and ∆min =
37.5 m. The number of vehicles associated with the AP and the
data volume delivered in each vehicular session are modeled as
random variables based on previous empirical measurements:
According to the empirical data studied in [10], the traffic
flow rate q ranging from 432 to 2880 vehicles per hour. The
road-level density µ is then calculated from q and the speed
v. In previous measurements [8], the authors found WWW
traffic and document sizes (measured in bytes) to be Pareto
distributed with shape parameter α = 1.06, which is taken as
the default value in our simulation.
A. Effects of P1 on B and E[y]
Fig. 2 (a) plots P1 against the AP bandwidth B ranging from
10 to 100 Mbps, where the traffic flow q = 1728 veh/hr, the
transmission range R = 250 m, and v = 90 km/hr. Note that
the contention rate is high when q = 1728 veh/hr. We observe
A Video Frame Exchange Protocol with Selshness Detection
Mechanism under Sparse Infrastructure-based Deployment in VANET
Sok-Ian Sou
Institute of Computer and
Communication Engineering
National Cheng Kung University, Taiwan
Email: sisou@mail.ncku.edu.tw
Wen-Cheng Shieh
Institute of Computer and
Communication Engineering
National Cheng Kung University, Taiwan
Email: q36984278@mail.ncku.edu.tw
Yinman Lee
Graduate Institute of
Communication Engineering
National Chi Nan University, Taiwan
Email: ymlee@ncnu.edu.tw
AbstractDue to the limited budget and high maintenance
cost, it is difcult to deploy a large amount of roadside units
(such as 802.11 base stations) to cover the complicated road
areas. This paper addresses an important topic on frame sharing
since vehicles often need to download large size data such as
video clips regarding local news. It is important to fairly use
V2V communications at places where an infrastructure is not
immediately available or cannot be directly used. We aim to im-
prove local video downloading performance by integrating V2V
and V2I communications. The proposed approach, ZFEP/SD, is
able to exploit user requests locality and to initiate video frames
sharing among neighboring vehicles. We also consider the case of
selsh users, e.g., those not willing to share frames with others.
Numerical results show that our ZFEP performs better than a
pure infrastructure-based download, and that ZFEP/SD ensures
that cooperative nodes always get better service than every type
of selsh nodes.
Index Terms802.11p, selshness, MPEG, reputation, VANET
I. INTRODUCTION
Data communication in Vehicular Ad hoc Networks
(VANETs) is a challenging task due to high-mobility vehicles
and fast-changing network topology. Efficiency of Vehicle-to-
Vehicle (V2V) message delivery highly depends on the road
topology, the time-varying traffic flow along with the penetra-
tion rate of on-board units equipped. Currently, IEEE 802.11p
and 1609 standards are under development to support V2V
and Vehicle-to-Infrastructure (V2I) communications. Several
advanced intelligent transportation solutions have arisen to
improve traffic safety as well as drivers’ comfort.
Today, many vehicle manufacturers provide V2V commu-
nication with IEEE 802.11p that allows all passengers in
the vehicles can achieve traveler information easily. Due to
the expensive setup and maintenance cost in the complicated
outdoor roads, ubiquitous infrastructure support would require
very high cost to deploy, and perhaps even a higher cost to
maintain in an operational condition. Hence, the need exists
for intermittent connectivity, where a vehicle is only connected
to an Access Point (AP), or so called Roadside Unit (RSU)
in some portion of roads. To keep the VANET scalable,
no additionally expensive gateway is necessarily required.
In order to support a reasonable download time in such
The work of S.-I. Sou was sponsored in part by the National Science
Council (NSC), Taiwan, R. O. C., under the contract number NSC 99-2221-
E-006-122-.
environments, it is important to efficiently engage V2V and
V2I communications to improve the performance of sessions
that demand high bandwidth.
Existing research in VANET mainly focused on traffic safety
applications [1], [2], [3], [4]. In addition to safety applications,
users can enjoy comfort applications, such as web browsing
and multimedia data downloading. This paper proposes a video
frame exchange protocol for vehicles to share local informa-
tion they recently downloaded from sparse infrastructure-based
deployment in VANET. For example, vehicles driving around
might have a common interest in local video clips such as
the latest weather forecasts, news, etc. Another example is
that travelers need to plan a route, download a tourist guide,
seeking for a restaurant to eat, and finding a hotel to stay. More
interestingly, travelers are grateful to download sightseeing
video clips to know the city. Also, drivers would like to view
the clips before they arrive to the destination. However, video
clips (i.e., MPEG files) are quite large, when the deployment of
AP is not dense, it is hard to complete the video downloading
session under a time threshold.
To shorten the download time, one solution is to downgrade
the video quality and/or video size into a small enough clip.
Another solution, without degrading video quality, is to fairly
use V2V communications at places where an infrastructure is
not immediately available or cannot be directly used. This
paper proposes a fair V2V sharing mechanism such that
vehicles are encouraged for frame sharing. If more users share
the video frames they recently obtained, the download sessions
for video clips will be finished much faster even without
downgrading video quality.
In this paper, we propose a Zone-based Frame Exchange
Protocol (ZFEP) for drivers to share local information using
V2V communication. The idea behinds ZFEP is based on
spatial locality of user interest and the use of flexibility of
MPEG encoding. We engage both V2I and V2V communica-
tions. Through our proposed ZFEP, users can download video
frames from RSUs or neighboring vehicles. Numerical results
show that the video downloading can significantly speed up
and the video quality can be substantially improved.
Another important issue relating to V2V is selfishness
prevention. The functioning of a VANET depends on the
cooperation of the nodes in the network. Consequently, nodes
may not always behave cooperatively unless incentives are
Fourth IEEE International Workshop on Selected Topics in Mobile and Wireless Computing978-1-4244-7803-3/10/$26.00  ©2010 IEEE 498
images. Although B-frame achieves the most compression, B-
frame is the most complicated in decoding.
In the above MPEG format, the minimum video quality can
be achieved when all I-frames of video file are obtained, and
the higher video quality can be achieved by the additional
P-frames or B-frames. In the video downloading, the higher
the successful rate of decoding, the better the video quality is.
Moreover, the download time needed before the driver can start
to play the clip should be as short as possible. Drivers would
like to view the clips before they arrive to the destination. Due
to high mobility and the intermittent connection, the download
time is hard to shorten without degrading video quality. ZFEP
breaks video into I, P, B frames, and then exchange meta
information considering the priority of frame with neighbors
before determining what can be downloaded or shared to its
neighbors. A threshold time T is set to balance the download
time as well as the video quality. Users download video frames
in priority order with I, P and B within the threshold T. If users
do not complete the download of all I-frames within period T,
users will only download the remaining I-frames and ignore
all P and B frames. If users have downloaded all I-frames
in time period T, users will download other P and B frames
before timer T expires. In such as way, we can control the
video quality as well as the download time spent in a video
file for downloading in sparse VANET.
A. ZFEP
In this subsection, we discuss the details of ZFEP to cope
with cooperative downloading for vehicles traveling in a zone.
In sparse VANET, users may not download all video frames
within an RSU transmission area. It is important to fairly use
V2V communications at places where an infrastructure is not
immediately available or cannot be directly used. The ZFEP
aims to improve the download performance using both V2I
and V2V communications for vehicles that interesting in local
video clips.
The objective of ZFEP is to provide frame exchange among
vehicles. Each vehicle maintains a list of the video index
and the frame index that they have recently received. When
two neighboring vehicles are in the transmission range, they
exchange the history of video downloading and check whether
they can exchange/share video frames by their common inter-
est. Vehicles broadcast beacon message periodically. Fig. 1
shows the beacon format with extra fields attached by ZFEP.
Only vehicle with ZFEP can decode these attached fields,
vehicles without ZFEP simply ignore them. In ZFEP, we do
not consider selfish users. Therefore, a vehicle connects to
RSUs always downloading video frames from RSU. When
it disconnects with RSUs, it checks the ZFEP information
from the neighbors’ beacon messages to find potential frame
providers. The vehicle sends a ZFEP Request to neighbors
with video frames that it needs. Non-selfish users always share
frames to other requesters.
	 
	














	 
!
"!
#$%	 
"
&%
'$("	)
Fig. 1. Beacon format with ZFEP/SD attributes.
B. ZFEP/SD
In the previous subsection, we show that both the video
quality and the download time can be substantially improved
by using the ZFEP when all users are willing to share frames.
However, when downloading from RSU is not for free, some
vehicles may behave selfishly. Sometimes, the vehicles that
download packets from infrastructure-based RSUs need to pay
the service provider; while the users that download from peer
vehicles need not to pay. It is clear that as the number of selfish
users increases, the number of frame provider decreases, which
degrades the performance of ZFEP.
Therefore, we propose a selfishness detection mechanism,
ZFEP/SD, used along with ZFEP to prevent the selfish be-
havior. The goal of this optional mechanism for ZFEP is to
trigger punishment on selfish behavior as well as to motivate
more cooperation in ZFEP. With ZFEP/SD, non-selfish users
(cooperators) determine to share frame or not by measuring a
requester’s reputation in ZFEP/SD system. It is worth to note
that when the gain obtained by a selfish user is less than that
by a cooperator, selfish behavior can be effectively prevented
in rational users.
As mentioned in previous subsection, each vehicle period-
ically broadcasts beacon packets with ZFEP information to
other neighboring vehicles. As shown in Fig. 1, the infor-
mation of historical contribution to ZFEP/SD is attached to
the beacon packets. For security purposes, we assume every
vehicle using ZFEP is equipped with a tamper-proof device.
Only an authority organization has the interface to access and
modify the content. This tamper-proof device is used to record
download and sharing history of each user. The securing route
establishment is outside the scope of this work, but ZFEP
can be implemented along with a watchdog module, on built
on the top of a secure routing protocol such as ARAN and
Ariadne. When user sends or receives packets through ZFEP,
three attributes are updated: (1) D: the data volume of video
frames that have been downloaded from RSUs, (2) S: the500
(a) Real map
(b) TIGER/SUMO map
Fig. 3. Map of section of San Francisco used in the simulation.
In each simulation round, we randomly choose 20-100
download vehicles among 200 vehicles to initiate downloading
session for the video clip. The download video file is the
MPEG-4 video clip taken for Taiwan Pavilion at Shanghai
Expo, 2011. This video clip contains 1800 frames, including
228 I-frames, 372 P-frames and 1200 B-frames. The simu-
lation time is 200 seconds, consisting of a 20-second entry
phase, 150-second production phase, and 30-second exit phase.
A user initiates the video download session at any time in
the production phase. No session is initiated during the exit
phase to ensure that all download vehicles have enough time
to complete the session.
B. ZFEP without selsh users
Effects of completion probability without selfish users:
Fig. 4 compares the completion probability in downloading
with the best video quality between ZFEP and pure V2I
mechanisms. There are 100 download vehicles in this ex-
periment. Vehicles download all I-, P-, and B-frames of the
0 20 40 60 80 100 120 140 160 180
0
10
20
30
40
50
60
70
80
90
100
Time t (seconds)
C
om
pl
et
io
n 
pe
rc
en
ta
ge
 (%
)
 
 
ZFEP (Best quality)
V2I (Best Quality)
Fig. 4. Completion probability of downloading with best quality (without
selfish user).
video clips. It is clear that ZFEP mechanism outperforms pure
V2I mechanism by about 50% in completion rate under the
same download time. We show that download sessions can be
significantly speed up by motivating cooperation (i.e., V2V
communications) between neighbors traveling on the same
area and having common interest on local video clips.
Effects of PSNR without selfish users: To investigate the
quality of the video clip that downloaded by a ZFEP user
within the threshold time, we use Peak Signal-to-Noise Ratio
(PSNR) to measure the quality of downloaded and original
video images. PSNR is measured on a logarithmic scale and
is based on the mean squared error (MSE) between an original
and an impaired video frame.
Fig. 5 plots the average PSNR of the downloaded video
clip in ZFEP and pure V2I mechanisms considering different
quality requirements. Three download policies are considered:
1) Basic quality: only downloads I-frame and requires the
minimum download time because only the base layer
(I-frames) of the video clip is needed;
2) Medium quality: the download threshold timer T is set
to 60 seconds;
3) Best quality: all video frames are downloaded.
Fig. 5 shows that ZFEP mechanism outperforms pure V2I
mechanism over all three download policies. For example,
when there are 100 download users, the performance in ZFEP
mechanism outperforms V2I mechanism by about 20%, 25%
and 35% with download policies (1), (2) and (3), respectively.
Effects of the number of complete downloads: Fig. 6
plots the proportion of complete downloads as a function of
the number of download vehicles. As the number of download
vehicles increases, the performance of ZFEP in terms of
completion rate increases. It shows that ZFEP mechanism
outperforms V2I mechanism by more than 50% in all cases.
C. ZFEP/SD with selsh users
This subsection compares the download performance be-
tween cooperators (non-selfish users) and defectors (selfish502
0 20 40 60 80 100 120 140 160 180
0
1
2
3
4
5
6
7
8
9
10
Time t (seconds)
C
oo
pe
ra
to
r’
s g
ai
n 
ov
er
 d
ef
ec
to
r’
s g
ai
n
 
 
ZFEP
ZFEP/SD (Contribution per time unit)
Fig. 8. Effects on Type B selfishness.
0 20 40 60 80 100 120 140 160 180
0
1
2
3
4
5
6
7
8
9
10
Time t (seconds)
C
oo
pe
ra
to
r’
s g
ai
n 
ov
er
 d
ef
ec
to
r’
s g
ai
n
 
 
ZFEP
ZFEP/SD (Contribution per time unit)
Fig. 9. Effects on Type C selfishness.
vehicle can not download from RSUs, or the case which a
vehicle does not download from RSUs. Second, users who
complete their download sessions need not download frames
from RSUs, and their records for the field D are unchanged.
Therefore, the cooperators are encouraged to keep download
other recent video clips such that their good reputation is not
wasted. Among all, Type B selfishness is the hardest one to
be detected in sparse network.
V. CONCLUSIONS
Recent advances in wireless technology provide interesting
and effective solutions for vehicular applications. Due to high
deployment cost, deploying roadside units with low cost while
maintaining high data throughput becomes an important topic.
We use RSUs in tandem with V2V sharing to opportunistically
download selected frames of MPEG encoded video files from
neighbors.
Our goal is to speed up download time using V2V tech-
nology and/or improve the quality of the video. Specifically,
we proposed a Zone-based Frame Exchange Protocol (ZFEP)
for frame-level video sharing among peers. Along with an
optional Selfishness Detection (SD) mechanism built on top
of ZFEP, ZFEP/SD can detect selfish behavior and to provide
incentive for frame sharing. Through extensive simulation over
a realistic map, we show that using our proposed ZFEP per-
forms better than a pure infrastructure-based download. Also,
the ZFEP/SD ensures that cooperative nodes get better service
than all types of selfish nodes. The extensive simulation results
show that our proposed protocol is practical, scalable and cost-
effective in vehicular networks.
REFERENCES
[1] C. Lochert, B. Scheuermann, M. Caliskan, and M. Mauve, “The
feasibility of information dissemination in vehicular ad-hoc networks,”
in WONS ’07: Proceedings of the 4th Annual Conference on Wireless
On-demand Network Systems and Services, Jan. 2007, pp. 92–99.
[2] M.F. Leung, and S.H.G. Chan, “Broadcast-Based Peer-to-Peer Col-
laborative Video Streaming Among Mobiles,” IEEE Transactions on
Broadcasting, vol. 53, no. 1, pp. 350–361, Mar. 2007.
[3] F. Bai, T. Elbatt, G. Hollan, H. Krishnan, and V. Sadekar, “Towards
Characterizing and Classifying Communication based Automotive Appli-
cations from a Wireless Networking Perspective,” in Proceedings of IEEE
Workshop on Automotive Networking and Applications (AutoNet), Dec.
2006.
[4] L. Campelli, M. Cesana, and R. Fracchia, “Directional Broadcast For-
warding of Alarm Messages in VANETs,” in Fourth Annual Conference
on Wireless on Demand Network Systems and Services, Jan. 2007, pp.
72–79.
[5] P. Golle, K. Leyton-Brown, and I. Mironov, “Incentives for Sharing in
Peer-to-Peer Networks,” in 3rd ACM Conf. on Electronic Commerce,
2001, pp. 264–267.
[6] T. B. Ma, C. M. Lee, J. C. S. Lui, and K. Y. Yau, “An Incentive
Mechanism for P2P Networks,” in IEEE ICDCS, March 2004, pp. 516–
523.
[7] T. B. Ma, C. M. Lee, J. C. S. Lui, and K. Y. Yau, “Incentive and
Service Differentiation in P2P Networks: A Game Theoretic Approach,”
IEEE/ACM Transactions on Networking, vol. 14, no. 5, pp. 978–991, Oct.
2006.
[8] M. Feldman, K. Lai, I. Stoica, and J. Chuang, “Robust Incentive
Techniques for Peer-to-Peer Networks,” in 5th ACM conference on
Electronic commerce, 2004, pp. 102–111.
[9] K. Lai, M. Feldman, I. Stoica, and J. Chuang, “Incentives for Cooperation
in Peer-to-Peer Networks,” in Workshop on Economics of P2P Systems,
2003.
[10] F. Wu and L. Zhang, “Proportional response dynamics leads to market
equilibrium,” in ACM STOC, 2007.
[11] M. Fiore and J. Barcelo-Ordinas, “Cooperative download in urban
vehicular networks,” in IEEE International Conference on Mobile Ad
Hoc and Sensor Systems, Oct 2009, pp. 20–29.
[12] M.F. Leung, S.H.G. Chan, “Broadcast-based peer-to-peer collaborative
video streaming among mobiles,” IEEE Transactions on Broadcasting,
vol. 53, no. 1, pp. 350–361, Mar. 2007.
[13] A. Nandan, S. Das, G. Pau, M. Gerla, and M.Y. Sanadidi, “Co-
operative Downloading in Vehicular Ad-hoc Wireless Networks,” in IEEE
International Conference on Mobile Ad Hoc and Sensor Systems, Jan.
2005, pp. 32–41.
[14] The Network Simulator (ns-2), http://www.isi.edu/nsnam/ns/.
[15] Topologically Integrated Geographic Encoding and Referencing system
(TIGER), http://www.census.gov/geo/www/tiger/.
[16] Simulation of Urban Mobility (SUMO),
http://sourceforge.net/apps/mediawiki/sumo.504
Link-based Incentive Mechanism (SLIC) assumed all users are 
rational and willing to share file to make profits. Therefore, 
SLIC transforms the contribution of each user into credits. If a 
user has more credit, more bandwidth will be allocated to this 
user. Buttyan [9] introduced a concept of Barter-Based 
cooperation. The users in Barter-Based Mechanism classify the 
packets into two categories: the primary and the secondary 
based on the utility. This mechanism sets up 
exchange/cooperation even when users have different interests. 
Chen [10] combined the coalitional game theory and credit-
based approach [11] to create an account of virtual currency for 
each user. Users form a bigger union to earn more payoffs and 
to encourage users for cooperation.  
There are more challenges in file sharing in sparse VANET 
due to the intermittent connection and the constantly changing 
topology. This paper proposes the VFSM and selfishness 
detection mechanism to handle video sharing in sparse VANET. 
We also investigate how to prevent selfish node in VFSM. 
III. SYSTEM ARCHITECTURE 
A. MPEG Video Format 
The video format chosen in this paper is MPEG format. 
There are three types of frames transmitted in the video stream: 
Intra-frame (I-frame), Predicted-frame (P-frame) and 
Bidirectional-frame (B-frame). MPEG uses Group Of Picture 
(GOP) in encoding, represented by (N, M), where N represents 
the distance between successive I-frames, and M represents the 
distance between an I-frame and a P-frame or two P-frames. 
Fig. 1 shows an example of GOP for parameters (N, M) = (12, 
3). I-frame images are full images and similar to JPEG images. 
P-frame images contain a partial image comprising only the 
changed parts from the previous I-frame or P-frame. B-frame 
image contains partial image comprising not only based on the 
previous I-frame or P-frame image but also the following I-
frame or P-frame image, so the decoding progress of B-frame 
needs to receive more frames. Although B-frame achieves the 
most compression, B-frame is the most complicated in 
decoding. 
Due to high mobility and the intermittent connection, the 
download session between a RSU and a vehicle is hard to 
maintain. Hence, it is essential to balance the tradeoffs among 
the video quality, the download time and the cost spent in 
download session. Based on the above MPEG format, the 
minimum video quality can be achieved when all I-frames of 
video file are obtained, and the higher video quality can be 
achieved by downloading all I-, P- and B-frames. Due to high 
mobility and the intermittent connection, the download time is 
hard to shorten without degrading video quality. VFSM breaks 
video into three priority order with I-, P- and B-frames, and 
then exchanges media information considering the priority of 
frame with neighbors before determining what can be 
downloaded or shared. A threshold time T is set to balance the 
download time as well as the video quality. Drivers download 
video frames in priority order with I-, P- and B-frame within 
the threshold T. If a driver does not complete the downloading 
of all I-frames within the time period T, he will only download 
the remaining I-frames and ignore all P- and B-frames. If a 
driver has downloaded all I-frames in the time period T, users 
will download other P- and B-frames before timer T expires. In 
such way, we are able to control the video quality as well as the 
download time spent in a video file for downloading in sparse 
VANET. 
 
Figure 1. Example of MPEG GOP (N=12, M=3). 
 
B. Peak Signal-to-Noise Ratio 
To compare the quality of video that users downloaded in 
different scenarios, we use PSNR (Peak Signal-to-Noise Ratio) 
as the standard for quality comparison between original video 
and the video has been downloaded. PSNR mainly compare the 
brightness of video frames between original video S and the 
user-downloaded video D. The equation to calculate PSNR 
value is 
 PSNR ൌ 20	 ∙ 	 logଵ଴ ቀ ୑୅ଡ଼√୑ୗ୉ቁ 
and 
 MSE ൌ	 ଵ୑୒∑ ∑ ሾYୱሺi, jሻ െ Yୈሺi, jሻሿଶ୒୨ୀ଴୑୧ୀ଴   
, where MSE is the variance of brightness value of frames 
between the original and user-download videos, M and N are 
the length and width of the frames, and Y is the value of 
brightness. MAX is the maximum possible pixel value of the 
image. When the pixels are represented using 8 bits per sample, 
MAX is 255. The greater the value of PSNR we calculated, the 
better the quality of videos we downloaded. Generally, when 
the value of PSNR is higher than 35dB, it is difficult to see the 
difference between two videos. In addition, when the two 
images are identical, the MSE will be zero. For this value the 
PSNR is undefined. 
C.  Video Frame Sharing Mechanism 
In sparse VANET, it is difficult for a user to download all 
video frames within a RSU transmission area. Before 
associating with the next RSU, the downloading performance 
can be enhanced when the cooperation among vehicles that 
have the same interest is activated. In this paper, we propose 
the VFSM with cooperative downloading for vehicles traveling 
in a zone. In VFSM, each vehicle maintains a list of the video 
ID and the frame index that have been received. When two 
neighboring vehicles are in the transmission range, they 
exchange the history of video downloading and check whether 
they can exchange/share downloaded video frames. Since 
vehicles broadcast beacon messages periodically, the VFSM 
information can be attached to a beacon message.  
the threshold timer T expires. 
(3) Best quality: all video frames are downloaded, i.e., user 
would download all I-, P-, and B-frames of video clip for 
the best video quality despite numerous waiting time. 
Table I. Simulation parameters. 
Parameter Value 
Simulation area 5km × 5km 
Simulation time 200 seconds 
Number of access points 25 
Vehicle velocity 60 km per hour 
Number of vehicles 200 
Number of download vehicles 20, 40, …, 100 
Communication range 250 m 
Propagation fading Ricean model 
Video MPEG-4, 1800 frames 
 
 
Figure 3. Map of section of San Francisco used in the simulation. 
B. Result Analysis of VFSM 
Effects of PSNR: Fig. 4 plots the average PSNR of user-
downloaded video in VFSM and simple V2I mechanism. It 
shows that VFSM outperforms simple V2I mechanism over all 
download policies. For example, when there are 100 download 
users, the performance in VFSM outperforms simple V2I 
mechanism by about 20% with download policies (1) and (2), 
and 35% with download policy (3), respectively. Moreover, in 
VFSM, the video quality increases when the number of 
downloaded user (i.e., frame providers) increases. On the 
contrary, in simple V2I mechanism, the video quality may 
decreases when the user increases. For example, with 
download policy (3), when the number of users increases from 
20 to 100, the PSNR increases from 27 dB to 31 dB in VFSM, 
and decreases from 24.5 dB to 24 dB in simple V2I mechanism. 
It shows that VFSM is able to appropriately share the network 
load and avoid network congestion when there are too many 
vehicles requesting for video downloading from file server and 
RSUs. 
Effects of the number of finish vehicles: Let F(t) denote 
the proportion of users that finishing the download session after 
t seconds based on the user requirement in three download 
policies. Fig. 5 plots F(t) as function of time t when there are 
100 download vehicles. VFSM outperforms simple V2I 
mechanism over all download policies. For example, at t = 100, 
VFSM outperforms simple V2I mechanism by about 42% with 
download policies (1) and (2), and 93% with download policy 
(3). There are two reasons: First, there are many frame 
providers (i.e., other frame sharing vehicles) in VFSM. Second, 
since the RSUs are sparse, the idle time (i.e., the time that no 
RSU is in a vehicle’s transmission area and therefore no frame 
can be downloaded) is relatively long with simple V2I 
mechanism. 
 
Figure 4. The average PSNR. 
 
Figure 5. The download completion. 
 
Effects of the video quality and the download time: Both 
the quality of videos and the waiting time consumed in the 
download session are important to the users. It is essential to 
make a tradeoff between the video quality and the waiting time. 
As shown in Fig. 4 and 5, it is obvious that the quality of user-
downloaded video increases in VFSM. On the other hand, 
VFSM can indeed speed up the download session. The average 
download time increases as the quality requirement of user is 
higher. We demonstrate that both download speed and video 
quality can be improved when using VFSM in sparse VANET. 
C. Analysis of selfishness detection 
To compare the download performance between the selfish 
users and the cooperative users, we implement a long-term 
experiment to observe and analyze the impact by the 
selfishness detection module. 
The user downloads a video file of 90000 frames. The 
simulation time is 200 seconds, consisting of a 20-second entry 
20 30 40 50 60 70 80 90 100
0
5
10
15
20
25
30
35
Number of download vehicle
PS
N
R
 (d
B)
 
 
Basic quality
Medium quality (T = 30 s)
Medium quality (T = 60 s)
Best quality
VFSM
Simple V2I
0 10 20 30 40 50 60 70 80 90 100
0
10
20
30
40
50
60
70
80
90
100
Time t (seconds)
F(
t)
 
 
Basic quality
Medium quality (T = 30 s)
Medium quality (T = 60 s)
Best quality
VFSM
Simple V2I
 1
國科會補助專題研究計畫項下出席國際學術會議心得報告 
                                     日期：100 年 10 月 18 日 
一、參加會議經過 
這次出國目的是參加 2011 年在上海舉行之 The 7th IEEE International Conference on Wireless and 
Mobile Computing, Networking and Communications (WiMOB 2011)，此會議自 2005 年開始，每年舉
辦一次，是次會議為第七屆，General Chair 為法國 Avignon 大學之 A. Benslimane 教授，會議內容
包括通訊，電腦與訊號處理等，同時亦包三個 Workshop：Second International Workshop on 
Performance Enhancements in MIO-OFDM Systems (PEMOS 2011) 、First International Workshop on 
Wireless Communication and Networking Technologies for Rural Enrichment (WiTRUE 2011)和 Fourth 
International workshop on Selected Topics in Wireless and Mobile Computing (STWiMOB 2011)。今年
共收到來自 32 個不同國家地區之研究論文，共收錄 57 篇口頭報告論文於 WiMOB，另錄取 10 篇
口頭報告論文於 Selected Topics in Mobile and Wireless Computing (STWiMob), 本人跟碩班學生共
同發表之論文於會議中的 STWiMob 議程中進行報告。 
 
會議技術委員包括美國、法國、加拿大、英國、韓國、印度、香港及台灣等的專家。透過是次會
議，除了可以把台灣的研究帶到國際舞台外，更可以與不同地區的學者交流研究心得。 
 
本次研討會的舉辦地點是位在上海的粵海飯店，由於上海近年來經濟發展迅速，加上當地政府的支
持，這次會議成功吸引過百位學者參加。是次會議除了以口頭報告方式的技術性議程(Technical 
Session)外，還邀請學術及產業界的知名人士就相關議題發表主題演說(Keynote Speech)。本次開幕會
計畫編號 NSC 99－2221－E－006－122－ 
計畫名稱 佈署路側單元以改善車載網路中廣播訊息傳遞之研究 
出國人員
姓名 蘇淑茵 
服務機構
及職稱 國立成功大學電機系助理教授 
會議時間 2011年10月10日至 2011 年 10 月 12 日 會議地點 中國上海 
會議名稱 
(中文) 
(英文) The 7th IEEE International Conference on Wireless and Mobile 
Computing, Networking and Communications  
發表論文
題目 
(中文) 
(英文) A Video Frame Exchange Protocol with Selfishness Detection 
Mechanism under Sparse Infrastructure-based Deployment in VANET 
 3
 
二、與會心得 
這次會議舉辦地點在上海，距離台灣只需要兩個小時的航程，因此機票的成本負擔較低，加上沒有
時差，讓我在沒有時差困擾下，能在最佳狀態下出席是次會席。由於地理關係，是次會議也有數篇
台灣之科研論文，只是礙於經費有限，大都只能參加亞洲舉辦的大型國際會議。參加這次會議比較
特別之經驗是有不少來自中東的研究人員參與，談話之間才知道一些富裕之中東國家近來對科研計
畫也有大力支持，相信不久便會形成一股新勢力。 
 
在這次會議藉由別人的報告以及大家共同討論的問題當中，不僅讓我充分了解到自己研究的改進方
向及空間、也同時讓我對這方面的領域有更進一步的理解。我個人除了參加我本身所報告的子會議
外，也同時參加了幾個我比較感興趣的sessions。參與這些sessions，一方面中瞭解其他論文的內容，
也一方面思考我們做研究的方向，收穫頗多。在與世界各地學者交流過程中，不僅讓我吸取了許多
寶貴的經驗，也讓我對目前的研究方向有著更進一步的想法。藉由聆聽別人的技術報告以及詢問相
關問題，讓我對其他領域目前的發展更有概念，也大致了解其他人的研究方向。此外，藉由這次出
國參加國際研討會的經驗，不但加強了自己的語文能力外，也培養了我的國際觀。 
 
三、考察參觀活動(無是項活動者略) 
略 
 
四、建議 
首先感謝國科會對於研究計畫NSC 99－2221－E－006－122－的經費補助和支持。讓本人能夠有機
會參加本次研討會，並且獲得最新的論文資訊，能夠提升計畫中的研究水準，對於我們的研究有很
大的幫助。此行讓我對世界各國學者的研究有更多的了解，並認識及吸收世界各地優秀學者所提供
的研究成果，在此感謝國科會在經費上的補助與支持，得以獲取此寶貴的經歷。 
參與國際會議可以讓國內的研究人員了解目前國際上相關研究的發展現況與未來趨勢，也可以拓展
其國際視野，對於國內的研究人員幫助相當大，因此國內研究人員應該積極參與大型的國際會議。
另外，若是國內學術單位有爭取到在國內舉辦大型國際會議的機會，不僅能促進國際學術交流與合
作，還能夠開拓國內的研究生的視野與增進學生的語文能力、此外也能提升學校在國際舞台上的地
位。 
 
五、攜回資料名稱及內容 
（1） WiMOB 2011 會議資訊：記載本次研討會的時間、地點、會議流程、報告人員、以及報告題
目等與研討會相關的會議資訊。 
（2） 論文隨身碟一支 
 5
 
(3) 會議照片 
 
(圖一) WiMob 開幕會議 (左為會議主席上海交通大學陳文教授) 
 
(圖二) STWiMob Presentation 
 
 2
議的Keynote Speaker包括中國大陸的Ganghua Yang博士，演講主題為”The Challenge and Potential 
Solution of Mobile Access Network”。會議第二天的Keynote Speaker為成功大學之Hsiao-Hwa Chen教
授，其演講主題為”The Next Generation CDMA Technology – Its Opportunities and Challenges”。這次的
主題內容為近年通訊研究中最熱門的題目，能夠出席是次會議，收獲良多。 
 
此次會議共有二十多個Technical Sessions，其中多個Sessions跟我領域非常靠近包括MIMO、Resource 
Allocation、Mobile Applications、OFDM、Cooperative and Network Connectivity、Vehicular Ad Hoc 
Networks和Wireless Communications等，這幾個主題的內容，涵蓋了最新的通訊規格與其相關應用發
展，啟發了我最新的研究方向。我的兩篇論文分別於” Resource Allocation”和”Ubiquitous 
Computing, Services and Applications”中報告。報告結束也與當天的其他學者互相討論，更能確定論
文的未來研究方向。另外，於本次會議中，也獲邀擔任STWiMob中之"Mobile Networking, Mobility and 
Nomadicity"之Session Chair，幫忙主持該部分之報告與討論。 
 
 
 
 4
 
六、其他 
(1) 此次會議發表之論文英文摘要: 
Due to the limited budget and high maintenance cost, it is difficult to deploy a large amount of roadside 
units (such as 802.11 base stations) to cover the complicated road areas. This paper addresses an 
important topic on frame sharing since vehicles often need to download large size data such as video clips 
regarding local news. It is important to fairly use V2V communications at places where an infrastructure 
is not immediately available or cannot be directly used. We aim to improve local video downloading 
performance by integrating V2V and V2I communications. The proposed approach, ZFEP/SD, is able to 
exploit user requests locality and to initiate video frames sharing among neighboring vehicles. We also 
consider the case of selfish users, e.g., those not willing to share frames with others. Numerical results 
show that our ZFEP performs better than a pure infrastructure-based download, and that ZFEP/SD 
ensures that cooperative nodes always get better service than every type of selfish nodes. 
 
(2) 綜合議程 
 
國科會補助計畫衍生研發成果推廣資料表
日期:2011/11/10
國科會補助計畫
計畫名稱: 佈署路側單元以改善車載網路中廣播訊息傳遞之研究
計畫主持人: 蘇淑茵
計畫編號: 99-2221-E-006-122- 學門領域: 計算機網路與網際網路
無研發成果推廣資料
其他成果 
(無法以量化表達之成
果如辦理學術活動、獲
得獎項、重要國際合
作、研究成果國際影響
力及其他協助產業技
術發展之具體效益事
項等，請以文字敘述填
列。) 
以上發表兩篇國外期刊均為 IEEE 期刊(IEEE Transactions on Vehicular 
Technolgy 及 IEEE Communications Letters)。 
兩篇會議論文均為 IEEE 會議。 
 成果項目 量化 名稱或內容性質簡述 
測驗工具(含質性與量性) 0  
課程/模組 0  
電腦及網路系統或工具 0  
教材 0  
舉辦之活動/競賽 0  
研討會/工作坊 0  
電子報、網站 0  
科 
教 
處 
計 
畫 
加 
填 
項 
目 計畫成果推廣之參與（閱聽）人數 0  
 
