 2
1. 簡介 
 目前的蜂巢式系統定位演算法各有其優缺點，且希望在不需要手持裝置的硬
體修正下達到美國聯邦通訊委員會的定位準確度之規範。為了得到較為精準的定
位資訊，提出了修正距離比演算法，修正式到達時間差 ( Time Difference of 
Arrival, TDOA ) 演算法與修正式到達訊號衰減差 ( Signal Attenuation Difference 
of Arrival, SADOA) 演算法，發展修正型混合式SADOA/TDOA 行動台定位演算
法。修正式SADOA 演算法使用訊號衰減量之差值求得行動設備與基地站之間距
離比值，並利用所提出的修正演算法修正距離比值，因而算出更精準距離比。同
時，每筆TDOA 測量都定義了行動設備可能座落的雙曲線，但是因為受到環境
的影響而導致時間差產生誤差，因此本計畫也對此誤差做修正，利用泰勒級數展
開將SADOA 與TDOA 的方程式線性化，並用最小平方法( Least Square, LS)求得
估測位置。運用此方法可達到在不需改變手持裝置的硬體的情況下也能夠擁有一
定水準之定位精準度。 
2. 射頻定位演算法 
 在本研究中，將引用本實驗室所發展之訊號衰減差異(Signal Attenuation 
Difference, SAD)演算法。 
2.1訊號衰減差異法(Signal Attenuation Difference of Arrival, SADOA) 
根據 Cost231-Hata模型[2]，訊號衰減量之數學模型表示為： 
   21 2 10 3 10 10 4 10 5( ) log log 10 log [log ( )]= + + + + +c b mA dB k k f k h n d k k h S，     (2.1) 
在此對傳播環境假設做三項假設： 
1.所有的通訊連結都使用相同的載波頻率。 
2.所有的基地台高度都均相同。 
3.所有的連結都處在相同的傳播環境之下。 
經由上述的三個假設， MS連結到兩個不同的 BS之訊號衰減差可以表示為: 
                     10 log ( )− = ⋅ ⋅ + −ii j i j
j
dA A n S S
d
，                 (2.2) 
可由(2.2)式整理出 id 與 jd 之距離比 ijp  
                    
''
1010
i j
ij
A A
Si n
ij
j
dp
d
− −⋅= = ，                          (2.3) 
其中 ( , )i ix y 、 ( , )j jx y 分別代表 iBS 與 jBS 之二維座標。經過整理，上式可以推導
出(2.4)式: 
         ( )
2 22 2
2
22 2 22
1 1
1 1 11
⎛ ⎞⎛ ⎞ ⎛ ⎞− − ⎜ ⎟− + − = + ⋅⎜ ⎟ ⎜ ⎟⎜ ⎟ ⎜ ⎟ ⎜ ⎟− − −−⎝ ⎠ ⎝ ⎠ ⎝ ⎠
ij j i ij j i
ij
ij ij ijij
p x x p y y
x y D
p p pp
，     (2.4) 
(2.4)為一圓方程式，其可改寫為: 
                   ( ) ( )2 2 2xij yij ijx c y c R− + − = ，                    (2.5) 
 4
所構成的線性方程組，如(2.18)式: 
=t MS tA X B ，                            (2.18) 
其中 
    
12 12
13 13
23 23
x y
t x y
x y
m m
A m m
m m
⎡ ⎤⎢ ⎥= ⎢ ⎥⎢ ⎥⎣ ⎦
，                            (2.19) 
    
12 12 12 0 12 0
13 13 13 0 13 0
23 23 23 0 23 0
x y
t x y
x y
cT f m x m x
B cT f m x m x
cT f m x m x
⎡ ⎤− + +⎢ ⎥= − + +⎢ ⎥⎢ ⎥− + +⎣ ⎦
，                (2.20) 
在此將(2.10)與(2.18)式做結合，其用矩陣形式所表示的線性方程組如下式: 
                        MSAX B= ，                            (2.19) 
而                 
                    [  ]Tr tA AA = ，                             (2.20) 
                    [ ] Tr tB BB = ，                             (2.21) 
3. 修正距離比之定位演算法 
在本節提出一修正距離比之演算法，在下一節之模擬將應用此演算法於
SADOA-LOP、SADOA-Weighted與 SADOA/TDOA/TOA混合式演算法中，並與
未經修正之演算法做比較。是為了描述方便，假設 N=3，且定義三個矩陣，其分
別為: 
21 31 32
1 [   ]
10
TA A A A
n
= ,                       (3.1) 
0 0 0 0
21 31 32
1 [   ]
10
TA A A A
n
= ,                        (3.2) 
0 0 0 0
1 2 3
1 [   ]
10
Ta A A A
n
=  ,                       (3.3) 
其中，{ }0表示無包含雜訊成分。(3.3)式可改寫為(3.4)式，其表示如下: 
                
0
1
0 0 0
2
0
3
1 1 0
1 1 0 1
10
0 1 1
A
A Ga A A
n
A
ζ
⎡ ⎤−⎡ ⎤ ⎢ ⎥⎢ ⎥= = − = −⎢ ⎥⎢ ⎥ ⎢ ⎥⎢ ⎥−⎣ ⎦ ⎣ ⎦
 ,             (3.4) 
ζ 為誤差矩陣，為了使估測誤差最小，需滿足下列之 cost function  
{ }
0
0 0 0ˆ arg  min ( ) ( )T
a
a Ga A Ga A G A−= − − = ，            (3.5) 
0aˆ 表示 0a 的估測值， −G 表示G的Moore-Penrose inverse，經過計算可得到
0ˆ /Ta G G N= ，因 0 0Ga A= ，因此將 0aˆ 帶入 0 0Ga A= 可得修正後之值，如(3.6)式 
 6
91.79m。此圖也顯示，當行動裝置處於嚴重的遮蔽效應環境中，依然可以得到
良好的定位精準度。而當無遮蔽效應時還是有定位誤差，是因為定位演算法結
合了SADOA、TDOA與TOA的資訊，因此就算無遮蔽效應還是會產生誤差量，
其誤差量多寡取決於TDOA與TOA的資訊。 
圖 4.3 所提出的定位演算法在N=5時之定位效能 
圖 4.4 所提出的定位演算法在遮蔽效應標準差為6dB時之定
位效能 
圖 4.4 表 示 在 不 同 BS 數 目 與 不 同 的 遮 蔽 效 應 相 關 係 數 下 所 提 出
SADOA/TOA/TDOA定位演算法之定位效能，當BS數目或遮蔽效應之相關係數上
升時，定位精準度也因此提昇。 
圖 4.5 所提出的定位演算法在遮蔽效應之標準差與相關
數分別為6dB與0.4時之 定位效能 
 8
圖4.6 SADOA/TOA/TDOA經CRDA後之定位效能 圖4.7SADOA-LOP經CRDA後之定位效能 
 
圖4.8 SADOA-Weighted經CRDA後之定位效能 
圖4.8模擬SADOA-Weighted定位演算法應用於不同BS數目與不同遮蔽效應之
環境中，其定位精準度，其中遮蔽效應之相關性為0。因SADOA-Weighted定
位演算法利用距離比當為權重，因此其定位精準度會與BS分佈、BS數量跟距
離比之資訊相關。 
5. 結論 
當行動裝置處於較嚴重的 NLOS 或較嚴重的遮蔽環境中，SADOA-LOP、
TDOA與 Cell-ID定位演算法皆無法得到良好的定位精準度，但本計劃所提出之
SADOA/TDOA/TOA混合式定位演算法不僅在 BS數目較少的環境中，可得到良
好的定位精準度，在較嚴重的雜訊環境中也能得到良好的定位效能。 
接收訊號強度在實際的電波傳播環境中會受到環境的影響，因為如此導致
應用其資訊的定位演算法會產生定位誤差，以 SADOA演算法為基礎之演算法
來說，其距離比 ijp 會因遮蔽效應之影響而產生誤差，因此本計劃提出ㄧ修正
距離比之演算法，其將原來距離比 ijp 的資訊更近修正。本計劃針對不同的定位
演算法做分析，比較結合修正距離比之定位演算法與未做任何修正之定位演算
法的定位效能。 
    由模擬結果得知，結合修正距離比之演算法後，不論是混合式定位演算
出席國際學術會議心得報告 
                                                             
計畫編號 NSC 97-2221-E-027 -003 -  
計畫名稱 基於不同無線通訊情境中之定位演算法研究與分析 
出國人員姓名 
服務機關及職稱 
林丁丙 
國立台北科技大學電子系教授 
會議時間地點 98 年 4 月 5 日至 4 月 8 日 匈牙利布達佩斯 
會議名稱 2009 IEEE Wireless Communications & Networking Conference (WCNC 2009)
 
一、參加會議經過 
2009 IEEE Wireless Communications & Networking Conference 是由 IEEE (Institute of 
Electrical and Electronics Engineers) 所舉辦的無線通訊與網路之國際研討會。此次會議於 2009
年 4 月 5 日至 4 月 8 日在匈牙利布達佩斯 Marriott 飯店舉行，是國際上重要的無線通訊與網
路研討會。會議中所發表的論文對於無線通訊與網路未來之發展有關鍵性的影響，於本次會
議所發表之論文包含 I. PHY II. MAC III. Networking IV. Services & Applications 等四大部分，
主辦單位提供了一個國際性的論壇平台，針對上述相關領域之重要課題向世界各地邀稿，對
於最新發展技術來交換心得與資訊，此外也有針對在此專業領域上有獨特貢獻學者之專門會
議，邀集世界各地之研究成果發表，邀集世界各地專家學者聚集於此會議，最後共有 1388 篇
文章投稿，經過嚴謹之審查選出 548 篇論文發表，接受率約為 39%，藉由專家學者們豐富經
驗與共同腦力激盪下，期能創造出高品質的研討觀點與結論。此研討會是一個審查相當嚴格
的研討會，發表論文之素質非常高，參加此研討會可以了解無線通訊研究最新的發展，因此
今年度仍選擇參加此一著名研討會，其他國際研討會個人雖有論文發表，則改由研究生前往
參加，此一研討會論文發表場次相當多元，我大部分選擇與 MIMO-OFDM 傳輸技術及可適性
調變技術相關論文場次參加，經過各國之專家學者之討論，的確獲益匪淺。 
