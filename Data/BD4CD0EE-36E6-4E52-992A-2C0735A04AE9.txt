  1 
行政院國家科學委員會補助專題研究計畫 
半導體晶圓廠的設施佈置問題研究(2/2) 
計畫類別：一般型研究計畫(個別型)  
計畫編號：NSC96-2221-E-008-035-MY2 
執行期限：2008.08.01∼2009.07.31 
主持人：何應欽  國立中央大學工業管理研究所 
計畫參與人員：劉顥程、蘇騰昇、李正弈、彭雋馨、賴順良、溫奕雲、李
天傑、陳偉娜、陳奇偉、康馨予、楊媖茹、林燕妮、趙佑宣 
 
 
摘要 
提升生產力與產能利用率一直是晶圓廠的一
個非常重要的課題，也是許多學者與專家所研究的
問題。學者與專家們從各方面尋求各種方法，而改
善晶圓廠內的物料搬運效率便是其中之一。改善晶
圓廠內的物料搬運效率可由許多方法(例如：設施
佈置、自動化搬運設備的設置、控制與管理)來達
成，本研究將著重於晶圓廠內的設施佈置問題。由
於晶圓廠內的物料搬運非常仰賴自動化搬運系
統，也因此在解決晶圓廠內的設施佈置問題時，吾
人必須將自動化搬運系統(AMHS；Automated 
Material Handling System)之軌道佈置因素加以考
慮，方能求得一個真正能最佳化物料流動的設施佈
置。本篇報告是本計畫的第二年成果報告（完整
版），在此報告，主持人將呈現第二年的研究成果。
第一年的研究成果，請參考第一年期中進度的報告
【註：主持人上傳的第一年期中進度的報告是完整
版報告】，目前主持人已將第一年的研究成果整理
成論文，並將於近期投稿國際之重要的學術期刊。
根據進度規劃，第二年的研究問題為在『脊椎式』
（Spine）Interbay 軌道型態且 Bay 與 Bay 之間設有
直通軌道（又稱整合式軌道）的環境下之 Bay 與軌
道的設施佈置問題。第二年的進度規劃是探討這類
的設施佈置問題，並提出解題方法。   
 
關鍵字：晶圓廠、Bay 的佈置、『脊椎式』 Interbay
軌道與佈置、直通軌道佈置。 
 
1. 緒論 
在台灣具有晶圓廠的 IC製造業，占 IC整體產
業產值的六成五，而其主要產品則是以記憶體與代
工為主，可見台灣在全球的半導體產業之重要性。
半導體晶圓廠的製造環境是非常複雜，因為裡面至
少有 250種以上的製程機台，加上需要執行的製程
步驟有 50至 60種不等，所以規劃一個好的晶圓廠
是非常重要的。在晶圓廠中，晶圓的運送是採用批
量的方式，通常以 25 片為一個運送批量，每一批
量都是晶舟（wafer cassette）藉著自動化物料搬運
系統（Automated Material Handling System; AMHS）
傳送至每個加工區（Bay）的暫存區（stocker），再
運送內部加工。而晶圓的主要加工製程包括薄膜沉
積、光學顯影、蝕刻及離子植入等步驟。一般來說，
半導體晶圓廠的設施佈置方式屬於功能式佈置，即
將功能相似的機台放置在同一個加工區。因為自動
化物料搬運系統的軌道佈置方式不同，可以將
Interbay搬運系統分成兩種，一種為「脊椎式」（spine 
configuration），另一種則為「外圍式」（perimeter 
configuration）。本研究的主要動機在於外圍式的廠
房設計所行走的距離通常比脊椎式來的遠（Peters 
and Yang, 1997），而一般晶圓廠規劃都是以脊椎式
的架構為主，所以希望能以脊椎式的架構配合直通
軌道的設計來節省晶圓所行走的距離。一般來說，
不同加工區的製程都要經由 Stocker才能送至另一
個加工區，如果在不同加工區之間設計一條互通的
軌道，在此稱它為直通軌道；這樣在加工區裡面加
工完的晶圓不須經由 Stocker送至中央的自動化物
料搬運系統，再經由 Stocker送至另一個加工區，
而可以藉由加工區與加工區之間的直通軌道運
送，這樣可以縮短搬運距離，進而使晶圓的產出數
量提高。半導體產業的物料搬運活動主要發生在
  3 
Bozer（1996）提出模擬退火的方法以解決
單一及多層的設施規劃問題。其用一個新
的預選佈置生成路徑法和空間填滿曲線發
展出一個根據模擬退火法所改良而成的佈
置演算法。    
(9) 其他方法：  
Chiang and Kouvelis（1996）利用禁忌搜
尋法（ tabu search）來避免在求解的過程
中陷入區域最佳解（ local optimum），同樣
利用禁忌搜尋法的還有 Abdinnour-Helm 
and Hadley（2000）。Balakrishnan（2003）
建立一套新的設施規劃軟體FACOPT，整
合SA與GA並提供友善介面供使用者進行
設施規劃佈置。最後還有Tsuchiya et al.
（1996）應用類神經網路模式來求解設施
佈置問題。    
 
2.2 機台相關文獻   
Heragu and Kusiak（1988）首先將機器佈置分
類成四大類型，分別為：1. 環狀機器佈置；2. 線
性（single-row）機器佈置；3. 線性（double-row）；
4. 群聚機器佈置。Ho and Moodie（1998）中有提
到，在一般的工廠機器佈置可分為 U 型結構、迴
圈結構、直線型結構與蛇狀結構，而物料流量路徑
又分成重複路徑、順序路徑、通過路徑以及回流路
徑。作者探討單迴圈的環境下，將佈置分成二階段
來解決，第一階段提出六種流量分析（Flow Line 
Analysis; FLA）的方法決定初始佈置，第二階段以
模擬退火法將第一階段的初始佈置做改善。 
在 Ponnambalam and Ramkumar（2001）的
研究中，同樣利用 Ho and Moodie（1998）所
提出之 FLA 方法進行機器佈置。該作者利用
先前研究中所提出的兩種 FLA 方法結合基因
演算法，針對多種不同的環境進行實驗。Chen 
et al.（2001）則以改良式模擬退火法進行線性
機器佈置。首先利用三階段的演算法進行初始
佈置：先建立可行之流量網路；再將此流量網
路轉換為線性之機器順序；最後再採以改良式
之模擬退火法進行改善。Bozer et al.（1994）
考慮 single and multiple floors 並應用模擬退
火法來處理設施佈置之問題，設施佈置通常能
獲得許多局部較佳的解，因此其發展一
improvement-type 佈置演算法，以及透過模擬
退火法，利用設施位置之交換來求解，結論顯
示此種演算法能得到一低成本的解。Heragu 
and Kusiak（1990）利用專家系統與最佳化作
為基礎建立機器佈置，並同時考量定性與定量
因素對於機器佈置之影響。De Alvarenga et al.
（ 2000）提出一個超啟發式演算法來解決
single-row 與 multi-row 之佈置問題。其利用模
擬退火法與禁忌搜尋法為基礎，分別進行實驗
之後進行比較。    
 
2.3 晶圓廠佈置相關文獻   
International SEMATECH, Inc.（2000）說明在
晶圓廠工廠佈置之三種型式：1. 稻田式佈置（Farm 
layout）2. 混合式佈置（Hybrid layout）3. 改良型
混合式佈置（Modified Hybrid layout），採用
AutoMod 模擬 300mm 晶圓廠設施置與 OHT
（Overhead Hoist Transporter）在 interbay系統中的
彈性與績效。El-Nashar and El-Kilany（2007）提出
晶圓廠中 IntraBay與 InterBay之自動化物料搬運系
統的結構以及批量運送模式，其中批量運送模式又
分為兩種，一種為 Stocker-to-Stocker（STS），即為
傳統的晶圓廠規劃，某產品需要不同機台來加工
時，其進出某一個 Bay 都必須經過 Stocker 與
InterBay軌道。另一種則為 Point-to-Point（PTP），
即加工不需經過 Stocker與 InterBay軌道，而是直
接由 IntraBay的軌道運送。Sturm et al.（2003）提
出傳統的 200mm 晶圓廠，都必需經過 Stocker 做
為 暫 存 區 ， 其 輸 送 方 式 即 為
Tool-Stocker-Stocker-Tool，而在 300mm 的晶圓廠
則有其他選擇，像是 Tool-Stocker-Tool 或是
Tool-Tool 的方式，不過都面臨到一些挑戰或問
題，像是設施佈置、車輛的最佳停靠點或 Tool 之
間的運送量等，都會影響到晶圓廠的績效，作者也
根據所要面臨的問題提出多種的假設與分析，而現
今的晶圓廠也朝三度空間規劃。   
Chang and Chang（1998）提出以製程層為
基礎的半導體工廠佈置，所謂製程層是指目前
黃光製程到下一次黃光製程前之所有製程。其
概念是將連續加工製程層之製造集中在同一
區域或同一製造單元 (cell)中。 Pillai et al.
（1999）根據 Intel的300mm 工廠整合的成果
來提出一關鍵方式與求解法，其主題討論 fab
佈 置 、 自 動 化 物 料 搬 運 與 作 業 的
  5 
較重要的。因此，在這裡分別介紹四種評估標準，
第一、最小化返回移動次數。這個標準是適用於在
單向非迴圈型態的路徑問題；第二、最小化總返回
流量距離。這個標準也是適用於單向非迴圈型態的
路徑問題；第三、最大化作業順序移動次數。這個
標準通常都是在大量生產的情況下使用；第四、最
小化總流量距離。由於本研究的假設環境只限於單
向迴圈型態，所以上述四種標準就只有最小化總流
量距離及最大化作業順序這兩種評估標準符合這
樣的路徑問題。而在本研究中所著重的目標函數即
是放在最小化總流量距離這個評估標準上。在實務
中，如果為單向迴圈，從一個機台 i到另一個機台
j的距離並不一定會和從機台 j到機台 i的行走距離
相同，因此，在本研究中，物料移動的行走距離是
採用實際的移動行走距離，也就是移動的行走流量
路徑線段之長度來做計算。   
 
3.1.2 流量表的建立 
因為機台排列順序必須涉及到相關的製程順
序與流量關係，各個 Bay 內有許多不同的製程類
型，一個產品可能需要許多不同 Bay 的不同製程
類型來加工完成。在此建立流量表時需要考慮一些
相關因素，包括：Bay內的製程類型種類、Bay內
的機台種類、產品加工順序以及各個 Bay 所有的
製程類型對應到其製程順序。    
 
3.1.3 機台排列順序的建立（FLA; Flow Line 
Analysis method與模擬退火法） 
在本研究中所提出的機台排列順序佈置方法
一共有兩個階段，第一個階段為 FLA method來得
到一機台的排列佈置順序，第二階段為模擬退火
法，其是用來改善第一階段中所得到的解。在第一
階段的 FLA method只限用於單向迴圈型態，由 Ho 
and Moodie（1998）可以得知，在最小化總流量距
離的這項評估下，所得到的解會比其他方法來的
好，故使用最小總流量距離的方法作為本研究使用
FLA method得到機台之排列順序，其方法如下：   
Step 1： 建構一個在區域內所有機台間總流量次數
表。   
Step 2： 從所有機台的配對中，選出一對擁有最大
流量的配對之後，建立出一個半流線，並
將流量流出的機台放置於流量流入的機台
之前。假設有超過一對以上的配對符合條
件，則隨機選擇出其中一對。 
Step 3：從候選的機台之中找出一對擁有最大流量
的配對，且不可與半流線之中的配對重
覆。（一個被稱為候選的機台即是沒有在半
流線中與其他機台連結或是位於半流線中
第一個或最後一個位置的機台。）同樣的，
假設有超過一對以上的配對符合條件，則
隨機選擇出其中一對。由於路徑為單一方
向，所以位於半流線中第一個機台只能夠
增加機台於其前，即表示其不可成為流量
流出之機台。同理，若一個機台被排列在
半流線的最後一個，則其不可成為流量流
入之機台，即表示該機台只允許增加機台
於其後。    
Step 4： 利用將流量流出的機台放置在流量流入的
機台前面，使兩個配對成一對的機台連接
在一起。在這裡會產生三種可能的情況：   
a. 連結此一機器對成為一新的半流線。   
b. 若此一對機器有包含先前半流線的第
一或最後一台機器，則與先前的半流線
連結起來。   
c. 將兩條半流線連結為一條較大的半流
線。   
Step 5： 在這裡需注意的是，由於是單向軌道，因
此加入機器或半流線的位置，必須使得整
個半流線的順向流量為最大。   
Step 6： 重覆 Step 4-5直到所有機台加入為止。   
在第二階段中，本研究使用 SA來改善由第一
階段所得到的機台排列順序解。SA 是一個允許在
搜尋過程中沒有改善的移動的啟發式最佳化技
術，而 SA這個名詞是源自於類似緩慢冷卻金屬之
退火過程，這個方法是由Metropolis et al.（1953）
首先提出。在這個階段執行 SA，並且將由 FLA 
method 所得到的解當成起始解，再隨機選取兩個
機台交換其先後順序以求得更好的解。這個新的解
就會和現在的解作一個比較，若是新的解比現在的
解還要好，則就接受並將新的解取代現在的解成為
一個新的現在解，如此替代下去；若是新的解沒有
現在的解好，則就會計算機率值，並且從標準分配
[0, 1]中隨機選取一個數字，若這個隨機選取的數
字小於或是等於計算機率值，則就接受這個新的
解；反之，則拒絕這個新的解。   
 
  7 
i，i = i + 1，並更換終點 j值，j = i + 1，
再累加NC值，NC=NC+1，並返回 Step 1。   
 
3.1.4.2 第二階段–計算額外增加成本找出最適之調
整佈置 
在此階段中，是以最小化總成本作為我們的目
標函數，使用的成本計算方式即以會經過各個機台
之間的線段流量總和乘以各個機台之間的行走距
離(cost = ijji DF × )來做計算。在此先介紹 Bay裡面
的三種流量距離，第一種為機台對機台的流量距
離，第二種為 Stocker送至 Bay內部的機台，第三
種為 Bay 內部機台送至 Stocker，針對這三種流量
距離加總後，總流量距離最小即為最佳的機台擺放
佈置。本小節的方法是將第一階段所得到的適合線
段作調整，並計算由先前所得的適合線段所調整後
的各個佈置組合之額外增加成本，找出增加最少額
外成本之線段組合，以此線段組合做為將單向機台
迴圈調整為成左右兩端之實際佈置依據。表 1為此
方法所會使用到的名詞縮寫及說明。   
假設上一階段篩選出的適合調整線段組合共
有 N 組，內含 i、j 兩數值代表兩個欲調整線段，
並先行計算出通過篩選之各線段總流量(Line Total 
Flow，以下簡稱 LTF)。本研究將各線段總流量分
成五個部分，以下就一一說明各線段總流量方式的
計算。   
(1) 機台 i到機台 i+1的總流量： 
為所有製程會從機台 i 到機台 i+1 之總流量，
其計算如下。 
∑∑
∑∑
∑ ∑
∑
−
=
<
=
→
−
= +=
→
+=
<
+=
→
=
→+↔
+
+
+=
1
1 1
)()(
1
1 1
)()(
2 1
)()(
1
)()()1()(
i
m
mn
n
nMmM
i
m
NM
in
nMmM
NM
im
mn
in
nMmM
NM
m
mMiMiMiM
Flow
Flow
Flow
FlowLTF
 
(2) 由 Stokcer送至 Bay內機台的總流量： 
為 Stocker 需要送到 Bay 內所有機台的總流
量，其計算如下。 
IRILI LTFLTFLTF +=
∑
=
→=
m
i
iMStocIL FlowLTF
1
)(ker （Stocker送至左端
總流量） 
∑
+=
→=
NM
mi
iMStocIR FlowLTF
1
)(ker （Stocker送至右
端總流量） 
 
(3) 由 Bay內機台送至 Stocker的總流量： 
為 Bay 內需要送至 Stocker 所有機台的總流
量，其計算如下。 
OROLO LTFLTFLTF +=  
∑
=
→=
m
i
StociMOL FlowLTF
1
ker)( （左端送至 Stocker
總流量） 
∑
+=
→=
NM
mi
StociMOR FlowLTF
1
ker)( （ 右 端 送 至
Stocker總流量） 
表 1 名詞縮寫表 
縮寫 說明 
)1()( +↔ iMiMSafeDis  機台(i)與機台(i+1)之間的安全
距離 
LTF 線段總流量 
LRD 迴圈左側長度 
RRD 迴圈右側長度 
LOD 迴圈下列調整線段原長度 
UOD 迴圈上列調整線段原長度 
SRC 短列(左側或右側)補償值 
LED 
下列調整線段所須延伸之額外
距離 
UED 上列調整線段所須延伸之額外
距離 
TEC 調整後所增加的額外成本 
 
下面的步驟計算由先前所得的適合線段所調
整後的各個佈置組合之額外增加成本，找出增加最
少額外成本之線段組合，以此線段組合做為將單向
機台迴圈調整為成左右兩端之實際佈置依據。其中
NM代表機台之總數量（Number of Machine）。此
外，設立一數值 k代表目前正在計算之線段組合，
初始值為 1。   
Step 1： 判斷 k是否大於 N，若是，則進行 Step12；
若否，則進行 Step 2。   
Step 2： 以第 k組線段為依據，進行機台迴圈之調
整，機台(i)到機台(j)為一區段，機台(j+1)
到機台(i-1)為另一區段，求得兩區段之長
度各為 1RowDis 、 2RowDis 。   
Step 3： 判斷 1RowDis 是否大於 2RowDis ?，若是，
則進行 Step 4；若否，則進行 Step 5。   
Step 4： 令 1RowDis 為迴圈的右側之長度（Right 
  9 
Step 8： 將短列補償值加入LED之中，(LED = LED 
+ SRC)，跳至 Step10。 
Step 9： 將短列補償值加入 UED 之中，(UED = 
UED + SRC)。 
Step 10： 計算第 k 組線段組合調整後所額外增加
之總流量距離，根據 Step6所提到總共有
3種流量距離，其額外增加成本分別如下
（Total Extra Cost，以下簡稱 TEC）：   
(1) 機台對機台之額外增加成本 (屬同一個 Bay)
－額外成本 1 
)( LUk LTFLEDLTFUEDTEC ×+×=  
(2) Stocker 送至 Bay 內部機台之額外增加成本－
額外成本 2 
UEDLTFLEDLTFLTFTEC IRIRILk ×+×+= 2/)(   
(3) Bay 內部機台送至 Stocker 之額外增加成本－
額外成本 3 
UEDLTFLEDLTFLTFTEC OLOROLk ×+×+= 2/)(  
Step 11： 進行下一組線段組合之計算(k = k + 1)，
返回 Step 1。 
Step 12： 比較各組線段組合之 TEC，最小者即為
最佳之調整線段組合。 
當找出最佳機台佈置型式後，會發現到其中有
兩段距離是不必要的，也就是必須縮短掉這兩段距
離。Bay的寬度取決於機台和 Loop 軌道迴圈的大
小，即為左端最大機台長度+ Loop軌道迴圈直徑+
右端最大機台長度。 
 
3.2 確定 Bay的相對位置與切割成上下兩列 
在此必須先建立出 Bay與 Bay之間的流量表，
才能找出單向迴圈之 Bay 的排列順序，在不考慮
Bay內部的製造程序時，即可找出 Bay與 Bay之間
的流量表，只針對 Bay 與 Bay 之間的加工順序，
而產生的流量表，可以發現到當將 Bay 的製程順
序考慮進去時，各個 Bay 內部機台的總流量會等
於不考慮 Bay的製程順序時，各個 Bay的流量。 
根據Bay與Bay之間的流量表可以依據先前使
用的 FLA與模擬退火法來建立 Bay的排列佈置順
序。當經由 FLA 與模擬退火法後，接下來就是切
割成上下兩列，此切割方法與機台的切割方法類
似，都是採用兩階段的方法，第一階段是根據限制
的允差值來找出適合的組合線段，第二階段則是根
據額外增加成本最小來找出最佳組合線段，唯一不
同的是此部分只考慮一種額外增加成本。   
 
3.3 Bay之 Loop軌道最佳 I/O點 
參考 Ho and Liao （2009）之進行中論文，吾
人得知當機台沿著迴圈型軌道佈置時，可以找出一
點最佳的 I/O 點，因此本節將會找出各個 Bay 之
Loop軌道最佳 I/O點，因為 Loop軌道 I/O點跟直
通軌道有一定程度的關係，所以要先決定哪些 Bay
之間可以走直通軌道，並重新分配流量來找出
Loop軌道最佳 I/O點。本節將包含三個部分，一、
直通軌道型式；二、分配比率並建立新流量表；三、
Input與 Output之流量關係與行走距離；四、Loop
軌道最佳 I/O點。 
 
3.3.1 直通軌道型式 
直通軌道的主要目的是縮短Bay與Bay之間搬
運距離，所以型式上的不同會間接影響到搬運距離
的大小，在本研究中，吾人是以同列可以走同一條
直通軌道為主，如圖 5所示，Bay2與 Bay5同屬於
上列，所以二個 Bay 之間有一條直通軌道，而
Bay1、Bay3 與 Bay4 同屬於下列，所以三個 Bay
之間有一條直通軌道。   
 
 
圖 5 直通軌道之一種型式   
 
3.3.2 分配比率並建立直通軌道流量表 
直通軌道與 InterBay軌道流量分配比率會依照
需求而不同，像是直通軌道流量與 InterBay軌道流
量的比例可能各占總流量 50%-50%，又或者是
40%-60%、30%-70%等等。在此根據經驗使用直通
軌道流量與 InterBay 軌道流量各占 30%-70%來舉
例，通常有 30%的總流量會走直通軌道，而有 70%
的總流量會走 InterBay軌道，依照圖 5得知，因為
直通軌道是雙向的，表示上列 Bay5可以透過直通
軌道運送至 Bay2，相對地，Bay2也可以透過直通
軌道運送至 Bay5。而下列則是 Bay3可透過直通軌
  11 
第二種為軌道方向相反，如圖 7所示，I/O點在不
同端。 
 
lL
lU
lU ′lU
lL
lDT lDT ′
lL ′
lU ′lL ′
lDT lDT ′
 
圖 6 不同 Bay之 Loop軌道路徑相同 
lL
lU
lU
lL
lDT
lU ′
lU ′
lL ′
lL ′
lDT ′lDT
lDT ′
 
圖 7 不同 Bay之 Loop軌道路徑相反 
 
找每個 Bay的最佳 I/O點與落在軌道之左右端
後，直通軌道設置點會根據這些最佳 I/O點來判斷
其範圍落在何處(即最上游與最下游)，相關表示符
號如表 3所示。找出直通軌道點左右端的最上游與
最下游座標後，再以數學模型找出最佳的直通軌道
點，以最小化總流量距離為目標，其數學模型如
下： 
∑∑∑∑
∈ ∈∈ ∈
×+×
BSl NMi
DTiDTi
BSl NMi
iDTiDT llll DFDFMin ,,,,   (7) 
s.t. 
BSlUDTL lll ∈∀≤≤          (8) 
BSllLLDTDT llll ∈′−=− ′′ &for       
sidesametheonarelland ′&
 (9)  
BSllUUDTDT llll ∈′−=− ′′ &for       
sidesametheonarelland ′&
 (10) 
BSllLUDTDT llll ∈′+=+ ′′ &for     
sidedifferenttheonarelland ′&
 (11) 
BSllLUDTDT llll ∈′+=+ ′′ &for     
sidedifferenttheonarelland ′&
 (12) 
)(,       0
,
lNMiBSlMKDTX ilil ∈∈∀≥×+−  (13) 
)(,   0)1(
,
lNMiBSlMKXDT iill ∈∈∀≥×−+−  (14) 
+−×−= )()1(
,, liliiDT DTXKD l  
)(,   0))((
,
lNMiBSlXDTTLK illli ∈∈∀≥−−×  (15) 
×−+−×= )1()(
,, iilliDTi KXDTKD l  
)(,  0))((
,
lNMiBSlDTXTL lill ∈∈∀≥−−  (16) 
 
表 3 直通軌道點之數學符號說明表 
l  第 l個 Bay 
l′  第 l′個 Bay( ll ′≠ ) 
NM(l) 第 l個 Bay內的機台總數 
lTL  第 l個 Bay的軌道長度 
lXT  第 l個 Bay的最佳 I/O點的坐標位置 
ilX ,  第 l個 Bay的機台座標 
lL  第 l個Bay直通軌道點的設置範圍最上游座標 
lU  第 l個Bay直通軌道點的設置範圍最下游座標 
lDT  第 l個 Bay直通軌道點的坐標位置 
BS 晶圓廠的 Bay集合 
iDTlD ,  第 l個 Bay直通軌道點送至機台 i的距離 
lDTiD ,  第 l個 Bay機台 i送至直通軌道點的距離 
iDTlF ,  第 l個 Bay之直通軌道點送至機台 i的流量 
lDTiF ,  第 l個 Bay之機台 i送至直通軌道點的流量 
 
本數學規劃模式的目的是使直通軌道點輸入
與輸出到機台的總流量距離最小化，其目標函數為
式(7)，第一項表示所有 Bay 的直通軌道點送至機
台的總流量距離最小化，第二項表示所有 Bay 的
機台送至直通軌道點的總流量距離最小化。限制式
(8)表示直通軌道的設置範圍之最上游座標與最下
游座標。限制式(9)與(10)表示不同的兩個 Bay 之
Loop 軌道，當直通軌道點同時位於左端或同時位
於右端之座標轉換公式，如圖 6 所示。限制式
(11)(12)表示不同的兩個 Bay之 Loop軌道，當直通
軌道點位於不同端(一個位於左端，另一個位於右
端)之座標轉換公式，如圖 7所示。限制式(13)表示
Bay之直通軌道位於機台 i的上游(機台座標位置比
直通軌道點座標大)。限制式(14)表示 Bay之直通軌
道點位於機台 i 的下游(機台座標位置比直通軌道
點座標小)。限制式(15)表示經由直通軌道點送至機
台 i 的距離。限制式(16)表示機台 i 送至直通軌道
軌道點的距離。 
 
3.5 建立調整單向迴圈上各 Bay 最佳位置之數學
模式 
參考 Ho and Liao （2009）之進行中論文，吾
人得知當迴圈上之 Bay 分為上下列的佈置時，則
上下其中一列的長度會調整成為兩者長度中的最
  13
 
4.2.1 實驗資料 
本實驗之相關資料如下： 
1. 各產品加工程序與數量。 
2. 各 Bay所包括的機台種類與製程類型。 
3. 各製程類型的機台加工順序。 
4. 機台之間的流量從至表(from-to-chart)。 
5. 各機台的尺寸及安全距離。 
6. 迴圈上之搬運車行走速度為 2~3m/s。 
 
4.2.2 Bay內部機台順序排列 
由於機台在各個 Bay的位置尚未決定，因此，
本節之實驗為依據 Bay 內部機台之間的流量，並
根據 Ho and Moodie(1998)研究所提出的 FLA 
method(單向迴圈)，以最大順序的作業方式流動為
判斷標準，將機台排列成最佳的單向迴圈。 
接下來根據機台排列順序結果作一改善動
作，而尋找鄰近解的方式為相鄰兩機台位置互換，
並且計算交換後的排列值，。因此，本節實驗的模
擬退火所設定的起始溫度為 4.0、降溫系數為 0.3、
降溫次數為 11 次及改善次數為 120 次，經由 SA
改善之後的最佳單向迴圈。 
根據流量表可以找出每個 Bay 內部機台的流
量關係，以 FLA method方法求得各 Bay內部機台
的初始順序，並經由模擬退火可以得到最佳排列順
序，其各 Bay內部機台最佳排列順序如下。 
z Bay1 機台最佳排列順序：M5-M3-M1-M7-M4- 
M2-M6。   
z Bay2 機台最佳排列順序：M9-M15-M13-M11- 
M12-M8-M10-M14。   
z Bay3 機台最佳排列順序：M16-M22-M21-M17- 
M19-M20-M18-M23。   
z Bay4 機台最佳排列順序：M25-M26-M30-M24- 
M29-M27-M28。   
z Bay5 機台最佳排列順序：M32-M35-M31-M36- 
M34-M37-M33。   
z Bay6 機台最佳排列順序：M43-M44-M39-M42- 
M40-M38-M45-M41。   
z Bay7 機台最佳排列順序：M50-M51-M52-M48- 
M49-M47-M46。   
 
4.2.3 Bay內部機台佈置 
經由實驗結果，我們可以得到根據流量關係將
機台排列成單向迴圈，接下來是將迴圈佈置成放置
於左右兩端的迴圈佈置型態，而迴圈上下兩列不放
置任何機台。佈置的目標則是希望能夠最小化總流
量距離，並以此做為成本的計算。在此一步驟我們
將使用一個演算法來做規劃佈置，而此規劃佈置方
法將包括三個階段：(1)使用篩選方法找出適合調
整線段。(2)計算最小額外增加成本找出最適合之
調整佈置。(3)縮短不必要的迴圈長度。 
在第一階段，吾人來篩選並尋找到適合的調整
線段。當找出適合的調整線段組合之後，接下來即
是進入第二階段的計算最小額外增加成本用以找
出最適合之調整佈置。在此階段中的目標函數，是
以總流量距離做為成本。此階段的目地乃是將從第
一階段找出適合的各個調整線段組合，計算出每個
組合佈置後所會增加額外成本，用以找出增加最少
的額外成本之調整線段組合，並以此組合作為將單
向機台迴圈調整為左右兩端的迴圈之佈置依據，在
此考慮的額外成本共有三種。第三階段則是縮短不
必要的迴圈長度，以便減少不必要的成本。 
本節實驗需設定一些所需的條件參數，包括
(1)Bay 的深度界限值為 20m。(2)機台兩端長度允
許差距值為 3m。所有 IntraBay的機台佈置方法皆
一致，以下就以 Bay1來說明，其餘 Bay的機台佈
置結果則請參考圖 9。由程式執行可得知 Bay1 適
合的調整線段共有四種組合，如表 5所示。 
表 5  Bay1內部機台適合線段組合表 
組合   適合的線段組合 總額外成本  
1 (M5,M1),(M7,M6) 18830 
2 (M1,M2),(M6,M3) 22715 
3 (M7,M6),(M5,M1) 19550 
4 (M6,M3),(M1,M2) 26590 
由表 5 可以明顯看出組合 1 的額外增加成本
是最小的，因此，我們選擇組合 1來做接下來實驗
的設施佈置依據。根據線段組合 1來佈置 Bay1內
部機台的位置，縮短不必要的迴圈線段調整成如圖
8所示，其調整過後的座標如表 6所示。經由每個
Bay 之內部機台佈置演算法可以得出內部機台的
總流量距離，由一開始的 FLA 與 SA 的改善找出
最佳排列順序，再進行切割所得到的額外增加成
本，再經由縮短迴圈之後的流量距離可以得到各
Bay內部機台的總流量距離，如表 7所示。當每個
Bay的內部機台佈置已經確定之後，可以計算 Bay
的寬度以及深度，而 Bay 的深度則依據機台的寬
度、安全距離以及單向迴圈的排列來決定，其中各
Bay寬度與深度整理為表 8。   
  15
 
圖 9  Bay之設施佈置圖 
4.4 Bay內 Loop軌道之最佳 I/O點 
根據 Bay 排列的方式來決定會經由同一條直
通軌道運送的 Bay，再依照分配走直通軌道與走
InterBay 軌道的比例來產生每個機台的 Input 流量
與 Output 流量，以進一步找出每個 Bay 內 Loop
軌道之最佳 I/O點。   
 
4.4.1 依分配比例之機台流量 
找出 Bay 的排列方式與切割成上下兩列之佈
置後，可以看出上下兩列各會存在一條直通軌道，
Bay1、Bay2及 Bay5可以經由上列之直通軌道相互
運送，而 Bay3、Bay4、Bay6及 Bay7則可以經由
下列之直通軌道相互運送，因此可以另外產生出兩
張流量表  (此實驗所分配走直通軌道的流量為
30%)。其一為 Bay1、Bay2及 Bay5依照分配比例
經由上列直通軌道運送的流量表，另一則為
Bay3、Bay4、Bay6及 Bay7。依照分配比例經由下
列直通軌道運送的流量表。當找出上列走直通軌道
與下列走直通軌道的流量之後，便可以產生出每個
Bay內部機台的 Input流量與 Output流量。 
 
4.4.2 Bay內 Loop軌道之最佳 I/O點 
由每個機台 Input流量與 Output流量，參照數
學模式並搭配 CPLEX 來執行，以便找出最佳 I/O
點，圖 10顯示每個 Bay內 Loop軌道之最 I/O點。 
 
4.5 直通軌道最佳設置點 
根據每個 Bay找出來的 Loop最佳 I/O點來判
斷直通軌道的設置範圍，再使用 CPLEX 7.0 來找
出最佳的直通軌道設置點。   
 
 
 
圖 10  Bay內迴圈之最佳 I/O點 
 
4.5.1 直通軌道設置範圍 
在本實驗因為直通軌道分成上列與下列兩條，
因為直通軌道是平行於 inter 軌道並落在 Bay 與
Bay之間，所以設置範圍會落在同一條水平線，此
範圍會根據同一列的 Bay之 Loop最佳 I/O點來決
定。根據上列的 Bay2、Bay1以及 Bay5之 Loop最
佳 I/O點，找出直通軌道可以垂直移動的範圍；同
理，下列的 Bay6、Bay4、Bay7以及 Bay3也相同
觀念如圖 11所示，其找出的設置範圍如表 12所示。 
表 12 直通軌道設置範圍 
 Bay 設置範圍座標 
Bay2 25(m)~31.5(m) 
Bay1 4.5(m)~11(m) 上 
列 Bay5 4.5(m)~11(m) 
Bay6 3(m)~14(m) 
Bay4 3(m)~14(m) 
Bay7 23(m)~34(m) 
下 
列 
Bay3 17(m)~28(m) 
 
圖 11 直通軌道設置範圍示意圖 
 
4.5.2 直通軌道最佳設置點 
依據找出來的上列與下列的設置範圍，使用
  17
表 16 考慮內部機台之總流量距離 
InterBay IntraBay 
走直通軌道比
例 
走 Inter軌道 走直通軌道 內部機台 總流量距離 減少比例 
0% 260670 0 501810 762480 0% 
10% 234603 17363 501246 753212 1.216% 
20% 208536 34726 500681 743943 2.431% 
30% 182469 52089 500118 734676 3.647% 
40% 156402 69452 499554 725408 4.862% 
50% 130335 86815 498990 716140 6.078% 
60% 104268 104178 498426 706872 7.293% 
70% 78201 121541 497862 697604 8.509% 
80% 52134 138904 497298 688336 9.724% 
90% 26067 156267 496734 679068 10.940% 
 
4.7.2 不考慮內部機台之總流量距離 
從表 16可以發現，內部機台的流量距離占了
相當大的部分，所以改善的程度不高，因此在本小
節將不考慮內部機台的流量距離來進行分析，其結
果如表 17所示，可以看出只考慮 InterBay的總流
量距離關係，改善的效果會比同時考慮 IntraBay
與 InterBay的總流量距離來的顯著。 
 
表 17 不考慮內部機台之總流量距離 
InterBay 
走直通軌道比
例   
走 Inter軌道  走直通軌道  總流量距離  減少比例   
0%     260670    0       260670    0%      
10%     234603    17363      251966    3.339%     
20%     208536    34726     243262    6.678%    
30%     182469    52089     234558    10.017%    
40%     156402     69452     225854    13.356%    
50%     130335     86815     217150     16.695%    
60%     104268    104178     208446    20.034%    
70%    78201     121541     199742    23.374%    
80%     52134     138904    191038    26.713%    
90%    26067     156267    182334    30.052%    
 
5. 結論與建議 
本研究針對同時考慮 IntraBay與 InterBay的脊
椎式晶圓廠的設施規劃上，並結合直通軌道的概
念，提出一套新的規劃設計流程，並且透過實驗，
將所提出的各個方法做驗證與佈置。本研究將前面
的案例所得到之結論簡述如下：   
1. 本研究所提出的將迴圈分為上下兩列的設計方
法，不但顧及到了 Bay至 Bay之間的行走距離
與流量問題，但由於本研究僅是採用啟發式演
算法，雖不保證其結果是最佳的，但至少是可
行且不錯的解。 
2. 在結合直通軌道的設計，內部機台不需經由
Stocker 運送而改由直通軌道來運送，內部機台
的總流量距離確實減少，不過減少的比例不多。 
3. 從結果分析中的數據可以發現，因為直通軌道
為雙向，所以當給予直通軌道的分配比例愈
多，降低的總流量距離的比例會愈高。 
4. 本研究中針對 IntraBay 與 InterBay 的佈置並結
合直通軌道的設計，經由實驗的數據確實能降
低總流量距離。 
本研究所提出的晶圓廠內的設施佈置上的設
計流程，是針對最小化總流量距離的評估標準來做
規劃佈置，實驗所得到的佈置，證實本研究之可行
性及結果後，發現本研究不足以及可以再努力之
處，提出相關建議，以作為日後研究之參考： 
1. 本研究所提出的晶圓廠內設施佈置之設計流
程，只針對最小化總流量距離的評估標準來做
規劃佈置，若是再多增加更多的評估標準來做
規劃，則規劃出來的佈置將可以得到更完善的
考慮，進而設計出更好的設施佈置。 
2. 本研究是將機台使用稻田式佈置，未必是最佳
結果，未來可以考慮到產品特性來搭配其他佈
置型態，如混合式或改良型混合式佈置，以求
得更好的解。   
3. 未來可考慮晶圓廠內自動物料搬運系統的派送
控制問題，以進一步改善物料流動效率，進而
更進一步提升生產績效。   
【請注意！計畫成果自評
在最後面】   
  19
interactive approach to computer aided facility 
layout,” International Journal of Production Research, 
vol. 18, no. 2, pp. 201-211.   
27. Paprotny, I., Shiau, J., Huh, Y., Mackulak, .G. T., 2000, 
“Simulation Based Comparison of Semiconductor 
AMHS Alternatives: Continuos Flow vs. Overhead 
Monorail,” The Proceedings of 2000 Winter 
Simulation Conference, Orlando, FL., December 
2000.  
28. Peters, B. A., and Yang, T. H., 1997, “Integrated 
facility layout and material handling system design in 
semiconductor fabrication facilities,” IEEE 
Transactions on Semiconductor Manufacturing, vol. 
10, no. 3, pp. 360-396.   
29. Pillai, D., Quinn, T., Kryder, K., and Charlson, D., 
1999, “Integration of 300mm fab layouts and material 
handling automation,” IEEE International Symposium 
on Semiconductor Manufacturing Conference 
Proceedings, pp. 23-26.   
30. Ponnambalam, S. G., and Ramkumar, V., 2001, “A 
genetic algorithm for design of a single-row layout in 
automated manufacturing systems,” The International 
Journal of Advanced Manufacturing Technology, vol. 
18, no. 8, pp. 512-519.   
31. Sahni, S., and Gonzalez, T., 1976, “P-complete 
approximation problem,” Journal of Associated 
Computing Machinery, vol.23, no. 3, pp. 555-565.   
32. Souilah, A., 1995, “Simulated annealing for 
manufacturing systems layout design,” European 
Journal of Operational Research, vol. 82, no. 3, pp. 
592-614.   
33. Sturm, R., Seidelmann, J., Dorner, J. and Reddig, K., 
2003, “An approach to robust layout planning of 
AMHS,” Proceedings of the 2003 Winter Simulation 
Conference. 
34. Tsuchiya, K., Bharitkar, S., and Takefuji, Y., 1996, “A 
neural network approach to facility layout problems,” 
European Journal of Operational Research, vol.89, no. 
3, pp. 556-563.   
35. Vollmann, T. E., and Buffa, E. S., 1966, “The facility 
layout problem in perspective,” Management Science, 
vol.12, no. 10, pp. 450-468.   
36. Yang, T. H., Rajasekharan, M., and Peters, B. A., 1999, 
“Semiconductor fabrication facility design using a 
hybrid search methodology,” Computer and Industrial 
Engineering, vol. 36, no. 3, pp.565-583.   
計畫成果自評 
z 自評項目 1：研究內容與原計畫相符程度   
回答： 本研究內容與原計畫非常相符，第二年的
研究問題為在『脊椎式』（Spine）Interbay
軌道型態且Bay與Bay之間設有直通軌道
（又稱整合式軌道）的環境下之 Bay與軌
道的設施佈置問題，本研究已對此類問題
探討並提出解題方法。   
 
z 自評項目 2：達成預期目標情況 
回答： 本計畫達成第二年研究目標的情況為優。
整體而言，本計畫的執行（含第一年與第
二年）是優的且符合預期。 
 
z 自評項目 3：研究成果之學術或應用價值 
回答： 本研究成果將對半導體晶圓廠的設施佈置
問題有所幫助，在學術的價值則是在半導
體晶圓廠的設施佈置之解題方法的發展。
研究成果顯示，本研究所提出的方法能有
效地找出半導體晶圓廠的優良設施佈置，
因此，研究成果在應用上是有其價值的。   
 
z 自評項目 4：是否適合在學術期刊發表或申請
專利 
回答： 本研究問題之學術或應用價值是顯著的，
因此本研究成果非常適合在學術期刊發
表。目前作者已將第一年的研究成果整理
成論文，並將於近期投稿國際之重要的學
術期刊。第二年的研究成果也將可在國際
的學術期刊發表，目前正在準備中。   
 
z 自評項目 5：主要發現或其他有關價值等   
回答： 本研究不僅在學術研究上有其價值與貢
獻，在實務應用上也是有其價值與貢獻
的。另外，本研究之其他的重要價值與貢
獻，是本研究讓吾人對半導體晶圓廠的設
施佈置問題的性質與內容有更深入的了
解，以便能發展更有效的設計方法並用於
解決實務上的問題，進而提升半導體晶圓
廠的生產績效。   
第二十三屆歐洲作業研究會議（The 23rd European Conference on Operational Research）(何應欽) 
2 
出席第二十三屆歐洲作業研究會議（The 23rd 
European Conference on Operational Research；
EURO-XXIII）報告 
 
報告人：何應欽 
單位：國立中央大學工業管理研究所   
 
一、參加會議經過 
第二十三屆歐洲作業研究會議（The 23rd European Conference on Operational 
Research；EURO-XXIII）於德國（Germany）的波昂（Bonn）舉行。今年是由
Gesellschaft fuer Operations Research (GOR) e.V. 與 University of Siegen舉辦，贊
助團體為Deutsche Forschungsgemeinschaft (DFG; German Research Foundation), 
Innovation Nordrhein-Westfalen, INFORM, ILOG, Maximal Software, GAMS, 
AIMMS, FICO, GTS Systems and Consulting GmbH, Taylor & Francis,Cambridge 
University Press, Palgrave Macmillan, Elsevier, Springer, Banxia Software與Oxford 
University Preess。會議地點於Gustav-Stresemann Institute 與 the Maritim Hotel in 
Bonn。這次大會為期四天(七月五日至七月八日)，共有兩千兩百二十三名來自世
界各地的學者與研究人員參加，發表的論文有兩千一百八十三篇。今年參加會議
的人數非常多，由台灣來的學者有三十五人。此次會議的Keynote Addresses共有
十八個，其主講者列於下。   
z Ramji Balakrishnan  
z Rainer Burkard (EURO Gold Medal 1997)  
z Edmund Burke  
z Ulrich Dorndorf  
z Salvatore Greco  
z Toshihide Ibaraki  
z Hubertus Jongen  
z Andrea Lodi  
z Rolf Moehring  
z Noam Nisan  
z Christos Papadimitriou (IFORS distinguished lecturer)  
z Franz Rendl  
z Bernard Roy (EURO Gold Medal 1992) / José Figueira  
z Nitin Saxena (Goedel Prize 2006, Fulkerson Prize 2006)  
z Reinhard Selten (Nobel Prize 1994)  
z Michael Trick  
第二十三屆歐洲作業研究會議（The 23rd European Conference on Operational Research）(何應欽) 
4 
9 Location; Logistics; Transportation; Traffic 
9 Metaheuristics & Biologically Inspired Approaches 
9 Multiple Criteria Decision Making, Optimization & Group Decision 
9 OR Education, History & Ethics 
9 OR for Development and Developing Countries 
9 OR in Agriculture & Natural Resources 
9 OR in Industries & Software Applications 
9 Production Management; Supply Chain Management 
9 Revenue Management; Managerial Accounting 
9 Scheduling, Time Tabling & Project Management 
9 Stochastic Programming; Stochastic Modelling; Simulation 
9 System Dynamics; Dynamic Modelling 
9 Telecommunication and Network Analysis 
本人在大會發表一篇論文，論文的題目是 The Layout Design of a 
Semiconductor Fab with Both Spine and Perimeter Interbay Guide Paths（by 
Ying-Chin Ho and Ta-Wei Liao）。本論文探討半導體晶圓廠的Bay設施佈置問題，
在此論文，吾人所探討半導體晶圓廠的Bay是由Spine與Perimeter等兩種型態的
Interbay軌道所連結一起。在此論文，作者提出一個可同時考量Bay的設施佈置與
軌道的設施佈置的方法。傳統方法通常會視此兩問題為分開的問題，因而常有產
生的Bay的設施佈置與軌道的設施佈置之品質不理想、無法真正最小化總流量距
離與滿足實際的需求等缺點。在報告本論文後，本人獲得一些學者的建議，並分
享一些意見，他們的建議與意見分享對未來本人的研究非常有幫助。另外，本論
文也是本人執行國科會計畫（計畫編號：NSC96-2221-E-008-035-MY2）的第一
年的研究成果之一。   
二、與會心得 
歐洲作業研究會議為歐洲作業領域的一個重要會議。近年來，它愈來愈國際
化，現在它已成為全球作業領域上一個非常重要且具有影響力的國際會議，吾人
可由此次會議共有兩千兩百二十三名來自七十二個國家之學者與研究人員參
加，發表的論文高達兩千一百八十三篇，來看出此會議的重要性與影響力。也因
此，這次會議也特別地受到重視，參與之學者皆是各國之碩彥。參與該會，不但
可學得新觀念與新知識，亦可得知未來工業工程與管理之重要趨勢。這次與會的
台灣學者估計有三十五人，出席人數很多，是亞洲太平洋國家第二高的，僅次於
日本，但低於上屆台灣學者出席的人數四十九人。台灣此次的論文素質均獲得國
際的重視。本人參加場次包括：（1）Transportation，（2）Supply Chain，（3）
Scheduling，（4）Location Analysis，（5）Multiple-Objective Optimization，（6）
Data Minding，（7）MCDA，（8）Project Management & Scheduling，（9）Routing 
第二十三屆歐洲作業研究會議（The 23rd European Conference on Operational Research）(何應欽) 
6 
Asli Aksoy, Nursel Ozturk, Mariusz Popenda, Lukasz Popenda 
 
Algorithm for non-classical sequencing by hybridization 
Marcin Radom, Piotr Formanowicz 
 
Non linear excitation in one dimensional lattices. 
Elso Drigo Filho, Hernan Cortez, Jose Roberto Ruggiero 
 
Using lagrangean relaxation of resource constraints for open pit mining production 
scheduling 
Ambros Gleixner  
 
Cutting on the set partitioning formulation of the vehicle routing problem with time 
windows 
Simon Spoorendonk 
 
Partial path column generation for the vehicle routing problem with time windows 
Björn Petersen 
 
On approximation algorithm for some stochastic vehicle routing problems 
Anastasia Shakhshneyder, Edward Gimadi 
 
Effcient constraint handling in heuristic and exact vehicle routing 
Stefan Irnich  
 
Evolutionary approaches to maximizing the self availability in a chaotic warehouse 
Sacramento Quintanilla, Francisco Ballestin, M.Pilar Lino, M. Angeles Pérez, 
Vicente Valls 
 
Simuroute: using Monte Carlo simulation and splitting techniques to produce a 
solutions set to the cvrp 
Javier Faulin, Fernando Lera-Lopez 
 
Determination of the transport and delivery capacity in a postal company 
Manuel Mateo, Paolo Gaianigo, Imma Ribas 
 
A tabu search approach for the green cvrp 
Javier Faulin, Francisco Arcelus, Sergio Ubeda 
 
A project strategic index proposal for portfolio selection based on the analytic 
network process 
Monica Garcia-Melon, Rocio Poveda-Bautista, Juan P. Pastor-Ferrando 
 
Location of a municipal solid waste management plant in the metropolitan area of 
valencia (spain) using an analytic network process model. 
Pablo Aragones-Beltran, Juan P. Pastor-Ferrando, Fernando García-García, 
Amadeo Pascual-Agulló 
 
Comparison of two apparel retailer companies: a multiple criteria evaluation of retail 
第二十三屆歐洲作業研究會議（The 23rd European Conference on Operational Research）(何應欽) 
8 
 
A game-theoretic volume discount model in global maritime logistics 
Byung-In Park, Souk-Kyung Sung, Hokey Min 
 
Modeling techniques and solution approaches for maximizing feet availability of 
mission aircraft subject to flight and maintenance requirements 
Andreas Gavranis, George Kozanidis 
 
Practical solutions in network design for DHL 
Hans Schut, Sander van den Berg 
 
Mathematical programming based strategic and tactical production and operational 
logistics planning in the automotive industry 
Achim Koberstein, Leena Suhl, Ralf Bihlmaier, Thomas Sillekens, Jens Peter 
Kempkes, Thomas Sommer-Dittrich 
 
Collaborative production optimization in plantwide production scheduling and 
planning 
Guido Sand, Xu Chaojun 
 
Alignment of replenishment and lateral transshipment decisions in spare parts 
networks 
Harold Tiemessen, Eleni Pratsini, Moritz Fleischmann 
 
Applying the ANP model for selecting the optimal full-service advertising agency 
Pi-Fang Hsu, Pei-Ling Hsieh, Shang-Ling Wei 
 
Application of analytic network process (ANP) in pilot selection 
Ebru Yazgan, Abdullah Korkut Üstün 
 
ANP in supply network formation by auctions 
Petr Fiala 
 
Recent advances in local area transportation planning at deutsche post ag 
Jörg Salomon, Hans-Jürgen Sebastian, Dirk Steffensen, Gerhard Stüber 
 
Challenges of complex vehicle routing problems in local postal pickup and delivery 
Tore Grünert 
 
A multi-criteria analysis of service-area allocations for parcel sorting centers at 
deutsche post 
Christoph Hempsch, Andreas Marschner 
 
Online planning: challenges and lessons learned 
René Schumann, Juergen Sauer 
 
Data provision for time-dependent vehicle routing in city logistics 
Jan Fabian Ehmke, Dirk Christian Mattfeld 
 
 The 23rd European Conference on Operational Research, EURO XXIII, Bonn, Germany 
 
The Layout Design of a Semiconductor Fab with Both Spine and 
Perimeter Interbay Guide Paths  
Ying-Chin Ho*, and Ta-Wei Liao 
Institute of Industrial Management 
National Central University 
Chung-Li, Taoyuan, 32001, Taiwan 
ABSTRACT 
Traditional layout design methods for semiconductor fabrication facilities often treat bays layout design and 
interbay guide path layout design as separate problems, and the sequence for solving them is usually bays layout 
first and interbay guide path layout later. In general, layout methods of these kinds generate bay 
layouts that are awkward for designers to conduct interbay guide paths layouts, or bay layouts 
that do not turn out to be as good as expected after interbay guide path layouts have been 
conducted.  In this study, we propose a layout method that treats the layout of bays and the 
layout of interbay guide paths connecting these bays as one problem and simultaneously 
solve them.  It is assumed that bays will be connected by two types of interbay guide paths.  
One has a spine configuration and the other a perimeter configuration. The proposed design 
methodology has five main steps which adopt mathematical programming models and 
heuristic procedures to help us simultaneously obtain the layout of bays and the layout of 
interbay guide paths.    
1. INTRODUCTION   
Semiconductor manufacturing has many processes with sophisticated operations. In a wafer fab, Automated 
Material Handling Systems (AMHSs) are used to move wafer cassettes around. Thus, in order to come up with a good 
fab layout design, AMHS-related issues must be considered. For example, some of these issues include inter-bay guide 
path configuration, the feasible direction of guide paths, and the set up of shortcuts. There are two types of AMHSs in 
wafer fabs. One is the inter-bay system and the other is the intra-bay system. The performance of these systems relies 
very much on the layout designs of their guide paths, bays and machines. Traditional layout approaches often treat 
guide path layout problems as secondary problems, which are solved only after the layouts of other facilities have been 
performed. Applying traditional layout approaches to bay layout problems of wafer fabs can generate bay layouts that 
are awkward for designers to conduct inter-bay guide path layouts, or bay layouts that do not turn out to be as good as 
expected after inter-bay guide path layouts have been conducted. This is especially true in the bay layout of a wafer fab, 
since AMHSs are used to transport wafer cassettes between bays. Several inter-bay guide-path configurations can be 
observed in wafer fabs. They are spine configuration, perimeter configuration, and a configuration that has both spine 
and perimeter configurations. Figure 1.a gives an example of an inter-bay guide path with a spine configuration. A 
spine inter-bay guide path is often equipped with shortcuts for speeding up the transportation of wafer cassettes. A 
spine inter-bay guide path is an interior loop guide path that connects bays together. Figure 1.b gives an example of a 
perimeter configuration. As is shown in Figure 1.b, a perimeter inter-bay guide path is an exterior loop guide path that 
connects bays together. Figure 2 gives an example of the third inter-bay guide-path configuration. As is shown in Figure 
2, this configuration combines a spine configuration and a perimeter configuration. With this configuration, bays are 
connected by an interior loop guide path and an exterior loop guide path. Since a stocker serves an I/O (Input/Output) 
point between a bay and the loop guide path it is connected to, thus every bay in Figure 2 must have two stockers in 
order for it to be connected by both the interior loop guide path and the exterior loop guide path. Because of its 
dual-loop characteristic, the third guide path configuration should be able to handle more material handling jobs than 
the first and the second guide path configurations. The same characteristic also makes the layout problem of the third 
guide path configuration more complicated and difficult than those of the other two configurations. In this paper, we 
                                                           
* Corresponding author: E-mail: ho@cc.ncu.edu.tw   
 The 23rd European Conference on Operational Research, EURO XXIII, Bonn, Germany 
 
layout with a central core replacing the central corridor. In this layout, all bay-to-bay moves are made via the central 
core. Chen et al. [10] proposed a practical Fab Design Procedure (FDP) that provided quick calculations for 
developing and evaluating initial fab design alternatives.   
3. PROBLEM DEFINITION     
The following formally defines the problem studied here.     
Objective: To develop a layout design procedure that can solve the layout of bays and inter-bay guide paths (including 
a spine guide path and a perimeter guide path) by minimizing the total inter-bay flow distance.   
Assumptions:  
• The number of bays and the flow between bays are known.  
• A stocker serves as the input point and the output point of a stocker.   
• Every bay has two stockers – one at the front end and the other at the back end,   
• The length and width of each bay is known.  Bays are equal in width, but can be different in length.   
• Each bay has its own minimum safe distance requirement (MSDR) which specifies the minimum distance it 
needs to be away from its neighboring bays.  
4. THE PROPOSED LAYOUT DESIGN METHOD    
The proposed method has five main steps. The following explains the problem and the solution method of each step.   
4.1. STEP I: OBTAIN THE INITIAL LOOP ARRANGEMENT OF BAYS    
Step I has two stages. At the first stage, a Flow Line Analysis (FLA) method is used to obtain the initial loop 
arrangement of bays. At the second stage, the initial the loop arrangement of bays found at the first stage is improved 
using Simulated Annealing (SA). After SA, an improved loop arrangement of bays can be obtained. In this paper, we 
modified a method proposed by Ho and Moodie [11] to generate the initial the loop arrangement of bays. To apply SA, 
the values of several parameters (e.g., Imax (the maximum number of iterations), Ti (the initial temperature) and Tf (the 
freezing temperature)) need to be defined first. Please refer to Ho and Moodie [11] for the value settings of Ti, Tf and 
temperature reduction strategy. In this paper, the travel distance from one bay to another bay is calculated as the length 
of the guide path segment traversed by wafer cassettes, i.e. it is an actual travel distance. Furthermore, in this study both 
interior and exterior loop guide paths are assumed to be bidirectional, thus on each loop guide path there are two 
alternative routes between any two bays, one clockwise and the other counter-clockwise. It is assumed that the route 
with the smaller travel distance will be chosen to transport wafer cassettes.     
4.2. STEP II: ADJUST THE LAYOUT OF BAYS   
After the loop arrangement of bays has been determined, a method is proposed to adjust the loop arrangement of 
bays into a layout whose bays are arranged into two rows that are equal in length. And, these two rows of bays are 
connected by an interior loop guide path (i.e. a spine guide path) and an exterior loop guide path (i.e. a perimeter guide 
path). The proposed method also has two stages. At the first stage, we will divide the loop arrangement of bays (that is 
found at Step I) into two segments. At this stage, we will find all candidate pairs of segments that satisfy two criteria 
specified by us (see below). In each candidate pair of segments, it is very likely that one segment will be shorter than the 
other one. Since we want to make these two segments (i.e. two rows of bays) equal in length, the an extra guide path 
segment needs to be added to the shorter segment to make its length equal to the length of the longer segment. In other 
words, an extra guide path length will be incurred. Furthermore, another extra guide path length is also needed to 
connect two rows of bays together. These two types of extra guide path length can incur extra flow distance to wafer 
cassettes. It is apparent the candidate pair of segments that incurs the minimum amount of extra flow distance (EFD) is 
that one we want. Finding this candidate pair of segments is the task of stage 2.    
4.2.1. STAGE 1: FIND ALL PAIRS OF CANDIDATE SEGMENTS   
At stage 1, a dividing procedure is proposed to assist us in finding appropriate combinations of stretched segments. 
Please note in the procedure RowDis2 denotes the longer segment’s length, while RowDis1 stands for the shorter 
segment’s length. A pair of segments can be considered as a candidate if they can satisfy two criteria, i.e. (a) RowDis1 
 The 23rd European Conference on Operational Research, EURO XXIII, Bonn, Germany 
 
(OATFDLSC) is calculated as OATFDLSC = ATFDLSCI + ATFDLSCO.          
Step 7: Compare OATFDLSC with OATFDRSC, and select the smaller one as the kth Overall Adjusted Total Flow 
Distance (OATFDk).    
Step 8:  The kth extra flow distance (EFD) can be calculated as follows.   
olilkk OTFDOATFDEFD +−=  (1) 
Step 9: Update k = k+1. Is k < N ?  If yes, go to step 2; otherwise, go to step 10.    
Step 10: Select the candidate pair of segments with the minimum EFD.    
4.3. STEP III: ADJUST THE POSITION OF EACH BAY  
The task of this step is to adjust the position of each bay to a more accurate position so that total inter-bay flow 
distance can be minimized. A linear programming model is proposed for this purpose. In this model, the mid-points of 
the front end and the back end of a bay are used as reference points for calculating flow distances. The front end of a bay 
is the one connected to the interior loop guide path, while the back end of a bay is the one connected to the exterior loop 
guide path. In other words, in this model stockers are assumed to be located at the mid-points of the front ends and back 
ends of bays. Table 1 summarizes the notations appearing in the linear programming model.  Please note in the 
following we assume that the interior guide path loop (the exterior guide path loop) begins with a zero position value at 
its upper-left corner point and its position value increases in the clockwise direction. From now on, a bay, say Bay i, is 
said to be at the downstream of another bay, say Bay j, if the position value of Bay j is smaller that that of Bay i. By now, 
after the first two steps, we should have known the relative positions of bays. In other words, we knows whether one bay 
is at the downstream of another bay.  
 
Figure 3: An example of compensating SRC and SRC’ on the right end 
 FdFd Min
BSi j Bay of downstream the at is iBay &BSj
ijijijij∑ ∑
∈∀ ∈∀
′′+ )(  (2) 
Subject to    
j Bay of downstream the at is iBay  BSi,j  TL     XXMPd ijijij &∈∀+−≥×+  (3) 
j Bay of downstream the at is iBay  BSi,j     XXMPd jiijij &)1( ∈∀−≥×−+  (4) 
j Bay of downstream the at is iBay  BSi,j OLL     XXMPd ijijij &∈∀+′−′≥×+′  (5) 
j Bay of downstream the at is iBay  BSi,j      XXMPd jiijij &)1( ∈∀′−′≥×−+′  (6) 
iBay  to adjacent isj Bay   jBay  of downstream the at is iBay                                                            
row  samethe at arej Bay  and iay B BS i,j      SDBLBLXX ijjiji
&
&&)(5.0 ∈∀++≥−
 (7) 
)(5.0 2121 cccc BLBLWIDTHXX ++≥−  (8) 
BB BLX 5.0≥  (9) 
EE BLWIDTHXTL 5.0+≥−  (10) 
 The 23rd European Conference on Operational Research, EURO XXIII, Bonn, Germany 
 
q Bay of downstream the at is pBay   BSqp         BPBPMKd qppqpq &,)1( ∈∀′−′≥×−+′  (19) 
 BSp        UPBPBLPB ppp ∈∀≤≤  (20) 
 BSp        BUPBPBLP ppp ∈∀′≤′≤′  (21) 
q Bay of downstream the at is pBay   BSqp        0 d  ,d pqpq &, ∈∀≥′  (22) 
q Bay of downstream the at is pBay   BSqp     1 or  0KK pqpq &,, ' ∈∀=  (23) 
Constraints (16) and (17) make dpq equal to  PBPB TLPBPB qppq },min{ −+− . Constraints (18) and (19) make 
d’pq equal to  BPBP  OLLBPBP qppq },min{ ′−′+′−′ . Constraints (20) and (21) ensure the position value of stocker will 
be within the boundary of the bay.   
Table 2: Definitions of notations in the linear programming model of Step IV 
dpq the distance between the stocker of bay p and the stocker of bay q on the interior loop guide path   
Fpq the amount of flow between the stocker of bay p and the stocker of bay q on the interior loop guide path   
d’pq the distance between the stocker of bay p and the stocker of bay q on the exterior loop guide path   
F’pq the amount of flow between the stocker of bay p and the stocker of bay q on the exterior loop guide path   
PBp the position value of the stocker of bay p on the interior loop guide path   
LPBp the lower bound of the stocker of bay p on the interior loop guide path   
UPBp the upper bound of the stocker of bay p on the interior loop guide path   
PB’p the position value of the stocker of bay p on the exterior loop guide path   
LPB’p the lower bound of the stocker of bay p on the exterior loop guide path   
UPB’p the upper bound of the stocker of bay p on the exterior loop guide path   
4.5. STEP V: SET UP SHORTCUTS   
In this step, we propose a procedure for setting up a shortcut in the interior loop that will result in the minimum flow 
distance. It can be shown that the best place to set up a shortcut is at one of the stockers. Thus, in a layout that has N bays, 
there are N candidate places for setting up a short cut. In the following, a heuristic procedure is proposed here to find 
the optimal location that yields the maximum saving in flow distance (MSFD).   
Step 1: Initialize the best solution MSFD* = 0, and let i =1.  
Step 2: Find the starting and destination position of the shortcut i to calculate MSFDi.  
Step 3: If MSFDi ≥ MSFD*, update current MSFD* = MSFDi . Increase i = i +1.  
Step 4: If i > N, go to step 5. Otherwise, go to step 2 and update new MSFDi.   
Step 5: Stop and report the best solution MSFD*.    
5. AN EXAMPLE PROBLEM   
To help readers understand the proposed layout method, an example problem is solved. There are seven bays in this 
example. At Step I, the FLA method is used to find the initial loop arrangement of bays, which is Bay 1- Bay 4- Bay 7- 
Bay 5- Bay 3- Bay 2- Bay 6 (Note: Bay 1 are Bay 6 are next to each other in the loop arrangement). After SA, the 
improved loop arrangement of bays is Bay 3- Bay 4- Bay 7- Bay 1- Bay 5- Bay 6- Bay 2  (Note: Bay 3 are Bay 2 are now 
next to each other in the loop arrangement) whose Overall Total Flow Distance (OTFDil→ol) is 5.01115 x106. At Step II, 
the pair of candidate segments that can result in the minimum EFD are (Bay 1, Bay 2) and (Bay 3, Bay 7). In other 
words, the first segment is between Bay 1 and Bay 2 and the second segment is between Bay 3 and Bay 7. After that the 
linear programming models of Step III and Step IV are solved to find the correct locations of bays and their stockers. 
The procedure shown in section 4.5 is used to set up a shortcut. Figure 4 shows the final layout.  
