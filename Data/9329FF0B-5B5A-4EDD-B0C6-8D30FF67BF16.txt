 2
一、中文摘要 
本計畫分成五個子計畫，分別就機構、結構噪音、電池、電動馬達驅動及智慧型操控五個
方面做研究，子計畫一此部分子計畫的目標主要是要設計出一種可使車輛重心轉移的機構，以
期能夠增加車輛在行駛期間的安全性以及轉彎時的靈活度。此計劃的第一年，先從力學的觀點
建立車輛的物理模型，在車輛不翻轉的安全前提下，進行車輛運動狀況的分析，以求得最佳的
重心位置，再依此設計出重心可移動的系統。第二年的工作是根據前一年的模擬分析結果進行
實車的改裝與測試。而第三年的工作則是進行概念車外型的設計，與完成原型車輛的製造工作，
並提出新的重心轉移機構的構想。子計畫二的重點在超輕車輛的設計，在車殼部分的考量上，
除了要思考幾何外型的建構與材料的選用外，還必須應付車體結構所可能衍生的問題。當中，
所會面臨到的通常是振動與噪音這兩大課題。本研究分別透過理論與實驗的方法，找出超輕智
慧車輛在行駛過程中所會產生的主要噪音源與振動源，接著再藉由制振材料的運用，達到車體
減振與車廂減噪的目的。結果顯示，當制振材料黏貼於車殼上後，可以達到使整體系統的總聲
壓下降 1~2dBA 的效果。子計畫三目標是先進燃料電池組構裝與能量管理系統設計，第一年主
要手段是自行研發燃料電池動態性能即時模擬軟硬體，研究燃料電池電動車在不同行車型態
下，燃料電池輸出電壓、電流、功率以及車輛加速性能，以規劃整車性能及動力系統設計，同
時建立一機電整合硬體嵌入式研發平台。第二年主要完成組裝燃料電池系統，依據第一年研究
燃料電池系統性能動態特性，制訂燃料電池系統規格，建立燃料電池系統，包含燃料管理系統、
空氣管理系統、溫度管理系統以及燃料電池控制系統，規劃整車性能及動力系統配置。第三年
主要研究為建立超級電容器之系統動態模型，並以超級電容器做為混成燃料電池電動車之輔助
動力系統，設計出一套混成動力系統的能量管理策略。超級電容器部份，利用交流阻抗分析實
驗與充放電實驗，建立超級電容器等效電路模型，同時也考慮超級電容器本身自放電效應，與
在不同環境溫度下的影響，使此模型能更完整地表現實際超級電容器工作情形。能量管理系統
策略上，考慮燃料電池系統的反應速度，與較高工作效率範圍，配合超級電容器的快速充放電，
與極高功率密度等優點，以規則庫模糊控制方法，設計出最佳動力分配策略。最後以 ECE40 與
FTP75 之行車型態，模擬並評估，混成燃料電池電動車之性能表現。子計畫四是利用電動車之
特性，獨立控制驅動馬達(輪內式馬達)之驅動力矩，並以之控制車輛的轉向角與車速；除此之外，
藉由感測駕駛施於方向盤之力矩，配合驅動電流控制，更可達成動力輔助駕駛之功能。實作方
面，製作專用之馬達驅動器以全橋式 PWM 驅動電路設計電流控制器與煞車回充電路。除此之
外更利用 ADAMs 與 Matlab Simulink 建立全車模型，子計畫五則除使用電流控制外並探討其全
橋式驅動器之數學理論與剎車回充之方法。各項核心設計與製造技術之開發，可分為解耦合微
型慣性感測元件之設計分析、微型慣性感測元件之製程規劃與製作、以及磁感應與共金接合技
術等三項技術。本年度已完成(一) 自動倒車實車實驗，(二)自動車道保持實驗，(三)微慣性元件
之設計與分析，(四)微慣性元件量測與封裝(五)與其他子計畫整合及修正。利用影像處理系統連
結控制器發展自動倒車與車道保持之智慧車功能，實現於先進智慧概念車上。此外，完成符合
本計畫所需之慣性元件製作與量測，此電容感測電路整合輸出感測訊號，可與其他子計畫之元
件做整合，進而完成一智慧車輛之設計。 
二、計畫緣由及目的 
本計畫的目的在設計一個先進概念車，本計畫分成五個子計畫，分別就機構、結構噪音、電池、
電動馬達驅動及智慧型操控五個方面做研究。 
 4
單只是一個用於交通運輸的＂機器＂而已，對於現代人來說，汽車被賦予越來越多個性化的特
徵，還有越來越多美學上的展現，汽車可以說是個人品味上的一個延伸，因此汽車的外型也成
為消費者在購車時的一個考量的重點，因此汽車的外型設計對於汽車製造者來說也是越來越重
要的一環。  
3.1.2、概念性車殼外型設計 
3.1.2.1 車殼設計理念 
  這個部份車殼外型的設計理念，是期望能設計出一個能夠兼具前衛與美感的車殼外型，以
傳達本計劃「先進智慧車輛」的理念。在我們的設計過程中，也參考了部份國外著名車廠與頂
尖學術單位對於他們的概念車在外型設計上的一些構想與巧思，如圖一為美國麻省理工學院
(MIT)專門為都市空間所設計的概念運輸工具[3]，圖二為日本日產汽車公司於東京車展所推出的
駕駛座可旋轉的都市概念車[4]，圖三為法國寶獅汽車公司於日內瓦車展所推出的都市行動載具
[5]。  
 
 
圖一 MIT Smart City Car 概念車 
 6
蝕性的表現都相當不錯 (2)高機械強度，其抗拉強度與衝擊強度與金屬材質如鋁、鐵相比仍相當
優越 (3)優秀的耐熱耐寒性，因 FRP 所使用的是熱硬性樹脂，所以它具有高溫不軟化，低溫不
脆化的特性 (4)透光性佳 (5)尺寸精準度高，其成型後縮水率幾乎為零 等諸多優良的特性[6]，
同時 FRP 也是仿間常用於車輛外殼改裝的材料之一，因此我們是採用 FRP 做為我們此部分車殼
的材料。 
 
圖四 第一版本概念車外型 
 
圖五 第二版本概念車外型 
 8
 
圖八 下半部車殼(底盤部份)，由單一區塊所構成 
 
  而車殼分成三個區塊製作的原因，可分成上半部車身與下半部底盤兩個方面來討論，由於
三片車殼的重量加起來約超過三百公斤重，若將上半部車身部分的車殼作成單一區塊 FRP 模的
話，則此單一塊的 FRP 車殼的重量將會相當的重，於是將車身部分的車殼分割為兩個區塊製作，
以減輕車身單一車殼的重量；就製造方面的考量來說，若要開一個如我們所設計的具有複雜曲
面且一體成型的車身模具，是有相對的難度，所以將上半部車身分為兩個區塊開模可以簡化製
作的複雜度；而下半部車體盤製作成單一區塊的原因，主要是以車輛在行駛時的安全性為考量，
因為將車底盤製作成一體成型的形態可使模具具有較大的剛性，所以當受到相同的外力作用
時，其發生的變形量較小，因此當受到外力撞擊時可承受較大的衝擊力，可增降低受撞擊時的
傷害。 
3.1.3.2 車體骨架的修改 
  製作完成的車殼在進行組裝測試的過程中，發現原有的車體骨架結構只有四個固定鎖孔的
位置，無法提供我們新製作的車底盤足夠的強度以固定在車架上，如圖九圓圈處。 
  而我們的解決辦法是在車骨架的前、中、後三段的地方，分別焊上三塊ㄇ字型鐵條，每一
塊鐵條可以在上方提供兩個鎖孔位置與兩側各提共一個鎖孔位置，如圖十，因此三塊新焊上的
鐵條可提供十二個鎖孔位置，可較原本的鎖孔點多出三倍，因而可提高固定時的強度。 
  由於三片車殼加起來的總重量約超過三百公斤，加上操作者在駕駛時的乘坐的位置在車輛
的重心的後方，所以車輛整體的重心(含駕駛者)位置也會偏向後方，所以會導致車體會有往後傾
斜的趨勢，這樣車輛在行駛期間會時常發生車輪摩擦到車殼的情形，如圖十一，我們解決的辦
法是將原始車輛的後避震器更換成具有更高組尼係數的避震器，以防止車身後傾的現象。 
 
 10
3.1.3.3 車體外型的塗裝 
  待車殼製作完成後，最後一項工作便是進行車殼外觀的塗裝，在車殼的正前方的車頭部份，
貼上代表清華大學的校徽，如圖十二；在車尾的部份，則貼上動機系的英文縮寫標語，以及分
別將參予這項計畫的各實驗室中英文名稱貼在車尾的兩側，如圖十三，圖十四為整車的前側視
圖與後側視圖。 
 
 
圖十二 車身前視圖 
 
圖十三 車身後視圖 
 12
3.1.4、新機構概念設計 
3.1.4.1 新設計構想 
根據先前所做的模擬與實驗結果，可進行其他更適合的機構設計。由實際實驗的結果發現，
平移機構使用線性滑軌的摩擦力很大。原因是在低負載（體重小於 100kgf）下，線性滑軌的摩
擦力很大，雖然已經選擇無預壓的型號，但還是不利滑動。因此新的設計採用連桿形式，希望
能改善摩擦力大的缺點。 
如錯誤! 找不到參照來源。所示。長度 150mm 的 D 桿件直接安裝在車體骨架上，兩邊長
70mm 的 A、C 桿件為側邊桿，人所坐的坐墊則與 B 桿件相接。其中定義 A 桿件偏離平衡位置
往低側移動的角度為 i 角。在平衡位置 i=0 度。 
 
 
圖十五 四連桿機構設計圖 
 
 
3.1.4.2 ADAMS 模擬 
將此四連桿機構以ADAMS模擬其機構的幾何位置，結果如圖十六。設定A桿件的 i角（input 
angle）在 30± °間，追蹤 B 桿件中心點（即座椅處、可移動重心的質量塊）的相對地面高度（vertical 
displ. of m）、及側向位移量（lateral disp. of m）。在圖中並且標示出連桿位置以便對照。 
 14
三種設計的比較
0
2
4
6
8
10
12
14
16
18
10 20 30 40 50 60
時速(km/hr)
迴
轉
半
徑
(m
)
新機構設計
重心不移動的測試結
果
原設計重心移動的測
試結果
 
圖十八 原有設計與新四連桿機構之迴轉半徑最小值比較 
 
3.1.4 參考文獻 
[1] http://www.atc168.com/culture/wh2-x.asp?id=423, (2005.10.10) 
[2] R. Kazemi and K. Soltani, "The Effects of Important Parameters on Vehicle Rollover with 
Sensitivity Analysis," SAE, 2003. 
[3] http://blogs.zdnet.com/emergingtech/index.php?p=119 
[4] http://www.ubergizmo.com/15/archives/2005/10/nissan_pivo_cou.html 
[5] http://www.automobilemag.com/auto_shows/frankfurt/0509_peugeot_moovie/ 
[6] http://www.center-frp.com.tw/CT-02/CT02-P01.htm 
 
3.2 子計畫二： 
3.2.1 緣由與目的 
3.2.1.1 研究動機 
    對於整體計畫所要建構之智慧型個人運輸車輛，當中的ㄧ項設計重點便是車體輕量化，然
而超輕車體容易產生振動，而振動又會引發噪音，且超輕車體之隔音也很差，上述這些振動與
噪音的問題，對於超輕車體的設計，幾乎可以說是ㄧ定會面臨到的問題。故本次報告的重點有
以下四個：（1）物理模型的建立。使之在實車製造之前，能對可能遭遇到的振動與噪音問題，
先進行數值模擬分析；（2）貢獻度分析理論的應用。使之在實車製造之前，能針對模擬的結果，
預先規劃出減噪與減振的改善方案；（3）實車的振動與噪音量測。使之在實車製造完成後，能
對於車體實際的振動情形與噪音源分佈有所了解；（4）減噪與減振改善方案的提出。使之在實
 16
    由於車體並非規則之形狀，因此只能用數值方法進行振動分析，本計劃是採用有限單位法
來分析，而使用的軟體是 Ansys。由於車廂是由薄板所建構，因此本計劃採用板元素(Plate element)
來分析車廂之振動，在線性之假設之下，車廂結構之運動方程式可以寫成： 
[ ] { } [ ] { } { } 111 ××××× =+ nnnnnnn fXKXM &&    (2-1) 
     其中{ }X 為廣義座標(Generalized coordinates)，而[ ]M 及[ ]K 分別為質量矩陣及勁度矩陣，{ }f
為廣義力(Generalized force)。在(2-1)中，阻尼矩陣沒有考慮進去，因為一般金屬結構之阻尼很小，
這也是為什麼需使用黏彈材料覆加在原車廂結構以降低振動的原因。由於(2-1)式是標準之線性
振動方程式，由(2-1)式可求得n個自然模態及n個自然頻率。設自然頻率為 ,...., 21 snss fff 而自然模態
為
nΦΦΦ ..., 21 ，利用自然模態，可以組成模態矩陣(Modal matrix)[ ]G 為： 
[ ] [ ]
mnm
G ×ΦΦΦ= ....2,1  (2-2) 
    在(2-2)式中，人們只保留了m個自然模態，而m可由有興趣之最高頻率來決定。由模態分
析理論，系統之反應{ }X 可利用模態向量來展開，即： 
{ } mmqqqX Φ+Φ+Φ= ....2211 [ ] [ ]{ }QG
q
q
q
G
m
mn ≡
⎪⎪⎭
⎪⎪⎬
⎫
⎪⎪⎩
⎪⎪⎨
⎧
= × M
2
1
 (2-3) 
    將(2-3)式代入(2-1)式，並在等號的左右各乘以[ ]TG 則可得： 
{ } { }
⎪⎪⎭
⎪⎪⎬
⎫
⎪⎪⎩
⎪⎪⎨
⎧
=
⎥⎥
⎥⎥
⎦
⎤
⎢⎢
⎢⎢
⎣
⎡
+
⎥⎥
⎥⎥
⎦
⎤
⎢⎢
⎢⎢
⎣
⎡
mmm f
f
f
Q
k
k
k
Q
m
m
m
M
L
OM
M
L
&&
L
OM
M
L
2
1
2
1
2
1
00
00
00
00
00
00
00
00
 (2-4) 
    (2-4)式為m 個不互相耦合的二階微分方程式，因此如果外力{ }f 已知，則可以很容易由(2-4)
式求得 )(tqi ，將 )(tqi 代回(2-3)式即可求得結構之振動{ }X 。 
3.2.2.2 車廂聲場自然頻率及噪音激發 
    雖然邊界元素法(BEM)是分析聲場之主要方法，但當要求取車廂內自然頻率時，使用有限
單元法反而較便利。利用有限單元法，車廂內聲場之統制方程式與(2-1)式相同，即： 
[ ]{ } [ ]{ } { }0=+ PKPM aa &&  (2-5) 
 18
{ } rrbbbP Ψ+Ψ+Ψ= L2211 [ ] [ ]{ }BG
b
b
b
G a
r
a =
⎪⎪⎭
⎪⎪⎬
⎫
⎪⎪⎩
⎪⎪⎨
⎧
= M
2
1
 (2-13) 
將(2-13)代入(2-12)式，並在等號兩邊各乘以[ ]TaG 得： 
[ ] [ ][ ]{ } [ ] [ ][ ]{ }BGKGBGMG aaTaaaTa +&& [ ] [ ][ ][ ]{ }QGGAcG Ta &&1)(ρ−=  (2-14) 
(2-14)式可寫成：  
⎪⎪⎭
⎪⎪⎬
⎫
⎪⎪⎩
⎪⎪⎨
⎧
⎥⎥
⎥⎥
⎥
⎦
⎤
⎢⎢
⎢⎢
⎢
⎣
⎡
+
⎪⎪⎭
⎪⎪⎬
⎫
⎪⎪⎩
⎪⎪⎨
⎧
⎥⎥
⎥⎥
⎥
⎦
⎤
⎢⎢
⎢⎢
⎢
⎣
⎡
∗
∗
∗
∗
∗
∗
rrrr b
b
b
k
k
k
b
b
b
m
m
m
M
L
OM
M
L
&&
M
&&
&&
L
OM
M
L
2
1
2
1
2
1
2
1
00
00
00
00
00
00
00
00
[ ] [ ][ ][ ]{ }QGGAcG Ta &&1)(ρ−=  (2-15) 
假設(2-4)式等號右邊的模態外力為簡諧外力，令為 tFf ii ωcos= ，下標 i 表示為第 i 個模態，由
(2-4)式可解得: 
tm
F
tq
si
i
i
i ωωω cos)( 22 −=  (2-16) 
其中
i
i
si m
k=ω ， im 為結構第 i 個模態質量， ik 為結構第 i 個模態勁度。將(2-16)式代到(2-15)式，
可解得: 
( ) [ ] [ ][ ][ ] tmm
F
GGAcGtb
siaj
ji
i
T
aj ωωωωωρ cos))(()( 22221 −−−=
∗
 (2-17) 
    (2-17)式中的下標 j 為內部聲場的第 j 模態，而 ∗∗= jjaj mkω ∗jm 為聲場第 j 個模態質量， ∗jk
為聲場第 j 個模態勁度。將(2-17)式帶回(2-13)式可得: 
{ } [ ][ ] [ ][ ][ ]∑∑
= =
∗
−−−=
m
i
r
j siaj
ji
i
T
aa t
mm
F
GGAcGGP
1 1
22221 cos))((
)( ωωωωωρ  (2-18) 
 20
3.2.3.2 實驗數據分析與討論 
    圖(3-4)所示為低速行駛下駕駛處人耳噪音實驗量測結果，其中圖(3-4a)所示為時域訊號的結
果，圖(3-4b)所示為頻域訊號的結果。在時域訊號的部份，可以見到圖中僅顯示 27.5 秒到 29 秒
的結果，但在實際的規劃上，每一次實驗的實際記錄時間為 40 秒，且訊號開始紀錄的時間是與
智慧車啟動的時間幾乎同步的，但之所以只取當中一段時間的結果來做分析，是基於以下幾點
原因：(1)實際駕駛車輛時，都不免要從靜止時開始啟動，換言之，剛開始的時候車輛是屬於等
加速度的過程，這樣的實驗環境條件並不符合要求，同樣地，當智慧車加速到指定的速度，在
行駛一段時間後，則必然會以等減速運動的方式讓智慧車停止，而在這段行駛過程中，也同樣
不符合實驗環境條件的要求，因此前段時間與後段時間的實驗數據將不被採用；（2）實驗的過
程中是在戶外進行而非室內，且車廂空間因車殼之故並非完全封閉，因此實驗過程中亦有可能
因外界環境干擾而影響訊號。基於以上兩點原因，在進行訊號分析之前必須從整體紀錄的訊號
數據之中，挑選一段相對之下較穩定的訊號來進行分析。而進ㄧ步觀察圖(3-4b)，則可以發現在
頻率 170Hz 附近有一個很明顯其大小為 29dBA 的峰値產生，該峰值的產生的原因，初步判定很
可能是因為結構激發所產生，但詳細的原因則必須與其它實驗結果比較之後，才能證實。 
    圖(3-5)所示為高速行駛下駕駛處人耳噪音實驗量測結果，其中圖(3-5a)所示為時域訊號的結
果，圖(3-5b)所示為頻域訊號的結果。圖(3-5a)中所擷取的時間為 24 秒到 25.5 秒，換言之，真正
的總取樣時間只有 1.5 秒，但根據訊號處裡的原理，這樣的時間在頻譜上已經有足夠的解析度，
且關於此次噪音量測的實驗，取樣頻率設定在 50μ秒，故數據的資料量是足夠的並且頻寬可達
10kHz，但因為配合此次實驗系統的特性與實驗目的，只需觀察 1kHz 以下的頻譜分布即可，如
圖(3-5b)與圖(3-5b)所示。 
    在時域部份，可觀察到智慧車在高速行駛的狀態下，噪音的分布量是比低速要來的大，關
於這點也與一般車輛噪音工程問題的現象相符。而在頻域方面，圖(3-5b)中一樣在 170Hz 附近有
一個很明顯的峰値產生，而該峰值的大小為 37dBA 也比圖(3-4b)的峰值來的大。須留意到的是，
兩者圖形中最明顯的峰值都發生在相同的頻率，這點凸顯了該峰值發生的位置並不會隨智慧車
行駛速度的變化而有所變化，故從這一點來觀察，更加提高了該峰値產生的原因與結構模態激
發有關的可能性。 
    圖(3-6)所示為下方車殼在智慧車低速行駛時的振動實驗量測結果，其中圖(3-6a)所示為時域
訊號的結果，圖(3-6b)所示為頻域訊號的結果。由於本次實驗中所用來量測振動的感測器為加速
規，因此所量測到的物理量便是加速度。在時域的加速度實驗結果中，”點線”型式的曲線為量
測點 1 的位置，編號名稱為 vib1，它位在右前方前輪處車殼上；”虛線”型式的曲線為量測點 2
的位置，編號名稱為 vib2，它位在駕駛者座位後方車殼上；”實線”型式的曲線為量測點 3 的位
置，編號名稱為 vib3，它位在左後方後處車殼上。 
    從圖(3-6a)中的這三條曲線中可以很明顯的看出，駕駛者座位後方車殼的加速度值是最大
的，至於右前輪與左後輪處車殼的振動量大小則差不多，且相較於駕駛者座位後方車殼的振動
量都小很多。在圖(3-6b)的頻域加速度實驗結果中，與圖(3-6a)相同，”點線”型式的曲線為量測
點 1 的位置；”虛線”型式的曲線為量測點 2 的位置；”實線”型式的曲線為量測點 3 的位置，而
為了突顯振動訊號在頻譜中的差異性，便將頻域訊號的大小訊號轉換成 dB 表示。 
    由於頻譜涵蓋的面積代表了訊號能量的大小，故可從中發現，量測點 2 在頻譜上的值分布
 22
的附近會產生明顯的噪音值或是振動量。 
3.2.4 改善方案與結果 
由以上的實驗結果可以發現，以目前的智慧車的結構特性而言，在 170Hz 處會有一個很大
的響應，而根據實驗的結果研判，這個頻率是結構的自然頻率。其實很明顯的，若排除智慧車
上其它設備所引發的振動，單純討論其行駛過程中所引發的振動，則路面力將會是系統的最大
外力源，並可以了解若想抑制振動源，就應該直接從抑制車殼的振動下手。 
在有了智慧車行駛過程中振動的實驗結果後，可以很容易找出車殼處哪裡的振動量最大。
值得注意的是，智慧車車殼為配合其它子計畫的需求經過多次修改，目前由車殼所包覆的車廂
空間已不是一個封閉的內聲場（Interior Sound Field），因此若直接從振動量最大處下手去改善噪
音，應當也能有很好的效果。至於實驗數據的結果經過分析後，判定出前方車殼的量測點 2，即
駕駛者頭頂上方的車殼處，有最大振動量，由於系統是屬於較大型的工程結構，因此比較會被
激發的結構自然頻率是在低頻的部份，當中除了 170Hz 的峰值外，還有其它頻率的峰值也能在
該量測的結果中觀察出來，其實像下方車殼量測點 3 的結果在低頻值的分佈也很大，但除了
170Hz 處有明顯的峰值外，並沒有其它明顯的峰值被激發出來。因此相較之下，判定頭頂上方
的車殼板件有最大的振動量。 
本計畫抑制車殼振動量的方法是採用在該處車殼上黏貼制振材料，。該制振材料的製造廠
商雖在設計時於材料的背部附上了一層膠帶，用以將制振材料黏貼於其它材料上，但該膠帶的
黏附效果並不好。為了讓制振材料的制振效果能確實發揮，必須確保材料能緊密的黏附在車殼
上，故為了補強背層膠帶黏附力不足的問題，在黏貼制振材料於車殼上的同時，也於材料的外
層以其它的膠帶加強固定，如圖(4-1)所示。 
完成制振材料的黏貼後，便接著以實驗的方式，來了瞭解噪音改善的狀況。圖(4-2)所示即
為制振材料黏貼後。在人頭部所量測到的噪音分佈頻譜。關於該次的實驗，是以讓智慧車處於
低速的狀態下來行駛，可以了解到的是，若在低速的行駛狀態下都能見到噪音改善的效果，那
麼在高速行駛時效果必當更為明顯。圖中實線曲線為未貼制振材料的量測結果，而虛線則代表
了有貼制振材料的量測結果。 
當然，由於外在環境的改變，故此次實驗中單就未貼制振材料下智慧車低速行駛所量測到
的結果，也會與圖(3-4b)的結果不一樣，尤其是噪音值的大小，不過頻譜的分佈趨勢並不會有太
大差異，圖(4-2)中實線的量測結果，是在有貼附制振材料的實驗完成後，拆卸下制振材料，立
刻進行實驗所量測到的數據，如此的方式，能確保圖(4-2)的兩項結果在量測上擁有相同的實驗
環境。 
成效上，可以見到 170Hz 處的峰值在黏貼制振材料後，下降了 5dBA，換句話說若外力源
的主要能量都落在這個頻率上，那將制振材料貼於此處將會產生極佳的效果。然而路面力的特
性是寬頻的，而且透過系統總聲壓的計算，比較能真實反應噪音改善的狀況。針對圖(4-2)的結
果，未貼制振材料時系統的總聲壓量為 39.9dBA，而黏貼制振材料後系統的總聲壓量為
39.7dBA，可見得黏貼制振材料後不但能抑制該處車殼的振動，也確實產生降低整體系統噪音的
功能，不過成效並不顯著。 
探究其原因，可能有以下幾點：（1）制振材料的黏貼範圍太小；（2）制振材料未確實粘緊
 24
表（2-2）數值模擬所計算出的駕駛處人耳聲壓值（以聲場自然頻率做為激發頻率） 
The sound pressure of the driver position (dB)
Type  NF1 NF 2 
No VDL 119.2692 91.60514 
Position 1 120.7923 93.80155 
Position 2 118.6813 91.17297 
Node number 608 579 
 
1st natural frequency  2nd natural frequency  
(a) 
1st natural frequency 2nd natural frequency  
(b) 
圖(2-1) 制振材料的黏貼位置 (a) 以車體結構自然頻率做為激發頻率 (b) 以車廂聲場自然頻率
做為激發頻率。符號”□”是以最大變形量為考量所黏貼制振材料的位置；符號”○”是以貢獻度分
析為考量所黏貼制振材料的位置 
 26
 
圖(3-3) 車輛行駛狀態下之麥克風位置圖 
27.6 27.8 28.0 28.2 28.4 28.6 28.8 29.0
-0.6
-0.4
-0.2
0.0
0.2
0.4
0.6
0.8
1.0
(a)
S
ou
nd
 P
re
ss
ur
e 
(P
a)
Time (sec)
100 200 300 400 500 600 700 800 900 1000
-20
-15
-10
-5
0
5
10
15
20
25
30
(b)
S
ou
nd
 P
re
ss
ur
e 
(d
B
A
)
Frequency (Hz)
 
圖(3-4) 低速行駛下駕駛處人耳噪音實驗量測結果（a）時域（b）頻域 
24.0 24.3 24.6 24.9 25.2 25.5 25.8 26.1 26.4 26.7 27.0
-2.0
-1.5
-1.0
-0.5
0.0
0.5
1.0
1.5
So
un
d 
Pr
es
su
re
 (P
a)
Time (sec)
(a)
100 200 300 400 500 600 700 800 900 1000
-20
-15
-10
-5
0
5
10
15
20
25
30
35
40
(b)
S
ou
nd
 P
re
ss
ur
e 
(d
B
A
)
Frequency (Hz)
 
圖(3-5) 高速行駛下駕駛處人耳噪音實驗量測結果（a）時域（b）頻域 
 28
21.0 21.5 22.0 22.5 23.0 23.5 24.0
-40
-30
-20
-10
0
10
20
30
40
(a)
A
m
pl
itu
de
Time (sec)
 vib3
 vib2
 vib1
0 100 200 300 400 500 600 700 800 900 1000
-80
-70
-60
-50
-40
-30
-20
-10
0
10
20
(b)
A
cc
el
er
at
io
n 
(d
B
)
Frequency (Hz)
 vib1
 vib3
 vib2
 
圖(3-9) 高速行駛下後方車殼振動實驗量測結果（a）時域（b）頻域 
 
圖(4-1) 制振材料的黏貼位置 
100 200 300 400 500 600 700 800 900 1000
-18
-15
-12
-9
-6
-3
0
3
6
9
12
15
18
21
24
27
30
 
 
S
ou
nd
 P
re
ss
ur
e 
(d
B
A
)
Frequency (Hz)
 未貼制振材料
 有貼制振材料
 
圖(4-2) 低速行駛下駕駛處人耳噪關於有無黏貼制振材料的實驗量測結果 
 30
 
本計畫主要工作為設計及建立先進智慧個人運輸概念車之燃料電池動力系統以及動力分配控
制。依照計畫目標所建立燃料電池系統平台如圖 2.1 所示，燃料電池系統硬體架構如圖 2.2 所
示，包括燃料電池本體、空氣管理子系統、燃料供應子系統與溫度管理子系統等，來分配燃料
電池與週邊系統動力輸出。各子系統之動態數學模式描述如下： 
 
3.3.2.1 燃料電池電化學反應 
 
PEM 燃料電池的理想輸出電壓可由電化學得知，但在實際上的輸出值卻比理想值來的低，其原
因在於極化效應(Polarization)所造成的電壓損耗，所謂的極化效應是由三個反應所造成，分
別為： 
actE 活化能過電壓(activation overpotential) 
conE 離子濃度過電壓(concentration over- potential) 
ohmE  毆姆過電壓( ohmic overpotential ) 
其中 actE 為燃料電池克服反應物活化能反應所造成的電壓損耗， conE 為離子濃度對於燃料電池造
成的電壓損耗，主要是由於反應物輸送速率不及反應物速率所造成的額外壓降， ohmE 為電池內
電阻所造成的電壓損耗，由以上的三種反應可以得到實際上單一燃料電池端電壓 oV 如下： 
ohmicconactio EEEEV −−−=                                         (2.1) 
 
3.3.2.2 燃料供應子系統 
 
燃料電池燃料供應子系統主要以儲氫材料( 5LaNi )作為儲存氫氣的方式。參考 Nasrallah[3]等人
之儲氫反應器模組，可知儲氫材料釋出的氫氣質量流率為： 
Vmetmet
eq
eqVH
met
d
dmetH VP
PP
RT
E
Cm ,
,
,
2
2
)exp( ρ−−=&                             (2.2) 
 
其中 eqP 為儲氫材料穩定不放出氫氣時的平衡壓力，可由實驗求得。 
 
3.3.2.3 空氣管理子系統 
 
氫氣為質子交換膜燃料電池所需要的燃料, 而氧氣為助燃氣體。空氣管理系統模擬實際硬體架
構，主要包括四個部分：空氣壓縮機本體、空氣出入燃料電池時的進口端與出口端，與燃料電
池本身流道[4]。空氣壓縮機的動態，主要為馬達驅動壓縮機時的轉速變化： 
)( crcm
cm
dt
d
J ττω −=                                               (2.3) 
 
3.3.2.4 溫度管理子系統 
 
由於燃料電池內部阻抗的影響，燃料發電除外的能量大都轉換成廢熱的型式，因而燃料電池系
統需要一冷卻系統輔助控制燃料電池溫度。一般而言，冷卻裝置可分為氣冷與水冷，由於燃料
電池電動車中燃料電池算是高功率運作，因而冷卻系採取水冷裝置。假設燃料發電時耗損的能
量完全轉換為廢熱的型式，則燃料電池溫度可由下列式求得： 
 32
約 A15 到 A45 ，此區段為燃料電池系統較高效率的工作範圍。 
由圖 3.6 所示，上圖顯示超級電容器電壓，下圖為超級電容器電流，當需求車速增加，超級電
容器都會依需求大小提供所需功率，因此在第二與第三波段會有較大電壓降，約為 V10 。其中
發現超級電容器電流關係，近似於超級電容器功率變化，超級電容器正電流為燃料電池系統對
超級電容器充電電流，而超級電容器負電流將與燃料電池系統輸出電流經由穩壓器結合輸出到
馬達端。  
 
 
3.3.4 參考文獻 
 
[1] 林暐智，“超級電容器交流阻抗分析與燃料電池車之能量管理系統設計＂，清華大學動力
機械研究所論文，2006。 
[2] Wu, C. H., Lin W C., Hong C W., ＂Ultracapacitor Dynamic for Fuel Cell Vehicle 
Control＂, AVEC＇06 International symposium on Advanced Vehicle Control, Taipei, Taiwan, 
2006. 
[3] Askri, F., Jemni*, A., Nasrallah, S.B., “Prediction of Transient Heat and Mass 
Transfer in a Closed  Metal-Hydrogen Reactor,＂ International Journal of Hydrogen 
Energy 29, pp.195-208, 2004. 
[4] Pukrushpan, J. T., Stefanopulou, A. G. , Peng , H. , “Modeling and Control for 
PEM Fuel Cell Stack System,＂ proceedings of the American Control Conference, Anchorage, 
May 8-10, 2002. 
[5] Pandolfo A. G., Hollenkamp A. F., “Carbon properties and their role in 
supercapacitors＂, Journal of Power sources, Vol. 157, pp. 11-27, 2006. 
[6] Buller, S., Karden, E., Kok, D., De Doncker, R.W., “Modeling the dynamic behavior 
of supercapacitors using impedance spectroscopy＂, Industry Applications, IEEE 
Transactions on Vol. 38, pp. 1622-1626, Nov.-Dec., 2002. 
[7] Y. H. Hung, “On-Line Dynamic Analysis and Model Order Reduction Algorithm for Fuel 
Cell Hybrid Electric Vehicles Based on Bond Graph Approach＂, PhD Thesis, National Tsing 
Hua University, 2004. 
 34
 
圖 2.3 能量管理系統的控制策略流程圖 
 
圖 3.1 燃料電池系統性能圖(1) 
 
 36
0 20 40 60 80 100 120 140 160 180 200
0
1000
2000
3000
4000
5000
P d
em
an
de
d 
(W
)
0 20 40 60 80 100 120 140 160 180 200
0
1000
2000
3000
4000
5000
Time (s)
P n
et
 (W
)
 
圖 3.4 ECE40 混成燃料電池電動車整車模擬結果圖(2) 
 
0 20 40 60 80 100 120 140 160 180 200
0
1000
2000
3000
P F
C
 (W
)
0 20 40 60 80 100 120 140 160 180 200
-4000
-2000
0
2000
Time (s)
P U
C
 (W
)
 
圖 3.5 ECE40 混成燃料電池電動車整車模擬結果圖(3) 
 
 38
3.4.1.2 文獻回顧 
本子計畫中所提出之控制方法類似於曾經被提出的 BSS 系統(Brake Steer Sysrem)[2][3][4]，
然而該系統是使用在傳統車輛上，利用 ABS 來制動兩側輪胎之煞車力矩，並以此力矩來作為影
響車輛動態之輸入。然而 BSS 系統是由煞車所組成，不像本子計畫中所提出之系統，可包含煞
車及牽引力相輔，故 BSS 會嚴重影響車輛在縱向上的動態，更而可能會影響車輛之穩定度。故
本子計畫以電動車之優勢，來克服 BSS 系統之缺點，而兼具有 BSS 系統穩定車輛轉角之優點。 
關於煞車回充方面的文獻，相關的有如同 Saha 等人[7]研究將馬達的煞車回充系統應用在較小動
力的電動起重機上，取代傳統較耗能源的內燃機引擎起重機。Tipsuwanporn 等人[8]針對直流馬
達的 H-Bridge 驅動電路提出一個完整的控制方法，其中煞車回充的部份值得參考。在電動車輛
領域，福特車輛研究部門的 Cikanek 等人[9]研究如何將回充系統應用在複合動力車輛上，其回
充系統可以將引擎無負載空轉時產生的多餘能量回充至電瓶中，增加車輛續航距離。 
 
 
3.4.2 系統架構 
3.4.2.1 電動車轉向系統與硬體架構 
本子計劃實驗車輛以基益公司生產的 Draco 50 汽油引擎沙灘車為基礎並加以改裝。將原車
的汽油引擎和傳動機構移除，前兩輪改用輪內式馬達。電力系統採用四顆廣隆公司生產的 12V 
50Ah 電動車用蓄電池，四顆串聯產生 48 伏特的電壓源，透過個別驅動器連接至左右兩輪內式
馬達。 
煞車系統部份，後輪使用股式煞車，前兩輪經過改裝加上碟式煞車，此外在驅動器控制下
具有煞車回充的功能。油門控制以電子控制訊號取代原車機械式鋼纜機構。轉向部份保留原沙
灘車之轉向機構，僅將兩前輪移除換成輪內式馬達。改裝後車輛如圖 2.1 與圖 2.2 所示。 
 
圖 2.1  實驗車轉向機構修改圖 
 
 40
過更大的電流。MOSFET 旁並聯一飛輪二極體提供反向電流通過，使馬達的電感電流能夠在
MOSFET 切換時續流，避免因 MOSFET 關斷而產生瞬間的高電壓。馬達驅動器所用的 MOSFET
是屬於增強型 N 通道(N-Channel)，其好處是易與數位系統結合，可做高速切換。此功率模組是
由 16 顆 MOSFET 所組成，亦即每四顆 MOSFET 並聯成為一個開關。MOSFET 使用 International 
Rectifier 公司生產的 IRF3710。MOSFET 驅動 IC 選用 International Rectifier 公司生產的 IR2110 
MOSFET 光電隔離驅動器，以簡化電路設計。其優點為：1. 輸出與輸入端隔離，可避免大功率
端雜訊產生的干擾。2. 驅動能力強，可提供最大 2A 的驅動電流驅動 MOSFET。3. 反應時間快，
可高速對 MOSFET 進行切換。H-Bridge 功率級電路和 MOSFET 驅動 IC 電路如下圖 2.3 所示： 
 
圖 2.3 馬達驅動器 
3.4.2.4 控制系統微處理器 
圖 2.4 為控制系統配置圖。系統的控制器採用 Microchip 公司製造的控制器 PIC18F458，其
程式記憶體採用 Flash ROM，因此在控制器發展期間可重複燒錄，有利於控制器的設計與偵錯。
這顆單晶片支援 Microchip C18 指令集的編譯最佳化，可直接採用 C 語言程式發展控制器，透過
其編譯最佳化的過程，可節省記憶體空間，提高控制器程式執行的效率。控制命令由 PIC18F458
計算完成並且轉換成四橋 PWM 訊號輸入 IR2110 MOSFET 驅動 IC。IR2110 將 PWM 訊號放大
驅動 H-Bridge 功率級電路上的 MOSFET，改變驅動器輸出電壓，達成控制馬達的目的。 
sensor
driver X 2
motor X 2
Battery 24V
controller
 42
的電流，利用線性放大器來調整供給馬達電流的方法效率過低，且會產生高熱，故一般而言都
是利用全橋式 PWM(Pulse Width Modulation)電路的方式來調變電壓，其電路示意圖如圖 3.2。
藉由切換四個 MOSFET 開關，可控制馬達之操作狀態。 
 
圖 3.2 全橋式驅動電路圖 
正轉驅動模式(forward motoring)： 
接下來先討論馬達操作於正轉模式時之情形。當馬達操作於正轉驅動模態時，驅動器給予
Gate 1 PWM 調變之訊號，Gate 2 為恆開通之訊號，Gate 3、4 為關閉的狀態。則電流的方向如
同圖 3.3 所示： 
 
圖 3.3 正轉驅動電流方向示意圖 
其中 PWM 調變訊號產生的原理為將輸入訊號和週期性的比較波(鋸齒波)作比較，當輸入訊號
強度大於比較波時，輸出的 PWM 訊號是 1，反之是 0。所以 PWM 訊號是由一連串的方波所
組成，用來控制 MOSFET 的導通和關閉。在 MOSFET 的閘極端(Gate)輸入 PWM 訊號，當訊
號是 1 時，可使 MOSFET 導通；訊號是 0 時， MOSFET 關閉。週期性的比較波頻率稱為載波
頻率(carrier frequency)。提高載波頻率可以降低電流的漣波，提高馬達的效率並降低諧波干擾，
但另一方面也會增加功率開關切換時能量的損失。接下來討論馬達切換區間的暫態反應情形： 
1. 責任區間 )0( DTt ≤≤ ：其中 10 << D ，D稱為責任週期(duty cycle)。在此區間，第一
橋開關關上，電池供應能量給馬達。馬達電流上升。 
電路方程式： 
bVEdt
diLRi =++  
2. 飛輪區間 )( TtDT << ：第一橋開關打開，電流會通過飛輪二極體，在馬達和二極體間
成一迴路，電感釋出開關導通時儲存之能量。電路方程式： 
 44
 bVL
D
L
ki
L
R
dt
di −+−−= 1ω                         (3.7) 
式 3.7 成立的條件為，馬達兩端等效電壓值大於電池端，故其條件數學式可寫為
bV
kD ω−>1  
 
式 3.6 適用於馬達正轉且電流方向為正時的情形。雖然馬達反轉模式(reverse motoring)擁有
相同的動態方程式，但是實際上，正轉的馬達無法瞬間切換至馬達反轉模式，切換的瞬間會產
生極大的電流而燒壞驅動器，故欲在馬達正轉時產生逆向之電流，較為安全的方式為切換至馬
達正轉回充模式至速度降為 0 時，再將模式切換至馬達反轉驅動模式。為了方便控制器之設計，
僅考慮正轉驅動與正轉回充模式，修正上兩模態之責任週期D之符號，將 10 << D 之操作模態
設計為正轉驅動模式，而 01 <<− D 之操作模態設計為正轉回充模式，則綜合上述兩操作狀態
之數學模型，可整合為如式 3.8： 
⎪⎪
⎪
⎩
⎪⎪
⎪
⎨
⎧
+−≤≤−++−−=
≤<+−=
≤<+−−=
b
b
b
b
V
KDD
L
V
L
Ki
L
R
dt
diL
D
V
Ki
DD
L
V
L
Ki
L
R
dt
diL
ωω
ω
ω
11)1(
010
10
          (3.8) 
 
3.4.3.2 轉向系統動態 
在研究
轉向系統的
動態前，首
先分析轉向
系統所受到
的力。轉向
系統由於機
構設計的關
係存在兩個
角度，一為
側向傾斜角(lateral inclination angle，λ )，一為凱氏角(caster angle ， ν )，傾斜角與凱氏角的設
計可使得車輛在轉向時，於轉向機構上產生回正的力矩，其力矩大小與左前輪、右前輪的負載
力( zlF 、 zrF )有關，也與轉向角δ 有關，數學方程式可表示如式 3.9： 
δντ cossin)( ⋅⋅−= dFF zrzlc                      (3.9) 
傾斜角亦與左右前輪負載力、轉向角有關，其數學方程式可表示如式 3.10： 
δλτ sinsin)( ⋅⋅+−= dFF zrzli                      (3.10) 
如果將式 3.10 於 0=δ 附近做線性化的處理可得如同式 3.11： 
 
圖 3.6 轉向系統示意圖 
 46
0 2 4 6 8 10 12 14 16 18 20
-15
-10
-5
0
5
10
time(sec)
C
ur
re
nt
(A
)
experiment
simulation
0 2 4 6 8 10 12 14 16 18 20
0
20
40
60
80
100
time(sec)
du
ty
(%
)
duty cycle
 
圖 3.7 馬達系統鑑別圖 
圖中 1 秒至 10 秒驅動器操作於正轉驅動模式，11 秒至 20 秒驅動器操作於正轉回充模式。圖 1
秒至 5 秒之間馬達為加速狀態，5 秒至 10 秒之間由於反電動勢的關係，轉速與電流趨於穩定，
10 秒至 11 秒之間四個 Gate 都不開通，馬達呈現斷路的狀態，但馬達轉子仍然因為慣性而轉動，
11 秒後開始進行正轉回充模式，但煞車電流只在責任週期大於某個門檻後才開始產生，13 秒後
逆向電流值漸小，由於馬達轉速已因 11 至 12 秒間的煞車電流而降低至靜止。圖中實線部分為
實驗之結果，虛線為利用 3.1 節所推導之模型之模擬結果。由圖中可看出，所提出之數學模型可
描述馬達之動態。 
 接著欲鑑別轉向機構之動態方程式，在實驗電動車靜止時，以手對方向盤進行週期性轉動，
藉由裝置於轉向機構之短舉感測器量測轉矩對時間的數據，並紀錄轉向機構之轉向角度對時間
的數據。由上述量測之數據與 3.2 節所提之賺向機構動態方程式相比較，調整方程式之參數使其
與實驗結果相符合，可得系統鑑別之參數結果如圖 3.8，圖中實線為量測之轉向機構角度結果，
虛線為輸入相同力矩所得之模擬結果。由圖可知，模擬結果趨勢與實驗結果相符，接下來將本
節中所鑑別出之參數用於控制器的設計之中。 
正轉驅動模式 正轉回充模式 
 48
可使車輛維持穩定。 
由本節上述之推導中，可看出，由數學方程式的觀點來看，式 3.17 所提之控制器可對駕駛
者產生一定的動力輔助效果，而無需增加 AFS 或額外之油壓幫浦，甚至可動態調整轉向系統的
參數來符合不同駕駛者間的需求。 
 
3.4.3.5  線控系統轉向設計 
結合 3.1 節中所提之馬達系統動態與 3.2 節中所提之轉向機構動態，整合式 3.4 與式 3.16 將
之以狀態空間轉移函數(state space)的方式來表示，如式 3.20： 
⎥⎦
⎤⎢⎣
⎡
⎥⎥
⎥⎥
⎥⎥
⎥⎥
⎥
⎦
⎤
⎢⎢
⎢⎢
⎢⎢
⎢⎢
⎢
⎣
⎡
+
⎥⎥
⎥⎥
⎥⎥
⎥⎥
⎦
⎤
⎢⎢
⎢⎢
⎢⎢
⎢⎢
⎣
⎡
⎥⎥
⎥⎥
⎥⎥
⎥⎥
⎥⎥
⎥
⎦
⎤
⎢⎢
⎢⎢
⎢⎢
⎢⎢
⎢⎢
⎢
⎣
⎡
−⋅−
−⋅−
⋅
⋅−⋅
⋅−−
⋅⋅
=
⎥⎥
⎥⎥
⎥⎥
⎥⎥
⎦
⎤
⎢⎢
⎢⎢
⎢⎢
⎢⎢
⎣
⎡
∫∫
R
L
b
b
R
L
x
R
L
x
d
d
L
V
L
V
i
i
V
L
R
rL
k
L
R
rL
k
rJ
kd
rJ
kd
J
B
J
K
rm
k
rm
k
i
i
V
0
0
00
00
00
00
0000
0000
00
001000
000100
0000
δ
δ
δ
δ
δ
δ
&&    (3.20) 
式中引入車輛的縱向速度 xV 也就是車速，式中m 為車重。除此之外並引入轉向機構角度的積分
狀態 ∫δ，引入 ∫δ 狀態是為了控制器設計時能消彌穩態誤差。式 3.2 之輸入為左右兩輪之責任週
期，輸出為車速、轉向機構角與兩輪之電流。接著利用 LQR(Linear Quadratic Regulator)的方法
來找尋最佳化之全狀態回授控制器，首先定義價格函數(cost function)如式 3.21： 
∫∞ += 0 RudtuQxxJ TT                       (3.21) 
取
⎥⎥
⎥⎥
⎥⎥
⎥⎥
⎥⎥
⎥
⎦
⎤
⎢⎢
⎢⎢
⎢⎢
⎢⎢
⎢⎢
⎢
⎣
⎡
=
2
2
2
2
2
1
10000
0
1
1000
00
174.0
100
000
00174.0
10
0000
00174.0
1
Q 、 ⎥⎦
⎤⎢⎣
⎡=
200
020
R ，帶入式 3.21，並解 Algebraic 
Riccati Equation(ARE)可得一組控制器 cK ，由電腦數值運算的結果最佳化的 cK 為：
⎥⎦
⎤⎢⎣
⎡
−−−= 2.004.163.92817.114
02.04.163.9287.1141
cK 。在Q矩陣的選取中，增加轉向角的積分狀態之權重，
減少左右兩輪電流狀態之權重，目的在於強化轉向角追蹤的性能。在接下來的章節中，利用 LQR
方法所設計出來的全狀態回授矩陣來進行模擬。 
 50
 
 
 
圖 4.2 ADAMs 模型圖 
 
於 ADAMs 的模型中，建立包含凱氏角與傾斜角於轉向機構中，並以第三章中所設計之控制器
來進行虛擬環境下的模擬，其結果如圖 4.3、圖 4.4 所示： 
 
圖 4.3 ADAMs 模擬-轉向角結果圖 
質量中心 
轉向機構連桿 
傾斜角 
凱氏角 
 52
 
圖 5.1 動力輔助轉向控制結果圖(1) 
 
圖 5.2 動力輔助轉向控制結果圖(2) 
3.4.5.2 線控轉向控制實驗結果 
 
本子計劃中先以 PI 控制器，實際運行於實驗車上，其結果如同圖 5.3、圖 5.4 與圖 5.5 所示，
表 5.2 為控制器所使用的參數表。圖 5.3 為控制軌跡跟循圖，實驗中給一正弦波命令，其頻率約
為 0.2Hz，振幅約為 o12 ，由圖中可看出駕駛角度可跟尋命令之角度，但在低速時由於要克服較
大之靜摩擦力，故誤差值較大。接著看圖 5.4，圖 5.4 為兩馬達之電流圖，由於設定欲產生之牽
引力矩差由兩顆輪內式馬達均分，故二馬達的電流方向相反。圖 5.5 為駕駛角度與車輛角速度
的關係圖，由此可看出駕駛角度與車輛角速度有一正比關係，由於第三章中，並未深入討論轉
向時側向力對轉向系統的引響，與對應之控制器設計對策，故預先在實驗車上裝置角速度感測
 54
[1] Paul Yih ; Jihan Ryu ; J. Christian Gerdes “Modification of vehicle handling characteristics via 
steer-by-wire” American Control Conference, 2003. Proceedings of the 2003, Volume 3,  4-6 June 
2003 
[2]  Paul Yih ; J.Christian Gerdes  “Steer-by-Wire for Vehicle State Estimation and Control”, 
AVEC04. 
[3]  Jong Hyeon Park ; Woo Sung Ahn , “H  Yaw-Moment Control with Brakes for improving 
Driving Performance and Stability”, Proceedings of 1999 IEEE/ASME. 
[4]  Nakazato, H.; Iwata, K.; Yoshioka, Y. “A New System for Independently Controlling Brakeing 
Forces Between Inner and Outer Rear Wheels” SAE, 890835. 
[5]  Matsumoto, S.; Yamaguchi, H.; Inoue, H.; Yasuno, Y. “Improvement of Vehicle Dynamics 
Through Braking Force Distribution Control” SAE, 920645.  
[6] Thomas D. Gillespie “Fundamental of Vehicle Dynamics” ,SAE, ISBN 1-56091-199-9 
[7] S. Saha, T. Kosaka, N. Matsui and V.P. Sundarsingh,〝Regenerative braking in a low power drive 
system〞, Power Electronic Drives and Energy Syatems for Industrial Growth, Vol.2, 1998, pp. 
827-832. 
[8] V. Tipsuwanporn, T. Sum-Im, T. Suesut, W. Piyarat, and W. Sawaengsinkasikit, 〝New technique 
controlling of 4-quadrant Dc motor drive〞,TENCON2000, Vol.2, 2000, pp. 51-55. 
[9] S.R. Cikanek and K.E. Bailey, 〝 Regenerative braking system for a hybrid electric 
vehicle〞,American Control Conference 2002, Vol.4, 2002, pp. 3129-3134. 
 
 
3.5 子計畫五： 
3.5.1 緣由與目的 
交通事故中，絕大部分是由於駕駛者在疲勞、精神耗弱、不專心、或是喝醉酒的情形下，
導致車輛偏離應當行駛的車道，造成傷亡。然而，假如駕駛者可以藉由所設計的控制器提供的
警告訊號得到警訊，有些交通事故是可以避免或減輕的。本子計畫「先進智慧概念車感測與控
制系統之設計與製作」所規劃的研發內容分為: 感測與控制系統二部份，分別陳述於下。    
在控制系統部份，按計畫第二年為自動倒車，第三年為車道保持。本年度同時完成自動倒
車及車道保持。在自動倒車入庫相關研究中，Yeh 和 Hsu[1]則使用多層(Multi-Stage)模糊理論來
針對不同大小的車輛來進行倒車。Kazou[2-4]使用模糊路徑規劃控制結合遺傳演算法(Genetic 
Algorithm)讓行進的車輛迴避障礙物，並用強健性觀點來探討穩定性的問題。Ramon[5]則利用專
家系統來設計聯結車倒車控制器。而 Petriu[6]則以實作的觀點來探討輸入與輸出的解析度對模
糊控制器的性能影響。在利用影像建立車道保持輔助系統方面，Yoshida[7]等人使用路面上特殊
的標的物設計了車道保持的控制器。Peng 與 Tomizuka[8]則使用了 Frequency Shaped Linear 
Quadratic (FSLQ)完成了一個最佳化的線性車道保持控制。Yang[9]則發展出一個自我學習且不需
要特殊的道路裝置的車道保持系統。然而以上所列往往需要特別的路面標的物，複雜的控制器，
 56
θ
Y
X
w
+θ
(xr , yr)
(xf , yf)
v
l
φ
φ
 
圖一 車輛的運動模型 
然而，本計劃個人概念車的前輪轉角幅度(±5°)遠小於傳統車輛的±45°，所以由前人設計倒
車控制器的方法直接切入此問題是較為困難的方式。本研究目前暫用市售的模型車為替代方
案，由於此車的前輪轉角幅度約為 ±20°，介於本概念車與傳統車輛之間，因此可藉由此模型車
發展自動倒車系統應用於具有前輪轉角限制的車輛。往後再以發展的方法設計本子計畫的自動
倒車系統。實驗組織架構圖如圖二所示，實體示意圖如圖三所示。 
 
圖二 自動倒車控制系統組織架構圖 
 
(a) 天花板的攝影機
(c) PC-based 實體圖(b) 模型車
 
圖三 自動倒車控制系統實體示意圖 
 
本研究採用的模型車與實際車輛的比例為 1:4。天花板架設一台 CCD 攝影機，可將影像資
料傳回個人電腦進行數值運算以便傳回位置與車頭角的資訊給模糊控制器。以市售軟體
MATLAB® 所提供的工具箱(Toolbox）及 Simulink® 視窗程式開發工具，根據影像感測系統回傳
的行車狀態資訊，可經由模糊控制器所判斷出來的前輪轉角值，透過類比數位轉換卡轉換成電
壓指令，傳送到遙控器上的發射介面，發射數位訊號給安裝在模型車上的接收機進行解碼作業，
使得伺服馬達開始運作，如此整台模型車就可以被電腦所操控。 
 
3.5.2.1.1 模糊控制器設計與模擬 
 58
 
圖六 (x, φ )到θ之間的推理法則映射介面 
  
(a) (0.4 m, 1.2 m, 60°) (b) (0.7 m, 1.8 m, 55°) 
  
(c) (-0.3 m, 1.75 m, 105°) (d) (-0.7 m, 1.6 m, 125°) 
圖七 各組初始條件下的倒車軌跡模擬圖 
 
圖八 模型車前蓋之黑色標示區域 
 
再來，第二部份為背影消去法，首先拍攝固定的背景影像，然後將全部影像扣除此背景影
 60
十二則顯示實驗與模擬中倒車路徑的比較。圖十三比較模型車之平擺角變化情形的模擬與實驗
結果。 
 
圖十一 倒車實驗結果拍攝圖 
 
 
圖十二 實驗與模擬中倒車路徑的比較圖 
 
0 1 2 3 4 5 6 7
90
92
94
96
98
100
102
104
106
108
Moving steps
Y
aw
 a
ng
le
 (d
eg
re
e)
Variation of Yaw Angles
 
 
Simulation
Experiment
 
圖十三 實驗與模擬中平擺角變化情形的比較圖 
如圖十一至十三所示，雖然實驗結果與模擬結果間存有些許誤差，但倒車過程仍是順利。
-0.5 -0.4 -0.3 -0.2 -0.1 0 0.1 0.2 0.3 0.4
0
0.2
0.4
0.6
0.8
1
1.2
1.4
1.6
1.8
x : horizontal axis (m)
y 
: v
er
tic
al
 a
xi
s 
(m
)
(x,y) tracking results
 
 
Simulation
Experiment
 62
各自選定臨界值轉成二值化影像，接著利用霍氏轉換(Hugh Transform)找出影像內的直線，再結
合此兩張影像，並藉由兩條直線求得道路水平消失線與車道中心線的位置，如圖十七所示。圖
中 A 與 B 連線為車道中心線。 
感測器資訊輸入
攝影機
道路特徵擷取
特徵後處理/Hough
道路模型
偏離位移量
ROI
 
圖十六 影像處理流程方塊圖 
 
A
B
水平消失線
橫軸中心線
r hz
d ′
 
圖十七 影像處理成果圖 
  為了求取圖十七中 d ′在實際道路上相對的距離為多少，參考[14]所提出的道路模型，移項
變化後得到(6)式，其中λ代表CCD鏡頭的焦距長度，H 代表CCD攝影機架設高度，hz 代表影像
平面中水平消失線(vanish line)的縱座標位置， r 代表影像平面上特定點座標的縱座標。利用(6)
式可求得 d ′相對於實際道路偏移量D′。 
2 2
2
( )
( )
d H hzD
r hz
λ
λ
′ +′ = −  (6)
  
3.5.2.2.2 車道保持控制器的設計 
 
  控制器的設計由分析車輛模型開始。車輛二階動態模型(Bicycle model)與控制點腳踏車模型
示意圖可由圖十八與圖十九所示。兩者模型方程式為(7)式與(8)式，參數名稱為表一與表二。利
用(7)與(8)結合的模型設計一相位領先補償器，補償器為(9)式表示，使車輛前方控制點與車道中
心線的偏移量趨近參考輸入，在此參考輸入設為0。控制點與車道中心線的偏移量由前述影像處
理方法計算出。 
 64
表二 運動學模型的參數名稱 
控制點與車輛重心的距離
道路曲率
控制點偏移角度
控制點偏移距離ed
eθ
L
LK  
 
  為了保持車道保持過程中車輛行駛的平穩性，參考[15]，利用左右轉角角度(yaw angle)回授
補償相位領先落後補償器的輸出，此轉角角度由陀螺儀感應器得到的轉速值(yaw rate)經過積分
後得到。整體控制器架構如圖二十所示。 
 
偏移距離
控制器
相位領先補償器+一個極點
Kr 1/s
yaw rate
+
-
車輛系統
視覺處理系統
轉角速度感應器
u
fδ
 
圖二十 閉迴路控制系統方塊圖 
 
3.5.2.2.3 模擬結果與實驗結果 
  本研究利用 CarSim 軟體建立先進智慧概念車之車輛動態模型，連結 Simulink 建構車道保持
閉迴路控制系統模擬平台，利用前一節設計之控制器，模擬 30 km/h 下車輛從起始位置到達指
定的偏移量，此偏移量相對於車輛於模擬平台中的初始位置，指定偏移設定為 0.7 m，並比較有
無轉角回授補償的車輛行駛過程。先進智慧概念車規格如表三，車輛行駛過程的模擬結果如圖
二十一所示。 
  由模擬結果顯示，車輛經過本研究設計之控制器能使得車輛回到指定的偏移量，並且有左
右轉角回授有較平緩的行使過程。 
 
表三 車輛規格參數值 
m
Iψ
a
b
rc
fc
34412 N/rad
25922 N/rad
0.464 m
0.62 m
87 kg m2
300 kg(含人)
 
 
 66
 
圖二十四 出平面加速度計示意圖 
 
3.5.2.3.1 質量塊結構設計 
加速度計質量塊的設計，基本上可透過以下三種材料的堆疊與組合，來控制其大小，其中
包括 (1)多層金屬，再加上 (2) 金屬與金屬之間的介電層，必要的時候可再加上 (3) 金屬層間
的引洞(Via)。本研究設計一個中空式質量塊，如圖二十三所示，反向思考在質量塊的中間開孔，
放入額外兩組感測臂，質量塊減少了，但感測臂的數量增加很多，達到增加電容變化量的目標。
本設計在不增加Layout面積為前提的情況下，反覆的嘗試設計與修正，以固定面積所能得到的
最大電容值為設計目標。 
 
3.5.2.3.2 彈簧結構設計 
關於彈簧的設計，本研究主要考慮彈簧的剛性、和較大範圍的線性操作區等兩項因素。首
先，本研究採用折疊式彈簧，以提供較大範圍的線性操作區，並利用彈簧的尺寸設計，來控制
彈簧剛性之大小。 
根據參考文獻[17]，其單一層彈性係數可表示為： 
         3
3
l
EhwK =                                 (10) 
本計劃所採用的彈簧乃由多層薄膜的複合材料所組成，因此可透過參考文獻 [17]，利用比
較不同材料的楊式係數，並藉由楊氏係數的比例關係改變複合彈簧的截面幾何形狀，求出複合
彈簧的等效慣性矩以及等效剛性。 
在同平面加速度計總共有兩種不同型態的彈簧，其功能與彈性係數各不相同。第一種彈簧
參考圖二十四(a)，採用朝中間對稱的形式，主要功能為電性上的聯接，將內部感測臂的訊號傳
導出來。第二種彈簧參考圖二十四(b)，採用折疊式彈簧的設計，目的在支撐整個加速度計，使
質量塊受外界加速度而產生平面運動。 
    在出平面加速度計亦有兩種不同型態的彈簧設計，第一種設計如圖二十五(a)，其設計以彈
簧剛性低為訴求，第二種設計如圖二十五(b)，其設計則是以避免同平面方向之訊號耦合為設計
基準。 
  
(a)               (b) 
基材
支撐框架 質量塊
錨點 
彈簧 
 68
 
 
圖二十八 出平面加速度計 
 
 
圖二十九 同平面加速計內框彈簧 
 
 
圖三十 同平面加速計外框彈簧 
 
 
 70
5cm
1.5cm
1cm
40 pins
 
圖三十四 元件封裝結果 
 
 
圖三十五 元件封裝局部放大圖 
 
0 2 4 6 8 10 12
0.04
0.08
0.12
0.16
0.20  Amplitude
 Phase
Frequency  (KHz)
A
m
pl
itu
de
  (
μm
)
-180
-160
-140
-120
-100
-80
-60
-40
-20
0
Phase(degrees)
 
圖三十六 同平面加速計共振頻圖 
 
5000 10000 15000 20000 25000
0.000
0.001
0.002
0.003
0.004
0.005
 
 
 Freq. Response
M
ag
ni
tu
de
Frequency (Hz)
 
圖三十七 出平面加速計共振頻圖 
 72
[3] K. Tanaka and M. Sano, “A Robust Stabilization Problem of Fuzzy Control Systems and Its Application to 
Backing up Control of a Truck-Trailer,” IEEE Transactions on Fuzzy System, vol.2, no.2, pp.119-134, 1994. 
[4] K. Tanaka and K. Yoshioka, “Design of Fuzzy Controller for Backer-Upper of a Five-Trailers and Truck,” 
Fuzzy System, 1995 International Joint Conference on Fuzzy Systems and the second International Fuzzy 
Engineering Symposium, Proceedings. of 1995 IEEE International Conference, vol.3, pp.1543-1548, 1995. 
[5] P.L. Ramon and D.J. Corelis, “Expert System Controller for Backing-up a Truck-Trailer System in a 
Constrained Space,” Circuit and Systems, Proceedings of the 37th Midwest Symposium on vol.2, pp.1357-1361, 
1994. 
[6] E.M. Petriu, P. Wide and G. Gatherley, “Sensor Resolution Effect on Fuzzy Logic Controller Behaviour,” 
Instrumentation and Measuerment Technology Conference, IMTC Conference Proceedings. IEEE, vol.2, 
pp.848-852, 1998. 
[7] M. Yoshida and H. Kamada, “A Visual Control System Using Image Processing and Fuzzy Theory,” IEEE 
round-table discussion on vision-based vehicle guidance, p.111-128, 1990. 
[8] T. Hessburg and M. Tomizuka, “Fuzzy Logic Control   for Lateral Vehicle Guidance,” IEEE Control 
System, pp. 55-63, 1994. 
[9] R. Yang, “A Vision-Based Self Learning Intelligent Driver-Copilot for Vehicle Lateral Control,” Master 
Thesis, PME, National Tsing Hua University, 1997. 
[10] Y. Yee, M. Park, S. H. Lee, S. Lee, K. Chun,, Y. K. Kim, and D. I. D. Cho, “MAMOS-a novel 
displacement sensitive transducer for fully digital integrated ac accelerometer,” Proceedings of the Eleventh 
Annual International Workshop on Micro Electro Mechanical Systems,  pp.345-350, 1998. 
[11] H. Takao, H. Fukumoto, and M. Ishida, “Fabrication of a three-axis accelerometer integrated with 
commercial 0.8 /spl mu/m-CMOS circuits,” The Thirteenth Annual International Conference on Micro Electro 
Mechanical Systems, pp.781-786, 2000. 
[12] H. Xie, L. Erdmann, X. Zhu, K. J. Gabriel, and G. K. Fedder, ” Post-CMOS processing for 
high-aspect-ratio integrated silicon microstructures,” Journal of Microelectromechanical Systems, Vol.11, 
Issue2, pp.93-101, 2002. 
[13] K. H. L. Chau, S. R. Lewis, Y. Zhao, R. T. Howe, S. F. Bart, and R. G. Marcheselli, “An integrated 
force-balanced capacitive accelerometer for low-g application,” The 8th International Conference on 
Solid-State Sensors and Actuators, and Eurosensors Ⅸ, Stockholm, Sweden, pp. 593–596, 1995. 
[14] Y. Wang, E. K. Teoh and D. Shen, “Lane detection and tracking using B-Snake,” Image and Vision 
Computing, vol. 22, pp. 269-280, 2004. 
[15] J. Ackermann, J. Guldner, W. Sienel, R. Steinhauser and V. I. Utkin, “Linear and Nonlinear Controller 
Design for Robust Automatic Steering,” IEEE Transactions on Control Systems Technology. vol. 3, pp. 
132-143, 1995. 
[16] H. Seidel, U. Fritsch, R. Gottinger, J. Schalk, J. Walter, and K. Ambaum, “A Piezoresistive Silicon 
Accelerometer With Monolithically Integrated CMOS-circuitry,” The 8th International Conference on 
Solid-State Sensors and Actuators, 1995 and Eurosensors IX, Transducers '95, Vol.1, pp. 597-600, 1995. 
[17]D.B. Robert, “Formulas for Natural Frequency and Mode Shape,” Malabar, Florida, Krieger Publishing 
 74
換法則，使用者可以操作車輛更平順舒適且減少能源消耗。由於本計劃實驗車並未將轉向軸與
使用者間的連結打斷以求線控，所以使用者在控制器失效時，仍能藉由方向盤來取得對車輛的
操控，將提升車輛的安全性，且由於線控的特性，控制器在使用者直接操作方向盤時能分配兩
輪內式馬達之牽引力，使其達到如同輔助轉向的效果。本子計畫中所提出之控制法則已操作於
實驗車上，實驗的結果中可發現許多問題在未來的研究進度中需要解決，未來工作表列如下： 
1. 馬達模式切換法則的改進： 目前於第三章中提到的馬達切換法則對於操作於 mode2 與 
mode3 之間時，由於不連續的 duty 操作使得電流產生不連續變化，導致在切換時會有噪音
產生。在目前的研究進度中，使用初始值補償的方法來降低切換時的影響，模擬部份可看
出其功效，然而此方法尚未在實驗車上試驗。 
2. 輔助動力方向盤時外側輪電流飽和之現象： 在使用輔助動力方向盤轉向時，內側輪則因
正轉回充與反轉驅動模式皆能提供逆向電流，故能滿足輔助控制器所輸出之命令，然而外
側輪會因為反電動勢的原因導致電流無法提升，以致於控制器飽和的現象，此時輔助之力
矩將與原先控制器之規劃不同，導致駕駛者在駕駛時可感受到轉彎時輔助力矩變小。在這
個問題中，未來必需在輔助力矩與車輛直行動態上做一些最佳化處理，使得駕駛者不會因
為外側馬達電流飽和而影響駕駛的舒適度與安全性。 
3. 輔助車輛控制與驅動器切換的整合： 目前於實驗車上使用的控制系統為分層的設計，驅動
器切換控制、電流控制與車輛控制皆為分開各別設計之結果，在未來的工作目標中，將整
合車輛的動態與切換模式來進行設計。 
4. 轉速感測器之改進： 硬體部分目前轉速感測器的部份較為脆弱，用於感測之霍爾原件容
易因為些許碰撞而無法進行感測的任務，由第三章與第四章中所提及之切換又與轉速有相
當大的關係，故未來工作中，將思考如何提高轉速感測器的精度與安裝強度。 
5. 車輛安全之設計： 由於本子計畫中所提出之輔助動力方向盤與線控系統中，其關鍵性因素
為輪內式馬達與地面之牽引力，如車輛行駛於雨天、沙地或甚至騰空時，控制器應能夠發
出警訊或是穩定車輛，而不會由於失去控制力而導致飽和或是失效，因而導致車輛失去控
制。 
6. 使用者介面的改善： 本實驗車為一原型機，目前仍在測試階段，然而為了使本實驗車能
成為一先進車輛，友善的人機介面是少不了的，在未來的研究中，將設計線控之方向盤與
儀表顯示等，使得任一使用者皆能體驗其先進控制系統所帶來的效能與方便。 
上述六點為接下來研究之重點項目，目的為使此實驗車成為一先進之智慧車輛。 
 
智慧型控制部份本年度本子計畫依原訂進度，在實驗部份，執行自動倒車控制之外，亦同
時進行車道保持控制。本年度已完成(一) 自動倒車實車實驗，(二)自動車道保持實驗，(三)微慣
性元件之設計與分析，(四)，微慣性元件量測與封裝(五)與其他子計畫整合及修正。研究結果顯
示，影像處理系統將可符合本概念車之需求，進而發展自動倒車與車道保持之智慧車功能。此
外，符合本計畫所需之慣性元件製作已完成，待測試後將可與電容感測電路整合輸出感測訊號。
未來工作將所發展的控制器與感測器應用到先進智慧型概念車上，並與其他子計畫整合。 
 
六、計畫成果自評 
