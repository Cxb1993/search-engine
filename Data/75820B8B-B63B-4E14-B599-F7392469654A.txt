摘 要 
本計畫提出一基於委員會機器概念的故
障診斷系統架構，藉由集合這些委員的專
長，來達到正確診斷的目的。此診斷系統有
兩個委員，分別是洩漏偵測診斷專家負責診
斷汽油引擎的洩漏來源及洩漏程度；而空氣
流量故障診斷專家負責診斷空氣流量感測器
的偏移程度。 
由實驗結果知，利用本計劃所提出的診
斷系統可以正確的診斷出引擎是否洩漏及找
出產生洩漏的位置，及正確的判別出空氣流
量感測器產生偏移的程度。因此，本故障診
斷系統架構，可做為日後判別汽油引擎洩漏
及空氣流量感測器產生偏移的參考依據。 
 
關鍵字:故障診斷、空氣流量感測器、真空洩
漏 
 
1. 前言 
當汽油引擎產生洩漏或空氣流量感測器
產生偏移時，都會造成所測得的空氣質量流
率和實際進入引擎的空氣質量流率有明顯的
差異，因而導致噴油週期錯誤，使引擎在過
濃或過稀的空氣/燃料混合比下運轉而造成
空氣污染。因此，引擎洩漏及空氣流量感測
器產生偏移所引起的空氣污染問題是一很重
要的研究主題。
由於歧管壓力和進入、流出進氣歧管的
空氣質量流率有關，進入進氣歧管的空氣質
量流率又和歧管壓力、大氣壓力有關。所以，
估測的空氣質量流率會受到空氣流量感測器
的故障與否及引擎是否產生洩漏所影響，且
這兩種因素又互相耦合在一起。因此，不容
易由引擎的動態資料來判別空氣流量感測器
是否產生偏移或引擎是否產生洩漏現象。 
模糊類神經網路應用於故障診斷有很多
成功的實例，例如：木柴切片機及電磁閥的
故障診斷[1]，電路的故障偵測及診斷[2]，船
舶推進器系統的故障診斷[3]歧管漏氣之故障
診斷，噴油器或含氧感測器之故障診斷[4]及
汽油引擎空氣流量預測、空氣流量感測器的
故障診斷及空氣流量信號的校正，使引擎恢
復到正常的運轉模式[5-8]，這些都是很成功
的應用實例。 
為了解決前面所提出的問題，本計畫提
出一基於委員會機器(Committee Machine)概
念的故障診斷系統架構，委員會裡的每一個
委員都是專家(Expert)，藉由集合這些委員的
專長，來達到正確診斷結果的目的。此診斷
系統有兩個委員，分別是洩漏偵測診斷專家
及空氣流量故障診斷專家。首先由故障診斷
系統進行診斷，若診斷結果是引擎產生洩
漏，則送到洩漏偵測診斷專家，找出其洩漏
來源及洩漏程度；若是空氣流量感測器故
障，則送到空氣流量故障診斷專家，找出空
氣流量感測器的偏移程度。 
在本計畫裡，引擎洩漏現象有：燃油壓
力調整器洩漏及曲軸通風系統洩漏，管路的
裂縫長度分成 5mm、10mm 和 15mm 來模擬
不同程度的洩漏現象；空氣流量感測器故障
分成空氣流量信號偏移 9Hz、7Hz、4Hz 和
2Hz 四種情形。擷取引擎的轉速信號、節氣
門位置、噴油週期、空氣流量及進氣歧管壓
力等動態信號，利用本計劃所提出的診斷方
法來找出引擎的洩漏來源及洩漏程度，及判
別空氣流量感測器的偏移程度。由於引擎產
生洩漏或空氣流量感測器故障在怠速及低轉
速時才會造成空氣污染問題，但是引擎在高
轉速運轉因為吸入的空氣量足夠燃料燃燒
用，因此空氣污染的問題並不會很明顯，因
此以引擎轉速 1000 RPM 為主要研究對象。 
 
2. 故障診斷系統 
本故障診斷系統採用 4 輸入/3 輸出的類
神經網路為基本架構，如圖 1 所示。將引擎
的動態資料輸入到故障診斷系統，經過適當
的運算後，可以得到三個輸出信號，分別是
yS1、yS2和yS3。若診斷結果是引擎產生洩漏，
2 
01 =*ay ， ， ， 。 02 =*ay 03 =*ay 14 =*ay
 
5. 實驗設備及正規化資料 
本實驗所使用的汽油引擎系統為
Mitsubishi  4G92 引擎如圖 7 所示，排氣量
為 1600cc，多點燃油噴射，直列式四汽缸，
壓縮比為 10：1。由於引擎產生洩漏或空氣
流量感測器故障在怠速及低轉速時才會造成
空氣污染問題，但是引擎在高轉速運轉因為
吸入的空氣量足夠燃料燃燒用，因此空氣污
染的問題並不會很明顯，因此以引擎轉速
1000 RPM 為主要研究對象。 
引擎的動態資料擷取系統是使用圖控語
言 LabView 來撰寫，經由 NI 資料擷取卡 PCI 
6221M，來擷取引擎的動態資料，包含：進
氣歧管壓力、空氣流量、噴油時間、節氣門
開度及引擎轉速。為了增加實驗資料的可信
度，先將每 0.5 秒所收集的資料取其平均值，
當作一筆實驗資料，再將此筆資料儲存。將
所收集的資料隨機取出 1000 筆來做為訓練
資料，並隨機取出部分資料來做為測試資
料，驗證本方法的可行性。 
由於汽油引擎的動態資料級數(order)都
不相同，為了避免級數較小的資料其重要性
被忽略掉，及提升類神經網路的學習效率，
必 須 先 將 引 擎 的 動 態 資 料 做 正 規 化
(normalization)處理，使其介於 0 到 1 之間，
以免影響到類神經網路訓練及鑑別的精確
度。輸入變數分別是空氣流量(AFS)、噴油時
間(Ton)、引擎轉速(Spd)、進氣歧管壓力(Pm)
和節氣門角度(TPS)，其正規化過程如下： 
minmax
min
AFSAFS
AFSAFSx −
−=1    (1) 
minmax
min
TonTon
TonTonx −
−=2    (2) 
minmmaxm
minmm
PP
PP
x −
−=3     (3) 
minmax
min
TPSTPS
TPSTPSx −
−=4    (4) 
或 
minmax
min
SpdSpd
SpdSpdx −
−=4    (5) 
其中，輸入變數x4有兩種選擇，在空氣流量
故障診斷專家的x4是正規化的引擎轉速，然
而在洩漏偵測診斷專家的x4是正規化的節氣
門角度。 
 
6. 結果與討論 
(1) 故障診斷 
故障診斷系統的類神經網路架構為 4 個
輸入，3 個輸出，3 個隱藏層。圖 8 是故障診
斷系統的學習結果，經過 50000 次的學習，
均方根誤差可收斂到 0.000163。 
圖 9 是測試樣本normal_2 的診斷結果， 
yS1平均值等於 0.980052，yS2平均值和yS3平均
值都趨近於 0，yS1平均值趨近於 1，故測試
樣本normal_2 的診斷結果為引擎正常運轉。
測試樣本f5mm_1 的故障診斷結果如圖 10 所
示。yS2平均值等於 1.000167，yS1和yS1平均值
都趨近於 0，yS2平均值趨近於 1，故此測試
樣本的診斷結果是空氣流量感測器故障。圖
11 是測試樣本AFS-2Hz_2 的故障診斷結
果，yS3平均值等於 0.999892，yS1平均值和yS2
的平均值都趨近於 0，yS3平均值趨近於 1，
故此測試樣本的診斷結果是引擎產生洩漏現
象。故障診斷的結果歸納於表 1。 
 
(2) 洩漏來源診斷 
測試樣本b10mm_1 的洩漏來源診斷結
果如圖 12 所示。yS1平均值等於 1.001484，
yS2的平均值等於 0.003224，故此測試樣本的
4 
j k i l51, no. 2, pp. 196-202, 2002. 
[3] H. C. Kuo, L. J. Wu and J. H. Chen, 
“Neural-fuzzy fault diagnosis in a marine 
propulsion shaft system”, Journal of 
Materials Processing Technology 122, pp. 
12-22, 2002. 
[4] Chen, P.C., “Detection of plugged 
injectors in a gasoline engine system 
using a neural fuzzy scheme”, Proc. 
IMechE. Part D:J. Automobile 
Engineering, Vol. 221, pp589-603, 
2007. 
[5] P. C. Chen, “Neuro-fuzzy-based Fault 
Detection of the Air-flow Sensor of an 
Idling Gasoline Engine”, Proc. IMechE. 
Part D:J. Automobile Engineering, Vol. 
219, pp511-524, 2005. 
[6] Chen, P.C.,“Fault Correction of Air-flow 
Signal in a Gasoline Engine System Using 
Neural Fuzzy Scheme and Genetic 
Algorithm”, Proc. IMechE, Part D: J. 
Automobile Engineering, 223 (D4), 
pp533-547, 2009. 
[7] Pei-Chung Chen and Jian-Zhi Liu, “Fault 
Correction of Air-flow Sensor Using 
Genetic Algorithm and Neural Fuzzy 
Technique”， 第十五屆模糊理論及其應
用研討會，pp. 421-426，民國 96 年。 
[8] 陳沛仲，陳聖洲，”類神經模糊技術在汽
油引擎的故障診斷 ---空氣流量感知
器”，2004 自動控制研討會，pp. 1-6，民
國 92 年。 
 
 
 
 
 
 wkjwji
 
 
 
 
 
 
 
 
 
 
圖 1 故障診斷系統的類神經網路架構 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
圖 2 故障診斷系統的診斷流程 
wlkx1
x2
x3
輸入層 第一層隱藏層 第二層隱藏層 
yS2
輸出層
bj bk
 
x4
 
yS1
yS3
 
開  始 
輸入引擎的動
態資料 
故障診斷系統
洩漏偵測診
斷專家 
空氣流量故障
診斷專家 
結 束 
Y 
N
引擎正常
運轉？
結 束 
Y 
N
空氣流量感測
器故障？ 
進行診斷 
6 
0 1 2 3 4 5
x 10
4
0
0.01
0.02
0.03
0.04
0.05
0.06
0.07
R
oo
t M
ea
n 
Sq
ua
re
 E
rro
r
Learning epoch  
圖 8 故障診斷系統的學習結果 
 
 
0 10 20 30 40 50 60 70 80 90 100
0
1
2
yh
1
0 10 20 30 40 50 60 70 80 90 100
-5
0
5
x 10-3
yh
2
0 10 20 30 40 50 60 70 80 90 100
-1
0
1
yh
3
data no  
圖 9 測試樣本 normal_2 的故障診斷結果 
 
0 10 20 30 40 50 60 70 80 90 100
-2
0
2
x 10-4
yh
1
0 10 20 30 40 50 60 70 80 90 100
0.9999
1
1.0001
1.0002
yh
2
0 10 20 30 40 50 60 70 80 90 100
-2.2
-2
-1.8
x 10-5
yh
3
data no  
圖 10 測試樣本 AFS-2Hz_2.txt 的故障診斷
結果 
 
0 10 20 30 40 50 60 70 80 90 100
0
0.5
1
x 10-3
yh
1yS1
0 10 20 30 40 50 60 70 80 90 100
-1.5
-1
-0.5
0
x 10-5
yh
2yS2
0 10 20 30 40 50 60 70 80 90 100
0.9996
0.9998
1
yh
3yS3
 data no
圖 11 測試樣本 f5mm_1 的故障診斷結果 
 
 
yS1
0 10 20 30 40 50 60 70 80 90 100
0.99
0.995
1
1.005
yh
1yL1yS2
yS3
0 10 20 30 40 50 60 70 80 90 100
0
0.005
0.01
0.015
y
data no
h2yL2
 
圖12 測試樣本b10mm_1的洩漏來源診斷結
果 yS1
0 10 20 30 40 50 60 70 80 90 100
-5
0
5
10
15
20
x 10-3
yS2
yh
1yL1
yS3
0 10 20 30 40 50 60 70 80 90 100
0.98
0.985
0.99
0.995
1
1.005
yh
2yL2
 data no
圖13 測試樣本f15mm_3的洩漏來源診斷結
果 
8 
0 10 20 30 40 50 60 70 80 90 100
-2
0
2
x 10-4
yh
1
0 10 20 30 40 50 60 70 80 90 100
-5
0
5
x 10-3
yh
2
0 10 20 30 40 50 60 70 80 90 100
0.95
1
1.05
yh
3
0 10 20 30 40 50 60 70 80 90 100
-0.05
0
0.05
yh
4
data no  
圖20 測試樣本AFS-5Hz_1的空氣流量故障
診斷結果 
 
 ya1
 
 ya2
 
 
ya3  
 
ya4  
 
表 1  故障診斷之結果 
測試樣本 yS1平均值 yS2平均值 yS3平均值 故障來源 
normal_2 0.980052 -0.000108 0.020069 正常 
AFS-2Hz_2 -0.000148 1.000167 -0.000019 空氣流量感測器偏移 
f5mm_1 0.000221 -0.000006 0.999892 引擎產生洩漏 
 
表 2  燃油壓力調整器裂縫程度診斷結果 
測試樣本 yF1平均值 yF2平均值 yF3平均值 裂縫程度 
f5mm_1 0.999280 0.000949 0.000040 5mm  
f10mm_2 -0.000095 0.999179 0.000348 10mm  
f15mm_3 0.000002 -0.001328 0.999599 15mm  
 
表 3  空氣流量信號偏移的診斷結果 
測試樣本 ya1平均值 ya2平均值 ya3平均值 ya4平均值 空氣流量
信號偏移 
AFS-0Hz_2 1.001088 -0.001097 0.000008 0.0000001 9Hz 
AFS-2Hz_1 -0.000319 0.999978 0.000337 -0.000005 7Hz 
AFS-5Hz_1 -0.000002 -0.000093 0.999644 0.000448 4Hz 
 
 
計畫成果自評： 
本計畫提出一委員會機器概念的故障診
斷系統架構，此診斷系統有兩個委員，分別
是洩漏偵測診斷系統專家及空氣流量故障診
斷系統專家。首先由故障診斷系統進行診
斷，若診斷結果是引擎產生洩漏，則送到洩
10 
可供推廣之研發成果資料表 
▓ 可申請專利  □ 可技術移轉                                      日期：98年7月31日 
國科會補助計畫 
計畫名稱：汽油引擎產生洩露及空氣流量感測器發生偏移之故障偵
測及診斷 
計畫主持人：陳沛仲 
計畫編號：NSC 98-2221-E-218-040 學門領域：民生用品控制技術
技術/創作名稱 汽油引擎洩漏及空氣流量信號偏移之偵測及診斷技術 
發明人/創作人 陳沛仲 
中文： 
此委員會機器概念的故障診斷系統架構有兩個委員，分別是洩
漏偵測診斷專家及空氣流量故障診斷專家。首先由故障診斷系統進
行診斷，若診斷結果是引擎產生洩漏，則由洩漏偵測診斷專家來找
出其洩漏來源及洩漏程度；若是空氣流量感測器故障，則由空氣流
量故障診斷專家來找出空氣流量感測器的偏移程度。 
技術說明 
英文： 
This fault diagnosis system structure, based on the concept of 
Committee Machine, has two committees, one is the leakage-detection 
diagnostic expert, and the other is the air-flow fault diagnostic expert. 
First, the symptoms are diagnosed by fault diagnostic system. If the 
diagnosed result is leakage, the symptoms are submitted to the 
leakage-detection diagnostic expert to find out the leakage source and 
leaking degree; if it is air-flow fault, the symptoms are submitted to the 
air-flow fault diagnostic expert to find out the bias of air-flow sensor. 
可利用之產業 
及 
可開發之產品 
可應用於船舶機械、汽機車產業之汽油引擎洩漏偵測及空氣流量感
測信號偏移之診斷。 
技術特點 
本技術可用來診斷汽油引擎的曲軸通風系統或燃油壓力調整器的
裂縫程度診斷及空氣流量感測信號偏移之診斷。 
推廣及運用的價值
本診斷技術的診斷資料庫建立模式，可應用於其他產業的故障偵測
或診斷。 
 
12 
98年度專題研究計畫研究成果彙整表 
計畫主持人：陳沛仲 計畫編號：98-2221-E-218-040- 
計畫名稱：汽油引擎產生洩漏及空氣流量感測器發生偏移之故障偵測及診斷 
量化 
成果項目 實際已達成
數（被接受
或已發表）
預期總達成
數(含實際已
達成數) 
本計畫實
際貢獻百
分比 
單位 
備 註 （ 質 化 說
明：如數個計畫
共同成果、成果
列 為 該 期 刊 之
封 面 故 事 ...
等） 
期刊論文 0 0 100%  
研究報告/技術報告 0 0 100%  
研討會論文 1 2 100% 
篇 
 
論文著作 
專書 0 0 100%   
申請中件數 0 0 100%  專利 已獲得件數 0 0 100% 件  
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 2 2 100%  
博士生 0 0 100%  
博士後研究員 0 0 100%  
國內 
參與計畫人力 
（本國籍） 
專任助理 1 1 100% 
人次 
 
期刊論文 0 0 100%  
研究報告/技術報告 0 0 100%  
研討會論文 0 0 100% 
篇 
 
論文著作 
專書 0 0 100% 章/本  
申請中件數 0 0 100%  專利 已獲得件數 0 0 100% 件  
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 0 0 100%  
博士生 0 0 100%  
博士後研究員 0 0 100%  
國外 
參與計畫人力 
（外國籍） 
專任助理 0 0 100% 
人次 
 
 
