 I
摘 要 
 
近年來由於科技的進步與技術的發展，電子與機械元件體積及重量減少，效能卻大幅
的提升，使無人直昇機發展的空間更加寬闊。無人直昇機在國外已有很傑出的開發成果，
國內雖有不少研究團隊在研發，但仍趕不上國外的腳步。 
本研究的目標在開發無人直昇機起降與停懸控制輔助系統。本研究成功的開發出一套
整合控制硬體的電腦模擬軟體系統，可以做為開發直昇機控制系統的平台，利用此平台可
以在低風險的情況下開發直昇機控制系統。本研究利用此平台成功開發出無人直昇機角速
度與速度控制系統、無人直昇機停懸控制系統以及直昇機起降與停懸控制輔助系統等控制
系統。 
關鍵詞：無人直昇機、控制輔助系統、整合控制硬體的電腦模擬軟體系統 
 
ABSTRACT 
 
  Because of the technology development and technique improvement, while the performance 
the mechanical and electronic components are reduced, their performance is enhanced greatly in 
the recent years, while their volume and weight are reduced; the unmanned helicopter 
development has been sprung up to exploit these benefits. Although there are several successful 
unmanned helicopter projects in other countries, domestic research groups still can not meet 
with the foreign achievements. 
  The goal of this paper is to develop a landing/takeoff and hovering control augmentation 
system for unmanned helicopters. A hardware-in-the-loop (HIL) simulation system is 
implemented for design and test of this control system. This HIL simulation system can be 
applied to develop the unmanned helicopter control system with little risk. This paper has 
successfully developed the basic control augmentation modules, such as angular rate and 
velocity control system, autonomous hovering control system, landing/takeoff and hovering 
control augmentation system. 
 
Keywords：Unmanned helicopter, Control augmentation system, HIL simulation system 
 
 2
許多研究皆會先透過電腦上的模擬去評估整體架構的可行性與風險再進行真實的開發；因
此本研究將依此模式，先在電腦模擬軟體上，著手開發直昇機飛行控制器。當控制器於模
擬軟體中，可以達到起飛、降落和停懸三個目標動作後，再藉由於電腦模擬軟體上開發的
經驗與結果，進行真實直昇機控制器的建構。 
在控制系統的設計概念上，國內外有許多相關文獻可以參考。如日本東京工業大學
Sugeno 實驗室所研究的成果[2][3]，使用模糊邏輯控制法則來設計其控制系統，可避免直
昇機複雜的非線性動態與各動作間的耦合效應；另外國內則有王俊勝君[4]使用模糊邏輯控
制法則來設計其控制系統。但其實測情形還有改善的空間。而在早期直昇機控制系統的開
發，都是使用傳統的 PID 控制法則來設計其控制系統，由於 PID 控制法則較適合使用於單
輸入單輸出系統，但直昇機本身為一多輸入多輸出系統，因而必須將其拆解成單輸出單輸
入系統，最後再整合成多輸入多輸出系統[5]。國內有李志傑君[6]使用 PID 控制器來設計
其控制系統，但很可惜的是他只有做到在受限制的實驗平台上做測試，並無實際的飛行測
試。 
控制法則的選擇上有很多，諸如古典控制法則的 Transfer Function、PID Control、
Lead-Lag Control；現代控制法則的狀態空間、狀態回授、狀態估測；後現代控制法則的模
糊邏輯控制、類神經網路控制、模糊邏輯類神經網路控制等。直昇機本身為一非線性系統，
模糊邏輯控制、類神經網路控制與狀態空間等都可以滿足此需求。但由於直昇機的數學模
型建構不易；因此資料之正確性難以分析與過程之風險高，且往往所得之受控系統的數學
模型與現實仍有著許多誤差。雖然直昇機本身為一非線性系統，但由於本研究所欲實現之
目標為起飛、降落及停懸，其飛行狀態的改變量不會太大，因此仍可被視為一線性系統。
而後續如果要更進一步發展其他飛行狀態，可以做適當的飛行狀態分割而得到多個線性系
統，再調整相對應的控制參數，即可得到應有的控制效果。因此本研究將不採用現代與後
現代控制法則，希望能回到古典控制法則上進行控制器的開發。 
本研究希望透過自行開發之整合控制硬體的電腦模擬軟體系統來進行控制法則的開
發，有鑒於早期直昇機控制系統的設計與開發，僅使用 PID 控制法則來進行設計，即可達
到良好的控制效果，因此本研究將先以 PID 控制法則來進行控制器的設計與開發。 
3. 無人直昇機系統架構 
3.1. 飛行控制器 
本研究用來開發飛行控制系統之 xPC 為德國 Kontron 公司所生產之 PC-104 工業電腦
(Embedded PC)。在飛控電腦的控制法則部份，本研究將使用 Matlab® Simulink® xPC Target 
Toolbox 來進行開發，其為圖形化設計介面，可以避免人為撰寫程式之疏忽，並可降低程
式設計之技術門檻。 
此飛控電腦同時也是本研究後續進行實際飛行控制系統開發時所使用的飛控電腦。 
3.2. 飛行模擬軟體 
本研究所使用的飛行模擬軟體其操作介面如圖 1 所示。它的控制命令輸入有包括鍵
盤、遊戲搖桿以及 Serial Port 輸入等許多種選擇，可以讓使用者自行調整輸入命令種類。 
 4
qrIIIpqrIpIM
rpIIIrqqIM
pqIIIqrrIpIM
xzxyzxzz
xzzxyy
xzyzxzxx
+−++−=
−+−+=
−−+−=
)(
)()(
)(
22
&&
&
&&
                   (2) 
3.6 平衡之過程 
在分析與模擬實驗的過程中，飛行載具必須在平衡的狀態下再輸入控制命令，所得之
實驗數據才是純粹由控制命令所影響。在有數學模型的情況下，可以使用吾人在控制理論
上所學到的各種方法，來使直昇機達到平衡的狀態，再進行控制系統的測試與修改。然而
取得電腦模擬軟體中直昇機的數學模型並不容易，因此本研究將不使用上述的方式來達成
平衡，將使用誤差回授迭代的方式，將所能夠得到之回授狀態，分別乘上控制增益 Gc 後
加總輸出，使直昇機達成平衡的狀態。 
3.7 飛行載具平衡之定義 
當作用在飛行載具質心上之合力與合力矩皆為零的時候，即稱之為飛行載具之平衡狀
態。具體一點來說，即是當飛行載具以某等速度移動、等角速度之轉動時皆為飛行載具之
平衡狀態；但一般設計時並不允許飛行載具做等角速度之轉動(飛行載具將會墜毀)，僅允
許飛行載具以等速度移動。 
因為實際上飛行載具所受之合力與合力矩幾乎不可能調整為零，因此必須定義一可接
受之容許範圍。本研究對平衡之定義如下： 
當三軸之體座標速度 u, v, w之絕對值皆小於或等於 0.05 m/s；三軸之體座標角速度 p, q, 
r 之絕對值皆小於或等於 1 deg/s；且必須滿足上述條件持續兩秒鐘以上，即視為平衡。 
4. 電腦飛行模擬軟體之定性分析 
在電腦模擬軟體上完成平衡的動作後，接下來必須去驗證此飛行模擬軟體所使用之直
昇機模型與真實模型直昇機之關聯性。爲了驗證其關聯性，本研究規劃了定性分析實驗，
以下將詳細說明。 
4.1. 直昇機線性化動態方程式 
直昇機為非線性系統，但直昇機在平衡狀態受到微小擾動(Perturbation)時，因狀態變
化可視為線性，因此可將動態方程式線性化。一般在飛行力學分析中，因縱向與橫向之間
耦合關係微弱，因此可將縱向與橫向視為獨立的方程式分開處理[8]。 
4.2. 定性模擬實驗之目的 
檢驗飛行模擬軟體所使用之直昇機數學模型，給予其控制命令時，是否有與模型直昇
機給予相同命令時，所應得到之反應相似；在此分析中將僅討論其相關程度而不探討明確
的數量變化，因此稱為定性分析。 
4.3. 定性模擬實驗之方法與流程 
直昇機起飛後，藉由上述平衡的方法，使直昇機達到平衡的狀態，此時再輸入單一軸
向之控制命令，使直昇機飛行動作產生改變，最後將所收集到的實驗數據進行分析。實驗
流程如圖 3 所示。 
 6
4.7. 定性偏航控制模擬實驗結果 
偏航控制(δped)命令輸入後δped 控制命令輸入理論上該於 r 軸產生一角速度，而此角
速度應會造成姿態 ψ 之改變，姿態改變的同時會影響各軸之速度 u、v、w 與姿態φ、θ 產
生相對應的變化。所得結果與理論相似，顯示此模型在某種程度上可以代表真實直昇機之
模型。 
4.8. 定性主旋翼攻角控制模擬實驗結果 
主旋翼攻角控制(δcol)命令輸入後直昇機的速度 w 從零改變至約-0.4 m/s，u、v 也有些
許相對應的變化，而直昇機之姿態φ、θ、ψ 並無太大之改變。δcol 控制命令輸入理論上是
增加主旋翼葉片之攻角，其影響會造成整個流場給予直昇機之作用力增加，若此時機身有
些微之傾斜，增加攻角的同時除了增加 ZB 軸之速度 w，也會增加相對應傾斜軸之速度，
與所得結果符合。 
4.9 定性模擬實驗之結論 
綜合以上四種實驗結果，每一個控制輸入所得到之反應曲線與真實直昇機理論上該有
之反應趨勢相符合；惟電腦除了尾旋翼與主旋翼耦合之現象較明顯外，其他輸入所得之結
果，耦合現象都很微弱，真實直昇機理論上應較強。雖然此模型在耦合現象上有些缺陷，
但此模型之反應與真實直昇機所該有之反應有著許多相似之處，顯示此模型在某種程度上
可以代表真實直昇機之模型。 
 
圖 5. 停懸控制 Pitch 與 Roll 控制系統
 
圖 7. 停懸控制 Yaw 控制系統 
Command r 
r 
P Controller 
δped 
Control of Angle 
Control of Velocity 
Command φ  
φ  p 
v  BYa   
δlat 
P Controller 
PI Controller 
 8
示δlong 控制系統可以有效的降低擾動所帶來的影響，保持機身的穩定。 
 
圖 10. 停懸控制模擬實驗 Roll 軸向擾動輸入之結果 
在 Yaw 軸向擾動命令(cmd_r)輸入後的結果顯示δped 控制系統可以有效的降低擾動所
帶來的影響，保持機身的穩定。在 VZ 軸向擾動命令(cmd_VZ)輸入後的結果如圖 11 所示，
顯示δcol 控制系統可以有效的降低擾動所帶來的影響，保持機身的穩定。 
 
圖 11. 停懸控制模擬實驗 Yaw 軸向擾動輸入之結果 
從上述之實驗結果可發現，本研究所開發之停懸控制器，不論在那一軸向輸入之擾
動，都能保持機身的穩定性，且保持在近乎停懸的狀態。因此可以證明此組控制系統將可
以提供本實驗目的設定之停懸控制。 
6. 結果與討論 
本研究的目的在於希望能使用傳統的 PID 控制法則來開發無人直昇機的控制系統，同
時透過整合控制硬體的電腦模擬軟體系統來進行控制系統的開發與設計，在電腦軟體上成
功開發後，再進行實務上的應用與調整，同時也可以了解到電腦模擬軟體與實務上的差異。 
-10 0 10 20 30 40 50
-3
-2
-1
0
1
2
3
D
eg
re
e
Φ
θ
-10 0 10 20 30 40 50
177
178
179
180
181
182
183
Second
D
eg
re
e
ψ
-10 0 10 20 30 40 50
-6
-4
-2
0
2
4
D
eg
re
e/
se
c p
-10 0 10 20 30 40 50
-1
0
1
D
eg
re
e/
se
c q
-10 0 10 20 30 40 50
-1
0
1
D
eg
re
e/
se
c
Second
r
-10 0 10 20 30 40 50
-0.15
-0.1
-0.05
0
0.05
0.1
m
/s
u
v
w
-10 0 10 20 30 40 50
-0.05
0
0.05
0.1
0.15
Second
m
/s
Vz
-10 0 10 20 30 40 50
2.26
2.27
2.28
2.29
2.3
x 10
4
δcol
-10 0 10 20 30 40 50
1.5
1.6
1.7
1.8
x 10
4
Second
δlat
δlong
δped
-5 0 5 10 15 20 25 30
-3
-2
-1
0
1
2
3
D
eg
re
e
Φ
θ
-5 0 5 10 15 20 25 30
170
175
180
185
190
Second
D
eg
re
e
ψ
-5 0 5 10 15 20 25 30
-1
0
1
D
eg
re
e/
se
c p
-5 0 5 10 15 20 25 30
-1
0
1
D
eg
re
e/
se
c q
-5 0 5 10 15 20 25 30
-20
-10
0
10
D
eg
re
e/
se
c
Second
r
-5 0 5 10 15 20 25 30
-0.1
-0.05
0
0.05
0.1
0.15
m
/s
u
v
w
-5 0 5 10 15 20 25 30
-0.05
0
0.05
0.1
0.15
Second
m
/s
Vz
-5 0 5 10 15 20 25 30
2.265
2.27
2.275
2.28
2.285
x 10
4
δcol
-5 0 5 10 15 20 25 30
1.6
1.65
1.7
x 10
4
Second
δlat
δlong
δped
