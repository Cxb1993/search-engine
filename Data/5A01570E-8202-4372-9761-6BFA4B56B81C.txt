模擬系統能夠模仿真實世界的流程，並且可
預估各情境實行後的狀況，再利用圖形和量
化的數據明白的表現出來，讓使用者能預先
對各情境做更深入之評估而不影響現實中的
作業。因此發展一個能夠推估與預測交通狀
況的模擬系統，能夠使決策者透過模擬系統
事先了解交通狀況並進行適當的分析，以提
高路線規劃時的可行性以及降低進入擁擠路
段風險。 
雖然目前已有許多知名的交通模擬系統
如DYNASMART[19,20]與DynaMIT[10,11]，
這些模擬系統對於各種交通狀況的推估與預
測，都有顯著的功效，但是仍存有下列的問
題： 
1. 對於模擬所需要的資料都是假設為已取
得，卻未考慮到進行交通模擬過程中的
資料擷取與結果評估等一連串過程，也
都關係到交通模擬系統的整體效能。 
2. 進行系統開發時，並未進行系統分析與
設計而是直接進行程式的撰寫，因此日
後如果欲進行系統的維護與功能擴充，
必定會遭遇困難。 
基於以上的因素，考慮到現實生活中，
模擬系統所需的實際路況相關資料並非隨手
可得的，而是分散在各交通中心，如果可以
利用資訊技術以自動化的方式完成上述的過
程，必定能節省許多人力與時間。因此，本
研究提出一個智慧型代理人(Intelligent agent) 
輔 助 交 通 模 擬 系 統 (Traffic Simulation 
Systems) 的架構，期望運用代理人的自主性
與智慧性等特性，幫助使用者解決繁瑣的資
料擷取與監控等作業，以提升交通模擬系統
的整體績效。並以意外事件持續時間(Incident 
duration)預測為例，描述智慧型代理人在資料
收集分析、預測意外持續時間、以及資料傳
遞的方式。 
另一方面，設計一套良好的系統，必須
要有完整的分析與設計方法。物件導向
(Object-oriented)式技術主要概念是利用物件
為單位來描述系統本身，透過資料的抽象
化、繼承與封裝等概念來提升系統元件的再
使用性以及降低系統的複雜度[15,17]。對於
模擬系統而言，因為模擬系統是模仿真實世
界中各種事物的流程關係，利用物件的概念
正好可以用來表示這些模擬系統中的事物，
並在分析設計的過程中，把這些物件之間的
靜態以及動態關係清楚的表現出來。因此本
研究針對個智慧型代理人輔助交通模擬系統
的架構，提出物件導向分析與設計的步驟，
以使用者的觀點找出系統的主要功能以及定
義系統的範圍，並且使用統一塑模語言
（Unified Modeling Language, UML）為工
具，以視覺化的方式來建構系統模型，以圖
形化的表示方式描述物件間的關係，探討交
通模擬模擬系統的內部活動以及系統與使用
者的互動關係。如此，可以針對交通模擬的
開發過程事先予以完善的考量，以提升交通
模擬系統的整體績效。 
二、文獻探討 
2.1 代理人在交通方面之研究 
代理人技術對於系統是功能分散或地理
分散、系統存在動態的環境中、及子系統間
需要彈性的互動等問題領域有其突破性的設
計功能與特性[13]。而在交通管理的領域中，
不應以功能和地區侷限系統的設計，要能使
系統能輕易的新增功能、擴展管理地區[1]。
因此為有效的管理動態環境，需要更主動性
及即時性的智慧型交通管理，代理人技術在
交通方面可以簡化交通系統的設計，並帶來
管理的便利性。並可以提供分散式系統的優
點，如資源分享及同步化。藉由彼此的溝通
行為可以調適及反應即時環境中突發事件的
處理，減少基礎建設所需的變動。以代理人
開發的模組富有高度的自治性，將不同需求
功能以不同的代理人負責以簡化系統的設
計，利用代理人溝通來進行工作的傳遞，可
以簡化代理人模組更新替換時對系統帶來的
負擔。在系統所控管的地區擴增時，也能經
由複製相同的代理人達到快速的開發。因此
代理人技術相當適用於交通領域中包含許多
地區及許多分析模組的情形，並可利用此技
術增強和使用者的聯繫，做到不僅僅只是訊
息的發佈，而能讓使用者輸入需求或訊息回
報機制。  
1997年Burmeister等人[13]探討代理人在
 2
dynamic），（3）行前與途中（pre-trip vs. 
en-route），（4）歷史性與即時性（historical vs. 
real-time），（5）實際性與預測性（actual vs. 
predicted）[3]。 
而交通資訊與使用者間互相影響，使用
者可區分為下列三種：（1）無自用車之旅行
者，（2）有自用車輛但無車內資訊系統者，
（3）自用車輛之旅行者並擁有車內資訊系
統。 
提供給使用者的資訊根據獲得的方式可
分為： 
1. 歷史性資訊（historical information）：歷
史性資訊指根據過去所收集的資料，提
供一區分特性後的資訊給使用者。 
2. 即時現況資訊（real-time information）：
提供目前的交通狀況供使用者參考，如
道路施工、交通事故或運具服務中斷。 
3. 預測性資訊（predicted information）：根
據歷史性資訊、現況資訊或兩者，透過
依預測模式來推測未來時間內交通可能
的變化狀況。 
為了要有效根據即時交通環境動態規
劃交通策略，交通控管人員必須經常做繁複
的資料取得、資料格式化、及使用各種模型
計算資料，以有效提供如上述之三種資訊給
使用者。當時間點變動時，各項交通規劃分
析的資料也隨之變動，分析結果亦不同。為
了要簡化此繁複的動作，本研究以代理人來
輔助資料的處理動作，再交至模擬系統進行
各種情況的模擬。 
 本研究提出以代理人輔助智慧型運輸系
統之系統架構如圖 1，包含代理人系統和核
心交通模擬系統。代理人系統包括介面代理
人、搜尋代理人、監控代理人以及包括所延
伸的資料提供代理人和模式代理人等共五種
代理人。各部分主要功能如下： 
1. 資料提供代理人：負責提供系統所需之
靜態（不會隨時間變動）資料，如地圖、
路口、據點資料，由負責單位提供，並
建置此代理人。如此當資料變動時，減
少資料更新的問題，並讓抓取資料的搜
尋代理人知道提供資料的來源。 
2. 介面代理人：供使用者操作使用之視覺
化操作介面。當使用者透過介面代理人
設定地區後，介面代理人會在資料庫中
取得各地區的初始資料。若資料庫中無
資料，則發送搜尋代理人至資料提供代
理人處搜尋相關資料。並在取得路網的
相關資料後，發送該地區的各個監控代
理人，蒐集即時資料。介面代理人並彙
整這些蒐集的資料，交由模擬系統進行
模擬。 
3. 搜尋代理人：為移動代理人，具有自主
性、溝通能力及移動性。當資料庫中無
各地區的靜態交通資料時，由介面代理
人派出，移動到各交通中心，帶回各地
區的路網資料、路徑資料等靜態資料，
並將資料存放在資料庫中。 
4. 監控代理人：為介面代理人所派出，負
責監控路段的動態資訊及即時資訊。動
態資訊包括提供駕駛者的即時交通狀
況，如交通管制、道路施工、交通事故
等。即時資訊包括透過偵測器所收集路
況交通狀況，如偵測速率、事故偵測等。
監控代理人將所收集的資料過濾、分
類，再交由模式代理人進行預測。 
5. 模式代理人：為智慧型代理人，介面代
理人提供模式代理人由搜尋代理人和監
控代理人所蒐集的資料，模式代理人根
據模式庫中的知識，推測即時可能的狀
況。系統中可能含有許多模式，如事件
持續時間預測模式、號誌控制模式、及
車流模式等。模式中又可能有不同的求
解方法，及許多不同的知識庫，當進行
一項決策時，可選用其中一種知識庫進
行分析。如此當新的知識庫提出時，此
模擬架構仍能適用。 
6. 資料庫：存放歷史資料及搜尋代理人和
監控代理人蒐集之資料，以供系統能便
利的取得資料。 
使用者藉由輸入各項交控資料至介面
代理人，再進入核心交通模擬程式，可以評
估各項交控措施的效益。在即時資訊的影響
 4
 
圖 2 智慧型交通模擬系統之使用案例圖 
步驟三、代理人之互動關係 
UML 中定義了各種圖形，視其需要可選
用適合之圖形來表示系統內部的活動。而利
用循序圖（Sequence diagrams）可以表示出
類別間訊息傳遞的關係，因此本研究採用
AUML 中定義之循序圖來表示各代理人間平
行關係的訊息溝通，如圖 3 所示介面代理人
及搜尋代理人與系統之互動循序圖。 
介面代理人 搜尋代理人 核心交通模擬系統使用者
欲進行模擬
移動
移動
輸入交控參數
開始模擬
模擬
模擬結束
效益評估
觀看模擬結果
搜尋資料
Agree
Refuse
Not-understand
資料倉儲
Request
Inform
Failure
交控中心
圖 3 介面及搜尋代理人與系統之互動循序圖 
步驟四、交通模擬系統內部活動 
描述代理人間的互動關係後，接著要說
明核心交通模擬系統內的各活動。首先描述
核心交通模擬系統的主流程，接著描述系統
如何在每單位模擬時間反覆的進行各種處理
活動，包括有：(1)需求處理、(2)號誌處理、
(3)車輛產生、(4)事件影響、(5)VMS 設定、
(6)車輛移動、(7)途中路徑選擇、(8)資料整合
及(9)匯出資料。因為合作圖（Collaboration 
diagrams）能夠表示出系統類別間的結構關
係，因此以合作圖來描述核心交通模擬系統
之主流程。活動圖（Activity diagrams）可以
將不同的運行動作及其間的關係詳細的描繪
出來，因此以活動圖表示系統的細部活動，
包括上述之活動(1)至活動(8)，而循序圖可以
表示出類別間訊息的傳遞關係，因此以循序
圖描述匯出檔案。 
步驟五、定義類別 
類別圖（Class diagrams）是用來描述系
統中所需的相關類別，以及類別間的靜態關
係。在此步驟中將利用類別圖定義出類別該
具有的屬性與方法，並將類別間的關係標示
於類別圖中。 
經由定義使用案例圖及描述交通模擬系
統內部活動之後，可以找出系統中所需要用
到的類別，包括：介面代理人、搜尋代理人、
監控代理人、路網類別、路段類別、節點類
別、分區類別、號誌類別、時間類別、事件
類別、VMS 類別、公車類別、佇列類別、車
輛類別、節點鏈結類別、路徑類別、需求類
別、主程式類別、建立路網類別、處理程序
類別、需求處理類別、號誌處理類別、車輛
產生類別、事件影響類別、VMS 控制類別、
車輛移動類別、途中路徑選擇類別、資料整
合類別、匯出檔案類別、匯出路網類別、匯
出需求類別、匯出路段類別、匯出車輛類別
及匯出號誌類別。 
步驟六、定義類別屬性、操作方法及關係 
而定義出交通模擬系統中所有的類別
後，再將這些類別之屬性、操作方法及其間
的關係描述於類別圖中。其中相連的類別代
表其間具有結合關係(Association)，如1對1或
 6
據，並提供給路徑導引之旅行時間推估模型
進行分析。為了將資料轉換為 BPN 模型可讀
的格式，必須依照意外事件的內容進行轉
換，相關輸入參數定義與設定如表 1 所示。 
在預測模型輸出的部份，以事件持續時
間為此為預測模型的輸出參數，輸出單元需
經過正規化處理將數值處理為 0～1 的小數
值，轉換過程如式 1： 
（Xvalue–Xmin）/（Xmax–Xmin）   （1） 
其中，Xvalue為實際值，Xmin為範圍最小
值，Xmax為範圍最大值。將持續時間以分鐘
計算，但有些資料變異太大，影響預測準確
度，因此根據資料的分佈情形及對用路者的
建議考量，將最大值設為 180，並排除大於
180 分鐘的事件資料。 
表 1 輸入參數設定與轉換 
參數
名稱 
資料轉換 參數
名稱 
資料轉換 
日期 0：平常日，
1：假日 
散落
物 
0：無散落物，
1：有散落物 
事故
路段 
0：輕度，1：
中度，2：高
度 
醫療
救護 
0：無 EMS，
1：有 EMS 
南北
向車
道 
0：南下，1：
北上 
拖吊
車 
0：無拖吊車，
1：有拖吊車 
尖離
峰時
間 
 
0 ： 早 上 尖
峰，1：早上
離峰，2：晚
上尖峰，3：
晚上離峰 
火災 0：無火災，1：
有火災 
車道
位置 
 
0：無描述，
1：中間，2：
內側，3：外
側，4：路肩 
事件
類別 
 
0：散落物，1：
道路施工 2：
災變，3：號誌
故障，4：其它
車道
封閉 
0：未封閉，
1：封閉 
速率 
(km/
hr) 
1：速率為 0～
40，2：41～
60，3：61～
80，4：80 以
上 
4.2 意外事件持續時間預測模型之建立 
交通意外事件的路網環境，為無一定規
則且多變化的交通路網，事件發生的影響變
數眾多，以 BPN 建立意外事件持續時間預測
模型，可直接從訓練範例中學習到輸入值與
輸出值之間的對應規則。廖彩雲與謝育良[7]
曾提出以類神經網路之 BPN 來預測交通事
件持續時間，亦針對國道高速公路之意外事
件來作分析與預測，但礙於資訊的取得與模
式建立的方式，其所預測的結果較為不理
想。本研究為了改良預測的結果，根據事件
的特性將 BPN 預測模型細分為三類模組，可
避免資料間雜訊的干擾與提高預測的準確
度。此三大模組為車輛事故模組、交通阻塞
模組與其它模組，如表 2 所示。因考慮到每
個模組的性質不一而各個模組則須選擇適當
的交通參數，並分別地訓練該模組之參數，
以達成較為精確的預測。 
表 2 事件預測模型之事件定義與參數設定 
事
件
定
義 
車輛事故 交通阻塞 其它事件 
事
件
內
容 
由車輛所
發生之追
撞、翻覆或
起火等事
件 
為車流量
大增而非
其他事故
所造成之
擁塞 
非隸屬於其
他 3 種模組
之事件，如散
落物、道路施
工或火警等
事件 
而 BPN 模型的模組參數訓練方式則採
用 Matlab 的類神經工具模組，BPN 的參數訓
練架構如圖 5 所示，此架構包含輸入層（訓
練參數）、隱藏層及輸出層（事件持續時間）。
輸入層的內容會隨著預測模型中不同模組會
組合不同的參數，包含：車輛事故模組（11
個）、交通阻塞模組（5 個）及其它事件模組
（12 個），其目的是為了選擇較有影響的參
數於適合的模組中。隱藏層的個數將會影響
權重值於運算過程中訓練調整的結果，可為
使用者定義來調整。最後輸出的結果即為預
測值之事件持續時間。而此模型為依據大量
的資料輸入，並經由重複地訓練與調整權
重，直到模型效能的收斂以完成預測模型。 
 8
代理人平台整合原本分散的資訊系統，並以
物件導向的方式採用 UML 為工具，透過圖
形化的介面來描述智慧型交通模擬系統的物
件導向分析與設計方法，並建構出系統模
型，以加快系統開發的速度並且能夠降低系
統開發時錯誤的發生。 
其中針對資料收集、資料處理及資料分
析提出五種代理人輔助相關系統的建立，蒐
集基本路網資料、即時動態資訊，並由一事
件持續時間分析模式利用此收集來的資訊提
供給用路人即時決策資訊，以代理人完成此
構想的自動化，此成果可供日後發展 ITS 參
考使用。代理人包括： 
(1). 介面代理人：使用者操作介面，及派遣
相關代理人進行資料收集與監控，並將
分析結果轉為用路人決策依據。 
(2). 搜尋代理人：將系統中所需要的繁複資
料，在各交通單位進行搜尋與取得，以
簡化資料取得的負擔。 
(3). 監控代理人：對所涵蓋的路網範圍做持
續的監控，以取得即時性的資料。 
(4). 模式代理人：將所蒐集的各類資料依模
式庫所建立的模式進行分析，提供給目
前交通狀況作參數的輸入以預測未來
的交通狀況，提前做出決策。 
(5). 資料提供代理人：由交通相關單位提
供，負責提供靜態路網資料，免除資料
更新的負擔。 
另外，研究中以倒傳遞網路預測事件持
續時間，針對事件路段的即時車速判斷是否
影響到用路者，並提供路線建議。倒傳遞網
路對意外事件持續時間進行預測，跳脫以往
採統計方式的預測方法，可避免資料必須符
合某機率分配和無法考量變數間相關性的問
題。以即時資料進行預測，有別於以往需要
相關單位，如警察大隊先到現場將資料收
集，才能進行分析。利用即時的資料預測，
使決策更即時而適用。 
六、研究結果自評 
 本研究提出結合代理人機制的智慧型交
通模擬系統，利用代理人的合作來協助使用
者進行資料傳送與監控動作，提高整個模擬
系統的效率。並針對結合代理人的智慧型交
通模擬系統提出一個物件導向分析與設計方
法，利用UML的呈現方法，對於智慧型交通
模擬系統做出最完善的考量，使未來交通相
關單位在開發交通模擬系統時，能有分析與
設計方法可尋。而開發後的系統，能夠正確
的評估與預測交通狀況，幫助交通管理人員
與交通規劃人員有效的分析其交控策略，並
正確的評估其策略的可行性。研究結果在學
術研究及應用上皆應具有實際價值。 
然而在系統開發過程卻體會到UML物件
導向分析與設計方法與物件導向程式設計上
整合的困難，未來仍有待在此方面進一步的
探究。 
七、參考文獻 
[1] 毛治國（1998），「智慧化運輸系統的特
性與我國的推動策略」，台灣地區運輸
系統智慧化推動策略研討會論文集，民
國八十七年十月。 
[2] 吳軍劼(2002)，「使用物件導向模擬及基
因演算法探討某教學醫院健檢之設施
規劃最佳化研究」，碩士論文，大業大
學工業工程研究所，彰化。 
[3] 胡大瀛、廖彩雲、陳麗雯、許靜月
（1998），「交通 WWW 資訊系統之設
計與實例」，中華民國第四屆台灣區網
際網路研討會。 
[4] 曾偉育（2003），智慧型交通模擬系統
之物件導向分析與設計，碩士論文，朝
陽科技大學資訊管理研究所，台中。 
[5] 黃志偉（2002），高速公路肇事處理時
間預測之研究—應用類神經網路分
析，碩士論文，國立中央大學土木工程
研究所，桃園。 
[6] 葉怡成（2002），類神經網路模式應用
與實作，儒林圖書有限公司，第一版。 
[7] 廖彩雲、謝育良（2005），「代理人輔助
智慧型運輸系統之研究–以即時意外持
續時間預測為例」，銘傳大學 2005 國際
學術研討會論文集，桃園，銘傳大學。 
 10
