 2
行政院國家科學委員會專題研究計畫成果報告 
 
平行雙關節三次元量測儀研製 
Researches and Manufacturing of coordinate measuring machine with parallel double joints 
計畫編號： NSC 97-2221-E-269 -014 – 
執行期限：97 年 8 月 1 日至 98 年 7 月 31 日 
主持人：陳維方  單位：遠東科技大學機械系教授 
     共同主持人：林慎旺   單位：遠東科技大學工商管理系副教授 
計畫參與人員：廖宗德   單位：遠東科技大學機械系講師 
 
一. 中文摘要 
三次元量測儀是近 40 餘年來迅速
發展起來的新型精密量測儀器，可用
於多種製造業的各種零件形體幾何參
數量測，在現代製造業中，已越來越
顯示出它的重要地位與作用以及廣闊
的發展前景，甚至被納入自動化生產
和彈性加工系統之中，成為一個重要
的組成部分。目前正交三次元量測儀
的功能愈來愈強、精度愈來愈高，但
成本也相應增大，價格昂貴。另外，
其體積一般較為龐大，不利於攜帶、
搬遷，且對量測環境條件要求較苛
刻，基本應用於恒溫恒濕的實驗室與
檢驗室等。由於其適用的靈活性受到
限制，傳統正交座標量測儀很難實現
現代生產提出的快速、快捷、線上的
量測要求，因此很有必要發展滿足上
述量測要求的非正交座標量測系統。
易於搬遷、量測速度快的非正交量測
儀將在很多量測場合代替傳統正交座
標量測儀。 
本計畫研究的平行雙關節量測系
統採用一個線性位移感測器和兩個角
度位移感測器協同工作實現三維線上
即時量測，解決傳統 CMM 的弊端，
可用於現場即時量測。借助電腦 CAE
技術和有限元素分析方法設計高強度
的主機結構；全面分析系統的誤差
源，利用 D-H 方法建立座標量測儀的
動態量測模型，該模型包含每個結構
的參數以及參數誤差和環境因素引起
的誤差。 
關鍵字：三次元量測儀(CMM)；D-H
矩陣；CAE；彈性製造系統；有限元
素法。 
 
Abstract 
CMM is one of the new types of 
precise measurement machine that has 
been developed rapidly in the past forty 
years. It can be used in measuring 
different geometric variables of 
components in various manufacturing 
industry. In modern manufacturing 
industry, CMM has shown its 
importance and effect, and it is indeed 
included in automated production and 
FMS, and becomes one of the main 
combining parts. Presently, the functions 
of orthogonal CMM become more 
powerful and precious, but the prime 
cost and the price of orthogonal CMM 
also increase. In addition, its size is large, 
so it is inconvenient for moving and 
carrying. Orthogonal CMM is extremely 
restricted in environment when 
measuring. It is used in the laboratory 
that has constant moistness and 
temperature. Since orthogonal CMM is 
limited in its mobility, traditional 
orthogonal CMM cannot reach the 
 4
將角度量測與距離量測相結合，實施
非正交座標量測系統進行量測，因此
新型的非正交量測系統的座標量測機
相繼出現。 
非正交式座標測量機，有極座標
測量機和關節式測量機，前者精度
高，但造價昂貴；後者是根據靠模運
動學原理而設計的一種新型座標測量
系統。它類比人的關節結構，將一系
列桿件通過具有旋轉導軌的關節連接
起來，構成一空間開放機構，從而以
角度量測基準代替長度的量測基準。
關節式座標測量機使用靈活，搬運方
便，適合在工廠現場使用，而且造價
相對比其他測量機較低廉，更不會像
正交式座標測量機，造價隨量程急劇
上升。關節式座標測量機的測量範圍
不受導軌、尺規和工作臺尺寸限制；
它還有一個優點，就是可以做得比較
靈活，更容易深入到直角坐標系不易
深入的部位中去量測，且容易在較短
時間內採集到更多的資料，能更方便
地實現手動掃描測量。其中主要有具
有極座標量測系統的鐳射跟蹤量測儀
和具有串聯極坐標系的彈性關節座標
量測機，它們均具有移動的靈活性，
可適用於現場線上量測。對於鐳射跟
蹤量測儀來說，不僅量測範圍大，而
且具有量測功能強的特點[4]，如美國
API 公司生產的鐳射跟蹤儀的量測範
圍可達幾十米，精度甚至可以達到正
交座標量測機的精度水準，但其價格
相當昂貴，另外，鐳射對工作環境要
求苛刻，這也限制了此類機器應用於
現場的線上檢測，限制了其應用範
圍。對於彈性關節座標量測機來說，
其量測功能也較強，量測精度也較
高，而且成本相對前者也較低，但量
測範圍受到一定限制。由於製造業的
領域寬廣對量測的要求不盡相同，因
此鐳射跟蹤儀和關節量測機均具有相
當的應用場合，所以它們的研製發展
相當迅速，應用也愈來愈廣。具有靈
活性的非正交量測機將在很多量測場
合替代傳統的正交座標量測機。 
近 20 餘年，國內外有不少研究機
構和企業均致力於非正交量測系統研
究與開發應用，近年來鐳射跟蹤儀和
關節座標量測儀得到了迅速發展與應
用，如由角度與直線距離量測相結合
的極座標量測原理的三維量測系統
[3,4],以及基於機器人結構原理的關節
式座標測量機,它們共同的特點是適宜
於現場使用,靈活輕巧,攜帶方便。但這
兩種測量機均具有局限性, 鐳射跟蹤
干涉儀價格昂貴,關節座標測量機精度
不高。1996 年德國學者 W. Lotze 提出
一種為在現場環境下工作而設計的手
動座標量測儀 Scanmax [5]，它與 Scara 
機器人的原理相似，X/Y 平面量測由
關節臂實現，採用角度位移感測器，
而 Z 軸是用高精度長光柵尺實現量
測，是一種利用一個直線位移和兩個
角度位移實現 3D 量測的非正交坐標
系統。它具有現場使用靈活性特點,又
能達到接近實驗室使用的直角三座標
測量機精度,特別適用于現場的高精度
線上測量。因此,這種儀器推向市場後
在德國和美國等國得到較好應用,特別
是在現場快速量測、線上檢測以及逆
向工程中應用較好，但還存在一些問
題需要不斷完善和提高。 
根據國內外目前對非正交座標量
測儀的研製及其生產現狀，鑒於鐳射
跟蹤儀和關節座標量測儀之不足，而
近年來新研製的 ScanMax 非正交量測
 6
平行雙關節座標量測儀可參照傳
統的工業機器人 SCARA 的誤差建模
方法和成果[9,10]。並結合誤差理論研
究上的研究成果，借用全系統誤差理
論對量測儀進行理論建模。機器人建
模 應 用 最 多 的 方 法 是 Denavit- 
Hartenberg（即 D-H 矩陣）方法[11]，
它表示機器人每個桿件在空間相對於
絕對座標系或相對於機器人基座的位
置及方向的方程式，稱為機器人的運
動學方程式，這是關節式座標量測儀
數學建模的基礎。採用 D-H 矩陣方
法，來表示每個桿件在空間相對於絕
對座標系或相對於基座的位置及方向
的方程式，即運動學方程式，這是平
行雙關節座標量測機數學建模的基
礎。圖 1 所示為平行雙關節座標量測
機量測系統在 x-y 平面的投影圖，則量
測點 P(x,y,z)相對於基座（機器的零點）
的三維座標可以用矩陣形式表示為：  
0 0
1 0 2 0 0
1 0 2 0 0
( )
x R cos( ) R cos( )
y R sin( ) R sin( )
z z
   
     
     
  
                        
R Av
       (1) 
式中，R1和R2為桿件1和2的長度；α和
β分別為桿件1和2的轉角變數，α0和β0
為兩個角度感測器的零位誤差；
)( 00  R 是測頭經桿件1和2轉換後
的旋轉矩陣；A為測頭參數矩陣；v為
三維測頭變形向量。 
由式(1)看出量測點P(x,y,z)的三維
座標由兩部分組成：○1 桿件 1 和 2 經
座標變換後相對座標原點的值，○2 三
維測頭變形量測值經量測系統轉換後
的變數值。只要能精確標定式(1)中各
個參數值就可以確定量測機的運動學
模型，進而實現精密量測。 
四.主要研究項目 
本計劃將分析多種非正交座標量
測機的特點，在近年內國際上新開發
的 ScanMax 結構基礎上進行多項改
進，研究具有創新性的量測原理與結
構系統，主要研究內容如下： 
 
圖 2 平行雙關節座標量測機工作原理
圖(1 為 z 向導軌和尺規系統 2 為雙關
節及角度量測系統 3 為桿件 4 為工作
臺 5 為掃描測頭系統) 
(1) 研究新型的平行雙關節座標量測
機，由兩個圓分度感測器、一個直線
光柵感測器和三維觸發測頭所組成
的三維量測系統。圖 2 為擬研究雙關
節式座標量測機的工作原理圖，當 Z
向導軌鎖定時，由兩個角度感測器即
可實現 x-y 平面內的 2D 量測，加上
Z 向的位移量測即可以實現 3D 量
測。根據提出的儀器量測範圍，確定
桿件的大小、Z 軸導軌的結構形式，
對量測機桿件結構進行優化設計研
究。 
(2) 研究新型的平行雙關節結構，採
用全周回轉的結構系統，實現大範圍
的量測功能。精確推導測頭座標與尺
規系統和雙關節量測系統以及測頭
系統之間的關係是獲得高精度量測
 8
應的簡化了量測模型，精簡了標定程
式。 
3.Z軸內部採用內平衡機械結構，靈敏
的補償了手動量測時的量測力。這種
設計方法完全解決了Scanmax中採用
力感測器回饋並運用電機驅動進行複
雜控制的測力補償模式，簡化了結構。 
4.運用D-H方法建立平行雙關節座標
量測機的量測模型和標定模型，該模
型含有所有結構參數，是獲得高精度
量測結果的關鍵。 
在現有多種結構的非正交座標量
測儀研製應用的基礎上，分析其優點
與不足，採用更先進的理論與技術，
研製成具有我國自主知識產權的新型
關節式座標量測儀，使我國同類座標
量測儀在理論與技術上達到國際領先
水準，使我國該類產品研製開發達到
國際領先水準，打破國外產品壟斷的
格局，填補該產品的國內空白，提升
我國裝備製造業的產品品質和市場競
爭力。主要已完成之工作項目有：收
集資料，研究相關研究成果；分析多
種非正交座標量測儀的特點，制定具
體研究方案；研究新型的平行雙關節
座標量測儀，由兩個圓分度感測器、
一個直線光柵感測器和三維觸發測頭
所組成的三維量測系統；研究新型的
平行雙關節結構，採用回轉的結構系
統，實現大範圍的量測功能；研究合
適的位移和角度編碼器；研究平行雙
關節座標量測儀的量測原理數學模
型；實際完成平行雙關節座標量測機
整體實體零件與組合圖及其動態模
擬。 
六 .計畫成果自評  
「平行雙關節三次元量測儀研製」
原為三年計畫，第一年設計，第二年分
析模擬，第三年實作組裝與測試補償。 
本計劃已完成初步具體平行雙關
節三次元量測儀的設計零件與組合圖
並完成動態運動模擬，以避免干涉；
並已購買 RENISHAW 公司三次元測
頭及兩個環型光學尺讀頭組與一個直
線光學尺讀頭組；RENISHAW 公司兩
個 環 型 光 學 尺 讀 頭 型 號 為
RGH20X30D00A 數位輸出，D 型 15pin
接頭 3.0m 長訊號線，解析度為
0.001mm ， 具 歸 零 參 考 點 型 號 為
RGM20SR ， 環 尺 型 號 為
RESR20USA052；直線光學尺讀頭組
型號為 RGH41X30D05A 數位輸出，
3.0m 長訊號線,D 型 15pin 接頭，解析
度 0.001mm ，光學尺鍍金貼尺型
號 :RGS40-S，具歸零參考點型號為
RGM22S；三次元測頭型號為 MCP 附
訊號線、φ1mm、φ2mm 及φ3mm 紅
寶石測針各 1 支。動態運動模擬圖如
圖 7 所示。 
 
 
行政會國家科學委員會補助國內專家學者出席國際會議報告 
                                                       97 年 9 月 12 日 
 
    報告人  陳維方 服務機構及職稱 遠東科技大學機械系 
        時間 
 會議   地點 
        
August 25-29, 2008 
中國，合肥市，合肥
工業大學 
 
本會核定補助文
號 
 
NSC 97-2221-E-269 -014- 
   會議名稱 （中文）2008 年第四屆國際精密機械量測學術研討會 
（英文）The 4th International Symposium on Precision 
        Mechanical Measurements 
發表論文題目 （英文）High Precise Signal-Subdivision Method of Grating Based on 
BP Neural Network 
 

 B1001 Lin Shen-Wang, Shang Ping, et al  Measurement Principle Analysis and CAA Technology of the 
Intelligent Articulated CMM 
  
 B006  QIN Yuhong, WANG Lei, et al Vision Guided Automatically Measuring in Coordinate Metrology 
  
 B007  Cao Xue-mei, Cao Qing-mei, Xu Hao Geometric error measurement of spiral bevel gears and data 
processing  
 
 B008 YANG Zhaojun, CHEN Fei, ZHAO Ji, et al A Vision Calibration Method for Free-form Surface Polishing 
Robot  
 
 B010  Yang-hongtao, Fei-yetai, Sheng Li, et al Dynamic error modeling of CMM based on Bayesian statistical 
principle  
 
 B011  Guo Jiang, Guo Yinbiao, et al Measuring path planning and surface fitting technology for 
non-axisymmetric aspheric lens  
 
C. Micro-Nano Metrology & MEMS 
 
 C1001  Fang-Jung Shiou, et al Development of a 2-axis Closed Loop Micro-/Nano- Positioning 
Stage Embedded with 2 Fiber Optical Interferometer Systems 
  
 C1004  Chih-Liang Chu, Yu-Hung Liou Development of a low-cost micro-CMM with nanoscale touch 
trigger probe and novel optical encoder  
 
 C1007  Liang-Chia Chen, Chih-Hung Huang Development of fiber-based digital confocal three-dimensional 
surface profilometry  
 
 C020  Yongpeng Wen, Anlin Wang, et al Suspension system design study for a tuning fork vibratory MEMS 
gyroscope 
 
   C029  Weili Wang, Kuang-Chao Fan, , et al    Development of a touch trigger probe for Micro/nano CMM  
 C1003  Yu-Cheng Lin, Chih-Liang Chu Development of a low cost nanoscale stylus probe based on a 
DVDpick-up head 
 
 C1006  Ching-Song Jwo, Lung-Yue Jeng, et al Research of water-base nano-PU paint for heat insulation  
 
C006Wang hongmei, Shi peijing, Cai zhihai, et al Determination of mechanical properties of ultra-thin films by 
nanoindentation and nanoscratch techniques  
 
 C007 BAI Lan, FENG Zhiqing, WU Yihuic, et al Simulations and experimental studies of diffuser/nozzle pumps  
 
 C008 Dan Xie, Honghai Zhang, Sheng Liu, et al Mechanical Properties Investigation of PMMA，PC and PS during 
Thermal Nanoimprinting  
 
 C009  WANG Shuzhen, XIE Tiebang，et al A Novel 3D Profilometer Based on Linear Phase Grating 
Interference 
 
C011  CHEN Fan, FU Xing, LI Meng-chao, et al  The feedback system of Nano-vibration isolation based on 
tunneling effect  
 
 C015  Tang Xiaochuan, Zhang Yufeng, et al  A System-level Simulation of Force-Balance MEMS 
Accelerometers by VHDL-AMS 
 
 C017  Liu Fengli, Hao Yongping  Failure Analysis and Simulation for Micro-cantilever 
 D001  Hong He, Hengtian Jia, et al Application of Drilling Fluid Density Detection Based on 
Intelligent Sensor  
 
 D002  Hairong Zou Nonlinear identification of eddy current sensors based on artificial 
neural networks 
 
 D008  Jiang Mingshun Development of Distributed Temperature Sensor Based on 
Single-mode Fiber  
 
 D012  Yanping SHI, Yi-fi SHI Research and design of the differential dtress densor based on 
magnetoelastic effect 
 
 D013  Ying Huang, Xiaofen Yu, et al  Three-dimensional force flexible tactile sensor Based on robot 
sensitive skin 
 
D014  Min Li, Xin-Yang LI, and Wen-Han Jiang A Linear Phase Retrieval Wave-front Sensor  
 
 D016  Liwen Cao The tensile force sensor of diamond string bead wires and its 
capability target analysis  
 
 D024  Hui Zhang, Yong Ni and Yue Chang Modeling the sensor calibration based on RNN with feature 
extraction  
 
 D030 WANG Gui-mei, WANG Dong-sheng, et al  A Sapphire Fiber Thermometer for High Temperature Measurement 
in Tundish Based on the Fast Fourier Transform  
 
 D031  Li Lifu, Fan Fan Self diagnosis for hot film airflow mass microsensors 
  
 D033 Hongli Chen, Linhui Chen, Changhui Rao Performance analysis of Shack-Hartmann wavefront sensor  
 
D035  Fei GAO, Jiandong MAO Yi ZHOU, et al Mie-Raman lidar for fine-detection of atmospheric aerosol profiles  
 
 D036  Jiandong Mao, Zhen Xie, Min Wu, et al  Ultraviolet Rotational Raman Lidar for High Accuracy 
Temperature Profiling of the Planetary Boundary Layer  
 
 D037  Xie Ying, Wu Fei-qing, Li Lin-gong An Intelligent Wireless Sensor Network Applied Research on 
Dynamic Physiological Data Monitoring of Athletes 
  
 D039  Jiang Xiaoyan Design of silicon piezoresistive sensor’s smart compensation 
system based on MAX1457  
 
 D041  Liu Xiaokang, Peng Donglin, et al  Three Intelligentization Methods for Time Grating Displacement 
Sensor 
 
E. Online Automatic Measurement & Control 
 
 E1001 Syuhei Kurokawa, Yasutsune Ariura, et al Automatic leveling procedure by use of the spring method in 
measurement of three-dimensional surface roughness 
 
E1002 Sun Yun-Ping, Ju Jiun-Yan, Liang Yen-Chu Using Virtual Instruments to Develop an Actuator-based 
Hardware-in-the-Loop Test-bed for Autopilot of Unmanned Aerial 
Vehicle  
 
 E1003  Jong-Hwan Choi Control of Cutting Speed in Turning Process with Varying Cutting 
based on USB Interface 
 
 E051  Tang Ruiyin, He Hongkun, et al  Using Laser Sensor to Detect 2-Dimension Small Size Precision 
Measurement System  
 
 E060  Xianyi Qian Design of missile’s holographic detecting & tracking and control 
system  
 
 E061  Yujun Bao Design of the Net data information acquisition for electric energy 
meter  
 
 E062  Shoucheng Ding,Wenhui Li, et al  The detection system of local mechanical strength of material 
based on double-hole micro-shear 
 
 E064  Zhou Jian-min, Yang Yang Detection of surface defects on steel balls using image processing 
technology  
 
F. Vibration, Stress & Thermal Measurement 
 
F1003 Bin Gu, Dong-Wei Shu, Yusaku Fujii, et al Inertial force measurement of an actuator arm of a hard disk drive 
in free oscillation by numerical analysis and experiments  
 
 F1009  SHIMADA, Kazuhito FUJII, Yusaku Constraints in measuring body mass during simulated microgravity  
 
 F1001  Yeon-Su Kim, Sung-Hyuk Park, et al  Measurement of Running Behaviors in Rubber-Tired Urban 
Railway Vehicle 
 
 F1002  Chin-Shu Wang, Ying-Chih Wang Observation and Measurement of Thermal Phenomenon for 
Pulsating Heat Pipe 
 
 F1005  Sung-Cheol Yoon, Jeongguk Kim, et al  Evaluation of Structural Strength in Carbody of Aluminum Alloy  
 
 F1006  Ching-Song Jwo, Dong-Jin Wu, et al Research and measurement of Property of Pressure drop in Pipe for 
Al2O3 nanofluid  
 
F1007Jie Cheng, Si-Young Kwak, Jeong-Kil Choi ESPI combined with Hole drilling Method to Evaluate the Heat 
Treatment Induced Residual Stresses 
 
F001Suoxian Yuan, X.Q.Li, S.M, Y.C. Zhang, et al  Measurement of the Residual Stresses Distribution in Thick 
Pre-stretched Aluminum Plate  
 
 F006 Huang Yanjiang, Guo Yinbiao, Hong Cefu The key technologies of vibration monitoring research in precision 
machining tool 
 
 F014  Song XianChun, Zhang Zuoying, et al  Experiment Study on the Exciting Factors of Axial Vibration of 
Precision Ball Screw  
 
 F015  Zhang Fu, Wang Jun, FU Sanling, et al  Adaptive Fuzzy PID Temperature Control System based on 
single-chip computer for the autoclave 
 
 F017  Zhang Xueyong, Ma Jianguo, et al  Estimation of the surface tension of ocular cornea  
 
 F018 Guiyin Fang, Fan Yang, Man Zhang, et al  Experimental measurement on characteristics of cool storage air 
Characterization of Optical Microstructure  
 
G020Jia Xuedong, Wang Hongxia, Liu Xiaochuan The Design and Implementation of a Flexible FPGA/DSP Based 
Architecture for Real-time Image Processing  
 
G070CHEN Hong-fang, TAN Jiu-bin, ZHONG Zhi Effect on measurement precision of multipass heterodyne 
interferometer by acceleration and compensation method  
 
 G084  Xiaolei Shan, Dongxian Zhang, et al 3D measurement system of micro organization based on 
two-ray-path scanning  
 
 G093  DU Fang, ZHANG Zhi-jing, Zhang Lin The measurement method of micro-involute spur gear based on 
micro-vision  
 
 G099  Weihu Zhou, Shixiang Wu, et al The miniaturization techniques of optical remote sensors  
 G1009  Chi-feng Li, Chih-Liang Chu Development of a novel optical encoder based on two commercial 
DVD pick-up heads 
 
 G1010  Chih-Liang Chu, Hong-Wei Liao Development of a tri-axial optical accelerometer using two DVD 
pick-up heads  
 
 G003  Liu Guozhong, Li Yunhui, et al Measurement System for 3-D Foot Coordinates and Parameters  
 
 G004Yuekang Shan, Ming Zhou, Tao Hong, et al Automatic Quality Inspection Technology of the Steel Tape  
 
 G008  YANG Anqing A new method combine mathematical morphology with adaptive 
filtering 
 
 G009  Hu chun-hai, Liang hai-ping Wood surface texture inspection using automatic selection band for 
wavelet reconstruction  
 
 G011  Peichang Wang, Zhixue Chang, et al Edge Detection Method for Non-Diffractive Beam Image Based on 
Local Maximum Intensity  
 
 G012  Lu Chengjing, Huang Guiping, et al Deformation Measurement of Antenna Reflector Using 
Photogrammetry in Thermal-Vacuum  
 
 G014 Li Zongchun, Feng Qiqiang, Li Guangyun Dynamic Deformation Measurement Technique Based on 
Binocular Stereo Vision Metrology And a Case Study  
 
 G016 Qin Guiqin, Huang Guiping, Lu Chen-jing Test-range Calibration of Digital Camera’s Inner Parameters  
 
 G018  S.R. Zhang, W.N. Liu New method for measuring the working angle deviation of 
polyhedron  
 
 G019  YANG Ni, WANG Yu-tian A new method of center orientation for glass thickness image 
processing  
 
 G023  SHAO Xiangxin, GUO Shuxu , et al An Improved Image Mosaic Technology by Introducing Gradient 
Factor to Ratio Template Matching  
 
 G025  Zhang Yanyan, Li Mei, Rao Changhui An image processing method to reduce Shack-Hartamnn wavefront 
sensor’s centroid error for daytime detecting  
 
 G026  Guiying YU, Tiantai GUO, et al Study of the characteristics of the two polarized optical waves of 
non-collinear acousto-optical tunable filters  
 
G072  Baoping Xiao, Lijun Xu, Shuigen Ouyang A rapid and accurate solar tracker 
 
 G074 Fu Wei, Cao Jie, Bian Qingqing, Yang Jin The Research of remote servo-control system of a Bomb-Disposed 
Robot  
 
 G075  Weng Guirong, Ye Ping Image Processing and Classification of Metal Materials Based On 
Mathematical Morphology 
 
 G076  Pan Zhongliang, Chen Ling, et al IC Wafer Defect Detection Using Image Segmentation Based on 
Cultural Algorithms  
 
 G077  Fu Yanjun, Chai Minggang, et al Three Dimensional Profilometry Measurement Based on Grating 
Projected Method 
 
 G079Zhu Lingjian, Lin Li, Liu Junhua, et al Measuring straightness error of guide with modulated polarized 
light  
 
 G082Wang Jun, Lu Naiguang, Deng Wenyi, et al Automated Targets Matching for Photogrammetry Based on Bundle 
Adjustment 
 
 G083  Wang Wenyun, Guo Yingfu A fast two-plus-one phase-shifting algorithm for high-speed 
three-dimensional shape measurement system  
 
 G088  Ruwen Chen, Ren Huang, et al A distortion-correction method for workshop machine vision 
measurement system  
 
 G089  Yong Pan, Yuekang Shan, Ji Yu, et al A New Method for Automatically Measurement of the Impress 
Image of Vickers Hardness Using Region-Point Detection  
 
G090  Xiong Xianming, Huang Li, Lin Yanxiong Optical method for testing of the packaging reliability of IC chips  
 
 G094  Yang Musheng, Zhang Yu Application of Hough Transform in Recognition of the Pointer 
Feature of Instrument  
 
 G095  Dong Mingli, Ma Changzheng, et al A Method of Distortion Correction with Parallel Lines  
 
 G096  Li Liaoliao, Ding Xinghao, Xiaoquan Multi-modal Medical Image Fusion Based on Wavelet Transform  
 
H. Measurement Signal Analysis & Processing 
 
 H1003  Feng-Yi Chou, Chan-Yun Yang, et al Support Vector Machine Based Artificial Potential Field for 
Autonomous Guided Vehicle  
 
 H1004  Zhu Pingyu, Hessling J.P Optimal road bump for pleasant speed reduction 
 
 H1006  Y. Zhang, Y. Gao A Computational Fluid Dynamics Study on Gas-Liquid Two-Phase 
Flow for In-Process Optical Measurement 
 
 H1002  Wei-Fang Chen, Hao-Jie Xia, et al  High Precise Signal-Subdivision Method of Grating Based on BP 
Neural Network 
 
 H018  MENG Hao,WANG Zhongyu, FU Jihua Grey Signal Processing and Data Reconstruction in the 
Non-diffracting Beam Triangulation Measurement System  
 
 H039  Shang Yan, Xu Chunguang, et al A method of optical non-contact measurement to rotary part’s 
profile  
 
 H041 Zheng Li, Feilu Luo, Mengchun Pan, et al Application of support vector machine in flaw identification of 
aircraft bolts  
 
 H047  WANG Linhong, WU Bo Analyzing dynamic characteristics of NC table with SVD  
 
 H048  Zhao liye, Li hongsheng A New Method for Gravity Anomaly Distortion Correction  
 
H049 Wang Keyong, Cao Hong, Shang Yan, et al An Intelligent Diagnosing Method to Compressors’ Faults Based 
on Fuzzy RBFNN  
 
               H054 WANG Xiao-qiang, et al    Data processing and error analysis based on measured data of 
airfoil-wainscot  
 
I. Precision Theory & Uncertainty Evaluation 
 
I010  Xin Liming, Xu Zhigang, et al    Error modeling for Tailored Blank Laser Welding machine  
 
 I011Guixiong Liu, Qingui Xu, Furong Gao, et al Analysis of Key Technologies for Virtual Instruments Metrology  
 I1002  Jeongguk Kim, Sung-Cheol Yoon, et al Structural Strength Assessment for Carbody of Container Freight 
Car 
 
 I001ZHONG Yan-ru, GUO De-wei, et al Uncertainty calculation of Ra based on information entropy 
principle  
 
 I004  Zhang Congpeng, Luo Xueke, Liu Qiang Error measuring, modeling and compensation of precision motion 
table driven by linear motors 
 
 I005  Youli Ma Measuring minus diffusion from gas to mineral oil using laser 
heterodyne interferometer 
 
 I008 Sun Yongguo, Sun Yongquan, Guo Jianying New evaluation method of plane line profile error  
 
 I009  Zhao qiancheng, Luo Xiaoli, et al  High-precision Method for Measuring Large Diameter On-line  
 
 I012  XU tongle, ZHANG xinyi Numberical Analysis of Fluid Flow in The Throttle Poppet Valve 
Channel in Precision Machiner  
 
 I013  YU Xian-wen, WANG Qing, et al A two-step precise orientation method of TS with systematic error 
compensation based on FOG  
 
 I014 Kejun Yan, Jun Liu, Feng Gao, Huan Wang Study of geometric errors detection method for NC machine tools 
based on non-contact circular track 
 
 I017  JIANG Min-lan ,Wang Xiaodong , et al Analyze and Application of Whole-system Dynamic Error 
Modeling Theory  
 
I021Qiuju Guan, Furong Gao, Guixiong Liu, et al Dynamic Error Modeling Based on Time Series and Modern 
Spectrum Analysis 
 
 I026  LI Guihua, FEI Yetai, MA Xiushuic, et al Research on the Non-similarity of Thermal Deformation of the 
Gear 
 
High Precise Signal-Subdivision Method of Grating Based on BP 
Neural Network 
 
Wei-Fang Chena , Hao-Jie Xiab, Shen-Wang Linc and Hsueh-Cheng Liaod 
aDept. of Mechanical Engineering, Far East University，Taiwan 744, ROC. bSchool of Instrument 
Science and Opto-electronic Engineering, Hefei University of Technology, Hefei, China. cDept. of 
Industrial and Business Management, Far East University，Taiwan 744, ROC. dDept. of Mechanical Eng. 
National Taiwan Industrial School，Taiwan 710, ROC.
ABSTRACT 
This paper has researched signal processing methods of grating measurement system, and has come out a method to 
subdivide grating signals based on BP neural network. This measuring method focuses on the special property of the 
obtained grating signal. The method also decreases the precision requirement of the signal. When the measuring system 
changes, subdivision models can be altered automatically by software. BP neural networks can subdivide grating signals 
with few sampling points but high magnitude. This subdivide-method combines software and hardware, has simple 
structure, does not require complex circuit, and has a strong adaptive system. 
Keywords: grating, signal-subdivision, neural network, BP network, signal processing 
 
1. INTRODUCTION 
Grating measurement is the problem of counting and subdividing of the grating signal. Up to now, the high precision of 
metrology and detection needs to reach nanometer or sub-nanometer. Currently, the grating density is usually from 20 to 
2000 lines per mm. Thus, in order to reach the above-mentioned precision of measurement, the grating signals are 
needed to subdivide to increase the ability to recognize incomplete one period signal. The development of electrical 
subdividing technology makes it possible to subdivide the grating signals into several hundreds or thousands times. Since 
the MCU methods for subdividing grating signals has the property of simple circuit and low cost, is used widely in 
grating measuring system with the development of integrated circuit. However, because of the speed restriction of the 
device, it is difficult to process high speed measurement under high subdivide magnitude. Because of the presence of 
grating system with high recognizing ability, many special integrated subdivided components with high operating ability 
appears. They can accomplish high speed bus connection with computer, provides a platform for different 
signal-processing software, and combine subdivide measuring software. Grating signal processing system is developing 
towards high subdivide magnitude, wide frequency range, strong adaptive system to signal quality, and intelligent 
processes. 
BP network is a kind of multi-layer forward neural network. Its learning procession consists of forward propagation and 
error reverse propagation. Through the learning and training of network models, the outputted errors by the network can 
be minimized to accomplish the measuring requirements. The subdivision method based on BP network is simple, has 
low cost, is easy to adjust, and combines software and hardware to subdivide Moire signal, increasing the subdivide 
times will not alter circuit and software. So, it has a strong adaptive measuring system. The subdivision method with BP 
neural network on low quality grating signals can still accomplish higher subdivided times. 
 
2. THE SUBDIVISION METHOD  
In the grating displacement measuring system, because the signal transformed from moire interference stripe is 
orthogonal sine and cosine signal; the usual measurement method is to count on the complete period and the signal that 
does not fulfill complete period needs to be counted by subdividing method. If the counted result of the complete period 
increase the training speed, the Levenberg－Marquardt is employed to train the models based on theory of numerical 
optima. The gradient function is: 
eJg T=                         (2) 
J  is the Jacobian matrix, which includes the first order derivative of trained network errors, it is the function of 
weighting values and power value. e  is the network training error, which has 
 eJIJJxx TTkk
1
1 ][ −+ +−= µ                            (3) 
In the repeating process, if the training is successful, the value of µ  would be decreased; if the training is unsuccessful, 
the value of µ  would be increased. The subdivision BP neural network needs to select training sample groups. 
When the movement speed of grating is constant, the time it takes to pass one full period can be measured by a circuit. 
The relationships between the magnitude of the amplitude and the corresponding displacements of the grating can be 
obtained by the same sampling time of the orthogonal signals, and those samplings can be used as subdivision network 
to train the BP model. 
 
4. THE RESULT AND ANALYSIS OF EXPERIMENTS 
In the grating measurement system, all the samples for BP subdivision network start from the zero phase point of 
orthogonal signal, and the zero phase examination can be done by using the circuits or software. In the usual measuring 
system, triggering circuit can be used to detect the zero phase point. After the trigger of zero phase point, the orthogonal 
signals transforms into square wave signals. The increasing edge of two different kinds of square signals can be used as 
the starting point to sample every region of full period signals. The pulse width of every region of the full period signals 
is obtained by measuring the time gaps between the adjacent increasing edges of two different kinds of square signals.  
When the measurement system starts, the samplings are employed to train subdivision networks. Using the increasing 
edge of two different kinds of square signals as sample triggering signal, the sampling software will sample the time 
gaps between two different kinds of orthogonal signals while maintaining a uniform speed motion of the slide way. 
Because of the effects of the speed motion of the slide way and the signal drift, the sampling regions in the same full 
period signal may have different corresponding grating displacement after the signal drift compensation. Theoretically, 
the samples in one subdivision region can be used to train the network; in order to decrease errors caused by A/D 
converter and the zero signal point calculating error, we do not remove the zero drift when sampling. Three adjacent 
regions that have similar width in the sampling region can be used if the widths of the three adjacent regions in the 
sampling region are bT , mT  and fT , and the sampling period is 0T , which satisfies: 





<−
<−
0
0
5
1
5
1
TTT
TTT
mf
mb
                              (4) 
The average value of the corresponding sampling points in the three sampling period and zero drift compensation can be 
used to calculate the sample ratio value of two different kinds of signals. As is shown in Table 1, A represents the 
average sampling point’s value, which is the sine signal adjacent to three periods and minus the value of zero drift. B 
represents the average sampling point’s value, which is the cosine signal adjacent to three periods and minus the value of 
zero drift. S represents the displacement of the corresponding grating movement. The first sampling region between the 
first subdivision region and the second subdivision region has  21 sampling points. The second sampling region 
between the third subdivision region and the fourth subdivision region has 16 sampling points. The difference of the 
sampling number between the sampling regions is because of the phase difference of the two kinds of signals. Normally, 
except the first and the last interval distance, all the other interval distances are arithmetic progression. The model’s 
training samples can be selected by using software, after selecting the training sample, the motion speed of the slide way 
should be altered, and the same method to select sampling training specimen is also used to prove the generalization 
  
In the application software, the relative error function is represented as: 
'
'' ),(
O
InetsimOE −=                                   (6) 
If an allowable error range K is set: 
K
O
InetsimOE <−=
'
'' ),(
                                 (7) 
Then, the network is considered practical. The flow chart of obtaining the subdivide network model is shown below:  
 
 
Fig. 4 Establish flow chart of subdivision network model 
 
When designing the subdivided grating measuring software, the network uses the BP network toolbox in VB and Matlab 
to finish the training data collection and establish the network model. In application, two sampling training specimens 
are selected. The value of K is set according to the quality of the signal. In the measuring system of this experiment, 
K=0.05. When the signal quality is better, we can accomplish 40 times subdivision by the BP model. The practice shows 
that when the training sample point number is above 6 in every subdivision region, subdivision network models with 
higher precision can be acquired. The subdivision times could be greater by using this subdividing method.  
 
5. CONCLUSION 
This paper studied the method to measure the outputted orthogonal signal of grating. The outputted orthogonal signal of 
grating has the same changing trend of the amplitude value, the wave pattern error, the stable phase difference when the 
system phase is fixed, and the lower frequency of drift signal compared to the original signal frequency. Based on those 
properties of the outputted signal of grating, BP network with the strong non-linear map and generalization ability can be 
used to accomplish more times subdivision using limited numbers of sampling points. The experiment shows that the 
high subdivision model can be trained by sampling 6 points in every subdivision region. This grating signal subdivision 
method with neural network can greatly decreases the requirement for circuit hardware, and has stronger adaptive ability 
to the measuring system. According to the developed measuring software, the subdivide network can be trained 
automatically under the field testing environment if the grating has same speed or nearly same speed motion before 
testing. This subdivision method combines the software and the hardware, and the structure of the hardware is simple, 
which provides a way to reduce cost for the high subdivision grating measurement system. 
 
6. ACKNOWLEDGEMENT 
The authors are grateful to the National Science Council of the Republic of China for supporting this research under 
grant NSC97-2221-E-269 -014. 
REFERENCE 
[1]
 Li MingMing, Gong ZhenBang, Research on Neural Network Modeling of Linear Grating Error, Machinery & 
Electronics, 2004, No.6:59~61. 
