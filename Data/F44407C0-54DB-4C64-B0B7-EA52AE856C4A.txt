摘要 
目前有線與無線電信網路中語音傳輸為最主要且普遍的應用，提高傳輸效率及有效降低成本為必
要考量的重點，且語音編碼器必須在最小的位元率，達到通訊品質的要求。MPEG-4 音訊語音編碼標
準中，諧波向量激發編碼器(HVXC)提供 2-4kbps 位元率，經由聽覺實驗，2kbps 位元率的語音編碼器，
應用於對話時所提供的通話品質又比 FS1016 的 4.8kbps 語音編碼器佳。 
本計畫中主要的研究是以 MPEG-4 低率語音編碼標準-諧波向量激發編碼為基礎，首先對該類型
語音編碼器編碼效率之提昇，及語音品質之改進進行研究，並提出可能的演算法並測試其效能，將本
研究計畫所提出的改善演算法實現在原本的編碼器上，以改善低位元率的語音品質及編碼速度。 
 
(一) 前言 
隨著視訊及音訊壓縮技術的進步，伴隨網際網路及行動電話的普及，以及超大型積體電路成本降
低與個人電腦速度的提昇，使得將語音壓縮器實現於 DSP 晶片上的多媒體通訊系統，已經成為大眾化
的產品。MPEG-4 的語音編碼部分在頻寬(Bandwidth)、編碼/解碼器複雜度(Complexity)等，都具有相
當的可調性，故可提供在不同的環境下所需的語音品質。MPEG-4 低位元率音訊編碼器具有其他編碼
器所無法提供的低率位元優勢，在現今多媒體時代，此編碼器對於產業相當具有價值。 
為了達到低位元率且具有高品質效果，本研究以 MPEG-4 中的 HVXC (Harmonic Vector eXcitation 
Coding)音訊壓縮標準，改善頻譜封包振幅偵測方式，提高振幅準確性，以提昇音訊品質。在本論文中，
將在第二章概述 HVXC 編碼器的架構，第三章介紹 HVXC 諧波頻譜波封估測的產生流程及各個步驟，
第四章研究方法及結果，最後為結論與未來工作方向。 
 
(二) HVXC 編碼器的架構 
HVXC 語音編碼器與一般語音編碼器一樣先將原始語音以 8kHz 取樣，再以 160 個取樣點為一個
音框(frame)，每個音框會先經過高通濾波器，去除直流值，做前處理的動作。HVXC 語音編碼系統，
分別做有聲及無聲語音處理，且分別採用不同之編碼方式，對有聲語音處理使用諧波編碼架構，無聲
語音處理採用向量激發編碼架構。本研究計畫提出諧波頻譜波封估測演算法，改善語音品質，故此章
節只針對有聲語音架構作說明： 
有聲語音部分，將做完前處理的信號以 LPC 分析，求得 LPC 係數，從 LPC 係數得到口腔模式，
將原始語音信號反饋入口腔模式以獲得 LPC 殘值信號，以 256 點做 DFT 轉換，與所估算出的開迴路
基週，將這些信號做頻譜分析處理，以求得諧波波封振幅及精確的基週值(fine pitch)。再將所有諧波
頻譜振幅所組成之頻譜封包向量(Spectral Envelope Vector, SEV)，以向量量化(SEVQ)方式找出最佳的
碼字及增益，並傳送最佳碼字索引值到解碼端，即完成有聲語音編碼工作。此架構與 ITU 所提出的語
 )()(ˆ jEAjX m=  (2) 
其中 )( jE 為漢明視窗(Hamming window)的頻率響應。將漢明視窗頻譜振幅的最大值對應到每個頻帶的
中心，也就是基本頻率的諧波頻率(harmonic frequency)，近似原始 LPC 殘值信號的頻譜。 mA 為每個
頻帶的諧波振幅，為了求最佳的 mA ，將(1)式對 mA 做偏微分，可以獲得下式： 
 
( ) ( )
( )∑
∑
=
==
m
m
m
m
b
aj
b
aj
m
jE
jEjX
A
2
  (3) 
當精確的基週值求出後，即可找出每個頻帶上的諧波振幅，整組諧波振幅組成一個頻譜封包向量，然
後做頻譜封包向量量化。 
 
(四) 研究方法及結果 
編碼器諧波頻譜波封振幅估測的流程中，發現有幾個問題： 
1. 一個語音音框的基週是隨著時間緩慢改變，基週值隨時間作線性變化。此語音編碼器作波封
頻譜振幅搜尋時，則假設在一個編碼音框範圍內，基週值是固定不變，此假設與實際的語音
信號不同。 
2. 原始信號頻譜與合成信號頻譜的差值，是取每個頻帶頻譜誤差的加總，而非從每個頻帶的差
值中，算出頻帶頻寬。加總的作法會將頻帶誤差大的及頻帶誤差小的平均，忽略掉各個頻帶
誤差的效應，而所算出的誤差為整體誤差，則所算出的諧波頻譜波封振幅不精準。 
3. 分數基週值的搜尋中，雖分為兩部分搜尋，以第50個頻帶為分界點，分別算出兩個新的分數
基週值，但在後面的步驟中，估算每個頻帶的波封振幅時，則又以頻帶中心點50及54為分界，
分別以兩個新的分數基週值代入，分別算出兩段不同頻帶寬度的振幅，而最後分數基週選擇
低頻帶fpitch_l。 
基本頻率的各個波封頻帶之頻寬範圍與基週值相關，而且各個頻帶之頻譜，因基週值會隨時間變
化，使得每個波封頻寬皆不一樣，會產生諧波頻譜波封振幅估測誤差大，並導致合成信號頻譜有較大
之失真。 
我們將頻帶128點分為四個區塊，分別為A：1~25，B：26~50，C：51~89，D：89~128，作頻譜
誤差平方和統計如表一，其中呈現誤差平方和的區域A<B<C<D的音框大部分落在母音。圖一為統計
語音中的一個音框，從時域中可以看出週期接近一樣，但又不完全一樣，主要是母音的基週是緩慢變
化，而非完全的週期性信號，頻域的每一個頻帶的寬度並不完全相同，故一個音框只使用一個基週，
則最後頻帶的振幅會有很大的誤差，D段的誤差最大，A段的誤差最小。 
 
 
圖二 不同頻段數目的語音波封頻譜及漢明視窗頻譜 
 
圖三 基週選擇 fpitch_l 最低頻帶分數基週 
 
 
圖四 基週選擇中間頻帶的分數基週 
國科會補助計畫衍生研發成果推廣資料表
日期:2011/10/31
國科會補助計畫
計畫名稱: MPEG-4 HVXC 編碼器快速演算法之研究
計畫主持人: 蔡淑敏
計畫編號: 99-2221-E-346-006- 學門領域: 自然語言處理與語音處理
無研發成果推廣資料
其他成果 
(無法以量化表達之成
果如辦理學術活動、獲
得獎項、重要國際合
作、研究成果國際影響
力及其他協助產業技
術發展之具體效益事
項等，請以文字敘述填
列。) 
無 
 成果項目 量化 名稱或內容性質簡述 
測驗工具(含質性與量性) 0  
課程/模組 0  
電腦及網路系統或工具 0  
教材 0  
舉辦之活動/競賽 0  
研討會/工作坊 0  
電子報、網站 0  
科 
教 
處 
計 
畫 
加 
填 
項 
目 計畫成果推廣之參與（閱聽）人數 0  
 
