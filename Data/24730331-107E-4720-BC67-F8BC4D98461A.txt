機器人的下方為自走車運動結構，為了加快
機器人搶球時的速度，我們採用以兩輪為主輪裝
置在自走車的前瑞，加上一輔助輪在自走車的後
瑞，以減小自走車的迴轉半徑。為使自走車能夠
兼具抓球及投球的功能，本實驗採用的投球機構
為一可以 360度旋轉的投射桿，在抓球時給予極
小的電壓，使自走車能將球帶進投射預備位子，
而當找到目標物而確定要投籃時，電腦會依目前
與籃框之距離經過判斷後，會下達指令使單晶片
給予馬達適當的電壓。 
機器人之投射機構置於機器人的中間，由兩
顆 9V 直流馬達、齒輪、連桿以及盤球架所構成，
欲投籃時，我們通以 9V PWM 訊號給兩顆投射機
構之馬達，此時馬達將經由齒輪迅速帶動連桿與
盤球架將球上拋（如圖二所示）。 
 
      圖二 抓球及投籃動作 
 
投射力道的控制則由在鏡頭上的雷射光模
組、依在影像中所在的位置經由影像處理後送出
由單晶片送出 PWM 使機器人能投出遠近不同的
距離，圖二為 PWM 示意圖及不同力道所能投出
的距離。 
 
圖二(a) PWM 示意圖 
 
圖二 (b) 投射軌跡 
 
由於力道若單由影像處理來判斷與籃框之
距離的話，會較不準確，且影像會依光的亮暗有
相當的變化，所以本實驗加入了雷射光筆以更準
確的判斷機器人與籃框之距離。而雷射光筆則架
在鏡頭的上方，以確保光點會出現在影像上，然
後依影像投影的三角幾何公式，可以較準確的算
出現在的位置，輔以籃框面積大小的判斷，而決
定投籃的力道，雷射光點在攝影機中的成像情形
如圖三所示。 
 
    
圖三 雷射光點在攝影機中成像情形 
 
本實驗採用平價之 NTSC 介面無線針孔攝影
機，固定於機器人前方，鏡頭水平方置，使得機
器人在有效投射距離範圍內均能擷取到目標物
之完整輪廓，如圖四所示。 
 
 
圖四 攝影機擷取所需資訊 
 
           圖六  成像原理 
圖六中的 X, Y, Z 為實際中影像的長寬高， x, 
y, z 為影像中的長寬高，f 為焦距， b 為雷射模組
跟鏡頭中心的距離，θ 為雷射模組跟鏡頭所夾之
角度。 
 
             圖七 電腦中的影像 
而經三角形的幾何關係公式可知，我們只要
知道 x 的大小（如圖七所示）即可算出 Z，Z 是
視深，也就是機器人與籃框的距離，有了距離之
後，我們即可依距離的遠近而決定投籃的力道，
進而更精準的完成投籃動作。 
 
3.3 位置控制 
在此階段我們固定投射機構於某一投射角
度,因此可計算出欲投進球的距離。首先利用視
覺並驅動馬達進行左右對準的工作,接著依籃框
面積大小調整與籃框之間的距離,定位控制達穩
態後將球投出。 
投籃機器人在做定位控制時，會依籃框質心
離中心點距離的大小做等比例的左右對正，而當
籃框質心離中心點在可接受範圍內時，才會進行
距離判斷，進而將球投出，若在範圍外時，則會
進行微調，直到正對籃框為止。 
 
圖八 機器人的視覺伺服 
而當對手也就是障礙物出現在影像中時（如
圖九中的粉紅色），當它的像素總合大於籃框
時，就會進入閃避對手的功能，而機器人會依它
的面積大小以及質心位置做判斷，來決閃避時該
旋轉的距離，來完成避障動作，然後投籃。 
 
圖九 對手在影像中時 
經由實驗測試，我們可以得到一個雷射光點
離影像中心點距離（即 x）與投籃力道的關係圖， 
如圖十。 
 
圖十 雷射光點影像 x 與力道關係圖 
