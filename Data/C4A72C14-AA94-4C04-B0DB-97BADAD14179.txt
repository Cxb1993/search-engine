  
中文摘要 
在無線網路架構中的資源限制較有線網路大，在無線網路中的排程設計與網路
資源管理和通訊排程有密切的關聯，妥善分配資源的排程方式可以達到提升系統效
能的目的。IEEE 802.16j 是針對原有的IEEE802.16 標準加入了中繼台結構，目的
為對處在涵蓋範圍邊緣的行動台或是處在基地台死角的行動台提供服務，或是在基
地台布建不易的地方使用多躍式傳遞訊息的技術。而此新結構的加入，使得原本的
排程方式必須做出改變。 
本計劃提出一個分散式排程的機制，此機制適用於非穿透式基地台的網路系統
中，目標為達到WiMAX 對服務品質的保障，透過動態方式以滿足不同使用者的需求，
對於即時通訊服務類型的使用者達到較高的服務品質保證，並且盡量維持各連線間
的公平性。除此之外，還設計一項頻寬使用回報機制，使得基地台得以對其所管轄
之中繼台有效的調節頻寬。 
 
 
關鍵字：分散式;微波存取全球互通技術;中繼;802.16j 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
  
壹、背景、動機及目的  
在 國 際 標 準 組 織 (ISO) 所 公 佈 的 開 放 系 統 連 接 模 式 (Open System 
Interconnection)中，位於資料鏈結層(Data Link)中的媒體存取控制子層(Medium 
Access Control Layer, MAC Layer)是負責控制使用者存取媒體和使用資源的權力，
而在媒體存取控制子層中的排程器(Scheduler)設計則關係到系統決定使用者享受
服務的順序及獲得資源的多寡。若能在此層中使用一個良好的排程器將能有效的提
升整體網路的服務效能，甚至能決定在訊號不互相干擾的情況下重複利用資源[1]，
系統效能的有效發揮以及系統資源的有效利用將仰賴於排程器的排程演算法
(Scheduling Algorithm)，因此排程器的設計在系統的整體效能上扮演著重要的角
色。 
在IEEE 802.16的標準制定中，除了支援使用者以無線存取方式上網之外，尚且
支援具有移動性的使用者，對於處在移動狀態中的用戶，提供高傳輸速率及高穩定
度的服務品質(Quality of Service, QoS)[2]。於正常情況而言，無線網路系統中
的資源配置較有線網路中來的複雜，因此無線網路系統中的排程器在設計上也比有
線網路中要困難上許多。其原因在於無線網路的環境中，無線資源管理(Radio 
Resource Management)必須將有限的網路資源做適當的分配，並且要考慮到無線電
干擾(Radio Frequency Interference)之下的通道狀態資訊(Channel Status 
Information)變化情形，在通訊環境經常發生變化的情況之下，排程器必須做出適
合的排程方式來給予所有使用者應有的服務品質保證，並且發揮系統的最大效能。 
在現今的無線接取網路(Radio Access Network)架構中，主要由眾多的基地台
(Base Station, BS)與移動用戶端(Mobile Station, MS)組成，藉由基地台位置的
規劃來使得訊號得以完整的覆蓋特定區域。然而基地台涵蓋範圍經常會受到地形或
是遮蔽物產生的遮蔽衰落(Shadow Fading)效應所影響[3]，這種情況使得有效涵蓋
範圍降低或是在涵蓋範圍內的某些區域遭受訊號衰減的嚴重影響，因此要藉由中繼
台(Relay Station, RS)的訊號轉傳來服務無法透過基地台存取網路的區域，且此種
方式也能有效降低網路系統的成本。IEEE 802.16j中繼工作小組(Relay Task Group)
此刻正制定之中繼(Relay)技術標準是目前IEEE 802.16標準制定組織中最受全球電
信大廠重視且積極參與之新技術標準，其目的在強化以IEEE 802.16標準為基礎之無
線寬頻網路系統效能，並期望藉由新型中繼台的開發以協助降低整體系統之佈建成
本，並增加系統佈放的彈性[4]。而依據中繼台功能性上的區別，可以將排程器中排
程演算法的設計分為兩大類，其中一類為「集中式排程 (Centralized 
Scheduling)」，此為網路系統尚未加入中繼台之原有的排程方式，將排程所需的資
料集中至基地台交由基地台的排程器處理；而另一類為「分散式排程(Distributed 
Scheduling)」，此為網路系統中有中繼台的情況下才得以使用的排程方式，主要特
色為中繼台擁有各別的排程自主權，此種排程方式除了分散基地台工作量之外，還
可依照排程器中排程演算法的設計來達到不同的需求以提升整體網路效能。 
然而IEEE 802.16j中對於排程器的運作方式尚為一項開放的議題(Open 
  
z 分時雙工技術(Time Division Duplex, TDD) 
此技術為IEEE 802.16 所定義的傳輸模式之一，主要透過上行與下行之間的時
間長度調整來彈性的調節上行與下行的傳輸速率比，因而成為無線寬頻網路實
際布建時的傳輸模式主流。 
z 支援服務品質(Quality of Service, QoS)的保證 
在MAC 層中，透過不同使用者建立不同的需求參數，藉由不同的需求參數提供
使用者有區別的服務方式，透過此種方式來確保得以滿足各連線的QoS。 
z 支援行動用戶(Mobility Available) 
對於處在移動狀態的使用者，IEEE 802.16 透過定義行動上網的相關協定，來
確保有效的支援使用行動服務的用戶。 
2-1-2 IEEE 802.16 標準之QoS 介紹 
IEEE 802.16 的標準中，依據不同的需求特性定義了五種服務類型，分別為「非懇
求授權服務(Unsolicited Grant Service, UGS)」、「延伸即時輪詢服務(Extended 
Real-Time Polling Service, ertPS)」、「即時輪詢服務(Real-Time Polling Service, 
rtPS)」、「非即時輪詢服務(Non-Real-Time Polling Service,nrtPS)」及「最佳
努力服務(Best Effort, BE)」。對於所有的連線而言，將會依照各自的需求被分類
為適合的服務類別當中，以下將針對這五種服務類別進行簡介。 
z 非懇求授權服務(Unsolicited Grant Service, UGS) 
UGS 類別服務對象主要是針對週期性產生固定封包大小的及時性資料，例如
T1/E1 或是沒有經過無聲壓縮(Silence Suppression)的VoIP(Voice over IP)，其
資料留有及時性與週期性的特色。對於這類服務而言，系統將提供固定的頻寬並在
建立連線時即達成協定，因此不需要由連線者提出頻寬變更要求。 
z 延伸即時輪詢服務(Extended Real-Time Polling Service, ertPS) 
ertPS 類別與UGS 類別同樣具有即時性及週期性的特色，兩者的差異在於ertPS 
的封包大小並不固定，因此其頻寬需求可以依照連線提出的要求而更動，例如經過
無聲壓縮的VoIP 即屬於此類型。 
z 即時輪詢服務(Real-Time Polling Service, rtPS) 
rtPS 類別主要是指在一週期內產生非固定封包大小的即時性資料流，例如
MPEG(Moving Pictures Experts Group)。 
z 非即時輪詢服務(Non-Real-Time Polling Service, nrtPS) 
nrtPS 類別為非即時性且資料量不固定的資料流，例如檔案傳輸(File 
Transfer Protocol, FTP)即為此類別。 
z 最佳努力服務(Best Effort, BE) 
BE 類別與nrtPS 類別皆為非即時性且資料量不固定的資料流，其差異在於
nrtPS 類別需考量其最小保留流量速率(Minimum Reserved Traffic Rate)而BE 則
不必，也就是說BE 類別並不需要資料流量速率的保障，例如超本文傳輸協議
(Hypertext Transfer Protocol, HTTP)及電子郵件(Email)皆為此種類型。 
2-2 多躍中繼技術介紹 
  
克服許多中繼台相關的技術。中繼台依照是否廣播框架前導訊號(Preamble)、上行
鏈結排程訊息(UL-MAP)與下行鏈結排程訊息(DL-MAP)，可分為穿透式中繼台
(Transparent Relay Station) 與 非 穿 透 式 中 繼 台 (Non-Transparent Relay 
Station)，而其中非穿透式中繼台其結構支援廣播框架前導訊號，穿透式中繼台則
否。使用穿透式中繼台雖然系統複雜度較低，但是基地台卻無法服務涵蓋範圍之外
的使用者，因為使用者無法透過穿透式中繼台達成同步。若是使用非穿透式中繼台，
使用者可以依照非穿透式中繼台所廣播的框架前導訊號達成同步，有減少通訊死角
與增加基地台涵蓋範圍的優勢。 
在IEEE 802.16j 的標準中，定義了兩種中繼台架構，可以依照中繼台之框架結
構將其分為兩類： 
1. 穿透式中繼台(Transparent RS) 
如圖二所示，此框架結構為IEEE 802.16j 標準中所定義的二躍式穿透式中繼傳輸
(2-hop Transparent Relaying)技術，圖中包含了基地台的框架結構(MR-BS Frame 
Structure)與穿透式中繼台的框架結構(Transparent RS Frame Structure)。根據
傳輸的時間先後順序，其框架又再依資料傳輸的方向區分為下行子框架(DL 
Subframe)與上行子框架(UL Subframe)。 
 
圖二、基地台與穿透式中繼台之框架結構圖 
  
於基地台之框架結構中，其下行子框架可分為行動台下行區(DL Access Zone)
與中繼台下行區(DL Relay Zone)，而上行子框架的部份則可分為行動台上行區(UL 
Access Zone for MS)與中繼台上行區(UL Relay Zone)。在非穿透式中繼台的框架
結構部份，其下行子框架可分為行動台下行區與中繼台接收模式區，而上行子框架
可分為行動台上行區與中繼台上行傳送模式區兩部份。在非穿透式中繼台的網路架
構中，若要透過其使用二躍式中繼傳輸，在下行部份，透過中繼台下行區將資料先
由基地台傳送至中繼台，中繼台再將資料由行動台下行區轉送至行動台；上行部份，
行動台在中繼台之行動台上行區上傳資料，中繼台接著利用其中繼台上行傳送模式
將資料轉送給基地台。 
2-3 相關研究 
2-3-1 排程模式介紹 
在IEEE 802.16j 標準中所新加入的中繼台結構改變了原本針對IEEE 802.16 所
討論之排程模式，由於非穿透式中繼台支援可傳送框架前導訊號以及排程訊息的緣
故，在IEEE 802.16j 的標準中將網路系統的排程方式分為集中式排程(Centralized 
Scheduling)與分散式排程(Distributed Scheduling)兩種模式。其排程方式差異如
表一所示，集中式排程將排程所需的資料由基地台統一處理之後進行排程工作，而
分散式排程則是基地台與中繼台個別對本身所負責管轄的使用者進行排程工作，其
中穿透性中繼台由於其無法廣播框架前導訊號的特性，因此不適用於分散式排程。
然而由於無論是穿透式中繼台或是非穿透式中繼台皆隸屬為某個基地台所管轄，因
此儘管非穿透式中繼台有能力替本身所負責的使用者進行排程，但這些使用者的管
理仍然是由基地台所控制。在IEEE 802.16j 的標準中，僅對於排程的模式給予功能
性區別的定義，並無詳細制定其實作方式，而針對排程器與排程演算法之研究亦尚
未完整，因此在排程議題上留下許多的討論空間。 
表一、中繼台功能與排程方式差異表 
YESYESSystem with 
Non-Transparent RS
NOYESSystem with 
Transparent RS
Distributed SchedulingCentralized Scheduling
2-3-2 相關文獻 
隨著WiMAX 的發展，許多圍繞著IEEE 802.16 標準的相關研究也跟著密切進
行，其中排程議題一直是一項熱門的研究對象，近年來針對此議題，相關文獻數量
極為眾多，其中以服務類型為主(Service Based)為概念的排程演算法，較適合用於
無線寬頻網路中。所謂服務類型為主即為針對不同服務類型的連線給予不同的服務
方式，對於IEEE 802.16 中所定義的不同通訊服務類別而言，此種方式較能針對不
同的使用者達到其所需要的服務品質，而在無線寬頻網路中令每個使用者能依照其
  
参、研究方法及進行步驟 
本計劃之目的在於設計一個適用於IEEE 802.16 網路下的高效能排程機制，在
不違背IEEE 802.16標準中不同服務類型使用者的服務品質保證之下，提高系統的服
務效能，並且使用動態調整頻寬配置的方式使得頻寬得以最恰當的方式分配。依據
不同服務類型的連線滿足其要求的QoS，對於即時通訊服務類型(Real-Time Service) 
加強服務品質的保證， 同時盡量兼顧到非即時通訊服務類型(Non-Real-Time 
Service)的最低享有頻寬，避免出現較低服務等級服務中斷的現象。 
根據上述內容為主要目標，並且在使用非穿透式中繼台(Non-Transparent 
Relay Station)的網路拓墣(Network Topology)中，利用其幫助基地台分擔排程工
作並且提高網路涵蓋(Network Coverage)的特性，本研究計畫擬提出一個分散式排
程演算法(Distributed Scheduling Algorithm)，稱之為「即時通訊服務為主的可
適性排程機制(Adaptive Real-Time-Service-Based Distributed Scheduling 
Scheme)」，在後續計畫說明中，將此機制簡稱為「RTDS」。 
本研究預計於計畫中將RTDS 分為三部份進行研究，分別為優先權的分派
(Priority Assignment)、資源的配置(Resource Allocation)以及優先預留頻寬的
調整(Preserved Bandwidth Adjustment)。在接下來的説明中將會描述各部份之作
法構想。 
RTDS
Priority Assignment Resource Allocation Preserved Bandwidth Adjustment
Service Type 
Ranking
Priority 
Adjustment
Bandwidth
Requirement
Calculation
Bandwidth
Allocation
Bandwidth
Status Report
Preserved
Bandwidth
Re-Allocation
 
圖五、RTDS 架構圖 
圖五為本計劃所提出的RTDS 架構圖，在「優先權的分派(Priority 
Assignment)」部分可以分成兩個部份，一個是「服務類型的排序(Service Type 
Ranking)」，而另一個是「優先權的調整(Priority Adjustment)」。在「服務類型
的排序」中，針對每條連線所屬的服務類型作出優先權的量化，主要的功能是區分
出不同服務類型該擁有的起始優先權之值，對於即時通訊服務類型而言將擁有比非
即時通訊類型較高的優先權。接著對每條連線做「優先權的調整」，在這個步驟將
區分為兩部份進行，一個是「優先權的提升(Priority Promotion)」，而一個是「優
先權的下降(Priority Diminution)」。在「優先權的提升」中，針對無法獲得充足
  
2. 資源的分配(Resource Allocation) 
在完成各連線之優先權排序後，由優先權高至低的連線配置適當的資源，由於
無線網路中資源有限，因此使得每條連線之資源配置盡量滿足其服務品質是本節之
重點。圖七為資源分配之架構圖，其工作分為兩個步驟進行，分別為「頻寬需求之
計 算 (Bandwidth Requirement Calculation) 」 和 「 頻 寬 分 配 (Bandwidth 
Allocation)」。 
由於每條連線隨著時間的進行會影響其頻寬需求之變化，因此需要透過「頻寬
需求之計算」來找出每條連線於傳訊框架中的需求量，此需求量包括頻寬需求之上
限與下限。在計算出頻寬需求後，對各條連線進行「頻寬配置」的動作，而此步驟
將分為三種情況來討論，其目標皆以優先滿足即時通訊類型服務為前提，在此前提
下也將盡量滿足每條連線的最低需求頻寬，以加強各連線間的公平性。 
Bandwidth 
Requirement 
Upper Bound
(UB)
Resource Allocation
Bandwidth Requirement 
Calculation Bandwidth Allocation
UGS & ertPS & rtPS
& nrtPS & BE
Bandwidth 
Requirement 
Lower Bound
(LB)
Case 1 :
UB < System
Case 3 :
LB < System
Case 2 :
LB < System < UB
Assign
Upper Bound
Assign
Lower Bound
Additional Assignment 
for Connections 
with Critical Packets
then Others
Assign
Lower Bound
According to 
Priority,
Serve RT First
 
圖七、資源分配架構圖 
3. 優先預留頻寬的調整(Preserved Bandwidth Adjustment) 
「優先預留頻寬(Preserved Bandwidth)」的機制，其主要目的為保障透過中繼
台轉傳之即時通訊服務類別連線的服務品質。此機制分為兩個部份，一個為頻寬使
用情況報告(Bandwidth Status Report)，另一個為預留頻寬的重新分配(Preserved 
Bandwidth Re-Allocation) 
肆、模擬結果與探討 
本研究透過程式模擬，呈現IEEE 802.16j網路環境底下的排程演算法運作情
形，並且將本研究提出的方法與其他具有代表性的相關文獻做比較，比較的重點在
於系統整體效能、平均封包延遲時間及封包丟棄率。 
在本章中首先針對模擬程式中的相關設定做簡單的介紹，包括網路環境的設定
  
表二、模擬參數表 
120 BytesPacket size of BE
10 MTotal Bandwidth
unlimitedBuffer Size
5 msFrame Duration
30000 framesSimulation Time
6 : 4Ratio of DL : UL
Poisson’sMS Distribution
160 BytesPacket size of UGS
160 BytesPacket size of ERTPS
240 BytesPacket size of RTPS
120 BytesPacket size of RTPS
6Amount of RS
1.5 kmTransmission Range of RS
5 kmTransmission Range of BS
1Amount of BS
ValueName
 
4-2 模擬數據與比較分析 
在本章中，將會對 RTDS 的模擬結果與 PQ 及 DFPQ 排程方式的模擬結果做比較與
分析，本模擬之目的欲觀察網路系統中的三種現象及關係變化，第一項是「即時通
訊類別之封包平均延遲時間」，第二項是「封包延遲與系統負載度之關係」，而第
三項是「封包丟棄率與系統負載度之關係」。 
z 即時通訊類別之封包平均延遲時間 
  
 
圖十、封包延遲與系統負載度之關係圖 
z 封包丟棄率與系統負載度之關係 
圖十一為封包延遲時間與系統負載度之間的關係圖，在模擬時固定系統負載度
來得到較準確的封包丟棄率平均值。PQ在系統負載超過50%時，便開始產生封包丟棄
的現象，其比率增加的幅度較另外兩種方法來的大；而DFPQ在系統負載超過60%之後
開始出現封包丟棄的現象。本研究所提出的RTDS在封包丟棄率上的表現雖然較為接
近DFPQ，但是由於RTDS可解決部分緊急封包的排程問題，因此封包丟棄率隨著系統
負載增加的情況上，並不如其他兩者來的嚴重。 
 
圖十一、封包丟棄率與系統負載度之關係圖 
  
Scheme in IEEE 802.16 Networks,＂ IEEE Wireless Communications and 
Networking Conference, 2007. WCNC 2007. Page(s):2457 – 2462, 11-55 
March, 2007. 
[10] Safa H., Artail H., Karam M., Soudan R., Khayat S., “New Scheduling 
Architecture for IEEE 802.16 Wireless Metropolitan Area Network,＂ 
IEEE/ACS International Conference on Computer Systems and Applications, 
2007. AICCSA ＇07. Page(s):203 – 210, 13-16 May, 2007. 
 
[11] Thaliath J., Joy M., Priya John E., Das D., “Service Class Downlink 
Scheduling in WiMAX,＂ International Conference on Communication 
Systems Software and Workshops, 2008. COMSWARE 2008. Page(s):196 – 199, 
6-10 Jan. 2008. 
 
[12] Po-Chun Ting, Chia-Yu Yu, Chilamkurti N., Tung-Hsien Wang, Ce-Kuen 
Chieh, “A Proposed RED-based Scheduling Scheme for QoS in WiMAX 
Networks,＂ International Symposium on Wireless Pervasive Computing, 
2009. ISWPC 2009. Page(s):1 – 5, 11-13 Feb. 2009. 
[13] Jian-Feng Chem, Wen-Hua Jiao, Hong-Xi Wang, “A Service Flow 
Management Strategy for IEEE 802.16 Broadband Wireless Access Systems 
in TDD mode,＂ IEEE International Conference on Communications, 2005. 
ICC 2005. Volume 5, Page(s):3422 – 3426, 16-20 May, 2005. 
 
 
 
 
 
 
 
 
 
 
 
 
 
  
發表論文 
 
An Instantaneous Data Dissemination Mechanism with Mobile Sinks in 
Wireless Sensor Network 
 
Ying-Hong Wang, Kuo-Feng Huang, Yang-Ming Huang, and Shao-Wei Tsao 
 
Department of Computer Science and Information Engineering Tamkang University  
Tamsui    Taipei County 251    Taiwan  
Email: inhon@mail.tku.edu.tw, 896410148@s96.tku.edu.tw, taekwondo0525@hotmail.com how4205@gmail.com 
 
 
Abstract--In wireless sensor networks, sensor nodes will 
transmit the sensing data to sink through multi-hop, this 
kind of transmission will cause the hotspot problem, and 
also the effectiveness of sensing data will be decreased in 
larger network environment. To solve all these problems, we 
propose an instantaneous data dissemination mechanism 
which can use multiple mobile sinks to collect the sensing 
data. We assume mobile sinks have timer and time 
synchronized. Mobile sinks will periodically update the time 
stamp of sensor nodes, nodes will decide to broadcast the 
sensing data or not by comparing the time stamp when event 
occur. The sensing data will reach mobile sinks by doing this 
repeatedly without any location information. 
 
Keywords--Wireless Sensor Networks; Multi-hop; Mobile Sinks; 
Time Stamp; Broadcast. 
 
 
I.INTRODUCTION  
Due to the advancement of wireless communication 
and the microelectronics technology, wireless sensor 
networks (WSNs) has become an exciting field and 
brings many applications such as battlefield surveillance, 
ecology observation, etc. WSNs is a type of wireless ad 
hoc networks, it consists of hundreds of thousands of 
wireless sensor nodes. Sensor nodes will send sensing 
data back to the sink through multi-hop transmission. 
This kind of transmission will cause the hotspot problem 
which means nodes around the sink will deplete their 
energy quickly and become the bottleneck of network, 
 
 
and also the effectiveness of the sensing data will 
be decreased in larger network environment. 
 
In [3], the authors indicate that using multiple 
mobile sinks can reduce transmission latency 
significantly. In this paper, we propose an instantaneous 
data dissemination mechanism which can utilize mobile 
sinks to solve problems that mentioned before. It applies 
an algorithm named Time Stamp Data-flow 
Broadcasting (TSDB) for data transmission. The main 
purpose of this mechanism is to deliver the sensing data 
from source to mobile sinks without any location 
information. Besides, it has less energy consumption 
compared to the other similar mechanisms. 
 
The rest of the paper is organized as follows. 
Section 2 is the related works. Section 3 describes in 
detail about the operation of TSDB. Simulation results 
and performance comparison are shown in Section 4. 
Finally, the conclusion and future works are made in 
section 5. 
 
II. RELATED WORK  
How to report the sensing data is the most common 
problem in WSNs and many data dissemination 
mechanisms or routing algorithms are brought up to 
handle it. According to the difference of data report type, 
we can divide those mechanisms into two types. The first 
one is called “Query Driven”. In this data report type, 
network administrator will send query messages through 
sink into the WSNs and node which has the information 
or data that conform with the query will send data back 
  
 
adapted from [4] to eliminate the redundant 
broadcast data packet in the data dissemination phase of 
TSDB. In the later section, we will discuss how these 
parameters work in TSDB in the following section. 
 
B.      Normal Phase  
After node deployment, mobile sink will start their 
timer and begin to move. After a time period, mobile sink 
will broadcast a local update message to sensor nodes 
under its coverage. This update message contains the time 
value of the moment that sink broadcast. Nodes receive 
this update message will change their time stamp to this 
time value. This operation for the usage of single mobile 
sink is shown in Figure.4: 
 
 
Figure.2 Network Model  
As we can see, sensor nodes are evenly distributed in 
the network. The distance between nodes (D) is equal to 
2/3 times transmission radius (RT). The reason for this 
arrangement is because TSDB is a broadcast-based 
algorithm, we have to make sure that sensor nodes can 
directly communicate with their eight direction neighbor 
nodes, and also to limit the broadcast region in case over 
broadcasting. 
 
Each sensor node has to maintain a node information 
table (NIT) as shown in Figure.3: 
 
 
 
 
 
 
 
 
 
 
 
Figure.3 Node Information Table  
There are several parameters in the NIT, NID is the 
unique global identification for a node. TS is the node’s time 
stamp, default is 0. DMode is a short for dissemination mode, 
there are two modes with it, the Source Mode and Sensor 
Mode, default is Sensor Mode. SID and PID are 
 
Figure.4 Single Mobile Sink Update  
As Figure.4, mobile sink is set in the left top of the 
network, each sensor node has a number on it and this 
number stands for its current time stamp. After network 
initialization, sink will and begin to move and broadcast 
update message every (2.5D/Speed of Sink). This value is 
assumed to be 15 in Figure.4, when mobile sink move to 
point A and broadcast update message, nodes under its 
coverage will change their time stamp from 0(Default) to 
15. The second update is held in point B, because the 
timer of sink is now at 30, so the sensor nodes that receive 
this update message will change their time stamp 
  
 
will carry out Sensor Mode procedure as Figure.9: 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Figure.9 Sensor Mode Procedure  
They will check PID and SID to eliminate the 
redundant packet at first, then, they will decided to 
rebroadcast this packet or not by their current time stamp. 
Nodes will rebroadcast only if their current time stamp is 
no less than PTH, which means only if a node is 
closer/equal to the current position of a mobile sink than 
the packet source (this packet source does not mean the 
real packet origin, but a neighbor node who sent this 
packet) will change the PTH for its current time stamp and 
rebroadcast, the PTH will be promoted gradually by this 
rebroadcasting progress. Not only can send data packet 
from source toward mobile sinks but also can reduce the 
redundant broadcasting by doing this procedure 
repeatedly.  
IV.    SIMULATION AND RESULTS  
We evaluate the efficiency of TSDB through 
simulations, and we also will compare the result with 
another broadcast-based routing algorithm called 
MS-SWR which we have already mentioned in Sec.2. 
Simulation parameters are shown in Table.1: 
 
The formal radio model [5][7]is used to calculate the 
energy consumption of data transmitting and receiving, 
the function for transmitting k-bit data to distance r is: 
ET(k,r)=ETx*k+EAmp(r)*k (1) 
The function for receiving k-bit data is :  
ER(k)=ERx*k (2)  
TABLE I. SIMULATION PARAMETERS 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
A. Simulation and Discussion  
In the first simulation, we use single mobile sink to 
run in the network, Figure.10 shows the result: 
 
 
 
 
 
 
 
 
 
 
 
 
 
Figure.10 System Energy Analysis under the Minimum System 
 
Requirement  
Without considering the multiple mobile sinks 
scenario and with no event, this simulation shows that 
TSDB only takes a few of energy to operate. TSDB 
remains more than 30% system energy compare to 
MS-SWR after 2000s under the minimum system 
requirement. (At least one sink to collect sensing data in 
WSNs) 
 
The performance of TSDB and MS-SWR with 
different number of sink is shown in Figure.11: 
  
附錄二、2011 年 7 月參加 U-Media 國際研討會 
行政院國家科學委員會補助國內專家學者出席國際學術會議報告 
                                                     2011 年 07 月 22 日 
報    告    人 
姓          名 
王英宏 服 務 機 關
及   職  稱
淡江大學資訊工程學系 
教授 
  時  間 
會   議 
  地  點    
201 年 07 月 03 日-04 日
 
巴西  聖保羅市 
本 會 核 定
 
補 助 文 號
國科會研究計畫 
計畫編號 NSC 
99-2221-E-032-039- 
流水號 9910201 
會  議  名  稱 
(中文)  2011 年第四屆 IEEE 普適媒體計算國際研習討會 
(英文) The 4th IEEE International Conference on Ubi-Media Computing (U-Media 
2011)  
發 表 論 文 題 目
(中文) 應用於無線感測網路之以傳送電力控制機制的省電睡眠排成機制
(英文) A Power Saving Sleep Scheduling based on Transmission Power 
Control for Wireless Sensor Networks 
一、參加會議經過   
本次前往巴西聖保羅市參加 2011 年第四屆 IEEE 普適媒體計算國際研習討會(The 4th 
IEEE International Conference on Ubi-Media Computing, U-Media 2011)。本次研討會係該研
討會創設以來第一次在南美洲辦理，與會人數約有 60 餘人，規模不大，但是就主辦單會
轉述，可以承辦 IEEE 已具有一定績效的國際研討會，對主辦的大學而言也是ㄧ項非常不
容易的成就。雖然與會人數不多，但是與會人士來仍來自全球各地，包括歐洲的德國、法
國等有都有人親臨與會，但是與會人數最多的還是來自台灣與巴西二個國家，所以相較之
下，來自台灣的與會者也非常受到主辦單位的熱情招呼，而 2 天的會議中有非常充分的交
流與相互學習的機會。 
二、與會心得 
藉由二大研討會的參與，獲得許多資訊科技專業技術與知識的交流，同時也拓展了與
南美洲國家的學術活動的交流與契機。 
大會主辦單位這次選在會議的前ㄧ天下午安排與會者前往聖保羅市的ㄧ所森巴舞學
校，先在該學校的餐廳享用巴西傳統的主食─黑豆飯，再接著安排一場森巴舞蹈的表演，
使得與會者雖然並非在巴西傳統慶典的季節來到巴西，卻仍能感受到巴西特有的文化，個
人認為是非常地能藉由國際研討會議的舉辦，同時傳達民族文化與國情特色的作法，雖然
所需時間不多、場地也不大，但足以展現主辦單位的用心與達到文化觀光的效果。 
三、考察參觀活動(無是項活動者省略) 
非屬參觀活動 
四、建議 
主辦單位對於承辦國際研討會的經驗不多，是以在研討會的許多事務工作都沒有很完
善，包括簡報會場並沒有工作人員協助簡報者裝卸簡報檔、簡報時間控制等等，餐點的安
排也有許多的不便。這一點，我們台灣各大學的辦理經驗與工作細節就完美許多了！ 
五、攜回資料名稱及內容 
攜回論文光碟一片、議程手冊一本 
六、其他 
本次前往巴西除了吸收許多的技術與知識，同時也會見一些學術界的海外友人，並結
識許多的新認識的專家學者，與南美洲一些學校也建立良好的學術關係。 
 
  
scheduling algorithm to avoid overhead and collision, 
and reduce the idle time to conserve energy at the same 
time. Brabara Hohlt, Lance Doherty and Eric Brewer [8] 
proposed a flexible power scheduling, a distributed 
power management protocol for sensor networks that 
reduces radio power consumption. It schedules 
transmitting and receiving time slots in each node’s 
power schedule and sleeping during idle periods. Mihail 
L. Sichitiu [9] proposed a Cross-Layer Scheduling 
Protocol to generate schedule table for transmitting, 
receiving and sleeping. The sleep scheduling addressed 
in “A Power Control Mechanism based on Sleep 
Scheduling for Wireless Sensor Networks” [5] uses the 
concept of duty cycle to figure out the active time and 
sleeping time dynamically, but it cannot guarantee that 
there are sensor nodes awake to do data transmission and 
it would be result in the data loss. The improved sleep 
scheduling proposed by this thesis is to resolve the data 
loss problem. 
 
3. Sleep Scheduling Algorithm based on 
Transmission Power Control 
 
3-1 Transmission Power Control 
 
In WSNs, if the energy of the battery is exhausted, 
the lifetime of the network would be suspended. Sensor 
node’s data transmission performing is the behavior 
which consumes the most energy. Therefore, to control 
the transmission power of the sensor node could reduce 
the nonessential power consumption. 
For WSNs, an effective TPC may manage the 
massive sensor nodes in the wireless sensor network 
effectively to share wireless channel under the smallest 
disturbance with each other and achieve high quality of 
service (QoS), moreover it may reduce the power 
consumption of each sensor node in order and extend the 
lifetime of the entire wireless sensor network. 
A kind of TPC applied in wireless sensor networks 
as shown in figure 1. This mechanism may reduce the 
power consumption when sensor nodes do data 
transmission and receiving. The operation of this TPC is 
for specific sensor node to seek neighbor nodes in 
different transmission power level. For node A, when 
transmission power level is set to 1, it can find 2 
neighbor nodes. And when transmission power level is 
set to 2, it can find 7 neighbor nodes. And when 
transmission power level is set to 3, it can find 16 
neighbor nodes. The higher transmission power level is 
set, the more neighbor nodes are found. But the higher 
transmission power level is set, the more energy of 
sensor node would be consumed. So need to adjust the 
transmission following the target node, in which 
transmission power level eliminates the unnecessary 
power consumption. 
 
 
Figure 1. Transmission Power Control 
 
3-2 Sleep Scheduling Algorithm based on 
Transmission Power Control 
 
In the research about power consumption, the TPC 
is a common research method. TPC can be reached by 
saving some usable information like the transmission 
power of the different neighbor nodes, transmission 
distance and packets loss rate. “A Power Control 
Mechanism based on Sleep Scheduling for Wireless 
Sensor Networks” [5] proposed by Chin-Yung Yu in 
2009 which is combined with TPC and Sleep Scheduling 
Algorithm to reduce the power consumption. But the 
Sleep Scheduling Algorithm cannot guarantee that 
neighbor node has ability to do transmission, because the 
node may be in asleep and it might be result in data loss. 
In this session, the concept of the transmission power 
level would be joined to the original sleep scheduling 
algorithm to resolve the problem of no neighbor node to 
do data transmission and reduce packets loss rate 
effectively. 
When wireless sensor network initials, the tables 
would be created firstly and do the operation to figure 
out Ta and Ts for each node. If the node is in 
transmission state, Ta would be adjusted to guarantee the 
transmission to be accomplished. And if else, after the 
node wakes up, Ta and Ts would be figured out until the 
remnant energy is smaller than the transmission energy 
threshold and never do data transmission. 
 
3-2-1 Create Tables 
 
    When create tables, Base Station would 
broadcast “Rest” packets to all sensor nodes in wireless 
sensor network. When all sensor nodes in wireless sensor 
network receive “Rest” packets, they would update the 
local information like Table 1 based on the “Rest” packet. 
Then each node would broadcast “RREQ” packet to 
those neighbor nodes in the maximum transmission 
distance (Txmax) such as the Txmax is 30m. Then the 
node would wait for the Wait Time and the neighbor 
nodes to reply “RREP” packet. Set the Wait Time is to let 
the neighbor nodes reply “RREP” packet opportunely. 
The information which are replied by neighbor nodes can 
be saved in the Neighbor Information Table for each 
node as shown in Table 2. Figure 2 is the initialization 
flow for creating tables. 
 
 
Figure 2. Table initialization flow 
 
z Information Packets 
There are three tables defined in this research. The 
first is Owner Information Table as shown in Table 1. 
The second is Neighbor Information Table as shown in 
Table 2. The third is Mica2 Power Table as shown in 
Table 3. The following step is detail description of each 
table: 
1.) Owner Information Table (OIT) has 15 fields: 
1. NodeID : serial number of each node 
  
stage. Finally, broadcast the Ta and Ts and set the value 
of receive time in NIT to 0. Upon executing the above 
stages, this algorithm can dynamically adjust a sleep 
schedule for sensor nodes to reduce unnecessary power 
consumption and it also can guarantee that the nodes are 
awake to do the transmission for reduce data loss rate. 
Every step is further illustrated in Figure 4. 
 
 
Figure 4. Sleep Scheduling Algorithm base on TPC 
 
    Figure 5 is an example which needs to adjust 
active time and sleeping time to prevent all nodes at the 
same transmission power level sleeping together. Node A, 
B, C and D are in the same transmission power level. 
Node B, C and D are the neighbor nodes of node A. After 
node A is awake, performing Sleep Scheduling algorithm 
to figure out active time and sleeping time. The value 
need to compare with the active time and sleeping time 
of node B, C and D. As shown in Figure 5, S’B, S’C and 
S’D are all bigger than Ta. It means that at some time 
node A, B, C and D are all in sleeping. To prevent all 
sensor nodes at the same transmission power level 
sleeping together, extend the active time of node A until 
at least one node is awake. The node B which is awaken 
fastest, so use node B to adjust the active time and 
sleeping time of node A. 
Ta of node A = Ta + (S’B - Ta) 
Ts of node A = Ts – (S’B - Ta) 
 
 
Figure 5. Case 1 need to adjust Ta and Ts 
 
    Figure 6 is an example which does not need to 
adjust active time and sleeping time. After node A is 
awake, performing Sleep Scheduling algorithm to figure 
out active time and sleeping time. The value need to 
compare with the active time and sleeping time of node 
B, C and D. As shown in Figure 6, S’B is smaller than Ta. 
This means that before node A go sleeping, node B has 
awakened. So the active time and sleeping time of node 
A does not need to be adjusted. 
 
Figure 6. Case 2 not need to adjust Ta and Ts 
 
z Update NIT 
To know that if all sensor nodes which in the same 
transmission power level are sleeping together, sensor 
node must renew the active time and sleeping time in 
NIT. Two update methods define in this research: 1. 
Update from neighbor node; 2. Update from local node. 
The following is the detail description for these two 
methods. 
After sensor nodes execute sleep scheduling 
algorithm to figure out active time and sleeping time, 
they would broadcast their Ta and Ts automatically. After 
receiving the broadcast message, the neighbor nodes 
would renew their NIT. This update procedure is called 
Update from neighbor node. But when the neighbor 
nodes are in sleep, this update procedure cannot be 
executed properly. So it needs to do update from local 
node. 
After sensor nodes awaken, they need to execute 
update from local node first. The node would send 
“RREQ” packet to those neighbor nodes which receive 
time is 0 in NIT. Then the node would wait for the Wait 
Time for the neighbor nodes to reply “RREP” packet. 
The response information would be saved in NIT. Figure 
7 is the flow of update NIT from local node. 
Start
Send "RREQ" Packet to those neighbor 
nodes which receive time = 0 in NIT table.
Wait Time For 
"RREP" Packet Update NIT TableEnd YN
 
Figure 7. Update NIT table 
 
Figure 8. Update NIT table of Node A 
 
Figure 8 is an example to update NIT of node A. 
Node A, B, C and D are in the same transmission power 
level. Node B, C and D are the neighbor nodes of node A 
  
base station once. When the sleep rate of SS-old is 25%, 
the power consumption is 75%× (the consumption of 
packets transmission success)+25%×(the consumption of 
packets transmission failure). When the sleep rate of 
SS-new is 25%, the consumption is 75% × (the 
consumption of packets transmission success under no 
sleeping nodes adjustment)+25%×(the consumption of 
packets transmission success under sleeping nodes 
adjustment). Following this, the consumption under 50% 
sleep rate and 75% sleep rate can be figured out. As 
shown in figure 22, SS-new compares with SS-old only 
increases little consumption. 
0.00
500.00
1000.00
1500.00
2000.00
2500.00
0 0.25 0.5 0.75 1
Sleep Rate(%)
耗
電
量
(m
W
)
SS(old)
SS(new)
 
Figure 12. Consumption 
 
4-2.1 Packet Reception Rate under Rounds 
 
    Two factors must be considered in the power 
saving research: 1. Extend network lifetime; 2. Reduce 
packets loss rate. These two results are usually adverse. 
For extending network lifetime, the packets loss rate may 
be increased. For reducing packets loss rate, the 
consumption may be increased and the network lifetime 
would be decreased. 
    Figure 13 is the relationship between the 
packets loss rate and the network lifetime. no SS means 
the wireless sensor networks with out sleep scheduling 
algorithm. All the sensor nodes are awake for no SS, and 
it can complete 35 rounds and no packets loss rate. 
SS-old can complete 43 rounds but have some packets 
loss rate. SS-new can complete 40 rounds which is 
between no SS and SS-old and no packets loss rate. 
SS-new can resolve effectively the problem of the 
packets loss rate. 
0
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
1
1 3 5 7 9 11 13 15 17 19 21 23 25 27 29 31 33 35 37 39 41 43 45
Rounds
PR
R(
%
)
no SS
SS(old)
SS(new)
 
Figure 13. Packet Reception Rate under Rounds 
 
5 Conclusions 
 
    For WSNs, the design of the sleep scheduling 
algorithm needs to overcome the problem of the data loss. 
Because the sensor nodes go sleep, they cannot do data 
transmission and may cause the data loss.We realize that 
the improved algorithm proposed by this thesis has 
resolved the data loss problem of the original algorithm. 
From the simulation results, SS-new compares with 
SS-old only increases little consumption. The lifetime of 
SS-new is shorter than the lifetime of SS-old but it is still 
longer than the lifetime of no SS. Therefore, SS-new not 
only resolves the data loss problem but also keeps the 
low power consumption to effectively extend the 
network lifetime. 
 
Acknowledgment : Authors appreciate the grand 
support from National Science Council with project ID, 
NSC 99-2221-E-032-039-. 
 
Reference 
 
[1] I. F. Akyildiz, W. Su, Y. Sankarasubramaniam, E. 
Cayirci, “Wireless sensor networks: a survey,” 
Computer Networks of Elsevier Journal, Mar. 2002, 
pp.393-422. 
[2] A. Sinha, A. Chandrakasan, “Dynamic Power 
Management in Wireless Sensor Networks,” IEEE 
Design and Test of Computers, March-April 2001, 
Vol. 18, Issue 2, pp. 62-74. 
[3] Deborah Estrin, John Heidemann, and Wei Ye, “An 
Energy-Efficient MAC Protocol for Wireless Sensor 
Networks,” IEEE INFOCOM 2002, 2002, Vol. 3, 
pp.1567-1576. 
[4] I. Demirkol, C. Ersoy, F. Alagoz, “MAC protocols 
for wireless sensor networks : a survey,” IEEE 
Communications Magazine, Apr. 2006, Vol. 44, 
Issue 4, pp.115–121. 
[5] Ying-Hong Wang, Chin-Yung Yu, “A Power Control 
Mechanism based on Sleep Scheduling for Wireless 
Sensor Networks,” Ph.D. Thesis Dissertation, 
University of Tamkang, January 2009. 
[6] His-Feng Lu, Yao-Chung Chang, Hsing-Hsien Hu, 
Jiann-Liang Chen, “Power-Efficient Scheduling 
Method in Sensor Networks,” 2004 IEEE 
International Conference, 10-13 Oct. 2004, Vol. 5, 
pp.4705-4710. 
[7] A. Boukerche, X. Cheng, and J. Linus, 
“Energy-Aware Data-Centric Routing in Microsensor 
Networks,” Proceedings of the 6th ACM 
international workshop on Modeling analysis and 
simulation of wireless and mobile systems, 2003, 
pp.42-49. 
[8] Barbara Hohlt, Lance Doherty, Eric Brewer, 
“Flexible Power Scheduling for Sensor Networks,” 
Proceedings of the third international symposium of 
Information Processing in Sensor Networks (IPSN), 
2004, Oral presentation session 3, pp.205-215. 
[9] Mihail L. Sichitiu, “Cross-Layer Scheduling for 
Power Efficiency in Wireless Sensor Networks,” 
IEEE INFOCOM 2004, 7-11 March 2004, Vol. 3, 
pp.1740-1750. 
[10] J. Chen, S.-H. Gary Chan, Q. Zhang, Wen-Wu Zhu, 
and J. Chen, “A distributed power adaptation 
algorithm for multimedia delivery over ad hoc 
networks,” Proceedings of 2003 International 
Conference on Multimedia and Expo, July 2003, Vol. 
1, pp.I-293-I-296. 
[11] V. Kawadia and P. R. Kumar, “Power Control and 
Clustering in Ad hoc Networks,” IEEE INFOCOM 
2003, 30 Mar.-3 Apr. 2003, Vol. 1, pp.459-269. 
[12] A. I. El-Osery, D. Baird and S. Bruder, 
“Transmission power management in ad hoc 
networks: issues and advantages,” Proceedings of 
2005 IEEE Networking, Sensing and Control, Mar. 
2005, pp.1043-1048. 
[13] P. Floreen, P. Kaski, J. Kohonen, and P. Orponen, 
“Lifetime maximization for multicasting in 
energy-constrained wireless networks,” IEEE Journal 
on Selected Areas in Communications, Jan. 2005, 
pp.117-126. 
 
  
附錄一、2011 年 3 月參加新加坡 AINA 國際研討會 
行政院國家科學委員會補助國內專家學者出席國際學術會議報告 
2011 年 07 月 06 日 
報    告    人 
姓          名 
黃央明 
服 務 機 關
及   職  稱
淡江大學資訊工程學系 
碩士研究生 
時  間 
會   議  地  點   
2011 年 03 月 22 日- 2011
年 03 月 25 日   
新加坡 Biopolis        
本 會 核 定
補 助 文 號
國科會研究計畫計畫編號
NSC  
流水號 9910201 
會  議  名  稱 
(中文)  2011 年第 25 屆 IEEE 進階資料網路與應用國際研習討會 
(英文) The 25th IEEE International Conference on Advanced Information 
Networking and Applications 
發 表 論 文 題 目
(中文) 應用於無線感測網路行動資料收集點之即時資料傳送機制 
(英文) An instantaneous Data Dissemination Mechanism with Mobile 
Sinks in Wireless Sensor Networks 
1. 參加會議經過   
本次前往新加坡參加 AINA 國際研討會，抵達新加坡樟宜機場後，轉乘捷運至
BuonaVista 站後，再搭乘計程車前往 Biopolis。研討會在 Biopolis 所屬之 Matrix 會議中心
舉辦，與會的學者約莫 200 人，研討會期間所列之演說之演講人均屬各領域中學術的佼佼
者，在其中亦獲得許多學術研究上之幫助。 
2. 與會心得 
藉由參與此次之研討會機會，獲得了相當多與無線通訊及行動計算相關專業技術與知
識的內容。 
3. 考察參觀活動(無是項活動者省略) 
非屬參觀活動 
4. 建議 
本次會議所在的 Biopolis 的 Matrix 會議中心，在地點上較難尋找，可能造成與會的學
者不容易找到會議地點，建議可以將會議地點舉辦在大學校內，可使與會學者比較不需要
花時間再如何到達會議地點。 
5. 攜回資料名稱及內容 
攜回論文光碟一片、議程手冊一本 
6. 其他 
本次前往新加坡除了吸收許多的技術與知識，也藉機了解新加坡當地的一些風俗民
情，當地人的生活型態實可作為其他國家學習的方向。 
 
 
  
 
along the same path to sink. This data report type is 
not suitable for the time-emergent circumstance. Another 
data report type is called “Event Driven”. In this type, 
each sensor node has a preset mission and will send 
sensing data back as soon as they have sensed data that 
conform with preset mission. This data report type has 
quick response. 
 
We can also divide those mechanisms by their 
network structure into three groups, the grid-based 
structure, the cluster-based structure, and the flat 
structure. In[1][2][6], the authors propose a 
broadcast-based algorithm called MS-SWR for data 
transmission under flat network structure, sensor nodes 
are assumed to be location-aware and the data report type 
is event driven for this algorithm. Sensor nodes will 
calculate the weight value by its position and relative 
sink’s position, the weight value of sink is 0. When sensor 
node has data to send back, it will put its weight value into 
the data packet and broadcast the packet. Nodes that 
receive the packet will check its weight value, if the 
weight value is between source and sink, it will 
rebroadcast the data packet. The data packet will reach 
sink while doing this repeatedly. This routing algorithm 
does not need additional computation or energy cost to 
construct grid or cluster, and it also supports multiple 
mobile sinks usage. Mobile sinks will send global update 
message when their position have change and all the 
sensor nodes have to recalculate the relative weight value 
which is the biggest defect of this algorithm. 
 
III.    MECHANISM DESIGN  
In our proposed mechanism, it applies an algorithm 
named TSDB to handle the data transmission request in 
WSNs. Unlike most routing algorithms, TSDB is a novel 
location-free method. The operation of TSDB includes two 
phases, the Normal Phase and the Data Dissemination Phase. 
In the Normal Phase, mobile sinks will periodically update 
the time stamp of sensor nodes under their coverage. The 
network operation will turn into 
Data Dissemination Phase when the event occur. 
Source node will generate an event packet and broadcast 
this packet, other nodes receive that packet will carry out 
the relative process. Figure.1 is the operation flow chart 
of our proposed mechanism: 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Figure.1 Operation Flow Chart  
In this section, we will introduce the network model 
for our proposed mechanism at first. The two phases 
operation of TSDB are described in detail after then. 
 
A.      Network Model  
Our propose mechanism is based on the following 
assumptions: 
 
 Sensor nodes are static and evenly distributed 
in the network.  
 
 Each mobile sink has a timer, sinks are time 
synchronized.  
 
 Sinks are identical and move in the same 
speed.  
 
 The transmission radius of sensor nodes and 
mobile sinks are the same.  
 The data report type is Event Driven.  
 
 
The network model is shown in Figure.2: 
  
 
to 30. The same operation will be carried out as well 
in point C. The update operation for multiple mobile 
sinks is shown in Figure.5: 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Figure.5 Multiple Mobile Sinks Update  
The update operation is no difference between single 
and multiple one. Because of the assumption we’ve 
mentioned in 3.1, sinks will broadcast update messages 
simultaneously every (2.5D/Speed of Sink). In Figure.4, 
it is obvious that sensor node which has bigger time 
stamp is closer to mobile sink than the smaller one, and 
TSDB is going to use this property for data 
dissemination. This property will not be guaranteed if 
sinks are not time synchronized. 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Figure.6 Sink Update Period  
Shown as Figure.6, if a mobile sink moves 2.5D 
away from the previous broadcast location, it may not in 
the coverage of previous updated sensor nodes and 
could cause packet loss if there is a data packet delivery at 
this moment, so we set (2.5D/Speed of Sink) to be the 
update time period. 
 
C.      Data Dissemination Phase  
The mission for each node is set before deployment 
because the data report type for this mechanism is Event 
Driven. When a node has sensing data that conform with 
preset mission, it will become a source node and change 
its DMode from Sensor Mode (Default) to Source Mode, 
and is going to carry out the packet delivery procedure, 
the packet format for TSDB is shown in Figure.7: 
 
 
 
Figure.7 Packet Format 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Figure.8 Source Mode Procedure  
SID records NID of the original source, PID is the 
packet sequence number, PTH is a threshold to help the 
node that receives this data packet deciding to rebroadcast 
or not, Payload is the place where the sensing data stores 
in. The packet delivery procedure for a node whose 
DMode is Source Mode is shown in Figure.8:  
A source node will put its current time stamp into the 
PTH column and add new record of this data packet to 
prevent the broadcast loop, and it will broadcast this data 
packet and change its DMode back to the Sensor Mode 
(Default) after then. Other nodes that receive this packet 
  
 
 
 
 
 
 
 
 
 
 
 
 
 
Figure.11 Residual System Energy with Different Number of Sink 
after 800s 
 
The event occur rate is 1 Event/100s for the 
second simulation, figure.10 shows TSDB is more 
efficient than MS-SWR, especially when sink number 
grows. In other words, TSDB is more suitable for the 
usage of multiple mobile sinks. 
 
V.      CONCLUSION AND FUTURE WORK 
 
In this paper, we propose an instantaneous data 
dissemination mechanism, it applies a data 
transmission algorithm named “Time Stamp Data-flow 
Broadcasting, TSDB”, it is a novel method that works 
well without any location information. Compare to the 
other similar algorithm, TSDB can save more than 50% 
of system energy in the multiple mobile sinks situation, 
which means TSDB is a better algorithm when multiple 
sinks in use. 
Mobile sink movement is not our focus in this 
paper. We would like to inform the sink movement for 
the future work, and also combine the concept of 
virtual subnetworks to improve this mechanism. 
Acknowledgment: Authors appreciate the grand 
support from National Science Council with project ID, 
NSC 99-2221-E-032-039-. 
 
REFERENCES 
 
[1] Soyturk M., Altilar T., ”A Novel Stateless 
Energy-Efficient Routing Algorithm for 
Large-Scale Wireless Sensor Networks with 
Multiple Sinks”, Proc. IEEE Annual Wireless and 
Microwave Technology Conference, December 
2006, pp.1 – 5. 
[2] Soyturk M., Altilar T., ” Proc. Source-Initiated 
Geographical Data Flow for Wireless Ad Hoc and 
Sensor Networks”, IEEE Annual Wireless and 
Microwave Technology Conference, December 
2006, pp.1 – 5.  
[3] Ioannis Chatzigiannakis; Athanasios Kinalis; 
Sotiris Nikoletseas; Jose Rolim; “Fast and energy 
efficient sensor data collection by multiple 
mobile sinks”, Proc. ACM international 
workshop on Mobility management and wireless 
access, October 2007, pp.25 - 32.  
[4] Hyo Jung Yun, Ki Nam Kim, Eul Gyu Im, Yong 
Ho Song, “Effective Elimination of Redundant 
Packets in Wireless Sensor Networks”, Proc. 
International Conference on Multimedia and 
Ubiquitous Engineering, April 2007, pp.214 – 
219.  
[5] Wendi Rabiner Heinzelman, Anantha 
Chandrakasan, Hari Balakrishnan,
 ”Energy-EfficientCommunication Protocol for 
Wireless Microsensor Network”, Proc. Annual 
Hawaii International Conference , January 2007, 
pp. 1-10. 
[6] Soyturk M., Altilar T., ”A Routing Algorithm for 
Mobile Multiple Sinks in Large-Scale Wireless 
Sensor Networks”, Proc. International 
Symposium on Wireless Pervasive 
Computing,Feb 2007, pp. 65-70.  
[7] OssamaYounis, Sonia Fahmy, ”HEED : A Hybrid 
Energy-Efficient Distributed Clustering 
Approach for Ad Hoc Sensor Netowkrs”, Trans. 
Mobile Computing, Volume 3, Issue 4, October 
2004, pp. 366 – 379.  
 
  
發表論文 
A Power Saving Sleep Scheduling based on Transmission Power Control for 
Wireless Sensor Networks 
Ying-Hong Wang, Ya-Lan Wu, Kuo-Feng Huang 
Department of Computer Science and Information Engineering, 
Tamkang University Tamsui, Taipei, Taiwan, R.O.C. 
inhon@mail.tku.edu.tw, yilangwu@gmail.com, 896410148@s96.tku.edu.tw 
 
Abstract- The relate technologies of Wireless 
Sensor Networks (WSNs) have become an essential 
research in the future. The sensor nodes of WSNs can 
only use limited energy like battery. When the energy has 
been exhausted, WSNs cannot work anymore. In order to 
extend the lifetime of WSNs, the management of the 
sensors’ energy is an important issue. The Sleep 
Schedule addressed on “A Power Control Mechanism 
based on Sleep Scheduling for Wireless Sensor 
Networks” cannot guarantee that neighbor node has 
ability to do transmission. Use the improved algorithm 
and the original algorithm to do simulation comparison. 
The improved algorithm which is better than the network 
without sleep scheduling algorithm can complete 40 
rounds and has no data loss. As a result, the improved 
algorithm proposed in this thesis can effectively resolve 
the data loss problem of the original algorithm. 
Keywords-Wireless Sensor Networks, Lifetime, 
Transmission Power Control, Sleep Scheduling 
 
1. Introduction 
 
Recent advances in micro-electro-mechanical 
systems (MEMS) technology, wireless communications 
and digital electronics [1] have enabled the hardware of 
the embedded system that is small in size and can apply 
to the routers or the firewall in wireless network. Due to 
the limitation of the environment, charging or replacing 
power is impossible. Therefore, the power consumption 
speed influences the lifetime of the wireless sensor 
networks. How to extend the lifetime of the wireless 
sensor networks has become an important subject in the 
research of the wireless sensor networks. 
    The sensor node is made up of four basic 
components: a sensing unit, a processing unit, a 
transceiver unit and a power unit. Sensing unit is 
responsible for detecting the physical information like 
the light source, the hot source and the sound source. The 
analog signals produced by the sensors based on the 
observed phenomenon are converted to digital signals by 
the ADC, and then fed into the processing unit. The 
processing unit is responsible for processing the 
information which sent by the sensing unit. Then, the 
information would be sent back to the base station by the 
transceiver unit. Power unit is responsible for the power 
of the sensor node. The power consumption of the 
transceiver unit is the biggest in all of the units. 
    At present, there are the following methods in 
the research direction about power saving: 1. Sleep 
Scheduling [2, 3, 4]: Let the idle sensor nodes go asleep 
to conserve the energy. 2. Adjust the sensing range. 3. 
Send information to the base station through the effective 
route. 4. Decrease Overhead. 
    The concept of sleep scheduling is to let the 
state of the sensor nodes to be sleep mode and active 
mode. Two factors must be considered when designing 
sleep scheduling: 1. Extend the lifetime of the network, 2. 
Avoid the data loss. The sleep scheduling addressed in 
“A Power Control Mechanism based on Sleep 
Scheduling for Wireless Sensor Networks” [5] cannot 
guarantee that there are sensor nodes awake to do data 
transmission and it would be result in the data loss. The 
improved sleep scheduling proposed by this thesis is to 
resolve the data loss problem. 
 
2. Related Work 
 
There are four major sources of the power 
consumption in WSNs [6]. 1. Collision: when packets 
collide, energy is wasted because the packets must be 
retransmitted. 2. Sparse: when sensor nodes are deployed 
sparsely in the sensing range, packet delivery range 
increasing compared to crowded nodes and the power 
consumption is high. 3. Overhead: all the neighbors of 
the transmitting node can potentially overhear a 
transmission between nodes, thus all of these nodes 
consume more power despite the packets not being 
directed to them. 4. Idle: A sensor node has transmission, 
receiving and idle state. In the idle state, nodes must 
listen to the channel to receive possible traffic and the 
power consumption is more than the node in sleep state. 
Nodes typically have several power levels corresponding 
to the following states: transmission, receiving, idle and 
sleeping. Usually, the power required for idle listening is 
about the same as the power for receiving [7]. 
In 2003, J. Chen [10] et al. proposed an algorithm 
which using different transmission methods for different 
nodes to conserve energy. In 2005, EI-Osery [12] et al. 
use the additional energy information from the receiving 
packets to figure out the optimum transmission power for 
sending packets to the source and create a table. If 
information needs to transmit later, it would follow this 
table to determine the transmission power. Kawadia and 
kumar [11] introduce some transmission power control 
protocols; one of them is CLUSTERPOW protocol, in 
which the concept is creating routing table by different 
kinds of transmission power. Floreen [13] et al. has done 
the transmission power control research for multicast. 
For the subject of power saving in WSNs, sleep 
schedule is a major research direction. Wei et al. [3] 
proposed a Sensor Mac protocol which is a fixed sleep 
  
2. X-axis : X axis 
3. Y-axis : Y axis 
4. Energy : Initial energy 
5. Remaining Energy : residue energy 
6. Rec. Energy : energy expended in receiving a packet 
7. Sleep Energy : energy expended when a node enters 
sleep mode 
8. Thold. Energy : transmit threshold energy 
9. Duty Cycle : the time period 
10. Active Time : the time when the node is put into 
active mode 
11. Sleeping time : the time when the node is put into 
sleep mode 
12. Status : the node’s current status 
1: transmit; 2: receive; 3: act; 4: sleep; 5: die;  
6: event node; 0: Base Station 
13. Layer : the layer is used to indicate the distance 
between the node and the base station for example 
the node is closest to the base station is layer 1. The 
layer range is from 1 to 20. 
14. PacketID : the id of the event node 
15. Wait Count : At the end of each round, when the 
node is in the idle state, the wait count is increased 
by one. When a count of three is reached, the count 
is reset to zero and the sleeping time of the node is 
extended by this amount at the next round. This 
prevents the node from being idle too long and 
conserves energy. 
16.  
Table 1. Owner Information Table (OIT) 
 
 
2.) Neighbor Information Table (NIT) has 9 fields: 
1. NodeID : the serial number of each node. 
2. Power Level : the power required to transmit a 
message to a neighbor node. 
3. NeighborID : the serial number of the neighbor 
node. 
4. Dis. NeighorID : the distance to a neighbor node. 
5. Layer : the distance between a neighbor node and 
the base station. 
6. RSSI : is a measurement of the power present in a 
received a radio signal. 
7. Active Time NeighborID : the time when a neighbor 
node is put into active mode. 
8. Sleeping time NeighborID : the time when a 
neighbor node is put into sleep mode. 
9. Receive Time : the time when receiving the update 
value of Active Time NeighborID and Sleeping time 
NeighborID. This value 0 means that the value of 
Active Time NeighborID and Sleeping time 
NeighborID has not been updated. 
 
Table 2. Neighbor Information Table (NIT) 
 
 
3.) Mica2 Power Table (MPT) has 3 fields: 
1. Power Level : the power level of a mica2 device 
ranges from -20 to 5. 
2. Consumption : The energy consumed to transmit 
using each power level. 
3. Range : The range when transmitting at the current 
power level. 
4.  
Table 3. Mica2 Power Table (MPT) 
 
 
    Figure 3 shows the relationships between a 
mica2 device’s power level, energy consumption and 
ragne. 
 
 
Figure 3. Mica2 device’s power level, energy 
consumption and range 
 
3-2-2 Sleep Scheduling Algorithm 
 
    This sleep scheduling algorithm includes 6 
steps. 1-4 steps use the Duty Cycle concept to adjust 
active time and sleeping time, 5-6 steps use the 
Transmission Power Level concept to filter the neighbor 
nodes in the same power level, let one node awake at 
least to perform data transmission. Before entering the 
first step, the node must renew the NIT firstly and 
confirm the information in NIT has been renewed. If the 
material has not been renewed, set its active time to 0 
and sleeping time to duty cycle, then start sleep 
scheduling algorithm. At the first step, the node verifies 
that its residual energy is greater than the threshold 
energy so as to ensure that there is sufficient energy for 
the next transmission. If there is no sufficient energy, set 
the sleeping time of the node to the maximum and start 
sleeping state. If there is sufficient energy, enter the next 
stage. At the second step, it determines whether it is in a 
transmission state currently. If it is, the active time of the 
node is set to the maximum to allow the node complete 
its current transmission. If it is not, enter the next stage. 
At the third step, it determines its wait count is bigger 
than or equivalent to 3. If the wait count is bigger than 3, 
set an interrupt point time (Tirq) to interrupt the active 
time of the node and extend the sleeping time of the node. 
If the wait count is smaller than 3, enter the next stage. 
At the forth step, it checks whether the node residual 
energy/initial energy ratio is above 50%. If it is above 
50%, then the active/sleeping times are randomly set, 
else the current active time is compared with a randomly 
generated active time and the smaller of the two times is 
selected as the next active time. At the fifth step, use the 
active time and sleeping time which is generated at step 
3 to compare with all neighbor nodes in the same 
transmission power level. If all nodes sleep at the same 
time, extend the active time of the node until at least one 
neighbor node awake. The sixth stage is like the fifth 
  
and have save in NIT of node A. After node B, C and D 
execute sleep scheduling algorithm to figure out their Ta 
and Ts, they would perform Update from neighbor node 
like action (1) in figure 8. After node A awakens, it 
would perform Update from local node like action (2)-1 
in figure 18. After performing Update from local node, if 
there are nodes which not update yet, set the active time 
to 0 and the sleeping time to duty cycle for these nodes 
like action (2)-2 in figure 10. 
 
z Interrupt point Time (Tirq) 
In order to achieve an effective energy distribution 
through sleep scheduling algorithm, use a parameter 
known as Interrupt Point Time (Tirq) to conserve more 
energy. When the node state is active and the wait count 
is bigger than or equal to 3. After a round is finished and 
the node has not started transmitting data, an interrupt 
point time (Tirq) will be triggered. This trigger interrupts 
the current state of the node and let the node go sleep. 
Tirq would be set to the current time and the remnant 
active time would be added to the sleeping time. The 
interrupt time is calculated as following: 
 
IF (wait count >= 3) AND (status = ‘active’) THEN 
Tirq = current time 
Update Ts = Ts + (Ta – Tirq) 
End 
 
    Figure 9 is an example for using interrupt point 
time (Tirq). Let us assume that the active time (Ta) is set 
to 6, the sleeping time (Ts) is set to 4 and interrupt point 
time is set to Ta/2. After three duty cycle timeslots in 
which no transmissions take place, interrupt time point 
would be triggered and Tirq would be set to the current 
time. The node would go sleep and add the remaining Ta 
time to the Ts time. Consequently, the Tirq effectively 
puts an active node to sleep to conserve further energy. 
 
Figure 9. Interrupt point Time usage example 
 
z Transmit Packets and Adjust Power Level 
When a node receives a packet, it first determines 
the strength of the signal against in the NIT table and 
accordingly adjusts the table information for example if 
the signal is weaker, it implies that the previous power 
level needs to be increased to prevent possible 
transmission failure. Then, it needs to determine that if 
there is a node can transmit information to the base 
station. The node must transmit packets to the node 
which the layer is not bigger to itself. If there is node 
which can transmit information to the base station, 
execute data transmission and adjust Ta to let the 
transmission can be completion properly. If there is no 
node, keep the current status and wait for the next 
transmission until the duty cycle is over and enter sleep 
scheduling algorithm to figure out the Ta and Ts for the 
next duty cycle. Figure 9 is the detail flow to transmit 
packets and adjust power level. 
 
Figure 10. Transmit Packets and Adjust Power 
Level 
 
4 Simulation 
 
4-1 Packet Reception Rate under Sleep Rate 
 
    When a sensor node detects the information, it 
must transfer the information to the base station to let the 
base station can use the information. If it cannot find the 
neighbor node to transfer the information, it would be 
result in the data loss. As shown in Figure 11, there is no 
mechanism to scatter the sleeping nodes in original sleep 
scheduling algorithm (SS-old). When the sleep rate is 
25%, all the sleeping nodes may be in the transmission 
route and it results in that the packets loss rate is 25%. 
Comparatively, the packets reception rate is 75%. 
Following this, when the sleep rate is 50%, the packets 
reception rate is 50%. When the sleep rate is 75%, the 
packets reception rate is 25%. Add a mechanism to 
adjust the location of the sleeping nodes and prevent all 
neighbor nodes sleeping together in the improved sleep 
scheduling algorithm (SS-new). No matter what the sleep 
rate is, it can guarantee that there is node awake to do 
transmit and the packets reception rate keeps in 100%. 
 
0
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
1
0 0.25 0.5 0.75 1
Sleep Rate(%)
Pa
ck
ets
 R
ec
ep
tio
n R
ate
(%
)
SS(old)
SS(new)
 
Figure 11. Packet Reception Rate under Sleep Rate 
 
4-2 Consumption 
 
    Two factors must be considered in the power 
saving research: 1. Consumption; 2. Packets loss rate. 
Reduce power consumption to extend the network 
lifetime. But it also needs to consider the packets loss 
rate. In original sleep scheduling algorithm (SS-old), 
even though there is low power consumption, it cannot 
guarantee that there is low packets loss rate concurrently. 
There is more power consumption in the improved sleep 
scheduling algorithm (SS-new), but it can guarantee that 
there is low packets loss rate. Figure 12 is the power 
consumption which transferring information back to the 
國科會補助計畫衍生研發成果推廣資料表
日期:2011/10/11
國科會補助計畫
計畫名稱: IEEE 802.16j都會型網路下的可適性分散式排程機制
計畫主持人: 王英宏
計畫編號: 99-2221-E-032-039- 學門領域: 計算機網路與網際網路
無研發成果推廣資料
其他成果 
(無法以量化表達之成
果如辦理學術活動、獲
得獎項、重要國際合
作、研究成果國際影響
力及其他協助產業技
術發展之具體效益事
項等，請以文字敘述填
列。) 
現階段研究成果僅以量化成績呈現，研究成果仍將持續推演並尋求其他可以應
用與推展之機會。 
 成果項目 量化 名稱或內容性質簡述 
測驗工具(含質性與量性) 0  
課程/模組 0  
電腦及網路系統或工具 0  
教材 0  
舉辦之活動/競賽 0  
研討會/工作坊 0  
電子報、網站 0  
科 
教 
處 
計 
畫 
加 
填 
項 
目 計畫成果推廣之參與（閱聽）人數 0  
 
