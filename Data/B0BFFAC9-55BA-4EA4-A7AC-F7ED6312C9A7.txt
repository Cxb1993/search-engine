 2 
目錄 
中文摘要............................................................................................. 4 
英文摘要............................................................................................. 5 
I. 緣由與目的 .................................................................................. 6 
II. 結果與討論 .................................................................................. 7 
A. Zigbee通訊協定之介紹 .......................................................... 7 
B. 硬體設計............................................................................... 19 
C. 作業系統設計....................................................................... 26 
D. 軟體設計 .............................................................................. 29 
III. 已完成之具體成果 ................................................................. 29 
A. 校園導盲系統建制 ............................................................... 29 
B. 網路通訊協定之改良 ........................................................... 32 
IV. 參考文獻................................................................................. 39 
 
 4 
中文摘要 
盲人行走於陌生環境如街道或建築物內部時，經常面臨到方向與所處位置
不明之問題。為了能提供視障者一個更舒適方便的環境，其所在方位與周遭環
境資訊的提示及告知將成為一種勢在必行的輔助機制。有鑑於此，本計畫目標
係提供一套由硬體搭配軟體所成之輔助裝置，以提供更接近無障礙的生活環境。 
本計畫的實作過程分為兩大階段：初步的基本方位資訊之提供與進階路徑
規劃。於初步階段中，輔助裝置能利用嵌附在地面上之導引裝置所提供的座標
資訊與唯一的識別碼判定當下所處位置，再查詢資料庫中所對應之語音資料，
以真人發音方式通知使用者相關訊息。第二階段裡，吾人透過感測器以取得一
定數量的座標資料，加上簡易定位演算法將感測器所傳回之行走軌跡和地圖資
料相比較，進而對使用者所在位置和周遭環境資訊、前往目的地之可行路徑、
以及額外警告事項等…。 
本計畫為「無線光通訊之智慧型盲人預警監控及導引網路系統」之子計畫，
其目的在於藉由設計系統通訊協定，來增進導盲之電子輔具 (以導盲拐杖為機構
設計) 的可靠性與安全性，並與其他各子計畫整合設計一個無線光通訊導盲及導
盲預警監控系統，以為盲人設計更安全、可靠、便利之無障礙空間。計畫所採
行之無線光網路須考量幾個設計重點：網路認證、網路安全、容錯性、系統強
健性、可延展性、價格、硬體、拓撲型態、工作環境、省電等等；其有別於傳
統無線網路之型態，勢必研究開發出其所適合的軟硬體架構、通訊協定、應用
程式等…。本研究計畫之研究重點在於無線光網路的通訊協定技術與實作無線
光網路之感測與傳輸節點，研製相關嵌入式系統和具省電性、容錯性、強健性、
認證與安全機制的通訊協定等…。 
 6 
include the properties, e.g., low power consumption, fault tolerance, robustness, 
authentication and security mechanisms. 
I. 緣由與目的 
柺杖是最原始且至今仍是盲人最普遍使用的行進輔助工具，藉著一根柺杖
盲人可以察覺出地上的障礙物、路面的不平坦、坑洞與台階等等環境中的狀況，
然而要具有此能力必須經歷相當長久的訓練與學習。而導盲犬提供盲人行進輔
助的另一個選擇，然而訓練的不易、耗時及成本高昂則使得導盲犬的使用率在
各國普遍都不高，例如日本的導盲犬協會曾在 1991 年做過統計，在 250000 的
盲人中有 20000 人若有導盲犬的協助就可獨立生活，然則實際導盲犬的數量卻
只有 700 隻。在台灣，盲人重建院在 1999 年也做過類似的統計，有 50000 人
需要導盲犬的協助，但是在台灣卻僅有一隻導盲犬。因此如何免去漫長的適應
與學習，開發方便實用且可大量製造之低成本導盲機器就成為重要的研究主題。 
近年來科技不斷進步，在導盲設備上也有不錯的成績，但在使用導盲設備
上，視障者還是希望能夠清楚的指示出在行走的道路上有無障礙物，是否會造
成危險傷害？哪一條路是應該走的？前方是否為欲搭乘的大眾交通工具？因此
為了使視障者享有方便實用且低成本之導盲設備已成為重要之主題，若能身處
於完整佈建的網路監控定位系統之中，搭配多功能之電子輔具，如內建無線傳
輸功能與語音資料庫的導盲杖，即可清楚知道當下所在位置以及了解各項所需
資訊。如此一來將可大大改善盲人行動上的不便及困難，本計畫所建構的無障
礙環境將可成為視障者的一大福音。 
 8 
設計重點主要是鎖定在低價格、低功率、低數據率方面，與 802.11x 強調高傳
輸量的特點有相當大的差別，其應用領域也是不同的。摩托羅拉(Motorola)技術
資深產品市場經理 Kristen Law認為，該標準適用於需無線解決方案的低傳輸率
市場領域，例如產業自動化和控制、後勤管理、能源監控、電機控制、照明系
統以及家庭網路如安全 HVAC和 RF遙控等。 
從家用無線通訊規格HomeRF制定聯盟中所分支出來的 ZigBee於兩年前開
始萌芽制定，英國 Invensys、日本三菱電氣、美國摩托羅拉公司及荷蘭飛利浦
半導體等 4大公司，分別於 2002年底宣佈加盟 ZigBee聯盟後，即展開研發，
並於今年 5月完成規格的協議 (IEEE 802.15.4)。由於 ZigBee 有其省電、低成
本及容易開發等優勢，正是應用在家電上的最佳的組合。至於另一個無線通訊
協定－藍芽 (bluetooth)，若要將其置入家電中，遇到的第一個問題就是成本，
由於目前藍芽晶片的造價約在 4〜6 塊美金左右，在家電製造商的眼中，這是
將其嵌入設計的最大障礙，而且家電之間的通訊亦不需大資料的傳輸(藍芽傳輸
速度目前約 1Mbps)，由此看來，IEEE 802.15.4 在家電通訊的領域上，其角色
定位上就非常佔優勢了。以下是 IEEE 802.15.4的基本規格： 
頻段 全球的 2.4GHz ISM頻段、歐洲的 868MHz頻段，以及美國
的 915MHz頻段 
 運作環境 支援主從式(master-slave)或點對點(peer-to-peer)方式運作，
同時最多可 255個裝置鏈結（Master×1，client nodes×254） 
接取方式 直接序列展頻技術(direct sequence spread spectrum, DSSS) 
網路架構 星形(star) 
傳輸速率 20kbps〜250kbps 
傳輸距離 10公尺（依耗電量之不同，可提昇至 100公尺） 
可使用頻道
數 
在2.4GHz的 ISM頻段，可使用的通道數為16個；在915MHz
的 ISM頻段，可使用的通道數為 10個；在歐洲的 868MHz
頻段，可使用的通道數為 1個 
 10 
又等於一個單位倒退週期 (unit backoff period, UBP)。 
在 IEEE 802.15.4的網路中有兩種裝置的定義：完整功能裝置 (FFD)，簡化
功能裝置 (RFD)，這兩個不同類型的裝置可以在 IEEE 802.15.4的網路中通訊。
完整功能裝置能夠支援三種使用模式：個人區域網路協調者  (PAN 
coordinator)、協調者 (coordinator) 與裝置 (device)。兩個以上的裝置就可以形
成一個無線個人區域網路(WPAN)，而一個無線個人區域網路中必須至少存在
一個以上的個人區域網路協調者。低速率無線個人區域網路有兩種網路拓撲 
(topology)，一種是星狀拓撲 (star topology)，另一種是點對點拓撲 (peer-to-peer 
topology)，如圖 1所示。在一般狀況下，IEEE 802.15.4是運作在星狀拓撲的網
路環境下，透過個人區域網路協調者或協調者配置超級訊框來建置整個通訊系
統。而點對點拓撲是用於建立網路，而在點對點拓撲的狀態時，每一個節點都
必須要是完整功能裝置。 
先前所描述的，完整功能裝置可以扮演三種角色，個人區域網路協調者、
協調者以及裝置，而簡化功能裝置只可以成為裝置角色。以圖 2來看，在整個
群組樹的網路  (c lus ter  t ree  ne twork) 中，只能夠存在唯一一個 PAN 
Coordinator，但個人區域網路協調者如何產生，在規格中並沒有明確的定義，
理論上應會是由 IEEE 802.15.4 在制定上層的應用程式服務時會有方法來明確 
PAN Coordinator
PAN Coordinator
FFD
RFD
Communication Flow
Star Topology Peer-to-Peer Topology
 
圖 1、星狀拓撲及點對點拓撲 
 12 
體擷取控制層溝通。 
低速率無線個人區域網路的標準中可以選擇使用超級訊框 (super frame) 的
架構，它的形式是由協調者所發的同步訊框來定義，而協調者會將一個超級訊
框分為 16 個相等的時槽。同步訊框 (beacon frame) 會在每個超級訊框的第一
個時槽被送出，同步訊框的內容則主要描述此超級訊框的架構、識別這個個人
區域網路及裝置間的同步等。一個超級訊框又可分為兩種週期，參照圖 4a，第
一個週期是競爭週期 (contention access period, CAP)，在 PAN裡的裝置可以利
用倒退時間的機制來使用時槽，第二個週期為免競爭週期 (contention free 
period, CFP)，裝置可能需要一些保證的頻寛，透過協調者所廣播 (broadcast) 出
之超級訊框的內容，可以在免競爭週期中取得專屬的頻寬來使用。我們稱免競
爭週期內的時槽 (slot) 為保證傳輸時槽 (guaranteed time slot, GTS)。然而超級
訊框並不一定需要有免競爭週期，如圖 4b 所示，所以在規格中共有兩種超級
訊框，差別就是在於有沒有免競爭週期。但是無論如何，所在裝置在一開始要
存取網路時，一定要透過競爭週期取得資源後，再依照資料的類別分別在下一
次的競爭週期或免競爭週期中傳送資料。 
 
圖 3、低速率無線個人區域網路裝置架構 
 
 14 
Coordinator
Network
Device
Data
Acknowledgment
(optional)
 
圖 5b、在無同步訊框的網路中資料傳送到協調者的步驟 
2. 由協調者傳送資料至感測節點 
此機制是將資料由協調者送到感測節點。當協調者在使用同步訊框的
網路中希望傳送資料到感測節點時，會透過同步訊框來告知節點有欲傳
送給它的資料儲存在協調者的記憶體中，接獲消息的節點會以 CSMA/CA
競爭的方式將請求資料的指令傳送給協調者，接著協調者會立即回覆確
認訊框並且以相同的競爭方式將資料傳送給感測節點。感測節點在收到
協調者所傳送的資料以前，不能進入休眠狀態，必須等到感測節點回覆
確認訊框(協調者有要求的話)後才能進入休眠，如圖 6a 所示。若在無同
步訊框的網路中，則少去了傳遞同步訊框的動作，如圖 6b所示。 
Coordinator
Network
Device
Beacon
Data Request
Acknowledgment
Data
Acknowledgment
 
圖 6a、在有同步訊框的網路中由協調者傳送資料的步驟 
 16 
Frame
Control
Beacon
Sequence
Number
Src. Address
Information
Superframe
Specification
GTS
Fields
Pending
Address
Fields
Beacon
Payload
FCS
Preamble
Sequence
Start of Frame
Delimiter
Frame
Length
4 1 1
2 1 4 or 10 2 k m n 2
MPDU
7 + (4 or 10) + k + m + n
MHR MSDU MFR
PPDU
SHR PHR PSDU
13 + (4 or 10) + k + m + n
Octets:
PHY
Layer
MAC
sublayer
Octets:
 
圖 7、同步訊框的架構 
Frame
Control
Data
Sequence
Number
Address
Information
Beacon
Payload
FCS
Preamble
Sequence
Start of Frame
Delimiter
Frame
Length
4 1 1
2 1 4 or 20 n 2
PSDU
5 + (4 to 20) + n
MHR MSDU MFR
PPDU
SHR PHR MPDU
11 + (4 to 20) + n
Octets:
PHY
Layer
MAC
sublayer
Octets:
 
圖 8、資料訊框的架構 
information)。第二部份為媒體擷取控制服務之資料單位 (MAC service 
data unit, MSDU)，包含了超級訊框的詳述、保留時槽的詳述、上層程式
所需要的資訊。第三部分為媒體擷取控制標尾 (MAC footer, MFR) 僅包
含訊框之錯誤偵測 (frame check sequence, FCS) 欄位，如圖 7所示。 
資料訊框 (Data Frame) 
資料訊框是用於傳送上層應用程式的資料，當協調者或裝置在超級訊
框中取得了可以傳送資料的時槽，便會將資料封裝在資料訊框中送出。同
步訊框共分為三部分，第一部分為媒體擷取控制標頭，包含了訊框控制、
資料訊框序列號碼、來源端位址及/或目的端位址資訊。第二部份為媒體
 18 
Frame
Control
Data
Sequence
Number
Address
Information
Command
Payload
FCS
Preamble
Sequence
Start of Frame
Delimiter
Frame
Length
4 1 1
2 1 4 or 20 n 2
PSDU
6 + (4 to 20) + n
MHR MSDU MFR
PPDU
SHR PHR MPDU
12 + (4 to 20) + n
Octets:
PHY
Layer
MAC
sublayer
Octets:
Command
Type
1
 
圖 10、MAC命令訊框的架構 
體擷取控制標頭，包含了訊框控制、同步訊框序列號碼、來源端位址及/
或目的端位址資訊。第二部份為媒體擷取控制服務之資料單位，包含了命
令的代號及相關的資訊。第三部分為媒體擷取控制標尾僅包含訊框的錯誤
偵測欄位，如圖 10所示。 
媒體擷取控制指令訊框共有九種，在啟動同步訊框的個人區域網路中
只能夠在競爭週期中傳遞，但在沒有同步訊框的個人區域網路中則是能夠
在任何時間內傳遞，以下則是對於各個指令的詳細描述： 
指令訊框代號 指令名稱 描述 
0x01 
Association 
Request 
網路裝置(可以是完全功能裝置，也可以是
簡化功能裝置)向協調者提出聯結的要求 
0x02 
Association 
Response 
協調者在網路裝置提出聯結要求後，回覆要
求聯結之結果給感測節點 
0x03 
Disassociation 
notification 
中斷聯結的通知，目前只定義兩種： 
1. 協調者希望網路裝置離開個人區域網路 
2. 網路裝置希望離開個人區域網路 
0x04 Data Request 網路裝置請求協調者傳送資料 
0x05 
PAN ID 
conflict 
notification 
網路裝置若發現個人區域網路 ID與其他
網路裝置衝突，則會發出一個通知告知協調
者。當然，協調者也可以主動發現衝突而通
知大家。 
 20 
括隱藏節點出現情況；沒效率的倒退機制，以及因等待由協調者 (coordinator) 回
覆資料訊框 (data frame) 而造成耗電等… 
以下我們針對此三種缺陷做深入地介紹： 
隱藏節點問題 (Hidden node problem) 
在所有感測節點 (sensor node) 都操作在相同傳輸距離的環境下，位在個人
區域網路 (personal area network, PAN) 中央的協調者雖然其傳輸範圍可以涵蓋
所有的節點，可是任兩個節點之間卻不一定可以接收到對方所傳送的訊號，如
同圖 11所示。當有個無法被網域下其他每個節點的傳輸範圍所涵蓋的節點成功
地競爭到網路使用權時，由於其廣播 (broadcast) 的資料訊框或是媒體擷取控制
命令訊框 (MAC command frame) 除了協調者之外並不被其他網路節點所接收
到，所以那些收訊不到的節點會認定網路處在無人使用的狀態，進而將欲傳送
的訊框上傳給協調者，這時兩個不同來源的訊框會在協調者的周圍發生訊號疊
加的衝突狀況，此種碰撞 (collision) 情況會讓協調者無法辨認任一個上傳的訊
框，所以到節點傳送完畢前的這段時間都是網路資源的一種浪費。以上問題不
僅發生在 802.15.4低速率低功率的無線個人區域網路而已，早在 IEEE 802.11所
制定的無線區域網路  (wireless local area network, WLAN) 中便有此一問題存
在，只是 802.11使用名為 RTS (require to send) 以及 CTS (clear to send) 的訊框
犧牲傳輸頻寬來解決此缺點，並稱此種缺點為隱藏節點問題。而今天 IEEE 
802.15.4 的媒體擷取控制協定卻沒針對隱藏節點問題去做修正，理由是他們認
為在低資料量的應用裡，這問題所帶來的浪費並不值得被考慮，但當感測節點
所產生的資料量稍稍增加至某個基準值(threshold value)時，最糟糕的情況是網路
會持續被不同的來源干擾，如圖 12所示。圖 12表示節點 1節點 2與節點 3 節
點 4 之間互相存在隱藏節點的問題，同顏色的兩個節點本身可以接收到彼此傳
送給協調者的訊號以避免碰撞發生，可是不同顏色的節點由於無法判斷對方是 
 22 
Channel
Node
Busy
Sleep listen
Idle Idle
Sleep
Busy
listen
Sleep
Idle Busy
listen
Sleep
data
arrival
backoff
time
backoff time backoff time backoff
time
 
圖 13、節點在低網路使用率情況下仍無法順利傳送訊框 
機個單位倒退週期之後才可喚醒原先處於休眠狀態 (sleep mode) 的接收器 
(receiver) 進入監聽模式 (listen mode)，然後透過實體層(physical layer)接收器的
頻道訊號評估器 (clear channel assessment) 來判斷是否有人正在使用網路。假如
連續監聽到網路處於無人使用狀態 (idle mode) 長達兩個單位倒退週期，則感測
節點會立即將訊框傳送給協調者；反之，當監聽期間如果有聽到訊號的傳輸，
則感測節點會認定網路正處於忙碌狀態 (busy mode)，此時接收器會再次進入休
眠狀態，感測節點會將原先隨機選取倒退時間的範圍放大一倍，然後從中挑出
新的數字以作為接下來所需倒數的時間，這個隨機範圍會隨著每次發現網路忙
碌的次數而呈 2 的指數次方的方式成長，其最大可達 2 的 5 次方。如上述步驟
發展，當新的倒退時間倒數完畢後，接收器會再次被喚醒執行監聽的動作，不
同的是當節點成功送出訊框之後，原本因發現網路處於忙碌狀態而增長的隨機
範圍會歸回最初 0到 2的 3次方之隨機最小範圍。 
這種以倒退方式為主的禮讓競爭機制基本上是有缺陷存在的，理由是此競
爭方法下的節點有多數時間都讓接收器處在休眠的狀態，因為節點每次經過長
時間的休眠狀態才會醒來花費一個相較極短的時間進行網路的監聽工作，因此
節點只有一點點的機會能夠發現網路是處於無人使用的狀態。最糟糕的情形是
當一筆訊框送至尾聲，卻讓一個剛起來的節點必須返回休眠狀態，而當此訊框
送完之後或許有一段無人競爭的空窗期，卻因感測節點已經返回休眠狀態而無
法察覺。如此一來，這種讓傳輸效能低落的情形將會隨著網路負載量 (traffic load) 
 24 
C. 硬體設計 
計畫執行期間，吾人委託志豐電子公司幫忙設計 Zigbee 網路裝置，根據生
產的時間點可分為兩個版本，第一代裝置係由簡易 PCB電路搭載 Atmel公司的
ATmega128 微處理器 [2] 以及 Chipcon 公司 (現已被 TI併購) 的 CC2420無線
送發器 [3] (如圖 15)。而第二代的 Zigbee 裝置所採用的系統整合晶片(SoC)為
Chipcon公司最新研發之 CC2430晶片 [4] (如圖 16)，不僅可以節省製作成本亦
可提供更穩定的系統控制能力。 
在此開發平台上，可我們將編寫之程式碼載入至平台上進行通訊協定的驗
證，進而讓兩個開發平台間的無線傳輸透過程式碼的方式而標準化。另外在開
發程式的過程中，除錯及驗證各程序則是採用 Chipcon公司的 CC2420 DK (如圖
17)，此測試平台可以擷取在空間中 Zigbee 頻帶的訊號，並且透過 PC 端 GUI
介面展示 (如圖 18) IEEE 802.15.4 (Zigbee) 的標準封包格式。進而判斷所撰寫之
程式碼是否正確以及通訊協定的程序是否滿足 IEEE標準。 
 
圖 15、第一代 Zigbee裝置 
 26 
透過以上 Zigbee 裝置以及開發平台，吾人可以建立集中式管理型網路 
(infrastructure network) 以及多點跳躍型網路 (peer-to-peer multihop network)。這
些裝置預計裝設在導盲磚底下，透過唯一識別碼的傳輸通知，將可使攜帶特殊
導引柺杖的視障者知道其所在地點與資訊。 
D. 作業系統設計 
軟體開發上，吾人首先改良 TinyOS而設計了簡易迷你型作業系統，架構在
此作業系統上撰寫所需 Zigbee 通訊協定之各項功能。先前提到本計畫所採用之
Zigbee 裝置因開發時間而先後分為兩個版本，這兩個版本所使用的微處理器並
不相同，因此第一版所使用的程式無法直接套用於下一代。這的確使開發作業
系統與無線通訊協定帶來諸多不便，但有鑑於成本的下降與效能的提升，所以
這些付出相當值得。 
本計畫所採行之作業系統架構大致上可分為：輸入輸出控制、中斷監測、
休眠狀態控制、網路傳輸中介控制、以及提供給應用程式所使用的介面
(application programming interface, API)，其架構如圖 19。 
 
圖 19、本子計畫之作業系統架構 
 28 
眠狀態控制區會週期性要求週邊設備以及部份系統功能區回報其狀態，透過統
計與簡易預測分析，休眠狀態控制區會決定接下來一段時間內，有哪些週邊設
備與部份系統功能區會被強迫要求進入睡眠狀態。除了中斷監測與本休眠狀態
控制區會持續維持在工作狀態之外，其餘的週邊設備以及系統甚至微處理器運
算功能都有可能進入休眠狀態。 
中斷監測 (Interrupt Control) 
幾乎所有的處理器都有支援硬體中斷監測功能，而作業系統本身可以再增
加軟體中斷能力。綜合來說，兩種中斷的目的都是為了能提供緊急性的事件或
程序立即性地處理。處理器會根據緊急程度來決定處理的先後順序，而其暫停
的工作狀態會被處理器存放在專屬暫存器裡。在吾人研製的 Zigbee 裝置裡，定
義了幾種中斷狀況，其包括：Zigbee 硬體上的資料進入、各設備/區塊省電週期
結束、電力不足通知與異常觸發等…。當訊號進入 Zigbee 模組後並被判定接收
成功時，Zigbee 模組會發出中斷訊息號以要求微處理器盡快將封包收進網路傳
輸中介控制區。另一方面，處於休眠中的各裝置會在每個休眠週期結束的時候
清醒並發出中斷詢問是否需繼續休眠。剩餘電量可以藉由外接元件來偵測或是
處理器本身可以提供此一功能，因此當發現電量不足時，處理器或是連接外部
電量偵測元件的 GPIO腳位可以觸發此種中斷。至於其他各式異常狀況的發生亦
可藉由中斷功能通知系統。 
應用程式介面(application programming interface, API) 
應用程式可架構在系統上來執行，其與系統之間的溝通介面則稱為 API，本
作業系統提供應用程式數種函式，使應用程式可以透過 API 對週邊設備、輸出
輸入單元、記憶單元、運算處理單元與 Zigbee 無線網路進行操控。吾人採用仿
WinCE模式透過物件識別碼 (Object Identification, OID) 以對系統所管轄的各物
件進行控制。只要呼叫 orderObject(TYPE_OID oid, void *input) 此函式並代入
 30 
導盲磚進行改造可節省時間與人力。圖 20為淡江大學商學院到大學城小吃街的
路線圖，此段路本身已有導盲磚的鋪設，在每數格導盲磚中設置一組無線 Zigbee
裝置以透過多點跳躍的方式將網路串聯起來，於是透過終端機介面可以隨時反
應持有電子柺杖的使用者其所在位置。如圖 20所示，黃色的節點為一般導盲磚
而綠色的節點則為內嵌 Zigbee 無線網路裝置的電子導盲磚。假設使用者從點 1
出發目標為右方的大學城小吃街，首先當他走到點 2 的時候，由於這些 Zigbee
裝置互相已經建立點對點跳躍式傳輸連線，因此點 2的 Zigbee 裝置可以分析出
使用者是從哪個方向走過來，因此可以語音告知右手方向可前往哪些地方而繼
續前進又可前往哪裡，這裡假設使用者聽從指示右轉往大學城的方向前進。途
中經過點 3 的時候會有語音告示左轉可前往文館正門、直走為大學城等說明。
最後到達點 4 的時候，語音系統除了說明各方向所能到達的地方之外，會額外
告知前方必須過一座小橋才能到達大學城用以提醒使用者小心安全。過程中，
使用者如有需求可按下重播按鍵再次聽取語音介紹方向資訊。 
如前章節所說，本計畫最終預期能提供路徑規劃的功能，由使用者在出發
前便可輸入目的地而讓資料庫搭配地圖檔運算出最佳路徑。然而在實作上受到
記憶容量與處理器能力的限制，最後未能實現此一功能。目前已完成的應用軟
體包括語音資料庫系統、使用者移動狀態的辨識、2D-座標系統、使用者位置回
報。Zigbee網路程式則是讓各個裝置定期回報資訊。圖 21為透過終端機軟體去
顯示使用者移動的路徑，藉由各 Zigbee 裝置週期性回報的資訊可以測出使用者
隨時的位置。 
 
 
 32 
B. 網路通訊協定之改良 
針對之前介紹三個存在 IEEE 802.15.4的缺點，吾人分別提出了三種改進方
法。凍結競爭策略 (P-Frozen Contention Strategy) 用來偵測並解決隱藏節點問
題；而晝夜機制 (Day and Night Access Scheme) 使集中式與分散式網路同時存
在以節省電力消耗；以及輪流監聽策略 (Rotational Listening Strategy) 透過簡易
時程安排以追求更高傳輸效能卻又不失去與既有網路的相容性。 
凍結競爭策略 
吾人在發表於 IEEE VTC 2006 Spring研討會上的論文中首先提到一種因隱
藏節點問題而產生的嚴重連續碰撞情況，並對此情況提出一種偵測的機制以及
相對應之解決辦法 [5]。如圖 22a 中的節點關係也就是節點 A 與節點 B 同時對
節點 C 有隱藏節點的關係，此嚴重碰撞的起因在於有隱藏節點關係的節點們彼
此傳送而延長了已遭損毀封包之傳送時間 (如圖 22b)。 
當碰撞發生時，此碰撞可分為兩種情況，一種為節點們選擇在相同時間監
聽網路與傳送，此時訊號重疊始於兩封包的開始；另一種則為所提到的隱藏節
點碰撞，此時封包重疊的位置起始於封包 10 個位元長度之後 (當無線網路頻段
操作在 2.4 GHz時，一個最小的傳送時間單位為 10 bytes)。於是透過硬體分析錯
誤訊號的起始位置將可判定此次碰撞為何。一旦協調者確認此次碰撞起因於隱
藏節點問題時，會透過回覆一個特殊確認訊框來要求參與碰撞中的起頭節點停
止接下來的競爭行為 (如圖 23、24)，而另外在下次傳輸週期 (superframe) 配給
此節點一個專屬的傳送區段。 
為了解決此方法在網路使用率低時被凍結的節點失去可以成功競爭的時
間，因此額外提出 P堅持的策略以決定是否需要終止本次傳輸週期的競爭權力。
在這幾種策略的結合之下可有效舒緩隱藏碰撞情況並提升傳輸的效率。 
 34 
晝夜機制 
另一篇於 IEEE VTC 2006 Fall研討會上所發表的論文中 [6]，提出一種針對
感測網路所發展的效能改良方法。一般來說，感測網路中的節點負起監測各種
環境狀況，然後再將量測資料透過 Zigbee傳送給專門匯整資料的匯集點 (sink)。
此感測網路的架構極不利於集中式管理型傳輸系統，因為可以就近交換資料的
兩個節點 (其中一者扮演監測點；另者則扮演匯集點) 卻必須先將資料傳給協調
者，然後再由協調者轉送。假如監測點與匯集點為均勻分部於網路之中，此轉
送行為會對 59% (此為任兩節點彼此無隱藏節點關係的機率 [7]) 的資料交換帶
來多一倍的傳送延遲；另一方面，相同的監測點所獲取的資料若需回報給不同
的匯集點，則額外的負擔則相當於有需求之匯集點的數量減一。兩種因標準協
定而產生之非必須的花費，不論在時間上或是電力消耗上都付出可觀的代價。 
於是為了解決此問題，吾人挪用標準協定中存在於每個傳輸週期裡的非工
作週期做為特殊傳輸之用。傳輸週期可分為工作週期與非工作週期，原本 Zigbee
協定允許所有節點甚至協調者都可以在非工作週期裡進入完全休眠狀態，此目
的無非在於延長節點們的電池壽命，也因此非工作週期被稱為夜晚而工作週期
被稱為白晝。如今這段非工作週期中的監測點可以在此週期裡傳資料給匯集
點，前提是監測點與匯集點彼此並無隱藏節點的關係，也就兩節點間可執行直
接傳送 (如圖 25)。再延伸此方法，在此週期裡的監測點可以以群播 (multicast) 
的方式將資料同時傳送給所有有感測資料需求並且無隱藏節點關係的匯集點。 
 
圖 25、直接傳送與間接傳送的差異 
 36 
(b) Setup Indirect link between source and sink
Sink Coordinator Source
Query
ACK
BeaconBeacon
Data Request
ACK
BeaconBeacon
Query
active 
portion
inactive 
portion
active 
portion
inactive 
portion BeaconBeacon
(step1)
(step2)
(step3)
ACK timeout
BeaconBeacon
active 
portion
inactive 
portion
Data
ACK
(step5)
w/ inactive subperiod(s) 
assignment only for link 
from coordinator to sink  
Data
ACK
X
ACK
LSetup
LSetup
ACK
ACK
(step4')
w/ inactive subperiod(s) 
assignment only for link 
from coordinator to sink  
 
圖 26、直接傳送連線與間接傳送連線的建立過程 
在此白晝黑夜的傳輸搭配之下，各節點的溝通將會省去必要以外的負擔，
因此本方法可很有效率的改進原方法的缺失。 
輪流監聽策略 
為了兼顧高效率的網路傳輸機制和與標準 IEEE 802.15.4 通訊協定之相容
性，吾人於 IEEE ICC 2007的研討會上發表一種讓節點輪流監聽網路情況的競爭
協定，正確來說，當所有的節點都能遵照所規定的時間進行網路監聽，則可達
到非競爭的傳輸模式。 
在此方法下，每個節點在與協調者註冊連線時都會被分配一個識別碼，此
識別碼不僅提供身份判別外，還代表著監聽網路的順序性。每當一個傳輸週期
 38 
 
圖 27、以 2號節點為例的三種輪流監聽範例 
 
圖 28、編號重新分配範例 
 1 
出席國際會議報告 
 
第四屆國際資訊科技及應用會議 
 
莊博任 
 
淡江大學電機工程學系 
 
 
一、參加會議經過 
 
    國際資訊科技及應用會議（International Conference on Information 
Technology and Applications）為一年一度之國際性學術研討會，今年由
中國大陸哈爾濱市黑龍江大學（Heilongjiang University, Harbin, China）
所主辦。 
 
筆者被接受且於會上發表之論文題目為「用於無線感測網路之可靠
傳輸協定」（A Reliable Transport Protocol in Wireless Sensor Networks），
被安排於智慧型系統（Intelligent Systems）議程中發表。 
 
 
二、與會心得與建議 
 
    此一研討會會期為一月十五日至十八日共四天，由於與會者皆相當
重視此次議程，準備充分，因此每一場次的演講說明都很受肯定，可惜
礙於流程緊湊無法盡興聆聽。會中每個人除宣讀自己的論文外，亦踴躍
聆聽他人之解說並熱烈討論發問，成功地達到汲取新知、傳道解惑，並
互相認識結誼的學術交流目的。針對筆者所發表之論文，會中及會後皆
有聽眾提出問題討論，筆者亦一一切題回答。筆者十分珍惜此次參與研
討會時與各方碩彥同聚一堂的知性互動及友誼聯絡，尤其感謝主辦單位
的用心籌備，除了周全的議程安排外，親切周到的服務，在在令人感受
到主辦單位的真誠友善。趁著國際性盛會的場合，筆者藉機與多位學者
進行學術交流，更期望國內能多方爭取主辦類似的大型國際性研討會，
除可提昇我們的學術風氣及地位外，並可藉機會把自己國家的風俗民情
介紹給與會各國人士，增進大家對我們的認識與肯定。 
 3 
出席國際會議報告 
 
2007年國際嵌入式系統及軟體會議 
 
莊博任 
 
淡江大學電機工程學系 
 
 
一、參加會議經過 
 
    國際嵌入式系統及軟體會議（International Conference on Embedded 
Systems and Software）為一年一度之國際性學術研討會，今年於韓國大
邱(Daegu, Korea)舉行。投稿論文來自各國共三百八十七篇，經審查結果
被接受之論文計有七十七篇（不到百分之二十）。 
 
筆者被接受且於會上發表之論文題目為「用於無線感測網路具能源
效率之媒體存取控制」（Energy-Efficient Medium Access Control for 
Wireless Sensor Networks），被安排於 Pervasive/Ubiquitous Computing and 
Sensor Networks (I) 議程中發表，筆者亦忝為另一議程 Wireless 
Communication and Networks (II) 之主席（Session Chair）。 
 
 
二、與會心得與建議 
 
    此一研討會會期為五月十四日至十六日共三天，由於與會者皆相當
重視此次議程，準備充分，因此每一場次的演講說明都很受肯定，可惜
礙於流程緊湊無法盡興聆聽。會中每個人除宣讀自己的論文外，亦踴躍
聆聽他人之解說並熱烈討論發問，成功地達到汲取新知、傳道解惑，並
互相認識結誼的學術交流目的。針對筆者所發表之論文，會後亦有聽眾
提出問題討論，筆者皆一一切題回答。筆者主持議程時，聽眾發問相當
踴躍，激起不少之討論。筆者十分珍惜此次參與研討會時與各方碩彥同
聚一堂的知性互動及友誼聯絡，尤其感謝主辦單位的用心籌備，除了周
全的議程安排外，親切周到的服務，在在令人感受到主辦單位的真誠友
善。趁著國際性盛會的場合，筆者藉機與多位學者進行學術交流，更期
