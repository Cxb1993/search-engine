2 
 
統，並應用各種外形尺寸演算法，包括
最小平方法、霍氏轉換(Hough Transfer) 
且與立體成像原理作搭配，來評估應用
於微小元件量測的準確性。對微小外型
尺寸的量測系統主要使用變焦 CCD 擷
取待測物影像，即可轉換出待測物的外
型輪廓資訊，量測待測物體的外型輪廓
尺寸，張永鵬[9]利用影像處理建構以
個人電腦為平台的即時影像追蹤系統，
廖安清[10] 為探討一載帶成型機在設
計規格方面的可靠度問題，並且利用機
器視覺搭配影像處理做載帶成品檢測，
是否符合尺寸標準，余勇[13] 介紹了
一種新的基於面陣 CCD 的刀具測量系
統，解決了大尺寸刀具輪廓測量問題。 
本計畫針對刀具幾何形狀參數自動量
測作研究，陳[14]與孫[15]建立簡易型
機台測量端銑刀的幾何形狀參數，測量
的方式為人工尋找量測點並且陳以兩
點定一條直線與孫以滑鼠選取量測點，
將會有人為的誤差以及數據的精準度
會有偏差，本計畫使用影像處理自動偵
測找出端銑刀的邊緣外徑的影像像素
點座標(x,y)，將影像的像素點座標代入
最小方差法找出較為精準的數據，以影
像處理的方法解決人眼判別的誤差並
且利用最小方差法、邊緣偵測改良人工
用使用滑鼠選取量測點會產生的精度
偏差的數值。其中使用空間運算與最小
方差法改善端銑刀測量的方法稱為自
動影像端銑刀刀具測量法簡稱為自動
影像測量法，求取刀具幾何形狀上各相
關直線與角度。 
 
二、刀具幾何檢測方法 
本計畫之刀具量測的流程圖如圖 2.1 所
示，經過影像擷取的步驟，利用 CCD
攝影機擷取不同角度之刀具影像，使用
霍氏轉換或最小方差法進行刀具量測
以及直角端銑刀離隙角、餘隙角、球型
端銑刀直徑與圓弧半徑及端銑刀螺旋
角等特徵分析與偵測。 
 
 
圖 2.1、刀具量測的流程圖 
 
1.直角端銑刀直徑量測 
因為刀具的幾何外形是螺旋狀，所以影
像會有鏤空的情形，本計劃利用疊加的
技術解決鏤空的問題，簡單的圖示，直
角端銑刀外形輪廓的空間檢測關係，如
圖 2.2 所示，圖 2.2 為直角端銑刀之影
像疊加圖，然後利用影像的前處理二值
化、邊緣化處理，經過以上的影像技術
之前處理可以使得更容易找到邊緣的
各個影像像素點座標(x,y)。利用邊緣檢
測將找出影像像素點座標，將這些點座
標代入最小方差法中，將可以到刀具邊
緣的直線方程式，在影像中可以找出兩
4 
 
本計畫在檢測端銑刀螺旋角將利
用局部分析，再利用利用影像的前處理
二值化、邊緣化處理，經過以上的影像
技術之前處理可以使得更容易找到邊
緣的各個影像像素點座標(x,y)，利用邊
緣檢測找出影像的座標點並且代入直
線方程式中，偵測出平行直線求出刀具
外徑值 D，與刀具的螺旋導程 H，再利
用幾何運算求出刀具螺旋角。圖 2.6 為
螺旋角量測示意圖 
三、自動影像測量法實做 
1. 直角端銑刀直徑量測 
將直角端銑刀從 0 至 180 每隔
10 度利用CCD擷取影像，將擷取的18
張影像後轉為灰階，再將轉為灰階的影
像將減將18張刀具影像將減結果圖，再
將18張刀具影像將減結果圖相加就可
以解決刀具鏤空的情形，如圖3.1所示，
圖為刀具影像相加結果圖。將刀具影像
相加結果圖做局部分析以便找尋影像
像素點座標(x,y)，如圖3.1所式，圖3.1
為刀具影像局部分析圖，再對刀具影像
局部分析圖做自動影像邊緣處理找出
邊緣座標，如圖3.1所示，圖3.1為刀具
影像邊緣檢測圖。 
 
圖 3.1、直角端銑刀直徑局部分析圖 
由邊緣座標點(x,y)得到最佳逼近
直線方程式。直線曲線方程式的定義為
下(1)所示： 
f (x, y) = Ax + B= y (1) 
其中，A、B 均為實係數。而以曲線擬
合的方法求取最小平方差之直線係數
A、B 如下。  
































n
b
Xn
X
X
a
yn
y
y

1
1
2
1
2
1











nXn
X
X

12
11



b
a   
若令 A
nXn
X
X












12
11
， B
yn
y
y










2
1
 
可得 BAAA
b
a TT 1)( 

  (2) 
由最小方差法可將影像各條曲線的邊
緣點轉換為直線方程式的參數，將是我
們要的幾何直線方程式，此直線至偏差
距離平方的總和為最小時，即為所偵測
的幾何直線，故求直線方程式參數為
BAAA
b
a TT 1)( 

 。本計畫將邊緣檢測
圖做局部分析，將由各個方框內取30
組影像像素點座標，其中A框內的影像
像素座標點如表1所示， 將端銑刀A框
座標代入(2)式，為圖3.1之上方A框內
的直線方程式，可求出參數 


b
a ，得知
影像所偵測的直線方程式如下: 
    98y  
(3) 
如圖 3.1所示下方B框內的影像像
素座標點如表 2 所示，將端銑刀 B 框
座標代入(2)式，為圖 3.1 之上方 B 框
內的直線方程式，可求出直線方程式的
參數 


b
a ，得知影像所偵測的直線方程
式如下: 
a 
b 
6 
 
依照直線方程式式(4)得知此直線斜率
為 3.5334，本文所要量測之離隙角即是
(4)式與垂直線之間的角度如(5)式為軸
向餘隙角之計算方法，如下 
軸向餘隙角=90°- 1tan  (3.5334) 
          =15.8167°        (5) 
離隙角:  
將軸向離隙角影像處理後的圖如
圖 3.7 進行局部分析及做自動影像邊緣
檢測法進行邊緣檢測，經過邊緣檢測後
找出邊緣各個座標(x,y)，偵測的邊緣點
座標如表 4 所示，共計六十個座標點，
在利用最小方差法求出幾何直線方程
式參數如式(2)，將邊緣點座標代入(2)
式，為圖之上方紅框內的直線方程式，
可得知影像所偵測的直線方程式如下: 
   7.2501014.8  xy  (6) 
依照直線方程式式(6)得知此直線斜率
為 8.014，本文所要量測之離隙角即是
(6)式與垂直線之間的角度如(7)式為軸
向離隙角之計算方法，如下 
軸向離隙角=90°- 1tan  (8.014) 
          =7.11°           (7) 
3.圓形端銑刀直徑與圓弧半徑量測 
因為圓形端銑刀的幾何外形與直
角端銑刀都是螺旋狀，所以影像也會有
鏤空的情形，依照直角端銑刀的步驟並
利用影像的二值化處理，將得到解決如
鏤空的情形的影像，如圖3.8所示，圖
3.8為圓形端銑刀刀具影像相加結果圖
。將圓形端銑刀影像相加結果圖做局部
分析以便找尋影像像素點座標(x,y)，再
對圓形端銑刀影像局部分析圖的局部
分析做自動影像邊緣處理，如圖3.9所
示。  
 
圖3.8、圓形端銑刀影像相加結果圖 
 
圖3.9、圓形端銑刀影像局部分析圖 
圓形端銑刀直徑: 
本計畫將邊緣檢測圖做局部分析，
如圖3.8所示，將由各個A方框內取30
組影像像素點座標，其中A框內的影像
像素座標點如表5所示， 將端銑刀A框
座標代入(2)式，為圖3.9之上方A框內
的直線方程式，可求出直線方程式的參
數 


b
a ，得知影像所偵測的直線方程式
如下: 
   86y  (8) 
如圖 3.9所示下方B框內的影像像素座
標點如表 6 所示，將端銑刀 B 框座標
代入(2)式，為圖 3.9 之上方 B 框內的
直線方程式，可求出方程式的參數 


b
a ，
得知影像所偵測的直線方程式如下: 
   404y  (9) 
依照二條方程式得知(8)式與(9)式
為相互平行之直線方程式，因為(8)式與
(9)式為相互平行之直線方程式，所以將
可以找出兩平行線之距離如以下(10)式
a 
b 
c 
8 
 
具上緣的直線方程式，並可求出直線方
程式的參數 


b
a ，得知影像所偵測刀具
上緣的直線方程式如下: 
   31.323y  (16) 
刀具下緣的影像像素座標點如表
9 所示，將端銑刀刀具下緣的座標代入
(2)式，可得刀具下緣的直線方程式，
得知影像所偵測刀具下緣的直線方程
式如下: 
   33.741y  (17) 
依照二條方程式得知(16)式與(17)
式為相互平行之直線方程式，因為(16)
式與(17)式為相互平行之直線方程式，
所以將可以找出兩平行線之距離如以下
(10)式所示，刀具直徑計算方法如下 
刀具外徑 D =741-323=418(像素)
＊0.0087=3.63(mm) 
 
其中本計畫在影像像素檢測下的
Pixel 校正時，其 1 pixel 換算為實際距
離為 0.0087mm。 
端銑刀導程: 
為了取得關鍵的局部邊緣檢測座
標點，由刀刃導程左緣上取 250 組影像
像素點座標，其影像像素座標點如表
10 所示，將刀刃導程左緣上點座標代
入(2)式，得知影像所偵測刀刃導程左
緣的直線方程式如下: 
   24.45456.0  xy  (18) 
而刀刃導程右緣上取的影像像素座標
點如表 11 所示，將端銑刀刀刃導程右
緣上點之座標代入(2)式，可得刀刃導
程右緣的直線方程式如下: 
   1.11456.0  xy  (19) 
如圖 3.10 所示為刀具外徑與導程自
動偵測的直線，依照方程式得知(18)式
與(19)式為相互平行之直線方程式，因
為(18)式與(19)式為相互平行之直線方
程式，斜率都為 0.56，利用兩直線方程
式的 x 捷距相減，將可以找出端銑刀導
程如以下(20)式所示，刀具導程計算方
法如下 
(18)式 x 截距= 24.811
56.0
24.454   
(19)式 x 截距= 75.203
56.0
1.1141   
刀具導程 H =-811.24-(-203.75) 
=607 (像素)*0.0087=5.28(mm) 
 
(20) 
外徑值必須乘以刀把所旋轉的角度值
g°，真正螺旋路徑長 RD 為 
 
)(85.2
360
90** mmDRD 
   (21) 
由 RD 及 H 值即可求得螺旋角度值  
 螺旋角 α= 


H
RD1tan 28.3° 
(22) 
 
圖 3.10、刀具外徑與導程的直線 
5. 量測結果驗證分析 
將將把前述的量測功能做數筆量
測數據，本針對值角端銑刀做外徑、離
(餘)隙角的量測、球型端銑刀做圓弧半
徑的量測並且以球型端銑刀做影像疊
加之直徑量測。 
5.1、直角端銑刀直徑量測 
 
D 
10 
 
End-mill with Constant Pitch,” Journal 
of Materials Processing Technology, 
2001, pp. 265-270.   
[3] C.T. Wu, C.K. Chen, “Study on Rotating 
Cutters with Different Definitions of 
Helical Angle”, International Journal of 
Advance Manufacturing Technology, 
2001, pp.627-638. 
[4] K.N. Prasad, B. Ramamoorthy, “Tool 
wear evaluation by stereo vision and 
prediction by artificial neural network,” 
Journal of Materials Processing 
Technology, May 3, 2001, pp. 43-52. 
[5] W.H. Wang, G.S. Hong, Y.S. Wong, 
“Flank wear measurement by a threshold 
independent method with sub-pixel 
accuracy”, International Journal of 
Machine Tools and Manufacture, Volume: 
46, Issue: 2, February, 2006, pp. 199-207 
[6] 林俊廷，『機器視覺應用於射出件檢驗
之研究』，虎尾科技大學，碩士論文，
民國95年。 
[7] 馮信榮，『二維影像於三維輪廓重建之
研究』，國立台灣大學機械工程研究所，
碩士論文，民國 90 年。 
[8] 蕭裕昌，『應用影像量測技術於微小元
件之外型尺寸量測之研究』，淡江大學
航空太空工程學系，碩士論文，民國
93 年。 
[9] 張永鵬，『影像追蹤方法應用在監控系
統之研究』，中原大學，碩士論文，民
國 91 年。 
[10]廖安清，『IC 晶片表面黏著載帶快速
成型機之系統整合分析』，國立虎尾科
技大學，碩士論文，民國 96 年。 
[11]潘政晟，『自校準繞射式雷射光學尺之
設計與實驗』，國立臺灣大學/應用力學
研究所，碩士論文，民國 90 年。 
[12]陳麒翔，『人性化端銑刀與鑽頭研磨資
料庫系統開發』，國立虎尾科技大學，
碩士論文，民國 97 年。 
[13]余勇，『基於 CCD 的數字圖像刀具測
量技術研究』，中國科學院光電技術研
究所，碩士論文，民國 95 年。 
[14]陳照凱，『簡易型刀具幾何檢測機台開
發』，國立虎尾科技大學，碩士論文，
民國97年。 
[15]孫逸斌，『簡易型刀具幾何檢測機台開
發』，國立虎尾科技大學，碩士論文，
民國97年。 
[16]李廣齊，『電腦輔助垃圾特性自動辨識
系統之研究(二)』，國立台灣大學慶齡
工業中心，民國81年。 
[17]徐偉邦，『運用影像分割技術於精密零
件幾何形狀辨識』，元智大學機械工程
研究所，碩士論文，民國94年。 
[18]姜義浪，『切削刀具學－切削刀具研磨
技術』，全華科技，民國87年。 
[19]蔡博智，『影像追蹤方法應用在監控系
統之研究』，中原大學，碩士論文，民
國91年。 
[20]謝忠明，『銃刀設計與加工特性之研
究』，國立中山大學，碩士論文，民國
94年 
[22]D.Hearn,M.P. Baker,“Computer 
Graphics”,2nd Edition, Prentice Hall, 
New York, 1994。 
[23]Y. Takagi, A. Tsujikawa, M. TaKato,T. 
Saito, M. Kaida,1998, “Development of 
anonc-Ontact liquid level measuring 
system using image processing,”Wat. Sci. 
Tech. Vol.37, No. 12, pp. 381-387. 
 
註：表 1 至表 11 詳見完整報告中。  
