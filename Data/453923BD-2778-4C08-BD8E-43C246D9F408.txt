中文摘要 
    利用 2D 影像重建 3D 人臉一直是受到重視的研究領域之ㄧ。本
計劃有鑒於 3D 人臉重建之相關應用日益增多，從最熱門電影科技產
業到走向具有藝術收藏價值的公仔、3D 水晶飾品，發展出一套快速
之 3D 人臉重建系統，以兩張 2D 影像配合一個基礎人模為條件，經
過影像與人模前處理後，以 Morphing 為核心演算法藉由影像之特徵
位置來變形人模之外觀。最後針對不足之處，後續由自由造型變形功
能來快速調整差異，最後重建出個性化之 3D 人臉。 
2D 影像之特殊影像處理將人臉影像轉換為以點密度疏密分佈呈
現之人臉，配合一事先準備的標準人模，以 Morphing 快速產生目的
人臉，不同於一般人臉研究最後以貼圖技術呈現結果，本研究最後所
呈現的為ㄧ個 3D 空間點資料分佈之人臉，並以 Bezier 與 B-Spline 數
學模型為主建構出具有整體變形與局部變形之編修工具，使得重建出
之 3D 人臉有更豐富的變化。 
 歸納上述所言，本計劃成效除了節省硬體成本之外，透過編修功
能可以增加產品之多樣性、提昇競爭能力。   
 
 
 
 
 
 
 I
目錄 
中文摘要..................................................................................................Ⅰ 
英文摘要..................................................................................................Ⅱ 
圖目錄..................................................................................................... Ⅳ 
(一) 前言...............................................................................................................001 
(二) 研究目的......................................................................................................002 
(三) 文獻探討......................................................................................................004 
(四) 研究方法......................................................................................................014 
 4-1 人模處理...................................................................................014 
 4-2 亂點資料之進行鄰近點搜尋...................................................015 
 4-3 最小平方法擬合法向量...........................................................015 
 4-4 變形演算法基礎理論介紹.......................................................016 
 4-5 扭曲(Warping)的演算法簡介...................................................017 
 4-6 粗定位.......................................................................................017 
 4-7 側邊輪廓自動偵測...................................................................018 
 4-8 側邊特徵偵測方式...................................................................018 
(五) 結果與討論.................................................................................................023 
(六) 計畫成果自評............................................................................................027 
(四) 文獻參考.......................................................................................032 
 III
成傷害；再者，人臉具有獨一性，每個人的臉部除了由簡單之五官組
成外，表面覆蓋有皮膚，並有肌肉與骨骼之動作配合，使人臉可以產
生許多種表情資訊，為該人臉獨特之表情特徵，因此如果僅靠掃描機
擷取各種表情不僅耗時費力，而且後續更須經過一連串處理才能提供
應用，顯得相當麻煩。 
除了上述之 3D 物體重建方式外，利用照片重建 3D 物體是另一種選
擇，當取得物體影像資訊時，藉由原先提供之相似 3D 物體，找出兩
者間之關係後，透過變形之演算法，最後將可以產生影像中物體之
3D 形狀，達到重建 3D 之目的。    
 
(研究目的) 
 
本計劃的研究流程如圖 1-1 所示，目的為重建出相似度極高之 3D
人臉。依據提供目標人臉的影像，配合一個近似 3D 人臉資料，透過
互動式人機介面，點選出相同特徵位置之變形特徵點，藉由 Morphing
之演算法，最後重建出影像中人物之 3D 狀態。 
 
不同於之前許多研究僅以網格化之 3D 人模為基礎模型，我們增
加以點資料為基礎的 3D 人臉模型，不需重建三角網格即可以進行變
型與彩現動作。 
 2
(文獻參考) 
 
重建 3D 人臉方式總覽 
3D 人臉的重建與變形技術一直是國內外視覺化領域研究機構所
重視的主題之ㄧ，其困難度不在話下，乃因為每個人都是獨一無二的
生命體，有獨特的表情、神韻。因此如何重建出一個”看起來像”或”
感覺像”的 3D 虛擬人模是一個很重要的挑戰。 
在 3D 人臉重建技術中，利用硬體設備直接擷取人臉表面點資料
為最快速且最真實之方式，如雷射、立體照相機等方式。也有利用
2D 圖片資訊重建３D 人臉模型的方式，但大都限制於硬體設備與技
術而無法大量商業化與真實呈現出生動的 3D 結果。 
因此根據 Lee[1]所提出的人臉重建方法大概可以分為以下五種： 
1.Laser scanning. 
利用雷射掃瞄機擷取 3D 臉部表面資訊，此種方式僅需架設硬體
即可使用，快速、準確但設備昂貴，擴充性低，且有恐傷害眼睛之顧
慮。  
2.Stripe generator. 
以結構光為主動光源，配合條紋產生器，在物體表面產生條紋分
佈，接著利用 CCD 取樣透過運算，得到物體表面真實位置，此種方
式亦可以用來重建 3D 臉型，且其在硬體設備費上比雷射掃瞄機便宜。 
 
 
 4
   
    圖 3-2  定義特徵點之基礎人模與目標影像[3]  
 
 
影像重建 3D 人臉分類 
 利用 2D 影像重建真實 3D 人臉是難度相當高的挑戰。原因在於人
臉是一個由平滑且連續的曲面構成，當擷取其 2D 影像後無法有效率
的萃取出 2D 影像中的”特徵資訊”，所謂人臉中的”特徵資訊”指的是
五官的位置、輪廓與臉型等，透過萃取出這些特徵資訊後，再搭配事
先準備好之基礎人模，利用變形演算法重建 3D 人臉。 
 2D 影像所具有的 3D 重建資訊除了上述所提及五官位置、輪廓與
臉型之外，影像上每一個像素點皆具有灰階值，當 2D 影像擷取之環
境沒有雜訊影響且假設唯一光源由正前方投射至人臉上時，擷取之
2D 影像根據臉部斜率分布則可以清楚呈現漸層的明暗變化。 
 
 
 
 6
Pighin[6]提出不同視角之照片重建具有與相片中人物高等特
徵相似度的人模，利用Non-linear least squares structure from 
motion演算法求出在影像中特徵點之預測位置與真實位置之誤差
最小值，並以此為依據變形基礎人模，建構出所欲之人臉，加上
貼圖技術且透過 ”形變” 的演算法可以流暢的重建出兩個表情人
臉間的中間狀態。 
 
2. 影像灰階度重建 3D 人臉 
 
Castelan[7]為了改善利用 shape from shading 技術產生影像高
度值所造成一些局部特徵重建不完整的問題，如鼻子部份的重
建。除可以確保重建結果之凸殼特性，更可根據曲面上的特徵更
改重建完後之針刺圖的法向量方向。 
 
Atick[8]針對數以百計的雷射掃瞄之 3D 人臉，利用
PCA(Principal Component Analysis)將其參數化，針對要重建之 2D
影像過 shape from shading 演算法解出係數後，便可以重建出 3D
人臉，透過貼圖技術便可呈現生動的視覺效果。 
 
 8
[24]提出以攝影機為影像擷取工具針對所得之一連串影像透
過定位等前處理後，可以根據影像中之臉部姿勢計算出臉部方位
角，再調整基礎人模之姿勢，並以Canny Edge Detection判斷出邊
界 以Random Search演算法變形基礎人模至所欲之外型，其結果
建構出一臉部重建系統 並且不受到任何環境因素包括光線，姿
勢之影響。 
 
 
            圖3-4 shape form silhouettes 示意[2] 
 
以特徵點方式重建 3D 人臉   
Blanz[10]強調可以透過一張正面影像所提供之特徵資訊變形三D
基礎人模，更可以使用電腦輔助之使用者主觀的調整基礎人模之五官
位置或臉部表情來達所欲變形之結果，再透過貼圖技術完成高相似度
之人臉，然而單純利用一張影像所建構出之人臉在正面看時很像，但
在轉到側面後即可以發現輪廓之差異。 
 
 10
Pyun[14]提出以 Example-Based 之表情複製方法，藉由定義出多
達 84 種之表情人臉後，參數化基礎人模再根據事先定義之特徵點建
構起基礎人模與目標人模之變形關係，藉由 RBF(Radial Basis 
Function)來完成表情複製的目的，且因為是以特徵點方式變形，本研
究中之表情複製方式也可以套用在無拓樸關係之表情變化上。 
  
                   圖3-5 表情複製[14] 
 
自由造型變形 
 
[25]首先提出自由造型變形之演算法，強調可以應用到任何資料
結構之物體變形上，包括 CSG、B-Rep 等，更可以應用到全域與局部
變形上。其方式乃是透過控制控制點所包裹之物體範圍來達到控制變
形之目的，本研究以三次多項式之演算法來建構控制點與物體間之關
係，並提供使用者以調整控制點之方式直覺的達到變形的效果。 
 [26]研究在遊戲世界中變形技術，探討何種變形技術適合應用於
動畫中，包括全域變形、局部變形及以網格為基礎與點為基礎之變形
 12
(研究方法) 
4-1 人模處理 
 Surfel 為”Surface Element”的縮寫，是目前最新的曲面表示方
式，如下圖 3-1 所示，對於一筆無次序性的亂點資料，我們僅僅知道
每一個點的空間座標位置，只需要針對每一個點建構出一個圓盤，讓
每個圓盤有相疊的情況發生即可以鋪設出平滑、封閉的曲面。因此
Surfel 的技術只須計算出其法向量與半徑後就可以呈現出彩現的結
果，不僅加快繪圖速度更節省記憶體耗費。 
                 
               圖 4-1  Surface Element 示意圖[16] 
 
          圖 4-2  Surface rendering 示意圖[17] 
 14
   
          圖 4-4 Surfel 繪圖結果與細部情況 
 
 
4-4 變形演算法基礎理論介紹 
 2D 影像重建 3D 人臉之關鍵即是建構起 2D 影像與 3D 人臉之橋
樑，使得原本不相干之影像與人模有所關連，為完成此目的-對應特
徵點是一種方式，透過選取不同人臉上之相同特徵位置後，必須進行
所謂的擬合動作，根據目標特徵點，即影像中之特徵位置，進而將基
礎人模上的特徵點位移至目標特徵點上，其餘的 3D 點資料則根據特
徵點所計算出來之轉換矩陣，求得最後變形後位置，此即所謂的”扭
曲(Warping)，扭曲為影像處理中所使用之科技，應用在 3D 人臉變型
上可以達到快速變形的效果。 
 
 
 
 16
旋轉、平移，縮放後，與 2D 影像上之特徵點疊合之結果。 
  以矩陣表示為： 
                                  [ ]
Ni
i
i
i
Ni
i
i
i
z
y
x
T
z
y
x
≤≤≤≤
⎥⎥
⎥⎥
⎦
⎤
⎢⎢
⎢⎢
⎣
⎡
=
⎥⎥
⎥⎥
⎦
⎤
⎢⎢
⎢⎢
⎣
⎡
′
′
′
11 11
  將以特徵點計算之粗定位矩陣與剩餘所有非特徵點之 3D 人臉資
料點計算，最後求出粗定位後之 3D 人模最新資料點。 
 
4-7 側邊輪廓自動偵測 
  
 以單一張 2D 影像重建 3D 人臉，由於只具有正面 X-Y 方向之資
料，因此在重建過程中無法準確的呈現出真實的側邊輪廓效果，本章
節中 除了增加另一張側邊影像提供在變形中所需之高度資訊，更嘗
試將側邊擬合自動化。而在正面與側面擬合之過程中，其關鍵乃在於
如何正確將正面與側邊影像定位，並找出在兩者之間共同之特徵點，
如果無法準確得到對應關係將會造成變形結果產生扭曲。 
4-8 側邊特徵偵測方式 
基礎人模所判斷出之側邊輪廓只有臉部部分具有利用價值，因此
必須將剩餘部份截除，進行後續判斷，所使用之方法乃是考量到人臉
結構分佈在有條件的判斷下逐一搜尋所定義之特徵點，本研究所定義
之特徵點如下所示： 
 18
輪廓線曲率中心位置之 X 值大於該點。 2.斜率變化最大。3.高度大
於鼻頭點。如下圖所示： 
            
圖 4-8 眼窩點判斷結果 
 4.嘴巴：嘴巴特徵點是鼻頭點以下第一個判斷出之特徵，其滿足
條件為 1.輪廓線曲率中心位置之 X 值大於該點。 2.斜率變化最大。
3.高度小於鼻頭點。如下圖所示： 
               
圖 4-9 嘴巴位置判斷結果 
 
 5.上嘴唇：位於鼻頭點與嘴巴之間，且滿足條件為 1.輪廓線曲率
 20
          
 
          
   圖 4-12 影像輪廓偵測與特徵判斷結果 
 
 
 
 
 
 
 
 22
正面與側面影像半自動重建 3D 人臉 
  
                 
(A) 輸入側邊影像與人模 
            
(B)影像與人模粗定位 
            
(C)影像與人模側邊特徵判斷與擬合 
 24
      
(G)選取對應特徵點 
 
               
       
          
                 
    (H)變形結果 
     圖 5-2 自動方式重建結果流程 
 
 26
 Free Form Deformation 原理 
FFD 乃是將物體嵌入一個晶格裡，在本論文中此晶格通常是由物
體的邊界盒所延伸而來，以晶格上之控制點為直接變形之依據，達到
變形之效果。但首要任務即是建構出晶格與物體之建的關係，即建構
出一個以參數化來表示的物體模型。 
輸入 產生 建立 變形 
 
圖 6-1 FFD 自由造型變形流程 
 
         
 28
2. 紀念文字插入  
以目前水晶藝品被應用於有紀念性質的獎座上，除了必需有受贈
人之人像之外，更必須加上一些紀念性的文字。目前廠商在製作上必
須透過第三套軟體進行文字的插入動作，徒浪費許多時間，因此本軟
體亦新增此功能。 
 
 
 
           
製作
文字
圖檔 
設定 
層數 
平宜
縮放
設定 
 
圖 6-4 文字插入流程 
 
 其方式為必須在小畫家或 photoshop 等商業影像處理軟體上將所
要表達的文字製作出來並以 BMP 格式存出，在之後再以本軟體輸入
並同時設定層數，讓水晶加工有較好的視覺效果呈現，同時搭配已經
變形好之個人臉像進行排版、調整，後續即可以輸出製作出成品。 
 30
(文獻參考) 
  
[1]  W. S. Lee, N. M. Thalmann, “Fast head modelling for animation” 
, Journal Image and Vision Computing, vol. 18, no. 4, pp. 355-364 
, 2000. 
[2] B. Moghaddam, J. Lee, H. Pfister, and R. Machiraju, “Model-based 
3-D face capture with shape-from-silhouettes”, In IEEE 
International Workshop on Analysis and Modeling of Faces and 
Gestures, Nice, France, pp. 20–27, 2003. 
[3] N. Rasiwasia, and K. S. Venkatesh, “The Avatar: 3-D Face 
reconstruction from two orthogonal pictureswith application to 
facial makeover”. 
[4] A. N. Ansari, and A. M. Mohamed, “3-D Face Modeling Using 
Two Views and a Generic Face Model with Application to 3-D 
Face Recognition”, In IEEE Conference on Advanced Video and 
Signal Based Surveillance (AVSS'03), 2003. 
[5] S. Shan, W. Gao, J. Yan, H. Zhang, and X. Chen, “Individual 3D 
face synthesis based on orthogonal photos and speech-driven facial 
animation”, In Proc. Int. Conf. Image Process (ICIP2000),  
pp. 238–241, 2000. 
[6] F. Pighin, J. Hecker, D. Lischinski, Szeliski R, and D. Salesin. 
“Synthesizing realistic facial expressions from photographs”, In 
Computer Graphics Proceedings SIGGRAPH’98, pp. 75–84, 1998.  
[7]  M. Castel’an, and E. R. Hancock, “Acquiring height maps of 
faces from a single image”, In Proc. 3DPVT, pp. 183–190, 
2004. 
[8]   J. Atick, P. Griffin, and A. Redlich, “Statistical approach to shape 
from shading: Reconstruction of 3D face surfaces from single 2D 
images”, Neural Computation, 1996. 
[9]   L. Lee, B. Moghaddam, H. P_ster, and R. Machiraju, 
“Silhouette-based 3D face shape recovery”, Graphics Interface, 
2003. 
[10]  V. Blanz and T. Vetter, “Face Recognition Based on Fitting a 
3D Morphable Model”, IEEE Transactions on Pattern Analysis 
and Machine Intelligence, vol. 25, no. 3, 2003. 
 
 
 32
