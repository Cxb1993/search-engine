值，檢驗熱傳系統熵增隨此參數變化之情況，而後從中尋找使系統熵增值最小的參數值，而確定此設
計參數之最佳化設計。以螺旋管為例(如圖 1 所示)，螺旋管可設計的重要幾何參數有管徑( 0r )、曲率
半徑(a)、節距(b)等；可操作之條件有冷卻流體之入口速度(流量)；而最佳化之 
 
 
 
 
 
 
 
 
 
 
圖 1 螺旋管示意圖 
 
情況又與螺旋管所處熱傳系統之環境、螺旋管表面承受之熱通量有關。舉例來說，如欲決定螺旋管
內之最佳冷卻流體之入口速度(流量)，則必須將管徑( 0r )、曲率半徑(a)、節距(b)等幾何參數或操作條
件皆先固定，在此特定情況下，探討使總熵增最小之最佳質量流率。這樣的研究結論，在應用上便
有其侷限性，因為所獲得之結論只能應用於所設定的條件狀況之下，當幾何參數或操作條件改變時，
最佳之質量流率便必須重新計算。更重要的是，螺旋管可調整之設計參數或操作之條件至少包含有
管徑( 0r )、曲率半徑(a)、節距(b)、流量等，因此在某一熱傳環境下(螺旋管表面承受之熱通量給定時)，
欲找出使此一熱傳系統熵增值最小之最佳狀況，應同時改變前述所有可改變之設計參數或操作之條
件，進行分析，如此方可找到最佳之設計參數與操作條件之組合。簡言之，最佳之設計，應是依據
工作環境需求(如給定螺旋管表面承受之熱通量後)，以系統的觀點進行，需找到使熵增值最小之最佳
管徑( 0r )、曲率半徑(a)、節距(b)、流量之組合，而非先將某些參數值設定，只改變某一參數，進行
探討，而侷限了最佳設計可能之搜尋範圍。但由於當以計算流體力學為方法時，不可能無限制的大
量計算所有不同參數組合之所有事例，以從中完成最佳參數組合之探討，因此每次只能改變一個設
計參數的值，固定其他參數條件不變，探討此設計參數之最佳值。這樣的分析方法，以系統的觀點
而言，並非最佳，理由是一熱傳系統可同時操作或調整之變數甚多，究竟何種各參數值之組合，可
獲致系統之最小熵增值，應為實務應用時所最為需求者。這樣的困難在採用熱力學第二定律之理論
些方程式如下： 
 
0)( =
∂
∂
i
i
x
Uρ
                               (1) 
  
                                                                         (2) 
 
           
j
i
ij
k
k
i
j
j
i
j
j
j
pj
j x
U
x
U
x
U
x
U
x
PU
x
TTCU
x ∂
∂
∂
∂
−
∂
∂
+
∂
∂
+
∂
∂
=








∂
∂
−
∂
∂ ]
3
2)([ δµµλρ                  (3) 
RTP ρ=                                    (4) 
所需引用之邊界條件如下： 
螺旋管入口：冷卻流體假設以均勻速度自軸向流入螺旋管。 
螺旋管出口：出口條件設為完全發展。 
螺旋管管壁上：給定均勻熱通量；速度皆為不滑動條件。 
當由 Eqs. (1)-(4) 及相關之邊界條件求出速度與溫度分佈後，便可進一步求出流場中因熱傳或流
體摩擦所造成之熵增。相關計算式[6, 7]如下： 
因熱傳不可逆造成之單位體積流體之熵增：                                                       
                                                                              (5) 
因流體摩擦不可逆造成之單位體積流體之熵增                                          .                                
(6) 
單位體積流體之總熵增 
                                                                              (7) 
為了解流場中熵增之來源，Paoletti et al. [8] 提出一參數 Bejan number(Be)，Be 之定義為 
Be=
'''
TS /
'''
genS                                       (8) 
依 Be 之定義可知，Be 之範圍必落在 0 與 1 之間，Be 愈大時，表示流場中之熵大部分來自於熱傳不
可逆性所引發之熵增。 
   為評估整個彎管內之熵總增量，吾人定義彎管內因熱傳或流體摩擦所造成之總熵增量如下： 
                                      
2
2
''' )( T
T
S T ∇=
λ
j
i
i
j
j
i
p
x
U
x
U
x
U
T
S
∂
∂
∂
∂
+
∂
∂
= )(''' µ
'''''''''
PTgen SSS +=
( ) iij
k
k
i
j
j
i
ji
ij
j
g
x
U
x
U
x
U
xx
PUU
x
ρδµµρ +








∂
∂
−







∂
∂
+
∂
∂
∂
∂
+
∂
∂
−=
∂
∂
3
2
      1)1()( −−+= iabi eabf                                                    (14) 
將隱藏層所計算的值送至輸出層予以整合運算出推論輸出值 jbc ： 
      ∑
=
−=
p
i
jjijj bwbc
1
θ                                                     (15) 
其中 ijw 為輸出-隱藏層間的權重。 
    計算輸出單元的輸出值 jc ：                                               
     )( jj bcfc =                                                            (16) 
    同時， BP 為一監督式的學習，因此給定每個學習範例一個標準的目標輸出值使得 BP 網路在學
習的過程中適當調整連結權值，來降低目標輸出值與推論輸出值之間的差距，亦即使得誤差函數 E
值降到最小，並據此目標反覆傳回訊息運算加權值之修正量，直到誤差達到可接受範圍，定義誤差函
數 E為： 
     ∑
=
=
N
k
kEE
1
                                                            (17) 
     ∑ −=
j
j
k
jk ccE
2)(
2
1                                                     (18) 
計算輸出單元輸出值的倒傳遞誤差(Back-propagated Error) jd ： 
     ))((' jkjjj ccbcfd −=                                                    (19) 
計算隱藏輸出值的倒傳遞誤差 jd ： 
     )(
1
' ∑
=
=
q
j
ijjii wdabfd                                                     (20) 
其中α 與 β 為學習率(Learning Rate)，決定了網路訓練時的收斂程度；η 為慣性項(Moment Term)，
可以消除網路在學習過程中的殘餘值(Residual)的震盪現象。 
    此外，隱藏單元數目的多寡常會影響學習速度、學習正確及診斷正確率，通常它的數目由嘗試錯
誤法(Trial and Error)來得知，但仍須符合一個基本觀念，當隱藏單元數目太少時，網路便不足以反映
輸入變數之間交互作用的關係，而造成較大的誤差。當隱藏單元數目多時，雖然可達到較小的誤差，
可是過多的隱藏單元易造成過度訓練(Over-training)同時可能會造增加收斂的時間。 
    本研究的輸入單元為基因演算法中的設計參數，輸出單元為設計參數對應的熵增值。圖 2所示為
本研究之類神經網路示意圖，其中輸入神經元有 4個，分別是螺旋管之管徑( 0r )、曲率半徑(a)、節距
     本階段類神經網路之分析，將採用 Matlab 7.1 [13]進行。 
 
第三階段：以基因演算法進行最佳化研究 
   圖 3所示為基因演算法的操作流程，其主要之步驟如下： 
1. 由n個待最佳化之設計參數組成代表物種之的向量： 
    =X [ npppp ,.......,, 321 ]                                            (21) 
 
              
定義基因、染色體、相關參數及
適應值函數
產生初始族群
計算適應值
收斂？
選擇、複製
基因交換、突變
產生新世代
獲得最佳解
A
 
圖 3 基因演算法示意圖 
 
2. 針對問題的型態，定義相關參數，這些參數包含：待優化參數搜尋上下邊界(Searching Bounds of 
Parameters)、群體大小(Population Size)、演化世代數目(Maximum Generation Number)、交換率
                      
圖 4 研究之執行步驟 
 
 表 1 所有計算事例之熵增值 
 
  Sgen(Ent) ST(Ent_t) Sp(Ent_p) 
R0_025-a_5-b_628-Re_100 3.7539955E-06 3.3659131E-06 3.8808232E-07 
R0_025-a_5-b_628-Re_500 2.0031692E-05 6.1885410E-06 1.3843151E-05 
R0_025-a_5-b_628-Re_2000 3.1311094E-04 6.7831762E-06 3.0632777E-04 
R0_025-a_5-b_628-Re_4000 1.3958928E-03 6.9350195E-06 1.3889578E-03 
R0_025-a10-b_628-Re_100 3.0370576E-06 2.3552203E-06 6.8183730E-07 
R0_025-a10-b_628-Re_500 2.7613911E-05 3.4100304E-06 2.4203880E-05 
R0_025-a10-b_628-Re_2000 5.4380030E-04 3.7411345E-06 5.4005917E-04 
R0_025-a10-b_628-Re_4000 2.5055735E-03 4.0832686E-06 2.5014902E-03 
R0_025-a20-b_628-Re_100 6.3266837E-06 5.0813559E-06 1.2453278E-06 
R0_025-a20-b_628-Re_500 4.7154980E-05 3.1823461E-06 4.3972634E-05 
R0_025-a20-b_628-Re_2000 9.8006830E-04 2.9499608E-06 9.7711834E-04 
R0_025-a20-b_628-Re_4000 4.5935367E-03 3.7529544E-06 4.5897837E-03 
R0_025-a30-b_628-Re_100 1.0194932E-05 8.4271932E-06 1.7677385E-06 
R0_025-a30-b_628-Re_500 6.7108649E-05 4.3792540E-06 6.2729395E-05 
R0_025-a30-b_628-Re_2000 1.4673874E-03 3.4517292E-06 1.4639357E-03 
R0_025-a30-b_628-Re_4000 7.1995221E-03 4.9762463E-06 7.1945458E-03 
R0_05-a5-b_628-Re_100 1.2968108E-05 1.2860515E-05 1.0759236E-07 
R0_05-a5-b_628-Re_500 2.8668204E-05 2.4498463E-05 4.1697407E-06 
R0_05-a5-b_628-Re_2000 1.2757978E-04 2.7172095E-05 1.0040769E-04 
R0_05-a5-b_628-Re_4000 4.9720661E-04 2.7616618E-05 4.6959000E-04 
R0_05-a10-b_628-Re_100 8.1570382E-06 7.9743649E-06 1.8267330E-07 
R0_05-a10-b_628-Re_500 1.9555175E-05 1.2954063E-05 6.6011127E-06 
R0_05-a10-b_628-Re_2000 1.6088734E-04 1.4506935E-05 1.4638040E-04 
R0_05-a10-b_628-Re_4000 6.7834352E-04 1.4844092E-05 6.6349943E-04 
R0_05-a20-b_628-Re_100 1.8022216E-05 1.7696552E-05 3.2566399E-07 
R0_05-a20-b_628-Re_500 2.2976419E-05 1.1096579E-05 1.1879840E-05 
R0_05-a20-b_628-Re_2000 2.7660713E-04 9.9883388E-06 2.6661879E-04 
R0_05-a20-b_628-Re_4000 1.2472547E-03 9.9839420E-06 1.2372708E-03 
R0_05-a30-b_628-Re_100 3.0939314E-05 3.0481860E-05 4.5745385E-07 
R0_05-a30-b_628-Re_500 3.1787040E-05 1.4671987E-05 1.7115054E-05 
R0_05-a30-b_628-Re_2000 4.1730459E-04 1.0182507E-05 4.0712208E-04 
  
Fig.5 當 a=5cm 且 Re=100 時，不同 Ro 時熵值的變
化 
 
Fig.6 當 a=5cm 且 Re=500 時，不同 Ro 時熵值的變
化   
 
Fig.7 當 a=5cm 且 Re=2000 時，不同 Ro 時熵值的
變化 
 
Fig.8 當 a=5cm 且 Re=4000 時，不同 Ro 時熵值的
變化 
 
 
 
Fig.9 當 a=10cm 且 Re=100 時，不同 Ro 時熵值的
變化 
 
Fig.10 當 a=10cm 且 Re=500 時，不同 Ro 時熵值的
變化   
 
Fig.11 當 a=10cm 且 Re=2000 時，不同 Ro 時熵值
的變化 
 
Fig.12 當 a=10cm 且 Re=4000 時，不同 Ro 時熵值
的變化 
  
 
Fig.21 當 R0=0.25cm 且 a=5cm 時，不同 Re 時熵值
的變化 
 
Fig.22 當 R0=0.25cm 且 a=10cm 時，不同 Re 時熵
值的變化 
 
Fig.23 當 R0=0.25cm 且 a=20cm 時，不同 Re 時熵
值的變化 
 
Fig.24 R0=0.25cm 且 a=30cm 時，不同 Re 時熵值的
變化 
 
 
 
Fig.25 當 R0=0.5cm 且 a=5cm 時，不同 Re 時熵值
的變化 
 
Fig.26 當 R0=0.5cm 且 a=10cm 時，不同 Re 時熵值
的變化 
 
Fig.27 當 R0=0.5cm 且 a=20cm 時，不同 Re 時熵值
的變化 
 
Fig.28 R0=0.5cm 且 a=30cm 時，不同 Re 時熵值的
變化 
  
 
Fig.37 當 R0=0.25cm 且 Re=100 時，不同 a 時熵值
的變化 
 
Fig.38 當 R0=0.25cm 且 Re=500 時，不同 a 時熵值
的變化 
 
Fig.39 當 R0=0.25cm 且 Re=2000 時，不同 a 時熵
值的變化 
 
Fig.40 當 R0=0.25cm 且 Re=4000 時，不同 a 時熵
值的變化 
 
 
 
Fig.41 當 R0=0. 5cm 且 Re=100 時，不同 a 時熵值
的變化 
 
Fig.42 當 R0=0.5cm 且 Re=500 時，不同 a 時熵值
的變化 
 
Fig.43 當 R0=0.5cm 且 Re=2000 時，不同 a 時熵值
的變化 
 
Fig.44 當 R0=0.5cm 且 Re=4000 時，不同 a 時熵值
的變化 
國科會補助計畫衍生研發成果推廣資料表
日期:2011/01/06
國科會補助計畫
計畫名稱: 結合最小熵增原理及類神經網路之螺旋管內層流強制對流最佳化研究
計畫主持人: 葛自祥
計畫編號: 98-2221-E-262-016- 學門領域: 熱傳學、流體力學
無研發成果推廣資料
其他成果 
(無法以量化表達之成
果如辦理學術活動、獲
得獎項、重要國際合
作、研究成果國際影響
力及其他協助產業技
術發展之具體效益事
項等，請以文字敘述填
列。) 
創新方法嚐試，增進研究能量。 
 成果項目 量化 名稱或內容性質簡述 
測驗工具(含質性與量性) 0  
課程/模組 0  
電腦及網路系統或工具 0  
教材 0  
舉辦之活動/競賽 0  
研討會/工作坊 0  
電子報、網站 0  
科 
教 
處 
計 
畫 
加 
填 
項 
目 計畫成果推廣之參與（閱聽）人數 0  
