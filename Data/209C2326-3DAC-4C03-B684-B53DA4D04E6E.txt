 1
 
一、前言 
天然河川網路及其所衍生之寬度函數(width function)於暴雨時期具有相當大之時間變
異性，常隨著降雨量分布之改變而有所差異，若進一步將其應用於集水區之逕流模擬上，
則對於河川網路之分析探討相當不易。若能將天然河川網路之變化視為序率隨機歷程而進
行隨機碎形圖形生成繁衍，則有助於降雨－逕流模擬效率之提昇。然而自然現象變化萬千，
原本僅用單一基本型態進行隨機碎形圖形生成對諸多自然現象之模擬可能尚嫌不足，若能
加入多基本型態之多重碎形生成概念，將具有更佳之模擬結果。而由於隨機生成之緣故，
原本僅用單一基本型態之隨機碎形圖形已相當複雜，若再使用多基本型態之隨機變化，其
複雜性可謂數以倍計，更加難以掌握。故本研究乃依據過去建立隨機碎形圖形編碼之經驗
及參考其數值編碼之概念，結合隨機碎形生成理論(random fractal generation)、圖形編碼方
法(coding method of the pattern)、隨機碎形圖形距離計算通式(distance calculation of random 
fractal pattern)等定率性與序率性分析方法及工具，進一步將隨機多重碎形圖形生成過程進
行文字編碼，以掌握其極為高度複雜之變化特性並進行天然河網寬度函數之研析。 
二、研究目的 
根據傳統碎形自相似模擬之理論，每次衍生之圖形型態與原始型態相同，縱使加入隨
機生成之機制，對於大自然型態的千變萬化，仍略嫌不足。故部分學者乃嘗試以多重碎形
理論彌補此一缺憾。如何結合多重碎形與隨機生成之複雜機制為一體乃成為本研究之重要
研究課題。有鑑於此，本研究根據洪氏等人所研發之隨機碎形自相似編碼原理，將其自相
似模擬提升為多重基本型態(多重碎形)，採用隨機生成之機制，並加入生成型態之隨機變
化，建立一套適用於各類圖形之隨機多重碎形編碼機制並重新推衍相關距離計算方法，以
提供各類自然圖形模擬之應用。 
三、文獻探討 
1982 年 Mandelbrot 首先將碎形概念引入河川網路之研究中，後續則有不少學者致力於
河網碎形特性之研究。此外，亦有若干學者著重於研究河川網路對集水區水文特性如瞬時
單位歷線之影響，1991 年 Rinaldo 首先將寬度函數之觀念引入集水區河川地貌特性之研究
中。寬度函數 W(x)之定義為以集水區出口處為起點，往上游前進，距離 x 處之河段數目。
由於碎形生成之繁複性，碎形理論可惜於當時並未大量應用於自然科學研究中。 
隨著資訊科技之進步與電腦之普及，碎形圖形之生成才得以逐漸應用於集水區地貌模
擬當中。1996 年 Clap 等人應用遞迴疊代方法建立自相似網路(self-similar network, SSN)之
生成方式，2000 年王氏等學者推導出適用於不同類型碎形生成單元之寬度函數公式，而
Veitzer 與 Gupta 亦同時於 2000 年提出序率方法於河川網路生成應用上之探討。於後續之相
關研究中，Menabde 及 Gupta 等人於 2001 再度提出以多元衍生樹之觀念作為碎形河網之繁
衍方式，並將河網中定為河段(link)及節點(node)兩部分。河段之衍生以節點為始，以節點
為終之隨機生成河網(random self-similar network, RSN)。後續王氏等人於 2002 年再度推衍
出不同類型碎形寬度函數生成之通式，有效地改善傳統生成方法應用於地形分析上之諸多
限制，並提供相當便利快速且高精確度之寬度函數模擬機制。 
由於河系型態變化萬千，以 SSN 為主之碎形河網模擬因變化有限，並未能完整代表一
集水區之河網特性。而後續之 RSN 河網，雖已考量序率隨機特性於生成當中，但由於僅用
簡單之河段與節點進行河網生成，整體型態之變化度則略嫌不足而呈現單調，而其隨機特
性並沒有辦法根據自然型態之隨機特性進行調整與變化，所模擬出之河網可能與實際降雨
－逕流歷程中之河網有所出入。為突破此類河網生成機制之先天限制，洪氏等人於 2005 年
重新依據碎形生成理論創建隨機自相似圖形之編碼方法(coding)與相關距離計算方式，並成
功應用於河川網路之模擬中。 
然而根據傳統碎形自相似模擬之理論，每次衍生之圖形型態與原始型態相同，縱使加
入隨機生成之機制，對於大自然型態的千變萬化，仍略嫌不足。故本研究結合多重碎形與
隨機生成之複雜機制，將其隨機自相似模擬提升為多重基本型態(多重碎形)之隨機碎形生
 2
機率」乃指一線段繼續依照自相似特性生成一個基本型態之機率，而非生成該線段之機率；
後續本文所提到之生成機率皆依照此定義而不再重複說明。 
延續傳統隨機碎形編碼之原理，可進一步將多重隨機碎形圖形予以編碼。但由於候選
之基本型態增加，其圖形變化更形複雜，故可初步加入文字編碼之概念，以表示多重碎形
之型態變化。若將圖一之兩種型態進行數值與文字編碼，其示意圖如下所示： 
 
     
圖 3 基本型態 1 與基本型態 2 之編碼結果 
 
雖然文字編碼可以完整代表隨機多重碎形之型態變化，但若欲進一步進行相關距離計
算時，卻又不易數值分析與運算，故仍須輔以數值編碼，以利後續相關物理特性之研析。
但若以單純數值編碼卻無法顯現出多重碎形多基本型態之特性，故需修改原本數值編碼方
式，於候選基本型態中選擇最複雜之型態作為隨機多重碎形圖形生成時之標準基本型態
(standard basic pattern)，其餘候選之基本型態則作為延伸基本型態(extended basic patterns)。
若以圖 1 之基本型態來說，其標準基本型態與候選基本型態之編碼如下： 
 
       
(1)標準基本型態編碼                     (2)延伸基本型態編碼 
圖 4 標準基本型態與延伸基本型態編碼 
 
選擇最複雜之候選型態作為基本型態，再藉由基本型態來進行其他延伸型態之編碼，
其概念如下圖所示： 
型態一         型態二 
 
11111),1(1 =→ nFF    11100),2(2 =→ nFF  
10000),1(1 =→ nAA    10000),2(2 =→ nAA  
00000),1(1 =→ nOO    00000),2(2 =→ nOO  
 
 
圖 5 標準基本型態與延伸基本型態編碼 
 
考量各類自然型態隨機碎形生成時之序率特性並非完全一致，乃賦予基本型態各線段
具有不同之生成機率(probability of generation)，而線段之生成機率亦遺傳至後續所產生圖案
各線段中。此類機率傳遞之特性亦符合碎形之遺傳性。必須強調的是，本研究所謂「生成
機率」乃指一線段繼續依照自相似特性生成一個基本型態之機率，而非生成該線段之機率；
後續本文所提到之生成機率皆依照此定義而不再重複說明。 
假設基本型態中第 i 個線段之生成機率為 1iP ，其中 1 表示第一次疊代，即基本型態。
當 T=1， 1iP =自訂生成機率。假設共進行 m 次之遞迴疊代生成，則依照碎形之遺傳性，其
 3
度訂定為 1。 
(4)線段起點距離(start distance of a link) 
線段起點距離之定義為該線段起點與起始點(第一節點)間之距離。 
(5)線段終點距離(end distance of a link) 
線段終點距離之定義為該線段末端與起始點(第一節點)間之距離。故線段終點距離等於
線段起點距離加上線段長度。 
2.家族距離 
(1)家族距離函數(family distance function) 
家族距離為該家族節點與下一個連結家族節點間之距離，一個家族內有諸多個子家
族，但是並非所有之子家族皆對所屬家族距離有關而影響後續連結之家族距離；為了瞭解
該子家族是否與家族距離有關，必須利用家族距離函數 C(i)予以標註： 
⎩⎨
⎧= 與家族距離無關 如果線段
與家族距離有關 如果線段
        0
         1
)(
i
i
iC  (9) 
(2)多重碎形之家族距離函數(family distance function of multi-fractal) 
於多重碎形生成時，由於生成型態之不同，每一基本型態之家族距離函數亦不盡相同，
故多重碎形生成時之第 n 個圖形之家族距離函數可以以 ),( inC 表示。若以本文所舉之範例
圖 2-xxx 來說，其家族距離函數分別為 
⎪⎪
⎪
⎩
⎪⎪
⎪
⎨
⎧
=
=
=
=
=
=
5  if       0
4  if       0
3  if       0
2  if       1
1  if       1
  ),1(
i
i
i
i
i
iC
      ⎪
⎪⎪
⎩
⎪⎪
⎪
⎨
⎧
=
=
=
=
=
=
5  if       0
4  if       0
3  if       0
2  if       1
1  if       1
  ),2(
i
i
i
i
i
iC
 
而由此也可以看出，針對分區式隨機碎形生成之複雜圖案，僅需掌握簡單之基本型態
結構即可進行各種物理特性運算，而不用理會其繁複之變化。 
(3)家族距離通式(family distance formula) 
由上一節可知，家族距離僅與相關之子家族有關，故家族距離之長短即為相關子家族
距離之累加，因此家族距離之計算通式可以表示為： 
)()(
0
1
iCiDD s
L
i
×=∑
=
 (10) 
其中 D 代表家族距離，Ds(i)代表該家族第 i 個子家族之家族距離。 
3.節點距離 
(1)關聯家族(related family)、關聯節點(related node)與關聯線段(related link) 
A. 關聯線段指圖形上同一家族內連結於目前線段前方之線段。 
B. 關聯家族為圖形上連結於目前家族前方且具有同一親代及家族大小(內含編碼數目)相同
之家族。 
C. 關聯節點即為關聯家族之節點。 
(2)關聯函數(relationship function) 
關聯家族、關聯節點與關聯線段描述了各家族之實際連結關係，而關聯函數則將其實
際之連結關係以數值代表。由碎形之遺傳性可知，由於基本型態之特性已傳遞至後續衍生
圖形中，故藉由基本型態線段間之連結關係即可訂定關聯函數 R(i)。關聯函數之通式可以
簡單表示為： 
R(i)=(線段 i 之順序編號)－(線段 i 關聯線段之順序編號) (11) 
其中，線段 i 皆指位於基本型態內之各線段。  
(3)節點距離通式(node distance formula) 
節點距離=關聯節點距離 + 關聯家族距離 (12) 
(四)長度與距離計算方法 
 5
∑
=
−−= max 2
1
]4/)[(
3
)(
4
1)(
N
i
tDutl
ii
L
LiellW
tD
tf π  (25) 
其中， il ：由河段 i 沿河道至集水區出口之距離， lili Δ= ， lΔ 為單位距離； maxN ：從源
頭至出口最長流徑之河段總數； ( )ilW ：正規化後之寬度函數，即將原始寬度函數之水平座
標轉換於 0~1 之間，垂直座標除以總河段數目；u ：平均波傳速度(m/sec)； LD ：擴散係數
(m2/sec )。利用寬度函數計算地貌型瞬時單位歷線時有兩個待定之參數，分別為平均漂移速
度 u 及擴散係數 DL 兩參數，主要乃以 SCE 法優選多場颱洪所得之平均結果為代表，其中
所採用之平均漂移速度 u 為 0.68(m/sec)，擴散係數 DL 為 2131(m2/sec)，其詳細參數檢定結
果如表 1 所示。 
五、結果與討論 
本研究應用河川網路多重碎形特性生成不同河川網路型態及其寬度函數，並套配地貌
型瞬時單位歷線模式探討瞬時單位歷線型態之變化。茲將各結果與討論分述如下： 
1. 本研究首先利用RiverTools等地理資訊系統處理軟體進行寶橋集水區之DEM資料分析與
河網擷取，其結果如圖 6 所示。 
2. 根據隨機多重碎形生成方法模擬颱洪降雨時期之隨機多重碎形河川網路，茲選取黛特颱
洪為例，如圖 7 所示。由圖 7 寶橋集水區 DEM 河網寬度函數與隨機多重碎形河網寬度
函數比較後發現，使用隨機多重碎形生成模擬產生之河網型態與原 DEM 型態差異極大，
足見本研究所建立之隨機多重碎形河川網路確實能因應不同自然條件而改變。 
3. 進一步利用上述河川網路之寬度函數計算集水區之瞬時單位歷線，如圖 8 所示。由圖 8
各寬度函數所獲得之瞬時單位歷線比較可以發現，由於使用之河川網路型態不同，至所
獲得之寬度函數不同，而不同之寬度函數在其他物理因子(模式參數)皆相同之情況下，其
瞬時單位歷線仍有明顯之變化，足見河川網路之型態對於水文特性之模擬仍佔有重要之
地位。 
4. 若將上述結果繼續進行颱洪事件之降雨－逕流模擬，即可比較傳統 DEM 河網、一般碎
形河網與隨機多重碎形河網對颱洪事件模擬之差異性。茲選取傑魯得、黛特及碧莉絲颱
洪作為本研究之模擬驗證事件，其結果如表 2 至表 4 所示。 
5. 經由表 2 至表 4 之比較可以發現，模擬結果中無論是效率係數 CE、洪峰流量誤差 EQP
及洪峰時間誤差 ETP 等結果之比較，皆以本研究所應用之隨機多重碎形河網所獲得之模
擬結果為佳，足見本研究所建立之隨機多重碎形生成機制對於自然型態之變化確實能具
有較佳之模擬能力。 
6. 本研究中多重碎形基本型態之選擇乃依據實際河川特性而定(如圖 1 所示)，但所選定之基
本型態類型是否完全契合該流域降雨事件河網模擬之需求，則可以繼續加以探討之。如
變化候選之基本型態類型或是使用更多之候選基本型態以因應複雜之自然現象變化，皆
為值得繼續探討之課題。 
7. 本研究於模式驗證時，對於各降雨事件河川網路生成時乃以單純隨機決定新型態之類
型，後續則可根據實際河川之地形與河網型態改變各候選基本型態之獲選機率，以使隨
機多重碎形模擬之河川網路更能接近實際之地貌特性。 
由實例應用中已證實本研究所建立之研析架構能充分應用於水文河川網路之模擬當
中，並具有良好之流量估算結果，可見此種方法具有高度之彈性與變異性，優於傳統之碎
形生成並能適任各種複雜之自然型態模擬。 
五、結論與建議 
本研究針對隨機多重碎形圖形之特性，進行一系列理論研析與建立，以成功完成整體
架構之建立，並初步將其應用於降雨－逕流歷程之隨機多重碎形河川網路模擬，相較於傳
統利用 DEM 河網模擬或一般碎形模擬，具有更佳之彈性與符合實際集水區之地文變化。
結果顯示本研究已成功地將隨機多重碎形圖形編碼及相關距離計算與河川網路之生成予以
連結，並進一步實際應用於集水區瞬時單位歷線之推估上，期能提供臺灣集水區防洪規劃
 7
0 0.2 0.4 0.6 0.8 1
0
0.001
0.002
0.003
0.004
0.005
WF_DEM
0 0.2 0.4 0.6 0.8 1
0
0.005
0.01
0.015
0.02
0.025
WF_Multi-fractal 1
0 0.2 0.4 0.6 0.8 1
0
0.01
0.02
0.03
WF_Multi-fractal 2
(a)
(b)
(c)
 
圖 7 寶橋集水區 DEM 河網與隨機多重
碎形河網寬度函數比較圖(黛特颱洪) 
 
 
 
0 10 20 30 40 50
Time(hours)
0
0.0004
0.0008
0.0012
0.0016
0.002
IU
H
(1
/m
in
)
IUH
IUH_DEM
IUH_Multi-fractal 1
IUH_Multi-fractal 2
 
圖 8  寶橋集水區 DEM 河網與隨機多重碎
形河網瞬時單位歷線比較圖(黛特颱洪) 
 
 
 
 
 
 
 
 
表 1 寶橋集水區以 SCE 法優選各檢定颱洪 
場次之最佳參數 
颱風名稱 u (m/sec) DL (m2/sec) 
琳恩 0.462 4616.63    
亞伯 0.864 2239.58    
道格 0.405 395.23    
葛拉絲 1.013 1274.66    
平均值 0.687 2131.52    
 
表 2 傑魯得颱洪事件之模擬結果 
模擬結果 
河網型態 效率
係數
CE 
洪峰流量
誤差
EQP(%) 
洪峰
時間
誤差
ETP(
hrs)
DEM 河網 0.79 -2.71 -4 
一般碎形河網 0.78 -2.97 -4 
隨機多重碎形河網(1) 0.78 -0.59 -4 
隨機多重碎形河網(2) 0.81 2.30 -4 
隨機多重碎形河網(3) 0.80 5.41 0 
隨機多重碎形河網(4) 0.81 2.26 -2 
隨機多重碎形河網(5) 0.81 3.46 -2 
 
表 3 黛特颱洪事件之模擬結果 
模擬結果 
河網型態 效率
係數
CE 
洪峰流量
誤差
EQP(%) 
洪峰
時間
誤差
ETP(
hrs)
DEM 河網 0.87 -7.08 2 
一般碎形河網 0.87 -7.70 1 
隨機多重碎形河網(1) 0.89 -1.37 2 
隨機多重碎形河網(2) 0.89 -5.65 1 
隨機多重碎形河網(3) 0.87 -6.09 1 
隨機多重碎形河網(4) 0.88 -6.75 1 
隨機多重碎形河網(5) 0.89 -4.62 0 
 
表 4 碧莉絲颱洪事件之模擬結果 
模擬結果 
河網型態 效率
係數
CE 
洪峰流量
誤差
EQP(%) 
洪峰
時間
誤差
ETP(
hrs)
DEM 河網 0.74 -46.30 -4 
一般碎形河網 0.72 -45.71 -4 
隨機多重碎形河網(1) 0.71 -40.37 -2 
隨機多重碎形河網(2) 0.70 -43.63 -4 
隨機多重碎形河網(3) 0.78 -44.30 -2 
隨機多重碎形河網(4) 0.76 -33.25 -2 
隨機多重碎形河網(5) 0.78 -38.74 2 
