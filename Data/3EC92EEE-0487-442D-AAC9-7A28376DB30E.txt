2RFID 應用於冰箱食物管理之設計與實現
計畫主持人：黃慶祥
計畫參與人員：羅元鴻、陳嘉宏、范姜欣汝、蔡佳縈
摘要：
本論文描述如何運用嵌入式系統結合
UHF RFID 來提供良好的食品保存環境，透
過 UHF RFID Tag 讀取到的食品資訊做為食
品辨識系統，經由嵌入式系統提供圖形化食
品資訊介面，使用者拿取食品時即可透過使
用者介面了解食品的保存期限、購買日期等
資訊。
經由嵌入式系統上的 Web Server ，系
統提供了遠端食品管理的功能，管理者可以
透過網頁登入 web server，達到隨處可監控
家中食品使用情形的目的。
本 RFID 冰箱提供家中食品使用上的管
理，減少家中成員因為吃到過期的食品導致身
體受到傷害，明確的食品資訊讓家人吃的更加
安全。
關鍵詞: RFID、嵌入式系統、Web service
家庭閘道器、資訊家電
一、簡介：
逛街血拼是大部分家庭主婦的娛樂，或
者是大部分人的一大人生享受，也因此我們常
可以看到廠商在電視上或各種媒體上，鼓其如
簧之舌，大肆吹捧他們商品的優點，鼓動我們
的購買慾，挑動我們上街血拼的慾望‧
上街血拼購買到的各種生鮮類商品，或
各種食品，尤其是現代婦女高價的化妝品，最
終目的地就是家中的冰箱，因此家中的冰箱常
常”物”滿為患，當初懷著滿腔熱血購買的各種
商品，有些可能是忙的忘了使用，有些可能是
買太多消化不了，也有可能是在採購時忘了而
重複購買，而過期物品的使用可能引發各種疾
病不可不慎，因此如能有一個簡單的方式，就
能夠對家中冰箱內的物品做個管理，是目前很
多家庭的一大需求，甚至在千里之外需要採購
時，也可以及時知道家中冰箱內有哪些物品，
或可查詢是否有哪類物品，相信可讓我們的採
購行為獲得更大的滿足，也能真正的享受血拼
的樂趣，而不是事後的後悔與懊惱‧
要管理家中的冰箱，若還要人為的操
作，或者像在工廠中一般，需要一樣樣慢慢的
檢查貨品，那大概沒有人會來採用這樣的冰箱
管理系統，因此如何讓此系統能夠全自動的運
作呢？我們最先想到的是貨品上的條碼，現在
所購買的各種貨品，賣場為了方便顧客結帳，
也為了自己貨品管理的方便，都會在商品上貼
有條碼，因此結帳時櫃檯人員只要用條碼機一
掃瞄，就可知道商品的價格，如此不僅可增加
買家的信任，而且商家也可以自動進行庫存管
理，因此大部分的商品從製造廠商開始製造，
就有加印條碼在商品上，方便了整個物流的管
理‧
雖然條碼增加了商品管理上的方便，但
能否用在我們家中冰箱的食物管理上呢？我
們可以想像一下，今天我們要了解家中冰箱有
哪些物品，我們必須打開冰箱，一一檢視物品
上的條碼才能知道，如此較之打開冰箱直接檢
視物品不僅沒有差別，反而更加不便，而且長
期開啟冰箱檢視物品，不僅浪費能源，也可能
損壞物品的新鮮度‧
那麼能否自動讀取條碼呢？我們這樣的
需求，正好和賣場要求快速結帳的需求有些類
似，現代的大賣場物品種類如山似海，顧客常
常都是一次購買很多的物品，因此大部份人到
大賣場買東西結帳時，應該都有排隊等候結帳
的經驗‧
在排隊時大家應該都會看到，櫃檯的工
4更重要的是不會有人為失誤的現象! 同時由
於它是屬於非接觸式且採用無線電波傳輸讀
取，並不需要任何的傳輸線，因此對於惡劣環
境的容忍度相對於之前的條碼而言提高很
多，也不會因為接線而妨礙視覺感受。本計畫
中的 RFID 冰箱因為有上網的需求，因此預計
採用嵌入式 Linux 作為我們發展的平台[5]，雖
然在這冰箱管理系統中，只是要控制一台冰
箱，好像只要用個簡單的網路系統就能應付，
但自行開發網路系統需要面對很多驗證除錯
的繁複過程，尤其有了聯網功能也代表了此一
系統必須與現存各式各樣的網路系統相容，其
驗證的過程就更佳的龐大了‧
嵌入式 Linux 已普遍的應用在各個領域
中，尤其在網路應用系統中更是普遍被採用，
與其他各式各樣的網路系統的互通功能，可說
已經過千錘百鍊，我們只要把 Linux 移植到預
計採用的 CPU 中即可，不必再大費周章的驗
證網路的互通功能，而目前各大廠生產的 CPU
皆有相對應已移植好的 Linux 可用，因此對我
們在此一冰箱管理系統中，採用嵌入式 Linux
可說有百益而無一害，而 Linux 的普及與人才
的缺乏，也可讓參與此計畫的同學能夠有更好
的就業機會‧
有了嵌入式 Linux 就解決了上網的問
題，但相對的有了個作業系統，對於 I/O 的控
制就多了很多嚴格的管制措施，因此在 Linux
上做 I/O 控制，就不能像一般的嵌入式系統，
隨意的寫出 I/O 控制程式，而必須先寫一個驅
動程式提供 I/O 控制的功能，然後由應用程式
透過驅動程式來指揮所有 I/O 的動作，這也是
在 Linux 等作業系統上，要做 I/O 控制時，會
成為大部份人畏懼與害怕的工作之原因，也是
目前人才最缺乏的工作‧
要實現本計畫，我們必須完成 RFID 的驅
動程式，以及冰箱的壓縮機，溫度感測器等的
I/O 驅動程式，甚或要在放入食物時，自動的
紀錄食物入庫的時間，也要有冰箱門啟開的
I/O 驅動程式，因此參與計畫的同學將可學習
到各種驅動程式的撰寫方式與技術‧
除此之外 RFID 冰箱的人機介面預計以網
路瀏覽器來實現，這樣的考量最主要是我們希
望人們在賣場購物時，能夠不必回家就能知道
家中冰箱庫存的情形，因此我們需要有網頁伺
服式的控制程式來控制冰箱的運作，而且人們
要連線到冰箱時，也不必刻意去找個冰箱連線
程式，只要有網路瀏覽器就可以了，這樣的方
便性，將更能提升人們的使用意願，也真的能
更進一步改善人們生活的方式‧
三、系統架構
RFID 冰箱的架構如下圖所示，誠如上一
節所討論的，為了讓近端使用者與遠端使用
者，所看到的圖形化人機介面是相同，因此我
們希望能藉由網路瀏覽器來做為使用者的操
作介面，這也代表我們要在 RFID 冰箱所安裝
的 Linux 上，額外的安裝 web server，除此之
外之外，為了提供近端使用者的操作介面，我
們也要額外的安裝 web 瀏覽器，這些在 Linux
上皆已經具備。
當使用者透過網路連到 RFID 冰箱時，他
就連到了 web server，但 web server 並沒有能
力提供 RFID 冰箱的管理功能，我們就須要完
成架構圖上所示的 web app，誠如上一節所討
論的，為了達成 RFID 的讀取與 I/O 控制能力，
我們預計以 CGI的方式來實現 RFID冰箱的管
理功能。
6藥品管理系統運用超高頻(UHF)RFID 作
為系統中藥品辨識。由於 UHF 射頻的距離範
圍較遠可達 1 公尺，超高頻的 RFID 設備可以
同時讀取多個藥品上的電子標籤並傳回系統
中進行管理與分類。下圖 2 為系統中使用的
UHF RFID reader，圖 3 為 UHF RFID Tag。
圖 2. UHF RFID Reader
此一 UHF RFID reader 安裝在藥品管理箱
的上方，讀取距離可達 1 公尺[6]，因此可以讀
取整個藥品管理箱內的所有藥品，當藥品有增
減時即代表使用者放入或取出藥品。
圖 4. UHF RFID Tag
此一 UHF RFID tag 為 EPC class 1 gen 2[6]
的 Tag，我們將它黏貼在藥品上，每一 tag 上
的 96 bits 代碼都不相同，因此可以用來代表每
一罐或每一盒藥品，每一藥品被拿出時即可被
辨識出，並顯示出該藥品的資訊在顯示幕上，
下圖 5. 為使用者從藥品管理箱中拿取藥品情
形。
圖 5. 使用者從藥品管理箱拿取藥品情形
CGI程式
查詢資料
庫
使 用 者
Web Server
提 出 要 求
轉 換 提 出
要 求
轉 換 回 應
結 果 回 應 結 果
圖 6. CGI 網頁架構
為了達成遠端網路控制的目的，我們將提
供使用者由網路透過方便的網頁存取，來取得
家中藥品的資訊，由於要搭配 UHF RFID
reader 等的控制，因此我們以 CGI 來完成這些
網頁的建置，主要是考慮到利用 C 語言比較能
方便的控制 I/O 介面，圖 6 顯示 CGI 的執行架
構，使用者由瀏覽器點選之後就會啟動相對應
的 CGI 程式，CGI 程式執行之後就將由 I/O 取
得的資料，包裝成網頁回應給瀏覽器，使用者
就可從瀏覽器上看到藥品箱內的藥品資訊。
為了達成讓使用者利用隨處可取得的網
路瀏覽器控制冰箱的目的，我們以嵌入式系統
來實現整個系統，並在其上架設了 web
server，當使用者由網路上透過網路瀏覽器就
可登入，接著就能查詢藥品的存量，與藥品的
保存期限等資訊。
圖 7‧網頁化的藥品管理箱控制介面
UHF RFID 可以進行多重讀取，因此如圖
1 所示，藥品箱內雖然只有一部 UHF RFID
reader 而且放置有 5 個 RFID tag，由圖 7 的網
路瀏覽介面就可看到藥品箱內的多種藥品，顯
示藥品可以讓使用者或者醫師知道藥品的存
量，除此之外若使用者要知道藥品的使用方
法，也可直接點選藥品，就可連到榮總藥品資
料暨外觀查詢系統[7]，將相關的藥品顯示在網
頁上。
若以冰箱而言，有了網頁化的使用者介
面，下班回家的途中，想要料理一些好吃的晚
餐時，才想到需要買一些食材回家料理，但是
又忘記冰箱內缺什麼東西，此時若冰箱能經由
網路管理，就可以在辦公室或在賣場，線上即
可查詢到家中冰箱食材的多寡，如此可以更方
