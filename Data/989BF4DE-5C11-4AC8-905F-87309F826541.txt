 I
摘  要 
隨著全球資訊網使用日漸普及，建置交通資訊網站提供用路人行前交通資訊已成
為發展先進旅行者資訊系統首要工作。然而受限於網站主從式系統架構，網頁往往受
到網路環境壅塞影響而發生回應延遲，造成使用者日後再度使用該網站之意願降低，
亦使得網站所被賦予傳遞之交通管理策略無法有效執行。面對此現象，網站規劃設計
者往往以主觀經驗採取試誤法來從事各種改善策略，由於缺乏客觀依據，不但造成時
間金錢浪費，亦由於系統無法穩定提供服務使得可靠度降低。 
本研究旨在發展網站服務效能評估模式，並以國道高速公路局全區即時路況系統
為例來說明該模式構建與分析過程，評估預先擷取改善技術中不同擷取方案對於網站
服務效能之改善效果。首先蒐集該系統網站伺服器點擊流資料，依據造訪特性區分為
五個時段，並推估各時段既有網路傳輸來回延遲時間。接著應用連續時間馬可夫鏈構
建各時段對於該網站之網頁瀏覽行為模式，並以該模式為基礎，透過參數調整來發展
各時段預先擷取技術網站效能改善評估模式。由實例應用分析結果發現，網站造訪率
呈現尖離峰狀態，使用者網頁瀏覽數亦隨著時段不同而有差異。任何時段預先擷取技
術施行於較低來回傳輸延遲時間增量環境時，以平均總對話時間衡量之服務效能改善
比例較低或不明顯；但隨著網路環境壅塞愈來愈嚴重時，則可獲得較大之改善比例。
此外，改善比例變化率會隨著來回傳輸延遲時間增量愈大而趨於平緩，不同預先擷取
方案改善比例變化與最受歡迎頁面狀態轉移機率大小有關，預先擷取單一頁面時，其
轉移機率達 0.4 以上時將可獲致較高之改善比例。 
關鍵詞：先進旅行者資訊系統網站、網站服務效能、馬可夫鏈模式、網頁瀏覽行為、
預先擷取技術 
 
 
 
 
 
 
 
 III
目  錄 
摘  要 ....................................................................................................................................I 
Abstract ............................................................................................................................... II 
表目錄 ............................................................................................................................... VII 
圖目錄 ................................................................................................................................. IX 
第一章 緒論 ......................................................................................................................... 1 
1.1 研究背景與動機 .................................................................................................... 1 
1.2 研究目的 ................................................................................................................ 1 
1.3 研究內容、步驟與流程 ........................................................................................ 2 
第二章 文獻回顧與評析 ..................................................................................................... 5 
2.1 先進旅行者資訊系統網站（Web-Based ATIS）服務內容與發展現況 ............ 5 
2.2 網頁回應延遲成因與影響 .................................................................................... 8 
2.2.1 延遲成因探討 ............................................................................................. 8 
2.2.2 網頁回應時間影響相關研究 ................................................................... 10 
2.3 改善網頁回應時間延遲之相關技術與效能 .......................................................11 
2.4 以馬可夫鏈構建網頁瀏覽行為相關研究 .......................................................... 18 
2.5 小結 ...................................................................................................................... 19 
第三章 研究方法 ............................................................................................................... 21 
3.1 離散時間馬可夫鏈（DTMCs）......................................................................... 21 
3.1.1 齊次馬可夫鏈的轉移機率特性 ............................................................... 22 
3.1.2 初始機率與絕對機率分佈 ....................................................................... 23 
3.1.3 遍歷性與平穩分佈 ................................................................................... 23 
3.2 連續時間馬可夫鏈（CTMCs） ......................................................................... 24 
3.2.1 齊次馬可夫過程轉移機率函數特性 ....................................................... 25 
3.2.2 速率函數 ................................................................................................... 26 
3.2.3 Chapman-Kolmogorov 向前與向後方程式............................................. 27 
3.2.4 停時與嵌入式離散時間馬可夫鏈 ........................................................... 28 
3.3 小結 ...................................................................................................................... 29 
第四章 國道高速公路全區即時路況系統架構............................................................... 31 
4.1 全球資訊網（WWW）系統架構....................................................................... 31 
4.1.1 瀏覽器（Browser） ................................................................................. 32 
4.1.2 一致性資源定位器（URL） ................................................................... 32 
4.1.3 網頁伺服器（Web Server） .................................................................... 32 
4.1.4 HTTP 通訊協定 ........................................................................................ 33 
4.2 HTTP 連線管理機制 ........................................................................................... 35 
4.3 國道高速公路全區即時路況系統資訊架構及服務內容 .................................. 37 
 V
8.3 研究貢獻 ............................................................................................................ 101 
參考文獻 ........................................................................................................................... 103 
附  錄 ............................................................................................................................... 107 
附錄一：各時段之狀態 4、5、6 轉移機率大小 ................................................... 107 
附錄二：網頁文件平均資料量大小 ....................................................................... 122 
計畫成果自評 ................................................................................................................... 129 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 VII
表目錄 
表 2.1 預先擷取方法優缺點比較 ..................................................................................... 14 
表 2.2 三種伺服器負載均衡技術之優缺點 ..................................................................... 17 
表 4.1 國道高速公路全區即時路況系統各頁面組成物件及其他頁面可連結情形 ..... 39 
表 4.2 各模組主要元件軟硬體配備規格 ......................................................................... 43 
表 5.1 國道高速公路局高速公路交通資訊系統伺服器點擊流資料 ............................. 51 
表 5.2 CLF 格式欄位說明................................................................................................. 51 
表 6.1 點擊流資料（3,301 組）使用者對話次數分時整理表 ....................................... 64 
表 6.2 假日使用者對話次數分時整理表 ......................................................................... 64 
表 6.3 非假日使用者對話次數分時整理表 ..................................................................... 64 
表 6.4 假日、非假日之尖峰、次峰、凌晨離峰涵蓋時間範圍、次數及造訪率 ......... 66 
表 6.5 各時段平均使用者對話經歷時間及提出網頁請求時間間隔數計算結果 ......... 67 
表 6.6 各時段平均每提出網頁請求產生回應延遲 ......................................................... 70 
表 6.7 網頁回應時間物件組成有效控制個數（ iw ） .................................................... 70 
表 6.8 各時段既有 RTTs 延遲時間計算 .......................................................................... 71 
表 7.1 CTMCs 網頁瀏覽行為模式中 400 個狀態之定義 ............................................... 73 
表 7.2 時段 1 之 TDBUR 適合度檢定分析結果（以狀態 1～6 為例） ....................... 74 
表 7.3 時段 1 之 CTMCs 模式所需參數計算（以狀態 1 離開為例） .......................... 75 
表 7.4 時段 2 之 TDBUR 適合度檢定分析結果（以狀態 1～6 為例） ....................... 75 
表 7.5 時段 2 之 CTMCs 模式所需參數計算（以狀態 1 離開為例） .......................... 76 
表 7.6 時段 3 之 TDBUR 適合度檢定分析結果（以狀態 1～6 為例） ....................... 76 
表 7.7 時段 3 之 CTMCs 模式所需參數計算（以狀態 1 離開為例） .......................... 77 
表 7.8 時段 4 之 TDBUR 適合度檢定分析結果（以狀態 1～6 為例） ....................... 77 
表 7.9 時段 4 之 CTMCs 模式所需參數計算（以狀態 1 離開為例） .......................... 78 
表 7.10 時段 5 之 TDBUR 適合度檢定分析結果（以狀態 1～6 為例） ..................... 78 
表 7.11 時段 5 之 CTMCs 模式所需參數計算（以狀態 1 離開為例） ........................ 79 
表 7.12 五個時段網頁瀏覽行為模式效能評估指標值 ................................................... 79 
表 7.13 時段 1 之首頁（狀態 1）後續連結最受歡迎頁面排序表 ................................ 80 
表 7.14 時段 1 之狀態 1 離開率修正所需參數 ............................................................... 81 
表 7.15 時段 1 不同延遲時間增量（u ）、不同預取方案之狀態 1 離開率（ '1ν ）..... 82 
表 7.16 時段 1 各延遲時間增量、不同預先擷取方案之效能評估指標計算結果 ....... 82 
表 7.17 時段 2 之首頁（狀態 1）後續連結最受歡迎頁面排序表 ................................ 84 
表 7.18 時段 2 之狀態 1 離開率修正所需參數 ............................................................... 84 
表 7.19 時段 2 不同延遲時間增量（u ）、不同預取方案之狀態 1 離開率（ '1ν ）..... 85 
表 7.20 時段 2 各延遲時間增量、不同預先擷取方案之效能評估指標計算結果 ....... 85 
表 7.21 時段 3 之首頁（狀態 1）後續連結最受歡迎頁面排序表 ................................ 86 
 IX
圖目錄 
圖 1.1 研究流程圖 ............................................................................................................... 4 
圖 2.1 道路交通資訊網站即時路況圖 ............................................................................... 6 
圖 2.2 美國休士頓 TranStar 系統之即時路況與歷史路況速度比較圖 ........................... 6 
圖 2.3 美國德州聖安東尼奧 TransGuide 系統旅行時間預測功能 .................................. 7 
圖 2.4 美國加州聖地牙哥 San Diego Area Traffic Report 道路封閉資訊圖 .................... 7 
圖 2.5 網頁回應時間影響模型 ........................................................................................... 8 
圖 2.6 快取技術架構示意圖 ..............................................................................................11 
圖 2.7 代理伺服器端預先擷取架構 ................................................................................. 12 
圖 2.8 運用網域名稱伺服器之負載均衡技術示意圖 ..................................................... 15 
圖 2.9 運用第四層網路交換器之負載均衡技術示意圖 ................................................. 16 
圖 2.10 運用網站內容交換器之負載均衡技術示意圖 ................................................... 16 
圖 2.11 內容遞送網路技術（CDN）示意圖................................................................... 18 
圖 4.1 全球資訊網（WWW）系統基本架構.................................................................. 31 
圖 4.2 動態網頁伺服器架構 ............................................................................................. 33 
圖 4.3 HTTP 通訊協定下客戶端與伺服端請求/回應過程示意圖................................. 34 
圖 4.4 HTTP 平行連線示意圖（4 個平行連線） ........................................................... 35 
圖 4.5 HTTP 持續連線示意圖（2 個持續連線） ........................................................... 36 
圖 4.6 HTTP 管道連線示意圖 .......................................................................................... 36 
圖 4.7 國道高速公路全區即時路況系統網站資訊架構圖 ............................................. 38 
圖 4.8 國道高速公路全區即時路況系統網站系統架構示意圖 ..................................... 41 
圖 4.9 本研究網站預先擷取技術施行架構圖 ................................................................. 45 
圖 5.1 預先擷取技術服務效能評估模式整體架構 ......................................................... 48 
圖 5.2 某使用者網頁瀏覽行為與點擊流關係示意圖 ..................................................... 53 
圖 5.3 第 m 個使用者對話（含 11 個請求）示意圖 ...................................................... 54 
圖 5.4 CTMCs 使用者網頁瀏覽行為模式狀態及其轉移示意圖 ................................... 55 
圖 5.5 結束狀態機率依時函數示意圖 ............................................................................. 58 
圖 5.6 狀態合併示意圖 ..................................................................................................... 59 
圖 6.1 點擊流資料（3,011 組）使用者對話次數分時分佈圖 ....................................... 65 
圖 6.2 台灣地區民眾最常使用寬頻上網時段（假日與非假日） ................................. 67 
圖 7.1 時段 1 之不同延遲時間增量（u ）、不同預先擷取方案 EUST 改善比例 ........ 83 
圖 7.2 時段 2 不同延遲時間增量、不同預先擷取方案之 EUST 改善比例 ................. 86 
圖 7.3 時段 3 不同延遲時間增量、不同預先擷取方案之 EUST 改善比例 ................. 89 
圖 7.4 時段 4 不同延遲時間增量、不同預先擷取方案之 EUST 改善比例 ................. 92 
圖 7.5 時段 5 不同延遲時間增量、不同預先擷取方案之 EUST 改善比例 ................. 95 
圖 7.6 EUST 與網路環境 RTTs 延遲時間關係圖............................................................ 97 
 1
第一章 緒論 
1.1 研究背景與動機 
在先進旅行者資訊系統（Advanced Traveler Information Systems, ATIS）發展歷程
中，除了透過電視、廣播、電話、書面文字及電子看版等媒介發佈各項交通資訊以提
供用路人從事行旅決策外，由於網際網路（Internet）/全球資訊網（World Wide Web, 
WWW）近年來使用之快速成長與普及，加上其具有操作介面易學易懂、使用成本低、
交通資訊資料豐富與多樣等特性，各國皆以建置交通資訊網站來發展網路式先進旅行
者資訊系統（web-based ATIS）為重點工作。 
交通資訊網站係提供行旅資訊發佈與查詢介面，使用路人得以透過個人電腦連結
網際網路至該網站下載瀏覽相關行前資訊（pre-trip travel information, PTTI），以做為
從事行旅決策之重要參考依據。然而受限於網站主從式（client/server）系統架構，網
頁往往受到網路環境壅塞影響而發生顯示（回應）延遲，造成使用者日後再度使用該
網站之意願降低，亦使得網站所被賦予傳遞之交通管理策略無法有效執行。目前技術
上雖可進行網路頻寬擴充，但此作法除大幅提高建置成本負擔外，尤其是面對交通資
訊網站負有特定功能目的，網站造訪量與道路交通流量型態均呈現尖離峰特性（U. S. 
DOT., 2000），使得網站遇尖峰時有大量造訪者短時間湧入，離峰時則又造成頻寬閒
置浪費，因之其他各種改善網頁回應延遲之概念與技術便陸續應運而生。 
對於網站規劃設計者而言，該使用何種技術來改善網站服務效能常採用主觀經驗
判斷，即一旦發生效能不佳時再進行修改，但也因此造成時間、成本上之浪費。此外，
若經常進行系統修改升級時又必須暫停服務，隨之降低該網站系統可靠度，亦再度產
生使用意願之負面影響。故本研究以此為著眼，蒐集交通資訊網站伺服器點擊流資料
（clickstream data），適度將該資料依網站造訪尖離峰特性予以分時分組，並進行各
時段網路環境延遲特性分析。接著以連續時間馬可夫鏈（Continuous Time Markov 
Chains, CTMCs）為主要研究方法論，構建分時網頁瀏覽行為模式，並以之為基礎，
考慮網路環境延遲，建立交通資訊網站服務效能改善評估模式，以提供網站規劃設計
者能有效評估改善網頁回應延遲技術之效能，以做為制訂網站服務效能改善機制各項
策略參考。 
1.2 研究目的 
基於上述研究背景與動機，本研究期望達成目標如下： 
1. 結合交通管理與網際網路技術專業領域，發展出更符合用路人需求之交通資訊網
 3
內涵。「使用者網頁瀏覽行為模式」係採用點擊流資料配合連續時間馬可夫鏈方法論
來構建。最後則說明如何以「使用者網頁瀏覽行為模式」為基礎，發展「最受歡迎頁
面」之「預先擷取技術服務效能評估模式」啟發式構建方法。 
5. 基本資料分析與網路環境延遲時間估計（第六章） 
有鑑於道路交通與交通資訊網站需求均具有尖離峰時間特性，本章蒐集國道高速
公路全區即時路況系統網頁伺服器點擊流資料，來進行不同時段造訪者特性分析，並
據以估計分時網路延遲時間，以做為後續構建分時網頁瀏覽行為模式及預先擷取技術
服務效能評估模式之參數設定依據。 
6. 實例應用之模式構建與分析（第七章） 
以國道高速公路全區即時路況系統網站進行實例分析，首先建立各時段使用者瀏
覽行為 CTMCs 模式，接著進行參數調整使之成為各時段網站預先擷取技術服務效能
評估模式，以探討各時段在不同網路延遲時間增量影響下之各個預先擷取方案改善效
能變化與異同，並建議各時段、不同網路延遲情境下，網路管理員所應設計規劃之預
先擷取策略。 
7. 結論與建議（第八章） 
將本研究相關文獻、模式構建以及模擬分析結果整理成相關結論及其建議。 
 5
第二章 文獻回顧與評析 
本章將回顧本研究相關文獻。首先於 2.1 節則對於目前先進旅行者資訊系統網站
之服務功能、內容等發展現況進行分析探討，2.2 節分析 WWW 下產生網頁回應時間
（response time）延遲之可能成因，並探討其影響，2.3 節將回顧因應改善網頁回應時
間及其服務品質所發展相關技術系統架構及其效能等研究，2.4 節則回顧以馬可夫鏈
構建網頁瀏覽行為之相關研究，最後於 2.5 節進行本章小結。 
2.1 先進旅行者資訊系統網站（Web-Based ATIS）服務內容與發展現況 
網頁以精彩多樣之文字、圖形化介面，提供網站造訪者各項訊息查詢，是目前網
際網路（Internet）各項服務中，最廣為民眾接受與使用的，是故各式各樣網站式應用
（web-based application）如雨後春筍般相繼孕育而生。在運輸領域應用中，建置交通
資訊網站提供用路人從事行旅決策所需相關資訊亦已成為各國發展先進旅行者資訊
系統（Advanced Traveler Information Systems, ATIS）重要之一環，亦稱為 web-based 
ATIS。目前世界各國所發展 ATIS 網站中，除了為提供不同地區、運具交通資訊而建
置之獨立系統外，亦有整合全國各地區所有獨立交通資訊網站之所謂 ATIS 入口網站
（portal），如美國「National Traffic and Road Closure Information」與我國「交通服務
e 網通」等，進入此 ATIS 入口網站後，可依用路人所需，點選進入提供特定地區與
資訊之 ATIS 網站。整體而言，國內外交通資訊網站的內容，依資訊性質區分，大致
可以分為道路交通資訊、大眾運輸資訊及其他資訊，各類資訊特性分別說明如下： 
1.道路交通資訊 
道路交通資訊包含路況與事件資訊，其中路況資訊為道路壅塞狀況（旅行時間），
而交通事件為道路施工、道路管制、事故等可預料或不可預料之車流干擾事件。即時
交通資訊為 ATIS 之核心，能提供用路人從事行前或旅途中行旅決策之參考資訊，為
道路交通資訊中不可或缺之一環。 
2.大眾運輸資訊 
大眾運輸資訊主要包含機場、公車、捷運（含輕軌、街上電車等）、渡輪等運輸
系統所有資訊，有些網站還包括停車轉乘、共乘、自行車、殘障設施、殘障撥召公車
（Paratransit）等大眾運輸相關資訊。 
3.其他資訊 
包括高承載（high occupancy vehicle, HOV）車道、調撥車道、車輛共乘、天氣、
空氣品質等，這些資訊通常配合當地交通政策以適當地提供資訊。 
 7
SmartTrek 系統為例，旅行時間預測方法係以某時段車速歷史資料去推估 95%信賴區
間之旅行時間，並同時列出目前與當日平均旅行時間對照表。此外美國德州聖安東尼
奧 TransGuide 系統之旅行時間預測，除依照起迄點列表外，還提供動態起迄點選擇
之地圖介面，用路人可依自己可能使用路線，點選起點、轉折點、迄點後按下計算鈕，
計算出起迄點中各段旅行時間及總旅行時間。用路人最多可同時選取三條相同起迄點
之路徑，進行個別旅行時間比較，介面如圖 2.3 所示。 
 
圖 2.3 美國德州聖安東尼奧 TransGuide 系統旅行時間預測功能 
資料來源：TransGuide 系統網站 
3.即時事件資訊 
係以列表方式提供用路人即時事件資訊，或於地圖上標示事故發生地點，並顯示
圖徽，點選後可顯示地點、時間與事由等詳細資訊。 
4.道路施工資訊 
道路施工資訊可提供用路人道路施工地點、時間、車道與事由等資訊，比較特別
的是美國加州聖地牙哥 Caltrans 系統中 San Diego Area Traffic Report 可提供用路人以
所欲查詢日期範圍，事先瞭解未來道路施工、封閉等相關資訊，方便用路人及早規劃
替代道路等應變措施，如圖 2.4 所示。 
  
圖 2.4 美國加州聖地牙哥 San Diego Area Traffic Report 道路封閉資訊圖 
資料來源：Caltrans 系統網站 
5.即時影像 
 9
傳送（retransmits）使之介於 1 至 16 秒。但一般網路管理員都會在新增網域名稱、伺
服器升級或維護時更新網域名稱快取資料庫資料，使查詢 DNS 產生之延遲不致太大。 
2.TCP 連線過程 
一旦網域名稱獲得確定後，客戶端必須與伺服端建立 TCP 連線（3.1.4 節），TCP
屬於連接導向傳輸方式，故對於連線管理特顯重要。當 TCP 建立連線時，其連線訊
號必須經由 IP 封包傳送，而 IP 封包也許會經由多個實體網路跨接，因此其路徑選擇
（routing）方式影響甚廣。在 TCP 連線/傳送過程中，會經過若干網路閘門（gateway）
與路由器（router），這些設備皆必須具備路徑選擇功能。當一筆資料由傳送端送出後，
所經過之路徑都是 IP 封包到達某一路由器後，再由該路由器決定往那下個路徑（next 
hop）傳送。研究顯示，有 60％伺服器少於 200 毫秒之連線時間，其餘伺服器連線時
間介於 200 至 10,000 毫秒（Zari, et al., 2001）。 
3.伺服端處理過程 
網頁伺服器透過靜態與動態架構分別可提供靜態與動態網頁資訊（見 3.1.3 節）。
相對於靜態網頁，動態網頁對於伺服器中輸入/輸出介面（I/O）及中央處理器（central 
processing unit, CPU）之負荷明顯較大，故隨著動態資訊網頁需求日益增加，伺服器
內負荷造成工作瓶頸愈可能發生。目前動態網頁運作方式必須透過程式執行，可分為
兩種：客戶端、伺服端處理應用程式。例如：Java、JavaScript、Active X 等語言係內
嵌於 HTML，客戶端瀏覽器必須安裝相關之直譯程式方能顯示動態網頁，故屬於客戶
端處理應用程式。而 ASP、ColdFusion 等語言係屬執行於伺服器之伺服端處理應用程
式，例如某使用者欲查詢伺服端資料庫時，透過 ASP 撰寫之查詢程式向伺服端查詢，
伺服端執行處理後，僅須將查詢結果回傳至客戶端即可，不像客戶端處理應用程式
般，需將所有資料、程式傳輸至客戶端瀏覽器執行。故對於頻寬需求而言，採用伺服
端處理應用程式之動態網頁相對較低；但對於伺服器負載而言，採用客戶端處理應用
程式之動態網頁則較低。 
4.網頁文件傳輸過程 
網頁文件傳輸時間是處理程序（transaction）中造成延遲主要來源。影響網頁文
件傳輸時間之因素計有：文件檔案大小、頻寬壅塞、路由器路徑選擇與封包交換效能
等。在文件檔案上，可以壓縮或編碼技術來減低文件大小，以提升傳輸效能。若伺服
端或途中網路頻寬壅塞時，增加頻寬雖有利於加速網頁文件傳輸，但其效能必須反應
在點對點（即伺服端與客戶端）間，而不只是提升伺服端或客戶端至 ISP 間之傳輸效
能，否則在傳輸過程中依然會產生瓶頸，故目前在網路傳輸效能上，增加網路頻寬有
被誤解及濫用之情形發生。路由器之路徑選擇是否真能避開壅塞路徑，其封包交換是
否會造成路由器過度負荷而效能降低，皆對於傳輸效能影響甚深（徐武孝等，民國
91 年）。 
 11
2.3 改善網頁回應時間延遲之相關技術與效能 
為改善網頁回應時間，提升網站服務品質，目前多項技術可用以協助改善傳輸延
遲之情形，如快取技術（cache）、預先擷取技術（prefetch）、伺服器負載平衡（server 
load balancing）、內容配送網路（content distribution network, CDN）、通訊協定
（transmission protocol）、有效網頁內容（efficient content）、影像最佳化（image 
optimization）與檔案壓縮技術（compression）等（Zari, et. al., 2001）。其中快取技術、
預先擷取技術、伺服器負載均衡與內容配送網路等四項技術係透過網路架構來改善延
遲，為本研究所欲探究之重點，現分述如下： 
1.快取技術（Caching Technique） 
網頁快取觀念係起於為減少客戶端向伺服端請求網頁文件次數、降低伺服器工作
負荷及其來回傳遞延遲時間（round trip times, RTTs）所造成之網頁回應時間延遲。代
理伺服器（proxy server）是該技術中最主要之設備，主要有兩個功能：（1）代理功能，
接受客戶端要求連接到網頁伺服器，並索取網頁文件回來給客戶端；（2）快取功能，
將索取到之網頁儲存至快取資料庫內，以備其他客戶端有同樣需求時，直接給予回應。 
快取技術架構如圖 2.6 所示。當客戶端需要索取一網頁時，首先到本機快取記錄
上查詢是否有該網頁，若有，便直接由快取記錄上索取網頁來顯示（圖中編號（I））。
若無，瀏覽器則連結至代理伺服器請求代理存取網頁。此時代理伺服器首先到快取資
料庫上查詢是否有該網頁，若有則直接回應給客戶端（圖中編號（II）），若無便啟動
網路連線到該網頁伺服器上索取，並將索取回來之網頁存入快取資料庫，再回應給客
戶端（圖中編號（III））（粘添壽，民國 92 年）。 
HTML文件
Cache Register
（Proxy Server）
I
II III
網際網路
 
圖 2.6 快取技術架構示意圖 
資料來源：粘添壽（民國 92 年） 
由於絕大部分使用者需求皆可由代理伺服器回應，故快取技術架構自然可減少網
頁伺服器負荷、提升網站服務效能，並且架構簡單、維護容易。但該架構主要缺點在
 13
之影響，顯示預先擷取會對於個別主機負載產生非預期性突增（burstiness），若採用
速率控制（rate-controlled）預先擷取使文件傳輸速率最小化時，則可使突增負載之負
面效果降至最低。 
有鑑於網頁瀏覽預測演算法對於預先擷取技術成效影響甚大，Padmanabhan & 
Mogul（1996）發展 Prediction-by-Partial-Matching（PPM）演算法並透過追蹤導向模
擬（traced-driven simulation）分析來探討預先擷取技術對於降低網路延遲之效果，發
現耗費兩倍訊務量（traffic）時，客戶端可減少延遲達 45％。Tavanapong, et al.（1998）
則採用伺服器存取記錄來建立 Profile-based Prefetching（PbP）預先擷取邏輯，並採用
模擬方式分析不同關連性門檻值（co-reference threshold）下之減少延遲績效。Albrecht, 
et al.（1998）透過馬可夫模式建立網頁瀏覽預測模式，證實預測效果良好，可應用於
預先擷取技術架構。Yang & Zhang（2001）在原快取架構基礎上結合預先擷取技術發
展新的系統架構，其網頁瀏覽預測模式（n-gram Prediction Model）係以歷史瀏覽資料
為基礎，實驗證明整合型架構比單一快取架構確實在改善回應延遲上有所助益。 
在其他預先擷取邏輯研究上，Markatos & Chronaki（1998）提出「前十大（Top 10）
預先擷取」方法，即藉由伺服端動態計算最常瀏覽之前十大網頁文件做為預先傳送對
象，經由追蹤導向模擬發現，在增加訊務量不到 10％之情形下，便達 40％之預測效
果。Duchamp（1999）使用預取超連結（prefetching hyperlinks）方法，即客戶端瀏覽
器預先擷取目前瀏覽頁面上所有超連結網頁文件，雖聲稱可降低客戶端延遲達 52.3
％，但可能增加記憶體與網路負荷亦是不爭的事實。Shin, et al.（2000）則提出網域
優先（domain-top）預先擷取原則，即結合代理伺服器中蒐集最受歡迎網域及其網頁
資料建立排序表（Rank List）用以預先擷取，透過追蹤導向模擬可以發現，依此方式
可使點擊率增加至少 20％，最高可達 450％。Bouras, et al.（2004）建立「最受歡迎
（Most Popular）」網頁預先擷取方法；首先以獨立網頁為基礎，分析伺服器歷史登錄
檔中其後 n 個最受歡迎點選網頁排名（n-next popularity），建立其最受歡迎排序表
（popularity ranking）；預先擷取原則依頻寬限制下資料傳輸大小來決定每個網頁後續
最受歡迎前m 個（ nm < ）來進行預取，其以模擬分析不同設計情境下預先擷取績效，
發現此一簡單邏輯亦能提升預先擷取成效達 52％。Jeon, et al.（2004）發展適應性預
先擷取方法（adaptive prefetching method），該法係動態根據使用者瀏覽網頁型態，設
定最受歡迎網頁及其相關連結網頁，預取相關網頁至快取資料庫。模擬結果顯示，使
用該適應性方法可使平均回應時間減少 20％，點擊率增加至 18％。Bouras & Konidaris
（2004）發展所謂廣域網路（Wide Area Network, WAN）之「預測性預先擷取架構
（predictive prefetching）」，亦即以廣域網路中較明顯主要快取點之登錄資料檔來構建
PPM 與 n-next popularity 網頁瀏覽預測演算法，並加以實驗比較，發現確實該技術應
用於廣域網路中亦有不錯成效。茲將上述文獻依預先擷取邏輯及其優缺點整理如表
2.1。
 15
3.伺服器負載均衡技術（Server Load-Balancing Technique） 
伺服器負載亦是影響網頁回應時間及其服務效能之一重要因素。伺服器負載均衡
技術即採用雙網站或多網站架構同時運作之方式，來獲得更大處理能力，若其中有伺
服器損壞時，其他依然可正常運作提供服務；故平時各主機可互相平衡負載，有故障
時則相互容錯（fault-tolerance）。伺服器負載技術一般可分為以下幾類（徐武孝等，
民國 91 年）：  
（1）運用網域名稱伺服器（DNS Server） 
此法係將網域名稱伺服器中同一網域名稱之網址定義多個 IP 位址，並指向多部
主機，網域名稱伺服器會將客戶端連線需求依輪替方式（round-robin）指到該網域名
稱下之各 IP 主機，以達到負載分散至各主機的功能（Zari, et al., 2001）。以圖 2.8 為
例，www.example.net 網站架設三部網頁伺服器，分別是：111.22.33.1、111.22.33.2
及 111.22.33.3，在 DNS 伺服器中將該網域指向此三個 IP 位址，以輪替方式回應予詢
問該網站網域名稱之使用者。 
 
圖 2.8 運用網域名稱伺服器之負載均衡技術示意圖 
資料來源：徐武孝等（民國 91 年） 
（2）運用第四層網路交換器（Layer 4 Switch） 
第四層網路交換器係透過網路第四層傳輸層（Transport Layer, TCP/UTP Port）之
連線埠號來工作，可針對不同 TCP/UDP 連線埠之連線需求，重新導引至不同特定之
伺服器主機，以達到負載分享（loading share）之目的。圖 2.9 表示應用第四層網路交
換器之範例，交換器下架構了三種應用 FTP（port：21）、POP3（port：110）與 WWW
（port：80）之伺服器，對使用者來說，只要連結至第四層交換器之 IP 位址，會自動
判定客戶端連線是何種連接埠（port），並自動連線導引至該對應之伺服器。至於其效
 17
表 2.2 三種伺服器負載均衡技術之優缺點 
伺服器負載均衡技術 優點 缺點 
運用網域名稱伺服器 1. 具容錯能力。 
2. 具資料備份能力。 
3. 具安全性。 
1. 網域名稱伺服器無法判斷後端伺服器或應用程式
之即時負載狀況。 
2. 若後端伺服器更換 IP 時，需要很長時間更新 DNS
記錄，當 ISP 或 DNS 伺服器尚未更新前，常造成
連線失敗。 
3. 附著式連線（Sticky Connection）問題：網站服務
需要做安全認證時，因為使用者每次連線未必指
向同一主機，易造成認證失敗。 
運用第四層網路交換器 1. 可建立多部伺服器從事負載均衡。 
2. 可偵測後端伺服器是否失常。 
3. 伺服器上所執行多項服務之一失常時，僅終止失
常之服務，不會全部停擺。 
1. 僅能處理網路第四層傳輸層 TCP/UDP 連接埠識
別不同之服務。 
2. 可能發生附著式連線問題。 
運用網站內容交換器 1. 可建立多部伺服器主機相互分擔網路負載。 
2. 可偵測後端伺服器運作情形是否失常，將後續客
戶端連線導引至其他相同功能主機上，以提升網
站服務之可獲得使用性（Availability）。 
3. 可依據網站內容特性在不同作業系統平台開
發，由網站內容交換器識別、決定導引至相對應
伺服主機。 
4. 使用端無法直接連線至主機，減少駭客入侵機
會。 
1. 若網站內容交換器故障時，服務即停擺（Device 
Single Point Failure）。 
資料來源：徐武孝等（民國 91 年）及本研究整理
 19
1−n , 2−n 次出象有關，則稱為二階馬可夫過程（second-order Markov process），其他
高階以此類推。馬可夫過程之出象又稱為「狀態（state）」，常見「狀態離散」兩種類
型，分別為時間離散之「離散時間馬可夫鏈（Discrete Time Markov Chains, DTMCs）」
以及時間連續之「連續時間馬可夫鏈（Continuous Time Markov Chains, CTMCs）」
（Bolch, et al., 1998），馬可夫模式目前已廣泛應用於自然、社會科學研究領域。 
在網頁瀏覽路徑預測應用方面，Albrecht, et al.（1998）與 Zukerman & Nicholson
（1999）利用馬可夫鏈（Markov chains）邏輯來構建空間（space）、二次時間
（second-order time）、鏈結空間-時間（linked space-time）及複合（hybrid）等四種人
工智慧（artificial Intelligence, AI）訓練模型，藉以預測某網站架構下客戶端使用者點
選行為，比較後發現以複合模型來構建之 AI 預測模式對於網頁點選行為預測能力及
準確性最佳，因而建議以之做為預先擷取預測邏輯。Sarukkai（2000）應用 DTMCs
於網頁超連結預測與路徑分析，並以馬可夫鏈為核心之機率連結預測法（probabilistic 
link predictor）作為模擬分析架構，並提出四種主要應用層面：HTTP 伺服端網頁請
求預測（web server HTTP request prediction）、使用者適應性網頁導引（adaptive web 
navigation）、網頁導覽（ tour generation）及個人化資訊管理核心（personalized 
hub/authority）等，用以強化伺服器提供客製化服務能力。Zhu, et al.（2002）提出以
DTMCs 來構建網頁瀏覽行為模式，並提出一演算法試圖將類似轉移行為予以壓縮，
以降低轉移矩陣階數，利於機率預測之計算，該模式可以用於 online navigation 
explorer（ONE）系統中施行。有鑑於利用 DTMCs 來構建網頁瀏覽行為模式時，階
數（與過去相關狀態數）選擇成為建立模式時重要且複雜之議題，Deshpande & Karypis
（2004）比較 1 至 5 不同階數馬可夫模式之預測精確度，雖然高階（3-5）精確度稍
高，但相對受限於計算複雜性，記憶體、CPU 等硬體需求較高，自然影響計算速度，
真正應用時必須針對提高精確度與耗費計算時間兩者間加以審慎評估。此外 Lin & 
Ting（2005）蒐集伺服器登錄檔，以 CTMCs 構建網頁瀏覽行為簡化模式，亦即僅考
慮從首頁開始瀏覽至特定網頁結束瀏覽為止之單向前進瀏覽過程，藉以探討即時交通
資訊網站之網頁介面超連結項目順序排列可用性。而 Lin（2007）則改進上述 CTMCs
模式，考慮由任一網頁進入/離開該網站、向前/返回瀏覽網頁等實際瀏覽行為，藉以
建立網頁介面超連結項目順序排列可用性評估模式。 
2.5 小結 
先進旅行者資訊系統是發展智慧型運輸系統重要之一環，更是用路人服務智慧化
之具體實踐。隨著網際網路應用之普及，發展 web-based ATIS 提供行前或旅途中資訊
已逐漸成為趨勢與潮流，各國亦致力於交通資訊網站之建置以有效提供用路人交通資
訊。 
經本章文獻回顧可知，網頁回應延遲已成為網頁瀏覽者產生網站負面服務品質感
 21
第三章 研究方法 
本研究以使用者觀點來探討網站服務效能，故必須建立以使用者網頁瀏覽行為模
式為基礎之網站服務效能改善評估模式做為預測之用。對每一使用者而言，進入網站
後點選網頁瀏覽過程可視為包含時間與狀態（網頁）兩隨機變數之隨機程序（stochastic 
process），馬可夫鏈（Markov Chains）便是可解決此一問題之機率模式。馬可夫鏈模
式是具有無後效性的隨機過程，所謂無後效性是指：當過程 )(tX 在時刻 mt 所處狀態
為已知時，過程在將來時刻 t（ mtt > ）所處狀態機率僅與過程在 mt 時刻所處狀態有關，
而與過程在 mt 時刻以前（過去）狀態無關，無後效性又稱馬可夫特性（Markonian 
property）。馬可夫鏈常見「狀態離散」兩種類型，分別為時間離散之「離散時間馬可
夫鏈（Discrete Time Markov Chains, DTMCs）」以及時間連續之「連續時間馬可夫鏈
（Continuous Time Markov Chains, CTMCs）」（張文忠，民國88年；Bolch, et al., 1998）。 
3.1 離散時間馬可夫鏈（DTMCs） 
若隨機程序 ....},2,1,0),({ =nnX 之離散狀態空間為E，若對任意m個非負整數
mnnn <<<≤ ....0 21 ，任意正整數 k ，以及任意的 miii ....,,, 21 , Ej∈ ，恆有： 
})()({
})(....,,)(,)()({ 2211
mmm
mmm
inXjknXP
inXinXinXjknXP
==+=
====+
                   （3.1） 
則稱 ....},2,1,0),({ =nnX 為離散時間馬可夫鏈。若狀態空間E為有限集合，則稱
....},2,1,0),({ =nnX 為有限狀態之離散時間馬可夫鏈。（3.1）式等式右邊之條件機率
稱為馬可夫鏈在時刻n 的 k 步轉移機率（transition probability），記為 ),( knnpij + ，即： 
1})()({),( ≥==+=+ kinXjknXPknnpij  
上式表示已知過程在時刻n 處於狀態 i，經過 k 個單位時間後過程處於狀態 j 之機率。 
若馬可夫鏈的 k 步轉移機率 ),( knnpij + 與 n 無關，則稱為齊次馬可夫鏈
（homogeneous Markov chains）。由於齊次馬可夫鏈之轉移機率僅與出發時的狀態 i、
轉移步數、轉移到達狀態 j 有關，而與轉移的起始時刻n 無關，故 k 步轉移機率可表
示為 )(kpij ，即： 
1})()({),()( ≥==+=+= kinXjknXPknnpkp ijij                （3.2） 
當 1=k 時， )1(ijp 稱為一步轉移機率，簡寫為 ijp 。此外亦設定： 
 23
)()()()( lPkPlkPnP =+=                                           （3.4） 
可由數學歸納法得到： 
nPnP )]1([)( =                                                      （3.5） 
3.1.2 初始機率與絕對機率分佈 
吾人所關心的是，離散時間馬可夫鏈 )(nX 在初始時刻及各時刻之各狀態機率。
在時刻 n 取各狀態的機率分佈稱為在時刻 n 之絕對（機率）分佈（ absolute 
distribution），記為 )(npi ，即 
EiinXPnpi ∈== })({)(  
若在初始時刻 0=n 取各狀態機率分佈，則 
EiiXPpi ∈== })0({)0(  
稱為 )(nX 的初始機率分佈（initial distribution）。當已知離散時間馬可夫鏈在零時刻由
確定的狀態 0i 出發，則有 
Ejipp ji ∈≠== 00 ,0)0(,1)0(  
利用全機率公式可得 
∑ ==⋅===
i
iXjnXPiXPjnXP })0()({})0({})({
 
即 
∑ ∈=
i
ijij Einppnp )()0()(                                         （3.6） 
上式表示時刻n 的絕對機率分佈完全被初始機率分佈和 n 步轉移機率所決定。利用初
始機率分佈和n 步轉移機率即可確定離散時間馬可夫鏈的有限狀態機率分佈。 
3.1.3 遍歷性與平穩分佈 
所謂遍歷性係指系統由初始狀態出發，經過一段長時間後，它處於某狀態之機率
是否能穩定於某個極限值，此極限值是否與初始狀態有關。亦即探討當 ∞→n 時，轉
移機率 )(npij 的極限是否存在。 
假設離散時間馬可夫鏈 }0),({ ≥nnX 之狀態空間為E，若對一切 Eji ∈, ，存在不
依賴於 i的常數 jp ，使得 
 25
0,0},)()({ >≥==+ ττ titXjtXP  
稱為馬可夫過程在時刻 t 經時間 τ 由狀態 i 轉移至 j 的轉移機率函數（ transition 
probability function）。轉移機率函數 ),( τ+ttpij 不依賴於時刻 t之連續時間馬可夫鏈稱
之為齊次馬可夫過程（homogeneous Markov process），齊次馬可夫過程之狀態轉移機
率函數僅與出發狀態 i 、轉移所經過時間τ ，轉移到達狀態 j 有關，而與轉移開始時
刻 t無關，故可記為 )(τijp ，即 
0,0})()({
),()(
>≥==+=
+=
ττ
ττ
tjtXitXP
ttpp ijij                         （3.11） 
3.2.1 齊次馬可夫過程轉移機率函數特性 
將齊次馬可夫過程特性說明如下： 
特性1：轉移機率函數 )(τijp 滿足下列關係式： 
（1） Ejipij ∈≤≤ ,1)(0 τ  
（2）∑
∈
∈=
Ej
ij Eip 1)(τ  
特性2：若 0>t ， 0>τ ，則Chapman-Kolmogorov方程式成立： 
∑
∈
=+
Er
rjirij ptptp )()()( ττ                                           （3.12） 
其矩陣形式為 
)()()( ττ PtPtP =+  
其中 
⎥⎥
⎥⎥
⎦
⎤
⎢⎢
⎢⎢
⎣
⎡
=
)(...)()(
............
)(...)()(
)(...)()(
)(
21
22221
11211
tptptp
tptptp
tptptp
tP
NNNN
N
N
 
特性3：設馬可夫過程狀態空間為E ，則對任意的 mttt <<<≤ ...0 21 有 
)().....()}({
})(...,,)(,)({
1121
2211
121 −−−⋅=
===
− mmiiii
mm
ttPttPtXP
itXitXitXP
mm
                         （3.13） 
 27
則稱此過程為隨機連續的馬可夫過程（stochastic continuous Markov process）。上式表
示當 t很小時，過程幾乎保持原有狀態 i不變，而轉移至另一狀態 j 的機率幾近於0，
亦即 )(tX 之狀態不會在很短時間突然發生變化。此外可以證明，對於隨機連續的馬
可夫過程，下列極限必定存在且有限。 
Njiq
t
tp
ij
ijij
t
...,,2,1,0,
)(
lim
0
==−+→
δ
                               （3.20） 
上式等號左邊為 )(tpij 在 0=t 之右導數，即有 
)0( +′= ijij pq  
通常稱 ijq 為馬可夫過程之速率函數（speed function），又稱轉移機率密度（transition 
probability density）。其表示馬可夫過程轉移機率函數在初始時刻對時間之變化率。矩
陣 
⎥⎥
⎥⎥
⎦
⎤
⎢⎢
⎢⎢
⎣
⎡
=
NN
N
N
NNN q
q
q
qqq
qqq
qqq
Q
...
...
............
...
...
1
0
210
121110
020100
 
稱為馬可夫過程的速率矩陣（speed matrix），簡稱Q矩陣。 
速率函數 ijq 具有以下特性： 
特性1： Njijiqq ijii ...,,2,1,0,;,0,0 =≠≥≤  
特性2：∑
=
==
N
j
ij Niq
0
...,,2,1,0,0  
3.2.3 Chapman-Kolmogorov 向前與向後方程式 
設隨機連續狀態有限的馬可夫過程 }0),({ ≥ttX 之轉移機率函數為 )(tpij ，速率函
數為 ijq ，則有 
Njiqtp
dt
tdp N
k
kjik
ij ...,,2,1,0,)(
)(
0
==∑
=
                               （3.21） 
Njitpq
dt
tdp N
k
kjik
ij ...,,2,1,0,)(
)(
0
==∑
=
                               （3.22） 
其中（3.21）式稱為Chapman-Kolmogorov向前方程式（forward equation），（3.22）式
稱為Chapman-Kolmogorov向後方程式（backward equation）。這兩組方程式各包含
 29
對於嵌入式離散時間馬可夫鏈而言，僅於跳躍時刻發生狀態轉移，故對於每個狀
態 i而言， 0=iiq 。亦即表示狀態 i在極短時間內回到自己狀態實際上不可能發生，其
Q 矩陣主對角線元素應為0。為了便於後續機率計算，吾人定義率矩陣ℜ（rate 
matrix），其元素 
⎩⎨
⎧
=−
≠=
ji
jiq
r
i
ij
ij ν                                                   （3.27） 
基本上Q矩陣等同於ℜ矩陣；當 iiir ν−= 時， 0=iiq 。 
對於嵌入式離散時間馬可夫鏈，其狀態機率 )(tp j 可透過以下微分方程式計算： 
...,2,1,0)(
)( ==∑ jtprdt tdp ii ijj                                     （3.28） 
寫成矩陣向量形式為 
ℜ′=′ )()( tP
dt
tPd                                                   （3.29） 
該微分方程式之解為： 
tePtP ℜ×′=′ )0()(                                                  （3.30） 
其中 teℜ 為矩陣指數（matrix exponential），定義為 ∑∞
=
ℜ ℜ=
0 !
)(
k
k
t
k
te 。 
3.3 小結 
對本研究而言，考慮使用者真正耗費時間為重要研究評估指標，故應以CTMCs
為主要研究方法論。此外由於受限於伺服器點擊流登錄資料所代表事件特性，本研究
係採用CTMCs之特例「嵌入式離散時間馬可夫鏈」進行使用者瀏覽行為模式構建，
後續網站服務效能改善評估模式亦依此為基礎進行參數修正，其中模式中的停時表示
使用者提出網頁瀏覽請求之時刻。 
以上各小節對於DTMCs或CTMCs模式之定義與定理皆源於馬可夫特性之假設，
亦即下一個狀態發生機率僅與目前狀態機率有關，與過去無關。但事實上馬可夫鏈可
考慮多階情形，亦即不僅與目前狀態機率有關，亦可與過去發生的幾次狀態轉移有
關，該次數稱為階數。當考慮多階情形時，可將模式中單一狀態定義成為多個連續事
件，並依之估計模式所需參數，此時上述各小節之定義與定理仍可適用。 
本研究中使用者網頁瀏覽行為模式係考慮不同網頁各屬一狀態（state），甚至為
 31
第四章 國道高速公路全區即時路況系統架構 
先進旅行者資訊系統網站係以全球資訊網（World Wide Web, WWW）為應用基
礎之服務，本研究網站國道高速公路全區即時路況系統亦不例外。故本章 4.1 節首先
針對 WWW 演進及其系統架構做一概略性介紹，並探討系統架構中主要元件與協定
如瀏覽器、一致性資源定位器、網頁伺服器、HTTP 通訊協定等。4.2 節則進一步針
對 HTTP 通訊協定連線管理機制進行說明。4.3 節則說明該網站資訊架構、頁面物件
組成及其服務內容等。4.4 節介紹該網站整體系統架構。4.5 節則為該系統規劃可行之
預先擷取架構。 
4.1 全球資訊網（WWW）系統架構 
WWW 起源於 1989 年日內瓦歐洲粒子物理實驗室（European Laboratory for 
Particle Physics, 法文縮寫 CERN）所建立各國科學家電腦間文字資料庫資訊之整合性
資訊系統，隨後在美國 NeXT 公司（現已被美國蘋果電腦公司所收購）所推出名為
STEP 之作業系統環境下繼續研發，並開發出文字模式之瀏覽程式。後續研發者將
WWW 之概念與規格公開至網際網路上之後，便開始轉移至其他作業系統。剛開始
WWW 僅能用來處理文字資料，直至 1994 年多媒體技術之導入，才為往後進一步普
及開創新契機，並演變成目前最普及之網際網路應用。 
WWW 採用主從式架構（client/server architecture），如圖 4.1 所示。網頁伺服器
（web server）提供資源，亦即超文字標記語言（HyperText Markup Language, HTML）
文件，讓客戶端瀏覽器（browser）下載，之間以超文件傳輸協定（HyperText Transfer 
Protocol, HTTP）之通訊協定來傳輸。伺服端採一致性資源定位器（Uniform Resource 
Locators, URL）定址方式，客戶端可依 URL 位址找到所欲瀏覽之網站，故 URL 又稱
為網址。現將 WWW 系統架構中各元件之功能將分述如下（粘添壽，民國 92 年）。 
 
圖 4.1 全球資訊網（WWW）系統基本架構 
資料來源：粘添壽（民國 92 年） 
 33
載（plug-in）各種播放程式如：Active X、Flash、Media Player 等，方能增加瀏覽器
之功能。靜態伺服器與客戶端的互動是單向的，客戶端無法傳遞任何訊息至伺服端。 
2.動態網頁伺服器（Dynamic Web Server） 
因應網路服務應用之需要（如：線上訂購、問卷填答等），使客戶端與伺服端能
相互交換訊息，必須有類似資料庫之伺服器架構供客戶端查詢，故有所謂三層發展架
構（three-tire architecture）之產生，也就是除了 WWW 基本系統架構中客戶端（client）
及網頁伺服器（web server）之外，在伺服端多一個資料庫伺服器（database server），
以負責儲存應用程式所需資料，網頁伺服器則負責伺服功能之運作與網頁之建立，客
戶端利用瀏覽器與伺服器連接，透過網頁的各種呈現方式讓使用者和伺服端之資料庫
從事單/雙向溝通，如圖 4.2 所示。 
資料庫系統中，必須定義一個標準介面來結合資料庫與 HTML，以期不同資料庫
系統皆能提供標準介面連接方式，使用 HTML 所製作之程式便很容易連結至各種資
料庫系統，該標準介面稱之為共通閘門介面（Common Gateway Interface, CGI），凡具
有 CGI 介面之程式亦稱為 CGI 程式。CGI 程式可由 C、Java 等程式語言發展，當瀏
覽器執行至 CGI 程式時，它會透過 CGI 介面查詢資料庫系統。由於 CGI 是因應每個
使用者要求來開啟程式，會耗費很多記憶體，為改善此一缺點，IIS開發了Active Server 
Pages（ASP），Java 則開發了 Java Server Pages（JSP）兩種環境，它們能使伺服端之
描述指令（server-side Script）於同一處理作業中啟動多個執行緒（multi-thread），由
於執行緒一旦啟動便會常駐於記憶體中，因此便能快速回應，降低記憶體之消耗。 
網際網路
（Internet）
網頁伺服器瀏覽器
查詢
回應
資料庫
CGI
查詢
回應
資料處理
 
圖 4.2 動態網頁伺服器架構 
資料來源：粘添壽（民國 92 年） 
4.1.4 HTTP 通訊協定 
超文件傳輸協定（HyperText Transfer Protocol, HTTP）是針對 WWW 設計之傳輸
協定，目前使用之協定大多是 HTTP/1.0（RFC 1945）以上之版本。在此協定下，客
戶端以 ASCII 文字之通訊命令要求伺服端執行，伺服端將執行結果以 ASCII 文字方
 35
4.2 HTTP 連線管理機制 
由以上說明可知，HTTP 要面對的是先載入 HTML、後依序傳送圖片影像之一連
串請求/回應延遲（serial transaction delays）；為達成最佳化連線管理，HTTP 提供以
下幾種機制加以改善（Gourley & Totty, 2002）： 
1.平行連線（Parallel Connections） 
此法係客戶端瀏覽器收到 HTML 頁面後，再同時使用多個連線同步發送請求下
載其他圖片影像等。如圖 4.4 所示，當經過 TCP 連線 1 後，客戶端請求（Request-1）
與回應（Response-1）得到 HTML，緊接著透過平行連線，幾乎同時發出 TCP 連線 2、
3、4 及請求（Request-2, 3, 4），得到圖形影像回應（Response-2, 3, 4）。若客戶端頻寬
不夠大時，則此法效果有限。此外，過多連線常使記憶體不足，尤其對伺服器來說更
不樂見，因此通常預設最多 4 個，而且伺服器可自由關閉特定客戶端之過度連線。 
時間
伺服端
客戶端
時間
Transaction 1
TCP連線 1 TCP連線 2
伺服器處理時間
Transaction 2, 3, 4
伺服器處理時間
TCP連線 3
TCP連線 4  
圖 4.4 HTTP 平行連線示意圖（4 個平行連線） 
資料來源：Gourley & Totty（2002）及本研究 
2.持續連線（Persistent Connections） 
由於HTML與圖片影像通常置於同一網站，故HTTP/1.1提供跨HTTP transactions
保持開啟（open）狀態直到客戶端或伺服端決定關閉（close），利用 TCP 連線之重複
使用以降低連線/關閉延遲。HTTP/1.1 正式制定並預設持續連線，RFC 規格中單一客
戶端對某伺服器僅提供最多兩個持續連線以避免造成伺服器負擔，例如 IE 瀏覽器預
設為 2。如圖 4.5 所示，當經過 TCP 連線 1 後，客戶端請求（Request-1）與回應
（Response-1）得到 HTML，緊接著 Request-2 使用 TCP 連線 1，而 Request-3 必須重
新建立 TCP 連線 2 方能提出請求，最多兩個連線建立後，其餘請求（如 Request- 4）
則持續透過 TCP 連線 1 或 2 發出請求，陸續得到圖形影像回應（Response-2, 3, 4）。 
 37
4.3 國道高速公路全區即時路況系統資訊架構及服務內容 
「國道高速公路全區即時路況系統」由高速公路局發包建置，民國 93 年 1 月開
始啟用，至民國 95 年 11 月在原基礎上增加服務內容、架構更新後改版「國道高速公
路交通資訊系統」成為目前服務營運之系統，本研究網站為 93 年 1 月之版本，目前
已停用。 
網站資訊架構（Information Architecture）相當於網頁連結結構，提供規劃設計者
能清楚有效地安排所有頁面分類、層級、內容等（Rosenfeld & Morville, 2002）。圖 4.7
所示即國道高速公路全區即時路況系統網站之資訊架構圖，199 個頁面配置為三個層
級，第一層為首頁，第二層有「即時交通資訊」、「旅行時間計算」、「北區路網圖」、「中
區路網圖」、「南區路網圖」等五個頁面，第三層則有「旅行時間計算結果」、73 個北
區細部路段、57 個中區細部路段及 62 個南區細部路段之路況說明頁面。 
表 4.1 詳列此 199 個頁面之組成物件及與其他頁面可連結狀況，特別指出每個頁
面組成物件係由於物件數多寡與完整下載該網頁時必須向伺服器提出請求數有關，網
頁物件組成愈多，必須向伺服端請求次數亦愈多，尤其當網路環境壅塞時，完整顯示
網頁所需時間亦會隨著物件數隨之延長，此為 HTTP 通訊協定特性。物件基本上分為
四類：HTML 文件、JavaServer Pages（JSP）生成路網資訊圖、即時路況影像及頁面
其他圖片等。HTML 文件係構成網頁程式碼，為每一網頁基本組成。為提供即時資訊
之動態服務，該網站伺服器必須採用動態網頁伺服器，透過 JSP 之 CGI 程式，來提
供動態查詢（詳見 4.1.3 節）。以首頁台灣地圖為例，其顯示為目前國道高速公路整體
即時路況所有路段行車速率，此係由伺服端透過 JSP 來查詢即時資料庫之行車速率資
訊，得到相關資訊後，經網頁伺服器生成台灣全區路網資訊圖後回傳至客戶端。路況
影像則是根據路段偵測器傳回資料後由影像匯流、管理伺服器予以數位化處理、存
檔，提供客戶端查詢。頁面其他圖片表示網頁中其他為增進可用性所放置之文字藝術
圖片等。 
本系統發佈內容網頁分配特性，自第一層至第三層網頁具有涵蓋區域範圍由大至
小之層次性，現將各網頁發佈資訊服務內容說明如下： 
 
 39
表 4.1 國道高速公路全區即時路況系統各頁面組成物件及其他頁面可連結情形 
允許連結頁面 
網頁 層級 頁面組成物件 
首頁 即時交通 資訊 
旅行時間 
計算 
北區 
路網圖
中區 
路網圖
南區 
路網圖
73 個 
北區路段 
57 個 
中區路段 
62 個 
南區路段 
首頁 1 
HTML 文件×1 
JSP 生成台灣全區路網資訊圖×1 
頁面其他圖片×6 
 ◎ ◎ ◎ ◎ ◎    
即時交通 
資訊 2 HTML 文件×1 ◎         
旅行時間 
計算 2 
HTML 文件×1 
頁面其他圖片×8 ◎ ◎ ◎       
北區 
路網圖 2 
HTML 文件×1 
JSP 生成北區路網資訊圖×1 
頁面其他圖片×7 
◎ ◎ ◎ ◎ ◎ ◎ ◎   
中區 
路網圖 2 
HTML 文件×1 
JSP 生成中區路網資訊圖×1 
頁面其他圖片×7 
◎ ◎ ◎ ◎ ◎ ◎  ◎  
南區 
路網圖 2 
HTML 文件×1 
JSP 生成南區路網資訊圖×1 
頁面其他圖片×7 
◎ ◎ ◎ ◎ ◎ ◎   ◎ 
旅行時間計算 
結果 3 
HTML 文件×1 
頁面其他圖片×7 ◎ ◎ ◎       
73 個 
北區路段 3 
HTML 文件×1 
JSP 生成路段路網資訊圖×1 
即時路況影像×1 
頁面其他圖片×6 
◎ ◎ ◎ ◎ ◎ ◎ ○   
57 個 
中區路段  3 
HTML 文件×1 
JSP 生成路段路網資訊圖×1 
即時路況影像×1 
頁面其他圖片×6 
◎ ◎ ◎ ◎ ◎ ◎  ○  
62 個 
南區路段 3 
HTML 文件×1 
JSP 生成路段路網資訊圖×1 
即時路況影像×1 
頁面其他圖片×6 
◎ ◎ ◎ ◎ ◎ ◎   ○ 
註：◎表示可連結頁面、○表示僅有相鄰路段頁面可供連結 
資料來源：國道高速公路局及本研究整理 
 41
網際網路
（Internet）
PC
XML
T3×1
PC
PC
 
圖 4.8 國道高速公路全區即時路況系統網站系統架構示意圖 
資料來源：國道高速公路局及本研究
 43
4.4.2 配備規格 
表 4.2 所示為各模組主要元件軟硬體配備規格。所有主機皆採用 HP DL380-G3
超薄型高階伺服器。 
表 4.2 各模組主要元件軟硬體配備規格 
主機名稱 數量（台） 
作業系統（OS） 
資料庫（DB） 
應用軟體（AP） 
國道路況事件通報模組 
系統伺服器 1 OS：Linux；AP：Tomcat 
資料伺服器 1 OS：Windows NT；DB：Oracle 
交通資料彙集交換模組 
伺服器 1 OS：Linux；AP：Tomcat 
資料伺服器 1 OS：Windows NT；DB：Oracle 
可擴展交換語言（XML）處理模組 
生成伺服器 1 OS：Linux；AP：Tomcat 
資料擷取伺服器 1 OS：Linux；AP：Tomcat 
即時影像處理與提供模組 
管理伺服器 1 OS：Linux；AP：Tomcat 
匯流伺服器 10 OS：Linux；AP：Tomcat 
數位處理系統伺服器 5 OS：Linux；AP：Tomcat 
加值伺服器 1 OS：Linux；AP：Tomcat 
國道（即時）交通資訊模組 
路網圖形生成伺服器 1 OS：Linux；AP：Tomcat 
加值伺服器 1 OS：Linux；AP：Tomcat 
進階處理系統伺服器 1 OS：Linux；AP：Tomcat 
網頁伺服器 1 OS：Linux；AP：Tomcat 
資料來源：國道高速公路局與本研究整理 
HP DL380-G3伺服器主要規格如下： 
1.中央處理器： 
z Intel Xeon（DP）2.4GHz（含）以上提供二顆 
z 400 MHz（含）以上匯流排晶片組架構 
z 每顆CPU 512KB（含）以上L2快取（cache）記憶體 
z 原廠CPU散熱裝置 
2.主機板： 
（1）晶片組： 
 45
（1） Microsoft作業系統 
（2） Linux作業系統 
（3） Novell作業系統 
（4） Unix作業系統 
4.5 國道高速公路全區即時路況系統預先擷取架構規劃 
依 2.3 節說明可知，若欲在本網站系統架構下從事預先擷取技術，可從兩方面修
改： 
1. 伺服端：修改網頁伺服器擷取文件程式碼，將預先擷取 CGI 程式（邏輯）寫入網
頁伺服器中。當傳送完客戶端請求網頁文件後，依預先擷取邏輯立即傳送特定網
頁文件。 
2. 客戶端：透過應用程式下載執行，使瀏覽器具備、啟動預先擷取功能，預取網頁
文件可置於客戶端主機（硬碟），此法可減少伺服器負擔。 
其施行架構圖如圖 4.9。 
 
圖 4.9 本研究網站預先擷取技術施行架構圖 
資料來源：本研究整理 
 
 
 47
第五章 網頁瀏覽行為與服務效能評估模式之構建 
由第二章相關文獻回顧與分析可知，「最受歡迎頁面」預先擷取技術與邏輯在諸
多可應用於改善先進旅行者資訊系統網站網頁回應延遲技術中，為網站規劃與設計者
提供另一實務可行之改善方案，然而該技術仍存在若干問題有待解決。第一，由於受
限於預先擷取邏輯準確性，該功能運作時自然會增加某種程度網路訊務量，擷取網頁
數愈多，徒增訊務量可能愈多。第二，對此類具資訊發佈特性 web-based ATIS 而言，
網路/伺服器訊務量將隨用路人之依時性交通資訊需求而變動，故預先擷取功能不需
隨時開啟，可隨實際網路訊務量來決定採用時機，但如何決定施行時機，必須深入探
究。第三，雖然「最受歡迎頁面」之預取邏輯簡單，但在何種時機來擷取多少最受歡
迎頁面方能達到最佳效能，亦是亟欲探討之課題。有鑑於此，本章將針對「最受歡迎
頁面」預先擷取技術發展 web-based ATIS 服務效能評估模式，提供網站規劃與設計者
進行該系統架構設計參考之用。 
本章分為五個部分，首先 5.1 節提出本評估模式整體架構與說明。5.2 節將以使
用者/用路人觀點來探討並定義 web-based ATIS 網站服務效能評估指標。5.3 節說明伺
服器登錄檔點擊流資料之意義與內涵。5.4 節則採用點擊流資料與連續時間馬可夫鏈
來構建本評估模式中「使用者網頁瀏覽行為模式」。5.5 節將說明如何以「使用者網頁
瀏覽行為模式」為基礎，以構建評估「最受歡迎頁面」之「預先擷取技術服務效能評
估模式」模式。 
5.1 評估模式整體架構與說明 
如圖 5.1，本評估模式首先以伺服器標準登錄檔記錄之點擊流資料來分析不同時
間造訪者特性，據以將整體點擊流資料適當分組為若干時段進行分析，並且可估計各
時段既有網路環境延遲時間。接著以各時段分組點擊流資料及連續時間馬可夫鏈
（Continuous Time Markov Chains, CTMCs）來構建各時段「使用者網頁瀏覽行為模
式」，並透過服務效能評估指標來加以驗證，該評估指標係以使用者為中心之觀點來
加以定義。爾後依據預先擷取邏輯、各時段既有網路環境延遲時間估計值及各時段「使
用者網頁瀏覽行為模式」進行相關參數修正，以發展各時段「預先擷取技術服務效能
評估模式」，透過參數修正，可分析各時段不同網路環境壅塞情境之不同預先擷取方
案效能。 
 49
此通常需結合多個行政單位或系統之資訊來源，彙整、加值後加以再予以提供發
佈。例如都會區 ATIS 服務之路況資訊部分，應提供都會區內各級道路路況，因此
資訊來源之整合至少應含縣市政府交通單位、高速公路局、公路總局等； 
5. 成本（設備成本及操作成本）：此即用路人取得交通資訊服務必須支付設備及操作
成本。利用網際網路取得資訊成本相對較低，利用車上導航系統成本則相對較高； 
6. 個人化程度（Individuality）：ATIS 資訊大致可分為集體式（collective）與個人式
（Individual）資訊。集體式資訊係提供所有用路人參考資訊，而個人式資訊係針
對個別需求所提供資訊。集體式資訊應設法讓多數人取得，而個人式資訊則通常
以互動方式取得，例如利用交通資訊網站輸入起迄點及出發時間而取得旅行時間
預測； 
7. 可用性（Readiness）：資訊讀取介面可用性將影響用路人使用意願。以交通資訊網
站為例，用路人通勤路線路況資訊之查詢方式必須簡易以方便用路人迅速取得資
訊，且資訊下載速度必須快速，方能吸引用路人再度使用； 
8. 安全性（Safety）：必須考量用路人在操作設備時之安全性，特別是車上導航設備，
諸如顯示字體大小、提供語音操作及操作簡易度等均會影響行車安全性； 
美國運輸部（1998）所完成「使用國家級智慧型運輸系統架構建置旅行者資訊系
統」報告書提及，先進旅行者資訊系統必須有以下五個重要特性： 
1. 資訊即時準確：系統必須提供符合旅行者所需即時準確資訊以從事旅運決策； 
2. 符合成本效益：付出費用合理； 
3. 提供路徑與旅運決策輔助功能：系統必須提供旅行者位置、時間與可能替代道路
之相關資訊，以協助使用者從事旅運規劃； 
4. 容易存取與使用：旅行者資訊必須提供多種媒介存取之資訊形式，並提供容易使
用之人機介面； 
5. 安全：旅行者資訊可以協助用路人避開危險環境，但若使用者於途中存取資訊可
能會某種程度造成使用者行駛時分心。 
Fayish & Jovanis（2004）則針對道路與氣象狀況資訊系統網站提出必須具備特性
如下： 
1. 關聯性（Relevance）：提供用路人重要相關資訊； 
2. 可用性（Ease of use）：使用網站資訊來進行行旅決策是否容易； 
3. 存取易用性（Ease of access）：是否容易發現與網站進行互動以獲得所需資訊； 
4. 即時性（Timeliness）：提供資訊是否最新即時； 
5. 資訊覆蓋範圍（Coverage）：網站所能提供資訊之涵蓋區域範圍； 
6. 準確性（Accuracy）：網站所提供準確資訊，並經由不同資訊來源進行比對校正。 
綜合上述相關文獻，本研究研擬 web-based ATIS 網站必須具備需求特性如下： 
 51
表 5.1 國道高速公路局高速公路交通資訊系統伺服器點擊流資料 
210.241.98.188 - - [06/Oct/2004:10:46:10 +0800] "GET /FreewayWeb/images/icon_2_f2.gif HTTP/1.1" 304 - 
210.241.98.188 - - [06/Oct/2004:10:46:10 +0800] "GET /FreewayWeb/images/icon_1_f2.gif HTTP/1.1" 304 - 
61.231.172.155 - - [06/Oct/2004:10:46:10 +0800] "GET /FreewayWeb/js/css.js HTTP/1.1" 304 - 
61.231.172.155 - - [06/Oct/2004:10:46:11 +0800] "GET /FreewayWeb/images/north_title.gif HTTP/1.1" 304 - 
61.231.172.155 - - [06/Oct/2004:10:46:11 +0800] "GET /FreewayWeb/title_js_iframe.jsp HTTP/1.1" 200 5034 
61.231.172.155 - - [06/Oct/2004:10:46:12 +0800] "GET /FreewayWeb/images/icon_3.gif HTTP/1.1" 304 - 
61.231.172.155 - - [06/Oct/2004:10:46:12 +0800] "GET /FreewayWeb/images/icon_1.gif HTTP/1.1" 304 - 
61.231.172.155 - - [06/Oct/2004:10:46:12 +0800] "GET /FreewayWeb/images/icon_2.gif HTTP/1.1" 304 - 
61.231.172.155 - - [06/Oct/2004:10:46:12 +0800] "GET /FreewayWeb/images/detail.gif HTTP/1.1" 304 - 
61.231.172.155 - - [06/Oct/2004:10:46:12 +0800] "GET /FreewayWeb/images/northway.gif HTTP/1.1" 304 - 
61.231.172.155 - - [06/Oct/2004:10:46:12 +0800] "GET /FreewayWeb/snap/images/layer3/c_N1_i101.jpg HTTP/1.1" 200 12327 
61.231.172.155 - - [06/Oct/2004:10:46:12 +0800] "GET /FreewayWeb/images/next_section.gif HTTP/1.1" 304 - 
61.231.172.155 - - [06/Oct/2004:10:46:14 +0800] "GET /FreewayWeb/images/live_image_2.gif HTTP/1.1" 304 - 
61.231.172.155 - - [06/Oct/2004:10:46:14 +0800] "GET /FreewayWeb/images/CameraNav/axis2100.gif HTTP/1.1" 304 - 
61.231.172.155 - - [06/Oct/2004:10:46:14 +0800] "GET /FreewayWeb/images/i_03.gif HTTP/1.1" 304 - 
61.231.172.155 - - [06/Oct/2004:10:46:14 +0800] "GET /FreewayWeb/images/i_04.gif HTTP/1.1" 304 - 
61.231.172.155 - - [06/Oct/2004:10:46:15 +0800] "GET /FreewayWeb/images/buttom.gif HTTP/1.1" 304 - 
61.231.172.155 - - [06/Oct/2004:10:46:15 +0800] "GET /FreewayWeb/images/powerby.gif HTTP/1.1" 304 - 
210.241.98.188 - - [06/Oct/2004:10:46:15 +0800] "GET /FreewayWeb/index_b.jsp?area=2 HTTP/1.1" 200 18606 
210.241.98.188 - - [06/Oct/2004:10:46:17 +0800] "GET /FreewayWeb/js/css.js HTTP/1.1" 304 - 
210.241.98.188 - - [06/Oct/2004:10:46:17 +0800] "GET /FreewayWeb/images/middle_title.gif HTTP/1.1" 304 - 
210.241.98.188 - - [06/Oct/2004:10:46:17 +0800] "GET /FreewayWeb/title_js_iframe.jsp HTTP/1.1" 200 5034 
210.241.98.188 - - [06/Oct/2004:10:46:17 +0800] "GET /FreewayWeb/images/icon_3.gif HTTP/1.1" 304 - 
210.241.98.188 - - [06/Oct/2004:10:46:18 +0800] "GET /FreewayWeb/images/icon_2.gif HTTP/1.1" 304 - 
210.241.98.188 - - [06/Oct/2004:10:46:18 +0800] "GET /FreewayWeb/images/icon_1.gif HTTP/1.1" 304 - 
210.241.98.188 - - [06/Oct/2004:10:46:18 +0800] "GET /FreewayWeb/images/detail.gif HTTP/1.1" 304 - 
210.241.98.188 - - [06/Oct/2004:10:46:18 +0800] "GET /FreewayWeb/images/buttom.gif HTTP/1.1" 304 - 
資料來源：國道高速公路局（民國 93 年） 
 
表 5.2 CLF 格式欄位說明 
欄位順序 意義 說明 範例 
1 Remote Host 遠端使用者主機 IP 位址
或 hostname。 
61.231.172.155 
2 Remote Identity 遠端主機所有人因進行
此請求與回應非常浪費
時間故大部分時間這欄
位為「-」 
- 
3 Authenticated User 通過認證之使用者帳
號，即經由 HTTP 認證視
窗輸入之使用者帳號及
名稱。 
- 
4 Time 請求日期與時間。 [06/Oct/2004:10:46:12 +0800] 
5 Request 請求方法、 request-URI
與 HTTP 通訊協定版本
編號。 
"GET /FreewayWeb/snap/images/layer3/c_N1_i101.jpg HTTP/1.1"
6 Response Code HTTP 回應代碼。 200 
7 Content Length 回應使用者請求內文
（content）大小，單位為
byte(s)。 
12327 
資料來源：陳俊宏（民國 90 年）及本研究整理 
 
 53
 
 
Re
qu
es
t-4
時間
伺服端
客戶端
時間
Re
qu
es
t-1
Response-1 Re
qu
es
t-2
Response-2Re
qu
es
t-3
Response-3
Response-4
伺服器接收到客戶端請求（點擊流記錄）
使用者
按下滑
鼠提出
請求
客戶端收到網頁物件
完成網頁下載
（開始瀏覽） 開始請求下一網頁
Re
qu
es
t-5
使用者思考時間
P1-1 P1-2 P1-3 P1-4 P2-1
t0 t1 t2 t3 t4 t0' t1't5
網頁回應時間
 
圖 5.2 某使用者網頁瀏覽行為與點擊流關係示意圖 
 
 55
式構建；亦即假設下一網頁瀏覽機率僅與目前瀏覽網頁機率有關，與過去瀏覽網頁機
率無關。採一階 CTMCs 雖未能獲致最高精確度之瀏覽路徑預測能力，但模式確實具
備簡單易構建、運算快、硬體需求不需太高等優勢。 
2.使用者提出請求間隔時間（TDBUR）之機率分配檢定 
連續時間馬可夫模式係假設逗留（sojourn）在某狀態時間為具有指數分配之隨機
變數。故在本研究中，隨機變數「使用者提出請求間隔時間（TDBUR）」相當於狀態
逗留時間，故必須檢定是否符合指數分配方能構建連續時間馬可夫鏈模式，此檢定過
程將於後續實例分析中加以說明。 
5.4.2 CTMCs 使用者網頁瀏覽行為模式之構建 
構建 CTMCs 模式首先必須定義狀態（states）及其狀態轉移（transitions）。本研
究考慮在某網站資訊架構下定義 p 個網頁類別（含兩虛擬網頁），其所形成集合為P，
則每個網頁（ p th）被定義為一個狀態，網頁兩兩間可能發生之連結 aPji ∈),( 被定義
為狀態轉移。圖 5.4 所示為本研究 CTMCs 使用者網頁瀏覽行為模式之狀態及其轉移
示意圖，由於所有使用者對話終究會以結束狀態終結，故本 CTMCs 模式存在吸收態
（absorbing state）之結束狀態。 
 
圖 5.4 CTMCs 使用者網頁瀏覽行為模式狀態及其轉移示意圖 
為構建 CTMCs 模式，必須透過蒐集點擊流資料來估計所需相關參數，現將參數
定義（Yates & Goodman, 2005）及其估計方法說明如下： 
1.轉移機率（Transition Probability） 
轉移機率（ ijTP ）定義為由狀態 i轉移至狀態 j 發生之機率，該值可由點擊流資料
中所有發生 ),( ji 連結對總次數除以所有由狀態 i 離開之 ),( ji 連結對發生總次數來估
 57
來取代Q矩陣，其元素 ijr 定義如（5.5）式所示： 
PiPji
ji
jiq
r a
i
ij
ij ∈∈∀⎩⎨
⎧
=−
≠= ,),(ν                              （5.5） 
其中，當 aPji ∉),( 時， 0=ijr 。 
此時狀態 i於時間 t之狀態機率（ )(tSPi ）可由 Chapman-Kolmogorov 所推導得出
之向量微分方程式求得，如（5.6）式所示： 
teSPtSP ℜ×= )0(')('                                                （5.6） 
其中 
)(' tSP ：所有狀態於時間 t之機率向量（ )](.....)()([)(' 10 tSPtSPtSPtSP i= , Pi∈ ），
狀態機率總和為 1； 
)0('SP ：所有狀態於時間 0 之起始機率向量（ )]0(.....)0()0([)0(' 10 iSPSPSPSP = , 
Pi∈ )，狀態機率總和為 1； 
teℜ ：矩陣指數（matrix exponential），定義為 ∑∞
=
ℜ ℜ=
0 !
)(
k
k
t
k
te 。 
5.4.3 效能評估指標 
透過（5.2）至（5.6）式 CTMCs 模式相關參數與機率推算，吾人可進一步藉以
計算本研究服務效能評估指標：平均總對話時間（ EUST ）。此指標表示模式中自起
始狀態至結束狀態平均花費時間，當結束狀態發生時，表示該使用者對話結束，故以
下將進一步說明隨時間變化之結束狀態機率分配，以便於推導EUST 。 
假設機率密度函數 )(tf 定義為結束狀態之依時累積機率變化函數，故時間 t完成
使用者對話可表為（5.7）式： 
∫ ∫∞− == t t dttfdttftF 0 )()()(                                           （5.7） 
其中 )(tF 表示結束狀態機率之依時函數，由於結束狀態為吸收態，故明顯地其機率將
隨時間變長而逐漸趨近於 1，其函數示意如圖 5.5。 
由於模式中所有狀態於時間 t之機率總和必須為 1，故除了結束狀態外，其餘狀
態機率總和為： 
∫∫ ∞=−=−= tt dttfdttftFtG )()(1)(1)( 0                                 （5.8） 
 59
5.5 預先擷取技術服務效能評估模式 
本研究構建預先擷取技術服務效能評估模式之概念係以使用者網頁瀏覽行為模
式為基礎，將預先擷取技術邏輯對使用者瀏覽行為之影響透過 CTMCs 中狀態及相關
參數調整後，再重新計算其服務效能評估指標EUST 與 EDTR，故首先必須探討施行
預先擷取技術特性及其對於使用者瀏覽行為之影響，並依此構建模式。 
「最受歡迎頁面」邏輯演算法係以獨立頁面為基礎，分析網頁伺服器歷史存取記
錄檔中其最受歡迎點選網頁排名，建立其最受歡迎排序表，預取原則採每個網頁後續
最受歡迎前若干個來進行擷取。如 2.3 節所探討，該演算法雖為最簡單可行，但同樣
受限於預先擷取邏輯預測能力，在發生服務效能提升能力有限情形下，卻因額外傳送
頁面文件造成網路資源浪費，故到底應預先擷取多少最受歡迎頁面較合理為本研究主
要探討議題。然而對於某獨立頁面（相對應 CTMCs 模式之狀態為 i）而言，最受歡
迎頁面排序係以其轉移機率 ijTP 大小為依據，轉移機率愈大者，則表示其對應 ),( ji 連
結對之網頁狀態 j 愈受歡迎，故必須針對網頁狀態 i 所有非零轉移機率進行大小排
序。以下將以使用者網頁瀏覽行為 CTMCs 模式為基礎，逐步說明其服務效能評估模
式之啟發式構建方法。 
步驟一：離開率之修正 
假設使用者請求網頁狀態 i 時開始實施預先擷取前 NP 個最受歡迎頁面，所形成
集合為 NPP ，其 ),( ji 連結對所成集合為 sP ；又所有預先傳送網頁文件可於網頁 i 後接
續送達客戶端，若將此預取頁面狀態合併考慮於網頁狀態 i，將可表現使用者點選網
頁狀態 i後，同時可獲得預先擷取網頁 j。如圖 5.6，若使用者點選網頁狀態 1 時，網
頁狀態 2 將獲得預先擷取，則 CTMCs 模式中狀態 2 將被合併考慮於狀態 1。然而將
狀態合併考慮後，網頁狀態 i在單位時間發生狀態轉移次數勢必與（5.3）式所得到的
值不同，必須加以修正，其方式係依據轉移至預先擷取網頁狀態與非預先擷取網頁狀
態次數為權重進行重新計算如（5.12）式，式中扣除平均回應延遲（ ijmdelay ）係表
示因預先擷取所減少之延遲。 
 
圖 5.6 狀態合併示意圖 
 61
為了表現所有預先傳送網頁文件與網頁 i幾乎可同時或接續送達客戶端，故網頁
狀態轉移時所請求下載網頁文件資料量必須修正為除了本身網頁狀態 i文件之外，其
他預先擷取網頁狀態文件大小必須被歸併於狀態 i，修正方式如下： 
PiDATADATADATA
NPPj
jii ∈∀+= ∑
∈
'                                 （5.15） 
依據上述三步驟完成相關參數修正後，以（5.4）式重新計算本網站效能評估轉
移率，接著透過（5.5）及（5.6）式計算狀態機率，如此便可透過（5.10）、（5.11）得
到績效評估值。 
5.6 網路環境壅塞情境變數設定 
從使用者瀏覽行為觀點，當提出網頁狀態 i之請求時，必須等待其網頁回應時間，
隨後歷經思考時間後，再點選下一網頁狀態 j 之請求。而當網路環境發生壅塞時，將
發生網頁回應時間延遲，由於目前普遍採用 HTTP 持續連線，每個網頁延遲時間將與
其請求/轉送次數有關（詳見 4.2 節）。由圖 4.5 可知，在普遍施行之兩個持續連線機
制下，每個網頁完成回應時間應受兩個持續連線中最長處理程序（transaction）時間
影響；亦即並非取決於所有 iOB 個網頁物件請求回應時間，而應受制於最長處理程序
時間之請求數，故在此定義每個網頁回應完成時間之網頁物件有效控制個數（ iw ）： 
⎩⎨
⎧ ∈∀∈+
∈+= Pi
oddOBifOB
evenOBifOB
w
ii
ii
i 2/)1(
12/
                        （5.16） 
故當網路環境發生壅塞時，每個網頁回應延遲可視為其 iw 個網頁物件請求發生延
遲，本研究假設伺服器處理能力充分之前提下，當造訪者增加時，將造成近伺服端或
其內容交換器發生壅塞，故 iw 個物件之 RTTs 更因此造成更大延遲。若每個網頁物件
因網路環境壅塞發生 RTTs 延遲時間增量為情境變數u ，則該網頁下載時會產生反應
時間延遲增量 iwu ⋅ ；明顯地（5.3）或（5.12）式離開率計算式中平均使用者提出請
求間隔時間（如： imTDBUR 、 ijmTDBUR 、 jkmTDBUR 等）勢必因該延遲增量發生改
變，必須修正如下： 
∉∀⋅+= jiwumTDBURmTDBUR iijij ,' 起始或結束網頁狀態            （5.17） 
∉∀⋅+= iwumTDBURmTDBUR iii ' 起始或結束網頁狀態               （5.18） 
因虛擬 TDBUR 並不隨網路延遲而改變，故上式任何 ji, 皆不為起始或結束網頁狀態。
利用（5.17）、（5.18）式可反映網路壅塞產成延遲增量影響情形，進而將之代入（5.3）
或（5.12）重新計算使用者網頁瀏覽行為模式或預先擷取技術服務效能評估模式之
CTMCs 離開率，並進行分析。 
 63
第六章 基本資料分析與網路環境延遲時間估計 
有鑑於道路交通與交通資訊網站需求均具有尖離峰時間特性，本章根據本研究實
例分析對象國道高速公路全區即時路況系統網頁伺服器所蒐集之點擊流資料來進行
不同時段造訪者特性分析，並據以估計分時網路環境 RTTs 延遲時間，做為後續構建
分時網頁瀏覽行為模式及預先擷取技術服務效能評估模式之依據。 
6.1 點擊流資料蒐集與分析 
本研究蒐集自民國 93 年 10 月 5 日 11 時起至 11 日 24 時止約一週時間（10 月 5
日星期二資料僅半日）來自國道高速公路全區即時路況系統網頁伺服器存取日誌檔，
獲得 538,566 列點擊流資料。根據 remote host 欄位 IP 位址從事使用者來源分析，並
將同一 IP 位址點擊流資料但相隔時間過久（超過 5 分鐘）者視為不同使用者來源，
整理得到 6,390 位網站瀏覽者，故該點擊流資料可視為由 6,390 組使用者對話（user 
session）所組成。雖然點擊流資料相當珍貴難得（Bucklin, et al., 2002），但其中仍存
在若干由非正常瀏覽行為所造成資料，必須透過適當地刪減整理過程方能進行後續模
式構建（Bucklin & Sismeiro, 2003）。本研究歸納必須刪除之使用者對話分類依序說明
如下： 
1. 網管人員透過某些固定 IP 進行網站測試，此部分約佔 16％之使用者對話資料，
從點擊流資料中進行刪除。 
2. 遇使用者開啟某網頁後不再瀏覽，任其自動以每 5 分鐘向伺服器提出請求進行網
頁更新。此乃網頁每隔 5 分鐘動態更新設計，目的是提供使用者最新資訊，但此
並非屬於使用者查詢資料一連串點選行為，故不予以考慮。該類行為可觀察點擊
流資料中，同一 IP 來源卻每隔 5 分鐘請求同樣網頁之特殊現象得知，此種使用者
對話約佔 28％，亦進行刪除。 
3. 此外面對日益盛行的使用者網路衝浪（web surfing）及跨站（cross-site）瀏覽行為，
其行為反映在使用者對話時間將異常增長或瀏覽網頁數異常增多，此亦屬不正常
瀏覽行為。故本研究刪除單一使用者對話時間大於 900 秒（15 分鐘）後，得到 3,328
組使用者對話；其中瀏覽網頁數過多者（大於 30 者佔 3,328 組資料之 0.8％）亦
從中刪除，得到剩下 3,301 組使用者對話資料來進行後續模式構建分析。 
為進一步探討該網站於不同時段之造訪瀏覽特性，本研究根據使用者造訪時間將
3,301 組點擊流資料使用者對話次數分時整理成表 6.1，為便於進一步探討造訪網站次
數於假日與非假日是否呈現尖離峰差異，特別將之區分為假日與非假日（表 6.2、
6.3），扣除星期二資料後各為三天（共 3,011 組使用者對話資料），其依時分佈如圖
6.1 所示。此外由於星期五位於假日前夕，且網站造訪量高於一般非假日（星期一、
二、三、四），15:00～20:00 時段甚至高於一般假日，故合併於假日計算。
 65
 
圖 6.1 點擊流資料（3,011 組）使用者對話次數分時分佈圖 
由圖 6.1 可以明顯地發現，無論假日與非假日，每小時內造訪本研究網站次數均
呈現尖離峰特性。假日造訪第一高峰位於 13:00～20:00，第二高峰位於 07:00～13:00
及 20:00～1:00。非假日第一高峰則位於 13:00～19:00，第二高峰位於 08:00～13:00
及 19:00～24:00，與假日分佈時段略有差異。假日與非假日凌晨均屬於造訪次數最低
之離峰期，雖也略有差異，為方便合併計，仍定義相同之 0:00～8:00 為離峰時段。此
外，幾乎所有時段中假日造訪次數均高於非假日，顯見民眾在假日對於即時交通資訊
網站使用率應高於非假日，此應緣於假日旅次目的大多屬非工作旅次，對交通資訊需
求較高，且有較充裕時間可透過即時交通資訊之獲得從事調整出發時間、改道等行旅
決策。 
如表 6.4 所示，本研究分別依據假日、非假日使用者對話數依時變化特性，定義
尖峰、次峰、凌晨離峰之使用者對話涵蓋時間範圍，得到假日尖峰、假日次峰、非假
日尖峰、非假日次峰及凌晨離峰等 5 個分類時段，並分別計算其發生組數、涵蓋時間、
次數分佈、平均每小時使用者對話數（造訪率）等。可發現造訪率由大至小依序為假
日尖峰、非假日尖峰、假日次峰、非假日次峰及凌晨離峰，時段編號係依造訪率由小
至大編號 1～5。雖然非假日尖峰與假日尖峰造訪率相近，但瀏覽特性應有所不同。
原則上，無論假日與非假日尖峰時段，造訪率皆高於次、離峰時段。 
 
 67
網頁請求之時間間隔數。平均使用者對話提出網頁請求間隔數係將時段內各組使用者
對話提出網頁請求間隔數加總後除以該時段涵蓋組數所得到之平均數，用以表示該時
段內平均每使用者對話所經歷之提出網頁請求時間間隔數，其結果亦如表 6.5 所示。
每個時間間隔包含一系列提出所有網頁物件請求/回應所需網頁回應時間及其使用者
思考時間。 
 
圖 6.2 台灣地區民眾最常使用寬頻上網時段（假日與非假日） 
資料來源：財團法人台灣網路資訊中心（民國 95 年） 
表 6.5 各時段平均使用者對話經歷時間及提出網頁請求時間間隔數計算結果 
經歷時間（秒） 提出網頁請求時間間隔數 
時段編號 
平均數 標準差 平均數 標準差 
提出網頁請求
平均間隔時間
（秒） 
1（凌晨離峰） 161.07 177.23 4.80 4.83 33.53 
2（非假日次峰） 162.38 183.91 4.26 4.00 38.12 
3（假日次峰） 163.62 177.72 4.75 4.48 34.42 
4（非假日尖峰） 167.31 190.41 3.88 3.55 43.12 
5（假日尖峰） 163.92 181.38 4.74 4.63 34.55 
 
 69
5. 各時段既有 RTTs 延遲時間計算 
為後續網路環境壅塞情境分析所需，必須瞭解各時段已存在 RTTs 延遲時間。由
於網路環境發生壅塞會反映在每個物件請求之 RTTs 上，故首先必須瞭解每個網頁物
件在兩個持續連線機制下有效控制個數 iw，此係依表 4.1 中每個頁面組成物件數來計
算網頁物件之網頁回應時間有效控制個數（ iw ），結果如表 6.7。其次如表 6.8，吾人
可由各時段點擊流資料中求得各情境中平均每個使用者對話中平均網頁物件組成有
效控制個數，再以 kmRdelay 除以該個數以求得各時段已存在 RTTs 延遲時間。為便於
後續模式構建與分析，各時段既有 RTTs 延遲時間將取整數來計算，如表 6.8 最後一
欄所示。 
 
 
 
圖 6.3 各時段平均使用者對話經歷時間與提出網頁請求時間間隔數關係圖 
 
 
 
 
 71
表 6.8 各時段既有 RTTs 延遲時間計算 
時段編號 
（ k ） 
平均每提出網
頁請求產生回
應延遲（秒） 
（ kmRdelay ） 
平均每個使用者對話中
平均網頁物件組成有效
控制個數 
既有 RTTs 
延遲時間（秒）
後續模式分析中所考慮 
既有 RTTs 延遲時間 
（秒） 
1（凌晨離峰） 0 4.84 0 0 
2（非假日次峰） 4.58 4.80 0.95 1 
3（假日次峰） 0.92 4.82 0.19 0 
4（非假日尖峰） 9.59 4.82 1.99 2 
5（假日尖峰） 1.05 4.85 0.22 0 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 73
第七章 實例應用之模式構建與分析 
本章以國道高速公路全區即時路況系統網站為例進行評估模式構建與分析。由上
一章分析得知，網站造訪率存在尖離峰特性，且每個時段平均使用者對話請求時間間
隔數及其經歷時間各有差異，實有必要針對各時段分別探討其瀏覽行為並構建其預先
擷取技術服務效能評估模式，以比較不同時段之改善效能。 
7.1 各時段網頁瀏覽行為模式之構建與分析 
為構建 CTMCs 模式，本研究定義 400 個狀態如表 7.1 所示。其中 201 個狀態來
自實體網頁個數加上兩個虛擬起始、結束網頁，其他重複 199 個狀態用以表現使用者
在 5 分鐘內網頁自動更新前按下瀏覽器上「重新整理」鍵來重複請求瀏覽同一網頁，
故每一狀態皆對應一個使用者請求瀏覽網頁。 
表 7.1 CTMCs 網頁瀏覽行為模式中 400 個狀態之定義 
 對應狀態編號 網頁名稱 
原始 重複 
狀態個數 
起始網頁（虛擬） 0  1 
首頁 1 200 2 
即時交通資訊 2 201 2 
旅行時間計算 3 202 2 
北區路網圖 4 203 2 
中區路網圖 5 204 2 
南區路網圖 6 205 2 
旅行時間計算結果 7 206 2 
73 個北區路段 8-87 
197-199 
207-276 
396-398 
146 
57 個中區路段 88-134 277-333 114 
62 個南區路段 135-196 334-395 124 
結束網頁（虛擬） 399  1 
總狀態個數 201 199 400 
7.1.1 時段 1 模式參數檢定與驗證 
本時段涵蓋 317 組使用者對話點擊流資料。構建模式前，每個狀態逗留時間必須
檢定是否為具有指數分配之隨機變數，故在本研究中有必要針對每個時段之模式中檢
定每個網頁狀態逗留時間「使用者提出請求間隔時間（TDBUR）」之機率分配。在此
 75
表 7.3 時段 1 之 CTMCs 模式所需參數計算（以狀態 1 離開為例） 
狀態 1（首頁） 
下一狀態 2 （即時交通資訊） 3 （旅行時間計算） 4 （北區路網圖） 5 （中區路網圖） 6 （南區路網圖） 200 （重複點選狀態 1） 399 （離開狀態）
點擊流 
樣本轉移數 25 25 151 63 80 19 47 
轉移機率 
（5.2）式 0.06 0.06 0.37 0.15 0.20 0.05 0.11 
離開率 
（5.3）式 0.039 
轉移率 
（5.4）式 0.00234 0.00234 0.0144 0.00585 0.0078 0.002 0.0043 
7.1.2 時段 2 模式參數檢定與驗證 
同樣採用機率分配檢定軟體 Input Analyzer 來進行適合度檢定（goodness-of-fit 
test），表 7.4 以狀態 1～6 為例說明其適合度檢定情形。經檢定後發現，398 個（不含
狀態 1 及 399）網頁狀態逗留時間 TDBUR 之對應 p 值皆大於 0.05，故無法拒絕指數
分配之假設。 
表 7.4 時段 2 之 TDBUR 適合度檢定分析結果（以狀態 1～6 為例） 
指數分配適合度檢定（chi-square） 
狀態 
樣本中 
該狀態 
轉移數 
平均數 
（秒）
標準差 
（秒） Corresponding p-value 
1（首頁） 754 27.3 30.3 0.12 
2（即時交通資訊） 127 57.5 62.4 0.22 
3（旅行時間計算） 136 44.3 43.8 0.05 
4（北區路網圖） 445 26.4 30.7 0.11 
5（中區路網圖） 215 31.6 38.1 0.17 
6（南區路網圖） 202 38.3 45.3 0.08 
在此使用 628 組使用者對話點擊流資料，並透過（5.2）、（5.3）、（5.4）等三式計
算 CTMCs 模式構建所需參數：轉移機率（ ijTP ）、離開率（ iν ）、轉移率（ ijq ）等。
表 7.5 以狀態 1 為例說明其轉移率計算結果，附錄一之附表 1.4～1.6 則分別說明狀態
4、5、6 轉移機率計算結果。同樣經（5.6）式狀態機率之計算，接著可由（5.10）式
求算服務效能評估指標EUST，得到其值為 164.38 秒，該值落於 628 組使用者對話（樣
本平均數 164.38 秒）之 95％信賴區間[149.98,178.78]中，顯見該 CTMCs 模式可充分
驗證使用者網頁瀏覽行為無虞。此外透過（5.11）式之計算，EDTR 值為 191.09 bytes。 
 
 77
 
表 7.7 時段 3 之 CTMCs 模式所需參數計算（以狀態 1 離開為例） 
狀態 1（首頁） 
下一狀態 2 （即時交通資訊） 3 （旅行時間計算） 4 （北區路網圖） 5 （中區路網圖） 6 （南區路網圖） 200 （重複點選狀態 1） 399 （離開狀態）
點擊流 
樣本轉移數 72 58 404 155 138 52 98 
轉移機率 
（5.2）式 0.07 0.06 0.41 0.16 0.14 0.001 0.1 
離開率 
（5.3）式 0.0406 
轉移率 
（5.4）式 0.0028 0.0024 0.017 0.006 0.006 0.00004 0.0041 
7.1.4 時段 4 模式參數檢定與驗證 
表 7.8 以狀態 1～6 為例說明其適合度檢定情形。經檢定後發現，398 個（不含狀
態 1 及 399）網頁狀態逗留時間 TDBUR 之對應 p 值皆大於或等於 0.05，故無法拒絕
指數分配之假設。 
表 7.8 時段 4 之 TDBUR 適合度檢定分析結果（以狀態 1～6 為例） 
指數分配適合度檢定（chi-square） 
狀態 
樣本中 
該狀態 
轉移數 
平均數 
（秒）
標準差 
（秒） Corresponding p-value 
1（首頁） 835 32.1 47.1 0.05 
2（即時交通資訊） 150 60.6 78 0.08 
3（旅行時間計算） 123 43 61.3 0.29 
4（北區路網圖） 558 40.8 75.3 0.13 
5（中區路網圖） 156 26 33.5 0.18 
6（南區路網圖） 203 37 36.6 0.14 
在此使用 708 組使用者對話點擊流資料，表 7.9 以狀態 1 為例說明其轉移率計算
結果，附錄一之附表 1.10～1.12 則分別說明狀態 4、5、6 轉移機率計算結果。同樣經
（5.6）式狀態機率之計算，接著可由（5.10）式求算服務效能評估指標 EUST ，得到
其值為 169.31 秒，該值落於 708 組使用者對話（樣本平均數 169.31 秒）之 95％信賴
區間[155.28,183.34]中，顯見該 CTMCs 模式可充分驗證使用者網頁瀏覽行為無虞。
此外透過（5.11）式之計算，EDTR 值為 176.28 bytes。 
 
 79
 
表 7.11 時段 5 之 CTMCs 模式所需參數計算（以狀態 1 離開為例） 
狀態 1（首頁） 
下一狀態 2 （即時交通資訊） 3 （旅行時間計算） 4 （北區路網圖） 5 （中區路網圖） 6 （南區路網圖） 200 （重複點選狀態 1） 399 （離開狀態）
點擊流 
樣本轉移數 68 45 489 140 136 53 97 
轉移機率 
（5.2）式 0.07 0.04 0.48 0.14 0.13 0.05 0.09 
離開率 
（5.3）式 0.0397 
轉移率 
（5.4）式 0.0028 0.0016 0.0191 0.0056 0.0052 0.0020 0.0036 
7.1.6 各時段既有延遲產生成因分析 
經以上各小節中不同時段網頁瀏覽行為模式之構建與分析，其效能評估指標值整
理如表 7.12，此結果可用以配合 6.2 節來探討各時段延遲成因。 
表 7.12 五個時段網頁瀏覽行為模式效能評估指標值 
 
時段 1 
（凌晨離峰） 
時段 2 
（非假日次峰）
時段 3 
（假日次峰）
時段 4 
（非假日尖峰） 
時段 5 
（假日尖峰）
EUST （sec） 163.07 164.38 165.62 169.31 165.92 
EDTR（bytes） 208.82 191.09 213.08 176.28 218.63 
平均文件傳輸大小EDTR可視為平均使用者通訊需求傳輸量。如前 6.2 節與圖 6.3
之說明，在時段 1、3、5 平均使用者對話提出網頁請求時間間隔數相近情形下，時段
3、5 平均使用者對話通訊需求分別為 213.08 bytes 與 218.63 bytes，皆略大於時段 1
之 208.82 bytes，且相對於無延遲時段 1，呈現平均通訊需求傳輸量愈大、平均使用者
對話經歷時間差愈大之現象，故時段 3、5 之延遲發生與通訊需求傳輸量大小有關，
受網路環境延遲影響較小。 
至於時段 2，其平均使用者對話通訊需求傳輸量為 191.09 bytes，小於未發生延遲
時段 1 之 208.82 bytes，但平均使用者對話經歷時間差相對不小，顯見時段 2 延遲發
生應與網路環境發生延遲有關。時段 4 平均使用者對話通訊需求為 176.28 bytes，比
時段 1、2 之值還小，但平均使用者對話經歷時間差卻比時段 2 還大，顯見亦受網路
環境延遲所影響，且其網路環境延遲應大於時段 2。 
 
 
 81
時段 1 之 01 =mRdelay 表示該時段無任何網頁回應延遲，亦相當於該時段網路環
境無既有 RTTs 延遲時間，如表 6.8 所示。三種方案離開率修正結果如表 7.15 中 0=u
對應之值所示。 
表 7.14 時段 1 之狀態 1 離開率修正所需參數 
狀態（ i） 1 
iN （次數） 410 
狀態（ j ） 4 5 6 
ijn （次數） 151 63 80 
imTDBUR （秒） 25.47 
ijmTDBUR （秒） 21.81 25.06 24.68 
jkmTDBUR （秒） 24.26 22.46 36.21 
由於預先擷取網頁狀態合併考慮，狀態轉移機率必須以（5.13）、（5.14）式加以
修正，可得到不同預先擷取方案下由狀態 1 離開之新轉移機率 jTP1 。此外，因預先擷
取網頁隨著首頁一起下載，故其網頁文件大小應歸併至狀態 1 合併計算，故必須透過
（5.15）式重新修正網頁狀態文件平均資料量大小。 
在既有網路環境下，考慮採取以上三種預先擷取方案時，透過（5.10）、（5.11）
式之計算來評估其效能，得到結果如表 7.16 中 0=u 所對應之值。發現未發生網路壅
塞時，任何預先擷取方案對於EUST 皆幾乎無任何改善效能。 
本研究以 RTTs 延遲時間增量u 為情境變數進行分析。根據 Ramsay 等（1998）
研究發現網頁回應時間延遲達 41 秒時，使用者會對瀏覽該網站失去興趣，並離開網
站，故本研究將以 40 秒做為網頁回應時間延遲增量上限。此外由於研究網站之網頁
最大有效控制個數為 5，且本時段既有 RTTs 延遲時間為 0，故 RTTs 延遲時間增量u
之上限將設定為 8 秒，亦即進行 1 至 8 秒間之數值分析。透過（5.17）、（5.18）式對
於延遲時間增量u 進行平均使用者提出請求間隔時間修正，將其結果分別代入（5.3）
或（5.12）式以重新修正使用者瀏覽行為模式或預先擷取服務效能評估模式之狀態 1
離開率（ '1ν ）。其中（5.12）式中由網頁狀態 i至預先擷取網頁狀態 j 之回應延遲時間
ijmdelay 應考慮兩部分，其一為所屬時段平均每提出網頁請求產生回應延遲（詳見表
6.6），其二為欲進行分析之 RTTs 延遲時間增量u 所產生之回應延遲，表示如下（7.2）
式： 
jkij wumRdelaymdelay ⋅+=                                          （7.2） 
其中 
kmRdelay ：時段 k 平均每提出網頁請求產生回應延遲時間（ 5~1=k ）。 
jw ：網頁狀態 j 之物件組成有效控制個數。 
 83
時間結束時，尚須等待預取網頁下載完畢方能瀏覽，因而產生等待時間，抵銷了改善
效果，故產生改善比例下滑現象。當發生壅塞不嚴重時（u 較小時），改善比例較低
與不明顯。但隨著壅塞愈來愈嚴重時，無論採取何種預先擷取方案，均可見較大改善
比例。此外，藉由各延遲時間增量曲線可以發現，嚴重壅塞發生時（ 5≥u ），預先擷
取網頁數愈多（選擇方案 3），則 EUST 改善比例明顯愈佳（最高可達 9％）。中度壅
塞發生時（ 4,3=u ）預先擷取網頁數亦與改善比例呈現正向關係。若壅塞不嚴重時
（ 2,1=u ），擷取網頁數多寡並無明顯改善差異（最多不到 3％），甚至在 1=u 時選擇
預先擷取方案 3 時稍有下降趨勢，理由同前。 
此外由表 7.16 亦發現，不同網頁回應延遲情境下採用預先擷取，其平均所需傳
送網頁文件資料量僅與預先擷取方案有關，而與網頁回應延遲無關，並且預先擷取網
頁數愈多，EDTR愈大。 
 
圖 7.1 時段 1 之不同延遲時間增量（u ）、不同預先擷取方案 EUST 改善比例 
7.2.2 時段 2 預先擷取服務效能評估模式構建與壅塞情境分析 
時段 2 最受歡迎排序表如表 7.17 所示，可見由首頁連結之後續網頁中，以「北
區路網圖」、「中區路網圖」與「南區路網圖」三網頁名列受歡迎前三名，「北區路網
圖」更是囊括約四成之點選機率，故在最受歡迎頁面預先擷取邏輯中，此三網頁將成
為預先擷取考慮對象。由於預先擷取網頁個數為決策變數，故分別以預先擷取網頁狀
態 4、網頁狀態 4&5、網頁狀態 4, 5, &6 三種方案進行探討。 
 85
表 7.19 時段 2 不同延遲時間增量（u ）、不同預取方案之狀態 1 離開率（ '1ν ） 
RTTs 延遲時間（秒） 
增量（u ） 網路環境 
預先擷取 
狀態 4 
預先擷取 
狀態 4&5 
預先擷取 
狀態 4, 5, &6 
0 1（既有） 0.027 0.023 0.020 
1 2 0.024 0.021 0.018 
2 3 0.022 0.019 0.017 
3 4 0.020 0.018 0.016 
4 5 0.018 0.017 0.015 
5 6 0.017 0.016 0.014 
6 7 0.016 0.015 0.013 
7 8 0.015 0.014 0.012 
 
表 7.20 時段 2 各延遲時間增量、不同預先擷取方案之效能評估指標計算結果 
RTTs 延遲（秒） EUST （秒） EDTR（bytes） 
增量 
u  
網路 
環境 
不預先 
擷取 
預先擷取 
狀態 4 
預先擷取
狀態 4&5
預先擷取
狀態 4, 5, &6
不預先
擷取 
預先擷取
狀態 4 
預先擷取 
狀態 4&5 
預先擷取
狀態 4, 5, &6
0 1（既有） 164.38 163.94 162.86 163.61 
1 2 184.92  182.77  180.74 180.47  
2 3 205.46  201.58  198.62 197.33  
3 4 226.01  220.39  216.50 214.17  
4 5 246.54  239.20  234.38 231.01  
5 6 267.11  258.00  252.25 247.83  
6 7 287.66  276.80  270.12 264.66  
7 8 308.21  295.59  287.99 281.48  
191.09 216.18 248.66 273.66 
探討不同延遲時間增量下，不同預先擷取方案之 EUST 改善比例，其改善比例如
圖 7.2。方案 1、2、3 分別表示由首頁預先擷取狀態 4、預先擷取狀態 4&5 及預先擷
取狀態 4, 5, & 6。當發生壅塞不嚴重時（u 較小時），改善比例較低與不明顯。但隨著
壅塞愈來愈嚴重時，無論採取何種預先擷取方案，均可見較大改善比例。此外，藉由
各延遲時間增量曲線可以發現，嚴重壅塞發生時（ 5≥u ），預先擷取網頁數愈多（選
擇方案 3），則 EUST 改善比例明顯愈佳（最高可達 9.3％）。中度壅塞發生時（ 4,3=u ）
預先擷取網頁數亦與改善比例呈現正向關係。若壅塞不嚴重時（ 2,1=u ），擷取網頁
數多寡並無法顯示有明顯改善差異（最多 3.9％）。 
 87
 
表 7.22 時段 3 之狀態 1 離開率修正所需參數 
狀態（ i） 1 
iN （次數） 977 
狀態（ j ） 4 5 6 
ijn （次數） 404 155 138 
imTDBUR （秒） 24.61 
ijmTDBUR （秒） 19.86 23.58 28.59 
jkmTDBUR （秒） 34.64 35.68 29.71 
在既有網路環境下，考慮採取以上三種預先擷取方案時，透過（5.10）、（5.11）、
（5.15）式之計算來評估其效能，得到結果如表 7.24 中 0=u 所對應之值。發現未發
生網路壅塞時，任何預先擷取方案對於 EUST 幾乎無任何改善效能。甚至選擇預先擷
取由方案 1、方案 2 至方案 3，更有一路下滑趨勢，理由同前。 
在此同樣設定 RTTs 延遲時間增量u 之上限，由於該時段不存在既有 RTTs 延遲，
故實際分析增量上限應至 8 秒，亦即進行 1 至 8 秒間數值分析。透過（5.17）、（5.18）
式對於延遲時間增量u 進行平均使用者提出請求間隔時間修正，將其結果分別代入
（5.3）或（5.12）式以重新修正使用者瀏覽行為模式或預先擷取服務效能評估模式之
狀態 1 離開率（ '1ν ）。其中（5.12）式中由網頁狀態 i至預先擷取網頁狀態 j 之回應延
遲時間應以（7.2）式考慮之。 
狀態 1 離開率修正值（ '1ν ）計算結果如表 7.23 所示。獲得情境分析所需參數後，
便可依之計算效能評估指標EUST 與 EDTR，彙整如表 7.24。 
表 7.23 時段 3 不同延遲時間增量（u ）、不同預取方案之狀態 1 離開率（ '1ν ） 
RTTs 延遲時間（秒） 
增量（u ） 網路環境 
預先擷取 
狀態 4 
預先擷取 
狀態 4&5 
預先擷取 
狀態 4, 5, &6 
0 0（既有） 0.027 0.022 0.019 
1 1 0.024 0.020 0.018 
2 2 0.022 0.019 0.016 
3 3 0.020 0.017 0.015 
4 4 0.018 0.016 0.014 
5 5 0.017 0.015 0.014 
6 6 0.016 0.014 0.013 
7 7 0.015 0.014 0.012 
8 8 0.014 0.012 0.012 
 89
 
圖 7.3 時段 3 不同延遲時間增量、不同預先擷取方案之 EUST 改善比例 
7.2.4 時段 4 預先擷取服務效能評估模式構建與壅塞情境分析 
時段 4 最受歡迎排序表如表 7.25 所示，可見由首頁連結之後續網頁中，以「北
區路網圖」、「南區路網圖」與「中區路網圖」三網頁名列受歡迎前三名，「北區路網
圖」更是囊括約四成六之點選機率，故在最受歡迎頁面預先擷取邏輯中，此三網頁將
成為預先擷取考慮對象。由於預先擷取網頁個數為決策變數，故分別以預先擷取網頁
狀態 4、網頁狀態 4&6、網頁狀態 4, 5, &6 三種方案進行探討。 
離開率修正（5.12）式所需參數整理如表 7.26，時段 4 之 59.94 =mRdelay 表示該
時段平均每網頁回應延遲 9.59 秒，視該時段網路環境既有 RTTs 延遲時間為 2 秒（如
表 6.8 所示），將之代入（5.12）式進行離開率修正計算。三種方案之離開率修正結果
如表 7.27 中 0=u 所對應之值。 
表 7.25 時段 4 之首頁（狀態 1）後續連結最受歡迎頁面排序表 
網頁 
（狀態） 
即時交通資訊 
（2） 
旅行時間計算 
（3） 
北區路網圖
（4） 
中區路網圖 
（5） 
南區路網圖
（6） 
轉移機率 
（ jTP1 ） 
0.05 
（ 12TP ） 
0.05 
（ 13TP ） 
0.46 
（ 14TP ） 
0.10 
（ 15TP ） 
0.13 
（ 16TP ） 
受歡迎順序 4 5 1 3 2 
 91
 
表 7.28 時段 4 各延遲時間增量、不同預先擷取方案之效能評估指標計算結果 
RTTs 延遲（秒） EUST （秒） EDTR（bytes） 
增量 
u  
網路 
環境 
不預先 
擷取 
預先擷取 
狀態 4 
預先擷取
狀態 4&6
預先擷取
狀態 4, 5, &6
不預先
擷取 
預先擷取
狀態 4 
預先擷取 
狀態 4&6 
預先擷取
狀態 4, 5, &6
0 2（既有） 169.31 167.07 167.92 169.20 
1 3 187.10  183.89  184.16 185.75  
2 4 206.53  200.70  200.38 201.28  
3 5 225.14  217.49  216.60 216.81  
4 6 243.76  234.27  232.81 232.32  
5 7 262.40  251.04  249.02 247.83  
6 8 280.98  267.80  265.22 263.34  
176.28 198.77 226.91 260.11 
探討不同延遲時間增量下，不同預先擷取方案之 EUST 改善比例，如圖 7.4。方
案 1、2、3 分別表示由首頁預先擷取狀態 4、預先擷取狀態 4&6 及預先擷取狀態 4, 5, 
& 6。當發生壅塞不嚴重時（u 較小時），改善比例較低與不明顯。但隨著壅塞愈來愈
嚴重時，無論採取何種預先擷取方案，均可見較大改善比例。此外，藉由各延遲時間
增量曲線可以發現，嚴重壅塞發生時（ 5≥u ），預先擷取網頁數愈多（選擇方案 3），
則EUST 改善比例明顯愈佳（最高可達 7.5％）。中度壅塞發生時（ 4,3=u ）預先擷取
網頁數亦與改善比例呈現正向關係。若壅塞不嚴重時（ 2,1=u ），擷取網頁數多寡並
無法顯示有明顯改善差異（最多不到 3％），甚至在 1=u 時選擇預先擷取方案 2、3 時
稍有下降趨勢，在 3,2=u 時選擇預先擷取方案 3 時稍有下降趨勢，理由同前。 
 
 93
表 7.30 時段 5 之狀態 1 離開率修正所需參數 
狀態（ i） 1 
iN （次數） 1,028 
狀態（ j ） 4 5 6 
ijn （次數） 489 140 136 
imTDBUR （秒） 25.18 
ijmTDBUR （秒） 18.58 29.19 26.11 
jkmTDBUR （秒） 36.32 30.52 33.27 
在既有網路環境下，考慮採取以上三種預先擷取方案時，透過（5.10）、（5.11）、
（5.15）式之計算來評估其效能，得到結果如表 7.41。發現未發生既有網路環境壅塞
時，任何預先擷取方案對於EUST 改善比例有限。甚至選擇預先擷取由方案 1、方案
2 至方案 3，也呈現下降趨勢，理由同前。 
在此同樣設定 RTTs 延遲時間增量u 之上限，由於視該時段不存在 RTTs 延遲，
故實際分析增量上限應至 8 秒，亦即進行 1 至 8 秒間數值分析。透過（5.17）、（5.18）
式對於延遲時間增量u 進行平均使用者提出請求間隔時間修正，將其結果分別代入
（5.3）或（5.12）式以重新修正使用者瀏覽行為模式或預先擷取服務效能評估模式之
狀態 1 離開率（ '1ν ）。其中（5.12）式中由網頁狀態 i至預先擷取網頁狀態 j 之回應延
遲時間應以（7.2）式考慮之。 
狀態 1 離開率修正值（ '1ν ）計算結果如表 7.31 所示。獲得情境分析所需參數後，
便可依之計算效能評估指標EUST 與 EDTR，彙整如表 7.32。 
表 7.31 時段 5 不同延遲時間增量（u ）、不同預取方案之狀態 1 離開率（ '1ν ） 
RTTs 延遲時間（秒） 
增量（u ） 網路環境 
預先擷取 
狀態 4 
預先擷取 
狀態 4&5 
預先擷取 
狀態 4, 5, &6 
0 0（既有） 0.024 0.021 0.017 
1 1 0.022 0.019 0.016 
2 2 0.020 0.018 0.015 
3 3 0.018 0.016 0.014 
4 4 0.017 0.015 0.013 
5 5 0.016 0.014 0.013 
6 6 0.015 0.013 0.012 
7 7 0.014 0.013 0.012 
8 8 0.013 0.012 0.011 
 
 95
 
圖 7.5 時段 5 不同延遲時間增量、不同預先擷取方案之 EUST 改善比例 
7.3 綜合分析 
綜合本章內容，提出以下幾點綜合分析： 
1. 探討未採取預先擷取技術，各時段在 RTTs 延遲時間變化時， EUST 之變化。 
如圖 7.6 所示，當網路環境 RTTs 延遲時間遞增時， EUST 會隨之遞增，但變化
斜率不盡相同。時段 1、3、5 既有網路 RTTs 延遲時間為 0 秒，三者變化線較為接近，
表示該三個時段受網路環境延遲影響時，其 EUST 變化率較為一致。此係由於相對於
時段 2、4，其使用者平均發出網頁請求數與需求資料傳輸量較大且接近（詳見表 6.6、
7.12），當網路環境發生延遲時，使用者瀏覽網頁數與需求資料傳輸量愈大時，EUST
愈容易受網路環境延遲所影響，故該三個時段斜率明顯較大；而其中延遲水準最低的
時段 1 斜率稍大。時段 2 既有網路 RTTs 延遲時間為 1 秒，其 EUST 變化率（斜率）
明顯比時段 1、3、5 為小，此係因其使用者平均瀏覽網頁數較低，故 EUST 受網路環
境延遲影響稍低。至於時段 4 既有網路 RTTs 延遲時間為 2 秒，由於平均瀏覽網頁數
更低，故其EUST 變化率（斜率）屬五個時段中最低。 
2. 探討最受歡迎頁面比例大小對於 EUST 改善比例之影響。 
由各時段預先擷取服務效能評估模式輸出結果可以發現，狀態 4（北區路網圖）
 97
 
圖 7.6 EUST 與網路環境 RTTs 延遲時間關係圖 
 
表 7.33 不同時段、不同延遲時間增量下改善比例最大之預先擷取方案 
RTTs 
延遲時間增量 
（u ） 
時段 1 時段 2 時段 3 時段 4 時段 5 
1 A2* A3 A2 A1 A1 
2 A3 A3 A3 A2* A2 
3 A3 A3 A3 A2* A2 
4 A3 A3 A3 A3 A3 
5 A3 A3 A3 A3 A3 
6 A3 A3 A3 A3 A3 
7 A3 A3 A3  A3 
8 A3  A3  A3 
註： 
A1 表示預先擷取網頁狀態 4 
A2 表示預先擷取網頁狀態 4&5 
A2*表示預先擷取網頁狀態 4&6 
A3 表示預先擷取網頁狀態 4, 5, &6 
 99
第八章 結論與建議 
本研究蒐集、分析伺服器登錄檔點擊流資料，將之分為五個時段，以連續時間馬
可夫鏈分別構建使用者瀏覽行為模式，再以該模式為基礎，發展預先擷取技術改善效
能評估之啟發式模式，並依情境變數設定網路環境發生不同程度壅塞時之延遲時間增
量來進行分析，獲致以下結論與建議。 
8.1 結論 
1. 在諸多改善網頁回應時間相關技術中，以預先擷取技術最有可能應用於交通資訊
網站上，其除與目前快取技術架構相容外，僅需針對伺服器修改 CGI 程式或使客
戶端瀏覽器下載外掛預先擷取網頁接收程式便能提供此一服務，在交通資訊網站
服務品質因流量增大而產生網頁回應延遲時，除更換主機、提升對外網路頻寬等
硬體升級方式外，提供另一可行解決方案。 
2. 由於交通資訊網站需要藉由各項即時交通參數來彙整、運算、預測相關動態資訊
與發佈，故在網站預先擷取技術架構中，應將執行預先擷取邏輯 CGI 程式伺服器、
網頁伺服器及資料庫等集中建置於伺服端較為合適，以便於統一接受、處理、發
送客戶端對於即時交通資訊網頁之需求。 
3. 以往關於預先擷取技術架構評估多採用模擬模式，其模式構建過程較為複雜，實
務應用上較不可行；在效益評估上，亦多採「點擊率」等硬體觀點而非客戶端之
使用者觀點。而本研究針對網站首頁發展「最受歡迎頁面」預先擷取邏輯演算法
為基礎之效能評估理論解模式，以同時考慮使用者瀏覽效能與網路流量負擔情境
下，做為預先擷取網頁數規劃決策之參考。 
4. 分析研究網站造訪率後發現呈現尖離峰型態，根據本研究區分之五個時段，造訪
率由高至低依序為假日尖峰（13:00～20:00）、非假日尖峰（13:00～19:00）、假日
次峰（08:00～13:00 與 20:00～24:00）、非假日次峰（08:00～13:00 與 19:00～24:00）
及凌晨離峰（假日、非假日 00:00～08:00）。此外發現研究網站假日、非假日造訪
率尖離峰趨勢與民眾假日、非假日上網時段尖離峰趨勢相近，除發生時間略有差
異外，在假日與非假日間差別也很明顯。 
5. 使用者瀏覽網頁數亦隨著時段不同而有差異。假日尖、次峰及凌晨離峰之平均每
使用者對話中瀏覽網頁數最多，推論應與旅遊旅次目的或時間充裕與否有關；而
非假日尖峰提出網頁請求數最少，原因可能與常態性工作旅次目的為主或時間較
不充裕有關。 
6. 經本研究推論後發現，非假日尖峰、非假日次峰時段之網路環境確實存在 RTTs
 101
3. 網路壅塞環境對於效能改善比例有很大關聯性，故伺服端應設置網路壅塞即時監
控軟體，依即時網路環境壅塞程度不同來動態決定預先擷取網頁文件數（如圖
7.7、7.8 所示）。此係因預先擷取網頁數愈多時，額外網頁文件傳輸量就愈大，對
於伺服器及頻寬負荷會造成某種程度影響。故建議高公局未來規劃建置交通資訊
網站時，可建置流量監控機制，以進行預先擷取網頁數之動態調整，方能得到服
務效能最大效益。 
4. 伺服器處理時間將反映在 RTTs 延遲時間上，若可由伺服器主機測試得到硬體平
均每個 HTTP 請求所需處理時間，則未來可透過 CTMCs 模式中mTDBUR等參數
調整來分析不同伺服器更新之效能。至於伺服端快取機制評估，則必須能夠考慮
快取機制在 RTTs 延遲上所能節省之時間，方能透過本模式加以評估。 
5. 在網頁介面設計中，超連結選項排列順序為重要探討議題，一般採用可用性測試
（usability testing）來評估排列順序之優劣，但極耗時費力。由於超連結選項排列
順序會反映在使用者思考時間上，建議可由不同資訊選項順序之搜尋時間來改變
原有 CTMCs 模式相關參數，以進行介面可用性預測與分析。 
6. 受限於伺服器標準登錄檔點擊流資料提供資訊內容，本研究僅能透過若干假設從
中推敲構建使用者瀏覽行為模式相關之所需參數。為獲得更為精確之使用者瀏覽
行為，建議高公局未來規劃建置交通資訊網站時，可增加 Cookie 功能記錄真正客
戶端瀏覽點選行為，便於構建更精確之使用者瀏覽行為模式。 
7. 目前 ISP 業者提供寬頻上網服務大多採用浮動式 IP 或虛擬 IP，因而無法由伺服器
點擊流資料蒐集得到 IP 位址得知使用者所在區位，甚至光由不同 IP 位址都無法
真正確認是否為不同使用者。未來可透過伺服器外掛軟體來分析請求封包上之路
由，來辨識固定且已知位置之路由器 IP 位址，用以進一步真正區分不同使用者點
選瀏覽行為之發生地點，可深入探討不同區位、不同時間之上網瀏覽行為。 
8.3 研究貢獻 
1. 由伺服器點擊流資料進行資料探勘，從中發掘不同時段網路環境既有延遲時間，
擴大點擊流資料可提供資訊範圍。 
2. 深入探討交通資訊網站功能與特性，制訂 web-based ATIS 服務效能評估指標。 
3. 完成以伺服器點擊流歷史資料為基礎之使用者網頁瀏覽行為預測模式構建方法與
驗證。 
4. 提出啟發式方法來構建以使用者網頁瀏覽行為模式為基礎之預先擷取技術評估模
式，以評估網站服務效能。 
 103
參考文獻 
一、中文部分 
1. 交通部運輸研究所、財團法人中華顧問工程司合作辦理（民國 94 年），都會區幹
道即時交通資訊系統建置，台北市。 
2. 交通部運輸研究所（民國 95 年），交通服務 e 網通網站，網址 http://e-iot.iot.gov.tw/。 
3. 交通部統計處（民國 94 年），臺灣地區民眾使用網際網路狀況調查摘要分析，台
北市。 
4. 徐武孝、章臨凡、郭益銘、董明智、蘇聖楠（民國 91 年），網路路由理論與實務
（初版），台北市：全華科技圖書股份有限公司。 
5. 財團法人台灣網路資訊中心（民國 95 年），九十五年度台灣寬頻網路使用調查報
告，台北市。 
6. 陳俊宏（民國 90 年），WebMaster!網站規劃建置管理，台北市：旗標出版股份有
限公司。 
7. 粘添壽（民國 92 年），電腦網路與連結技術（初版），台北市：旗標出版股份有限
公司。 
8. 國道高速公路局（民國 95 年），國道高速公路交通資訊系統網站，網址
http://1968.nfreeway.gov.tw/。 
9. 張文忠（民國 88 年），隨機過程：原理及題解（初版），台北市：中央圖書出版社。 
10. 蕃薯藤數位科技股份有限公司（民國 95 年），2004 年台灣網路使用調查，網址
http://survey.yam.com/index.html。 
二、英文部分 
1. Albrecht, D. W., Nicholson, A. E., & Zukerman, I. (1998). A Decision-Theoretic 
Approach for Pre-sending Information on the WWW. PRICAI'98: Topics in Artificial 
Intelligence Lecture Notes in Artificial Intelligence, 1531, 575-586. 
2. Bouras, C., Konidaris, A., & Kostoulas, D. (2004). A Most Popular Approach of 
Prefetching on a WAN to Effectively Improve WWW Response Times. Lecture Notes in 
Computer Science: GCC 2003, 3033, 344-351. 
3. Bolch, G., Greiner, S., Meer, H. D., & Trivedi, K. S. (1998). Queueing Networks and 
Markov Chains: Modeling and Performance Evaluation with Computer Science 
Applications, John Wiley & Sons. 
4. Bucklin, R. E., et al. (2002). Choice and the Internet: From Clickstream to Research 
Stream. Marketing Letter, 13(3), 245-258. 
5. Bucklin, R. E., & Sismeiro, C. (2003). A Model of Web Site Browsing Behavior 
Estimated on Clickstream Data. Journal of Marketing Research, XL, 249-267. 
 105
Council, Washington, D.C., 1739, 25-34. 
22. Liao, Z., & Cheung, M. T. (2001). Internet-Based E-Shopping and Consumer Attitudes: 
An Empirical Study. Information & Management, 38(5), 299-306. 
23. Liaw, S. S., & Huang, H. M. (2003). An Investigation of User Attitudes toward Search 
Engines as an Information Retrieval Tool. Computers in Human Behavior, 19(6), 
751-765. 
24. Lin, T. W., & Ting, K. L. (2005). A Study on Information Architecture for the 
Freeway/Expressway Real-Time Traffic Information Website in Taiwan. Proceedings of 
the 6th Eastern Asia Society for Transportation Studies Conference, Bangkok, Thailand, 
5, 1557-1571. 
25. Lin, T. W. (2007). An Interface Usability Analysis Model for Menu-Item Presentation 
Sequence in a Web-Based Advanced Traveler Information System in Taiwan. 
Transportation Planning Journal Quarterly, 36(2). (in press) 
26. Nielsen, J. (1997). Usability Testing. In Handbook of Human Factors and Ergonomics, 
(2nd Ed.), Edited by Salvendy G., John Wiley and Sons, Inc., 1543-1568. 
27. Padmanabhan, V. N., & Mogul, J. C. (1996). Using Predictive Prefetching to Improve 
World Wide Web Latency. ACM SIGCOMM Computer Communication Review, 26(3), 
22-36. 
28. Ramsay, J., Barbesi, A., & Preece, J. (1998). A Psychological Investigation of Long 
Retrieval Times on the World Wide Web. Interacting with Computers, 10(1), 77-86. 
29. Rosenfeld, L., & Morville, P. (2002). Information Architecture for the World Wide Web 
( 2nd Edition). O'Reilly & Associates, Inc. 
30. Sarukkai, R. R. (2000). Link Prediction and Path Analysis Using Markov Chains, 
Computer Networks, 33(1-6), 377-386. 
31. Shin, S. W., Seong, B. H, & Park, D. (2000). Improving World-Wide-Web Performance 
Using Domain-Top Approach to Prefetching. Proceedings of the Fourth International 
Conference on High-Performance Computing in the Asia-Pacific Region, 2, 738-746. 
32. Safronov, V., & Parashar, M. (2003). Optimizing Web Servers Using Page Rank 
Prefetching for Clustered Accesses. Information Sciences, 150(3-4), 165-176. 
33. Shneiderman, B., & Plaisant, C. (2005). Designing the User Interface: Strategies for 
Effective Human-Computer Interface (4th ed.). Boston: Pearson/Addison Wesley. 
34. Tavanapong, W., Hua, K. A., & Sheu, S. (1998). Reducing Web Browsing Delay using 
Profile-Based Prefetching. Proceedings of WebNet 98, Orlando, FL, USA, 879-884. 
35. TxDOT. (2006). TransGuide. Retrieved Nov. 30, 2006, from 
http://www.transguide.dot.state.tx.us/ 
36. TxDOT. (2006). Houston TransStar. Retrieved Nov. 30, 2006, from 
http://www.houstontranstar.org/ 
 107
附  錄 
附錄一：各時段之狀態 4、5、6 轉移機率大小 
附表 1.1 時段 1 之狀態 4 非零轉移機率 
狀態（ j ） 轉移機率 （ jTP4 ） 
狀態（ j ） 轉移機率 （ jTP4 ） 
狀態（ j ） 轉移機率 （ jTP4 ） 
1 0.105 37 0.023 76 0.005 
2 0.037 38 0.005 77 0.005 
3 0.046 39 0.005 203 0.032 
5 0.059 40 0.009 399 0.187 
6 0.023 43 0.009   
9 0.014 44 0.005   
10 0.005 45 0.009   
12 0.005 46 0.005   
15 0.009 47 0.005   
17 0.027 48 0.005   
18 0.014 51 0.005   
19 0.005 53 0.005   
20 0.009 54 0.005   
21 0.027 55 0.018   
22 0.032 56 0.009   
24 0.023 57 0.018   
25 0.018 58 0.009   
26 0.032 59 0.005   
27 0.005 61 0.005   
28 0.005 65 0.009   
29 0.037 66 0.005   
30 0.014 69 0.005   
31 0.009 70 0.005   
34 0.014 72 0.014   
36 0.005 73 0.005   
 
 
 
 109
 
 
附表 1.3 時段 1 之狀態 6 非零轉移機率 
狀態（ j ） 轉移機率 （ jTP6 ） 
狀態（ j ） 轉移機率 （ jTP6 ） 
狀態（ j ） 轉移機率 （ jTP6 ） 
1 0.125 399 0.243   
2 0.051     
3 0.059     
4 0.051     
5 0.110     
136 0.022     
137 0.022     
138 0.007     
140 0.007     
141 0.015     
144 0.029     
146 0.007     
149 0.007     
150 0.007     
151 0.022     
153 0.015     
158 0.007     
163 0.015     
164 0.007     
168 0.007     
174 0.015     
176 0.007     
182 0.007     
186 0.007     
188 0.007     
189 0.007     
190 0.007     
193 0.007     
194 0.007     
205 0.088     
 
 111
 
 
附表 1.5 時段 2 之狀態 5 非零轉移機率 
狀態（ j ） 轉移機率 （ jTP5 ） 
狀態（ j ） 轉移機率 （ jTP5 ） 
狀態（ j ） 轉移機率 （ jTP5 ） 
1 0.135 132 0.005   
2 0.051 204 0.056   
3 0.056 399 0.223   
4 0.088     
6 0.121     
91 0.014     
92 0.019     
95 0.028     
97 0.014     
98 0.009     
99 0.019     
101 0.019     
102 0.009     
103 0.005     
105 0.005     
106 0.005     
107 0.005     
108 0.005     
109 0.014     
111 0.005     
116 0.014     
118 0.005     
120 0.005     
121 0.005     
122 0.005     
124 0.009     
126 0.005     
127 0.023     
129 0.005     
131 0.019     
 
 113
 
 
附表 1.7 時段 3 之狀態 4 非零轉移機率 
狀態（ j ） 轉移機率 （ jTP4 ） 
狀態（ j ） 轉移機率 （ jTP4 ） 
狀態（ j ） 轉移機率 （ jTP4 ） 
1 0.104 37 0.005 73 0.002 
2 0.069 38 0.005 74 0.002 
3 0.036 39 0.010 75 0.002 
5 0.081 40 0.012 85 0.002 
6 0.017 42 0.003 203 0.061 
8 0.014 43 0.002 399 0.216 
9 0.012 44 0.002   
10 0.002 45 0.002   
11 0.003 46 0.005   
13 0.002 47 0.002   
15 0.003 48 0.002   
17 0.017 51 0.002   
18 0.003 52 0.003   
20 0.003 53 0.003   
21 0.009 54 0.003   
22 0.009 55 0.017   
23 0.002 56 0.007   
24 0.007 57 0.012   
25 0.042 58 0.009   
26 0.035 59 0.003   
27 0.010 60 0.012   
28 0.017 61 0.017   
29 0.019 62 0.002   
30 0.005 63 0.002   
31 0.019 65 0.009   
32 0.005 66 0.003   
33 0.002 68 0.002   
34 0.002 69 0.002   
35 0.002 70 0.002   
36 0.002 72 0.002   
 
 115
 
 
附表 1.9 時段 3 之狀態 6 非零轉移機率 
狀態（ j ） 轉移機率 （ jTP6 ） 
狀態（ j ） 轉移機率 （ jTP6 ） 
狀態（ j ） 轉移機率 （ jTP6 ） 
1 0.143 175 0.018   
2 0.059 176 0.004   
3 0.044 177 0.007   
4 0.033 181 0.004   
5 0.140 182 0.004   
136 0.007 184 0.004   
137 0.033 186 0.004   
138 0.007 187 0.007   
139 0.007 188 0.004   
140 0.015 190 0.004   
141 0.015 191 0.004   
142 0.007 196 0.004   
144 0.011 205 0.088   
147 0.007 399 0.199   
148 0.004     
150 0.007     
151 0.011     
153 0.011     
154 0.018     
157 0.007     
159 0.018     
161 0.004     
163 0.007     
165 0.007     
168 0.004     
169 0.004     
170 0.004     
171 0.004     
172 0.004     
174 0.004     
 
 117
 
 
附表 1.11 時段 4 之狀態 5 非零轉移機率 
狀態（ j ） 轉移機率 （ jTP5 ） 
狀態（ j ） 轉移機率 （ jTP5 ） 
狀態（ j ） 轉移機率 （ jTP5 ） 
1 0.115     
2 0.045     
3 0.032     
4 0.083     
6 0.147     
89 0.019     
90 0.013     
91 0.032     
92 0.019     
93 0.026     
94 0.038     
95 0.006     
98 0.006     
99 0.006     
104 0.006     
106 0.006     
109 0.013     
113 0.006     
114 0.006     
115 0.006     
116 0.013     
119 0.006     
121 0.006     
123 0.006     
124 0.006     
125 0.006     
131 0.006     
204 0.077     
399 0.237     
      
 
 119
 
 
附表 1.13 時段 5 之狀態 4 非零轉移機率 
狀態（ j ） 轉移機率 （ jTP4 ） 
狀態（ j ） 轉移機率 （ jTP4 ） 
狀態（ j ） 轉移機率 （ jTP4 ） 
1 0.072 40 0.004   
2 0.058 42 0.006   
3 0.053 43 0.018   
5 0.056 47 0.001   
6 0.009 48 0.001   
8 0.018 49 0.003   
9 0.004 51 0.007   
11 0.004 53 0.001   
13 0.003 54 0.003   
15 0.003 55 0.019   
17 0.007 56 0.010   
20 0.001 57 0.001   
21 0.018 58 0.006   
22 0.021 59 0.001   
23 0.003 60 0.022   
24 0.007 61 0.010   
25 0.046 62 0.006   
26 0.031 65 0.006   
27 0.018 66 0.010   
28 0.015 68 0.003   
29 0.053 69 0.001   
30 0.009 70 0.001   
31 0.015 75 0.004   
32 0.006 81 0.001   
33 0.001 85 0.001   
34 0.006 203 0.064   
35 0.001 399 0.216   
37 0.013     
38 0.007     
39 0.007     
 
 121
 
 
附表 1.15 時段 5 之狀態 6 非零轉移機率 
狀態（ j ） 轉移機率 （ jTP6 ） 
狀態（ j ） 轉移機率 （ jTP6 ） 
狀態（ j ） 轉移機率 （ jTP6 ） 
1 0.094  176 0.004    
2 0.066  180 0.004    
3 0.070  184 0.012    
4 0.020  186 0.008    
5 0.152  188 0.004    
135 0.008  189 0.008    
136 0.008  191 0.012    
137 0.041  192 0.008    
138 0.029  194 0.004    
139 0.008  195 0.004    
140 0.012  205 0.070    
141 0.004  399 0.209    
143 0.004      
144 0.012      
145 0.008      
146 0.004      
147 0.008      
148 0.008      
151 0.012      
153 0.004      
154 0.016      
159 0.012      
160 0.008      
161 0.004      
163 0.008      
164 0.004      
166 0.004      
169 0.004      
174 0.008      
175 0.008      
 
 123
附表 2.1 網頁文件平均資料量大小（續） 
狀態編號 
（ j ） 
狀態編號（重複網頁）
（ j ） 網頁 
網頁文件平均資料量大小 
jDATA  
（bytes） 
29 228 北區路段圖 54 
30 229 北區路段圖 54 
31 230 北區路段圖 54 
32 231 北區路段圖 45 
33 232 北區路段圖 50 
34 233 北區路段圖 49 
35 234 北區路段圖 48 
36 235 北區路段圖 46 
37 236 北區路段圖 44 
38 237 北區路段圖 44 
39 238 北區路段圖 37 
40 239 北區路段圖 52 
41 240 北區路段圖 54 
42 241 北區路段圖 54 
43 242 北區路段圖 54 
44 243 北區路段圖 53 
45 244 北區路段圖 41 
46 245 北區路段圖 43 
47 246 北區路段圖 52 
48 247 北區路段圖 53 
49 248 北區路段圖 48 
50 249 北區路段圖 48 
51 250 北區路段圖 48 
52 251 北區路段圖 54 
53 252 北區路段圖 54 
54 253 北區路段圖 54 
55 254 北區路段圖 54 
56 255 北區路段圖 55 
57 256 北區路段圖 55 
58 257 北區路段圖 54 
59 258 北區路段圖 55 
60 259 北區路段圖 53 
61 260 北區路段圖 49 
62 261 北區路段圖 47 
63 262 北區路段圖 40 
 125
 
附表 2.1 網頁文件平均資料量大小（續） 
狀態編號 
（ j ） 
狀態編號（重複網頁）
（ j ） 網頁 
網頁文件平均資料量大小 
jDATA  
（bytes） 
95 294 中區路段圖 35 
96 295 中區路段圖 35 
97 296 中區路段圖 35 
98 297 中區路段圖 35 
99 298 中區路段圖 35 
100 299 中區路段圖 35 
101 300 中區路段圖 36 
102 301 中區路段圖 36 
103 302 中區路段圖 35 
104 303 中區路段圖 34 
105 304 中區路段圖 35 
106 305 中區路段圖 34 
107 306 中區路段圖 35 
108 307 中區路段圖 37 
109 308 中區路段圖 37 
110 309 中區路段圖 37 
111 310 中區路段圖 38 
112 311 中區路段圖 37 
113 312 中區路段圖 38 
114 313 中區路段圖 39 
115 314 中區路段圖 37 
116 315 中區路段圖 37 
117 316 中區路段圖 37 
118 317 中區路段圖 37 
119 318 中區路段圖 36 
120 319 中區路段圖 37 
121 320 中區路段圖 36 
122 321 中區路段圖 36 
123 322 中區路段圖 36 
124 323 中區路段圖 36 
 
 
 
 
 127
 
附表 2.1 網頁文件平均資料量大小（續） 
狀態編號 
（ j ） 
狀態編號（重複網頁）
（ j ） 網頁 
網頁文件平均資料量大小 
jDATA  
（bytes） 
155 354 南區路段圖 36 
156 355 南區路段圖 34 
157 356 南區路段圖 35 
158 357 南區路段圖 41 
159 358 南區路段圖 41 
160 359 南區路段圖 39 
161 360 南區路段圖 35 
162 361 南區路段圖 42 
163 362 南區路段圖 41 
164 363 南區路段圖 41 
165 364 南區路段圖 35 
166 365 南區路段圖 40 
167 366 南區路段圖 37 
168 367 南區路段圖 42 
169 368 南區路段圖 37 
170 369 南區路段圖 41 
171 370 南區路段圖 38 
172 371 南區路段圖 42 
173 372 南區路段圖 42 
174 373 南區路段圖 40 
175 374 南區路段圖 37 
176 375 南區路段圖 40 
177 376 南區路段圖 42 
178 377 南區路段圖 43 
179 378 南區路段圖 43 
180 379 南區路段圖 40 
181 380 南區路段圖 40 
182 381 南區路段圖 39 
183 382 南區路段圖 42 
 
 
 
 
 
