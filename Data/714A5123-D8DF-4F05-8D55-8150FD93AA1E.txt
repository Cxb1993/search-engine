 2
用定位與地圖建立技術來自動地建構。 
定位更是利用先驗環境地圖資訊、機
器人初值姿態估計以及感測器的觀測值
等輸入資訊，經過一定的處理和變換，產
生更加準確的對機器人姿態的估計。本計
劃提出整合主動式的無線射頻辨識系統
(Radio Frequency Identification: RFID)，一
里程計和一台雷射掃描器等三感測資
訊，對於一個長距離追蹤的完整解決方法
必須基於融合使用位置估測和額外的感
測器來增加的資訊，被利用補償方位推算
的方法，對導覽機器人是非常有用可以達
到地圖建立和定位。如圖 1 所示為主動式
的 RFID 系統。  
   本報告的內容共分為六節，依序敘述
主要研究成果，第二節描述實用的應用雷
射掃描器之姿態追蹤系統與訊號融合法
則。第三節敘述應用無線射頻辨識系統之
姿態追蹤的相關研究成果與概況。第四節
闡述如何運用融合 RFID、里程計和雷射
掃描器即時姿態追蹤定位演算法、地圖建
立，第五節實驗與討論。第六節為本報告
的結論。 
二、 融合雷射掃描器與里程計之姿態 
本系統首先利用雷射掃描器所掃到環
境的資料與所建環境模型來做比對，並透
過檢驗門檻(Validation Gate) 和最小平方
線段擬合(Least square line fitting) 此兩
種方法，來擷取雜亂的模型參數。圖2為
所提議的以模糊增廣訊息濾波演算法為
基礎的姿態追踪演算法方塊圖，其中M代
表為環境模型。 
2.1 環境模型 
如圖 3 所示，設 im 為一矩行的環境模
型，M 是由若干個牆所組成的，而每個牆
是以 ( , , )m m mi i ilρ α 三個參數所表示。其中
m
iρ 表示為原點到牆的垂直距離， miα 為
原點到牆之間的夾角，  mil 為牆的長度。 
2.2 牆引出(線的擷取) 
其次有關牆引出方法，包括二部份為檢
驗門檻(Validation Gate) 和最小平方線段
擬合(Least square line fitting)方法，如圖 2
所示。(1) 檢驗門檻(Validation Gate)如圖
4 所示，G 以 4 個參數 ( )ˆ ˆ, , ,G ρ α δ γ= 表
示，其中 ρˆ 為導航的位置到預估牆的垂直
距離， RY 是機器人前進的方向，且αˆ 定
義為機器人前進的夾角，δ 是檢驗門檻的
寬度，γ 是檢驗門檻的開角。檢驗門檻最
主要的目的是將雷射所掃到的資料中所
屬於雜訊的部份先行濾掉。(2)最小平方
線段擬合方法最主要的目的是要擷取在
環境模型中，每個牆相對於此機器人垂直
距離ρ和相關的角度  α 。 
2.3 模糊增廣訊息濾波演算法(FEIF)  
這個部分要闡明模糊增廣訊息濾波
(FEIF)的方法技術。以下為非線性離散時
間的系統模型和測量模型：  
 ( 1) ( ( ), ( ), ) ( )X k f X k U k k W k+ = +    (1) 
  ( ) ( ( ), ) ( )Z k h X k k V k= +           (2)  
其中 ( )f ⋅ 和 ( )h ⋅ 是狀態 ( )X k 和輸入
( )U k 的非線性函數及二次微分。而
( ) ~ (0, ( ))W k N Q k 和 ( ) ~ (0, ( ))V k N R k 分
別是有關雜訊過程和測量雜訊矩陣。為了
獲得最佳的姿態估測和移動機器人的追
蹤，本研究所提的模糊增廣訊息濾波演算
法中，有關雜訊過程和測量雜訊協方差矩
陣說明如下: 
( 1) ( 1)( )  ,  ( )k kR k R Q k Qβ βα α− + − += ⋅ = ⋅   (3) 
式中 α 是很接近於 1 的權重因子，β是指
數函數變化的程度。FEIF 演算法其預估
和估測方程式說明如下︰ 
(i)一步的預估  
ˆˆ ( | 1) ( | 1) ( ( 1| 1),
                        ( 1), ( 1))
y k k Y k k f X k k
U k k
α α− = − × − −
− − (4) 
1
1
( | 1) [ ( 1) ( 1| 1)
                      ( 1) ]                 (5)
X
T
X
Y k k f k Y k k
f k Q
β
α αα −
−
− = ∇ − − − ×
∇ − +
(ii)估測(測量更新)  
  
1ˆ ˆ( | ) ( | 1) ( )( )
ˆ                 [ ( ) ( ) ( | 1)]
T
X
X
R
y k k y k k h k
r k h k X k k
α α βα
−= − + ∇ ×
+ ∇ −  
(6) 
1( | ) ( | 1) ( )( ) ( )TX X
R
Y k k Y k k h k h kα α βα
−= − + ∇ ∇ (7)            
其中 ˆ( ) ( ) ( ( | 1))r k Z k h X k k= − −   (8) 
 4
1 1 1 1 2 2 2 2
1/
T ( , , ) ,T ( , , ) , ,T
( , , ) , (K /RSSI ) , 1, , ,
T T
m
T ni
im m m i i
x y z x y z
x y z d i m
= = =
= =
L
L
轉換每個Tag的RSSI值成為相對應距離。 
由圖 9 所示，可以得到下列聯立方程式                                                    
2 2 2 2
1 1 1 1
2 2 2 2
2 2 2 2
2 2 2 2
  ( ) ( ) ( )
  ( ) ( ) ( )
 
                                
  ( ) ( ) ( )m m m m
x x y y z z d
x x y y z z d
x x y y z z d
⎧ − + − + − =⎪⎪ − + − + − =⎪⎨⎪⎪⎪ − + − + − =⎩
M
   (15) 
經由化簡，可得下列方程式    
  AX = B  
其中 
1 2 1 2 1 2
1 1 1
1 1 1
2 2 2 2 2 2 2 2
2 1 1 2 1 2 1 2
2 2 2 2 2 2 2 2
1 1 1 1
2 2
1
2( )   2( )   2( )
= 2( )   2( )   2( )  , 
2( )   2( )   2( )
- +( ) ( ) ( )
 = - +( ) ( ) ( )
- +
i i i
m m m
i i i i
m
x x y y z z
x x y y z z
x x y y z z
d d x x y y z z
d d x x y y z z
d d
− − −⎡ ⎤⎢ ⎥⎢ ⎥⎢ ⎥− − −⎢ ⎥⎢ ⎥⎢ ⎥− − −⎣ ⎦
− + − + −
− + − + −
A
B
M
M
M
M
2 2 2 2 2 2
1 1 1( ) ( ) ( )m m mx x y y z z
⎡ ⎤⎢ ⎥⎢ ⎥⎢ ⎥⎢ ⎥⎢ ⎥⎢ ⎥− + − + −⎣ ⎦
由最小平方法解矩陣方程式 
       T -1 T X = (A A) A B          (16) 
X 即為所求的機器人位置座標 ( , , )Tx y z 。 
3.3 機器人方位的計算 
在室內定位中角度問題或許不用在
意，但對放置於展覽場的機器人來說，方
位是很重要的。譬如當機器人要走到下一
個會場時，如果只知道自己的位置卻不知
道方位，有可能立刻就喪失定位的功能。
經 3.2 所 求 的 機 器 人 位 置 座 標
( , , )Tx y z=X 外，當機器人前進一小段距
離時，可由兩點位置能決定一直線方程式
如(17)式。 
y = X +ci im         (17) 
其中 m 為直線斜率、c 為截距。 
假設從(16)式求得多點機器人座標，
(17)式可寫成下列矩陣形式。 
1 1
2 2
1 1
2 2
1  X
1  X c
   CY=D,  
   
1  X
1  X
1  Xc
Y= ,  C= ,  D= 
   
1  X
n n
n n
y
y
m
y
y
y
m
y
⎡ ⎤ ⎡ ⎤⎢ ⎥ ⎢ ⎥⎡ ⎤⎢ ⎥ ⎢ ⎥= ⇒⎢ ⎥⎢ ⎥ ⎢ ⎥⎣ ⎦⎢ ⎥ ⎢ ⎥⎢ ⎥ ⎢ ⎥⎣ ⎦ ⎣ ⎦
⎡ ⎤ ⎡ ⎤⎢ ⎥ ⎢ ⎥⎡ ⎤ ⎢ ⎥ ⎢ ⎥⎢ ⎥ ⎢ ⎥ ⎢ ⎥⎣ ⎦ ⎢ ⎥ ⎢ ⎥⎢ ⎥ ⎢ ⎥⎣ ⎦ ⎣ ⎦
M M
M M
     (18) 
再利用最小平方法求解可得 
     T -1 T
c
=Y (C C) C D
m
⎡ ⎤ =⎢ ⎥⎣ ⎦      (19) 
斜率及截距即可從 (19) 式求得，而
=tan  m θ ，其中θ為機器人方向和 X 軸的
夾角，即可計算 =arctan( )mθ 。故利用
(16)、(19)式至少使用四個 Tags 方可求得
機器人的姿態座標 ( , , , )Tx y z θ=X 。 
3.4 機器人初值定位 
機器人平台機構如圖 10 所示，當機
器人在 RFID 有效訊號幅射的範圍內，在
全域架構下要作自我定位或校正當時的
姿態時，利用即時初值定位演算法，機器
人可以正確找到起動時的初值定位，演算
法步驟說明如下︰ 
步驟 1：測量到全部電子標籤( 1T , , TlL )
和 讀 寫 器 ( )1R 之 間 的
1RSSI ( ),   , RSSI ( ),
 1, 2,3, , .
lj j
j n=
L
L  
  ，全部 n 組的 RSSI 數據。 
步驟 2：測量到全部電子標籤( 1T , , TlL )
和讀寫器( 1R )之間的n 組 RSSI 數
據後再利用下列公式求平均值; 
1
1RSSI RSSI ( ), 1, , .
n
i i
j
j i l
n =
= =∑ L
步驟 3：使用(12)式校驗的參數Ki 和 im ， 
可以把步驟2求得到的RSSI測量
平均值轉變成所相對的距離;  
  1/(K /RSSI ) , 1, , .imii id i n= = L (20) 
步驟 4：再利用最小平方法(6)式，可以計
算出機器人起動時的估測位置
0 0 0ˆ ˆ ˆ( , , )x y z 。 
步驟 5：讓機器人沿著直線移動 dΔ 距離
時，利用(16)式求得機器人下一步
 6
值 ( 1)ir k + 並且經由模糊調諧器的
演算法可以產生一個適當權重因
子α 值。 
步驟 4：估測(測量更新)。 
在時間為 k 時，系統定位控制器
讀到新進來的測量資料 ( 1)iZ k +
和使用(27-28)式計算得到更新的
訊息狀態估測值 yˆ ( 1| 1)k kα + + 以
及訊息矩陣 ( 1| 1).Y k kα + + 。 
1ˆ ˆ( 1 | 1) ( 1 | ) ( 1)( )
ˆ  [ ( 1) ( 1) ( 1 | )]              (27)
T
X
Xi
R
y k k y k k h k
r k h k X k k
α α βα
−+ + = + + ∇ +
× + + ∇ + +
  
1
( 1 | 1) ( 1 | )
( 1)( ) ( 1)TX X
Y k k Y k k
R
h k h k
α α
βα
−
+ + = + +
∇ + ∇ +   (28) 
式中 
ˆ( 1) ( 1) ( ( 1| ),  )i i ir k Z k h X k k M=+ + − + (29) 
1ˆ ˆ( 1| ) ( 1| ) y ( 1| )X k k Y k k k kα α
−=+ + ⋅ +  
其中 Jacobian 矩陣 ( 1)Xh k∇ + 為 
1 1 1
1 1 1
1 1
1 2
2 2
1 2
1 2
... ... ...
0
( 1)
0 0 1
0
0 0 1
0
0 0 1
m m m
m m m
X
s s
x x y y z z
D D D
x x y y z z
D D D
H H
h k
H H
H H
− − −⎡ ⎤⎢ ⎥⎢ ⎥⎢ ⎥⎢ ⎥− − −⎢ ⎥⎢ ⎥⎢ ⎥⎢ ⎥∇ + == ⎢ ⎥−⎢ ⎥⎢ ⎥⎢ ⎥−⎢ ⎥⎢ ⎥⎢ ⎥⎢ ⎥⎢ ⎥−⎣ ⎦
M
  (30) 
式中 
( ) ( )
( ) ( )
1
2
cos sin ,
cos sin ,
i m m
i i
i m m
i i
x yH
r r
y xH
r r
α ψ α ψ
α ψ α ψ
= − ⋅ − + ⋅ −
= − ⋅ − − ⋅ −
 (31) 
     1, 2,3, , .i s= L           
2 2r x y= +  和 arctan .y
x
ψ ⎛ ⎞= ⎜ ⎟⎝ ⎠  
步驟 5：重複步驟 2 到步驟 4。 
機器人是透過 RFID 可標記電子標籤(Tag)
在環境裡採取迅速的全球性初始化定
位，融合雷射掃描器，與基於線模型的特
點，合理地準確的表示環境地圖中被認為
線段;為了導覽機器人能達到地圖建立是
非常有用特點。當機器人在一個完全不知
道初期的位置時，可先藉由 RFID 姿態的
初值化，可以求得機器人在環境中的位
置，再融合雷射掃描器經掃描環境之後，
將所得到的資料，透過分群的動作，再與
環境中真實的牆相互作比對；而比對的最
主要目的就是要找出所得到的資料是屬
於那個牆，藉由此方法；運用分群與線擷
取法後，執行模糊增廣訊息濾波器(FEIF)
演算法則，即可求出機器人在環境中的姿
態。 
五、實驗與討論 
實驗流程可分為 Tag 校正程序和定位
程序兩方面如圖 11 所示，Tag 校正程序是
為了解決每個 Tag 因製程與使用環境不同
(溫度、溼度、訊號干擾…等)所產生的個
別差異，故在不同環境中都必須對每個
Tag 都進行校正，建立較為精確的
RSSI-Distance 特性曲線。定位程序必須先
設定 4 個 Tag 的座標，經放置於機器人上
的 Reader 即時接收 RSSI 值，並依照在 Tag
校正程序中建立的 RSSI-Distance 特性曲
線來轉換成相對應距離，得到 4 筆相對距
離後，再使用最小平方法可求得機器人即
時姿態座標。 
實驗 1:四個 Tags 分别放在牆壁上位置: 
1 1 1 2 2 2( , , ) (47cm,544cm,300cm), ( , , )x y z x y z= =
3 3 3(400cm,680cm,299cm), ( , , ) (473cm,x y z =
4 4 4313cm,299cm), ( , , ) (595 cm, 2cm,300cm)x y z =
，機器人的真實的位置 (117.5 cm,160 cm)
和方位是90ο 。在實驗之前，四個 Tag 都
被經過校準程序了，如圖 12 所示；其中
紅色曲線代表從 0 公尺到 10 公尺每增加
1 公尺所對應的 RSSI 量測值，而藍色曲
線則是利用校正公式所得到的特性曲
線 。 機 器 人 的 估 測 值 
( 128.43  cm,  171.06  cm, 74.36 )o ，如圖
13 所示；O 符號代表是機器人的真實位
置，X 符號是代表利用最小平方法的估測
位置，□符號代表是 Tag 放置的位置。提
 8
Autonomous Mobile System Robox,” 
IEEE/RSJ International Conference on 
Intelligent Robots and System, pp. 
1221-1227, 2002. 
[4] P. S. Maybeck, Stochastic Models, 
Estimation, and Control, vol.1, New 
York, Academic Press, 1979. 
[5] S. Se, D. G. Lowe, and J. J. Little, 
“Vision-based global localization and 
mapping for mobile robots,” IEEE 
Transactions Robotics and Automation, 
vol. 21, no.3, pp.364-375, 2005. 
[6] H. H. Lin, C. C. Tsai, and S. M. Hu, 
“Automatic mapping for an indoor 
mobile robot assistant using RFID and 
laser scanner,” Proceeding of the SICE 
Annual Conference, Takamatsu, Japan, 
pp.2102-2108, September 17-20, 
2007.  
[7] H. H. Lin, C. C. Tsai, J. C. Hsu, 
“Ultrasonic localization and pose 
tracking of an autonomous mobile robot 
via fuzzy adaptive extended 
information filtering,” IEEE 
Transactions on Instrumentation and 
Measurement, vol. 57, no.9, 
pp.2024-2034,. 2008. 
[8] C. C. Tsai, H. H. Lin and J. C. Hsu, 
“Fuzzy adaptive extended information 
filtering,” International Journal of 
Fuzzy Systems, vol. 7, no.1, pp. 31-39, 
2005. 
 
圖1 基本的主動式的RFID系統 
)ˆ,ˆ( αρˆˆ ˆ( , , )x y θ
 
圖 2 以模糊增廣訊息濾波演算法為基礎
的姿態追踪演算法方塊圖 
),( ee yx
),( ss yx
il
m
iρ
iρ
iα
)(WY
)(WX
)(RX
)(RY
r
( )kθ
m
iα ψ
 
圖 3 模型參量定義圖 
 
圖4 檢驗門檻(validation gate) 
 
圖5 模糊輸入平均值的歸屬函數 
 
圖6 模糊輸入更新二級動差值歸屬函數 
 
圖7 模糊輸入更新二級動差值變化率的
歸屬函數 
 10
 
(a) 
 
 (b) 
圖13靜態機器人(a)位置和(b)方位角估測 
 
(a) 
圖 14(a) 機器人 x-y 軸姿態估測的軌跡圖 
 
(b)  
圖 14 (b)移動車頭角度估測的軌跡圖 
 
(a) 
圖 15(a) 地圖中環境(淡藍線)和被雷射掃        
瞄發現的環境數據(黑色的點) 
 
(b) 
圖 15(b)雷射掃瞄群聚繪圖所引出的線(牆) 
表 Y04 2
振動與控制學科領域的各個研究方向，促進了不同學科領域之間的廣泛交流。近年來，動力
學、振動與控制已成為科技的前沿研究領域。此屆動力學、振動與控制國際會議（ICDVC-2010）
將致力於匯聚該領域的威權科學家並展現開創性研究成果。此次大會意欲涵蓋動力學、振動
與控制的大多數研究方向，並突出各學科之間的交叉貫穿。大會議題將包括數學理論、數值
仿真、物理實驗、工程設計、資訊技術、生物與經濟方面的動力學理論研究以及各種應用。
同時，為各個科學研究、工程應用領域的科技工作者，無論是專家學人還是剛踏入該領域的
有志者提供一個良好的敘述交流氛圍與機會，共享與會者的新思想、成功的經驗和最新研究
成果。共同探索動力學、振動與控制領域在 21 世紀內的新方向和面臨的新問題。  
大會主題︰ 
1. 離散與連續系統的非線性動力學 
2. 機械振動與控制 
3. 控制理論與應用 
4. 多體系統動力學與控制 
5. 分析動力學 
6. 工業、生物、經濟等領域的動力學問題 
大會主席︰朱位秋 院士 浙江大學 
Prof. L.Q. Chua University of California, Berkeley, USA 
二、與會心得 
z 5 月 13 日:為各類論文發表開始的日子，職所需發表的論文安排的時間為下午 1 點 20 到
3 點的國際會議廳，我的論文是屬於 Dynamics and Control in Multi-body Systems，發表論
文題目是 Self-Localization of an Indoor Wheeled Mobile Robot Using Color CCD Camera 
and Dead-Reckoning Measurements: A Fuzzy Extended Information Filtering Approach。 
z 5 月 14 日: 前往聆聽論文發表，上午 Control Theory and Application，下午 Dynamics and 
Control in Multi-body Systems. 
主辦單位為加強學者專家、與會者間的交流，特別在 Hangzhou Xile Hotel 安排與會者在輕鬆
情況下共進晚餐，互增友誼，眾人在 Banquet 後，預約明年見。如此的景況，年復一年，電
機與機械之科技智慧將在這樣會議中綿延不盡的進步與發展、精實壯大。本次會議供有來自
全世界的學者專家齊聚ㄧ堂，實為一學術難得之饗宴。 
z 5 月 15 日:大會安排杭州西湖一日遊。 
z 5 月 16 日:回國。 
三、建議 
參加此次研討會深深覺得在我們國內眾多控制理論與應用的研究中，還是必需在各種研
究領域投入更多的人力與經費，而使這些研究能站上世界頂尖高科技之列。此次研討會不同
以往在大型飯店舉行，而是在浙江大學玉泉校區永謙學生活動中心小劇場校區舉行，為大陸
重點大學及實驗室所在之一，會議之餘也略見中國大陸在高科技研究人力物力的投入快速。
此次參加研討會的人數及發表之論文數眾多。此外，這次研討會中也有很多國外研究生參
與，故希望國科會、國內各大專院校及國內研究先進們大家能多鼓勵及經費上補助碩博士班
研究生參與國際學術研討會，以增廣見聞及提升語文的能力。 
四、攜回資料各稱及內容: 
攜回資料名稱及內容:參加此次研討會帶回 ICDVC-2010, proceeding (1 CD-ROM)， 
內容包括了所有的會議論文。 
 
98年度專題研究計畫研究成果彙整表 
計畫主持人：林鴻興 計畫編號：98-2221-E-164-010- 
計畫名稱：導覽機器人融合主動式 RFID 和雷射掃描器的地圖建立和定位 
量化 
成果項目 實際已達成
數（被接受
或已發表）
預期總達成
數(含實際已
達成數) 
本計畫實
際貢獻百
分比 
單位 
備 註 （ 質 化 說
明：如數個計畫
共同成果、成果
列 為 該 期 刊 之
封 面 故 事 ...
等） 
期刊論文 2 2 100%  
研究報告/技術報告 0 0 0%  
研討會論文 2 2 100% 
篇 
 
論文著作 
專書 0 0 0%   
申請中件數 0 0 0%  專利 已獲得件數 0 0 0% 件  
件數 0 0 0% 件  
技術移轉 
權利金 0 0 0% 千元  
碩士生 0 0 0%  
博士生 0 0 0%  
博士後研究員 0 0 0%  
國內 
參與計畫人力 
（本國籍） 
專任助理 3 3 100% 
人次 
 
期刊論文 0 0 0%  
研究報告/技術報告 0 0 0%  
研討會論文 2 2 100% 
篇 
 
論文著作 
專書 0 0 0% 章/本  
申請中件數 0 0 0%  專利 已獲得件數 0 0 0% 件  
件數 0 0 0% 件  
技術移轉 
權利金 0 0 0% 千元  
碩士生 0 0 0%  
博士生 0 0 0%  
博士後研究員 0 0 0%  
國外 
參與計畫人力 
（外國籍） 
專任助理 3 0 0% 
人次 
 
 
