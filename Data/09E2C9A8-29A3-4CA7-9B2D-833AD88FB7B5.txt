中文摘要 
由於 802.11 無線區域網路的系列標準的持續制定以及多媒體通訊的需求趨勢，使得佈
建日趨普及的無線區域網路必須承載不同服務品質要求（Quality of Service，QoS）的資料
流。又由於 802.11 為基礎之無線網狀網路（Wireless Mesh Network，簡稱 WMN）為下ㄧ代
「最後一哩」社區型無線存取網路的一個最佳候選者（也就是目前正在草案定義接端之
802.11s 標準），因此在類似於 802.11s 之無線網狀網路上，提供準確且高效能的 QoS 服務
已成為近幾年來熱門的研究課題。然而，從過去的相關研究成果來看，欲達到此目標，必
須捨棄以單一協定層為主的研究方式，而必須以跨層設計（cross-layer design）的方式進行
整體的修正，各層之間彼此符合需求，才能提供完整的品質服務。 
由於此研究課題牽涉範圍甚廣，為求集中研究能量，本計劃針對下列主題進行研究，
其成果具有高度的可實行性：(1) 提出一專用於 VoIP 裝置且與原始 802.11b 相容之 MAC 與
PHY，其滿足 VoIP 之 QoS 需求並提昇頻寬使用效能，而其設計原理也可以延伸到他種實
體層的 802.11 無線區域網路；(2) 提出一個在 802.11s 無線網狀網路上適用於 CBR（Constant 
Bit Rate）資料串流之路徑/排程演算法，其運作機制採用現有之 802.11e 所定義之同步機制
以及HCCA機制，且其頻寬使用率以及封包延遲時間均較原始 802.11s草案有所改善；(3) 為
使後續相關研究能順利進行，本計劃亦整合 ns2 網路模擬軟體之現有相關模組，並參考
802.11s 草案內容，建置一 802.11s 無線網狀網路之專屬網路模擬平台，使得未來之相關研
究能有共同之系統模擬平台。 
關鍵詞：無線網狀網路、802.11、網路電話、服務品質（QoS） 
1. 前言 
由於 802.11 無線區域網路的系列標準陸續制定以及相關產品的大量開發，使得無線區域網
路無論是在都會/社區公眾接取網路的佈建，或是在家庭網路的應用上都已經達到普及化的
境地。因為多媒體通訊的趨勢，使得無線區域網路也必須承載不同服務品質要求（Quality 
of Service，QoS）的資料流，引發自 802.11 標準公佈以來，學術界與產業界紛紛對 802.11
規格在提供服務品質上的改良進行為數不少的研究。這些研究幾乎都是針對媒介接取控制
層（MAC）進行改良，如今年才正式公佈的 IEEE 802.11e 標準，就是針對原始 IEEE 802.11
媒介接取控制層進行提供服務品質的增修。然而由於 802.11 在實體層與 MAC 層訊框格式的
固有特性，使得其既使在採用 802.11e 的增修後，對於近似等時性的短封包多媒體資料流
（如網路電話的語音串流），其實際的通道使用率仍將偏低。另一方面，以 802.11 為主體
架構的無線網狀網路（Wireless Mesh Network，簡稱 WMN）已成為未來都會/社區網路佈
建的主流，802.11 標準組織已成立新的工作群組定義 802.11 的 WMN 標準-802.11s。如此
一來，為維繫在整個 802.11 網狀網路上各多媒體資料流的服務品質，除了在單一 802.11
網路內必須考慮如何提供服務品質之外，也必須在網狀網路中提供相互配合的機制，才能
達到在資料流的兩端都能取得其所需之傳輸品質的目的。而在無線網路環境下的多媒體資
料流，大多也因裝置的移動性而牽涉到基地台的換手（Handoff）問題，如何達到不中斷資
料流的無接縫式（Seamless）換手，也是近年來在無線區域網路領域的熱門研究課題。因
此，在無線區域網路的環境下，其架構與通訊協定的改良必須捨棄以單一協定層為主的研
究方式，而必須以跨層設計（cross-layer design）的方式進行整體的修正，才能提供完
整的品質服務。本研究計畫即以此為目標，提出適合於 802.11 系列之無線區域網路與無線
網狀網路使用之各項 QoS 提升方案。 
2. 研究目的 
由於在 802.11 無線區域網路與無線網狀網路提供跨層的品質服務方案是一個範圍相當
大的課題，為求研究資源的集中，本計劃擬先專注於有關 VoIP 之關鍵性問題研究。VoIP
串流本身最關鍵的 QoS 需求為有限的點對點延遲、有限的點對點延遲抖動、以及有限的封
包漏失率，而以類似於 802.11 MAC 運作方式所建立之無線區域網路來提供 VoIP 串流服務
時，除必須設計特殊機制以符合上述 VoIP 串流本身的特性之外，最大的問題是頻寬使用效
率低落，根據[1]的分析與模擬，若以 64 kbps 之 G..711 u-Law 為語音壓縮標準，在 802.11b 11 
Mbps 網路中最大的網路電話通數大約只是 6 通而已。 
因此，本計劃針對上述 VoIP 關鍵性問題，於現有 802.11 無線區域網路系列標準以及
無線網狀網路草案之中，提出符合 QoS 需求以及提昇效能之方法，而所提出之方法盡量以
與現有標準或草案能相容並存，或是盡量以已經制定好的機制來完成，以降低實務上的成
本與提高實用性。本計劃所研究的主題包含下列各項： 
(1) 提出一專用於 VoIP 裝置且與原始 802.11b 相容之 MAC 與 PHY，其滿足 VoIP 之
QoS 需求並提昇頻寬使用效能，而其設計原理也可以延伸到他種實體層的 802.11
無線區域網路。 
(2) 提出一個在 802.11s 無線網狀網路上適用於 CBR（Constant Bit Rate）資料串流之
目前國內外針對 802.11 在提 開發方面，大都以單一無線區
域網路（一個 BSS 或一個 IBSS）內提供 QoS 為其目標，且大多以 MAC 層的改良為主。我
們可
t 封包[1]）來承載 VoIP 資料流以改善其效率，但難
免延遲時間會較長。 
.11 MAC 新增 QoS 相關資訊的交換動作，如[9]。 
0][12][14][15]。 
[6]。 
劃[11]。 
[13]。 
是多媒體通訊
應用層的特性來進行整體的考量。事實上，802.11 網路所能提供之 QoS 的好壞，不只取決
於 M
路已成為未來都會公眾接取網路或是社區接取網路
的主要架構（如圖 3）然目前已經有產品出現（如Nortel公司）是其主要運作仍是以各接取
點作
 
供 QoS 所作的研究與標準的
以將其分為下列幾類說明之： 
1. 利用不同封包種類（如 Multicas
2. 修改 802.11 隨機後退機制，減少不必要的隨機後退時間，以達到較高的效能，如
[4][7]。 
3. 修改 Inter-frame Spacing 長度，以達到資料流優先權隨 QoS 條件而調整的目的，如
[8]。 
4. 自訂新的 MAC 通訊協定，如[5]。 
5. 於 802
6. 修改 802.11 MAC 的運作過程，如[1
7. 從較高層的通訊協定如 TCP、UDP、或應用層來著手，如
8. 在 802.11 MAC 上套用 DECT 系統，如 WINDECT 計
9. 考慮 AP 內對訊框的 Queuing 機制，以達到預期的 QoS 效果，如
以上所列示之方法幾乎都是以改良 MAC 為主，沒有從同時考慮 PHY 或
AC 的改善，PHY 特性的影響也佔有一定的地位，而多媒體通訊常見到的換手問題更
應列入加強 802.11 相關機制的考量。 
另一方面，802.11 為主無線網狀網
為路徑器，以IP的路徑演算法進行封包的轉送，而非直接以第二層（data link層）的機
制做路徑選取與封包轉送，如此便無法提供只有在第二層才能運作的QoS相關機制，也因
此對於提供多媒體串流所要求之通訊品質的能力仍然非常薄弱。目前IEEE 802.11 專案已在
2005 年成立了新的任務群組s，以增修原有之 802.11 MAC的方式，定義在MAC層運作的無
線網狀網路標準-也就是俗稱的 802.11s。第一版 802.11s草案，於 2007 年初制定，但經過會
員通訊投票之後，並沒有通過認可，所以目前草案中的內容仍將有極大的變化[18]。此草案
定義了無線網狀網路的組成元件與網路架構，也定義了拓墣結構維護、路由、安全、省電
等運作方面的機制。其MAC方式採用了在 802.11e標準中所定義的EDCA方式進行封包傳
送。在路由方面，則採用了在無線隨意網路中廣為使用的AODV方式，以及以樹狀圖為基
礎的路由方式，組合成其所謂的HWMP（Hybrid Wireless Mesh ）。另外，它也提供了另一
個以OLSR為基礎之路由方式作為選項。在省電方式上，則以 802.11e中的APSD為基礎作些
微的修改。由於其封包傳送方式仍是以EDCA的方式與其他Mesh節點做競爭，因此 802.11s
草案中也另外設計了「MDA」（Mesh Deterministic Access）機制，供Mesh節點之間彼此先
約定好何時要傳送資料，以及要傳送多久，而在此約定之期間內，除了傳送端節點與接收
端節點之外，所有已經知道此傳送期間之Mesh節點都不會嘗試去傳送封包，因此可大大降
低競爭的狀況，而使得某些封包在傳送上會較為順利，延遲會比較小。但是在MDA期間內，
封包傳送的方式仍是EDCA，此點預期對應用於VoIP上仍會造成頻寬使用效率過低的結果。 
 
 
而 802.11 最為多媒體通訊所詬病的是其相當低落的頻寬使用效率，此點是由於 802.11
的 MAC 採用了 CSMA/CA 的機制。在該機制中，每個資料訊框的傳送，除了資料訊框本
身會佔頻寬之外，另外還必須將訊框間隔、隨機倒退時間、以及 ACK 訊框等計入其所佔用
之頻
性為其串流資料為隨著時間會陸陸續續產
生出來，而資料產生之速率可為等速率（如語音）或是可變速率（如視訊）。因此，最簡單
的方
方面，我
們修改[15]的 TDM 運作方式，使其頻寬使用效率能更提昇之外，也設計並加上與原始 802.11 
MAC
2.1
sh 節點都會被告知其鄰近節點的 MDA
排程表，因此不會在其鄰近節點所保留的 MDA 傳送資料期間也嘗試去傳送資料。因此，
MDA
的傳送期間，讓輪詢到的站點在此期間內可直接傳送訊框，不需使用 EDCA 方式與其他站
點競
徑與在各 Mesh 節點間的傳送時段，以及決定執行輪詢的 Mesh 節
點與輪詢之排程，使的網路的整體資源能被最有效地利用。 
寬。另外，在 802.11 的 PHY 中，以 802.11b 來看，其訊框 Preamble 與 PHY PLCP 資
料欄位也佔去了相當多的頻道時間。在傳遞多媒體資料串流時，這些伴隨著資料訊框傳送
所必須要花掉的頻寬，相對於真正的傳輸對象-多媒體串流資料，反而佔了整體用掉頻寬的
大部分。因此其頻寬使用效率可謂相當低落。 
解決 802.11 在多媒體通訊之頻寬使用效率低落現象，可以針對 CSMA/CA 之 MAC 以
及 PHY 來修改之。多媒體通訊串流之最顯著的特
式是將 MAC 的方式改為 TDM，依多媒體串流的品質需求配置時槽，省卻 CSMA/CA
機制中伴隨訊框傳輸的時間浪費。如此便可以大幅改善 802.11 頻寬使用效率低落的現象，
也提昇了對於多媒體影音傳流的 QoS。目前已有研究提出使用與 802.11 相同的 PHY 並將
其 MAC 改為 TDM 方式運作[15]，然而其與原始 802.11 的並存性並不好。 
整合上述觀點，本研究即提出一適用於 VoIP 裝置之 TDM-based MAC 以及其對應的
PHY，使得最後形成的系統能與原來的 802.11 並存，甚至共用存取點。在 MAC
可相容並存之機制。而在 PHY 方面，除了設計共存機制之外，我們也嘗試去縮減
Preamble，以稍微提高之位元錯誤率或是縮減的傳輸最大範圍，來換取頻寬使用效率的提
升，此點對於應用在純粹 VoIP 裝置上是合理的。 
4.2. 應用IEEE 802.11e之HCCA機制於
80 1s無線網狀網路 
在 802.11s 草案中特別設計了 MDA 存取方式，以提供週期性且較無競爭的方式來發送
資料到鄰近 Mesh 節點。在 MDA 機制中，所有 Me
機制減少了資料訊框在傳送時與其他節點的競爭，使得多媒體串流的 QoS 能更準確
達成。然而，在 MDA 傳送資料期間，資料訊框的傳送仍是以 EDCA 方式作媒介存取，因
此可以預見其仍有頻寬使用效率低落以及延遲時間不定且較長的問題。 
802.11e 中已經定義了一套免競爭的資料傳輸模式，也就是 HCCA[17]。在 HCCA 機制
中，HC 以某事先定義好的排程，輪詢所有在此無線區域網路中的站點，給予其事先預定好
爭頻道使用權。因此，本研究即依此觀點提出一 802.11s 網狀網路之新的 QoS 多媒體
資料傳遞方式，將原有的 HCCA 機制應用到 802.11s 網狀網路中，使得多媒體資料排程表
確定之後，以適當的 Mesh 節點當作 HC，輪詢其鄰近節點，以形成一免競爭傳輸期間，供
鄰近節點傳輸多媒體資料使用。而此機制所需之 Mesh 節點互相同步的方法與原始 802.11s
為 MDA 機制所定義為相同。本研究所提出之設計比 MDA 機制擁有較高的頻寬使用效率，
以及較短的時間延遲。 
另外，本研究的另一重點為：在此種新的機制設計之下，提出最佳的排程演算法，為
每個多媒體串流找出其路
排程給鄰近節點，另外就是也可以減少隱藏節點的問題產生，而對於暴露節點的問題
也可以用輪詢的排程來解決。圖 5 為一個 8 個 Mesh 節點之網狀網路的例子，其顯示 3
個多媒體資料串流之路徑與可行之時間排程。 
A
C
H
F
E
DB
G
1
2
3 1
 
 
圖 5：串流於網狀網路上之排程例。 
至於最佳化的輪詢/路徑排程問題則是定義如下。給定一個網狀網路的拓墣結構（也就
其各 Mesh 節點的相鄰關係），假設所使用的頻道為單一頻道，而此頻道的容量為有限
6. 參考文獻 
ictor O. K. Li, “Solutions to performance problems in VoIP 
over 802.11 wireless LAN,” IEEE Trans. Vehicular Tech., vol. 54, no.1, Jan. 2005. 
en Systems--LAN/MAN Specific Requirements--Part 11 Wireless 
值，給定一組 CBR 多媒體串流及各串流資料速率，此問題之定義為找出每個串流資料
的傳遞路徑與傳遞排程及其對應的輪詢節點與輪詢排程，使得整題排程所佔用的總時
間為最小。之所以選取如此之最佳化目標，乃是因為 VoIP 為互動式的串流服務，時間
延遲為服務品質之最重要因素。另外，我們也嘗試以其他最佳化目標來定義問題已符
合不同狀況所需。從本問題的定義來看，其顯然為 NP-Hard 的問題，因此本研究提出
一近似演算法（Heuristic Algorithm）來解決此問題。 
1. W. Wei, S. C. Liew, and V
2. H. Schulzrinne, et al., “RTP: A transport protocol for real-time applications,” IETF RFC 
3550, July 2003. 
3. “IEEE Standard for Information Technology--Telecommunications and Information 
Exchange Betwe
Medium Access Control (MAC) and Physical Layer (PHY) specifications: Medium 
Access Control (MAC) Quality of Service (QoS) Enhancements”, IEEE 802.11e-2005. 
