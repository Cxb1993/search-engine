the physical state of the user or the environmental 
factors. In the next 3-year project the system is 
further renovated and introduced the context 
information concept. The main purpose of the new 
project is to provide a customized assistive service 
to the user. It is divided into 3 steps: First, build 
up a smart housekeeping system and a network of 
environmental context-aware assistive services； 
Then, collect and analyze the context-aware 
information； Last, carry out further analysis and 
improvement to the system. The main target users of 
the system are persons with physical disabilities at 
the very beginning, and it will be expanded to other 
kind of disability cases by revising the context-
aware models. 
Besides environment and electrical appliance 
information, the environmental context information 
includes also the user＇s preference and habit. This 
information is important for the improvement of smart 
housekeeping system and the development of new 
assistive device and service. 
 
英文關鍵詞： Assistive device, Assistive computer input device,  
Intelligent environmental control agent, Mobile 
agent, Image recognition, Zigbee wireless 
transmission,  Context-aware, Context information, 
Smart housekeeping system 
 
                                                  
 共 15 頁  第 2 頁 
行政院國家科學委員會專題研究計畫精簡報告 
 
具環境情境感知服務網之妙管家系統 
Smart Housekeeping System with Network of Environmental 
Context-Aware Assistive Services 
計畫編號： NSC-100-2221-E-006-158 
執行期限：100年 8月 1日至 101年 7月 31日 
主持人：羅錦興 國立成功大學電機工程學系（所）教授 
計畫參與人員：葉書銘、龔漢忠、蔣國祥、楊禮綱 
        E-mail:  robin@ee.ncku.edu.tw 
摘要 
身心障礙人士因身體上的缺陷，更需透過裝置的協助，來達到因本身身體的
缺陷而無法輕易達成的目標。本子計畫近年來陸陸續續開發出許多輔具來幫助殘
障人士，從輔助性電腦輸入裝置到智慧型環境控制代理人系統，讓身心障礙者克
服其身體缺陷，進而像正常人一般，操控電腦和家電，使其生活更獨立，也豐富
了其原本平淡無奇的人生。 
過往系統的發展，主要是以環境輔具提供協助，與透過輔助性多代理人系統
介面來和外界溝通、控制家電與適時關心使用者…等等，依據使用者的生理狀態
或環境狀態提供一些意見給使用者做選擇。新的三年期計劃進而將系統往情境智
慧作發展，本計畫主要的任務是發展出一套環境情境資訊妙管家系統，發展環境
情境資訊模型與運作機制於環境妙管家系統上，進行環境情境資訊的收集和分析，
並且環境妙管家系統將根據環境情境資訊的收集與分析結果進行改良，為患者提
供客製化的輔具服務。系統先以肢體障礙者發展為主，接著逐步延續情境資訊模
型與架構到多個個案上。 
環境情境資訊除環境和智能居家資訊外，最主要的部份為依使用者行為和習
慣進行轉譯所構成的情境資訊；此情境資訊除了在妙管家系統運作時自動調整的
依據，亦可作為未來輔具服務的改善和創新輔具的發展提供了重要的參考。 
 
關鍵詞：  
輔具、輔助性電腦輸入裝置、智慧型環境控制代理人系統、行動代理人、影像辨
識、ZIGBEE無線傳輸、情境感知、情境資訊、妙管家系統
                                                  
 共 15 頁  第 4 頁 
一、前言 
因電腦與資訊科技的高度發展，現代人對電腦的依賴越來越重，舉凡教育、
學習、新聞、資訊、公務、交通、休閒、購物…等等，皆可利用操作電腦來達成
這些需求，也因而更易於完成這些需求。家庭、辦公室自動化、環境控制都是目
前熱門的研究領域，使用者可以隨心所欲的控制家電產品或是處於一個舒適的生
活環境。類似的研究不勝枚舉，如以java 開發的家庭自動化系統[1]，使用者可
以透過網際網路來監控家電，還可以手機來當操作介面[2]，還有整合通訊、廣
播接收及家庭自動化之家庭伺服器[3]，以一個中央控制節點透過家用內部網路
來進行無線家庭自動化控制的多功能裝置[4]。目前已有許多輔助性電腦輸入裝
置被研究出來，例如眼控滑鼠[5]、頭控鍵盤及滑鼠[6], [7]、紅外線控制鍵盤
及滑鼠[8]、聲控鍵盤及滑鼠[9]、感應式舌控滑鼠[10]及腦波控制鍵盤 [11]，
而本子計畫所開發之輔助性電腦輸入設備皆以摩斯碼辨識為主，包括26 鍵、6 鍵、
雙鍵及單鍵，依個案的不同需求而有不同之輔具，可適用的對象包含腦性麻痺、
全身癱瘓及肌肉萎縮症。而摩斯碼的辨識方法也從複雜的LMS [12], [13], AVRTP 
[14], neural network: BPN [15], LVQ [16], statistics, SVM [17], [18], [19]，
發展到可以由單晶片實現的fuzzy[20], [21]辨識。本團隊有豐富的輔助性電腦
輸入裝置的開發經驗，故將於此三年期計畫中再度依個案的不同需求，開發出適
合個案使用的輔助性電腦輸入裝置。 
二、目的 
殘障人士比正常人更需要上述所提之系統，因為他們肢體功能的殘缺，使得
許多正常人輕而易舉即可達成的事，對他們來說卻是遙不可及。大部份的系統都
是針對正常人來設計，而殘障人士們並不需要如此大費周章的從網路或者是手機
來控制家電，因為他們甚至連操控電腦或手機都有困難。因此本子計畫數年來陸
陸續續開發出許多輔具來幫助殘障人士，從輔助性電腦輸入裝置到輔助性多代理
人系統之行動代理與感測網路，依照殘障人士的需求而設計，讓身心障礙者克服
其身體缺陷，進而像正常人一般，自由自在的操控電腦或家電產品，擁有更舒適
的生活環境。在發展輔具多年並將其代理人化後，除了在輔具的技術發展外，在
近年來各式資訊電子裝置日益進步以及強調人性化、智慧化的理念衝擊，本團隊
思考如何擴展輔具在服務面向的深度，因此規劃導入情境資訊的概念，以期能將
本團隊開發多年的輔具系統除了功能性的發展外，也能主動、聰明的貼近使用者
的需要。 
 
 
 
 
                                                  
 共 15 頁  第 6 頁 
θ1 = tan−1(𝑌/𝑋)………………………………………………(1) 
θ2 = tan−1(𝑣/𝑆) − tan−1(𝐿2 + 𝐿3 cosθ3 /𝐿3 sinθ3)………(2) 
θ3 = tan−1(𝐷/√1 − 𝐷2)…………………………………….. (3) 
θ4 = θ2 + θ3…………………………………………………..(4) 
上述方式須配合機械手臂機構設計加以微調，由於機構設計須配合現有之馬
達，因此可能會導致部分座標是無法到達，而系統也因此加註部分座標微無法到
達之位置。 
 影像辨識動態追蹤 
影像辨識目前透過 Haar-lke feature、Adaboost + Cascade來辨識人臉，偵測
到的人臉會以方形標記，以方形中心為圓心，取Height/2長度為半徑既可標記出
人臉，如圖3.3所示則可標記出人臉、眼睛、嘴巴。 
 
圖3.3、人臉標記 
Haar-lke feature 形狀簡單，座標容易描述，並且對於邊緣和顏色變化大的地
方較敏感。Haar-like feature 分為兩個區塊，黑色區塊所有pixel 灰階值加總與白
色區塊所有pixel 灰階值加總，兩者加減，所得到的值為此分類器的特徵值。利
用人臉特徵造成明顯的亮度差異，來找出人臉。 
依據矩形特徵進行分類，每一種矩形特徵、大小、位置各自形成不同的弱分
類器，不斷修正權重後形成強分類器，數個分類器再形成串接式分類器，一張圖
檔通常有上萬個矩形需要比較，所以以分類器加以篩選，第一層之分類是用最好
比較的特徵加以篩選(基礎特徵中吻合度最高的)，以極少的處理消除大量的非人
臉特徵矩形，隨著層級數的上升，會做出比較多處理以判斷是否為人臉(比對特
徵個數增加、浮動範圍增加)，讓需要最多處理的步驟，可以只剩最少的矩形需
做處理。 
影像追蹤部分則以追蹤動態物品為主，先以前景偵測為主將背景雜訊濾除後，
將動態物品顯示接著利用影像形態學中的膨脹、侵蝕將影像進行修正，讓畫面只
看到動態之物品， 
 
 
 
                                                  
 共 15 頁  第 8 頁 
料信號、細線為其他信號，主要功能包含攝影機影像與控制、VGA影像顯示、
顏色表與EEPROM介面、影像處理單元、UART介面、微處理器介面、以及聲音
檢測。 
 
圖 3.6 、FPGA系統架構方塊圖 
FPGA執行數位影像處理完成的結果參數，包含影像物件大小與座標，送到
8051微處理器進行後續分析同時控制機械手臂，如圖 3.7為 8051程式流程圖。
系統電源啟動時由 8051以 I2C協定送出設定參數給攝影鏡頭模組，完成後通知
FPGA已經將攝影鏡頭模組設定完畢，此時影像處理系統開始正常運作，接下來
進行 FPGA傳來的影像物件資料分析。首先分析影像物件大小，接著分析影像物
件形狀比例。一旦大小與形狀的錯誤因素都被排除後，留下的物件有很大的機率
是目標物。若不止一個物件被留下，最後將會保留最大物件為目標物。 
                                                  
 共 15 頁  第 10 頁 
 
圖 3.8 、自主性移動機器人系統架構 
 
 機器人外型及配置之感知功能 
 採『圓盤型』機器人結構，直徑 340mm，配置兩個輪胎，輪胎軸距 258mm，
如圖 3.9所示。 
 移動方式：前進、後退、左轉、右轉 
 驅動方式：使機器人以 v的速度向左轉θ角度，則驅動方式如圖 3.10
所示。 
 
 
圖 3.9 、圓盤型機器人概念原型    圖 3.10 、圓盤型機器人驅動方法 
 
 驅動方法之數學模型如下： 
    𝑉𝑉𝑉𝑉𝑉 = 𝑟𝑟 
        𝑉𝑟𝑉𝑉ℎ𝑉 =  (𝑟 + 𝑏)𝑟 
                                                  
 共 15 頁  第 12 頁 
3-3.情境資訊 
目前已與居家輔助服務情境資料倉儲定義環境相關資料，包含：用水、用電、
能源、照明、通風、溫度、環境輔具日常使用紀錄等，並陸續將先前完成的家電
控制相關的節點導入情境資訊部分，並增加每個節點之功能，讓節點透過使用者
來操作時，能提供更多情境資訊。 
四、結果與討論 
 座標取物 
使用者輸入特定座標後，透過幾何轉後機械手臂動作目的地，既可達到座標
取物之動作，透過PC端下令座標位置，如圖4.1、4.2所示，若此坐標超出範圍者，
則會以移動到接近到方向，而若是此坐標值無法到達，機械手臂則無動作。 
  
圖4.1、坐標(20,30,30)動作圖 
 
圖4.2、坐標(30,30,30)動作圖 
 
 影像辨識動態追蹤 
目前實驗結果可偵測出正在移動之物品並標記，如圖4.3(A)-(D)所示，下圖
有擷取影像圖、背景圖、動態物品圖、標記圖，當中動態物品圖是透過前景偵測
後，所顯示的動態物品，而因現實生活中可能會有許多動態的物品，因此增加辨
                                                  
 共 15 頁  第 14 頁 
圖 4.4、機械手臂與影像辨識系統整合完成圖 (a)完整圖 ; (b)機械手臂前端 
 
如圖 4.5所示為自動定位系統運作圖，在尚未啟動時機械手臂為圖 4.4(a) 之
待命狀態，當使用者舌頭抵住上腭後發出清脆的 “derk” 兩聲後即啟動機械手臂
電源，同時影像辨識系統運作並控制機械手臂定位至目標，到達目標位置後啟動
捲線轉輪，將奶嘴降落到使用者嘴巴，到達定位後再反轉捲線轉輪收回奶嘴載具，
最後將機械手臂回復至圖 4.4 (a) 之狀態並關閉電源。 
 
圖 4.5、自動定位系統運作圖 
 
 自主性移動機器人 
本機器人包含了情境感測器、有線與無線介面控制、障礙物偵測器，而根據
家中環境設置移動地圖或可自行移動避開障礙物，可藉由路徑搜尋演算法來規劃
出最短的有效路徑，來達成移動物品或傳遞訊息，如下圖 4.6為自主性移動機器
人之實體圖。 
 
圖 4.6、自主性移動機器人 
國科會補助計畫衍生研發成果推廣資料表
日期:2012/10/31
國科會補助計畫
計畫名稱: 子計畫二:具環境情境感知服務網之妙管家系統
計畫主持人: 羅錦興
計畫編號: 100-2221-E-006-158- 學門領域: 殘障輔具研究
無研發成果推廣資料
其他成果 
(無法以量化表達之成
果如辦理學術活動、獲
得獎項、重要國際合
作、研究成果國際影響
力及其他協助產業技
術發展之具體效益事
項等，請以文字敘述填
列。) 
1.輔導三位個案(四肢癱瘓者)使用輔具，透過本研究之輔具來提升生活之自主
性，並透過電腦及網路來接觸生活。 
2.與總計畫共同在 2012年第一屆台灣區世界輔助電玩觀摩賽中，讓身心障礙者
了解高科技輔具之應用與推廣。 
 
 成果項目 量化 名稱或內容性質簡述 
測驗工具(含質性與量性) 0  
課程/模組 0  
電腦及網路系統或工具 0  
教材 0  
舉辦之活動/競賽 0  
研討會/工作坊 0  
電子報、網站 0  
科 
教 
處 
計 
畫 
加 
填 
項 
目 計畫成果推廣之參與（閱聽）人數 0  
 
