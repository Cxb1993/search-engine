 I 
摘要 
 
本計劃針對人體三維運動資料的擷取提出創新的方法。擬以二年期間，研發一套智慧型
的人體運動數位典藏系統，第一年進行三維光學測頭機構與電路的設計、製造，預期開發出
一組使用線型 CCD內嵌 DSP 微處理器的光學測頭。第二年設計自動化的校正方法調校此測
頭，再利用此研究成果再增加一個光學測頭，成為雙測頭的三維運動追蹤器，並以馬達控制
主動式攝影機將測頭轉向，讓雙測頭都能追蹤人體的運動，不至失去運動中的目標。並發展
主從式即時傳輸界面，可僅使用一台電腦即可控制二台運動追蹤器。同時也濾除多餘與重複
的標誌點，並利用人體特徵推測被遮蔽點的方法，成為智慧型人體運動追蹤系統。 
 
關鍵字：內嵌式系統、運動追蹤、光學量測 
 III 
目錄 
 
第一章 序論 ............................................................................................................. 9  
1.1 研究動機與目的 ............................................................................................. 9  
1.2 研究目的 ....................................................................................................... 12  
1.3 文獻回顧 ....................................................................................................... 13  
第二章 使用線型 CCD及 DSP於三維測位器之開發.......................................... 15  
2.1 系統空間定位原理 ....................................................................................... 15  
2.2 系統機構設計 ............................................................................................... 16  
2.3 可調焦式移動機構設計................................................................................ 16  
2.4 整體視角範圍考量 ....................................................................................... 17  
2.5 系統電路架構 ............................................................................................... 18  
2.5.1 CCU(Central Control Unit)電路板.......................................................... 18  
2.5.2 CCD模組電路板.................................................................................... 21  
2.6 進階影像處理 ............................................................................................... 22  
第三章 人體運動追蹤器之校正與運動學推導 ..................................................... 26  
3.1 三維測位器之研製與 CCU電路板之改善 .................................................. 26  
3.1.1 CCU模組電路板之電路修改 ................................................................ 26  
3.1.2 CCU模組電路板之實驗測試 ................................................................ 30  
3.2 LED DRIVER電路板 ....................................................................................... 32  
3.3 校正平台的製作 ........................................................................................... 33  
3.3.1 扭曲校正................................................................................................ 33  
3.3.2 參數最佳化............................................................................................ 35  
3.4 攝影機方向伺服控制.................................................................................... 41  
3.4.1 硬體設備................................................................................................ 41  
3.4.2 控制原理................................................................................................ 47  
 V 
圖目錄 
 
圖 1-1 Honda ASIMO的舞蹈表演[2] ............................................................................10 
圖 1-2 Optotrak PROseries[3].........................................................................................10 
圖 1-3 VisualeyezTM VZ4000[4] .....................................................................................11 
圖 2-1光學定位幾何示意圖..........................................................................................16 
圖 2-2  可調焦式機構設計圖.......................................................................................17 
圖 2-3 CCD模組架設示意圖 ........................................................................................17 
圖 2-4 V2000可視範圍示意圖 ......................................................................................18 
圖 2-5 FX2的 FIFO架構...............................................................................................19 
圖 2-6 CCU電路板外觀 ................................................................................................20 
圖 2-7 CCU 電路板 block diagra..................................................................................20 
圖 2-8 新版 CCD模組電路板外觀 ...............................................................................21 
圖 2-9 CCD模組電路板之 block diagram .....................................................................22 
圖 2-10次像素擬合 .......................................................................................................23 
圖 2-11 1D Sobel Mask...................................................................................................23 
圖 2-12  Line Scan Image .............................................................................................24 
圖 2-13  1×3 Sobel Mask Process..................................................................................24 
圖 2-14 區域搜尋示意圖 ..............................................................................................25 
圖 3-1 多組Motion tracker 連線示意圖.......................................................................26 
圖 3-2 Logic diagram of SN75LBC978LDR...................................................................27 
圖 3-3 AL442B block diagram........................................................................................28 
圖 3-4新版 CCU板 block diagram...............................................................................29 
圖 3-5新版 CCU板電路板外觀....................................................................................29 
圖 3-6訊號比較實驗架構示意圖 ..................................................................................30 
圖 3-7同步訊號比較結果..............................................................................................31 
圖 3-8 RF無線模組實驗架構示意圖 ............................................................................31 
圖 3-9無線訊號比較結果..............................................................................................31 
圖 3-10 LED driver 電路板外觀....................................................................................32 
圖 3-11 LED driver block diagram..................................................................................33 
 VII 
圖 4-6 Slave非同步傳輸狀態機 ....................................................................................55 
圖 4-7 Hub 非同步傳輸狀態機 .....................................................................................56 
圖 4-8 非同步串列傳輸取像主流程 .............................................................................57 
圖 4-9 非同步串列傳輸資料傳遞時序圖 .....................................................................57 
圖 4-10 非同步串列傳輸 PC端程式流程圖................................................................58 
圖 4-11 非同步串列傳輸 USB程式流程圖 ..................................................................59 
圖 4-12 單組Motion tracker同步取像實驗架構圖 ......................................................61 
圖 4-13 同步取像測試結果(CCDA) .............................................................................61 
圖 4-14 同步取像測試結果(CCDB)..............................................................................61 
圖 4-15 同步取像測試結果(CCDC)..............................................................................62 
圖 4-16  Hub非同步傳輸狀態機 .................................................................................63 
圖 4-17 兩組 motion tracker同步取像實驗架構圖.......................................................64 
圖 4-18 兩組Motion tracker同步取像測試結果 ..........................................................65 
圖 4-19 二組運動追蹤器座標轉換示意圖....................................................................66 
圖 4-20 球座標形式之示意圖.......................................................................................68 
圖 5-1 上肢各軸之 D&H定義與配置 ..........................................................................71 
圖 5-2下肢座標軸與 D&H參數定義 ...........................................................................74 
圖 5-3 手指機構簡圖 ....................................................................................................77 
圖 5-4 拇指機構簡圖 ....................................................................................................79 
圖 5-5手套外觀 .............................................................................................................80 
圖 5-6 即時取像結果 ....................................................................................................80 
 
 9 
第一章  序論 
 
1.1  研究動機與目的 
運動追蹤器(Motion tracker)近年來已被廣泛應用於各種場合[1]：軍事工業方面，可以使用
在軍事模擬飛行上；醫學方面，主要是在電腦輔助外科手術上醫療儀器之追蹤；娛樂工業方
面，則是將運動追蹤器記錄下來的人體運動加在虛擬人物的動作上，使得虛擬人物的動作更
加栩栩如生。此外，在人因工學用來量測人體運動範圍與軌跡以設計各式日常使用物件及器
材，如汽車駕駛座與儀表版之配置，須讓各項操作按鈕與監視儀表均在駕駛人舉目可視及舉
手可得的範圍。舞蹈與體育方面，可用來記錄、分析以及糾正運動姿勢；電腦應用方面，建
立人機互動介面。這些不同用途之人體運動追蹤器雖然其量測範圍與精度要求都不大相同，
但是以光學式的運動追蹤器而言，其基本原理與構造均大致相同。然而由於用途不同，各具
有其特殊設計，並無一組設計可適用於任意不同應用範圍的運動追蹤器。 
本實驗室目前已開發人體掃描機，在人體點資料特徵搜尋與結構化之研究也進行多年，
已可以從人體掃描機所得到的人體點資料進行特徵搜尋，並且由得到的特徵點進行結構化的
處理，求得數位化的人體模型(digital human model)。如果配合一組人體運動追蹤器將一個受
測者的運動軌跡記錄下來，並且將此資料記錄成關節點的相對位置，如此一來就可以在電腦
裡使用數位人模來重現一個人的運動。除此之外，還能將任何人的靜態人體掃描機所得到的
特徵結構點套用於像王建民、郭泓志或其它明星的運動參數，便可體會一下自已以專家身手
投球的模樣。 
另外，基於人口老化的問題日趨嚴重，日本啟動了面向老齡化社會的機器人研究項目，
花了20年的時間，已經開發出可從事簡單清掃、鋪床和護理等工作的機器人。目前Honda的
ASIMO雖可跳舞[2] (如圖 1-1)，但跳舞動作需要長時間的人工編輯。將來機器人若要服務人
類，能做出人的動作是取代人類工作的第一步。因此如何方便地擷取人體運動，進而自動錄
製到人形機器人上，使其做出相同動作，是研發人形機器人不可或缺的重要步驟。本實驗室
目前也正致力於開發人形機器人，若再結合人體運動追蹤器之開發，希望未來能藉由一台人
形機器人來模仿人類的動作。 
 11 
 
圖 1-3 VisualeyezTM VZ4000[4] 
 
雖然三維的人體運動追蹤器已經被開發許久，但是目前人類肢體運動像一般舞蹈藝術與
體育訓練的數位化與典藏都停留在二維的視訊影像擷取與處理上，而人體運動的分析研究則
多為二維串流影像的特徵辨識，基本上是使用於安全監視與人機界面處理方面。對寶貴的人
體三維運動資訊，如雲門舞集的經典創作或太極拳法，無法像音樂的五線譜一樣可以將人體
運動予以記錄與典藏，進而可以將肢體運動進行較細膩的編修，創作出完美的動作。本計劃
針對人體三維運動資料的擷取與編碼典藏提出創新的方法。擬以二年期間，研發一套智慧型
的人體運動數位典藏系統，第一年進行三維光學測頭機構與電路的設計、製造，預期開發出
一組使用線型CCD內嵌DSP微處理器的光學測頭。由於人體運動位置至少需要每秒擷取30次
以上才稱得上是動態追蹤，因此所需擷取的資料量極大，非得使用內嵌式處理器以分散電腦
的負荷不可。第二年設計自動化的校正方法調校此測頭，再利用此研究成果再增加一個光學
測頭，成為雙測頭的三維運動追蹤器，並以主動式攝影機進行影像伺服追蹤之研究，使各測
頭可獨立擷取人體特徵標誌點，依據特徵點的分佈控制馬達將測頭轉向，讓雙測頭都能追蹤
人體的運動，不至失去運動中的目標，並發展主從式即時傳輸界面，將追蹤器的資料彙整與
一台，再由PC擷取所有追蹤器的資訊，如此，可僅使用一台筆記型電腦即可控制四台運動追
蹤器。同時也濾除多餘與重複的標誌點，並利用人體特徵推測被遮蔽點的方法，成為智慧型
人體運動追蹤系統。 
在應用層面的軟體方面，一般運動追蹤器僅能擷取有限幾個標記點的運動，其結果僅能
顯現該些標誌點的移動，無法顯現人身整體的運動情形。這是因為人體運動是整體協調的，
 13 
第二年：人體運動追蹤器之校正與運動學推導 
本計劃第二年主要研究目標為延續第一年的研究成果，除了規劃設計出一套自動化的校
正方法與設備外。另結合伺服控制(Servo Control)技術，將製作出的空間測位器發展成為真正
的人體運動追蹤器。由於該測位器的物距遠較焦距為大，其內部參數尺寸的正確與否影響三
維位置計算的準確性甚鉅。因此校正的品質的良寙攸關系統的精確度。此類光學系統的校正
程序相當繁複，包括 CCD輸出電壓準位校正、圓柱透鏡的扭曲校正、以及系統內部尺寸校正
等。 
在光學系統校正方面，我們應用一般二維攝影機鏡頭的扭曲值補償方法轉換成校正柱狀
透鏡扭曲值方法。並設計了一組校正平台以及驅動軟體來自動校正此運動追蹤器。然後使用
最佳化方法求出此量測系統的最佳內部尺寸參數以降低系統的誤差量。目前光學式的運動追
蹤器都是固定式的安裝，無法因為人體的運動而即時調整其視線方向，因此只能擷取固定範
圍的目標點，若人體移動超出測位器的可視範圍，那麼就無法即時追蹤目標了。我們預定將
該測位器裝於伺服馬達上，以線型 CCD擷取之亮點位置回饋控制馬達轉動測位器的視線，達
到真正能“追蹤”三維運動的功能。馬達的控制將交由 USB晶片裡的 8051 微處理器來進行。 
此外，再製作第二台人體運動追蹤器，以構成一組勉強可用的運動擷取系統。在軟體方
面，我們將應用這一組兩個運動追蹤器置於人體前、後方。將擷取的人體標誌點依據人體特
徵結構將標記點做位置校正的處理轉換至關節點上，再依據機器人反向運動學原理計算人體
主要關節的角度。 
 
1.3  文獻回顧 
人體運動追蹤系統是最近熱門的研究主題[5-7]，其中依照定位原理的不同，可分為機械
式、電磁式、光學式、超音波式以及慣性式等五種方式，其中又以光學式的研究最為熱門。
它可以應用在軍事模擬飛行、人機界面的控制、外科手術的導航，或製作遊戲動畫等應用。 
在三維定位方面，使用光學式計算三維空間點的方法有很多種，一般常見的是雙攝影機
法，另一種則是採用線型CCD。Schulz[8-11]以及Voronka[12]皆使用三台線型CCD做為感測元
件，以紅外線點光源當作標記點，配合柱狀透鏡的光軸構成平面，然後以三平面交於一點的
方式計算出空間點位置。 
在視覺系統之伺服控制部分，也是許多在控制、自動化、機器人學等研究領域之學者所
感興趣之課題[13-15]。Corke與Good[16]對於許多控制法則之優缺點進行討論，包括PID控制、
pole-placement 控制與前饋控制等，另外也對馬達伺服驅動之模式進行分析，以求達到高性
 15 
第二章  使用線型 CCD及 DSP於三維測位器之開發 
2    
本計劃欲發展一套光學式運動追蹤量測系統，系統設計分為電路、軟體與機構設計，電
路設計部分主要是感光元件的取像與資料的數位化和 PC 的介面溝通等等。軟體部分則是影
像資料的處理。機構設計部分則是將感光元件與透鏡組合在一起成為攝影機組，然後將攝影
機組組合成一台可量測空間點位置的運動追蹤器。其使用方法與進行步驟分述如後。 
 
2.1  系統空間定位原理 
使用光學式空間定位器主要分兩種方式：一種是使用雙攝影機的方法配合立體視覺之演
算法計算出空間點位置；另一種則使用三個線型 CCD配合透鏡光軸產生三個線性獨立的平面
以計算出空間點位置。本計劃所用的方法屬於後者。使用線型 CCD 優點為比起一般的 area 
CCD，它在一個維度上的像素較多；另外，相較於一般取像速度只有 30 frame/s的 area CCD，
線型 CCD的 data rate約在 250 lines/s~160k lines/s。因此對於高速取像的場合，線型 CCD是
較適用的。 
為了要獲得空間中三個維度的資料，需要使用三個線型 CCD才能達到空間定位目的。本
系統的空間定位原理為使用三個線性獨立的平面交集出一點。依據此原理，將三個線型 CCD
安排於適當位置，並使 CCD感光的峰值位置配合柱狀透鏡光軸產生三個線性獨立的平面，即
可計算出空間中的幾何位置，其幾何關係如下圖 2-1所示。 
在圖 2-1中，柱狀透鏡與線型 CCD 距離為柱狀透鏡的焦距，其中柱狀透鏡與線型 CCD
的擺置為兩兩互相垂直。如此一來，空間中的紅外光 LED經過柱狀透鏡的聚焦後投射在線型
CCD 上，接著藉由 CCD 模組電路板上的 DSP，計算出最亮點的座標。最後在 PC 端配合柱
狀透鏡的光軸方位，就可以計算出空間中紅外光 LED的位置。 
 17 
 
圖 2-2 可調焦式機構設計圖 
 
    先把線性攝影機固定在鋁擠型的末端，然後用手動的方式將透鏡調到對焦的位置，然後
再將自鎖螺絲鎖緊就完成對焦。 
 
2.4  整體視角範圍考量 
    機構設計首先需考量此量測系統的整體視角範圍，此運動追蹤器的視角範圍規劃是距離
量測儀器兩公尺的地方可以量測直徑為兩公尺的球狀或圓柱狀範圍。此運動追蹤器的機構長
度與視角範圍的距離有關，當整體機構長度越長，左右兩台 CCD其相對距離就越大，傾角也
隨之加大，越靠近運動追縱器其視角範圍也越大。優點是量測範圍加大，缺點是機構的長度
會加長。考量在兩公尺的距離具有直徑為兩公尺的球體積。 
本系統總共使用了三組 CCD模組，其架設如圖 2-3所示。其中，上下兩側的 CCD模組
向內側傾斜 11°，如此兩旁的 CCD 主宰縱向解析度；而中間的 CCD 主宰橫向解析度；最後
系統之取像橫向範圍為 2000 mm x 2339 mm，如圖 2-所示。 
 
圖 2-3 CCD模組架設示意圖 
 19 
是使用 GPIF的介面與外部的 FIFO連接，進行資料讀取的動作，因為外部 FIFO只有 8個輸
出腳位，於是採用 8 bits 的寬度來進行連接。 
由於在 FX2的資料是以定量且以封包的方式傳輸，所以它可以達到 480Mbps的速度。在
FX2資料的存取主要依靠三個區域來進行傳輸，它們分別是： 
1.USB domain  
2.8051 domain  
3.The interface domain 
另外，FX2 提供程式設計師二個處理緩衝區資料的方式，分別是 auto mode 及 manual 
mode。整個 FX2的 FIFO架構如圖 2-所示: 
 
 
圖 2-5 FX2的 FIFO架構 
 
為了達到高速傳輸之目的，本實驗室現階段使用 Auto Mode，控制 GPIF的主要訊號如下
表 2-1： 
表 2-1 GPIF的主要訊號 
FX2 GPIF signal Description 
IFCLK IFCLK 是 GPIF 的 CLK，它可以連接
外部的CLK (5-48 MHz)或是 8051內部
的 CLK (30 或 48 MHz) 
CTL 六個可程式的輸出訊號，連接到 FX2
的 128 pin其中六個腳位，作為控制外
部介面之腳位 
RDY 六個可程式的輸入訊號，連接到 FX2
的 128 pin其中六個腳位，作為接收外
部介面訊號之腳位 
 
需要外加記憶體才能解決 USB內部記憶體不足暫存本系統影像資料之困擾，使用的記憶
 21 
2.5.2    CCD模組電路板 
CCD模組電路板為本系統的感測模組，主要功能是控制線型 CCD的曝光；將 CCD的輸
出訊號做 AD轉換；計算出影像的峰值位置；並且將資料透過 CCU電路板傳到 PC端。其主
要電路包括一個線型 CCD、一個 AD以及 DSP。 
在線型 CCD的選用上，雖然較多的像素可以提升整個系統的空間解析度。但基於開發成
本之考量，選用 Sony ILX554B之 CCD，其有效 pixel數為 2048個 pixel，工作頻率為 2 MHz。 
由於只需要影像峰值的位置，所以在 CCD 模組電路板加入一個 DSP 進行影像處理以計
算出峰值的位置。我們選用的 DSP為 TI (Texas Instrument)的 TMS320F2810做為訊號處理之
核心。它具有快速的乘法硬體電路、兩組 PWM輸出以及 SPI介面(Serial Peripheral Interface)。
此 CCD模組電路板的外觀如圖 2-所示，圖 2-4則為其電路之 block diagram。 
 
 
圖 2-8 新版 CCD模組電路板外觀 
 
 23 
 
圖 2-5次像素擬合 
 
影像處理的最大目的是找出影像峰值，不同的擬合方式所得到的峰值位置也不盡相同，
以下提出幾種次像素的演算法： 
（1） 三點求拋物線頂點：這是一個最簡單的計算方式，首先搜尋出灰階值最大像素位置，
接著再選擇峰值左右各一點，可利用拋物線通式： 
cbxaxy ++= 2   （2.1） 
把三點帶入求解 a、b、c，可獲得拋物線方程式，再求拋物線頂點位置即為新的 peak
位置。除了峰值的點外，其餘兩點可設一個灰階門檻來取點，至於門檻的設定比較
沒一個標準，需要利用實驗的測試。 
（2） Sobel Mask + 三點拋物線擬合：我們在做拋物線擬合時最大的問題是該挑哪些點來擬
合，當然峰值一定是會被選取，那其它的兩點該如何選擇？在此我們可以先利用 1D 
Sobel Mask來尋找影像的邊界，本系統所取出來的影像均為單一峰值，也就是峰值兩
側各有一個邊界，Sobel的特性是找出斜率變化最大的點，把它視為邊界點，如此一來
我們把搜尋出來的邊界點來擬合拋物線，便可解決尋點的問題。一階 Sobel 的基本樣
式如圖 2-6： 
 
圖 2-6 1D Sobel Mask 
 25 
2. Sobel搜尋範圍：峰值左右各 20個像素； 
3. 浮點數型態：均設定為 32 bits長度的 Float type； 
4. 程式在 DSP之 H0（SARAM）區塊中執行； 
5. 設定 I/O的準位，並利用示波器來觀察計算時間。 
 
圖 2-9 區域搜尋示意圖 
 
表 2-2  各個演算法的計算時間 
3   Algorithm Time consuming 
Fitting a parabolic curve with three points 3.5μs 
Range Sobel (1×3) and fit a parabolic curve 14.0μs 
Range Sobel (1×5) and fit a parabolic curve 17.5μs 
Range Sobel (1×7) and fit a parabolic curve 20.0μs 
Range Sobel (1×3) and Centroid Method 19.5μs 
Range Sobel (1×5) and Centroid Method 25.0μs 
Range Sobel (1×7) and Centroid Method 28.5μs 
Chebyshev Polynomial with five points 20.0μs 
 27 
使訊號傳得更遠，更不易受雜訊干擾。在傳輸線的選擇上，選用具有抗干擾能力、
價格便宜等優點之網路線。 
因此，在新版的 CCU電路板加入了差動傳輸 IC，使 Slave連接到 Hub的連線距離可以
增加到五公尺以上。在差動傳輸 IC之選用上，為了節省新版 CCU電路板的使用面積，選擇
TI公司的 SN75LBC978DLR，它的邏輯圖如下圖 3-2。此 IC共有 9個 channel，並且可各別
控制為 driver或 receiver。由 data sheet可知，只要將 CE腳位設成’1’，WRAP1與WRAP2腳
位設成’0’，再依據需求設定即可。 
 
 
圖 3-2 Logic diagram of SN75LBC978LDR 
 
若要使用差動方式來傳遞訊號，直接使用舊版的 CCU模組電路板時將有些問題產生，以
下列出改善的辦法: 
1. 使用舊版的 CCU 電路板，因為 CPLD 的腳位不足，無法外接足夠的差動傳輸 IC，以滿
足 4組Motion tracker連接到 Hub之連線方式。 
2. 連接到差動傳輸 IC 的訊號傳輸是以 Single-ended 的方式傳輸，雖然僅經過一小段的距
離，但訊號也可能會有失真之問題。 
 29 
 
圖 3-4新版 CCU板 block diagram 
 
表 3-1新版 CCU模組電路板重要元件 
Component Description Manufacturer 
EMP3512AQC208-10 CPLD Altera 
AL422bPBF FIFO Averlogic 
CY7C68013A-128AC USB Cypress 
74ALVCH162244grg4 Buffer TI 
SN75LBC978DLR differential end IC TI 
TPS75633KTTT Voltage regulators IC TI 
SG8002JEPCB CPLD working clock source Epson 
 
 
圖 3-5新版 CCU板電路板外觀 
 31 
 
 
圖 3-7同步訊號比較結果 
 
  
ROGf
 
 
圖 3-8 RF無線模組實驗架構示意圖 
 
 
圖 3-9無線訊號比較結果 
 33 
圖 3-11 LED driver block diagram 
 
3.3  校正平台的製作 
3.3.1  扭曲校正 
此Motion Tracker主要的光學感測元件為線性 CCD與柱狀透鏡，藉由柱狀透鏡將光線聚
焦並投射在線性 CCD上，但也因為透鏡的使用而使得光線經過透鏡後並非沿著原來的路線前
進，造成影像扭曲的現象，如圖 3-12所示，光線因為透鏡的扭曲現象而落在非理想的位置P¢。 
 
P
P¢
 
圖 3-12  透鏡扭曲現象 
 
 35 
 
圖 3-14  透鏡扭曲校正資料處理流程 
 
3.3.2   參數最佳化 
本系統利用 Fletcher-Reeves 最佳化方法(Rao, 1996)將系統各參數最佳化，使得在計算 3D
空間位置時能夠得到較精確的結果，這個最佳方法為輸入此最佳化模型空間點之理論位置(理
想位置)，並比較利用新舊參數所計算出空間位置之結果，最後將參數調整至最佳的結果，其
流程如下圖 3-15所示。 
 
 
圖 3-15最佳化流程圖 
 37 
們利用兩個線性滑軌構成校正座標系的 X與 Y軸，如下圖 3-16 (左)，再建構一個校正塔，並
設置數個 LED於其上，作為校正座標系的 Z軸，如下圖 3-16 (右)，因此利用 V2000對此校
正座標系中的 LED取像，同時記錄下 LED的位置與各 CCD的 Peak pixel位置，分別儲存於
不同檔案中提供參數最佳化之數學模型使用。 
 
 
圖 3-16 線性滑軌(左)、校正塔(右) 
 
進行參數最佳化輸入數據取得之實驗硬體設備依下圖 3-17所架設，整個實驗設備是架在
光學桌上，此光學桌具備防震功能，因此在整個實驗過程可避免震動造成實驗有誤差，進行
實驗時Motion tracker與校正塔將會架設在光學桌的兩邊以達到 2000mm之取像距離，並同時
使滑軌長軸與Motion tracker平行，因此便能建構出校正座標系與Motion tracker座標系之關
係。 
 
圖 3-17 硬體架設圖 
 
 39 
-5 -5
x u x v x w
-5 -3
y u y v y w
-5 -4
z u z v z w
i i i j i k 0.999981 -1.649587e 4.567840e
j i j j j k  = -4.576872e -5.46297e 0.999985
k i k j k k 1.653074e 0.999999 -7.565011e
é ùé ù
ê úê ú
ê úê ú
ê úê úë û ë û
 (3-4) 
 
最後需要量測值的為兩座標軸之間的夾角誤差 Δ，其量測方式是利用一個形狀為直角三
角形之校正塊來求得此 Δ值，而步驟為:首先將校正塊放置於兩線性滑軌之間，再將校正塊之
短邊調整至此邊與線性滑軌的短軸平行，接著量測校正塊長邊兩端距離滑軌長軸之距離即可
求出夾角之誤差。參見下圖 3-19。 
 
 
圖 3-19 夾角誤差量測 
 
在求出長軸兩端距離線性滑軌長軸之距離後，因為校正塊長軸之長度已知，因此便可求
出兩軸之間的夾角誤差，最後利用這個夾角，對 X與 Y軸的移動作補償其方法如下圖 3-20，
如此一來便可以利用線性滑軌之光學尺讀值求到真實的位移。 
 
1 2
1tan
sin
cos
y yd d
a
X X Y
Y Y
q
q
q
-
D = -
Dæ ö= ç ÷
è ø
¢ = -
¢ =
 
圖 3-20 滑軌夾角誤差 
 41 
 
圖 3-22 實驗流程圖 
 
3.4  攝影機方向伺服控制 
3.4.1  硬體設備 
本設計使用了一個步進馬達來驅動整個旋轉座，但考慮若直接用馬達來驅動旋轉座，馬
達可以提供的扭力沒辦法達到需求，因此設計了一組 5：1的皮帶輪來提高馬達可以提供的扭
力，另外也將回授旋轉量的編碼器設置在此處，設置方法如圖 3-23，使用連結在馬達軸同軸
的內建編碼器作為系統的定位感測器，而編碼器與旋轉座的比例如同驅動步進馬達也設計成
5：1。而選用皮帶為了安靜因素，以及避免步進馬達在驅動整個系統的時皮帶輪發生滑移造
成定位不精準，因此使用 XL 型時規皮帶， 而皮帶輪組其中大皮帶輪的齒數使用 60 齒，小
的皮帶輪使用 12齒，另外為保持小皮帶輪與皮帶接觸的角度，因此在設計這皮帶輪組的時候
加上一個惰輪，將原本 90∘的接觸角提高超過 120∘，組裝完成後如圖 3-24所示。 
 
 43 
 
在設置完成旋轉座後，設計壓克力外蓋以保護旋轉座內部，並且將電源開關裝置在上面，
因為旋轉座的底部是設置電源系統以及電路板，會有大量的熱產生，因此在外蓋的兩側鑽通
風用的洞，並且給予一個向外抽風的風扇，構成主動式熱對流提高系統的散熱效率，如圖 3-26
所示。 
 
 
圖 3-26 旋轉座與運動追蹤器 
 
為了讓旋轉座可以穩定且安全的旋轉追蹤器，並且讓追蹤器旋轉時保持其旋轉軸平行系統
的 Z軸，因此另外在系統的頂部設置一個挾持機構，並用三條鋁擠型[1530平面型]作為支撐
挾持機構的支柱，參照圖 3-27。可以看到追蹤器垂直的架設在旋轉座上，並且在裝設時，旋
轉座、追蹤器、跟頂部挾持機構的旋轉軸是同軸的，以維持旋轉時的平順。 
 
 45 
的電源供應版，再提供馬達與追蹤器所需的電壓與訊號。 
 
 
圖 3-29 電源供應器 
 
又因為除了電源供應器可以提供的±12V、5V外，還需提供 3.3V給 CPLD、USB、與馬達
趨動 IC，此外追蹤器也需要±9V的電壓，於是在設計電源供應板時，便將這些考慮進來，另
外再將馬達控制板的電路整合在一起，以節省在旋轉座底部有限的空間，因此位於旋轉座底
部的這一塊整合版便具有，電源供應、馬達控制、以及限制開關…等功能。其擺放與設置方
式如圖 3-30，是將整合版固定在電源供應器上，再將兩個電源供應器並排固定在旋轉座底板
上。 
 
 
圖 3-30 電源裝配圖 
 
在電源、馬達控制板上利用馬達控制 IC，將 CPLD 的馬達控制訊號轉換成可以推動步進
馬達的步階訊號。而控制馬達需要提供馬達三種訊號，分別為 STEP、DIR、EN，其中 STEP
 47 
 
圖 3-32 系統資料流動圖 
 
在 CPLD 裡面是利用 VHDL 撰寫其程式，而在本計劃中主要的工作就是讀取旋轉座中編
碼器的資料用來定位，其中只要有訊號回傳，會檢查其致能，通過後會判斷編碼器回傳的旋
轉方向以及次數，就對計數器加或減的動作並記錄下數值。 
當需要知道馬達究竟轉了多少角度，只要透過 USB從 CPLD中把其中儲存的數字抓出來
再作計算即可。例如使用 2000數的編碼器，因此只要在 CPLD中計數了 500數，就代表馬達
轉了 90∘，同理想要知道旋轉座旋轉的實際角度，只要加上皮帶的轉速比就能求得。另外
USB除了抓取計數器之數目外，還要傳送控制馬達的訊號給 CPLD，再由 CPLD傳給馬達控
制 IC A3977。 
在 PC端則是用 VC++做程式撰寫的語言，因為電腦端必須提供給硬體 STEP、DIR、EN，
因此在程式中就必須將常用的單位與控制馬達所需的資訊做換算，例如習慣旋轉的單位是
“度”而在控制馬達則無法直接命令馬達旋轉幾度，只能命令其移動幾個脈波。藉由利用馬達
旋轉一圈需要 1600數，因此就有 1600數轉 360∘的關係，就可以更直覺的控制馬達，整個
介面將會更為人性化，使用者操作與控制也會更加方便容易。 
 
3.4.2   控制原理 
 
 49 
判斷出來，在與 CCD中心位置比較，若是這點在 CCD中心左方，整個系統就順時針旋轉，
將參考點修正至 CCD中央位置，讓所有的點可以都儘量落在 CCD的中央位置，因為在 CCD
的中央位置的準確度較高，如此一來系統的穩定度便能提升，參見圖 3-35。 
 
 
圖 3-35 電腦端控制程式介面 
 
且本系統利用 C 語言撰寫一個視窗控制程式如上圖 3-35，利用此程式作為人與系統的溝
通介面，藉由該介面使用者可以發出命令，命令 Motion Tracker 開始進行追蹤，而主流程如
下圖 3-36，當使用者開始追蹤的動作，PC端會透過 USB對 CPLD進行觸發，當 CPLD被觸
發的同時 CCD模組將會開始取像，同時 CPLD會命令旋轉模組之馬達旋轉同時紀錄 encoder
之值，當 CCD 模組完成取像，馬上將資料與 encoder 值包成同一封包，透過 USB 傳回電腦
進行運算，在 PC端的程式會計算出以Motion Tracker座標係為準的標誌點位置，且判斷旋轉
座的旋轉模式，於下一取像週期控制旋轉模組之馬達運動。 
 
 51 
第四章  多組Motion tracker之連線架構 
4    
4.1  多組Motion tracker之連線架構 
使用兩組以上的Motion tracker進行運動追蹤會產生幾個問題：第一個是如何讓兩組以上
的Motion tracker能夠同步取像；第二個則是如何將每一組Motion tracker的資料傳回電腦並
進行處理。 
基於這兩個問題，所採取之做法如圖 4-1所示。我們將一個 CCU電路板當作 Hub並將每
一組Motion tracker接上此 Hub，所有 CCD模組的工作時脈都由此 Hub產生，且控制紅外光
LED燈閃滅的同步訊號也是由此 Hub透過 RF模組傳輸。如此一來就能讓多組的人體運動追
蹤系統與 LED燈同步取像。 
在資料的傳輸上，乃使用此 Hub以 USB連接到電腦上，並將各組 CCD模組的資料傳到
PC上。這個方法僅使用一個 USB裝置，將資料傳到電腦的時序規劃上也較為簡單。 
 
4.2  Hub與 Slave之間的資料傳輸 
從上一節敘述可知，本系統的資料傳輸方式是用一個 CCU電路版當作 Hub，再由此 Hub
與Motion tracker上的 CCU進行連接。在此暫將Motion tracker上的 CCU電路板稱為 Slave。
於本節將提出 Hub與 Slave間資料的傳輸方式。 
一般傳輸的方式有分串列傳輸與並列傳輸。並列傳輸在傳送端與接收端之間有很多個傳
輸線，於同一個時段下傳送端可以傳送多個位元到接收端，即每個傳輸線傳送一個位元。並
列傳輸的示意圖如圖 4-2。 
串列傳輸在傳送端與接收端僅使用一個傳輸線，也就是傳送端在同一個時段下只傳送一
個位元到接收端，於是具有傳輸線少以及容易防止雜訊干擾的優點。所以這個方式比較適合
在遠距離傳輸上。串列傳輸的示意圖如圖 4-3: 
 53 
 
 
圖 4-4 SPI傳輸介面 
 
同步串列傳輸在傳送的過程中，整個資料區塊以連續位元流方式傳送，但因為同步傳輸
的單位是資料框，故位元錯誤的機率會較大，在錯誤的控制上也需要較複雜的偵錯方法。非
同步傳輸以較低的速度傳輸字元區塊，為了確定能準確接收到，在每個字元都會被開始位元
及結束位元包住，以確定有效傳輸，因此錯誤率較低。非同步傳輸的傳輸型式眾多，包括
RS-232、RS485/RS422等。 
由於 Hub與 Slave 之間需要經過長距離的傳輸，在第二章已經提出使用差動的方式以減
少訊號衰減之問題，為了減少Hub與 Slave之間腳位的使用以及資料的正確性，在Hub與 Slave
之間的傳輸方式則採用串列非同步傳輸(UART)方法。非同步傳輸的示意圖如圖 4-5所示。在
每次傳送的開始，傳送端都會傳送一個起始位元到接收端，如果此起始位元沒有維持 4 個工
作週期，則會斷定此低電位訊號為雜訊；如果此起始位元有維持 4 個工作週期，則以後每 8
個工作週期會取樣一次資料訊號線，在接收完預定的傳送資料後即完成一次的資料傳輸。 
 
 
圖 4-5串列傳輸取樣示意圖 
 
在資料的傳送過程中，是由 Slave傳送到 Hub端，由於一個 CCD峰值位置是以一個 float
來表示，三個 CCD的峰值位置加上Motion tracker旋轉座的位置共需 128bits。由於考慮到未
來要連接四組Motion tracker的關係，而且每次的傳送過程都是將資料暫存到 Hub端的 CPLD
再依序寫入 FIFO，所以將每一台Motion tracker傳送 128 bits的過程分成 4次，每次僅傳送
32 bits。 
 55 
 
Idle
DSP_TRG=’1'
sync
BCLK↑
Start =’1'
Transfer_data
BCLK↑
CNT32=32?
Shift_Data=1
In128=1
In32=1
N
Y
Y
N
N
CNT128=?
Y
sync2
Clr32=1
End bit=1
Hub_RST=1?
Y
N
Clr32=1
Clr128=1
128
32 64 96
Load CCD B Load CCD C Load Encoder
Load CCD A
 
圖 4-6 Slave非同步傳輸狀態機 
 
 57 
Start
User press start button
PC sends a start signal to USB
CPLD in hub sends a start signal 
to  CPLD in Slave_1
USB sends a start signal 
to  CPLD in hub
 CPLD in Slave_1 sends a start 
signal to DSPs
DSPs send a peak  to CPLD in 
Slave_1
 CPLD in Slave_1 sends a peak to 
the CPLD in hub in UART mode
Hub sends 32 peaks?
 CPLD in hub 
 sends a end signal to USB
The CPLD in hub sends a peak to 
FIFO
USB sends data from FIFO to PC
PC displays the peak positions
End
Yes
No
 
圖 4-8 非同步串列傳輸取像主流程 
 
 
 
圖 4-9非同步串列傳輸資料傳遞時序圖 
 59 
Start
Set all pins to initial values
EP2OUT buffer 
is not empty?
Idle
Send start signal to CPLD in hub 
(IOC_0)
Wait for EXTFIFO
 to be not empty
Wait for GPIF interface
 to be idle
GPIF interface is idle?
Wait for EP6 FIFO 
to be not full
Set up data transfer amount 
EP6 FIFO is not full?
Set up flow state registers 
for FIFO read operation
Send data to PC from FIFO
Transfer complete?
Yes
Yes
Yes
No
No
No
No
Yes
Yes
Send RRST signal to CPLD in 
hub (IOC_1)
EXTFIFO is 
not empty?
No
 
圖4-11 非同步串列傳輸USB程式流程圖 
 61 
 
圖 4-12 單組Motion tracker同步取像實驗架構圖 
 
實驗結果如圖 4-13 ~圖 4-15所示: 
CCDA
marker position
0 5 10 15 20 25 30 35
Pe
ak
 p
os
iti
on
(p
ix
el
)
0
500
1000
1500
2000
2500
3000
 
圖 4-13 同步取像測試結果(CCDA) 
 
CCDB
marker position
0 5 10 15 20 25 30 35
Pe
ak
 p
os
iti
on
(p
ix
el
)
0
500
1000
1500
2000
2500
3000
 
圖 4-14 同步取像測試結果(CCDB) 
 63 
 
圖 4-16  Hub非同步傳輸狀態機 
 65 
CCDA1
marker position
0 5 10 15 20 25 30 35
P
ea
k 
po
si
tio
n(
pi
xe
l)
0
500
1000
1500
2000
2500
3000
CCDB1
marker position
0 5 10 15 20 25 30 35
P
ea
k 
po
si
tio
n(
pi
xe
l)
0
500
1000
1500
2000
2500
3000
CCDC1
marker position
0 5 10 15 20 25 30 35
P
ea
k 
po
si
tio
n(
pi
xe
l)
0
500
1000
1500
2000
2500
3000
CCDA2
marker position
0 5 10 15 20 25 30 35
P
ea
k 
po
si
tio
n(
pi
xe
l)
0
500
1000
1500
2000
2500
3000
CCDB2
marker position
0 5 10 15 20 25 30 35
P
ea
k 
po
si
tio
n(
pi
xe
l)
0
500
1000
1500
2000
2500
3000
CCDC2
marker position
0 5 10 15 20 25 30 35
P
ea
k 
po
si
tio
n(
pi
xe
l)
0
500
1000
1500
2000
2500
3000
 
圖 4-18 兩組Motion tracker同步取像測試結果 
 
4.5  運動追蹤器間的座標轉換 
為了要減少運動追蹤器看不到標誌點的位置，所以在進行人體運動追蹤時需加入二台以
上之運動追蹤器。每一組運動追蹤器都有各自的原點座標來計算空間的點位置，即對於空間
中同一個點，每一組運動追蹤器所計算的點位置會不相同。首先，選擇其中一台攝影機的座
標系統作為基準，計算每台運動追蹤器座標系相對於基準座標系間之座標轉換矩陣。接著，
藉由轉換矩陣的關係，可以將其它組的運動追蹤器對正到基準座標系之座標位置。計算兩台
運動追蹤器的轉換矩陣說明如下: 
如圖 4-19所示，將 LED燈放在兩組運動追蹤器都可以觀測到的位置上，藉由每組運動
 67 
再計算(3-2)式與(3-3)式的向量外積即可求得 Zr方向向量為: 
),,(
),,(
333
'
211
'
21
'
2
'
21
'
211
'
23121
cba
babacacacbcbPPPPZ r
=
---=´º
 (4-4) 
最後再依照右手定則便能求得 Yr的方向向量為 
),,(
),,(
222
311313313113
cba
babacacacbcbXZY rrr
=
---=´º
 (4-5) 
總結上述，可得知參考座標系相對於基準座標系的三個方向向量，就能計算出相對於基
準座標系的轉換矩陣 S 
ú
ú
ú
ú
ú
ú
ú
ú
ú
û
ù
ê
ê
ê
ê
ê
ê
ê
ê
ê
ë
é
=
1000
1
321
1
321
1
321
z
Z
c
Y
c
X
c
y
Z
b
Y
b
X
b
x
Z
a
Y
a
X
a
S
rrr
rrr
rrr
 (4-6) 
依照以上步驟，得以計算出參考座標系統相對於轉換座標系統的轉換矩陣 G。則轉換座
標系統相對於基準座標系統的轉換矩陣 Z則表示如下: 
1-= SGZ  (4-7) 
於理想情況下，如果二組運動追蹤器能精確求得空間點座標，便能可以利用兩不同座標
系之三個資料點計算出轉換矩陣 Z。但是，實際上由於系統校正參數誤差會影響計算轉換矩
陣 Z的結果，故在此我們需要利用較多的空間點數來平均轉換矩陣誤差。計算平均轉換矩陣
的公式如下: 
二組運動追蹤器可以同時感測到之空間點數為 32個點以下，由此可以計算出 n組轉換座
標系相對於基準座標系的轉換矩陣 
ú
ú
ú
ú
û
ù
ê
ê
ê
ê
ë
é
=
1000
i
z
i
z
i
z
i
z
i
y
i
y
i
y
i
y
i
x
i
x
i
x
i
x
i
ofed
ofed
ofed
Z
, 
ni ,,2,1 L=  (4-8) 
 69 
 同理，可計算Y 軸方向的單位向量 'er 為 
( )'''' ,, zyx eeee =r   (4-14) 
 利用向量外積計算其最終Z軸單位向量及Y 軸單位向量，以確保各軸間具有相互垂直之
特性，其表示式如下： 
 
''
yzzyx ededf -=  
''
zxxzy ededf -=   (4-15) 
 
''
xyyxz ededf -=  
zyyzx fdfde -=  
 xzzxy fdfde -=          
 yxxyz fdfde -=  
 最後，可以求得最終的平均轉換矩陣 
ú
ú
ú
ú
ú
û
ù
ê
ê
ê
ê
ê
ë
é
=
1000
zzzz
yyyy
xxxx
i
ofed
ofed
ofed
Z  (4-16) 
 
 71 
 
圖 5-1上肢各軸之 D&H定義與配置 
 
D＆H法定義： 
1. 第 n桿上的座標原點設定在第 n軸與第 n+1軸之公垂線和第 n+1軸的交點。 
2. 第 n桿上的 Z軸(Zn)乃沿著第 n+1軸的方向。 
3. Xn的方向由 Zn-1×Zn決定。 
4. Yn由 Xn與 Zn以右手定則決定。 
5. 最後一桿的座標框原點與其前一桿座標框原點重合。 
建立作標系統後，連桿參數則定義為： 
θn：Xn-1繞 Zn-1至與 Xn平行的角度。 
rn：第 n-1軸與第 n軸之公垂線沿 Zn-1至第 n軸與第 n+1軸公垂線距離。 
an：沿 Xn，第 n軸與第 n+1軸的公垂線長。 
αn：Zn-1與 Zn的夾角。 
nU ＝
n n
n n
cos -sin 0
sin cos 0
0 0 1
q q
q q
é ù
ê ú
ê ú
ê úë û
表對 Z軸旋轉的轉換式。 
 73 
2 2
2 21
2
cos 0 sin 0
sin 0 cos 0
0 1 0 0
0 0 0 1
q q
q q
é ù
ê ú-ê úA =
ê ú
ê ú
ë û
 (5-4) 
 
3 3
3 32
3
3
cos 0 sin 0
sin 0 cos 0
0 1 0
0 0 0 1
r
q q
q q
é ù
ê ú-ê úA =
ê ú
ê ú
ë û
 (5-5) 
 
4 4
4 43
4
cos 0 sin 0
sin 0 cos 0
0 1 0 0
0 0 0 1
q q
q q
é ù
ê ú-ê úA =
ê ú
ê ú
ë û
 (5-6) 
 
5 5
5 54
5
5
cos 0 sin 0
sin 0 cos 0
0 1 0
0 0 0 1
r
q q
q q
é ù
ê ú-ê úA =
ê ú
ê ú
ë û
 (5-7) 
 
6 6
6 65
6
cos 0 sin 0
sin 0 cos 0
0 1 0 0
0 0 0 1
q q
q q
é ù
ê ú-ê úA =
ê ú
ê ú
ë û
 (5-8) 
 
7 7
7 76
7
cos 0 sin 0
sin 0 cos 0
0 1 0 0
0 0 0 1
q q
q q
é ù
ê ú-ê úA =
ê ú
ê ú
ë û
 (5-9) 
 
 75 
依照圖 5-2可歸納出表 5-3。由於本機構各軸皆為旋轉對，因此 θ皆為變數，其餘參數
則皆為常數，因此依照該表便能簡單的找到各桿座標系之間的轉換矩陣。 
 
表 5-3 各軸 D&H參數 
link ai ri αi θi 
1 0 0 90° θ1 
2 0 0 α2° θ2 
3 0 r3 α3° θ3 
4 0 0 α4° θ4 
5 0 r5 α5° θ5 
6 0 0 90° θ6 
7 a7 0 90° θ7 
8 0 0 0° θ8 
 
    由程式計算出其初始位置之 D&H參數如表二所示。 
 
0 0 1 2 3 4 5 6 7 8
1 2 3 4 5 6 7 8=P A A A A A A A A P  (5-11) 
 
1 1
1 10
1
1 1
cos 0 sin 0
sin 0 cos 0
0 sin cos 0
0 0 0 1
q q
q q
a a
é ù
ê ú-ê úA =
ê ú
ê ú
ë û
 (5-12) 
 
2 2 2 2 2
2 2 2 2 21
2
2 2
cos sin cos sin sin 0
sin cos cos cos sin 0
0 sin cos 0
0 0 0 1
q q a q a
q q a q a
a a
-é ù
ê ú-ê úA =
ê ú
ê ú
ë û
 (5-13) 
 
 77 
8
0
0
0
1
é ù
ê ú
ê ú=
ê ú
ê ú
ë û
P  (5-20) 
 
手指的部分分為手指以及拇指兩個部分討論，手指的部分則包含食指、中指、無名指、
小指。手指的第一軸定在手指與手掌相連處，為矢狀面與橫切面之交線，第二軸則為矢狀面
與冠狀面之交線，第三與第四軸則與第二軸平行，其機構簡圖如下圖 5-3 所示，由該圖可推
出 D&H表，進而推導出屬於手指之順向解。 
 
a2
2
3
4
1
a4
a3
θ2
θ3
θ4
z3
z4
z1
y4
x4
x3
z2
x2
x1
y3
y2
y1
D-H Table of the finger
 
圖 5-3 手指機構簡圖 
 
下式(5-21)~(5-26)為相關的方程式，式子(5-21)代表末端點 4P於世界座標系之位置(0P)，
而其中旋轉平移矩陣如下式(5-22)~(5-25)所示，依照此關係便能得到手指座標系與世界座標系
的轉換關係。 
 
0 0 1 2 3 4
1 2 3 4=P A A A A P  (5-21) 
 
 79 
a22
3
4
1
a4
a3
θ2
θ3
θ4
z3
z4
z1
y4
x4
x3
z2
x2
x1
y3
y2
y1
α1
D-H Table of the thumb
 
圖 5-4 拇指機構簡圖 
 
5.2  單機實驗測試 
為了測試系統即時取像與繪圖的能力，本實驗以一組運動追蹤器來追蹤人體掌部的運動。為
了追蹤掌部運動，本實驗室另行製作一組追蹤手套，此手套上有放置 24個 LED 燈以確保掌
部各關節的位置，手套外觀如圖 5-5所示。 
 
 81 
第六章  結論與建議 
6    
6.1研究成果 
本研究主要建立一套光學式人體運動追蹤系統，具體的研究成果如下: 
第一年：使用線型 CCD及 DSP於三維測位器之開發 
( 
一) 人體運動追蹤器之系統分析與規劃 
(二) 光學系統之設計、製造、與組裝 
(三) 機械結構之設計、製造、與組裝 
(四) CPLD+USB電路系統之設計與製造，包括韌體程式撰寫與測試 
(五) 線型 CCD+DSP電路板之設計與製造，包括韌體程式撰寫與測試 
(六) 進階影像處理以次素像法尋找影像尖峰值，包括韌體程式撰寫與測試 
第二年：人體運動追蹤器之校正與運動學推導 
(一) 自動化校正平台的製作與第二台三維測位器之研製 
(二) LED Driver之設計製作，包括韌體程式撰寫與測試 
(三) 攝影機方向伺服控制，包括韌體程式撰寫與測試 
(四) 雙機座標轉換 
(五) 雙機實驗測試 
(六) 完成人體模型之逆向與順向運動學之推導 
 
6.2 討論與建議 
目前此研究已經可以由單組 Motion tracker 以主從式的架構同步記錄標誌點之空間位
置。此外各台Motion tracker設計置有旋轉座來防止受測者超出系統視角範圍，最後在螢幕上
繪製出標誌點的位置。本研究最終目的是以四組環繞人體的運動追蹤器實際進行人體運動的
擷取。並進行人體運動的編碼，為了要達成以上目的還有幾點問題需要克服： 
1. 為了避免 motion tracker傳到 Hub之間的資料傳輸錯誤問題。在這個傳輸過程中加入資料
檢查，勢必能減少資料傳輸錯誤的情形，而同位元檢查法是一種最常見的資料檢查方法。 
2.  Windows 系統非真正即時作業系統，一般狀態下最佳的反應時間約為10ms，如果作業系
統有其它事件要處理則反應時間會更差，如此一來要將人體的網格資料即時繪製在螢幕
 83 
參考文獻 
7    
[1] Welch, G. and E. Foxlin, "Motion tracking: no silver bullet, but a respectable arsenal". 
Computer Graphics and Applications, IEEE, 2002. 22(6): pp. 24-38. 
[2] Honda Motor Co. Ltd, "ASIMO". http://world.honda.com/ASIMO. 2007. 
[3] Northern Digital Inc., “Optotrak Certus” , http://www.ndigital.com , 2007. 
[4] Phoenix Technologies Inc., “Visualeyez” , http://www.ptiphoenix.com/ , 2007. 
[5] Wang, L., Hu, W., Tan, T., “Recent developments in human motion analysis,” Pattern 
Recognition 36 (2003) 585 – 601. 
[6]  Aggarwal, J.K., Cai, Q., “Human motion analysis: a review,” Computer Vision & Image 
Understanding 73 (3) (1999) 428–440. 
[7] Moeslund, T.B., Granum, E., “A survey of computer vision-based human motion capture,” 
Comput. Vision Image Understanding 81(3) 231–268(2001). 
[8] Schulz W. A., “Method and Apparatus for Three-Dimensional Non-Contact Shape Sensing,” 
US Patent, No. 5198877, March 30, 1993. 
[9] Schulz W. A., “Apparatus for determining the position and orientation of an invasive portion of 
a probe inside a three-dimensional body,” US Patent, No. 5622170, April 22, 1997. 
[10] Schulz W. A., “System for locating relative positions of objects in three dimensional space,” 
US Patent, No. 5920395, July 6, 1999. 
[11] Schulz W. A., “Determination of the position and orientation of at least one object in space,” 
US Patent, No. 6442416, August 27, 2002. 
[12] Voronka, “Optical Body Tracker,” US Patent, No. 6801637, October 5, 2004. 
[13] Papanikolopoulos, N., P. K. Khosla and T. Kanade, “Vision and Control 
Techniques for Robotic Visual Tracking,” Proceedings of the IEEE International Conference on 
Robotics and Automation, pp. 857-864, 1991. 
[14] Corke, P. I., and Good, M. C., “Dynamic Effects in High-PerformanceVisual Servoing,” 
Proceedings of the IEEE International Conference on Robotics and Automation, pp. 1838-1843, 
1992. 
[15] Papanikolopoulos, N. P., and Khosla, P. K., “Adaptive Robotic Visual 
 85 
[33] Texas Instruments Technical Staff, TMS320C28x Optimizing C/C++ Compiler User’s Guide, 
Texas Instruments, August 2001. 
[34] Texas Instruments Technical Staff, Running an Application from Internal Flash Memory on the 
TMS320F281x DSP, Texas Instruments, January 2004. 
[35] Inacio, C., and Ombres, D., “The DSP decision: fixed point or floating,”IEEE, Spectrum, Vol. 
33, Issue: 9, pp. 72-74, September 1996. 
[36] Jersak, M., and Willems, M., “Fixed-Point Extended C Compiler Allows More Efficient 
High-Level Programming of Fixed-Point DSPs,” Proc. Of ICSPAT 98, Toronto, October 1998. 
[37] 劉永欽，PC-Based 嵌入式即時多工控制系統，工研院機械所。 
[38] Barr, M., Programming Embedded Systems in C and C++, Oreilly, 2000. 
[39] Fischer, J., and Radil, T., “DSP based measuring line-scan CCD camera, ”Proceedings of the 
Second IEEE International Workshop on Intelligent Data Acquisition and Advanced 
Computing Systems: Technology and Applications, pp. 345-348, September 8-10, 2003. 
[40] Stojanovic, R., and Karayanis, G., “Acquisition and control of linear CCD sensors using an 
EPP interface,” Meas. Sci. Technol. 11 No 5, pp. 81-84, May 2000. 
[41] Haralick, R. M., “Digital step edges from zero crossing of second directional derivates,” IEEE 
Transcation on Pattern Analysis and Machine Intelligence, Vol. PAMI-6, pp. 58-68, 1984. 
[42] Ji, Q., and Haralick, R. M., “Efficient facet edge detection and quantitative performance 
evaluation,” Pattern Recognition, Vol. 35, Issue: 3, pp 689-700, March 2002. 
[43] Kenneth W., and Tobin, Jr., “Intelligent High Sensitivity CCD Line Scan Camera with 
embedded Image Processing algorithms,” Machine Vision Applications in Industrial Inspection 
VIII, Proc. SPIE, Vol. 3966, pp. 40-47, March 2000. 
[44] Hussmann, S., and Ho, T. H., “A high-speed subpixel edge detector implementation inside a 
FPGA,” Real-Time Imaging, Vol. 9, Issue: 5, pp. 361-368, October 2003. 
[45] Baba, M., and Ohtani, K., “A novel subpixel edge detection system for dimension measurement 
and object localization using an analogue based approach,” Journal of Optics A: Pure and 
applied optics, pp. 276-283, July 2001. 
[46] Li, Y. S., and Young, T. Y., “Subpixel edge detection and estimation with a 
microprocessor-controlled line scan camera,” IEEE Transactions on Industrial Electronics, Vol. 
35, Issue: 1, pp. 105-112, February 1988. 
可供推廣之研發成果資料表 
▉ 可申請專利  ▉可技術移轉                                      日期：96 年 10 月 31 日 
國科會補助計畫 
計畫名稱：人體運動擷取與數位編碼系統之研究 
計畫主持人：蔡明俊         
計畫編號：NSC 95-2221-E-006-299 學門領域：生產自動化技術 
技術/創作名稱 三維位置即時追蹤方法 
發明人/創作人 蔡明俊、陳侑群、呂宗翰 
中文：本計劃開發一套人體三維運動資料之擷取系統。首先進行三
維光學測頭機構與電路的設計、製造，並設計自動化的校正方法調
校此測頭。為了避免遮蔽問題，再增加一個光學測頭，成為雙測頭
的三維運動追蹤器，並以馬達控制主動式攝影機將測頭轉向，讓雙
測頭都能追蹤人體的運動，不至失去運動中的目標。 
技術說明 英文：This project developed a smart body motion tracking system. A 
rotatable optical system including the mechanism and the circuit board 
was first designed. An automatic calibrate method was established for 
the motion tracker. To avoid the hidden marker problem, the system 
was expanded into two sets, both can trace simultaneously. Finally, a 
vision servo algorithm is developed to trace the human motion. 
可利用之產業 
及 
可開發之產品 
人因工程、醫學、體育、動畫及娛樂產業。 
技術特點 
可從任何具有 USB 界面的 PC 進行標誌點的動態擷取。 
使用 DSP 進行影像處理，精度能達到次素像精確。 
以馬達控制主動式攝影機將測頭轉向，讓攝影機能追蹤人體的運
動。 
推廣及運用的價值 
特別針對人體運動，可進行三維標誌點的動態追蹤。 
※ 1.每項研發成果請填寫一式二份，一份隨成果報告送繳本會，一份送 貴單位
研發成果推廣單位（如技術移轉中心）。 
※ 2.本項研發成果若尚未申請專利，請勿揭露可申請專利之主要內容。 
※ 3.本表若不敷使用，請自行影印使用。 
上次第 11 屆大會由中國天津主辦，由於中共的刁難，台灣學者與會時皆被要求更改國
號，最後沒有人成行。反觀此次由台灣學者發表的論文篇數超過 25 篇，佔全大會前五
名，在大會上還備受表揚。可見我國在這領域多年來的研究努力，已獲國際學界的肯定。
希望下次舉行，亦能有傑出的表現。另外，大會並改選主席及各項技術委員會的主任委
員。上兩屆臨任的主席美國史丹福大學的 Dr. Kenneth Waldron 卸任，由義大利的 Marco 
Ceccarelli 當選。Marco 為原祕書長，對我極為友好，亦曾受邀來台訪問與演講。新副
會長為日本 Yoshihiko Nakamura (Tokyo Univ.)。 
二､與會心得 
 此次參加會議，我們更深入了解今日機構學及機器原理方面的研發成果。會期中並
能與同領域之諸國際知名學者作深入的交談，獲益匪淺。另外本次法國所舉辦之會議，
由於行政工作縝密及時間控制恰當，故會議議場秩序良好。若本國籌辦類似大型國際會
議當引為借鏡。另外由於會議是四年一次的大會，累積數年的研究成果導致參與的人數
及場次太多，無法分身兼顧同時並行的演講，是為遺憾。我們並與一些學者私下討論利
用電腦網路開國際會議或者是改為兩年一次會議的可行性。 
三､參觀活動 
 到歐洲的法國難免要參觀文化古蹟與歐洲風情，這次大會並安排了到城內大學及附
近研究機關與及酒鄉參訪，由於場內有許多並行舉行，去聽都來不及了，故都沒有去參
加。另外在會議會場中有數個軟體與新書籍的展示。 
四､建議 
 國科會自從改採機票上限補助方式後，在行程安排及旅行社選擇方面相當方便應繼
續執行。 
五､攜回資料名稱及內容 
 本次帶回了大會的 Proceedings 共光碟一份，其內容為五百餘篇發表的論文。 
 
六、其他 
發表論文如附。 
 
12th IFToMM World Congress, Besançon (France), June18 − 21, 2007                                         CK − xxx 
 
 
2
Consider a planar revolute joint consisting of a pin 
attached to the ith link that turns in a hole on the jth link. 
The pin is then confined to contact the inside circle of the 
hole under the resultant force. It is convenient to assume 
that the center points of two pairing elements are 
connected by an equivalent joint clearance link (EJCL) r 
so that the theoretical analysis based on ideal joints can be 
applied to the actual mechanism with joint clearance [5, 
10]. Under the influence of applied wrench, we may 
safely assume a constant contact between the pin and hole 
in a joint. The length of the equivalent clearance link will 
be equal to one half of the joint clearance [5], as shown in 
Fig. 1. The EJCL behaves similar to a real link except that 
it can only bear a tension force. When the transmission 
force becomes compressive, it just suddenly turns 180 
degrees so that it still under tension force. This is called 
the jumping position of a realistic joint. 
i-link j-link
r
 
 
Fig. 1. Equivalent joint clearance link (EJCL) 
 
B. Reciprocal Screw  
The motion characteristics of a mechanism can be 
described by a screw. A screw is mathematically regarded 
as a 1×6 row vector, known as Plücker coordinates [17]: 
 
＄ ＝ (L, M, N; P*, Q*, R*) (1) 
Where the real part (L, M, N) is the direction ratio of 
the screw axis; the dual part (P*, Q*, R*) is the resultant 
moment of the screw about the origin.  
The screw axis is a line represented by 
＄ ＝ (L, M, N; P, Q, R) (2) 
Where P = P* − hL; Q = Q* − hM; R = R* − hN.  
A line is a screw of zero pitch. In kinematics, a zero 
pitch screw represents a revolute joint, whereas an infinite 
pitch screw represents a prismatic joint. In statics, a force 
is a wrench of zero pitch; and a couple is a wrench of 
infinite pitch.  
Let a transmission wrench screw (TWS) Sw = (F; T) 
= (Lw, Mw, Nw; Pw*, Qw*, Rw*) acting on a rigid body and 
$t = (ω; V) = (Lt , Mt, Nt; Pt*, Qt*, Rt*) represents the joint 
twist screw (JTS) of the body. Where F and T represent 
the force and couple respectively acting on the body; ω 
and V represent the angular and translational velocities of 
this body. For a joint in an equilibrium state, the mutual 
moment of wrench screw and twist screw is zero. The 
TWS (Sw) should be reciprocal to the JTS ($t).  
 
Sw。$t ＝ (F; T)。(ω; V) 
 ＝ LtPw* +  MtQw* +  NtRw* +  Lw Pt* +  MwQt*  
+  NwRt* 
＝ 0 (3) 
 
C. Relations of TWS and JTS of multi−loop 
mechanisms  
With the EJCL being added into a linkage, the motion 
freedoms in the linkage increase. The original linkage 
now nearly doubles its number of joints and links. If the 
original linkage has a constraint motion, all the link 
positions could be determined for a given input. Adding 
the EJCL, the mechanism has unconstrained motion if the 
number of input is still the same. And the mechanism 
becomes a hyper freedoms mechanism. However, under 
the influence of the external applied wrench screw 
(EAWS, e.g. the input torque, etc), the mechanism will be 
in a kineto-static state of equilibrium that all free joints are 
reciprocal to the transmission wrench screw (TWS) of the 
linkage [11]. The position and orientation deviation of the 
linkage can be solvable under the additional equilibrium 
equations.  
As shown in Figure 2, when the EJCLs are added, the 
total JTS of a mechanism increased. The mechanism is 
kineto-statically in equilibrium after applying the EAWS. 
The relation of the TWS and EAWS in any link m is given 
as: 
0
1
)( =+ ∑
=
−
n
j
mjmm SS    (4) 
link 
m-1
link 
m-n
link 
m-2
Sm-1
S(m-1)m
Sm-2
(m-2)m
S(m-2)m
Sm
(m-1)m
link 
m
S(m-n)m
(m-n)m
Sm-n
 
Fig. 2. The load state of the multi-joint link in a multi-
loop linkage.  
 
Where Sm is an EAWS of link m, and S(m − j)m is a 
TWS exerted by the link m − j to the link m. For a binary 
link, Equation 4 is still valid. Let link i represents any link 
of the linkage under consideration, and link j is another 
12th IFToMM World Congress, Besançon (France), June18 − 21, 2007                                         CK − xxx 
 
 
4
equations are the same, and they are theoretical be 
solvable. And the proposed method in this paper is 
applicable to multi-loop mechanism with the 
consideration of joint clearances. 
 
TABLE I. Solvability analysis of some planar multi-loop 
mechanisms. 
 
IV. Numerical examples 
A six-bar multi-loop Watt-I linkage, which belongs to 
the first column (6,7) in Table 1, is commonly used as a 
door hinge of a cabinet. The ideal linkage without joint 
clearance is shown in Figure 3. Link 1 is fixed to the 
doorframe, and link 6 is the input. The door will be closed 
or opened under application of EAWS on link 6. The door 
operates in the range –50° ≦θ6≦125°. The original design 
is to let the door has a negative force (door closing force) 
above θ6 = 100°. The EAWS are loaded to the link 4 and 
link 5 by a spring that exerts forces S4 and S5 respectively 
on the links. S4 and S5 have the same magnitude but with 
oppositive directions shown. The intensities of the 
wrenches are assumed a unit force in this study.  
12
23
34
45
56
36
14θ2
S6
r4b
r5
r3b r6
r4r3a
r3
r2
r1
r4a
S5=1
S4=1
A
C
B
D
P
θ6
θA1
θB1
θB2
θA2
 
 
Fig. 3. An ideal Watt-I door hinge. 
 
The realistic linkage model with EJCL added is 
shown in Figure 4. The EAWS of the realistic linkage are 
given by: S5 =  [Cosθ, Sinθ, 0; 0, 0, XcSinθ−YcCos θ], θ is 
the direction angle of the applied force F. S2 = S3 = 0, S4 = 
 −S5, S6 = F6 [−Sinθ6, Cosθ6, 0; 0, 0, XpCosθ6 + YpSinθ6]. 
The link lengths are given as: r1 = 41mm, r2 = 23mm, r3 = 
43mm, r3a = 70mm, r3b = 31.5mm, r4 = 21mm, r4a = 
50.5mm, r4b = 33mm, r5 = 38mm, and r6 = 30mm. The 
lengths of EJCL (ra, rb, rc, rd, re, rf, rg) are also assumed to 
have 0.1 mm for manufacturing consistency. The relevant 
equations are derived as follows: 
 
1a
b3
3c
e6
3f
1g
θ2 θ6
c4
f6
g4
4d
d5
5e
θA1
θB1
θA2θB2
4
32b
a2 r1
r2
r3 r4b r4a
r3a r3br4
r5
r6
S5
S5
S4S2
S3
ra
rb rc
rd
re
rfrg
S6
 
 
 Fig. 4. The realistic Watt-I door hinge model 
 
EAWS of all the joint clearance links: 
Sa = Sb = Sc = Sd = Se = Sf = Sg = 0  (20) 
The TWS at the virtual clearance links: 
S1a = Sa2；  (21a) 
S2b = Sb3； (21b) 
S3c = Sc4； (21c) 
S4d = Sd5； (21d) 
S5e = Se6； (21e) 
Sf6 = S3f； (21f) 
S1g = Sg4 (21f) 
The TWS at the real links: 
S2b = Sa2 + S2； (22a) 
S5e = Sd5 + S5； (22b) 
Sf6 + Se6 + S6 = 0； (22c) 
The TWS at the multi-joint links: 
Sc4 + S4 + Sg4 = S4d; (23a) 
Sb3 + S5 = S3c + S3f (23b) 
Every TWS formula contains three equations in (Fx, 
Fy, Mz) components. From (21a) to (23b), the twelve 
formulas can also be expanded into thirty six equations. 
Loop closure formulas: 
ra + r2 + rb + r3 + rc + r4 + rg − r1 = 0 (24a) 
rc + r4b + rd + r5 + re + r6 + rf − r3b = 0 (24b) 
Every positional loop-closure formula contains two 
equations in (x, y) components. The two formulas count 
as four equations. 
From the reciprocal relationship, we obtained the 
following equations: 
S1a •＄1a＝0； (25a) 
Numbers of unknowns 
and equations Type of mechanism 
Degree of freedom f 1 1 2 2 
Ideal: N', J' 6, 7 8, 10 7, 8 9, 11
Realistic(with EJCL): 
N, J  13, 14  18, 20  15, 16  20, 22
L: loop 2 3 2 3 
Vt: JTS unknowns 11 16 12 17 
Vw: TWS unknowns 42 60 48 66 
Ep: positional equations 4 6 4 6 
Ew: wrench equations 36 51 42 57 
Er: reciprocal equations 13 19 14 20 
ΣV: all unknowns 53 76 60 83 
ΣE: all equations 53 76 60 83 
12th IFToMM World Congress, Besançon (France), June18 − 21, 2007                                         CK − xxx 
 
 
6
 
Besides, the “jump point” configuration occur 
accidentally depending on where the EAWS reciprocal to 
the EJCL. It does not happen on the common kinematic 
“singular configuration”. We may call this as a “static 
singular configuration” to distinguish this configuration 
from its conventional kinematic counterpart.  
 
V.  Conclusion 
This article presents an approach for force analysis of 
realistic multi-loop linkages by applying the concept of 
equivalent clearance link. The developed methodology 
uses the properties of reciprocal screws to determine the 
instantaneous configurations. We proved that the planar 
multi-loop mechanisms with joint clearances are solvable 
using this approach. In addition, we also derived the 
reciprocal equations between joint twist screw and 
transmission wrench screw. There is a “jump point” occur 
when TWS reverse its direction. The jump point 
configuration reflects a discontinuity of contact position 
of a realistic joint during the motion. It is different with 
the kinematic singular configuration of the ideal linkage. 
It occurs simply due to the condition of resultant forces 
reciprocal to the TWS of a linkage and can be regarded as 
a “static”  singular configuration.  
The dynamic characteristics of linkage likes Newton 
forces, Euler moments, and relative characteristics (as 
damping forces, friction force, etc.) can also be added as 
EAWS to obtain equilibrium equations and to solve the 
linkage in dynamic situation. In this way, the jumping 
position varies depending on the dynamic resultant 
wrench. 
 
Acknowledgements 
The financial support of the National Science Council of 
R. O. C. for this study under the grant No: NSC 89-2212-
E-006-014 & NSC 89-2212-E-006-155 is gratefully 
acknowledged. 
References 
[1]  Baumgarten, J.R., Werff, K.V.D. A probabilistic 
study relating to tolerancing and path generation 
error, Mechanism and Machine Theory 20 (1) (1985) 
71-76. 
[2]  Chakraborty, J., Synthesis of mechanical error in 
linkages, Mechanism and Machine Theory 10 (2/3) 
(1975) 155-165. 
[3]  Dhande, S.G., Chakraborty, J. Analysis and 
synthesis of mechanical error in linkages - a 
stochastic approach, Journal of Engineering for 
Industry, Transactions of the ASME 95 (3) (1973) 
672-676. 
[4]  Garrett, R.E., Hall, A.S. Effects of tolerances and 
clearances in linkage design, Journal of Engineering 
for Industry, Transactions of the ASME 91 (1) (1969) 
198-202. 
[5]  Lee, S.J., Gilmore, B.J. The determination of the 
probabilistic properties of velocities and 
accelerations in kinematic chains with uncertainty, J. 
of Mechanical Design 113 (1991) 84-90. 
[6]  Lee, S.J., Gilmore, B.J., and Otto, M.M. 
Dimensional tolerance allocation of stochastic 
dynamic mechanical systems through performance 
and sensitivity analysis, ASME Journal of 
Mechanical Design 115 (1993) 392-402.  
[7]  Rhyu, J.H., Kwak, B.M. Optimal stochastic design 
of fourbar mechanisms for tolerance and clearance, 
ASME Journal of Mechanisms, Transmissions, and 
Automation in Design 110 (1988) 255-262. 
[8]  Zhu, J.  and Ting, K.L.  Uncertainty analysis of 
planar and spatial robots with joint clearances, 
Mechanism and Machine Theory 35 (2000) 1239-
1256. 
 [9]  Kolhatkar, S.A., Yajnik, K.S. The effects of play in 
the joints of a functiongenerating mechanism, 
Journal of Mechanisms 5 (4) (1970) 521-532. 
[10]  Ting, K.L., Zhu, J.,  Watkins, D.  The effects of joint 
clearance on position and orientation deviation of 
linkages and manipulators, Mechanism and Machine 
Theory 35 (2000) 391-401. 
[11]  Tsai, M.J., Lai, T.H.  Kinematic sensitivity analysis 
of linkage with joint clearance based on transmission 
quality, Mechanism and Machine Theory 39 (2004) 
1189-1206. 
[12]  Innocenti, C. Kinematic clearance sensitivity 
analysis of spatial structures with revolute joints, 
Journal of Mechanical Design, Transactions of the 
ASME 124 (3) (2002) 52-57. 
[13]  Venanzi, S., ParentiCastelli, V. A new technique for 
clearance influence analysis in spatial mechanisms, 
Journal of Mechanical Design, Transactions of the 
ASME, 127 (5), (2005) 446-455. 
[14]  ParentiCastelli, V., Venanzi, S.  Clearance influence 
analysis on mechanisms, Mechanism and Machine 
Theory, 40 (2005), 1316-1329. 
[15] Thuemmel, T., Funk, K. Multibody Modelling of 
Linkage Mechanisms including Friction, Clearance 
and Impact. Proc. 10th World Congress IFToMM, 
Oulu/Finland, Vol.4, (1999), 1387-1392. 
[16] Thuemmel, T., Ginzinger, L. Measurements and 
Simulations of a Crank and Rocker Mechanism 
including Friction, Clearance and Impacts. Proc. of 
the IX. Int. Conf. on the Theory of Machines and 
Mechanisms in Liberec / Czech, (2004), 763-768. 
[17] Hunt, K.H.  Kinematic Geometry of Mechanisms, 
Oxford University Press, Toronto (1978).  
[18]  Burdon, P. Kinematics and Dynamics of Planar 
Machinery, Rainbow-Bridge Company, Taiwan 
(1980). 
上次第 11 屆大會由中國天津主辦，由於中共的刁難，台灣學者與會時皆被要求更改國
號，最後沒有人成行。反觀此次由台灣學者發表的論文篇數超過 25 篇，佔全大會前五
名，在大會上還備受表揚。可見我國在這領域多年來的研究努力，已獲國際學界的肯定。
希望下次舉行，亦能有傑出的表現。另外，大會並改選主席及各項技術委員會的主任委
員。上兩屆臨任的主席美國史丹福大學的 Dr. Kenneth Waldron 卸任，由義大利的 Marco 
Ceccarelli 當選。Marco 為原祕書長，對我極為友好，亦曾受邀來台訪問與演講。新副
會長為日本 Yoshihiko Nakamura (Tokyo Univ.)。 
二､與會心得 
 此次參加會議，我們更深入了解今日機構學及機器原理方面的研發成果。會期中並
能與同領域之諸國際知名學者作深入的交談，獲益匪淺。另外本次法國所舉辦之會議，
由於行政工作縝密及時間控制恰當，故會議議場秩序良好。若本國籌辦類似大型國際會
議當引為借鏡。另外由於會議是四年一次的大會，累積數年的研究成果導致參與的人數
及場次太多，無法分身兼顧同時並行的演講，是為遺憾。我們並與一些學者私下討論利
用電腦網路開國際會議或者是改為兩年一次會議的可行性。 
三､參觀活動 
 到歐洲的法國難免要參觀文化古蹟與歐洲風情，這次大會並安排了到城內大學及附
近研究機關與及酒鄉參訪，由於場內有許多並行舉行，去聽都來不及了，故都沒有去參
加。另外在會議會場中有數個軟體與新書籍的展示。 
四､建議 
 國科會自從改採機票上限補助方式後，在行程安排及旅行社選擇方面相當方便應繼
續執行。 
五､攜回資料名稱及內容 
 本次帶回了大會的 Proceedings 共光碟一份，其內容為五百餘篇發表的論文。 
 
六、其他 
發表論文如附。 
 
12th IFToMM World Congress, Besançon (France), June18 − 21, 2007                                         CK − xxx 
 
 
2
Consider a planar revolute joint consisting of a pin 
attached to the ith link that turns in a hole on the jth link. 
The pin is then confined to contact the inside circle of the 
hole under the resultant force. It is convenient to assume 
that the center points of two pairing elements are 
connected by an equivalent joint clearance link (EJCL) r 
so that the theoretical analysis based on ideal joints can be 
applied to the actual mechanism with joint clearance [5, 
10]. Under the influence of applied wrench, we may 
safely assume a constant contact between the pin and hole 
in a joint. The length of the equivalent clearance link will 
be equal to one half of the joint clearance [5], as shown in 
Fig. 1. The EJCL behaves similar to a real link except that 
it can only bear a tension force. When the transmission 
force becomes compressive, it just suddenly turns 180 
degrees so that it still under tension force. This is called 
the jumping position of a realistic joint. 
i-link j-link
r
 
 
Fig. 1. Equivalent joint clearance link (EJCL) 
 
B. Reciprocal Screw  
The motion characteristics of a mechanism can be 
described by a screw. A screw is mathematically regarded 
as a 1×6 row vector, known as Plücker coordinates [17]: 
 
＄ ＝ (L, M, N; P*, Q*, R*) (1) 
Where the real part (L, M, N) is the direction ratio of 
the screw axis; the dual part (P*, Q*, R*) is the resultant 
moment of the screw about the origin.  
The screw axis is a line represented by 
＄ ＝ (L, M, N; P, Q, R) (2) 
Where P = P* − hL; Q = Q* − hM; R = R* − hN.  
A line is a screw of zero pitch. In kinematics, a zero 
pitch screw represents a revolute joint, whereas an infinite 
pitch screw represents a prismatic joint. In statics, a force 
is a wrench of zero pitch; and a couple is a wrench of 
infinite pitch.  
Let a transmission wrench screw (TWS) Sw = (F; T) 
= (Lw, Mw, Nw; Pw*, Qw*, Rw*) acting on a rigid body and 
$t = (ω; V) = (Lt , Mt, Nt; Pt*, Qt*, Rt*) represents the joint 
twist screw (JTS) of the body. Where F and T represent 
the force and couple respectively acting on the body; ω 
and V represent the angular and translational velocities of 
this body. For a joint in an equilibrium state, the mutual 
moment of wrench screw and twist screw is zero. The 
TWS (Sw) should be reciprocal to the JTS ($t).  
 
Sw。$t ＝ (F; T)。(ω; V) 
 ＝ LtPw* +  MtQw* +  NtRw* +  Lw Pt* +  MwQt*  
+  NwRt* 
＝ 0 (3) 
 
C. Relations of TWS and JTS of multi−loop 
mechanisms  
With the EJCL being added into a linkage, the motion 
freedoms in the linkage increase. The original linkage 
now nearly doubles its number of joints and links. If the 
original linkage has a constraint motion, all the link 
positions could be determined for a given input. Adding 
the EJCL, the mechanism has unconstrained motion if the 
number of input is still the same. And the mechanism 
becomes a hyper freedoms mechanism. However, under 
the influence of the external applied wrench screw 
(EAWS, e.g. the input torque, etc), the mechanism will be 
in a kineto-static state of equilibrium that all free joints are 
reciprocal to the transmission wrench screw (TWS) of the 
linkage [11]. The position and orientation deviation of the 
linkage can be solvable under the additional equilibrium 
equations.  
As shown in Figure 2, when the EJCLs are added, the 
total JTS of a mechanism increased. The mechanism is 
kineto-statically in equilibrium after applying the EAWS. 
The relation of the TWS and EAWS in any link m is given 
as: 
0
1
)( =+ ∑
=
−
n
j
mjmm SS    (4) 
link 
m-1
link 
m-n
link 
m-2
Sm-1
S(m-1)m
Sm-2
(m-2)m
S(m-2)m
Sm
(m-1)m
link 
m
S(m-n)m
(m-n)m
Sm-n
 
Fig. 2. The load state of the multi-joint link in a multi-
loop linkage.  
 
Where Sm is an EAWS of link m, and S(m − j)m is a 
TWS exerted by the link m − j to the link m. For a binary 
link, Equation 4 is still valid. Let link i represents any link 
of the linkage under consideration, and link j is another 
12th IFToMM World Congress, Besançon (France), June18 − 21, 2007                                         CK − xxx 
 
 
4
equations are the same, and they are theoretical be 
solvable. And the proposed method in this paper is 
applicable to multi-loop mechanism with the 
consideration of joint clearances. 
 
TABLE I. Solvability analysis of some planar multi-loop 
mechanisms. 
 
IV. Numerical examples 
A six-bar multi-loop Watt-I linkage, which belongs to 
the first column (6,7) in Table 1, is commonly used as a 
door hinge of a cabinet. The ideal linkage without joint 
clearance is shown in Figure 3. Link 1 is fixed to the 
doorframe, and link 6 is the input. The door will be closed 
or opened under application of EAWS on link 6. The door 
operates in the range –50° ≦θ6≦125°. The original design 
is to let the door has a negative force (door closing force) 
above θ6 = 100°. The EAWS are loaded to the link 4 and 
link 5 by a spring that exerts forces S4 and S5 respectively 
on the links. S4 and S5 have the same magnitude but with 
oppositive directions shown. The intensities of the 
wrenches are assumed a unit force in this study.  
12
23
34
45
56
36
14θ2
S6
r4b
r5
r3b r6
r4r3a
r3
r2
r1
r4a
S5=1
S4=1
A
C
B
D
P
θ6
θA1
θB1
θB2
θA2
 
 
Fig. 3. An ideal Watt-I door hinge. 
 
The realistic linkage model with EJCL added is 
shown in Figure 4. The EAWS of the realistic linkage are 
given by: S5 =  [Cosθ, Sinθ, 0; 0, 0, XcSinθ−YcCos θ], θ is 
the direction angle of the applied force F. S2 = S3 = 0, S4 = 
 −S5, S6 = F6 [−Sinθ6, Cosθ6, 0; 0, 0, XpCosθ6 + YpSinθ6]. 
The link lengths are given as: r1 = 41mm, r2 = 23mm, r3 = 
43mm, r3a = 70mm, r3b = 31.5mm, r4 = 21mm, r4a = 
50.5mm, r4b = 33mm, r5 = 38mm, and r6 = 30mm. The 
lengths of EJCL (ra, rb, rc, rd, re, rf, rg) are also assumed to 
have 0.1 mm for manufacturing consistency. The relevant 
equations are derived as follows: 
 
1a
b3
3c
e6
3f
1g
θ2 θ6
c4
f6
g4
4d
d5
5e
θA1
θB1
θA2θB2
4
32b
a2 r1
r2
r3 r4b r4a
r3a r3br4
r5
r6
S5
S5
S4S2
S3
ra
rb rc
rd
re
rfrg
S6
 
 
 Fig. 4. The realistic Watt-I door hinge model 
 
EAWS of all the joint clearance links: 
Sa = Sb = Sc = Sd = Se = Sf = Sg = 0  (20) 
The TWS at the virtual clearance links: 
S1a = Sa2；  (21a) 
S2b = Sb3； (21b) 
S3c = Sc4； (21c) 
S4d = Sd5； (21d) 
S5e = Se6； (21e) 
Sf6 = S3f； (21f) 
S1g = Sg4 (21f) 
The TWS at the real links: 
S2b = Sa2 + S2； (22a) 
S5e = Sd5 + S5； (22b) 
Sf6 + Se6 + S6 = 0； (22c) 
The TWS at the multi-joint links: 
Sc4 + S4 + Sg4 = S4d; (23a) 
Sb3 + S5 = S3c + S3f (23b) 
Every TWS formula contains three equations in (Fx, 
Fy, Mz) components. From (21a) to (23b), the twelve 
formulas can also be expanded into thirty six equations. 
Loop closure formulas: 
ra + r2 + rb + r3 + rc + r4 + rg − r1 = 0 (24a) 
rc + r4b + rd + r5 + re + r6 + rf − r3b = 0 (24b) 
Every positional loop-closure formula contains two 
equations in (x, y) components. The two formulas count 
as four equations. 
From the reciprocal relationship, we obtained the 
following equations: 
S1a •＄1a＝0； (25a) 
Numbers of unknowns 
and equations Type of mechanism 
Degree of freedom f 1 1 2 2 
Ideal: N', J' 6, 7 8, 10 7, 8 9, 11
Realistic(with EJCL): 
N, J  13, 14  18, 20  15, 16  20, 22
L: loop 2 3 2 3 
Vt: JTS unknowns 11 16 12 17 
Vw: TWS unknowns 42 60 48 66 
Ep: positional equations 4 6 4 6 
Ew: wrench equations 36 51 42 57 
Er: reciprocal equations 13 19 14 20 
ΣV: all unknowns 53 76 60 83 
ΣE: all equations 53 76 60 83 
