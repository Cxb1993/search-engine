具有即時路況適應能力與最小耗能之輪內馬達驅動控制 
劉念冀             蕭得聖 
Nien-Chi Liu       Tesheng Hsiao 
 
國立交通大學電機工程學系 
 
 摘要 
在現今車輛控制系統的研究中，車輛受力的情況分
析佔了很重要的地位，例如，在高速公路自動駕駛中，
需要分析路面狀況來做車輛行駛的決策，或是在煞車
防鎖死系統上，計算輪胎與路面間的受力關係來決定
煞車的強度，這些都指出得知車輛受力情況對車輛動
態研究上有很大的幫助。 
1 
此研究藉由建立完整的車輛模型來模擬真實車輛
的動態，再利用簡化的車輛模型與描述摩擦力特性的
摩擦力圓來求解車輛每個輪胎所受的摩擦力。但在簡
化車輛模型中，車輛參數的準確與否會對估測結果有
很大的影響，故利用期望值最大化演算法 (EM 
algorithm)以即時估測車輛參數。 
在本研究中亦建立模擬車輛輪胎的實驗平臺，最後
一部分也會利用此平臺來驗證摩擦力估測演算法的正
確性。 
 
關鍵詞：輪胎摩擦力估測、摩擦力圓、車輛動態模型 
 
 
Abstract 
In the development of advanced vehicle control 
systems, it is crucial to analyze the external forces 
experienced by a vehicle. For example, the automated 
driving systems make decisions based on the road 
conditions; the anti- lock braking system (ABS) adjusts 
the braking torque according to the friction force between 
the tire and the road. Therefore, it is desirable to estimate 
the tire-road friction in real time. 
In this study, we establish a complex vehicle model 
for high fidelity simulation and a simplified vehicle 
model for synthesizing the estimation algorithm. The 
concept of the friction circle is considered as a constraint 
in estimating friction forces. However the variation of 
vehicle parameters results in deterioration of estimation 
accuracy; we thus apply the EM (Expectation- 
Maximization) algorithm to simultaneously on- line 
estimate the vehicle parameters. 
Besides simulations, we also set up a hardware 
platform and conduct experiments to verify the proposed 
estimation algorithm. 
 
Keywords: Tire Friction Estimation, Friction Circle, 
Vehicle Dynamic Model 
 
1.緒論 
在台灣，平均每家每戶都有一至兩輛車，但是台灣
人口密度極高，道路狹窄，交通事故頻傳，故車輛安
全駕駛系統上有其存在的必要性，目前被廣泛利用的
煞車防鎖死系統(ABS)對駕駛的安全性就有莫大的貢
獻，如果 ABS 能夠擁有針對不同路況做出適當反應的
能力，對車輛行駛穩定性會有很大的幫助，因此研究
路面與車輛輪胎間的摩擦力成為很重要的課題，在
Yi[1]的論文中就有提到將摩擦力估測運用在車輛煞車
時的適應性控制上，在另一篇 Yi[2]的論文中也是應用
摩擦力估測於緊急煞車系統上，所以可以看出摩擦力
的研究對車輛安全控制的重要性。 
在摩擦力研究中，將車輛與摩擦力的關係依照
Muller[3]的論文分成了基於影響(Effect Based)與基於
原因(Cause Based)兩種不同的研究方式，前者是研究
車輛動態時的一些特性對摩擦力的影響，後者則是摩
擦力導致車輛特性的變化。基於原因的研究有在摩擦
力作用在輪胎上時胎面發生的化學變化，或是在
Pohl[4]的研究中使用特製的感測器來量測輪胎的物理
變化。而基於影響最主要的研究在於車輛輪胎動態與
地面的關係如何影響車輛輪胎所受的摩擦力，其中車
輛前進所產生的滑動率(Slip ratio)與車輛轉向時所發
生的車胎測滑角(Slip angle)，這兩種車輛動態時的特
性與輪胎的受力有一稱為“Magic Formula”的關係式，
此關係是描述了車輛輪胎所受的負載、路面的摩擦係
數、滑動率、側滑角間的關係。如圖 1，可以看出在
各種不同的路面摩擦係數下，滑動率對車胎所受縱向
力的關係與側滑角對車胎所受側向力的關係。一般來
說柏油路面的摩擦係數約為 0.85，而結冰的路面約為
0.2，摩擦係數越小車輛輪胎所受的力也越小。當滑動
率或是測滑角漸漸變大時，車輛輪胎所受的力也會增
大，在達到一個峰值後，滑動率與側滑角再增加時，
車輛輪胎所受的力達到飽和不再增加。 
由於車輛行駛所產生的滑動率與側滑角與車輛輪
胎受力關係明確，所以有為數不少的研究將重心放在
分析滑動率與側滑角對車輛受力的影響，在 Ray[5]的
論文中建立了各種車輛在不同摩擦係數下車輛輪胎的
受力關係，在實際車輛行駛時，利用當時車輛的狀況，
挑選出最接近的路面摩擦係數，Hahn[6]的研究中是利
用 GPS與 DGPS 量測到的車輛速度與位置來計算滑動
率與側滑角，再由此推算出車輛輪胎的受力情形。 
在這項研究中，將使用完整的車輛模型作為實際車
輛動態的模擬，再利用簡化的車輛模型與描述摩擦力
特性的摩擦力圓來求解車輛每個輪胎所受的摩擦力，
而後就是利用期望值最大化演算法 [7]來做參數估
測，最後是模擬結果與實驗結果。 
 
 
圖 1：在固定車輛負載，不同路面摩擦係數時，滑動率與縱向力之
關係(左圖)以及滑動率與縱向力之關係(右圖)。 
 
2.完整車輛模型 
此研究中是利用 Hingwe[8]論文中所建立的完整車
i o
i o
1
i 1 i o
               -sin( )                       -sin( )                        0   
A=                 cos( )                       cos( )                        1   
sbcos( )(l -s)+sin( )   cos(
2
 
 
   21 o 2sb)(l -s)-sin( )   -(l +s) 2
       
 Tb b 1 b 2 b 3 b 4F = F  F  F + F
x a1 i a2 o a3 a4
y a1 i a2 o
1 2
z a1 i a2 o 1 a2 o a1 i a3 a4
ma -F cos ( )-F cos( )-F -F
b= ma -F sin ( )-F sin( )
sb sbI r-(F sin ( )+F sin( ))(-l -s)- (F cos( )-F cos( ))- (F -F )
2 2
 
 
   
        
 


R -Vcos(α)ws = max( R Vcos(α))w,      (11) 
其中ω為輪胎轉速，Rω為輪胎半徑，V 為質心前
進速度。接著可以分析輪胎的力矩平衡，可以將煞車、
加速的力矩與摩擦力，如圖 6 所示： 
 
Tb V 

(17)式為一滿秩(full rank)的線性方程式，很容易就
可以求出前輪分別的側向力與後輪側向力之合力。 
Tm 
Fa III)摩擦力圓:在上述的側向力求解中，後輪的兩輪
的側向力無法分別求出，在此利用摩擦力圓的特性來
求解後輪各別之側向力。 
   圖 6：車胎受力示意圖 
 
其中 Tm 為加速力矩，Tb 為煞車力矩，ω為輪胎
轉速。利用力矩平衡的觀念，可推出(12)式，再將四
個輪胎的轉速當成動態方程式的狀態，如(13)式： 
先將所有輪胎之摩擦力圓列出，如(18)式，在對其
中 F為各方向能提供之最大摩擦力，此數值會跟輪胎
所受之正向力與側滑角有關。 
w i m b aiI = (T - T ) - rF         (12) 2 2 2 2
a1 b1 a2 b2
a1 b1 a2 b2
F F F F
+ =1        + =1
F F F F
                         T3 1 2 3 4   X = [    ]     (13)   
最後將(3)(7)(14)式結合，此二十個狀態就完整車輛
模型的動態方程式，如(14)式： 
2 2 2 2
a3 b3 a4 b4
a3 b3 a4 b4
F F F F
+ =1        + =1
F F F F
                        (18) 1 2 3X = [X  X  X  ] 
在此做些假設，假設的理由是在摩擦力圓中 F的大
小與正向力與側滑角有關，本研究中就假設 F的比值
約略與側滑角的比值相等，所以假設如同(19)式所示 
b mX = f(X,T ,T ,δ)   (14) 
 
3.求解摩擦力 
  4
       
    
           
      
a2 a1 a3 a4
b2 b1
a2 a3 a4 a1
b2 b3 b4 b1
b3 b
F = pF F = pF
F = pF
F = F F = F
F = F F = F
F = pF
     (19) 
本章節的主要內容是在描述本研究中估測輪胎受
力的方法，輪胎的受力可以主要可以分成兩個部份，
分別是平行胎面的縱向力與垂直胎面的側向力，本研
究中將兩個部份分開估測，先利用輪胎的轉速與力矩
平衡的關係式將輪胎的縱向力估測出來，再將估測出
來的縱向力當成已知條件帶入側向力的估測，側向力
的部份跟車輛行駛時產生的動態有非常大的關係，所
以在側向力估測方面引入了摩擦力圓的概念，就可以
進一步的解出輪胎的側向力。 
其中 p 為前輪左右輪側滑角的比值其值如(20)式： 
1
1
p=
-
-1 -11
1
-1 -11
1
sbδ - tan ((y + l ψ)(x - ψ) )
2
sbδ tan ((y + l ψ)(x + ψ) )
2
  
  
     (20) 
I)縱向力估測：回顧(12)式，將式子移項後，再將
式中轉動加速度的部份利用轉速差分獲得，如(15)式： 
+ -
i i
m b w
ai
 -
(T - T ) - I ( )
ΔtF =    
r
     (15) 
接著要解出輪胎能提供的最大摩擦力，利用(21)式
與(18)(19)式結合，就可以解出 a1F 與 Fb1，在前幾部分
中已經解出後輪側向力之總合，利用比例關係就可以
很容易的解出 Fb3、 Fb4，如(22)(23)式所示： 其中 為取樣時間。 ΔtII)側向力估測：在側向力估測的部份，首先將完
整的車輛動態方程式簡化，此研究中是忽略了側傾角
與俯仰角，此時可以推導出 x 方向與 y 方向的運動方
程式，還有繞著 z 軸旋轉的力矩平衡方程式，如(16)
式： 
 
1 1 1 1sin( )       cos( )
1 11 1F FF Fa ba b
      (21) 
2
a2
2
-1 a1
2 2
b2 a2
2
b1 a1
1 F
1-
p F
= cos ( )
1 F F
( -
p F F
 
   
         


v x x
v y y
z z
m a = F
m a = F
I ψ = M         



  (16) 
)
       (22) 
 若將(16)式中未知的側向力與已知的車輛參數分開
整理後，就可以得出(17)式的線性方程式，其中 s 為車
體質心縱向偏移量，為之後要估測的參數之一。 
b3 b3 b4 bF =(F +F )-F 4     (23) 
 
以上就是對輪胎縱向力與側向力的估測，但是車體
參數的準確度會對此估測結果有不少的影響，所以接
下來要對車體參數做估測。 
bFA = b        (17) 
其中 A、Fb、b 如下： 
 
 
3 
5 
]
k-1 k-2 0 k-k k-2 0
k-1|k x x x y y y
A =(1- )(a +a + +a )+(1- )(a +a + +a )  
k k k-1 0|k 0
k k k-1 0|k 0 -
4 4 4 4
-1
k|k,k-1|k 11 x xi xi x xi xi
i=1 i=1 i=1 i=1
4 4 4 4
-1
22 y yi yi y yi yi
i=1 i=1 i=1 i=1
B =(1- )q [a ( F - F )+ +a ( F - F
        +(1- )q [a ( F - F )+ +a ( F - F )]
  
  
   
   


k k-1 0 -1
k-1 -1
k |k,k-1|k z s=0 z s=0 z s=0 z s=0
k-1|k k-1 -1
4 4
k-1 yi yi
i=1 i=1
C =M | - M | M | - M |
D =r r
E = F + F
 
 

 

-1
1
)
 
 
 圖 10:側向力估測 
 5.模擬結果 
II)Double-lane change:在 7 秒到 12 秒間作車道的
變換。四個輪子的縱向力與側向力之估測分別顯示於
圖 11 與圖 12。 
首先是參數估測的結果，先假設車輛的質量，轉動
慣量，質心位置都不準確，來進行參數之估測。如圖
8： 
 
 
  圖 8：參數估測結果 圖 11:縱向力估測  
 
上圖的結果為車輛轉向時的參數估測結果，在車體
質量方面，假設值與實際值差了 100 公斤，可以發現
數值收斂的非常快，在幾個取樣時間內就可以完成數
值的收斂，但是在轉動慣量與質心位置卻沒有收斂到
正確的位置，但是就本研究中的摩擦力演算法而言，
轉動慣量與質心位置的改變，不會對估測結果有明顯
的影響，正因為不會有很大的影響，所以在估測參數
時也不會有很正確的收斂點，反觀在車體質量的部份
會對估測的結果有非常大的影響，所以收斂的速度很
快，也會收斂到正確的位置，所以可以證明此參數估
測演算法是正確可行的。 
圖 12:側向力估測 再來就是在兩種比較常見的駕駛情況下的摩擦力
估測結果。第一種情況是在車輛將方向盤打一個固定
的角度，使車輛繞圈(J-turn)；在來就是在車輛作兩次
車道的切換(double-lane change)，在這兩種情況下作縱
向力與側向力的估測。 
 
6.實驗結果 
本實驗建構了如圖 13 的實驗平台來驗證摩擦力
演算法的可行性，此硬體主要包含模擬車輛輪胎的輪
內馬達，模擬行進路面的橡膠胎，與測量輪胎轉矩與
轉速的力矩感測器，型號為 FUTEK 的 TRD305。 I)J-turn:在 7 秒時將方向車輪轉成 0.2rad 後保持不變，四個輪子的縱向力與側向力之估測分別顯示於圖
9 與圖 10。  
 
 
圖 13:實驗平台 
 圖 9:縱向力估測 輸入訊號為控制馬達的轉速，在此實驗中是給與
7 
可供推廣之研發成果資料表 
□ 可申請專利  □ 可技術移轉                                      日期： 年 月 日 
國科會補助計畫 
計畫名稱： 
計畫主持人：         
計畫編號：             學門領域： 
技術/創作名稱  
發明人/創作人  
中文： 
 
 
（100~500 字） 
技術說明 英文： 
可利用之產業 
及 
可開發之產品 
 
技術特點 
 
推廣及運用的價值 
 
※ 1.每項研發成果請填寫一式二份，一份隨成果報告送繳本會，一份送 貴單位
研發成果推廣單位（如技術移轉中心）。 
※ 2.本項研發成果若尚未申請專利，請勿揭露可申請專利之主要內容。 
※ 3.本表若不敷使用，請自行影印使用。 
