示，圖 1是表示在不同放電電流下，電池端電壓對放
電時間的示意圖。在較小的放電電流下(如 I3)，電池
放電到一定的終止電壓的時間愈長。可見電池可以釋
出的能量並不是定值，它與許多因素有關，尤其是放
電電流的大小，會決定可放出能量的多寡。現有對電
池的容量有以下幾種定義[3]： 
1. 可用容量 
此定義在一定的放電率下，放電至一定的終止電
壓(Cutoff voltage)時，可以釋放出多少安培-小時的電
量。要定義可用容量，必須先定義出終止電壓，當到
達終止電壓時，電池就被視為剩餘電量為零。一般定
義圖 1之終止電壓為端電壓開始急劇下降的轉折電壓
(Knee voltage)處。在終止電壓之後，電池所能再釋放
出的電量也已經相當少，在兼顧可行性以及對電池壽
命的考量下，以此定義的容量會是比較合理的。 
2. 理論上的容量 
將電池內部所有的活性物質耗盡時，所能釋放
出來的最大的放電量，實際上電池內活性物質是不可
能被完全耗盡，因此也就不可能達到理論上的容量。
若過度放電只會造成過大的電池內阻和過低的電壓，
並會對電池有致命的損害。 
3. 電量狀態 (State of Charge，SOC) 
    電量狀態的定義是指示電池當時的剩餘電量狀
態，而不是實際的安培-小時容量。若是電池當時剩餘
電量為零，則定義電量狀態為 0；若是剩餘電量即是
額定的可用容量，則定義其電量狀態為 1。相同的電
量狀態下，對不同容量的電池會代表不同的剩餘電量。 
現有可以測量電池現有容量的方法，分述如下[3]： 
1. 比重法 
由於電池內電解液主要是硫酸水溶液，可藉比
重法量測出電池中電解液的密度，而硫酸濃度高低
可相對應於充電狀態多寡，所以比重法可視為充電
狀態的直接測量法。雖然，比重法可以得到相當準
確的結果，其量測方法也相當簡單。但是測量比重
必須打開電池加水孔蓋，對於需要在使用中連續測
量的場合並不適合；對於密閉式的電池而言更無用
武之地。同時，電解液的擴散速度不快，必須等待
一段靜置時間才能得到準確的比重，對於需要即時
量測的場合而言並不適合。 
2. 開路電壓法 
    電池的開路電壓與硫酸的濃度呈一比例關係，因
此由電池的開路電壓可以測得電池的充電狀態。但
是，由於電池的電容效應，在充電後，要等待一段相
當長的時間，才能獲得一個穩定的開路電壓，以致無
法應用於即時量測的機制。 
3. 有載電壓法 
與開路電壓相似，電池流過定電流時的電壓也
與比重有一個近似線性的關係。但是電池的內阻在
不同的容量時並非定值，以致不容易做到十分準
確，再加上其負載不是恆定而是經常變動的，使得
測得電壓並不能有效的代表電池現有電量。但此法
監控現有負載的使用狀況，對於需要即時測量的場
合卻是相當有用，它不需要等待的時間，隨時可以
量測。 
4. 庫侖電量測量法 
    庫侖電量法是對電池充進/放出的電量作加總，藉
由測量電池流入/流出的電流對時間做積分，得到電量
的變動值，以計算出電池容量的增減。然而，此法的
前提是假設電池的充放電效率是百分之百才能成立，
實際上電池充放數次後，計算得到的電量與實際電量
間有相當大的差距。 
電池容量的多寡，受制於充放電電流大小、電池
有載端電壓、環境溫度及充放電周期次數等影響
[3-11]，變數之間的交互影響複雜，以致目前並無法明
確預測出電池容量，進而阻礙二次電池應用的範圍。
本研究計畫先設置一組實驗設備，將二次電池置於恆
溫箱中，設計可個別調整放電電流與截止電壓之設
備，實際量測二次電池端電壓的變化。將實驗過程中
所獲得的實驗數據，提出結合類神經網路與直交表
(Orthogonal Array)工具進行電池容量的估測，分別擷
取類神經網路對不完全資料的正確判斷及連續直交表
快速搜尋參數值的優點，即時估測二次電池的現有容
量。 
二、量測系統與軟體規劃 
本實驗採用湯淺公司提供之 YB4L-B(12N4)鉛酸
電池進行實驗，此電池內部由六個電槽串聯組成，每
個電槽供稱電壓為 2V，公稱容量為 4Ah，將此電池放
網路為獲得良好的學習效果，必須有大量的範例學
習，本計畫亦將此學習範例採用直交表排列進行範例
學習，可大幅縮減學習時程，並能維持良好的學習效
果。針對圖 4之類神經網路，採用表 1之直交表排列，
分別以類神經網路權重值 a~l為變數，並以〝-〞、〝O〞、
〝+〞表示權重值的〝低〞、〝中〞、〝高〞三個準位，
再依所排列的參數作模擬實驗，可獲得各種變數組合
下剩餘容量的觀測值，求出各變數在特定準位下輸出
的平均效應，以權重 a的〝中〞準位及 e的〝低〞準
位為例，其觀測的平均效應分別為： 
( ) 9/Z 181716151413121110oa ZZZZZZZZZ ++++++++=  (4) 
( ) 9/Z 252219161310741-e ZZZZZZZZZ ++++++++=   (5) 
計算出所有權重準位的平均效應，與期望目標比較，
以最接近期望目標的準位訂為此權重下一次搜尋的指
標。 
四、設計實例與實驗結果 
圖 5為分別以 0.1C、0.5C及 1C對YB4L-B(12N4)
鉛酸電池進行放電，其開路電壓均為 2.2V，其放電截
止電壓依照放電電流大小分別設定為 1.75V、1.57V
及 1.40V。圖中明確指出，較大值的放電電流其放電
截止電壓較低且可放容量較少。為使所有放電電流均
適用本計畫提出之圖 4類神經網路架構，分別定義各
放電電流之開路電壓及截止電壓為 1及 0，並定義可
放容量為 1，其可放容量從開路電壓處的容量定義為
1，直到截止電壓處的容量定義為 0，以驗證所提出架
構及理論之可行性，其特性依表 2所示。計算不同放
電電流在表 3各端電壓下之使用容量，並配合表 2將
相關數值正規化，當作類神經網路的搜尋依據。決定
表 4 之權重搜尋範圍，並配合圖 6 之連續直交表流
程，獲得表 5各放電電流之類神經網路權重值。 
五、結論與討論 
本計畫針對電池的容量估測，應用類神經網路架
構內建連續直交表搜尋法，經由模擬結果與實際量測
之誤差，作為搜尋指標，進而推導出電池容量的類神
經網路架構，並經證實此架構具有以下優點： 
1. 連續直交表可快速找到所要的參數組合，且簡化實
驗的複雜性及其所需的時間與次數。 
2. 直交表實驗採用平均效應作為搜尋指標，收斂速度
相當快速。 
3. 類神經網路架構估測容量與實際容量的誤差小，具
有實用價值。 
4. 類神經網路架構內建連續直交表搜尋法大幅降低
類神經網路學習時間。 
六、計畫成果自評 
本計畫以一類神經網路架構內建連續直交表搜尋法，
明確且快速地指出電池容量受放電電流及端電壓的影
響程度。此類神經網路架構的建立，雖對電池容量的
估測助益甚大，但此計劃尚有許多部分可再加強，本
計畫提出的方法適用於電池加載時的電量估測，對於
已經切離負載的電池並無法判斷其內部現存容量，規
劃後續將對此架構加入出使容量的判斷功能；另外，
電池老化及環境溫度對電池的影響也是後續規劃的重
點。 
七、參考文獻 
[1]  C. C. Chan, "An Overview of Electric Vehicle 
Technology," Proceedings of the IEEE, Vol. 81, No. 
9, Sept. 1993, pp. 1202-1213. 
[2]  C. C. Chan and K. T. Chau, "An Overview of 
Electric Vehicle-Challenges and Opportunities," 
IEEE Industrial Electronics, Control, and 
Instrumentation IECON’96, 1996, pp. 1-6. 
[3]  J. H. Aylor, A. Thieme, and B. W. Johnson, "A 
Battery State-of-Charge Indicator for Electric 
Wheelchairs," IEEE Trans. on Industrial 
Electronics, Vol. 39, No. 5, Oct. 1992, pp. 398-409. 
[4]  R. Kaushik and I. G. Mawston, "Discharge 
Characterization of Lead-Acid Batteries," Journal 
of Power Sources, Vol. 28, No. 1, 1989, pp. 
161-169. 
[5]  T. Yamazaki, K. Sakurai, and K. Muramoto, 
"Estimation of the Residual Capacity of Sealed 
Lead-Acid Batteries by Neural Network," 
International Telecommunications Energy 
Conference, 1998, pp. 210-214. 
[6]  K. Kozuka, K. Takano, Y. Konya, and Y. Kawagoe, 
"Development of On-Line Battery Testing 
Technology," International Telecommunications 
Energy Conference, 1997, pp. 397-402. 
[7]  Z. M. Salameh, M. A. Casacca, and W. A. Lynch, 
"A Mathematical Model for Lead-Acid Batteries," 
IEEE Trans. on Energy Conversion, Vol. 7, No. 1, 
Mar. 1992, pp. 93-98. 
[8]  M. Ceraolo and G. Pede, "Techniques for 
Estimating the Residual Range of an Electric 
Vehicle," IEEE Trans. on Vehicular Technology, 
Vol. 50, No. 1, Jan. 2001, pp. 109-115. 
充電
放電
靜置
充放電模組
充放電模組
SCXI
機箱
PC
電池
恆溫箱
 
  圖 2 電壓量測擷取系統 
1.7
1.75
1.8
1.85
1.9
1.95
2
2.05
2.1
2.15
2.2
2.25
2.3
0 50 100 150 200 250 300 350 400 450
Cell 1
Cell 2
Cell 3
Cell 4
Cell 5
Cell 6
電壓(V)
T
六個單槽放電
(次)  
圖 3  1A定電流串聯放電的電槽電壓 
Y
X
(輸入層) (隱藏層) (輸出層)
Z(端電壓)
(放電電流) (剩餘容量)
a
b
c
d
e
f
g
h
i
圖 4 前授型神經網路 
1.3
1.4
1.5
1.6
1.7
1.8
1.9
2
2.1
2.2
0 500 1000 1500 2000 2500 3000 3500 4000
電壓(V)
T
0.5C放電
0.1C放電
1C放電
(次)  
圖 5  不同放電電流值的電槽端電壓 
 
 
設定
可控變數 A= { }a ~ l
可控變數範圍
可控變數準位 lA , +−= ol , ,
最小準位差 (min)ALD  
直交表實驗
所有
li
E < 0.1
？
Y
oi A+1 liA=
lAi
Emin
(min)ALD  
？
N
2/A
i
A LDLD =1i+
開始
N
 1i+ i o i= l
liEmin
其它變數不改變
 
其它變數準位不改變
LD 2/iLD=1i+
A
i
A LDLD =1i+
Y A
iOii LDAA 111 +++− +=
A
iOii LDAA 111 ++−+ −=
所有
N
lili AA =+1 liA= lAiEmin.optA
Y
結束
i
i
i i
 
圖6 連續直交表設計流程 
