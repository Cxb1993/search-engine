II 
一、 摘要： 
先進的奈米（nanometer）製程系統晶片
（System-on-Chip, SoC），能提供更好的效能、
整合度及面積成本，但這些更精密複雜的電路
對製程參數漂移（Process Variation）、細微瑕疵、
各 種 干 擾 和 導 線 原 子 電 致 遷 移
（Electromigration）的容忍度也較差。尤其比
一般電路更高密度及面積比例的內嵌式記憶體
（Embedded Memories），將讓生產良率（Yield）
及可靠度（Reliability）大幅下降，使有幸出廠
的晶片也容易在使用中出錯損壞。尤其甚者，
在 SOC 內記憶體的字元寬度、速度容量及數量
均與日俱增，故傳統測試與診斷修復的基礎設
施智財核心（Infrastructure IP, IIP），已帶來不
堪負荷的額外面積及速度減損。此外，對於為
了更高密度而日益普及的單電晶體-靜態隨機
存取記憶體（1T-SRAM）也需要有因應的策略。
因此本計畫有下列目標： 
減少額外面積： 
利用序列傳輸（Serial-Based）及 SOC 中的
內嵌通用處理器做記憶體內建自我測試
（Processor-Based Memory BIST），及自我修復
（BISR）技術開發。 
確保晶片速度： 
記憶體延遲錯誤（Delay Fault）測試及低
延遲 BISR 技術開發。 
提升診療效能： 
設計更快、更精確有效的 BIST 及 BISR 電
路，以免記憶體速度減損，並增加修復效率。
針對不同應用與型態的記憶體，例如佇列
（FIFO）及 1T-SRAM 等，做最佳化（Optimal）。 
擴展修復範圍： 
擴展錯誤更正碼（Error Correction Code）
的修復範圍，並結合改進後的內建自我修復
（BISR）電路，達到相輔相成的效果，更進一
步地同時提升良率與可靠度。應用上亦考慮
1T-SRAM 的特殊條件，使奈米 SOC 的功能、
效能穩定耐用，並在產品開發過程能順利快速
地達到量產。 
總而言之，本計畫從測試、故障診斷定位、
修復，以至良率與可靠度提升，針對不同 SOC
上眾多而多樣的內嵌記憶體發展一系列更先進
的 BIST、BISR、及 ECC 電路，並提供全面而
系統化的整合方案。 
關鍵詞： 奈米、系統晶片、內嵌式記憶體、
可生產性設計、良率提昇、可靠度提升、基礎
設施 IP、量產時程 
Advanced nanometer SOCs have better per-
formance, and high integration level and area ef-
ficiency. However, they are more susceptible to 
process variation, defects, noise, and elec-
tro-migration problems. Especially, the embedded 
memories have higher density and occupy more 
area than logic circuits in a typical SOC, resulting 
in lower manufacturing yield and reliability. Ad-
ditionally, as the number of memories and their 
speed grows rapidly in an SOC, the traditional 
testing, diagnosis and repair Infrastructure IP will 
incur too much area overhead and timing penalty. 
Therefore, there should be a better reliability/ 
yield improvement solution for embedded memo-
ries, including 1-T SRAM. 
This project achieved the following goals: 
1. Reduced area overhead: Serial and 
Processor-Based Memory BIST and BISR 
methodologies. 
2. Reduced timing penalty: Memory delay-fault 
test and low-timing-penalty BISR 
methodologies. 
3. Enhanced testing and repair performance: 
Designing better BIST and BISR circuits to 
reduce timing penalty and enhance repair 
efficiency (1T-SRAM included). 
4. Extend the repair field: Integrating BISR and 
Error Correction Code (ECC) to ramp up 
both yield and reliability (1T-SRAM 
included). 
In summary, this project generates enhanced 
testing, diagnosis, repair IIPs and an integrated 
platform for the enhancement of yield and relia-
bility of embedded memories in different nano-
meter SOCs. 
Keywords: Nanometer, SOC, Embedded 
Memories, Design for Manufacturability, Yield 
Ramp-Up, Reliability Ramp-Up, Infrastructure IP, 
Time-to-volume 
2 
 
圖2 Yield Learning Curve [1] 
提升記憶體的良率有幾種不同的方法，傳
統上使用外部測試與修復設備，其費用約佔製
造總成本的 40%，主因是高階的測試機台十分
昂貴。 
(三) 文獻探討 
對嵌入式記憶體的測試而言，使用內建自
我測試(Built-in Self-Test, BIST)的智財核心是
最常被使用的方法。圖 3 介紹了 Memory BIST 
的基本架構。依照功能  BIST 可分為  Con-
troller， Sequencer 與  Test pattern generator 
(TPG)。Controller 接受外界來的控制，負責接
收不同的測試演算法與測試模式，經過解碼並
產生內部的控制訊號，以管理 BIST 的測試流
程。 Controller 通常會考慮能夠適用於不同的
記憶體，而做單一的設計，以達到控制的一致
性。同時在多個記憶體核心的測試環境下也能
夠共用 Controller 區塊。測試所需的指令可以
用循序（Serial）的方式輸入並儲存在  Test 
Command/Information Storage Module 中 。
Controller 所下的指令經過解碼後直接控制 
Sequencer，並產生記憶體測試所需要的位址與
資料的序列 (Sequence)，如常用的 March Test 
規則性的位址與資料序列。這些較高階的記憶
體控制指令，經過 TPG 區塊處理之後，解譯
為直接控制記憶體的時脈序列，並直接存取記
憶體進行測試。測試所得的資料再經由 BIST 
判斷是否正確，並將比較的結果輸出。詳細的
診斷結果在必要的時候可以循序的方式輸出到
外界以供分析。 
Controller Sequencer
Test
Pattern
Generator
Test Command/Information Storage
Module
Serial
data in
Serial
data out
Error Error
To
Memory
Address
BIST
control
signals
Memory
CommandCommand
Hand-
shaking
 
圖3 MBIST 架構圖 
這樣的技術對嵌入式靜態存取記憶體以發
展得十分成熟，並且已有商業化產品可供使用。
我們在過去的研究中亦已開發出優於商業化產
品之技術，並開發出 BIST Compiler 工具
（BRAINS）[2] 然則對於新興的嵌入式記憶體
如 1T-SRAM 還未有成熟的技術可供使用，這
包含了測試的方法、以及執行測試演算法的內
建自我測試的智財核心等技術仍待克服。同時
由於現今的 SOC 內，含有數百個以上不同的記
憶體核心已經是常見的情形，因此對 SOC 的設
計者而言，自我測試自動產生器將是與記憶體
自動產生器同等重要的 IIP。圖 4 為記憶體自動
產生器（BRAINS）的架構。藉由預先建立好
的記憶體測試特性，或是使用者的特殊需求，
可產生一個整合的自我測試電路，以適用於數
百個以上記憶體的測試要求。 
 
圖4 BIST Compiler 架構圖 
先進的高密度奈米技術，也使現今追求高
效能的網路或影像處裡系統晶片中，記憶體的
位元寬度、容量數量均與日俱增，導致傳統測
試方案產生不堪負荷的額外電路面積。現有的
作法中，共用模組也會造成過多的繞線面積；
而使用序列傳輸來取代平行傳輸就無法全速測
試（At Speed Testing），這對現今高速運作的系
統將有不利的測試涵蓋率損失（Test Coverage 
Loss）。用 SOC 內建通用處理器來做測試我們
也有過初步的研究，就是利用原有的處理器與
系統匯流排來取代部分的 BIST 電路，但仍得
在面積負擔及測試時間上做取捨。因此，需要
有更小更省面積，並能全速測試的方案。而且
在日益複雜的系統晶片，這些越來越快的記憶
體，也越埋越深，難以用外部測試機台來全速
測試。因此延遲錯誤（Delay Fault）測試的 IIP
也將是必備的，以確保晶片的速度。 
在測試完成後，一般可使用額外的行和列
的備援記憶體單元來替換故障元件，這樣能提
高記憶體良率(如圖 5)。但增加備援記憶體則會
GUI 
RAM/BIST
Description
Parser  
 
Compile 
Engine 
Memory 
Lib
BIST  
Template 
Synthe-
Cell  
RTL
Netl
4 
若能妥善搭配，就能達到相輔相成的效果，同
時大幅提升良率與可靠度。 
總結來說，一個成功的晶片系統不單只是
設計者單方面的努力就能達成，這些晶片能否
被成功的製造、量產、並有良好的可靠度也是
決定性的關鍵。今日奈米的製造技術使得晶片
中的嵌入式記憶體不管是種類、數量及容量皆
大幅成長，進而嚴重影響晶片的最終良率與可
靠度。可測試性設計的需求已成為最基本的條
件。然則測試的結果僅反應製程的結果，難以
對良率的提升有所貢獻，因此必要的故障分析
診斷是必備的技術之一，可藉由分析的結果反
映給製程人員及設計人員共同為產品良率的提
升來努力。但製程的提昇仍有技術極限，還是
需要更強大的修復及容錯方案來確保良率與可
靠度。如今在晶片系統的時代中，我們講求以
智財核心為主的設計方法，能夠快速地建構高
效能、多功能性的晶片系統，大幅縮短晶片設
計的時間。應用同樣的方法，設計者若能方便
的使用這些基礎設施智財核心來幫助提升記憶
體元件的良率、品質與可靠度，也能大幅縮短
量產的時程，提前將產品推上市場，這就是可
生產性的設計概念。本計畫將延續過去已發展
或發展中的測試、診斷與修復技術，將這些技
術以智財核心的型態整合進複雜的晶片系統中，
就如同設計者在使用其他功能性的智財核心一
般方便。最後，再整合所有智財核心，建立一
套完善的記憶體良率與可靠度提升流程，以便
套用到各種不同的奈米 SOC。能讓使用者以最
小的代價達成對嵌入式記憶體測試、診斷、分
析、修復與容錯的目的。 
(四) 研究方法 
在 SoC 中常有大量且高頻寬的記憶體需要
測試，而造成過多繞線（Routing）及面積負擔
的問題。所以計畫將部分平行傳輸的架構，改
為序列傳輸；並盡力減少智財核心（IP core）
的面積；還要能夠達到全速（At-Speed）的測
試。因此，我們計畫改進我們過去所開發的記
憶體內建自動測試電路（Memory Built-in Self 
Test）產生器[2]，如圖 7 [3]所示。 
此方法一改過去盡是高速高頻寬的傳輸架
構，而當繞線距離較遠時，便採用少量的位元
作序列傳輸，以減少過多的繞線負擔。部分的
Sequencer 也與 Test Pattern Generator 做整合，
以進一步減少面積負擔。並且，為了能夠全速
測試，仍以緊臨記憶體的 TPG 做高速的平行傳
輸。 
 
圖7 Serial-Based MBIST Architecture 
[3] 
然而，影像處理及高速網路等高階應用，
需要越來越大量而快速的平行運算，因此多核
心（Multi-core）架構的規模越來越大，使 SOC
中的記憶體數量倍增。這在之前，未考量大量
記憶體的架構下，要以合理的面積負擔（Area 
Overhead），達到全速測試（At-speed Test）及
完備的測試涵蓋率（Test Coverage），將花費過
長的測試及診斷時間。因此計畫針對，大規模
記憶體常用的陣列架構（如圖 8 [4]），在低面
積負擔、高測試涵蓋率及全速測試的條件下，
提高測試診斷的平行化（Parallel）與自動化，
以節省測試診斷的時間。 
 
圖8 Test Scheme for Memory Arrays 
[4] 
高效率的測試架構，除了能節省測試時間
成本、提高測試涵蓋率品質外，還有助於提高
良率。例如，以反覆的檢測結果為基準，來微
調記憶體的工作電壓與電流。以之前調校快閃
記憶體（Flash Memory）工作電壓的成果[5]為
基礎，計畫以同時微調反覆式磁性記憶體
Controller
Sequencer
T
P
G
T
P
G
MCK
MBR
MBS MBC MSI MSO MRD MBO
MCK
MBR
Sctl
Ssi
Sso
Ssi
Sctl
MBR
MCK
Tctl
Tsi
MBR
MCK
Tctl
Tsi
Tsi
Tctl
T
P
G
T
P
G
MBR
MCK
Tctl
Tsi
MBR
MCK
Tctl
Tsi
T
P
G
MBR
MCK
Tctl
TsiTso Tso Tso
Tso
Tso
RAM RAM RAM RAM RAM
Sso
MBP
T
P
G
MBR
MCK
Tctl
TsiTso
RAM
External ATE
MM
MM
MM
MM
BIST Controller
T
T
T
T
T
T
T
T
T
T
T
T
T
T
T
T
S S
S S
M: Memory core   
S: Sequencer
T: Test pattern    
generator
MM
MM
MM
MM
6 
測試等等，以同時支援眾多不同的記憶體測試。
有效彌補傳統測試架構對於記憶體個數多、容
量小、頻寬大時，在繞線面積、測試速度、診
斷能力上難以面面俱到的問題。實驗證實，在
全速測試並支援診斷模式的條件下，一個 20
顆記憶體的晶片，與傳統的測試方式比較，能
節省 28%的晶片面積[3]。表 1 [14]比較現在與
之前的成果（BRAINS [2]）及常見的商業軟體
（Commercial BIST tool），顯示以新的架構，
只要多花少數邏輯閘（Gate）便能大幅減少繞
線（Path）數量，進而縮減所佔晶片總面積
（Area）。 
表1 AREA OVERHEAD WITH WIRE ROUTING 
[14] 
 
2. 記憶體陣列測試與診斷之效率提升
（Improving Testing and Diagnosis 
Efficiency of Regular Memory Arrays）[4, 
16] 
以過去的內建自動測試電路（Built-in Self 
Test）[2] 為基礎，新增了提早結束（Early Stop）、
循序或平行分組測試（Sequential or Parallel 
Group Testing）、平行診斷（Parallel Diagnosis）
以及自動診斷（Diagnosis Automation），大幅減
少測試與診斷的時間。表 2 [4]以 32 個 6Kx64 
SRAM（靜態隨機存取記憶體）為例，再因分
組及錯誤分佈，分為最壞（Worst, W）及最好
（Best, B）的情況，在錯誤數量為 100 時，測
試及診斷時間進步約 6 及 22 倍，而額外面積負
擔（Area Overhead）僅增加 10%到 17%。 
表2 COMPARISON OF TEST CYCLES 
 
3. 反覆式磁性隨機存取記憶體操作電流之
搜尋方法（Toggle MRAM Operating 
Current Search Method）[6, 17] 
以內建的記憶體自動測試電路（Memory 
Built-in Self Test）[7-8]，搭配螺旋搜尋分析法
（Spiral search），可以大幅節省調校的時間，
節省測試機台的成本。圖 12 [6]顯示，以 1Mb
的 MRAM 為例，內建的螺旋分析法（Spiral 
search）比傳統的測試機台分析快了一個 Order
以上，而其只需要 1440 個邏輯閘（Gates），約
0.0094%的額外面積負擔（Area Overhead）。 
 
圖12 最佳操作電流值搜尋時間比較 
4. 記憶體可調式備援修復方案
（Configurable Spare Architecture and 
Allocation Algorithm for Memory 
Repair）[11, 18-19] 
可調式（Configurable）備援修復方案
（Redundancy Repair Scheme），可設定修復多
種規律的矩形集合。而為了與其他記憶體修復
方案比較，選擇能隨時依情況，轉為行或列
（Row/Column, R/C）的備援單位，也就是 0 [18]
的 Pivoting Lines 為例。並改造先前的備援配置
分析（Redundancy Analysis, RA）演算法[10]來
搭配，以備援的重組轉向，取代備援配置，並
能同時支援多種形狀的修復方式。因而提高備
援使用效率，減少 RA 的複雜度以及額外分析
時間負擔（Analysis Time Overhead）、額外面積
負擔（Area Overhead）。以便於採用分散式的架
構，免除中央控制的各種負擔，進一步縮減診
斷修復資訊的傳輸時間以及測試修復時間，提
高可延用性（Scalability）。而修復成功率（Repair 
Rate）雖不像[20]的最佳化（Optimal），但也與
[21-22]一樣，除了少數的極端狀況（Corner Case）
外，也都是最佳化。再加上能隨時轉為行或列
1.00
32.00
21.44
1.00
30.80
20.91
374,799
725,903
1,100,702
374,799
754,113
1,128,912
374,799
23,229,344
23,604,143
Test mode
Diag. mode
Total
1
1.00
32.00
21.52
1.00
23.12
17.16
374,799
734,093
1,108,892
374,799
1,016,193
1,390,992
374,799
23,491,424
23,866,223
Test mode
Diag. mode
Total
10
1.00
32.00
22.24
1.00
7.18
6.60
374,799
815,993
1,190,792
374,799
3,636,993
4,011,792
374,799
26,112,224
26,487,023
Test mode
Diag. mode
Total
100
Ratio (B)Ratio (W)Proposed (B)Proposed (W)BRAINSFault_Num
8 
Ovehead），便能大幅減少測試的時間成本。已
完成碩士論文[6]，將投稿研討會論文[17]。 
(四) 記憶體可調式備援修復方案
（Configurable Spare Architecture and 
Allocation Algorithm for Memory 
Repair）[11, 18-19] 
可調式備援修復方案，能依錯誤分佈，選
擇合適的涵蓋形狀，不僅限於傳統的行列
（Row/Column）。相較其他方案[20-22]，有更
高的備援使用效率、更低的分析複雜度、額外
面積與時間負擔（Area and Analysis Time 
Overhead），及一樣接近最佳化（Optimal）的
修復成功率（Repair Rate），尤其適合集中而複
雜的錯誤分佈，及數量旁大的記憶體。已發表
研討會論文[11]、申請專利[19]，期刊論文[18]
也即將完成。 
(五) 快閃記憶體之內建自我修復方案
（Built-In Self-Repair Schemes for 
Flash Memories）[12-13, 23] 
NOR-type Flash 的修復方案[12]能處理備
援共用感應放大器（Sense Amplifier）的問題。
NAND-type Flash 的修復方法，以同樣的區塊
（Block）備援，成功處理區塊架構的限制。已
發表研討會論文[12]、申請專利[23]，並投稿期
刊論文[13]。 
 
References 
 
[1] Y. Zorian, "Embedded infrastructure IP for SOC 
yield improvement," in Proc. IEEE/ACM Design 
Automation Conf. (DAC), New Orleans, 2002, pp. 
709-712. 
[2] C. Cheng, C.-T. Huang, J.-R. Huang, et al., 
"BRAINS: A BIST Complier for Embedded 
Memories," in Proc. IEEE Int'l Symp. on Defect 
and Fault Tolerance in VLSI Systems (DFT), 
Yamanashi, 2000, pp. 299-307. 
[3] L.-M. Denq and C.-W. Wu, "A Hybrid "BIST" 
Scheme for Multiple Heterogeneous EMbedded 
Memories," in Proc. 16th IEEE Asian Test Symp. 
(ATS), Beijing, 2007. 
[4] T.-Y. Wu and C.-W. Wu, "Improving Testing and 
Diagnosis Efficiency of Regular Memory Arrays," 
Master Thesis, Dept. Electrical Engineering, 
National Tsing Hua University, Hsinchu, Taiwan, 
2009. 
[5] Y.-C. Dawn, J.-C. Yeh, C.-W. Wu, et al., "Flash 
Memory Die Sort by a Sample Classification 
Method," in Proc. 14th IEEE Asian Test Symp. 
(ATS), Kolkatta, India, 2005, pp. 182-187. 
[6] S.-H. Wang and C.-W. Wu, "Toggle MRAM 
Operating Current Search Method," Master Thesis, 
Dept. Electrical Engineering, National Tsing Hua 
University, Hsinchu, Taiwan, 2009. 
[7] C.-L. Su, C.-W. Tsai, C.-W. Wu, et al., "Testing 
MRAM for Write Disturbance Fault," in Proc. Int'l 
Test Conf. (ITC), Santa Clara, 2006. 
[8] C.-L. Su, C.-W. Tsai, and C.-W. Wu, "Write 
Disturbance Modeling and Testing for "MRAM"," 
IEEE Trans. on VLSI Systems, vol. 16, p. 277~288, 
Mar 2008. 
[9] S.-Y. Kuo and W. K. Fuchs, "Efficient spare 
allocation in reconfigurable arrays," IEEE Design 
& Test of Computers, vol. 4, pp. 24-31, February 
1987. 
[10] C.-T. Huang, C.-F. Wu, J.-F. Li, et al., "Built-In 
Redundancy Analysis for Memory Yield 
Improvement," IEEE Trans. on Reliability, vol. 52, 
pp. 386-399, December 2003. 
[11] M.-S. Lee, L.-M. Denq, and C.-W. Wu, "BRAINS+: 
A Memory Built-in Self-Repair Generator," 
presented at the Proc. 1st VLSI Test Technology 
Workshop (VTTW), Hsinchu, 2007. 
[12] Y.-Y. Hsiao, C.-H. Chen, and C.-W. Wu, "A 
Built-In Self-Repair Scheme for NOR-Type Flash 
Memory," in Proc. IEEE VLSI Test Symp. (VTS), 
Berkeley, 2006, pp. 114-119. 
[13] Y.-Y. Hsiao, C.-H. Chen, and C.-W. Wu, "Built-In 
Self-Repair Schemes for Flash Memories," IEEE 
Trans. on Computer-Aided Design of Integrated 
Circuits and Systems, submitted 2009. 
[14] L.-M. Denq, Y.-T. Hsing, and C.-W. Wu, "Hybrid 
BIST Scheme for Multiple Heterogeneous 
Embedded Memories," Design & Test of 
Computers, IEEE, vol. 26, pp. 64-73, 2009. 
[15] L.-M. Denq and C.-W. Wu, "Testing Techniques 
for Multiple Heterogeneous Embedded Memories," 
PhD Thesis, Dept. Electrical Engineering, National 
Tsing Hua University, Hsinchu, Taiwan, 2009. 
[16] T.-Y. Wu, P.-Y. Chen, C.-W. Wu, et al., "Improving 
Testing and Diagnosis Efficiency of Regular 
Memory Arrays," in Proc. Int'l Symp. on VLSI 
Design, Automation, and Test (VLSI-DAT), 
submitted 2010. 
[17] S.-H. Wang, C.-Y. Chen, and C.-W. Wu, "Toggle 
MRAM Operating Current Search Method," in 
preparation. 
[18] M.-S. Lee, L.-M. Denq, and C.-W. Wu, "BRAINS+: 
A Tool for Generating Memory Built-In 
Self-Repair Circuits," in preparation. 
[19] M. Lee and C.-W. Wu, "Method for Repairing 
Memory and System Thereof," U.S. Patent 
20090119537, 2009. 
[20] T. Kawagoe, J. Ohtani, M. Niiro, et al., "A Built-In 
Self-Repair Analyzer (CRESTA) for Embedded 
DRAMs," in Proc. Int'l Test Conf. (ITC), 2000, pp. 
567-574. 
[21] C.-D. Huang, J.-F. Li, and T.-W. Tseng, "ProTaR: 
An Infrastructure IP for Repairing RAMs in 
System-on-Chips," Very Large Scale Integration 
(VLSI) Systems, IEEE Transactions on, vol. 15, pp. 
1135-1143, 2007. 
[22] T.-W. Tseng and J.-F. Li, "A Shared Parallel 
「發展國際一流大學及頂尖研究中心計畫」補助國內專家學者 
出國參加國際學術活動報告 
                                                              97 年  12 月  04 日 
報告人姓名 
 
陳靜怡 
 
系  所 
及職稱 
 
電機系/博士生 
 
時  間 97/11/25~97/12/01 
出國目的 
參加 17th Asian Test 
Symposium 並報告論文 
地  點 日本 北海道 札幌市 
發表論文 
題目（如有） 
 (中文) 磁性記憶體寫入干擾錯誤的測試與診斷之演算法產生與評估 
 (英文) Test and Diagnosis Algorithm Generation and Evaluation for MRAM 
Write Disturbance Fault 
我是在第四天議程的第十場次(Advanced Memory Test Session)報告，這也是大會的最
後一個場次。報告的這篇論文題目是磁性記憶體寫入干擾錯誤的測試與診斷之演算法產生與
評估，是與碩士班同學羅婉瑜、博士班學長蘇錦榮、以及吳誠文教授共同發表的論文，由於
磁性記憶體是一種較新穎的記憶體，目前並不是所有人都了解這樣的記憶體，所以報告時先
花了一些時間介紹這樣的記憶體，再報告我們在此篇論文中所提出的測試診斷方法以及所發
展的軟體。報告完之後，這個研討會也完美的落幕了。 
 
 
二、心得 
這次參加亞洲測試研討會並非第一次參加國際性的研討會，但是卻是我第一次出國參與
並在研討會上報告。出國前經過吳誠文教授以及蘇錦榮學長、陳瑩晏學長的指點，學會許多
有用的報告技巧、在報告之前亦已多次演練，因此實際報告時並不會非常緊張。報告完之後
有一些人提問，分別是紐西蘭人、義大利人、以及日本人。因為口音的問題，當下並不能及 
時地了解並回答好問題，幸好老師也幫忙提出見解而解圍，有驚無險。這個第一次報告的經
驗使我印象深刻，我也在報告完之後與這個議程的 Chair 多田哲生教授(德島文理大學, 日
本)合影留念。 
 
與 Advanced Memory Test Session 議程之 Chair 多田哲生教授合影留念 
 
 
得到 Asian Test Symposium 大會頒發證書一張 
 
發展國際一流大學及頂尖研究中心計畫」補助國內專家學者   
出國參加國際學術活動報告   
 
97 年  12 月  8 日   
 
報告人姓名 鄧力銘   
系 所   
及職稱 電機工程學系 博士生   
出國目的   
參加  2008亞洲測試研討會 
(Asian Test Symposium)，並發 
表學術論文   
時 間  97.11.24 –  97.11.27   
地 點 日本 札幌   
發表論文   
題目（如有）   
(中文)   
(英文)Area and Test Cost Reduction for On‐Chip Wireless Test Channels with   
System‐Level Design Techniques   
 
一、參加經過   
 
Asian Test Symposium自  1992以來今年已邁入第十七屆，是亞洲區在積體電路測
試領域討論範圍最廣，發表論文數量最多，規模最大的研討會，以往皆有來自全
球各地相關領域的研究學者與工程師參與討論及意見交流。本次於  11月  24 – 
27日日本札幌京王飯店舉行。討論範圍涵蓋  20項主題，包括邏輯測試、記憶體
測試、測試資料壓縮、  RF測試、類比與混模訊號(Mixed‐Signal)測試、延遲  (Delay)
測試、系統晶片測試、容錯相依系統等諸多範疇。共發表了  62篇學術論文與  12
篇來自業界的實務經驗。 
 
會議的第一天是  keynote speech，分別邀請了美國國家半導體  (National 
Semiconductor –  USA) 的 Brain STEVENS博士與日本 Hitachi公司的 Kunio 
UCHIYAMA博士進行了兩場精彩的演講。   
 
ATS會場入口  ATS08開幕式測試電路設計方塊圖系統晶片完整測試流程隨著製
程技術的進步，半導體產業面臨的挑戰日趨困難，如何有效的提高測試涵蓋率及 
縮短產品上市時程以提高產品獲利是當前最重要的課題。  Brain STEVENS博士介
紹數個實務上的解決方法，並更進一步的說明未來測試領域的幾個發展走向。而 
 
二、心得   
 
本次參加在日本札幌舉行的  2008亞洲測試研討會，除了展現實驗室研究成果
外，亦透過與國內外的專家學者們的相互討論，以及經驗的分享與交流，汲取許
多寶貴的知識與新的想法思維。各個來自不同國家不同領域的研究人員們會詢問
他們曾經所面臨的困難以及曾經嘗試過的解決方法，尋求是否有合適的解決方案
或是雙方技術合作的機會。此外，特別邀請的專家學者所做的專題報告給予我們
新的視野，藉此我們能瞭解目前全世界在晶片系統測試產業的技術是否有了新的
解決方案或是遭遇了新的問題，參考新的技術以尋求是否有可取之處或是需要改
進的地方，而發現新的問題可以嘗試著去提供解決方案以求更進一步的研究發
展。   
 
藉由學者們在其他領域所提出的方法，可以思考在與自己相關的研究領域中是否
存在同樣或是類似的問題，或是經由問題對應(Problem remapping)的方法在舊有
的問題上得到新的解決方案。便可以減少摸索以及尋求答案的時間。此外，透過
與各國學者們的交流討論，除了促進文化交流外，對我們的研究觀點能有另一個
方向的思考，進而讓研究能夠更加順利有效的進行。   
 
參與業界(工研院系統晶片中心)的學術報告與業界的海報展示進行交流討論   
與愛沙尼亞的教授合影留念 與日本的教授合影留念   
 
三、考察參觀活動（無是項活動者省略）   
無   
 
四、建議   
無 
五、攜回資料名稱及內容   
 
 
會議論文集  X 1會議行程表  X 1 
 
其他   
 
 
then TAGS-M develops test algorithms as well as diagnosis
algorithms for memories, especially for MRAM. An un-
March-based test element Read-previous, which increases
WDF’s testability and diagnosability, is introduced and
supported in RAMSES-M and TAGS-M. For fault sim-
ulators in the previous works, the fault coverage for a
specific fault model is defined as the percentage of de-
tected faults among all faults. However, faults in different
physical/structural locations may not be equally likely to
appear [15], [16]. Thus the fault coverage resulted from
simulation may be quite different from the measurement
results of real chips, and the evaluations of test capability
for algorithms are therefore inaccurate. For this reason,
RAMSES-M supports the Weighted Fault Coverage (WFC)
for more realistic evaluation of fault diagnosability for al-
gorithms. Several test and diagnosis algorithms for MRAM
obtained from TAGS-M are compared with traditional
March algorithms in their testing and diagnosis capabilities
in the experimental results.
The rest of the paper is organized as follows. Sec-
tion II introduces the write disturbance fault model and
our proposed method for it. The details of RAMSES-M
and TAGS-M are introduced in Section III. Section IV
shows the simulation results of proposed algorithms and
conventional algorithms. Finally, we give conclusions in
Section V.
II. Test Method for Write Disturbance Fault
In this section, we introduce the Write Disturbance
Fault (WDF), which is a fault model for MRAM. Based
on characteristics of WDF and a special design of MRAM,
a specific test method is proposed for WDF testability and
diagnosability improvement.
A. MRAMWrite Disturbance Fault
In [6], Write Disturbance Fault is proposed as a fault
model for toggle MRAM. WDF occurs when MTJ devices
in a MRAM chip may not have uniform operating regions
due to process variation and defects, and the shift in
operating region can be significant. For those cells with
great shift in operating region, even a weak magnetic field
may switch its magnetic state, and therefore they are likely
to be flipped unexpectedly during a Write operation on
other cells. The fault behavior of WDF is that data in a
MRAM cell is flipped unexpectedly by a magnetic field
generated during a Write operation on other cells. If a
Write operation on the cell will flip another cell, the cell
under operation (base cell) is an aggressor cell whereas
the flipped cell is a victim cell.
To activate and observe WDF, we can toggle the data
stored in the aggressor cell, then read out the data stored
in the victim cell to verify it. Note that, for the toggle
MRAM, when fault occurs in a victim cell due to a Write
operation applied on its aggressor cells, one more Write
operation applied on any aggressor cell would recover the
victim’s value since the data is toggled twice. That is, fault
effect in a victim cell will be masked if even number of
Write operations are applied on its aggressor cells; on the
other hand, odd number of Write operations can activate
WDF.
For simplification of test generation, in [6] we classified
WDF into four subsets according to location and number
of aggressor cells, and used WDF(nL, nH) to denote
them: 1) WDF(e, e), 2) WDF(e, o), 3) WDF(o, e), and
4) WDF(o, o), where nL and nH indicate the number of
aggressor cells with lower and with higher address than
victim cell respectively. In addition, symbol e(o) stands
for even(odd) number of aggressor cells. For example,
WDF(o, e) stands for the WDF in a victim cell who has
odd number of aggressors with lower address than it,
and even number ones with higher address than it. As
mentioned above, even number of Write operations may
mask the fault effect of WDF; hence WDF(e, e) can’t be
detected by any of March elements while the victim cell of
the other three subsets has odd number of aggressors. For
example, given an initial state of the MRAM, the March
test element, ⇑ (ra, wb), can detect WDF(o, e).
B. Improved MRAM
A special MRAM design has been introduced in [17],
in which the write lines are clad in a high-permeability
layer to concentrate the generated magnetic field on base
cell and further reduce the switch current. It is shown
that in a certain distance, magnetic field generated by
a cladding write line is stronger than the one without
cladding techniques. Accordingly, providing currents on
a set of write lines, the cells on the same write lines
experience stronger field than the other cells on different
write lines. As a result, the write disturbance on cells on
different write lines is weaker than the cells on the same
write lines with base cell. In addition, because the strength
of the field decays as the distance increases, cells adjacent
to the base cell are most likely to be flipped unexpectedly
when they are unhealthy. Therefore, compared to the cells
in different row and different column, the surrounding cells
4168
Authorized licensed use limited to: National Tsing Hua University. Downloaded on October 29, 2009 at 21:22 from IEEE Xplore.  Restrictions apply. 
(a) (b) (c) (d)
Fig. 3. Possible distributions of aggressors for
WDF(e, e).
III. Test and Diagnosis Algorithm Generation
We propose RAMSES-M and TAGS-M which effi-
ciently develops and evaluates test algorithms for MRAM
testing and diagnosis, respectively. RAMSES-M is able to
evaluate algorithm in terms of fault detection and diagnosis
capability, especially for WDF, in a short time period.
With the aid of RAMSES-M, TAGS-M generates shortest
algorithms for fault detection and diagnosis given a test
time budget. Additionally, both RAMSES-M and TAGS-
M support Read-previous operation; therefore TAGS-M is
capable of generating algorithm containing Read-previous
for MRAM detecting and diagnostics in permitted execu-
tion time.
A. RAMSES-M
RAMSES-M is extended from our RAM fault simulator,
RAMSES [12], [13], which evaluates algorithms in terms
of fault coverage. The RAMSES is designed only for
algorithms composed of pure March operations. For WDF
testability and diagnosability improvement, we propose
the RAMSES-M that supports algorithms containing the
Read-previous operation, which helps test and diagnosis
of WDF as well as other traditional faults. The RAMSES-
M inherits the merits of fast simulation and easy inclusion
of fault model of the RAMSES. Moreover, RAMSES-M
adopts two concepts, diagnosis capability and a practical
evaluation of fault coverage for real case, Weighted Fault.
The two features are discussed in detailed.
1) Weighted Fault Coverage for WDF:
For a fault model, the fault coverage is defined as the
percentage of detected faults. Conventionally, the probabil-
ities of all distributions of the victim and its aggressors are
considered equal during the ideal evaluation of the fault
coverage. However, as mentioned in Section II-A, WDF
occurs due to excessive magnetic field during the Write
operation, and the magnetic field decays with distance. It
implies that the real probability of disturbance occurring
should increase as the distance between the victim and
its aggressors decreases, and the fault coverage evaluated
may be impractical in the real cases. Therefore we propose
the concept of weighted fault for WDF testability evalu-
ation. Each of possible distributions of the victim and its
aggressors is assigned a proper weight, according to the
probability. After fault simulation, the resulted weighted
fault coverage (WFC) evaluates the algorithm in terms of
detection capability in real case. WFC evaluation capability
is integrated into RAMSES-M for WDF, which helps
TAGS-M in generation of algorithms for MRAM testing.
2) Diagnosability:
The proposed RAMSES-M provides two types of mea-
surement for evaluating the quality of diagnosis test al-
gorithms - the Diagnosability Ratio (DR) and the WDF
diagnosability. In [11], DR is defined as the ratio of the
number of distinguishable fault types among the number
of detectable fault types. DR of algorithm represents its
ability to identify the cell’s fault type by its fault syndrome.
The ideal value of DR is 1, which means every fault type
has a unique syndrome. If DR of an algorithm is high, most
of fault syndromes in the fault dictionary are mapped to a
single fault, that is to say, we can easily identify the fault
type of a faulty cell by mapping its syndrome with the
fault dictionary. RAMSES-M provides the DR evaluation
for algorithms where users can specify the set of target
fault types. The algorithms evaluated with high DR are
suitable for diagnosis for the set of target faults.
The WDF diagnosability is a kind of diagnosability
specialized for WDF. It is defined as the ratio of the
number of distinguishable syndrome types which belong
to WDF among all fully detectable WDF types. With the
support of Read-previous, nH and nL are further classified
into four types: oa, ona, ea and ena, where a and na are
used to indicate whether the victim cell has an adjacent ag-
gressor of higher or lower address. Algorithms with Read-
previous cover 15 of total 16 types of WDF. Similarly,
the ideal value of WDF diagnosability is 1, which means
each type of WDF has a unique syndrome. Hence given
a syndrome of a faulty cell, we can identify not only the
existence of WDF but also the aggressors’ distribution.
Because the WDF model is specific to MRAM, to generate
more WDF’s syndrome types which differ from traditional
faults’ syndromes is more important than distinguishing
between other fault types. The WDF Diagnosability targets
on WDFs thus adopting WDF Diagnosability evaluation
helps in generation of MRAM diagnosis algorithms. The
same idea could be applied to other fault models.
41820
Authorized licensed use limited to: National Tsing Hua University. Downloaded on October 29, 2009 at 21:22 from IEEE Xplore.  Restrictions apply. 
because they can only detect WDF whose victim has odd
number of aggressors. Consequently, March C- only has
1 WDF syndrome type different from other traditional
faults and March 17N has 3 types. Although the main
purpose of March RP is testing, it has 13 different WDF
syndrome types with the aid of Read-previous. Since RP
15N can diagnose not only WDF but also traditional
faults with shorter test length, Read-previous can help
distinguish between the WDFs and traditional faults. With
Read-previous, algorithms achieve higher testability and
diagnosability of WDF.
TABLE I. Algorithms generated by TAGS-M.
March C- ⇑ (wa),⇑ (ra, wb),⇑ (rb, wa),⇓ (ra, wb),
⇓ (rb, wa),m (ra)
March RP ⇑ (wa),⇑ (ra, wb, r−1b),⇓ (rb, wa, r−1a),
⇓ (ra, wb),⇑ (rb, wa),m (ra)
RP 13N ⇑ (wa),⇑ (ra, wb, r−1b),⇑ (rb, wa),⇑ (ra),
⇓ (ra, wb, r
−1b),⇓ (rb, wa),m (ra)
RP 15N ⇑ (wa),⇑ (ra, wb, r−1b),⇑ (rb, wa, r−1a),
⇑ (ra),⇓ (ra, wb, r
−1b),⇓ (rb, wa, ra),⇑ (ra)
March 17N
⇑ (wa),⇑ (ra, wb, rb),⇑ (rb),
⇑ (rb, wa, ra),⇑ (ra),⇓ (ra, wb, rb),
m (rb),⇓ (rb, wa, ra),m (ra)
TABLE II. Algorithms comparison.
Write Disturbance Fault DRFC WFC Diagnosability
March C- 75.00% 75.00% 8.3% 43.2%
March RP 93.75% 99.29% 86.7% 76.7%
RP 13N 93.75% 99.29% 100.0% 88.4%
RP 15N 93.75% 99.29% 100.0% 100.0%
March 17N 75.00% 75.00% 25.0% 77.5%
V. Conclusion
We proposed RAMSES-M and TAGS-M for evaluation
and generation of the test and diagnosis algorithms. A
test method for WDF and the concept of weighted fault
coverage are introduced and applied in RAMSES-M and
TAGS-M. Several test and diagnosis algorithms generated
by TAGS-M are compared with traditional March algo-
rithms, and the results show that the generated algorithms,
RP 13N and RP 15N, has the best testing and diagnosis
capability.
References
[1] L. Savtchenko, B. N. Engel, N. D. Rizzo, M. F. Deherrera, and
J. Janesky, “Method of writing to scalable magnetoresistive random
access memory element,” U.S. Patent No. 6545906, Apr. 2003.
[2] T. Kai, M. Yoshikawa, M. Nakayama, Y. Fukuzumi, T. Nagase,
E. Kitagawa, T. Ueda, T. Kishi, S. Ikegawa, Y. Asao, K. Tsuchida,
H. Yoda, N. Ishiwata, H. Hada, and S. Tahara, “Improvement of
robustness against write disturbance by novel cell design for high
density MRAM,” in Proc. IEEE IEDM, Dec. 2004, pp. 583–586.
[3] J. J. Nahas, T. Andre, C. Subramanian, B. Garni, H. Lin, A. Omair,
and W. Martino, “A 4Mb 0.18um 1T1MTJ toggle MRAM memory,”
in Proc. IEEE Int’l Solid-State Cir. Conf. (ISSCC), Feb. 2004, pp.
44–512.
[4] D. Gogl, C. Arndt, J. C. Barwin, A. Bette, J. DeBrosse, E. Gow,
H. Hoenigschmid, S. Lammers, M. Lamorey, L. Yu, T. Maffitt,
K. Maloney, W. Obermaier, A. Sturm, H. Viehmann, D. Willmott,
M. Wood, W. J. Gallagher, G. Mueller, and A. R. Sitaram, “A 16-
Mb MRAM featuring bootstrapped write drivers,” IEEE Jour. of
Solid-State Circuits, vol. 40, no. 4, pp. 902–908, Apr. 2005.
[5] C.-L. Su, R.-F. Huang, C.-W. Wu, C.-C. Hung, M.-J. Kao, Y.-J.
Chang, and W.-C. Wu, “MRAM defect analysis and fault modeling,”
in Proc. Int’l Test Conf. (ITC), Charlotte, Oct. 2004, pp. 124–133.
[6] C.-L. Su, C.-W. Tsai, C.-W. Wu, C.-C. Hung, Y.-S. Chen, and M.-
J. Kao, “Testing MRAM for write disturbance fault,” in Proc. Int’l
Test Conf. (ITC), Santa Clara, Oct. 2006.
[7] C.-L. Su, C.-W. Tsai, C.-W. Wu, C.-C. Hung, Y.-S. Chen, D.-Y.
Wang, Y.-J. Lee, and M.-J. Kao, “Write disturbance modeling and
testing for MRAM,” IEEE Trans. on VLSI Systems, vol. 16, no. 3,
pp. 277–288, Mar. 2008.
[8] Y. Shimizu, H. Aikawa, K. Hosotani, N. Shimomura, T. Kai,
Y. Ueda, Y. Asao, Y. Iwata, K. Tsuchida, S. Ikegawa, and
H. Yoda, “”mram” write error categorization with QCKBD,” in
Proc. IEEE Int’l Workshop on Memory Technology, Design and
Testing (MTDT), Taipei, Aug. 2006, pp. 3–8.
[9] A. J. van de Goor, Testing Semiconductor Memories: Theory and
Practice. Gouda, The Netherlands: ComTex Publishing, 1998.
[10] C.-F. Wu, C.-T. Huang, K.-L. Cheng, and C.-W. Wu, “Fault simu-
lation and test algorithm generation for random access memories,”
IEEE Trans. on Computer-Aided Design of Integrated Circuits and
Systems, vol. 21, no. 4, pp. 480–490, Apr. 2002.
[11] L.-T. Wang, C.-W. Wu, and X. Wen, Design for Testability: VLSI
Test Principles and Architectures. San Francisco: Elsevier (Morgan
Kaufmann), 2006.
[12] C.-F. Wu, C.-T. Huang, and C.-W. Wu, “RAMSES: a fast memory
fault simulator,” in Proc. IEEE Int’l Symp. on Defect and Fault
Tolerance in VLSI Systems (DFT), Albuquerque, Nov. 1999, pp.
165–173.
[13] K.-L. Cheng, J.-C. Yeh, C.-W. Wang, C.-T. Huang, and C.-W.
Wu, “RAMSES-FT: A fault simulator for flash memory testing
and diagnostics,” in Proc. IEEE VLSI Test Symp. (VTS), Monterey,
California, Apr. 2002, pp. 281–286.
[14] C.-F. Wu, C.-T. Huang, K.-L. Cheng, and C.-W. Wu, “Simulation-
based test algorithm generation for random access memories,” in
Proc. IEEE VLSI Test Symp. (VTS), Montreal, Apr. 2000, pp. 291–
296.
[15] J. T. de Sousa, F. M. Goncalves, and J. P. Teixeira, “Physical design
of testable cmos digital integrated circuits,” IEEE Jour. of Solid-
State Circuits, vol. 26, no. 7, pp. 1064–1072, July 1991.
[16] J. T. de Sousa and J. P. Teixeira, “Defect level estimation for digital
ICs,” in Proc. IEEE Int’l Symp. on Defect and Fault Tolerance in
VLSI Systems (DFT), Dallas, Nov. 1999, pp. 32–41.
[17] M. Durlam, P. J. Naji, A. Omair, M. DeHerrera, J. Calder, J. M.
Slaughter, B. N. Engel, N. D. Rizzo, G. Grynkewich, B. Butcher,
C. Tracy, K. Smith, K. W. Kyler, J. J. Ren, J. A. Molla, W. A.
Feil, R. G. Williams, and S. Tehrani, “A 1-Mbit MRAM based on
1T1MTJ bit cell integrated with copper interconnects,” IEEE Jour.
of Solid-State Circuits, vol. 38, no. 5, pp. 769–773, May 2003.
[18] C.-F. Wu, C.-T. Huang, C.-W. Wang, K.-L. Cheng, and C.-W. Wu,
“Error catch and analysis for semiconductor memories using March
tests,” in Proc. IEEE/ACM Int’l Conf. on Computer-Aided Design
(ICCAD), San Jose, Nov. 2000, pp. 468–471.
4202
Authorized licensed use limited to: National Tsing Hua University. Downloaded on October 29, 2009 at 21:22 from IEEE Xplore.  Restrictions apply. 
Also, to avoid long simulation time, we will discuss techniques
to improve search performance in Section II-D.
A. Simulated-Annealing Flow
We propose a flow of optimization methodology which
is shown in Fig. 1. The inputs of the flow are SystemC
model, test benches, design constraints, and cost functions.
SystemC models describe the function of each module in
the system. The format of testbench depends on the abstract
level of SystemC model. In our case, we use transaction level
modeling (TLM) methodology. Design constraints specify the
input variables of SystemC model and their ranges of possible
changes, such as the upper bound of transceiver buffer size in
a wireless module.
Fig. 1. Optimization Flow
In SA flow, we first initialize the control variables T
(denotes temperature in the original SA algorithm). Then we
enter two nested loops in the flow after initialization. The outer
loop randomly selects a feasible solution each turn while the
inner loop perturbs each feasible solution passed from the
outer loop. Generally, the outer loop searches in the global
space while the inner loop finds local optimal solution.
In the outer loop, we generate a random solution according
to the following function in each iteration:
vk = v
′
k + r × s×
Tc
Ti
(k = 1, 2, 3, · · · ) (1)
where vk and v′k denotes the kth variable of the to-be-
generated solution and the current best solution, respectively.
r is a random number between −1 and 1. s represents the
step size whose value depends on specific design constraints.
Tc and Ti denote current and initial temperature, respectively.
We compare the newly generated solution and the currently
best one in terms of cost function from SystemC simulation.
For each iteration, we might decrease Tc in outer loop, which
keeps narrowing down the distance between vk and v′k (having
higher probability of keeping currently best solution).
Generally, the input of inner loop is the current best solution
produced by outer loop. However, to avoid stuck in the local
valley, there is a possibility, Pr, that a worse solution newly
generated by outer loop is delivered to the inner loop. The
probability depends on Tc and the distance between vk and
v′k.
Finally, we report the optimal solution and the performance
evaluation results, such as cost, under user defined conditions.
If two nested loops iterate over more cycles, the solution get
more accurate. The execution time of the flow depends on
the number of iterations, the size of test benches, and the
complexity of SystemC model.
B. Design Constraints and Cost Function
Design constraints and cost function are two important
inputs of our method. Design constraints are design spec-
ifications with range limitation defined by designers. The
constraints are usually formatted as follows:
Ck := (i, l, u, s, n) (k = 1, 2, 3, . . . )
where i, l, u, s, and n are denote the initial value, lower
bound, upper bound, step size, and the constrained variable,
respectively. Taking two modules in a communication system
for example: an error control code (ECC) module and a media
access control (MAC) module, their constraints have the forms
as follows:
C1 := (16, 1, 128, 8, parity length)
C2 := (8, 4, 64, 4, checksum length)
where parity length and checksum length are adjustable
variables of ECC and MAC, respectively. It is interesting to
observe in this case that these two modules interact with each
other to ensure correctness of transmission of packets. Of
course, the best performance (higher transmission rate) can be
obtained by selecting upper bounds as parity length = 128
and checksum length = 64. Yet, the cost (area and power)
will be too high with most performance gain not relevant at
all. Hence, it is important to perform search process to find a
set of suitable parameters for these modules.
The optimization goal is to minimize the result of a cost
function which is a comprehensive weighted function of
several types of cost measurement. A system may have several
types of cost measurement such as time, area, power, etc. Some
cost, such as time cost, can be derived from simulation while
the others can be estimated manually by using statistics and
probability. The cost function can be formulated as follows:
total cost = w1c1 + w2c2 + · · ·+ wkck
where wk denotes the weight of each type of cost ck. The
weight of each cost can be analyzed from economics model.
The example for the wireless test system will be presented in
Section III-C.
C. Initialization of T
The control variable T influences the random solution
generation function and the probability of delivering the worse
solution, Pr and the selection of Ti depends heavily with
the individual system. To avoid bad selection for the search
Fig. 3. HOY System Model
have to fix the errors (the test process fails) and rerun the test.
In addition, the length of CRC is proportional to its circuit
area. We use NMAC in to denote the number of information
bits MAC receives (payloads), and NMAC out is the number
of bits sent by MAC to Baseband (including MAC headers).
The two parameters are related as follows:
NMAC out ≈
lbuf
lbuf − lheader − lCRC
×NMAC in
where lbuf , lheader, and lCRC denotes size of MAC buffer,
length of MAC header, and length of CRC, respectively.
More reliable MAC protocol, which uses longer header and
CRC, indicates lower buffer utilization. Besides, different
protocols, polling frequency or duplex types, also influence the
performance of system. Of course, more complex design, such
as high performance ECC circuit or reliable MAC protocol,
indicates bigger circuit area. The SystemC model designers
need to select suitable portfolio of relevant parameters for later
evaluations.
DEU circuit has three buffers: response buffer, instruction
buffer, data buffer. Response buffer stores data from BIST
while instruction buffer and data buffer store the data re-
quired by BIST. The size of each buffer depends on the
ratio of instruction to data in test commands. Because this
ratio depends on different test strategies, instruction buffer
size and data buffer size have to be evaluated case by case.
Therefore, our approach is especially beneficial to this type
of application. Note that the response buffer size shall be the
same as DUT MAC transmit buffer size in order to maximize
the performance. Finally, because the HOY test wrapper is
only an interface to the design of CUT, there is little space
for optimization.
C. Cost Functions
In order to optimize the system, we need to define the cost
function which consists of area cost and test time cost. In
comparison with traditional test flow, more chip area (cost) is
spent on on-chip communication modules. The total extra area
is composed of circuits of Baseband, MAC, DEU and HTW.
For test application, test time is another factor to contribute
to the final cost. In traditional test flow, the time cost is more
important than area cost because the test equipment is very
expensive. In HOY system, however, time cost weighs lower
than area because we have shifted major parts of test function
to on-chip test circuits.
We can derive nominal test time from SystemC simulation.
Yet, in a system with a probability of failing data transmission,
we need to take the errors into accounts. For this purpose, we
introduce techniques to estimate test time.
We focus on the CRC of MAC whose performance is
influenced by its polynomial’s size, lCRC . When MAC frame
size increases (assuming the same bit error rate, Pb), frame
error rate Pf also increases. Although CRC can detect the error
and demand another transmission again, there is a probability
of 2−lCRC that CRC might miss this frame. The exact frame
error rate can be formulated as follows:
Pf = (1− (1− Pb))
lframe ×
1
2lCRC
where Pb is bit error rate of baseband output. It is difficult to
calculate (1 − Pb)lframe because lframe varies with types of
frames and applications. Therefore, Pf can also be approxi-
mates as follows:
Pf ≈
Nf e
Nf t
×
1
2lCRC
where Nf e and Nf t are number of error frame and number of
total frame, respectively. These two parameters can be derived
from SystemC simulation. The total test time tHOY can be
formulated as follows:
tHOY = ts
∞∑
i=1
i · [1− (1− Pf )
Nf t ]i−1(1− Pf )
Nf t
= ts × (1− Pf )
−Nf t
where ts is test time without errors.
Two methods can be used to estimate the area. One is
to calculate the area cost in abstract system level. This is
usually done without any prior information on the design.
The estimation can be calculated based on the size of the
internal memories and complexity of the codes. The estimation
is certainly rough, yet can be modified if more details of the
design are developed during the process.
The other method is to analyze the area from previous
designs. Since we have an implementation of the HOY system
(full chip tapeout), we use this method to estimate the area.
Table I which shows the synthesis result of previous RTL
design indicating that the area is proportional to the buffer
length. The CRC circuit and data/instruction buffer of DEU
circuit have the similar properties, so the total area AHOY can
be formulated as follows:
AHOY = ABB + AMAC + ADEU + AHTW
= 27300 + 440 · lT + 280 · lR + 350 · lC
