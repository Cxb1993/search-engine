一、 中英文摘要及關鍵字 
中文摘要: 
IEEE802.16 標準為 WiMAX 論壇組織所推行的標準之一，在 WiMAX 的通
訊協定中提出了五種型態的 QoS (quality of service)，其中有幾種是專門針對即時
應用像是 VoIP (Voice over IP)之類的程式。 
在此份計畫中我們針對 WiMAX 無線寬頻都會網路關鍵技術進行研究，在研
究方向上我們主要探討當網路開始進入擁塞的時候，藉由調整 VoIP 的語音編碼
速率來得到更好的通話品質。本研究提出了一個新方法叫做 Adaptive VoIP Level 
Coding (AVLC)，能夠同時考慮封包傳輸狀況(封包延遲以及封包遺失)以及連線
所使用的調變方式。當連線使用越好的調變方式，代表在相同的頻寬下可以傳送
越多的資料。所以在網路擁塞的時候，AVLC 會優先調降調變速率較低的 VoIP
流量來換取更多的資源。並透過許多實驗來測試 AVLC 的效能(封包延遲、封包
遺失、調變符碼以及 R-score)。實驗結果證明在網路擁塞的時候使用 AVLC 方法
的確能提升語音通話的品質。 
此外，IEEE 802.16 協定支援了各式各樣的即時與非即時網路服務，協定中
針對非即時性的服務定義了以競爭為基礎 (Contention-based) 的頻寬請求方式。 
在原本的協定中，頻寬請求為了避免碰撞的發生是使用精簡版的二進位指數
後退演算法 (Truncated Binary Exponential Backoff Algorithm) 來做為碰撞解決
方案。然而此種機制當網路流量負荷過大時將會變的沒有效率，而這樣的結果導
致了MS消耗不必要的電力。所以在本研究中，我們針提出一種附加在原有機制
之外的策略方法，來幫助MS能夠迴避網路流量尖峰，並且更有效率的發送頻寬
請求。透過使用我們建議的策略，MS在較低的網路流量狀況下有效率地發送頻
寬請求，節省了額外的電能消耗。此外，使用我們的方法能平緩網路流量曲線，
穩定流量，並且使得MS的電能利用更加有效率。 
由於將802.16 技術應用至下一世代行動通訊系統是一個樂觀的發展方向，
因此本計劃以一年時間針對WiMAX技術作深入完整的研究，希望能在這個題目
上得到一些關鍵技術上的研究成果以提昇國內相關產業在下一世代無線寬頻上
網技術上的競爭力。本報告茲就這一年研究成果作一完整報告。 
 
關鍵字: IEEE802.16、WiMAX、VoIP、R-score、調整語音編碼速率、無線網路、
頻寬請求、擁塞控制、節能操作 
 
英文摘要: 
Abstract—Worldwide Interoperability for Microwave Access (WiMAX) 
technology, which is based on the IEEE 802.16 standard, supports a different quality 
of service for different services. WiMAX is expected to support quality of service in 
real-time applications such as Voice over Internet Protocol (VoIP). When network 
congestion occurs, the VoIP bit rate needs to be adjusted to achieve the best speech 
一個特色是提供了五種 QoS (Quality of Service)型態來傳送資料，並可以簡單的
分為即時(Real-Time) 與非即時 (Non Real-Time) 的服務類型。對於一般使用者
來說，大部分在網路上所使用的即時通訊、收發電子郵件、瀏覽網頁等皆是屬於
非即時的服務類型應用，而即時服務則多是應用在語音交談以及影像瀏覽。不同
的應用程式可以選擇符合自己需求的服務類型以達到更好的運作效率以及更佳
的使用經驗。 
在 WiMAX 物理層使用 OFDM 技術的無線網路下，使用者傳送資料的調變
方法會根據訊號的強度來做調整，訊號越強使用的調變方法也會越好，在物理層
中相同的頻寬可以夾帶的資料量會增加。而在訊號比較差的情況下，就會採用較
低速率的調變方法或是較多用來錯誤更正的訊息來減少資料的遺失。WiMAX 可
以支援高速、QoS、以及遠距離的傳輸，所以許多的應用適合在上面發展，像
VoIP (Voice over IP)就是其中一項。雖然 WiMAX 本身就能提供即時應用的服
務，但使用允許調變 VoIP 速率的應用程式下，就算是使用一樣的語音編碼所要
傳輸的頻寬也可能有所不同，所以我們希望透過此計畫可以想一個辦法在維持一
定通話品質下來服務更多的使用者。而我們觀察到在物理層中的 OFDM 裡頭不
同的調變方法也會造成每一條連線所佔用的頻寬不同，所以當在網路產生擁塞的
時候，WiMAX 可以針對每一條的連線狀況(訊號強度、使用調變方式等等…)來
分別調整不同的語音編碼，來達到更好的語音品質。 
此外，在 IEEE 802.16e 的協定中，更定義了移動式節點的運作相關機制，
其中包含了移動式節點都會面臨到的電源控制問題。由於無線節點本身有著固定
電量的限制，相對來說代表了有著持續使用時間長短的問題，如何能讓固定的電
量有著最有效率的使用成了移動式節點一個重要的課題，為了解決此問題，在協
定中定義了多種不同的省電節約模式。而此計畫亦是站在如何將移動式節點的電
量做妥善利用的角度出發，試著讓其省電效率更加提升。所以我們針對 IEEE 
802.16 的通訊協定中非即時性的服務以省電為考量進行效率的改善，以期能夠使
省電效率提升。 
 
三、 文獻探討及研究方法 
在 ITU-T 所訂定的 G.107[3]中，提到影響 VoIP 通話品質最大的因素為使用
封包遺失(packet loss)以及封包延遲(packet delay)，其中封包遺失包含了語音壓縮
時不同編碼造成的音質損失以及傳送封包的遺失。在討論語音編碼中，本篇論文
使用的主要為 G.722.2 [4]的 AMR，在[5]中有針對許多語音編碼來做其 R-score
值測量，裡頭探討著使用不同的語音編碼或者是使用相同的語音編碼但是不同的
編碼速率會對於 R-score 造成怎麼樣的影響，本篇論文會使用裡頭測量的一些結
果來探討調整 G.722.2 速率到底會產生怎麼樣的影響。 
對於調整語音編碼的研究中，在[6]就有提出對於 AMR 調變速率來提升通話
品質的方法，這篇論文使用的方法為結合偵測網路狀況的 RTCP [7]報告來做調
整。在[8]這篇論文有詳細對於使用 OFDM 的 WiMAX 來做效能的測量和分析，
協定中控制擁塞網路的效果，節省不必要的請求發送，讓每一次的發送更有效
率，達到省電的效果。 
為了增進頻寬請求的效能，我們提出一個新的方法，名為「頻寬請求擁塞控
制」  (BW‐REQ Congestion Control，簡稱為 BCC)  ，這個策略主要的核心想法是儘
可能避免在尖峰流量時傳送頻寬請求，由於 BE 的服務並沒有在 delay 上面有著
即時的需求，所以我們可以讓MS暫緩送出請求，以達到疏散流量的效果。在傳
送一個 BW‐REQ 的時候，  MS會先從廣播的資訊中去判斷現在當下的 Frame 是否
是被標示為高流量的 Frame，如果發現目前流量是判定為高，則 MS會先暫停發
送 BW‐REQ的動作，轉而嘗試進入等級三的節能操作進而迴避高流量的時刻，節
省其電源消耗。我們認為，若是在高流量的時間點發送 BW‐REQ，會有很大的機
率再次碰撞，與其等待另一個 T16 而白白消耗電量，不如先進行一段時間的休
眠，之後等流量較低之後再重新請求。 
透過我們所提出的方法，我們可以將原本打算重新發送 BW‐REQ 的MS流量
進行疏散的動作，讓目前已經處在擁塞狀況的MS不會陷入更糟糕的處境，而遇
到發送新 BW‐REQ 的MS則可以迴避尖峰，並且使用節能操作等級三的做法來進
行休眠的動作，我們預期可以在一段時間後的流量緩和點以較低的請求發送延遲
來成功的送出請求，達到省電的效果。 
 
四、 結果與討論 
在這份研究計畫中，我們分別針對「可調整速率語音編碼」以及「頻寬請求
擁塞控制」來做實驗模擬，以分析我們所提出之改進策略的效能。在實驗中我們
使用 Network Simulator - version 2[16](簡稱 NS2)作為模擬軟體，並搭配由美國國
家標準和技術研究院 (National Institute of Standards and Technology，簡稱 NIST) 
發布的 IEEE 802.16 的模組進行效能的量測。 
在 IEEE 802.16 的網路架構中使用 BE 的服務類型，試著降低平均請求延遲，
讓每一次的請求程序更有效率，並降低碰撞次數，因此平均的請求延遲與碰撞次
數是我們欲觀察的重要指標。由於我們的策略中，當遇到較高網路流量時採取先
進入休眠模式來迴避尖峰，相對的可能會造成在上行方面的總輸出吞吐量降低，
而觀察我們的吞吐量也是其中重要的指標之ㄧ 
 
4.1 可調整速率語音編碼 
 
圖一、可調整速率語音編碼之模擬環境架構示意圖 
本實驗將每一個時間點因調變速率所節省出來的調變符碼給加總統計出
來，將節省最多調變符碼時間點設定為 100%，像圖三為第 56秒使用 ASR 節省的
最多我們就設定為 100%，其餘時間點則是按照比例來計算百分比。圖三為在 30
秒到 100秒之間因調降編碼速率所節省的調變符碼相對百分比。 
由圖三可以得知，在一開始調整的時候，因為 AVLC 會考慮連線使用的調變
方式，所以優先會被下降較多的連線會是調變方法效率較差的連線，因此可以節
省出來的頻寬會相對的較多，調整一條 BPSK(1/2)連線所節省下來的調變符碼會是
一條 64QAM(3/4)連線的 9倍之多，雖然 AVLC 較 ASR 複雜一些(因為要考慮到的條
件比較多)，但在每條連線所在環境不同的時候，AVLC 方法能夠適應變動更快的
環境。 
 
4.2 頻寬請求擁塞控制 
 
圖四、模擬環境架構示意圖 
在評估我們所提出的頻寬請求擁塞控制方法，我們建立了一個環境，由一個
BS 為中心，而周圍則散布了許多 MS，其中，每一個 MS 上僅只有一條連線，
並且使用 BE 的服務類型。圖四表示了我們架構的模擬環境。在我們的實驗中我
們使用網頁資源(Web Source)來作為一個 BE 的資料流，我們使用一種流量，其
名為 Web Exponential[18] [19]，而其中產生資料流的間隔時間參數 λ設定為每五
秒一次，而平均產生速率則是每秒 25Kb，也就是 λ = 5/s，average rate =25Kb/s。
在我們的實驗中將不考慮由頻道錯誤所造成的碰撞情況，我們假設頻道狀況是完
美無干擾的。 
我們將實驗數據分為 IEEE 802.16 原先的機制和其他建議方式，原先的機制
將以「Origin」作為代稱；而我們所提出的網路流量尖峰迴避與碰撞控制分別以
「Avoiding Peak」以及「Collision Control」作為代稱；最後是同時使用網路流量
尖峰迴避以及碰撞控制，我們以「Hybrid」作為代稱。在經過調整相關參數後，
我們對整個實驗進行流量與延遲的關係測試。 
當負載較低的狀況下，也就是在 MS 數量較少的情形中，使用原本的機制會有較
好的吞吐量表現，但是我們可以看到使用我們建議策略的情形在吞吐量的部分與
原本的方法在伯仲之間，而當流量上升，超過 26 個 MS 後，使用我們方法的總
吞吐量高過了原本的機制，從這個地方我們可以看出使用我們的方法，在流量較
高的情形下，由於提升了請求頻寬機制的效率，比起原本的機制反而得到了更高
的吞吐量，對於整體效益來說有著相當大的幫助。 
我們更針對有 30 台 MS 的情形下的數據資料作省電效能上的分析。表二詳
細記載了計算上所會用到的資料以及計算後的結果。 
表二、省電效率計算分析 
 
 從表二的資料我們可以看到，使用我們建議的混合方法，在碰撞個數方面減
少了 23%，從原本機制的 617.2 變成了 476；而在請求延遲方面的表現由原本的
10.485655 降低到 5.80462，以百分比來看的話下降了 45%；單就總耗電量來看的
話，節省了 44.4%的電量消耗，而若把傳送資料量也考慮進去的話，使用我們建
議的方法可以節省額外 47.8%的電量消耗，對於 MS 的電量控制有著很大的幫
助，此外考量到使用者對於休眠所感受到的封包延遲，我們統計了休眠總時數，
在 30 個節點情形，每次模擬中總共的休眠時數為 557.8 個 Frame，換算成為平均
每一次的頻寬請求平均的休眠時間則為 0.285 個 Frame，相對於時間便是 1.4ms。
以此結果來看，平均每次傳送只需稍微延遲 1.4ms 便可達到整體效率的大幅提
升。在這些發送的將近兩千個 BW-REQ 中其中我們統計有進入休眠的連線平均
共有 103 個，單以這些部份來看的話，則每次休眠平均時間為 5.6 個 Frame，這
是只針對休息的請求部份做分析，由這結果看來，實際上我們只要少許連線進入
休眠狀態，便可以讓整體的效能大幅提升，結果是非常優越的。 
 
五、 計畫成果自評 
總結來說，在這一年中，本研究計畫之研究成果如下: 
1. 由於影響 VoIP通話品質關鍵的兩個影響為封包遺失(包含在傳輸中的遺失和
編碼壓縮時所造成的音質損失)以及封包延遲，因此為了解決在網路擁塞的時候
造成的這兩大影響，本計畫提出了一個新的方法叫做 AVLC 來調降 VoIP的編碼速
率。因為 AVLC 會考慮連線使用的調變方式，所以優先會被下降較多的連線會是
調變方法效率較差的連線，因此可以節省出來的頻寬會相對的較多，並能有效提
 碰撞個
數 
BW-REQ 
程序數 
平均Delay
(frame) 
省電效率
(總量比
較) 
總輸出 
(byte) 
省電效率
(單位傳
送) 
Origin 617.2 
(100%) 
1942.2 10.485655 
(100%) 
0 % 9556683421 0% 
Hybrid 476 
(77%) 
1950.4 5.80462 
(55%) 
44.4% 10179571991 47.8% 
REFERENCE 
[1] IEEE standard 802.16d-2004, “Air Interface for Fixed Broadband Wireless Access 
Systems”, October 2004. 
[2] S.J. Vaughan-Nichols, “Achieving wireless broadband with WiMAX”, IEEE 
Computer, Vol.37, issue 6, pp. 10-13, June 2004. 
[3] ITU-T Recommendation G.107, “The E-Model, a computational model for use in 
transmission planning”, March 2005. 
[4] ITU-T Recommendation G.722.2, “Wideband coding of speech at around 16kbit/s 
using adaptive multi-rate wideband (AMR-WB)”, January 2002. 
[5] Sebastian Möller, Alexander Raake, Nobuhiko Kitawaki, Akira Takahashi,  and 
Marcel Wältermann, “Impairment Factor Framework for Wide-Band Speech Codecs”, 
IEEE Transactions on Audio, Speech, and Language Processing, Vol.14, issue 6, pp. 
1969-1976, November 2006. 
[6] Zizhi Qiao, Lingfen Sun, Nicolai Heilemann, and Emmanuel Ifeachor, “A new 
method for VoIP quality of service control use combined adaptive sender rate and 
priority marking”, IEEE International Conference on Communications, issue 3, pp. 
20-24, June 2004. 
[7] H. Schulzrinne, S. Casner, R. Frederick, and V. Jacobson, “RTP: A Transport 
Protocol for Real-Time Applications”, RFC 3550, July 2003. 
[8] Christian Hoymann,“Analysis and performance evaluation of the OFDM-based 
metropolitan area network IEEE 802.16”, Computer Networks, ELSEVIER, Vol.49, 
issue 3, pp. 341-363 October 2005. 
[9] Y. P. Fallah, F. Agharebparast, M. M. H. Alnuweiri, and V. C.M. Leung, “Analytical 
Modeling  of  Contention‐Based  Bandwidth  Request  Mechanism  in  IEEE  802.16 
Wireless Networks,” IEEE Transactions on Vehicular Technology, in press. 
[10] Q. Ni, A. Vinel, Y. Xiao, A. Turlikov, and T. Jiang “WIRELESS BROADBAND ACCESS: 
WIMAX  AND  BEYOND  ‐  Investigation  of  Bandwidth  Request  Mechanisms  under 
Point‐to‐Multipoint Mode of WiMAX Networks,” IEEE Communications Magazine vol. 
45, issue 5, pp. 132 – 138, May 2007. 
[11] D. Staehle and R. Pries, “Comparative Study of the  IEEE 802.16 Random Access 
Mechanisms,” The International Conference on Next Generation Mobile Applications, 
Services and Technologies, 2007. NGMAST '07, pp. 334 – 339, 12‐14 Sept. 2007 
[12] P. Shehan, “Analysis of Contention Based Access for Best Effort Traffic on Fixed 
WiMAX”, Fourth International Conference on Broadband Communications, Networks 
and Systems, 2007, pp. 552 – 558, 10‐14 Sept. 2007. 
[13]  A.  Sayenko,  O.  Alanen,  and  T.  Hamalainen,  “On  Contention  Resolution 
Parameters  for  the  IEEE  802.16  Base  Station”,  IEEE    Global  Telecommunications 
Conference, 2007. GLOBECOM '07, pp. 4957 – 4962, 26‐30 Nov. 2007. 
附錄: 
Proceedings of APCC2008 copyright © 2008 IEICE 08 SB 0083  
NS2 with National Institute of Standards and Technology 
(NIST) [7] WiMAX module to simulate our scheme. We draw a 
conclusion and future works in the last section. 
 
II. VOIP AND CODEC 
 
VoIP is sensitive to delay and loss, so this section will 
discuss the effects of packet delay and packet loss on R-factor. 
 
2.1 G.722.2 
G.722.2 is a speech coding standard developed by ITU-T [3]. 
It has 9 different bit rates (6.60kbps~23.85kbps). The lowest bit 
rate providing excellent speech quality in a clean environment 
is 12.65kbps. Using lower G.722.2 bit-rates can save 
bandwidth, but the speech quality will degrade comparing to 
higher bit-rates’. Although reduced VoIP bit-rates will lose 
some speech quality, it can decrease delay and packet loss. 
Then we can improve the performance. The different codecs 
affect of R-factor discussing in [8], and we will describe the 
detail in section 2.3. 
 
2.2 R-factor 
The ITU-T E-model [4] introduces a meter “R-factor” to 
gauge voice quality. The transmission rating scale ranges from 
R = 0 (lowest possible quality) to R = 100 (optimum quality). 
R-factor combines different aspects of voice quality 
impairment. The formula for the R-factor is as follows: 
 
AIIIRR deS0 +−−−=                                                        (1)  
 
R0 is the basic signal-to-noise ratio by typical circuit 
switched network. The factor Is is the sum of all impairments 
which may varies higher or lower during the voice 
transmission. A is the other advantage factor. We can rewrite 
R-factor’s formula with default values: 
 
de II93.2R −−=                                                                      (2) 
 
Thus, we only have two factors that affect the R-value. Ie is 
the loss impairment factor that is caused by packet loss and 
codec loss. Id is the delay impairment factor that is caused by 
mouth-to-ear delay. We will describe the detail in section 2.3 
and 2.4. 
 
TABLE I 
Quality of R-factor 
R-factor User Experience 
90 Excellent 
80 Good 
70 Fair 
60 Poor 
50 Bad 
2.3 Loss Effect 
Loss Effect mainly has two parts; one of them is affected by 
algorithm, and the other is affected by packet loss. In [8], there 
are many experiments about loss effect on different codec, 
including G.722.2. According to [8], we can compute loss 
effect as follows: 
 
)
BP
P
)(I(129II
plpl
pl
WBe,WBe,e +
−+=                                           (3) 
 
Where Ie,WB is impairment factor and, Bpl is packet loss 
robustness factor for speech codec, using a least-squares 
approximation with experiments. Table II lists two parameters. 
Ppl is the loss probability due to the network losses. 
 
TABLE II 
A part of G.722.2 parameters [6] 
G.722.2 (kbps) Ie,WB Bpl 
12.65 11 13.0 
14.25 10 14.1 
15.85 7 13.1 
18.25 5 12.5 
19.85 4 12.3 
23.05 1 13.0 
 
2.4 Delay Effect 
The total mouth-to-ear delay is composed of three 
components: codec delay, network delay, and playout delay [9]. 
Codec delay has two parts: one is the algorithm delay, and the 
other is packetization delay. Codec delay of G.722.2 is 25ms 
including frame size (20ms) and lookahead (5ms). Network 
delay is the end to end delay for packet transmission. Playout 
delay stands for the delay that is from the reception of packets 
to start playing. So the total delay is as follows: 
 
codecDplayoutDnetworkDallD ++=
                                              (4) 
 
VoIP is delay sensitive, and 177.3ms is a critical delay time 
in VoIP. When we calculate total delay, we can compute Id and 
write the final formula as follows [5]: 
 
177.3)177.3)H(D0.11(D0.024DI allallalld −−+=                   
(5) 
 
Where H(x) is an indicator function: H(x) = 0 if x < 0, and 
H(x) = 1 otherwise. 
 
III. WIMAX PROTOCOL 
 
In this section, we introduce a part of PHY and MAC 
protocol in WiMAX. 
 
Proceedings of APCC2008 copyright © 2008 IEICE 08 SB 0083  
 
Fig. 3 Adaptive VoIP Level Coding (AVLC) scheme 
 
According to Table II and (3), as we know that if the VoIP 
bit-rates are reduced, the loss impairment factor will be raised. 
But when we reduce network delay and packet loss enough, we 
can decrease loss effect to gain better communication quality. 
 
 
Fig. 4 Different G.722.2 codec vs. loss effect 
 
When the network conditions are changed (user number, 
SNR, delay, loss and so on), the AVLC will adjust the VoIP 
bit-rates of each connections. AVLC will be adjusted from 
Fig.3 and the following several steps: 
 
．Step1: BS collects packets and analyzes packets information 
(packet loss, network delay, residual time slot) periodically. 
．Step2: according to packet loss, network delay and default 
value (codec delay, playout delay, impairment factors and 
packet loss robustness factors), we compute Ie, Id and R-score. 
．Step3: we read DIUC and UIUC’s information to get each 
connection’s modulation scheme and coding rate. 
．Step4: based on step3 and step4, we can decide every 
connection’s VoIP bit-rates. 
．Step5: if VoIP bit-rates change, we transmit information to 
related SS. 
．Step6: repeat step1 to step5. 
V. SIMULATION 
 
We have two methods. One is using AVLC (12.65kbps to 
23.05kbps), and the other is using fixed VoIP bit-rates 
(23.05kbps). We draw R-score, network delay, packet loss and 
source numbers based on two experiments. Total simulation 
time is 56 seconds. When the simulation time is from 0 to 50 
seconds, we increase VoIP source number from 0 to 250. After 
the 50th second, we fix VoIP source number to 250. 
We use NS2 and NIST WiMAX module to carry out the 
simulation of the experiment. We modify NIST WiMAX 
module to add rtPS class, and BS will poll the group of rtPS 
class every 20ms. Some of the parameters used in the AVLC 
scheme are set as follows: AVLCmax = 9, Dmax = 177.3ms – 
Dplayout (60ms) – Dcodec (25ms) = 92.3ms, Lmax = 3%, Dmin = 
30ms, and Lmin = 1%. We assume that all packets are 
transmitted and received without errors and the transmission 
delay is negligible. The VoIP streams were generated by a 
G.722.2 codec. Other simulation parameters are shown in the 
TABLE IV. 
 
TABLE IV 
Simulation Parameters 
System OFDM/TDD 
Channel Bandwidth 11MHz 
Beam Pattern Omni Antenna 
Frame Duration 4 ms 
Dplayout 60 ms 
Dcodec 25 ms 
VoIP traffic VBR (AMR-WB) 
burst profile distribution uniform 
βhb 23.05kbps 
α 5 
 
In Fig.5 and Fig.6, we present the network delay and packet 
loss for both adaptive and non-adaptive schemes. At the 28th 
second, the network has reached the critical point to congestion, 
and we start our adaptive scheme. Although the VoIP source 
will keep increasing before 50th second, the network delay and 
packet loss are better than the non-adaptive scheme. 
 
 
Fig. 5 network delay vs. time 
1: initial value ( BS can set different values (2~6) ) 
2: AVLCvalue Å 0; 
3:αÅ 5; 
4: Dmax Å 177.3ms – Dplayout – Dcodec; 
5: Lmax Å 3%; 
6: Dmin Å lower than Dmax; 
7: Lmin Å lower than Lmax; 
  8: collect D(t), L(t), Nrts periodically; 
9: if D(t) > Dmax or L(t) > Lmax and Nrts=0 than 
10:   AVLCvalue(t) Å min (AVLCvalue(t-1) + 1, AVLCmax); 
11: else if D(t) < Dmin or L(t) < Lmin and Nrts > 0 than 
12:    AVLCvalue(t) Å max (AVLCvalue(t-1) – 1, 0); 
13: end if 
14: according to TABLE III and (7), we set VoIP bit-rates of  
each connections; 
15: loop (repeat step 8~14); 
Proceedings of APCC2008 copyright © 2008 IEICE 08 SB 0083 
  
Abstract— The IEEE 802.16 standard for broadband wire -less 
metropolitan area network supports diverse real time and 
non-real time services. The standard defined the contention-based 
bandwidth request mechanism for the non-real time (nrt-PS) and 
Best-Effort (BE) services. Before using the resource of base 
station (BS), the mobile station (MS) or subscriber station (SS) 
should send the bandwidth request (BW-REQ) in the allocated 
contention time interval. For avoiding collision, the standard 
supports truncated binary exponential backoff resolution. 
However this mechanism works inefficiently while the network 
traffic is overloading, and then the result will cause MSs waste 
power. In this paper we propose a new mechanism at MS, for BE 
service, to help the MS send the bandwidth request more 
efficiently and also avoid the traffic peak. By using the mechanism, 
the MS sends the bandwidth request in the low loading time and it 
reduces the power consumption of the MS. Additionally, the 
method balanced the burst of traffic loading and smoothed the 
traffic loading that brings the bandwidth request efficiency and 
higher power utilization. 
 
Keywords：Bandwidth Request, Congestion, Power Saving 
 
I. INTRODUCTION 
Fixed and mobile broadband wireless access network is the 
most important key technology of communication in the near 
future. For the reason, the IEEE that is the world's leading 
professional association for the advancement of technology 
defined many network communication standards such as IEEE 
802.11 for wireless network, IEEE 802.3 for wired network 
and so on. The IEEE 802.16 standard is the novel wireless 
network resolution of last mile in the last few years. There are 
more and more different applications processed in Internet that 
brings more demand on Quality of Service (QoS). To support 
variable multimedia applications, the IEEE 802.16 standard [1] 
defines four specific types of service flows that meet different 
requirements of users. Each connection between SS (or MS) 
and BS is identified as one service flow by connection ID (CID). 
The Unsolicited Grant Service (UGS) is defined to support 
constant bit rate (CBR) flows such as Voice over IP (VoIP). 
The real-time Polling Service (rtPS) is designed for real-time 
applications which periodically send variable size data packets, 
e.g. video stream. The real-time application requires maximum 
delay and minimum assurance of bandwidth. To support 
non-real-time services, the IEEE 802.16 standard defined other 
two types of QoS named non-real-time Polling Service (nrtPS) 
and Best-Effort Service (BE). The nrtPS class is applied to no 
special delay guarantees services such as ftp. But the 802.16 
standard provides minimum bandwidth to nrtPS. The last one 
type of QoS, the BE service is supporting the traffic generated 
by most Internet applications (web surfing, email, etc.). In this 
paper we will focus on BE service. 
The standard has defined a Request and Grant mechanism 
for BE services to request bandwidth [1]. Before the BE 
services require the BS resources; SS or MS sends a bandwidth 
request and waits for the grant. In Section II we will have more 
detailed account of the mechanism. We review some related 
works about performance of the Request and Grant mechanism. 
A research analyzed the mechanism by mathematical model [3]. 
In [4], [5], the performance of the random access scheme 
specified in IEEE 802.16 is investigated. In these papers we can 
see that the traffic loading affects the mean delay of bandwidth 
request mechanism. When the traffic overloading, the mean 
delay grows up fast because the packet collision happens which 
means the MS will consume power in sending feckless requests. 
In this article we proposed a “BW-REQ Congestion Control” 
(BCC) scheme for abating the effect of burst traffic and 
balancing the traffic. The MS will send the bandwidth request 
in the adequate time interval and optimize the power utilization 
by using our BCC scheme. 
The remainder of this paper is organized as follows. Section 
II describes the Request and Grant mechanism and the power 
saving mechanism of IEEE 802.16 standard. Section III 
introduces our scheme. Section IV presents the simulation 
environment. Simulation results are provided in Section V. 
Finally, we conclude this paper in Section VI. 
II. OVERVIEW OF IEEE 802.16 STANDARD 
A.  IEEE 802.16 Frame Structure 
We consider the network with a point-to-multipoint (PMP) 
architecture, which consists of one base station (BS) managing 
several MSs and SSs. Throughout this paper, we use the term 
“MS” to refer to “MS and SS”. Then let us consider the TDD 
(time division duplexing) mode in the PMP network. The frame 
structure is shown in Figure 1. It consists of two sub-frames to 
transmit that the subframe used for transmitting with the 
direction of BS to MS called down-link subframe, and the 
inverse one named up-link subframe. In the down-link 
subframe, the down-link map (DL-MAP) and up-link map 
(UL-MAP) are transmitted, in which the down-link and up-link
Energy-Efficient Congestion Control on 
Contention-Based BW-REQ in WiMAX System 
Shih-Chin Shiu and Jen-Yi Pan,  
Department of Communications Engineering, National Chung Cheng University Chia-Yi, Taiwan, 
Republic of China  
E-mail: jokernov211@hotmail.com, jypan@comm.ccu.edu.tw 
Proceedings of APCC2008 copyright © 2008 IEICE 08 SB 0083 
  
(3) Power-Saving Class of Type III 
This type is used for management connections. It has no 
listening window and only involves a single sleep-window 
specified by BS. In the other word, the MS will sleep without 
listen-window until the appointed time. 
In the Section III we will describe our proposed algorithm 
that makes the MSs send BW-REQ efficiently and we use the 
hybrid power saving scheme to reduce their power 
consumption. 
    III. PROPOSED ALGORITHM  
In this article, we will introduce the proposed algorithm  
“BW-REQ Congestion Control” (BCC) in detail. For sending a 
BW-REQ efficiently, there are two parts of the BCC. One is 
how to determine whether the traffic load will be close to 
saturation and the other is how the MS can avoid the peak of 
traffic load. 
A. Determine the Traffic Loading Peak 
In the BCC we care about the traffic loading of the BW-REQ 
not the throughput loading so we determine the traffic loading 
by collecting statistics of the number of received collisions 
during a time interval. Because the contention time interval is 
modifiable, we consider this variable factor and define the ρ to 
determine the traffic loading. The traffic loading index can be 
obtained by 
stabw
total
TS
R
×=ρ .                (1) 
The Rtotal means the number of detected collisions in the 
statistic time interval, the Sbw is the contention slots of one 
frame defined by BS, and every Tsta frames we collect statistics 
of the BW-REQs. With the traffic loading analyzing function, 
the BS monitors the loading of traffic. When the value of ρ 
exceeds a threshold Tmax, we can expect that after 100ms (in 
this paper we choose 100ms be the T16 value) the retrying MSs 
will make the traffic peak, so the BS will alert all the MSs after 
100ms (T16) by a broadcast message. When the MS is aware of 
the alert of high loading, the MS will start the proposed 
algorithm. 
B. Avoiding the Traffic Loading Peak 
The core concept of this algorithm is to disperse the crowd of 
BW-REQ in the peak load, and rearrange them in the low 
traffic load. The BE services require no delay guarantee and no 
real-time scheduling. For these reasons, we can postpone 
sending a BW-REQ to distribute the traffic loading. There are 
two parts of the proposed algorithm to cope with two cases 
respectively: (1) sending a new BW-REQ and (2) 
retransmitting a BW-REQ due to the collision or channel error. 
(1) Sending a New BW-REQ 
For an MS sending an new BW-REQ, the MS first 
determines whether the high loading flag of the broadcast 
message is true, if the result is in the traffic loading peak then 
MS will use the Power-Saving Class of Type III that introduced 
in section II and will enter the sleeping mode. We defined a 
parameter Bmax to be the maximum number of sleeping frames 
and the parameter Bmin to be the minimum one. The MS will 
choose a value of the interval between [Bmin, Bmax] to be the 
sleeping window. Then the MS counts down the window by 
frame and retry the request method. We named this policy 
“Avoiding Peak” in the following. 
(2) Retransmitting a BW-REQ 
This policy is named “Collision Control”. For the MS 
retransmitting the BW-REQ, we defined a parameter Psleep to be 
a sleeping probability. Before a MS retransmitting a BW-REQ 
with high loading flag, it will choose a random value to 
determine whether postponing the retry process. If the MS does 
not pass the test, it will go to sleep and the sleeping window 
size will be 25ms (5 frames). After sleeping, the MS will do the 
retransmission process again. 
By using our algorithm, we decentralize the new coming 
BW-REQ traffic and assure the better retransmission chance of 
MS. Because the starting time of listen window can be 
calculated by our algorithm, we can use the Power-Saving 
Class of Type III to reduce more power consumption and the 
MS can send BW-REQ with lower delay. In this policy, we 
reduce the number of retransmissions with a probability and in 
our simulation we set the probability to 0.5. The Figure 2 
illustrates our algorithm in detail. 
 
 
 
Figure 2. The proposed algorithm 
IV. SIMULATION ENVIRONMENT 
In this section we show the effect of our proposed scheme on 
the random access mechanism performance by the Network 
Simulator version 2 (NS2) [7] and use the IEEE 802.16 module 
of NIST [8] to simulate the random access mechanism. In this 
paper we will not consider with the collision that happens due 
Proceedings of APCC2008 copyright © 2008 IEICE 08 SB 0083 
  
The Figure 4 shows the trend of delay, and the result is 
similar to the Figure 3. The “Collision Control” reduces the 
delay efficiently. In the 9300th frame, the “Avoiding Peak” 
policy gets higher delay than others’. We conjecture that is 
because the burst of new BW-REQ causes frequent collisions, 
and the policy “Avoiding Peak” is not enough to improve that. 
 
 
 
Figure. 5 Waiting time interval 
 
Then we calculate the efficiency of power utilization. The 
Figure 5 illustrates the power consumption of sending a 
BW-REQ. After sending BW-REQ, MS should ceaselessly 
wait for the broadcast message with the grant or wait for the 
T16 timer being expired. In the proposed algorithm we try to 
send in low traffic load to avoid collisions and this policy not 
only saves the MS’s power but also reduces the probability of 
colliding. The result makes other MSs reduce their power 
consumption. We can calculate the average power consumption 
“δ” of sending one successful BW-REQ by the average delay. 
In [11], the value of power consumption per frame, noted by δ, 
in active frame is defined as 1.5W. The  power consumption of 
sending one BW-REQ can be defined by  
ayAverageDelC ×= δ .                                          (2)  
For different cases, we define Corigin as the power consumption  
calculated by using the average delay in original mechanism 
and the Cproposed is of the proposed algorithm. We define the 
efficiency as 
originorigin
proposedproposedoriginorigin
NC
NCNC
E ×
×−×= .              (3) 
The Norigin means the number of outgoing BW-REQs with 
original mechanism in the simulation time, the Nproposed is the 
number N with the proposed algorithm, and these values are 
shown in Table II. The Table III shows the results by 
percentage. 
Table III.  
The efficiency of power saving 
 Avoiding 
Peak 
Collision 
Control 
Hybrid 
E 41.4% 54.4% 42.1% 
 
In Table III, the policy “Collision Control” gets the highest 
efficiency, but we think that if the parameters Bmin, Bmax and  
Psleep being optimized the “Hybrid” will get better efficiency. 
VI. CONCLUSION 
  In this paper we try to improve the efficiency of the power 
saving mechanism in the IEEE 802.16 standard. The Request 
and Grant mechanism in the traffic peak consumes much power 
due to the feckless BW-REQ retransmissions. By using the 
proposed algorithm, we enhance the power utilization by 
40-55% when MSs sending BW-REQs. We also balance the 
traffic loading and decrease the number of feckless BW-REQs. 
With our algorithm, the MS sends BW-REQ more efficiently 
and gets more sleeping time. In this paper, we proposed a new 
algorithm to control the congestion of BW-REQ with the BE 
service and successfully smooth over the congestion. 
  
ACKNOWLEDGEMENT 
 The authors would like to thank the Industrial Technology 
Research Institute and the Ministry of Economic Affairs 
(Project No. 7301XS2220) of the Republic of China, Taiwan, 
for financially supporting this research. This work was also 
supported partially by National Science Council of Republic of 
China under grant NSC 97-2221-E-194-025. 
REFERENCES 
[1] IEEE Std. 802.16-2004, “Local and metropolitan area networks Part 16: 
Air Interface for Fixed Broadband Wireless Access Systems.” Oct. 2004. 
[2] IEEE Std. 802.16e-2005, “Local and metropolitan area networks Part 16: 
Air Interface for Fixed and Mobile Broadband Wireless Access Systems 
Amendment 2: Physical and Medium Access Control Layers for 
Combined Fixed and Mobile Operation in Licensed Bands and 
Corrigendum 1.” Feb 2006. 
[3] Y. P. Fallah, F. Agharebparast, M. M. H. Alnuweiri, and V. C.M. Leung,          
“Analytical Modeling of Contention-Based Bandwidth Request 
Mechanism in IEEE 802.16 Wireless Networks,” IEEE Transactions on 
Vehicular Technology, in press. 
[4] A. Vine, Y. Zhang, M. Lott, and A. Tiurlikov, “Performance Analysis of 
the Random Access in IEEE 802.16,” IEEE 16th International 
Symposium on Personal, Indoor and Mobile Radio Communications, 
2005. PIMRC 2005. vol. 3, 11-14 Sept. 2005, pp.1596-1600. 
[5] Q. Ni, A. Vinel, Y. Xiao, A. Turlikov, and T. Jiang “WIRELESS 
BROADBAND ACCESS: WIMAX AND BEYOND - Investigation of 
Bandwidth Request Mechanisms under Point-to-Multipoint Mode of 
WiMAX Networks,” IEEE Communications Magazine vol. 45, no. 5, 
May 2007, pp. 132 – 138. 
[6] D. Staehle and R. Pries, “Comparative Study of the IEEE 802.16 Random 
Access Mechanisms,” The International Conference on Next Generation 
Mobile Applications, Services and Technologies, 2007. NGMAST '07. 
12-14 Sept. 2007, pp. 334 – 339. 
[7] “The Network Simulator – ns-2,” [Online]. Available:  
http://www.isi.edu/nsnam/ns/index.html 
[8] “Seamless and secure Mobility,” [Online]. Available: 
http://www.antd.nist.gov/seamlessandsecure/toolsuite.html 
[9] C. Cicconetti, A. Erta, L. Lenzini, and E. Mingozzi, “Performance 
Evaluation of the IEEE 802.16 MAC for QoS Support,” IEEE 
Transactions on Mobile Computing, vol. 6, no. 1,  Jan. 2007, pp. 26 – 38. 
[10] M. Molina, P. Catelli, and G. Foddis, “Web Traffic Modeling Exploiting 
TCP Connections’ Temporal Clustering through HTML-REDUCE,” 
IEEE Network, vol. 14, no. 3,  May-June 2000, pp. 46 – 55. 
[11] J. R. Lee, and D. H. Cho, “Performance Evaluation of Energy-Saving 
Mechanism Based on Probabilistic Sleep Interval Decision Algorithm in 
IEEE 802.16e,” IEEE Transactions on Vehicular Technology, vol. 56, no. 
4,  Part 1,  July 2007, pp.1773 – 1780. 
 
 
圖一、The 14th Asia-Pacific Conference on Communications(與COIN共同舉辦) 
 
 
Proceedings of APCC2008 copyright © 2008 IEICE 08 SB 0083  
 
Abstract—The IEEE 802.16 system called WiMAX 
(Worldwide Interoperability for Microwave Access) provides 
quality of service (QoS) of several types for different service. The 
WiMAX is expected to support QoS for real time application, such 
as Voice over IP (VoIP). In this paper, when network congestion 
occurs, the VoIP bit-rate needs to be adapted to achieve the best 
speech quality. We propose a new scheme called Adaptive VoIP 
Level Coding (AVLC). VoIP is sensitive to delay and loss. 
According to different network conditions such as varied 
modulation, packet delay, packet loss, and residual time slot, we 
use G.722.2 codec to adapt each connection’s data rate. 
Simulation experiments are conducted to test the performance 
(network delay, packet loss, and R-score) of the proposed 
mechanisms. In result, we increase the R-score about 40% to 
50%. 
I. INTRODUCTION 
 
iMAX provides a last-mile broadband access 
technology. Orthogonal frequency division multiplexing 
(OFDM) adopted in WiMAX increases channel bandwidth and 
capacity. WiMAX can transmit in the distance of up to 30 miles 
requiring line of sight (LOS) [1]. WiMAX supports five 
quality-of-service (QoS) types to transmit data [2], such as 
Unsolicited Grant Service (UGS), real-time Polling Service 
(rtPS), non-real-time polling service (nrtPS), extended 
real-time Polling Service (ertPS) and best efforts service (BE). 
It is suitable to transmit variable real-time data in rtPS and 
ertPS. 
WiMAX can support large range, high speed and QoS 
guarantee to transmit data, so many real time applications are 
well-served in WiMAX like video conference, VoIP. 
Telecommunication Standardization Sector of the International 
Telecommunication Union (ITU-T) defines some voice 
modulation methods using the technique of Adaptive Multi 
Rate-Wide Band (AMR-WB) especially suitable for voice 
transmission in variable data rates such as G.722.2 [3]. G.722.2 
can use different bit-rates to convey voice signal. In different 
network conditions, we use different VoIP bit-rates to transmit 
our speech data. 
VoIP is sensitive to delay and loss. We transmit VoIP data in 
WiMAX, and the physical layer's burst profile specifies 
connection's modulation scheme and coding rate such as binary 
phase shift keying (BPSK), quaternary phase shift keying 
(QPSK), and so on. When the signal becomes stronger or the 
connection quality (like signal-to-noise ratio) is better now, we 
use more advanced coding rate. When signal becomes weak or 
connection quality is worse, we use slower modulation scheme 
and coding rate to reduce transmission error. When the network 
quality gets better or worse, we can adjust the VoIP bit-rates for 
each connection according to network conditions like delay, 
packet loss, and residual time slot, as shown in Fig.1. The 
residual time slots are the time slots which are not scheduled to 
transmit any data. When the number of residual time slots 
approaches to zero, we estimate the network becoming 
congestion. Thus, we can reduce the network delay and packet 
loss to obtain better communication quality in the network. 
 
 
Fig.1 System Architecture 
 
In addition, we use R-factor [4] [5] to assess communication 
quality. Simulation experiments are conducted to verify our 
scheme. We assume that the number of VoIP sources will 
gradually increase. Finally, we use network simulator 2 (NS2) 
[6] to simulate our scheme, and we can increase the R-score by 
40% to 50% in result. The 11Mbps WiMAX link can support 
more than 250 VoIP connections that have average R-score over 
55. 
The rest of the paper is organized as follows. In section II, we 
discuss VoIP related with R-factor and AMR-WB G.722.2. In 
section III, we introduce medium access control (MAC) layer 
and physical (PHY) layer in WiMAX. In section IV, we explain 
that how to adaptive VoIP on WiMAX. In section V, we use 
Tsung-Yin Lee and Jen-Yi Pan, 
Department of Communications Engineering, 
National Chung Cheng University Chia-Yi, Taiwan, Republic of China 
E-mail: gyinlee@msn.com, jypan@comm.ccu.edu.tw 
Improving R-score of Adaptive VoIP Codec in  
IEEE 802.16 networks 
W 
Proceedings of APCC2008 copyright © 2008 IEICE 08 SB 0083  
3.1 Media Access Control Layer 
In WiMAX [2], Base Station (BS) will periodically 
broadcast Downlink Channel Descriptor (DCD) and Uplink 
Channel Descriptor (UCD). DCD and UCD include burst 
profile. Each connection’s coding rate and modulation scheme 
will be recorded in the burst profile. In addition, BS will also 
broadcast downlink map (DL-MAP) and uplink map 
(UL-MAP) periodically. The Uplink Interval Usage Code 
(UIUC) and Downlink Interval Usage Code (DIUC) record 
each connection’s burst profile and we can get UIUC and 
DIUC in UP-MAP and DL-MAP. In the downlink subframes, 
both the DL-MAP and UL-MAP messages are transmitted, 
which specify the allocation of transmission opportunity for 
each connection. Besides, the UCD count and DCD count in 
UL-MAP and DL-MAP indicate which frame will carry UCD 
and DCD.  
 
3.2 Physical Layer 
Burst profile records different level of modulation schemes 
in connection, and we can get burst profile in UCD and DCD. 
Each connection can use different burst profile. The faster 
modulation scheme we use, the more data we can transmit. In 
different signal-to-noise ratio (SNR), WiMAX can adjust burst 
profile of each connection. 
 
TABLE III 
Modulation and coding schemes for WiMAX [10] 
Modulation 
Scheme 
Coding 
rate bits/symbol 
SNR for 1% 
PER (dB) 
BPSK 1/2 0.5 1.5 
QPSK 1/2 1.0 6.4 
QPSK 3/4 1.5 8.2 
16QAM 1/2 2.0 13.4 
16QAM 3/4 3.0 16.2 
64QAM 1/2 4.0 21.7 
64QAM 3/4 4.5 24.4 
IV. PROPOSED SCHEME 
 
According to section II and section III, we present a new 
scheme called Adaptive VoIP Level Coding (AVLC). When the 
network congestion occurs, we read DIUC and UIUC’s 
information to get each connection’s burst profile, and we will 
adapt VoIP bit-rates according to G.722.2 bit-rates and each 
connection’s burst profile. We must change transmission 
bit-rates, so we use rtPS to transmit our VoIP data. 
First, we should detect network environments. Network 
delay and packet loss are the two main factors that affect VoIP. 
We update the value of AVLCvalue as follows: 
 
⎪⎪⎩
⎪⎪⎨
⎧
><<
−
=>>
+
=
0~N and L  PL(t)or  D  D(t) if  
0} 1,1)(tmax{AVLC
0~ N and L  PL(t)or  D  D(t) if  
 }AVLC1,1)(tmin{AVLC
(t)AVLC
rtsminmin
value
rtsmaxmax
maxvalue
value -
-
 (6)  
Where AVLCvalue(t) is the adaptive codec value at time t, we 
can change connection’s VoIP bit-rates according to Fig.2. The 
G.722.2 bit-rates can determine as follows: 
 
)
t)(N,
(t)AVLC(t)(N,
bs
value
  hbG.722.2 βαββ −=                                            (7) 
 
We have N connections: each connection has different 
numbers from 1 to N. βG.722.2 is the determinant VoIP bit-rates 
of each connection at time t. βhb is the highest G.722.2 bit-rates 
(23.05kbps) that we use to adjust. βbs is the transmission rate 
(bits/symbol) of connection at time t. According to TABLE III, 
βbs will change by different modulation scheme. α is the VoIP 
control parameter which is a constant. When the network 
quality change quickly, we can set the α larger, and we can 
adjust faster when α is larger. In (7), when the G.722.2 (kbps) is 
between the two G.722.2 bit-rates, we choose the one which is 
close to our value. 
Different burst profile in the same network conditions should 
use different VoIP bit-rates. The better modulation scheme we 
used, the slighter of bit-rates of VoIP will be reduced. Because 
the occupied physical slot will decrease as the faster 
modulation scheme, we adapt the connections that using slower 
modulation scheme and coding rate first can save more 
bandwidth. 
 
12
14
16
18
20
22
24
0 1 2 3 4 5 6 7 8 9
Adaptive VoIP Level Coding (AVLC) value
G
.7
22
.2
 b
it-
ra
te
s (
kb
ps
)
BPSK(1/2)
QPSK(1/2)
QPSK(3/4)
16QAM(1/2)
16QAM(3/4)
64QAM(1/2)
64QAM(3/4)
 
Fig. 2 AVLC value VS G.722 bit-rates (α=5) 
 
D(t) is the average network delay at time t, and L(t) is the 
average packet loss rate at time t. According to (5), the 177.3ms 
is a critical time value of VoIP quality. If we use G.722.2 
(23.05kbps), packet loss rate decreases more than 20 R-score 
(figure 3). We set the two values as follows: 
 
3%L and DD177.3msD maxcodecplayoutmax =−−=                      (8) 
 
Finally, we set Dmin and Lmin smaller than Dmax and Lmax. If 
the network satisfies both two conditions (EX: Dmin<D(t) and 
Lmax>L(t)), BS will also check the residual time slot Nrts. If 
network status gets better, we will also change AVLCvalue to 
adjust VoIP bit-rates for each VoIP session. 
