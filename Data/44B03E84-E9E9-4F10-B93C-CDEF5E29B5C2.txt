model, adaptive Network-based Fuzzy Inference System 
 
2該比例式假設：
a
ea
I
P
R
F

 (1)
式中Fa=地表逕流發生後土中之累積入滲量(cumulative infiltration)、R=土中最大
可能保持(potential maximum retention or infiltration)、Ia=土中之初始保持(initial
abstraction)、Pe=超滲降雨(rainfall excess)、=總降雨量；且
aae FIP  (2)
RI a  (3)
傳統之SCS方法主張 2.0 [12]，一系列之小集水區實驗亦得到近似之結果[5]，
不同地區之研究[16][17]則發現 ]3.0,0[ ，圖1為各變數之示意圖。
g=g(t)
I a F a
P e
p=constant
t p t 5 t
g
圖1: 降雨之水量分配示意圖.
消去Fa而合併(1)(2)式後得SCS方法之核心式：
 
a
a
e IR
I
P


2
(4)
故欲由SCS方法推估Pe時，須先求得、Ia和R，由(3)式知Ia可用R表示，而R僅為
CN之函數，已知CN值受土壤型態—包含臨前潮濕條件(antecedent moisture
condition)、土壤歸類(soil group)和地表使用(land use)所左右，故按(4)式，Pe之模
式僅受兩個參數所左右。
按傳統之SCS-CN方法
254
25400
CN
R (mm) (5)
而實際情況顯示：CN大都介於40和98之間，因此R和 Ia值之範圍分別為 :
)381,0(R 和 )2.76,0(aI 。本計畫遂以和Ia為自變數，自該範圍中隨機取樣，
之數值係由數值積分法求得，方法為先令入滲曲線g(t)為已知，再令降雨強度
為分佈，於是可求出圖1中之Fa、I、Pe，再按(2)式即得。
4圖 1 本計畫之模糊邏輯推論圖
將模糊推論之歸屬函數應用於 ANFIS 架構之中，在同一層中所有節點之歸
屬或轉換函數均需相同，其內部構造，共分為五層分別為輸入層、規則層、正規
化層、結論推論層及輸出層，如圖 2。其推算之流程為先將輸入數據進行模糊化，
並選擇輸入歸屬函數，經由模糊推理得到輸出的模糊評價結果，最後由輸出層之
類神經元執行去模糊化的運算，以便提供明確的輸出值[4]。
圖 2 本計畫之適應性網路架構模糊推論系統架構圖
由圖 1 及圖 2 的模糊推論中可知，本計畫之 Sugeno 模糊模型的函數式模糊
規則如式(1)-(9)所示，如圖 3。[4]
規則 1：If Ia is in1mf1 and P is in2mf1 then ε is out1mf1            (1)
規則 2：If Ia is in1mf1 and P is in2mf2 then ε is out1mf2            (2)
規則 3：If Ia is in1mf1 and P is in2mf3 then ε is out1mf3            (3)
規則 4：If Ia is in1mf2 and P is in2mf1 then ε is out1mf4            (4)
規則 5：If Ia is in1mf2 and P is in2mf2 then ε is out1mf5            (5)
規則 6：If Ia is in1mf2 and P is in2mf3 then ε is out1mf6    (6)
規則 7：If Ia is in1mf3 and P is in2mf1 then ε is out1mf7            (7)
規則 8：If Ia is in1mf3 and P is in2mf2 then ε is out1mf8            (8)
規則 9：If Ia is in1mf3 and P is in2mf3 then ε is out1mf9            (9)
6圖 4 本計畫之高斯(Gauss)模糊歸屬函數
4. 結果
本計畫利用 SCS 方法之圖形數值解法，在假設降雨強度 p 均為β分布函數
曲線情形下，求得不同初始保持入滲量 Ia、地表逕流發生後土中之累積入滲量
Fa 及超滲降雨 Pe 之三種不同假設函數之數值解各 200 組數據資料，分別利用
ANFIS 建構初始保持入滲量 Ia、總降雨量與修正 SCS-CN 模式之檢驗因子 ε
之推估模式，其結果如后：
(1) 將 150 組學習資料輸入 MATLAB 之 Fuzzy Toolbox 所提供之適應性網路
模糊推論系統(ANFIS)中，如圖 5。
8圖 7 學習資料驗證預測值精確性良好
(4) 將在相同假設條件下利用 SCS 方法之圖形數值解法產生的另 50 組測試
值數據資料，輸入已完成學習之 ANFIS 中，驗證本計畫所建構之 ANFIS 的預測
推算能力，發現其整體誤差值為 3.9128*10-7，測試驗證結果之預測精確性相當的
良好，藍色圓點實際值與紅色星號預測值近似重疊，如圖 8。
圖 8 測試資料驗證預測值精確性良好
(5) 本計畫利用 ANFIS 所建構之初始保持入滲量 Ia 及總降雨量兩輸入
值，推算修正 SCS-CN 模式檢驗因子ε預測值之 9 項模糊規則如下圖 9 所示，後
續將再利用此已完成學習之 ANFIS 模式，進行各項驗證指標之檢定。其中兩輸
入值初始保持入滲量 Ia 及總降雨量與預測值修正 SCS-CN 模式檢驗因子 ε之
函數關係如圖 10 所示，依圖 10 中所示之三個函數間的關係可以看出，本計畫所
學習建構的各函數間有良好的關聯性(圖形呈現平滑狀)。
10
差率(Root Mean Square Percentage Error, RMSPE)等。在此四項常用評估指標中，
MAE 與 RMSE 屬於相對誤差數值，受實際值與預測值單位之影響。但由於 MAPE
易於瞭解，可直接反應預測之優劣程度，因此仍可將之納為評估指標之一。反之，
MAPE 與 RMSPE 屬於相對數值，不受實際值與預測值單位之影響，因此能客觀
獲得實際值與預測值間之相對差異。前述各誤差以數學式表示為(10)-(13)式如下:



n
i
kxkx
n
MAE
1
)()(
1
(10)
%100
)(
)()(1
1
 

n
i kx
kxkx
n
MAPE (11)



n
i
kxkx
n
RMSE
1
2))()((
1
(12)
%100)
)(
)()(
(
1
1
2  

n
i kx
kxkx
n
RMSPE (13)
式中 n=樣本數、x(k)=預測值、 (k)=實際值。
一般而言，指標值越小代表模式預測效果越佳，且相關文獻 Lewis [6]更曾
提及 MAPE 是最有效的評估指標，並對於 MAPE 值大小與其代表含意提出說明
--如表 1 所示。因此本計畫擬選用平均絕對誤差率（MAPE）來衡量誤差，作為
評估超滲降雨量 Pe 推估精準度之評估指標，以判斷預測值的準確程度。惟只採
用一種方式來衡量誤差，可能失去其客觀性，故再以 MAE、RMSE 和 RMSPE
等三項預測評估指標做為比較誤差之準則。
表 1 MAPE 誤差績效判斷原則表
MAPE(%) 說明
MAPE＜10 高精準預測
10 MAPE≦ ＜20 優良預測
20 MAPE≦ ＜50 合理預測
MAPE＞50 不準確預測
5.2 各項驗證指標之檢定
本計畫是利用 MATLAB 之 Fuzzy Toolbox 所提供之適應性網路模糊推論系
統(ANFIS)之功能，以初始保持入滲量 Ia 及總降雨量來建立修正 SCS-CN 模式
檢驗因子 ε之推算預測值，其學習資料及測試資料為利用 SCS 圖形數值解法在
假設總降雨量為β分布函數曲線情形下所求得之 200 組數據資料。
本計畫經測試三角形模糊歸屬函數、梯形模糊歸屬函數及高斯(Gauss)模糊
歸屬函數後，選定以高斯(Gauss)模糊歸屬函數作為本模式之最佳歸屬函數。
以初始保持入滲量 Ia 及總降雨量之 SCS 方法中之參數，分別以上述之參
12
圖 12: 五十組測試資料驗證預測值精確性良好(平均誤差=0.0030205)
6. 結論
本計畫所使用之 ANFIS 預測方法應能有效提供正確的修正 SCS-CN 模式檢
驗因子ε之推算，並應用於後續超滲降雨資訊之計算，以利對未來相關治山防洪
設施之規劃與設計。
基於各流域均有其特殊之水文條件，降雨強度之分佈也會各有其機率密度函
數，本計畫目前雖僅著力於分佈和均勻分佈之分析，然可合理推知 ANFIS 對
其它分佈之適用性極高。當降雨強度隨間改變之分佈(即機率密度函數)已知後，
超滲降雨即可因 ε之準確推估而正確預報，所依據者為方程式(6)，其中容易
測得，Ia 則由 CN 值得出。
本計畫研究之結果，後續可應用於提升都市和河川中直接逕流量之估測能
力、減少洪災預報和工程設計所面臨之不確定因素、提供引發潛在的土石流降雨
環境因素，並可應用於工程選址之初步規劃。另外，本計畫之結果亦可應用於降
雨對土石流和邊坡穩定之衝擊、潛在崩塌地危險區的正確性評估和運用、都市防
災及水土保持規劃之參考、集水區水文特性分析、都市排水系統之規劃運用。未
來可應用於都市排水乃至洪峰流量之即時預報，配合技術與管理來降低降雨風險
的衝擊，故對公共安全將有實質之助益。
參考文獻
[1] Mishra S. K., Singh V. P., 1999. Another look at SCS-CN method, Vol.(4), No.(3),
pp.257-264, J. Hydrologic Engrg..
[2] 葉怡成，「類神經網路模式應用與實作，第七版，儒林圖書公司，2000 年 4
月。
國科會補助計畫衍生研發成果推廣資料表
日期:2012/10/20
國科會補助計畫
計畫名稱: 常用SCS-CN模式在不同降雨型態下的比較和檢定
計畫主持人: 仲偉浩
計畫編號: 100-2221-E-145-004- 學門領域: 水利工程
無研發成果推廣資料
其他成果 
(無法以量化表達之成
果如辦理學術活動、獲
得獎項、重要國際合
作、研究成果國際影響
力及其他協助產業技
術發展之具體效益事
項等，請以文字敘述填
列。) 
無 
 成果項目 量化 名稱或內容性質簡述 
測驗工具(含質性與量性) 0  
課程/模組 0  
電腦及網路系統或工具 0  
教材 0  
舉辦之活動/競賽 0  
研討會/工作坊 0  
電子報、網站 0  
科 
教 
處 
計 
畫 
加 
填 
項 
目 計畫成果推廣之參與（閱聽）人數 0  
 
