 2
行政院國家科學委員會專題研究計畫成果報告 
 
網路協同觸覺式電腦輔助設計系統 
 
A Web-based Collaborative CAD with Force-feedback Device 
 
計畫編號：NSC94-2213-E-027-027- 
執行期限：94 年 8 月 1 日至 95 年 7 月 31 日 
主持人：      黃銘智   台北科技大學創新設計研究所 
協同主持人： 陳立杰   大同大學工業設計研究所 
計畫參與人員：許欣智   台北科技大學創新設計研究所 
計畫參與人員：吳炳鋐   南亞科技股份有限公司 
 
中文摘要 
隨著網路技術的提升，透過網際網路
的數位資訊傳輸，建構遠距的協同合作模
式，已成為企業強化競爭力重要的一環。
為實現此一目的，透過網際網路建構企業
體的線上協同設計平台，為身處各地的協
同設計人員提供「訊息傳遞」與「物件共
享」的服務是當務之急。本研究嘗試以力
回饋裝置為操作介面的 3D CAD 系統為基
礎，建構一個能夠透過網際網路合作的 3D 
協同設計作業平台，讓身處各地的不同地
區的研發與設計成員合作、互動開發新產
品。為進行力回饋之計算，研究中採用三
角網格模型，可作為觸感回饋作用力之演
算基礎；並利用『鄰點鎖定』來處理不同
使用者在作業環境中的防撞機制，使用者
可依需求，設定參數，限定與工作點群連
接的鄰點範圍，使其他使用者不能進入該
區域作業，避免不同使用者同時操作同一
個作業區域的互斥現象。 
 
關鍵詞：電腦輔助設計、協同設計、網際
網路、力回饋 
 
Abstract 
With the extensive usage of CAD 
Software and the advent of World Wide 
Web technologies, to develop a system of 
distanced collaborative designing in World 
Wide Web environment has become much 
more important for company competition 
advantage. It is the main function for a 
collaborative design system that the design 
data could be shared and manipulated 
simultaneously by individual users in 
different locations through the WWW 
environment. In this research, to approach 
the purpose mentioned previously, a 3D 
CAD system with force-back device has 
been developed in which multiple users can 
share and manipulate the design data 
through the internet. In this system, the 
feedback force can be derived from the 
tri-angle model of CAD. While multiple 
users in the system, to avoid the operation 
interference by the other user, a collision 
prevention method has been built up by 
locking the neighbors of the model mesh 
vertices that are being manipulated. 
 
Keywords: CAD, Collaborative Design, 
World Wide Web, Force Feedback 
 
1. 前言 
1.1. 研究背景 
電腦輔助設計(CAD)的問世對產品設
計開發產生極大的影響，但是仍有許多挑
戰與瓶頸極待突破。首先是地球村已漸成
形，交通便捷與通訊技術日新月異，各國
商業活動與文化交流日趨全球化。面對此
一現象，產品的創新設計與開發必須跨國
界整合，透過不同國家或地區的設計師協
 4
的作法是在使用者操作硬體介面時，制動
器依照預設的條件，以執行致動器的動作
命令，給予操縱者一個順向或反向的力量。 
(黃裕暉, 2001)力回饋的作用是讓使用者
感受到虛擬環境中力的真實存在。只要軟
體中有支援力回饋的功能，便可以類比各
種振動或是利用力來表現遇到的阻礙，這
是為了類比真實環境下的操縱感而加上效
果。 (Wei, 2002)。為了表現出力回饋，需
要定義力量和方向的基本協議（見表 1），
一種是美國 Immersion 公司提出的 i-Force
協議，包括 i-Force1.0 和 i-Force2.0 兩個標
準。i-Force 1.0 採用數位和類比信號並存
的模式，因此信號傳輸率低；而 97 年製定
的 i-Force 2.0 協議採用了全數位傳輸和
48MHz 的 16 位微處理器，使得其力回饋
性能顯著提升。它是專為支持力回饋的計
算機周邊設備設計的，可以提供加速、優
化等功能，使其類比現實的效果更加流
暢、逼真。i-Force 協議為開放式協議，所
有設備製造廠家都可以使用。此外，
Microsoft 的 Sidewinder FF 協議也是市場
上力回饋設備的主流協議之一，由於微軟
沒有開放 Sidewinder FF 標準協議，所以市
場上支持 Sidewinder FF 標準協議的遊戲
控 制 單 元 主 要 由 微 軟 自 己 生 產 
(Immersion Inc., 1997) 。回饋力的展現技
術就是用來展現虛擬物體的各種物理特
性，例如虛擬物體的形狀、虛擬物體表面
的摩擦力與虛擬物體表面的紋理特性。針
對虛擬觸覺環境的建構，必須考量下列三
項問題：虛擬觸覺環境的建構、虛擬觸覺
環境的解析度、以及虛擬刀具的控制。 
 
表 1：力回饋技術協議 
晶片型號 I-Force 1.0 Microsoft  Sidewinder FF I-Force 2.0 
發布日期 1995 年 1996 年 1997 年 
位移控制 類比和數位 數位 數位 
最高傳輸速率 9.6K 31.5K 1.2M 
力回饋協處理器 4MHz，8bit 25MHz，16bit 48MHz，16bit
最高振動頻率 40Hz 30Hz 350Hz 
 
為進行力回饋之計算，本研究的 CAD
幾 何 模 型 結 構 是 採 用 三 角 網 格
(Triangle-mesh)模型，可作為觸感回饋作用
力之演算基礎。如圖 2 所示，根據三角網
格的三個頂點位置，可計算出該三角網格
平面之法線方向（回饋力之方向）；此外，
計算虛擬刀具與虛擬物件所接觸的三角網
格數，再加上適當參數的設定，便可換算
作用力的大小。虛擬刀具與虛擬工件接觸
時，相關的三角網格頂點，會依刀具的運
動方向，移動至新的位置；而其產生表面
反抗力，抵抗刀具的前進。反抗力的方向
是依據所有接觸頂點的反抗方向。網格頂
點的方向則是依據其周邊的三角網格面的
法線方向之向量總和。 
 
為能有效透過網際網路，進行快速資
料傳輸，達成及時遠距互動的協同設計模
式。模型資料需考慮多人同時工作時，必
須有互斥（防撞機制）的限制，即必須限
制在模型的任一部位，同一時間僅能有一
人作業，不允許多人同時操作相同部位。
研究中，利用『鄰點鎖定』來處理不同使
用者在作業環境中的防撞機制。所謂『鄰
點鎖定』是指模型中三角網格的頂點，除
了直接與使用者的作業刀具接觸的工作點
群外，已包括依使用者需求設定參數，來
限定與工作點群連接的鄰點範圍，都是其
他使用者不能作業編輯的範圍。如此便可
避免不同使用者同時操作同一個作業區域
的互斥現象。 
 
 
圖 2：回饋作用力之演算法則圖示 
 
2.2. 線上協同設計發展現況 
目前的線上協同設計系統，以架構來分大
致上有三種： 
(1) 以客戶端為主（通訊伺服器端+建模客
戶端） 
 6
的狀況，也可以達到一定的功能訴求。最
後將完成的架構類型如表 3 所示。 
 
表 3：本研究所採用的協同設計平台架構 
條件 
伺服器
有無 
主程式
位置 
頻寬要
求 
客戶端
運算速
度要求 
客戶端
資料保
留 
伺服器
端資料
保留
新架構 有 客戶端 低 中 有 有 
 
系統運作流程描述如下： 
１．啟動伺服器主程式案。 
２．客戶端 CAD 主程式啟動後，輸入伺服
器的 IP，以及個人 ID 和密碼，即可
登入伺服器。 
３．使用者登入後，會先進入大廳（LOBBY）
模式，建立新的設計專案或開啟進行
中的專案。使用者可以在這裡開啟編
輯空間或者傳送文字訊息互相溝通，
也可以邀請現有的編輯空間然後加
入。 
４．開啟編輯空間，並選擇欲編輯的圖形
資料，然後等候其他使用者加入。 
５．搜尋其他使用者開啟的編輯空間，然
後加入協同編輯。 
 
4. 案例驗證 
4.1. 協同作業環境 
以下以 USER01 開啟了一個編輯空間
後，USER02 加入此空間進行協同設計為
例，進行驗正。進入編輯空間後，使用者
就可以看到所有各使用者的工具，以及正
在進行中的設計專案物件，如圖４所示。 
在開啟編輯介面時，USER01 會先將
設計專案的圖形資料，從客戶端（本地端）
傳送至伺服器（使用者亦可在開始進行協
同作業前，就和伺服器連線，先將檔案資
料傳送到伺服器，以減少等待的時間）。
然後 USER02 會將圖形資料下載至本地端
的電腦。 
在編輯過程中，所有的設計作業（即
修改動作），都會在客戶端電腦與伺服器
進行儲存。由於在客戶端以及伺服器都有
儲存檔案，使用者之後欲自行進行修改便
不需要再重新下載檔案，而修改完的檔
案，若想跟其他人分享，只要再上傳至伺
服器，爾後其他使用者便可以去下載。 
 
 
圖４：協同作業環境 
 
 
圖 5：使用者可依設計需要設定鎖定點 
 
4.2. 避免使用者相互干涉 
在協同設計作業的過程中，為了避免
多位使用者在同一時間，對物件的相同部
位進行作業編輯，而產生的彼此干涉問
題。研究中以『鄰點鎖定』的機制，避免
不同使用者相互干擾。如圖 5 與圖 6 所示，
當 USER01 進行設計作業時，綠色頂點是
與作業工具接觸的工作點群，鄰近的兩個
紅色端點則表示鎖定點，限制其他使用者
進行編輯，能夠避免協同設計作業中的使
用者互相干涉問題。相同地，USER02 因
作業工具較大，可以依其需求，設定範圍
較大的鎖定區域，防止其他使用者進入作
業。 
 
