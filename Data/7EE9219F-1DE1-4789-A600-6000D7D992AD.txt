 2
中文摘要 
    海浪的運動是非常複雜的，而海浪運動又是最直接影響航海人員
及從事於海上活動者的感受，本研究中吾人將利用類神經網路重建船
舶海浪訊號應用於模擬船舶海上運動姿態的重現之目的。類神經網路
是屬於一種仿生物演算法，實用性高且具備良好的學習能力，其發展
相當成熟，應用領域極為廣泛。本研究所提出船舶海上運動的重建是
經由類神經網路重建滾轉(Roll)俯仰(Pitch)偏航(Yaw)三個角度的海浪
訊號，再透過六軸平台模擬船舶海上運動的姿態，其最終目的是希望
能夠藉由模擬船舶運動姿態使航海人員在訓練期間就能體驗船舶在
海上的運動，避免航海人員上船之後對海上生活的不適應。 
 4
第一章 緒論 
第一節 研究動機與目的 
任何一種水上載具都會受到波浪的影響，必然會出現六個自由度的運動，這
六個自由度分別為升降(Heave)、前後(Surge)、側向(Sway)、俯仰(Pitch)、滾轉
(Roll)、偏航(Yaw)，它會隨著載具外型、行駛動向及風浪交互作用以耦合的方式
呈現 [1]，其中又以俯仰、滾轉、偏航為航海人員產生身體不適的主要原因。船
舶在海上航行時會產生搖晃，這並不是每個航海人員都能輕易適應，本研究將提
供運動平台重現運動姿態的有效工具，這對航海人員職前訓練將有莫大的助益。 
多年來，類神經網路在處理預測方面的問題已經有諸多成功的案例，也證實
了透過類神經網路所建立的預測模型(Prediction model)是能被接受的。基於類神
經網路具有良好的學習能力，吾人將利用類神經網路建立船舶在波浪中運動模
型，分別預測船舶在波浪中運動所產生的 Roll、Pitch、Yaw 三個角度。並將利
用類神經網路所預測之模式，作為運動平台重現運動姿態的依據。本研究利用國
立高雄海洋科技大學現有的三艘船舶分別在海上運動時實際量測所得的訊號，分
別作為類神經網路交互訓練及測試的訊號，將訓練完成的類神經網路預測波浪訊
號作為提供運動平台控制的命令值，促使運動平台產生對應的模擬運動，作為航
海人員職前訓練的有力工具。 
此種重建船舶在波浪中運動的研究曾經出現在 2007 年鄭翔元所提出的碩士
論文船舶運動模式建模與動態實現之研究[2]，雖然在於類神經網路訓練及測試
結果相當精準，但他僅利用一艘船舶在海上運動實際量測波浪訊號，再加上實驗
船舶數量及實驗數據太少，可信度大大降低，本研究與其最大的差別在於實驗船
舶數量較多，實驗數據也較多，實驗數據也較完整，實驗結果也較為精確，最重
要的是吾人在每個速度下進行訊號的量測，可以重現船舶在每個速度下的運動姿
態。 
西元 1965 年，史都華(D. Stewart)[3]提出一種具有六自由度之機械平台機構
設計，此結構包含一個固定下平台基座(base)以及一個可動之上平台(platform)，
藉由六支連桿(linker)將上下平台連結起來，而上下平台與連桿間則利用萬向接頭
(universal-joint)作接合。而平台的作動原理係由致動器(actuator)同時驅動六連桿
的長度變化，使上平台因各連桿的長度變化而使其具有六自由度的運動。ㄧ般而
言常見的六軸平台所採用的致動器有兩種：一為使用油壓系統做為動力來源，另
一種則利用馬達帶動螺桿傳動。採用油壓系統驅動的好處在於油壓系統可產生很
大的作用力以承受高負載，且能無段變速的方式作功，但響應速度較馬達緩慢。
史都華平台能適當地分配負載在六支連桿上，所以具有高剛性(high stiffness)及
高的力重比(force-to-weight ratio)，且因連桿響應誤差不具累積性，因此較適合運
用於精密定位的場合[4]。 
史都華平台早期應用在軍方之航空飛行器模擬器(aircraft simulator)上，近年
 6
第二章 類神經網路理論及應用 
第一節 簡介 
類神經網路由心理學家 McCulloch 以及數學家 Pitts 於 1943 年提出，簡稱為
MP 模型。在 1957 年的時候，由 F. Rosenblatt 提出最早的類神經網路模式，感知
機(Perceptron)模式。直到了 1985 年 D. Rumelhart 和 G. E. Hinton 以及R. J. Williams
等人提出了倒傳遞網路(Back-Propagation Networks)模式，它能有效的解決 XOR
的問題。 
類神經網路(Artificial Neural Networks，ANN)又稱為人工神經網路，它是一
種仿生物的計算系統，係利用人工神經網路來模仿生物神經網路，生物神經網路
是由大量的生物神經細胞(Neuron)所組成，由生物神經細胞組成層，再由許多的
層組合成生物神經網路。神經細胞又被稱為神經元，如圖 2.1 所示，它是由突觸
(Synapse)、樹突(Dendrites)、神經核(Soma)、軸索(Axon)等部份所組成[5]，突觸
係將外來輸入訊號傳送至樹突的機構、樹突係將突觸傳來的訊號傳送至神經核的
機構、神經核係處理樹突傳來訊號的機構、軸索則是將神經核處理完成的訊號輸
出至其他神經元的機構，簡單來說，神經細胞係經由突觸及樹突接收外來的輸入
訊號，接著傳送至神經核處理，處理完成會產生一個新的訊號，這個訊號會經由
軸索輸出，輸出的訊號會經由下一個神經元的突觸及樹突作為下一個神經元的輸
入訊號。 
 
 
圖 2.1 生物神經元模型[5] 
 
人工神經網路是由大量的人工神經細胞(Artificial Neuron)所組成，由許多的
人工神經細胞組成層，再由許多的層組合成人工神經網路，人工神經細胞又稱為
人工神經元，如圖 2.2 所示，它是由輸入訊號 iX 、加權值 ijW 、偏權值 jθ 、累加
器∑ 、轉換函數 f 、輸出訊號 jY 等部份所組成， i 是一個 m 維的，表示第 i 個神
經元， j 是一個 n 維的，表示第 j 個神經元，輸入訊號相當於生物神經元的外來
 8
倒傳遞網路(Back-Propagation Networks，BPN)是目前應用最普遍的類神經網
路之一，它是屬於多層前向式網路，它的學習方式可分為兩個階段，分別為前向
階段以及倒傳遞階段，如圖 2.4 所示，實線部份為前向階段，虛線部分則是倒傳
遞階段，前向階段將訊號從輸入層至輸出層方向輸入，計算網路的輸出值，倒傳
遞階段則是從輸出層至輸入層的方向進行加權值及偏權值的修正。 
倒傳遞網路是利用最陡坡降法(Greatest Descent Method)作為修正方式，最陡
坡降法廣泛的被使用在很多類神經網路的問題上，通常它以緩慢的速度修正，使
誤差函數趨於最小，它的缺點是收斂速度極為緩慢，且有可能收歛只是落在局部
最小值(local minima)。 
 
圖 2.4 倒傳遞網路的修正路線[2] 
 
倒傳遞網路演算法主要的功能在於修正連接神經元之間的權重值與偏權
值，使得其輸出值與實際值趨於一致，達成建立網路的目標。演算過程概述如下： 
令 
( )∑ −=
j
jj yzE
2
2
1  (2.2) 
其中 
 =E  誤差函數，通常被定義為每次輸出的誤差平方加總。 
 =j  輸出訊號筆數，表示第幾筆輸出訊號數。 
 =jz  目標輸出值，實際量測的數值。 
 =jy  推論輸出值，經過網路不斷學習所推論出來的數值。 
(1) 前向階段 
○1  輸入層至隱藏層 
∑ −×=
i
hiihh xwnet θ  (2.3) 
( )
hnethh e
netfH −+== 1
1  (2.4) 
其中 
 hnet ：集成函數。 
 10
 η：學習率，通常都設在 0.1~1 之間。 
 
hjw
E
∂
∂ ：誤差函數對輸出層的加權值偏微分。 
hjw
E
∂
∂ 可由微積分的連鎖律(Chain Rule)得之，其計算程序如下： 
hj
j
jhj w
net
net
E
w
E
∂
∂×∂
∂=∂
∂  (2.8a) 
hj
j
j
j
jhj w
net
net
y
y
E
w
E
∂
∂×∂
∂×∂
∂=∂
∂  (2.8b) 
將(2.5)式代入(2.8b)式的第三項
hj
j
w
net
∂
∂
 
hj
j
w
net
∂
∂
= h
hj
j
jhhj
H
w
Hw
=∂
⎟⎟⎠
⎞
⎜⎜⎝
⎛ −×∂ ∑ θ
 (2.9) 
將(2.6)式代入(2.8b)式的第二項
j
j
net
y
∂
∂
 
( ) ( ) ( )[ ] ( )jjjj
j
j
j
j yynetfnetf
net
netf
net
y −=−×=∂
∂=∂
∂
11  (2.10) 
將(2.2)式代入(2.8b)式的第一項
jy
E
∂
∂  
( ) ( )jj
j
j
jj
j
yz
y
yz
y
E −−=∂
⎥⎦
⎤⎢⎣
⎡ −⎟⎠
⎞⎜⎝
⎛∂
=∂
∂ ∑ 22
1
 (2.11) 
將(2.9)(2.10)(2.11)式代入(2.8b)式 
( ) ( ) hjjjj
hj
Hyyyz
w
E ×−×−−=∂
∂ 1  (2.12) 
令 j
jnet
E δ−=∂
∂  (2.13) 
將(2.9)(2.13)式代入(2.8a)式 
hj
hj
H
w
E ×−=∂
∂ δ  (2.14) 
 12
將(2.3)式代入(2.21c)式的第三項
ih
h
w
net
∂
∂  
ih
h
w
net
∂
∂
= i
ih
i
hiih
x
w
xw
=∂
⎟⎠
⎞⎜⎝
⎛ −×∂ ∑ θ
 (2.22) 
將(2.4)式代入(2.21c)式的第二項
h
h
net
H
∂
∂
 
( ) ( ) ( )[ ] ( )hhhh
h
h
h
h HHnetfnetf
net
netf
net
H −=−×=∂
∂=∂
∂
11  (2.23) 
將(2.5)(2.13)式代入(2.21c)式的第一項 ⎟⎟⎠
⎞
⎜⎜⎝
⎛
∂
∂×∂
∂∑
j h
j
j H
net
net
E  
∑∑
∑
∑ ×−=∂
⎟⎟⎠
⎞
⎜⎜⎝
⎛ −×∂
×−=⎟⎟⎠
⎞
⎜⎜⎝
⎛
∂
∂×∂
∂
j
hjj
j h
j
jhhj
j
j h
j
j
w
H
Hw
H
net
net
E δ
θ
δ  (2.24) 
將(2.22)(2.23)(2.24)式代入(2.21c)式 
( ) ihh
j
hjj
ih
xHHw
w
E ×−×⎟⎟⎠
⎞
⎜⎜⎝
⎛ ×−=∂
∂ ∑ 1δ  (2.25) 
令 h
hnet
E δ−=∂
∂  (2.26) 
將(2.22)(2.26)式代入(2.21a)式 
ih
ih
x
w
E ×−=∂
∂ δ  (2.27) 
將(2.25)(2.27)式整理得 
( )hh
j
hjjh HHw −×⎟⎟⎠
⎞
⎜⎜⎝
⎛ ×= ∑ 1δδ  (2.28) 
將(2.22)(2.28)代入(2.20)式 
ihihih xxw ××=×−×−=Δ δηδη  (2.29) 
hh δηθ ×−=Δ  (2.30) 
ih
old
ih
new
ih www Δ+=  (2.31) 
h
old
h
new
h θθθ Δ+=  (2.32) 
其中 
 14
第三章 史都華平台系統 
第一節 史都華平台實驗設備系統介紹 
本實驗設備系統大致可分為三部分：（1）六軸平台機構、（2）油壓伺服系統
及（3）控制端電腦。六軸平台機構如圖 3.1 所示，其中包含上可活動平台、下
固定基座平台、萬向接頭、六支油壓致動器以及六個直線位移感測器（rectilinear 
displacement transducer）。 
其中油壓致動器是一種將油壓動力轉換成推力（隨截面積之大小而變）、速
度（隨流量大小而變）的裝置，其運動方式為直線性，故又稱為直線運動致動器。
致動器構造大致可分液壓缸（cylinder barrel）、活塞（piston）、活塞桿（piston rod）、
及兩端的封蓋（cover）等部分。此型致動器因為只有單邊有活塞桿故又稱為非
對稱型油壓致動器。而直線位移感測器則是一種感測元件（sensor），其功能是
量測致動器的長度變化量，以作為六軸平台控制系統的迴授訊號。 
 
 
圖3.1 六軸平台實際架構圖 
 
 
圖3.2 油壓伺服系統圖 
 16
制訊號之外，其中還包含一個硬體控制器迴路，但在本論文中已將迴路增益調整
成放大倍率為 1 的放大器使用。如圖 3.5 所示，為本論文基本的控制架構。 
 
 
圖3.5 基本的控制架構 
 
第二節 史都華平台逆運動學分析 
何謂逆運動學，簡單的由機械原理的觀點說起，一般在分析機械元件的時候
習慣由主動元件開始討論分析，最後才得到被動元件的運作型態，例如在計算分
析一組齒輪系時，我們得知原動輪轉速、轉向及各齒輪齒數以求得每一個被動輪
的轉速與轉向，這即可稱之為順向，反之若已知的是被動輪的轉速及轉向時反推
原動輪所需要的轉速與轉向，這即可稱之為逆向。逆運動學也是這樣的概念，由
被動元件的運動姿態反算原動件所必需要呈現的姿態。而對於本論文所討論的史
都華平台而言，上活動平台即是被動元件而六支油壓致動器即是所謂的原動件，
當吾人給定了上活動平台的姿態就可利用逆運動學的推導計算出六支油壓致動
器個別所需要伸長或縮短的變化量。 
在推導逆運動學計算六支致動器的伸長縮短量前，為了在運算上及說明的方便，
因此在平台上定義了{B}、{P}以及 }{ iJ 等三大座標系統，其各座標定義如圖3.6
所示 
 
}{ iJ
PO
BO
BX BY
BZ
PX PY
PZ
iB iY
 iX
 iZ
iP
 
圖3.6 史都華平台座標定義示意圖 
 
 18
 Tiyix
T
iPiP
P
iP PPRRPO ]0,[]0),sin(),cos([ ,≡= λλ     , 6,,2,1 L=i   (3.2) 
 
更可由圖 3.7 所示可知，接點的配置藉由 BR 、 PR 、 Bθ 、 Pθ 等幾何尺寸可配
合數值運算的方法設計出平台最大且最適合的工作空間，其中上標 B 或 P 表示
以慣性座標系{B}或以活動座標系{P}為基準做描述。而實際上下平台各接點，
以廠商所提供的平台設計圖決定，如圖 3.8 所示： 
 
 
圖3.8 平台設計圖 
 
因上下平台的內切圓半徑相同皆為467mm，各接點座標可表示如下： 
以座標系{B}描述下平台六接點 iB )6,,1( L=i 的位置向量
B
iB BO  
B1(-365.02,  291.67, 0) 、 B2( - 435.10, 170.28, 0) 
B3( - 70.08, - 461.95, 0) 、 B4(  70.08, - 461.95, 0) 
B5( 435.10,  170.28, 0) 、 B6(  365.02, 291.67, 0) 
以座標系{P}描述上平台六接點 iP )6,,1( L=i 的位置向量
P
iP PO  
  P1( - 70.08, 461.95, 0) 、 P2(-435.10,-170.28, 0) 
  P3(-365.02,-291.67, 0) 、 P4( 365.02,-291.67, 0) 
  P5( 435.10,-170.28, 0) 、 P6(  70.08, 461.95, 0) 
其配置的情況由下圖3.9所示 
 
 20
求得上平台接點 iP ， 6,,1L=i 相對於慣性座標系{B}的位置向量： 
 
P
iP
B
P
B
iP POPO ⋅ℜ=  (3.5) 
 
其中
B
iP PO 為上平台中心至接點 iP 向量相對於座標系{B}的座標表示，而
P
iP PO 為
上平台中心至接點 iP 向量相對於座標系{P}的座標表示式。 
    參考圖3.10，我們透過轉換矩陣 BPℜ 可推得從下平台接點 iB 到上平台接點 iP
相對於座標 BXYZ 的位置向量。 
 
B
iB
P
iP
B
P
B
PB
B
ii BOPOOOPB −⋅ℜ+=   (3.6) 
}{ iJ
P
O
BO
BX BY
BZ
P
X
PY
P
Z
iB iY
 iX
 iZ
PBOO
iPPO
iiPB
iBBO
iP
 
圖3.10 平台座標系 
 
因此，給定上平台中心相對於慣性座標系之姿態參數 Tzyx ],,,,,[ γβα ，我
們可以求得第i支連桿其相對應的長度 il ： 
 
))((2 1211
222222
ixiyixBPi BxPrPrRRzyxl −++++++=  
zPrPrByPrPr iyixiyiyix )(2))((2 32312221 ++−++  
)(2 iyix ByBx ⋅+⋅−                   )6,,1( L=i   (3.7) 
 
 22
的接點空間中個別完成其控制目的。個別控制一個油壓伺服閥，使其調節開度進
而調節流過伺服閥的流量最後使得每一支油壓致動器達到個別所需要的伸長縮
短量。 
本論文將透過A/D轉換卡與D/A轉換卡來接收回授訊號與控制訊號的輸出，
且配合使用MATLAB SIMULINK作為實現控制器的平台。 
第四節 史都華平台動力學分析與油壓動力系統介紹 
平台的動力學分析，目的在於為了瞭解平台動作時各接點的受力情況，且在
平台外加負載時可分析平台的安全性以及動力需求，而動力需求的規劃與油壓動
力諸元有直接的關連，因此在本章最後將對於油壓動力做個概略的介紹。 
動力分析為研究其各連桿致動器與上下平台在預先規劃的運動軌跡下所產
生或承受之力與力矩。一般來說，分析系統各部位動力有兩種方法，一是牛頓-
尤拉法(Newton-Euler Method) [8]，所引用的原理為牛頓第二運動定律及尤拉力
矩方程式；另一則是採用能量的觀點，利用漢彌頓定理(Hamilton’s principle)推導
拉格蘭日運動方程式(Lagrange’s equation of motion) [9]，在文獻[10]中，使用牛
頓-尤拉法已對史都華平台做過完整的動力學分析，其結論推得一矩陣方程式： 
PFD P =⋅   (3.8) 
 
其中D為一6X6矩陣, P與 PF 為6X1的行向量,各元素如下： 
)( 1121,1
P
iiy
P
iixj tPtPD +−=   (3.9) 
P
iixj tPD 31,2 =   (3.10) 
P
iiyj tPD 31,3 −=   (3.11) 
ixjD i,4 −=   (3.12) 
iyjD i,5 −=   (3.13) 
izjD i,6 −=   (3.14) 
∑∑
==
+++−Φ=
6
1
2322
6
1
13121,1 )()(
i
Piz
P
iPiy
P
iix
i
Piz
P
ipiy
P
iiyPzPzz ftftPftftPP ω&   (3.15) 
∑
=
+−Φ−Φ+Φ=
6
1
33321,2 )()(
i
Piz
P
iPiy
P
iixPzPxPzzPxxPyPyy ftftPP ωωω&   (3.16) 
∑
=
+−Φ−Φ+Φ=
6
1
33321,3 )()(
i
Piz
P
iPiy
P
iiyPzPyPyyPzzPxPxx ftftPP ωωω&   (3.17) 
 24
分力 Pixf ， iY 與 iZ 方向的分力分別為 Piyf 與 Pizf ，再由圖3.12所示，可知第i支連
桿活塞的推力 actif 等於作用力 Pixf 及活塞本身重量 pistonw 在 iX 方向上的分力，且
還包括使活塞產生 iX 方向上的加速度 Tpistona 之力量： 
    
    Tpistonipistoni
ji
i
TB
piston
ji
BPixacti amwff ⋅+Ι⋅⋅ℜ+= )(   (3.26) 
 
因此，可得知給定速度、加速度及特定軌跡的史都華平台，可經由式(3.8)、
式(3.22)、式(3.23) 可以計算出致動器接點在平台運動時的受力變化情形，而可
利用式(3.26)計算出各油壓致動器必須經油壓系統所產生的推力，這對於設計平
台動力需求與結構設計而言是個必要的分析。但其中並未考慮洩漏與摩擦力等
問題，所以(3.26)只為一個理想值。 
 
pixf
Piyf
Pizf
actif
pistoniW
T
pistonia
iX
iY
iZ
 
圖3.12 連桿推力示意圖 
 
接著，簡單的說明壓力與作用力的關係，根據牛頓第二運動定律可知使一
單位質量的物體產生一單位加速度即是一單位的力，而壓力則是一單位面積中
所承受的力。再由式(3.26)可知平台在連續運動的期間其所需要的作用推力是會
變動的，但在固定供給壓力及活塞面積不可能改變的情況下所能提供的推力大
小範圍是固定的，因此對於不同的平台載重時容易發生推力不足或推力過大的
情形，推力不足容易使得平台無法達到所要求的運動姿態而推力過大雖然可以
達到平台運動姿態的要求，但對於平台各機械元件而言容易產生疲勞傷害或是
油封洩漏，因此對於不同平台載重的測試時必須要先針對其負載及所規劃的運
動軌跡實施動力學的分析，以求得最適當的推力值範圍。而致動器所能夠產生
 26
第四章 可變結構控制設計 
第一節 可變結構控制理論 
可變結構系統(variable structure system)為一種結構可以改變的系統，既然結
構可以改變，這類系統必包含了兩個以上的子系統，且具有相關的切換機制，用
來決定子系統的切換時機。根據文獻上的記錄，在 1950 年代，前蘇聯就已經有
學者與工程師將可變結構系統應用在馬達控制上，並發現了一個重要的系統行
為：滑動模式(sliding mode)，現在的可變結構控制幾乎都是架構在滑動模式的基
礎上來設計。但雖如此，滑動模式只可說是可變結構系統中的一個特殊行為，若
要對兩者強加定義來區別的話，可變結構控制可定義為：使系統產生兩個以上的
子系統，並利用一些刻意加上的切換條件來達成控制目標的手段；而滑動模式控
制則可定義為：使系統產生兩個以上的子系統，並利用一些刻意加上的切換條件
來促使系統狀態維持在預先設計的運動面上運動。可變結構系統擁有著三個相當
重要且獨特性質： 
一、系統的穩定性與子系統的穩定性無關，吾人以下述例子說明： 
假設一個二階系統動態方程式如下： 
u
x
x
x
x
⎥⎦
⎤⎢⎣
⎡+⎥⎦
⎤⎢⎣
⎡⎥⎦
⎤⎢⎣
⎡
−−=⎥⎦
⎤⎢⎣
⎡
1
0
21
10
2
1
2
1
&
&
  (4.1) 
控制系統輸入訊號的切換條件為 
( )
( )⎩⎨
⎧
<
>−=
0,,4
0,,4
211
211
xxifx
xxifx
u σ
σ
  (4.2) 
其中 ( ) Ψ= 121 , xxxσ ， 215.0 xx +=Ψ 。 
    由 ( )21, xxσ 大於 0 或小於 0 的狀態來選用系統輸入 14xu −= 或 14x= 使得系統
產生兩個子系統動作： 
當 ( ) 0, 21 >xxσ 時，其子系統的微分方程式為： 
121122
21
5242 xxxxxx
xx
−−=−−−=
=
&
&
  (4.3) 
為一個不穩定的焦點(unstable focus)，特徵值分別為 i21±=λ ，其相位平面圖如
圖 4.1 所示。 
當 ( ) 0, 21 <xxσ 時，其子系統的微分方程式為： 
121122
21
3242 xxxxxx
xx
+−=+−−=
=
&
&
  (4.4) 
系統原點為鞍點(saddle point)，特徵值分別為 1−=λ 、 3+ ，其相位平面圖如圖
4.2 所示：  
 28
二、系統可以具有滑動模式，是設計可變結構系統時最常利用的一種系統軌跡，
它是產生在超空間（hyper-plane）的一種系統行為，由圖 4.3 可知，由 ( ) 0, 21 =xxσ
的界分可分為 ( ) 0, 21 >xxσ 與 ( ) 0, 21 <xxσ 上下兩個子結構，系統軌跡除了在座標
(1,-1)至(-1,1)連線上的點會一直朝著原點前進外，其他的通通會在有限時間內接
觸到邊界 ( ) 0, 21 =xxσ ，且軌跡會順著邊界 ( ) 0, 21 =xxσ 滑向原點，此行為稱之為
滑動模式。一個系統如果要擁有滑動模式，則必須具有兩個條件： 
第一、系統必須先存在一個滑動模式的超空間，而且所有狀態軌跡在 
有限時間內都會接觸到所設計好的超空間。 
第二、系統狀態軌跡進入到此超空間後，必須沿著此超空間向原點趨近。 
事實上，上述的第一個條件稱為迫近條件(approaching condition)或稱之為接
近條件(reaching condition)，其主要的觀念是在於系統狀態軌跡必須在有限時間
內接觸到所設計完成的滑動平面上，而第二個條件則稱之為滑動條件(sliding 
condition)，其主要的觀念在於系統軌跡必須沿著此滑動平面到達原點或目標點。 
三、 系統對雜訊具有穩健性，通常系統面對的雜訊可歸納為三種：來自系統
外部的干擾(disturbance)、系統參數隨環境變動所造成的不定量(uncertainty)及無
法獲知的部分系統模式(unmodeled)。以下述例子說明：考慮二階系統如式(4.5)
所示： 
u
x
x
x
x
⎥⎦
⎤⎢⎣
⎡+⎥⎦
⎤⎢⎣
⎡⎥⎦
⎤⎢⎣
⎡=⎥⎦
⎤⎢⎣
⎡
1
0
00
10
2
1
2
1
&
&
  (4.5) 
        其中 1x 和 2x 分別為系統狀態變數，而u 則為控制輸入。並將控制切換條
件設計為： 
⎩⎨
⎧
<−
>−=
025.0
04
211
211
xxifx
xxifx
u   (4.6) 
   其系統軌跡如下圖 4.4 所示： 
 
 30
 
圖 4.6 01 ≤⋅σx 系統軌跡圖 
 
由圖可知中心已經因為ε 的存在而有所偏移，但因式(4.8)的切換控制可獲得如下
圖 4.7 所示系統軌跡： 
 
圖 4.7 系統對雜訊具有穩健性 
 
這個例子說明了系統對雜訊的穩健性，不論ε 、α 為何，只要α 的變動不會改變
子結構的型態，則系統軌跡皆為穩定。 
一般而言，滑動模式是設計可變結構系統時最常利用的一種系統軌跡，首先
設計產生一個滑動平面(sliding surface)σ ，由於所選取的滑動面必須是通過原點
且必須符合超空間的特性：滑動平面必須比原系統少一階，而且在這裡必須留意
的是：σ 對時間 t 必須是一次可微的。利用此切換函數，明顯的可以將整個狀態
空間分隔成 0>σ 、 0=σ 及 0<σ 這三個子空間，重要的是，在此 0=σ 之空間
上必須是連續的而且包含平衡點。因此對二階系統而言，滑動模式將發生在一階
的空間裡，也就是在一條線上。 
  雖然可變結構有相當多的優點，卻也有一些不合實際的缺點，其中最令人詬
病的是抖震(chattering)現象。理論上，系統如果可以很理想地依據設定條件作切
換，則切跳現象不會產生，可惜的是不論在實作上或電腦模擬中，切換條件無法
在瞬間完成，使得系統狀態軌跡只能在滑動平面的兩側快速的來回振盪，產生高
頻率振盪現象，對於此現象將在本章第三節說明目前普遍使用的改善方法。 
 32
內迫近到滑動平面上，將其表示為：[11] 
σησ −≤2
2
1
dt
d  (4.17) 
其中 0>η ，進一步將式(4.17)整理為： 
( ) σησσσσσσ −≤== sgn
2
1 2 &&
dt
d  (4.18) 
即必須滿足以下的不等式 
( ) ησσ −≤sgn&  (4.19) 
其中 
( )
⎩⎨
⎧
<−
>=
01
01
sgn σ
σσ
for
for
 (4.20) 
以下吾人以二階動態系統作說明，若動態方程式表示為： 
( ) ( )tutxxftx += ,,)( &&&  (4.21) 
控制目的為設計 ( )tu ，使得在相位平面的任意初始值的誤差向量，都會隨著時間
的變化被迫進到滑動平面上。設計滑動平面表示如下： 
( ) ( ) ( ) ( )tetete
dt
dtx λλσ +=⎟⎠
⎞⎜⎝
⎛ += &,  (4.22) 
當系統在滑動平面上時，則可以寫成 ( ) 0, =txσ ，即： 
( ) ( )tetetx &&&& λσ +=),(  
( )tetxtx d &&&&& λ+−= )()(  ( ) ( )tetxtutxxf d &&&& λ+−+= )()(,,  
0=  (4.23) 
如果 f 為已知函數，吾人可利用控制器 )(tu 迫使此動態系統落在滑動平面上時，
不會離開此滑動平面，該控制器u 可設計為： 
( ) )()(,,)( tetxtxxftu d &&&& λ−+−=  (4.24) 
但是在實際的物理系統裡存在的不確定性，上述的控制器僅在理想狀態下可達到
控制器目的，為了使動態方程式更為接近實際的物理系統，吾人在動態方程式中
加入擾動項 fΔ ： 
fff Δ+= ˆ  (4.25) 
將式(4.25)代入式(4.23)： 
exuf d &&&& λσ +−+= exuff d &&& λ+−+Δ+= ˆ  (4.26) 
在系統含有不確定下，為了滿足滑動條件，我們選擇加入一個不連續的控制器
swu 。因此控制器u 可分為 equ 和 swu ，即： 
sweq uuu +=  (4.27) 
 34
⎪⎩
⎪⎨
⎧
−<−
≤
>
=
φσ
φσφσ
φσ
φσ
1
/
1
),(sat  (4.33) 
因此控制法則被修正為： 
sweq uuu +=  
( ) ),(, φσλ sattXKexf d −−+−= &&&  (4.34) 
其中 
η+≥ ),(),( tXFtXK  (4.35) 
在還沒有進入到滑動層前，即當 φσ ≥ 時，可以發現 )sgn(),( σφσ =sat ，就
是說在修正前和修正後的控制法則都完全相同，所以系統依然朝向滑動面 0=σ
逼近，由於滑動面包含在滑動層內部，所以系統當然也會朝著 φσ < 逼近，系統
會在有限時間內進入滑動層。 
由於在滑動層 φσ ≤ 中，σ 為一個有限量的值，因此不影響系統的穩定性，
只是系統狀態軌跡最後不再向原點逼近了，而只是在原點的附近遊走，這種情形
降低了控制的準確度，這也就是利用了滑動層的概念所必須付出的代價，不過此
種代價是值得的，因為具備滑動層的控制器可以配合上實際的物理元件製作出來
並且只要滑動層的厚度夠寬就不會有高頻雜訊或者產生不當的切跳現象。 
e
e&
ε
φ
0=σ
 
圖 4.8 抖振與分界帶 
 
 36
設計σ 為控制器之切換函數，表示如下： 
( ) ∑
=
+−=
n
i
iiI XcZKXc
2
11σ  (4.40) 
其中 ic 為常數且 1=nc ， IK 為積分式控制器之增益。 將切換函數做一次微分可
得到： 
( ) ∑
=
+−=
n
i
iiI XcZKXc
2
11
&&&σ  
( ) nn
i
iiI XXcXrKcXc &++−−= ∑−
=
+
1
2
11121  
( ) ( )∑ ∑
= =
− −+−−+−=
n
i
I
n
i
iiii tfbUXrKcXcXa
1
11
2
1  (4.41) 
令控制器U 可區分為針對確定參數設計的部分與針對未確定參數設計的部分，
表示為： 
swIUUU += 0  (4.42) 
首先對正則系統(nominal system)設計控制器，令 0=σ& ， 0=Δ ia ， 0=Δb 及( ) 0=tf ，則控制器設計表示為下式： 
( )
0
11
2
1
1
0
0
b
XrKcXcXa
U
Ii
n
i
i
n
i
ii ⎟⎠
⎞⎜⎝
⎛ −+−
=
∑∑
=
−
=  (4.43) 
針對擾動項等未確定部分所設計的積分形式控制器則表示為： 
( ) ∑
=
+−=
n
i
iiIIIswI XZKXU
2
11 φφ  (4.44) 
其中 I1φ ， iIφ 均為控制器切換函數，其表示如下 
( )
( )⎩⎨
⎧
<−
>−=
,0,
,0,
11
11
1 σς
σρφ
ZKXif
ZKXif
II
II
I  (4.45) 
⎩⎨
⎧
<
>=
,0,
,0,
σς
σρφ
iiI
iiI
iI Xif
Xif
 ni ,,2 K=  (4.46) 
該著作同樣選用 2/2σ=V 作為控制器設計之依據，並要求切換條件必須滿足[4] 
0lim
0
<→ σσσ &  (4.47) 
則 
( )( )σφσσσ ZKXbBaa II −++Δ−=→ 110110lim & ( )∑= − +−+Δ−+
n
i
iiIiii XbBcBaa
2
1
0 σφ  
( ) ( )( )σZKBaZKarXKBctf III 01111 +Δ−−−−+   (4.48) 
其中 0/bbB Δ≡  
 38
⎥⎦
⎤⎢⎣
⎡ ++−+
⎥⎦
⎤⎢⎣
⎡ −+−Δ+
⎥⎦
⎤⎢⎣
⎡ −+−
+
−−+Δ+−=
∑
∑∑
∑∑
∑∑
=
=
−
=
=
−
=
=
−
=
noi
n
i
iIII
I
n
i
ii
n
i
ii
I
n
i
ii
n
i
ii
I
n
i
ii
n
i
iii
XZKXb
XrKcXcXa
b
b
b
XrKcXcXab
XrKcXcXaa
φφφ
2
11
0
11
2
1
1
0
0
0
11
2
1
1
00
11
2
1
1
0
)(
)(
)(
)()(
 
)()(
2
11 tfXZKXb noi
n
i
iIII −⎥⎦
⎤⎢⎣
⎡ ++−Δ+ ∑
=
φφφ  (4.54) 
之後再將式(4.54)乘開化簡如下： 
⎥⎦
⎤⎢⎣
⎡ −+−Δ+Δ−= ∑∑∑
=
−
==
)()( 11
2
1
1
0
0
1
XrKcXcXa
b
bXa I
n
i
ii
n
i
iii
n
i
i  
)()(
2
11 tfXZKXb noi
n
i
iIII −⎥⎦
⎤⎢⎣
⎡ ++−+ ∑
=
φφφ  (4.55) 
接著分別提出 iaΔ 、 0ia 中， 1=i 項，整理如下： 
       i
n
i
i XaXa ∑
=
Δ−Δ−=
2
11               
⎥⎦
⎤⎢⎣
⎡ −+−+Δ+ ∑∑
=
−
=
)( 11
2
1
2
0
1
0
10 XrKcXcXaXab
b
I
n
i
ii
n
i
ii  
⎥⎦
⎤⎢⎣
⎡ ++−+ ∑
=
noi
n
i
iIII XZKXb φφφ
2
11 )( )(tf−  (4.56) 
令 0b
bB Δ= ，整理如下： 
)( 111
0
111 ZKXbXBaXa II −++Δ−= φ   
)( 1
0
2
iiIiiiii
n
i
i XbXBcXBaXa φ+−+Δ−+ −
=
∑  
))()(( 11 noI brXKBctf φ+−−−+  (4.57) 
再將式(4.57)提出相同係數，缺項補消放置於最後一項，整理如下：  
))(( 11
0
11 ZKXbBaa II −++Δ−= φ          
iiIii
n
i
i XbBcBaa )( 1
0
2
φ+−+Δ−+ −
=
∑
( )noIII bZKBaZKarXKBctf φ++Δ−−−−+ 01111 )()(  (4.58) 
由式(4.58)可明顯看到 I1φ 、 iIφ 及 noφ 分別置於其中一項，接著同樣選取 Lyapunov
函數： 2/2σ=V ，並要求切換條件必須滿足式(4.46)，則 
 40
σφσ iiIbiibib
n
i
ai XNbXsigncb
N
a
b
N
N ])()()[( 01
0
0
02
+++++ −
=
∑  
)())()([( 01
0
111
0
σsignZKa
b
N
ZKNrXKc
b
N
tF I
b
IaI
b ++−++  
σφ ])( 0 nobNb ++  (4.64)  
由式(4.64)，將分成三部分討論 I1φ 、 iIφ 、 noφ 的設計，以確保 0lim0 <→ σσσ & 成立 
 
第一部份： 
    令 ( )[ ] ( ) ( ) 0110101
0
1 <−⎥⎥⎦
⎤
⎢⎢⎣
⎡ ++−⎟⎟⎠
⎞
⎜⎜⎝
⎛ + σφσ ZKXNbZKXsigna
b
NN IIbIba  
當 ( ) 01 >− σZKX I ，則： 
       ( )[ ] ( ) 010101
0
1 <⎥⎥⎦
⎤
⎢⎢⎣
⎡ ++−⎟⎟⎠
⎞
⎜⎜⎝
⎛ + IbIba NbZKXsignab
NN φσ  
( ) ( )[ ]
⎥⎥⎦
⎤
⎢⎢⎣
⎡ −⎟⎟⎠
⎞
⎜⎜⎝
⎛ +−<+⇒ σφ ZKXsigna
b
NNNb IbaIb 1
0
1
0
110  
( )[ ]
b
I
b
a
I Nb
ZKXsigna
b
N
N
+
⎥⎥⎦
⎤
⎢⎢⎣
⎡ −⎟⎟⎠
⎞
⎜⎜⎝
⎛ +−
<⇒
0
1
0
1
0
1
1
σ
φ  
Q ( ) 01 >− σZKX I  
∴
( )[ ]
b
I
b
a
I Nb
ZKXsigna
b
N
N
+
⎥⎥⎦
⎤
⎢⎢⎣
⎡ −⎟⎟⎠
⎞
⎜⎜⎝
⎛ +−
<
0
1
0
1
0
1
1
σ
φ  
 
則選取
( )
b
a
I Nb
QaN
+
++−=
0
0
11
1
εφ  (4.65) 
 
當 ( ) 01 <− σZKX I ，則： 
( )[ ] ( ) 010101
0
1 >⎥⎥⎦
⎤
⎢⎢⎣
⎡ ++−⎟⎟⎠
⎞
⎜⎜⎝
⎛ + IbIba NbZKXsignab
NN φσ  
 42
則選取
( )
b
iiai
iI Nb
QcQaN
+
+++−= −
0
1
0 εφ  (4.67) 
 
當 0<σiX ，則： 
       ( ) ( ) 001
0
0
0
>
⎥⎥⎦
⎤
⎢⎢⎣
⎡ ++⎟⎟⎠
⎞
⎜⎜⎝
⎛ ++ − iIbiibibai NbXsigncb
Na
b
NN φσ  
         ( ) ( )
⎥⎥⎦
⎤
⎢⎢⎣
⎡
⎟⎟⎠
⎞
⎜⎜⎝
⎛ ++−>+⇒ − σφ iibibaiiIb Xsigncb
Na
b
NNNb 1
0
0
0
0  
         
( )
b
ii
b
i
b
ai
iI Nb
Xsignc
b
N
a
b
N
N
+
⎥⎥⎦
⎤
⎢⎢⎣
⎡
⎟⎟⎠
⎞
⎜⎜⎝
⎛ ++−
>⇒
−
0
1
0
0
0
σ
φ  
Q 0<σiX  
∴
( )
b
ii
b
i
b
ai
iI Nb
Xsignc
b
N
a
b
N
N
+
⎥⎥⎦
⎤
⎢⎢⎣
⎡
⎟⎟⎠
⎞
⎜⎜⎝
⎛ +++
>
−
0
1
0
0
0
σ
φ  
則選取
( )
b
iiai
iI Nb
QcQaN
+
++++= −
0
1
0 εφ  (4.68) 
 
第三部份： 
 令 ( ) ( ) ( ) ( ) 0001
0
111
0
<
⎥⎥⎦
⎤
⎢⎢⎣
⎡ ++⎟⎟⎠
⎞
⎜⎜⎝
⎛ ++−+ σφσ nobIbIaIb NbsignZKab
NZKNrXKc
b
NtF  
當 0>σ ，則： 
    ( ) ( ) ( ) ( ) 0001
0
111
0
<++⎟⎟⎠
⎞
⎜⎜⎝
⎛ ++−+ nobIbIaIb NbsignZKab
NZKNrXKc
b
NtF φσ  
( ) ⎟⎟⎠
⎞
⎜⎜⎝
⎛
⎟⎟⎠
⎞
⎜⎜⎝
⎛ ++−+−<+⇒ )()()( 01
0
111
0
0 σφ signZKab
NZKNrXKc
b
NtFNb IbIaIbnob
     
b
I
b
IaI
b
no Nb
signZKa
b
N
ZKNrXKc
b
N
tF
+
⎟⎟⎠
⎞
⎜⎜⎝
⎛
⎟⎟⎠
⎞
⎜⎜⎝
⎛ ++−+−
<⇒
0
0
1
0
111
0
)()()( σ
φ  
 44
( )
( )
⎪⎪⎩
⎪⎪⎨
⎧
<+
++++=
>+
+++−=
=
−
−
0
0
0
1
0
0
1
0
σες
σερ
φ
i
b
iiai
iI
i
b
iiai
iI
iI
Xif
Nb
QcQaN
Xif
Nb
QcQaN
ni ,,2 K=   (4.72) 
( ) ( )( )
( ) ( )( )
⎪⎪⎩
⎪⎪⎨
⎧
<+
+++−++=
>+
+++−+−=
=
0
0
0
0
1111
0
0
1111
σες
σερ
φ
if
Nb
ZKQaZKNrXKQctF
if
Nb
ZKQaZKNrXKQctF
b
IIaI
no
b
IIaI
no
no   (4.73) 
其中 0/bNQ b= 且ε 為趨近於零的正數。 
    
  以 上 的 推 導 結 果 與 文 獻 [12] 的 不 同 處 在 於 本 論 文 針 對 未 確 定 參 數
iaa ΔΔ ,,1 L 及 bΔ 有更詳細的推導且對於系統的擾動也有相當的處置。吾人將利
用以上所推導的積分型可變結構控制器應用於六軸平台的液壓致動器，將於第四
章實驗成果中介紹。 
 
 46
90 100 110 120 130 140 150 160 170 180 190 200
-0.2
0
0.2
0.4
0.6
0.8
1
1.2
time (Sample time=0.01,total=2sec)
di
sp
la
ce
m
en
t
 
 
 
圖 5.2 第一支油壓缸電壓訊號響應比較圖(伸長) 
0 20 40 60 80 100 120 140 160 180 200
-0.2
0
0.2
0.4
0.6
0.8
1
1.2
time (Sample time=0.01,total=2sec)
di
sp
la
ce
m
en
t
 
圖 5.3 第一支油壓缸電壓訊號響應比較圖(縮短) 
 
在圖 5.2、圖 5.3 中 Y 座標所標示的位移量是由電阻尺回傳的訊號經過比例
化的換算，位移量 1 即是表示油壓連桿伸長 19 公分。比例化換算的目的是因為
目標與回授訊號的度量單位不一樣，因此目標與回授訊號都需要經過比例換算將
兩者都轉換成相同物理量的訊號。另外雖然電阻尺的規格說明量測訊號範圍為
0V 到-8V 但實際上的量測範圍卻有所偏差，因此在圖中所看到的位移最低點並
不是在 0 的準位上。而且每隔一段時間所量測到的上下限的偏差量都會不一樣，
 48
能非常良好而且簡單，毋須對於整個油壓系統作太過於複雜的討論與分析，因此
問題的困難情形將簡化了許多。 
藉此結果可發現其系統響應類似於一階系統，因此吾人企圖尋找一個與原始
性能一階近似的轉移函數，以作為之後使用積分型可變結構控制器的參考，其差
異之處將視為系統的未確定參數，首先假設一個一階的轉移函數 
如式(5.3)所示： 
             0
0
)(
)()(
as
b
sU
sYsG +==                                  (5.3) 
 
經過了幾次的模擬找到 0a 、 0b 等於 10 最為近似，因此將利用式(5.3)作為 
設計可變結構控制器的基礎。 
 
            
10
10
)(
)()( +== ssU
sYsG                                   (5.4)
使用積分型可變結構控制器 
在套用積分型可變結構控制器之前，嘗試使用 PI 型控制器來做簡單的閉迴
路的控制，在設定參數 Kp=5、Ki=20 的情況下，可以得到如下圖 5.5 所示的響
應圖： 
0 100 200 300 400 500 600 700 800 900 1000
-0.2
0
0.2
0.4
0.6
0.8
1
1.2
time (Sample time=0.01, total=10sec)
di
sp
la
ce
m
en
t
 
圖 5.5 PI 型的步階響應圖 
 
在這組的參數下的響應雖然沒有超越量但上升時間似乎不夠快，接著吾人將著手
設計套用於本油壓系統的積分型可變結構控制器，將上一節所找到的近似轉移函
數式(5.4)，將其轉換成動態方程式，表示如下： 
 
 50
( )
( )
⎪⎪⎩
⎪⎪⎨
⎧
<+
+++−++=
>+
+++−+−=
=
0 
)()(
0 
)()(
0
0
1111
0
0
1111
σε
σε
φ
if
Nb
ZKQaZKNrXKQctF
if
Nb
ZKQaZKNrXKQctF
b
IIaI
b
IIaI
no  
 
在上述中所提的 1aN 、 bN 都是為未確定參數的最大上界，由於本系統的
動態方程式只是個近似的一階系統，因此希望利用 1aN 、 bN 來將真實的系統特
性包含在這兩參數之中，且因為六支液壓致動器各別使用了一個控制器，所以必
須要針對每一支液壓致動器調整合適的參數，以期望每支油壓致動器的性能響應
能足夠的相近，接著以一連串的實驗調整參數，最後六制動器各參數表示如下表
5.1 所示：     
表 5.1 各制動器控制器參數 
 IK  1aN bN  
第一支缸 27 6 6 
第二支缸 30 5 6 
第三支缸 30 6 6 
第四支缸 27 6 6 
第五支缸 35 8 8 
第六支缸 35 8 8 
 
所得到的結果雖然不是最好的但卻也證實了這樣的方法是確實可行的，以
下圖 5.6 所示可變結構控制器與傳統 PI 型控制器的步階響應比較 
 52
為第一支缸的追逐而圖 5.9 為所有六支致動器追逐的情形所示： 
0 100 200 300 400 500 600 700 800 900 1000
0
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
1
time
di
sp
la
ce
m
en
t
 
                 圖 5.8  IVSC 控制器追逐正弦波(第一支缸) 
0 100 200 300 400 500 600 700 800 900 1000
0
0.2
0.4
0.6
0.8
1
1.2
1.4
time
di
sp
la
ce
m
en
t
 
 
 
                  圖 5.9  六支致動器追逐正弦波的情形  
 
接著是控制量的圖形，如下圖 5.10 
 54
0 100 200 300 400 500 600 700 800
0.25
0.3
0.35
0.4
0.45
0.5
0.55
0.6
0.65
0.7
time
di
sp
la
ce
m
en
t
 
 
#1
#2
#3
#4
#5
#6
 
              圖 5.11 X 軸正負 5 度的擺動各致動器運動情形 
由圖 5.11 可知六支致動器的伸縮量只有三種不同變化，而其中第一支缸與
第六支缸一樣，第三支與第四支一樣，第二支則與第五支一樣，這樣的結果從逆
運動學計算中可以得到驗證，單一軸向的角位移的桿長伸縮量太過於單純，因此
接著直接展示三軸向同時給定振幅 5 度的角位移變化，其桿長伸縮量變化就有很
明顯的差異了，如下圖 5.12 所示： 
0 100 200 300 400 500 600 700 800
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
time
di
sp
la
ce
m
en
t
 
 
 
圖 5.12 三軸角位移耦合姿態致動器伸縮變化 
接著是三軸角位移耦合姿態致動器的誤差量，如下圖 5.13 所示： 
 56
0 100 200 300 400 500 600 700 800 900
0
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
time
di
sp
la
ce
m
en
t
 
 
#1
#2
#3
#4
#5
#6
 
圖5.15三個軸向平移耦合運動各油壓致動器伸縮量變化 
以上的實驗成果，知道平台在各個單一軸的運動情形以及兩個以上的耦合動
作都可以如預期的呈現，雖然響應的誤差並無法真正的收斂，但還是能夠維持在
一個可以接受的範圍內，這還算是個令人滿意的結果。 
第二節 船舶姿態軌跡規劃 
    首先規劃平台有前後位移與及上下起伏的姿態，如下圖5.16所示 
 
 
圖5.16 具有前後與起伏的姿態示意圖 
 
由圖5.16所示，當平台中心點Z軸上到起伏的最高點時，Y軸的位移量是0，
而當Z軸位移量是0時，Y軸前進到最大，則可用兩個相位相差90度的正弦波來呈
現這樣的動作，接著希望平台對於Y軸上有左右的搖擺姿態，因此給定一個振幅
不大且很緩和的Y軸角位移的動作，最後希望平台在前後與及起伏的動作中有俯
仰的動作出現，在Z軸最高時希望呈現最大正角度，而在Z軸位移0時角度為0度，
依照以上基本的構思來規劃這四個運動姿態的單一運動的曲線，之後再將四個姿
態組合起來。在實際操作之前，為了避免所設計的軌跡使得任何一支油壓致動器
所需的伸縮量超出實際可用範圍，所以必須要先經過逆運動學的運算，確保實際
 58
0 100 200 300 400 500 600 700 800
-0.025
-0.02
-0.015
-0.01
-0.005
0
0.005
0.01
0.015
0.02
time
E
rro
r
 
                圖5.18 模擬海浪耦合運動各致動器誤差變化 
 
最後，下圖5.19為控制量變化： 
0 100 200 300 400 500 600 700 800
2.5
3
3.5
4
4.5
5
time
co
nt
ro
l f
or
ce
 
               圖5.19 模擬海浪耦合姿態各致動器控制量變化 
 
 60
第三節 實際船舶海測 
吾人係利用三艘現有船舶(A)充氣式快速艇、(B)10 公尺長遊艇、(C)6 公尺
長遊艇進行船舶在海上實際航行時之運動訊號量測，圖 5.20 ~圖 5.22 為其船舶
外觀，表 5.3~表 5.5 為其船舶規格。 
本研究分別量測三艘船舶於 11 個不同的船速下，所產生的 Roll、Pitch、Yaw
角度訊號，其訊號取樣時間為 0.01 秒，各別船速量測時間為 45 秒，各別船速下
量測之資料筆數為 4500 筆，總量測資料筆數為 49500 筆。利用量測出的角度變
化訊號，分別當作類神經網路訓練及測試的訊號，如表 5.6。 
波浪訊號的預測必須考慮時間問題，因此吾人以時間序列(Time series)的方
式作為倒傳遞網路輸入訊號的排序[15]。使用時間序列能夠針對時間上的問題進
行較精確的預測，時間序列的排序如表 5.7 所示，此排序目的是要由前五筆波浪
訊號預測第六筆波浪訊號。 
訓練與測試網路架構 
表 5.8 為學習網路的主要架構，其網路之權重值及偏權值之初值是隨機給定
的，訓練用的輸入資料是 Roll、Pitch、Yaw 三個角度的資料分別為吾人給定之
模式資料 99000 筆，訓練次數 200 次。 
 表 5.9 為測試網路的主要架構，其主要架構與測試網路幾乎相同，最主要
的差異在於網路的權重值及偏權值，測試網路的權重值及偏權值係經由學習網路
訓練完成所得到的，測試用的輸入資料是 Roll、Pitch、Yaw 三個角度的資料分
別為吾人給定之模式資料 49500 筆，測試次數 1 次。 
正規化與反正規化 
在網路計算之前必須先將原始的波浪訊號作正規化處理，正規化的目的是將
原始資料縮放在 0~1 之間以配合本研究所選用的雙彎曲線函數的輸出範圍。在
網路計算完成之後必須將計算完成的波浪訊號作反正規化處理，反正規化的目的
是將計算完成的資料還原放大至原始波浪訊號之範圍。 
 
圖 5.20  充氣式快速艇 
 
 62
 
圖 5.22  6 公尺長遊艇 
 
6 公尺長遊艇 
名稱 規格 
長度 6.34m 
寬度 2.5m 
材質 FRP 
吃水 0.37m 
速度 25.9 節 
表 5.5  6 公尺長遊艇 
 
         船名 
 模式 (A)充氣式快速艇 (B) 10 公尺長遊艇 (C) 6 公尺長遊艇
一 Training Training Test 
二 Test Training Training 
三 Training Test Training 
表 5.6  訓練及測試模式表 
 
輸入訊號 輸出訊號 
X1 X2(t-1) X3(t-2) X4(t-3) X5(t-4) Y 
D1 0 0 0 0 y1 
D2 D1 0 0 0 y2 
D3 D2 D1 0 0 y3 
. D3 D2 D1 0 . 
. . D3 D2 D1 . 
 64
在訓練結果的部份，藍色的線表示目標值，目標值是海上所量測的波浪訊
號，紅色的線表示推論值，推論值是倒傳遞網路學習所推論出來的數值；在訓練
的收斂情形部份，藍色的線表示倒傳遞網路學習的收斂情形。 
模式一 
    模式一係利用 (A)(B)兩艘船舶量測出的訊號作為訓練之輸入資料，圖
5.23.1、圖 5.23.3、圖 5.23.5 分別為 Roll、Pitch、Yaw 的訓練結果，圖 5.23.2、
圖 5.23.4、圖 5.23.6 分別為 Roll、Pitch、Yaw 訓練的收斂情形。 
模式二 
    模式二係利用 (B)(C)兩艘船舶量測出的訊號作為訓練之輸入資料，圖
5.23.7、圖 5.23.9、圖 5.23.11 分別為 Roll、Pitch、Yaw 的訓練結果，圖 5.23.8、
圖 5.23.10、圖 5.23.12 分別為 Roll、Pitch、Yaw 訓練的收斂情形。 
模式三 
    模式三係利用 (C)(A)兩艘船舶量測出的訊號作為訓練之輸入資料，圖
5.23.13、圖 5.23.15、圖 5.23.17 分別為 Roll、Pitch、Yaw 的訓練結果，圖 5.23.14、
圖 5.23.16、圖 5.23.18 分別為 Roll、Pitch、Yaw 訓練的收斂情形。 
 
 
圖 5.23.1  (A)(B)Roll 的訓練結果 
 66
 
圖 5.23.4  (A)(B)Pitch 訓練的收斂情形 
 
圖 5.23.5  (A)(B)Yaw 的訓練結果 
 68
 
圖 5.23.8  (B)(C)Roll 訓練的收斂情形 
 
圖 5.23.9  (B)(C)Pitch 的訓練結果 
 70
 
圖 5.23.12  (B)(C)Yaw 訓練的收斂情形 
 
圖 5.23.13  (C)(A)Roll 的訓練結果 
 72
 
圖 5.23.16  (C)(A)Pitch 訓練的收斂情形 
 
圖 5.23.17  (C)(A)Yaw 的訓練結果 
 74
分別為船速於 12 節時的 Roll、Pitch、Yaw 測試結果誤差；圖 5.23.43、圖 5.23.45、
圖 5.23.47 分別為船速於 26 節時的 Roll、Pitch、Yaw 測試結果，圖 5.23.44、圖
5.23.46、圖 5.23.48 分別為船速於 26 節時的 Roll、Pitch、Yaw 測試結果誤差；
圖 5.23.49、圖 5.23.51、圖 5.23.53 分別為船速於 31 節時的 Roll、Pitch、Yaw 測
試結果，圖 5.23.50、圖 5.23.52、圖 5.23.54 分別為船速於 31 節時的 Roll、Pitch、
Yaw 測試結果誤差。 
模式三 
    模式三係利用(B)船量測出的訊號作為測試之輸入資料，在本部份中將列出
數個船速下的測試結果及測試結果誤差。圖 5.23. 55、圖 5.23.57、圖 5.23.59 分
別為船速於 5 節時的 Roll、Pitch、Yaw 測試結果，圖 5.23.56、圖 5.23.58、圖 5.23.60
分別為船速於 5 節時的 Roll、Pitch、Yaw 測試結果誤差；圖 5.23.61、圖 5.23.63、
圖 5.23.65 分別為船速於 11 節時的 Roll、Pitch、Yaw 測試結果，圖 5.23.62、圖
5.23.64、圖 5.23.66 分別為船速於 11 節時的 Roll、Pitch、Yaw 測試結果誤差；
圖 5.23.67、圖 5.23.69、圖 5.23.71 分別為船速於 15 節時的 Roll、Pitch、Yaw 測
試結果，圖 5.23.68、圖 5.23.70、圖 5.23.72 分別為船速於 15 節時的 Roll、Pitch、
Yaw 測試結果誤差。 
平均誤差及總平均誤差 
    本研究係根據平均絕對誤差(Mean Absolute Error, MAE)，如(5.1)式所示，利
用此方法計算出Roll、Pitch、Yaw的平均誤差。其平均誤差及總平均誤差，分別
如表5.10及如表5.11所示。 
  ∑ −=
j
jj zyM
MAE 1                                            (5.1) 
   其中 
        M：取樣數。 
 
        自由度
船名 Roll Pitch Yaw 
(A)充氣式快速艇 0.0136 0.0093 0.0298 
(B)10 公尺長遊艇 0.0136 0.0276 0.0254 
(C)6 公尺長遊艇 0.0183 0.0202 0.0287 
表 5.10  平均誤差 
 
         自由度
誤差 Roll Pitch Yaw 
總平均誤差 0.0152 0.019 0.028 
表 5.11  總平均誤差 
 76
 
圖 5.23.21  (C)船速 4 節時 Pitch 的測試結果 
 
圖 5.23.22  (C)船速 4 節時 Pitch 的測試結果誤差 
 78
 
圖 5.23.25  (C)船速 9 節時 Roll 的測試結果 
 
圖 5.23.26  (C)船速 9 節時 Roll 的測試結果誤差 
 80
 
圖 5.23.29  (C)船速 9 節時 Yaw 的測試結果 
 
圖 5.23.30  (C)船速 9 節時 Yaw 的測試結果誤差 
 82
 
圖 5.23.33  (C)船速 16 節時 Pitch 的測試結果 
 
圖 5.23.34  (C)船速 16 節時 Pitch 的測試結果誤差 
 84
 
圖 5.23.37  (A)船速 12 節時 Roll 的測試結果 
 
圖 5.23.38  (A)船速 12 節時 Roll 的測試結果誤差 
 86
 
圖 5.23.41  (A)船速 12 節時 Yaw 的測試結果 
 
圖 5.23.42  (A)船速 12 節時 Yaw 的測試結果誤差 
 88
 
圖 5.23.45  (A)船速 26 節時 Pitch 的測試結果 
 
圖 5.23.46  (A)船速 26 節時 Pitch 的測試結果誤差 
 90
 
圖 5.23.49  (A)船速 31 節時 Roll 的測試結果 
 
圖 5.23.50  (A)船速 31 節時 Roll 的測試結果誤差 
 92
 
圖 5.23.53  (A)船速 31 節時 Yaw 的測試結果 
 
圖 5.23.54  (A)船速 31 節時 Yaw 的測試結果誤差 
 94
 
圖 5.23.57  (B)船速 5 節時 Pitch 的測試結果 
 
圖 5.23.58  (B)船速 5 節時 Pitch 的測試結果誤差 
 96
 
圖 5.23.61  (B)船速 11 節時 Roll 的測試結果 
 
圖 5.23.62  (B)船速 11 節時 Roll 的測試結果誤差 
 98
 
圖 5.23.65  (B)船速 11 節時 Yaw 的測試結果 
 
圖 5.23.66  (B)船速 11 節時 Yaw 的測試結果誤差 
 100
 
圖 5.23.69  (B)船速 15 節時 Pitch 的測試結果 
 
圖 5.23.70  (B)船速 15 節時 Pitch 的測試結果誤差 
 102
參數變更的影響 
本研究所使用的倒傳遞網路演算法，它有幾個重要的參數，分別為隱藏層神
經元的數目及學習速率，在本章節吾人將利用本研究的例子來說明參數變更所產
生的影響。 
(1) 所有的參數設定都相同，唯一不同的是隱藏層神經元數目，吾人係利用是
(A)(B)船 Pitch 的訓練網路當作例子，圖 5.23.73 是隱藏層神經元數目為 6 的
訓練結果所擷取出來的 100 筆資料，圖 5.23.74 是隱藏層神經元數目為 5 的
訓練結果所擷取出來的 100 筆資料，兩者比較，隱藏層神經元數目較多的網
路可達較小的誤差值。圖 5.23.75 是隱藏層神經元數目為 6 的收斂情形，圖
5.23.76 是隱藏層神經元數目為 5 的收斂情形，兩者比較，隱藏層神經元數目
較多的網路收斂速度較慢。 
(2) 所有的參數設定都相同，唯一不同的是學習率的大小，吾人係利用是(A)(B)
船 Pitch 的訓練網路當作例子，圖 5.23.77 是學習率為 0.6 的收斂情形，圖
5.23.78 是學習率為 1 的收斂情形，兩者比較，學習率較大的網路收斂速度較
快。 
綜合上述兩點可以得知，隱藏層神經元數目越多收斂速度越慢，但可達較小
的誤差值；學習率越小收斂速度越慢。 
 
 
 
 
 104
 
圖 5.23.75  隱藏層神經元數目為 6 的收斂情形 
 
圖 5.23.76  隱藏層神經元數目為 5 的收斂情形 
 106
第六章 結論與未來展望 
第一節 結論與未來展望 
本研究的成果驗證了可變結構控制對於系統不確定參數具有強健性的優越
性能，也證明了吾人所使用的積分式可變結構控制器確實是可行的，其性能響應
也有著令人滿意的表現。另外同時也驗證了逆運動學的運算，在平台上成功的重
現船舶航行多自由度的耦合姿態 
船舶在海上航行時，會受到很多環境因素的影響，例如：風級、浪級等等，
若要取得完整參數下的波浪訊號是很不容易且耗時的，在本研究中吾人只針對不
同的船速來取得波浪訊號，其他相關的因素並未考慮，所以取得的波浪訊號較不
完善；現有船舶數量不足將會直接影響所能取得的波浪訊號數量，其主要原因在
於所需的成本太高，加上船舶的找尋也不容易。往後若能解決船舶數量及完整參
數下波浪訊號取得的問題，將能建構出一套完善的波浪訊號資料庫，便可以提供
運動平台重現船舶運動姿態的有效工具，作為航海人員的職前訓練，在未來我們
也將朝這個方向前進。 
 
出席國際學術會議心得報告 
計畫編號 NSC 96-2221-E-022-011-MY2 
計畫名稱 
以史都華平台重現船舶在波浪中之運動姿態與其應用（第 2 
年） 
出國人員姓名 俞克維 
服務機關及職稱 國立高雄海洋科技大學輪機工程系副教授 
會議時間地點 Kunming, July 2008 
會議名稱 The 27th Chinese Control Conference (CCC’08)  
發表論文題目 A case study of Yacht's motions represented by using Stewart 
platform 
ㄧ、參加會議內容 
    第 27 屆中國控制會議(CCC'08)於 2008年 7月 16日至 18日在中國雲南省昆明
市雲安會都會議中心舉行。會議由中國自動化學會控制理論專業委員會主辦，昆明
理工大學和雲南省自動化學會承辦。協辦單位包括 IEEE 控制系統協會，日本儀器
與控制工程師協會，韓國控制、機器人與系統學會，IEEE 控制系統協會新加坡分
會，中國科學院數學與系統科學研究院系統科學研究所，雲南大學，雲南師範大學
及香港工程師學會控制自動化與儀表分部。 
    本次會議共收到投稿論文 2435篇，其中 95篇來自中國大陸以外的 27個國家和
地區，包括美國、澳大利亞、英國、加拿大、法國、中國香港、伊朗、日本、韓國、
新加坡、瑞典、台灣等。經過嚴格評審，其中 1026篇論文被收錄到論文集論文收錄
率不及 50%，顯示其會議審核嚴謹程度相當高，會議論文集已收錄於 IEEE Explorer
資料庫。 
    此次研討會邀請了 5位國際知名的科學家作大會報告。這些報告分別是： 
