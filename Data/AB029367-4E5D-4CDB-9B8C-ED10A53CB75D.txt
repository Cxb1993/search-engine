檔案為經過通道編碼後之位元流檔案，輸出為經過 OFDM 調變後之基頻訊號檔案，而
此輸出之檔案則可成為通道模擬軟體子計劃的輸入，如圖 3(a)所示。以解調變（SSRX）
的角度而言，此程式輸入之資料，乃是 OFDM 基頻訊號，經過通道模擬軟體加入通道
效應後之檔案、此訊號檔案經本計劃之程式解調變後，將結果傳遞給通道解碼之程式，
如圖 3(b)所示。 
WiMAX實體層通道編碼
軟體模擬平台
WiMAX實體層調變軟體
模擬平台
WiMAX網路服務品質架
構與其軟體平台之設計
WiMAX系統之即時影像
與視訊傳輸
WiMAX電波傳播特性與
通道統計特性軟體模擬
平台
WiMAX單頻網佈
建規劃軟體模擬
平台
應用層
網路層
/媒體存取層
傳輸通道
實體層
 
 
圖 1 本子計畫與其他子計畫的關係。圖中背景顏色較深的方塊為本計劃。 
 
 
 
 
 
 
 
 
MAC PHY
1 
PHY 
2 
Channel PHY
2 
PHY 
1 
BSTX SSRX 
MAC
 
圖 2 本子計畫的兩個子系統。圖中背景顏色較深的方塊為本計劃。 
 
 
 2  
碼過程相反。唯一的差別，在於解調變程式需要執行 ODFM 同步與通道估測的
工作。ODFM 同步部份，包含 ODFM 符元位置（又稱時間）的同步，頻率的粗
同步與細同步，及取樣速度的同步等，是相當複雜的工作。至於通道估測的用
途，則是將通道本身不平坦的（頻率）響應，加以補償，以免 16-QAM 或 64-QAM
解調錯誤。 
 
Randomizer
Reed-Soloman
Encoder
Convolutional 
Coder 
Interleaver Constellation
mapping
Add pilot
IFFT 
Preamble
Add cyclic
prefix
Payloa
d
O/P 
buffe
 
 
 
 
 
 
 
 
 
 
 
 
圖 4  WiMAX 通道編碼及調變的流程，本計劃之程式為灰底部份。 
 
本計劃所撰寫的傳送（BSTX）程式的流程如圖 5 所示。首先，程式會依輸
入的參數決定採用上傳或下傳的模式。如果是下傳，則先將定值的兩個 OFDM 
符元的 preamble 放入輸出緩衝器中，然後自輸入參數中取出訊框頭，將此資料
經過調變程式後，將包含 Cyclic prefix 之 IFFT 之結果存入輸出緩衝器中，接下
來再依序將輸入資料以 OFDM 符元為單位，經由調變程式轉換後，一一存入輸
出緩衝器中，直到資料結束為止。如果資料是上傳，則基本程序大同小異，其
中的差別，在於上傳的 preamble 只有一個 OFDM 符元的長度，而下傳的
preamble 有兩個 OFDM 符元的長度。 
 
流程圖 5 中的調變副程式，其流程如圖 6 所示。該副程式第一步是執行位元
對複數點轉換（constellation mapping）的動作，因為規範中定義的調變模式包
含 BPSK、QPSK、16-QAM 及 64-QAM，因此輸入資料需要加以轉換。轉換後
之資料需要再加入 pilot 信號。在 OFDM-256 中，pilot 使用 8 個子載波，其位置
及數值如下所示： 
 4  
 上傳或下傳
將 2 個 preamble
放入 O/P buffer
將preamble放入
O/P buffer 
Call modulate
副程式 
Call modulate
副程式 
取出 OFDM 符
元資料 
Call modulate
副程式 
Y
所有 OFDM 符
元都結束
N
上
取出 FCH 
下
TX 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Return   
 
圖 5  本計劃去年所撰寫的傳送（調變）程式的流程 
 6  
 
 
 8  
 
 
 
 
1 2 3 4 5 6 7 8 9 10 11  
 
 
 
Initialization DL:  1   1   1   1   1    1   1   1   1   1   1 
Sequences  UL:  1   0   1   0   1    0   1   0   1   0   1  
MSB                                    LSB 
 
圖 7  Pilot 產生器 
 
 
結果與討論 
 
我們程式撰寫完成後，我們先進行單元測試。由於「BSTX」子系統及「SSRX」
子系統在我們現在的情形，基本上是執行相反運算，包括：「星狀圖對應
（constellation mapping）」與「反星狀圖對應（constellation de-mapping）」單元、
「加入 pilot」與「移除 pilot」、「FFT」與「IFFT」及「加入 CP」與「移除 CP」
四單元。因此，此架構中之每個單元都可用「內部單元測試」的方法，加以測
試，如圖 8 所示。當個別單元都測試完畢起確認正確後，再將調變及解調變程
式對接，以進一步驗證其正確性。 
當本計劃驗證無誤後，接下來將本子計畫軟體與「通道編碼軟體」模擬程
式串接，形成傳送端與接收端的實體層軟體。然後，將資料輸入傳送端實體層，
經過「BSTX」子系統，則會得到 OFDM 調變後之輸出波形，如圖 9 所示。這些
資料再經過「通道模擬軟體」，就會得到有雜訊的 OFDM 調變波形，如圖 10 所
示。然後再將這些加入雜訊的波形送入本計劃之「SSRX」子系統，就會得到解
調變資料。我們根據訊號的 S/N 比，計算出位元錯誤率（bit error rate），如圖 11
所示。由圖 11 可知，本計劃之兩個子系統，可以正常運作。 
  
 
 
 
 
 
 
 
 
圖 10  「SSRX」子系統之輸入波形，左為實部，右為虛部。 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
圖 11  「BSTX」子系統之輸出，加入雜訊後，再由「SSRX」子系統接收所呈現之
位元錯誤率。 
 
結語 
 
 本計劃完成固定式 WiMAX 系統內之實體層的調變及解調變程式，當本程式與其他子
計劃之程式結合後，可構成完整的 WiMAX 模擬軟體。目前此系統已初步整合完成，我們
認為此系統不論在教學上或實用上，都有用處。以教學而言，學生可以有機會去瞭解一個
複雜的通訊系統的實際運作情形，並能局部更改其設計；對業界工程師而言，則可將此系
統，當作參考系統，並以此發展 802.16 相關產品的晶片。 
 10  
