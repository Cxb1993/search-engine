1 
報告內容 
 
一.前言 
IEEE 802.11 規範中將無線區域網路
(Wireless Local Area Network; WLAN)區
分為兩種網路架構：基礎架構無線區域網
路 (Infrastructured WLAN) 與隨意型無線
區域網路 (Ad Hoc WLAN)。在基礎無線
網路中，無線工作站 (Wireless Station; WS) 
必須先與無線基地台 (Access Point; AP) 
聯結 (Association) 後，方能與其他有線或
無線工作站進行通訊。根據 IEEE 802.11
規範，若WS的通訊範圍內存在兩部以上
的 AP，則 WS 會依據接收訊號強度指標
值  (Received Signal Strength Indication; 
RSSI)，自行選擇與具有最強訊號的 AP聯
結。此種選擇 AP 的方式可能造成 WS 過
於集中與某些 AP 聯結，導致這些 AP 負
載過重，而其他 AP 負載較輕或甚至閒置
之情況發生 [1]。負載不平衡的結果將導
致WS的可用頻寬(Available Bandwidth)下
降，且頻寬配置不公平的問題。AP 負載
平衡的問題還會因為 IEEE 802.11 支援多
重傳輸速率而變得複雜。 
現有 802.11 AP負載分散機制，皆是以
管理 WS 與 AP 之間的聯結關係來達成。
根據進行管理動作主體的不同，現有
802.11 AP 負載分散機制又可分為
WS-based和 Network-based兩大類[1]。傳
統的 AP 負載分散機制並未從賽局理論的
角度來分析此問題，直到 2008 年 Mittal
等人 [2] 才首先將賽局理論應用在802.11 
AP負載分散問題。Mittal等人的研究最大
的爭議，在於其理論模型與一般 AP 負載
分散研究的假設不符。一般 AP 負載分散
研究均假設 WS 在進行 AP 聯結選擇時，
僅考慮可接收到無線信號的 AP，對於在
其通訊範圍外的 AP 是不會考慮的。但在
Mittal等人的研究中，WS可選擇移動一段
距離以進入所選擇 AP 的信號涵蓋範圍
內，而此移動距離將計入此聯結選擇的成
本中。 
二.研究目的 
本計畫以賽局理論的角度來分析 IEEE 
802.11 網路環境中 WS 的 AP 聯結選擇問
題，目的在探究自利的WS個別追求的利
益如何影響整體系統效能（包括系統整體
資料產出量、頻寬配置公平性 (Fairness)、
AP負載分散公平性等）。 
我們假設WS單純只能進行AP聯結選
擇，我們將此賽局定義為 AP 聯結選擇賽
局。當WS進入網路時，所有它可接收到
無線信號的 AP 均是它進行聯結動作的考
慮對象。WS 可根據事先定義好的利益函
數，計算與某個 AP 聯結後所能獲得的利
益，然後選擇可獲致最大利益值的 AP 加
入。當後續有其他WS加入網路後，已聯
結的 WS 可重新計算它如果改與其他 AP
聯結時所能增加的利益值。當此值超越重
聯結(Re-association)所將花費的成本時，
WS 即可進行重聯結的動作。此重聯結的
動作尚會對其他系統效能造成影響。假設
某個WS w原先與 AP ai聯結，而後又重
新選擇與另一 AP aj進行聯結，則 ai的負
載會下降，且所有與 ai聯結的WS 都會因
w的離開而獲益（可用頻寬上升）。另一方
面，aj的負載會上升，且聯結到 aj的所有
其他WS均會因 w的加入而利益受損（可
用頻寬因頻寬分享而下降；效能異常效應
可能會進一步降低資料產出量）。因此，
WS 彼此間存在競爭與利益衝突的關係，
個別WS的選擇策略會對其他WS的利益
造成影響，也會影響系統整體利益（如負
載公平性），是典型賽局理論研究的對象。 
因為WS個別決定其 AP聯結選擇，所
以是此賽局非合作賽局；因為WS可重覆
改變其聯結選擇，所以此賽局為動態賽
局；因為WS所獲得的利益，並不見得就
3 
我們的AP選擇賽局定義如下。令A = (a1, 
a2, …, am ) 與 W = (w1, w2, … , wn) 分別為
代表所有AP與所有WS的Tuples。我們假設
每個WS至少可以連接上一個AP。對每一
個可選擇的AP，WS的利益(Utility)定義為
與其聯結時可獲得的最大資料產出量
(Throughput)。當WS發現變更所聯結的AP
可以增加其利益值時，WS即會進行重新聯
結的動作。 
我們提出的賽局模型，要求WS可在尚
未與 AP 聯結之前，即能估計聯結後所能
獲得的預期資料產出量。當考慮多重連結
速率可能造成的效能異常效應時，此值並
不容易估算。我們採用了 Heusse等人 [17]
提出的估算方程式來進行計算。 
在計算頻寬分配的公平程度方面，廣為
學者所採用的是平衡係數(Balance Index) 
[3, 6, 18, 19]。我們採用了 Max-Min 
Fairness [20]作為頻寬分配的公平性衡量
指標。Max-Min Fairness 在我們問題中的
定義是這樣的。每個 WS 的 AP 聯結選擇
結 果 集 合 起 來 稱為 一 個 聯 結 組 態
(Association Configuration)。每一聯結組態
i 均 對 應 至 唯 一 的 Tuple 
),,,( 21 niiiiU µµµ K= ，內容為此聯結組態中
所有 n 個 WS 分配到的頻寬依小到大排
列。對任兩 Tuples Ui 及 Uj，如果存在 k, 1 
≤ k ≤ n, 使得 kj
k
i µµ > 且對所有的 l, 1 ≤ l < 
k, 我們均有 kj
k
i µµ = ，則我們說 Ui 的
Lexicographical Order 高於 Uj。當某個聯結
組態對應的 Tuple 是所有可能聯結組態中
Lexicographical Order最高的，則我們說此
聯結組態已達到頻寬配置 Max-Min 
Fairness。文獻 [21] 亦採用此定義。 
 
五.結果與討論 
本計畫的成果分為理論與實驗兩部分。在
理論部份，我們證明了我們的 AP 選擇賽
局一定會進入納許平衡點，從而證明了此
賽局的穩定性。此外，我們也證明了 WS
的重聯結動作可以增進頻寬分配公平性。
在實驗方面，我們設計了詳盡的模擬實驗
來探測此賽局的諸多性質，包括重聯結次
數、公平性、與系統產出量。 
在重聯結方面，圖 1 顯示在不同 WS
與 AP 數量下重聯結(Re-association)次數
的平均值。 
9 25
49
81 100
121 144
169 196
225
100
200
300
400
500
0
100
200
300
400
Number of APsNumber of WSs
N
um
be
r o
f r
e−
as
so
cia
tio
ns
 
圖 1：不同WS與 AP數量下重聯結(Re-association)
次數的平均值 
我們發現重聯結次數受到三項因素的
影響。第一是重聯結規則的本質，其次是
WS 可選擇的 AP 數目，最後是聯結競爭
的程度。一般而言，重聯結次數會隨著可
選擇的 AP 數目增加與聯結競爭的程度增
加而上升。圖 2 顯示 WS平均可選擇的 AP
數目與 AP數量的關係。我們可以看到WS
平均可選擇的 AP 數目隨著 AP 數目的增
加而增加。 
我們將 WS 聯結選擇競爭的程度定義
如下。令 Ai表 WS wi所能聯結的 AP集合，
Pj 表所有可以與 AP aj聯結的 WS 集合，
則WS wi所面臨的 AP選擇競爭程度為： 
      ∑ ∑
∈ ≠∈








ij jkAa ikPw ki AA , ||
1
||
1
 
圖 3 顯示 WS 的期望聯結競爭程度與 WS
數量的關係。圖 4 顯示將此競爭程度除以
WS數目與 AP數量的關係。 
5 
WS數量較少的情形外，此賽局幾乎皆可提
升Balance Index值，表示頻寬分配的公平
性較好。圖7顯示以賽局進行AP選擇與以
RSS進行AP選擇所得到的Balance Index差
值。 
9 25
49 81
100121
144 169
196 225
100
200
300
400
500
0
0.2
0.4
0.6
0.8
1
Number of APsNumber of WSs
Ba
la
nc
e 
in
de
x
 
圖6：以賽局方式進行AP選擇後的Balance Index與
WS和AP數量的關係 
9  25 49  81 100 121
144 169 196 225100
200
300
400
500
0
0.1
0.2
0.3
0.4
0.5
Number of APs
Num
ber of W
Ss
Fa
irn
es
s 
ga
in
 
圖7：以賽局進行AP選擇與以RSS進行AP選擇所得
到的Balance Index差值 
在系統產出量方面，圖8顯示AP選擇賽
局與以RSS選擇AP相較下系統資料產出
量的增益(Gain)。我們可以發現我們所提
出的AP選擇賽局不一定能夠增加系統產
出量。對某個特定的AP數量而言，此賽局
的增益值與WS的數量相關，並存在一個最
大值。當WS數量等於某個特定值時所得到
的增益值最高。當WS數量高於或低於此特
定值時，增益值均會下降。我們對此現象
的解釋是，當WS數量不多時，我們的AP
選擇賽局可充分利用AP的容量，使得整體
資料產出量上升。當是當WS數量多到某個
程度時，幾乎沒有AP有多餘可用頻寬，因
此我們提出的AP選擇賽局就無可改進的
空間。 
9  25 
49 
81 100
121 144
169 196
225
100
200
300
400
500
−200
−100
0
100
200
300
400
500
Number of APsNumber of WSs
G
ai
n 
of
 to
ta
l t
hr
ou
gh
pu
t (M
bp
s)
 
圖8：AP選擇賽局與以RSS選擇AP相較下系統資料
產出量的增益(Gain) 
結論與建議 
我們提出並分析了基地台(AP)選擇賽局。
在此賽局中WS選擇AP的目的在增進他們
的最大可用頻寬。我們證明了在考量效能
異常的效應下，此賽局永遠會到達那許平
衡點，證實了此賽局的穩定性。我們也證
明了WS自私的重聯結動作，實有助於改善
頻寬分配的公平性，這是之前並未預料到
的。我們另外也進行了詳盡的模擬實驗以
瞭解此賽局的效能。結果證實此賽局的確
會在有限的重聯結次數內到達平衡解。此
賽局與傳統以RSS選擇AP的方式相較，也
擁有較高的Balance Index值，表示頻寬分
配結果較為公平。在系統產出量方面，此
賽局的產出量不見得高於以RSS選擇AP
的方式。總結而言， 讓WS個別爭取其最
大可用頻寬有助於頻寬分配公平性。 
參考文獻 
[1] L.-H. Yen, T.-T. Yeh, and K.-H. Chi, “Load 
balancing in IEEE 802.11 networks,” IEEE 
7 
and fairness of AP selection games in IEEE 
802.11 access networks," IEEE Trans. on 
Vehicular Technology, vol. 60, no. 3, pp. 
1150-1160, Mar. 2011.（本計畫成果） 
YEN et al.: STABILITY AND FAIRNESS OF AP SELECTION GAMES IN IEEE 802.11 ACCESS NETWORKS 1151
Fig. 1. Scenario illustrating performance anomaly. Achievable throughputs
are based on the analysis of [6], whereas those in parentheses were obtained
through simulation with ns2.
this framework does not well apply to IEEE 802.11 networks,
because the achievable throughput of WSs in an AP is not nec-
essarily a monotonically decreasing function of WS population
there. The irregularity comes from two design features of IEEE
802.11. One is its nondeterministic medium access control
(MAC) scheme, which does not guarantee any bandwidth share
to participants. The other is the provision of multiple link rates
in IEEE 802.11 a/b/g networks, which may give rise to an
undesirable phenomenon called performance anomaly [6]. Per-
formance anomaly refers to the effect that, when links operating
at different rates coexist within an AP, throughputs of high-
rate links will all degrade to the level of the lowest rate link.
Performance anomaly not only impairs achievable throughputs
of WSs but makes the AP’s actual capacity variable as well.
Consider the example of Fig. 1, where two IEEE 802.11b APs
are serving four WSs. WS3 there could choose to associate with
either AP1 or AP2. We can see that selecting AP1 yields a
better result, although AP1 is more crowded than AP2. AP1
is also a better choice from the perspective of system’s benefit,
as selecting AP1 has a higher total achievable throughput than
selecting the counterpart. Perception of performance anomaly
can perform better. However, this cannot be characterized in
crowding games.
The AP selection problem under consideration is modeled
as a noncooperative dynamic game. In a noncooperative game,
players do not cooperate with each other to seek system’s
benefit. A noncooperative game is dynamic if players take turns
to make their decisions, knowing what decisions have already
been made. In our model, an associated WS will reassociate
with another AP if that reassociation improves its achievable
throughput. The achievable throughput in recognition of the
effect of performance anomaly can be computed with analytical
results from prior work in [6], [7]. Here, we assume WSs pursu-
ing its own throughput improvement rather than the balance of
workloads among APs (e.g., [8]). Although a lightly loaded AP,
in principle, offers a high achievable throughput and selecting
an AP with the least load helps load balancing among APs,
we argue that, from WS’s perspective, AP selections based on
achievable throughput are more straightforward and “natural”
than AP selections based on load balancing. Several other
approaches also proposed AP selections based on achievable
throughput (potential bandwidth) [9]–[11]. Another issue of
load-based AP selections comes from the fact that the notion of
AP’s load is not well defined in IEEE 802.11 networks. It could
be the number of WSs associating with an AP, the frame drop
rate of the AP’s transmission queue during real-time sessions
[12], or the total time that an AP takes to provide each WS one
unit of traffic [8], [13].
Although there have been many approaches proposed for
AP selections, only a few of them treat the problem under the
framework of game theory. Mittal et al. [14] introduced an
AP selection game, which differs from our setting in that WSs
may need to travel some distance to reach an AP. The cost of
an AP selection is measured by the AP’s load and the travel-
ing distance required by that selection. With this cost model,
Mittal et al. proposed a simple greedy algorithm that brings
the game to a Nash equilibrium under the condition of even
WS distribution and the absence of dynamic WS arrivals and
departures. However, the ability to measure physical distance
between WSs and APs, as required by this model, is not yet a
primitive feature in today’s wireless networks. Shakkottai et al.
[15] studied the problem of a WS associating with multiple
APs and splitting its traffic among these APs (link-layer multi-
homing). They used the model of population game [16], which
implies that the impact of individual WS’s selection on other
WS’s utilities is infinitesimal. Although link-layer multihoming
is possible for WSs using a single wireless interface card
[17], this technique is not yet mature and has not been widely
adopted. The population game model also does not generally
apply to IEEE 802.11 networks. Jiang et al. [18] considered
base station (BS) selections by mobile users, where each user
selfishly chooses a BS that gives her the highest achievable
throughput. This work assumes that the throughput each user
can receive is controlled by the BS and that the number of users
is enormous to apply the population game model. The ability to
control user’s throughput share by the BS is untenable in native
IEEE 802.11 networks. The assumption of numerous users may
not hold.
In addition to throughput, fairness is also a typical criterion
for AP selection problems. In the context of bandwidth sharing,
max-min [19] is a commonly adopted metric for fairness, par-
ticularly when bandwidth requestors have different bandwidth
demands. With an objective to maximize the minimum share of
a requestor whose demand is not fully satisfied, basic principles
of max-min fairness are to allocate bandwidth to requestors in
increasing demands, to ensure no requestor receives bandwidth
more than its demand, and to equally split the remaining
bandwidth to requestors with unsatisfied demands. If we use a
tuple to denote the set of allocated bandwidth of every requestor
sorted in a nondecreasing order, then a bandwidth allocation
is max-min fair when the corresponding tuple has the highest
lexicographical value1 among all of them.
A similar notion, i.e., min-max fairness, can be defined for the
sharing of workloads among APs. A distribution of workloads
1For any two n-tuples of numbers T = (t1, t2, . . . , tn) and T ′ =
(t′1, t
′
2, . . . , t
′
n), T has a higher lexicographical value than T ′ if ∃k ∈
{1, . . . , n} : tk > t′k and, if k > 1, ∀i : 1 ≤ i < k :: ti = t′i.
YEN et al.: STABILITY AND FAIRNESS OF AP SELECTION GAMES IN IEEE 802.11 ACCESS NETWORKS 1153
Let Wj denote the set of all WSs that associate with AP aj . One
property of 802.11 MAC scheme is that all WSs in Wj have
equal long-term channel access probability, regardless of their
link rates. In case of saturated traffic (i.e., every WS always has
packets to transmit), this means that each wi ∈ Wj is expected
to have an Ii value that comprises Tk for all wk ∈ Wj and the
expected time spent in all possible collisions among WSs in Wj
during Ii. Formally
∀wi ∈ Wj : Ii =
⎛
⎝ ∑
wk∈Wj
Tk
⎞
⎠+ δ(Wj) (4)
where δ(Wj) is the expected time spent in all possible collisions
among WSs in Wj during Ii. Tk consists of a rate-independent
part (corresponding to protocol overhead and the time spent in
contention procedure) and a variable-length part (transmission
time) that depends on frame length sd and link rate rk. The du-
ration of a collision is also dominated by the lowest rate of WSs
involved in the collision. A WS obtains its maximal throughput
when it always has packets to transmit and each frame is of the
maximal frame size. Therefore, all WSs that associate with the
same AP receive an equal amount of achievable throughput that
is determined by the mixture of their link rates but dominated by
low-rate links. Consequently, the performance of high-rate links
is effectively dragged down by low-rate links. The analysis
presented in [7] shows similar conclusions.
Let t(a,C) be the achievable throughput of any WS residing
in AP a with respect to configuration C. By (3) and (4), we
know that
t(a,C) =
sd(∑
ck=a
Tk
)
+ δ ({ck = a})
. (5)
In the proposed AP selection game, ui(ci, C−i) = t(ci, C), and
the game can thus be defined by
max
ci∈Ai
ui(ci, C−i) = max
ci∈Ai
sd(∑
ck=ci
Tk
)
+ δ({ck = ci})
(6)
for all i = 1, 2, . . . , n.
Without loss of generality, assume that Ci  Cj because
some WS wr changes its AP from ak to al. Since Ci  Cj
implies ur(Ci) < ur(Cj), we have
t(ak, Ci) < t(al, Cj). (7)
Note that all and only all WSs associating with either ak or al
have their achievable throughputs changed by Ci  Cj . There-
fore, if we are concerned with the total achievable throughput
in the system, the net increase due to the transition is
(d− 1)× t(ak, Cj)− d× t(ak, Ci)
+e× t(al, Cj)− (e− 1)× t(al, Ci) (8)
where d is the number of WSs associating with ak in Ci, and
e is the number of WSs (including wr) associating with al in
Cj . Clearly, (7) does not guarantee a positive net increase. In
fact, an association change in the proposed AP selection game
may lead to degradation of the total achievable throughput in
the system.
For comparison purpose, we also define a public-interest
first (PIF) reassociation model, where a WS makes an associ-
ation change only if that association results in an increase in
the total achievable throughput in the system. In the case of
multiple candidates, the WS chooses that which results in the
maximal net increase. Although the WS’s own benefit may be
sacrificed in this model, the system is always benefited from
reassociations.
B. Stability
Definition 1: Nash equilibrium: Given a game
Γ = [W ;A; {ui}ni=1], a configuration C∗ = (c∗1, c∗2, . . . , c∗n)
is a Nash equilibrium if ∀i ∈ {1, . . . , n} : ∀ci ∈ Ai ::
ui(c∗i , C
∗
−i) ≥ ui(ci, C∗−i).
In other words, Nash equilibrium is a configuration where no
WS can further increase its own utility by unilaterally changing
its choice. Nash equilibrium is not necessarily a Pareto op-
timal strategy. A configuration C = (c1, c2, . . . , cn) is Pareto
optimal if and only if there exists no other configuration C ′ =
(c′1, c
′
2, . . . , c
′
n) such that ∀i ∈ {1, . . . , n} : ui(C ′) ≥ ui(C)
and ∃j ∈ {1, . . . , n} : uj(C ′) > uj(C).
Recall that, in our model, an associated WS can reassociate
with another AP if that reassociation improves its achievable
throughput. The reassociation action may trigger another WS’s
reassociation, and so on. If Nash equilibria do not exist in
this game, reassociation activities will last, and the system
cannot enter a stable state. By contrast, stability in the PIF
reassociation model is always guaranteed as it is impossible
to unlimitedly increase the total achievable throughput of the
system. We shall now show the existence of Nash equilibria in
the proposed AP selection game.
Let Σ = A1 ×A2 × · · · ×An be the configuration space,
i.e., the set of all possible configurations. If there exists no
Nash equilibrium, then, for any configuration Ci ∈ Σ, there
must exist another configuration Cj ∈ Σ such that Ci  Cj .
Since the strategy space is finite, nonexistence of Nash equi-
librium implies that there must be a series of configura-
tions C ′1, C ′2, . . . , C ′p, where p ≤ k, such that C ′1  C ′2, C ′2 
C ′3, . . . , C
′
p  C ′1. We shall prove the existence of Nash equi-
librium by showing that such series does not exist.
For each configuration Ci ∈ Σ, let T (Ci) =
(α1i , α
2
i , . . . , α
m
i ) be an m-tuple of APs, where
{α1i , α2i , . . . , αmi } is an ordered set of all APs such
that t(α1i , Ci) ≤ t(α2i , Ci) ≤ · · · ≤ t(αmi , Ci)2. Let
Θ = {T (C)|C ∈ Σ)}. We also define a binary relation ≺ on Θ
as follows: For T (Ci), T (Cj) ∈ Θ, we have T (Ci) ≺ T (Cj)
if ∃k ∈ {1, . . . ,m} : t(αki , Ci) < t(αkj , Cj), and if k > 1,
∀l : 1 ≤ l < k :: t(αli, Ci) = t(αlj , Cj). It is not hard to see
that “≺” is a precedence relation [21], i.e., it is antisymmetric
and transitive.
Theorem 1: ∀Ci, Cj ∈ Σ : Ci  Cj ⇒ T (Ci) ≺ T (Cj).
2For any AP αji that draws no WS in Ci, we define t(α
j
i , Ci) to be the
nominal capacity of one AP (11 Mb/s in case of IEEE 802.11b) so that such
APs are always ranked after any AP with one or more WS associations.
YEN et al.: STABILITY AND FAIRNESS OF AP SELECTION GAMES IN IEEE 802.11 ACCESS NETWORKS 1155
Fig. 3. Example illustrating the effect of reassociation order. Achievable throughputs are based on the analysis of [6].
We can derive Ui from T (Ci) by seeing that all WSs asso-
ciating with the same AP receive equal throughput. Let w(αki )
be the number of WSs associating with AP αki ∈ T (Ci), where
1 ≤ k ≤ m. Given T (Ci), we let each AP αki map to w(αki )
consecutive elements in Ui. Specifically, the following function
returns the position of the first element in Ui that corresponds to
a WS associating with αki (if there is any WS associating with
αki ):
ρ
(
αki
)
=
{
1, k = 1
1 +
∑k−1
l=1 w
(
αli
)
, 2 ≤ k ≤ m. (18)
If w(αki ) = 0, αki maps to no element in Ui. Otherwise, all
elements in Ui with ordinal numbers ranging from ρ(αki ) to
ρ(αk+1i )− 1, 1 ≤ k ≤ m− 1 have identical values t(αki , Ci).
With the way to derive Ui from a given T (Ci), we shall
further prove that, if Ci  Cj , then Uj also has a higher lexi-
cographical value than Ui, meaning that Cj is lexicographically
fairer than Ci. Consequently, configuration transitions in the
proposed AP selection game always improve utility fairness.
Theorem 2: ∀Ci, Cj ∈ Σ : Ci  Cj ⇒ Ui ≺ Uj .
Proof: Ui and Uj can be derived from T (Ci) and T (Cj),
respectively, as previously stated. We assume the same defin-
itions of p, q, and y as in the proof of Theorem 1. Since the
first p− 1 APs in T (Ci) hold their ranks in T (Cj), all the first
ρ(αpi )− 1 elements in Ui are identical to the corresponding
elements in Uj . That is
∀k : 1 ≤ k ≤ ρ (αpi )− 1 : μkj = μki . (19)
Now consider v = min{q, y}. If v = p, then the ρ(αpi )th el-
ement in Ui is smaller than the corresponding element in Uj
by either (9) or (10), and the proof is done. If v > p, then the
position of either αqj or α
y
j is at least the vth in T (Cj), which
means all the w(αpi ) elements associating with α
p
i are placed at
least in the ρ(αvj )th position in Uj . It follows that
∀k : p ≤ k ≤ v − 1 :: ρ (αkj ) = ρ (αk+1i )− w (αpi ) (20)
∀k : p ≤ k ≤ v − 1 :: w (αkj ) = w (αk+1i ) (21)
∀k : ρ (αpj) ≤ k ≤ ρ (αvj )− 1 :: μkj = μk+w(α
p
i
)
i ≥ μki . (22)
See Fig. 4 for the rank mapping from Ui to Uj indicated by
(20). Equation (22) implies that either
∃s : ρ (αpj) ≤ s ≤ ρ (αvj )− 1 :: μsj > μsi (23)
Fig. 4. Rank mapping from Ui to Uj when v = min{q, y} > p.
Fig. 5. Scenario illustrating the difference between lexicographical fairness
and balance index.
TABLE II
CONVERSION OF DISTANCE TO LINK RATE
or
∀k : ρ (αpj)≤k≤ρ (αvj )−1 :: μkj =μk+W(α
p
i )
i =μ
k
i . (24)
If (23) holds, the theorem is proven by (19), (22), and (23). If
(24) holds, by (20), we have
∀k : ρ (αpi ) ≤ k ≤ ρ
(
αv+1i
)− w(αpi )− 1 :: μki = μk+w(α
p
i
)
i
⇒ μρ(α
p
i
)
i = μ
ρ(αp
i
)+1
i = · · · = μ
ρ(αv+1
i
)−1
i . (25)
YEN et al.: STABILITY AND FAIRNESS OF AP SELECTION GAMES IN IEEE 802.11 ACCESS NETWORKS 1157
Fig. 8. (a) Expected degree of competition. (b) Expected degree of competition divided by the number of WSs versus the number of APs.
choices; and 3) the degree of association competition. The
first factor is model dependent and explains the difference
between Fig. 6(a) and (b). The number of reassociations, as a
result of competitions, generally increases with the number of
association choices and the degree of association competition.
Given a certain experiment setting, the expected number of
association choices owned by an WS can be measured by the
average number of APs accessible to an WS. It is irrelevant
to the total number of WSs deployed. Fig. 7 displays how
the average number of association choices changes with the
number of APs. The degree of competition counts the number
of competitors that each WS is expected to face for a particular
WS–AP association. For WS wi to associate with AP aj , the
degree of competition depends on not only the number of other
WSs that can also associate with aj but the likelihood that these
potential competitors actually do it as well. Without resorting to
the knowledge of a specific reassociation model, let us assume
that every AP in Ai will be chosen by wi with equal preference,
and this holds for every WS wi. It follows that the expected
number of competitors that wi has to face is
∑
aj∈Ai
⎛
⎝ 1
|Ai|
∑
wk∈Pj ,k =i
1
|Ak|
⎞
⎠ (27)
where Pj = {wk|aj ∈ Ak} is the set of WSs that can associate
with aj . We take the average value of (27) over all WSs as the
expected degree of competition. Fig. 8(a) shows the measured
results. Clearly, the average degree of competition increases
with the number of WSs but decreases with the number of
APs. Since the average degree of competition has a linear
relationship with the number of WSs, we divide the former by
the latter and get the result of Fig. 8(b). In the following, we
explain the results of Fig. 6 with the help of Figs. 7 and 8.
1) For a fixed number of WSs, the expected number of
choices is in proportion to the number of APs (see Fig. 7).
However, in Fig. 6, we observe a rather high reassociation
count when only four to 25 or 36 APs are deployed.
This must be contributed by the extremely high degree
Fig. 9. Comparison of reassociation increase rate between the proposed game
and the PIF models.
of competition in that range [see Fig. 8(b)]. When the
number of APs is further increased, the total reassociation
count does not rise further but rather declines slightly.
This can be justified as the extremely low degree of com-
petition cancels out the trend of increasing reassociations
due to the increase in the expected number of choices.
Consequently, WSs experience even fewer reassociations
to reach Nash equilibria.
2) For a fixed number of APs, the expected number of
choices is fixed, whereas the expected degree of com-
petition is proportional to the population of WSs [see
Fig. 8(a)]. When the number of WSs is small, modest
competitions and few reassociations are observed. As
more WSs are involved, competitions among WSs be-
come intense, giving rise to more interactive reassoci-
ations. Consequently, total reassociation count roughly
increases with the number of WSs. The increasing rate
with the PIF model, however, is generally higher than that
with our game model, as Fig. 9 indicates.
YEN et al.: STABILITY AND FAIRNESS OF AP SELECTION GAMES IN IEEE 802.11 ACCESS NETWORKS 1159
Fig. 13. Gain of aggregated throughput due to reassociations in (a) the proposed game model and (b) the PIF model.
Fig. 14. Comparison of throughput gains between the proposed game and the PIF models.
value, and standard deviation of the gain are −0.679, −0.085,
and 0.238, respectively. Fig. 11(c) shows excess fairness gains
by the proposed game over the PIF model. We found that
the superiority of the proposed game over the PIF becomes
more significant when fewer APs are introduced. This trend is
generally consistent with the behavior exhibited by the expected
degree of competition (see Fig. 8).
C. Aggregated Throughput
Aggregated throughput (counting all WSs) was also in-
vestigated. The results of the RSS-based association policy,
the proposed game model, and the PIF model are shown in
Fig. 12(a)–(c). Clearly, the PIF model outperforms the others.
If a configuration is Pareto optimal, then it must have the
highest aggregated throughput among all of them. Therefore,
the superiority of the PIF model over our game model further
confirms that Nash equilibria in the proposed game are typically
not Pareto optimal. Fig. 12(d) shows the excess of the PIF
model over the proposed game model in terms of aggregated
throughput.
For each trial, the difference of the aggregated throughputs
between the initial and the final association configurations is
viewed as the gain of aggregated throughput by reassociations
in the trial. Fig. 13 shows the gains of aggregated throughput
due to reassociations in the proposed game model and in the
PIF model. We can see that the PIF model yields all-positive
gains, whereas the proposed game model does not necessarily
improve aggregated throughput. Fig. 14 compares throughput
gains between the proposed game and the PIF models. When
few APs are deployed, the difference of the gain between these
two models is either negligible (four APs) or nearly a constant
(nine or 16 APs). When more APs are deployed, the throughput
gains in both models depend on the number of WSs. For a
specific number of APs, there is an optimal number of WSs for
which the gain of aggregated throughput due to reassociations
is maximized. Deviation from this value diminishes the gain
and might even degrade the aggregated throughput (in case of
the game model). The optimal number of WSs for 81, 121, 169,
and 225 APs are 100, 150, 200, and 250, respectively. For 49 or
fewer APs, the optimal number of WSs is smaller than 50. Thus,
the results only exhibit a decrease in throughput gain with the
number of WSs. This phenomenon can be explained as, when
not too many WSs are engaged in a bandwidth competition,
the RSS-based association policy fails to fully exploit potential
bandwidth collectively offered by all APs, leaving much space
for both reassociation models to improve. When many WSs are
introduced to the access network such that few APs are lightly
loaded, the RSS-based association policy leaves little space for
reassociations to improve. Thus, the throughput gains decline.
In particular, a WS in the proposed game is likely to increase
its throughput through reassociations at the price of decreasing
other WS’s throughput. Overall, throughput therefore may suf-
fer from such reassociations.
In both models, the maximal gain that can be obtained
roughly increases with the number of APs. This is reasonable as
more APs provide more potential bandwidth. With 81 or more
APs, the proposed game behaves like the PIF model if not too
many WSs are involved. Their difference emerges when more
WSs are added and increases with the number of WSs. The PIF
出席國際學術會議心得報告 
                                                             
計畫編號 NSC 99-2221-E-390 -019 
計畫名稱 應用賽局理論分析 IEEE 802.11網路 AP負載分散問題 
出國人員姓名 
服務機關及職稱 
嚴力行 
國立高雄大學 資訊工程學系 教授 
會議時間地點 
100年 5月 24日至 26日 
法國巴黎 
會議名稱 
The Eighth IEEE and IFIP International Conference on wireless and Optical 
communications Networks (WOCN 2011) 
發表論文題目 
Experimental Study of Mismatching ESS-Subnet Handoffs on IP over IEEE 
802.11 WLANs 
 
一、參加會議經過 
我於 5月 23日早上從桃園機場搭國泰航空公司班機經香港轉機到法國巴黎戴高樂國
際機場。到達巴黎旅館時間是當地時間 23日晚上。此會議召開日期為 5月 24日至 5月
26日。我的論文報告時間則是在 5月 25日的下午。會議結束後我搭 5月 27日中午的國
泰航空公司班機由法國巴黎戴高樂國際機場經香港轉機到桃園機場。回到台灣的時間已
是 5月 28日早上。 
 
二、與會心得 
WOCN 2011這個會議收錄了無線網路與光學網路兩個領域的論文，但感覺光學方面
的內容比重較多些。由於我對光學網路的內容不熟，但有興趣瞭解，所以也特地參與了
大會在 5月 24日舉辦的光學領域的 Tutorial Session。第一場的主講者是法國Morpho公
司的 Hervé Chabanne博士，他的專長領域是 Security。由於他的法國腔英文實在難聽懂，
所以我的收穫並不很大。第二與第三位主講者也有類似的問題。不過我覺得主要原因還
是在於我對光學網路的基本瞭解有限，而這些主講者談的內容又過於艱深，所以很難在
短時間內有具體的收穫。 
第二天早上的Keynote Speaker有新加坡南洋理工大學的沈平博士與華中科技大學的
唐明教授，這兩位教授都是光學領域的專家，講的也是光學網路的議題。我個人覺得唐
來源: WOCN2011 <guy.omidyar@IEEE.org>
收信: lhyen@nuk.edu.tw
日期: Sun, 10 Apr 2011 12:09:39 �0500
標題: IMPORTANT - WOCN2011 paper acceptance notice
On behalf of the WOCN2011 conference committee, I am pleased to inform you that
your paper has been accepted to publication and presentation at The Eighth IEEE
and IFIP International Conference on wireless and Optical communications Networks
Paris France.  
WOCN2011 will send the reviewers' comments to you shortly.
If you have more than one paper please send the conference chair your papers ID
number so that he can let you know which paper was accepted.
guy.omidyar@ieee.org
all information to prepare your final camera ready paper and registration and
copyright form and visa are on the wocn2011 web site.
http://www.wocn2011.org/cameraReady.html
a sample of paper style and format is at:
http://www.ieee.org/portal/cms_docs/pubs/confpubcenter/pdfs/samplems.pdf
Pleaase do not use any footnote only on the first page so the wocn2011 caan write
the IEEE publication number
Any questions please send an email to guy.omidyar@ieee.org
Guy Omidyar
conference general chair
http://lccmail.nuk.edu.tw/cgi-bin/msg_read?cmd=print_mail&m=462...
1／1 2011/8/26 下午 05:21
Fig. 1. General L2H/L3H phases
L3H latency by performing well-designed experiments with
off-the-shelf products from major vendors.
Rest of this paper is organized as follows. Section II briefs
technical background of the mismatching problem. Section III
presents our observations and numerical results obtained from
experiments. In Section IV, we suggest some solutions to this
problem. Section V concludes this work.
II. TECHNICAL BACKGROUNDS
Figure 1 shows general L2H/L3H phases. An L2H is
triggered by L2H detection. L2H detection can be conducted
in various ways. A widely-adopted design demands WSs to
constantly monitor received signal strength and/or bit error rate
from the associated AP. A signiﬁcant drop of the monitored
measure (e.g., below a preset threshold value) is taken as a
possible indication of losing the contact with the currently
associated AP. Another pure layer-2 approach takes unrecov-
erable frame transmission errors as an indication. Regardless
of how L2H detection is implemented, a critical mission is
to tell intermittent bad communication states from persistent
ones that must call for an L2H.
Following L2H detection is an L2H execution consisting of
probing, authentication, and association phases. The probing
phase is usually embodied by an active scan that searches all
channels for accessible APs. In active scans, a WS broadcasts
Probe Requests on every channel and listens for possible
Probe Responses from APs. By default, the WS considers
only APs that belong to the current ESS. This is achieved by
specifying in Probe Request an SSID (Service Set Identiﬁer)
that identiﬁes the designated ESS. Only APs that have been
conﬁgured with the same SSID should respond when receiving
probe requests. If the WS ever receives a response from some
AP, indicating a success of the active scan, it can select one
AP as the handoff target and proceed to the next L2H phase
(authentication). If it further completes the L2H in time, a
link-up event is signaled to inform upper-layer entities of the
change of link.
However, in case that no Probe Responses are received
during an active scan, the WS cannot advance to the next phase
due to the absence of accessible AP. This eventually leads to
a link-down event, which indicates a loss of link connectivity
with the current AP. Link-down events are to be captured by
software modules beyond layer-2 (L2). One of these modules
may instruct L2 to attach to another ESS based on some policy
(user preference, for example) to retain network connectivity,
effectively conducting an ESS transition, namely inter-ESS
L2H. Inter-ESS L2Hs are outside the scope of IEEE 802.11.
In the mentioned platform, inter-ESS L2Hs are activated only
Fig. 2. Handoff stages for inter-ESS L2Hs
after occurrences of link-down events. Consequently, the time
cost of detecting the need for an inter-ESS L2Hs is at least
that caused by a failed intra-ESS L2H. Viewing from this
perspective, a link-down event divides an inter-ESS L2H into
two stages (Fig. 2):
1) Inter-ESS L2H detection, where the need for an inter-
ESS L2H is indicated by the failure of an intra-ESS
L2H, and
2) Inter-ESS L2H execution, where a new ESS is found
and an association with that ESS is made.
Activities in the second stage are identical to those in an
ordinary intra-ESS L2H execution. However, how WS acts in
the ﬁrst stage varies in existing implementations. WS may
simply keep searching for the designated ESS. It is also
common that WS executes an extended search which explores
potentially accessible APs belonging to other ESSs. One goal
of our research is to investigate empirically the impact of ESS
transitions on overall L2H latency, and see if different inter-
ESS L2H detection designs improve the result.
The other goal of this research is to investigate the impact
of mismatching ESS-subnet conﬁguration on L3H latency. The
aim of an L3H is to retain network-layer connectivity. In
case of IP networks, the center of an L3H execution is to
renew network-layer settings by performing Dynamic Host
Conﬁguration Protocol (DHCP), possibly Duplicate Address
Detection (DAD), and then IP conﬁguration.
L3H detection is the procedure that judges the need for
an L3H following an L2H. It is the key to the time gap
between the completion of an L2H and the commencement
of the succeeding L3H. However, there is no standard way
to perform L3H detections. Many existing schemes propose
using some L2 event as a trigger to L3Hs. Such event is
referred to as an L2 trigger [3]. An L2 event is an ideal
L2 trigger if the occurrence of this event always entails
the need for an L3H. A link-up event simply indicates an
attachment to a new AP. It calls for an L3H only in case of
inter-subnet handoffs. Therefore, link-up event alone is not
an ideal trigger for L3Hs. On the other hand, a link-down
event in practice simply indicates a loss of link connectivity
with the current AP. It necessitates an L3H only if the loss
of link connectivity comes from a change of access network
across different network domains. For instance, a seamless
L2H (by “seamless” we mean an L2H without temporary
link breakdowns) between heterogeneous access networks (one
WiFi and the other WiMAX, for example) is currently not
possible in reality. A vertical handoff thus always entails
a link down event which can be used to trigger an L3H.
However, link-down events may also arise for other causes.
Fig. 5. Experimental setup for intra-subnet handoffs
TABLE II
HARDWARE EQUIPMENT LIST
Name Type Model Chip
AP1, AP2 AP ZyXEL P-330W Realtek (RTL8186)
Cisco NIC Cisco Aironet Athores
AIR-CB21AG-W-KG
D-Link NIC D-Link DWL-G650 Athores
Intel NIC Intel(R)PRO/Wireless LAN Intel
2100 3B Mini PCI
from which the signal is further fed into a signal-shading
box2. In the shading box two WSs were placed: WS1 was
the one to exercise handoffs while WS2 was an observer. The
observer was equipped with two 802.11g interfaces operating
in promiscuous mode. It captured all frames exchanged on
channels 1 and 6 using Sniffer and AiroPeek, one for each
interface. Both WS1 and a corresponding node (CN) located
in another subnet were installed a SIP UA (User Agent).
This was to establish Voice over IP (VoIP) sessions between
them. The UA software had been modiﬁed so that it can
capture link-down and link-up events from NIC drivers. We
also ran Ethereal on WS1 and the CN to capture all outgoing
SIP-related packets. The experimental setup for intra-subnet
handoffs is shown in Fig. 5. For inter-subnet handoffs, the
only difference is that AP1 and AP2 were connected by a
router instead of a switch.
We let WS1 associate with AP1 initially. After the asso-
ciation, WS1 used SIP to establish a VoIP session with the
CN. The attenuators were then used to simulate a handoff
of WS1 from AP1 to AP2. The distance between AP1 and
AP2 was assumed 50 m. For this setting, the signal power
of AP1 was linearly decreased from 0 dBm to -74 dBm with
the decreasing rate set to 1 dB per second. Meanwhile, the
signal strength of AP2 was linearly increased from -74 dBm
to 0 dBm with an increasing rate of 1 dB/s. Note that the
decreasing and increasing rate of signal strength affects only
the latency of L2H detection.
WS1 was running Windows XP, in which built-in ZeroCon-
ﬁg was used to enable inter-ESS handoffs. To ensure that the
obtained results are common to a variety of products, WS1
was equipped with three types of NICs as listed in Table II.
Our captured traces show that when signal strength degraded
to some level, transmission failures occurred to frames at
2Augleton Tech. Inc., model:581-200
Cisco D−Link Intel
0
0.5
1
1.5
2
2.5
3
Ti
m
e 
(se
c.)
(a)
Cisco D−Link Intel
0
5
10
15
20
25
30
Ti
m
e 
(se
c.)
(b)
Inter−ESS L2H detection
Probing
Authentication
Association
L2H detection
Probing
Authentication
Association
Fig. 6. Delays of (a) intra-ESS L2Hs and (b) inter-ESS L2Hs
times. Retransmissions of these frames might succeed or fail,
and we took the ﬁrst retransmission failure as the start point
of L2H detection. Note that frames transmitted after this point
might still be transmitted successfully. For intra-ESS L2Hs,
the issue of the ﬁrst Probe Request was considered the end of
L2H detection phase and also the start point of the probing
phase. For inter-ESS L2Hs, link-down events further separated
the detection and the execution of inter-ESS L2Hs.
Fig. 6 shows measured handoff latency for every NIC in
both intra-ESS and inter-ESS L2Hs. Each measure stands for
the average of data collected from at least 25 runs.
It can be seen that the delays of inter-ESS L2Hs are
generally much higher than those of intra-ESS L2Hs. The
delays of authentication and association phases are nearly the
same in both types of L2Hs. It is handoff detection and probing
that dominates the results. We also conﬁrmed that NICs did
not initiate an inter-ESS L2H until the occurrence of a link-
down event. It is the timeout setting of link-down event that
dominates the length of inter-ESS L2H detection.
We also observed two types of designs in inter-ESS L2H
detections. One design is to always perform an intra-ESS
probe (SSID-speciﬁc probe) and an inter-ESS probe (broadcast
probe) simultaneously during a regular probing. This strategy
helps early explorations of APs in other ESSs (though this was
not necessary for intra-ESS L2Hs). D-Link NIC adopts this
design approach. The other design is to conduct an extended
search only after a regular probing fails. Intel and Cisco NICs
take this design. Intel NIC implements extended search by
keeping broadcasting probe requests, and these requests are
alternatively destined for the original ESS and any ESS (not
specifying a speciﬁc SSID). Cisco NIC performs extended
search by sending to each AP a Probe Request with SSID set
to the original ESS using a unicast frame. Since the request
is a unicast, every AP successfully receiving it responds an
ACK frame, even if the SSID of the AP does not match the
target. It should also be a sort of intra- and inter-ESS probe.
Although all these NICs could exploit extended search
results that were acquired before link downs, there is no
evidence that any of them actually did it since all these NICs
performed another active scan after link downs. As a result,
extended searches neither shorten inter-ESS L2H detection
time nor save the failure of intra-ESS L2Hs.
For L3H latencies in different ESS-subnet conﬁgurations,
Table III summarizes our experimental results (aE-aS handoffs
do not incur any L3H cost and are therefore not shown here.)
國科會補助計畫衍生研發成果推廣資料表
日期:2011/08/30
國科會補助計畫
計畫名稱: 應用賽局理論分析IEEE 802.11網路AP負載分散問題
計畫主持人: 嚴力行
計畫編號: 99-2221-E-390-019- 學門領域: 計算機網路與網際網路
無研發成果推廣資料
其他成果 
(無法以量化表達之成
果如辦理學術活動、獲
得獎項、重要國際合
作、研究成果國際影響
力及其他協助產業技
術發展之具體效益事
項等，請以文字敘述填
列。) 
無 
 成果項目 量化 名稱或內容性質簡述 
測驗工具(含質性與量性) 0  
課程/模組 0  
電腦及網路系統或工具 0  
教材 0  
舉辦之活動/競賽 0  
研討會/工作坊 0  
電子報、網站 0  
科 
教 
處 
計 
畫 
加 
填 
項 
目 計畫成果推廣之參與（閱聽）人數 0  
 
