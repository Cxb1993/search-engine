行政院國家科學委員會補助專題研究計畫成果報告 
 
結合高頻項目集探勘技術與螞蟻演算法 
在倉儲儲位指派問題之研究(II) 
 
 
計畫類別：個別型計畫  □整合型計畫 
計畫編號：NSC99－2221－E－027－027 
執行期間：99年 8月 1日 至 100年 7月 31日 
 
 
計畫主持人：吳建文 
計畫參與人員：陳典廷、蘇福泰、李昭慶 
 
執行單位：國立台北科技大學資訊與運籌管理研究所 
 
 
中  華  民  國  1 0 0 年 7 月 3 1 日
3 
Keywords: frequent itemset mining, Ant algorithm, Storage assignment. 
 
一、 前言 
 
倉儲的主要功能在儲存原料及各級產品，以便能迅速滿足供應鏈中的產銷需求。倉儲的存在
ㄧ方面可以降低產品運輸成本、提高產品運輸效率，進而提升顧客滿意度，另ㄧ方面，倉儲
的存在也可以協助生產廠商適應顧客需求的變化、減少生產缺料狀況，並進而提升生產效率。
然而倉儲作業也需要花費相當的成本，根據研究報告指出[1]，倉儲作業成本大約佔公司銷售
成本的百分之二至百分之五，因此，如何提供適當的倉儲管理方式，來降低倉儲作業成本，
提升倉儲作業效率，是非常重要的。 
 
在所有的倉儲作業中，揀貨作業是最耗費時間的，研究報告指出[1]，揀貨作業時間約佔所有
倉儲作業時間的 50-70%，因此如何改善揀貨效率實為當務之急。 
 
倉儲儲位指派的問題主要是研究如何將產品項目指派到儲位上，以使得揀貨員的行走距離能
夠最小。良好的儲位指派方式，可以減輕揀貨員的工作負擔，進而提昇揀貨效率。然而，倉
儲儲位指派的問題具有相當高的計算複雜度，其搜尋空間隨著倉儲產品項目數目和訂單數目
的增加作幾何性的成長，近年來，由於資訊科技的進步，許多現代化的倉儲資訊系統相繼出
現，大量的訂單資料可以儲存於大型資料庫中，這些大量儲存的訂單資料，使得儲位指派問
題更加的複雜且困難。有關倉儲儲位指派的文獻探討，將在下一章節敘述。 
 
目前在文獻上有許多關於儲位指派問題的演算法，或者假設產品之間毫無關聯性產品，或者
僅探討至多兩個產品間的關聯性，這些演算法多有執行效率很高的優點，然而由於未考量多
個項目之間的關聯性，因此，常無法找到很好的可行解。也有一些方法考量了多個項目之間
的關聯性，但他們多使用較複雜的運算模型，如數學規劃等，這些方法具備有相當高的計算
複雜度，當訂單數目繁多的時候，他們常無法快速找到很好的可行解。 
 
綜合而言，要應用品項一起出現於訂單的關聯性來改善揀貨效率，有以下的問題需要克服: 
1. 我們要能夠找出那些品項經常一起出現在訂單中。 
2. 我們要有一個儲位指派方法，能夠利用品項一起出現的資訊，將常一起出現的品項放置
在相近的地方，以最佳化揀貨效率。 
 
要解決上述 (1) 的問題，我們可以使用高頻項目集探勘。所謂高頻項目集探勘是從大型資料
庫中，探勘出那些資料項目(item) 經常會一起出現在資料庫交易中，目前已有許多學者提出
許多高頻項目集探勘方法，並且在市面上已有許多成熟的高頻項目集探勘軟體。直覺上，如
果我們每一個張訂單當作一筆資料庫交易，將每一個倉儲品項視為一個資料項目，則我們可
以應用高頻項目集探勘，來找出那些品項經常一起出現在訂單中。 
 
要解決上述 (2) 的問題，我們使用螞蟻演算法，螞蟻演算法是一種模擬螞蟻覓食行為的演算
法，螞蟻演算法至今已應用於許多複雜的組合最佳化問題上，尤其如 MAX-MIN 螞蟻演算
5 
假設產品之間並無關聯性，將產品依其週轉率(turnover rate)排序，週轉率較高的產品被指派
到離揀貨點較近的位置，週轉率較低的產品被指派到離揀貨點較遠的位置。分級儲存法結合
隨機儲存法與固定儲存方法兩者的優點，其將倉儲劃分為若干區域，並將產品根據其週轉率
指派到不同區域，被指派到同ㄧ區域的產品，則採取隨機指配的方式指派其儲位。 Jarvis 和
Mcdowell [5] 考慮長方形倉儲中的訂單檢貨問題，他假設一但揀貨員進入一個揀貨通道，他
就必須走完通道全程，不可以中途折回，他證明在長方形倉儲中，如果假設產品之間並無關
聯性，則依 Hauman 的週轉率固定儲存的方式作儲位指派，會得到最佳的儲位指派方式。 
 
Frazelle and Sharp [6] 提出儲位相關指派(correlated assignment)的方法，他們認為儲位
的指派應該要考量產品與產品間的相關性，他們首先計算每ㄧ品項和每ㄧ品項之間共同出現
在訂單中的次數，然後將品項成對的依其共同出現的次數排序，他們將排序在前的品項成對
的指派到離揀貨點較近的位置，將排序在後的品項成對的指派到離揀貨點較遠的位置，根據
他們的實際驗證成果顯示可減低 30-40﹪揀貨距離。Lee [7] 定義品項與品項之間的關聯性為
此兩個品項共同於同一張訂單的機率(如同 Frazelle and Sharp [6]一樣)，他並以群組技術的方
法將品項分成多個群組，再依據群組的周轉率，以空間填充曲線(space-filling curve)的方式將
這些品項擺放至鄰近的儲位。Amirhosseini and Sharp [8] 提出一個訂單滿意關聯度測量 (order 
satisfying correlation measure, OSCM)的方法，他們定義品項與品項之間的關聯性為此兩種品
項可以滿足每一張訂單的比率的總和。他們同時也提出一個階層式聚類的方法，將關聯性較
強的品項安排為同一群組，以利儲位指派。 
 
Mazini [9] 也將品項之間的關聯性定義為此兩個品項共同於同一張訂單的次數(如同 
Frazelle and Sharp [6]一樣)，他先將品項兩兩配對，計算出每一配對品項間的關聯性，再將這
些品項的配對依據其關聯性從大到小排序，最後提出了三種方法來決定個別品項的排序，這
三種聚類方法分別是一般聚類法(CLA)、平行法(PA)與循序法(SA)。一般聚類法(CLA)先將品
項聚類成多個群組，然後再將多個群組依其週轉率排列，以決定品項的排序。平行法由關聯
性排序大到小逐一檢視配對品項，如果配對品項中的有一個或兩個品項均未列入品項的排
序，則此一個或兩個品項即依序納入品項排序中。循序法中則由目前最後一個納入排序的品
項，來依據品項配對的關聯性循序決定下一個要納入的品項。Xiao [10] 提出了一個改良 Lee 
(1992) 的儲位指派方法，和 Lee (1992)相同的是他同樣以群組技術的方法將品項分成多個群
組，再依據群組的周轉率對品項進行排序，以進行儲位指派。和 Lee (1992)不同的是他提出
一個新的品項關聯性的定義，他定義兩個品項的關聯性為此兩個品項共同出現訂單的頻率除
以此任一個品項出現於訂單的機率。 
 
Liu [11] 提出以數學規劃方式來分析訂單、品項與數量之間的關係，他建立品項與顧客
的相似度，並據以進行品項分群與顧客分群，研究成果顯示其方法可以大幅縮短揀貨距離。
Rosenwein [12] 利用 p-median 最佳化模型的方式以及分支界限方法來找到產品的最佳化區
分群組方式。同ㄧ群組的產品被指派到較相近的儲位。其方法有很好的儲位指派效能，惟計
算複雜度很高。 
 
7 
[18]。由 Marco Dorigo 博士在他的博士論文中所提出，是利用螞蟻尋找食物的過程中，所
經路途中持續不斷累積遺留下的費洛蒙，以依循費洛蒙痕跡來找到回巢穴的自然現象而架
構模式的演算法。螞蟻演算法至今已應用於解決許多組合的最佳化問題 (combinatorial 
optimization, CO)上，這些問題有：旅行銷售員問題(the traveling salesman problem, TSP)、
指派問題(assignment problems)、排程問題(scheduling problem)等，更甚的還有：sequential 
ordering problem(SOP)、resource constraint project scheduling (RCPS)問題及 open shop 的排
程問題等等。 
 
螞蟻演算法主要是模擬螞蟻在尋覓食物時的合作行為。當螞蟻在移動時，會在走過的路徑
上，留下費洛蒙的痕跡，這些費洛蒙的痕跡可以當作螞蟻與其他螞蟻之間的聯繫訊號。當螞
蟻在面對岔路時，會以機率的方式，依據每條路線費洛蒙的強度來選擇前進的道路。如果有
一條道路有許多螞蟻遺留下費洛蒙訊號，則螞蟻會認為這條道路有較大的可能性可以找到食
物，因此螞蟻會傾向走這條道路。 
 
透過路徑上費洛蒙訊號的交換，螞蟻可以感受到其他螞蟻在找尋食物的過程中所經過的路
徑，這些費洛蒙訊號可以協助螞蟻在未來尋找食物的路徑，因此當有一隻螞蟻找到食物時，
則此隻螞蟻會在其找到食物與蟻巢之間的道路留下較強的費洛蒙訊號，其他螞蟻即可以同樣
的方式找到食物。這樣的現象叫做利用(exploitation)，透過利用的過程，螞蟻可以有效的分享
彼此的路徑訊息。 
 
另外，由於螞蟻是以機率的方式，依據每條路線費洛蒙的強度來選擇前進的道路，因此螞
蟻不一定選擇其他螞蟻走過的較好路徑，也有可能走一條新的路徑，這樣的現象叫做探索
(exploration)，透過探索的過程，螞蟻也有可能找到更好的路徑，並可以將這樣的路徑訊息再
透過費洛蒙的方式傳遞給其他螞蟻，來引導其他螞蟻找到這樣的路徑。透過不斷的利用與探
索的方式，可以使蟻群不斷的發現新的好的路徑，並將新發現的訊息快速的傳遞給其他螞蟻。 
 
螞蟻演算法最早由 Marco Dorigo 博士發明[18]，雖然引起學術界極高的注目，然而由於
和其他演算法比較起來速度較慢，因此沒有很好的應用價值，其間經過不斷的改良，一直到
ACS [19] 和 MMAS [20] 這兩種螞蟻演算法被提出後，又重新受到重視，其中尤其是MMAS
螞蟻演算法在解決旅行者問題上與二次指派方法問題上，都比其他文獻中各種演算法的效
能較為優異，因此，本計劃乃採用 MMAS 螞蟻演算法作為我們主要的研究方法。 
MMAS 螞蟻演算法的基本架構如下所示。 
步驟一: 設定起始參數，並選擇一定數量的螞蟻 
步驟二: 為每一隻螞蟻建立自己的可行解 
步驟三: 應用區域搜尋方法以改善在每一隻螞蟻的可行解 
步驟四: 更新費洛蒙的值 
步驟五: 當中止條件不成立的時候，重複步驟二 
 
四、研究方法 
9 
4. 在螞蟻選擇解單元加入時，會依照機率值 )(tp kij 來決定。其中 )(tp kij 是第 k 隻螞蟻由解
單元 i 到解單元 j 的機率值。 )(tp kij 值的決定，主要依靠兩個指標：一是 trail 的累積（代
號為 τij，也就是在解單元 i 與解單元 j 之間的費洛蒙累積的強度）；另一是 desirability
（代號為 ηij，即解單元 i 對解單元 j 的希求度，解單元被探索的價值）[19]。 )(tp kij 的
公式描述如下： 





⋅
⋅
=
∑ ∈
其他
不會造成重複解單元如果
0
j
][)]t([
][)]t([
)t(p
kallowl
ilil
ijijk
ij βα
βα
ητ
ητ
 
在此公式中 α 是有關費洛蒙累積的控制參數；β 則是有關解單元希求度的控制參數。
如同 MMAS 演算法中一樣我們設定 α = 1 而且 β = 2。  
費洛蒙的累積 )(tijτ 也有其計算的函式，其新一次的費洛蒙累積值會是前一次費洛蒙的
值與費洛蒙殘留率（ρ）的乘積，再加上此次從 i 城市至 j 城市之間的增量。其函式描
述如下： 
ijijij tnt ττρτ ∆+⋅=+ )()( , 其中  ∑
=
∆=∆
m
k
k
ijij
1
ττ , 




=∆
其他
隻螞蟻通過如果第
0
),( jiek
L
Q
k
k
ijτ  
ρ 是指在第 t 次到第 t+n 次之間費洛蒙的一個殘留率，故 1-ρ 為費洛蒙蒸發率或遺失
率。在整個實驗中，每隻螞蟻都可能通過 e(i, j)這個邊，而如果螞蟻有通過 e(i, j)時，
則仍需對其所走的距離長度（Lk）與其本身固定會遺留的費洛蒙濃度（Q）做一審視，
若此螞蟻於之前已走過很長的路徑，則整個費洛蒙濃度也會減少，此種評估模式使費
洛蒙的衡量更趨客觀。 
ηij 即解單元 i 對解單元 j 的希求度，ηij 的計算方式如下，假設(Ai, Bi) 與(Aj, Bj)是兩個
解單元，其中 Ai 與 Aj是兩種品項，Bi 與 Bj是兩個儲位，假設目前在(Ai, Bi)解單元上有
一隻螞蟻 k，假設集合 U 包含所有螞蟻中 Tabulist 所含有的品項  
則希求度 kijη  = 
)B ,(B
)A(U
ji
j
距離
支持度 ∪
. 
5. 由於每一隻螞蟻所產生的解不一定是整體最佳解或是區域最佳解，在此解的鄰近區域
可能有更佳解，因此 MMAS 演算法建議在求得螞蟻的可行解後，對每一個可行解使
用區域搜尋法來加以改善，由實驗結果得知，應用區域搜尋法來改善螞蟻的解，可以
獲得很大的效能改善。 
6. MMAS 會重複上述螞蟻尋找可行解的方式，直到重複次數到達一個最大限制次數或
是有停滯的現象出現。 
11 
方法，乃指揀貨員從走道的兩端進出，並避免拜訪最大間隔。 
(iv)  自動化倉儲系統(AS/RS)，我們假設有一個 5×8 的自動化倉儲，並且配備一個自
動化的儲存/取出 S/R 的機器，此 S/R 機器的移動方式乃參照 Pan et al. [32] 論文。 
(v)  我們依據 Jarvis 和 Mcdowell [7]的方法，產生 16 種不同型態的訂單資料庫測試
範例。 
我們採用 Jarvis 和 Mcdowell [7]使用隨機產生訂單測試資料庫的方式，來產生 16 種
不同型態的大量訂單資料庫測試範例，來比較我們方法和現有文獻的方法的效能。以下我
們簡述這些測試資料庫的產生方式。 
如同 Jarvis and Mcdowell (1991) 一樣，我們依據ABC曲線的方式來產生，我們設定
第i個品項的出線機率為A⋅Bi，我們調整 A 和 B到使得平均 2.5, 5, 7.5, and 10%的品項出
現於訂單上，而且使得20%的品項形成20, 40, 60, and 80%的檢貨活動。 
 我們使用 x 來表示出現於訂單中的品項機率，我們使用 y 來表示20%的品項所形
成的揀貨活動，如上所述，因此 x 有四種不同的值，分別是(2.5%, 5%, 7.5%, and 10%)，
y 有四種不同的值，分別是(10%, 20%, 40%, 60%, and 80%)。 
我們設定倉儲項目數目為 40，訂單數目為 200，對於每一個 (x, y) 的配對，我計算
相對的 A and B 的值，再據以產生訂單資料庫測試範例，對於每一個 (x, y) 的配對，我們
產生 5 個訂單資料庫測試範例，然後計算此 5 個測試問題所需的平均行走距離。 
 
2. 實驗成果說明: 
 
我們所有的實驗都在一台具有 3.6 GH z 執行速率的個人電腦上，此個人電腦具有 1 GB 的
記憶體，此個人電腦執行 Windows XP 的作業系統，我們使用 SQL Server 來計算所有的高頻
項目集，其餘的程式 
均使用 Microsoft Visual C++ 來製作。  
 
在效能比較上，我們採用平均改善效率(improvement ratio)的評量指標，平均改善效率的定
義如下: 
平均改善效率 = 100%- ×距離本研究方法所需的行走
距離本研究方法所需的行走離文獻方法所需的行走距
 
 
實驗成果如以下表一到表三所示。 
 
以下表一到表三分別顯示本研究方法較現有八種文獻方法的平均改善效率。其中表一顯示
在長方形倉儲中、使用最大間隔行走方法的平均改善效率，表二顯示在自動化倉儲系統的平
均改善效率，表三顯示我們的方法相較現有文獻方法在所有測試範例的平均改善效率。 
 
 
 
13 
 
測試範例 本方法的行走距離平均改善效率 
x y Pop Cor OSCM Moon MCLA MPA MSA Xiao 
2.5% 20% 12.79% 15.43% 14.51% 25.40% 20.68% 23.12% 22.41% 16.15% 
2.5% 40% 10.36% 10.42% 9.41% 20.89% 21.25% 28.76% 25.69% 16.56% 
2.5% 60% 14.62% 15.14% 13.72% 18.60% 27.72% 23.67% 23.45% 14.71% 
2.5% 80% 9.86% 10.53% 8.80% 20.41% 12.43% 18.36% 29.23% 39.48% 
5% 20% 11.32% 13.72% 10.50% 22.47% 15.31% 15.47% 14.42% 11.72% 
5% 40% 11.18% 10.76% 12.71% 14.44% 16.26% 19.73% 18.57% 16.89% 
5% 60% 11.84% 12.62% 11.61% 15.30% 13.81% 16.91% 20.06% 27.38% 
5% 80% 13.55% 14.19% 14.66% 18.30% 16.86% 18.03% 18.55% 31.04% 
7.5% 20% 8.18% 8.51% 10.00% 19.20% 15.56% 13.63% 16.51% 12.03% 
7.5% 40% 11.68% 12.03% 10.87% 16.56% 14.28% 13.42% 12.90% 19.84% 
7.5% 60% 16.96% 17.29% 17.29% 19.76% 25.22% 22.16% 21.90% 19.37% 
7.5% 80% 15.08% 14.19% 14.66% 16.05% 15.12% 20.07% 14.63% 18.30% 
10% 20% 12.58% 11.73% 10.26% 16.89% 12.00% 11.85% 13.90% 11.24% 
10% 40% 12.46% 12.51% 12.90% 18.85% 11.01% 18.37% 17.18% 11.59% 
10% 60% 16.99% 17.79% 17.48% 24.77% 21.17% 20.77% 17.97% 36.03% 
10% 80% 16.57% 16.41% 16.10% 21.38% 18.79% 18.14% 18.95% 29.20% 
表 2: 我們的方法較現有文獻方法的行走距離平均改善效率(自動化倉儲系統) 
 
本方法在所有測試範例的行走距離平均改善效率 
Pop Cor OSCM Moon MCLA MPA MSA Xiao 
12.51% 13.48% 12.61% 19.87% 19.20% 19.48% 19.80% 21.74% 
表 3: 我們的方法相較現有文獻方法在所有測試範例的平均改善效率 
 
3. 實驗結果討論: 
(1) 有表一到表三的資料顯示，我們的方法較目前文獻所有的方法表現較佳，特別在表五中，
我們的方法在所有的測試範例中，提供的行走距離改善比率在 12%~21%之間，顯示使用
我們的方法可以有效改善揀貨員的行走距離，進而可以提高揀貨的準確度，並提昇揀貨效
率。 
(2) 在上述實驗中，我們的方法在每一個測試範例的執行時間均不超過 30 分鐘，此顯示我們
的方法具備高執行效率的特性。 
(3) 除了上述的實驗外，我們也針對不同的項目數、不同的訂單數、不同的倉儲走道數(number 
of aisles)，發現我們的方法都可以得到相類似的實驗結果(改善比率在 12%~21%之間)，這
也說明我們的方法具有可擴展(scalability)的特性。 
(4) 目前文獻中，並沒有任何研究對現有文獻的方法進行效能比較分析，我們的實驗結果也提
高了現有文獻方法的一種比較性分析(comparative study)。 
15 
Application, vol 20, 325-335. 
15. Han, J., Pei, J., Yin, Y. and Mao, R. (2004) Mining Frequent Patterns without Candidate 
Generation: A Frequent-pattern Tree Approach. Data Mining and Knowledge Discovery, 8, 
53-87. 
16. Zou Q, Chu WW, Lu B. SmartMiner: a depth first algorithm guided by tail information for 
mining maximal frequent itemsets. In: Proceedings of IEEE International Conference on Data 
Mining, Maebashi City, Japan, December 2002. p. 570-77. 
17. Software for Associations Discovery Home Page. 
http://www.kdnuggets.com/software/associations.html. 
18. Dorigo, M. and Blum, C., “Ant colony optimization theory”, A survey. Theoretical 
Computer Science, 344, 2005, pp. 243-278. 
19. Dorigo, M., Gambardella, L.M. (1997). “Ant colony system: A cooperative learning approach 
to the traveling salesman problem”, IEEE Transactions on Evolutionary Computation, 6(6), 
53-66. 
20. Stutzle T., Hoos H. (2000). “MAX-MIN ant system”, Future Generation Computer Systems,16, 
889–914. 
 Application of Frequent Itemset Mining 
 for Item Assignment in a Warehouse 
 
Chienwen Wu 
Graduate Institute of Information and Logistics Management,  
National Taipei University of Technology, 
#1, Sec. 3, Chung-Shiao East Road, Taipei 106, Taiwan, R.O.C. 
Email: xcwwu@ntut.edu.tw 
 
 
ABSTRACT 
The item assignment problem in a warehouse [Frazelle, 2001] is to properly assign items in the orders 
into storage locations in a warehouse so as to reduce the traveling distances for order picking. An 
important approach for effective item assignment is to place as close as possible those items that 
frequently appear together in the order database [Frazelle et al., 1989]. In this way, the order picker can 
pick a lot of items in a small traveling distance. Items appearing in many orders together are considered 
to have strong picking associations. The associations, when properly used, can improve order picking 
performance. 
 
But to practice this strategy, several points have to be addressed, 
(1) We have to be able to identify items that appear together in the order database. 
(2) We should provide an approach that places items frequently appearing together in nearby locations. 
 
For the first point, we can apply frequent itemset mining [Agrawal et al., 1994, Han et al., 2004]. 
Frequent itemset mining is to discover subsets of items that frequently appear together in a database. In 
the literature, many research works regarding frequent itemset mining have been proposed. Sophisticate 
software for frequent itemset mining are available in the market [Software]. 
 
 Stutzle T., Hoos H. 2000. “MAX-MIN ant system”, Future Generation Computer Systems, 16, 889–914. 
Dorigo, M. and Blum, C. 2005. Ant colony optimization theory, Theoretical Computer Science, 344, 
pp. 243-278. 
  
Yours sincerely, 
 
Chien-Kuo Li, Ph.D. 
Coordinator of e-CASE & e-Tech 2011 
99 年度專題研究計畫研究成果彙整表 
計畫主持人：吳建文 計畫編號：99-2221-E-027-027- 
計畫名稱：結合高頻項目集探勘技術與螞蟻演算法在倉儲儲位指派問題之研究(II) 
量化 
成果項目 實際已達成
數（被接受
或已發表）
預期總達成
數(含實際已
達成數) 
本計畫實
際貢獻百
分比 
單位 
備 註 （ 質 化 說
明：如數個計畫
共同成果、成果
列 為 該 期 刊 之
封 面 故 事 ...
等） 
期刊論文 0 0 100%  
研究報告/技術報告 0 0 100%  
研討會論文 5 5 100% 
篇 
 
論文著作 
專書 0 0 100%   
申請中件數 0 0 100%  專利 已獲得件數 0 0 100% 件  
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 0 0 100%  
博士生 0 0 100%  
博士後研究員 0 0 100%  
國內 
參與計畫人力 
（本國籍） 
專任助理 0 0 100% 
人次 
 
期刊論文 0 1 100%  
研究報告/技術報告 0 0 100%  
研討會論文 1 1 100% 
篇 
 
論文著作 
專書 0 0 100% 章/本  
申請中件數 0 0 100%  專利 已獲得件數 0 0 100% 件  
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 0 0 100%  
博士生 0 0 100%  
博士後研究員 0 0 100%  
國外 
參與計畫人力 
（外國籍） 
專任助理 0 0 100% 
人次 
 
