 1 
 
目錄 
摘要...................................................................................................................................................................... 2 
Abstract ............................................................................................................................................................... 3 
前言...................................................................................................................................................................... 4 
研究目的 ............................................................................................................................................................. 4 
文獻討論 ........................................................................................................................................................... 10 
研究方法 ........................................................................................................................................................... 31 
結果與討論 ....................................................................................................................................................... 43 
參考文獻 ........................................................................................................................................................... 44 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 3 
 
 
Abstract 
 
There are probably many digital household appliances in a smart-home environment. In order to 
interconnect these devices with a network technology, Zigbee will be a promising solution in a smart-home. 
In addition, each home member with an RFID tag is authorized to obtain sensing information. The 
information of Zigbee RFID sensor can be efficiently collected if we integrate the RFID tag and the Zigbee 
sensor. 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 5 
 
技術和網路通信技術的定位感知技術應運而生，進而成為無線感測器網路。在無線網路基礎上，為了
增強網路的資訊採集和獲取能力，融合了感測技術、資訊處理技術和網路通訊技術的定位感知技術應
運而生，進而成為無線感測網路。它是由大量感測器結點通過無線通信技術自組織構成的網路，可實
現資料的採集量化、處理融合和傳輸應用是網路環境中的重要組成部分之一。它是由大量感測結點通
過無線通訊技術自組織構成的網路，可實現資訊的採集量化、處理融合和傳輸應用是網路環境中的重
要組成部分之一。 在不考慮用戶個人隱私問題的前提下，如何動態獲取用戶的位置資訊，而且得到的
位置資訊必須能夠達到一定的精確度，一般誤差控制在幾釐米以內；如何為用戶積極主動地提供各種
所需服務，這些都是定位感知系統必須能夠實現的功能。在不考慮用戶個人隱私問題的前提下，如何
動態獲取用戶的位置資訊，而且得到的位置資訊必須能夠達到一定的精確度，一般誤差控制在幾釐米
以內；如何為用戶積極主動地提供各種所需服務，這些都是定位感知系統必須能夠實現的功能。 
在現今智慧型手機的出現後可以想像，定位感知系統必須是定位系統與位置系統兩者的緊密結
合，用戶每移動到一個新的位置，系統必須能夠即時進行精確定位，然後確定這一特定位置的物件集
資訊。可以想像，定位感知系統必須是定位系統與位置系統兩者的緊密結合，用戶每移動到一個新的
位置，系統必須能夠實時進行精確定位，然後確定這一特定位置的對象集資訊。 利用這些資訊，定位
感知系統能夠積極主動地向用戶廣播所能提供的各種資訊，從而使用戶能夠有效地選擇自己所需要的
資訊。利用這些資訊，定位感知系統能夠積極主動地向用戶廣播所能提供的各種資訊，從而使用戶能
夠有效地選擇自己所需要的資訊。  
作為一項基於 IEEE 802.15.4 無線標準的安全網路技術，ZigBee 有希望讓無線感測器出現在各種應
用中：從工廠的自動化系統到家庭保安系統和消費電子產品。作為一項基於 IEEE 802.15.4 無線標準的
安全網路技術，ZigBee 有希望讓無線感測出現在各種應用中：從工廠的自動化系統到家庭保安系統和
消費電子產品。 在最近才得到批准的 802.15.4 標準配合下，ZigBee 將普通小型電池的使用壽命延長到
了幾年時間。在最近才得到批准的 802.15.4 標準配合下，ZigBee 將普通小型電池的使用壽命延長到了
幾年時間。 人們預測，ZigBee 設備還將十分便宜，一些人估計，它的銷售價格最終不到 3 美元。人們
預測，ZigBee 設備還將十分便宜，一些人估計，它的銷售價格最終不到 3 美元。 以如此之低的價格，
它們將會非常適用於無線電燈開關、無線調溫器和煙感探測器，成為包圍辦公室、家庭和交通工具的
無線設備的流行趨勢，而建立自動化傳輸房門、水錶、攝像、自動售貨機和火警等系統資訊的資料網
路將成為其最大的市場空間。以如此之低的價格，它們將會非常適用於無線電燈開關、無線調溫器和
煙感探測器，成為包圍辦公室、家庭和交通工具的無線設備的流行趨勢，而建立自動化傳輸房門、水
錶、攝像、自動售貨機和火警等系統資訊的資訊網路將成為其最大的市場空間。 
ZigBee 的基礎是 IEEE 802.15.4，這是 IEEE 無線個人區域網（Personal Area Network，PAN）工作
組的一項標準。 ZigBee 的基礎是 IEEE 802.15.4，這是 IEEE 無線個人區域網（Personal Area Network，
PAN）工作組的一項標準。 802.15.4 的 MAC 層基於 802.11 無線 LAN 標準，但是它的物理層與流行的
802.11b 物理層相似。 802.15.4 的 MAC 層基於 802.11 無線 LAN 標準，但是它的實體層與流行的 802.11b
實體層相似。 它可工作於三個不同的波段，每個波段都提供了一種不同的峰值資料速率。它可工作於
三個不同的波段，每個波段都提供了一種不同的峰值資訊速率。 不過多數應用僅使用峰值速率的一部
分。不過多數應用僅使用峰值速率的一部分。 例如，時鐘每週才查詢一次 NTP（網路時間協定）伺服
器，而安全措施良好的建築物中防盜警報可能若干年都不傳輸一個資料。例如，時鐘每週才查詢一次
NTP（網路時間協議）服務器，而安全措施良好的建築物中防盜警報可能若干年都不傳輸一個資訊。 由
於 ZigBee 的傳輸較少，因此它對已使用同一頻率的其他無線技術的干擾非常小。由於 ZigBee 的傳輸
 7 
 
動電子商務服務平臺中迅速查找相關的資訊，並將結果顯示在使者介面上，為用戶帶來各種各樣的便
利服務。 例如，它可以為你提供商品資訊服務，你還可以把讀取的商品代碼發送給移動電子商務服務
平臺，然後會得到許多相關資訊，如可以告知你附近的商店同類商品的價格以進行比較判斷該商場的
價格是否合理。例如，它可以為你提供商品資訊服務，你還可以把讀取的商品代碼發送給移動電子商
務服務平臺，然後會得到許多相關資訊，如可以告知你附近的商店同類商品的價格以進行比較判斷該
商場的價格是否合理。 
再設想下面場景，當你漫步在街頭，看到一幅讓你心動的商品廣告，這時只需拿出手機，閱讀商
品的 RFID 標籤，由此獲得詳細的商品資訊：功能特性、性能指標、價格指數、定購辦法等一目了然。
再設想一下，當你漫步在街頭，看到一幅讓你心動的商品廣告，這時只需拿出手機，閱讀商品的 RFID
標籤，由此獲得詳細的商品資訊：功能特性、性能指標、價格指數、定購辦法等一目了然。 假如你喜
歡的話，只需輸入銀行的帳戶密碼，幾次按鍵輕鬆完成網上訂購過程，等你回家之後，新款商品已經
等在家門口。假如你喜歡的話，只需輸入銀行的賬戶密碼，幾次按鍵輕鬆完成網上訂購過程，等你回
家之後，新款商品已經等在家門口。 另外，你也可以將喜歡的商品推薦給自己的朋友，輕按鍵盤，包
含詳細商品資訊的電子郵件就迅捷到達。另外，你也可以將喜歡的商品推薦給自己的朋友，輕按鍵盤，
包含詳細商品資訊的電子郵件就迅捷到達。 
無線通信網路技術發展迅猛，前景廣闊，但有些問題仍困擾著我們，比如各種嵌入式小器件的發
明與應用、各種定位技術的設計與改進、RFID 標籤自身成本較高、如何保證購買者的個人穩私、標準
能否統一等問題。無線通訊 網路技術發展迅猛，前景廣闊，但有些問題仍困擾著我們，比如各種嵌入
式小器件的發明與應用、各種定位技術的設計與改進、RFID 標籤自身成本較高、如何保證購買者的個
人穩私、標準能否統一等問題。可以預測: 無需維護、具有無限生命週期的無線傳感網路與 RFID、無
線網狀網結合在一起，將實現高效及時的關鍵資訊提交。可以預測:無需維護、具有無限生命週期的無
線傳感網路與 RFID、無線網狀網結合在一起，將實現高效及時的關鍵資訊提交。 但我們同時要瞭解
的是，無線感測器網路不同于傳統的無線網路（如 WLAN 和蜂窩移動電話網絡），除了少數節點以外，
大部分節點都無法時常更新電源，因此設計有效的策略延長網路的生命週期成為無線感測器網路的核
心問題。但我們同時要瞭解的是，無線感測網路不同於傳統的無線網路（如 WLAN 和蜂窩移動電話網
路），除了少數節點以外，大部分節點都無法時常更新電源，因此設計有效的策略延長網路的生命週期
成為無線感測網路的核心問題。 
研究初期，大家一度認為成熟的 Internet 技術加上 Ad-hoc 路由機制對感測器網路的設計是足夠充
分的，但深入的研究表明：感測器網路有著與傳統網路明顯不同的技術要求，前者以資料為中心，後
者以傳輸資料為目的。研究初期，人們一度認為成熟的 Internet 技術加上 Ad-hoc 路由機制對感測網路
的設計是足夠充分的，但深入的研究表明：感測網路有著與傳統網路明顯不同的技術要求，前者以資
訊為中心，後者以傳輸資訊為目的。 為了適應廣泛的應用程式，傳統網路的設計遵循著端到端的邊緣
論思想，強調將一切與功能相關的處理都放在網路的端系統上，中間節點僅僅負責資料分組的轉發。
為了適應廣泛的應用程式，傳統網路的設計遵循著端到端的邊緣論思想，強調將一切與功能相關的處
理都放在網路的端系統上，中間節點僅僅負責資訊分組的轉發。 對於感測器網路，這未必是一種合理
的選擇。對於感測網路，這未必是一種合理的選擇。 一些為自組織的 Ad-hoc 網路設計的協定和演算
法，未必適合感測器網路的特點和應用的要求。一些為自組織的 Ad-hoc 網路設計的協議和演算法，未
必適合感測網路的特點和應用的要求。 節點標識（如位址等）的作用在感測器網路中不十分重要，因
為應用程式不怎麼關心單節點上的資訊；中間節點上與具體應用相關的資料處理、融合和緩存卻顯得
 9 
 
由 UPnP 來負責，利用 UPnP Remote UI 技術，可以提供者一個完善的界面以控制數位家電。因此 ZigBee 
RFID/UPnP 整合閘道器將是整合這種兩重要技術的關鍵，進而控制家電設備，將為數位家庭設備網路
連結提供一套完整解決方案，完成控制與感測兩大核心研究主軸，以達成個人化感測資訊與數位家電設
備控制之最終計畫目標。 
ZigBee 是一種新興的短距離、低速率無線網路技術，可用於連結各種數位家電設備。Active RFID Tag
則是可以主動的回饋所固定蒐集的資訊。ZigBee 與 Active RFID 結合則可以控制並連結大量的 Tag，並
可延長傳輸範圍。 
目前市面上有許多彼此不相容的無線網路技術，如 Wi-Fi、ZigBee、藍芽、超寬頻(UWB)，以及「近
場通訊」（Near Field Communications）。這些標準雖然有類似的用途，但實際的使用情境又不盡相同。
例如，Wi-Fi 有不錯的有效範圍及傳輸率，可以使用在大部份的無線網路場合，但是在可攜式裝置上，
它的耗電量可能相當大。藍芽的耗電量相當小，一般認為適合作為手機等一類裝置的網路裝置。ZigBee
被定位在收發少量的資料量的應用。由表二可獲知，具有最省電、最大網路節點數及最低成本等優點，
專為低成本多節點的低功耗網路所設計，故本子計畫預計使用 ZigBee 通訊技術達成數位家庭感測系統
之建構。 
Feature(s) IEEE 802.11b Bluetooth ZigBee 
電源持續力 hours days years 
複雜度 Very complex complex Simple 
節點數 Many  8 Up to 65535 
建立連線速度 Upto 3 
seconds 
Upto 10 
seconds 
30 ms 
傳輸距離 100m 10m 70m ~ 300m 
擴充性 Roaming 
possible 
no Yes 
資料傳輸率 11 Mbps 1 Mpbs 250 Kbps 
安全性 SSID 64bit, 128bit 128bit AES 
表一、各項無線通訊技術比較表 
 
在數位家庭中，我們可能有相當多的數位家電，要將這些家電作連結，並有一個機制形成網路拓墣，
將數位設備的狀態、可使用性等等的資訊傳送給使用者，ZigBee 將是一個很好的解決方案。另外，家中
可能也有許多主動式 RFID 標籤，例如溫度感測、空氣品質感測，若是將這些 RFID 標籤與 ZigBee 作結
合，將可有效的收集與連結所有的 RFID 標籤資訊。在 ZigBee RFID 之上的層級則由 UPnP 來負責，
UPnP(Universal Plug and Play)是由微軟公司於 1999 年所提出的一個基於 TCP/IP 的開放式及分散式
網路，利用既有的網路技術讓家庭或其它任何地方的網路連線裝置傳送資料或控制資訊。其中 UPnP 
Remote UI 技術可以提供使用者設備之使用介面，進而控制家電設備。ZigBee 架構於網路層，而 UPnP
則是在 TCP/IP 協定之上，若是將 ZigBee RFID 與 UPnP 這兩種技術整合，將為數位家庭設備網路連結提
供一套完整解決方案。研發 ZigBee RFID/UPnP 整合閘道器將是整合這種兩重要技術的關鍵(如圖一) 。 
 11 
 
 
圖二、全球主要智慧型家電技術規格 
 
 
圖三、UPnP Structure 
UPnP通訊協定所提供的是一個無所不在的端對端(Peer-to-Peer)網路連結，這項技術具有下面幾項
優勢： 
 獨立於底層的實體層網路及通訊協定以外，它可以在電話線、電源線、乙太網路、無線網路
以及IEEE1394等各種傳輸環境下使用。 
 與系統平台無關：任何作業系統均可提供UPnP的技術服務。 
 結合開放式網路技術：它是一個建立在TCP/IP、UDP、HTTP以及XML(可延伸性標示語言)
之上的標準。 
 具可擴充性：各家廠商可視需要自行擴充協定功能與加值服務設備。 
 連接和斷開網路上的任何UPnP設備，如掃描器和印表機等，而無須配置或重新啟動電腦，設
備可利用WEB介面操控，使用者無須安裝操控程式。 
 13 
 
 
圖五、UPnP Protocol Stack 
 HTTP, HTTPU, HTTPMU [10]為目前網路重要協定之一，也是UPnP的重要核尚，藉由HTTP
服務，UPnP可以進行裝置說明文件之取得與裝備控制等動作，HTTPU(HTTP  Unicast)與
HTTPMU(HTTP Multicast)則為HTTP之變型，UPnP使用其非連接導向特性處理裝置搜尋與
事件發佈的訊息遞送。 
 Simple Service Discovery Protocol[5]，主要是讓UPnP裝置廣播自己，或是讓控制端搜尋有哪
些裝置存在的搜尋協定。透過SSDP，連上UPnP群組的裝置會多重播送（multicast）一連串
的搜尋訊息，來公告自己內嵌了哪些裝置以及 提供哪些服務，如此一來，當UPnP  控制端
收到了此通告，就可得知有新的UPnP 裝置連上了網路；同樣地，當控制端剛加入UPnP群
組時，也可以藉由SSDP協定主動丟出搜尋訊息來找尋所感興趣的裝置或是服務，當符合搜
尋要求的裝置聽到此訊息時，必須回應控制端，告知此裝置的存在。UPnP應用SSDP 找尋
網路上有需求的裝置服務。控制點啟動時，會透過 HTTPMU傳送SSDP搜尋要求，找尋網
路上可得到的設備服務，控制點也可縮小 範圍指定找尋一個設備或特定類的設備。而UPnP
設備只要在接受到控制點搜尋 要求，隨即檢查搜尋條件是否相符合，如果結果相符，則透
過HTTPU回傳SDDP至控制點。此外，當UPnP設備進入UPnP網路後，也會透過HTTPU送出
SDDP至控制點，告知控制點有哪些服務項目。 
 SOAP[13]讓控制端使用UPnP裝置的服務或是查詢裝置服務的狀態。當控制端搜尋到裝置
時，會取得裝置的服務描述檔，即可得知該服務提供了那些服務動作以及那些可查詢的狀
態變數，如此一來，控制端便可利用SSDP（Simple Service Discovery Protocol）協定使用該
裝置所提供的服務或是查詢該服務目前的狀態。SOAP將XML和HTTP結合起來，大大地改
善了電腦程式在網路上互通信息的能 力，而有一個共通的交談協定。UPnP藉由HTTP執行
SOAP遠端程序呼叫遞送裝置的控制訊號、回傳結果與錯誤碼至控制點。 
 GENA（Generic Event Notification Architecture）主要是用來註冊裝置可能發生的事件，因而
可不經過人為查詢而可得知服務狀態的行為。事件為設備提供向控制點發送狀態資訊的機
制。一個控制點訂閱事件，設備則藉由向該控制點發送通告(事件消息)來訂閱。每個服務都
有一個或多個變數，當這些變數改變時，提供服務的裝置需主動通知或公告變動結果給所
有註冊的裝置。控制點採用GENA協定來訂閱某一控制裝置上特定服務的事件。XML是一
個文件標準格式能夠很容易地讓人去閱讀，同時又很容易讓電腦程式去辨識的語言格式和
語法。UPnP使用XML作為設備描述文件、服務描述文件、控制訊息與事件服務訊息。 
當UPNP裝置加入網路時，會使用廣播，告知有新的裝置加入， 同理當UPNP 控制點加入時，
會搜尋符合需求之設備。Discovery所採用的協定架構如所示，整個發現過程中採用的通訊協定為
SSDP。SSDP提供了兩種發現機制：裝置可藉由多點廣播發佈其服務，控制點可藉由多點廣播搜索服
 15 
 
 
圖六  UPnP 運作程序堆疊 
 
圖七、UPnP Interaction 
 
 
圖八、Interaction Between Devices and Control Device 
 
 17 
 
隨地存取，而不用考慮煩人的資料轉換問題，數位家庭的概念就會更實際地規劃相關應用的實體環境，
而非像資訊家電般規劃一些乏人問津的應用（如電冰箱上網），預料此波數位家庭來勢洶洶，影響廠商
的層面頗大，主要推動數位家庭的組織與相關的數位家庭技術與概念。 
「數位生活網路聯盟(DLNA)」[17]的前身—數位家庭工作聯盟(DHWG)由橫跨資訊、消費性電子、
通訊系統與半導體廠商所組成的 17 家廠商包括 Fujitsu、Gateway、HP、Intel、IBM、SHARP、Samsung、
Philips、Nokia、NEC、Microsoft、Matsushita、Kenwood、SONY、Thomson、Renesas 與 Lenovo 等等
大廠所組成的組織，於 2003 年 6 月底正式成立。由組成的成員就可以清楚地看出數位家庭工作聯盟
想要涵蓋的產品應用領域，將會是包括了主要的數位內容相關廠商，如手機廠、電腦系統廠、數位家
電廠等等，對於各種不同的消費電子裝置與顯示裝置間的資料共享、檔案格式相容性、檔案傳輸安全
性等等複雜的問題，都是數位家庭工作聯盟的工作目摽。數位家庭工作聯盟在數位媒體格式上，採取
簡化的格式規範，多半利用現有的多媒體格式構成，如影像方面要求支援 JPEG 與 PNG，將 GIF 與
TIFF 列為選擇的項目;在音訊格式方面，採用以 LPCM 為主要格式，以兼顧音訊的高品質要求，將其
它壓縮率較高的音樂格式如 AAC、AC-3、ATRAC3＋、MP3 與 WMA9 列為選擇的格式;在視訊方面，
數位家庭工作聯盟採取了 MPEG2 為主要的視訊技術，將 MPEG1、MPEG4 與 WMA9 列為選擇的視
訊規格。 
在數位家庭的網路傳輸環境，數位家庭工作聯盟同樣採用了許多現行的無線傳輸標準，如
802.11a/b/g/e/i，在網路的傳輸標準，2006 年後將會以 IPv6 為主要的傳輸標準，至於數位版權管理(DRM)
將會是主要的作規範之一，數位家庭工作聯盟將持續加入新的網際網路通訊協定，以確保新的技術規
格是在開放性的規格下，達到互通性的最終目標。關於數位生活網路聯盟(DLNA)數位生活網路聯盟
(DLNA:Digital Living Network Alliance)的成立是延伸 DHWG 的精神，希望能夠在開放的標準下，建置
一個家用的網路交換環境，來讓各式各樣的裝置能夠自在地交換資訊;數位生活網路聯盟希望能夠提供
一個最基本的媒體格式標準，來確保各個裝置在交換媒體訊息時，不致因為媒體格式問題而無法交換。
同時希望透過聯盟的認證機制，來加速推動數位生活的概念，讓相費者能更接受數位生活的概念。 
以一個 DLNA 所提出的典型應用環境而言，同時要接家中大部分的電子裝置連結起來，成為一個
整合性的使用環境，包括了家用電腦伺服器、筆記型電腦、數位相機、數位錄影機、數位電視、數位
投影機、LCD 螢幕、手機、MP3 播放器、家用音響等等數位影音裝置連結起來，成為一個單一的使用
環境;同時注意到的是 DLNA 同樣著重在數位影音裝置的連結，透過數位影音媒體格式的定義與網路
標準的規範，來達到數位生活的目的。 
DLNA 將主要的家用數位環境分為四大功能：包括 
一、寬頻網路：如電子商務、寬頻接取等等 
二、媒體中心：包括了所有預錄的媒體如數位相機、數位錄影機等等，透過家用電腦或直接連上
家庭內網路來分享數位影音資料。 
三、寬頻廣播：包含了數位電視（接收器）、數位光碟機、LCD 螢幕、家庭劇院組與投影器等等
家用的顯示裝置，在這一大項的裝置，主要提供所有的家用裝置可以輕鬆地透過家庭網路，
將數位影音內容由這些顯示裝置或家庭劇院組播出。 
四、行動多媒體：數位家庭考量了手持式裝置的盛行，手機、MP3 Player 等等隨身的手持式裝置
將會是家庭網路中的要角，因此必須考量如何與這些常見的隨身系統作更有效率的連結。 
DLNA 在整個數位生活網路的規劃是繞著數位內容如何分享來思考的，由 DLNA 的數位內容分享
架構可以看出：分為五像主要的議題，包括了數位媒體的格式，如影像格式、音訊格式與視訊格式的
 19 
 
測、家電自動化控制、個人醫療、工業廠房監控、商務大樓自動化、保全監控等等。 
在標準規範制訂方面，主要是 IEEE802.15.4 小組與 ZigBeeAlliance 兩個組織，兩者分別制訂負責
制訂媒體存取控制層(MAC)與實體層(PHY)規範與網路層（ＮＷＬ）、應用層（ＡＰＬ）和安全層（Ｓ
ＥＣ）軟體標準，兩者角色與分工就如同 IEEE802.11 小組與 Wi-Fi 之關係。在 IEEE802.15.4 方面，2000
年 12 月 IEEE 成立了 802.15.4 小組，在 2003 年 5 月通過 802.15.4 標準，2006 年 802.15.4 任務小組制
訂了 802.15.4b 標準，此標準主要是加強 802.15 .4 標準，包括有解決標準疑義之處、降低複雜度、提
高彈性並思考新的頻段分配等。 
而在 ZigBee 聯盟方面，ZigBee 聯盟是在 2002 年 10 月由 Honeywell、Mitsubishi、Motorola、Philips
與 Invensys 共同成立，ZigBee 聯盟負責制訂網路層、安全管理、應用介面規範，其次亦肩負互通測試，
在 2004 年第四季推出第 1.0 版規範(Version1.0)。  2006 年底發布了 ZigBee 規範(Version1.0)的修訂版，
對組設備、設備維護、目標組播、無線編程等四個方面做了增修，同時定於 2007 年發布新一版的規範。  
在實體層（Physical；PHY）方面，802.15.4 工作頻率分為 2.4GHz、915MHz 和 868MHz 三種，分
別提供 250Kbps、40Kbps 和 20Kbps 傳輸速率，其傳輸範圍介於 10 到 100 公尺之間，一般是 30 公尺。 
由於 ZigBee 使用的是 2.4GHz、915MHz 和 868MHz 頻段，這些頻段因是免費開放使用，故已有多種無
線通訊技術使用，因此 ZigBee 為避免被干擾，故在各個頻段皆是採用直接序列展頻（ DSSS）技術，
以化整為零方式，將一個信號分為多個信號，再經由編碼方式傳送信號避免干擾。 這三者不同的頻段，
在調變技術方面，雖都是採取相位調變技術但仍有所差異，2.4GHz 採用較高端的 QPSK 調變技術以達
到 250Kbps 的速率，並降低工作週期，以減少功率消耗。 而在 915MHz 和 868MHz 方面，則是用 BPSK
的調變技術。 相較於 2.4GHz 頻段，900MHz 頻段為低頻的頻段，故無線傳播的損失較低，使其傳輸
距離較長，其次此頻段過去主要是室內無線電話使用的頻段，不過現在因室內無線電話轉移到
2.4GHz，干擾反而較少。  
而在媒體存取控制（MediaAccessControl；MAC）層方面，主要是沿用 WLAN 中 802.11 系列標準
的 CSMA/CA 方式，以提高系統相容性，所謂的 CSMA/CA 是在傳輸之前，會先檢查通道是否有資料
傳輸，若通道無資料傳輸，則開始進行資料傳輸動作，若是產生碰撞，則稍後重新再傳。 IEEE 802.15.4
技術標準，目的在為低能耗的簡單設備，提供短距離的低速連接，它根據 OSI 參考模型定義了單一的
MAC 層和多種的實體層，擁有易於安裝、可靠的資料傳送、短距離的資料傳輸、非常低的花費及合理
的電力持久性等幾個最主要的優點。 
綜合以上實體層與 MAC 層的標準，802.15.4 的一些特性如下： 
(1) 使用頻帶為 2.4GHz及 868/915MHz ISM頻段，採用DSSS(Direct Sequence Spread Spectrum) 
展頻通訊。在 2.4 GHz 頻帶提供 16 個頻道、915 MHz 頻帶提供 10 個頻道、868 MHz 頻
帶提供 1 個頻道。 
(2) 2.4GHz 的頻段提供 250kbps 的傳輸速率，868MHz 的傳輸速率為 20kbps，916MHz 是
40kbps。 
(3) 其拓樸形式提供星狀與點對點兩種。 
(4) 其擁有 16 bits 或 64 bits 兩種位址模式，可供省電使用。 
(5) 其擁有 guaranteed time slots(GTSs) 的能力，GTSs 主要是保證傳輸的頻寬，可以使得此
設備擁有 real time communication 的能力。 
(6) 在頻道的存取方面，其使用 Carrier sense multiple access with collision avoidance(CSMA/CA)
方式避免碰撞。 
(7) 提供 acknowledged 的機制，使得資料傳輸更可靠。 
(8) 提供 Energy detection(ED)的功能，選擇一個環境較好的頻道傳輸資料。提供 Linkquality 
 21 
 
最主要是用來操作 radio frequency (RF) transceiver 以及實現一些低階的控制機制。MAC 層主要的功能
則是解析從 PHY 層所送上來的資料來判斷做何相對應的動作，以及使用 PHY 層提供的控制機制去控
制 RF transceiver，其架構如下圖所示： 
 
 
圖十三、IEEE 802.15.4 架構示意圖 
 
 
PHY 層提供兩種服務介面，包括專為資料傳輸所提供的 Physical layer data service access point 
(PD-SAP)服務介面，其工作是透過 RF 來傳送或接收 Physical Protocol Data Units (PPDUs)封包；以及
管理服務介面 Physical layer management entity service point (PLME-SAP)。另外還有一個專門儲存 PHY 
層屬性的一個資料庫，稱為 PHY PAN information base (PIB)。 
MAC 層 同 樣 也 提 供 兩 種 服 務 介 面 ， 包 括 MAC common part sublayer service access 
point(MCPS-SAP)，其主要功能是連接 PHY 層的 PD-SAP 將其所傳上來的 Mac Protocol Data 
Units(MPDU) 再做進一步的處理，以便傳送給上層通訊協定，或反向操作。另一個服務介面為 MAC 
layer management entity service access point (MLME-SAP)，負責提供上層管理整個 PAN 的一些管理機
制。另外 MAC 層也提供一個儲存 MAC 屬性的一個資料庫，稱為 MAC PIB。 
而 ZigBee 是基於 IEEE 802.15.4 無線標準開發的網路層和 API 協定，規範 Network 層以上的架構。
每一個單一子網路可藉由協調器連接多達 255 個節點，多個協調器可形成一個網路大型網路架構，透
過 Ad hoc 路由協定連接更多的節點。它提供了網路層拓撲結構的建構和維護、定址、路由和關聯服務
等，能自我組織、維護，更是同 IEEE802.15.4 標準一樣，非常省電。由於協定堆疊的簡單化，一般而
言，子節點只需搭配 8 位處理器及 32kbytes 的即可運作，利用它來搭配電子紙，將同時具有低功耗及
低成本的特性。 
ZigBee 所規定的架構主要有 Network(NWK)層、Application 層(APL)兩層，而在 APL 中又定義有
三個部分。第一部分， ZigBee Device Object(ZDO)，主要是掌管其下的 device 為何種型態的裝置，如
Coordinator、End Device 或 Router 等型態。第二部分，Application Support Sublayer(APS) ， 主要是傳
輸 Data 的管理以及 security 的運作另外還有透過 ZDO 來做 Binding 與 Discovery 的動作。第三部分，
則為管理 AP 層物件的 Application Framework。其架構如下圖所示： 
 23 
 
 低成本 
ZigBee 傳輸速度低，架構單純，且 ZigBee 通道化的規則較簡單、不跳頻、使用單一收發頻率，
在協議堆疊方面僅有 26 個協定元（Protocol Primitives），相較之下，藍芽則有 131 個，因此在軟
硬體設計上的成本得以降低。 
 優秀的抗干擾能力  
 網路容量大 
而在無線傳輸感測網路中，可以有將近 6 萬 5000 多個 ZigBee 設備存在，比起 BlueTooth 的 8 個，
或是 BlueTooth Lite 的 256 個，在擴展性上可以說是高了不少。 
 工作頻段靈活 
ZigBee 所使用的頻段依照國家開放的情況的不同，分別為 2.4GHz、868MHz（歐洲）以及 915MHz
（美國），這些頻段皆屬於免執照頻段，不過依照頻段的不同，在傳輸速度以及距離上也有所差
異，在 868MHz 頻段的傳輸速率為 20kbit/s，距離可達 300 公尺，而在 915MHz 頻段時，傳輸速
率為 40kbit/s，傳輸距離為 30∼75 公尺，至於在全球通用的 2.4GHz 頻段方面，傳輸速率 250kbit/s
時，傳輸距離約 10 公尺，如果將速度降到 28kbit/s，則可達到約 134 公尺的傳輸距離。 
 安全性 
ZigBee 提供了資料完整性檢查和權限區分功能，硬體本身支援 CRC 和 AES-128 編碼。因此可以
應用在具有高規格安全性需求的環境中。 
 機動網路組態 
ZigBee 所架構的 WSN 網路是能夠隨狀況變化的，節點在取得授權之後才能進入網路，相對的，
系統管理者也可以隨時將某個節點切離網路，在管理方面具備了相當強大的功能。 
 
RFID 目前之研究現況： 
無線射頻識別系統（Radio Frequency Identification, RFID）被視為本世紀最重要的前十大技術
，雖然此技術存在已久，但直到 2003 年 Wal-Mart 要求其百大供應商於 2005 年底前，必須全面將
商品貼上 RFID 電子標籤，一場 RFID 的風暴才就此展開。據 Wal-Mart 內部評估，當 RFID 產銷鏈
被建立起來後，Wal-Mart 在 1 年內省下的成本將高達 83.5 億美元，而根據國外研究單位 SROC-B1
的估計，2008 年全球 RFID 直接產值將高達 30 億美元、間接產值更高達 90 億以上，因此有人以「
二次 IT 革命」來形容此技術的潛能及發展性，可創造出無限的商機。RFID 藉由無線電波通訊的方
式，具有大範圍的讀取特性，不再需要額外的時間浪費人力資源在一件件物品的清點與核對，資訊
可以快速的整合，物品的訊息在不知不覺中就已傳送到後端的主控台進行處理，且透過 RFID Reader
與 RFID Tag 彼此的訊息傳遞，經由 RFID Middleware 的分析，以及後端應用程式與資料庫的比對，
可以快速的比對物品資訊的正確性，提供物品的追蹤與管理，這對於大量的物品流通有很大的效率
改善。 
無線射頻識別（Radio Frequency Identification, RFID）技術正符合基於現代 供應鏈應具備
的要求---速度化、自動化、高效能、高安全性與靈活性。RFID 提供了強大的辨識，以無線的方式
透過讀取器自動讀取電子標籤的內容，可以減少人工手動操作的錯誤，確保品質並降低成本，提
供即時資料。然而，『隨需應變（On Demand）』是現今企業重要的核心價值，建立一個快速應
變、彈性十足、反應敏銳的流程。RFID 不同於現在的通用的條碼(barcode)掃描技術，必須在視線
範圍內由人工操作，不易取得最新資料；當 RFID 配合上能真正發揮價值的營運流程時，即可利
 25 
 
相關整合應用包含汽車服務管理、生產自動化管控、航空行李監控、倉儲管理、運輸監控、保全
管制、圖書管理，以及醫療管理等。因此，政府正積極的應用無線射頻識別系統於各產業在供應
鏈與電子商務的技術發展上。在選擇 RFID 類別時，除了相關規格與標準外，考量工作環境對於訊
號傳遞距離、準確性及方向性等影響。RFID 標籤內所要儲存的空間也要經過規劃，需涵蓋各部門
的需求，並且由於其安全機制較弱，應避免寫入機密性或爭議性資料。因 RFID 的訊息皆是透過無
線的方式傳遞，所以有心人士比較容易侵入取得。舉例來說，有可能企業的倉儲系統是 RFID 最普
遍的應用，有心人若持續搜尋公司的倉儲訊號，並加以分析，便有可能知道公司的銷售情況，暢
銷的產品項目，並瞭解公司的營運狀況。此外，RFID 和貨品結合的方式、標籤讀取的方向，以及
後續回收問題等，都需要依據企業作業環境不同，而選用適當的系統以達成預期效果，降低不必
要的困擾。在選擇 RFID 類別時，除了要考量軟硬體系統的整合，也應該包括後續與流程的配合。
舉例來說，RFID 的規格會影響流程，其指向性可能增加處理步驟，因而需要增設讀取器以補足方
向性的限制。再者，系統設計時可能需要隔離讀取器以避免訊號重覆被讀取。若是在廣闊的空間
裝置短距離的 RFID，會造成讀取器密度太大，相對地，在狹小的環境裝設長距離的 RFID，則可
能會有資料外洩的危險。標準與規格的選擇也要考量整體供應鏈的相容性與共通性，供應鏈中的
所有廠商若有共識，能發展出整合供應流程的系統，則可以降低單獨建置的成本。在選擇標籤記
憶空間時，也要避免陷入越大越好的迷思，有時攜帶階段性的資料比詳細歷程資料更重要，由於
大量使用 RFID 技術進行自動化處理，企業可能迅速面臨內部的資訊量暴增的超載問題，事實上不
必要的大量資料對企業並沒有好處，反而會造成額外的負擔，對於主動式或被動式標籤的選擇，
若是在流程中需要計時、定時，則可以挑選主動式規格；相對地，如果需要長期傳送訊號，則可
以選擇被動式標籤，可以節省電源，增長元件的壽命。RFID 的應用策略會隨著產業特性不同而不
同，甚至在同一個產業下，每一家業者的營運模式不同，也會影響 RFID 實作的型式以及效益。
而且 RFID 有許多不同的技術規格與標準，不同的應用必須使用不同的系統，或是透過客製化來迎
合企業的需求，以求達到 RFID 導入的最大利益。 
以下我們將更深入地詳述實現無線射頻識別網路的關鍵要素： 
 電子產品碼 
  Auto-ID 中心已經提出了一種新的電子產品碼（EPC），作為識別產品的下一代標準。我們的
目標不是要取代現有的條碼標準，而是要發展條碼與電子產品碼的轉換機制。標準的 EPC 資料格
式包含一個 EPC ( 或 EPC 識別碼)，唯一地識別個別的物件；此外，若判斷必須有效且有效率地
讀取 EPC 標籤，格式中也有可能包含可選擇的「篩選器值」。在 RFID 標籤中編碼的 EPC 可識
別製造商、產品、版本和序號，並且也提供一組額外的數字來識別唯一的項目。標準 EPC 資料欄
位的主要部分是 EPC 識別碼，可唯一地識別一個物件。EPC ID 中的可選擇 [ 篩選器值] 欄位，
可補充基本的 EPC 標籤讀取。對於各種應用程式或產業，EPC 版本 1.1 標準可指定編碼方案如圖
十六所示。因此，我們將遵循 Auto-ID 中心所提出的 EPC 標準碼格式中的全球貿易編碼(SGTIN)的
基本構架，結合 All-IP 技術，取得唯一識別條碼作為追蹤、管理與識別之用。 
 
 
 
 27 
 
但缺點為電源的消耗快且穿透性差。許多人都知道無線電波能被水吸收，被金屬扭曲，這使得 RFID
在追蹤富含水分和金屬容器包裝的產品時顯得無用武之地。這一情況確實使得追蹤金屬產品或富含
水分的產品成為一個大問題，因此，在本計劃中我們針對不同的使用環境，採取不同系統設計方法
和工程來克服 RFID 的這些缺點。我們的方法不限制企業或用戶使用僅有一個頻率系統。我們的目
標就是建立一個系統，在這個系統當中，任何標籤只要其中包含電子產品碼，用我們已經建立的基
本的交流標準進行交流，它就能用來識別一個產品。 
 
 避免解讀器衝突 
  利用 RFID Reader 遇到的一個問題就是，從一個解讀器發出的信號可能與另一個覆蓋範圍重
疊的解讀器發出的信號互相干擾。這種現象叫做解讀器衝突，Auto-ID 中心利用一種叫做時分多路
訪問(TDMA)的機製來避免衝突。簡而言之，就是解讀器被指示在不同時段讀取訊息，而不是在同
一時刻都試圖讀取訊息，這保證了他們不會互相干擾。但是這意味著處與兩個解讀器重疊區域的任
何一個RFID標籤都將被讀取兩次訊息，因此我們在子計劃一所屬元件 Infrastructure Management 中
欲開發出了一套刪除冗餘訊息（Message Filter）的機制。 
 
 避免標籤衝突 
  另一個解讀器遇到的問題就是在同一範圍內要讀取許多晶片的訊息，當在同一時刻超過一個
晶片向解讀器返回信號，這樣標籤衝突就發生了，它使解讀器不能清晰判斷訊息。Auto-ID 中心已
經採用了一個標準化的方法來解決這個問題。解讀器只要求第一位數符合它所要求的數字的標籤回
應解讀器。從本質上來講，就是，解讀器提出要求:“電子產品碼以 0 開頭的標籤回應解讀器。”如果
超過一個標籤回應，則解讀器繼續要求:“電子產品碼以 00 開頭的標籤回應解讀器。”這樣操作直到
僅有一個標籤回應為止。這一過程非常迅速，一個解讀器在 1 秒之內可以讀取 50 個標籤的訊息。因
此我們在子計劃一中建構標準化解決方法來處理標籤衝突。 
 
 讀取距離 
  讀取訊息的距離取決於解讀器的能量和解讀器與標籤用來交流的頻率。通常來講，高頻率的
標籤有更大的讀取距離，但是他們需要解讀器輸出的電磁波的能量更大。一個典型的低頻標籤必須
在零點三公尺內讀取，而一個 UHF 標籤可以在 10 到 30 公尺的距離內被讀取。在某些應用情況下，
讀取距離是一個需要考慮的關鍵問題，例如當列車車廂下軌道時辨別他們就需要較長的讀取距離。
但是較長的讀取距離並不一定就是優點，如果你在一個足球場那麼大的倉庫裡有兩個解讀器，你也
許知道有哪些存貨，但是解讀器不能幫你確定某一個產品的具體位置。對於供應鏈來講，最好有一
個網路型的許多解讀器在倉庫中，它們能夠準確地查明一個標籤的確切所在地點。因為，我們的方
法不限制企業或用戶使用僅有一個頻率系統。因此，在 FIRD Reader 的部署上，我們欲發展出一套
完善的機制來改進因讀取距離限制所造成的缺陷。 
 
 SAVANT （Middleware） 
  如果世界上每個物品都有一個 RFID 標籤，那麼解讀器會收集到連續不斷的電子產品碼的訊
息，如何管理和傳送所有這些數據是一個難題，並且為了使全球性的 RFID 網路更有用，這個困難
必須被克服。Auto-ID 中心已經設計了一個軟體技術稱之為 Savant 的 Middleware，它將作為整個網
 29 
 
 解讀器協調 
  如果從兩個有重疊區域的解讀器或的信號，它們可能讀取了同一個標籤的訊息，產生了相同
且多餘的電子產品碼。Savant 的一個任務就是分析讀取的訊息並且刪掉這些冗餘的產品編碼
。 
 數據傳送 
在每一層次上，Savant 系統必須要決定什麼樣的訊息需要在供應鏈上上傳或向下傳遞。例如
，在冷藏工廠的 Savant 系統可能只需要傳送它所儲存商品的溫度訊息就可以了。 
 數據存儲 
現有的數據庫不能在一秒鐘內處理超過幾百條事務，因此 Savant 系統的另一個任務就是維護
實時存儲事件數據庫(RIED)。本質上來講，系統將取得實時產生的電子產品碼並且智能地將
數據存儲，以便其他企業管理應用程式有權限訪問這些訊息，並且保證數據庫不會超負荷運
轉。 
 任務管理 
無論 Savant 系統在層次架構中所處的等級是什麼，所有的 Savant 系統都有一套獨具特色的任
務管理系統(TMS)，這個系統使得他們可以實現用戶自定義的任務進行數據管理和數據監控
。例如，一個商店中的 Savant 系統可能透過編寫程式實現一些功能，當貨架上的產品降低到
一定水準時，會給儲藏室管理員發出警報。 
 對象名稱服務 
Auto-ID 中心對於一個開放式的，全球性的追蹤物品的網路的構想需要一些特殊的網路架構
。因為只將電子產品碼存儲在了標籤中，計算機還需要一些將電子產品碼匹配到相應商品訊
息的方法。這個角色就由 ONS 擔當，它是一個自動的網路服務系統，其運行原理類似於 DNS
。當一個解讀器讀取一個 RFID 標籤的訊息時，電子產品碼就傳遞給了 Savant 系統。Savant
系統然後再在 Local 或 Global 上利用 ONS 找到這個產品訊息所存儲的位置。對象名稱服務
給 Savant 系統指明了一個伺服器、關於這個產品的文件存儲在這台伺服器上。接著這個文件
就能夠在 Savant 系統中找到，並且在這個文件中關於這個產品的訊息將會被傳遞給公司的庫
存和供應鏈的應用。 
 特殊要求 
對象名稱服務將處理比 Internet 上的網域解析服務更多的請求，因此，公司需要在 Local 中
有一台 ONS 伺服器，它存取訊息速度比較快。因此一個計算機生產商可能將他現下的供應商
的 ONS 數據存儲在自己的 Local 中，而不是每次一批貨物到達組裝工廠，都需要到 Internet
上去尋找這個產品的訊息。這個系統也會有內部的維護機制。例如，當一個包含某種產品訊
息的伺服器崩潰了，ONS 將能夠引導 Savant 系統找到另一台伺服器，同樣存儲著這種產品的
訊息。 
 物理標示語言 Physical Markup Language (PML) 
  電子產品碼識別單個的產品，但是所有關於產品有用的訊息都用一種新型的標準的計算機語
言物理標示語言(PML)所書寫，PML 是基於為人們廣為接受的 XML 發展而來的。因為它將會成為
描述所有自然物體、過程和環境的統一標準，PML 的應用將會非常廣泛，並且進入到所有行業。我
們的目標就是以一種簡單的語言開始，鼓勵採用新技術。PML 隨著時間還會發展演變，就像 Internet
的基本語言 HTML 一樣。 
 31 
 
 
研究方法 
在數位家庭中，我們可能有相當多的數位家電，要將這些家電作連結，並有一個機制形成網路拓
墣，將數位設備的狀態、可使用性等等的資訊傳送給使用者，ZigBee 將是一個很好的解決方案。另外，
家中可能也有許多主動式RFID 標籤，例如溫度感測、空氣品質感測，若是將這些RFID 標籤與ZigBee
作結合，將可有效的收集與連結所有的RFID 標籤資訊。在Zigbee 設備部分，主要有三種不同功能的
節點， 包括Zigbeegateway 、Reference node 、Blindnode，如圖一所示為Zigbee gateway，具備小型點
陣型圖形液晶顯示器，可供程式資訊輸出，以及蜂鳴器、溫度感測器，用戶端I/O，以及長距天線。Zigbee 
Gateway 是Client PC or Client Server 與Reference Node、Blind Node間的通訊橋梁，可作為Reference 
Node、Blind Node 的無線配置與除錯工具。 
 
圖十九、Zigbee Gateway 
 本子計畫第一年的研究方法與重點如下列所述： 
在無線感測網路中，要採集計算資料並與無線節點網路進行交互，必須要一些控制系統。一種典
型的控制單元將是一台電腦。因為PC 通常不會有一個嵌入式無線收發器，必須外接一個收發器。建立
一個閘道有兩種主要方法： 
1. 閘道可以是一個被動設備，只監聽網路交通 
2. 可以作為網路的一個運行部分。被動方法將主要是作為一個資料封包擷取器，閘道將只捕獲RF 資
料封包並提供該資訊給使用者。作為運行部分的方法給使用者更多的靈活性，但很難實現。閘道的功
能取決於應用。一些典型地最小功能可以是： 
 節點配置。 
 檢查網路狀態，例如有多少個節點連接上。 
 如果盲節點本身沒有設置為定期計算，請求盲節點執行計算。 
閘道本身也可以作為計算網路的一部分，即作為參考節點或盲節點。這意味著閘道在具備閘道功
能的同時還是一個參考節點或盲節點。因為所有的位置計算都是在盲節點內進行的，控制設備將不能
進行任何位置計算。Reference Node(如圖二十)的位置固定，一般使用固定供電，在空閒時接收器始終
開啟以便可以回應Blind Node 的位置請求訊息。Reference Node的座標位置是由用戶端所訂，本身
Reference Node 不會計算自身的位置座標所在，主要任務是提供包含有X 和Y 座標的參考資料包給盲
 33 
 
 
圖二十一、定位評估 
 
參考節點並不需要執行定位檢測的硬體，它根本不執行任何計算。“盲節點＂是一個用Blind Node 
建立的節點。該節點將從所有參考節點對請求的回應中搜集信號，讀出相對RSSI 值，並將其送入硬體
引擎，然後讀出計算得到的自身位置並且發送位置資訊給一個控制應用。從一個參考節點發送給一個
盲節點的資料包至少包含了參考節點的座標參數水準位置X 和垂直位置Y。RSSI 值可由接收者即盲節
點計算獲得。定位引擎的主要特性是定位計算可以由每一個盲節點執行，因此這個演算法是分散的。
這個特性減少了網路中資料傳輸的總量。 
在本計畫的系統實作上，  我們使用CC243x-Debugger(如圖二十二 )來幫助程式寫入工作，
CC243x-Debugger 是專為支援TI CC2430/CC2431 晶片上系統晶片而推出的模擬器/除錯器。可與
IAREW8051 IDE 開發環境結合，具有程式碼高速下載、線上除錯、中斷點、單步、變數觀察、暫存器
觀察等功能，實現對CC2430/CC2431 晶片上系統晶片的即時線上模擬、除錯。 
 
 
圖二十二、CC243x-Debugger 
 35 
 
由於Zigbee 節點的電量有限的情況下，因此如何在感測節點有限資源下，能以最少的耗電量將感
測資料正確的送至sink node,換句話說，要去維持一個lifetime 最長的Zigbee 網路拓墣，而不影響到資
料的傳送，是目前重要的議題。 
IEEE 802.15.4 MAC 根據Zigbee節點設備的硬體能力，  分為Full Function Device (FFD) 跟
ReduceFunction Device (RFD)。在路由演算法中擔任coordinator 的設備必須為FFD，因此Zigbee 所形成
的網路可分成star topology、tree topology、mesh topology. 
 
 
圖二十五、Network topology in ZigBee 
 
在star topology 中， 依照coordinator 與end device 的溝通方式可分為：non-beacon mode 與beacon 
mode。在non-beacon mode 下，透過non-slotted CSMA/CA 進行通訊，而在beacon mode 下，由coordinator
來對節點進行synchronization，以slotted CSMA/CA 方式進行通訊。Non-beacon mode 比起beacon mode 
來得簡單。在beacon mode 的方式下，進行RF 通訊的時間稱為active time，而關閉RF 的時間稱為
inactive time. 在active time 又可分成Contention Access Period (CAP)與Contention Free Period (CFP)。
CAP的期間，通訊的方式是以競爭的方式來取得傳送資料的許可，而CFP 則是用來給具有Qos 服務的
節點，可保留time slot 而不必競爭傳送權。 
 
 
圖二十六、slotted CSMA/CA 
 37 
 
Home 環境中，感測溫濕度可以在空調及除濕設備上的智慧型家電控制應用。 
 
圖二十九、光照度感測 
 
圖三十、溫濕度感測 
圖三十一為Zigbee node topology 的觀測介面。以Sever 模組為Root 向各個Node 蒐集資料，包括
溫濕度、照度、紅外線及電力資源狀況，Node 每十秒會周期性的向周邊Node 發出封包通知自己的存
在，以封包Hop 次數為基礎選擇自身上層的父節點，若Hop 數相同實則以RSSI(訊號強度)來挑選最佳
父節點。 
 39 
 
 
如圖三十三所示， 如果我們在slotted CSMA/CA 的模式下運作，在router node 的電量低於某一
threshold ， 必須與鄰近節點進行router swapping decision 的判斷，如圖十四router swapping decision 
algorithm ， 其中OHEvaluation(i) function 表示當進行router node 變換時，節點i 需要付出的control 
overhead的能量消耗，因此當評估後剩餘電量超過目前router node 的情況下，才進行router swapping。 
 
圖三十三、router swapping decision 
 
 41 
 
法，這是由ZigBee Alliance所提出的，主要概念為:提供三項參數輸入，輸入後即固定，分別為節點連
結的最大數量，路由節點的最大數量，網路拓樸的最大層數，由這三個參數決定拓樸終節點數量，並
會保留位址給尚未加入的節點，其中主要具有三項問題:第一未使用位址的浪費，參數決定後即固定使
用位址的數量，之後的位址由於參數的限制不能再使用。第二個問題是空間缺乏，由下圖三十五可見，
J點無法連結到任一節點加入此感測網路，因為受到參數限制，儘管可以連結到感測網路的節點，但是
因為連結到的節點已超過連結的數量，因此無法分配位址給節點J，使得其無法加入感測網路中。最後
的問題是路由路徑，由於保留位址的關係，造成某些情形下，路由並不是最短路徑需要重新計算。 
 
 
圖三十五、感測網路示意圖 
因此我們提出一演算法重新分配感測網路節點位址，演算法可分兩階段。首先，按造DAAM進行
位址分配，第一部分先計算出參數可容納的最高節點數，接著根據此節點述作為判斷門檻，第一階段
為調整參數以最佳化拓樸，第二階段是增加區段網路，增加可容納的節點數量。流程如下圖三十六。 
 
圖三十六、位址分配演算法流程 
 43 
 
結果與討論 
在數位家庭中，我們可能有相當多的數位家電，要將這些家電作連結，並有一個機制形成網路拓墣，
將數位設備的狀態、可使用性等等的資訊傳送給使用者，ZigBee將是一個很好的解決方案。另外，家中
可能也有許多主動式RFID標籤，例如溫度感測、空氣品質感測，若是將這些RFID標籤與ZigBee作結合，
將可有效的收集與連結所有的RFID標籤資訊。 
在本研究三年計畫中，建構一應用於數位家庭中之無線感測網路，提出一個適用於數位家庭環境，
可靠且有效率的節能路由演算法，以確保感測資料的正確性，另外提出一分配位址演算法加強網路效
能，提高感測網路在數位家庭中之可用性， 並於實作上將Zigbee-enabled RFID devices 加入到數位家
庭網路中， 以達到數位家庭pervasive computing。大體上而言，計畫成果符合預期進度與預期目標，
所產出的研究成果也發表於國際期刊。 
 
 
 
 
 
 45 
 
[32] Finkenzeller K., RFID Handbook: Radio-Frequency Identification Fundamentals and Applications, John 
Wiley and Sons, Jan. 2000. 
[33] EPC global TAIWAN, http://www.epcglobal.org.tw 
[34] Finkenzeller K., RFID Handbook: Radio-Frequency Identification Fundamentals and Applications, John 
Wiley and Sons, Jan. 2000. 
[35] EPC Tag Data Standards Version 1.1. Technical report, EPCGlobal Inc, April 2004. 
[36] Walmart Supplier Information: Radio Frequency Identification Usage, http://www.walmartstores.com, 
2005. 
[37] 黃君毅，指導教授：林彥君和鄭博仁，跨醫院緊急醫療救護支援系統 An Approach to Cross-Hospital 
Emergency Medical Service Support System 2004.7.26 
[38] 帝商科技股份有限公司, http://www.regalscan.com.tw/ 
[39] Y.I. Kim, J.S. Park, T.S. Cheong, "Study of RFID Middleware Framework for Ubiquitous Computing 
Environment," International Conference Advanced Communication Technology, Vol.2, pp.825-830, 
February 2005 
[40] Reader Management 1.0, 
http://www.epcglobalinc.org/standards/RM_Ratified_Standard_Dec_5_2006.pdf 
[41] Physical Makeup Language, http://web.mit.edu/mecheng/pml/ 
[42] Pedro Domingos, Pazzani Michael, “On the optimality of the simple Bayesian classifier under zero-one 
loss”, Machine Learning, vol. 29, pp.103-130, 1997. 
[43] Zengchang Qin, “Naive Bayes Classification Given Probability Estimation Trees”, The 5th International 
Conference on Machine Learning and Applications (ICMLA’06), Orlando, Florida, USA, December 
14-16, 2006. 
[44] David Luckham, “The Power of Events”, Addison Wesley, 2002. 
[45] William M. Bolstad, “Introduction to Bayesian Statistics”, Wiley, 2004. 
[46] Mobicon 2002 Tutorial Wireless Sensor Networks, http://nesl.ee.ucla.edu/tutorials/mobicom02 
[47] Lewis F., “Wireless Sensor Networks,” in Smart Environment: Technologies, Protocols, and Applications, 
D, J. Cook and S. K. Das, Ed. John Wiley, 2004, New York 
[48] Li-Hsing Yen, Wei-Ting Tsai, “The room shortage problem of tree-based ZigBee/IEEE 802.15.4 wireless 
networks,” Computer Communications, March, 2010 
[49] T.-W. Song and C.-S. Yang, “A Connectivity Improving Mechanism for ZigBee Wireless Sensor 
Networks,” IEEE/IFIP International Conference on Embedded and Ubiquitous Computing, 2008. 
 47 
 
國科會補助專題研究計畫成果報告自評表 
請就研究內容與原計畫相符程度、達成預期目標情況、研究成果之學術或應用價
值（簡要敘述成果所代表之意義、價值、影響或進一步發展之可能性）、是否適
合在學術期刊發表或申請專利、主要發現或其他有關價值等，作一綜合評估。
1. 請就研究內容與原計畫相符程度、達成預期目標情況作一綜合評估 
■ 達成目標 
□ 未達成目標（請說明，以 100 字為限） 
□ 實驗失敗 
□ 因故實驗中斷 
□ 其他原因 
說明： 
絕大部分達成預計目標 
 
 
2. 研究成果在學術期刊發表或申請專利等情形： 
論文：■已發表 □未發表之文稿□撰寫中 □無 
專利：□已獲得 □申請中 □無 
技轉：□已技轉 □洽談中 □無 
其他：（以 100 字為限） 
 
 
 
3. 請依學術成就、技術創新、社會影響等方面，評估研究成果之學術或應用價
值（簡要敘述成果所代表之意義、價值、影響或進一步發展之可能性）（以
500 字為限） 
建構之應用於數位家庭中之無線感測網路，可應用於數位家庭的各項技術，同時提出適用
於數位家庭環境，可靠且有效率的節能路由演算法，以確保感測資料的正確性，對於無線
感測網路之學術研究有所幫助。另外提出分配位址演算法加強網路效能，提高感測網路在
數位家庭中之可用性。 
 
 
97 年度專題研究計畫研究成果彙整表 
計畫主持人：張瑞雄 計畫編號：97-2221-E-259-014-MY3 
計畫名稱：RFID 數位家庭網路技術與應用之整合及個人化服務平台之建置--子計畫三:數位家庭之
ZigBee RFID/UPnP 整合閘道器技術研究 
量化 
成果項目 實際已達成
數（被接受
或已發表）
預期總達成
數(含實際已
達成數) 
本計畫實
際貢獻百
分比 
單位 
備 註 （ 質 化 說
明：如數個計畫
共同成果、成果
列 為 該 期 刊 之
封 面 故 事 ...
等） 
期刊論文 0 0 100%  
研究報告/技術報告 0 0 100%  
研討會論文 0 0 100% 
篇 
 
論文著作 
專書 0 0 100%   
申請中件數 0 0 100%  專利 已獲得件數 0 0 100% 件  
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 0 0 100%  
博士生 0 0 100%  
博士後研究員 0 0 100%  
國內 
參與計畫人力 
（本國籍） 
專任助理 0 0 100% 
人次 
 
期刊論文 2 2 100%  
研究報告/技術報告 0 0 100%  
研討會論文 0 0 100% 
篇 
 
論文著作 
專書 0 0 100% 章/本  
申請中件數 0 0 100%  專利 已獲得件數 0 0 100% 件  
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 4 4 100%  
博士生 2 2 100%  
博士後研究員 0 0 100%  
國外 
參與計畫人力 
（外國籍） 
專任助理 0 0 100% 
人次 
 
