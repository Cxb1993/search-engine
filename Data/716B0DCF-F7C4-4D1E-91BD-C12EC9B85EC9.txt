光叢集交換環、波長分配、訊務控制 
英 文 摘 要 ：  
英文關鍵詞：  
 
  
■ 中、英文摘要及關鍵詞(keywords)：（此部分的頁碼編寫請用羅馬字 I 、II、 III…標在
每頁下方中央） 
■ 目錄：（此部分的頁碼編寫請用羅馬字 I 、II、 III…標在每頁下方中央） 
■ 報告內容：（「報告內容」至「附錄」部分請以阿拉伯數字 1.2.3.…順序標在每頁下方中
央） 
●計畫緣由及目的 
●研究方法 
●結果與討論：含結論與建議 
●參考文獻 
※若該計畫已有論文發表者，可以 A4 紙影印，作為成果報告內容或附錄，並請註明發
表刊物名稱、卷期及出版日期。 
※若有與執行本計畫相關之著作、專利、技術報告、或學生畢業論文等，請在參考文獻
內註明之，俾可供進一步查考。 
 
■ 計畫成果自評：請就研究內容與原計畫相符程度、達成預期目標情況、研究成果之學術
或應用價值、是否適合在學術期刊發表或申請專利、主要發現或其他有關價值等，作一
綜合評估。 
■ 可供推廣之研發成果資料表：凡研究性質屬應用研究及技術發展之計畫，請依國科會提
供之表格，每項研發成果填寫一份。 
■ 附錄（或附件） 
  
計畫中文摘要 
高速都會區域網路中的彈性分封環(Resilient Packet Ring)中訊務控制所需考
慮的議題主要希望可以達到公平性的頻寬分配並且可以快速穩定各訊務流。我們
提出一個高效能乏晰公平流速產生器(fuzzy local fairRate generator, FLAG)，藉著
乏晰運作機制產生一個準確的本地公平流速來抑制壅塞情況並且達成上述考
量。所提出的機制，是由三個部份所組成，適應性公平流速計算器(adaptive 
fairRate calculator, AFC)、乏晰壅塞偵測器(fuzzy congestion detector, FCD)、與乏
晰公平流速計算器(fuzzy fairRate generator, FFG)。適應性公平流速計算器產生一
個評估過的公平流速而乏晰壅塞偵測器根據次級傳輸緩衝器(STQ)的容納量與接
收到的流量大小來指出當前的壅塞程度。乏晰公平流速計算器經由考量兩項由適
應性公平流速計算器與乏晰壅塞偵測器輸出的結果來得到反映真實流量狀況的
本地公平流速。藉由適應性公平流速計算器與乏晰壅塞偵測器的使用，乏晰公平
流速產生器可產生較小的收斂時間，再者當與其它演算法相比，在不同大小的壅
塞區域中皆獲得極好的效果。 
基於頻寬的需求，以及服務更廣大的區域，多個彈性分封環可橋接成一個
跨環式彈性分封環網路 BRPR(Bridged RPR)。但是該橋接式網路第一個需要考慮
的就是路由控制問題。在此環境中，我們基於載量均衡原則(the load balancing 
principle)提出一個智慧型跨環路由控制法。該智慧型跨環路由控制法不只同時考
慮橋接器以及下游擷點雍塞的情況並且同時考量橋接器的服務速率以及訊務終
點站與橋接器的距離。 
此外，在光叢集交換(Optical Burst Switching)環中，頻寬利用率、公平性、
和穩定性都是很重要的議題。我們提出了一個波長分配與訊務控制(WATC)的方
案來達成上述的考量。系統採用了預約的機制來避免時槽式系統中資料的碰撞，
而且為了減少光電之間的轉換，每個節點中都沒有過境緩衝器。首先，排程器會
依據入口緩衝器中佇列的權重來分配頻寬，然後由波長分配器(WA)決定適合的
位置。波長分配器會適時地調整將要產生的資料叢集的大小，藉此有效利用空隙
並提升頻寬利用率。另一方面，為了減輕一個下游節點可能遭受到頻寬挨餓的問
題，一個乏晰保護性預約產生器(FPRG)會參考過境訊務的情況，動態地預留一
些頻寬給入境的聲音與影像訊務。然後，公平流速產生器(FRG)再根據剩餘的頻
寬產生一個評估過的公平流速，並由訊務控制器(TC)決定出最終宣傳的公平流速
來規範上游的節點。 
 
關鍵詞：彈性分封環、跨環式彈性分封環網路、公平性、服務品質、光叢集交換
環、波長分配、訊務控制 
  - III -
is applied, the convergence time is reduced.  
 
Keywords： Resilient packet ring, Bridged resilient packet ring, Fairness, Optical 
burst switching ring, Wavelength assignment, Traffic control 
 
 1 
I. Introduction and Motivation 
In development of the Internet, the technology of the wavelength division 
multiplexing (WDM) has impacted the designment and realization of the next 
gerneration network. From the piont-to-point transport technology, the next 
generation network can be mainly divided into two types: long haul backbone (core) 
network and the metropolitan area networks (MAN). For the first network type, long 
haul backbone (core) network, the main challenge is how to keep data in the optical 
domain as much as possible. For the second network type, how to support the QoS, 
allocate bandwidth based on fairness, and avoid or solve congestion are the main 
problems. 
Several approaches have proposed to take advantage of optical communication to 
develop the long haul backbone (core) network. Three of these approaches are the 
Optical Circuit Switching (OCS), the Optical Packet Switching (OPS), and the 
Optical Burst Switching (OBS) [1]-[6]. The main attraction of optical switching is 
that it should enable routing of optical data signals without the need for conversion to 
electrical signals and, therefore, should be independent of data rate and data protocol. 
Also, the three optical switchings could promise for the gradual migration of the 
switching functions from electronics to optics. While OCS provides bandwidth at a 
granularity of a wavelength, OPS can offer an almost arbitrary fine granularity, 
comparable to currently applied electrical packet switching, and OBS lies between 
them. 
The ring network with the natural advantage, such as simple archtechure, easily 
adding or removing nodes, the fault tolerance property, and the needless routing 
property, is the prevalent topology used in metropolitan area networks (MANs). The 
resilient packet ring (RPR) is a dual-ring-based optical packet network, as shown in 
Fig. 1.1, and has been recently approved as the IEEE 802.17 Standard [7]. The 
resilient packet ring (RPR) is constructed by several pairs of two unidirectional links 
between stations. The RPR can provide guaranteed quality of service parameters and 
support service monitoring including performance management and fault management 
[7, 8]. Besides, the RPR has some noticeable properties such as spatial reuse, fair 
bandwidth allocation, and fast network failure recovery to get rid of deficiencies of 
conventional high-speed Ethernet and SONET [9, 10]. Therefore, the RPR can not 
only achieve high bandwidth utilization and fast network failure recovery but also 
satisfy the requirements of MANs, such as reliability, flexibility, scalability, and large 
capacity [9, 10, 11]. The RPR is a superior candidate for MANs. 
 3 
is the aggregate of all flows originating from a given ingress station. The second 
property is that the maximal spatial reuse subjecting to the first property. Thus, the 
bandwidth can be reclaimed by IA flows when it is unused. In summary, the RIAS is a  
max-min fairness with traffic granularity of IA flow. The convergence time is the time 
interval between the instant of starting the congestion occurrence and the instant that 
the amount of arriving specified traffic flow approaches the ideal fairRate which 
meets the the RIAS fairness. Therefore, a fairness algorithm should achieve not only 
high stability based on the RIAS fairness but also low convergence time and flow 
oscillation. There are two conservative modes (CM) [9, 13] and the aggressive mode 
(AM) [9, 10] fairness algorithms, which have been proposed in IEEE 802.17. Actually, 
the AM fairness algorithm performs better than the CM fairness algorithm. 
Unfortunately, the AM suffers from severe oscillations and bandwidth utilization 
degradation [9, 12]. It is due to the fact that the AM issues an un-limited fairRate, 
called FullRate, as its advertised fairRate when the station is released from 
congestion. 
  Multiple RPR rings can be bridged together to form a larger network, named 
bridged-RPR network (BRPR), by a bridge which forwards packets from one RPR to 
another RPR, shown in Fig.1.2. A spatially aware sublayer (SAS), which is a part of 
the MAC layer, in the bridge is used to decide which ringlet interface the packet 
should be routed to [7, 14]. Current research on SAS, including the IEEE 802.17b 
Working Group, is mainly focusing on how to modify this sublayer in order to avoid 
flooding the entire bridged network when transmitting inter-ring packets [7, 14, 15, 
16]. 
 
Figure 1.2: BRPR structure 
 
Moreover, serving as a backbone that interconnects a number of access networks, 
 5 
computes a simple lower bound of temporally and spatially aggregated virtual time 
using per-ingress counter of packet arrival. The aggregated information propagates 
along the ring to let each station know the traffic condition of downstream stations. 
Therefore, each node is capable of limiting its output rate to satisfy RIAS fairness. 
Unfortunately, it is at the expense of a high computational complexity O(NlogN), 
where N is the number of stations in the ring. Alharbi and Ansari proposed a 
distributed bandwidth allocation (DBA) fairness algorithm with a low computational 
complexity O(1) [17, 18]. The DBA measures the arrival rate so as to calculate the 
effective number of ingress-aggregated (IA) flows, where IA flow represents the 
aggregate of all flows originating from a given ingress station, transiting over the 
local station. By a recursive method, DBA uses the effective number of IA flows and 
the remaining bandwidth to obtain the advertised fairRate. After some rounds of 
recursion, an advertised fairRate which satisfies RIAS fairness can be obtained. 
However, whenever the effect of propagation delay is severe, the DBA would not be a 
stable local fairRate algorithm. It is because the local fairRate generated by DBA is 
related only with the amount of the arriving transit FE traffic flows measured during a 
short frame time. This shortterm amount is easily influenced by the effect of the 
propagation delay, which starts from a station sending its advertised fairRate and ends 
the corresponding transit traffic flows arriving the station. If the propagation delay is 
large, the short-term arriving transit FE traffic flows would be largely varied and 
make the generation of local fairRate unstable (incorrect). 
Moreover, Yilmaz and Ansari investigated weighted fairness in IEEE802.17 but 
found one unexpected phenomenon [20]. When a station with a larger weight 
becomes a head of congestion domain, it leads to an undesirable result of bandwidth 
allocation and oscillation. However, after modifying a little in original fairness 
algorithm of AM, it can work correctly under weighted fairness. 
 
I.2. Intelligent Inter-Ring Route Control in Bridged Resilient Packet 
Rings 
 
Settawong and Tanterdtid proposed an enhancement by using a topology 
discovery and spanning tree algorithm [15]. The algorithm can manage traffic 
between rings more efficiently and can remove the need for flooding. The shortest 
path route controller (SPRC) was widely considered for metro rings [23, 24, 25] as it 
can maximize the spatial reuse and thus the achievable packet throughput for uniform 
traffic. 
However, as traffic load increases, incoming call requests could pile up at a node 
before being processed, and these would result in a potential bottleneck in network 
 7 
II. FLAG: A Fuzzy Local FairRate Generator for Resilient Packet Ring 
 
 Architecture of Intermediate OBS Node  
 
Assume that a resilient packet ring (RPR) with N stations, shown in Fig. 1.1, is 
constructed by two unidirectional, counter-rotating ringlets, named ringlet-0 and 
ringlet-1. Each station has two pairs of input and output ports to communicate with 
neighbor stations. Station X (Y) is said to be a upstream (downstream) node of station 
Y (X) on ringlet-0 or ringlet-1 if the station Y (X) traffic becomes the received traffic 
of station X (Y) on the referenced ringlet. There are three classes of service for RPR. 
The classA is used for real-time services and it has subclassA0 for reserved bandwidth 
and subclassA1 for reclaimable bandwidth. The classB is targeted for near real-time 
services, and it also has two subclasses: classB-CIR (committed information rate) 
which requires the bounded delay and guaranteed bandwidth, and classB-EIR (excess 
information rate) which does not guarantee bandwidth or delay bound. The classC is 
intended for best effort services and has the lowest priority. Each station only reserves 
bandwidth for subclassA0, and the remaining bandwidth is provided for other traffic 
classes according to the order of subclassA1, classB-CIR, classB-EIR, and classC. 
The latter two low priority traffics are called the fairness eligible (FE) traffic and are 
controlled by a fairness algorithm. 
Fig. 2.1 shows the station structure for ringlet-0 transmisson, which contains an 
ingress queue with ClassA, ClassB, and ClassC queues, a transit queue with primary 
transit queue (PTQ) and secondary transit queue (STQ), a scheduler, the fuzzy local 
fairRate generator (FLAG), and a fairness control unit. The ClassX queue, X = A, B, 
or C, stores the added classX traffic to the station. The PTQ (STQ) stores the 
transiting classA and classB-CIR (classB-EIR and classC) frames. The scheduler 
decides the transmitting order. If the STQ occupancy is less than the stqHighthreshold 
defined in the IEEE802.17 [17], the order is PTQ, ClassA, ClassB, ClassC, and STQ; 
otherwise, it is PTQ, ClassA, ClassB, STQ, and ClassC. The FLAG generates a local 
fairRate at every time nT, denoted by fl(n), where n is a positive integer and T is the 
duration of an agingInterval. Notice that fl is also generated per agingInterval in DBA 
but is generated only when the station is in congestion in AM. The fairness control 
unit usually refers to both fl(n) and the received fairRate, denoted by fr(n), to 
determine an advertised fairRate, denoted by fv(n), and then sends fv(n) to upstream 
stations to regulate traffic flows, at every agingInterval time nT. 
 
 9 
fairness. Its design imitates the DBA’s generation of local fairRate, but it would 
overcome the unstable (incorrect) local fairRate generation by DBA when the 
propagation delay is significant. Instead of using the short-term arriving transit FE 
traffic flows, it calculates a proper average of the arriving transit FE traffic flows by 
moving average technique to mitigate the effect of the propagation delay. The FCD 
appraises the congestion status of station using fuzzy logics. Its design can softly 
detect the congestion degree of the station in each agingInterval n, denoted by Dc(n), 
considering not only the STQ occupancy but also the amount of the arriving transit FE 
traffic flows at the queue. The latter term denotes the change rate of the STQ 
occupancy which would play an important role in the congestion detection. Finally, 
the FFG generates a precise local fairRate by fine-tuning the p-fairRate from AFC, 
referring to the congestion degree from FCD, and further using domain knowledge 
designed by fuzzy logics. The FLAG would avoid serious regulating FE traffic flows 
to decrease the throughput or excessive relaxing the traffic flows to increase the frame 
losses.. 
 
 
Figure 2.2: Functional blocks of FLAG 
 
 Adaptive fairRate Calculator (AFC) 
The adaptive fairRate calculator (AFC) adopts the moving average 
technique [14] on the short-term arriving FE traffic flows, trying to mitigate 
the effect of propagation delay on the generation of local fairRate by the DBA 
[5]. During the n-th agingInterval, the AFC first takes the moving average of 
arriving transit FE traffic flows to STQ, As(n). Denote the average by )(
~
nAs  
and give it by 
~
1
( ) ( ) /
n
s s
i n k
A n A n k
  
 
                          (2.1) 
 11 
0
0 0 0
0
0
0 0 1 0 0 1
1
1, for ,
( ; , , ) 1, for ,
0, otherwise.
x x x a x x
a
x xf x x a a x x x a
a
                   (2.4) 
and 
0
0 0 0
0
0 1
0 1 0 1
1
1 1 1
1
1, for ,
1, for ,
( ; , , , )
1, for ,
0, otherwise
x x x a x x
a
x x x
g x x x a a
x x x x x a
a
                      (2.5) 
 
where x0 in  f  is the center of the triangular function; x0 (x1) in  g  is the 
left (right) edge of the trapezoidal function; a0 (a1) is the left (right) width of 
the triangular or the trapezoidal function.  
    The corresponding membership functions of S and L in T (Ls(n)) are 
denoted by )0.25 0, ,0.125 0, );(())(( QQnLgnL sss    and 
)0 ,0.25 ,0.35 );(())(( QQ, QnLgnL ssL  , where Q is the size of STQ. As 
defined in IEEE 802.17 standard, we take 0.125 of the STQ size as the 
stqLowthreshold to judge the light congestion degree, and 0.25 of the STQ 
size as the stqHighthreshold to judge the heavy congestion degree. The 
corresponding membership functions of L, M , and H in T (As(n)) are denoted 
by )0.375C 0, 0.125C, 0, );(())(( nAgnA ssL  , 
)0.25C 0.25C, 0.5C, );(())(( nAfnA ssM  , and 
)C 0.375C, C, 0.875C, );(())(( nAgnA ssH  , respectively. For the reason of 
simplicity in computation of defuzzification, the corresponding membership 
functions of VL; L; M ; H; and VH in T (Dc(n)) are defined as 
)0 0, 0, );(())(( nDfnD ccVL  , )0 0, 0.25, );(())(( nDfnD ccL  , 
)0 0, 0.5, );(())(( nDfnD ccM  , )0 0, 0.75, );(())(( nDfnD ccH  , 
and )0 0, 1, );(())(( nDfnD ccVH  , respectively.  
There are 6 fuzzy rules for FCD. As shown in Table 2.1, the order of 
significance of the input linguistic variables is Ls(n) then As(n). The station 
with high occupancy of STQ would be in high congestion degree, and it would 
be in higher (medium) congestion degree if the arriving FE traffic flows to 
 13 
utilization. Define the term set with six terms for fp(n) as T(fp(n)) = 
{Extremely Low (EL), Pretty Low (PL), Slightly Low (SL), Slightly High 
(SH ), Pretty High (PH ), Extremely High (EH )}; the term set with three 
terms for Dc(n) as T(Dc(n)) ={Low (L), Medium (M ), High (H )}; and the 
term set with eleven terms for fl(n) as T(fl(n)) ={Extremely Low (EL), Very 
Low (V L), Pretty Low (PL), Low (L), Slightly Low (SL), Medium (M ), 
Slightly High (SH ), High (H ), Pretty High (P H ), Very High (V H ), 
Extremely High (EH )}. Note that the number of the terms in T(fl(n)) would be 
larger than that of T(fp(n)) for better performance. The membership functions 
for terms EL; P L; SL; SH; P H; and EH in T(fl(n)) are defined as 
)0.3C 0, 0, );(())(( nffnf ppEL  , 
)0.2C 0.2C, 0.2C, );(())(( nffnf ppPL  ,
)0.2C 0.2C, 0.4C, );(())(( nffnf ppSL  , 
)0.2C 0.2C, 0.6C, );(())(( nffnf ppSH  , 
)0.2C 0.2C, 0.8C, );(())(( nffnf ppPH  , and 
)0 0.3C, C, );(())(( nffnf ppEH  , respectively. The membership functions 
for terms L; M; and H in T(Dc(n)) are defined as 
).3750 0, 0.125, 0, );(())(( nDgnD ccL  , 
)0.25 0.25, 0.5, );(())(( nDfnD ccM  , and 
)0 .375,0 1, 0.875, );(())(( nDgnD ccH  , respectively. The membership 
functions for terms in T(fl(n)) are defined as fuzzy singletons, denoted by 
)0 0, , x);(())(( TllT nffnf  , where T = EL;V L; PL; L; SL; M; SH; H; PH; 
V H; or EH , and (xEL, xVL, xPL, xL, xSL, xM, xSH, xH xPH xVH xEH) = (0, 0.1C, 0.2C, 
0.3C, 0.4C, 0.5C, 0.6C, 0.7C, 0.8C, 0.9C, C). Notice that the center value of 
the triangular membership function f of each term for fp(n) is the same as the 
center value of the singleton function f of the same term for fl(n), where these 
terms are EL; P L; SL; SH; P H; and EH .  
There are 18 fuzzy rules for FFG. As shown in Table 2.2, the order of 
significance of the input linguistic variables is fp(n) then Dc(n). These fuzzy 
rules are set in such a way that the generation of fl(n) mainly refers to fp(n) but 
slightly adjusted by Dc(n) so as to achieve lower convergence time and thus 
higher the throughput. When fp(n) is ‘’EL’’ or “PL”, fl(n) is designed to raise 
 15 
rules designed in FFG by expert’s domain knowledge. On the other hand, the DBA 
and DMA generate the local fairRate depending only on the short-term (average) 
arriving FE traffic flow, or equivalently the change rate of the STQ, without 
considering the STQ occupancy which usually used to determine the congestion 
degree of station. This would incorrectly limit the amount of the passing transit FE 
traffic flow to the next station and cause DBA make error decision. For example, if 
the amount of the short-term arriving transit FE traffic flow is large but the STQ 
occupancy of a station is short, the station should not seriously regulate the FE traffic 
flow of its upstream stations. Also, AM generates a local fairRate which is equal to 
the added FE traffic flow rate of the station to regulate the flow when the station is in 
congestion. AM immediately sets the advertised fairRate as FullRate to allow the 
upstream stations to un-limitedly send traffic flow when the congestion is released. 
This too-much variation of the advertised fairRate would cause the station congestion 
again and thus make the flow of AM damping the longest.  
 
 
Figure 2.3: (a) Small parking lot scenario with greedy traffic, and the throughput 
of (b) AM, (c) DBA, (d) DBA with moving average (DMA), and (e) FLAG. 
Fig. 2.4(a) shows a large parking lot scenario where there are containing 8(0 ∼ 7) 
 17 
 
Figure 2.4: (a) Large parking lot scenario with greedy traffic, and the throughput 
of (b) AM, (c) DBA, (d) DMA, and (e) FLAG. 
Fig. 2.5(a) shows a large parking lot scenario where there are containing 8 (0 ∼ 7), 
such as in Fig. 2.4 (a) but with various finite traffic demands, greedy stations, and 
Figs. 2.5 (b), 2.5 (c), 2.5 (d), and 2.5 (e) present throughputs of flow(0, 7), flow(2, 7), 
flow(4, 7), and flow(6, 7) at station 7 by AM, DBA, DMA, and FLAG, respectively. 
Assume that flow(0, 7) and flow(1, 7) require 2.1 Gpbs, flow(4, 7) and flow(5, 7) 
require 1.5 Gpbs, and flow(2, 7), flow(3, 7) and flow(6, 7) require 1.0 Gbps. It would 
be facts that station 6 will be the first one to incur congestion, and the added FE traffic 
flow to network at each station cannot always match its received fairRate due to the 
finite traffic demand at each station. Also, flow(0,7) and flow(1,7) will have the 
highest throughput when station 6 is in freecongestion or the remaining bandwidth is 
large because of their largest required traffic demands. It can be seen that at the first 
beginning, all flows just oscillate slightly, and then AM, DBA, and DMA oscillate all 
the ways, while FLAG can make all flows converge but takes 30 ms. It is because that 
FLAG indeed diminishes the effect of the propagation delay and generates the correct 
local fairRate at each agingInterval. Also, since each traffic flow is with different 
 19 
 
Figure 2.5: (a) Large parking lot scenario with greedy traffic, and the throughput 
of (b) AM, (c) DBA, (d) DMA, and (e) FLAG in a large parking lot scenario with 
various finite traffic flows. 
 
 
Fig. 2.6(a) shows an available bandwidth reclaiming scenario where there are 9 
stations with finite traffic demand and a spatial reuse of flow(a,2) occurs, and Figs. 
2.6 (b), 2.6 (c), 2.6 (d) and 2.6 (e) present the throughput of flow(a,2) at station and 
flow(0,7), flow(1,7), flow(2,7), and flow(6,7) at station 7 by AM, DBA, DMA, and 
FLAG, respectively. In this scenario, the flow(a, 2) requires 5.9 Gpbs, and similar to 
Fig. 3.11, flow(0, 7) and flow(1, 7) require 2.1 Gpbs, flow(4, 7) and flow(5, 7) require 
1.5 Gpbs, and flow(2, 7), flow(3, 7), and flow(6, 7) require 1.0 Gbps. It can be seen 
that, just as in Fig. 3.11, at the beginning, all flows of all algorithms oscillate slightly, 
and finally FLAG makes all flows stabilize but takes 78 ms, while AM, DBA, and 
DMA oscillate all the ways. The reasons that all algorithms in this scenario behave 
worse than in the large parking lot scenario withvarious finite traffic flows, given in 
Fig. 2.4, are as follows. Since flow(a,2) is sunk at station 2, station 1 would have more 
 21 
III. Intelligent Inter-Ring Route Control in Bridged Resilient Packet Rings 
 System Model  
A. Architecture of Bridge Node 
Fig. 3.1 shows a bridge node connecting R0 and R1 RPR rings, where each ring 
contains a clockwise (CW) ringlet and a counter-clockwise (CCW) ringlet and there 
are M nodes on the ring. Assume that the fiber link capacity of the ringlet is C Gbps 
and the distance between every two consecutive nodes in the ringlet is the same. The 
proposed intelligent inter-ring route controller (IIRC) is installed in a spatially aware 
sublayer (SAS). As a new call request coming from one ring to the other, the IIRC 
will determine an appropriate ringlet for the inter-ring new call request. Also, the SAS 
forwards packets of existing calls to their interface in the bridge node based on the 
determined route. The bridge node has one interface associated each ringlet, and as 
shown in Fig. 3.2, each interface has two transit buffers: the ringlet and ingress 
buffers. The packets to the same ring are stored in the ringlet buffer, and those to the 
other ring are buffered in the ingress buffer. 
 
 
Figure 3.1: Architecture of the bridge node 
 
Each buffer contains a primary transit queue (PTQ) and a secondary transit 
queue (STQ). The high- (low-) priority packets, such as Class A and Class B-CIR 
(Class B-EIR and Class C), are stored in the PTQ (STQ). Voice packets, video packets 
of I-frame, video packets of B- or P-frames, and data packets are classified as Class A, 
Class B-CIR, Class B-EIR, and Class C, respectively. The bridge node always 
reserves bandwidth for the high-priority traffic. The scheduler in the bridge first 
serves the PTQs exhaustively with the round robin policy, and then serves the two 
STQs with the proportional round robin policy associated with their queue lengths. 
 23 
node given in Figs. 3.1 and 3.2. Thus as shown in Fig. 3.3, the IIRC designs a fuzzy 
bridge-node congestion indicator (FBCI) to intelligently detect this congestion. The 
latter is related with the received fairRate from the downstream node of the associated 
ringlet. Therefore, the IIRC designs a PRNN (pipeline recurrent neural networks) 
downstream-node fairness predictor (PDFP) to predict the CW or CCW 
downstream-node congestion degree. Finally, the IIRC designs a fuzzy route 
controller (FRC) to determine a proper ringlet for the incoming inter-ring new call 
request. It receives the congestion indication from FBCI, denoted by CI , and the 
predicted mean received fairRate from PDFP, denoted by

fR , as input linguistic 
variables. Also, it considers the service rate of the CW or CCW ringlet at the bridge 
node, denoted by R, and the number of hops between the bridge and the destination, 
denoted by H, as input linguistic variables. Notice that the ringlet service rate at the 
bridge node is related with the received fairRate and more hops consume more system 
bandwidth. The FRC calculates the preference value of route, denoted by Pv, for CW 
and CCW interfaces and selects the ringlet with larger Pv as the proper ringlet route 
for the incoming inter-ring new call request. 
 
 
 
Figure 3.3: Intelligent inter-ring route controller (IIRC) 
 Fuzzy Bridge-Node Congestion Indicator (FBCI) 
The fuzzy bridge-node congestion indicator (FBCI) considers four measures as 
the input linguistic variables to determine the congestion degree of the bridge node at 
the CW or CCW interface. They are STQ lengths in the ingress buffer and the ringlet 
buffer, denoted by QSI and QSR, respectively, the amount of the reserved bandwidth for 
 25 
)0.25 0, ,0.25 0, ;()( thth
S
SI
SIS llL
QgQ  , )0.5 ,0.5 ,0.5 ;()( ththth
S
SI
SIM lllL
QfQ  , 
)0 ,0.5 1, , ;()( thth
S
SI
SIL llL
QgQ  ,where Ls is the STQ queue size, and lth is the 
threshold in percentage. Note that if the STQ length is larger than lth · Ls, the bridge is 
in congestion and the fairness algorithm will be enabled. Membership functions for S, 
M and L in T(QSR) are similar to S, M and L in T(QSI), respectively. Membership 
functions for Fw and Ma in T(BA) are defined 
as )0.025C 0, ,0.025C 0, ;()( AAFw BgB   and )0 0.075C, ,C 0.1C, ;()( AAMa BgB  , 
where C is the link capacity. Membership functions of terms in T(Ec), are defined as 
)R 0, ,R 0, ;()( videovoiceEcgEcS  and )0 ,R C, ,R ;()( videohEcgEcL  , where Rvoice 
and Rvideo are the minimum demand of the mean rates of the voice and video traffics, 
respectively, and Rh is the maximum demand of the mean rate of the video traffic to 
provide the high quality video. Membership functions for terms of output linguistic 
variable CI are defined as )0 0, 0.1, ;()( IIVL CfC  , )0 0, 0.3, ;()( IIL CfC  , 
)0 0, 0.5, ;()( IIM CfC  , )0 0, 0.75, ;()( IIH CfC  , )0 0, 1, ;()( IIVH CfC  . 
 
Table 3.1: The Fuzzy Rule base of FBCI 
 
 
As shown in Table 3.1, there are 24 fuzzy rules for FBCI, where the notation ”X” 
in this table represents ”don’t care” of the linguistic variable. The order of 
significance of the input linguistic variables for the FBCI would be QSI, QSR, BA, and 
Ec in sequence. The bridge will be in high degree of congestion if its two STQ queue 
lengths are close to or longer than the threshold (the corresponding terms of QSI and 
QSR, are Medium or Long). Finally, FBCI adopts the max-min method for fuzzy 
inference. The defuzzification method adopted is the center of area defuzzification 
 27 
predictor obtains the fairRate predictions at (n+1)th period, )1(  nRf , from the 
output of the first neuron of the first module, and receives the new fairRate )1( nRf ; 
then it adjusts the synaptic weights using the real time recurrent learning (RTRL) 
algorithm. Due to the on-line learning capability, PDFP can adapt its wights to the 
current load conditions other than those set in the off-line training phase. If a PRNN 
contains q modules and M neurons per module, the computational complexity would 
be O(qM4). However, when the system is in operation and the PRNN has determined 
each parameter by learning, the computational complexity is reduced to O(1). 
 Fuzzy Route Controller (FRC) 
The fuzzy route controller (FRC) is to determine the route preference values, Pvs, 
for both of CW and CCW ringlets. The determination is based on four input linguistic 
variables of ringlet: the congestion indication of the bridge node, CI , the predicted 
mean received fairRate, 

fR  , the current service rate of the ringlet, R, and the 
number of hops to destination, H. The higher value Pv of a ringlet means that the 
ringlet is more suitable to accept the incoming new call request. Term sets for the 
input and output linguistic variables are defined as T(CI) = {Low (Lo), Medium (Me), 
High (Hi)}, T(

fR ) = {Small (Sm), Medium (Me), Large (La)}, T(R) = {Low (Lo), 
High (Hi)}, T(H) = {Few (Fw), Many (Ma)}, and T(Pv) = {Unsuitable (U), Weakly 
Unsuitable (WU), Weakly Suitable (WS), Suitable (S)}. Membership functions for 
terms of Lo,Me, and Hi in T(CI) are defined as )0.25 0, ,0.25 0, ;()( IILo CgC  , 
)0.25 ,0.25 0.5, ;()( IIMe CfC  , and )0 0.25, ,1 0.75, ;()( IIHi CgC  . Membership 
functions for terms of Sm, Me, and La in T(

fR ) are expressed as 
)0.25 0, ,0.2 0, ;()( vvRgR ffSm
  , )0.25 ,0.25 ,0.5 ;()( vvvRfR ffMe
  , and 
)0,0.1 , ,0.6 ;()( vvvRgR ffLa
  , where v denotes the unreserved bandwidth for the 
low priority traffic at the bridge node and v = C − BA.  
Similarly, membership functions for T(R) are defined as 
)0.25C 0, 0.25C, 0, ;()( RgRLo   and )0 0.2C, C, 0.6C, ;()( RgRHi  , where C is 
the total capacity of the fiber link. Membership functions for terms of Fw and Ma in 
T(H) are defined as /3) 0, /3, 0, ;()( NNHgHFw   and 
0) /3, , /3,2  ;()( NNNHgHMa  , where N is the total number of nodes in a RPR 
network. Finally, membership functions for terms in T(Pv) are defined as 
 29 
Rp, the mean rate Rm, and the mean burst period Tp with the four previous rates can 
be obtained. 
For voice packet generation process, during the ON (talkspurt) state, voice 
packets are generated with rate 21×10−4; during the OFF (silence) state, no packets are 
generated. A voice source has two transition rates of 4 × 10−5 and 8 × 10−5 in the ON 
and OFF states, respectively. The packet size is fixed at 70 bytes, and thus the 
generation rate is constant bit rate (CBR) during ON state. The arrival process of a 
voice source was assumed that Rp = 21 × 10−4, Rm = 7 × 10−4, and Tp = 1.3s. Two 
kinds of video packet generation processes are assumed: the intraframe and interframe 
generation processes. The intraframe (I-frame) generation process is similar to the 
voice packet generation process with generating rate 5×10−2, and two transition rates 
of 4 × 10−5 and 8 × 10−5 in the ON and OFF states, respectively. The arrival process of 
the I-frame of video packet source was assumed that Rp = 5 × 10−2, Rm = 1 × 10−2, 
and Tp = 0.1s. The interframe (B- and P-frames) generation process includes 
B-frame-bit-rate and P-frame-bit-rate video services, and their generation was 
characterized by Bernoulli processes with rates θB and θP , respectively. For 
B-frame-bit-rate of the B-frame of video packet source, it was assumed that Rp = 2 × 
10−2, Rm = 2 × 10−3, and Tp = 0.01s, which is given θB = 0.1; for P-frame-bit-rate of 
the P-frame of video packet source, it was assumed that Rp = 1×10−2, Rm = 2×10−4, 
and Tp = 0.01s, which given θP = 0.02. The I-frame packet size is fixed at 1000 bytes, 
and the generation rate is CBR; the B-frame, and P-frame packet sizes are uniformly 
distributed over 100 and 1518 bytes and the generation rates are with generation of 
variable bit rate (VBR). The data packet generation process includes high-bit-rate and 
low-bit-rate data services, and the generation of high-bit-rate data packets and 
low-bit-rate data packets are characterized by Bernoulli processes with rates θ1 and 
θ2, respectively. For highbit- rate of data source, it was assumed that Rp = 7 × 10−2, 
Rm = 7 × 10−3, and Tp = 0.03s, which is given θ1 = 0.1; for low-bit-rate of data 
source, it was assumed that Rp = 3.5 × 10−2, Rm = 7 × 10−4, and Tp = 0.03s, which is 
given θ2 = 0.02. The data packet sizes are uniformly distributed over 100 and 1518 
bytes and the generation rates are with generation of variable bit rate (VBR). The 
parameters, Rvoice, Rvideo, and Rh, are set to 64kbps, 640kbps, and 6.4Mbps, 
respectively. 
Fig. 3.4(a), (b), and (c) show the average packet dropping probability, the 
average packet delay, and the throughput, respectively, for the proposed IIRC, QTRC, 
and SPRC, versus the traffic intensity from the R1 to R0 at the bridge in a balanced 
scenario. The traffic intensity at the bridge is here defined as the total arrival packet 
rate over the capacity of the fiber link. In this balanced scenario, in R0, both the local 
CW ringlet traffic intensity from node 16 to bridge and the local CCW ringlet traffic 
 31 
 
  
Figure 3.4: The performance comparison for IIRC, SPRC, and QTRC in the balanced 
scenario 
 
 
 33 
 
Figure 3.6: The comparison of bridge throughputs under different schemes 
versus the inter-ring traffic intensity 
 35 
 Node Architecture 
As shown in Fig. 4.2, each node i is in the slotted ring, ,1 Ni   contains 
two optical add/drop multiplexers (OADMs), four pairs of optical-to-electronic 
(O/E) converter and electronic-to-optical (E/O) converter, a fiber delay line 
(FDL), ingress buffers, two egress buffers, a scheduler, and a central processor 
(CP) equipped with the proposed wavelength assignment and traffic control 
(WATC) scheme. The OADM is used to add (drop) the traffic to (from) the fiber 
links. The O/E converts the optical traffic to electronic domain, and the E/O 
inverses the conversion. The FDL is used to delay the transit traffic on data 
wavelengths to synchronize with the control signal. The buffer k in the ingress 
buffers of node i stores its ingress packets destined to node k, ikNk   ,1 . It 
contains four completely-partitioned queues for voice, video, HTTP, and FTP, 
denoted by Vo, Vi, H, and F, respectively. The WATC in CP determines how to 
assign (reserve) the empty slots of the wavelength for the ingress traffic and to 
advertise the upstream nodes of traffic limitation in the next frame. 
 
 
Fig. 4.1 Frame structure in slotted OBS rings 
 37 
which is that the first packet of the H ingress queue exceeds its maximum 
tolerance delay time, the wi3 will be promoted to be equal to wi,2. The granted 
bandwidth of the jth queue in the kth buffer at node i, denoted by )1( , ng jk , in 
unit slots at the (n+1)st frame is obtained by 














  )1()(
)(
),(min)1(
 ,
 ,
 , , nSnw
nw
nqng a
k j
jk
jk
jkjk  41 ; ,1  jikNk   (4.1) 
where )( , nq jk  is the length of the jth queue in the kth buffer at the nth frame at 
node i and x is the larger integer less than x. The remaining bandwidth would 
be proportionally granted to those queues which are starvation. The granted 
bandwidths of all queues are arranged in a vector in order of their service classes. 
The granted bandwidth vector, denoted by G(n+1), is expressed as  
G(n+1)=[g1,1(n+1), …, gi-1, 1(n+1), gi+1, 1(n+1), …,gN, 1(n+1),…, g1,4(n+1), …, gi-1, 4(n+1), gi+1, 
4 ( n + 1 ) ,  … , g N ,  4 ( n + 1 ) ] ,  
(4.2) 
and sent to the WATC.  
The WATC will determine how many and which available free time slots on 
which wavelength will be assigned to each queue according to the granted 
bandwidth vector G(n+1) and WR. As shown in Fig. 4.2, three vectors for 
operation in the next frame, B(n+1), T(n+1), and W(n+1), will be generated and 
sent back to the scheduler. The first vector B(n+1) is to indicate how many 
available time slots for each burst in all queues; the second vector T(n+1) is to 
indicate the which time slot each burst begins to transmit; the last vector W(n+1) 
is to indicate which wavelength each burst will be carried on . Three vectors 
B(n+1), T(n+1), and W(n+1) will be introduced in the next section. 
 
 Reservation Scheme 
Whenever a node has packets to transmit, it must reserve appropriate slots 
in advance and then begins to transmit at the next frame if the reservation is 
 39 
Here, the ring ingress aggregated with spatial reuse (RIAS) reference model 
is adopted to achieve fairness bandwidth allocation between the nodes. The 
available bandwidth in current link will be fairly allocated among all ingress 
aggregated (IA) flows, where IA flow represents the aggregation of all flows 
originating from a specific ingress node. The, RIAS model can ensure maximal 
spatial reuse. 
 
 WAVELENGTH ASSIGNMENT AND TRAFFIC CONTROL  
The proposed wavelength assignment and traffic controller (WATC), shown in 
Fig 4.4, is composed of a wavelength assigner (WA) to schedule the time slots in data 
wavelength for ingress DBs and a traffic controller (TC) to intelligently determine an 
advertised fair rate for traffic control. The WATC can make better use of link 
bandwidth in terms of throughput and fairness.  
 
 Wavelength Assigner (WA) 
The WA not only grants the bandwidth to ingress DBs in queues according 
to the priority of the traffic but also assigns the proper void to the granted 
bandwidths of queues  
 ( )tA n
 
Fig. 4.4 The structure of WATC 
 
as much as possible. At the beginning of nth frame, the WA first computes the 
 41 
that the remaining granted bandwidth for the queue is vlM  . Next, the WA 
does the same process until the remaining granted bandwidth is zero. For 
simplicity, at h cycle, if the WA searches the available void with length lv at the 
position (b, t b) for the queue, the associated DB is denoted by vh jk lb  ,  and it 
will be transmitted on the wavelength b
h
jkw  ,  at the time bh jk tt  , .  
The size of each DB, which will be transmitted at the (n+1)st frames at node 
i is obtained as 
B(n+1)=[b1,1(n+1), …, bi-1, 1(n+1), bi+1, 1(n+1), …,bN, 1(n+1),…, b1,4(n+1), …, bi-1, 4(n+1), bi+1, 4(n+1), …,bN, 
4 ( n + 1 ) ] , ( 4 . 4 ) 
 )]1(... ),1( ),1([)1(
 , , ,
21
 ,  nbnbnbnb kjjkjkjk njk  (4.5) 
where 0< )1(
 ,
nbh
jk
 gk,j (n+1), j ,
1
)1(
 , k
n
h
h gnb
kj
jk


 nkj is the number of DBs for 
the jth queue in the kth buffer at the (n+1)st frames. The start time position 
relating to each DB and the used wavelength are obtained, respectively, as 
T(n+1)=[t1,1(n+1), …, ti-1, 1(n+1), ti+1, 1(n+1), …,tN, 1(n+1),…, t1,4(n+1), …, ti-1, 4(n+1), ti+1, 4(n+1), …,tN, 4(n+1)],  
( 4 . 6 ) 
 )]1(... ),1( ),1([)1(
 , , ,
21
 ,  ntntntnt kjjkjkjk njk       (4.7)  
W(n+1)=[w1,1(n+1), …, wi-1, 1(n+1), wi+1, 1(n+1), …,wN, 1(n+1),…, w1,4(n+1), …, wi-1, 4(n+1), wi+1, 
4 ( n + 1 ) ,  … , w N ,  4 ( n + 1 ) ] ,  
 (4.8) 
 )]1(... ),1( ),1([)1(
 , , ,
21
 ,  nwnwnwnw kjjkjkjk njk  (4.9) 
where 1 )1(
 ,
nth
jk
 S, 1 )1(
 ,
nwh
jk
 W, kjnh 1 . 
 43 
future voice and video ingress traffic to avoid or decrease the voice and video 
packet loss. The AFRG generates Fa(n) to inform the upstream nodes of the 
traffic limitation for effectively utilizing the bandwidth and enhancing the 
fairness between nodes. 
 
 Local Fair Rate Generator (LFRG) 
The local fair rate generator (LFRG) adopts a fuzzy protective reservation 
generator (FPRG) on the protective reservation bandwidth for voice and video 
traffic, trying to decrease the packet loss of the voice and video to guarantee the 
quality of service (QoS). The LFRG imitates the FLAG to generate the local fair 
rate. It is due to the fact that the FLAG can achieve the RIAS fairness and have 
better preference than DBA. The LFRG contains a fuzzy protective reservation 
generator (FPRG) and a fair rate generator (FRG), shown in Fig. 4.6.  
 
 tA n
 
Fig. 4.6 The structure of LFRG 
 
 Fuzzy Protective Reservation Generator (FPRG) 
In our considered network, the transit traffic will bypass current node 
directly without any O/E and E/O conversions. Therefore, once the slot is fully 
used by upstream nodes, current node would hardly have bandwidth to 
 45 
T(RVi(n))= {Low (L) , Medium (M), High (H)}; for Pr(n) as T(Pr(n))= {Low 
(L) , Medium (M), High (H)}.  
There are 18 fuzzy rules for FPRG. As shown in Table I, the order of 
significance of the input linguistic variables is ( )tA n , RVo(n), and RVi(n). The 
node with more moving average of transit traffic, which is composed by the 
high voice or video traffic would be reserved more bandwidth to avoid that the 
voice or video traffic at this node could not be transmitted due to no 
reservation bandwidth. 
TABLE 4.1 
THE RULE BASE OF FPRG 
 
Rule  tA n  RVo (n) RVi (n) Pr(n) Rule  tA n RVo (n) RVi (n) Pr(n)
1 L L L L 10 M H L L 
2 L L M L 11 M H M L 
3 L L H VL 12 M H H VL
4 L H L VL 13 H L L VH
5 L H M N 14 H L M VH
6 L H H N 15 H L H H 
7 M L L H 16 H H L H 
8 M L M M 17 H H M M 
9 M L H M 18 H H H M 
 
 We use the triangular function f(x; x0, a0, a1) and the trapezoidal function 
g(x; x0, x1, a0, a1) to define the membership functions for terms in the term set. 
These two functions are given by 
   0 0 0 0 00 0 1 0 1 0 0 1
( ) / 1, if ,
; , , ( ) / 1, if ,
0, otherwise,
x x a x a x x
f x x a a x x a x x x a
         
 (4.12) 
  
0 0 0 0 0
0 1
0 1 0 1
1 1 1 1 1
( ) / 1, if ,
1, if ,
; , , ,
( ) / 1, if ,
0, otherwise,
x x a x a x x
x x x
g x x x a a
x x a x x x a
            
 (4.13) 
 47 
rule 6 respectively by 
 5 ( ) min{ ( ( )), ( ( )), ( ( ))},L t H Vo M Vim n A n R n R n     (4.14) 
 6 ( ) min{ ( ( )), ( ( )), ( ( ))},L t H Vo H Vim n A n R n R n     (4.15) 
Then, applying the “max” operator, we obtained the overall membership value 
of the control action “Pr (n) is N” , denoted as wN(n), by 
 5 6( ) max{ ( ), ( )}.Nw n m n m n  (4.16) 
Similarly, the overall membership function of the control action VL, L, M, H, 
and VH, denoted as wVL (n), wL (n), wM (n), wH (n), and wVH(n), respectively, 
can be obtained. After inferring all the rules, FPRG uses center of area (COA) 
method for defuzzifier. The output value Pr (n) is obtained by 
0 ( ) 10 ( ) 20 ( ) 30 ( ) 40 ( ) 50 ( )( ) .
( ) ( ) ( ) ( ) ( ) ( )
N VL L M H VH
r
N VL L M H VH
w n w n w n w n w n w nP n
w n w n w n w n w n w n
                 
(4.17) 
 Fair Rate Generator (FRG) 
Here, we define a parameter, denoted by M(n), to measure the equivalent 
number of IA transit flows traversing node i , whose rate is equal to previous 
advertised fair rate. This parameter is determined by 
 ( ) ( )( ) ,
( 1)
i t
a
A n A nM n
F n
 

  (4.18) 
where Ai(n) is the arrival rate of ingress traffic in unit slots at the nth frame, 
   4 ,
1 1
1
N
i k j
k j
k i
A n g n
 
  , is the granted bandwidth of the jth queue in the kth 
buffer in node i at the (n+1)st frames; ( 1)aF n   is the moving average of 
Fa(n−1), which is the advertised fair rate generated at the (n–1)st frame, 
   111 na a
k n L
F n F k
L

 
   . The local fair rate at the nth frame is calculated as 
 49 
 Simulation Results and Discussions 
In the simulations, settings for the environment include 10 Gbps link capacity, 
200μs propagation delay between nodes, 200μs frame time, and 7 data wavelengths 
(W), and one control wavelength per ringlet. A frame time contains 125 time slots per 
wavelength, and a bandwidth per slot is 2.0 k bits. Four traffic service classes, voice 
video, HTTP, FTP, are considered and their corresponding weights are 4, 3, 2, and 1, 
respectively. Simulations for the proposed WATC and the distributed bandwidth 
allocation (DBA) [13] are conducted for performance comparison. Simulation results 
are recorded per frame time to show the bandwidth usage on a congested link.  
Fig. 4.7(a) shows a parking lot scenario where there are 8 (1∼8) greedy nodes 
with four types of traffic. Note that this parking lot scenario assumes that flows with 
four types of traffic are generated from node 1 to node 7 but terminated at node 8. The 
propagation delay is long. Fig. 4.7(b) shows the throughputs of the WATC and the 
group scheduling with traffic controller (GS_TC) at the output link of node 7, and Fig. 
4.7(c) shows the throughputs of the wavelength assigner with DBA (WA_DBA) and 
the group scheduling with DBA (GS_DBA) at the output link of node 7. It can be seen 
in Fig. 4.7(b) that the throughput of the WATC quickly approaches to 100% of the 
link capacity; while the throughput of the GS_TC achieves 95% of the link capacity 
as the throughput stabilizes. In other words, the GS_TC suffers some oscillation at the 
beginning. It is due to the fact that the GS_TC only searches and utilizes the earliest 
possible voids. The GS would leave a DB, whose length is equal to the granted 
bandwidth of a queue, behind in the queue unless it finds a proper void for this DB. 
Also, the bursts are bigger at the beginning while the received fair rate is larger. Since 
the bursts are too long to find available voids for them, the throughput of the GS_TC 
is not stable. Instead, the WATC would divide the DB into several smaller pieces of 
DB and assign each of them an approximate void. Furthermore, it is found in Fig. 
 51 
0.9
0.95
1
1.05
0 10 20 30 40 50 60 70 80 90
N
or
m
al
iz
ed
 T
ot
al
 T
hr
ou
gh
pu
t
Time (msec)
WA_DBA GS_DBA
 
Figure 7(c): The normalized throughputs of WA_DBA and GS_DBA 
Figs. 4.8(a) and 4.8(b) present throughputs of flow(1, 8), flow(3, 8), flow(5, 8), 
and flow(7, 8) of WATC and WA_DBA, respectively, in a parking lot scenario which 
contains 8 nodes as in Fig. 4.7(a). It can be seen that all flows of WATC takes about 
21ms to stabilize but all flows of WA_DBA is hard to do. It is due to the fact that the 
WATC can diminish the effect of the propagation delay by using the moving average 
technique. On the other hand, the WA_DBA computes the number of effective IA 
flows referring to both the short-term aggregating traffic (a frame time) and the 
previous local fair rate to generate the current local fair rate. However, due to the 
large propagation delay, the correlation between the short-term traffic and the 
previous local fair rate becomes low. Therefore, the WA_DBA cannot generate a 
correct local fair rate to regulate the flows. As a result, the flows oscillate and hardly 
converge. 
 53 
for the voice and video traffic by the FPRG, the regulated bandwidth by the received 
fair rate for the HTTP and FTP traffics would not be sacrificed for the voice and video 
traffic. In other words, the regulated bandwidth could be almost utilized by the HTTP 
and FTP traffics, and this will reduce the starvation of the HTTP and FTP traffic and 
decrease the traffic oscillation. Besides, the WATC also could effectively diminish the 
effect of the propagation delay. On the other hand, the WA_DBA cannot generate 
correct fair rate as the propagation delay is large and the voice and video traffic are 
with the highest priority. Therefore, the flows by WA_DBA are with the great 
oscillations.  
0
0.1
0.2
0.3
0.4
0.5
0 10 20 30 40 50 60 70 80 90
N
or
m
al
iz
ed
 T
hr
ou
gh
pu
t
Time (msec)
Flow(1-8) Flow(3-8)
Flow(5-8) Flow(7-8)
 
Figure 4.9(a): The normalized throughputs of WATC 
0
0.1
0.2
0.3
0.4
0.5
0 10 20 30 40 50 60 70 80 90
N
om
al
iz
ed
 T
hr
ou
gh
pu
t
Time (msec)
Flow(1-8) Flow(3-8)
Flow(5-8) Flow(7-8)
 
Figure 4.9(b): The normalized throughputs of WA_DBA 
 55 
0
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
1
0 10 20 30 40 50 60 70 80 90
N
or
m
al
iz
ed
 T
hr
ou
gh
pu
t
Time (msec)
Flow(1-8) Flow(3-8)
Flow(5-8) Flow(7-8)
 
Figure 4.10(a): The normalized throughputs of WATC 
0
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
1
0 10 20 30 40 50 60 70 80 90
N
or
m
al
iz
ed
 T
hr
ou
gh
pu
t
Time (msec)
Flow(1-8) Flow(3-8)
Flow(5-8) Flow(7-8)
 
Figure 4.10(b): The normalized throughputs of WA_DBA 
 
 
 57 
[15] P. Setthawong and S. Tanterdtid, “Efficient traffic management for bridged 
resilient packet rings using topology discovery and spanning tree algorithm,” 
IASTED International Conference on Networks and Communication Systems, pp. 
392–397, 2005. 
[16] Z. Zhang, F. Cheng, J. Luo1, Q. Zeng, and M. Jiang, etc., “Interconnected 
resilient packet rings (IRPRs): design and implementation,” Phot. Network 
Commun., Vol. 12, No. 2, pp. 181–193, Sep. 2006. 
[17] F. Alharbi and N. Ansari, “Distributed bandwidth allocation for resilient packet 
ring networks,” Comp. Networks, Vol. 49, No. 2, pp. 161–171, Oct. 2005. 
[18] F. Alharbi and N. Ansari, “SSA: simple scheduling algorithm for resilient packet 
ring networks,” Computer NetworksIEE Proceedings Communications, Vol. 153, 
No. 2, pp. 183–188, Apr. 2006. 
[19] F. Davik, A. Kvalbein, and S. Gjessing, “Congestion Domain Boundaries in 
Resilient Packet Rings,” Tech. Rep., Simula Research Laboratory, Feb. 2005. 
[20] M. Yilmaz and N. Ansari, “Weighted Fairness in Resilient Packet Rings,” IEEE 
ICC’09, 2007. 
[21] D. H. Lee and J. H. Lee, “A novel fairness mechanism based on the number of 
effective nodes for efficient bandwidth allocation in the resilient Packet Ring,” 
IEICE Trans. Commun., Vol. 89, No. 5, pp. 1526–1533, Nov. 2004. 
[22] C. G. Liu and J. S. Li, “A fast-convergent fairness scheme for resource allocation 
in RPR networks,” International J. Commun. Sys., Vol. 21, No. 7, pp. 773–789, 
Feb. 2008. 
[23] D. P. Bertsekas, “Dynamic models of shortest path routing algorithms for 
communication networks with multiple destinations,” IEEE Conference Decision 
and Control, pp. 127-133. 1979. 
[24] G. R´etv´ari, J. J. B´ır´o, and T. Cinkler, “On shortest path representation,” 
IEEE/ACM Trans. Networking, Vol. 15, No. 6, pp. 1293–1306, Dec. 2007. 
[25] B. Zhang, J. Zheng, and H.T. Mouftah, “Fast routing algorithms for lightpath 
establishment in wavelength-routed optical networks,” IEEE/OSA J. Lightw. 
Technol., Vol. 26, No. 13, pp. 1744–1751, Jul. 2008. 
[26] M. Heiden, M. Sortais, and M. Scheutzow, etc., “Multicast capacity of optical 
packet ring for hotspot traffic,” IEEE/OSA J. Lightw. Technol., Vol. 25, No. 9, pp. 
2638–2652, Sep. 2007. 
[27] L. Xu, H. G. Perros, and G. N. Rouskas, “A Simulation Study of Optical Burst 
Switching and Access Protocols for WDM Ring Network,” Computer Networks, 
vol. 41, no. 2, pp. 143-160, Feb. 2003. 
[28] Y. Arakawa, N. Yamanaka, and I. Sasase, “Performance of Optical Burst 
Switched WDM Ring Network with TTFR System,” International Federation 
 59 
IV. Comment 
 FLAG: A Fuzzy Local FairRate Generator for Resilient Packet Ring  
 
In this chapter, an effective fuzzy local fairRate generator (FLAG) is proposed 
for resilient packet ring (RPR). The FLAG is sophisticatedly composed of three 
function blocks: an adaptive fairRate calculator (AFC), a fuzzy congestion detector 
(FCD), and a fuzzy fairRate generator (FFG). The AFC pre-generates a fairRate, 
which meets RIAS fairness and can diminish the effect of the propagation delay. The 
FCD softly detects the congestion degree of station, considering STQ queue length 
and its change rate which is the arriving transit FE traffic flows to STQ. Subsequently, 
the FFG generates a suitable local fairRate by intelligently fine-tuning the 
pre-generated fairRate, using fuzzy logics, based on the congestion degree of the 
station. The FLAG can make traffic flows satisfy RIAS fairness criterion and 
converge to an ideal fairRate in an efficient way. Simulation results show that each 
flow by FLAG is indeed close to the designated rate with the smallest damping 
amplitude and the least convergence time in the parking lot scenarios and the 
available bandwidth reclaiming scenario, compared to conventional AM, DBA, and 
DBA fairness algorithms. These prove that the configuration of FLAG is indeed 
sophisticated, where AFC pre-generates the local fairRate using the moving average 
technique; FCD determines the congestion degree of station using fuzzy logics, 
considering not only the STQ length but also change rate of STQ length; and finally 
the FFG adopts the fuzzy logics and the expert’s domain knowledge to precisely 
generate the local fairRate by fine-tuning the pre-generated local fairRate by AFC 
according to the congestion degree by FCD. Also, the performance superiority of 
DMA over DBA proves that the moving average technique is indeed effective to 
diminish the effect of propagation delay on the stability of traffic flows 
 
 Intelligent Inter-Ring Route Control in Bridged Resilient Packet Rings  
 
The IIRC uses not only the two STQ lengths but also the reserved bandwidth for 
highest priority traffic and the equivalent bandwidth of an incoming new call to 
indicate the congestion degree of the interface of the bridge node. It specially predicts 
the mean received fairRate to detect the congestion degree of downstream-node. 
Moreover, IIRC further considers the number of hops to destination and the service 
rate of the bridge, besides the indication of the congestion degree of bridge-node by 
FBCI and the prediction of the mean received fairRate by PDFP, to decide a route 
preference value of the interface by FRC. The rule structure of FRC is based on the 
load balancing principle. Finally, the IIRC chooses a ringlet with higher preference 
 61 
2. W. S. Tang and C. J. Chang, "Intelligent Inter-Ring Route Control in Bridged 
Resilient Packet Rings," IEEE/OSA Journal of Lightwave Technology, Vol. 27, 
No. 24, pp. 5631–5638, Dec. 2009. 
 
Conference: 
1. W.-S. Tang, Y.-T. Hsieh, C. J. Chang, and W.-C. Chung “A Wavelength 
Assignment and Traffic Control Scheme in Reservation Slotted OBS Rings,” 
Proc. CHINACOM 2011, Aug. 17-19, 2011, Harbin, China. 
 
2. W. S. Tang and C. J. Chang, “A Fuzzy Inter-Ring Route Control with PRNN 
Predictor Bridged Resilient Packet Rings,” Proc. IEEE Globecom’10, Dec. 2010. 
 
3. W. S. Tang, W. C. Wang, C. J. Chang, and Y. T. Hsieh, “An Effective Fair 
Bandwidth Allocation in Resilient Packet Ring,” Proc. ChinaCom 2010, Aug. 
2010 (with Best Paper Award) 
 
4. W. S. Tang, C. J. Chang, and S. H. Liu, "A Fuzzy Fairness Control Mechanism in 
Resilient Packet Ring," Proc. ChinaCom 2009, Xian, China 
 
 
 
 
98 年度專題研究計畫研究成果彙整表 
計畫主持人：張仲儒 計畫編號：98-2221-E-009-058-MY3 
計畫名稱：全光都會環狀骨幹及其光纖/無線擷取網路整合技術--子計畫五：WDM 光纖環狀網路資源控
制策略設計之研究 
量化 
成果項目 
實際已達
成數（被接
受或已發
表） 
預期總達成
數(含實際
已達成數)
本計畫
實際貢
獻百分
比 
單位 
備註（質化說明：如數
個計畫共同成果、成
果列為該期刊之封面
故事...等） 
期刊論文 0 0 100%  
研究報告 /技術報
告 0 0 100%  
研討會論文 0 0 100% 
篇 
 
論文著作 
專書 0 0 100%   
申請中件數 0 0 100%  專利 已獲得件數 0 0 100% 件  
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 4 4 100%  
博士生 2 2 100%  
博士後研究員 0 0 100%  
國內 
參與計畫人力 
（本國籍） 
專任助理 0 0 100% 
人次 
 
期刊論文 2 2 100% 
1. W. S. Tang, C. J. 
Chang, P. L. Tien, and 
W. C. Wang, ’’FLAG: A 
Fuzzy Local FairRate 
Generator for Resilient 
Packet Rings,’’ 
IEEE/OSA Journal of 
Optical Communications 
and Networking, Vol. 2, 
No. 5, pp. 230–240, 
April 2010. 
 
2. W. S. Tang and C. J. 
Chang, ’’Intelligent 
Inter-Ring Route 
Control in Bridged 
Resilient Packet 
Rings,’’ IEEE/OSA 
Journal of Lightwave 
Technology, Vol. 27, 
No. 24, pp. 5631–5638, 
Dec. 2009. 
國外 論文著作 
研究報告 /技術報 0 0 100% 
篇 
 
博士生 0 0 100%  
博士後研究員 0 0 100%  
（外國籍） 
專任助理 0 0 100%  
其他成果 
(無法以量化表達之
成果如辦理學術活
動、獲得獎項、重要
國際合作、研究成果
國際影響力及其他
協助產業技術發展
之 具 體 效 益 事 項
等，請以文字敘述填
列。) 
無 
 成果項目 量化 名稱或內容性質簡述 
測驗工具(含質性與量性) 0  
課程/模組 0  
電腦及網路系統或工具 0  
教材 0  
舉辦之活動/競賽 0  
研討會/工作坊 0  
電子報、網站 0  
科 
教 
處 
計 
畫 
加 
填 
項 
目 計畫成果推廣之參與（閱聽）人數 0  
 
