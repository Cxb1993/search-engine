1 
行政院國家科學委員會專題研究計畫成果報告 
可還原資料隱藏技術暨資料探勘在色彩濾片陣列插補點技術之研究與實作 
The research and implementation of reversible data hiding and data mining 
technology application on color filter array interpolation 
計畫編號：NSC97-2221-E-218-046 
執行期限：97年8月1日至98年10月31日 
執行機構及單位名稱：南臺科技大學資訊工程系 
主持人：李育強 助理教授 
Email: lyc002@mail.stut.edu.tw  
http://faculty.stut.edu.tw/~lyc002 
 
目    錄 
一、摘要.................................................................................................................................................. 2 
二、前言與研究目的.............................................................................................................................. 2 
三、文獻探討.......................................................................................................................................... 2 
四、研究方法.......................................................................................................................................... 4 
五、結果與討論...................................................................................................................................... 5 
六、參考文獻.......................................................................................................................................... 8 
七、計畫成果自評.................................................................................................................................. 9 
 
3 
Xuan 等人[GFD01, XZC+02]，基於整數小波轉換(Integer Wavelet Transform, IWT)提出了一個改
進無失真數據隱藏方法，並壓縮高頻的系數以增加其資料藏量。 
NSAS 方法運用直方圖中成對的高低點，將像素由高點向低點移動，將空出的地方用來嵌
入資料[NSAS06]。NSAS 的偽裝影像品質其 PSNR (Peak Signal to Noise Ratio)至少可達到 48.1 
dB。在此以 512X512 大小且灰階度為 256 的 Pepper 圖像為例，說明 NSAS 的運作方法。NSAS
方法包括兩個過程、資料藏入和資料取出。為方便討論及不失一般性，在此以只選擇一對高低
點的 NSAS 方法來說明。 
(1) 資料藏入 
步驟 1：將所給定的原始像像，統計其色彩直方圖。圖 1 為 Pepper 圖像的直方圖。 
步驟 2：找出直方圖中的最高點及最低點的像素值。例如，在圖 1 中，像素值 93 發生 2,905 次，
以 h(93) = 2,905 表示，此點發生次數最多，稱之為高點；像素值 0 並不存在在 Pepper 圖
像中，共發生零次，是為最低點或零點。令 PP 表示最高點的像素值，且 ZP 表示零點的
像素值的(h(ZP)=0)。若該圖沒有零點，則找出該圖的最低點，儲存相關資料後將其清空
成零點。 
步驟 3：依序掃瞄原始影像。若 PP>ZP，則在範圍內[ZP+1，PP-1]，將像素值減一。若 PP<ZP，
則將範圍內[PP+1，ZP-1]的像素值加一。 
步驟 4：按同一順序再次掃描整個像像並藏入資料。在掃描到最高點的像素值時，嵌入一位元
資料。如果嵌入的位元是「1」，則將最高點的像素值由 PP 往 ZP 加一或減一；否則，最
高點的像素值不用改變。 
(2) 資料取出 
此過程取出藏入的資料，並還原原始影像。在此假設 PP<ZP。 
步驟 1：從儲存的記錄獲得最高點和零點。 
步驟 2：依序掃描偽裝影像。若像素值範圍在[PP+1，ZP]內，像素值減一以恢復它的初始值。
同時，如果像素值是 PP+1，取出位元「1」；如果像素值是 PP，取出位元「0」。 
步驟 3：恢復在資料藏入步驟 2 所額外儲存的像素值。 
NSAS 可選擇多對高峰點和零點以增加它的資料藏入量。 
 
0
500
1000
1500
2000
2500
3000
3500
0 17 34 51 68 85 102 119 136 153 170 187 204 221 238 255
最高點，PP=93
h(PP)=2,905
零點，ZP=0
h(ZP)=0
 
圖 1. Pepper 影像的像素色彩統計圖 
5 
在公式(2)中，APD 運用原始影像的 P 序列來計算偽裝影像的像素值，可避免像素差的累
積。要避免像素值超出上下界(255 及 0)，APD 運用一位元陣列記錄 P 序列像素邊界值(0
或 255)的點，且將會超出邊界的點固定在邊界值上。 
步驟 5：由步驟 4 所得的序列，來建構偽裝圖像。 
(2)資料取出 
步驟 1：依序掃描偽裝影像，獲得 P´´ 序´列。 
步驟 2：APD 從儲存記錄獲得最高點和零點對。再利用反運算公式來產生 P´´差異序列。此步驟
包含兩個子步驟。 
步驟 2.1：產生原始像素值的 P 序列，原始影像的像素值產生公式如公式(3)所示。 







 
                                                                      .
}2,1{],,()'''(   11  
                                                                    ,0        
      ,'''
 ,'''
       ,'''
1
otherwise
jCZPPPPPandnielseif
iif
P
sdP
P
P jjii
i
ji
i
i
 
(3) 
步驟 2.2：運用公式(4)產生 P´´序列。 


 

 .,''' - 
,0       ,
''
1 otherwisePP
iifP
P
ii
i
i
 
(4) 
步驟 3：根據 P´´序列取出藏入的資料。 






,''
,''
 1
0
jji
ji
sdPPP
PPP
ifelse
if
bitSecret　  (5) 
在此 j{1，2}。 
步驟 4：從 P 序列建構原始影像。 
五、結果與討論 
實驗使用 peak signal-to- noise ratio (PSNR)來量測偽裝影像的品質。PSNR 的計算公式如下： 
,
255
log10
210
MSE
PSNR   (6) 
其中，MSE 是原始影像與修改後影像的均方誤(mean squared error)。根據公式(6)，高 PSNR 值
意味著高影像品質。本計畫實驗的所有方法均以 Visual C++ 6.0 來開發。使用四張實驗影像
Pepper、Lena、Jet(F16)以及 Boat，大小皆為 512X512 以及 256 色灰階，如圖 3 所示。用來比較
APD、NSAS[NSAS06]以及 F&S[FS07]的資料藏量和偽裝圖像的品質。圖 4 則是四張實驗影像
經相鄰像素差轉換後的統計直方圖，資料多集中在「零」值及其附近。最高點愈高代表可藏入
的資料量愈多。要藏入的資料則以亂數產生，直到藏滿為止。 
表 1 與表 2 比較 APD、NSAS[NSAS06]以及 F&S[FS07]在資料藏量和偽裝影像品質上的差
異。以 APD1 表示 APD 方法選擇一對的最高點和零點；相同地以 APD2 表示 APD 方法選擇二對
的最高點和零點。NSAS 方法選擇二對最高點和零點來比較；F&S 方法則是使用四個區塊來比
較，其中每個區塊各選擇二對的最高點及零點。如表 1 所示，在資料藏量上 APD1 遠勝過 NSAS
以及 F&S，而 APD2 的資料藏量又勝過 APD1。如表 2 所示，在偽裝影像的品質上，APD1是最
好的；除 Boat 外，APD2 亦勝過 NSAS 以及 F&S。 
本計畫提出一個新的可還原資料隱藏技術，相鄰相像差方法(Adjacent Pixel Difference, 
APD)。利用相鄰像素間的差，來增加資料的藏量和提升偽裝圖像的品質。 
7 
 
  
(a) Pepper (b) Lena 
  
(c) Jet(F16) (d) Boat 
圖 4. 實驗影像的相鄰像素差之統計直方圖 
 
表 1. 各種方法的資料藏量在實驗影像上之比較 
Method 
Image 
APD1 APD2 
NSAS with 
two pairs 
F&S with 
4 blocks 
Pepper 33,381 62,206 5703 8365 
Lena 32,995 60,785 5726 9833 
Jet(F16) 45,460 79,363 17,878 27,226 
Boat 25,400 49,681 11,075 13,681 
 
9 
and Systems for Video Technology, vol. 13, no. 8, pp. 890-896, 2003. 
[TCFC05] C.-L. Tsai, H.-F. Chiang, K.-C. Fan, and C.-D. Chung, “Reversible Data Hiding and 
Lossless Reconstruction of Binary Images Using Pair-wise Logical Computation Mechanism,” 
Pattern Recognition, vol. 38, no. 11, pp. 1993-2006, 2005. 
[XZC+02] G. Xuan, J. Zhu, J. Chen, Y. Q. Shi, Z. Ni, and W. Su, “Distortionless Data Hiding Based 
on Integer Wavelet Transform,” IEE Electronics Letters, vol. 38, no. 25, pp. 1646-1648, 2002. 
[ZW06a] X. Zhang and S. Wang, “Dynamical Running Coding in Digital Steganography,” IEEE 
Signal Processing Letters, vol. 13, no. 3, pp. 165-168, 2006. 
[ZW06b] X. Zhang and S. Wang, “Efficient Steganographic Embedding by Exploiting Modification 
Direction,” IEEE Communication Letters, vol. 10, no. 11, pp. 781-783, 2006. 
[ZZ07] Z. Zhang and Y. Zhao, “Multiple Description Image Coding Based on Fractal,” Intl. Journal of 
Innovative Computing, Information and Control, vol. 3, no. 6(B), pp. 1615-1623, 2007.
 
七、計畫成果自評 
本計畫在可還原資料隱藏技術上，利用影像的區域相似的特性，將相鄰像素相減以得到更
高的資料藏入量並維持高品質的偽裝影像。本計畫已成功提出 APD 方法，並已實作完成，所完
成的技術及成果具有學術及實際運用的價值。亦將初步研究成果彙整，將其應用到易碎型浮水
印，發表於 PCM 2008 國際學術研討會中並被收錄至 LNCS 專書中。另一部份成果投稿至國際
學術期刊 DSP 已被接受，可謂成果豐碩。而本計畫的第二部份---運用資料探勘在色彩濾片陣列
插補點技術---為下一年之計畫，現正積極研究中。本次計畫的執行使得參與計畫之研究助理能
在短時間內學會快速蒐集相關資料，熟讀相關演算法，實作程式，更能進一步提出各種想法。 
 
貴的意見。而在晚間餐敘中，本人亦與歐美及亞洲各
國學者一同交流各地實驗室的最新研究發展及概
況。此次會議帶回 CD 版論文集一份 ISBN: 
978-0-7695-3762-7，並對日本的發展現況留下深刻的
印象。 
 
Session B04 報告發表實況之二 
 
   
報告人於會場留影 京都車站 京都塔 
 
二、與會心得 
隨著現代資訊科技的發達，多媒體(Multimedia)已經融入一般人的生活上。人們可藉由
多媒體相關技術及設備獲得有用的資訊、提供娛樂並從中學習。本次會議提供世界各地菁英
學者一同探討多媒體最新發展技術之交流機會。所有發表的論文皆收錄於 IEEE Xplore 中，
並供 EI 索引，與會學者遍佈歐、美、亞、澳等世界各地，為一重要的國際學術研討會。而
多媒體上的保護及安全認證也是其中重要的議題之一。因此，IIHMSP 2009 國際學術研討會
並特別組織 Protection and Authentication for Multimedia Information 之 Special Session，並邀
請林教授與報告人擔任此 Session 之主持人。報告人參與本次會議之後的心得如下： 
 
