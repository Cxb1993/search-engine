 2
目的即為一重要問題。若無線感測網路
系統佈放於室外，此一空間資訊可藉由
全球定位系統取得。但若此一感測網路
系統係工作於室內，則由於環境複雜度
較高且環境變化的程度較劇，定位之挑
戰亦較嚴苛。本計畫因之以發展感測網
路系統之室內定位法則為重點。 
 
除了定位與目標物追蹤法則之發展
外，由於在室內環境中其環境複雜度較
高且環境變化的程度較為劇烈，因此在
建構室內定位系統時依室內環境之不
同，其所相對應合適之定位系統亦隨之
有所不同，且在建構定位系統時往往是
需要耗費相當多的時間與成本，所以有
必要發展出一分析評估之方法來對欲建
構室內定位系統之環境進行事先之分析
與模擬，提供系統建構者額外之參考資
訊，讓系統建構者能夠在實地架構定位
系統前能事先預估在此環境中使用何種
定位方法能夠有較佳之定位結果，如此
無形中將可縮短建構系統之成本與時
間。 
 
三、 研究方法與成果 
 
無線感測網路室內法則與定位品質分析 
 
由於室內環境的複雜度高因此對於
不同之環境其所適用之定位演算法亦有
所不同，為了節省建構定位系統時所需
之時間與成本，本研究提出室內定位品
質分析之演算流程以建構一無線感測網
路室內定位系統。圖一為針對此一分析
發展之流程，分成建立地圖、定位品質
分析、模擬環境參數設定與資料處理等
四部份。 
 
在發展定位法則與進行定位品質分
析前首先需先針對環境空間中各障礙
物、訊號發射模組、與訊號接收模組之
相對幾何關係進行分析以期建構環境背
景地圖。圖二為一典型環境資訊地圖。
藉由設定可選擇此一環境中之訊號發射
模組（AP）、障礙物、與待定位點（接收
模組）。針對此背景地圖可進而根據衰減
模式推算待定位區域各點所接收到來自
不同訊號發射模組之訊號強度。一典型
衰減模式如下式所示： 
0
10
( ) 10 log ( )
M
r d
m
dP d P W m v
d
γ
=
⎛ ⎞= − + +⎜ ⎟⎝ ⎠ ∑               
其中 γ 代表間隔距離與接收功率的關
係， 0d 為已知之參考距離， 0dP 表示針對
參考距離 0d 所相對應的參考功率， ( )W m
表示障礙物和多路徑衰減因數，v表示量
測雜訊。一般於室內環境， γ 値約介於
2~4 之間而 v之標準差則約介於 4~8dBm
之間[5][6]。但是當訊號傳送路徑受到障
礙物或反射物影響時，會對所量測之 RSS
值造成誤差。 ( )W m 之模式會依頻率、障
礙物材質特性等而異[7][8]。圖三為此一
參數設定之圖控畫面。藉由上述環境資
訊與訊號衰減模式，可隨機產生一系列
之模擬資料以代表各待定位點所量測之
RSS 值以供定位品質分析。除模擬資料
外，同時亦可於特定點進行實測以取得
實驗資料以與模擬資料合併建構 RSS 資
料庫。 
 
室內定位演算法一般概分為則兩類
型：其一為特徵比對法、另一為參數估
算法。前者藉由量測或模擬資料建立資
料庫，當有一新量測值時則根據資料庫
進行比對與判定。後者則沿用量測與衰
 4
能，也因此當伺服端處理中心取得分散
式之量測訊號後，無法分辨各感測模組
之位置。本計畫工作之一即為建立無線
感測模組定位之能力。 
 
於各無線感測模組進行之工作係發
展建基於TinyOS[11]作業系統下的nesC
程式以將所量測到的RSS值傳回到伺服
端。在此由於事先無法保證環境中每個
感測模組皆與伺服端相可直接進行無線
資料傳輸連結，故得要求所撰寫的程式
具有多重跳躍(multi-hop)的功能，亦即利
用中繼之無線感測模組將遠端之感測資
料與RSS值以接力方式傳遞至伺服端。 
 
    除了需設計撰寫在無線感測模組上
執行的程式外，還需設計在伺服端接收
無線感測模組所傳遞之訊號的對應程
式。在此使用Borland C++ Builder進行設
計，其軟體介面如圖六所示，透過此程
式可於實驗時直接由電腦端監控數據收
集之狀況並將其儲存起來以供分析處理
使用。 
 
無線感測網路定位實驗 
 
實驗場地為成功大學電機系館 8 樓
倒 L 型走廊，其規劃如圖七所示，走廊
長度與寬度分別為 27.6 公尺與 6 公尺，
在走廊邊緣處佈置六個 AP，並在此場地
上每隔 1.2 公尺以實地量測法測量各位
置的 RSS 值如此會有 60 個量測點，並以
此做為定位資料庫，此外會由所收集到
的數據資料求得訊號衰減模型之各參數
並結合定位法則進行定位解算。 
 
實驗中部分 AP 的 RSS 量測值與標
準差如圖八所示，其中對照圖七實驗場
地示意圖可看出 RSS 訊號強度與距離成
反比。根據此些量測資料可求得訊號衰
減模型曲線與各衰減模型之參數。另
外，標準差之資料庫則可於定位解算時
供加權之參考。 
 
當此一資料庫之品質得以確保後，
則可據以提供定位服務。本計畫分別探
討靜態之定位與動態之目標追蹤問題。
靜態定位係將待定位模組置於定位區內
之一固定點，進行 RSS 值之量測後進行
位置解算。表一列出於不同位置量測與
定位後之 CEP(Circular error probable)、平
均誤差及定位標準差。由於當待定位模
組於不同位置時所可建立之 link 個數不
同，表中顯示不同接收訊號個數下之定
位誤差。當接收訊號個數較多時，誤差
相對較小。原則上，本實驗可得公尺級
之誤差。 
 
 無線感測網路中，各感測節點之偵
測範圍有限。對於目標物追蹤如人員或
物件之監控，各感測元件可能僅偵測到
部分且零散之資料。同時由於近距離操
作，各量測訊號會受到非線性現象之影
響。因此於探討目標物追蹤議題時，得
留意此些接收訊號源與非線性變化。本
計畫將經修改後之無線感測模組置於一
移動式機器人上並操控此一機器人沿特
定軌跡移動。當取得此一移動過程之 RSS
值後，可進行軌跡重建。圖九顯示根據
兩次不同實驗資料所重建之機器人軌
跡。此二軌跡具有相當高之關連性，亦
即本計畫所發展之定位法則具又相當程
度之強健特性。 
 
四、 結論與討論 
 
 6
 
 
圖二、建構之環境資訊地圖 
 
圖三、參數設定圖控畫面 
 
 
 
 
圖四、RSS 地圖品質分析 
   
 
圖五、幾何強度(DOP)分析 
 
 
圖六、伺服端軟體介面 
 
 
圖七、 實驗場所示意圖 
