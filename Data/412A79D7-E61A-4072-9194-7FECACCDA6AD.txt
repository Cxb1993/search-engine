1 
行政院國家科學委員會專題研究計畫成果報告 
 
個人電腦為基礎之乳房超音波及腫瘤切片診斷系統－子計畫二：可穿
戴式超音波掃瞄輔助系統的設計與研究 
計畫編號：NSC 94-2213-E-305 -005 
執行期限：95 年 8 月 1 日至 96 年 7 月 31 日 
主持人：黃俊堯 
執行機關：國立台北大學資訊工程系  
計畫參與人員：簡勝璿 
 
中文摘要 
傳統超音波掃描器為醫院內常使用大
型且笨重的裝備，在操作流程上相當繁瑣，
導致醫師在操作掃描儀時無法全神專注在診
斷行為上，雖然隨著科技的發展與進步，現
代的超音波掃描器，已逐漸發展成便於攜帶
的裝置，在臨床診斷上提昇醫療效率，但是
仍然需要醫師手握複雜的超音波掃描器之操
控裝置，而眼睛必須同時去注視螢幕上掃描
結果與病患狀況。 
本計畫是屬於整合型計畫之第二個子
計畫，本子計畫的基本精神是探討如何將普
及式計算的技術應用在超音波的即時診療，
研究重點為設計一套醫療用穿戴式電腦的系
統架構，配合著子計畫一與子計畫三的研究
成果來整合提供醫生一個更容易超作且人性
化的乳房超音波掃描環境，本計畫所研究的
穿戴式電腦透過無線網路接收子計畫一所掃
描的超音波影像，顯示在醫師所佩帶的頭戴
式顯示器，使得醫生能以最自然的方式來專
心進行超音波掃描診療。 
 
Abstract 
The ultrasound machine is frequently 
used diagnostic equipment in the hospital. The 
operation of a legacy ultrasound machine is 
quite complicated such that a doctor often can 
not concentrate on his diagnosis while 
operating the machine. With the evolvement of 
the computer technology, the portable 
ultrasound machine was invented for the 
military and emergency services. However, the 
portable ultrasound machine still requires the 
user’s attention on operating the machine 
which unavoidable distracts the doctor from 
diagnosing the patient.  
The goal of this project is to design a 
wearable ultrasound scanning aid for the 
doctor. The scanned image from the ultrasound 
machine will be displayed in the head-worn 
display(HWD) worn on the doctor head. By 
this way, the doctor can focus on the ultrasound 
diagnosis without distract by the complex 
operation and the efficiency and accuracy of 
the treatment. 
This project is the second sub-project of a 
two-year integration project. The purpose of 
this sub-project is to study the method and the 
mechanism to apply the pervasive computing 
technology to the ultrasound treatment. 
Combine with sub-projects one and three, this 
integration project attempt to provide a 
free-hand and easy controlled Breast 
Ultrasound Scanning environment. The 
wearable computer designed in this project will 
operate the Breast Ultrasound Scanner which is 
designed by sub-project one. The resulted 
scanning image will spontaneously display 
3 
的運算，得到進一步的輔助，因此，穿戴式
電腦的具體特徵為[5]： 
z Portable while operational 
z Hands-free use 
z Sensors 
z Proactive 
z Always on, always running 
其中 Portable while operational 特徵乃是針對
桌上型電腦與筆記型電腦的操作上，使用者
必須遷就於電腦所在位置的問題提出改進，
穿戴式電腦與現行電腦最大的區別就是可以
邊走邊用。而 Hands-free use 特徵乃針對醫療
與軍事的穿戴式應用上，特別強調免持操
作，可以讓使用者空出雙手去做其他事情，
不需費心思於操作使用上，也才不會手忙腳
亂的情形發生。Sensors 特徵則強調除了被動
接受使用者輸入之外，穿戴式電腦還會主動
透過感測器得到週遭環境的資訊，這些感測
器可能包含無線通訊、GPS 接收器、數位影
像模組、或麥克風等等，讓穿戴式電腦得到
更多的資訊可以提供給使用者。Proactive 則
為穿戴式電腦最顯著的特徵，隨時根據使用
者現在的狀態，穿戴式電腦主動提供適切的
資訊給使用者。最後，“Always on，always 
running”為穿戴式電腦的基本特性，即隨時都
處於運作的狀態，並感測外界的資訊與做出
適當反應。此一特點為穿戴式電腦對抗 PDA
最大競爭優勢，PDA 只有在使用者需要操作
時才被喚醒進行操作。 
由這些特徵可以看出，穿戴式電腦的基
本特性，為隨時都處於運作的狀態（Always 
on, always running），主動感測與處理外界的
資訊（Sensors），並依需要主動傳送相關資訊
給使用者（Proactive），提供使用者一個良好
操作環境，減低使用者因操作繁瑣介面與留
意環境資訊，而造成注意力分散進而影響工
作效率與安全性。藉由穿戴式電腦技術，使
用者可以更專注於當下工作的判斷與思考，
大幅提昇工作效率。 
本子計畫的基本精神是探討如何將普及
式計算的技術應用在超音波的即時診療，普
及式計算的研究已廣為在各研究領域所深入
探討，例如南韓於 2005 年開始與韓國當地的
資通訊業者合作，在漢城推出了 Ubiquitous 
Dream Hall 計畫，以生活中各項可能的資訊
通訊應用建置成一個生活環境，內有數位家
庭中心（Village Hall-Digital Home）、社區中
心（Village Hall-Neighborhood Facilities）、娛
樂中心（Entertainment Hall）以及技術展示中
心（Technical Show-room）[6]。麻省理工學
院 MIThril 計畫為探討人機互動所設計的穿
戴式設備[7][8][9]，將電腦的運作與穿在我們
身上的衣服整合，使得電腦自然地在我們的
週遭運作。 
在醫學方面的應用研究，麻省理工學院
提出的 Healthwear[10]的研究，將穿戴式電腦
實作在病人的醫療照護方面，結合了各式各
樣的醫療 Sensors（如圖三），針對不同的醫
療需求將穿戴式電腦應用於其中，但是這些
大多是以病人為主體設計的系統，對於醫生
這端，除了系統資料庫的資訊處理外，穿戴
式電腦針對醫生醫療行為的輔助設計則尚待
努力。因此，期待藉由本計畫的執行能提出
普及式計算在超音波掃描的應用技術。 
 
四、 結果與討論 
以下我們將描述子計畫二在兩年期間
的執行中，所獲得的成果，主要分為下列幾
個部分。 
 
(1)整體系統架構 
如圖四所示，本計畫將整個超音波掃瞄
系統劃分成兩端，一端為醫生所配置的穿戴
式電腦可視為 Client 端，而超音波掃描器主
機及其後端的資料庫、後續病理分析可視為
Server 端。本計畫所負責的部分為 Client 端
的系統設計以及 Client 端與 Server 端的資料
傳輸。而整體系統的資料流程是依如下的順
序進行： 
1. 穿戴者透過我們設計的操作介面傳達指
5 
提供哪些資料、有多少應用程式需要那種的
資料、以及兩端之間的路徑建立。 
在兩端 Process（資料提供與需求者）首
先須透過系統所提供的呼叫函式向 Manager
註冊〝本人有某種資料需要送出去〞（稱為
publisher），或是向 Manager 註冊〝本人需要
某一種資料，請送給我〞（稱為 subscriber）。
系統執行期間，publisher 要送資料時就把
Manager 視為一個〝push〞model，將所要傳
送的資料往 Manager 〝丟〞，而另一端
（ subscriber）要接收這一個訊息時就把
Manager 視為一個〝pull〞model，向 Manager
要求資料。兩端 Process 只需負責丟與收資
料，對於資料路徑與資料需求配對皆不需考
慮。基本上，Manager 算是一個幕後工作者，
其基本精神在於 Manager 只是從資料提供端
得到資料，再將這份資料送給需求者。因此，
Manager的Communication model扮演極為重
要的角色，Communication model 主要的目的
是 Manager 必須在資料提供與需求端進行互
動之前，就要先找出彼此之間互動的關係，
而這一個階段就稱為 Scheduling phase。在
Scheduling phase 之後，Manager 會在資料提
供與需求端間建立好一條所謂的 virtual 
channel，使得資料提供與需求端可以透過這
一條 virtual channel 來互相聯繫。Manager 在
建立 virtual channel 之前必須要知道資料提
供與需求端的存在及其所扮演的角色，而
Manager 會將這些資訊記錄下來，由 publisher
所得到的資訊會被儲存於 Publication Table
（能提供什樣的資料）中，而由 subscriber
所得到的資訊則被儲存於 Subscription Table
中（需要什樣的資料）。而 Manager 就是透過
這兩個表格的資訊來決定 publisher 與
subscriber 之間互動的關係，進而建立
publisher 與 subscriber 之間的 virtual channel
（如圖九）。 
 
(3.2) Middleware System 建置 
 在穿戴式電腦端，本計畫基於 Linux 
kernel 2.6.16 設計了一個小型的 middleware 
layer ，包含 Programming APIs ， Channel 
Management，Module Management 等三個部
分，從系統感測到穿戴者（醫生）下達的指
令（藉由 Twiddler2），根據所接收到的指令
分析，轉換為 middleware 內部訊息，判斷是
否要在本機處理，或是回傳指令至 Server
端，然後依照模組判斷傳達指令給系統應用
程式進行處理。 
 
(4)系統與平台的建立 
除了硬體設備的改進以及 middleware
系統的研究外，本研究在系統建構上，考量
整個系統的可攜性以及維護的便利性之後，
決定將原本所使用的 Windows 系統改為
Linux Fedora core 6。主要的原因有四個：（一）
確立整個系統的模組化、（二）提高對不同裝
置的相容性、（三）使系統有跨平台的特性及
（四）將系統負載輕，以降低穿戴式電腦端
處理的負荷。 
 
(4.1)無線網路傳輸效能 
 基於網路卡設備的限制，我們在網路端
的處理是採用 802.11b 作 AdHoc 連接傳輸處
理，傳輸的機制是使用 TCP 的通訊協定以確
保傳輸資訊的正確性。而在傳輸影像封包
時，為了要避免無線網路壅塞，以提升傳輸
品質，必須將傳輸封包量減少，以避免傳輸
碰撞發生，導致傳輸大小值重設[17]，因此要
盡量把每個封包大小加大。本計畫將封包大
小以 1400 bytes 為基準作傳輸，因為原本
Windows 以及 Linux 系統所預先設定的 MTU
都為 1500 bytes，再扣除掉 TCP 以及 IP 封包
標頭檔案後，剩下 1460 Bytes，此數值即為
各項網路傳輸模擬軟體，例如 ns2[18]的標準
數值。但是又因為每台電腦的標準數值設定
會有些許差距（在測試的 Server 端極限值只
能到 1440 bytes），為了避免 packet 太大發生
問題，因此本計畫採用 1400 bytes 作為 packet 
size，留下 60 Bytes 作為緩衝的 buffer。 
7 
處理的相容問題。 
 接著為了與子計畫一超音波掃描裝置處
理 後 的 影 像 檔 案 整 合 ， 本 計 畫 設 計
TransBMP()這個函式，只要將影像檔案傳入
該函式，即可直接傳送至穿戴式電腦端，降
低整合方面的問題。而在這個函式中，也有
預留一個命令參數，作為 Server 端與子計畫
一之間互相溝通的機制。 
 
五、 計畫成果自評 
下列幾點為在計畫書所提列之預訂進
度，以下根據所列的預定結果分項說明： 
1. 研究穿戴式電腦的相關理論 
2. 研究相關動作追蹤感測器運作原理 
3. 研究穿戴式顯示器之控制原理與建置 
4. 建置穿戴式電腦的基本硬體架構 
5. 整合動作追蹤感測器與穿戴式電腦硬體
介面電路設計 
6. 設計穿戴式電腦發展平台系統軟體架構 
7. 研究穿戴者身體動作追蹤演算法 
8. 撰寫動作追蹤感測器驅動程式 
9. 設計與子計畫二之多維度自動掃描乳房
超音波裝置相符的控制指令及傳遞指令
格式 
10. 設計與子計畫一乳房超音波診斷系統的
溝通介面及傳遞資料之格式 
11. 設計病歷伺服器與穿戴式電腦之間的資
料傳輸格式 
其中，第 2, 5, 7, 8, 9 項因為整合型計畫
之原始子計畫二『多維度自動掃描乳房超音
波裝置』未獲通過而無法進行的項次。而第
4 項為在第一年時已完成之項目，第 1, 3, 6, 
10, 11 項也在第二年執行後都有基本成果，
而下面四項為原始計畫書預定要在第二年實
行的部份： 
1. 設計穿戴式電腦圖形化使用者介面與資
料顯示方式。 
2. 穿戴式電腦與子計畫二『多維度自動掃描
乳房超音波裝置』的控制指令整合。 
3. 整合穿戴式電腦與子計畫一的資料傳輸。 
4. 整合穿戴式電腦與後端伺服器間的資料
傳輸。 
本計畫第二年在第一、三、四點的部
份，都已經有不錯成果。但是第二點的部份
則因原先的子計畫二未獲通過而中斷研究。 
 最後提出本計畫未來可以再加以改進的
部分，主要是在傳輸顯示的部分，因為無線
網路 IEEE 802.11b/g 的限制，傳輸頻寬被侷
限在一定的範圍（802.11b/g 的理想傳輸值分
別為 11/54Mbps），而在醫學影像的傳輸要
求，必須要是無失真的影像傳輸，本計畫只
能達到每秒約 4 個畫面的效能，無法滿足每
秒 25 個畫面以上的即時處理需求。 
 因此系統需要加入無失真的影像壓縮演
算法來提升效能，但現今無失真的影像壓縮
方法中，針對超音波 8-bit 黑白影像的壓縮
比，大多為 1:2 左右，頂多到 1:3 的比例[22]，
也就是頂多只能達到每秒 12 個畫面的傳輸
效果，可能需要再採取連續影像的差值壓縮
方式，才有可能達到所想要的傳輸需求。但
其中有一點需要去注意，即為本計畫的解壓
縮端是穿戴式電腦，其運算處理的效能不如
一般個人電腦，必須要讓解壓縮的複雜度降
低，才能符合系統需求。 
 另外可以進一步改進頻寬問題，例如改
採 IEEE 802.11n[23]的無線傳輸規格，此規格
雖然已經有產品在市面上量產，但是目前只
有訂立 IEEE 802.11n draft 版本，正式規格要
等 2008 年才會確定。另一種可能方法為採用
MIMO（multiple-input multiple-output）技術，
來達到 240Mbps（理想值）的傳輸速度。 
 上列兩個解決方案，亦可同時併進，皆
為將來改良本系統處理效能部份，可進一步
發展的方向。 
 
六、 參考文獻 
 
[1] D. Sebastian, “Development of a 
Field-Deployable Voice-Controlled 
Ultrasound Scanner System”, Master 
Thesis, Department of Electrical and 
  
圖一、傳統的超音波儀器 
 
 
圖二、傳統的超音波掃描流程 
  
 
圖五、(上)SBC與其他週邊裝置 (下)SBC內部架構 
 
     
(a)                                       (b) 
圖六、SBC穿戴式電腦硬體雛型 (a)背面(b)正面 
 
  
 
圖十、穿戴式電腦端的軟體架構 
 
 
圖十一、資料傳輸格式 
 
 
圖十二、資料格式判斷流程 
 
  
表一、穿戴式電腦硬體裝置對照表 
 CPU HD Memory Power Other 
XYBERNAUT 
MAV 
Celeron 
500MHz 
5G HD 256MB 
SDRAM 
1.5 hours USB,IEEE1394
,PCMCIA,UIP
   SBC PIII 
900MHz 
2G DOM 128MB 
SDRAM 
40 mins RS-232,USB, 
PC/104 
 
Process Modeling、Dynamic Data Driven Application Simulation、Homeland 
Security/Emergency Response、Semiconductor Manufacturing、Simulation-Based 
Scheduling、Simulation Education、Telecommunication Applications、Virtual Reality and 
Simulation、Health Care、General Applications、Construction Engineering and Project 
Management、Risk Analysis等 20個 tracks，而報告人受邀擔任 Virtual Reality and Simulation
這個 track的主持人，報告人希望藉機對國內推廣模擬技術，廣邀相關學者參與。 
 
此次會議的最大特點是有相當多的專題演講，由於模擬技術及應用領域涵蓋範圍相當廣，大
會藉由大量的專題演講來趁機推廣模擬技術與應用範疇，此作法值得我們加以仿效。 
 
 
三、建    議 
模擬技術的研究對於一個國家科技發展具有舉足輕重的地位，對於歐美先進國家，所有科技
研發都是以模擬來探討及驗證，甚至公共政策制訂都是先經過模擬，再決定如何進行，例如，
在研討會上，報告人看到廠商展示英國要改進火車站，事先經過模擬來決定車站內的動線如
何設計，方能有效的疏散人群，得到空間與群眾安全最大效益。而歐洲的太空站建立也是經
過反覆的模擬來決定如何建造，更遑論軍事武器的建造與使用，而民生方面，生物醫學的發
展也需靠模擬才能快速進步，在歐美先進國家，模擬已變成科技研發、工業發展、軍事發展、
及民生應用所不可或缺的一環，反觀國內，對於模擬的研究，目前還是處於起步階段，國內
沒有模擬相關之研討會及組織，也沒有學校開關於模擬的課程，工商業界也無相關職缺需
求！！國內對此模擬領域的推展需要再加強！！ 
 
四、攜回資料名稱及內容 
研討會議程、研討會 CD一片 
 
