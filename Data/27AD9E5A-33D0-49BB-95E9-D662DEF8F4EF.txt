2 
 
IMT-Advanced相同，甚至是高於 IMT-Advanced的規範，擁有更好的表現。 
 
二、 研究目的及文獻探討 
在 IEEE 802.16m中，最重要的莫過於 QoS。QoS最主要的目的是讓不同類型的傳輸資料，可以
依照其資料類型，對應到相符的 QoS類別，然後系統依照此 QoS類別的相關參數來進行頻寬的分配，
發送時機的安排等等。但是，在 IEEE 802.16m標準中，僅有大致說明整個頻寬請求、同意以及分配
的過程，並沒有細述與制定一個最適當的排程方法。至於排程的方法則是留給各家廠商以及學者自行
研究設計，讓同一套的 IEEE 802.16m系統，可以因時因地滿足各種不同使用者的需求。一個好的排
程方法可以讓系統將有限的資源發揮到最大的效率，較差的排程方法縱使資源足夠，仍不會讓使用者
感受到好的服務品質。由此可見，排程技術是一項重要且關鍵的問題。早期 IEEE 802.16設計的改善
方法，並沒有完善的考慮到各種網路狀況，使系統能有效率的利用。無線網路不比有線網路般單純，
無線網路的環境是隨時變化，且使用者是隨時移動，無法預測的。因此，更是增加了無線網路在處理
上的難度，使用者所在的位置、訊號的強度、干擾等等都是無線網路在排程時必須考慮到的問題。排
程的目的是必須依照 IEEE 802.16m的 QoS機制，讓即時性的資料能夠有較快的傳送時機及較高的頻
寬，讓較低優先權的服務也能有連續不斷的頻寬而不至於餓死(Starvation)，讓資料量小的使用者也能
依照其需求供應適當的頻寬。由於 QoS是為 IEEE 802.16m標準的一個重要特點之一， QoS的探討
也大多為排程研究的基礎。因此，我們依照 IEEE 802.16m的標準，利用 QoS對於各資料類型的所定
義的相關參數，並考量使用者與基地台間通道的品質、使用者所在的位置等等，設計出一個動態且依
照 QoS優先權順序的排程演算法，目標讓整個系統達到最有效率的運作。 
由於 IEEE 802.16m標準今年五月才完成，因此並沒有大量依照正試標準來進行排程與頻道選擇
的研究被提出。[6]利用天線產生特定波束來增加吞吐量，並消除干擾，但是並沒有針對服務品質的
部份來探討。[7]是以 QoS為設計基礎的一種演算法，雖然研究了很詳細，且有不錯效果，但是其 QoS
類別設定較少，當類別多時，其演算法可能會失誤。[8]是一個基於公平性排程的演算法，其演算法
可盡量讓各個服務流都擁有傳送機會。但顯然對於高優先權的流量並沒有較高的保證。考量前一陣子，
大部份發表的研究都傾向於擁有中繼站功能的 IEEE 802.16j標準。雖然這個標準可以利用中繼站的功
能，將涵蓋範圍延伸、提升邊緣的資料速率，但是並不能夠真正的提升整體的效能。而在這些眾多的
IEEE 802.16j研究當中，仍然有許多新穎、快速且理想的演算法值得我們學習。[9]對於不同節點的流
量，依照其結點所聚集的頻寬需求，給予適當的頻寬。這雖然可以有效的讓高負載的節點得到較多的
頻寬，可以沒有考慮到各節點中流量的 QoS等級。[10]使用 Lagrange Multipliers，依照各流量的特性，
分配頻寬給不同 QoS等級的使用者，並應用於車載網路中。但是其 QoS所規範的類別太少，不足以
服務現今的各式各樣的應用。[11-18]使用了集中式排程來集中管理所有資料，或者使用分散式排程來
加強中繼站的處理效率。但是這些研究中都沒有依照優先權的順序來分配頻寬，更沒有顧慮到即時性
資料的最大延遲時間。有藉於此，本計畫希望能夠吸收各方優點，提出一個新穎的演算法，並藉由選
擇正確的通道、適當的頻寬分配以及適應性的頻率重覆使用，來達到最有效率的運作，改善整個 IEEE 
802.16m系統的效能。 
 
三、 研究方法 
本計畫將依 IEEE 802.16m之網路架構設計出一個應用於上行的排程方法，可以動態的依照各條
通道環境來達到最適當的通道分配。並且依照使用者連線的優先權順序與即時性服務的急迫程度，給
4 
 
RM ൌ BWെ HB௥௘௤ െ MB௠௜௡								ሺ1ሻ 
服務類別為UGS、 ertPS的連線經判斷式(2)而被同意加入到ABS服務中後，即進入排程程序。NC௦ 定
義為使用者其服務類別為 s的新連線所請求的頻寬數量。 
Grant ൌ ቊ					Yes			，						NC௦ ൑ RMNo			，						Other													，ݏ ൌ 0	or	1				ሺ2ሻ	 
服務類別為 aGP、rtPS和 nrtPS的連線經判斷式(3)而被同意加入到 ABS服務中後，即進入排程程
序。NCmin௦ 定義為使用者其服務類別為 s的新連線所請求的最少頻寬數量。 
Grant ൌ ቊ			Yes	，	NCmin௦ ൑ RMNo	，	Other													 			，ݏ ൌ 2	or	3	or	4					ሺ3ሻ 
由於服務類別為 BE的連線其 QoS參數中並沒有最小頻寬需求的限制，因此為了避免 BE連線無限
制的進入系統中而佔用太多系統頻寬，HABA設定 BE允許加入的條件。BE連線依照負載狀況和其他
服務類別的狀況，經判斷式(4)而被同意加入到 ABS 服務中後，即進入排程程序。݉ܽݔ	B௥௘௤定義為所
有被 ABS服務中的使用者所需求的最大頻寬數量。݉ ݅݊		B௠௜௡定義為所有被 ABS服務中的使用者所需
求的最少頻寬數量。 
Grant ൌ ൞	
	Yes，݉ܽݔ	B௥௘௤ 	൑ RM ൒		NCହ 																						
Yes，	݉ܽݔ	B௥௘௤ ൐ ܴܯ ൒ ݉݅݊		B௠௜௡ ൒ NCହ
	No，Other																																																															
ሺ4ሻ	 
當系統剩餘頻寬大於或等於目前已被 ABS服務的所有連線中最大頻寬需求的連線，且 BE請求的頻
寬等於或小於 RM時，表示系統剩餘頻寬還足夠服務大多數的使用者，因此允許 BE連線被加入到系
統中。然而當負載增加，為了避免剩餘的頻寬被低優先權的 BE使用，因此系統將依限制條件允許 BE
加入。當 ABS服務的所有連線中最大頻寬需求的連線大於剩餘頻寬，且目前被 ABS服務的所有連線
中最小的最少頻寬需求的連線小於或等於剩餘頻寬，而請求的 BE 連線其請求頻寬小於或等於目前被
ABS服務的所有連線中最小的最少頻寬需求的連線時，即允許其 BE連線加入到 ABS服務中。 
 
A. HABA Scheduling Algorithm 
當 ABS 同意新連線加入後，即進入排程程序，如圖 2 所示。在排程程序中，將分為七大步驟，分
別是位置的分類(Location Classification)、優先權的排列(Arrange by Priority)、資料急迫性的排列
(Arrange by Deadline time)、通道使用狀況排列(Channel Allocation)、計算資料速率(Calculate Data Rate)、
匈牙利子通道分配演算法(Hungarian Sub-channel Allocation Algorithm)以及彈簧頻寬分配法(Spring 
Bandwidth Allocation Scheme)。我們提出的演算法依照優先權的傳送時機、最適當的頻寬分配以及部
份頻率重覆使用，最後將會達到最大吞吐量、最小平均延遲時間。詳細說明如下所示。 
6 
 
系統以最快時間傳輸資料，達到高效率的傳輸。由於之前的步驟已將各連線的請求排列成最佳的順序，
因此此階段只要將邊緣及中心排列好的連線，各別依照其通道的數量 N，切割成數個 window，而每
個 window執行一次匈牙利法則直到最後一條連線，即可完成最佳的通道分配。當 HABA完成通道分
配後，即進入下個步驟。 
 
步驟 7. Spring Bandwidth Allocation Scheme (SBAS) 
此時 HABA 已經以優先權順序和考量連線急迫性為基礎，完成了最佳的通道分配。但是，當一
條新的連線經 AC機制被加入到系統中時，系統希望分配給該連線的頻寬不一定等於請求的頻寬，這
得依照當時的負載而決定。當負載低時，由於 ABS 服務的連線數量少，因此系統能夠滿足所有連線
的需求，所以並不需經要過此步驟，各連線即可得到所需求的頻寬，以及最適當的傳送時機。但是，
當負載較高的時候，有可能導致整體需求的頻寬超過系統可用頻寬的數量，如圖 3.6，而使部份連線
得不到需要的全部頻寬。這是因為有部份的連線在經 AC機制判斷是否接受加入時，是以最小頻寬需
求來判斷是否接受加入。由於訊框的長度是有限的，必須依照訊框的長度來分配頻寬，所以這些被允
許進入的連線，其得到的頻寬就必須被減少(壓縮)，使之能夠符合訊框長度。 
因此，本計畫提出了一個方法來幫助系統正確、合理的分配頻寬給這些已經被允許進入的連線，並
且必須符合 QoS 參數的要求。而這種方法我們稱之為彈簧頻寬分配法(Spring Bandwidth Allocation 
Scheme，SBAS)。 
我們將六種不同 QoS等級的連線假設成六種不同彈力系數ߠ௦的彈簧。彈力係數ߠ௦將會影響連線被壓
縮後的頻寬量，其值越大，被壓縮的越少，被分配到的頻寬就越接近請求的頻寬；其值越小，就越容
易被壓縮，被分配到的頻寬就越少。由於 UGS及 ertPS擁有最高優先權的 QoS參數，因此我們不考慮
其彈力係數，而是固定其頻寬，不允許被壓縮。而剩餘的服務類別將依照優先權高至低的順序，設定
由大至小的彈力係數ߠ௦，如表 2所示。 
表 2 彈力係數ߠ௦ 
QoS UGS ertPS aGP rtPS nrtPS BE 
ીܛ x x 4 3 2 1 
 
我們將連線所需的傳輸時間設定為彈簧的長度M୨ ሺnሻ。多條連線在相同 Sub-channel時，如圖 3.7，
我們將所有連線所需求的傳輸時間設定為全部彈簧的長度，定義為△M(n)。在第 n 個 Sub-channel 連
線需要被壓縮的整體傳輸時間設定為彈簧的整體壓縮量，定義為△H(n)。在第 n個 Sub-channel所感受
到的整體壅塞程度設定為整體壓縮力度Pሺ݊ሻ。所有在第 n個 Sub-channel排列的不同 QoS等級的連線
設定為串聯後的彈簧的等效彈力係數，定義為θεሺ݊ሻ。 
    我們將第 j條連線的彈力係數θ୨ሺ݊ሻ代入(5)式，即可求出第 n個 Sub-channel的等效彈力係數θக(n)。 
1
θகሺ݊ሻ ൌ ቆ
1
θ୨ሺ݊ሻ ൅
1
θ୨ାଵሺ݊ሻ ൅ ‧‧‧
1
θ୎ሺ݊ሻቇ						ሺ5ሻ 
而我們已經知道 subframe的長度 Fsize，也知道第 n個 Sub-channel壓縮前的長度△M(n)，所以經
(6)式即可得知應該要壓縮的量∆Hሺ݊ሻ。而由以上兩個結果代入式(7)，就可以計算出壓縮的外力Pሺ݊ሻ。 
∆Hሺ݊ሻ ൌ	ᇞ Mሺ݊ሻ െ ܨݏ݅ݖ݁															ሺ6ሻ 
8 
 
的需求來做判斷，所以分配後得結果必定會大於MRTR。當連線到達 550條時，ABS同意分配的頻寬
幾乎會等於 MRTR，這是因為 ABS 整體可分配的頻寬量已經小於或等於各連線最低需求的總合，此
時 ABS就不允許任何新連線加入到服務中。 
 
圖 5 Total Throughput in HABA Algorithm 圖 6 Total Throughput for different Scheduling 
Algorithms Scheduling Algorithms 
圖 6 為各演算法在連線不斷增加的狀況中所能服務連線的寬量。飽和之前，各演算法能服務的連
線數都相同，這是因為系統仍然有空間可以服務各連線需要的頻寬量。當飽和之後，FIFS會服務最少
的連線，而 EDF 及 WFQ是高優先權為基礎的，而高優先權的頻寬需求較低，因此比 FIFS 還可服務
較多連線。HABA演算法擁有 HSAA可以得到最大的 Throughput、SBAS可以壓縮各連線的頻寬，因
此能服務連線與頻寬量會是最多的。 
由上述模擬結果顯示，本計畫所提出之 HABA演算法在 Total Throughput及 Average Delay Time
的表現都優於其他演算法，並且在系統飽和之後還可以繼續服務更多的連線。而 HABA 演算法處理
程序也都遵照各 QoS的要求，達到最大 Throughput、最大連線數及最小 Average Delay Time的理想效
能。 
 
參考資料 
[1] IEEE Std. 802.16-2009 “Air Interface for Broadband Wireless Access Systems,” May 2009. 
[2] M. Alasti, B. Neekzad, Jie Hui and R. Vannithamby, “Quality of service in WiMAX and LTE networks,” 
IEEE Communications Magazine, v.48 issue.5, May 2010, pp.104-111. 
[3] IEEE Std. P802.16m/D9 “Air Interface for Broadband Wireless Access Systems,” Oct. 2010. 
[4] J. Govil, “4G: Functionalities Development and an Analysis of Mobile Wireless Grid,” Proceedings of 
IEEE ICETET '08, Nagpur, Maharashtra, Jul. 2008, pp.270-275. 
[5] W. Mohr, J.F.  Monserrat, A. Osseiran and M. Werner, “IMT-Advancedd and next-generation mobile 
networks, ” IEEE Communications Magazine, v.49 issue.2, Feb. 2011, pp.82-83. 
[6] B. Wolz, F. Nio, M. Muhleisen, and K. Klaggees “Coordination across base stations for effective control 
of space division multiple access enhanced IEEE 802.16m systems,” Proceedings of IEEE PIMRC '09, 
Tokyo, Apr. 2009, pp.375-379. 
0
20
40
60
50 100 150 200 250 300 350 400 450 500 550
Ba
nd
w
id
th
  (M
bp
s)
Connection
Grent Request MRTR
0
5
10
15
20
25
30
35
40
50 100 150 200 250 300 350 400 450 500 550
Ba
nd
w
id
th
  (M
bp
s)
Connection
HSBA FIFS EDF WFQ
國科會補助計畫衍生研發成果推廣資料表
日期:2011/10/08
國科會補助計畫
計畫名稱: 在IEEE 802.16j網路上分散式排程機制之研究
計畫主持人: 朱國志
計畫編號: 99-2221-E-262-012- 學門領域: 計算機網路與網際網路
無研發成果推廣資料
其他成果 
(無法以量化表達之成
果如辦理學術活動、獲
得獎項、重要國際合
作、研究成果國際影響
力及其他協助產業技
術發展之具體效益事
項等，請以文字敘述填
列。) 
無 
 成果項目 量化 名稱或內容性質簡述 
測驗工具(含質性與量性) 0  
課程/模組 0  
電腦及網路系統或工具 0  
教材 0  
舉辦之活動/競賽 0  
研討會/工作坊 0  
電子報、網站 0  
科 
教 
處 
計 
畫 
加 
填 
項 
目 計畫成果推廣之參與（閱聽）人數 0  
 
