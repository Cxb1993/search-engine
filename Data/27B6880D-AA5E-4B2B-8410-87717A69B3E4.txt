 1
行政院國家科學委員會專題研究計畫成果報告 
 
多步代傳蜂巢式無線網路之網路規劃、移動管理及服務品質提供 
 
計畫編號：NSC 97-2221-E-156-004-  
執行期限：97 年 8 月 1 日至 98 年 7 月 31 日 
主持人：游國忠   真理大學資訊工程學系 
Email: yugj@mail.au.edu.tw 
 
計畫參與人員： 王琪顯【研究生兼任助理】  真理大學資訊工程系碩士班 
 黃哲豪【研究生兼任助理】  真理大學資訊工程系碩士班 
 王姿琳【研究生兼任助理】  真理大學資訊工程系碩士班 
 郭家華【研究生兼任助理】  真理大學資訊工程系碩士班 
 江鈺雯【研究生兼任助理】  真理大學資訊工程系碩士班 
  
一、中文摘要 
 
無線網路在我們日常生活中已經越來越不可
或缺，尤其是行動上網的服務更是可讓使用者在移
動中仍能享受高速上網。在現階段主要的無線上網
技術中：WLAN 的傳輸速度快但行動性的支援較
差；3G 技術雖可支援高速行動通訊但傳輸速率較
低。HSDPA 雖可提供高速通訊，但頻譜的使用效
率仍然比不上 OFDM 技術。在高速移動的環境中
可高速上網的 WiMax 技術被提出來彌補 WLAN 的
不足及提供了 3G 技術外的另一個選擇。為了服務
廣大區域的行動裝置，WiMax 可使用蜂巢式
(Cellular)的架構來佈建網路。但在地形複雜及人口
分佈不均的區域中，蜂巢式網路可能會因為地形障
礙物的關係而有覆蓋範圍(Coverage)不足及人口稠
密處傳輸容量(Capacity)不足的情形發生。佈建更多
的基地台(Base Station, BS)雖可解決覆蓋率及容量
的問題，但更多的基地台通常代表更多的投資成
本。透過代傳裝置(Relay Station, RS)的使用，覆蓋
率及容量的問題可以低成本的方式來解決。透過
Cell 中的 Relay Station，可移動裝置(Mobile Station, 
MS)可以多步代傳(Multihop)的方式透過 RS 連上
BS 和 Internet 上的其他 Device 進行通訊。這種透
過 RS 以多步代傳的方式進行通訊的蜂巢式網路稱
為多步代傳蜂巢式網路(Multihop Cellular Network, 
MCN)。 
目前的MCN網路技術的發展主要有三個待解
決的目標。第一，如何設計一個更好的 MCN 
Architecture 使得網路的運作更加的有效率。第二，
如何在 MCN 中進行裝置移動管理 (Mobility 
Management)。第三，如何提供好的網路服務品質
(QoS)以支援日趨重要的多媒體通訊服務。針對上
述目標，本計畫提出為期三年的工作計畫。第一年
計畫的主軸為『MCN 網路的建構與維護』，主要
的研究議題包含：(1) 透過行動式代傳裝置(Mobile 
Relay)增強 MCN 效能之研究；(2) MCN 中以傳輸
容量(Capacity)為目標之代傳裝置(Relay)佈建策略
之研究；(3) MCN 中以增加覆蓋範圍(Coverage)為
目標之代傳裝置(Relay)佈建策略之研究；(4)MCN
路由樹(Routing Tree)建立演算法之開發；(5)MCN
代傳裝置容錯 (Fault Tolerance)機制之研究以及
(6)MCN 中以網路編碼(Network Coding)為基礎之
可靠廣播機制之開發等。這些問題都和 MCN 效能
的提升有很大的關連。為了得到更精確的分析結
果，在第一年的計畫裡，我們也將開發出一套建構
在 NIST 所開發之 WiMax ns2 原始碼上之 MCN 網
路模擬器用來精確測量建構在 WiMax 上之 MCN
網路的效能。 
預計本計畫之執行將帶來下列的效益。在學術
研究方面，本計畫所開發之技術與理論將會有助於
Multihop Cellular Network 在 Infrastructure, 
Mobility Management 及 QoS Provision 等方面技術
之進步。在產業界的貢獻方面，基於政府正大力推
行 M 台灣的計畫，預計本計畫之執行成果將會對
M-台灣計畫之部分關鍵技術之開發有所貢獻。在人
員訓練方面，本計畫之執行可以培育在多步代傳蜂
巢式網路領域十二名之研究生，這些研究生投入國
內產業界將會對台灣無線網路產業之推展有很大
的幫助。在對計畫主持人之影響方面，透過本計畫
之執行，計畫主持人可以累積更多 MCN 系統實際
的開發經驗，除了可協助台灣無線網路技術之推展
外，亦可將累積之經驗與知識透過課堂教學傳遞給
更多的學生明瞭。在軟硬體的成果方面，本計畫之
執行將會開發出一套 MCN 網路模擬器、一套
PC-based MCN mobile relay 及 P2P Video Streaming 
Software 等。預計這些軟體之技術轉移將可有效提
升產業界在無線網狀網路上之研發能量。 
 
關鍵詞：多步代傳蜂巢式網路、無線網狀網路、移
動管理、服務品質 
 3
在傳統 Infrastructure-based Cellular Network
中，通常末端的使用者直接自 Base Station(BS)
接收資料或是傳送資料到 BS 的流量都是很有
限的。在真實的網路系統中，Relay Station(RS)
在轉送資料給其他 user的時候也會造成資源的
消耗，最後可能導致 terminals 因為不想浪費自
身資源而不支援 multi-hoping。如下圖，若使用
Relay Station 就可以增加 BS 的覆蓋範圍，讓末
端使用者可以獲得較大的流量。但在 relay 過程
中會產生無可避免的成本造成網路 capacity 下
降。Capacity 和通訊距離有很大的關係，透過
縮短通訊距離可以提高訊號品質並進一步增加
Throughput；另外一方面，縮短通訊距離也可
減少電量的消耗。更進一步來看，Relay 是否
也需討論 Mesh Network 中所遭遇的 Hidden 
Terminal Problem 或是使用 Multi-Channel 的方
式來減少 Hidden Terminal。但仍需考慮將資料
代傳至 BS 的成本。 
 
C. Relay Deployment for Coverage Extension in 
Multihop Cellular Network: 
在都市的環境中，大樓的位置經常會影響通
訊的品質。如果 Mobile User 和基地台之間有
大樓的阻隔，通訊品質將會較差。此時，若
在合適的地點設置Relay Station(RS)將會讓原
先收訊不好的地方能有較好的通訊品質。除
了障礙物之外，在基地台邊緣去佈建基地台
也可有效的增加覆蓋範圍。BS 的佈建和 RS
佈建的關係為何？大部分是先佈建 BS，等待
系統營運上軌道之後再以增加 RS 的方式來
加強 Coverage，但也有可能是佈建 BS 時同時
考慮佈建 Relay。因此，若同時考慮佈建 BS
及 RS 時，應該如何佈建則是一個值得研究的
議題。 
 
D. Routing Tree Construction in Multihop Cellular 
Network: 
在 Multihop Cellular Network 中， Mobile 
Station(MS)傳送資料可藉由其他數個 MS 將
資料傳送到目的端，每個 MS 也都可以幫附
近的數個 MS 代傳資料。Cell 中的 Base 
Station(BS)是已知整個網路環境，網路環境中
每個 MS 位置、遠近資訊和連線狀況，BS 需
根據 MS 的遠近距離及位置資訊來選擇和建
立每個 MS 的 Routing Path，整個網路的
Routing Paths 稱為 Routing Tree，並且將此
Routing Tree 告知給 MS 們知道，每個 MS 就
會以此 Routing Tree 來傳送資料給 BS 或目的
端。當一個 Cell 中 BS 及 MS 都已佈建完成
時，MS 傳送資料到 BS 之間的代傳 MS 們要
如何選擇，其選擇的路徑能夠使得 MS 的資
料不會因選擇代傳用戶端錯誤，而產生延遲
問題。另外，MS 能連接到其他 Cell 的 BS 嗎？
Routing Path 應該是固定或是會隨著 Traffic 
Demand 的量而動態調整。MS 路徑的規劃和
Mesh Network 中 Routing Path 的決定是相同
的問題。若是 MS 也可連接到鄰近的 BS，則
Routing 的問題就變成是 Anycast 的問題。相
較於傳統 Cellular Network 中，以借用鄰近
Cell 的 Channel 可解決 Hot Spot 的問題。透過
Routing Path 連接到鄰近 Cell 的 BS 也可解決
Hot Spot 的問題。對於 Mobile MS 而言，
Routing 問題變成是 Mobile Ad Hoc Network 
的 Routing 問題。每個 MS 的 Routing Path 若
能同時滿足整個網路的情形且使得 MS 的傳
輸延遲降低，就是此議題所要去研究探討的。 
 
E. Relay Fault Tolerance in Multihop Cellular 
Network:  
在 Multi-hop cellular network 的架構中，傳輸
是以 Base station(BS)連結一個或數個 Relay 
Station(RS)，最後傳送到 Mobile station(MS)
的方式來進行。若 MS 連結的過程中，所有
的節點都保持正常的通訊，則 MS 便能順利
的和 BS 進行傳輸。但也是因為利用 multi-hop
的緣故，導致因轉傳次數增多而造成設備的
電力或資源消耗量增大；若在此時傳輸過程
中的某個 RS 突然地消失，甚至是 BS 因此而
消失，就會造成 MS 和 BS 的傳輸中斷。 
 
F. Network Coding-based Reliable Broadcast 
Protocol in Multihop Cellular Network:  
在傳統的網路廣播技術中最常使用的方式
為：Forward Error Code（FEC）和 retransmission
技術。retransmission 的使用技術是如果有接
收者遺失部分封包，source 會將遺失的封包再
廣播一次；FEC 的技術則是 source 會額外將
多餘的資訊在廣播前先編碼，如果有接收者
遺失封包就可以因為收到有額外增加資訊的
編碼封包來還原原始的資料。這兩種方法都
會佔用頻寬，若使用 network coding 編碼方式
則可以有效的提升頻寬使用率、增加
throughput、減少 delay time。 
 
三、文獻探討 
 
 有關 Multihop Cellular Network Infrastructure
相關的研究說明如下： 
 
Liu Erwu 等人在[1]中，由於在 802.16j 中 relay 
stations 的使用者在做存取資源配置時，會比
802.16e 來的困難。因此在 802.16j MMR networks
中，throughput 的增加是主要目的，而如何做有效
的資源配置也是必須要考慮的。因此提出了
spectrum efficiency based adaptive resource allocation 
(SEBARA)演算法，針對動態的配置做改進，可以
在 802.16j MMR networks 中提高 throughput，也可
改進其 quality of service (QoS)，同時防止複雜性和
時間的消耗。但目前 SEBARA 演算法主要是在
downlink 的資源配置，未來也可將 scheduling 併入
作為考量之一。 
Xu-Yajing等人[2]提出一個在 WiMax 的 Mesh 
mode 上，考慮最小 interference traffic 的集中式排
 5
多少的 Relay 才能滿足服務品質的要求並無法透過
Site Survey 得知。因此透過 GIS 資訊系統及 Site 
Survey 的方式才能以自動的方式評估佈建 Relay 之
後對 Service Coverage 之影響。Relay 的佈建應滿
足Relay和BS間有良好的Line of Sight且Relay 和
SS 間也最好有 LOS。由於 Relay 和 SS 間之訊號品
質無法透過 Site Survey，僅能透過人工的方式評
估，也對系統效能的最佳化造成很大的阻礙。 
 
D. Routing Tree Construction in Multihop Cellular 
Network: 
 
以 Multihop Cellular Network 來看，每個 MS 所
傳送資料的目的端皆不同，而整個網路 topology 會
隨著時間改變而不同，MS 必須因 topology 改變，
來選擇代傳的數個 MS，並且能夠使得資料延遲能
夠降低，且每條路徑能夠滿足整個網路情形。傳統
的 Routing Path 建立可分為兩種，Table Driven 和
On-demand，前者是每個 MS 都有儲存一個 Routing 
Table，此 Table 紀錄其他 MS 和 MS 之間的路徑資
訊，用戶端只要根據此 Table 找出一條適合路徑即
可；後者是當 MS 有資料要進行傳輸時，只需發送
搜尋封包，搜尋封包會紀錄廣播傳輸的路徑，當目
的端收到搜尋封包會選擇一條合適路徑，依此路徑
回傳及告知 MS。 
但此兩種方法都各有缺點，前者是建立和維護
Table 的成本問題；後者是會大量產生搜尋封包的
flooding，都會耗費資源和有成本問題。因此，建
立一個好的 Routing Path 將有助於節省資源和成
本。MS 傳送資料之前，可以先收集鄰近數個 MS
的使用傳輸資訊和狀況，藉由這些資訊來做為路徑
選擇的條件，降低資料延遲。MS 也可在網狀網路
架構完成時互相交換彼此的資訊，以節省 MS 之間
路徑建立的時間和延遲。MS 可在固定週期時間去
偵測鄰近數個 MS 的狀態，用來確保鄰近 MS 有無
損壞情形發生。 
 
E. Relay Fault Tolerance in Multihop Cellular 
Network: 
 
雖然 Multi-hop cellular network 可能因為上述因素
而造成傳輸的中斷，但也因為 MS 是處於 Multi-hop 
cellular network 的環境之中，所以即使在傳輸路徑
中的 RS 或路徑終點的 BS 突然地消失，仍可透過
Handover 方式將中斷的缺口再度連結到周遭可利
用的其他 RS 甚至於是鄰近的 cellular，藉此增加網
路中的 Fault tolerance。 
 
圖一：正常情況下，BS、RS、MS 依其路徑傳輸資
料 
 
由於 cellular中的RS突然的消失，造成MS1和MS2
無法與 BS 傳輸資料，因此透過 Handover 方式尋找
鄰近可用的節點。如圖一，由於 BS1 和 MS2 中間
的 RSs 突然消失，因此 MS2 尋找 cellular 中鄰近的
RS 做 Handover，使得通訊得以恢復。另外，由圖
二中的 MS1 可得知，當傳輸路徑中的 RS 消失時，
由於 MS1 發現鄰近的另一個 cellular 中，有訊號更
強的 RS，因此 MS1 決定 Handover 至鄰近的
cellular，使通訊得以恢復，並且保持最佳的訊號強
度。 
 
圖二：當 RS 突然消失時，MS 重新選擇的路徑 
 
F. Network Coding-based Reliable Broadcast 
Protocol in Multihop Cellular Network: 
 
本研究議題之成果已投稿至 2009 年全國電信
研討會且被接受為 Oral Presentation [7]。文章內
容請參閱附件。 
 
五、計畫成果自評 
 
本計畫的目的是研究在 Multihop Cellular 
Network 下如何佈建 Relay 及維護 MCN 網路架
構。在今年的研究成果中我們提出方法解決了下列
研究目標：(1)如何使用及管理 Mobile Relay 使得大
眾運輸交通工具上之使用者皆能享受到較佳之通
訊服務品質；(2)如何在 MCN 網路中佈建 Relay 以
增加 Capacity；(3)如何在 MCN 中佈建 Relay 以增
加服務範圍；(4)如何在 MCN 網路中自動建置及維
 A Novel Relay Placement Algorithm for WiMAX Networks 
 
Gwo-Jong Yu a, Chih-Yung Chang b, Tzu-Chia Wang* b, Yu-Wen Chiang a 
Dept. of Computer Science and Information Engineering, Aletheia University, Tamsui, Taipei, Taiwan a 
Dept. of Computer Science and Information Engineering, Tamkang University, Tamsui, Taipei, Taiwan b 
yugj@mail.au.edu.tw, cychang@mail.tku.edu.tw, tcwang@wireless.cs.tku.edu.tw, aegean616@gmail.com 
 
 
摘要 — IEEE 802.16j 以 RS (Relay Station) 增強了 
IEEE 802.16 的標準，透過 Multi-hop RS可延伸無線通
訊的涵蓋範圍 (Coverage Extension)，並可增加網路使
用者的傳輸速度 (Throughput Enhancement)。但在網路
佈建初期，若不慎選 RS 的佈建位置，不但無法提升系
統效能，反而會導致網路整體的傳輸效能變差。因此，
在已知 BS (Base Station) 和 SSs (Subscriber Stations) 位
置資訊的場景中，本論文針對 RS 的佈建數量及位置進
行探討，並透過實驗的模擬，說明本論文能透過有效的 
RS 佈建機制，增進網路系統的整體效能。 
 
關鍵字：802.16j、中繼站、佈建、多跳躍、蜂巢式網路 
一、 簡介 
Mobile Worldwide Interoperability for Microwave 
Access (Mobile WiMAX) 是一種新興的無線網路標準 
[8]，其採用  Orthogonal Frequency Division Multiple 
Access (OFDMA) 的標準以保障資料傳輸的品質與穩定
性。然而，在網路的通訊過程中，如圖一(a) 所示，往往
會因都市建築物或其他遮蔽物的阻擋而引發遮蔽效應 
(Shadowing Effect)，使得 Base Station (BS) 的覆蓋面積將
因此降低，進而產生覆蓋空洞的問題 (Coverage Hole)。
然而，隨著 WiMAX 無線網路技術開發的成熟，採用 
Relay Station (RS) 概念 [6][7] 的 IEEE 802.16j 便開始孕
育而生，如圖一(b) 所示，MS (Mobile Station) 的服務品
質將因 RS 的輔助而提升，藉以減輕上述產生的問題。 
以通訊範圍而言，如圖二(a)，在單純只有 BS 的 
802.16 網路中，BS 因為建築物阻擋、地形限制及功率範
圍的限制，而無法涵蓋到的通訊位置將產生訊號死角。
所以藉由 RS 的佈建，便可有效的延伸通訊的覆蓋範
圍，如圖二(b)。此外，就系統傳輸容量而言，在品質低
劣的 Channels 中採用 Single-Hop Links 傳送資料，其速
率及品質堪慮，因此，若透過 RS 使用 Multi-hop Links 
的方式，可使 SNR 增加，進而也增加了傳輸的速度，最
終可提升網路系統的 Capacity。但由於 RS 不同於連結 
Backhaul 的 BS，因此無法隨時得知網路的拓樸架構。所
以，RS 佈建的位置及數量將直接影響整個系統的服務品
質，為了獲得 RS 所帶來的好處，探討在網路初期的 RS 
佈建演算法是有其必要的，最佳化的 Relay Placement 
Algorithm 可以網路服務具有更好的品質。 
由於經上述說明可知，在無線網路中佈建 RS 是一
項十分重要的課題。在 [1] 中作者在 Mobile Multi-hop 
Relay (MMR) 的環境下，採用 Dual-Relay 方式，讓 MS 
可以透過兩個 RS 合作，藉此保持通訊的暢通。在 [2] 的
曼哈頓都會區域棋盤式街道環境中，探討關於 RS 的佈
建議題，利用了不同的無線電資源來比較  Cell 
Capacity，雖然提及在都會區域中 RS 佈建的重要性，但
卻無詳細探討並提出關於相關的佈建演算法。 
 
(a) 
 
(b) 
圖一：遮蔽效應與中繼站的運用 
(a) MS 的服務品質因遮蔽物而降低 
(b) MS 的服務品質可因 RS 的服務而增加 
 
(a) 
 
(b) 
圖二：遮蔽效應與中繼站的運用 
(a) IEEE 800.16 之 Point-to-MultiPoint 網路 
(b) IEEE 802.16j 透過 RS 增加訊號覆蓋範圍 
在 [3] 的研究中，作者提出將 RS 採用全雙工 (Full 
Duplex) [9] 或半雙工 (Half Duplex) 的運行模式來進行傳
輸，但研究探討的場景是假設網路中的使用者皆是屬於
靜態的 SS，並只針對單一 RS 的佈建，而且不考慮頻寬
限制與 Pathloss 等問題。[5] 則是在 Multi-hop 的網路環
境下，討論關於 Relay 的佈建問題，雖然佈建愈多的 
Relay 可以降低 Message 的總傳送時間，但相對的也會造
成網路佈建的成本提升，以及 Station 之間的干擾狀況增
加。綜觀以上的相關研究，本文將針對在  2-hop 的 
WiMAX Networks 中，研究 RS 的佈建位置和最適當的個
數問題，希望選擇最少的 RS 數量進行網路佈建，並透
過 RS 代傳資料的功能，使得網路的資料傳輸率可以大
幅提升，以達到最佳的成本效益。本文章節架構的說明
如後：第二章介紹 Network Model；而 Relay 佈建的方法
則是在第三章探討 SNR 與距離的關係；第四章的部分，
顯示分析的模擬結果。最後，則以第五章總結本論文。 
BS MS 
RS 
BS MS 
 輸效益。假如 SS 直接與 BS 進行傳輸所需花費的時間，
大於透過 RS 採 2-hop 方式轉傳所需花費的時間，則顯示
此用戶端適合 2-hop 方式進行傳輸，可獲得較大的傳輸
效益。假如 SS 直接與 BS 進行傳輸所需花費的時間，小
於透過 RS 採 2-hop 方式轉傳所需花費的時間，則顯示此 
SS 不適合採用 2-hop 方式作傳輸，建議使用直接與 BS 
傳輸的方式，方可獲得較大的傳輸效益。 
表 II 
可滿足 2-HOP RELAY 的傳輸速率組合 
mi0 0.5 
{ mi1, mi2} 
{1.0, 1.5}, {1.0, 2.0}, {1.0, 3.0}, {1.0, 4.0}, {1.0, 4.5}, 
{1.5, 1.0}, {1.5, 1.5}, {1.5, 2.0}, {1.5, 3.0}, {1.5, 4.0}, 
{1.5, 4.5}, {2.0, 1.0}, {2.0, 1.5}, {2.0, 2.0}, {2.0, 3.0}, 
{2.0, 4.0}, {2.0, 4.5}, {3.0, 1.0}, {3.0, 1.5}, {3.0, 2.0}, 
{3.0, 3.0}, {3.0, 4.0}, {3.0, 4.5}, {4.0, 1.0}, {4.0, 1.5}, 
{4.0, 2.0}, {4.0, 3.0}, {4.0, 4.0}, {4.0, 4.5}, {4.5, 1.0}, 
{4.5, 1.5}, {4.5, 2.0}, {4.5, 3.0}, {4.5, 4.0}, {4.5, 4.5} 
mi0 1.0 
{ mi1, mi2} 
{1.5, 4.0}, {1.5, 4.5}, {2.0, 3.0}, {2.0, 4.0}, {2.0, 4.5}, 
{3.0, 2.0}, {3.0, 3.0}, {3.0, 4.0}, {3.0, 4.5}, {4.0, 1.5}, 
{4.0, 2.0}, {4.0, 3.0}, {4.0, 4.0}, {4.0, 4.5}, {4.5, 1.5}, 
{4.5, 2.0}, {4.5, 3.0}, {4.5, 4.0}, {4.5, 4.5} 
mi0 1.5 
{ mi1, mi2} 
{3.0, 4.0}, {3.0, 4.5}, {4.0, 3.0}, {4.0, 4.0}, {4.0, 4.5}, 
{4.5, 3.0}, {4.5, 4.0}, {4.5, 4.5} 
mi0 2.0 
{ mi1, mi2} {4.0, 4.5}, {4.5, 4.0}, {4.5, 4.5} 
表 III 
MODULATION – RATE 對應表 
Modulation Coding Rate Information bits / symbol 
BPSK 1/2 0.5 
1/2 1 QPSK 3/4 1.5 
1/2 2 16-QAM 3/4 3 
2/3 4 64-QAM 3/4 4.5 
因此，透過上述的說明，用戶端則可依計算結果後
的所需傳輸時間，選擇直接與 BS 通訊，或者藉由 RS 進
行 2-hop 的轉傳方式。而採用後者轉傳資料的 SS，可按
照其 Modulation Rate 的大小，進行下一小節的分群演算
法，進而完成中繼站的佈建數量和位置選擇。在此，我
們根據 (7) 並使用表 I 的數據資料，假設 fi =1 的情況
下，可求得所有滿足 2-hop 的傳輸速率組合，如表 II，
若  BS 到  SS 間採用的  Modulation 為  BPSK，則其 
Information bits/symbol 為 0.5，而 BS–RS 和 RS–SS 這兩
段  links 若採用  {1, 1.5} 或  {4.5, 4.5} 等多種不同 
Modulation 的傳輸組合 (表 II)，則表示此 SS 採用 2-hop 
方式的傳輸時間會比原本 1-hop 方式的傳輸時間來的
短。由表 II 可推知，若 BS–RS 採用表 III 中的 16-QAM 
3/4、64-QAM 2/3 或 64-QAM 3/4，則建議 SS 直接採取 
1-hop 傳輸會有更高的傳輸品質。 
3.2 BS 和 RS 之傳送功率 
在這一小節中，我們欲探討 SNR value 和傳輸距離 d 
的關係，並根據 SUI Channel Model [4] 和 Log-Distance 
Path Loss Model，用以計算 SNR。其相關的符號定義說
明如表 IV 所示： 
表 IV 
參數說明 
參數 說明 
Pr 接收端天線的訊號功率，單位：瓦特 (Watt) 
Pt 傳送端天線的訊號功率，單位：瓦特 (Watt) 
N0 雜訊強度 
d 傳送端與接收端之間的距離 
d0 基準距離，假設 d0 = 100 m 
L 總路徑損耗 
L0 在基準距離之路徑損耗，單位：分貝 (decibel, dB) 
L(d) 收送端相距 d 的總路徑損耗 
Λ 波長，單位：公尺 (m) 
Γ 路徑損耗指數 
Xg 
包括σ標準差和零均值  (zero mean)在內的高斯隨機變數， 
單位：分貝 (decibel, dB)，假設 Xg=0 
HBS 基地台的高度，單位：公尺 (m)，10≦ HBS ≦80 
表 V 
採用 STANDFORD UNIVERSITY INTERIM CHANNEL MODEL 的環境參數 
類型 Terrain Type A Terrain Type B Terrain Type C 
說明 
路徑損耗值最大，樹
木密度中高，山丘地
形。 
路徑損耗值中等，屬
於中等程度的訊號衰
減環境。 
路徑損耗值最小，樹
木密度低，平坦地
形。 
a 4.6 4 3.6 
b 0.0075 0.0065 0.005 
c 12.6 17.1 20 
Speed 60Km/Hr 90Km/Hr 120Km/Hr 
SUI Channel Model 的環境參數如表 V，且其適用條
件為：Cell 半徑小於10km (會依照地形有所調整)、接收
端天線裝設在靠窗或屋頂位置 (離地約 2~10m)、BS 天線
高度為 15 ~ 40m、屬於高覆蓋率的 Cell (80~90%)。 
而 Log-Distance Path Loss Model 公式如下： 
gXd
dLL(d) +××+=
0
100 log10 g  (9) 
÷
ø
ö
ç
è
æ ×××=
λ
dπ
L 0100
4
log20  (10) 
0   ,    ddH
cHba
BS
BS >÷÷
ø
ö
çç
è
æ
+×-=g  (11) 
÷÷
ø
ö
çç
è
æ
×=
0
10log10][ N
PdBSNR r  (12) 
  log10
1
log10
0
10010 ÷÷
ø
ö
çç
è
æ
+××+-÷
ø
ö
ç
è
æ ×=
-=
g
Tx
tr
X
d
dL
mw
P
L(d)[dBm]P[dBm]P
g
 (13) 
( )  010010 log10][][
1log d-LdBm-PdBmP
γ
d rt ×+=  (14) 
( )
 
÷
÷
÷
÷
÷
ø
ö
ç
ç
ç
ç
ç
è
æ
÷÷
ø
ö
çç
è
æ
+×-×
×÷÷
ø
ö
çç
è
æ
+×-×-÷
ø
ö
ç
è
æ ×
=
BS
BS
BS
BS
t
H
cHba
N-
H
cHba-dBSNR
mw
P
d
10
log1020][
1
log10
^10
01010
 
(15) 
利用 (9) ~ (13)，可推導出 (14) 中的傳輸半徑 d 。根
據 (10) 以及上述公式，假設 d0 = 100m，Xg = 0，L0 忽略
 本節模擬實驗的 SUI Channel Model 在採用不同的環境，
可整理如同表 XII。 
表 XI 
實驗參數設定 
參數 說明 
Pt 30 dBm 
HBS 10 m 
d0 100 m 
Xg 0 
L0 忽略不計 
表 XII 
採用不同 MODULATION 對應的傳輸距離 
 
我們採 Type B 的環境進行模擬。因此，依據 SS 之
間的距離並透過表 XII 決定彼此之間的 SNR 是否可以互
相涵蓋後，以彼此的連線作為表示，如圖六。藉由每個 
SS 使用不同的 Modulation Rate 以及 BS 在不同 SNR 的
傳輸範圍下所圍成的圓圈彼此產生交集。最後刪除重複
的 SNR 交集的連線 (綠色線條) 後，依照每個 SS 採用的 
Modulation Rate 決定分群的結果 Ck =3；另外有兩個 SS 
示直接採 1-hop 的通訊方式直接與 BS 作通訊，如圖六。
因此可知在此 Network Model 下，RS 的數量僅需 3 個。 
 
圖六：網路中 Station 之間的通訊路徑示意圖 
接著，我們利用的計算傳輸時間的方法，來計算並
比較每個用戶端 SS 在未使用 RS 的傳輸方式 (1-hop)，直
接與 BS 所需花費的傳輸時間，以及在經過 RS 佈建方法
後，這些透過 RS 轉傳資料的 SS (1-hop)，所需的傳輸時
間又是如何，由圖七的分析結果可知，採用 RS 代傳資
料的 SS，其傳輸時間確實較低於當初採用 1-hop 的傳輸
方式。另外，由於用戶端 SS13 和 SS14 距離 BS 較近，採
用 1-hop 的傳輸時間較短，因此不須為其佈建 RS，如此
一來，也可節省 RS 的佈建數量。 
0
0.5
1
1.5
2
2.5
1 2 3 4 5 6 7 8 9 10 11 12 13 14
SS編號
傳
輸
時
間
 t 
 (s
ym
bo
l)
1-hop
2-hop
 
圖七：使用 RS 和未使用 RS 之傳輸時間 
五、 結論與未來研究 
在本文提出的 Relay 佈建方法可用於 MCNs 的初期
網路中，藉由 BS 和 SS 的相關資訊，推算出適合的 RS 
佈建數量及位置，不但節省成本，並有助於整體資料傳
輸的品質。最後，在未來的相關研究中，將繼續深入探
討有關 3-hop以上的網路佈建模型，可使 RS 的佈建效果
更卓越。 
參考文獻 
[1] Bin Lin, Pin-Han Ho, Liang-Liang Xie, and Xuemin Shen, “Relay station 
placement in IEEE 802.16j dual-relay MMR networks,” The 2008 IEEE 
International Conference on Communications (IEEE ICC), May 2008. 
[2] I-Kang Fu, Wern-Ho Sheen, and Fang-Ching Ren, “Deployment and 
radio resource reuse in IEEE 802.16j multi-hop relay network in 
Manhattan-like environment,” The 2007 IEEE International Conference 
on Information, Communications & Signal Processing (IEEE ICICS), 
December 2007. 
[3] Bin Lin, Pin-Han Ho, Liang-Liang Xie, and Xuemin (Sherman) Shen, 
“Optimal Relay Station Placement in IEEE 802.16j Networks,” The 
2007 ACM International Conference on Wireless Communications and 
Mobile Computing (ACM IWCMC), August 2007. 
[4] V. Erceg, K. V. S. Hari, et al., “Channel Models for Fixed Wireless 
Applications,” tech. ep., IEEE 802.16 Broadband Wireless Access 
Working Group, January 2001. 
[5] Mi Liu, Mugen Peng, and Wenbo Wang, “Optimal Deployment of Relay 
Stations in Fixed Relay Network Employing Spatial Reuse,” The 2007 
IEEE International Symposium on Personal, Indoor and Mobile Radio 
Communications (IEEE PIMRC), September 2007. 
[6] Vasken Genc, Sean Murphy, Yang Yu, and John Murphy, “IEEE 802.16j 
Relay-based Wireless Access Networks: An Overview,” IEEE Wireless 
Communications, vol. 15, no. 5, October 2008, pp. 56 – 63. 
[7] Steven W. Peters and Robert W. Heath, Jr., “The Future of WiMAX: 
Multihop Relaying with IEEE 802.16j,” IEEE Communications 
Magazine, vol. 47, no. 1, January 2009, pp. 104 – 111. 
[8] Koon Hoo Teo, Zhifeng Tao, and Jinyun Zhang, “The Mobile Broadband 
WiMAX Standard [Standards in a Nutshell],” IEEE Signal Processing 
Magazine, vol. 24, no. 5,September 2007, pp. 114 – 148. 
[9] Bin Lin, Pin-Han Ho, Liang-Liang Xie, Xuemin (Sherman) Shen, and 
J´anos Tapolcai, “Optimal Relay Station Placement in Broadband 
Wireless Access Networks,” IEEE Transactions on Mobile Computing: 
Accepted for future publication, June 2009, pp. 1 – 11. 
[10] Basak Can, Maciej Portalski, Hugo Simon Denis Lebreton, and Simone 
Frattasi, “Implementation Issues for OFDM-based Multihop Cellular 
Networks,” IEEE Communications Magazine, vol. 45, no. 9, September 
2007, pp. 74 – 811. 
 方面，傳統網路編碼的封包重傳方式為：當某個節點發
送封包要求訊息，其通訊範圍之內的節點收到此訊息便
會依照訊息內容將自身所擁有的封包重新編碼並轉送。
此法的缺點是接收到要求訊息的節點可能會傳送要求者
已經擁有的部分封包，而造成網路資源浪費。本篇所提
的方法則是當通訊範圍內的節點收到此訊息時，節點會
依照接收到要求訊息時自身的情況，進行重新編碼並傳
送或是僅轉送封包不做編碼動作，之後提出的第二種重
傳機制，則是將遺失封包的訊息利用 Bitmap 來表示，更
進一步減少封包的傳送次數。其餘章節的安排如下，第
二章會說明現有的 Network Coidng 相關研究，第三章為 
Network Model，第四章為則是 RENC 編碼演算法細節描
述。第五章將會透過實驗與模擬來驗證此演算法。最後
依據分析與實驗的結果，第六章針對本篇所提出的編碼
演算法來進行結論，並對於未來工作加以描述。 
二、 相關文獻探討 
Mansouri 等人 [4] 提出的三角形編碼矩陣能有效減
少編碼封包長度，並可藉由有不同的編碼矩陣達到快速
解碼的效果。利用下三角編碼矩陣搭配高斯消去法，可
以很容易看出接收端不必等收到大於等於 n 個編碼封包
即可快速進行解碼。由 Nguyen 等人 [5] 所提出的階層式
網路編碼則說明將封包分類成不同等級的編碼技術，等
級較重要的封包在經由節點編碼時，允許多次重複編
碼，也可以動態依資料的重要性進行重複編碼，反之，
重要性低的封包之編碼次數較少。此法的優點為可靠度
高，但缺點為解碼速度慢、封包重覆編碼次數多。假設
封包的重要性為 a>b>c、f 為係數，則編碼方式如 (1)。 
2
3
61
3
52
3
41
3
32
3
21
3
13
2
2
41
2
32
2
21
2
12
2
1
21
1
11
cfcfbfbfafafN
bfbfafafN
afafN
+++++=
+++=
+=
 
(1) 
 
圖四：XOR 網路編碼 
由 Sachin Katti [9] 等人提出的則是第一個將網路編
碼實作於網路協定中的學者。如圖四中有四個節點 A、
B、C、D。節點 B 擁有的封包為 {P1、P2、P3、P4}，其
他節點所擁有的封包情況如圖所示，當節點 B 知道鄰居 
A、C、D 所擁有的封包時，便會決定何種編碼封包能夠
滿足 A、C、D 三個節點。若節點 B 選擇傳送 P1+P2，由
於節點 A 無法正確還原封包，故 P1+P2 不是最合適的編
碼封包；若節點 B 選擇傳送 P3+P4 ，雖然可以滿足節點 
C、D，但卻因為節點 A 已經擁有 P3、P4 ，對於節點 A 
而言並沒有實質的幫助，但倘若節點 B 選擇傳送 P1+P3+ 
P4 就能夠同時滿足節點 A、C、D。Chung-Hua Chu [10] 
等人所提出的 DOP 演算法，說明了如何決定最合適的編
碼封包。令 AAT (Average Access Time) 為每個節點的平
均存取時間 (2)。另外 Dem(Ej) 為要求編碼封包 Ej 的節點
集合，(3) 說明 Dem(Ej) 與 AAT 的關係。假設需要 Ej 封
包的節點個數小於 Ei 則表示若將 Ej 封包進行編碼，能
夠滿足的節點個數亦會小於 Ei 所能滿足的節點個數，換
句話說，要滿足不同節點的編碼封包要求時，選擇能夠
滿足最多節點的封包進行編碼，才能達到最小的 AAT，
進一步提升網路效能。 
 
(2) 
 
(3) 
三、 Network model 
假設網路中僅有單一發送端與多個隨機分佈的接收
端，網路具連通性，節點不會移動且每當節點接收到一
個編碼封包時，便會盡可能的去進行解碼動作。如圖五
所示，紅色 S 節點為發送端，將會持續的廣播編碼過後
的封包到網路中所有綠色的接收端。每當一個節點接收
到編碼封包時，允許將該封包進行重新編碼或轉送，亦
可將自身缺少的編碼封包利用對應的 Bitmap 來表示，以
利之後的解碼動作。 
 
圖五：Network Model 
四、 Network coding-based Reliable and Efficient 
Broadcasting Protocol (RENC) 
4.1 編碼方式 
本文提出的編碼方式 Network coding-based Reliable 
and Efficient Broadcasting Protocol (RENC) 是利用特殊的
編碼矩陣來達到快速解碼的目的，除了能有效減低解碼
時間，也可保證封包的可靠度。RENC 是由發送端進行
編碼的 Network Coding，如圖六，假設發送端有一個檔
案 F 總長為 n 個封包大小，切割為 m 個 generation， 
 封包，且長度不為自身節點所缺失的封包時，並且此時
節點的緩衝區已滿，則將該接收之封包轉送 (規定每個編
碼封包只能在同一節點被轉送一次，否則該封包將被丟
棄) 或是當節點緩衝區尚有空間時，只要節點 Y 收到 3 
個編碼封包長度為 3 以及節點 Z 收到 4 個編碼封包長度
為 4 的編碼封包，亦可將遺失的封包還原。節點接收到
與自身遺失封包相同長度的編碼封包時，便將緩衝區內
的編碼封包還原並且重新編碼再轉送以增加容錯能力。 
最後舉例如圖八，網路中有一個發送端 S 與三個節
點，分別為 X、Y、Z。假設發送端需要將自身的封包廣
播到網路中所有節點。發送端首先將一個檔案分為 m 段 
generation，接著傳送第一個 generation 內的 5 個封包，
A、B、C、D、E。發送端將 generation 內的封包編碼為 
A、A+B、A+B+C、A+B+C+D、A+B+C+D+E。由圖八
可以看出，發送端首先廣播封包 A，節點 X 與節點 Y 收
到 A 封包後會繼續轉送該封包到下一個節點 Z，同時發
送端廣播 A+B 封包給節點 X 與節點 Y，等到節點 X 與節
點 Y 接收到 A+B 封包後再轉送到下一個節點 Y，發送端
接著廣播 A+B+C，依序將所有封包廣播到網路中所有的
節點。當節點能夠解碼時，便開始還原編碼封包並重新
編碼再轉送到下一個節點；如果收到的封包不能讓節點
進行解碼動作，且節點緩衝區無空間時，該節點僅會轉
送該編碼封包到下一個節點。 
4.2 重傳機制 
4.2.1 重傳機制一 
Katti 等 人  [9] 所 提 出 的  COPE 中 使 用 到 
Opportunistic Listening 技巧，因為無線網路主要使用廣
播來傳送資料，利用無線網路的廣播特性可以讓網路中
其他節點經由週期性回報，使其有很大的機會得知其他
節點目前正在進行的動作。本篇所提出方法 RENC 為：
每當一個 generation 傳送完畢時，網路中的節點便會利
用傳送每個  generation 之間的時間間隔來發送要求訊
息。進一步而言，網路中的所有節點會利用 Overhearing
機制，判斷自身通訊範圍內其他節點所擁有的封包。 
首先說明的一種重傳機制，由圖九可知，假設網路
中有三個節點，X、Y、Z，且如果節點內的封包無法解
碼，該節點就會廣播要求訊息，並會監控自己偷聽範圍
內所有節點的要求。如圖十，每個節點可以根據自己傳
輸範圍內所有節點所發出的要求訊息來判斷該節點所擁
有的封包。節點 X 發出要求封包 A、E 的訊息、節點 Y 
發出要求封包 D、E、節點 Z 發出要求封包 A、B、C 的
訊息。根據上述節點所發出的要求訊息，每個節點可以
知道自身傳輸範圍內節點所擁有的封包，節點 X 知道節
點 Y 有封包 A、B、C，節點 Z 有封包 D、E，以此類
推。所有節點就可以向擁有自身所缺少之封包的節點要
求該遺失封包，藉此可以降低收到線性相依之封包的機
率。接下來說明節點的運作方式，節點有三種運作方
式，分別為：不編碼也不轉送封包、編碼並轉送封包、
不編碼但轉送封包。如：Case I：節點沒有接收到要求訊
息且自身能夠解碼。由於節點自身能夠進行解碼動作便
能還原資料，且沒有收到任何節點所發出的要求封包訊
息，所以該節點的動作為不重新編碼自身所擁有的封
包，且不進行轉送封包的動作；Case II：節點自身能夠
解碼且接收到要求訊息。節點會依照要求訊息內容與自
身緩衝區內的封包進行比對，如果有封包被要求則該節
點重新編碼，並轉送該編碼封包到發出要求的節點上；
Case III：節點自身不能解碼且接收到要求訊息。如果收
到封包要求訊息的節點本身無法進行解碼動作，此時，
接收到其他節點所發出的封包要求訊息，且自身緩衝區
內有該節點所需之封包，則轉送該編碼封包到發出要求
訊息的節點。 
 
圖十一：節點使用 Bitmap 時的編碼矩陣 
 
圖十二：節點使用 Bitmap 的傳送情況 
4.2.2 重傳機制二 
重傳機制二是利用 Bitmap 指出節點所缺少的封包，
而在其他節點收到該封包之後便可依據 Bitmap，來判別
網路中節點所擁有的封包情況。如下圖十一中，若節點
遺失編碼封包 A+B+C+D 時，即會根據目前緩衝區內情
況將對應的 Bitmap 設定為 11101。網路中其他節點接收
到該編碼封包時，首先檢查其 Bitmap 觀察是否有封包遺
失的情況，之後作編碼轉送的動作時即可以將節點遺失
的編碼封包列入編碼候選的封包。圖十二中，由於節點
遺失編碼封包 A+B+C 導致無法將 D+E 順利解開，則該
節點將  Bitmap 加入編碼後便傳送 11101A+B+C+D 封
包，等到其他節點收到該封包時，便會選擇合適的編碼
封包來滿足最多的節點。此法的優點為當節點缺少封包
真 理 大 學 出 席 學 術 會 議 成 果 報 告 表  
報 告 人 姓 名 游國忠 所 屬 系 所資訊工程系 報告提送日期 98 年 10  月 27 日
職       稱 副教授 聯 絡 資 料
校內分機：5222 
行動電話（或其他）：0921754720 
Email：yugj@mail.au.edu.tw 
會議正式名稱 
中文： 
英文：GeoSensor Networks 2009 
會  議  時  間 自  98 年 7 月 13  日  至 98  年  7  月 14  日  （共      2      天）
會 議 地 點     國內： 
（縣、市） 
    國外： 
英國倫敦 
所屬國際組織
名 稱 中文： 英文：Springer 
會議主辦單位 中文：英國牛津大學 英文：Oxford University, UK 
本人此次參與的研討會主要是 Wireless Sensor Network 相關之研究。這個研討會之規模雖
然不大，但發表的論文皆具有相當高的品質。整個研討雖只有一個 Track，但所有與會的學者
皆聚集在一起討論與分享。雖已參加過多次國際性的研討會，但在這次的研討會中仍然感受到
全世界的優秀的學者持續不斷的努力，讓知識不斷的進步與累積。當一個學者沒有進步的時
候，就表示他已在退步當中。 
在這次的會議中，多數的論文發表方式是以口頭描述配合投影片的方式呈現。每當有一
篇論文發表完之後，即會有數位無線感知網路的專家提出很多精闢且具建設性的問題與建議。
這些專家是從全世界來的精英。他們提的問題讓我對未來的研究內容有更多的想法。整個討論
的過程中充滿了很多多有趣的、具研究價值的研究方向。參加研討會帶來了學術交流，與來自
不同國家的研究學者交談可以得知目前各個國家的實驗室將研究重點放在那裡？也可知道目
前最熱門的研究領域為何？研究是教學的先驅，目前的研究成果經彙整後可以成為未來的教科
書。尤其是電腦相關領域，往往是六個月的斷層就很難在短時間內補起來。因此，持續的研究
可讓學生永遠學到的都是最新的資訊。 
在這次的學術交流中，可將學校的概況介紹與國外友人了解。大多數的學者都對學校的
定位很有興趣，也會想要知道學校的研究重心及方向。藉著說明真理大學資訊科學系在無線網
路與多媒體系統方面有很好的研究能量。有些學著甚至表達了跨國合作的可能性與意願。 
 感謝學校給我們機會能到國際會議上和頂尖的學者學術交流，也讓我們在研究領域上了
解最新趨勢與最新技術。此次論文的發表與討論也讓我在數位學習領域增加了最新的教材，我
可以將此次會議中學到的最新技術和學生分享，讓學生可以學到新的觀念與技術。 
報 告 人 簽 章  初審（系所主管）  
承 辦 人  編 號（由承辦人填寫）  
備 註  
推廣及運用的價值 
本技術所提出之演算法其概念不單僅能用於 WiMax 網路，也可用於
3G 網路及未來的 4G 網路。 
※ 1.每項研發成果請填寫一式二份，一份隨成果報告送繳本會，一份送 貴單位
研發成果推廣單位（如技術移轉中心）。 
※ 2.本項研發成果若尚未申請專利，請勿揭露可申請專利之主要內容。 
※ 3.本表若不敷使用，請自行影印使用。 
C. A Hierarchical MDS-based Localization Algorithm for Wireless Sensor 
Networks 
Gwo-Jong Yu, and Shao-Chun Wang 
 
二、與會心得 
本人此次在會議中發表兩篇論文。第一篇論文題目是『A Quorum-based Route Cache 
Maintenance Protocol for Mobile Ad-Hoc Networks』。這篇文章的目的是討論 Ad Hoc 網路上
有關於 Route Information特別是 Routing Table管理的問題。Routing Table內部的資訊可幫助 
Mobile Node透過分散儲存在每個 Node內部的 Route Cache資訊來加快尋照路徑的速度，並
減少網路上控制封包的數量。但因為 Ad Hoc網路中的 Node具移動性，因此 Route Cahce資
訊有其生命週期。為了在加快尋找路徑及 Route Cache 的有效其間取得平衡，本文提出使用
Quorum 的機制及 Cluster 的網路架構來管理 Ad Hoc 網路中 Route Cache Management 的問
題。雖然使用 Quorum的觀念在無線網路中並不是最新的概念，但配合 Cluster的網路架構及
使用在 Route Cache 的管理上卻是一個全新的概念，因此報告完畢之後，會場的討論氣氛熱
烈。也有很多寶貴的意見被提出來，這些意見對本文的品質進一步提升有很大的幫助。 
第二篇論文題目為『A Hierarchical MDS-based Localization Algorithm for Wireless 
Sensor Networks』。本篇論文討論如何在沒有任何已知網路位置資訊的 Anchor Node的網路環
境下，提出一套可運用在無線感知網路中的定位演算法。在目前的定位演算法中，使用
Multidimensional Scaling(MDS)的方法進行定位能達到相當不錯的精確度。但 MDS的方法卻
存在著計算量大，且無法處理不規則形狀之網路環境。因此，本文提出提出先將整個網路分
成多個 Cluster，再於每個 Cluster之使用MDS演算法之 Hierarchical MDS演算法以解決MDS
方法之缺點。在報告的過程中，有聽眾提出了至少需要兩個 Gateway Node才能運作的問題，
這是一個非常好的問題，可以對本方法的內容再進一步提升。 
在這次的會議中，論文發表的方式是以口頭描述配合投影片的方式呈現。在發表完之
後，有數位無線網路的專家提出很多精闢且具建設性的問題與建議。這些專家是從全世界來
的精英。他們提的問題也讓我的研究內容更加的完整、且討論了很多有趣的、具研究價值的
研究方向。參加研討會帶來了學術交流，與來自不同國家的研究學者交談可以得知目前各個
A Quorum-Based Route Cache Maintenance Protocol  
for Mobile Ad-Hoc Networks 
 
Gwo-Jong Yu 
Department of Computer and Information Science 
Aletheia University, Tamsui, Taiwan 
Email: yugj@email.au.edu.tw 
 
 
Abstract 
 
The objective of this paper is to propose a quorum-
based robust and efficient routing protocol (QRERP) 
for mobile Ad Hoc network. There are four phases in 
the proposed QRERP. They are initialization phase, 
route discovery phase, route reply phase and data 
transmission phases. In initialization phase, the entire 
network is partitioned into several connected subgraph. 
Each subgraph is represented by a host adjacency 
matrix (HAM) and a logical coterie tree. In the route 
discovery phase, a route can be discovered by local 
matrix computation, quorum-based routing table query 
or quorum-based flooding mechanism. When a route is 
established, a packet can be replied from destination 
to source node and the route information can be 
distributed to the set of coteries passed through by this 
routing path.  Finally, after the routing path is 
confirmed by route reply packet, source node can 
communication with destination. During the data 
transmission, when route is broken due to node 
mobility or power exhausted, a route maintenance 
mechanism can be triggered to mainline the robustness 
of the routing path. The performance of the proposed 
QRERP is demonstrated by experimental results. From 
the results, we can conclude that the proposed 
approach has advantages of backup route, less control 
overhead, mobility maintenance and route 
maintenance. 
Keywords- Ad Hoc Network, Route cache, Quorum, 
Mobility.  
 
1. Introduction 
 
Ad hoc networks consist of a set of mobile devices, 
each devices is responsible to function as a router. 
When there is a request of communication between 
two mobile devices, the establishment of route path is 
required to perform the tasks. A lot of routing 
protocols are proposed during the last decay. Lee [10] 
gave a brief survey about the routing protocol. 
According to the adapted methodologies, routing 
protocols can be further categorized into table-driven, 
on-demand and hybrid approaches. In table-driven 
routing protocols [2], routing information about each 
destination node is recorded in cache of by each 
mobile host. When a routing request is issued by 
applications in upper layer of communication protocol 
stack, the mobile host can use routing information in 
internal cache to search the destination node. In 
MANET, each mobile host can move independently. It 
is necessary for on-demand routing protocol to update 
the internal routing cache such that the entire network 
is consistent. The advantage of table-driven routing 
protocol is small communication latency. However, the 
periodical broadcasting of route cache will increase the 
control overhead of network. In on-demand routing 
protocol [1][3], a route between source and destination 
nodes is constructed in an on-demand manner. It is not 
necessary for each mobile host to maintain the route 
information to each destination. When a route request 
is issued, the route request packet is broadcasted and 
forwarded by each mobile host throughout the entire 
network. Due to the route request packed is flooded 
through the entire network based on current topology, 
it is not necessary for on-demand routing protocol to 
update routing information. The control overhead of 
on-demand routing protocol is moderate in terms of 
long period. However, on-demand routing protocol 
may suffer large communication latency from the 
broadcasting and searching process. Furthermore, the 
network becomes congested due to the flooding 
storming in terms of short period. To combine 
advantages and avoid disadvantages of table-driven 
and on-demand routing protocols, hybrid routing 
protocols [4] are proposed to purse better performance.  
The requirements of a good routing protocol 
includes low latency, low control overhead, mobility 
management, backup route, flow control, support of 
QoS and resource management. To fulfill these 
Routing table contains entry which records the 
destination ID, next hop, and hop count. The next hop 
of routing path can be found through routing table 
lookup. The collected routing information is also 
stored in topology table. The topology table use matrix 
representation to represent topology information. In 
topology matrix, entry 1 denotes a link is active while 
entry 0 denotes a link is disconnected. The label 
associated with rows and columns are node IDs. For a 
topology with n nodes, at most n-1 matrix 
multiplications are needed to check whether path exists 
between two nodes. 
 
2.3. Quorum  Review 
 
Quorum theory has been applied for power 
management [11] and mobility management [6] of 
wireless networking. The definition of quorum is 
briefly described as follows. 
 
Definition：Quorum Set  
Let U be universal set, a Quorum set Q is a set of 
set, which satisfy the following conditions. 
1. (Non-empty property): ( G∈Q) [G≠Ø and G ⊆ U] 
2. (Minimality): (G, H∈Q) [G ⊄ H]  
In the above conditions, G∈Q is a quorum                  
For example, let the universal set U be {a, b, c, d}, 
then Q = {{a, b}, {b, c}} under U. If a, b, and c are 
used nodes, then G = {a, b} and M={b, c}. 
Definition：Coterie  
Let U = {1, 2, 3,…, N} be a set of points. A coterie 
C is a set of many sets, which satisfy the following 
mathematic conditions: 
(Non-empty property): G ∈ C => (G≠Ø and G ⊆ U). 
(Intersection property): G, H∈C => G∩ H ≠Ø. 
(Minimality property): G, H∈C => G ⊄ H.                 
Definition：Tree Coterie [5] 
Assume there are N nodes in a network. Let N 
nodes be mapped to a set with sequential elements and 
a complete binary tree is constructed by these 
sequential elements. A tree coterie T can be 
constructed from the binary complete tree, such that 
the intersection of any two sets in the coterie will not 
be empty.                                                                       
For example, a complete binary tree consists of 
nodes, {a, b, c, d, e, f}. A constructed tree coterie 
corresponding to the binary complete tree is as follows: 
Tree Coterie T = 
｛{a, b, d} {a, b, e} {a, c, f} => when all node are 
available  
{b, d, c, f} {b, e, c, f} => when node a is unavailable 
{a, d, e, c, f} => when node b is unavailable 
{a, b, d, f} {a, b, e, f} => when node c is unavailable 
{d, e, c, f} => when node a and b are unavailable 
{b, d, f} {b, e, f} => when node a and c are unavailable 
{d, e, f} => node a, b and c are unavailable 
} 
The non-empty property of coterie ensures that 
intersection of any two sets chosen from the binary 
complete tree using tree conterie construction rules 
will not be empty. This property can be used for 
wireless communication. Intersection points of two 
sets can be used for data forwarding or routing 
delivery. When some nodes in a binary complete tree 
are not available, a quorum set still can be selected to 
retrieve data. So tree coterie can also be used for 
mobility maintenance in mobile ad hoc networks. The 
detail operations of coterie tree will be described in the 
following section which describes how QRERP works. 
Due to intersection property of a quorum set, if two 
sets are chosen as read quorum and write quorum, then 
intersection of read quorum and write quorum will not 
be empty. If write quorum is used to update new 
routing information, the read quorum can retrieve the 
new routing information. In a cluster network, if 
routing information in a cluster is updated by write 
quorum of this cluster, the routing information can be 
retrieved from a read quorum of this cluster too. So, 
quorum set can be used to manage route cache problem. 
 
3. The QRERP protocol 
 
3.1. Basic Concept of QRERP 
 
Because DSR is an on-demand routing protocol, 
when source initiates a route request, the route request 
packet will flood to entire network and lead to network 
congestion. In this circumstance, the control overhead 
of DSR is huge. Furthermore, DSR provides only one 
route path, when the route is break due to node 
mobility or node failure, a new route request should be 
initiated from source node to find new route to keep 
the routes between two node connected. The route 
maintenance mechanism in DSR is not efficient. To 
resolve the drawbacks of DSR, an internal route 
Case 2: Re-computation of local routing table through 
local topology matrix computation. 
If a route can not be found from routing table, a 
node can perform routing table re-computation using 
available topology matrix. A device then checks the 
new routing table to find a path to destination. After 
performing topology matrix multiplication, new route 
may be found. For example, after four matrix 
computation of topology shown in Figure 2(b), a new 
route is computed. It is 20-> 12-> 8-> 24-> 28. Device 
20 can choose any one path to perform communication. 
 
Case 3: Retrieve route information from nodes in a 
read quorum of this coterie tree. 
If routing information is still missing, node 20 can 
choose a read quorum, {8, 12, 20}, for example, from 
its coterie and send a multicast message to members of 
this quorum. Each member of read quorum set will 
check its lookup table and perform topology matrix 
computation to search the destination. If a route to 
destination is available, the path information will 
return to query node. The query node can concatenate 
the path from source to query node and the path from 
query node to destination node to construct a complete 
node. For example, node 8 is a member of read 
quorum and knows a route 8->24->28->34->35. Node 
8 then replies this route to source node 20. Node 20 
concatenate path 20->12->8 and path 8->24->28->34-
>35 to form a complete routing path 20->12->8->24-
>28->34->35. Node 20 can use this path to 
communicate with node 35. 
 
Case 4: Broadcast route request to neighboring 
coterie tree through gateway nodes. 
If local routing table lookup, topology matrix 
computation, and query on quorum set all fail to reply 
a routing path to destination, the route request is 
forwarded to neighboring tree coterie through gateway 
node. Because a gateway participates in at least two 
tree coterie, the gateway can switch to another tree 
coterie and perform a route request search as if the 
gateway is a source node. All routing search 
techniques, such as local table lookup, topology matrix 
computation, and query on quorum set will be tested 
again. If a route still missing, the route request is 
forwarded to gateway nodes again. In this way, the 
route request will be forwarded to all tree coteries in 
the network. When a route is found, a route reply will 
return to source node along the reverse path of the 
route request packet. For example, in Figure 1, if node 
40 intends to communicate with node 41, and routing 
table lookup, topology matrix computation, query on 
quorum set all fails, then node 40 can forward the 
route request to all gateway nodes of this tree coterie to 
find a routing path to destination. Device 40 forwards 
route requests to gateway nodes 28 and a path is return 
from neighboring tree coterie. The returned routing 
path is 40->35->34->28->24->8->10->22->25->26-
>32->29->41. 
 
3.2.3. Route Reply Phase. If Figure 1, if device 40 
send RREQ packet to device 41 along the computed 
routing path 40->35->34->28->24->8->10->22->25-
>26->32->29->41, device 41 will return a RREP 
packet to device 40 and turn its state to route reply 
phase immediately. 
When destination device 41 returns RREP packet 
to source device 40, all coterie trees, which members 
locate on routing path, need to store this routing path 
on a selected write quorum set. For example, in Figure 
1, devices 41, 26, 22, 28 are nodes of the routing path 
and are located in different tree coteries; they are 
chosen to initiate routing path update on the tree 
coterie they reside in. For example, device 8 is a 
member of the tree coterie shown in Figure 2(a). A 
write quorum, {8, 10, 9}; can be chosen from this tree 
coterie. Device 8 can extract topology information 
from RREP packet and multicast the routing path 
information to members 10 and 9 in the chosen write 
quorum. Because of the intersection property of tree 
coterie and read and write quorum are any two quorum 
sets in a coterie, this routing path can always be found 
when a new route request to the same destination 
reaches this tree coterie next times. It is assumed that 
the underlying multicast routing protocol is 
automatically maintained when the topology or 
members of tree coterie is changed. 
3.2.4. Data Transmission Phase. After RREP 
message returns to the source node 40, the source node 
can start data transmission along the found routing 
path, 40->35->34->28->24->8->10->22->25->26->32-
>29->41.  
3.2.5. Route Maintenance. During data transmission, 
if some link, link between node 25 and 26 for example, 
breaks due to mobility or node failure, device 25 
detects the fault and initiate a new route request to find 
a routing path to node 41. Device 25 can compute new 
route through local routing path lookup, topology 
matrix computation, query on quorum set or forwarded 
to neighboring tree coterie. The route maintenance 
procedure is similar to route discovery. The only 
difference is that the source of route discovery is the 
device which detects link failure or node failure. 
 
(a) Node 72 joins tree coterie. 
 
(b) Tree coterie restructuring. 
Figure 4: Illustration of tree coterie updates 
when device 72 joins coterie tree 36. 
 
4. Experimental Results 
 
To justify performance of the proposed protocol 
and analyze the effects of related parameters, 
simulation is conducted, results are shown and 
discussion is provided in the following sections. Based 
on the experimental results, the usage and the suitable 
environment to use the proposed protocol can be 
provided. 
 
4.1. Control Overhead 
 
In the following experiments, it is assumed that the 
size of network environment is 1000×1000 square 
meters. There are 50 devices in network, and the 
communication range of each device is 300 meters. 
The default size d of each tree coterie is set to 2. 
Routing path of randomly selected source and 
destination nodes are computed by DSR and QRERP, 
respectively. As the number of path is increased, the 
required average control overhead is shown in Figure 5. 
Initially, the control overhead of QRERP to find 
routing path is high. However, the control overhead is 
reduced as time going by, because historical routing 
path is cached in local table and members in quorum 
set. However, the control overhead of DSR reduces 
slowly, because mobility of node will break the routing 
path. 
0
10
20
30
40
50
1 2 3 4 5 6 7 8 9 10
Number of path
Av
era
ge
 O
ve
rh
ea
d
DSR
QRERP
Figure 5: Comparison of control overheads for 
DSR and QRERP. 
4.2 The effects of parameter d 
This experiment is conducted to understand the 
effects of parameter d of tree coterie. In QRERP, the 
relation between the number of device pairs and 
required control overhead under different d is shown in 
Figure 6 and 7.  
0
20
40
60
80
100
10 20 30 40 50 60 70 80 90 100
Number of nodes
Av
era
ge
 O
ve
rh
ea
d
d=1
d=2
d=3
Figure 6: Comparison of control overheads 
under different size of tree coterie. 
0%
20%
40%
60%
80%
100%
10 20 30 40 50 60 70 80 90 100
Number of nodes
Av
era
ge
 st
or
ag
e
d=3
d=2
d=1
Figure 7: Average cache of nodes 
We can conclude that as the value of d is increased, 
the coverage area of a tree coterie is increased and the 
probability to find a path to destination is also 
34
38
35
3936 37
40
28
72
Join
34
38
35
3936 37
40
28
72
A Hierarchical MDS-based Localization Algorithm  
for Wireless Sensor Networks 
 
Gwo-Jong Yu and Shao-Chun Wang 
Department of Computer and Information Science 
Aletheia University, Tamsui, Taipei, Taiwan 
Email: yugj@email.au.edu.tw 
 
 
Abstract 
 
In many applications of wireless sensor networks, 
location is very important information. Conventional 
location information comes from manual setting or 
GPS device. However, manual location setting 
requires huge cost of human time, and GPS location 
setting requires expensive device cost and large device 
size. Furthermore, GPS can not operate in indoor 
environment. Both approaches are not applicable to 
localization task of wireless sensor networks. In this 
paper, an accurate and efficient localization algorithm 
based on multidimensional scaling (MDS) is proposed 
in hierarchical network environment. Through 
localized computation of multidimensional scaling 
within a cluster, the computation overhead can be 
distributed to each cluster. On the other hand, MDS-
based localization approach requires the estimation of 
multihop distance. Through restricting estimation of 
multihop distances within a cluster, the proposed 
localization algorithm achieves better accuracy and 
can operate in non-convex network environment. 
Experimental results reveal that the proposed HMDS 
localization algorithm outperforms MDSMAP 
algorithm in terms of accuracy.  
 
1. Introduction 
 
A wireless sensor network [1] comprises of large 
amount of wireless sensor nodes. Usually, a wireless 
sensor network is with high density and randomly 
deployed. For example, an aircraft can carry large 
amount of wireless sensor nodes and scatter these 
device on a forest. With the provision of location 
information, the efficiency of cooperative computation 
can be further enhanced through high performance 
geographic routing protocol [2]. The provision of 
location information can not only expand application 
scenarios, but also enhance performance of network 
protocols. In many applications, such as environmental 
monitoring, disaster detection, and battlefield 
monitoring, location information is necessary 
information. So, how to compute location information 
with high accuracy and low costs becomes a critical 
research issue. 
If location information is available in event 
detection of sensor node, operators can accurately send 
commands to the target location. For example, in 
applications of forest fire accident detection, node, a 
fire fighting truck can not locate the location of fire 
without accurate location of wireless sensor. Without 
location information, the availability of detected data is 
poor. On the contrary, when each sensor knows its 
location, if fire accident is detected, the sensor will 
report detected event in conjunction with its location to 
the sink nodes. According to the embedded location 
information, fire fighting truck can plan a safe route to 
rescue the fire accident. Performance of target tracking, 
location-based routing, coverage management, and 
information dissemination protocols can be increased 
through the provision of location information [3-4, 8-
10]. 
Effective approaches to compute location 
information heavily depends on the deployment of 
wireless sensor networks. Deployments of wireless 
sensor networks can be roughly categorized into 
manual settings, GPS-based approaches, and 
localization algorithms. It is not practical to manually 
set sensor location, because that will consume lots of 
time and spend lots of money. For GPS-based 
localization method, the size of current GPS 
component is too large to fit into a tiny wireless sensor 
node. Another drawback of GPS-based approach is 
that GPS can not be used in indoor environment. Using 
localization algorithm to compute location of each 
sensor device is a promising approach. Some 
localization algorithm requires the provision of 
landmarks or anchor nodes which locations are already 
known. Locations of sensor nodes can be computed 
cluster head can compute distances of all pairs of 
devices using shortest path algorithm such as Dijkstra 
or Floyed algorithm [12]. In this way, cluster head can 
form a distance matrix of cluster member. Applying 
multidimensional scaling algorithm on distance matrix 
compute relative coordinates of each cluster member 
and form a local map. 
  
2.3.3. Merge phase. After intra-cluster localization 
phase, each gateway is assigned at least two 
coordinates from each cluster the gateway participated 
in. Different coordinates in the same gateway node 
implies that the coordinate systems in neighboring 
clusters are different, and this information can be used 
to merge two coordinate systems into a unified 
coordinate system. In the remaining parts of this 
section, assumptions and detail operations of each 
phase will be briefly presented. 
 
2.4. Clustering phase 
 
In literature, lots of clustering algorithms have been 
proposed for wireless sensor network. For example, 
Iyengar et al. [11] proposed a clustering algorithm, 
their algorithm operates as follows. After deployment 
of sensor network, each sensor node chooses a random 
number and counts down. If a sensor node counts 
down to 0 without receiving any hello message, it will 
broadcast a hello message and plays roles of cluster 
head. If a hello message broadcasted by other device is 
received before its timer counts down to zero, it will 
send a join message to the broadcasting cluster head 
and play role of cluster member. If multiple hello 
messages are received by a sensor node, it will join all 
of these clusters and play roles of gateway. Each 
gateway node participates in at least two clusters. For a 
cluster head, if no new member joins to this cluster 
within a time interval, clustering phase is terminated. 
In this paper, the cluster network architecture is 
constructed by Iyengar et al.’s mechanism.  
 
2.5. Intra-cluster localization phase 
 
In this phase, cluster head can compute distances of 
all pairs of devices using shortest path algorithm. With 
shortest path information, cluster head can form a 
distance matrix among all cluster members. Applying 
multidimensional scaling algorithm on distance matrix 
can compute relative coordinates of each cluster 
member and form a local map. The intra-cluster 
localization algorithm is presented as follows. 
After clustering phase, each sensor node determines 
its role. If the role is gateway or cluster member, 
sensor node use RSSI mechanism to measure the 
distance between itself and neighboring node within 
the same cluster. After the distance is computed, 
sensor node will forward distance information to 
cluster head. If the role of a device is cluster head, it 
will wait for all distance messages from gateway and 
member nodes within the same cluster. After collecting 
distance information, a distance matrix can be 
computed. Cluster head then computes the shortest 
paths between any two sensor nodes and estimate 
coordinates of sensor nodes using multi-dimensional 
scaling algorithm. 
The coordinates computed by multidimensional 
scaling algorithm is relative coordinate. Cluster head 
locates on the original of the relative coordinate system. 
As shown in Figure 1, the relative coordinate systems 
in each cluster computed using multimensional scaling 
is different. 
 
2.6. Merge phase 
 
As shown in Figure 2, each gateway participates in 
at least two clusters. After intra-cluster localization 
phase, each gateway is assigned at least two 
coordinates from each cluster the gateway participated 
in. Different coordinates in the same gateway node 
implies that the coordinate systems in neighboring 
clusters are different, and this information can be used 
to merge two coordinate systems into a unified 
coordinate system. In each step of merge phase, two 
clusters are used to calibrate coordinate system. The 
cluster which contains device with specified ID 
assigned by system operator will initiate the merge 
Figure 2: Gateway node contains two 
coordinates from two clusters. 
deployed in a square area as shown in Figure 3. 
2) Grid Topology: 180 sensors are deployed in grid 
point with 5% location error, as shown in Figure 4. 
3) C-Shape Topology: 200 sensor nodes are randomly 
deployed in a C-shape area, as shown in Figure 5. 
Under each topology, the entire network is divided 
into 5, 10, and 15 clusters. The global energy ratio 
(GER) metric proposed by Priyantha [4] is used to 
measure the accuracy of localization algorithm. 
Assume there are total of N nodes in network. Let the 
actual and estimated distances between node i and j be 
denoted by dij and ijdˆ , respectively. The estimation 
error can be computed as ijijij dde ˆ−= . A normalized 
error can be defined as
ij
ijij
ij d
dd
e
−=
ˆ
ˆ . Then the GER is 
defined as 
2/)1(
ˆ
:,
2
−=
∑ <
NN
e
GER jiji
ij
. 
 
The experimental results are shown in Figure 6-8. 
From results shown in Figure 6 and 7, it is observed 
that during location estimation using MDS-MAP, 
distance information of entire network are all collected. 
However, the distance between two nodes which are in 
multi-hop communication rage requires shortest path 
location estimation. When the hops between two 
devices are large, the accumulated error in distance 
estimation increases. So the localization error of 
complete localization process is large. In HMDS, the 
average diameter of each cluster is much smaller than 
the diameter of entire network, so the error of shortest 
path distance estimation is smaller than MDS-MAP. In 
non-convex shape area, such as C-shape deployment, 
the shortest path distance estimate introduces more 
errors, so the localization error is large too. In HMDS, 
non-convex C-shape area is divided into multiple 
clusters, so the error introduced by distance estimate is 
much smaller than MDS-MAP, so the localization 
error is smaller too in C-shape deployment model. The 
comparison of localization error between MDS-MAP 
and HMDS in C-shape area is shown in Figure 8. 
 
4. Conclusion 
 
This paper has proposed a hierarchical MDS-based 
localization algorithm (HMDS) for wireless sensor 
network. A cluster network architecture is used to 
successfully distributes the computation tasks in MDS 
and mitigate distance estimation error in non-convex 
shape localization problem. With limited diameter, the 
distance estimation error is reduced and the accuracy 
of localization is increased. Different coordinate 
system in each cluster is merged to produce a 
consistent global map. Experimental results reveal that 
the proposed HMDS outperforms MDSMAP in terms 
of global energy ratio (GER). The future work of this 
paper is reducing the error introduced by multi-hop 
shortest path distance estimation and investigating a 
modified MDS-based algorithm so missing distances 
of two devices which are in multi-hop communication 
range can be processed properly. 
 
Reference 
 
[1] Ian F. Akyildiz, Weilian Su, Yogesh Sankarasubramaniam, and 
Erdal Cayirci, “A survey on sensor networks,” IEEE 
Communications Magazine, vol. 40, no. 8, pp. 102-114, Aug 2002. 
 
[2] Dragos Niculescu, “Positioning in ad hoc sensor networks,” 
IEEE Network Magazine, vol. 18, no. 4, pp. 24-29, Jul 2005. 
 
[3] Dmitri Perkins and Ramesh Tumati, “Reducing localization 
errors in sensor ad hoc networks,” Proceedings of IEEE International 
Conference on Performance, Computing, and Communications, pp. 
723-729, 2004. 
 
[4] Nissanka B. Priyantha, Hari Balakrishnan, Erik Demaine, and 
Seth Teller, “Anchor-free distributed localization in sensor 
networks,” MIT. Laboratory for Computer Science, Technical Report, 
2003. 
 
[5] Holger Karl and Andreas Willig, Protocols and Architectures for 
Wireless Sensor Networks, Wiley publications, 2005. 
 
[6] Dragos Niculescu and Badri Nath, “Ad hoc positioning system 
(APS),” Proceedings of IEEE International Conference on Global 
Telecommunications, vol. 5, pp. 2926 – 2931, 25-29 Nov. 2001. 
 
[7] Sau Yee Wong, Joo Ghee Lim, SV Rao and Winston KG Seah, 
“Density-aware hop-count localization (DHL) in wireless sensor 
networks with variable density,” Proceedings of IEEE Wireless 
Communications and Networking Conference (WCNC2005), vol. 3, 
pp. 1848-1853, Mar. 2005. 
[8] Yi Shang, Wheeler Ruml, Ying Zhang and Markus P. J. 
Fromherz, “Localization from mere connectivity,” Proceedings of 
Fourth International ACM Symposium on Mobile Ad Hoc 
Networking and Computing, pp. 201-212, 2003. 
 
[9] Liang Zhao, Xiang Hong and Qiliam Liang, “Energy-efficient 
self-organization for wireless sensor networks: a fully distributed 
approach,” Proceedings of IEEE Global Telecommunications 
Conference, vol. 5, pp. 2728-2732, Nov. 2004. 
 
[10] Wendi B. Heinzelman, Anantha P. Chandrakasan and Hari 
Balakrishnan, “An application-specific protocol architecture for 
wireless microsensor Networks,” IEEE Transactions on Wireless 
Communications, vol. 1, no. 4 pp. 660-670, Oct. 2002. 
 
[11] Rajagopal Iyengar and Biplab Sikdar, “Scalable and distributed 
GPS free positioning for sensor networks,” Proceedings of IEEE 
