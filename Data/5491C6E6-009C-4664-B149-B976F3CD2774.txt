I???????????????????????????
The Research of Sequence Control Framework and Exception
Handling Based on Multi-Core Processor
? ? ? ??NSC 96-2221-E-264-007-MY2
? ? ? ??96 ? 08 ? 01 ?? 98 ? 07 ? 31 ?
? ? ????? ???????????
Email?csliu68@mail.ypu.edu.tw
?????????? ???????????
??? ???????????
????
PC-Based ??????????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
?????????????????????????????????????????
????????????????????????????????????????
????????(Event Bubble)??????????????????????????
?????????????????????
?????????????????Windows-Based?????????
III
??
????.......................................................................................................................................I
Abstract ....................................................................................................................................... II
??............................................................................................................................................ III
???........................................................................................................................................IV
1. ??.........................................................................................................................................1
2. ????.................................................................................................................................1
3. ????.................................................................................................................................2
4. ????.................................................................................................................................3
4.1 ?????????????....................................................................................4
4.2 ????????????........................................................................................7
4.2.1 ??????????????.............................................................................7
4.2.2 ???????????????.........................................................................7
4.3 ??????????????..............................................................................10
5. ?????...........................................................................................................................11
6. ????...............................................................................................................................14
11. ??
?????? PC-Based ???????????????????????????
????????????????????????????????????????
??????????????????????????? PC-Based ?????????
??????????????????????????? PC-Based ??????
Windows-Based ??????????????
1. ?????????????????
2. ??????????????
3. ?????????????????
4. ????????
????????? Windows-Based ????????????????????????
?? Windows-Based ???????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
??????????????? Windows-Based ??????????????????
???? Windows-Based ?????????????????????????????
?????????????????????????????????????????
????????????????????????????????????????
????????????????????????? Windows ???????????
????????????????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
?????????? Windows-Based ???????
2. ????
?????? Windows-Based ???????????? Windows-Based ??????
????????????????????????????????[12]??????
?????????????????????????????? Windows-Based ???
????????????????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
????? Windows ???????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
?????????????????????????
??????????????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
??????????????????[16]????????????????????
3????????????????????? [6]??????????????
(Thread-Level Parallelism)?????????????????????????????
?[2, 6, 11]????????????????????????????????????
????????????????????????????????????????
??(Race Conditions) [1, 23]????????????????????????????
?????????????
??????????????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
(Exception Handling)?????????[3, 7, 12]???????[9]???????????
??????????????????????????(Rollback-Based Mechanisms)??
???????????????[8]????????????????????????
????????????????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
?????????????????????????????
4. ????
? PC-Based ?????? Windows-Based ???????????????????
??????????????????????????????????? 1 ???
Windows-Based ????????????????????
1. ???(CPU)???
2. ???(I/O)???
3. ???????
4. ??????(????????)?
5. ????????
6. ????(???????????)?
? 1????????????????
5?????B
?????A
?????E
?????F
?????C
?????D
??B
?????A
???C ???E
??A
???D
??????
(a) (b)
? 3?????????(a)????(b)??????????
????
?????
????
????
????
????
??
?? ????
???
????
????
????
??
????
????
????
??/??
??
????
????
????
? 4????????????????????
??????????????????????????????????????
????????????????????????????????????????
???????????????(Adaptive Polling)??????????????????
????????????????????????????????????????
??????????????? 5 ????????????????????????
???????????????????????????????????????
????????????????????? N??
7????????????????????????????????????
?????????????????????????????????????
???????????????
4.2 ????????????
???????????????????????????????????????
?????????????????
4.2.1 ??????????????
??????????????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
??????????????????????
4.2.2 ???????????????
??????????????????????????????????????
???????????????I/O ????????????????????????
????????????????????????????????????????
????????????????????????????????????????
??????? I/O ???????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
??????????????
???????????? 6 ?????????????????????????
????????????????????????????????????????
????????????????????????????????????????
????????????????????????(Divide and Conquer)???????
????????????????????????????????????????
???????????????????????????? 7 ?????????(Event
Bubble)?????????????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
????????????????????????
9????
??
Which case ?
????
???
???
????
??
Case End ? ?? N
?
?
?
?
?
?
? 8??????????????
??????????????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
????? 4 ??????????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
?????????????????????????
?? 9 ???????????????????????????????????
????????????????????????????????????????
?????????????????????????????????????????
??????????????????? 9 ????????????????????
????????????????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
????????????? 9 ??????????????????????????
??????????????????????????
11
????????????????????????????????????????
????????????????????? Interlocked ??????????????
????????????????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
????????????
5. ?????
??????????????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
?(Adaptive Polling)????????????????????????????????
????????????????????????????????????????
?????????????????
??????????????????????????????????????
????????????????????????????????????????
????(Deadlock)[1, 18]?????????????????????????????
?????????????????????????????????? Interlocked ?
????????????????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
????? 10 ??????????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
?????????????????????????????????????????
???????????????????
13
????????????????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
???????????????????????????????????????
???? 12 ???????????????????????????????????
???????????????????? 13 ???????????????????
???????????????????????
0
0.05
0.1
0.15
0.2
0.25
0.3
1 101 201 301 401
?
?
(?
)
? 11??????????????????
0.0042
0.00425
0.0043
0.00435
0.0044
0.00445
0.0045
0.00455
0.0046
0.00465
0.0047
0.00475
1 7 13 19 25 31 37 43 49 55 61 67 73 79 85 91 97
?
?
(?
)
? 12??????????????????
0
0.001
0.002
0.003
0.004
0.005
0.006
0.007
0.008
0.009
0.01
1 7 13 19 25 31 37 43 49 55 61 67 73 79 85 91 97
?
?
(?
)
? 13???????????????????????
15
??????
??????????????????????????????????????
???????????????????
1. ???????? Windows-Based ??????????????????????
?????????????????????????????????????
?????????????????????????????????????
? PLC ?????????????? Windows-Based ????????????
????????????????????????????????????
2. ?????????????????????????????????????
?????????????????(Race Conditions)????????????
?????????????????????????????????????
?????????
3. ?????????????????????????????????????
????????????(?????)???????????????????
?????????????????????????????????????
???????????????????????????????????
4. ?????????????????????????????????????
?????????????????????????????????????
???????????????????????????????????
????????????????????????????????????????
????????????????????????????????????????
???????????????????????????? Windows-Base ??????
????????????????????????????????????????
??????????????????????????????????
