 2
中文摘要 
本計畫研發出使用滑動模式控制器來控制雙足機器人的方法。先以數學推演及電腦模擬為主，以
滑動模式控制器設計各關節應該走的軌跡，期望能使雙足機器人如真人一般地行走，並將理論實現，
實作研製一個雙足機器人，著重在下半身。除了設計與製作機械本體，搭配紅外線感測器與超音波感
測器來偵測障礙物，以達到避障的功能，且使用加速度器或陀螺儀來達到機器人行走平穩，接著結合
影像處理與自動監控追蹤系統，使雙足機器人具有三度空間眼睛的功能，可做上下左右的觀測動作。
經由影像處理技術，吾人可以估測出目標地的距離與位置，計算出伺服控制所需的控制訊號，驅動機
器人的各關節，作即時動態步行。 
 
關鍵詞：雙足機器人、滑動模式控制、軌跡追蹤 
 
英文摘要 
This project proposes the research and implementation of a biped robot applying the sliding 
mode control theory. First, the main mathematics is deduced and computer simulation is 
carried out in the first year. We hope to imitate the cerebellum model how the mankind thinks. 
Using sliding mode control would make the control algorithm more suitable. And we built a 
real biped robot and combine the image sensor and processing unit with the biped robot. So 
the robot can have its eye to look and inspect where it should go. We measure and calculate 
the required steps for the robot to walk through in real time. 
 
Keywords: biped robot, sliding mode control, trajectory tracking 
度、腰部具有2個自由度，以及腳部各具
有7個自由度。具有26個自由度的人形機
器人機構設計讓TWNHR-4能像人類一樣
的直走後退、左右平移、左右轉、爬起、
舉重與投籃。 
 
(5) 台灣大學機器人實驗室設計一台雙足機
器人，並搭配適當的演算法及控制電路，
來達成機器人於一般路面上穩定行走的
成果。在機構設計部分，以繪圖軟體CATIA
以及工程軟體ADAMS去製作並且模擬
kinematics與dynamics，進而預先驗證實驗
結果。在步態行走控制器之設計部分，結
合了中央軌跡產生器以及零矩點指標來
產生機器人重心之軌跡，再根據此重心軌
跡產生擺動腳的軌跡，最後配合逆向運動
學來達成全身性的運動。在控制部分，使
用DSP與FPGA之結合去做多軸馬達控
制，並擷取腳踝部位裝設的六軸力矩之訊
號，實現具阻尼特性的阻抗控制，使機器
人對地面有更好的適應性。 
圖 1 二階滑動模式控制軌跡示意圖 
 
滑動模式控制可分成兩個階段，第一
階段是迫近模式，即為系統在有限的時間
朝向滑動平面移動的階段，第二階段是滑
動模式，即是系統的動態沿著滑動平面向
原點滑動，此時的系統不會受到參數的變
動及外界的干擾所影響。而在一般的滑動
模式控制，我們主要目標是要讓系統的狀
態進入到滑動平面 ，而高階滑動模式
控制也是一樣，希望系統的狀態進入到滑
動平面 。我們以二階
滑動模式控制來做說明說明，希望系統狀
態的路徑如圖一所示，由空間上的任一點
逐漸收斂到滑動平面 與
0=s
)1( −γs
s
0==== ss L&
0= 0=s& 的交
集。 
 
(三)理論 
滑動模式控制的設計方法很簡單，控制效果
很好的方法，而且對於系統參數擾動及外來干
擾具有強健性，此外，對於非線性系統，滑動
模式控制可以解決有界的非線性及耦合的影
響。傳統的滑動模式控制的滑動函數是由狀態
所組成，而且限制控制系統的參數擾動與雜訊
需滿足匹配條件，近幾年有學者提出積分輸出
滑動模式控制，滑動函數是由系統的輸出誤差
所組成，如此可以不需要得到每個狀態的值，
而且沒有滿足匹配條件下，依然可以抵抗系統
參數擾動及外來干擾，採用積分式的滑動函數
的優點為可以降低系統的穩態誤差。 
一般而言，滑動模式控制的設計步驟分成兩
個：第一步選擇滑動函數，第二步為推導控制
法則，使得狀態的軌跡沿著指定的滑動函數到
達控制目標。 
 
(四) 五連桿雙足機器人數學模式 
考慮如圖2所示的五個連桿的雙足機器人，
包括一個身體連桿(link 3)，兩個上腿連桿(link 
2和link 4)和兩個下腿連桿(link 1和link 5)，這五
個連桿連接了四個旋轉軸兩個臀部關節旋轉
軸與兩個膝蓋關節旋轉軸，並且假設沒有摩擦
力，且各軸由各自的DC馬達控制。 
對於一個非線性且不確定的系統，傳統的滑
動控制是一個具有強健性的控制機制，但是必
須可以估測或得到不確定量的邊界，如此才可
以確保系統的穩定性，當不確定量的邊界不知
道時，需使用較大的輸入增益來達到控制目
的，然而這樣的作法會造成輸入的抖動現象，
常見的解決方式是採用邊界層的技術。 
 
 
 4
根據 ZMP 原理可得：(1)通過改變腳的姿態，
改變實際 ZMP 的位置，(2)通過改變慣性力的
大小（速度與姿態），改變期望 ZMP 座標。 
公司的仿人機器人 ASIMO，通過安裝在腳部
的六維力/力矩感測器檢測出地面反力資訊，計
算 得 到 COP （ 在 他 們 的 研 究 中 稱 為
C-ATGRF ），通過獨特的姿態控制同時調整軀
幹姿態和腳部姿態，進而保持 ZMP 和 COP 在
行走過程中始終處於合適的位置，實現穩定的
行走。 
 
(五)模擬結果 
雙足機器人系統的動態方程式與參數參
考，各軸角度的追蹤訊號為 
ZMP 是行走地面上的一點，在該點由作用
在機器人上的主動力和主動力矩所產生的合
力矩水準方向分量為零。步行機器人在步行
時，作用在其上的外力為重力、摩擦力和慣性
力。基於行走的動態平衡理論，ZMP 點的規劃
直接影響到步行機器人的穩定性、補償運動的
大小、關節區動力矩的大小，所以在規劃時應
在保證動態平衡、行走平衡的前提下，使補償
運動、關節驅動力矩盡量減小，從而減小步行
機器人的能量消耗，提高步行效率。ZMP 計算
公式： 
 35.0
1
4.0
)2.1(51 ++= −− td eq
 (23) 
 03.1
1
32.0
1
15.0
)9.3(5)2.1(52 −+++= −−−− ttd eeq
 (24) 
 18.0
1
32.0
1
6.0
)9.3(5)2.1(53 −+++= −− ttd eeq
 (25) 
 18.0
1
3.0
1
55.0
)9.3(5)2.1(54 −+++= −−−− ttd eeq
 (26) 
 38.1
1
36.0
1
8.0
)9.3(5)2.1(55 −+++= −−−− ttd eeq
 (27) 
 
∑
∑
=
=
+
+−+
= n
i
ii
n
i
iyiiiiii
ZMP
gzm
Vxzmgzxm
X
1
1
)(
)(
&&
&&&&
 (18) 
模擬結果如圖3~5所示，在時間25秒以後
出現參數擾動，由模擬結果可看出，滑動模式
控制器可以有效的抑制參數擾動，並使五個狀
態皆可追蹤到目標值。 
 
∑
∑
=
=
+
+−+
= n
i
ii
n
i
ixiiiiii
ZMP
gzm
Vyzmgzym
Y
1
1
)(
)(
&&
&&&&
 (19) 
 
0 0.5 1 1.5 2 2.5 3 3.5 4 4.5 5
0.4
0.6
0.8
Time (sec)
A
ng
le
 q
1 
(ra
d)
0 0.5 1 1.5 2 2.5 3 3.5 4 4.5 5
-1
-0.8
-0.6
Time (sec)
A
ng
le
 q
2 
(ra
d)
0 0.5 1 1.5 2 2.5 3 3.5 4 4.5 5
-0.2
0
0.2
0.4
0.6
Time (sec)
A
ng
le
 q
3 
(ra
d)
 
其中 zyx ,, 為機器人身體各部分的質心座標，
為身體各部分的重量， 為關節驅動
力。XOY在腳底板所在的平面，Z軸為垂直地
面向上。實際ZMP計算要由六維力/力矩感測器
進行量測而獲得。當期望的ZMP點與實際ZMP
不重合時，會出現翻轉力矩： 
im iyix VV ,
 T前向＝（X期望ZMP-X實際ZMP）Z廣義力 (20) (a) 
 T側向＝（Y期望ZMP-Y實際ZMP）Z廣義力 (21) 
 T旋轉＝（X期望ZMP-X實際ZMP）Y廣義力 
＋（Y期望ZMP-Y實際ZMP）X廣義力 (22) 
其中T前向，T側向，T旋轉為作用在機器人的前向力
矩，側向力矩，旋轉力矩； X期望ZMP，Y期望ZMP
為期望的ZMP座標；X實際ZMP，Y實際ZMP為實際
ZMP座標。 
 6
 
圖 6 雙足機器人外觀 
 
CALLBACK
 
圖 7 影像處理流程圖 
 
本計畫利用 RGB 系統進行目標物的判
斷，分別利用顏色所佔的 R、G、B 比例分析
影像，依據所選定的 R、G、B 比例進行特徵
搜尋。然而，在現實生活中，物體的顏色容易
受到材質、光線、亮度、移動速度…等影響，
而有些許的不同，雖然人眼對此些許差異可能
無法準確判斷，但其 RBG 值會因其原因而有
所不同。當一顆被人們視為紅色的圓球，其
RGB 為 ( )0,0,255 ，會因光線、亮度、材質，移
動…等影響，造成其 RGB 值的變動，進而影
響程式的判斷。因此程式在撰寫時需考慮此因
素，而對所要搜尋的顏色其 RGB 值在選定上，
需要調整至適當的範圍，以避免一受外在因素
影響的紅色球體，因過窄的 RGB 值範圍而導
致程式無法判斷為紅色；或者非紅色物體因過
寬的 RGB 值範圍，而導致程式判斷為紅色。
而在此計畫中的程式所選定的 RBG 值範圍分
別為 R：116~255，G：15~60，B：15~60。程
式所規劃的影像處理流程如圖 7 所示。 
 
(七) 計畫成果自評部分 
當初申請本計畫為兩年期，但後來獲得一
年的補助，因此要在一年內完成兩年的工作項
目就必須有所取捨。目前完成的工作項目包括
滑動模式控制器於雙足機器人軌跡追蹤的電
腦模擬，正在撰寫此部分的成果將投稿於國際
會議；完成雙足機器人的硬體組裝與基本功能
測試；已整合紅外線感測器、陀螺儀、Zigbee、
視覺系統於雙足機器人。雖然已經是計畫執行
截止，但未來將繼續使用與控制本計畫所開發
的雙足機器人，使其功能更完備，並且實現本
人已開發的控制法則，如滑動模式控制、模糊
控制與類神經網路等，即使計畫已結束，但本
系統後續仍可繼續發展與研究。 
 
 
(八)參考文獻 
[1]. http://asimo.honda.com/ 
[2]. http://www.sony.cl/qrio/ 
[3]. http://hubolab.kaist.ac.kr/index.php 
[4]. http://www.ai.mit.edu/projects/humanoid-ro
botics-group/cog/cog.html 
[5]. 詹翔閔，人形機器人機構設計與應用，碩
士論文，淡江大學，2007。 
[6]. 吳佳洋，二足機器人之設計與控制，碩士
論文，台灣大學，2006。 
[7]. S. Tzafestas, M. Raibert, and C. Tzafestas, 
“Robust sliding-mode control applied to a 
5-link biped robot,” J. Intelli. Robotic Sys., 
 8
表 Y04 
行政院國家科學委員會補助國內專家學者出席國際學術會議報告 
                                                         99 年 6 月 2 日 
報告人姓名 郭姿君 服務機構及職稱 
清雲科技大學電機系 
助理教授 
時間 
會議地點 
99 年 5 月 26 日至 99 年 5 月 29 日
日本東京 
本會核定
補助文號
NSC98-2221-E-231-012 
會議 
名稱 
 (中文) 2010 智慧型系統國際研討會 
 (英文) 2010 International Conference on Intelligent Systems 
發表 
論文 
題目 
 (中文) 使用適應性模糊滑動模式應用於機器手臂的軌跡控制 
 (英文) Trajectory Control of a Robotic Manipulator Utilizing an Adaptive 
Fuzzy Sliding Mode 
報告內容應包括下列各項： 
一、 參加會議經過 
敝人於5月25日早上8點50搭乘長榮航空班次BR2198，由桃園國際機場
到日本東京成田機場。此次會議在Holiday Inn Tobu Narita舉行，位在成田機
場附近的飯店，於5月26日也就是會議的第一天早上先至會場報到，並完成
註冊手續，拿到一本論文集，一張論文光碟片及檔案夾。敝人的論文被安
排在會議的第一天下午14點的Session VI，這場討論共有十篇論文，參與此
場的學者來自世界各地，包括印度，德國，墨西哥，澳洲及台灣等地的學
者。於5月29日晚上8點10分搭乘長榮航空班次BR2195，由日本東京成田機
場回到桃園國際機場，順利完成此次會議。 
 
二、 與會心得 
此研討會為期三天，會議目的為集合國際上相關領域的專家學者，工
程師與研究人員，進行在相關的學術交流、意見討論、新的趨勢與問題解
決。會議的主題包括，智慧型系統，人工智慧，智慧型運算，電腦影像系
統，分散人工智慧，DNA 運算，模糊控制，渾沌系統模糊控制，基因演算
法，機械學習，人機介面，多工系統，類神經網路，類神經模糊控制系統，
機器人控制技術等主題。敝人的論文是屬於模糊控制這個主題，在這個場
次的論文有模糊集合理論的應用，模糊規則的改善，模糊控制應用於機器
人控制，大部分的文章都屬於理論討討與電腦模擬為主。除了出席本人論
文的報告外，也去聽了幾個與本人研究相關的場次的文章，包括有：On 
Climbing Winding Stairs for a Robotic Wheelchair，Intelligent Fuzzy Input 
Estimator for the Input Force on the Rigid Bar Structure System，
Computer-based Alarm Processing and Presentation Methods in Nuclear 
Power Plants。 
無研發成果推廣資料 
其他成果 
(無法以量化表達之成
果如辦理學術活動、獲
得獎項、重要國際合
作、研究成果國際影響
力及其他協助產業技
術發展之具體效益事
項等，請以文字敘述填
列。) 
無 
 成果項目 量化 名稱或內容性質簡述 
測驗工具(含質性與量性) 0  
課程/模組 0  
電腦及網路系統或工具 0  
教材 0  
舉辦之活動/競賽 0  
研討會/工作坊 0  
電子報、網站 0  
科 
教 
處 
計 
畫 
加 
填 
項 
目 計畫成果推廣之參與（閱聽）人數 0  
