行政院國家科學委員會專題研究計畫成果報告 
完整的精確時變數據拆解處理與分析系統之研發及應用 
Development and Application of a Precise Data Analysis System 
 for Time Series Data 
計劃編號：NSC- 96- 2221- E- 006- 186-MY3 
                             執行期限：96/ 8 / 1 --- 99/ 7 / 31   
            主持人： 鄭 育 能  國立成功大學航太所 
計劃參與人員：楊宗明、吳嘉宏、鄭又齊、李尚胤 
目錄  
目錄                                                                           2 
圖目錄                                                                         3 
表目錄                                                                         6 
一、中英文摘要                                                                 7 
1. 中文摘要                                                                    7 
2. 英文摘要                                                                    7 
二、計劃緣由與目的                                                             7 
2.1 低階及高階疊代型快速濾波器                                                  7 
2.1.1 拆解平滑的非週期與低頻部份快速濾波器                                      8 
2.1.2 數據兩端的誤差                                                            8 
2.2 傅式正弦頻譜產生器                                                         9 
2.3 修正的 Gabor 時頻轉換法                                                     9 
2.4 趨勢線之代表多項式                                                        10 
2.5 單一波組的追縱與 feature 特徵圖                                              10 
2.6 修正的 HHT 轉換                                                           11 
2.7 小型商用麥克風系統的低頻響應實驗研究                                       12 
2.8 小型商用麥克風訊號收集系統的研發                                          14 
2.9 數位攝影機振動訊號收集系統之研發                                          14 
三、實例應用結果與討論                                                        15 
3.1 快速濾波器之應用                                                          15 
3.2 修正之 Gabor 轉換應用                                                      16 
3.3 麥克風數據捜集系統之應用                                                  16 
3.4 攝影機數據捜集系統之應用                                                  17 
四、結論                                                                      17 
五、參考文獻                                                                  17 
六、附錄 A-麥克風振動訊號數據捜集系統使用者介面簡介                            36 
七、附錄 B-高速攝影機拍攝介面                                                  42 
 
 
 
 
 
 
 2
(e) 5th modes; and (f) 6th modes.                                             23 
圖 21 The GSTA data, smooth and high frequency parts.                                24 
圖 22 The resulting IMFs generated by the original HHT.                                24 
圖 23 Comparison of left and right hand sides of Eq.(39) via the data of 圖 22.              24 
圖 24 Spectrum comparison: (a) original spectrum and spectrum of IMF1; and (b) original spectrum 
and extra spectrum of IMF1.                                                 24 
圖 25 Original spectrum of the periodic part and that employed to generate IMF modes.       24 
圖 26 Original spectrum, spectrum of extra-part during generating IMF1, and spectrum of diffusive 
IMF1.                                                                   24 
圖 27 The resulting diffusive IMF modes.                                            25 
圖 28 The split modes of the first two IMF modes: (a) splitting modes of IMF1; and (b) splitting 
modes of IMF2 and IMF2.                                                   25 
圖 29 The experimental setup: (a) electret condenser microphone without the plastic package; (b) 
schematic diagram of the overall arrangement; (c) schematic diagram of the DVD plate, 
microphone and speaker; and (d) two speakers (from left to right 21mm and 10 mm 
diameters, respectively).                                                     25 
圖 30 Results of the first cycle 1Hz data (10 mm speaker): (a) the raw data and trend; (b) the 
spectrum; and (c) the spectrogram.                                              26 
圖 31 Low frequency responses of the tests: (a) 10 mm speaker; and (b) 21mm speaker.        26 
圖 32 The experimental setup of exciter: the accelerometer is on top of the central bar of the exciter; 
microphone-1 is attached to the rubber membrane of the exciter; and microphone-2 is at the 
location 10mm above the membrane.                                            26 
圖 33 Data of three sensors: (a) result of accelerometer; (b) result of microphone attaching to the 
membrane; and (c) microphone at 10 cm high above the membrane.                   27 
圖 34 Spectra of three sensors: (a) result of accelerometer; (b) result of microphone attaching to the 
membrane; and (c) microphone at 10 cm high above the membrane.                   27 
圖 35 Spectrograms corresponding to those shown in Fig.34: (a) result of accelerometer; (b) result 
of microphone attaching to the membrane; and (c) microphone at 10 cm high above the 
membrane.                                                                27 
圖 36 Original data of a notebook computer: (a) microphone attaching to the right board of 
touchpad; and (b) microphone at 2 cm high above the touchpad.                      28 
圖 37 Spectrum of notebook computer: (a) attached microphone; and (b) detached microphone. 28 
圖 38 Spectrogram of notebook computer: (a) attached microphone; and (b) detached microphone. 
28 
圖.39 The first test case of LED system: (a) the LED setup and (b) the luminescent state of LED 
system.                                                                  29 
圖.40 The LED image data of 0.5Hz input: solid line is the raw data, dashed line is the smooth part, 
and dotted line is the high frequency part.                                       29 
圖.41 The LED image data of 1.0Hz input: solid line is the raw data, dashed line is the smooth part, 
and dotted line is the high frequency part.                                       29 
圖.42 Spectrum distribution of LED system: (a) 0.5 Hz input signal and (b) 1.0 Hz input signal. 29 
圖.43 The second test case of servo-motor: (a) front view; and (b) side view.                29 
圖.44 The servo-motor front view case: solid line is the raw data, dashed line is the smooth part, 
and dotted line is the high frequency part.                                       30 
圖.45 The servo-motor side view case: solid line is the raw data, dashed line is the smooth part, and 
dotted line is the high frequency part.                                          30 
圖.46 Spectrum distribution of servo-motor system: (a) front view and (b) side view.          30 
 4
表目錄 
 
表-1 The error penetration distance data of 12 /λλ =1.3 and 001.0=δ                         35 
表-2 The error penetration distance data of =2 and 12 /λλ 001.0=δ                          35 
表-3 The available shortest error penetration distance data of 5/2.1 12 ≤≤ λλ with 001.0=δ        35 
表-4 Comparison of available  data for difference δt δ  values, 12 /λλ  =1.3.               35 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 6
2.1.1 拆解平滑的非週期與低頻部份快速濾波器 ∞<<∞−++= ∑∑
=
∞
=
jta
t
d
t
cy
N
n
n
jn
l
j
l
l
l
j
lj ,]
2
sin
2
cos[
00 λ
π
λ
π   (1) 
 
    第(5-10)式的推導雖然是在時域進行，但是其結
果顯示我們可以在頻譜域，利用第(8)式可以預先計算
的特性，直接將傅式級數的頻譜各係數分別乘上係數
，再取逆 FFT 轉換，就不需要依次作
疊代的運算。此種作法使得本文的濾波器成為快速濾
波器。 
m
lMa )],(1] λσ−
其中第二連加項表示非週期部份，或稱為趨勢線部
份， 表示所有 之 。若要在每一點上都
用一多項式分別作局部近似，其誤差量測函數將是
[10,29] 
N Nn > 0→na
∑ ∑∞
−∞= =
−−−−=
k
M
l
l
jkjlk
jk
j ttAy
tt
I
0
2
,2
2
])(][
2
)(
exp[ σ
  (2) 
在要得到趨勢線移除的功能，要先估算最長波的
波長，取 4.0=σ 倍的最長波波長，應用上面的依次濾
波器法一次，可以拆出平滑的非週期性部份。由於拆
解時不可能得到無限尖銳的濾波效果，我們必須決定
過渡區 21 λλλ << 而得到如下的過渡區公式[11-34] 
針對 之變化，使 為極小的結果是下列方
程式必須要滿足。 
kMk AA ,,0 ,... jI
0/...,,0/ ,,0 =∂∂=∂∂ kMkkk AIAI              (3) 
當多項式取常數項時，上式的解便是使用高斯平滑法
將原數據串的每一點作局部平滑而得到， [ ]
[ ] δλσ
δλσ
≈−
−≈−
m
M
m
M
a
a
),(1
1),(1
2
1                    (11) 
jjj
i
i
j
yyy
jytjiy
−=
∞<<∞−Δ−−≈ ∑∞
−∞=
'
,]
2
)()(exp[
2
1
2
22
σωπ    (4) 
這組聯立方程式在給與過渡區窗口 12 /λλ 後，包括了
下列的參數 ,,Mm ,δ 和 1/λσ ，可是獨立變數只有兩
個，因而形成一族的解(即有無限多的解)。例如圖(1)、
(2)、(3)等就是不同的參數變化之三種不同的解。倒底
那一種組合才是最佳解呢？首先我們要求疊代次數
應該是整數次，其次的考慮是數據兩端的誤差是不是
最小。 
其中 jj yy ', 依次為平滑和高頻部份，也可證明 
)(
2
sin
2
cos]/2exp[' 2
2
00
222 tOtb
t
d
t
cy
N
n
n
jn
l l
j
l
l
j
lj Δ++⎥⎥⎦
⎤
⎢⎢⎣
⎡ +−≈ ∑∑ −
=
∞
= λ
π
λ
πλσπ  
                                        (5) 
對於使用高階的多項式，其方法稱為高階移動式最小
平方誤差法，可以證明其平滑和高頻部份將分別是 
 
]2sin2cos[),(
)(
0
2
00
l
k
l
l
k
l
l
lM
n
k
MN
n
M
n
N
n
n
kn
M
k
tctba
tgtdy
λ
π
λ
πλσ +
++=
∑
∑∑
∞
=
−
==           (6) 
2.1.2 數據兩端的誤差 
 
從第(2-9)式可知，濾波器的理論是以 ),( ∞−∞∈t 的
範圍而發展的，但實際的數據都是有限長，因而在數
據的起始點和最終點附近都會產生誤差。為了作測
試，本文以下式為例子，其中  500 ≤≤ t
]2sin2cos][),(1[
)'(
0
2
0
l
k
l
l
k
l
l
lM
n
k
MN
n
M
n
M
k
tctba
tgy
λ
π
λ
πλσ +−
+−=
∑
∑
∞
=
−
=         (7) 
)/2sin()/2sin(3.0
)6.5sin(2.0)10sin(4.009.035.01)(
21
2
λπλπ
ππ
tt
ttttty
++
+++−=      (12) 
測試誤差在數據的兩端大小，圖(4)是比較兩種解的誤
差：高斯平滑法和 100 階的移動式最小平方誤差法。
圖中明顯的可以看出高斯平滑在兩端的誤差比較
大。從此觀點出發，從比較之中找出不同的過渡區窗
口 12 /λλ 和δ 值之下，誤差伸入數據內部且其值為δ
時，伸入區最短的組合，當作最佳組合。表(1)和表(2)
列出 和 在3.1λ 1=/2λ 0.2 001.0=δ 時  和 組
合所提供的誤差大於
,m ,M 1/λσ
δ 之範圍，可見提高 M 可以大幅
度降低所需的 ，m 1/λσ 略為增加，但可以降低誤差較
大的範圍。表(3)將 2λ 5 之間的最佳 ,M
/
2.11 =λ 到/ , 及m
1λσ 組合列出，可見要達到教窄的過渡區，需要大幅
度增加 M 。表(4)顯現減小δ，我們在意的誤差範圍當
然加大。使用 001.0=δ 以及參數為
7.110,1,250 === σmM 等，可得到誤差為 ，比
起使用 HHT 的10 小。而且使用 HHT 時需要經過
長時間的嘗試才能得到最加組合(結合 C8+C9+C10 + 
C11+C12+C13 等 IMF)。由於本文的快速濾波器的計
算，是計算兩倍的 FFT 和計算 及乘上
傅式係數的運算量(
74.0
m
10
l,λσ
−
)]
53.0−
Ma (1]
NN +
−
kN= 2log2 )，其速度很快。 
B
M
lM eM
BBBa −++++= ]
!
...
!2
1[),(
2
λσ              (8) 
式中 。有趣的是222 /2 lB λσπ= 1=M 的解和高斯平滑
法相同，且 及 的解也相同。 kM 2= 12 += k
若使用高斯平滑法重複將高頻部份平滑 次，即得 m
mjj
m
j
l l
j
l
l
j
l
m
mj
yyy
tO
t
d
t
cy
,
0
2222
,
'
)(
2
sin
2
cos]/2exp[1['
−=
Δ+⎥⎦
⎤⎢⎣
⎡ +−−≈ ∑∞
= λ
π
λ
πλσπ  
                                           (9) 
此時除了趨勢線之外，最長波的數個波組可能被移除
一部份。而使用高階移動式最小平方誤差法結果是 
]
2
sin
2
cos[]),(1[
)'(
0
2
n
mMN
MM
−
0
,,
l
k
l
l
k
l
m
l
lM
k
n
nmmk
tctba
tgy
λ
π
λ
πλσ +−+
−≈
∑
∑
∞
=
=       (10) 
當 時，趨勢線和最長波的數個波組都會被移
。 
mMN 2<
除掉
 
 8
是截尾誤差，會劣化其時頻圖的頻譜解析度。若使用
第(19)式之第二式取代，可望降低使用原轉換式的誤
差。其原因是對一數據串做完 FFT 後再做逆 FFT 轉
換，通常得到 
+=− jj yyFF }}{{1 捨去誤差               (20) 
若將 看成是加上高斯窗的傅式頻譜，則所得的
逆 FFT 將是修正的 Gabor 轉換係數，且巧妙的避開了
積分誤差。此種新的時頻圖稱為傅式正弦時頻圖，若
在數據兩端取局部極大或極小點，配合偶函數轉換使
數據加長，所得到的稱為傅式餘弦時頻圖。整個的轉
換過程在得到傅式正弦頻譜後的步驟如下： 
}{ jyF
1. 選取頻率中心為 f ，並設定高斯窗口寬度 a ； 
2. 取帶狀頻譜，求其逆 FFT 轉換； 
3. 用 Hilbert 轉換求振幅和相角； 
4. 重覆步驟 1-3 到所有感興趣的頻率區域即可繪出
時頻圖。 
以 為例子，所用的 Hilbert 轉換公式如下 )(ty
∫∞∞− −= ττπ τ dtyty )( )()(~                         (21) 
振幅、頻率和相角如下 
tf
ty
tyt
tytytA
etAtyitytz
o
ti
πθ
θ
2]
)(
)(~[tan)(
)](~)([)(
)()(~)()(
1
2/122
)(
==
+=
=+=
−
                   (22) 
為了測試新舊的 Gabor 轉換式的差異，本文以商
用小型麥克風量取一個 electrodynamic Modal Exciter 
Type 4824 振盪器(見圖(7))的振動數據。此一振盪器由
一個函數產生器送入 0.12v(15Hz)、0.6v(50Hz)、
1.1v(100Hz)的正弦波，其原始數據和傅式正弦頻譜如
圖(8a、8b)所示。修正和原始的 Gabor 轉換式所求出
的時頻圖依次繪於圖(8c、8d)之中。從圖可見，修正
的 Gabor 轉換式之結果的解析度略遜於原 Gabor 轉換
式的結果，這是因為含有 a/6/2 +λπ 的寬帶響應項以
及積分誤差，會產生額外的壓縮效用，使得到的振幅
意外的加強所致。圖(9a、9b)的三維時頻圖可以明確
地看出修正和未修正的時頻圖對的主頻的振幅解析
明顯有差異，後者的振幅看不出隨時間改變的波動現
象，這和圖(8b)頻譜圖所示 100、138 和 184Hz 主頻旁
都有 side-band mode 的現象不相符合，因為這些主、
副頻帶一定會互相干擾結合成振幅波動的波組才對。 
 
2.4 趨勢線之代表多項式[34] 
 
為了能夠節省數據儲存空間，將趨勢線用多項式
代表之，是一種傳統的做法。得到了趨勢線的多項式
還有一個很大的好處是，可以輕易的用基礎數值分析
的方法找到趨勢線的許多重要特性，例如根、極大極
小值點、反曲點、隨意平衡的 stationary 點、甚至共
軛複數根等資料。首先本文以下列曲線的 1024 個離
散點數據，做重建多項式之測試，其中 50 ≤≤ x 。 
)001.0007.0003.009.035.01(3.0)( 5432 xxxxxxy −+−+−=
215.0 xe−×
yxxy
N
i
ikik ,)()(
0
= ∑
=
l
kx
                           (23) 
理論上，使用 Lagrangian 內插法可以得到所需要的代
表多項式，故本文使用之，其公式如下。 
Nk ,...,2,1,0=               (24) 
其中 是內插點， 是 Lagrangian 多項式，定義如
下。 
il
ji
jN
j
i xx
xx
x
ij
−
−= Π
≠
=0
)(l                            (25) 
當數據是平滑曲線時，不需要考慮每一點為內插點，
即 1024<N ，就可以合理的近似每一點。實際上使用
Lagrangian 內插法時，當點數太多時，第(25)式的連
乘所引入的捨去誤差會快速累積，使得代表多項式發
散。故無法求得單讀一個代表多項式，以完全的代表
所有的數據。為了克服此一缺限，本文使用分段式代
表多項式去代表原數據。 
    圖(10a)是例例用兩段的數據去調配出兩段的代
表多項式：第一段的數據是取 xxxx ΔΔΔΔ 721,...,91,46, ，
相當於得到 6.20 ≤≤ x
x
的曲線，在圖中是點線。另一段
取 xx ΔΔxxx ΔΔΔΔ 843,...978,1023,556,511
5
1006,...,
5.2
等 數 據
點，相當於得到 ≤≤ x 的曲線，在圖中是折線表示
之。它們對應到的誤差繪於圖(10b)之中，大體上誤差
都低於 。所得到的分段式代表多項式之係數為表
-5 所示，第一段的多項式為 
810−
∑
=
=
12
0
)(
i
i
i xaxy                              (26) 
第二段則是 
∑
=
−=
12
0
)5.2()(
i
i
i xaxy                         (27) 
    將這種方法應用到 GSTA 地球表面平均溫度數
據，其兩段式分段式代表多項式見圖(11a)，圖中的細
線是原數據，第一段為第 0-75 年(長折線)第二段是第
75-147 年(短折線)，對應到的誤差分佈畫在圖(11b)之
中，可能是因為平滑線比較沒有圖(10a)那麼平滑，誤
差約在 以內。所得到的分段式代表多項式之係數
為表-5 所示，第一段的多項式為 
510−
∑
=
=
12
0
)(
i
i
i xaxy                              (28) 
第二段則是 
∑
=
−=
12
0
)75()(
i
i
i xaxy                         (29) 
其係數見表-6。若要對平滑溫度進一步分析，第(28、
29)式和表-6 確實是容易處理多了。 
 
2.5 單一波組的追縱與 feature 特徵圖 
 
   有了時頻圖後，可以從比較下式的逆 Gabor 轉換 
 10
以下使用前述的 GSTA 地球表面年平均溫度來說
明和測試擴散型 HHT 轉換式的效果。圖(21)先用快速
濾波器移除長波部份， 20=σ 年及 ，其中原數
據是細實線表示，高頻部份是虛線而長波為折線。原
HHT 轉換的 IMF modes 見圖(22)所示，其參數為：
IMF1，9 次疊代， error tolerance = 0.001, 9 iterations 
for IMF1; IMF2, 1 次疊代，error tolerance = 0.004； 
IMF3; 5 次疊代，error tolerance = 0.008；IMF4 和
IMF5，220 次疊代，error tolerance = 0.002。 
126=m
∑∑
==
==
K
k
lkl
K
k
lkl ddcc
1
,
1
,
~
,~                  (38) 
不幸的是原 HHT 轉換常常得到下列結果， 
∑∑
==
=+=+
K
k
lkldl
K
k
lklcl dEdcEc
1
,,
1
,, |||
~
||,||~|       (39), 
式中 和  是第 個傅立葉波組的外加的項，本
文提出移除這些外加項 和 的方法，稱為擴散
式 HHT 轉換式。其修正後的轉換程序如下： 
lcE , lcD , l
lcE , lcD ,
1. 使用快速濾波器及 T/52 ≈λ ，移除極低頻和趨勢
線，其中T 為數據總長； 
從圖(22)看不出什麼不好的地方，但將所有的 IMF 
modes 的 Fourier sine spectrum 的絕對值加起來和原
來高頻數據的絕對值相比，如圖(23)所示，表示 | 和 
有差異 及 存在，尤其低頻的差異
更大。當 時， 和 的差別
是外加的，而 時 本身就是
外加的值。圖(24a)繪出原始高頻數據和第一個 IMF 
mode 之頻譜的比較，圖(24b)則是在頻譜上，第一個
IMF1 之頻譜和其外加項，後者顯示外加項甚至大於
原 IMF1 之頻譜。 
2. 使用 searching 和內插法，找數據兩端的零點，移
除 0 點以外的數據； 
|d
IMF
1−IMF 1−IMF L
IMF
l
|| ,lk
k
d∑
ld
lcE ,
>Lld
−IMF
l
ldE ,
d
L
ld <
0⋅
1d ⋅
l
0 ld
ld
1−
3. 對兩個 0 點作奇函數外插，左右都約延長數據約
一半長度，並使新的數據端點也是 0 點； 
4. 使用單調性 cubic spline 內插法，即第(13,14)式，
重新分佈數據，使其總長為 M2 點，原來的兩個
數據點之中最少要有一個新數據點，以保持精確
度； 
5. 求此延伸數據的 Fourier sine spectrum； 
6. 使用 HHT 轉換求第一個 IMF mode，此時強破上
下兩條包絡線在延伸的數據兩端相交於 0 點，並
估測此 IMF mode 的頻譜範圍，即 ),( maxmin f ，
比對原數據的 Fourier sine spectrum ，移除
), 之外的 Fourier modes，剩下的稱為
L
ld ； 
f
( maxmin ff
    圖(25)繪出原高頻部份之頻譜和切去
的高頻頻譜，而基以此切去高頻之帶通頻譜所產生的
擴散型 IMF1 繪於圖(26)之中的籃色線，可見新的
IMF1 並未包含有不合理的頻譜部份。最後的 IMF 
modes 繪於圖(27)，其各個參數為： IM1 用 error = 
0.001, 9 iterations; IMF2 用 error = 0.005, 3 iterations; 
IMF3 用 error = 0.01, 18 iterations; IFM4 用 error = 
0.004, 4 iterations; 以及 and IMF5 用 error = 0.01 和 
2 iterations。 
4044.0>lf
7. 求此 IMF mode 的 Fourier sine spectrum，稱其
Fourier modes 為 1−IMFld ，對於 minffl >  的 mode 
取 Ll ；對於第 l 個 mode 且滿足 
minffl ≤ ，若 1−IMFld 和 Lld 同正負號者使滿足
||| ，正負號相異者令 1−IMFld =0； 
IMF
l dd =−1
1 LIMF
l d≤−| d
仔細檢驗圖(22)和(27)的 IMF1，可見原 HHT 轉換可
以補捉快速而劇烈振幅改變的能力被抹平了，但其波
長約每年 0.4044 週期則大致不變，其它的 IMF modes
也被作不同程度的抹平。此外，IMF2 和 IMf3 的兩個
0 點之中有一個以上的極大極小值點，表示有負頻率
產生。本文將 的部份分成 IMF1-1 及 
IMF1-2 (見圖 28a)，其它部份則分成 4 部份 (IMF1-3 
到 IMF1-6 如圖所示). IMF2 則分成兩個部份如圖
(28b)。這些新的 IMF modes 的頻譜之外加項幾乎是 0。 
4044.0>lf
8. 設調整後的這個 IMF mode 的 Fourier sine 
spectrum 仍稱為 1−IMFld ，其逆 FFT 的結果當然是
此 IMF mode； 
9. 剩 下 的 數 據 之 Fourier sine spectrum ， 在
), 之中者當然是 1−− IMFl ，之外者
是原 Lld ； 
( maxmin ff
L
l dd
  總之針對 GSTA 數據的拆解，可見新方法有下列
特性： 10. 重複步驟 6 到 9，直到所以的 IMF modes 都求完
為止； 
11. 將新的 IMF modes 之數據，內插回原數據點，並
移除被延伸的新數據點。 
 
新的擴散式 HHT 轉換，和原 HHT 轉換不同的是
它可能有負頻率問題 ( 稱為 Bedrosian’s theorem 
[15])，本, 文直接使用頻率等分法，將之依序分成 2、
3、4 等數個 sub-IMF modes，每分完一組即檢查看是
不是可以避開負頻率，若能滿足此條件，極停止再次
分裂。 
 
1. 擴散型 HHT 轉換消除了外加項； 
2. 新方法先移除長波項，且比奇函數映射延伸數
據，使邊界誤差不致於影響原數據之拆解，也便
於求 Fourier sine 頻譜； 
3. 尖銳地解析振幅的能力被抑制，是一種缺點； 
4. 進一步做 mode splitting 常常是需要採用的策略，
以除去負頻率的缺點； 
新方法還需要進一步的改進研究。 
 
2.7 小型商用麥克風系統的低頻響應實驗研究 
 
 12
得麥克風數據收集系統可以收集相當廣泛之範圍的
振動訊息。 
 
2.8 小型商用麥克風訊號收集系統的研發 
 
上一節的實驗證明了小型商用麥克風可以收集
到低頻的訊息，加上原來大家公認的小型商用麥克風
頻率響應範圍，我們合理的認為可以將之作為一種訊
號收集系統[9,14,18,21,25,30-32]。 
首先，我們可以將小型商用麥克風直接暴露在空
中，以收集到 20-20KHz 的聲音訊息。聲音具有反映
空氣壓力變化的能力，舉凡在一定距離之內發聲的訊
號都可能被麥克風收集到，它包括了人、動物、樂器
的聲音，也包括結構物、家具、機械、車輛的振動或
碰撞訊息。其中的問題是如何分辨和解讀這些訊息，
通常需要廣範的資料數據庫以資比對，以及功能強大
的訊號拆解和解析能力。本文的快速濾波器、Fourier 
sine spectrum 和 spectrogram、波模組拆解、feature 攫
取、趨勢線代表多項式攫取等工具，提供了軟體端的
最佳理論依據，但還是沒有保握能充分的解析麥克風
在任意環境下收集到的訊號。換句話說，在空間中使
用麥克風收集訊號，需要對訊號源作嚴格的控制才能
發揮該訊號收集系統的功能。 
假若要在複雜環境下收集某一特定對象的振動
訊息，例如在有許多不同工具機的工廠內，監控某一
台車床的運轉狀態，上一節的實驗設施提供了一種合
理的解決方案。 
詳細檢視圖(29a)裸露的麥克風，可知其圓孔型收
音腔的直徑約 2mm，孔深 0.2mm。若將之壓在一個操
作中的工具機的某個位置的表面上，再假設該表面正
在振動。由於收音腔和表面形成一個微小的空氣腔，
即使該表面振動幅度很小，以致於表面和麥克風收音
腔的相對振動很小，都可能在其中造成壓力變化，而
由麥克風反映出該表面振動的訊息。請注意，收音孔
的深度只有 0.2mm，設空氣中的聲音速度為 330m/s，
則至少在 1650kHz( )以下的訊息不是該微
小空氣腔的駐波訊息，是該工具機振動訊號。有趣的
是，麥克風的外沿將產生一定的阻絕作用，使該工具
機附近其它在空氣中傳遞的聲音不致於輕易進入空
氣腔乃至影響到麥克風的收音。 
0002.0/330≈
為了顯示麥克風的功能，我們設計圖(32)的實驗
配置，這是使用 electrodynamic Modal Exciter (B&K, 
Type 4824)，配合一個加速規(ceramic type，resolution 
為 100 mV/g 解析 0.5 to 3kHz 訊號)、一個A/D卡(NI 
USB·6210，16bits 解析度，最高 sampling rate 為 250 
kbytes /second)，以每秒 500 點收集數據。此外也使用
兩個小型商用電容式麥克風，一個貼在橡皮的振動膜
片上，另一個放在離振動橡皮膜片上方 10 公分位置。
實驗時，以函數產生器(Iwatsu Inc. FG-350)依次送出
約為 3、4、及 9.5Hz 的 sine 波。因為加速規量到的是
加速度，而麥克風補捉到的是和速度成比率，故加速
規的數據需要先積分一次，其數據繪於圖(33)之中。
所收集到的數據經快速濾波器移除趨勢線(圖(33)之
平滑粗線)後，其頻譜繪於圖(34a-c)，依次是加速規、
接觸膜片之麥克風、及不接觸膜片之麥克風的頻譜
等。在圖中標示示的數個主、倍頻波組，顯示兩個麥
克風大致上能得到和加速規相去不遠的頻率。值得一
提的是，在圖(34c)看不清礎 2.7 和 4.8Hz 的兩個
mode，可見這兩個波組是振動 mode，在空氣中傳遞
時，能量太低了，故其訊號不易被放在空氣中的麥克
風補捉到。請注意 9.19Hz 的加速規 mode 和兩個麥克
風的 9.6Hz mode 有明顯的差異，但仔細看還是可以得
到在圖(34b)和(34c)之 9.6Hz mode 旁有約 9.2Hz 的
mode，而且 9.6Hz mode 事實上是 14.4Hz mode 的 2/3
次頻，而 9.19Hz mode 是 18.4Hz mode 的次頻。由此
可見 9.6Hz 是 exciter 所發出的聲音之主頻，它不易被
加速規補捉到。 
圖(35a-c)是分別對應到圖(34a-c)之頻譜圖的時頻
圖，圖(35a)與圖(35b)的比較，可以看到麥克風不但捉
到振動訊息，也抓到聲音訊息，這是橡膠膜片振動
時，整個 exciter 變成像一個鼓在發聲之故。但加速規
沒有那麼靈敏故看不到這些聲音訊號。相對的離開橡
皮膜片的麥克風低低頻的補捉能力差，故有用的訊號
不多。由這個實驗我們可以肯定接觸式麥克風補捉振
動訊息的能力，確實強於非接觸式。 
圖(36a)是放在一台操作中的筆記型電腦的觸控
板上的麥克風訊息和趨勢線，圖(36b)則是放在觸控板
上方約 2cm 的麥克風訊息和趨勢線。此時故意讓筆記
型電腦從其硬碟作大量數據輸出。圖(37a-b)的對應頻
譜可看出，放在空中的麥克風能補捉的訊息有限，但
接觸到筆電之觸控板的麥克風有許多訊息，特別是低
頻帶。圖(38a-b)也顯示類似性質，尤其是圖(38a)的
10Hz 頻帶上，有許多的訊息，它正是筆記型電腦之硬
碟的讀寫頭作隨機讀寫動作的資訊。總之，以上兩個
例子指出，將麥克風接觸到物體表面，可以輕易的補
捉到低頻的微弱振動訊息，故可以作為輔助現有加速
規、應變規、壓電感知器等的標準系統之用。 
 
上述討論說明麥克風系統的功能很好，且是非接
觸式、可攜帶型的數據收集系統，能使用的場合極為
廣泛，又有彈性，故發展使用者介面。其說明在附錄
A 之中。 
 
2.9 數位攝影機振動訊號收集系統之研發 
 
    一般數位攝影機(包括網路及高速攝影機)的每一
像速(pixel)的灰階值是一種疊加的訊息，它是所有可能
到達攝影機在該顯像位置所有光的總和。理論上，當
它以合理的焦距對準某一物體時，它只可能含有對應
到該像素位置的局部特定位置之影像訊息。可是實際
上此一影像訊息，會受到所有從此特定為置反射之入
射光的影響，這些入射光的強度和入射角可能會穩定
不變，更可能會隨時作規則或不規則的變化，加上此
特定局部位置可能穩定或作規則運動或作振動，所以
情形可能相當複雜。由於入射光的穩定與否，我們有
要拍照或不拍照之選擇機會，因此可以合理的假設入
射光是穩定的。在此種假設之下，攝影機之像素所收
 14
Care Unit (ICU))的危急訊號。例如文獻[39]的
Fig.13a ，編號第 260 號的數據在第 28,613 seconds 有
一筆假的病患危急警報，此時 ABP signal 正常但 ECG
訊號有數個異常 spikes。而在 Fig.13b，編號 485 號的
數據在第 6,036 seconds 有一真實警報，此時 ECG 和
ABP signals 都有異常狀況。 
一般來說，ECG 訊號是心臟的主導機制發出的訊
息，要求心臟要怎麼跳以提供循環系統如何供應血液
流通量。而 ABP 訊號等於是反映身體的循環系統對
血液流通量如何運作。本文的假設是，以心跳的波模
式來說，若 ECG 和 ABP 的 1Hz 附近之波組有高度相
關或者負相關，則表示主控和被動者互動良好，此人
的身體狀況即使有問題，大致上其身體的自我保護系
統運作得還不錯。反之，若 ECG 和 ABP 的 1Hz 附近
之波組不相關，則表示主控和被動者互動出問題了，
此人的身體狀況應該是進高度緊急狀況，隨時都會有
危險。一但警報出現，醫療團對應該馬上就要對其進
行急救。而這種相關和不相關現象，應該在平時未出
警報時就可以從 ECG 和 ABP 的 1Hz 附近之波組的訊
息中偵測到才是。 
針對此一假設，本文取假警報之 260 號數據之第
28,580 至 28,595 seconds，第 485 號數據取第 6,014.3
至 6,026 seconds 訊號作分析，這兩時段都在警報出現
之前。圖(50a,b)是第 260 號數據的 ECG raw data 和
spectrum，圖(51a,b)是第 260 號數據的 ABP raw data
和 spectrum。Raw data 圖中的兩端是用線性內插法預
測數據兩端的端點以降低快速濾波器的誤差，點線是
低頻趨勢線，粗的實線是 1HZ 附近的波。兩者的頻譜
都顯示心跳頻率為 1.28Hz 算是在正常的狀態。圖(52)
是 ECG 和 ABP 的 Fourier mode 組合成的波之相關係
數分佈，由圖可見不論是單一 Fourier mode 或兩個
Fourier modes的組合波，其交叉相關係數在 0.8-2.0 Hz
之間都趨近於+1，顯示此人的循環系統是正常，若有
警報也不可能是真的。 
圖(53a,b)是第 485 號數據的 ECG raw data 和
spectrum，圖(54a,b)是第 485 號數據的 ABP raw data
和 spectrum。兩者的頻譜都顯示心跳頻率為 1.83Hz，
算是心跳異常的高，可能會有狀態。圖(55)是 ECG 和
ABP 的 Fourier mode 組合成的波之相關係數分佈，由
圖可見不論是單一 Fourier mode 或兩個 Fourier modes
的組合波，其交叉相關係數在心跳頻率附近的相關系
數為-0.8 左右，且單一 Fourier mode wave 穩定的範圍
只是在 1.6-1.9 Hz 的狹窄頻帶之間，顯示此人的循環
系統不正常，若有警報極可能是真的。這個例子說明
使用快速濾波器，可以很容易看到不同 field 的新訊
息，故應用範為應該是極為廣泛的。 
 
3.2 修正之 Gabor 轉換應用 
其次使用修正的 Gabor sine 轉換探討 Southern 
Oscillation Index (SOI) 和 Cold Tongue Index (CTI)的
交叉相關系數的比對。SOI 數據是正常的海平面之月
壓力指數，壓力數據是在 Darwin, Australia 和大溪地
之間的東 tropical Pacific 區量得的[41]，這是南半球
的振盪現象，也是全球尺度的西南太平洋在赤道海面
的氣候指標。CTI 數據是在 , 海域
之跨年之溫度異常波動數據，是一種代表聖嬰現象(El 
Niño) [42]的資料。聖嬰現象是指太平洋在赤道區的溫
度和洋流變化現象。眾所周知的是兩種數據有高度的
相關性*** [38,41-44]，此種相關性引發了重要的全球
氣候異常。 通常一個大的 SOI 負 peak 之週期大約是
2 至 7 年，也是相當於一次嚴重的聖嬰現象(大氣暖化
事件)。在文獻[38]之中，ensemble empirical mode 
decomposition method 被成功的用來描述此種互動現
象。但此種描述是一種跨過 1870 年 1 月至 2002 年 12
月的整體說明，要更詳細地看其內涵，尚有一定程度
的難度。圖(56a)繪出兩數據，詳細關察它們，可以大
致上看出兩者有某種程度的負相關。但其交叉相關係
數約為-0.52，很難從學理上支持高度相關的論點。應
用快速濾波器(
SN oo 66 − Wo90180−
50=σ years，  126)可以拆出
平滑部份，如圖(56b-c)所示，它們互相之間有點 out-of- 
phase 的關係(其交叉相關係數值為-0.24，不是很有負
相關的指標)。圖(57a-b)是兩者高頻部份使用 Gaussian
窗口寬度 13 年所求出的時頻圖之比較，圖(58a-b)是
故意強化 spectrogram 係數之正負號，起顯是其正負
相角圖，詳細檢查這兩份比較圖，可以看出其負相關
性很高。圖(59)是直接用兩者的 spectrogram 係數(高
斯窗口寬度為 1 年)去求它們之間的交叉相關係數，可
見兩者的 out-of-phase 關係在 0.04 至 0.54 cycles per 
year (
== mM ,0
≈ 1.85 to 25 years/cycle)極明顯，其係數值大多比 
-0.7 小。文獻[38]所題第 4、5、7 個 IMF modes 的平
均週期約為 2.83, 5.23 and 20.0 年，且其交叉相關係數
約為-0.78, -0.79, 及-0.75。這和本文的詳細資料一
致。圖(56d)繪出 0.04 至 0.54 cycles per year 的兩種波，
可見其負相關極為明確，因為其交叉相關係數等於 
-0.82。若只看 2 至 7 years/cycle, 交叉相關係數等於
-0.85，這表示用修正的 Gabor 轉換，可以輕易的到明
確的量化數據。 
3.3 麥克風數據捜集系統之應用 
    麥克風振動數據捜集系統是以一架 two-stroke 
OS32SX-H RING engine 之搖控直升機進行測試，其
翼展為 0.35m。聲音數據是以人手持麥克風在其旁邊
約 10-15 m 處收集正在做操控運轉的搖控直升機，其
飛行高度約 3-10m，地點是台南市郊區的四草大橋
旁，時間大約是 10 月 26 日晴天有秋天海邊的陣風。
聲音數據之 raw data 見圖(60a)，在約第 6.8 秒處，油
料耗盡，直升機緩慢地落地。反映在圖(60a)，可見其
數據的上下包絡線在其後逐漸靠近 0 點。在第 2 秒左
右，有一陣強風吹過，故 raw data 有明顯的振盪訊息。
圖(60b)的低頻頻譜有 13.5Hz 和 20Hz modes，這應該
是主旋翼和尾翼的主頻(以閃頻儀驗證)，而引擎的主
頻為 57HZ。圖(60c)的頻譜可以讀出倍頻諧波，依次
為 114, 171, 226, 272, 340, 452, 571, 682, and 1129Hz 
modes。這些諧波的頻率不一定是主頻的整數倍，極
 16
DYU, Changhwa, Taiwan, R.O.C.  
. Yih-Nen Jeng and You-Chi Cheng, “Fourier Sine/ Cosine 
Spectrums and Errors of Derivatives Estimated by 
Spectrums,” Proc. 17th Combustion Con
15
f., Thermofluid 
16
f., Thermofluid section, paper no. I09, 
17
nf., Thermofluid section, paper no. I10, April, 
18
ynamics Conference, 
19
ynamics Conference, Taiwan, paper 
20
tions in Health, paper no. 
21
aipei, Taiwan, WeSP-01
22.
全國學術研討會論文集
23.
l and Applied 
24.
 188h Combut. Conf., paper 
25.
ctrogram,” paper no. 
26. 
ynamics Conference, Taiwan, paper no. 2503, Aug. 
27.
ember 9-10, Central 
28.
-26, 2008, Beijing, China, paper no. T22. 
29 ition 
1098/rspa.2007.0031, Published 
30.
”AIAA paper no. 
31.
of High Speed Camera,” AIAA-2010-933, Jan. 
32.
Image Data,” 
33. 
 Conference, Taiwan, paper no. A01, 
34. J
ics Conference, Taiwan, 
35. 
36. 
 
is,” Proc. R. Soc. Lond. A., vol.454, pp.903-995, 
al Mode 
 Advances in Adaptive Data Analysis, 1(2008), 
39.
false ECG alarms. 
40.
e care 
41. the Southern 
42 D
pisodes in the 
43. P
rnational Geophysics Series, vol.46, 
44. 
he 
Southern Oscillation. National Academy Press, pp.171. 
 
section, paper no. I07, April, 2007, Taiwan. 
. Yih-Nen Jeng and You-Chi Cheng, “Approximate Mode 
Decomposition Methods Using Data Extrapolation,” Proc. 
17th Combustion Con
April, 2007, Taiwan. 
. Yih-Nen Jeng and Tzung-Ming Yang,, “An Rough Error 
Estimation of Hilbert-Huang Transformation,” Proc. 17th 
Combustion Co
2007, Taiwan. 
. Yih-Nen Jeng, Tzung-Ming Yang
 
and Jia-Ming Huang, 
“Remote Control Vehicles’ Acoustic Data Analysis via 
Fourier Sine Spectrum and Spectrogram,” Proc. of 14th 
National Computational Fluid D
Taiwan, paper no. c015, Aug. 2007.  
. Yih-Nen Jeng and You-Chi Cheng , “Approximate Wave 
Mode Decomposition Methods,,” Proc. of 14th National 
Computational Fluid D
no. A007, Aug. 2007.  
. Yin-Yi Han, Yih-Nen Jeng, You-Chi Cheng, King-Jen 
Chang, Si-Chen Lee, Chiung-Nien Chen, Tony Wen-Hann 
Sheu, Jia-Lin Tsai, and Yo-Jung Wang, “Application of the 
Fourier Cosine Spectrum and Spectrogram to Analyze the 
Arterial Blood Pressure and ECG Data,” Proc. 2007 int 
workshop on Modelling and Simula
D2-01, Oct. 22-25th, 2007, Taiwan. 
. Yih-Nen Jeng and You-Chi Cheng, “A First Study of 
Speech Processing via a Novel Mode Decomposition Basing 
on the Fourier Sine Spectrum and Spectrogram,” Proc. IEEE 
2007 TENCON, 10/30~11/2 T  
Rev
section, paper no.00079, 2007. 
 Yih-Nen Jeng, Tzung-Ming Yan and Jia-Ming Huang, 
“Time Frequency Analysis of Vibration Data of a Ball 
Bearing with and without an Isolated Damage on a Ball, ” 
中國機械工程學會第二十四屆 ,
19
論文編號.B23-10, Nov.2007.  
 Jeng, Y. N., T. Z. Yang, and J. M. Huang, “Time 
Frequency Analysis of Vibration Data of a Ball Bearing 
with an Isolated Damage on Inner Race,” Proc. 31th 
National Conference on Theoretica
Mechanics, Paper no. H-28, Dec. 2007. 
Jeng,Y. N., “Diffusive and Fast Filter Using Iterative 
Gaussian Smoothing,” Proc.
X001, March, 2008, Taiwan. 
 Jeng, Y. N., T. M. Yang, Y. C. Cheng and J. M. Huang, 
“Acoustic Data Analysis of Remote Control Vehicles via 
Fourier Sine Spectrum and Spe
AIAA2008-4263, Jun 23-26, 2008. 
Jeng, Y. N., “Uncertainty Box Reduction of Decomposed 
Wave Modes via Ridge Tracing Method on Fourier Sine 
Spectrogram,”, Proc. of 15th National Computational 
Fluid D
2007. 
 Jeng, Y. N. and Hsu, Y. J. G, “A Study upon Tsunami 
and Typhoon Surge via Spectrogram of Tide Wave,”  
Conference on Marine meteorology and operational 
forecast, paper no. 443, Sept
Weather Bureau, Taipei,2008. 
 Jeng, Y. N. and S. Y. Lee, “Qualitative Frequency 
Response Calibration of Sonocardiography System to 
Sense Wrist Pulse,” The 7th Asian-Pacific Conference on 
Medical and Biological Engineering, APCMBE 2008 
March 21
No.5-15. 
. Jeng, Y. N., P. G. Huang, and Y. C. Cheng, “Decompos
of one-dimensional waveform using iterative Gaussian 
diffusive filtering methods,” Proc. R. Soc. A (2008) 464, 
1673–1695, also doi:10.
online 13 March 2008. 
 Jeng, Y. N., T. M. Yang, C. H. Wu, “Low Frequency 
Analysis of Acoustic and Vibration Data of a Remote 
Control Electronic Helicopter, 
AIAA-2009-1155, Jan. 5-8, 2009. 
 Jeng, Y. N., C. H. Wu, C. H. Cheng, T. M. Yang, and H.C. 
Hung, “Low Frequency Vibration Data Analysis via Digital 
Image Data 
4 -7, 2010. 
 Jeng, Y. N., J. H. Wu, and T. M. Yang, “Vibration Analysis 
of Small Unmanned Aircrafts via 
AIAA-2010-4359, 28 Jun. – 1 Jul., 2010. 
Jeng, Y. N. and Y. C. Cheng, “A First Study of 
Reconstructing Representative Polynomial of Discrete 
Smooth Curve,” Proc. of 17th National Computational 
Fluid Dynamics
July-30. 2010. 
eng, Y. N. and Y. C. Cheng, “Complementary Criteria of 
Locating Root or Extreme Point of One Dimensional 
Continuous Function,” Proc. of 17th National 
Computational Fluid Dynam
paper no. A08, July-30. 2010. 
Huynh, H. T., “Accurate Monotone Cubic Interpolation,” 
SIAM J. Number. Anal. vol.30, no.1, pp57-100, Feb.1993. 
N. E. Huang, Z. Shen, and S. R. Long, "A New View of 
Nonlinear Water Waves: the Hilbert Spectrum," Annual
iews of Fluid Mechanics, 1999, vol.51, pp.417-457.  
37. Huang, N. E., Shen, Z., Long, S. R., Wu, M. C., Shih, H. 
H., Zheng, Q., Yen, N. C., Tung, C. C. and Liu, H. H., 
“The Empirical Mode Decomposition and the Hilbert 
Spectrum for Nonlinear and Non-stationary Time Series 
Analys
98. 
38. Z. Wu and Norden E. Huang, “Ensemble Empiric
Decomposition: A Noise Assisted Data Analysis 
Method,”
pp.1-41. 
 Clifford, G. D., Abouknalil, A., Sun, J. X., Zong,W., Janz, B. 
A., Moody, G. B. & Mark, R. G. 2006. Using the blood 
pressure waveform to reduce critical 
Computers in Cardiology, 33, 829-832. 
 Moody, G. B. & Mark, R. G. 1996. A database to support 
development and evaluation of intelligent intensiv
monitoring, Computers in Cardiology, 23, 657-660. 
Trenberth, K. E. 1984 Signal versus noise in 
Oscillation. Mon. Weather Rev. 112, 326-332. 
eser, C. ＆ Wallace, J. M. 1990 Large-scale atmospheric 
circulation features of warm and cold e
tropical Pacific. J. Climate, 3, 1254-1281. 
hilander, S. G. 1990 El Niño, La Niña, and the Southern 
Oscillations. Inte
Academic Press. 
National Research Council. 1996 Learning to predict 
climate variations associated with El Niño and t
 18
圖 8 The vibration exciter data measured by the small 
microphone system: (a) raw data; (b) Fourier sine 
spectrum; (c) spectrogram of modified Gabor 
transform; and (d) spectrogram of original Gabor 
transform. 
(b) 
 
(a) 
 圖 6 spectra of the GSTA data: (a) Fourier spectrum with 
and without the trend; and (b) Fourier and 
Fourier sine spectra of data without the trend. 
(b) 
 
 
圖 9 comparison between 3D spectrogram: (a) 
spectrogram of modified Gabor transform; and (b) 
spectrogram of original Gabor transform. 
(a) 
圖 7 The picture of the electrodynamic Modal Exciter 
Type 4824 
 
(a) (b) 
  
(b) 
 
(c) 
 圖 10 The test data and segmental representative 
polynomial: (a) data and segmental polynomials; 
and (b) segmental polynomials’ error distribution.  
(d) 
 
 
 
 
 
 
 
 
 
 20
(a) 
 
 
(b) 
 
 
(c) 
 
4 The feature tracking method for an air- 
conditioner’s spectrogram: (a) original spectrogra
(b) initi
圖 1
m; 
al tracking result; and (c) final smoothed 
result. 
15 The acoustic data and IMFs of speech Hello. 
) 
) 
) 
) 
圖.1
nd modes; (c) 3rd modes; (d) 
4th modes; and (e) 5th modes.  
17 The turbulent flow data and IMFs. 
(a
 
 
 
 
 
 
 
(b
 
 
 
 
 
 
(c
 
 
 
 
 
 
(d) 
 
 
 
 
 
 
 
(e
 
 
 
 
 
 
 
6 The comparison of spectrograms, the left designs the 
intrinsic mode’s spectrogram and the right belongs to the 
original data: (a) 1st mode; (b) 2
 
 
 
  
  
  
  
  
  
  
  
  
 圖
  
圖  
  
 22
modes; (d) 4th modes; (e) 5th modes; and (f) 6th modes. 
 
 (b)  
圖 21 The GSTA data, smooth and high frequency parts.  
 
圖 24 Spectrum comparison: (a) original spectrum and 
 spectrum of IMF1; and (b) original spectrum and 
extra spectrum of IMF1. 圖 22 The resulting IMFs generated by the original HHT. 
  
 Comparison of left and圖 23  right hand sides of Eq.(39) 
via the data of 圖 22. 
(a) 
圖 25 Original spectrum of the periodic part and that 
employed to generate IMF modes. 
 
 24
diagram of the DVD plate, microphone and speaker; and 
(d) two speakers (from left to right 21mm and 10 mm 
diameters, respectively). 
 (a)  
圖 30 Results of the first cycle 1Hz data (10 mm 
speaker): (a) the raw data and trend; (b) the spectrum; 
and (c) the spectrogram. 
 
(a)               
(b)            
 
圖 31 Low frequency responses of th
  
(b)       
 
e tests: (a) 10 mm 
speaker; and (b) 21mm speaker. 
 
 
rubber accelerometer
(c) 
 
microphone-1 microphone-2 
 26
 
 
 
 
圖 37 Spectrum of notebook computer: (a) attached 
ophone; and (b) detached microphone. 
 
(a) 
(b) micr
 
 
圖 36 Original data of a notebook computer: (a) 
microphone attaching to the right board of touchpad; 
and (b) microphone at 2 cm high above the touchpad. 
(a) (b) 
 
 (b) 
圖 38 Spectrogram of notebook computer: (a) attached 
icrophone; and (b) detached microphone. m
 
 28
 
    圖.46 Spectrum distribution of servo-motor system: (a) 
front view and (b) side view. 圖.43 The second test case of servo-motor: (a) front view; 
and (b) side view.  
 
7 A schematic picture to show the experimental 
setup is shown. The accelerometer will be attached 
at the location of aluminium foil, the microphone 
will be hold by hand around the gear box, and the 
microphone took film of the gear box. 
 
圖4 
圖.44 The servo-motor front view case: solid line is the 
raw data, dashed line is the smooth part, and 
dotted line is the high frequency part. 
 
 
(b)  
圖.45 The servo-motor side view case: solid line is the 
raw data, dashed line is the smooth part, and 
dotted line is the high frequency part. 
 30
 
圖51 The 260 ABP data: (a) raw data and (b) spectrum. 
 
圖52 The cross correlation coefficients distribution with 
respect to frequency between ECG and ABP of 260 
data.  
 
(a) 
 
(b) 
 
圖53 The 485 ECG data: (a) raw data and (b) spectrum. 
(a) 
 
(b) 
 
圖54 The 485 ABP data: (a) raw data and (b) spectrum. 
 
圖55 The cross correlation coefficients distribution with 
respect to frequency between ECG and ABP of 485 
data.  
 
圖 56 Data comparison between SOI and CTI: (a) 
original data, CTI is the solid line and SOI is               
the dotted line; (b) original (thin solid) and low 
frequency part of CTI; (c) original (thin solid) 
and low frequency part of SOI; and (d) extracted 
data in the range of 0.04 to 0.54 cycles per year, 
CTI is the solid line and SOI is the dotted line. 
 32
圖 61 Spectrogram of the unmanned helicopter: (a) 
0-200Hz; (b) 200-500Hz; (c) 500 -100Hz; (d) 
1000-2000Hz; and (e) 2000-3000Hz. 
  
(c)             
  
 
(d) 
 
 
(e) 
 
 
 Picture of a small remote control electronic 
main rotor wing and fly flybar 
圖 62
helicopter, the 
paddle are adjusted in a non-symmetric situation as 
shown. 
 
圖 63 The diagram of attaching an accelerometer 
(indicated by the dashed arrow) and aluminum foil 
 
(indicated by solid arrow) to the small helicopter. 
 
圖 64 The raw data of helicopter in variable rotation 
speed, taken by high speed camera.  
 34
 36
 
3. 於介面左上角按此鍵 ，將產生下圖，因為只有一個 microphone 所以選單聲
道(mono)，取樣頻率(sampling time)不變。 
 
設定擷取訊號時間 
4.按紅色小圓點開始錄音，左邊的按鍵為可聽訊號。 
 
 
5. 錄製結果 
 38
 
7. 將 WAV 檔轉為 DAT 檔，其後採用本計劃發展之程式進行轉檔。 
 
8. Load&Extract 決定轉換之 WAV 檔案並將其轉換為 DAT 檔； 
9. Load Data File 決定反轉換之 DAT 檔； 
10. Save .wav File 將 DAT 檔反轉換為 WAV 檔； 
 
 40
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 42
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
灰階累加轉換介面： 
操作步驟如下 
1. 選擇(輸入)影像資料夾； 
 44
 
 
 
 
 
 
 
 
 
計算頻譜操作步驟如下： 
1. 點選開啟檔案，選擇欲計算之原始數據； 
2. 輸入平滑參數與疊代次數； 
3. 輸入與展示之頻率範圍； 
4. 點選 FFT 可以繪製頻譜圖； 
 
 46
 48
 
 
驗方面的研究論文聽講。最值得一提的是 western Michigan State 
University 的 TianShu Liu(劉天書)教授，他發表的論文是全新的發
展，其理論是基於 optical flow 的理論，想辦法和流體力學結合，
作流場量測和固體璧面模擦阻力的量測。職認為他的方法將會取代
PIV(particle in cell velocitymeter)，職將以他的理論為基礎，
近一步發展流場和振動訊號的新量測法。故可謂本次出國開會，收穫
良多，對職之進一步研秀有莫大的助益。 
 
 
研究期間參訪類別：參加研討會並發表論文 
           
 2
There are two convenient diagnoses tools whose systems can be made portable, say the acoustic 
and image systems. Their related devices are microphone and video camera which have been 
properly developed and can be easily obtained from market. Moreover, the costs of their overall 
systems continuously drop because of the development of computer technology. In a series of 
previous studies [1,2], it was proven that the acoustic system can be constructed within couples of 
ten dollars once you have a notebook computer. Unfortunately, the acoustic signal may be saturated 
by the jet noise of an engine. In such a high dB environment, the image system is obviously much 
better than the acoustic system. 
In fact, both the acoustic and image signal may involve information emitted from multiple 
sources. For example, an acoustic signal frequently involves much information transferred through 
the solid, liquid, and gas in direct and/or indirect manners which may relate to speech, structure 
vibration, fluid motion, and wave propagation etc. Similarly, an image data may contain the 
information of light source, movement, velocity and acceleration of all the reflecting surfaces which 
may or may not be the interested surface. In other words, these signals are frequently very 
complicated such that the embedded information cannot be easily extracted via existing tools. 
To study such a complicated data string, the iterative Gaussian smoothing method, Fourier sine 
spectrum and spectrogram are employed. Specifically speaking, the iterative Gaussian smoothing 
method remove the non-periodic trend embedded in the signal and the Fourier sine spectrum had 
been proven to be a strong projection which can faithfully reflect the information of minor modes 
[1-8]. 
 
II. THEORETICAL ANALYSIS 
 
2. 1 Previous Works 
 
The related works concerning to this study are the Fourier sine spectrum generator, iterative 
Gaussian filter with diffusive property, Fourier sine spectrogram and Hilbert transform. For the sake 
of completeness, they are briefly restated below. 
 
2.1.1 Iterative Filter Using Gaussian Smoothing 
 
Assume that a discrete data string can be approximated by [1,2,8,9] 
∞<<∞−++= ∑∑
=
∞
=
jta
t
c
t
by
N
n
n
jn
l
j
l
l
l
j
lj ,]
2
sin
2
cos[
00 λ
π
λ
π
                      (1), 
where the second summation represents the non-sinusoidal part and N is referred to as the largest 
power for which 0→na  for all Nn > . For a practical data string of finite data points, the 
non-sinusoidal part is interpreted as the sum of monotonic part and all the Fourier modes whose 
wavelength longer than the expansion interval. According to the Weierstrass approximation theorem, 
there exists such a polynomial which properly approximates this trend within a finite interval [10]. 
When the Gaussian smoothing method is employed, the following formulas are obtained [1-9,11]. 
jjj
i
i
j
yyy
jytjiy
−=
∞<<∞−Δ−−≈ ∑∞
−∞=
'
,]
2
)()(exp[
2
1
2
22
σωπ                              (2) 
where jy  and jy' are the smooth and high frequency parts, respectively. In Ref. [1,2,8,9], it was 
27th AIAA Aerodynamic Measurement Technology and Ground Testing Conference, Chicago, IL 2010
AIAA Paper 2010-4359
           
 4
the following empirical relation is proposed to estimate the faded range of 4101 ≤≤ m . 
)(log83.24.3/ 10001.0 mx +≈σ                                                (7), 
where 001.0x is the distance from an end point in which the resulting my'  has at least a 0.1% 
deviation from estimated by Eq.(6). In other words, the error penetration distance increases 
exponentially with respect to the number of iteration cycle. Now the low frequency part of the 
filter's response involves both the monotonic part and those long waves whose wavelengths are 
longer than tLttL Δ=− 0 . 
 
It is believed that the highest degree N  of the polynomial of Eq.(1) is frequently smaller than 
250. If 2/ 12 =λλ  and error tolerance 001.0=δ  are employed, the proper parameters of 
considering the iterative Gaussian smoothing method are 7715.0/ 1 =λσ  and 127≈m . Now one 
can employ these parameters together with 1λ  and directly performs the filter on the spectral 
domain in terms of Eq.(6) as follows [1,2,8]. 
1. Properly choose two end points of the data string and connect them with a straight line. 
2. Substrate the straight line from the original data string. 
3. Find the Fourier spectrum via an FFT algorithm. 
4. Multiple every Fourier mode by the factor 
[ ]mlMl amb )/(1),,( λσλσ −=                                                 (8), 
   where l  is the mode index. 
5. Evaluate the inverse FFT of the resulting spectrum to obtain the desired high frequency part. 
6. The difference between the original data and high frequency part is the smooth part. 
 
The linear trend removal is employed to reduce the error induced by the non-periodicity of the 
original data string. The proposed de-trending method still has error introduced by the missing data 
at the two ends but is significantly less than that estimated by Eq.(7). 
 
2.1.2 Fourier Sine Spectrum 
 
In Ref. [1,2,8], the above iterative filter is employed to remove the non-sinusoidal trend and then 
to preserve periodic condition via the rest procedure list below. 
 
1. For the remaining high frequency part, use search and interpolation methods to find zero points 
around the two ends. 
2. Use the monotonic cubic interpolation [1,2,8,13] to redistribute the data and let the total number 
of points is set to be k**2 , k  is a user specified integer which must satisfy Lk 2**2 >  to 
ensure the interpolation error as small as possible. 
3. Perform an odd function mapping with respect to an end so that the final data point is doubled. 
4. A simple FFT algorithm is employed to generate the Fourier sine spectrum. 
 
At the two ends, the odd function mapping enforces the second and all still higher even order of 
derivatives to be zero and approximates all the odd order derivatives via the interior data points. 
Since the periodicity is valid for the data and all necessary orders of derivative, it can be proven that 
the Fourier sine spectrum is a strong projection of the remaining high frequency part after 
de-trending procedure [1-8]. In other words, it can faithfully reflect most minor modes. 
 
27th AIAA Aerodynamic Measurement Technology and Ground Testing Conference, Chicago, IL 2010
AIAA Paper 2010-4359
           
 6
Assume that the non-periodic trend of a discrete data string with a finite data length has already 
been excluded. It is obviously that, Eq.(12) confirms Eq.(10) such that, for a practical data string, 
the Gabor transform with a Gaussian window (with a window width a ) imposed on the time 
domain is almost equivalent to impose a corresponding Gaussian window (with a window 
width a/1 ) on the spectra domain. 
 
For a discrete set of sinusoidal jy s, the following identity is valid because of the orthogonal 
property of both the forward and backward FFT. 
+=− jj yyFF }}{{1 round-off error                                            (13) 
By interpreting the }{ jyF as a spectrum filtered by a Gaussian window, jy  is just the 
approximated Gabor transform with a corresponding Gaussian window. As a consequence, this 
study employing the following procedure [1,6,7,12] to approximate the original Gabor transform. 
 
1. Impose the spectral Gaussian window corresponding to the time domain Gaussian window to 
   the Fourier sine spectrum, where central point at spectral domain is a given frequency. 
2. Perform the inverse FFT of the resulting band-pass limited spectrum which is just the real part  
of the corresponding spectrogram coefficient. 
3. The amplitude of the coefficient can be evaluated by the Hilbert transform. 
4. After scan through all the given frequencies, the spectrogram is obtained. 
 
Since all the necessary periodic conditions are artificially enforced, the spectral domain 
time-frequency transform of the sinusoidal data string has the round-off error plus that induced by 
the interpolation to generate the spectrum. On the other hand, for the same discrete data set, the time 
domain integration of Eq.(10), are embedded by truncation errors. Therefore, the spectral domain 
evaluation is better than that in the time domain. 
 
2.1.4 Hilbert Transform 
 
For a sinusoidal data string )(ty , defined in the range of ∞<<∞− t , the following Hilbert 
transform is the corresponding imaginary part [1-8,12]. 
∫∞∞− −= ττπ τ dtyty )( )()(~                                                         (14) 
The amplitude and frequency can be evaluated directly as follows. 
tf
ty
tyt
tytytA
etAtyitytz
o
ti
πθ
θ
2]
)(
)(~[tan)(
)](~)([)(
)()(~)()(
1
2/122
)(
==
+=
=+=
−
                                                  (15) 
 
2.2 The Image Data Processing of Solid Surface 
 
  A single pixel of an image data of a target collected by a digital high speed camera may involve 
the local motion of the target surface and the lumen intensity variation of incident light. In this study, 
the main light source is a car light source which is supported by a 24V battery. All the experiments 
are carried out at night so that the rest light sources can be easily excluded by just turning off their 
light sources and by using heavy window curtains to shield the outdoor light sources. Consequently, 
27th AIAA Aerodynamic Measurement Technology and Ground Testing Conference, Chicago, IL 2010
AIAA Paper 2010-4359
           
 8
are adjust into a non-symmetric manner so as to make it in a un-balance situation whenever the 
power is switched on. Consequently, the magnitude of the vibration is effectively enhanced and can 
be properly captured by the high speed camera. 
 
III. RESULTS AND DISCUSSIONS 
3.1 Test Cases 
 
To examine the performance of the high speed camera, the data of an electrodynamic Vibration 
Exciter Type 4809 (see Fig.2a) is employed. The power was given by a function generator of 
Tektronix CFG280. The accelerometer was mounted on top of the vibration exciter as shown in 
Fig.2b while the high speed camera took image data from one side of the accelerometer (with mark 
of arrow pointing upward). The data is collected by an accelerometer with a sampling rate of 500 
points/second. By keeping the input voltage at 1.0Voltage, a sequence of frequencies are set, say at 
first it is approximately 50Hz, then 75Hz, and finally 30Hz, respectively. Figure 3 is the original 
raw data picked up by the accelerometer. However, the accelerometer measures the acceleration 
rather than the surface displacement which is principally taken by the image. In order to compare 
with the image data, the raw data was integrated with respect to time twice whose resulting data is 
plotted in Fig.4. The corresponding spectrum and spectrogram are shown in Figs.5 and 6, 
respectively, where the three frequencies are 51.1, 74.6, and 33.9Hz, respectively. Their amplitudes 
are not exactly equal to each other because the accelerometer have not the same resolution at 
different frequency levels. From the spectrum, the first and second harmonics of these fundamental 
modes can be roughly identified while the still high harmonics can not be easily captured. From the 
spectrogram of Fig.6 one can clearly inspect the response of changing the input voltage and input 
frequency. For the sake of inspecting the harmonics and sub-harmonics, 4 small amplitude levels 
are added as shown. Obviously, the sub-harmonics of the 51 and 34Hz modes cannot be clearly seen 
because of the blur effect of the well known uncertainty principle of all the time- frequency 
transform. There are many minor modes which are combined from sub-harmonics and harmonics 
which cannot be easily captured by the Fourier spectrum. 
 
When the accelerometer takes the data, the high speed camera collects the image data in a frame 
rate of 484fps simultaneously. Figure 7 plots the resulting gray level summation’s raw data. It is 
interesting to see that the magnitudes of the gray level summation’s variation are roughly 
proportional to the input frequency in a inverse manner. When it vibrates slowly, the exciter’s image 
moves slowly from cycle to cycle too. It seems that the high speed camera can effectively record the 
variation of the incident light. On the other hand, when the exciter quickly vibrates, the high speed 
camera’s capability seems decays as shown. The corresponding spectrum and spectrogram of Figs.8 
and 9 tell us that the exciter has many harmonics and modes combining the sub-harmonics and 
harmonics. Because of the complex environment, most sub-harmonics are not clearly captured. 
Moreover, the electric power line’s frequency of 60 and 120Hz are reflected which are induced by 
the light source. Nevertheless, the spectrum and spectrogram consist to those of the accelerometer. 
In fact, the frequency deviations from this spectrum to those significantly modes of Fig.5 are all less 
than 0.4Hz. 
 
Results of this test case give us the confidence that the high speed camera system can capture 
much vibration information. In spite of some discrepancy, the image system has the merit of 
non-contact and convenience which are not found in many current diagnosis systems. 
 
 
27th AIAA Aerodynamic Measurement Technology and Ground Testing Conference, Chicago, IL 2010
AIAA Paper 2010-4359
           
 10
 
IV. CONCLUSIONS 
 
A novel image data acquisition system equipped with the time frequency transform based on the 
Fourier sine spectrum is employed to examine unmanned helicopter’s vibration data. The resulting 
spectra and spectrograms clearly capture the dominant information of the data string. In the 
examined low frequency regime, the proposed system has a better performance than that employing 
the accelerometer. 
 
AKNOWLEDGEMENT 
 
This work is supported by the National Science Council of Taiwan, R.O.C. under the grant 
number NSC-96-2221-E-006-186-MY3. 
 
REFFERENCES 
[1]  Y. N. Jeng, T. M. Yang, and C. H. Wu, “Low-Frequency Analysis of Acoustic and Vibration 
Data of a Remote Control Electronic Helicopter,” AIAA paper no. 2009-1155, Orlando, Jan. 
5-8, 2009. 
[2]  Y. N. Jeng, C. H. Wu, C. H. Cheng, T. M. Yang, and H. C. Hung, “Low Frequency Vibration 
Data Analysis via Digital Image Data of High Speed Camera,” AIAA paper no. 2010-933, 
Orlando. Jan. 4-7, 2010. 
[3]  Y. N. Jeng and Y. C. Cheng, “The New Spectrogram Evaluated by Enhanced Continuous 
Wavelet and Short Time Fourier Transforms via Windowing Spectrums,” Proc. 18th IPPR 
conference on Computer Vision, Graphics and Image Processing (CVGIP2005), pp.378-383, 
Taipei, R. O. C, Aug. 2005. 
[4]  Y. N. Jeng, C. T. Chen, and Y. C. Cheng, “Studies of Some Detailed Phenomena of a Low 
Speed Turbulent Flow over a Bluff Body,” Proc. AASRC/CCAS Joint Conf., paper no.H-47, 
Kaohsiung, Taiwan, Dec. 2005. 
[5] Y. N. Jeng, C. T. Chen, and Y. C. Cheng, “Some Detailed Information of a Low Speed 
Turbulent Flow over a Bluff Body Evaluated by New Time-Frequency Analysis,” AIAA paper 
no.2006-3340, San Francisco, June, 2006. 
[6]  Y. N. Jeng, “Time-Frequency Plot of a Low Speed Turbulent Flow via a New Time Frequency 
Transformation,” Proc. 16th Combustion Conf., paper no.9001, Taiwan, April, 2006. 
[7] Y. N. Jeng and Y. C. Cheng, “A Time-Series Data Analyzing System Using a New 
Time-Frequency Transform,” Proc. 2006 International Conference on Innovative Computing, 
Information and Control, vol. 1, paper no. 0190, pp.525-528, Sept. 30, 2006. 
[8]  Y. N. Jeng and Y. C. Cheng, “Fourier Sine/Cosine Spectrums and Errors of Derivatives 
Estimated by Spectrums,” Proc. 17th Combustion Conf., paper I07, March, 2007, Taiwan. 
[9]  Y. N. Jeng, T. M. Yang
 
, Y. C. Chen and  J. M. Huang, “Acoustic Data Analysis of Remote 
Control Vehicles via Fourier Sine Spectrum and Spectrogram,” AIAA paper no. 2008-4623, 
Seattle, Jun. 23-26, 2008. 
[10] Kreyszig, E. 1978. Introductory functional analysis with applications. chapter 4, pp.280-282, 
Wiley, New York. 
[11]  Y. N. Jeng, P. G. Huang, and Y. C. Cheng, “Decomposition of one-dimensional waveform 
using iterative Gaussian diffusive filtering methods,” Proc. R. Soc. A (2008) 464, 1673–1695, 
also doi:10.1098/rspa.2007.0031, Published online 13 March 2008. 
[12] Y. N. Jeng, “Diffusive and Fast Filter Using Iterative Gaussian Smoothing,” Proc. 188h Combut. 
27th AIAA Aerodynamic Measurement Technology and Ground Testing Conference, Chicago, IL 2010
AIAA Paper 2010-4359
           
 12
 
Fig.2 The electrodynamic Vibration Exciter Type 4809 and accelerometer : (a) overall picture; and 
(b) detailed picture of mounting the accelerometer (with upward arrow). 
 
Fig.3 The raw data of the accelerometer of the vibration exciter. 
27th AIAA Aerodynamic Measurement Technology and Ground Testing Conference, Chicago, IL 2010
AIAA Paper 2010-4359
           
 14
 
Fig.6 The spectrogram of the high frequency part of Fig.4. 
 
Fig.7 The gray level sum and smooth part of image data. 
27th AIAA Aerodynamic Measurement Technology and Ground Testing Conference, Chicago, IL 2010
AIAA Paper 2010-4359
           
 16
 
 
Fig.10 The diagram of attaching an accelerometer (indicated by the dashed arrow) and aluminum 
foil (indicated by solid arrow) to the small helicopter. 
 
Fig.11 The integrated data of helicopter in constant rotation speed, measured by the accelerometer. 
27th AIAA Aerodynamic Measurement Technology and Ground Testing Conference, Chicago, IL 2010
AIAA Paper 2010-4359
           
 18
 
Fig.14 The gray summation of helicopter in constant rotation speed. 
 
Fig.15 The spectrum of the high frequency part of Fig.14. 
27th AIAA Aerodynamic Measurement Technology and Ground Testing Conference, Chicago, IL 2010
AIAA Paper 2010-4359
           
 20
 
Fig.18 The spectrum of the high frequency part of Fig.17. 
 
Fig.19 The spectrogram of the high frequency part of Fig.17. 
27th AIAA Aerodynamic Measurement Technology and Ground Testing Conference, Chicago, IL 2010
AIAA Paper 2010-4359
           
 22
 
Fig.22 The spectrogram of Fig.21. 
27th AIAA Aerodynamic Measurement Technology and Ground Testing Conference, Chicago, IL 2010
AIAA Paper 2010-4359
96年度專題研究計畫研究成果彙整表 
計畫主持人：鄭育能 計畫編號：96-2221-E-006-186-MY3 
計畫名稱：完整的精確時變數據拆解處理與分析系統之研發及應用 
量化 
成果項目 實際已達成
數（被接受
或已發表）
預期總達成
數(含實際已
達成數) 
本計畫實
際貢獻百
分比 
單位 
備 註 （ 質 化 說
明：如數個計畫
共同成果、成果
列 為 該 期 刊 之
封 面 故 事 ...
等） 
期刊論文 0 0 100%  
研究報告/技術報告 0 0 100%  
研討會論文 12 2 100% 
篇 
 
論文著作 
專書 0 0 100%   
申請中件數 0 0 100%  專利 已獲得件數 0 0 100% 件  
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 1 0 100%  
博士生 2 0 100%  
博士後研究員 0 0 100%  
國內 
參與計畫人力 
（本國籍） 
專任助理 1 0 100% 
人次 
 
期刊論文 1 3 100%  
研究報告/技術報告 0 0 100%  
研討會論文 6 0 100% 
篇 
 
論文著作 
專書 0 0 100% 章/本  
申請中件數 0 0 100%  專利 已獲得件數 0 0 100% 件  
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 1 0 100%  
博士生 2 0 100%  
博士後研究員 0 0 100%  
國外 
參與計畫人力 
（外國籍） 
專任助理 1 0 100% 
人次 
 
 
