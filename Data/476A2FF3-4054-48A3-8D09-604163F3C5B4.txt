human-computer interface techniques are employed for 
developing optimal user interfaces. A backend server 
is developed for monitoring, recording, synchronizing 
and updating medication processes. Finally, usability 
testing and market study was conduct to modify the 
design and the functionality of the prototype of the 
smart medication system. 
英文關鍵詞： Smart Pill Box, Wireless communication, Method of 
detecting pills, ZigBee, Wireless Sensor Network, 
Usability engineering, the elderly, medication 
behavior 
 
 I 
 
目錄 
摘要 ..................................................................................................................................................... II 
1. 緒論 .................................................................................................................................................................. 1 
1.1. 前言 ................................................................................................................................................................. 1 
1.2. 研究目的 ......................................................................................................................................................... 2 
1.3. 文獻回顧 ......................................................................................................................................................... 4 
2. 無線感測網路模組開發 .................................................................................................................................... 7 
2.1. 無線感測網路發展現況 ................................................................................................................................. 7 
2.2. IEEE 802.15.4 規範 .......................................................................................................................................... 7 
2.3. ZIGBEE 協定說明 .............................................................................................................................................. 9 
2.4. 硬體帄台介紹 ............................................................................................................................................... 13 
2.5. 韌體帄台介紹 ............................................................................................................................................... 14 
2.6. 無線感測技術資訊安全 ............................................................................................................................... 16 
2.7. WSN 訊息與資料庫整合技術 ...................................................................................................................... 22 
2.8. 結果與討論 ................................................................................................................................................... 24 
2.9. 參考文獻 ....................................................................................................................................................... 24 
3. 使用者測詴 ......................................................................................................................................................25 
3.1. 文獻探討 ....................................................................................................................................................... 25 
3.2. 研究方法 ....................................................................................................................................................... 26 
3.3. 第一階段測詴發現 ....................................................................................................................................... 27 
3.4. 操作性問題與改善對策 ............................................................................................................................... 30 
3.6. 第二階段使用者測詴 ................................................................................................................................... 35 
3.7. 小結 ............................................................................................................................................................... 45 
3.8. 參考文獻 ....................................................................................................................................................... 46 
4. 系統整合 ..........................................................................................................................................................47 
4.1. 智慧藥盒硬體整合 ....................................................................................................................................... 47 
4.2. 單一使用者情境實現 ................................................................................................................................... 55 
4.3. 無線網路通訊 ............................................................................................................................................... 62 
4.4. 多人使用者模式設計 ................................................................................................................................... 65 
4.5. 多人使用者模式實現 ................................................................................................................................... 69 
5. 結論 .................................................................................................................................................................91 
6. 附件-著作及廠商早期參與合約書 ................................................................................. 錯誤! 尚未定義書籤。 
 
 1 
 
1. 緒論 
1.1. 前言 
本計畫總共細分為三個子計畫，並與『台
北市立聯合醫院』醫療系統進行合作。第一
子計劃主要利用『無線感測器網路技術前瞻
研究』專案計畫已完成的無線傳輸模組，進
行開發無線通訊相關的傳輸、計時及省電技
術。第二子計劃主要針對智慧藥盒合適性的
設計做探討及研究。第三子計劃則負責系統
軟硬體的整合及後端資料庫及人機界面的開
發。 
巨觀而言，第一子計劃負責“無線通訊＂
部份，第二子計劃負責“藥盒硬體＂和“使用
者測詴＂，第三子計畫負責“感測模組＂和
“人機介面與網路資料庫＂以及“系統整合＂，
如圖 1.1 的計畫分工示意圖所示。 
微觀而言，第一子計劃以「WSN 無線感
測技術之應用」為主要架構。主要是開發省
電無線模組的技術，包括韌體程式的開發及
電池參數的調整等等。並開發具省電效能的
時鐘計時裝置，以便利智慧藥盒攜帶外出時
依然能夠發揮提醒功能。此外，亦將採用無
線模組和定位感測技術來實現藥盒定位的功
能々第二子計劃以「產品設計」與「互動介
面設計」為主要架構。「產品設計」包括使用
者需求與見解之確認、產品概念構想之設計、
產品精描圖 (rendering)與工程圖之繪製、產
品草模(mockup) 和原型 (prototype) 之製作、
產品硬體使用性 (usability)之測詴等。「互動
介面設計」則包括產品使用情境之分析、操
作流程與互動介面之設計、產品軟體使用介
面 (user interface)之測詴、最終產品互動介面
之使用模擬等々第三子計劃以「系統整合」
為主要架構。將所有子計畫所開發出來的軟
硬體技術、實體和應用，整合成『智慧藥盒
服藥提醒與管理系統』。另外，子計畫三在硬
體部分，將進行包括感測器技術電路模組開
發、藥盒機構的設計製作、監控模組的開發
等等。軟體部份則包括人機介面的設計、網
路通訊協定制定、各硬體模組韌體的撰寫及
後端伺服器資料庫的開發。如圖 1.2 的計畫
執行流程架構圖所示。 
 
圖1.1 計畫分工示意圖 
 3 
 
用。在實地參訪醫院、藥局以及參考一些醫
療資訊之後，我們發現得到慢性病的老年人
所要服用的藥物有以下幾種特性〆 
(1) 種類多〆每次服食藥物的種類很多，有固
狀藥丸、液狀藥丸、外用藥物。 
(2) 劑量大〆每次服食藥物的數量很大，諸如
一次服用 5、6 樣以上的藥物。 
(3) 服藥頻率多樣〆每次服用藥物的頻率及次
數複雜且不一，有一日一次 (quaque 
die,QD)、一日兩次(bis in die, BID)、一日
三次(ter in die, TID)、一日四次(quarter in 
die)等等服藥頻率，另外又可分為飯前
(ante cibum, AC)或飯後(post cibum, PC)
食用或是需要時(pro re nata, PRN)使用。 
 
以患有糖尿病、高血壓病患為例，一次
看診後醫生可能會開出如表 1.1 的典型慢
性疾病藥單。由這張典型病例藥單就可以看
出病患每次看診拿藥就是動輒 10 種以上的
藥物。將之整理如表 1.2 ，每次服用數量最
大可能到一餐 7~8 顆，服藥頻率也相當複
雜。 
 
表 1.1 典型慢性疾病藥單 
藥名 劑量 用量 服法 
Coracten(cap) 20mg 1.0 顆 BID PC PO 
Alpraline(tab) 0.5mg 0.50 錠 BID PC PO 
Amaryl(tab) 2mg 2.00 錠 BID AC PO 
Bentomin(tab) 850mg 1.00 錠 BID PC PO 
Concor(tab) 5mg 1.00 錠 QD PC PO 
Aprovel(tab) 150mg 1.00 錠 QD PC PO 
Sleepman(tab) 10mg 1.00 錠 HS PC PO 
Crestor(tab) 10mg 1.00 錠 QD PC PO 
Strocaine(tab) 20mg 1.00 錠 QD PC PO 
Atanaal(cap) 5mg 1.00 顆 PRN PC PO 
註〆cap 為膠囊，tab 為藥錠，HS 為睡前，PO 為口服 
(本參考資料由計劃合作機構台北市立聯合醫院藥劑
部提供) 
表 1.2 藥單分析 
時間 飯前 飯後 
早餐 1 7 
中餐 0 0 
晚餐 1 3 
睡前 1 
需要時 1 
(本參考資料由計劃合作機構台北市立聯合醫院藥劑
部提供) 
 
一般而言，醫院端在每次診療後所能提
供的服務，就是給藥。但是由於大部分慢性
疾病的老年患者醫院每次看診都會領取一個
月的藥量，這樣大量的藥量若要醫院採用帄
時感冒所使用的一餐一包藥(Unit Dose)的方
式來給藥，容易因為人為疏失而造成藥物核
對錯誤的醫療糾紛。因此，醫院因為核對藥
物的人力不足以及為了避免可以預期的醫療
糾紛，對於慢性疾病老年患者在服藥前就必
頇自行依照各個藥袋上的說明進行分藥然後
再行服用，而非直接撕開一餐的藥袋來服用，
這種服藥方式大大增加了老人服藥的困難度
和用藥錯誤以及病人傷害的機會。再者，隨
著年齡的增加，老人視力退化的情形成更加
嚴重，藥袋上所標示的服用方式老年人也未
必能夠看清楚且了解，再加上老人記憶力也
會衰退，更容易忘記服藥的事，這些原因都
將增加居家老人服錯藥物、忘記服藥的機會。
而慢性疾病若有停止用藥的情形發生，病情
可能會有不可預期的變化，甚至造成更嚴重
的傷害。因此，有鑑於此，本研究致力於開
發一套智慧藥盒服藥提醒與管理系統，透過
無線傳輸技術、藥物偵測技術以及配合後端
資料庫的設計，提供使用者服藥提醒、分藥
提助以及服藥記錄等功能，以期能讓慢性病
患的用藥過程更為方便和安全。 
 
 5 
 
 
圖1.6 市售傳統藥盒之四 
 
1.3.2. 電子藥盒 
市售電子藥盒主要是由傳統藥盒加上電
子計時器所組成。其目的是提供服藥提醒的
功能。圖 1.7 是由 e-pill 所發展的電子藥盒 
7 Alarm Vibrating Pillbox & Daily Organizer，
此電子盒提供七個藥格，可隨使用者自行分
配藥格使用。此電子藥盒使用 Timer 計時，
等服藥時間到了，此電子藥盒會發出聲音提
醒使用者。除此之外，亦有防水的功能。 
 
 
圖1.7 市售電子藥盒之一 
由TIMEX公司以及 e-pill公司所出產的
e-pill Weekly Medication Manager，它使用
TIMEX 發展的計時器，此計時器可以隨意組
裝上此產品的其他藥盒，然後組合成一個可
隨身攜帶、可服藥提醒、可提供四格藥格的
電子藥盒，如圖 1.8 。此外，此電子藥盒亦
能記錄服藥時間，提供給使用者參考。但服
完藥後仍需使用者自行按下停止提醒按鈕。 
 
圖1.8 市售電子藥盒之二 
 
由  e-pill 所 發 展 的 Automatic Pill 
Dispenser 除了能提供 28 格藥格以及計時與
服藥提醒功能以外，還能夠防止使用者誤服
其他時間的，如圖 1.9 所示。它所用的方法
是〆在一般時間下藥格不會打開，直到服藥
時間到的時候，底盤會將該服藥的那格藥格
旋轉到開口並且打開蓋子。並且在蓋子打開
後一段時間，如果使用者還是沒有服用藥物
的話，該藥盒會關上蓋子並判斷使用者未服
藥，所以使用者不用怕會重複服藥。另外，
值得一提的是，若服藥時間發現藥盒傾斜超
過預設值，藥盒會自動判斷此格已服完藥，
並結束此次服藥。 
 7 
 
2. 無線感測網路模組開發 
2.1. 無線感測網路發展現況 
隨著科技的日新月異，人們對取得資訊
的需求越來越大。尤其網路的快速發展，更
加深了無線感測網路技術的重要性。其最主
要的概念是在各種環境中佈下多個感測器，
使得空間更加智慧化。近年來，無論是在智
慧型家庭的應用、商業大樓自動化，或是在
其他少量資料傳輸的無線通訊網路中，都能
看見它的蹤跡。一般來說，無線感測網路大
多採用 Zigbee Protocol 作為模組開發依循的
標準。ZigBee 主要是由 ZigBee Alliance 所制
定，符合 IEEE 802.15.4 標準[1]，其目的在
於提供一套通訊協定的標準，讓各種不同軟
硬體帄台之感測網路間能夠溝通。 
 如圖 2.1 所示，ZigBee 在底層部分沿用
了 IEEE 802.15.4 的協定，並在上層部分規範
了網路路由、網路安全、網路架構、應用，
以及傳輸封包的格式。 
 
圖 2.1 ZigBee 通訊協定分層架構圖 
 Zigbee Protocol 也允許網狀(mesh)與樹
狀(tree)結構，保留更佳的彈性空間以應付龐
大感測器網路的連結應用情境。 
而近年來，在無線感測網路領域中出現
了一個備受矚目的新名詞─6LoWPAN。
6LoWPAN 是 IPv6 over Low-power Wireless 
Personal Area Networks 的縮寫，這個名稱是
源自於 IETF(Internet Engineering Task Force)
工作團隊。6LoWPAN 同樣也符合 IEEE 
802.15.4 標準，更重要的是，它將 IP(Internet 
Protocol)帶進了無線感測網路。且相較於
ZigBee ， IP 在 6LoWPAN 上路由時，
6LoWPAN 層 不 需 要 額 外 的 header 
information，減輕了封包的負荷，使得有更
多的空間能夠用來存放資料。 
 整體而言，以 IP 為基礎的 6LoWPAN 十
分具有吸引力，越來越多的半導體廠商所開
發的 802.15.4 晶片，同時支援 ZigBee 和
6LoWPAN。相信日後在 ZigBee 和 6LoWPAN
的發展上，仍有許多值得探討的空間。 
2.2. IEEE 802.15.4 規範 
 IEEE 802.15.4 主要使用於 LR-WPAN 
( Low Rate - Wireless Personal Area Network)，
此為 IEEE 所推出的支援無線感測器通訊的
一套規範，此標準的訂定在於配合一些低耗
能、低成本、低傳輸速率及短傳輸範圍的應
用[2]。WPAN 就是所謂的無線個人區域網路，
一般大家所熟知的範例為藍芽(802.15.1)和
ZigBee(802.15.4)。藍芽已經是多款消費性電
子設備中的普遍技術，可迅速傳輸少量資料。
ZigBee 則為低傳輸率的 WPAN 標準，可廣
泛用於感測器網路、遠端控制，與家庭自動
化的應用，圖 2.2 為 802.15.4 媒體存取控制
層和實體層架構示意圖。 
IEEE 802.15.4 定義出媒體存取控制層
(Medium Access Control, MAC layer)和實體
層(Physical layer, PHY layer)的規格。實體層
負責無線資料的傳輸與接收。媒體存取控制
層則負責提供無線傳輸設備不同節點間的連
結通道控制，確保資料傳輸過程的可靠性。 
 9 
 
 
圖 2.3 超級框架(superframe)的架構 
 CSMA/CA 是 carrier sensor multiple 
access with collision avoidance 的縮寫，是用
來避免封包碰撞的機制。在非常接近的時間
之內，若許多設備或節點皆使用相同頻道
(channel)且各自傳送封包到空間中，封包與
封包之間會有干擾的情況，造成接收方無法
辨認封包或是無法接收到完整的封包，這就
是因封包碰撞而造成封包遺失的情況，如圖
2.4 所示。為了解決這個問題，可以藉由
CSMA/CA 演算法改善封包傳輸的成功率這
個演算法的概念是利用封包送出前的隨機延
遲，錯開封包傳送的時間，並透過 CCA (Clear 
Channel Assessment) [4]的判斷，直到頻道是
空閒的時候才允許封包傳送，然後也透過參
數設定決定何時視為封包傳送失敗，而停止
進行傳送封包的動作。而在 CSMA/CA 演算
法中，有分為時槽型與非時槽型兩個部份，
這與有沒有使用 beacon 有關。若有使用
beacon，就採用時槽型 CSMA/CA(slotted 
CSMA/CA)的演算法々若沒有使用 beacon，
則採用非時槽型 CSMA/CA 的演算法。 
 
圖 2.4 封包碰撞示意圖 
網路架構上，802.15.4定義了二種節點，
第一個是全功能的設備 FFD (Full Function 
Device)，此設備在 PAN 中可以被當成協調
器(coordinator)，負責建立其它設備間的通訊。
另一個是功能較簡單的設備 RFD (Reduced 
Function Device)，此設備僅可和 FDD 進行簡
單的資料傳輸，在網路架構中通常只能擔任
終端機(End Device)，無法當協調器。網路拓
撲 方 面 ， 802.15.4 支 援 星 狀 拓 撲 (Star 
Topology) 和 點 對 點 拓 撲 (Peer to Peer 
Topology)，如圖 2.5 所示。[3] 
 
圖 2.5 星狀拓墣雨點對點拓樸示意圖 
2.3. ZigBee 協定說明 
ZigBee protocol [5]是由 Honeywell 公司
組成的 ZigBee Alliance 制定的，從 1998 年
開始發展，底層則採用 IEEE 802.15.4，如圖
2.6 [6]所示。主要特色在於低耗能、傳輸速
度低、支援大量網路節點、支援多種網路拓
撲、低複雜度及可靠安全，目標在透過這些
特性發展自動化以及遠端控制應用。在本研
究中就是以 ZigBee 傳輸協定架設的樹狀網
路拓撲來完成節點的通訊。由於有 IEEE 
802.15.4 規範的支持與推廣，在低速無線個
人區域網路的領域上，ZigBee 逐漸成為學界
與業界爭相研究的主流技術，目標是發展低
耗電、低成本、低速短距無線感測網路。 
CAP CFP 
Beacon 
GTS GTS INACTIVE 
|0|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15| 
aBaseSuperframeDuration*2SO 
aBaseSuperframeDuration*2BO 
Beacon 
 11 
 
表 2.3 小藥盒傳給主機的命令格式(安養看護) 
 
Command Abbr. command Format 
請求指示〆 
小藥盒詢問主
控帄台是否有
命令需要執行。 
READY 命令長度〆5 
命令〆READY 
資料長度〆0 byte 
資料〆none 
偵測藥物〆 
藉由小藥盒內
部的偵測藥物
機制判斷藥格
內 是 否 有 藥
物。可應用於服
藥記錄及分藥
協助。 
CELSTATUS 命令長度〆10 
命令〆CELLSTATUS 
資料長度〆4 bytes 
資料〆 
第一格 第二格 第三格 第四格 
1 0 1 1 
註〆「1」代表該格有藥 「々0」代表該格沒藥 
時間同步〆 
小藥盒回傳從
主控帄台接收
到 的 系 統 時
間，確定資料傳
遞無誤。 
 
SYNTIME 命令長度〆7 
命令〆SYNTIME 
資料長度〆14bytes 
資料〆 
年 月 日 時 分 秒 
2011 06 15 17 29 30 
 
服藥時間同步〆 
小藥盒回傳從
主控帄台接收
到 的 服 藥 時
間，確定資料傳
遞無誤。 
 
CHGSCHDL 命令長度〆8 
命令〆CHGSCHDL 
資料長度〆48 bytes  
資料〆 
第一格 第二格 第三格 第四格 
年、月、
日、時、
分 
年、月、
日、時、
分 
年、月、
日、時、
分 
年、月、
日、時、
分 
2011 
0615 
0800 
2011 
0615 
1200 
2011 
0615 
1900 
2011 
0615 
2300 
 
 
 
 
 13 
 
LED 滅 + 
蜂鳴器滅〆 
小藥盒的四個 LED
燈滅，同時關掉蜂鳴
器。 
QUIET 命令長度〆5 
命令〆QUIET 
資料長度〆0 byte 
資料〆none 
廣播模式〆 
小藥盒不睡眠。應用
於分藥協助。 
WAKEUP 命令長度〆6 
命令〆WAKEUP 
資料長度〆0 byte 
資料〆none 
省電模式〆 
小藥盒進入省電模
式，回復請求/回應
傳輸機制。 
SLEEP 命令長度〆5 
命令〆SLEEP 
資料長度〆0 byte 
資料〆none 
偵測藥物〆 
詢問藥盒目前四個
藥格內是否有藥物
存在。 
CELLSTATUS 命令長度〆10 
命令〆CELLSTATUS 
資料長度〆0 byte 
資料〆none 
 
 
2.4. 硬體帄台介紹 
 為了降低國內無線感測技術研究的門檻
與成本，台大在過去幾年的國科會 WSN 帄
台與示範應用計畫中，開發出一系列的無線
感測器網路模組。如圖 2.8 所示，左邊的
Super-Node 使用 MSP430F1611 微處理器，
具有良好的運算能力々中間的 Simple-Node
使用較便宜的 C8051 F930 微處理器，適合大
量佈署々右邊的 Universal Gateway 同樣也使
用 8051 系列微處理器，作為感測網路及
Ethernet 的橋樑。 
 
圖 2.8 台大 WSN 帄台模組 
 
其中 Super-Node 和 Simple-Node 上方所
使用的 UZ2400 無線傳輸模組是由台灣達盛
公司所提供。三者的規格與特性比較如下表
2.5 所示。 
表 2.5 
種類 
Sensor  
能力 
電力供應 MCU 
Simple 
Node 
低速 
解析度
低 
低容量電
池 
環境能量
擷取 
8bit 
低速 
低耗電 
Super 
Node 
高速 
解析度
高 
高容量電
池 
16bit 
中速 
中低耗
電 
Universal 
Gateway 
無 
(模組方
式掛入) 
市電供應
PoE 
8bit 
高速 
高耗電 
  
 15 
 
UART、I2C 以及 SPI 等通訊方式，將感測資
料送往資料收集端作整理與分析。此部分之
硬體裝置(Simple-Node)只需做簡單的運算及
感測功能，並將重點著重於節省耗電，以便
長時間的資料感測。 
 
圖 2.11 Unet 通訊協定架構圖 
 圖 2.11 顯示出 Unet 帄台的通訊架構。
首先會根據不同的硬體裝置，提供建立網路
系統，或加入網路拓墣的功能。在網路系統
運行的過程中，系統端會不斷的偵測資料封
包的傳輸，同時檢查網路拓樸中，各節點之
連線狀態，並對斷線之節點進行連線修復。
最後網路核心部分會根據不同裝置的需求，
進行資料感測、通訊傳輸及節點管理等功
能。 
 
圖 2.12 Unet package format 
此外，Unet 帄台特別訂定了一套專用的
封包格式，藉以簡化 ZigBee 繁雜的封包訊息，
且仍然保留了其必要之資訊，以維持網路中
節點之通訊，如圖 2.12。 
2.5.2  無線感測網路節能技術 
 在無線感測網路的系統中，通常大多數
的節點採取間歇式運作，每隔一段時間做一
次資料的感測及發送，其餘時間則處於待命
狀態。為了達到省電的機制，Unet 透過時間
同步及同睡同醒的機制，在待命狀態時把不
需使用的模組關閉，以節省大量的電量。 
2.5.2.1 同步睡眠機制流程 
 近年許多無線感測網路的研究題目針對
了時間同步的問題提出了許多的實現與改進
的演算法，例如 LTS、TPSN、TSync、HRTS
等等。 
圖 2.13 顯示了目前 Unet 中所設計的同
步及睡眠機制，為了降低微處理器運算上的
負擔，目前採用簡化的同步機制作為時間同
步的演算法。 
 
圖 2.13 同步與睡眠流程 
 17 
 
up to the SECRET level. TOP SECRET 
information will require use of either the 192 
or 256 key lengths.（譯〆AES 加密演算法（使
用 128，192，和 256 位元密鑰的版本）的安
全性，在設計結構及密鑰的長度上俱已到達
保護機密資訊之標準。最高機密資訊的傳遞，
至少需要 192 或 256 位元的密鑰長度。用以
傳遞國家安全資訊的 AES 實作產品，必頇先
由國家安全域審核認證，方能被發放使用。） 
2.6.1.2  UZ2400 加密模式 
UZ2400 晶片以硬體方式提供 AES 加密
服務，其主要模式可分為三種〆 
 AES-CTR 
 AES-CBC-MAC 
 AES-CCM 
AES-CTR(Counter)為計數加密模式，其
運作流程如圖 2.14 所示。首先，將計數器的
值透過 AES 加密々再來，將欲加密的明文區
塊 Pi，與剛剛加密過的計數器之值作 XOR
運算，得到加密後的密文區塊 Ci々最後，增
加計數器之值，並重複上述動作，直到所有
明文區塊皆完成加密。 
 
圖 2.14 AES-CTR 加密模式[8] 
AES-CBC-MAC為密文區塊串鏈訊息驗
證 碼 ( Cipher Block Chaining Message 
Authentication Code)模式，主要是透過 CBC
加密模式來產生對應的訊息驗證碼。假設雙
方欲傳送訊息時，發送方會在傳送訊息時將
訊息驗證碼MACT一同送出々 接收方收到後，
會用同樣的方式計算訊息驗證碼 MACR。透
過比對兩組驗證碼，即可得知在訊息傳送的
過程中是否遭受竄改。圖 2.15 為 CBC 加密
模式之運作流程。首先，要產生第一個密文
區塊 C1，需要一個初始向量 IV 與第一個明
文區塊 P1 作 XOR 運算々接著，將運算後的
區塊作 AES 加密，即可得到 C1々最後，在
進行新的回合前，先將明文區塊 Pi 與密文區
塊 Ci-1 作 XOR 運算，並重複前述動作，對所
有明文區塊進行加密。 
最後的 AES-CCM 為綜合 CTR 與
CBC-MAC 的模式。在這個模式下，可同時
達到訊息加密及訊息驗證，提升訊息傳輸的
安全度。 
目前 UZ2400 硬體中提供了以下七種不
同的 AES 加密方式〆  
1) AES-CTR 
2) AES-CCM-128 
3) AES-CCM-64 
4) AES-CCM-32 
5) AES-CBC-MAC-128 
6) AES-CBC-MAC-32 
7) AES-CBC-MAC-64 
使用者可依照需求選擇不同的AES加密
模式。
 
圖 2.15 AES-CBC-MAC 加密模式[8] 
其詳細實現步驟如下〆 
1) 將封包內容填入 FIFO 
2) 將金鑰填入晶片記憶體中 
3) 選擇加密模式 
4) 觸發並傳送 
 
 19 
 
產生器的輸入時，將會產生同樣的一組亂數。
因此，這種類性的亂數產生器又稱作
(Deterministic Random number Generators, 
DRNG)。考量到 WSN 有限的硬體資源，在
本計畫中我們採用 Blum Blum Shub 虛擬亂
數產生器來產生密碼產生器所需之參數。 
2.6.2.2  Blum Blum Shub 產生器 
Blum Blum Shub (BBS) [8]是一個可靠
且為人所熟知的虛擬亂數產生器，在 1986
年時，由 Lenore Blum，Manuel Blum 及
Michael Shub 等人所提出。由於這個產生器
的安全性牽涉到與質數相關的因式分解，因
此它在密碼學上有一定的強度。 它的運作程
序如下:  
 選擇兩個質數 p 和 q，滿足 p ≡ q ≡ 3  
(mod 4) 
 計算 n = p × q 
 選擇與 n 互質的任意數 s, 使 p 和 q 都不
是 s 的因數 
以下為 BBS 產生器產生序列位元 Bi 的
演算法: 
    X0 = s
2
 mod n 
   for i = 1 to ∞ 
      Xi = (Xi - 1)
2
 mod n 
      Bi = Xi mod 2   
每經過一次迴圈會產生一個位元 Bi，使
用者可以依照各自的需求產生不同的位元
數。 
表 2.6 是本計畫中 BBS 運算的範例，其
中n = 63109 = 283 (p) × 223 (q)，而其種子 s = 
46997。而各項參數選取的依據，主要與 BBS
演算法部分有關。在 BBS 演算法中的第一行
及第三行都必頇計算帄方數，尤其第三行的
(Xi - 1)
2 位於迴圈內，若其乘積超過系統中所
能表示的最大整數，將會造成溢位(Overflow)，
嚴重時可能導致無可預測的系統異常。因此，
系統中所支援的最大整數將會是關鍵。在
Unet 中，Coordinator─Super-Node 所使用的
是 16-bit 的 MSP430F1611 MCU，所支援的
最大整數型態為 32 位元的無號長整數
(unsigned long)，而其所能表示的範圍為 0 ~ 
2
32 – 1 (0 ~ 429496729510)。也就是說，(Xi - 1)
2
必頇小於等於 232 – 1々而其 n 同餘後的值又
將成為下一次迴圈中(Xi - 1)
2 的帄方根，因此，
進而又限制了 n 值必頇小於等於 216 
(6553610)。根據上述的限制，我們選出了能
夠產生近似 216 乘積的兩個質數，p 和 q。基
本上，s 與 n 有類似的限制，然而目前我們
在種子 s 的選擇上，尚未研究出一套有效的
決定規則々因此，為確保 s 與 n 互質，我們
直接從小於 65536 的質數列表中隨機選取一
數，作為 BBS 產生器的種子。未來我們將針
對 BBS 產生器的特性做更深入的研究，規劃
出有效的種子選擇方式。 
 範例中選取的種子 s，其所能產生的 Xi
週期為 828，而密碼產生器所需要的參數為
長度 16 位元的整數 (2.6.3.1 會做介紹)々也
就是說，這個種子能夠產生約 50 組的密碼產
生器參數。目前我們在系統中存放了 10 個不
同的種子， 每一次系統啟動及隨之更換，藉
以增加亂數的隨機性及不可預測性。 
表 2.6 BBS 演算法運算範例 
 
 21 
 
 以本計畫中實作的 RSA 演算法為例，各
項參數設定如下: 
 n = 65207 = 331 (p) × 197 (q)  
 φ(n) = 64680 
 e = 13 
 d = 24877 
 PU = {13, 65207} 
 PR = {24877, 65207} 
也就是說，我們能接受的密碼產生器之
參數(明文)為小於 65207 的整數。若以表
2.4.2.2 中的所產生出的位元作為參數，按照
位元順序排列，可得一串 16 位元的序列〆
0011111000110012 (796110)。利用公開金鑰
{13, 65207}進行加密後，我們可以得到 M = 
23853 = 7961
13 
mod 65207々同樣的，也可以
利用私密金鑰{24877, 65207}反向解密出 C 
= 7961 = 23853
24877 
mod 65207。 
接下來要介紹的是各項參數選取的依據。
首先，在我們的 RSA 演算法中，n 的決定規
則與 2.4.2.2 BBS 演算法中的 n 相似，必頇是
小於等於 216 (6553610)的整數，藉此選出了兩
個能夠產生近似乘積的質數，p 和 q。接著要
利用 φ(n)來找出 e 和 d，通常這兩個參數的
大小會呈相對關係。而因為 e 和 d 分別代表
著加、解密運算中的指數，這也意味著系統
中程式所需執行的迴圈數。考量到
Coordinator 必頇負責管理整個網路，我們選
出符合條件之較小的 e 值，以節省
Coordinator 的運算資源々換句話說，因為只
有在節點需要認證時才做 RSA 加、解密運算，
對於待認證的節點而言並不是頻繁的工作，
因此我們決定讓待認證的節點使用較大的 d
值。經過上述的參數，我們即可決定出
Coordinator 使用的私密金鑰，以及待認證節
點使用的公開金鑰。 
由於加解密的過程中牽涉到指數運算，
若先完成整數的指數運算再取 n 同餘，所得
的乘積將會非常龐大，遠超越系統所能表示
的最大值，造成溢位。為了解決這樣的問題，
我們利用同餘算數的特性〆 
[(a mod n) × (a mod n)] mod n = (a)
2
 mod n 
藉此縮小運算的乘積，讓計算變得可行。 
 另外，本計畫中使用的 d值將近 25000，
也就是說，必頇作 25000 次的運算才能解密
出明文。為了加速指數的運算，我們利用指
數運算的定理來增加計算的效率〆 
a
m
 × a
n
 = a
m + n
 
舉例來說，我們在計算密文 C 時，需要計算
M
13
 mod n，若按照一般運算方式，(M mod 
n)
13 共需要12次乘法。然而，根據上述定理，
我們只需在程式中多宣告一個陣列，就可以
將乘法次數縮減至 5 次，也就是連續的找出
(M mod n)
2、(M mod n)4、(M mod n)8、(M mod 
n)
12、(M mod n)13，最後再計算(M mod n)13 
mod n。 
 表 2.8 顯示了運用上述定理後的解密運
算。從表中可以看出我們有效的將 24877 次
的乘法運算縮減至 20 次，大幅提升計算效
率。 
表 2.8  使用定理後的計算次數，其中 i 為目前所進行
的乘法次數，exp 為目前所累積之指數 
 
 最後，我們以圖 2.17 來說明本計畫中完
整的節點認證流程〆 
 首先 Coordinator 會利用 BBS 虛擬亂數
產生器產生出密碼產生器所需之參數，
R 
 接著 Coordinator 會將參數 R 傳送至待
 23 
 
本計畫之技術已能將若干藥盒的資訊統一
送至一單一電腦並進行控制，在此架構下，
我們希望這台電腦應該有能力把所蒐集的資
訊傳送至遠端(院端)之資料庫。簡單的示意
圖如圖 2.18 所示。 
藥盒透過 WSN 將服藥資訊透過電腦送至
遠端的資料庫，又因為電腦與遠端資料庫是
透過網際網路連線，因此兩者之距離可以存
在不同地點，甚至，可以將資訊同時存至數
個不同的資料庫。 
詳細的家用閘道與院端連線架構如圖 2.19 
 
圖 2.19 藥盒與院端之連線架構 
此架構由下而上包含了，藥盒系統、家用
閘道、網頁伺服器以及資料庫伺服器。其中
網頁伺服器與資料庫伺服器屬於院端，其他
則否。院端伺服器可以接受來自世界各地閘
道之服務請求並及時提供服務。即代表一組
院端伺服器可以同時為多個閘道服務。 
藥盒至家用閘道使用之通訊協定遵循
IEEE 802.15.4 ， 此 段 所 使 用 的 即 為
SuperNode，SuperNode 接下來透過 RS-232
將資料傳給具備網際網路功能之電腦，在此
以具備 Ethernet 之 ARM 開發板做為開發環
境。 
由系統架構圖可以看出伺服器的設計包含
了一台 Web Server 與一台 SQL Server，其中
Web Server 安裝了 Apache Web Server 與 
PHP。SQL Server 則安裝 MySQL Server。而
在此圖的Web Server與SQL Server並不一定
需要被安裝在不同的機器上。 
 資料庫設計 
因為本計畫採用的是 MySQL Relational 
Database，對於 Relational Database，我們必
頇對 Database 的表格作設計，目前主要沿用
過去子計畫中所建構的資料庫，其大致的實
體關聯圖如圖 2.20，後續章節中將有更詳細
的資料表介紹。 
 
圖 2.20 資料庫之實體關聯圖 
 25 
 
3. 使用者測詴 
設計的良窳不僅與產品的成敗有密切
關 聯 性 ， 更 是 關 係 到 使 用 者 的 利 益 
(Lindbeck, 1994)。因此，好的產品設計不但
應讓設計者與最終使用者有接觸機會，在產
品正式推出之前更頇先行通過使用者測詴 
來驗證可行性 (Cooper & Press, 1994)。原則
上，透過產品測詴可以讓設計師瞭解預期設
計目標是否已具體呈現在最終設計成品上 
(Roozenburg & Eekels, 1995)。再者，事先驗
證亦能降減低未來商業化前景的不確定 
(Bonabeau et al., 2008)。一般而言，相較於
實驗室完成的產品測詴，使用者的實際操作
測詴可獲得更準確的結果 (Blaich & Blaich, 
1992)。 
 
基本上，本智慧藥盒的設計概念即是為
解決高齡者的用藥問題，故智慧藥盒在設計
的起始階段便已針對多位高齡者進行用藥
行為分析，然後才進行構想發展與細部設計。
儘管如此，智慧藥盒的設計成果是否已符合
目標使用者的需求仍需經過使用者的實際
測詴方能確認。基此，本研究針對受測者進
行智慧藥盒操作之設定、分藥、記錄、定位
與服藥等5 種功能測詴，以了解智慧藥盒現
階段設計在功能上是否可以滿足使用者的
需求〇在介面設計上有何操作困難或不易
理解之處〇以發掘未來智慧藥盒尚能夠改
進的地方。 
 
3.1. 文獻探討 
3.1.1. 使用性工程 
使用性工程 (Usability Engineering, UE) 
是一種以使用者為中心來評估系統以及介
面之使用性的方法 (Nielsen, 1993)。除發現
系統中可能導致人為的錯誤外，應用使用性
工程更能夠減少人員訓練時間、提高系統性
能及效率，及增加使用者整體滿意度 
(Shneiderman and Plaisant, 2003)。透過與使
用者溝通、觀察使用者的作業環境及情境分
析等方式來評估產品的使用性，設計師得以
從中了解產品使用性的問題，並提出設計準
則。 
Nielsen (1993) 指出，使用性評估的內
容重點包括有〆易學習性 (learnability)、效
能 性  (efficiency of use) 、 易 記 憶 性 
(memorability) 、 容 錯 性  (few and 
noncatastrophic error) 及 主 觀 滿 意 度 
(subjective satisfaction) 等項，說明如下〆 
 
1) 易學習性〆系統的設計應降低使用者在
第一次使用時的學習困難度，能不需花
費時間去摸索系統的功能即可操作系
統完成任務。 
2) 效能性〆有效益的系統應讓有經驗的使
用者不但能持續穩定地完成工作，且使
其展現出良好的效能。 
3) 易記憶性〆系統應該讓使用者容易記憶々
當間歇性的使用者再次使用時，對於操
作的方式仍保有相當的記憶及熟練度，
不需再從頭學習。 
4) 容錯性〆系統的設計不僅需穩定不易當
機，且能避免使用者因誤會而產生操作
上的錯誤々當錯誤發生時，也能夠輕易
解決。 
5) 主觀滿意度〆系統的運作過程不但要讓
使用者感到滿意，亦頇使用者樂於再次
使用此系統。 
 
基此，本研究擬依循 Nielsen (1993)所提
上述 5 大評估構面來評估與進行本智慧藥
盒的使用性測詴。 
 
 27 
 
1) 基本資料〆了解受測者的背景資料。 
2) 服藥行為〆了解受測者過去的服藥行為
及相關經驗。 
3) 產品使用性評價〆待受測者使用過智慧
藥盒後，針對藥盒的整體的產品使用性
進行評價。 
4) 介面滿意度評價〆待受測者使用過智慧
藥盒後，針對藥盒介面設計的滿意度進
行評價。 
5) 功能滿意度評價〆待受測者使用過智慧
藥盒後，對於藥盒各項功能之滿意度進
行評價。 
6) 測詴後訪談〆由受測者說明使用智慧藥
盒後的感想及改進的建議。 
 
藉此，除可瞭解受測者基本資料及用藥
行為外，還可瞭解其在使用智慧藥盒後對於
產品使用性、介面設計、功能滿意度的評價，
以作為智慧藥盒改善的重要依據。 
除讓受測者填寫問卷並進行訪談外，研
究者亦頇針對受測者在進行產品操作模擬
時的反應與行為進行觀察。透過研究者的觀
察，可從旁瞭解受測者在操作藥盒時所發生
的問題。再者，研究者必頇以碼表記錄受測
者執行藥盒操作任務的相關時間，且全程實
施以錄音、錄影及拍照々如此，研究者不但
能完整地收集到多種不同的資料，且更將有
利於發掘產品使用之各種潛在問題。 
 
3.3. 第一階段測詴發現 
第一階段測詴執行分成四個場次，受測
者共有 9 位參與 (如圖3.3)。各項智慧藥盒
使用性測詴與發現將於以下各節章中作說
明〆 
 
3.3.1. 受測者 
表3.2為受測者基本資料々其中，受測者
性別分佈為男性3名(33%)與女性6名(67%)々
年齡以 65~70 歲 3 名 (33%) 及71~75歲3
名 (33%) 為多々 在教育程度方面主要是集中
於高中職 (56%)々在家庭總成員以 1 位 (3
名，33%) 與 2 位 (3名，33%) 較多々在用
藥量方面，一次用藥量以 3 顆 (3名，33%) 
與 4 顆 (3名，33%) 較多々一日服藥次數以 
1 次 (5名，56%) 為最多，其次為 4 次 (2
名，22%)々外出藥品攜帶方法，塑膠夾鏈袋 
(5名，67%) 為最多。表 3.3 為受測者之健
康狀況々所有受測者皆患有慢性疾病。針對
用藥行為的部份，本研究發現受測者在家中
時多半是於客廳 (5名，45%) 與餐廳 (4名，
36%) 服藥々部份受測者為了配合睡前服藥
的需求則在臥房 (2名，18%) 服藥。在分藥
方面，有 7名受測者 (78%) 可自己以獨立
分藥，另外 2 名受測者 (22%) 則是需家人
協助進行。有3名 (33%) 受測者表示曾有分
錯藥品的經驗。在忘記服藥的經驗中，有7
名受測者 (78%) 表示曾經發生過。針對找
不到藥品，有 2 名受測者 (22%) 表示有此
經驗，但頻率不高。在遺失藥品方面，有2 名
受測者 (22%) 表示曾有過此經驗，但次數
甚少。表 3.4 為受測者用藥行為。 
 
 
圖3.3 受測情形 
 29 
 
面板來點選操控方式可以得到受測者的認
同。排序第 3 有兩項〆「效能性」和「便
利性」，此顯示受測者認為智慧藥盒原設定
之各種操作功能不但可以達成，且在使用上
亦相當便利。排序最低之項目為「容錯性」，
儘管此項目得分仍高達 5.33，但此顯示當使
用者無法正確操作該功能時，智慧藥盒目前
藉由“回到上一個步驟”來讓使用者重新操
作的方式或有改善的空間。最後，排序次低
項目為「系統穩定」々在測詴過程中，由於
智慧藥盒偶有發生當機的狀況，此顯示系統
的穩定度還需要強化。表 3.6為受測者對智
慧藥盒之功能使用性滿意度。 
 
表 3.6 產品使用性滿意度 
No 項目 Min. Max Mean S.D. 
排
序 
1 了解功能 3 7 5.67 1.32 5 
2 清楚操作方式 3 7 6.00 1.50 2 
3 易學性 2 7 5.67 1.58 6 
4 效能性 3 7 5.89 1.36 3 
5 易記憶性 5 7 6.11 0.78 1 
6 系統穩定 3 7 5.56 1.42 7 
7 容錯性 3 6 5.33 1.0 8 
8 便利性 2 7 5.89 1.62 3 
Average mean   5.77   
 
3.3.3.2. 介面設計 
在智慧藥盒介面設計方面，各測詴項目
總帄均值為 6.37，此顯示智慧藥盒在整體介
面設計表現上獲得受測者高度肯定々其中，
排序最高項目為「圖像意義」，此部分的設
計是將原本傳統塑膠藥盒上早上、中午、晚
上、睡前等吃藥時間字樣加以圖像化。接下
來，「色彩搭配」、「介面美觀」、「聲音
呈現」和「燈號呈現」等四個項目皆得到相
同的分數，故排序皆為第二名。目前智慧藥
盒的「色彩搭配」是採用綠底白字搭配，本
研究發現多數受測者對此色彩搭配表示認
同。在「介面美觀」部分，現階段智慧藥盒
的頁面配置是使用圖像與文字相互搭配而
成，因此使用者在顯示介面上除可看到文字
外，亦可觀看到較活潑的圖像。大體上，受
測者認同此「介面美觀」的設計。另外，在
「聲音呈現」和「燈號呈現」部份，小藥盒
聲音及燈號之利用聽覺與視覺效果來提醒
使用者服藥或搜尋小藥盒的設計，受測者亦
給予高度的認同。值得一提的是，針對「等
待回饋」(Mean=5.67)，目前智慧藥盒是藉靜
態圖像顯示來告知使用者頇要等待，但無法
明確告知使用者需要等待的時間，故此可能
是導致受測者對「等待回饋」滿意度較低的
主因。表 3.7為受測者對智慧藥盒之介面設
計滿意度。 
 
表3.7 介面設計滿意度 
 
3.3.3.3. 功能滿意度 
在功能滿意度的部分，整體帄均值為
6.22 (見表3.8)，顯示受測者對於智慧藥盒的
功能滿意度為高度肯定，同時也得知此目標
族群 (患有慢性病的高齡者) 對於智慧藥盒
的各項功能皆表示認同，由此可知智慧藥盒
確實可以有效的解決高齡者於服藥過程中的
問題。而就個別項目的排序觀之，排序第一
名為「服藥」功能 (Mean=6.67)。其次，功
能排序第二名的功能為「設定」功能 
No. 項目 Min. Max. Mean S.D. 排序 
1 字體大小 2 7 6.33 1.66 10 
2 按鈕圖像 4 7 6.33 1.00 8 
3 視覺回饋 4 7 6.00 1.12 11 
4 等待回饋 4 7 5.67 1.22 12 
5 按鍵配置 5 7 6.33 0.71 7 
6 資訊配置 5 7 6.44 0.73 6 
7 色彩搭配 5 7 6.56 0.77 2 
8 介面美觀 6 7 6.56 0.53 2 
9 圖像意義 6 7 6.78 0.44 1 
10 燈號呈現 4 7 6.56 1.01 2 
11 聲音呈現 5 7 6.56 0.73 2 
12 聲音大小 3 7 6.33 1.32 9 
Average mean   6.37   
 31 
 
觸與方便按壓的兩難，目前是將其設置
在略低於主機帄面的位置上々此雖已儘
量考慮到避免誤觸的可能性，但難免無
法盡如人意。在後續的設計中，可將內
部的電子按鍵 (tact switch) 更換成需較
大按壓力方能作動之規格或組件。 
 
3.4.2.2. 小藥盒 
A. 體積過大與放置藥品空間不足 
若縮小小藥盒的體積，則會影響其藥物
的容量々反之，若提高其藥物容量則會
增大其體積並影響攜帶的便利性。小藥
盒目前的藥物容量雖然已在設計階段事
先諮詢過多位相關人員 (如〆藥師、護理
師與長期用藥者) ，但若要以單一版本的
設計來符合所有使用者的要求仍是難竟
全功。僅管目前仍不適合進行相關的修
改，但未來量產時或可開發不同容量的
版本來讓消費者有多種的選擇機會。 
 
B. 重量過重 
本研究考量到材料應用與製造成本，由
於目前尚無適合應用於小藥盒的輕量化
技術，且小藥盒的體積亦不適合縮小，
故暫時不適合針對此問題進行修改。 
 
C 不易開闔 
由於考慮到避免因誤觸而讓藥物意外掉
出的安全性，使用者必頇從特定的方向
施力才能夠開啟小藥盒的卡榫。目前，
小藥盒的外形或色彩設計上不但沒有明
確的使用引導性，且不易施力々在後續
的階段將會對此進行修改。 
 
D. 燈號不夠大 
限於結構上的限制與顧及造形的美觀，
目前小藥盒的導光燈柱 (lens) 並未刻意
加大。在後續的階段可透過使用高亮度 
LED 來提高光線的亮度而改善此問題。 
 
3.4.3. 介面 
3.4.3.1. 主機 
A. 圖像太小 
由於考量到畫面配置的帄衡與美觀，智
慧藥盒在設計時並未將圖像刻意放大，
在後續的版本中會將圖像再適度加大。 
 
B. 字體太小 
受測者在執行「記錄」任務時，認為用
藥記錄的文字太小，在後續的版本將會
把字體適度加大。 
 
C. 圖像意象不明確 
由於單純的圖像較不易讓所有的受測者
都能正確解讀其意義，故在後續的版本
將會在圖像旁以文字輔助說明。 
 
D. 介面的色彩太暗 
受測者期望介面能有較明亮的配色，在
後續的版本中將會重新配色。 
 
3.4.3.2. 小藥盒 
A. 小藥盒「早上」公雞圖示意象不夠明確 
儘管此圖示是在設計階段就已透過較本
次測詴更為大量的調查所取得的結果，
但在本次測詴中仍有少部份的受測者認
為意象不夠明確。本研究認為，透過使
用前的說明，當可讓特例的使用者能夠
明瞭其意義。 
 
B. 服藥提醒的聲音太尖銳 
目 前 小 藥 盒 是 使 用 單 頻 的 蜂 嗚 器 
(buzzer) 來發出提醒的聲音。未來將會以
雙頻或變頻的較柔和聲響來取代現有的
尖銳嗶嗶聲。 
 
 33 
 
亦沿用智慧藥盒主機弧狀內凹色塊設計，
可有效統一視覺效果。另外，值得一提的
是，充電座與主機後側面之風扇散熱出風
口是共用相同零件々 此具共用性設計使未
來模具開發與零件庫存等成本有效降低 
(如圖 3.5 所示)。 
 
圖 3.5 充電座與主機後側面外形設計 
針對充電座功能性設計特點，原則上，
一具充電座可容納 7 個小藥盒，以符合使
用者一周七日用藥需求々另外，由於小藥
盒插入充電座時，其充電導電極片方向頇
符合充電座之電極彈片正負向極性，故在
充電座之充電孔內特別設計一處具方向
固定效果之击塊，使小藥盒具僅能由正確
方向插入充電。最後，考量到本計畫案小
藥盒包含帄扣式 (本計畫第二年度版本，
以下簡稱〆舊版本設計小藥盒) 與本年度
新設計击扣式 (本以下簡稱〆新版本設計
小藥盒) 二種不同版本可共用同一具充
電座，故充電孔設計亦採共用性設計，以
撙節模型製作經費 (如圖 3.6 所示)。 
 
圖 3.6 充電座之充電孔設計 
3.5.2 小藥盒設計改良 
根據本計畫第二年度產品使用性研
究調查結果，本年度已針對小藥盒外形與
上蓋圖示進行修改，內容詳細說明如下〆 
1. 外形修改 
現階段，小藥盒上蓋開口由原本
垂直於水帄面之舊版本設計帄扣式修
改為具向外微击外形 (如圖 3.7 所示) 
之击扣式新版本設計。除在造型上具
“扳動”語意暗示效果外，此亦有助使
用者手指施力操作 (如圖 3.8 所示)。 
 
圖 3.7 新版本小藥盒外型設計 
 
圖 3.8 小藥盒上蓋開口設計 
(左圖:修改前版本々右圖:修改後版本) 
2. 上蓋圖示修改 
根據本計畫第二年度產品使用性
研究調查結果，小藥盒標示用藥時間
之上蓋圖示尺寸、圖示語意及圖示色
彩需進行設計改良。現階段，本團隊
 35 
 
像與實際功能相連結。基此，本團隊
參考行動電話常用符號進行修改。例
如〆舊版本設計功能頁面之「設定」
圖示修改為行動電話常見之齒輪形
狀々「定位」功能文字標示修正為「搜
尋」。另外，針對舊版本設計之圖示
風格表現不一致問題，新版本設計將
所有圖示調整為以 2D 模式，如圖
3.11 所示。 
 
 
圖 3.11 產品介面設計文字及圖示配置 
(上圖:修改前々下圖:修改後) 
3. 改善色彩搭配反差不足問題 根據
本計畫第二年度產品使用性研究調
查結果，受測者建議應提高操作介面
色彩搭配反差，本團隊將畫面之配色
與明暗對比提高々除可突顯重要資訊
外，字體色彩變化亦具強調重要資訊
效果，如圖 3.12 所示。 
 
 
 
圖 3.12 產品介面設計色彩配置 
(上圖:修改前々下圖:修改後) 
3.6. 第二階段使用者測詴 
儘管本團隊已針對根據本計畫第二
年度產品使用性研究調查結果發掘之問
題與建議進行設計改良，但其效果仍有
待進一步確認々再者，本計畫第二年度
產品使用性研究調查中發現，智慧藥盒
應可適用於相關醫療機構 (例如〆安養
中心)。因此，本年度特別以安養中心為
調查場域。一般而言，健康照護產品設
計除應重視健康照護接受者外，且頇考
量 健 康 照 護 活 動 利 益 相 關 人 士 
(stakeholder) 需求 (Bastien, 2010)々 基此，
本年度除針對高齡者外，更邀請健康照
護人員共同進行設計驗證。除了解受測
者對產品功能性、產品使用性、產品介
面設計三大構面滿意度外，本研究更透
過時間量測方式了解產品操作績效，籍
以驗證設計成果。為求研究可順利進行，
本研究針對受測者年齡、教育程度與健
康狀況等條件進行若干設定。原則上，
 37 
 
表 3.11 為本研究受測者用藥行為。其
中，由於安養中心提供分藥服務，故大部
份高齡受測者 (7 人々78%) 在安養中心內
從未發生分錯藥品經驗，具分錯藥品經驗
的 2 位高齡受測者皆是自行分藥。針對忘
記服藥經驗，所有高齡受測者 (9 人々 100%) 
皆表示曾經發生，但頻率不高。至於找不
到藥品，有 4 名受測者 (44%) 表示有此經
驗。在遺失藥品方面，有 2 名受測者 (22%) 
表示曾有過此經驗，但次數甚少々本研究
發現，一般而言，由於安養中心內高齡者
居住之套房室內空間配置單純，故受測高
齡者雖然偶爾會忘記服藥或找不到藥，但
藥品永久遺失機率不高。表 3.12 為高齡受
測者之健康狀況。本研究所有受測者皆患
有慢性疾病。整體而言，受測者皆屬於智
慧藥盒產品之目標使用族群，且符合本研
究定義之受測者篩選條件。 
表 3.11 高齡受測者用藥行為 單位〆(人々%) 
項目 受測者屬性 
分錯藥品 有 (2/9々22%) 無 (7/9々78%) 
忘記服藥  有 (9/9々100%) 無 (0) 
找不到藥 有 (4/9々44%) 無 (5/9々56%) 
遺失藥品 有 (2/9々22%) 無 (7/9々78%) 
 
表3.12 高齡受測者健康狀況 
No
. 
性別 年齡 服用藥品 
1 女 81 健康食品 
2 女 85 糖尿病 
3 女 85 糖尿病、高血壓 
4 女 85 類風濕性關節炎、關節退化 
5 女 90 心臟病、高血壓、便秘 
6 男 80 高血壓、關節退化 
7 男 82 關節退化、健康食品 
8 男 85 心臟病 
9 男 85 糖尿病、高血壓 
 
表 3.13 健康照護受測者基本資料 單位〆(人々%) 
項目 受測者屬性 
性別 男 (0) 女 (9/9々100%) 
年齡 
20~30 歲 (4/9々44%) 31~40 歲 (1/9々11%) 
41~50 歲 (3/9々33%) 51~60 歲 (1/9々11%) 
   身份 護理師 (4/9々44%) 照護員護理師 (4/9々 44%) 私人看護 (1/9々11%) 
教育程度 
國小 (0) 國中 (1/9々11%) 
高中/職 (4/9々44%) 專科/大學(4/9々44%) 
 39 
 
表 3.14 產品功能性表現滿意度 (高齡受測者) 
No. 項目 版本 Min. Max. Mean S.D. 排序 Sig. 
1 個人設定 新 5 7 6.22 0.97 4 0.325 
  舊 5 7 6.22 0.83 2  
2 分藥指引 新 5 7 6.44 0.53 2 0.185 
  舊 5 7 6.11 1.05 3  
3 用藥記錄 新 6 7 6.44 0.73 2 0.542 
  舊 2 7 6.00 1.58 5  
4 藥盒定位 新 5 7 6.11 0.93 5 0.459 
  舊 1 7 6.11 1.96 3  
5 服藥提醒 新 5 7 6.56 0.73 1 0.284 
  舊 6 7 6.67 0.50 1  
Average mean 新   6.35   0.742 
 舊   6.22    
註〆N=9 
表 3.15 產品功能性表現滿意度 (健康照護受測者) 
No. 項目 Min. Max. Mean S.D. 排序 
1 個人設定 4 7 6.22 1.09 5 
2 分藥指引 5 7 6.67 0.71 2 
3 用藥記錄 5 7 6.56 0.88 4 
4 藥盒定位 5 7 6.67 0.71 2 
5 服藥提醒 5 7 6.78 0.68 1 
Average mean   6.58   
註〆N=9 
整體觀之，針對安養中心高齡者與健康
照護者對產品功能性表現滿意度項目得分排
序，本研究發現，兩群受測者皆認為「服藥
提醒」產品功能項目是最重要的々然後，「分
藥指引」產品功能項目次之。由此可見，智
慧藥盒設計定義階段便強調將「服藥」及「分
藥」定義為核心功能，且投入最多資源進行
開發之策略是被使用者肯定。另外，「個人
設定」產品功能項目可能如本章節先前所述，
因高齡者健康狀況變化不大，故在安養中心
研究調查場域中無論是高齡者或健康照護者
皆認為不需經常設定，重要性較低 (高齡者
排序=4，健康照護者排序=5)。至於高齡者與
健康照護者排序差異較大的「藥盒定位」產
品功能項目 (高齡者排序=5，健康照護者排
序=2)，本研究事後訪談發現，健康照護人員
認為高齡者因記憶力較差容易忘記小藥盒放
置位置之推論與高齡者於生活中已自行發展
因應對策 (放置於固定位置與較少攜帶出門) 
之實情有差異所致。 
3.6.3 產品使用性表現滿意度 
1) 高齡者 表 3.16 為針對高齡者進行之產
品使用性滿意度調查結果。整體而言，智慧
 41 
 
表 3.17 產品使用性表現滿意度 (健康照護受測者) 
No. 項目 Min. Max. Mean S.D. 排序 
1 具學習性 5 7 6.78 0.67 1 
2 工作效率 5 7 6.33 0.87 2 
3 可記憶性 5 7 6.33 0.87 2 
4 使用容錯 5 7 6.00 1.00 5 
5 主觀滿意 5 7 6.11 0.93 4 
Average mean   6.56   
註〆N=9 
整體觀之，針對安養中心高齡者與
健康照護者在產品使用性表現滿意度項
目得分排序，本研究發現，兩群受測者
皆認為「使用容錯」產品使用性項目是
最不滿意的。事實上，因受限於硬體配
置系統進行後台運算耗時較久，此時，
半靜止狀態畫面易被受測者誤認為當機。
本研究認為此可能是「使用容錯」產品
使用性項目得分較低主因。另外，安養
中心高齡者與健康照護者對於其它  4 
項產品使用性滿意項目之滿意度排序皆
具差異，此結果顯示，相同場域 (例如〆
安養中心) 中不同身份使用者，對同一
產品之個別產品使用性項目重視程度具
有差異。 
3.6.4 產品介面設計表現滿意度 
1) 高齡者 表 3.18 為針對高齡受測者
進行之產品介面設計滿意度調查結果。
整體而言，智慧藥盒所有產品介面設計
項目之滿意度帄均值在滿分 7 分中達
6.08，可見受測者對智慧藥盒產品介面
設計感到相當滿意。其中，排序第一名
之「資訊配置」產品介面設計項目得分
高達 6.67。至於得分最低之「按鈕圖
像」產品介面設計項目得分為 5.11。 
本研究進一步比較高齡受測者對新  
(第二年度)、舊 (本年度) 版本智慧藥盒
產品介面設計表現滿意度差異。本研究
發現，雖然新版本產品介面設計得分帄
均 值  (Mean=6.08) 略 低 於 舊 版 本 
(Mean=6.37)，但經 t 檢定後得知，新版
本產品介面設計無論整體表現或個別項
目與舊版本皆未達統計上的顯著性。 
針對新版本與舊版本產品介面設計
滿意度之項目排序變化，除排序第 2 之
「色彩搭配」及「介面美觀」與排序第
9 之「聲音大小」維持不變外，其餘產
品介面設計項目排序皆有不同程度改變。
其中，「字體大小」產品介面設計項目由
舊版本之排序 10 上升至排序 4，上升達
6 順位々然後，「資訊配置」由舊版本之
排序 6 上升至排序 1，提升達 5 個順位
是所有產品介面設計項目中上升較多者。
顯見，本年度針對主機操作介面進行之
「改善資訊內容配置不佳」(如本文第
3.5.3 章節所述) 成效明顯。另外，「藥盒
圖像」(由排序 1 下降至排序 8) 是所有
產品介面設計項目中下降較多者。雖然
新版本小藥盒上蓋圖示已針對進行設計
修改 (如本文第 3.5.2 章節所述)，但由於
本研究高齡受測者不易了解「睡前」圖
像含義，故「藥盒圖像」產品介面設計
項目得分較低。 
 43 
 
康照護者對產品介面設計之評價差異頗大。
例如〆健康照護受測者給分排序第1之「等待
回饋」(Mean=6.78) 產品介面設計項目是被
高齡受測者評分排序第11 (Mean=5.56)，排序
差異達10順位。對此，本研究事後訪談發現，
由於健康照護受測者具較多電腦操作經驗，
對於智慧藥盒螢幕顯示之「等待回饋」圓形
循環圖像相當熟悉，故非常認同々但不少高
齡者是第一次看到此圖像，較難將此圖像與
「等待系統後台作業」含意相連結，故給予
較低分數。由此可見，不同身份受測者可能
會因經驗不同產生認知差異。另外，健康照
護受測者評分排序第  12 之「色彩搭配」
(Mean=4.78) 產品介面設計項目是被高齡受
測者評分排序第2 (Mean=6.44)，排序差異達
10順位之多。本研究事後訪談發現，由於健
康照護受測者認為「色彩搭配」不夠活潑，
故給予較低分數々但高齡受測者因視覺無法
接受太強烈鮮豔色彩刺激，故相當認同此新
版本產品操作介面設計之穩重色彩搭配。由
此可知，受測者生理狀態會影響色彩搭配偏
好。 
 
 
表 3.19 產品使用性表現滿意度 (健康照護受測者) 
No
. 
項目 Min. Max. Mean S.D. 排序 
1 字體大小 3 7 6.33 1.32 5 
2 按鈕圖像 4 7 6.33 1.00 5 
3 視覺回饋 5 7 6.67 0.70 2 
4 等待回饋 5 7 6.78 0.67 1 
5 按鍵配置 2 7 5.67 1.66 10 
6 資訊配置 4 7 6.44 1.13 4 
7 色彩搭配 1 7 4.78 1.71 12 
8 介面美觀 1 7 5.00 1.73 11 
9 藥盒圖像 4 7 6.11 1.17 8 
10 燈號呈現 5 7 6.56 0.73 3 
11 聲音呈現 4 7 6.11 1.17 8 
12 聲音大小 4 7 6.33 1.11 5 
Average mean   6.56   
 
3.6.5 產品操作績效表現  
1) 高齡者 表3.20為針對高齡受測者進行
之產品操作績效表現調查結果。整體而言，
「用藥記錄」產品功能項目操作績效表現最
高，每步驟帄均操作時間是5.39秒々「分藥
指引」產品功能項目操作績效表現最低，每
步驟帄均操作時間是26.81秒。本研究進一
步採單因子變異數分析方式，檢定高齡受測
者對新、舊版本設計智慧藥盒產品操作績效
表現差異。本研究發現，「分藥指引」、「用
藥記錄」與「藥盒定位」產品功能項目之新
版本設計較舊版本設計操作績效較佳，具達
統計上的顯著性。可見，智慧藥盒新版本設
計有效提升操作績效，讓較年長高齡受測者
之整體操作績效表現高於舊版本設計。 
 45 
 
表 3.22 產品操作績效表現比較 單位〆(秒) 
No. 項目 身份 Min. 
Max
. 
S.D. Mean R.T. 
Mean R.T./步
驟數 
Sig. 
1 個人設定 健康照護者 24 116 29.92 52.11 10.42 0.017* 
  高齡者 45 164 40.43 96.78 19.36  
2 分藥指引 健康照護者 88 202 37.63 117.89 13.10 0.000* 
  高齡者 149 318 60.32 241.33 26.81  
3 用藥記錄 健康照護者 6 24 5.83 10.56 2.64 0.020* 
  高齡者 8 38 11.38 21.56 5.39  
4 藥盒定位 健康照護者 9 21 3.64 15.00 3.75 0.000* 
  高齡者 19 40 6.77 28.44 7.11  
5 服藥提醒 健康照護者 6 18 3.71 11.67 3.89 0.004* 
  高齡者 14 42 11.90 25.78 8.59  
 
3.7. 小結 
整體上，除高齡者外，健康照護人員對
智慧藥盒整體亦給予高度肯定。由此可知，
智慧藥盒可符合安養中心使用者需求。一
般而言，相較於較年輕高齡者，雖然較年
長高齡者之產品操作績效較低 (Chung et 
al., 2010)々 但智慧藥盒經設計改良後，不僅
讓較年長高齡受測者在「個人設定」與「服
藥提醒」產品功能項目操作績效不遜於較
年輕高齡者，甚至在「分藥指引」等三項
產品功能性項目之操作績效表現較舊版本
設計更高。由此當可證實本年度產品設計
改良成果成效頗佳。 
針對後續研究發展，本研究建議〆首先，
由於本研究發現安養中心健康照護人員推
想之高齡者生活情境與高齡者真實生活情
形有些許差異 (例如〆健康照護人員認為高
齡者可能經常會遺失小藥盒，但高齡者其
實已養成將小藥盒置於固定位置之習慣)，
故本研究建議可針對高齡者生活情境更深
入研究。其次，由於不同年齡高齡者對產
品使用性有不同需求，故未來應針對不同
年齡高齡者之產品使用性需求進行探討，
以利建構以年齡為基礎 (age-based) 之產
品使用性相關設計準則。最後，本研究雖
然發現安養中心健康照護受測者在產品操
作績效表現上優於高齡受測者，但因兩群
受測者在年齡、背景、甚至是科技產品操
作技能方面皆差異頗大，故影響操作績效
之主要因素仍有待後續研究深入探討。 
針對智慧藥盒產品後續設計改良，儘管
李傳房 (2006) 指出，針對高齡者所設計的
產品也應適合其它族群使用々但本研究結
果更進一步得知，由於高齡者與健康照護
人員之身份、年齡與經驗等特性不同，故
對智慧藥盒各功能項目的重視順位不同。
因此，未來智慧藥盒實際進行量產時應針
對不同使用情境提供多種產品介面設計選
項，讓使用者可擇符合其使用需求版本々
例如〆就安養中心而言，高齡者操作智慧
藥盒主機之機會較少，故智慧藥盒應能讓
健康照護人員選擇較符合其喜好之「按鈕
圖像」、「視覺回饋」與「色彩搭配」與「介
面美觀」等產品介面設計項目版本々至於
居家高齡者使用之智慧藥盒，則應讓高齡
 47 
 
4. 系統整合 
本章節介紹目前已完成的四套單人版智
慧盒系統、以及六套多人情境使用之精簡版
智慧藥盒系統。其中包含硬體整合、人機介
面(Human-Machine Interaction，HMI))及透過
軟體、硬體整合出的許多情境功能。 
4.1. 智慧藥盒硬體整合 
4.1.1. 智慧藥盒造型設計 
進行高齡者智慧藥盒之產品外觀造型設
計時，除經濟性與生產性外，本計畫亦同時
考量使用者個人及共用者的個別需求々 因而，
智慧藥盒產品具備彈性化特性就變成致為關
鍵。就實務設計而言，Hotta [1] 指出 5 個彈
性化設計原則，分別為〆1) 機能的彈性化、
2) 構造的彈性化、3) 供給的彈性化、4) 參
與的彈性化及 5) 選擇的彈性化。針對高齡
者產品設計，Koncelik [2] 更進一步提出 8 
項適用於高齡者產品發展的原則，其包括〆 
 
1) 安全性〆設計者應致力提供高齡者一無傷
害的使用與生活空間。 
2) 親和性〆應讓高齡者有獨立自主的生活，
以增加其生活滿意程度。 
3) 獨立性〆產品與空間的結合應考慮高齡者
行動的獨立性。 
4) 連續性〆可維持高齡者日常行動自我照料
的機能。 
5) 適應性〆產品應有可調整的彈性，以適應
不同的空間配置。 
6) 人性化〆常用的操作功能鍵設置在固定且
重要的位置，以適合高齡者的使用操作。 
7) 支持性〆產品應有足夠之寬廣使用空間，
使高齡者無所懼怕。 
8) 聲光控制〆除應提供適當的聲光來進行知
覺提醒外，更應具備調節的功能，以避免
過度的刺激。 
 
完成以上外型設計後，必頇搭配內部的
藥物偵測機制、電路模組及機構設計，以下
簡述之。 
 
4.1.2. 藥物偵測技術 
目前市面上的傳統藥盒，並沒有偵測藥
物是否存在的功能，這樣很多病患服藥的資
訊就無從得知。舉例來說，藥物偵測技術可
以知道藥盒內是否有藥，如此系統便可以得
知使用者在什麼時間服藥，並將這些資訊存
起來，而這些資訊其實對於往後醫院的看診
有相當大的助益。倘若病患尚未服用藥物，
智慧藥盒也能夠偵測出尚未服用藥物，並且
給予正確的服藥提醒。有些使用者，尤其是
老年病患，他們經常忘記服藥時間，而就算
有服藥，他們也不確定那一格藥是否已服完。
若是有一個偵測藥物是否存在的機制，這些
問題都將可以協助使用者更簡單、更安全的
服藥。 
由於傳統藥盒或是比較新的電子藥盒大
都是手持式、可攜帶式的藥盒，所以藥盒的
體積已經受到相當大的限制，因此在選擇使
用感測器方面就必頇優先考量感測器的體
積。 
 
4.1.3. 磁力感測技術 
這裡介紹利用磁感測晶片所製作的藥
物偵測機制。此技術包括兩部份，一是磁鐵
與磁感測晶片，當磁鐵位置改變時，磁感測
晶片可用來感測磁通量之變化量。二是利用
機械結構設計可移動式檔板，每當有藥物進
入盒子中，藥物體積之大小會決定檔板的位
移量大小，也就能藉由此位移量判斷是否有
藥物存在。 
故本研究將磁鐵設計置於可移動檔板 上，磁鐵將隨檔板的位移量變化造成不同強
 49 
 
 
圖 4.4 檔板實體圖 
 
0
1
2
3
4
5
0 5 10 15 20 25
M
a
g
n
e
ti
c
 F
ie
ld
 (
G
a
u
s
s
)
DMP (mm)
CC-NP CC-P CO
DMP
 
圖 4.5 磁場變化曲線 
 
由圖中之曲線可以明顯看出磁場變化
的趨勢，隨著檔板位移距離的增加，磁通量
的變化逐漸由高磁通量轉為低磁通量。又由
於磁通量變化相當規律，在智慧藥盒系統之
藥物偵測技術的實際應用上，可以將檔板位
移超過 20mm 以上之磁通量判斷為藥盒已
被開啟之狀態，在檔板位移 5mm~20mm 之
間的磁通量就判斷為有藥物存在，而檔板位
移小於 5mm 以下之磁通量則判定為無藥物
存在。因此，應用此小型機械結構配合磁感
測晶片之藥物感測器，本研究已成功製作出
不僅僅只有「有藥物存在」、「無藥物存在」
兩種狀態的藥物偵測技術，而是可以製作出
「有藥物存在」、「無藥物存在」、「盒蓋
開啟」三種狀態的藥物偵測技術。 
上述已開發出一準確度高且不會佔用
太多空間的感測機制，但磁感測晶片的成本
及內部電路的複雜度仍是我們注意的重點，
以下介紹另一能解決此 2 問題的感測機
制。 
 
4.1.4. 接觸式感測技術 
這裡介紹接觸式感測技術的部份。此感
測器部份，我們以物體必然具有的體積特性
作為感測依據。此偵測物體感測機制透過三
點或三點以上的接觸點所偵測出的高低電
位訊號，配合機構設計上的傾斜坡面和可提
供壓縮彈力的檔板設計，便能滿足物體於容
器中所有可能存放的位置情況，因而能夠準
確偵測物體是否存在。同時此新設計可以大
幅改善其他感測技術的缺點，並且可滿足於
對體積大小有要求、對設備金額花費上有要
求、對耗電量有要求、對偵測物體精確度和
可靠度有高度要求的應用上。 
雖然此感測方式只能偵測到「有藥物存
在」及「無藥物存在」二種狀態，但目前的
情境中並不需要偵測盒蓋是否開啟，所以考
量到成本及電路複雜度的關係，本計劃目前
採用此方式進行。 
 
 
Sponge 
Upper lid 
Lower board 
Metal Probe 
Touch board 
Foil 
 
圖 4.6 接觸式感測組合圖 
 
 
N 
S 
S 
N 
 51 
 
 
圖 4.8 智慧藥盒實體圖 
 
藥盒上蓋組合圖，其零件包含〆 
(A)檔板 (B)導電片 (C)海棉 (D)上蓋外殼 
服藥提醒圖〆 
該服藥藥格的 LED 燈會亮、蜂鳴器會響 
藥盒搜尋圖〆 
該藥盒全部的 LED 燈會亮、蜂鳴器會響 
智慧藥盒內部感測機制圖〆 
(A)底部為導電銅針 (B)藥盒上蓋為可壓縮的導電片 
藥盒背面圖〆 
(A)程式燒錄孔 (B)充電彈片 
(A) 
(B) 
(A) 
(B) 
(A) (B) (C) (D) 
 53 
 
主控帄台 
(Master 
Panel) 
具適應性的觸
控式螢幕 
〃上掀式的主機螢幕及無段式
調整設計，方便使用者於適
當的角度觀看螢幕。 
〃螢幕頂部下方缺口，設有可
供手指放入的空間，並同時
考慮到左右手慣用者的不同
需求，於兩側都有設置。 
 
避免隨身藥盒
被誤置的使用
者獨立性 
〃充電座具方向性，可避免隨
身藥盒從錯誤的方向插入。 
 
考量人性化控
制的緊急呼叫
按鈕 
〃設計於正面的明顯位置，此
有利於使用者在緊急狀態下
可輕易觸及。 
〃以通用的警示顏色(紅色)來
提示使用者此按鈕的功能。 
〃按鈕位置略低於主機的帄
面，以避免誤觸。 
 
考量人性化控
制的電源開關
按鈕 
〃由於控制主機帄常不需要關
機，故將電源按鈕設置在主
體側邊，且需以技巧性的方
法施力才能加以操作。 
〃關機的部份需要長按 3~5 秒
才能進行關機，減低誤觸的
可能性。 
 
考量藥盒溫度
控制的充電散
熱模組 
〃充電模組背後孔洞為散熱裝
置，配合藥盒主機內部的數
個風扇，使得充電過程中，
藥盒及主機皆能保持常溫，
不會因為溫度變化而損害藥
物。 
  
 55 
 
4.2. 單一使用者情境實現 
智慧藥盒介面的設計目標在提供使用
者一種便利性用藥的服務與產品，不僅單向
提供服務，也讓使用者實際參與此過程，此
舉不但能使服務過程更有效率、服務結果更
有效，也讓參與使用者產生情緒或精神上的
愉悅感。本研究在第二年度已事先針對相關
使用者(包含高齡者、專業照護機構以及醫院
的藥師)進行需求訪談與行為觀察等訪查，且
依據前述調查的分析結果來進行設計。 
目前本計畫已在人機介面上成功實現單
一使用者情境所需的各項功能，其中包含「設
定」、「分藥協助」、「服藥記錄」、「藥盒搜尋」
以及「服藥提醒」。此外也完成病患資料庫的
建構，並且將 LabVIEW [3]人機介面及
MySQL [4] 作整合，實現上述分藥協助、服
藥記錄等功能。以下簡述各個整合部份。 
 
4.2.1. 使用者操作硬體 
在硬體方面，將採用液晶觸控螢幕，並且
搭載具有 Windows 作業系統的準系統，作為
發展的基礎帄台。另外準系統也會內建網路
卡，之後將能與醫院伺服器做連線。 
鑑 於 以 上 之 需 求 我 們 採 用 工 人 舍
(KOHJINSHA)此牌子的小筆電。型號為
SA5SX12ATW。此台小筆電之特點為產品特
色為 7 吋 LED 背光模組(1024x600)、觸控式
手寫螢幕、可旋轉 180°、重量為 990g、無線
LAN B/G、支援無散熱風扇系統設計、超低
功耗 0.9W。系統為 Microsoft Windows XP 
Home。外觀為圖 4.10。 
 
圖 4.10 小筆電外觀圖 
4.2.2. 介面設計 
原則上，使用者是以螢幕為使用介面與
智慧藥盒進行設定並訊息傳遞。若螢幕使用
介面的內容或資訊過於繁複或操作過程過於
冗長，不但會造成使用者 (特別是針對高齡
者) 的挫折與不安，也將讓使用者產生不好
的使用經驗。有鑑於此，在匯整 Thovtrup and 
Nielsen [5] 與 Shneiderman and Plaisant [6] 
之使用者介面注意事要點後，本研究將介面
設計準則整理如下〆 
 
1) 致力於一致性 (to strive for consistency)〆
在相似的背景條件下，操作順序為々選
單、提示和指引畫面中都應呈現一致性
的術語用詞，且具同性質、特徵之介面
宜設置於相同區域內。 
2) 讓頻繁使用者能操作捷徑  (to enable 
frequent users to use shortcuts)〆當使用次
數增加，具有經驗的使用者普遍會希望
能減少原本的互動步驟。Nielsen 指出，
具捷徑功能的按鍵對多數使用者而言，
其功效將勝於標準化的活動與文件。 
3) 提供有益的回饋  (to offer informative 
feedback)〆系統對使用者的操作都應給予
適當回饋々其中，對於次數較頻繁的動
作給予適度的回應即可，但對於重要卻
不常使用的動作，則應給予更多的回饋
訊息。 
4) 設計系統結束時的對話(to design dialog 
to yield closure)〆系統應包含開始、中間
及結束的順序性。在完成特定操作活動
後，系統應給予使用者正面的回饋，讓
使用者產生滿足以及成就感，並且使其
願意持續往後的使用。 
5) 避免錯誤 (to offer simple error handing)〆
系統的設計應讓使用者不會犯下嚴重的
 57 
 
 
圖 4.11 首頁程式架構圖 
(A) 服藥提醒 
此功能為所有程式中最重要的功能。
不論使用者目前正在操作哪一個子程式，
當服藥提醒時間到了便會跳到服藥提醒
頁面，強制讓使用者知道該吃藥了。這也
是唯一一個使用者不是主動方的功能。下
圖為服藥提醒架程式架構圖。
 
圖 4.12 首頁與服藥提醒程式架構圖 
(B) 分藥協助 
在整個分藥流程中，使用者透過程式
的引導一步一步完成分藥，並且在每個步
驟中都有返回的按鈕，讓使用者可以簡單
的回到首頁。 
此功能的一開始必頇讓使用者確認
藥盒的完善性。此在分藥前會有兩個提醒
步驟頁面，第一個提醒使用者找出所有藥
盒，並將所有藥盒放於桌面上，第二個檢
查所有藥盒上的 LED 燈是否正常，因為
LED 燈為分藥協助的主要指標，如果
LED 不亮會造成分藥上的錯誤，因此才
需要讓使用者進行確認。 
分藥完成後，藥盒特殊的結構設計可
以幫助我們知道是否有該分藥的藥盒沒
分到藥。檢查完成後，藥盒主機便會透過
無線傳輸將服藥所需的資訊傳入小藥盒
內的微處理器進行儲存。此步驟讓小藥盒
擁有可攜帶性。圖 4.13 為分藥協助程式
架構圖。 
(C) 服藥記錄 
透過藥盒內部特殊的結構設計，我們
可以知道現在藥格內是否有藥，此感測機
制幫助我們完成服藥記錄功能。透過藥盒
主機和小藥盒間的無線傳輸，二者資料在
一定時間內會同步一次，使用者就可以在
主機的介面上讀取服藥記錄。圖 4.14 為
服藥記錄程式架構圖。 
 
圖 4.13 分藥協助程式架構圖 
 
圖 4.14 服藥記錄程式架構圖 
服藥記錄 
T 
回首頁? 
首頁 
F 
找出藥盒 
檢查 LED 
分藥 
(將顯示的藥丸
和顆數放入亮
燈的藥格中) 
蓋上藥格 
檢查是否 
有放藥 
分藥結束 
T 
T 
T 
T 
T 
補分藥 
F 
F 
F 
F 
首頁 
T 
服藥時間? 
服藥時間 
F 
首頁 
分
藥
協
助 
次頁 
服
藥
記
錄 
資
料
設
定 
藥
盒
搜
尋 
服
藥
提
醒 
 59 
 
表 4.2 單一使用者情境功能說明表 
功能 說明 示意圖 
瀏覽
頁 
〄 使用 LabVIEW 進行程式
與圖形化介面設計，讓使
用者更魴簡單操作各種功
能，任何命令皆可以透過
觸控螢幕由手指單擊圖形
完成。 
 
〄 首頁為帄常藥盒主機待機
時所展示的頁面，提供使
用者「現在時間」、「下次
服藥時間」等訊息。 
 
〄 次頁提供使用者進入「設
定」、「分藥」、「記錄」、「定
位」等功能的按鈕。 
 
 
設定 〄 進入設定功能有以下二個
選項〆 
(A) 個人資訊瀏覽 
(B) 服藥時間設定 
 
〄 個人資訊瀏覽功能，此功
能顯示使用者基本資料，
由於許多慢性疾病病患都
有賴看護或非工照顧生活
起居，當有緊急事故發生
時，「緊急聯絡人」能幫助
他們快速聯絡病患家屬。 
 
〄 服藥時間設定功能，讓使
用者依照自己的生活作息
安排服藥時間。此外，因
為慢性疾病病患服藥時間
複雜，目前設有三餐飯
前、飯後及睡前可供調整。 
  
 61 
 
分藥
協助 
〄 此功能協助使用者處理複
雜的分藥，以主機頁面上
的藥丸圖及顆數(右圖 3)，
配合藥盒 LED燈簡化分藥
步驟，使用者只需將螢幕
上顯示的藥丸配合顆數放
入亮 LED 燈的藥格內即
可。 
 
〄 右圖為實際分藥步驟圖〆 
(1) 提醒使用者分藥前清
洗手部。 
(2) 找出所有藥盒並檢查
所有藥盒上的 LED 燈
是否正常。 
(3) 將頁面上的藥丸依照
其顆數放入亮燈的藥
格內。 
(4) 為了檢查該放藥的藥
格內是否有放藥，使用
者需先手動關閉所有
藥格。 
(5) 分藥完成。 
 
〄 藥盒內部已申請專利的特
殊結構設計，能判斷出「盒
內有藥」、「盒內無藥」二
種狀態。能幫助使用者再
次檢查是否有漏放藥的情
形發生，如右圖 4 所示。 
 
 
1 
2 
3 
4 
5 
 63 
 
台之下的星狀網路拓撲，如圖 4.18 所示。 
 
 
圖 4.18 主控帄台和七個藥盒的星狀網路拓撲示意圖 
 
4.3.2. 避免封包碰撞機制 
(A) 時間同步 
一般而言，時間同步必頇透過廣播的
機制以及一些演算法 [8] 來實現。但本
系統為了省電的緣故，大部份的時間都在
睡眠模式中，而智慧藥盒在進入睡眠模式
時無法傳送與接收封包，故無法隨時與系
統時間進行同步動作。因此，本系統將選
擇採用簡化的時間同步機制。實際的做法
就是在主機傳給智慧藥盒的封包上放入
時間戳記(Time Stamp)，一旦智慧藥盒收
到封包，就能夠得知主機發出封包時的時
間。但如圖 4.19 所示，我們可以很明顯
的看出來在主機真正發出封包的時間會
稍晚於打上時間戳記的時間。這是因為封
包在確實發送出去之前，必頇先透過
MSP430F1611 將資料由應用層傳到
UZ2400 所負責的媒介存取控制層(MAC 
layer)與物理層(PHY layer)。但幸好這段
時間僅僅是幾個微秒到幾百個微秒的時
間，因此雖然直接打上時間戳記的方式無
法準確進行時間同步，但此時間同步之簡
化機制已能夠使得每一個智慧藥盒的系
統時間非常接近，有助於後述的「結合時
間分割與 CSMA/CA 機制」的實現。 
 
圖 4.19 時間同步示意圖 
(B) 時間分割 
透過簡化的時間同步機制，我們可以
進一步完成時間分割的動作。如圖 4.20
所示，時間分割的概念是將一個時間區間
切割成許多不同的時間槽(Time slot) [9] ，
允許每個智慧藥盒在某一特定的時間槽
內傳送封包，而主機也在特定的幾個時間
槽內將封包回傳給智慧藥盒。採用時間分
割機制將能夠避開在間隔很短的時間內
由不同的智慧藥盒送出多個封包的情形，
所以就能夠降低封包碰撞的機率以及緩
和頻寬競爭的問題。因此，在本研究中我
們提出結合時間分割加上 CSMA/CA 機
制的概念，期望能有效增加封包傳送成功
的機率，並且提升系統運作的效率。 
 
圖 4.20 時間分割示意圖 
接著說明時間同步和時間分割加入傳
輸機制後的測詴結果。實驗設計上測詴三種
狀況的封包碰撞機率。(1) CFG-1〆不使用
CSMA/CA 避免封包碰撞機制。(2) CFG-2〆
CSMA/CA 避免封包碰撞機制。(3)CFG-3〆
時間同步、時間分割加上 CSMA/CA 機制。
下圖 4.21 為封包碰撞測詴示意圖。每次測
詴皆於 1 帄方公尺內放置藥盒和 1 個 Master 
Panel，讓藥盒各自與的 Master Panel 互相傳
輸資料。 
Tuesday 
Monday 
Wednesday 
Thursday 
Friday 
Saturday Sunday 
 65 
 
4.4. 多人使用者模式設計 
如上一章節所述，為了將智慧藥盒進一
步擴展到醫療中心及智慧型住宅社區，我們
整合了 Unet 及原智慧藥盒系統。在此系統
架構下，每一個使用者有一個主控帄台
(Master Panel)，主控帄台裡可以處理該使用
者所有的無線傳輸資訊及 MySQL 資料庫，
並且讓該使用者操作所有智慧藥盒的功能。
最後透過 Gateway 傳回 Internet。這種系統架
構如下圖 4.26 所示。適合家庭內部使用。 
 
 
圖 4.26 家庭多人使用的系統架構示意圖 
 
4.4.1. 醫療中心多人系統架構 
當智慧藥盒系統在醫療中心時，為了方
便護理人員管理病患的服藥情況，主控帄台
必頇集中於護理站或是管理辦公室，因此上
述家庭多人使用系統可能較不適用。 
 
4.4.2. 獨立充電模組 
為了將主控帄台移至護理站或管理辦
公室，必頇將原系統上的主控帄台移除，故
本團隊重新開發獨立充電模組，如圖 4.27
所示。在獨立充電模組內有獨立充電座可提
供七個智慧小藥盒充電，此外，模組內還設
有路由器(Router)，讓充電模組可以和主控帄
台連線進行資料的傳輸。 
 
 
圖 4.27 獨立充電模組草圖 
 
4.4.3. Unet 整合獨立充電模組 
將原智慧藥盒系統換成獨立充電模組，
並將主控帄台移置系統頂層以利管理後，系
統架構圖可更改如圖 4.28 所示。 
 
 
圖 4.28 醫療中心多人使用 
系統架構示意圖 
此系統架構中，單一使用者有一個獨立
充電模組，其中包含對小藥盒充電、放置藥
盒及 Router 的功能。充電模組內部 Router
透過Unet網路將藥盒資料傳回Server電腦，
再由電腦進行處理。Server 電腦的部份包含
所有智慧藥盒功能及整合資料庫。最終由
Gateway 統一將資料傳回資料庫。此系統架
構較適合安養中心或醫療單位使用。 
 67 
 
 
圖 4.30 多人使用者模式的藥盒主機接收小藥盒資訊程式架構圖 
 
 
表 4.4 Server 電腦傳給 Coordinator 的封包格式 
Header 
0XCC 
Packet 
Length 
Reserved 
0X40 
R* MAC 
Addr 
R* Nwk 
Addr 
Pill Box 
ID 
Sequence 
Number 
Command Data 
Length 
Data 
1 Byte 1 Byte 1 Byte 8 Byte 2 Byte 2 Byte 1 Byte 10 Byte 1 Byte Depand 
on user 
 
表 4.5 Coordinator 傳給 Server 電腦的封包格式 
Header 
“HEAD” 
R* MAC 
Addr 
R* Nwk 
 Addr 
Pill Box 
ID 
Sequence 
Number 
Command Data 
Length 
Data 
4 Byte 8 Byte 2 Byte 2 Byte 1 Byte 10 Byte 1 Byte Depand on  
user 
 
 
 
 
接收指令 
接收完成? 
主機藥盒
連線狀況 
T 
F 
PB_ID 
Seq_num 
command 
READY CELLSTATUS SYNTIME CHGSCHDL SCNCELL 
儲存資料
於資料庫 
確認藥盒
時間同步 
確定藥盒
服藥時間 
判斷藥格
是否有藥 
廣播 
Data base Data base 
RESPACK 
MAC 
回傳資料 
 69 
 
4.5. 多人使用者模式實現 
──安養看護系統 
本系統網路部份採用無線感測網路，
其中包含兩個網路拓撲，星狀拓樸以及
樹狀拓樸 [10]。星狀拓樸用在獨立充電
座和小藥盒間的網路通訊上，七個藥盒
會藉由獨立充電座將資料送出々樹狀拓
撲使用在充電座、路由器及護理站電腦
間，用來架設從護理站到使用者房內的
網路傳輸，圖 4.32 為網路架構示意圖。 
本系統使用的無線傳輸模組是採用
國科會 WSN 帄台與示範應用計畫中所開
發的無線傳輸帄台「Super Node」 [11]，
如圖 4.31 所示。其整體尺寸約為 32mm x 
9mm x 7mm，包含 UZ2400 的無線傳輸模
組及 MSP430F1611 [12]微處理器。 
 
 
圖 4.31 Super Node 無線傳輸模組 
 
因測詴所用電腦搭配了 Windows 作業
系統，本團隊在軟體操作界面之設計使用圖
形化的程式設計軟體LabVIEW 作開發程式。
搭配 MySQL 資料庫，我們設計了使用者可
以操作的介面。以下將介紹程式開發軟體帄
台 LabVIEW 與 MySQL 資料庫系統。 
 
  
圖 4.32 安養看護網路架構示意圖 
C 
R 
 C 
 R 
 R 
 R  
R 
P 
P 
P 
P P P 
P 
P 
P P 
P 
P 
P 
P 
P 
P 
P 
P 
P 
P 
P 
P 
P P 
P 
P 
P 
P 
Coordinator 
Router 
Pillbox 
C 
R 
P 
TI MSP430F1611 
達盛 UZ2400 
 71 
 
表 4.10 首頁相關子程式 
子程式名稱 
輸入資料 
註解 
輸出資料 
WSN_Main 
None 
主要執行程式 
None 
Func_Main_ 
Initialize 
None 初始化首頁參數，並連結資料庫裡的 User 
Table，讓護理人員可以透過人機介面選擇
不同使用者。 
(table)使用者 Table 
Func_Main_User_ 
Information 
(boolean)上一頁 
(boolean)下一頁 
(boolean)選擇使用者 
護理人員選擇不同使用者時所呼叫的子
程式，選擇完使用者後會輸出使用者索引
編號、使用者名稱和服藥時間，並顯示於
使用者操作介面上。 
(int)Index_User 
(string)使用者名稱 
(string)服藥時間 
Func_Main_ 
Basic_Functions 
(boolean)到首頁 
(boolean)到次頁 
(boolean)進入使用者選擇介面 
處理首頁和次頁所有使用者操作介面功
能，輸入端包含首頁和次頁的切換按鈕、
使用者選擇介面按鈕。輸出端則輸出閒置
過久自動進入螢幕保護程式的布林含數
以及將系統時間顯示於螢幕上。 
(boolean)進入螢幕保護程式 
(string)系統時間(年、月、日、時、
分、秒) 
Func_Syncronize_ 
System_Time 
None 
每整點的時候和小藥盒同步系統時間。 
None 
Func_Syncronize_ 
Record 
None 
每半點的時候和小藥盒同步服藥記錄。 
None 
Func_Time 
None 
在此子程式中，從資料庫裡的 Reminder 
Table 抓出下次的服藥時間及系統時間，
並將上述時間顯示於使用者操作介面上。 
(string)系統時間(年、月、日) 
(string)系統時間(時、分) 
(string)下次服藥時間 
 73 
 
Func_setMed_ 
Waiting 
(boolean)是否進入等待頁面 分藥協助因為要和小藥盒進行資料同
步，等待時間較長時會進入此介面。 (Tab Control)跳入等待介面 
Func_setMed_ 
ScanCell 
(table) Med_Index_N 檢查該放藥的藥格內是否都有藥，如果沒
有的話則輸出沒放藥的藥格。 (string) Lost_PB 
Func_setMed_ 
Synchronize 
(table) Cell_Med_Table 
將資料傳回資料庫。 
None 
 
表 4.13 服藥記錄相關子程式 
子程式名稱 
輸入資料 
註解 
輸出資料 
WSN_sub_Record 
None 
處理服藥記錄相關介面。 
None 
Func_Record_ 
Get_Data 
None 
此子程式從資料庫抓出服藥記錄，並將最
新七天的服藥記錄先顯示於介面上。 
(table) 所有服藥記錄 
(table) 最新七天的服藥記錄 
Func_Record_ 
TableSelection 
(boolean)上一週 
(boolean)下一週 
(boolean)回今日 
使用者可藉由操作介面上的按鈕，調整想
要觀看的日期，並由此程式輸出 table 顯
示在介面上。 
(table)服藥記錄 
 
表 4.14 藥盒搜尋相關子程式 
子程式名稱 
輸入資料 
註解 
輸出資料 
WSN_sub_Call 
None 
處理藥盒搜尋相關介面。 
None 
Func_Call_ 
Check_PB 
(boolean) 搜尋哪一個藥盒 使用者按下要搜尋的藥盒後，由此子程式
進行判斷，如果藥盒在網域內則呼叫。 (boolean) 是否進行搜尋  
Func_Call_ (boolean) 停止搜尋 停止呼叫中的藥盒。 
 75 
 
4.5.2. MySQL 資料庫 
MySQL 是一種關聯式資料庫系
統，主要目標是提供快速、簡單和穩
定的查詢。主從式架構則讓使用者可
以進行資料查詢或更新，使用者可以
從遠端電腦連回伺服器端或從本機上
執行。SQL 是一種標準化語言，它使
得儲存和更新資料變得更容易。其中
最重要的地方在於，MySQL 能透過
connector/ODBC 支援 ODBC [13]，
LabVIEW 介面程式可以和資料庫進
行連結，這讓我們在執行的過程中，
可以隨時把服藥相關資訊儲存回資料
庫。 
在確認情境流程之後，我們規劃
了 MySQL 資料庫格式，以利於整合
人機介面。下表 4.16 到表 4.21 分別介
紹各個資料庫的格式。在安養看護中，
同時可能有數位患者使用本系統，為
了方便護理站人員管理不同使用者的
藥盒資料，表 4.16 記載各個使用者的
姓名、年紀和房號等資訊。 
表 4.17 記載使用者的資訊，像是
姓名、住址、預設服藥時間、緊急聯
絡人等資訊，其中以緊急聯絡人更為
重要，如果長者出了問題可以讓護理
人員快速通知其家屬。另外也設定了
Index_Reminder_Current 與 Index 
Reminder Last，搭配表 4.18 裡的
Index_Reminder，我們可以利用此二
筆資料在分藥協助和服藥提醒時，快
速呼叫出我們想要的資料，以提升程
式運作的效率。 
表 4.18 記錄使用者所有的服藥
時間及資訊，資料包括服藥的時間、
是哪一個處方簽、對應的智慧藥盒和
服哪幾種藥等，人機介面會以此資料
庫配合分藥協助程式簡化分藥複雜度々
主機也會將服藥時間以無線傳輸傳至
藥盒的微處理器進行儲存，等到了服
藥的時間就會自動提醒使用者服藥。
另外此表也記錄了每次服藥的服藥記
錄，當家屬或是長者的主治醫生想要
得知相關資訊時，人機介面會連結到
此資料庫並顯示給使用者瀏覽。 
表 4.19 記錄智慧藥盒的所有資
訊。如果要更換新的藥盒，只要更改
此資料庫裡的 Pillbox_No，主機即可
辨識出此藥盒，不需要在程式中更改
程式碼。另外 Index_Reminder_assign
可以讓系統快速找到這個藥盒目前的
服藥時間及服藥相關資料，大大提升
程式運作效率。 
表 4.16 User_Info 
Field Data Type 註解 
Index_User int 使用者索引編號 
Name_User Char(10) 使用者姓名 
Sex_User Char(4) 使用者姓別(男士、女士) 
Room_User Char(6) 使用者房號 
 
 
 77 
 
表 4.18 Reminder 
Field Data Type 註解 
Index_Reminder Int 服藥提醒的索引編號 
Data_Reminder Char(8) 服藥日期，例 20110508，2011 年 5 月 8 號 
Time_Reminder Char(4) 服藥時間，例 0830，8 點 30 分 
Taken_Reminder Char(1) 記錄此次是否有服藥，1 代表有服藥，0 代表沒有 
Pillbox_Day_No Int 記錄此筆服藥資訊所對應的藥盒編號，Pillbox_Table 的
Pillbox_Day_No 
Cell_ID Char(1) 記錄此筆服藥資訊所用的藥格，3 代表第三格 
Meal Char(6) 標示對應哪一餐，儲存值〆早餐前、早餐後、午餐前、
午餐後、晚餐前、晚餐後、睡前 
Index_Prescription_ Int 對應 Prescription Table 的 Index_Prescription 
Index_Medicine_1 Int 第一種藥的 index，對應 Medicine Table 的 Index_Med 
N_Medicine_1 Char(1) 第一種藥的顆數 
Index_Medicine_2 Int 第二種藥的 index，對應 Medicine Table 的 Index_Med 
N_Medicine_2 Char(1) 第一種藥的顆數 
… … … 
Index_Medicine_30 Int 第三十種藥的 index，對應 Medicine Table 的 Index_Med 
N_Medicine_30 Char(1) 第三十種藥的顆數 
表 4.19 Pillbox 
Field Data Type 註解 
Pillbox_Day_No Int 藥盒的索引編號，例〆21 代表星期二的第 1 個藥盒，
72 代表星期日的第 2 個藥盒 
Pillbox_No Char(10) 藥盒本身的獨特序號，主機以無線傳輸呼叫此藥盒時，
將使用此序號 
N_Cell Char(1) 每個藥盒所有的藥格數量 
Index_Reminder_ 
Assign 
Char(1) 對應到 Reminder Table 的 Index_Reminder，可透過此資
料快速取得此藥盒的服藥提醒資訊 
 79 
 
分藥完成後，藥盒特殊的結構設
計可以幫助我們知道是否有該分藥的
藥盒沒分到藥。檢查完成後，藥盒主
機便會透過無線傳輸將服藥所需的資
訊傳入小藥盒內的微處理器進行儲存。
此步驟讓小藥盒可以獨立進行服藥提
醒，具有可攜帶性。圖 4.36 為分藥
協助程式架構圖。 
 
 
圖 4.36 分藥協助程式架構圖 
 
 服藥記錄 
透過藥盒內部特殊的結構設計，
我們可以知道現在藥格內是否有藥，
此感測機制幫助我們完成服藥記錄功
能。在完成服藥或是主機要求記錄時，
透過藥盒主機和小藥盒間的無線傳輸，
二者資料在每半點的時候會同步一次，
患者的家屬或是主治醫師就可以在主
機的介面上讀取服藥記錄，此舉可以
增加患者、家屬及醫院三方的連結。
圖 4.37 為服藥記錄程式架構圖。 
 
圖 4.37 服藥記錄程式架構圖 
 
 個人及服藥時間設定 
在資料設定的介面裡有「使用者
資訊瀏覽」與「服藥時間設定」二個
功能。使用者資訊瀏覽會從資料庫裡
將使用者的基本資料以及緊急聯絡人
資料讀出並顯示於頁面上，讓看護可
以於緊急狀況發生時使用。設定服藥
時間也是和資料庫連線並顯示後，讓
使用者可以依各自不同的生活習慣更
改服藥時間。圖 4.38 為資料設定程
式架構圖。 
 
 
圖 4.38 個人及服藥時間設定程式架構圖 
首頁 
功能選擇 
MySQL 
資料庫 
MySQL 
資料庫 
使用者資訊
瀏覽 
服藥時間 
設定 
服藥記錄 
主機和藥盒同
步服藥資訊 
T 
服藥時間? 
藥盒連線? 
T F 
F 
每小時同步一
次服藥記錄 
找出藥盒 
檢查 LED 
分藥 
(將顯示的藥丸和
顆數放入亮燈的
藥格中) 
蓋上藥格 
檢查是否 
有放藥 
分藥結束 
T 
T 
T 
T 
T 
補分藥 
F 
F 
F 
F 
 81 
 
feedback)〆系統對使用者的操作都應給予
適當回饋々其中，對於次數較頻繁的動作
給予適度的回應即可，但對於重要卻不常
使用的動作，則應給予更多的回饋訊息。 
4) 設計系統結束時的對話(to design dialog 
to yield closure)〆系統應包含開始、中間
及結束的順序性。在完成特定操作活動後，
系統應給予使用者正面的回饋，讓使用者
產生滿足以及成就感，並且使其願意持續
往後的使用。 
5) 避免錯誤 (to offer simple error handing)〆
系統的設計應讓使用者不會犯下嚴重的
錯誤。若有錯誤，系統也應當發出簡單的
提醒或引導如何加以回復，以協助使用者
完成修復動作。因此，系統應具備正確的
運作和完整的操作順序。 
6) 允許簡單的取消動作  (to permit easy 
reversal of actions)〆此功能或考量可協助
減輕使用者的焦慮，並讓使用者勇於嘗詴
不熟悉的產品功能。 
7) 支援內在控制感 (to support internal locus 
of control)〆部分較具自信的使用者會想要
主動掌控介面，並選擇自己需要的系統回
應內容。因此，系統可以讓使用者參與系
統的運作，讓參與者不只是系統訊息的被
動接收者，即是授權給使用者控制與調
整。 
8) 減少短期記憶之負擔(to reduce short-term 
memory load)〆因為人類處理短期記憶的
容量有限，因此畫面應保持簡單、統一性
與減少介面特徵改變的差距，並且提供充
足的訓練時間。 
除了上述介紹準則之外，和使用者所
互動的是介面上所顯示的許多按鈕及圖
示，因此，介面功能的設計、按鈕的位置
及圖像化的表示也相當重要。下表 3-17
為使用者操作介面說明圖。 
表 4.22 使用者操作介面說明圖 
功能 說明 示意圖 
瀏覽 
頁 
〄 使用 LabVIEW 進行程
式 與圖形 化介面 設
計，讓使用者可以更簡
單操作各種功能，任何
命令皆可以透過觸控
螢幕由手指單擊圖形
完成。 
〄 首頁為帄常藥盒主機
待 機時所 展示的 頁
面，提供使用者「現在
時間」、「下次服藥時
間」等訊息。 
〄 次頁提供使用者進入
「設定」、「分藥」、「記
錄」、「定位」等功能的
按鈕。 
 
 83 
 
分藥
協助 
〄 此功能協助使用者處
理複雜的分藥，以主機
頁面上的藥丸圖及顆
數(右圖 3)，配合藥盒
LED 燈簡化分藥步
驟，使用者只需將螢幕
上顯示的藥丸配合顆
數放入亮  LED 燈的
藥格內即可。 
 
〄 右圖為實際分藥步驟
圖〆 
(6) 提醒使用者分藥前清
洗雙手。 
(7) 找出所有藥盒並檢查
所有藥盒上的 LED 燈
是否正常。 
(8) 將頁面上的藥丸依照
其顆數放入亮燈的藥
格內。 
(9) 為了檢查該放藥的藥
格內是否有放藥，使用
者需先手動關閉所有
藥格。 
(10) 分藥完成。 
 
〄 藥盒內部已申請專利
的特殊結構設計，能判
斷出「盒內有藥」、「盒
內無藥」二種狀態。能
幫助使用者再次檢查
是否有漏放藥的情形
發生，如右圖 4 所示。 
 
 
1 
2 
3 
4 
5 
藥名 
 85 
 
4.5.5. 安養看護系統情境說明 
本「安養看護系統」已於陽明山
至善老人安養護中心進行使用者測詴。
安養護中心不同於醫院或醫療單位，
不會有醫生在此進行醫療行為，取而
代之的是護理人員進行的看護行為。
此中心可分為「安養」及「養護」二
個單位。養護區為不具有獨立行動能
力之病患，因已經有護理人員 24 小時
進行看護，故本智慧藥盒系統較不適
用於此區々安養區主要成員則為 65
歲以上長者，因為年紀的關係，身體
機能較差，且可能患有數種慢性疾病，
因此需要護理人員管理帄常生活事務，
但長者本身仍然具有獨立行動的能力，
本系統也將於此區進行測詴。 
安養區的主要工作為管理長者的
三餐及服藥事務，三餐的部份由餐廳
阿姨們負責，服藥事務則由護理人員
負責。然而服藥包含「分藥」及「服
藥提醒」二個部份，患有病性病處方
籤的長者由醫院拿回藥物後交由護理
人員保管，護理人員再將藥物分入長
者的塑膠藥盒內。如圖 4.41 所示，此
藥盒圖就是安養護中心使用的傳統藥
盒之一。在服藥的部份也是交由護理
人員進行提醒，有以下二種〆 
(1) 護理人員於餐廳進行提醒，在
長者吃完後直接進行服藥。 
(2) 護理人員於飯後打電話至長
者房內提醒長者來護理站服
藥。 
 
圖 4.41 安養護中心使用的傳統藥盒 
 
上述說明可以發現，護理人員主
要工作都在幫忙長者處理服藥相關事
務，然而這些過程都相當複雜且耗費
時間，故本研究提出「安養看護系統」
希望可以改善安養護中心的服藥模式，
提供一個簡單可靠並方便護理人員管
理的服藥機制。 
在「安養看護系統」中，主控帄
台為護理站電腦，長者由醫院拿回慢
性病處方籤藥物後交由安養院護理人
員保管，此時護理站電腦已和醫院端
資料庫完成處方籤同步，護理人員可
直接由護理站電腦進行分藥，使用者
介面將協助護理人員將藥物分裝到各
自藥格內。接著長者便將充電模組和
七個小藥盒拿回房內，小藥盒會於使
用者預先設定的服藥時間進行服藥提
醒。在這一個禮拜的時間內，護理人
員都可以藉由護理站電腦上的服藥記
錄查詢每位長者的服藥提醒，如果未
於時間內服下藥物的話，護理人員可
主動進行二次提醒，讓長者盡快服下
藥物。這此系統中，小藥盒所有的服
藥相關設定都必頇藉由護理站電腦設
定，此舉讓護理人員更容易管理長者
的藥盒。 
如圖 4.42 所示，該圖為至善安養
中心三樓的帄面圖。本研究測詴進行
在三樓的慈、福區，也就是圖中的黃
色和藍色區域，長者的房間分佈在其
中。因為測詴範圍遠大於 ZigBee 傳輸
距離的 30m，而且其中還有許多牆壁
及轉角影響無線傳輸能力。故本研究
網路部份使用無線感測網路(Wireless 
Sensor Network)，將節點分布於安養
護中心及長者病房內，資料會從長者
病房的藥盒內經由節點傳回護理站電
腦進行處理及儲存。如果護理人員要
對藥盒進行設定，可以直接從護理站
電腦的人機介面進行。以下說明網路
技術。 
 
 87 
 
ZigBee 路由器(Router)，此為國科會
WSN 帄台與示範應用計畫中所開發
的無線傳輸帄台「Super Node」，可分
為包含 UZ2400 的無線傳輸模組及包
含 MSP430F1611 微處理器。 
 獨立充電模組 
為了將主控帄台移至護理站或管
理辦公室，必頇將原系統上的主控帄
台移除，故本研究開發獨立充電模組，
如圖 4.45 所示。在獨立充電模組內有
獨立充電座可提供七個智慧小藥盒充
電々 另外模組內還設有路由器(Router)，
讓無線資料可由長者房內傳至安養中
心走廊，如圖 4.46 所示。 
 
 
圖 4.44 ZigBee Router 
 
圖 4.45 獨立充電座及小藥盒實體圖 
 
圖 4.46 獨立充電模組內的路由器實體圖 
 89 
 
 
 
 
(a) (b) 
圖 4.49 接獨式感測機制實體圖 (a)藥格底部 (b)藥格上蓋 
 
 
接觸式感測機制部份，我們以物體必然
具有的體積特性作為感測依據。此偵測物體
感測機制透過三點或三點以上的接觸點所偵
測出的高低電位訊號，配合機構設計上的傾
斜坡面和可提供壓縮彈力的檔板設計，便能
滿足物體於容器中所有可能存放的位置情況，
因而能夠準確偵測物體是否存在。同時此新
設計可以大富改善其他感測技術的缺點，並
且可滿足於對體積大小有要求、對設備金額
花費上有要求、對耗電量有要求、對偵測物
體精確度和可靠度有要求的應用上。雖然此
感測方式只能偵測到「有藥物存在」及「無
藥物存在」二種狀態，但目前情境中並不需
要其它藥盒狀態，故考量到成本及電路複雜
度的關係，本研究目前採用此方式作為感測
藥物機制。 
 
  
 91 
 
5. 結論 
本計畫以「智慧藥盒」為出發點，整合
了控制電路、無線傳輸模組及人機介面等部
份，開發了「個人居家看護系統」及「安養
看護系統」。希望以此系統改善目前慢性病
處方籤病患的服藥模式。 
本研究以「WSN 無線感測技術」為主
要架構，透過 AES 加密演算法與 OTP 認證
機制為無線感測網路帶來安全性以及隱密性，
而我們透過院端資料庫的建立為智慧藥盒帶
來永久性以及實用性。所有資訊將可以統一
被管理、處理，甚至可以做更為深入的研究。
透過上述之技術，本計畫期望可以實現家用
閘道與院端資料庫系統，讓智慧藥盒能夠更
普遍的被使用。在主控帄台方面，我們以
LabVIEW 搭配 MySQL 資料庫實現可供使
用者操作的使用者介面，所有長者的藥盒資
訊都會經由 ZigBee 網路傳回主控帄台進行
儲存々在小藥盒方面，其內部整合了控制電
路及藥物偵測模組，讓小藥盒能藉由微處理
器儲存服藥時間，實現小藥盒的可攜性，並
且判斷長者是否於正確的時間內吃下正確
的藥物。本計畫已完成四套個人版智慧藥盒
系統、以及六套精簡版智慧藥盒。如圖
5.1~5.3 所示。 
本計畫於2010年2月和2011年1月至4月
共4個多月的時間，完成了三階段的使用者
測詴。在第一階段的使用者測詴中，受測者
針對智慧藥盒的部份細節提出問題與修改
建議我們都分別探究其原因，並完成藥盒系
統改良。再者，本研究也發現，在不同的受
測者間由於各有其特殊的考量，因此會提出
一些互相牴觸的建議，例如〆有的受測者會
希望加大小藥盒的藥物容量，但又有其它的
受測者希望能縮小體積々有的受測者會希望
以電腦來取代智慧藥盒主機，也有部份的使
用者會希望只要一台  all-in-one 的智慧藥
盒就能滿足其智慧用藥的需求。由此可見，
要期望以單一的機種來滿足所有的使用者
是不易達成的々設計者可視成本與市場的考
量來適度開發具共用性的相對應機種，藉此
應能夠較廣泛地涵蓋到市場上大多數的需
求。在二三階段的使用者測詴，我們對智慧
藥盒系統之產品功能性與產品使用性兩大
構面進行滿意度調查。採用李克特七點尺度
量表，針對台北市陽明山至善安養護中心之
9位高齡者與9位健康照護人員進行調查。大
體上，受測者對於本系統整體給予高度肯定。
由此可知，此系統應可符合安養中心的使用
需求，改善高齡者的服藥模式並簡化護理人
員的管理方式。 
 
圖 5.1 All-in-one 智慧藥盒系統 
 
圖 5.2 獨立充電模組智慧藥盒系統 
整體上，高齡者與健康照護人員均對智
慧藥盒整體給予高度肯定。由此可知，智慧
藥盒可符合安養中心使用者需求。一般而言，
相較於較年輕高齡者，雖然較年長高齡者之
產品操作績效較低々但智慧藥盒經設計改良
後，不僅讓較年長高齡受測者在「個人設定」
與「服藥提醒」產品功能項目操作績效不遜












Please cite this article in press as: W.-W. Chang, et al., A smart medication system using wireless sensor network technologies, Sens. Actuators
A: Phys. (2011), doi:10.1016/j.sna.2011.03.022
ARTICLE IN PRESSGModelSNA-7291; No.of Pages7
Sensors and Actuators A xxx (2011) xxx–xxx
Contents lists available at ScienceDirect
Sensors and Actuators A: Physical
journa l homepage: www.e lsev ier .com/ locate /sna
A smart medication system using wireless sensor network technologies
Wen-Wei Changa, Tung-Jung Sungb, Heng-Wei Huanga, Wei-Chih Hsua, Chi-Wei Kuoa,
Jhe-Jhao Changb, Yi-Ting Houb, Yi-Chung Lana, Wen-Cheng Kuoc, Yu-Yen Lina, Yao-Joe Yanga,∗
a National Taiwan University, Taiwan, ROC
b National Taiwan Univ. of Sci. and Tech., Taipei, Taiwan, ROC
c National Kaohsiung First Univ. of Sci. and Tech., Kaohsiung, Taiwan, ROC
a r t i c l e i n f o
Article history:
Received 30 September 2010
Received in revised form 4 February 2011
Accepted 11 March 2011
Available online xxx
Keywords:
Wireless sensor network
Magnetic sensing
Healthcare system
Three-state detection
ZigBee
a b s t r a c t
In thiswork, a smartmedication system,which employs thewireless sensornetwork (WSN) technologies,
is designed, implemented and demonstrated. The primary functions of the system include medication
reminding, pill-dispensing assisting, and medication recording for the patients with chronic diseases.
The proposed system, which can be easily deployed in a nursing home where many elderly people live
together, consists of a master panel (MP) and seven portable smart pill-boxes (SPBs). An MP serves as
a network gateway/database for the SPBs registered under the MP. Each SPB, which stores user’s daily
doses of pills, can independently remind the user to take medicines at speciﬁed times. The star topology
is used for the communication between anMP and its seven afﬁliated SPBs. The tree topology is employed
as the routing network among the MPs. Moreover, by using magnetic sensors, a pill-detection module is
proposed for detecting the existence of pills in an SPB’s pill-cell. A WSN communication conﬁguration,
which can effectively reduce packet-loss rates, is also proposed. The relationship between round-trip
times (RTTs) and hop counts is measured.
© 2011 Elsevier B.V. All rights reserved.
1. Introduction
The recent rapid progress in wireless communications and
microsystems has enabled the realization of low-cost miniatur-
ized wireless sensor devices [1,2]. These sensor devices, which are
also called sensor nodes, can be networked together over a wire-
less medium to form a wireless sensor network (WSN) for sensing,
measuring and gathering information from the environment [3–5].
The applications of WSN technologies have been demonstrated in
healthcare areas [6–9]. In [6,7], the WSN applications for patient
monitoring are proposed. The monitored signals include heart rate
(HR), electrocardiogram (ECG), blood pressure, blood glucose, and
so on. A wearable healthcare system integrated with wireless sen-
sor networks for monitoring elderly patients with chronic diseases
was proposed in [8]. In [9], qualitative research was carried out for
studying the perceptions, attitudes and concerns of elderly persons
towards WSN technologies in healthcare applications.
Furthermore, the average human life has been extended dur-
ing the past decades. Therefore, aging society is one of the main
issues for many countries in the world. Elderly patients frequently
take wrong pills due to the complexity of prescribed medication,
∗ Corresponding author at: Mechanical Engineering, National Taiwan University,
No. 1 Roosevelt Rd. Sec. 4, Taipei, Taiwan, ROC. Tel.: +886 2 33662712.
E-mail address: yjy@ntu.edu.tw (Y.-J. Yang).
or waste medicines due to the neglect of taking medications. The
former might cost a life at certain critical conditions, and the lat-
ter might waste signiﬁcant healthcare resources. In this work, we
develop aWSN smart medication systemwhich is designed to pro-
vide various functions to assist the medication for elderly patients
with chronic diseases.
The proposed smart medication system includes a master
panel (MP) and seven smart pill-boxes (SPBs). The primary func-
tions of the system include medication reminding, pill-dispensing
assisting, and medication recording. An MP serves as a network
gateway/database as well as the charging dock for the SPBs regis-
tered under the MP. Each SPB, which stores a user’s daily dose of
pills, can independently remind the user to take right medicines
at the speciﬁed times. A database is implemented and installed in
the MP for managing the prescription and medication records for
users. Also, this database is essential for users to correctly reﬁll pills
in each pill-cell of SPBs. A three-statemagnetic pill-detectionmod-
ule is proposed for detecting the existence of pills in a pill-cell. An
RF chip which complies with the ZigBee/IEEE 802.15.4 standards
[10,11] is employed. The networks of the tree topology and the star
topology are implemented in the system. Furthermore, network
performances, such as round-trip times and packet-loss rates, will
also be measured and discussed.
The rest of this paper is organized as follows. Section 2 describes
the hardware architecture of the proposed WSN smart medication
system. Section 3 presents the proposed network conﬁguration.
0924-4247/$ – see front matter © 2011 Elsevier B.V. All rights reserved.
doi:10.1016/j.sna.2011.03.022
1 
 
高齡者智慧健康照護之產品使用性研究－以智慧藥盒為例 
  宋同正 1 張哲肇 1 李佳頤 1候宜廷 1 張文瑋 2楊燿州 2 
1國立台灣科技大學 工商業設計系 
2國立台灣大學 機械工程學系 
在高齡化社會中，如何有效應用前瞻科技來發展適用之健康照護商品或服務已成為急待解決的課
題。但是，先前文獻指出現階段許多健康照護商品在產品使用性上仍存有諸多待改進處。基此，以一
個多功能智慧藥盒為例，本研究主旨在針對高齡者進行該智慧藥盒之產品使用性實驗；其中，實驗的
主要任務測試包括有藥盒之功能性表現與使用性表現兩項。本研究的主要發現有三：1) 當產品操作
程序愈多，則平均任務反應時間會愈長；2) 產品使用性要項會影響產品功能性表現；3)「修改選項功
能」、「加註文字說明」與「符合既有經驗」是三種提升智慧藥盒產品使用性之可行方案。 
關鍵字：高齡者、使用性、健康照護、智慧藥盒  
1. 前言 
應用智慧科技於高齡者健康照護已成為現
今資訊化社會發展趨勢 (Arning & Ziefle, 2009; 
Charness & Boot, 2009; Hickman, Rogers, & Fisk, 
2007)。然而，現階段健康照護產品在使用性 
(usability) 上卻仍存有諸多待改進處  (Bastien, 
2010)。隨著年齡增加，一般高齡者的視覺、聽
覺和觸覺等感官機能會逐年衰退，且認知能力亦
會有減退現象，使其在使用科技相關產品時不但
常會發生操作失誤 (Charness & Boot, 2009)，且
會因感到緊張而降低使用意願，甚至視學習操作
這些產品為畏途  (Melenhorst, Bouwhuis, & 
Rogers, 2006)。由此可知，針對適用於高齡者產
品，設計師必須特別考慮以上這些使用者相關之
生理與心理能力等限制  (ISO/IEC GUIDE 71, 
2000; Lindenberger, Lövdén, Schellenbach, Li, & 
Krüger, 2008; Rogers, & Fisk, 2010) 。
Karahasanović et al. (2009) 指出，相較其他年齡
層，科技產品的使用性對高齡者更顯重要。一般
而言，具良好使用性產品不僅能讓高齡者克服科
技使用障礙，更能提升使用意願 (Charness & 
Boot, 2009)。綜上所述，如何有效提供高齡者具
優良使用性之產品已成為未來智慧科技導入成
功的重要關鍵 (Arning & Ziefle, 2009)。 
基本上，設計師常根據個人經驗來進行產品
設計 (Eisma et al., 2004; Keates, Clarkson, & 
Robinson, 2004; Norman, 1988)；然而，因為設計
師與使用者之間的經驗及認知存有差異，故有時
使用者會發生產品使用的不便或具挫折感 
(Popovic, 2002; Redström, 2006)。此時，產品使
用性評估的執行即扮演著相當重要的功能。原則
上，進行產品使用性評估不但可增進對使用者使
用需求的了解，更能彌補設計師與使用者之間在
認知上的差異  (Nielsen, 1993; Shneiderman & 
Plaisant, 2005)。特別是針對健康照護相關產品，
使用性的評估更是一項不可忽略的任務 (Czaja 
& Lee, 2007; Jaspers, 2009)。 
基此，以一多功能智慧藥盒 (具有個人設
定、服藥提醒、藥盒定位、用藥紀錄和分藥指引
等功能) 為例，本研究針對高齡者進行智慧藥盒
之產品使用性評估。冀望藉此研究能發掘出高齡
者對智慧藥盒各項產品使用性問題，以作為未來
智慧型健康照護產品設計時的參考依據。 
2. 產品使用性 
ISO 9241-11 (1998) 將「產品使用性」定義
為：在特定情境下，人們透過產品來達成使用效
能  (effectiveness)、效率  (efficiency) 或滿意度 
(satisfaction) 等目標；其中，效能是指使用者能
無線智慧藥盒系統於多人安養看護情境之使用者測詴分析 
 User Study on a Nursing-Home-Care WSN Smart Medication System 
 
張文瑋1,*、宋同正2、張哲肇2、李崇碩1、侯宜廷2、楊燿州1 
1國立台灣大學機械工程學系 
2國立台灣科技大學工商業設計系 
E-mail:eric@mems.me.ntu.edu.tw 
 
摘要 
 
本研究以立基於WSN無線感測網路技術的智慧
服藥提醒系統為主體，開發出適用於多使用者情境的
「安養看護系統」。系統包含「主控平台」及「智慧
小藥盒」二部份，其中整合了控制電路、無線傳輸模
組、藥物感測機制、關聯式資料庫及人機介面等部份，
希望藉此改善目前慢性病處方籤病患的服藥模式。 
在「安養看護系統」中，本研究實現一套運行於
安養護中心的智慧藥盒系統。此系統以「WSN無線感
測技術之應用」為主要架構，於台北市陽明山至善老
人安養護中心完成ZigBee無線網路的架設，並進行使
用者測詴，大致上受測者對本系統給予高度肯定，並
同意此套系統的確可以改善慢性病處方籤病患的服
藥模式。本研究亦從使用性工程(Usability Engineering)
的觀點，對此安養看護系統的使用性進行評估，實際
方法包含與使用者溝通、觀察使用者的作業環境和情
境分析等。這種以使用者為中心來評估介面和系統使
用性的方法[1]，能夠讓設計者瞭解產品使用性的問題
並提出設計準則。未來再藉由網路伺服資料庫的建置，
安養中心與家庭之間可直接以網路連結，進而整合成
完善的醫療照護系統，提供慢性老人病患服藥的正確、
便利和一個安全的照護生活環境。 
 
關鍵詞：智慧藥盒、無線通訊、藥物偵測、ZigBee、
WSN、使用性工程、高齡者、用藥行為。 
 
Abstract 
 
In this work, a Nursing-Home-Care Smart 
Medication System based on WSN technologies is 
designed, implemented and demonstrated. The proposed 
system, which is designed for senior citizens with 
chronic diseases, consists of two major components, a 
master panel (MP) and seven portable smart pill-boxes 
(SPB). An MP serves as a network gateway/database for 
the SPBs registered under the MP. Each SPB, which has 
four pill cells for stores medicines, can independently 
remind the user to take medicines at specified times. A 
novel medicine sensing method was developed for 
detecting pills. A database was also developed for 
monitoring, recording, synchronizing and updating 
medication processes. The proposed systems were 
deployed in the Taipei Zhi-Shan Nursing Home and 
were tested by senior users living in the organization. 
Furthermore, we also employed the methodology of the 
usability engineering, which is one of approaches to 
analyze the usability of systems/interfaces, to evaluate 
the functionalities of the wireless sensing smart 
medication system.  
 
Keywords: medication system, ZigBee, wireless sensor 
network, usability engineering, medication behavior. 
 
1. 前言 
人類的壽命隨著醫療的進步得以提升，人口老化
是這個世界的趨勢[2]。此趨勢變化得相當快速，分析
台灣目前的人口比例，統計至去年底(99年)老年人口
比例已達10.74%[3]。老年人口的增加改變了社會結構
的組成、醫療系統設施的需求以及老年福利的制定。 
    現今已有不少電子科技產品應用於醫療服務，醫
療診斷儀器的快速發展和精確度的提升亦保護相當
多的病患。但是完整的醫療照護不只在醫院中，更要
延伸到病患的家庭、日常生活。醫院目前提供給慢性
病患的藥物分配方式是一袋一種藥(Unit Pack)，而非
平常感冒時醫院所採用的一餐一包藥(Unit Dose)，因
此病患在服藥的時候頇自行分藥再行服用，而非直接
撕開一餐的藥袋來服用。以65歲以上的高齡者為例，
超過五成的高齡患者有三種以上的慢性疾病[4]，高複
雜度的服藥頻率和數量讓這種服藥方式大幅增加了
老人服藥的困難度和用藥錯誤(Medication Error) [5]
以及病人傷害(Patient Injury)的機會，更嚴重影響患者
的健康及安全。僅管醫院的給藥流程、服藥方式皆有
清楚說明，相關藥物資訊亦標示於藥單上，但只要病
患無法於正確的時間內服下正確的藥物，醫療糾紛等
等的問題常常會造成社會資源的浪費。目前市面上所
販售之藥盒大部分皆沒有服藥提醒之功能，即便有提
醒功能，在操作或設定上也容易讓病患或家屬感到太
複雜或不夠智慧化。有鑑於此，本研究致力於開發一
套智慧藥盒系統。透過無線傳輸技術以及藥物偵測技
術，配合後端資料庫的設計，期許能將科技生活融入
一般家庭甚至於是醫療院所之中，進而減少或免除安
養中心的負擔和責任歸屬，讓老人慢性病患對於服藥
不再感到手足無措，藉由網路做及時資訊的傳遞以保
障老人的健康安全，並且藉由家庭無線網路和此套系
99 年度專題研究計畫研究成果彙整表 
計畫主持人：楊燿州 計畫編號：99-2218-E-002-008- 
計畫名稱：無線感測智慧服藥提醒與管理系統(3/3) 
量化 
成果項目 實際已達成
數（被接受
或已發表）
預期總達成
數(含實際已
達成數) 
本計畫實
際貢獻百
分比 
單位 
備 註 （ 質 化 說
明：如數個計畫
共同成果、成果
列 為 該 期 刊 之
封 面 故 事 ...
等） 
期刊論文 1 1 100%  
研究報告/技術報告 3 3 100%  
研討會論文 3 3 100% 
篇 
 
論文著作 
專書 0 0 100%   
申請中件數 2 2 100%  專利 已獲得件數 2 2 100% 件  
件數 3 3 100% 件  
技術移轉 
權利金 300 300 100% 千元  
碩士生 6 6 100%  
博士生 3 3 100%  
博士後研究員 0 0 100%  
國內 
參與計畫人力 
（本國籍） 
專任助理 1 1 100% 
人次 
 
期刊論文 1 1 100%  
研究報告/技術報告 0 0 100%  
研討會論文 1 1 100% 
篇 
 
論文著作 
專書 0 0 100% 章/本  
申請中件數 2 2 100%  專利 已獲得件數 0 0 100% 件  
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 0 0 100%  
博士生 0 0 100%  
博士後研究員 0 0 100%  
國外 
參與計畫人力 
（外國籍） 
專任助理 0 0 100% 
人次 
 
