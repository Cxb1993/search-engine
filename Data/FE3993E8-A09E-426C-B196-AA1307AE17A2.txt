 2
the passive position system and integrate it with 
the relative position system to fulfill the position 
estimation. In the motion planning of robot, 
besides the anti-collision function, our goal is to 
diagram the path map. In the path planning, we 
will use the record of all paths to establish the 
path tree, and build up the path-inquiring 
environment and testify them. 
Keywords: 3D reconstruction, rescuers- 
searching robot, position of robot, path planning 
of robot. 
 
一、 本階段研究計畫之目的及成果 
    本研究報告為國科會一般型研究計畫「基
於深度影像資訊之救災探勘機器人協同系統
的設計與研發」第一年之期末研究成果報告。
在這一年的計畫執行過程中，我們針對整體計
畫的目的與進度，做了通盤的規劃與設計，並
按照計畫預期的進度如期完成階段性目標。目
前的架構，在 3D 場景重建部份，已經完成將
雷射測距儀所量測的距離和空間三維資料點
的座標轉換，並完成多張場景影像的匹配。在
機器人定位部份，已經完成了救援機器人的相
對定位系統。在可行進路徑判斷系統中，已經
完成了與定位系統及雷射測距系統做溝通配
合，做小範圍的未知環境探勘。在路徑規劃部
份，已經完成了將網路架構、頻繁樣本成長
(FP-Growth) 、改良型簡潔型基因演算法
(modified compact genetic algorithm, MCGA)以
及族群式共生進化演算法 (group symbiotic 
evolution, GSE)進行整合。 
 
二、 研究發展及進行步驟 
    以下針對本計畫所包含救災探勘機器人
之 3D 場景重建、機器人定位、機器人可行路
徑判斷以及路徑規劃等方面進行說明： 
3D 場景重建 
本計畫之影像處理部份，我們將透過雷射
測距儀，取得三維距離影像。透過所得到的距
離影像，重建出災區內部的場景。而整個場景
重建的動作，可分為以下幾個部份： 
1. 影像數據取得(data acquisition)； 
2. 機器人定位資料取得； 
3. 影像註冊 (image registration)。 
    在數據取得部份，我們是透過一台雷射測
距儀來完成的。為了要得到整個龐大的災區三
維數據，會遇到一些像是掃描點的規劃、掃描
分辨率的選擇、以及數據格式或是資料傳輸等
等的問題。在本計畫中，我們預計讓機器人在
前端做三維影像資料的擷取，將影像資料傳回
使用者後端做場景重建的動作。我們利用在機
器人行進間所得到的定位資訊，做註冊的動
作，重建出完整的災區場景。以下兩張影像，
圖一(a)和(b)，分別是我們驗證本計畫所賦予
機器人重建功能的測試環境的部分場景。 
 
(a) 
 
(b) 
圖一 (a)實驗的部分場景 1，  (b) 實驗的部分
場景 2。 
 
 4
 
(a) 
 
(b) 
 
(c) 
 
(d) 
 
(e) 
 
 
(f) 
圖三 堆疊後的場景影像 (a)拍攝點 1， (b)拍
攝點 1 至 2，(c) 拍攝點 1 至 3，(d) 拍攝
點 1 至 4，(e) 拍攝點 1 至 5， (f) 拍攝
點 1 至 6。 
 
 
(a) 
 
(b) 
圖四 (a)模擬的受災場景， (b)重建後的受災
3D 場景。 
 
機器人定位系統 
在機器人定位系統部分，是透過將軸編碼
器裝置在機器人載具平台的兩個傳動軸上以
及另外再加入一個與環境獨立的姿態感測
器，來實現機器人相對定位系統。本研究計畫
所使用之機器人為履帶機器人，如圖五所示。 
 6
 
圖七 軸編碼器計算機器人行走距離的片段。 
 
 
圖八 姿態感測器計算目前機器人姿態的片
段。 
 
透過軸編碼器我們計算出機器人行走距
離；另外利用了與環境獨立的姿態感測器來計
算目前機器人的姿態(例如：傾斜角度、轉動
角度)，來記錄機器人運動的情況。如圖九所
示，將機器人運動路徑與先前所重建的受災場
景結合顯示。 
 
圖九 機器人行走路徑。 
 
可行進路徑判斷 
由於機器人的能力限制，無法自由的在空
間中任意移動，因此，當由之前雷射測距系統
所獲得一個當下環境的距離地圖時，我們可以
利用距離的遠近來判斷可行進的路徑。另外，
由於本計畫目標為 3D 空間的探索，外加上地
面也不一定是平行地表或是水平面，因此，對
於任何一個時間跟位置，都需要利用到機器人
本身的定位功能。除了藉著之前由定位系統所
獲得的資訊外，再加上本身加速度陀螺儀獲得
水平資訊，才能將所獲得的 3D 距離地圖與世
界座標相對應，進而找出平面上的障礙物以及
可能行進的路徑。 
對於可行進路徑判斷，首先我們必須先判
讀場景的點雲資訊。原始的點雲資訊可能包含
著測距儀的雜訊，在空間中稀疏分佈的小物
體，或是一些高度對機器人不構成障礙物的物
體。因此我們將針對拍攝所得到的點雲資料，
以密度和高度這兩個部分來決定空間中可行
進的路徑： 
1. 利用密度資訊判別障礙物 
在雷射測距儀得到場景的點雲資料後，我
們就對此場景的每一個點做掃描的動作，來判
別此點是否有為可能的障礙物。得到假設目前
的資料點為 P
JG
，對 P
JG
定義一個 k × k 的鄰域，
其中 k 為大於 3 的奇數。在此鄰域中就會有 N
筆三維的資料點 1 2, , , Nv v v
JG JJG JJG… ，其中 N 等於 k × 
k，接著我們算這 N 個點，算距離的的變異數
(variance)，所用的公式如下： 
2
1
var
( )
N
i P
z z
P i
v m
z
N
=
−
=
∑ JGJG
，       (8) 
其中 izv 為第 i 個點的距離資訊，而 Pzm
JG
代表 P
JG
鄰域中的距離平均。當 varPz
JG
小於或等於事先定
義的臨界值 thresz 時，我們判斷此點為一個完整
物體中的某一點，此點也並非測距儀所得到的
雜訊點，我們將此點 P
JG
預設為可能的障礙點。 
2. 利用高度資訊判別障礙物 
在這個步驟中，我們對一張 3D 影像中，
利用公式(8)所得到所有可能障礙點 P
JG
，做高
度資訊的過濾。當 P
JG
點的高度資訊 yP 大於事
先定義的臨界值 thresy 時，我們就判別此點為機
器人所不能通過的障礙點。實驗模擬的結果，
我們以下圖十來表示： 
 
 8
資 料 分 析 來 進 行 知 識 開 發 (knowledge 
discovery)的步驟，主要是用於在大型資料庫
中找到資料間關係。而[11]中，提出了利用頻
繁 樣 本 成 長 (frequent pattern growth,  
FP-Growth)來找出具有代表性的資料集合進
而找出相關結合法則。在[11]中，由於頻繁樣
本成長具有在大量資料中找出具代表性的相
關結合法則且不需要額外占用記憶體的好
處，因此本計畫中將利用資料探勘中頻繁樣本
成長來分析染色體的組合並找出最佳的TSK
形式模糊類神經網路的法則。 
本計畫所提出的資料探勘(data mining)式
基因演算法可以分為架構學習以及參數學習
兩個方面，分別說明如下： 
在架構學習部分，主要是利用頻繁樣本成
長來尋找最佳的法則數，透過[11]的方法可以
在族群中搜尋最佳的染色體組合個數。頻繁樣
本成長主要是用來找出具有代表性的資料集
合進而找出相關結合法則，因此可以透過結合
的相關法則來決定規則數。 
在參數學習部分，主要是將所記錄的染色
體的組合進行頻繁樣本成長(FP-Growth)[11]
找出代表性的相關結合法則，並將這些結果用
作GSE的交配以及選擇染色體組合上。 
大致上來說，本計畫提出的路徑規劃方法
有以下優點： 
1. 可以自我建構染色體數目； 
2. 可以局部考量染色體效能； 
3. 透過TSK形式模糊類神經網路結合資料探    
勘式基因演算法可以有效的快速學習最
佳化路徑達到節省救援時間的目的。 
 
以下將針對本計畫中所使用TSK形式模糊
類神經網路結合資料探勘式基因演算法分別
詳細說明： 
1. TSK形式模糊類神經網路 
一個TSK形式模糊類神經網路的架構如圖
十二所示，其中n和R代表輸入資料的維度以及
TSK形式模糊類神經網路的規則(rule)數。在本
計畫中TSK形式模糊類神經網路主要是用來
作為路徑規劃之用，TSK形式模糊類神經網路
的推論法則說明如下： 
IF x1 is A1j (m1j，σ1j )and x2 is A2j(m2j，σ2j )…and 
xn is Anj (mnj，σnj ), 
THEN   y’=w0j+w1jx1+…+wnjxn ,              (9)                   
在本計畫中所使用的TSK形式模糊類神經網
路具有五層的網路架構，下面將介紹每一層的
運算： 
1-1. 第一層(input nodes)：在這一層中主要是
將輸入參數帶到這一層的節點中，所以在這一
層中沒有任何的運算，僅僅是如下的轉換： 
(1)
i iu x=  。             (10)                  
1-2. 第二層(membership function node)：在這
一層中每一個節點主要是將第一層的輸入節
點模糊化，每一個節點透過歸屬函數
(membership function)將原本明確的輸入變數
轉換成模糊參數，歸屬函數主要說明了輸入變
數屬於一個模糊集合(fuzzy set)的程度，在本
計畫中，主要是使用高斯歸屬函數(Gaussian 
membership function)，這一層的輸出說明如
下： 
(1) 2
(2)
2
[ ]
exp( )i ijij
ij
u m
u σ
−= − ，   (11)                  
其中mij 和 σij 分別是平均值和標準差對應到
第i個輸入的第j個歸屬函數。 
1-3. 第三層(rule node)：在這一層的輸出主要
是將第二層的歸屬程度值透過AND的模糊運
算得到一個法則的激發量(fire strength)在這一
篇文章中主要是使用乘積的運算，這層的輸出
說明如下： 
(3) (2)
j ij
i
u u=∏ 。        (12) 
1-4. 第四層(consequent node)：這一層又稱為
推論層，在這一層中主要是將第三層的輸出值
乘上一個由輸入參數所組成的線性組合而得
到推論結果，這一層的輸出說明如下： 
 10
本樹(FP-Tree)的步驟如圖十四所示，在圖十四
中，主要是利用掃描表五結果來產生頻繁樣本
樹(FP-Tree)，在圖十四的最右邊的樹即為掃描
完表五所有資料後的結果，稱為頻繁出現單一
樣本的字首樹 (prefix-tree)。在字首樹內的每
一個節點包含：資料項目、計數值以及，節點
的連結。一個完整的頻繁樣本樹(FP-Tree)須包
含字首樹以及標頭表格(header-table) 根據表
一所建構好的頻繁樣本樹如圖十五所示。 
 
表二 資料集合。 
資料索引 資料項目集合 
1 {b, c, e, f, g, h, p}
2 {a, b, c, f, i, m, o}
3 {c, f, i, m, o} 
4 {b, c, e, s, p} 
5 {a, b, c, d, f, m, o}
 
表三 頻繁出現的單一樣本。 
資料項目 計數值 
B 4 
C 5 
F 4 
M 3 
O 3 
 
表四 F 排列。 
資料項目 計數值 
C 5 
B 4 
F 4 
M 3 
O 3 
 
 
 
 
表五 表三的結果保留表一的資料集合的結
果。 
資料集
索引 
資料項目集合 排序好的值 
1 {b, c, e, f, g, h, p} {c, b, f} 
2 {a, b, c, f, i, m, o} {c, b, f, m, o}
3 {c, f, i, m, o} {c, f, m, o} 
4 {b, c, e, s, p} {c, b} 
5 {a, b, c, d, f, m, o} {c, b, f, m, o}
 
 
圖十四 建構頻繁樣本樹(FP-Tree)的步驟。 
 
 
圖十五 建立好的頻繁樣本樹(FP-Tree) 。 
 
2-2. 頻繁樣本成長(FP-Growth)： 
頻繁樣本成長的演算法步驟為建構條件
項目基底(conditional item base)就是根據圖十
五的標頭表格(header-table)的資料項為葉子節
點 (leaf node)向頻繁樣本樹 (FP-Tree)的樹根
(root)計算計數值，接著將條件項目基底的資
料項建立建構對應的條件頻繁樣本樹
(corresponding conditional FP-tree)也就是將相
同出現的資料項加總，在得到對應的條件頻繁
 12
 
圖十七 資料探勘式基因演算法流程圖。 
 
三、 已完成項目及未來展望 
    計畫進行一年來，除了完成系統架構、制
定系統規格與採購儀器之外，也完成本報告中
第二節(研究發展及進行步驟)所敘述的項目。
在 3D 場景重建部份，已經完成將雷射測距儀
所量測的距離和空間三維資料點的座標轉
換，並完成多張場景影像的匹配。在機器人定
位部份，已經完成了救援機器人的相對定位系
統。在可行進路徑判斷系統中，已經完成了與
定位系統及雷射測距系統做溝通配合，做小範
圍的未知環境探勘。在路徑規劃部份，已經完
成了將網路架構、頻繁樣本成長(FP-Growth)、
改良型簡潔型基因演算法(modified compact 
genetic algorithm, MCGA)以及族群式共生進
化演算法(group symbiotic evolution, GSE)進行
整合，所使用的方法如本報告第二節所述。而
在第二年裡，3D 場景重建部份，預計以三維
雷射掃描取得的三維座標資料，進行表面重建
的工作。在機器人定位部份，預計完成救援機
器人的絕對定位系統，最後採用資料融合(data 
fusion)技術將相對定位系統與絕對定位系統
整合，來做最後的定位估計。在可行進路徑判
斷系統中，目標除了障礙物的防碰撞機制外，
最主要是將路徑圖表示出來。在路徑規劃部
份，預計將路徑紀錄的結果建立成路徑樹(path 
tree)。接下來完成查詢路徑環境並測試之。最
後希望透過機器人在未知環境中行進並紀錄
路徑等相關資料，利用 3D 重建來建立起未知
救災環境的內部情形，並透過路徑規劃找出最
佳路徑以協助搜救人員達成解救受困者的任
務。 
 
參考文獻 
[1] I. Stamos and P. E. Allen, “3-D model 
construction using range and image data,” in 
Proc. of IEEE Conf. Computer Vision and 
Pattern Recognition, vol. 1, pp. 531-536, 
2000. 
[2] R. L. Hoffman and A. K. Jain, 
“Segmentation and classification of range 
images,” IEEE Trans. Pattern Analysis and 
Machine Intelligence, vol. 9, no. 5, pp. 
608-620, 1987. 
[3] O. D. Faugeras and M. Hebert, “The 
representation, recognition, and locating of 
3d objects,” Int. Journal of Robotic 
Research, vol. 5, no. 3, pp. 27-52, 1986. 
[4] SparkFun Electronics – IMU 6 Degrees of 
Freedom - v4 with Bluetooth, 
http://www.sparkfun.com/commerce/produc
t_info.php?products_id=8454 
[5] 賴盈霖，“結合GPS/重力感測器/陀螺儀 
DR功能進駐導航裝置 ,” 新電子科技雜
誌，262期，1月號，2008年. 
http://www.mem.com.tw/coverstory_conten
t.asp?sn=0801290009 
[6] C. J. Lin and Y. J. Xu, 2006, “A 
self-adaptive neural fuzzy network with 
group-based symbiotic evolution and its 
prediction applications,” Fuzzy Sets and 
出席國際學術會議心得報告 
                                                             
計畫編號 NSC 97-2221-E-009-091 
計畫名稱 基於深度影像資訊之救災探勘機器人協同系統的設計與研發 
出國人員姓名 
服務機關及職稱 
姓名:鄭逸章 服務機關:國立交通大學電控系 職稱:博士生 
會議時間地點 時間: 98/7/10-98/7/13 地點:美國，佛羅里達 
會議名稱 
（中文）系統化、人工智慧與資訊複合國際研討會 
（英文）World Multi-Conference on Systemics, Cybernetics and Informatics:
         WMSCI 2009 
發表論文題目 
（中文）設計 TSK 模式模糊類神經網路，基於資料探勘上進化演算法的
增強式學習 
（英文）Reinforcement Learning for Data Mining based Evolution Algorithm 
for TSK-type Neural Fuzzy Systems Design 
 
一、參加會議經過 
這次的WMSCI會議是在美國佛羅里達舉辦，為期共4日(7/10-7/13)。而其中有三天的會議
議程，會議議程都是在美國的Rosen Centre飯店舉辦。 
WMSCI會議從1995年於德國Baden-Baden開始舉行，從早期45篇發表文章直至近五年成
長至1300篇文章發表。現今WMSCI會議主要成為組織系統、控制理論與資訊學門領域之重要
性國際論壇。與會者包括學校教育單位、政府機關和產業界並於會議中相互分享其新思維、
知識和經驗在不同學科領域之中。此外，於會議舉辦期間大會每日均會安排該領域專家學者
演講發表最新著作與新觀念之發表，而會場旁也設有許多攤位供跨國合作計畫、學校與研究
中心簡介等等，使得會議內容更加豐富且有趣。 
本次出國相關事宜，請旅行社代訂機票。至於住宿方面，由於大會提供每個研討回參加
者優惠的訂房價格，所以就訂了跟研討會舉辦地點相同的Rosen Centre飯店。在完成了相關準
備事項後就準備出發了，因為我的議程是在7/11的早上，所以我將出國日期訂在7/8的早上希
望可以有充足的時間探勘環境以及準備報告。我的飛機是7/8的8點20分，到美國時是當地的
7/8的21點24分，由於當天並無議程，所以就是安頓行理和準備要報告的相關事宜。 
會議的第一天，也就是我到四川的第三天，由於今天沒有議程，僅需要向大會做註冊的
