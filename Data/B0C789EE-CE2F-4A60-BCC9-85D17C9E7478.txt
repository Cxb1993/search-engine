小型振動式發電機之設計與製作(II) 
 
(國科會計劃編號 NSC95-2221-E-009-010, 執行期限 2006/08/01 ~ 2007/07/31) 
呂 宗 熙 
新竹市 國立交通大學 機械工程研究所 
摘  要 
近年來，如何將環境中源源不絕之能量轉換成
有效能源利用，已逐漸引起世人的興趣。本研究利
用壓電材料的性質，擷取週遭環境機械能，並轉換
成電能。為了找出最佳發電效果之機構，針對數種
不同機構，考量包括壓電彎片數量、彎片架設方式
等作理論分析，估計各種不同情況所產生之發電效
果，進而將產生的電能做整流電路設計，接著將電
能充進鎳氫電池或電容儲存。並且利用系統鑑別得
到壓電彎片之頻譜特性，作為設計機構時之依據。
本論文設計了利用質量-彈簧系統，配合磁鐵排斥
力作用之發電機構，經過有限元素模擬軟體分析及
實地測試驗證，發現在 5Hz 以下之低頻運作環境，
較容易激振壓電彎片，增加發電效果。本研究探討
了質量-彈簧系統中質量大小對發電效果的影響，
並且在馬達搖擺振幅± 1.8 度，頻率為 3.96Hz 時量
測獲得最佳的振幅 2.7 伏特和 0.379 微瓦之發電效
果。 
 
關鍵字： 振動能、發電機、壓電元件。 
。 
ABSTRACT 
To transform endless energy from 
ambient vibration into useful power, We 
scavenge mechanical energy and transfer 
into electrical energy by utilizing 
piezoelectric materials. We compare 
generators performance at different 
situations and then let electric energy be 
charged to a Ni-MH battery or a capacitor 
through a full wave rectifier. We also obtain 
resonance of piezoelectric benders by 
system identification which can be an 
important reference when designing the 
generator. This study proposes a novel 
mechanism comprising a mass-spring 
system and magnet repulsive force. 
According to finite element software and 
experimental result, below 5 Hz the 
generator absorbs vibration energy more 
easily. We have investigated the influence of 
the mass magnitude and obtained the 
optimum result of 2.7V and 0.379μw when 
the swinging amplitude of the motor is 
± 1.8 deg at swinging frequency of 3.96 Hz. 
I. INTRODUCTION 
To scavenge ambient energy for device 
energy source, solar energy, ocean tide, 
thermal gradient, and mechanical energy are 
examples. In the mechanical energy 
approach, there exist electromagnetic, 
electrostatic, and piezoelectric types. Since 
the piezoelectric type generates the largest 
energy density among three, this study 
presents our research results based on 
piezoelectric benders. Richards et al. [1] 
used a microelectromechanical approach to 
fabricating a vibration generator containing 
a piezoelectric component. For wireless 
electronics, Roundy et al. [2-3] dealt with a 
piezoelectric vibration based generator. 
Sodano et al. [4] compared capacitors and 
rechargeable nickel-hydrogen cells for 
accumulating charge. They think the latter is 
better. 
 
xxVLMgx
L
xmxM )(
83
1)( 2 −−=⇒ α  
θ
 
Fig. 3. Free body diagram (2) of generator(I). 
 
Similarly, according to the free body 
diagram depicted in Fig.2, one has 
 
αα 2)
2
]()[(
3
1)
2
)(()( xLMm
L
xLMxLxVxMIM Ooo +++=−++⇒=∑
 
8
)
2
)(()
2
]()[(
3
1)( 2 LMgxLxVxLMm
L
xLxM −+−+++=⇒ α
 
 
Mechanism 2: Cantilever Type 
 
θ
 
Fig. 4. Generator mechanism (II). 
     
 
 Mechanism 3: Wing type 
θ
 
Fig. 5. Generator mechanism (III). 
     
Mechanics of materials gives relationship 
between bending moment and normal stress 
resulting from bending moment:  
 
I
yxMx )()( −=σ  
 
where )(xM is bending moment， I is area 
moment of inertia y is along the thickness. 
According to Table 1, the cantilever type 
design will generate the largest bending 
moment, hence the largest deformation. 
Accordingly, the most power will be 
generated.  
 
Table 1 Comparison of calculated 
bending moment (N-m) among three designs 
Lumped mass in 
the middle 
Cantilever type Wing type 
-4102.9771×
 
-4108.9447 ×
 
-4102.8293×
 
 
IV. EXPERIMENT OF POWER GENERATION AND 
CHARGING 
A fabricated mechanism in this work is 
shown in Fig. 9. To carry out experiments, 
this study attaches the mechanism to a swing 
arm actuated by a servo motor, shown in Fig. 
10. Computer commands drive the arm and 
vibratory deformation in piezo benders 
generate electric signals. After rectification, 
electric energy is stored in either capacitors 
or batteries. To examine effects of central 
lumped mass on power generation 
performance, this study appended three 
different masses 24.744g, 33.476g, and 
43.604g. Generated voltages will thus be 
compared at angular acceleration of 
10 2sec/rev  and arm swing angle of 54 deg. 
Fig.11 shows that generated voltage indeed 
increases with lumped mass. Since a 
resonant frequency is expressed by 
m
k
n =ω , the resonant frequency decreases 
with increasing mass. Hence, heavier 
lumped mass can make the resonant 
frequency of the generator mechanism 
closer to ambient vibration frequency. As a 
consequence, severe vibration excites 
significant bending of piezo benders. 
 
 
Fig. 9. Photo of Piezogenerator.  
 
 
Fig. 10. Photo of generator attached to swing arm. 
 
Fig. 11. Generated voltage increases with lumped mass. 
To obtain power generated by piezo benders, a 
multimeter is connected in series to a resistor for 
measuring current while an oscilloscope in parallel 
for measuring voltage. Maintaining arm amplitude 
between＋1.8 deg and －1.8 deg with lumped mass 
equal to 67.6 g. Root mean square values of current 
and voltage measured at various arm angular 
accelerations yield resistance power. Fig.12 shows 
that at arm angular acceleration 10 2sec/rev , which 
corresponds to the resonant frequency 3.96Hz of a 
mass-spring system, leads to the largest power of 
0.379μW. 
further effort is required to increase power 
generation capability of proposed 
mechanisms. 
 
ACKNOWLEDGEMENT 
This work was supported by National Science 
Council in Taiwan, under Grant No. 
NSC95-2221-E009-010. 
REFERENCES 
[1] C. D. Richards, M. J. Anderson, D. 
F.Bahr, and R. F. Richards, “Efficiency 
of energy conversion for devices 
containing a piezoelectric 
component,“ Journal of Micromechanics 
and Microengineering, vol. 14, no. 5, 
2004, pp. 717-721. 
[2] S. Roundy and P. K. Wright, “A 
Piezoelectric Vibration Based Generator 
For Wireless Electronics,” Smart 
Materials and Structures, vol. 13, no. 5, 
2004, pp. 1131-1142. 
[3] S. Roundy, E. S. Leland, J. Baker, E. 
Carleton, E. Reilly, E. Lai, B. Otis, J. M. 
Rabaey, and P. K. Wright, “Improving 
Power Output for Vibration-Based 
Energy Scavengers,“ IEEE Pervasive 
Computing, vol. 4, no. 1, 2005, pp. 
28-36. 
[4]  H. A. Sodano, D. J. Inman, and G. Park, 
“Generation and Storage of Electricity 
from Power Harvesting Devices,” 
Journal of Intelligent Material Systems 
and Structures, vol. 16, no. 1, 2005, pp. 
67-75. 
 
 
 
Abstract—To transform endless energy 
from ambient vibration into useful power. 
We scavenge mechanical energy and transfer 
into electrical energy by utilizing 
piezoelectric materials. We compare 
generators performance at different 
situations and then let electric energy be 
charged to a Ni-MH battery or a capacitor 
through a full wave rectifier. We also obtain 
resonance of piezoelectric benders by system 
identification which can be an important 
reference when designing the generator. This 
study proposes a novel mechanism 
comprising a mass-spring system and magnet 
repulsive force. According to finite element 
software and experimental result, below 5 Hz 
the generator absorbs vibration energy more 
easily. We have investigated the influence of 
the mass magnitude and obtained the 
optimum result of 2.7V and 0.379μw when 
the swinging amplitude of the motor is ± 1.8 
deg at swinging frequency of 3.96 Hz. 
 
Keywords: Vibration Energy, Generator, 
Piezoelectricity 
 
 
 
 
 
 
 
 
 
可供推廣之研發成果資料表 
□ 可申請專利  ■ 可技術移轉                              日期：2007 年 10 月 26 日 
國科會補助計畫 
計畫名稱：小型振動式發電機之設計與製作(II) 
計畫主持人：        呂  宗  熙 
計畫編號： NSC95-2221-E009-010            
學門領域：機械固力 
技術/創作名稱 呂  宗  熙 
發明人/創作人  
技術說明 
中文：本研究利用壓電材料的性質，擷取週遭環境機械能，並
轉換成電能。為了找出最佳發電效果之機構，針對數種不同機構，
考量包括壓電彎片數量、彎片架設方式等作理論分析，估計各種不
同情況所產生之發電效果，進而將產生的電能做整流電路設計，接
著將電能充進鎳氫電池或電容儲存。並且利用系統鑑別得到壓電彎
片之頻譜特性，作為設計機構時之依據。本論文設計了利用質量-
彈簧系統，配合磁鐵排斥力作用之發電機構，經過有限元素模擬軟
體分析及實地測試驗證，發現在 5Hz 以下之低頻運作環境，較容易
激振壓電彎片，增加發電效果。本研究探討了質量-彈簧系統中質
量大小對發電效果的影響，並且在馬達搖擺振幅± 1.8 度，頻率為
3.96Hz 時量測獲得最佳的振幅 2.7 伏特和 0.379 微瓦之發電效果。
 
出席國際學術會議心得報告 
                                                             
計畫編號 NSC95-2221-E-009-010 
計畫名稱   小型振動式發電機之設計與製作(II) 
出國人員姓名 
服務機關及職稱 
呂宗熙  交通大學   教授 
會議時間地點 2007 年   五月 23-25 日   哈爾濱 
會議名稱 2nd IEEE Conference on Industrial Electronics and Applications 
發表論文題目 Positioning Control of Piezotube Actuator Using Artificial Immune Algorithm 
 
 
 
 
 
一、參加會議經過 
 
呂宗熙於 2007 年五月 23-25 日赴東北哈爾濱出席第二屆美國電機電子工程
師學會工業電子與應用研討會，2nd IEEE Conference on Industrial 
Electronics and Applications (ICIEA 2007) 。發表論文題目「應用免疫法
則於壓電管雙方向之控制」。飛機行程經由香港和廣州，轉搭中國南方航空，途
經瀋陽前往哈爾濱，但是因為瀋陽機場霧大，航空公司改降長春，而且差一點
安排在長春過夜，幸好旅客力爭，才再從長春機場飛往哈爾濱，但是一番波折
抵達哈爾濱，已經是半夜十二點。 
 
隨著高密度的儲存需求，近場光碟機的開發與設計是值得重視的；近場光
碟機為了滿足近場光學的需求，必須接近碟片反射面約 50 奈米處進行讀寫的動
作。由於讀寫頭飛行時，受到碟片轉動造成的空氣動力與側向風切干擾，和系
  
 
 
 
二、與會心得 
 
本會議由哈爾濱工業大學與新加坡大學合辦，美國電機電子工程師學會協
辦。大部份發表者屬於電機背景，而非機械背景。大會三天共有九十八個議程
Abstract-This study develops an artificial immune algorithm 
for the piezotube actuator of a disk-drive pickup head in the 
presence of runout disturbance. The immune algorithm includes 
antigens reorganization, antigen integration and appearance, the 
stimulation and suppression chains between antibodies in the 
immune system, and immune response of artificial immune 
system. We define suitable antibodies to restrain antigens. In 
experiments, we treat disk deformation as antigens and 
proportional-integral-derivative (PID) gains as antibodies. 
Established by PID gains, the immune database helps realize the 
immune algorithm. 
 
I.  INTRODUCTION 
The most important function of a biological immune 
system [1] is to protect living organisms from invading 
antigens as shown in Fig. 1. Ishida and Adachi [2] explored 
principles in immune systems to improve information 
processing capabilities, such as pattern recognition and 
learning, as done in artificial neural networks and genetic 
algorithms. Ishiguro et al. [3] applied antibody and antigen 
combination, affinity, concentration and adaptive mechanism 
to mobile robot control. Kim [4] carried out 
proportional-integral-derivative (PID) controller tuning using 
gain/phase margin and immune algorithm. 
In biological immune systems, antigens can be recognized 
by antibodies in an immune bank. Stimulation and 
suppression chains among antibodies in the immune system 
can change concentration of antibodies to eliminate antigens. 
Imitating biological immune systems, a piezoelectric (PZT) 
actuator in dual-direction controller endowed with immune 
behavior can find out environment changes as we named 
antigens and call antibodies into action, i.e. immune responses. 
The control block diagram for illustrating artificial immune 
systems is shown in Fig. 2. An artificial immune system 
identifies invading antigens and brings a series of immune 
response so as to have a piezotube actuator resist antigens. 
This study develops an artificial immune controller, which 
contains an adaptive mechanism. According to errors between 
the piezotube actuator output and reference input, this study 
calculates the affinity and concentration of antibodies to 
eliminate antigens. 
 
II. IMMUNE ALGORITHM 
A.  Gene Pattern 
This section deals with invading antigens. We define 
disturbance of piezotube actuator response consisting of pulse, 
sine, and random number and disk runout as our antigens. 
An epitope is the part of a macromolecule that is 
recognized by the immune system, specifically by antibodies, 
B cells, or T cells. The part of an antibody that recognizes the 
epitope is called a paratope. Using matches between the 
epitope and paratope strings, we let each antigen and each 
antibody type have only one epitope. Gene-patterns of epitope 
creating rules are defined as 
 
⎩⎨
⎧
−≥≤=
−<>=
)()(        )(        ,1)(
)()(        )(        ,0)(
εε
εε
nyandnyifnBit
nyandnyifnBit                 
(1) 
 
where )(ny  denotes dynamic response, n  the time step or 
pattern bit, and ε  the error range of amplitude. 
Gene-patterns resulting from pulse, sine, and random number 
responses are stored as shown in Figs. 3 to 5. Usually, we 
define reference input and disturbances as antigens to 
optimize a problem. In this study, we define pulse noise, sine 
noise of phase delay equal to /4π , rundom number noise, 
and runout as our antigens. Antibodies in the immune bank 
can deal with specific antigens and use the affinity between 
antibodies and antigens to generate specific immune response. 
If suitable antibodies have been defined in the immune bank, 
the artificial immune controller can destroy antigens as soon 
as possible. 
 
Concerning disk runout effects, as depicted in Fig. 6, 
gene-patterns of epitope corresponding to disk speeds of 2400, 
3600, and 5400 rpm, respectively are created by using fast 
Fourier transform and (1) and stored. 
 
B.  Antigen Integration 
In an immune system, phagocytes are cells that ingest and 
destroy foreign matter and are extremely useful as an initial 
immune system response to tissue damage. Phagocytes use 
primitive nonspecific recognition systems contact with 
antigens then destroy antigens by ingesting. It belongs to 
primary immune responses. In order to imitate phagocyte 
capability, we use a proportional-integral-derivative (PID) 
controller to realize our purpose in focusing and use repetitive 
controllers in tracking. 
 
Fig. 1. Illustration of the biological immune system. 
 
 
 
 
 
 
 
 
 
This study defines the affinity between antibody i  and 
antigens as 
⎩⎨
⎧=+
otherwise
iantibodyofparatopewithidenticalisepitopeif
kmi 0
        1
)1(  
(3)  
 
where k  is the sampling interval, Ni ,,2,1 K= , N  is 
number of antibody. When matches between the epitope and 
paratope strings reach matching threshold, the i th antibody 
will be triggered. The affinity ijm  between i th antibody 
and j th antibody is defined as 
 
[ ]
⎪⎩
⎪⎨
⎧=+
−−
otherwisekm
triggeredisantibodyithife
km
ij
km
ij
ij
)(
    
)1(
)(1
              
(4) 
where Nji ,,2,1, K= . The affinity between antibodies in 
the immune system implies memory capability.  
 
C.            Antibody Concentration 
As the change of affinities between antigens and antibodies 
or antibodies and antibodies, the antibodies’ concentration in 
organism are also be modulated. As the antibody 
concentration, the immune algorithm can memorize antigens 
that invaded a system before. Based on the concentration 
variation the immune controller can achieve control 
robustness. 
In immune networks, the concentration of the i th antibody 
is defined as [5] 
)()()()()()(
1 1
kadmkakmkakmkA i
N
j
N
l
iilliiiji ⎟⎟⎠
⎞
⎜⎜⎝
⎛ −+−= ∑ ∑
= =
          
(5)    
[ ])(5.01
1)1( kAi ie
ka −+=+
                                 
(6) 
 
where Nlji ,,2,1,, K= . In (5), iA  includes four terms. The 
first term represents the stimulation of the paratope of an 
antibody of type i  by the epitope of an antibody of type j . 
The second term represents the suppression of an antibody of 
type i  when its epitope is recognized by the paratope of 
type l . The third term represents stimulation of the paratope 
of an antibody of type i  by the epitope of an antigen. The 
fourth term represents decrease of an antibody of type i . 
Equation (6) ensures the concentration to converge. 
The last step in the artificial immune network is to increase 
concentration of antibodies for eliminating antigens. When 
the antigen is recognized by antibody of type i , the type i  
reaction will be triggered. Three types of disturbances and 
runout have been defined as antigens, and we also have saved 
each reaction in the immune bank. By calculating affinity 
between different antibodies and antigens, the reaction will 
eliminate disturbance until the error criterion is satisfied. 
 
 
III. EXPERIMENTAL RESULT 
 
Fig. 7 depicts this experimental setup with the flowchart of 
the 2-input 1-output system, where both disk vibration signal 
and piezotube displacement are sensed by a laser Doppler 
vibrometer and sent to a computer. The artificial immune 
algorithm is computed to generate control command. In order 
to drive a piezotube. Piezotube have been used in atomic force 
microscope and scanning tunnel microscope. The tube, with 
outer or inner electrodes is segmented into four quadrants. 
Applied voltages can generate independent displacements in 
three directions. To deal with positioning control, this work 
identifies piezotube actuators first. The piezotube is 
metallized on the outer and inner surface and is poled in the 
radial direction [6]. Electrodes of piezotube are on its curved 
surfaces, and outer or inner electrodes segmented into four 
quadrants. In general, the inner electrode surface of piezotube 
is at ground voltage. We need a pair of voltages that have 
equal values but opposite phases. Therefore, one of them has 
to pass through an inverter and connect with the piezotube.  
The control algorithm adopts a PID controller in 
preliminary control, to imitate phagocyte capability. The 
antibodies are created by different disks when we changed. 
We need to prepare suitable PID gains for different disks and 
save them in an immune bank. In this experiment, we create 
four kinds of  
 
TABLE I  
IMMUNE DATABASE 
 PK  iK  DK  
Antibody 
1 0.6443 0. 0448 0.015 
Antibody 
2 0. 69005 0. 047055 0. 016055 
Antibody 
3 0. 666 0. 048 0. 016 
Antibody 
4 0. 52 0. 043 0. 0151 
 
 
antibodies as shown in Figs. 8 to 11 where the average error is 
25 % and saved in immune database as shown in Table 1. 
 
When we choose a disk at will, the established immune 
algorithm will find the highest affinity antibodies from the 
immune bank. The experimental result is shown in Fig. 12, 
where the positioning error is significantly reduced after the 
immune controller is turned on at 1s. The antigen is close to 
1 1.02 1.04 1.06 1.08 1.1 1.12 1.14 1.16 1.18 1.2
-500
0
500
1000
1500
Time (sec)
D
is
pl
ac
em
en
t (
nm
)
Output
Reference Input
1 1.02 1.04 1.06 1.08 1.1 1.12 1.14 1.16 1.18 1.2
-500
0
500
Time (sec)
E
rro
r (
nm
)
 
Fig. 11. Antibody 4. 
0 0.5 1 1.5 2 2.5 3 3.5 4 4.5 5
-1500
-1000
-500
0
500
1000
Time (sec)
(a)
D
is
pl
ac
em
en
t (
nm
)
Output
Reference Input
0.95 1 1.05
-1000
-500
0
500
Time (sec)
(b)
D
is
pl
ac
em
en
t (
nm
)
4.9 4.92 4.94 4.96 4.98 5
-1000
-500
0
500
Time (sec)
(c)
D
is
pl
ac
em
en
t (
nm
)
0 0.5 1 1.5 2 2.5 3 3.5 4 4.5 5
-500
0
500
1000
Time (sec)
(d)
E
rro
r (
nm
)
 
Fig. 12. Experimental results of PID control with immune algorithm. 
1 2 3 4 5 6 7 8 9 10
-0.5
0
0.5
1
1.5
2
2.5
3
Loop Times
C
on
ce
nt
ra
tio
n
Antibody 1
Antibody 2
Antibody 3
Antibody 4
 
Fig. 13. Comparison among antibody concentrations. 
 
IV.  CONCLUSION 
As precision output displacement is demanded, the 
controller will be more sensitive to environment. This study 
develops the artificial immune algorithm for the sake of 
control robustness. This study concludes the following: 
 
1. The immune bank is helpful to control robustness of 
artificial immune controllers, but it will take more time 
to search suitable antibody when we define more datum 
in the immune bank. This shortcoming will cause 
system transient performance to drop. 
2. It is important to reorganize paratope and epitope. If the 
definition of paratope and epitope are obscure or similar, 
the immune controller will generate bad immune 
response. 
3. In experimental results, PZT actuators can generate high 
precision motion, and the artificial immune algorithm 
can realize control robustness. 
 
 
ACKNOWLEDGMENT 
This work was supported by National Science Council in 
Taiwan under Grant No. NSC95-2221-E009-010.  
 
 
REFERENCES 
[1]  N. K. Jerne N.K., "The immune system", Scientific American, vol. 
229, no. 1, pp. 52–60 1973. 
[2]  Y. Ishida and N. Adachi,“Active noise control by an immune 
algorithm: adaptation in immune system as an evolution” 
Proceedings of the IEEE Conference on Evolutionary 
Computation, ICEC, pp. 150–153, 1996. 
 [3]  A. Ishiguro, Y. Shirai, T. Kondo, and Y. Uchikawa, “Immunoid: 
An Architecture for Behavior Arbitration Based on The Immune 
Networks”, IEEE/RJS International Conference on Intelligent 
Robots and System, vol. 3, pp.1730-1738, 1996. 
[4]  D. H. Kim,"Tuning of PID controller using gain/phase margin and 
immune algorithm", Proceedings of 2005 IEEE Midnight-Summer 
Workshop, pp.69–74, 2005. 
[5] P. H. Richter, “A network theory of the immune system”, 
European Journal of Immunology, vol. 5, pp. 350-354, 1975. 
