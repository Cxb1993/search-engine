2 
二、緣由與目的 
 
目前 CAM 系統在規畫曲面或輪廓加工
(contour machining)之刀具路徑(tool path)時，
僅考慮在理想的刀具路徑下，刀具相對工件
可能產生之幾何誤差，如弦誤(chordal error)，
扇形殘餘誤差(scallop error)等[1,2,3]。然而實
際上，由於 CNC 工具機本身的缺陷及其周遭
環境之限制，加工後之工件產生了曲面或輪
廓誤差。這些誤差來源可歸納為三大類：(1)
運動控制誤差(由 CNC 系統及工具機機構之
動態特性所產生之誤差)[4,5]，(2)機構誤差(由
於工具機機械結構本身之缺陷如齒輪背隙、
滑軌或滾珠螺桿彎曲等所產生之誤差)[6,7]，
及(3)切削效應誤差(由於切削之效應如切削
力造成刀具或夾具之變形造成之誤差)[8,9]。
在上述的誤差源中，運動控制誤差在高速輪
廓加工中，為特別重要的誤差源。本計畫係
針對此一類誤差源，做進一步之探討與分析。 
消除運動控制誤差係目前設計 CNC 系統
之重點，雖然很多的軌跡插補法則[10,11]與伺
服控制方法[12,13]不斷地被提出來，完美的軌
跡運動控制仍然無法達到。此外，目前 CNC
系統對工具機之使用者(包含 CAM 系統)而
言，如同一個黑盒子。因此，目前 CAM 系統
並不擁有工具機控制機構之參數，無法據以
模擬並預覽刀具實際之運動路徑，進而修改
刀具路徑以預先消除誤差。這大大地降低了
CAM 系統與 CNC 工具機之整合效果。本研
究之目的即在建立 CNC 工具機之運動控制誤
差模型。此模型可做為 CAM 系統預覽實際刀
具運動路徑之依據，並可據以修改加工參數
或刀具路徑以補償輪廓加工誤差。 
一般 CAM 系統並無法得知 CNC 工具機
相關之系統參數。即使是工具機製造廠(非
CNC 製造商)，也僅能做特定參數(如 PID 增
益)的調校(tuning)，並無法得知詳細的系統動
態參數(如驅動機構的階數及參數等)。依據
圖一所示之 CNC 工具機系統方塊圖，吾人可
得知的僅有離線(off-line)的設定軌跡(如直
線、圓弧)與進給率，以及線上(on-line)實際
運動時透過編碼器或光學尺截取到的位置訊
號。圖二為 CNC 部分較詳細的系統方塊圖。
其中，我們僅能即時得到個軸的輸出座標位
置(px, py)；其他即時資訊如輸入參考位置(rx, 
ry)、控制訊號(ux, uy)等，係 CNC 內部的數值
訊號，無法得到。因此，一般需滿足輸入訊
號豐富度(signal richness)的系統辨識(system 
identification)技術並不能用於此。 
本計畫採用的輪廓運動誤差模型，並非
建立在明確的系統模型(如一 n 階轉移函數)
及精確的系統參數。而是以特定之曲線函數
(spline)，描述不同誤差源所對應之輪廓誤差
基本分量，然後組合成實際輪廓運動時產生
的誤差。而在建立此輪廓誤差模型及其基本
分量時，僅需離線規劃的軌跡(直線或圓弧)
與進給率，以及線上截取到的位置訊號。 
本計畫首先揭露之模型，輪廓運動誤差
係刀具路徑、進給率、驅動機構參數、與磨
擦阻撓等之函數。因此，對不同的刀具路徑
與進給率(由工具機使用者或 CAM 系統決定)
與不同的伺服驅動機構參數與磨擦阻擾(因不
同的工具機而異)，就會有不同的結果。然而，
CNC 與工具機之製造商並不會(或無法)提供
伺服控制、驅動機構、與磨擦阻撓之相關參
數。 
基於此，本計畫進一步修改輪廓誤差模
型，其做法是：依不同之基本運動(直線或圓
弧)，推導出不同的輪廓運動誤差模型，再依
據三種不同誤差源(參數不一致、磨擦阻擾、
路徑曲率)之特性，以特別設計之測試方式將
不同誤差源所對應之輪廓誤差基本分量分離
出來，並以曲線函數儲存於 CAM 系統中。依
據此輪廓誤差模型，本計畫建立一個 CAM 系
統：能以基本測試方式分離並求得誤差源，
然後能離線預先模擬工具機實際運動路徑及
預期之輪廓誤差。 
 
三、研究方法 
3.1 輪廓誤差模型 
 
如圖二之 CNC 系統(包括驅動機構、位置
和速度迴路)，其動態模型之通式如下 
xxxxx dsHrsGp )()( += , (1a) 
yxyyy dsHrsGp )()( += , (1b) 
其中，(rx, ry)是輸入位置，(px, py)是輸出位
置，(dx, dy)是磨擦阻擾，(Gx, Hx)及(Gy, Hy)分
別是系統 x 軸及 y 軸之轉移函數。 
 
4 
四、實驗結果與討論 
 
本計畫實驗部份使用一台 CNC 綜合加工
機，其三個進給軸採用伺服馬達、直結式傳
動、配置光學尺。 
 
4.1 輪廓誤差辨識與分離 
 
4.1.1 直線運動 
 
首先，依不同進給率 f 做 θ = 85o 及 5o 的
直線測試運動(如圖三及圖四)，除證明εd 與 f 
無關，並可分別得到εdx 和εdy。其次，依不同
進給率 f做 θ = 45o的直線測試運動，除證明εm
與 f 成正比關係，並得到εmb。 
最後以 spline 曲線(圖五)近似誤差分量
函數(εdx, εdy, εmb)，並儲存相關曲線參數於系
統中。 
 
4.1.2 圓弧運動 
 
依不同進給率 f 做做全圓運動測試(如圖
圖六)。首先，在極低進給率下(可忽略εc 和 
εm)，得到εd。由實驗結果看出：摩擦干擾的
作用在 0o、90 o、180 o 和 270o 附近是較大的
地方( 摩擦干擾的方向突然改變)。 
其次，在高進給率下(扣除εd 後)，得到
(εc+εm)。穩態時，(εc+εm)之平均值為εc，殘
餘的周期函數部分為εm。由實驗結果看出：
針對本實驗設備， 0≈mε ，故可忽略εm。然後，
由兩組(f，εc)代入式(3b)，求得系統之ζ與ωn 
(本實驗設備，ζ = 1.2，ωn = 5.8 rad/s)。理論
上由式(3b)得到的εc 為穩態值，針對其暫態
值，我們簡化其為一線性變化(見圖七，變化
時間為 2/ζωn)。 
最後以 spline 曲線(圖七)近似誤差分量
函數(εd, εc)，並儲存相關曲線參數於系統中。 
 
4.2 輪廓誤差預覽與補償 
 
4.2.1 輪廓誤差預測 
 
基於鑑定出的基本輪廓誤差分量，我們
可以使用式(4)、(5)來預測輪廓誤差。圖八及
圖九分別為兩個不同直線運動的實驗與預測
結果的比較。而圖十及圖十一則分別為兩個
不同圓弧運動的實驗與預測結果的比較。很
明顯地，這些實驗可證明所提出的輪廓誤差
模型之準確性。 
 
4.2.2 輪廓誤差補償 
 
基於本計畫準確的輪廓誤差模型，我們
可建立能模擬實際運動軌跡及輪廓誤差之
CAM 系統(參見圖十二)，進而可依據此預測
結果在 CAM 系統上修改加工參數或刀具路
徑，達到提升輪廓加工之精度與效率的目的。 
最基本的方式為：於 CAM 系統上離線模
擬與調整進給率 f，使輪廓誤差的最大值剛好
滿足加工的要求(如 ≤)max(ε 2µm)。這種方式
最為簡單與可行。 
另一個較複雜的方式是：修改刀具路徑
使其成為模擬刀具路徑相對於原定參考路徑
之鏡射(參見圖十三)。本計畫嘗試採取這種方
式，但並無法得到預期之補償效果。分析其
原因如下： 
(1) 採用此誤差補償模式，比較適合於偏靜態
或穩態的誤差源[15]，並不適用像本計畫
所針對的高速運動下之動態誤差源。 
(2) 修改後的參考路徑係一長串的連續線
段，與原參考路徑之動態特性與時間長
短，已明顯不同。例如，原參考路徑僅一
條圓弧，修改後的參考路徑卻成為數十條
連續直線線段。前後兩者除了動態特性不
同，完成輪廓加工所需的時間也會不同(因
CNC 系統運作時，線段與線段之間有不確
定的時間延遲(time delay)，雖然不大，但
累積數十次便成大問題。 
 
五、結論 
 
本計畫經由理論與實驗證明：在 CNC 工
具機輪廓運動的控制時，輪廓誤差為特定基
本誤差分量之線性組合。其中，直線運動之
誤差分量為(εmb, εdx, εdy)；圓弧運動之誤差分
量為(εc, εmb, εd)。 
基於所建立之輪廓誤差模型，本計畫設
計特別之測試方式將不同誤差源所對應之誤
差基本分量分離出來，並以曲線函數儲存於
CAM 系統中。然後，能離線預先模擬 CNC
工具機實際運動路徑並預測輪廓誤差。此精
6 
位置
控制
CNC
rx 速度
控制
進給
機構
位置
控制
ry 速度
控制
進給
機構
vy
p
y
d y
d x
p
x
p
y
vx
p
x
伺服控制器
ux
uy
 
圖二：CNC 定位系統方塊圖 
0 0.1 0.2 0.3 0.4 0.5
-1.5
-1
-0.5
0
0.5
1
1.5
1000 mm/min
2000 mm/min
4000 mm/min
t (s)
 
圖三：直線運動，θ = 85o (ε ≈ εdx) 
 
0 0.1 0.2 0.3 0.4 0.5
-3
-2
-1
0
1
2
圖四：直線運動，θ = 5o (ε ≈ -εdy) 
0 0.1 0.2 0.3 0.4 0.5
-3
-2
-1
0
1
2
3
圖五：直線運動的εdx、εdy 和εmb 
 
0 50 100 150 200 250 300 350 400
-10
-8
-6
-4
-2
0
2
4
6
8
0 1 2 3 4 5 6 7 8
-10
-8
-6
-4
-2
0
2
4
6
8
 
圖六：圓弧運動，r = 20mm 
 
無研發成果推廣資料 
其他成果 
(無法以量化表達之成
果如辦理學術活動、獲
得獎項、重要國際合
作、研究成果國際影響
力及其他協助產業技
術發展之具體效益事
項等，請以文字敘述填
列。) 
論文撰寫中 
 成果項目 量化 名稱或內容性質簡述 
測驗工具(含質性與量性) 0  
課程/模組 0  
電腦及網路系統或工具 0  
教材 0  
舉辦之活動/競賽 0  
研討會/工作坊 0  
電子報、網站 0  
科 
教 
處 
計 
畫 
加 
填 
項 
目 計畫成果推廣之參與（閱聽）人數 0  
