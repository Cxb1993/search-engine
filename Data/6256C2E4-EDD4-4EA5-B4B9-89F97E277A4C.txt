 2 
計畫成果摘要 
臺灣史研究在近年成為顯學，對臺灣相關之文字資料的需求也越來越大。
從 2002 年開始，臺大圖書館開始不斷有系統的建立與明清時代臺灣史相關的第
一手全文資料。但是，建立資料僅是第一步的工作，更大的挑戰在於如何使用這
些資料。檢索查詢當然是不可或缺的，一些輔助歷史學者運用全文史料的工具也
是必要的，本計畫的目標是思考是否可能經由電腦技術和大量的全文歷史資料，
使得歷史研究產生新的方向與質的變化。 
本計畫從蒐集、全文數位化明清時期的第一手臺灣史料開始：我們將原本
分散各典藏單位、已刊印文獻中的臺灣史料匯集於一處，不僅讓歷史學家在蒐集
研究素材上能節省許多時間及人力，從這批從未匯集過的臺灣史料中浮現的整體
圖像，或許也能讓研究者發現當前研究中未能觸及之意義。值得一提的是，我們
蒐集的古契約文書，已累積到三萬件的總量，已經是臺灣史研究者能自由取用的
最大古契書資料庫，從未有人研讀過這麼多古契書，我們相信必然會對古契書研
究造成正面的影響。本計畫的第二步，是為這批臺灣史料建置全文檢索系統，我
們建置了「臺灣歷史數位圖書館」（Taiwan History Digital Library，簡稱 THDL）
[1]，已於 98年 3月起開放學術免費使用，至今已有兩百位以上的使用者在定期
使用。THDL提供全文檢索與 metadata檢索，讓研究者逐字檢視的檢索需求變成
可能，相對於僅提供 metadata檢索的歷史資料庫而言，在學者最關心的「能否找
到所需資料」一問題上，檢索回收率（recall）有很大的提升。THDL 也提供了
其他輔助檢索的工具，例如：自動幫使用者記錄檢索歷程、允許使用者將找到的
資料儲存於自訂名稱的個人文件集、以顏色標示使用者想同時觀察的多個關鍵詞
等。而為支援歷史學者常需在研究成果論文中引用史料的原始出處，THDL更自
動為每件史料產生符合歷史領域引用文獻格式的原文參照資訊（reference）。 
在與歷史學者交流的經驗中，我們發現歷史學家常有「了解檢索結果全貌」
的需求，因此他們常會期待「沒有缺漏的檢索系統」（100% recall），並期許自己
能「閱讀全部的檢索結果」。這與現代資訊檢索（Information Retrieval, IR）中假
設使用者僅會取用檢索結果中的一部份極為不同。而即使是在人力無法於短時間
內閱讀的大量檢索結果之下，歷史學者仍然有「了解檢索結果全貌」的需求。因
此，我們發展出了一個與 IR 領域截然不同的方法論：「檢索後分析」，意思是，
我們將檢索結果視為一個有意義的文件集 (regard query result as a 
 4 
建置成網站：「臺灣史常用中西曆日期對照查詢系統」[2]與「清代臺灣文官職表」
[3]。我們在「臺灣史常用中西曆日期對照查詢系統」中加入了臺灣於明清兩朝
同時並行的多個政權所使用的不同計日方式，例如清朝初年與在台灣的鄭氏政權
共存，分別使用「清康熙」與「明永曆」年號來計年、計日；清朝晚年也由於開
始與西方各國交流，開始有些外交史料會以西元計年，與中國的同治、光緒並行；
而清光緒二十一年臺灣割讓給日本後，日本的「明治」年號更直接改變了部分史
料的計年計日方式。這些不同政權的年份、日期對照，讓研究者常需查詢對照表，
尤其中國的日期使用陰曆、日本與西元計日使用陽曆，兩者沒有直接的對應，造
成研究者轉換日期時的不便，因而我們建置了這樣的線上參考工具，讓臺灣史研
究者方便進行日期轉換。而「清代臺灣文官職表」是依據「臺灣地理及歷史卷九
官師志 第一冊文職表」一工具書所建立而成[4]，此書原本是依官名查詢曾任此
官的人，但當想查詢某人曾任哪些官職時，需得翻遍整本書才能得到答案，因此
我們將書中的資訊：官職、任官者、任期起迄…建立成網站，並且提供「時間查
詢」、「人名查詢」、與「官職查詢」的彈性功能，使此書更為彈性好用。 
本計畫三年下來累積的成果也撰寫成多篇學術論文，在國際會議上發表。
例如 THDL的資料與系統工具建置與「檢索後分析」的觀念，我們便發表在 2007
年的「亞洲數位圖書館國際會議」(The International Conference on Asian Digital 
Libraries, ICADL) 之中，並獲得 reviewers及與會人士的一致好評[5]。我們也於
2009年獲邀，到逢甲大學歷史與文物管理研究所、與台灣古文書學會主辦的「第
三屆台灣古文書與歷史研究學術研討會」發表論文，針對 THDL 中古契書的蒐
集情況與功能介紹做說明[6]。而針對古契約文書的深化分析，我們發表在數位
人文國際會議（Digital Humanities 2009），吸引了許多國外數位人文學者的興趣
[7]。在 2009年末，台大數位典藏研究發展中心舉辦的「第一屆數位典藏與數位
人文國際會議」（The Conference of Digital Archives and Digital Humanities, 
DADH）中，我們也將 THDL的資料前置處理程序整理發表，獲得與會歷史人文
學者的熱烈迴響[8]。 
以下為本計畫三年來成果的詳細報告。 
 
 6 
冊。 該批資料年代起自清乾隆 6年(1741)迄於民國 7
年(1918)，是清朝至民國初年臺灣中部經濟關係
文書，為研究臺灣中部開發史、民族關係史以及
土地制度等主題之珍貴第一手資料。 
古契約
文書 
臺灣大學
圖書館典
藏臺灣南
部古契書 
84件  
 
臺大圖書館所收藏之臺灣南部地區古契書包括
臺灣南部麻豆、蕭壠社、嘉義地帶之古契書，該
批古契書反映出早年臺灣南部地區地權變動的
樣貌、以及相關的社會現象，為珍貴的本土研究
資料。年代起自清乾隆 8年(1743)，迄於明治 38
年(1905)。 
古契約
文書 
臺北市文
獻委員會
典藏古契
書 
120件 臺北市文獻委員會典藏之古契書為臺灣北部相
關的古契書；包括淡水廳、艋舺等地的古契書。
年代起自雍正元年(1723)，迄於明治 36年(1903)
年。 
古契約
文書 
竹塹北門
鄭利源號
古契書 
359件 「竹塹北門鄭利源號古契書」為清代新竹地區社
會經濟發展演變之重要史料，年代起自清乾隆 38
年(1773)，迄於明治 29年(1896)年。 
報紙 漢文臺灣
日日新報 
由 1905年創刊
至 1911年停
刊，全文約三千
餘萬字 
《臺灣日日新報》係於西元 1898年由日人守屋
善兵衛併購『臺灣新報』與『臺灣日報』而成，
為日本治理臺灣時期，發行量最大、延續時間最
長的報紙，充分反映當時社會時事現況。 
論述 臺灣文獻
叢刊 
共 309種、596
冊，近四千萬字 
收錄自唐、宋、元、明、清以下迄至日治時期有
關臺灣的著述。其主題範圍包含臺灣方志、明鄭
史料、清代檔案、私家著述、私人文集。上溯南
明史集，旁及荷蘭、美國、英國、日本有關台灣
史料。 
拓碑 臺灣古拓
碑(含部分
琉球拓碑) 
含地理、建築、
教育、宗教、歷
史、交通、行
政、文化、慈
善、建設..等類
共 188件 
於 86年 12月自臺大人類學系接收日據時期臺北
帝大蒐集之臺灣地區古拓本，內容含「臺灣府城
碑」、赤崁樓之「報恩閣碑」、臺南「龍山寺碑記」、
臺南開元寺「鄭成功之書」等（含琉球拓本）共
200餘幅，其中已有不少實物已毀損不存者，因
此這批早年拓本彌足珍貴。該批拓本資料之年代
起自康熙 32年(1693)，迄於昭和 4年(1929)。 
 
表 1列出本計畫第一年結束時，已經取得的臺灣歷史資料素材，累計已有超
過八萬件的臺灣史料。然而，為了能密集並深入地探討如何利用這些珍貴的全文
 8 
標校全文[11]。計畫結束後，臺大圖書館又陸續收錄、增建，現在總計累積了 37,817
件明清臺灣行政檔案的全文與 metadata，納入本計畫收錄的臺灣史料範疇。 
這批「明清臺灣行政檔案」的內容包括了：官員向皇帝上奏的奏摺、皇帝所
頒賜的上諭、皇宮內修史機關所蒐集或撰寫的國史材料、皇帝起居注、宮內外各
級行政機關之間往來的上下行或平行文書、外國關係史料、方志、官員的私人筆
記文集……等，以往是收藏在內閣、軍機處、國史館、總理各國事務衙門等宮內
外的行政機關之中。此文獻集最後選錄的資料，總計來自於 235個不同出處，較
大宗的有：宮中檔 (康熙、雍正、乾隆、嘉慶、道光、咸豐、同治)、月摺檔 (咸
豐、同治、光緒）、軍機處檔 (乾隆、嘉慶、道光、咸豐、同治、光緒）、軍機處
剿捕檔 (嘉慶、道光、咸豐、同治)、清代起居注冊 (道光、咸豐、同治、光緒）、
中美關係史料 (嘉慶、道光、咸豐、同治、光緒)、兩朝上諭檔 (咸豐、同治、光
緒、宣統）。完整的出處列表，請見附錄一。 
 古契約文書 
台灣古契約文書是清代台灣平民遺留的第一手史料。藉由古契約文書記錄的
訊息，史家或得以深入或重構台灣歷史上經濟活動、族群關係與土地交易等議
題，其重要性不言可喻。然而，當前台灣的古契書大多分散在不同典藏單位與私
人收藏家手中，更有許多契書尚未公開。即便如此，台灣史學界已經能利用零散
的契書，對清代台灣之土地交易與漢番關係等課題，做出相當精彩的研究。我們
認為，若能將這些契書加以集中、串連，其所透露的歷史資訊將更為豐富而有意
思。從中浮現的整體圖像，或許也能讓研究者發現當前研究中未能觸及之意義。 
有鑑於此，臺灣大學圖書館與臺大數位典藏研究發展中心合作，將文建會委
託國立臺中圖書館、臺大圖書館、及台中縣立文化中心所做之全文古契書資料集
中在一起，再加上臺大人類學系的古契書資料，以及臺大圖書館後續從已刊印資
料中中蒐集、增建的古契書，現在總共已經累積 30,820件，均已建置打字全文
與詮釋資料，應已是台灣古契書研究者可以盡情探索的最大資料集。 
這些契書的數位化工作得以進行，乃有賴近幾年國家努力推動各項數位化計
畫的成果。當中最主要的便是行政院文化建設委員會「國家文化資料庫」建置計
畫，其指導補助了三十四項古文書數位化計畫、總計完成了超過三萬件古文書的
 10 
專輯、台灣古書契、臺北文獻、高雄縣土地開墾史、水沙
連埔社古文書選輯、草屯鎮鄉土社會史資料、道卡斯新港
社古文書、大基隆古文書選輯、凱達格蘭古文書、十三行
博物館館藏古文書 、後勁記事、三峽鎮志、二林鎮志、
噶瑪蘭西拉雅古文書、臺北縣志開闢志、臺灣風物、台北
文物、臺中縣大甲溪流域開發史、大高雄地區開發論文研
討會論文集、屏東文獻雜誌、永靖鄉土資料研究集、高雄
縣平埔族史、竹山鎮志、沙鹿鎮志、咸菜甕鄉街的空間演
變、彰化市志、先民拓土的歷史見證、臺北州街庄誌彙編、
左營歷史照片暨古文書、西螺鎮志、苗栗文獻、大肚鄉志、
中國土地文書目錄解說、雙溪鄉志（共 53個出處來源） 
臺灣大學人類學系  原件資料  臺灣大學人類學系藏古文書  362 
台中縣立文化中心 已刊印資料 台中縣立文化中心古文書、台灣中部平埔族古文書 944 
總契書件數      30,820 
 
這些契書的內容含括明清以降，台灣的各類契約文書，其中又以土地契約為
最多，包含買賣、借貸、典當、鬮分等契字；但亦包括非關於土地的契約，如婚
姻契；此外還包括了其他相關之公私文書，如契尾、丈單、執照、呈、稟、理由
書、證據書類文書……等。根據王世慶先生的估計，台灣各公私機關擁有之古文
書約有兩萬件[14]，但就目前學界蒐集的情形看來，應該還不只於此。無論如何，
目前集結的三萬件契書是相當可觀的數量，應該已是台灣古契書研究者可以盡情
探索的最大資料庫，對於研究者取得資料上應有很大的幫助。 
 
 12 
料檢索兩項功能，可視研究者的需要，互相搭配使用。下圖便是以「金廣成」1
而若想進一步限制關鍵詞出現的欄位，可點選「進階檢索」連結，便可指定
於「標題」、「作者」、「出處」、「分類」、「中曆年份」、「西元年份」等欄位進行檢
索，亦可搭配全文欄位一同檢索（如圖 2）。 
進
行檢索後的畫面。在「文件檢索」框中輸入的關鍵詞，會與史料的全文與所有
metadata欄位比對，傳回符合者。 
 
圖 2  THDL的進階檢索 
研究者有時或需以多個詞彙聯合檢索、或需排除某詞彙出現的文件，THDL
也提供了「+」與「-」兩個符號來讓研究者得以彈性地搭配、組合查詢詞彙，以
達到這樣的功能。例如 以「+金廣成 +開墾」進行檢索，系統會回傳「同時含有 “金
廣成”、又含有 “開墾”」的契約文書，而「+金廣成 -開墾」則會在「含金廣成」
的契書中、排除「含開墾」的契書。 
THDL除了能進行全文檢索與詮釋資料（metadata）檢索，更建置了許多便
於研究者查找資料過程中所需的工具。例如 THDL提供了四種檢視史料內容的
呈現方式：「檢索結果」是剛檢索完的預設呈現模式，僅列出回傳史料包含了關
鍵詞的部分內容，限制史料呈現的長度，以便使用者快速閱覽回傳文件（圖 3）；
「逐篇檢視」模式會將文件的標題列表置於畫面左側，文件之完整全文置於右側
                                                 
1「金廣成」為一墾號，開墾今日的關西地區。 
 14 
 
圖 4  「逐篇檢視」呈現模式 
 16 
 
圖 7  「列印全文」呈現模式 
 
THDL也對於研究者查找資料的過程，以及找到的資料，提供了簡單的管理
工具。「最近幾次檢索」（請參見圖 1左上方區塊）自動紀錄了最近四十次的檢
索歷史，讓研究者便於回顧查找資料的過程。「個人文件集」（請參見圖 1左上
方區塊）則讓研究者可將有用的資料儲存在自訂名稱的文件集中，下次想調閱資
料時便不需重新檢索，尤其當研究者正為特定主題蒐集資料時，更可陸續將不同
時候、不同狀況下找到的資料加入文件集中。為了讓使用者可以在檢索結果中觀
察非檢索條件的其他關鍵詞的出現情況，THDL更支援了「term highlighting」功
能，讓使用者可以指定想觀察的多組關鍵詞，THDL便會在檢索結果中以不同色
塊呈現這些關鍵詞出現的位置，如圖 8。 
 18 
 
圖 9  THDL收錄史料的「原文參照」資訊 
 
 20 
方式將這些標準答案集中的專有名詞標示出來，來當作整個實驗的標準答案，明
清檔案的樣本總共有 1373 個人名。假設人工標示均為正確答案，以及沒有遺漏
掉任何的專有名詞的情況下，推估整個明清檔案可能的精確度（precision）和回
收率（recall）。表三為僅以詞夾子方式抽取人名與地名，不做任何原始資料過濾
與增加外部資源的精確度與回收率分析；表四為加入百家姓和地名關鍵詞（縣、
市、省、鄉、鎮、山、河、國）來幫助辨識；表五則為透過一些正規表示式以及
建置 blacklist來進一步過濾資料；表六則再進一步增加人名官銜以及標點符號辨
識之詞彙抽取的精確度與回收率結果。 
 
表 3  以詞夾子粹取詞彙 
（原始資料） 
 
表 4  以詞夾子粹取詞彙 
（加入百家姓和地名關鍵詞） 
 精確度 回收率 
明清(人) 49.3% 80.1% 
明清(地) 84.5% 90.3% 
古契書(人) 40.7% 76.1% 
古契書(地) 75.7% 83.4% 
 
 
表 5  以詞夾子粹取詞彙 
（增加資料過濾機制） 
 精確度 回收率 
明清(人) 50.4% 79.2% 
明清(地) 86.1% 88.9% 
古契書(人) 41.2% 75.4% 
古契書(地) 76.5% 82.7% 
 
表 6  以詞夾子粹取詞彙 
（增加人名官銜以及標點符號辨識） 
 精確度 回收率 
明清(人) 56.1% 77.1% 
明清(地) 87.0% 87.9% 
古契書(人) 45.6% 72.9% 
古契書(地) 77.6% 80.3% 
  
整個實驗結果總計在「明清臺灣行政檔案」裡共粹取出 74,825個人名和 6,306
個地名，而在「古契書」中共找出 28,358個人名和 4,132個地名。 
從上表可知，這些結果的 precision 並不足夠精確，當中有誤判為詞彙的情
況，因此我們規劃了一個人工驗證機制，請熟悉這批史料的專家做人工的驗證，
刪除其中誤判的詞彙，若該詞彙的確是專有名詞，只是類別不正確，例如人名被
 精確度 回收率 
明清(人) 46.1% 82.4% 
明清(地) 77.3% 92.7% 
古契書(人) 38.6% 78.3% 
古契書(地) 71.3% 85.2% 
 22 
四、檢索後分析：助研究者掌握檢索結果的全貌 
歷史學家對於檢索所得的史料，常希望能全部閱讀完，也就是說，他們有「得
知檢索結果全貌」的需求。歷史學家下檢索的條件，反映了他們心中有興趣研究
的議題（或是議題的部分），他們希望從檢索回傳的史料中，找到與其研究議題
有關的線索，因而希望閱讀全部的回傳史料，將當中所有有用的線索串連起來。
然而，在全文檢索的系統下，關鍵詞檢索往往回傳了超越人力能於短時間內閱讀
完的文件量（大約來說，超越一千件的文件若想一件件閱讀，就需花費數日了），
但是對於這樣大量的檢索結果，歷史學家還是有著「了解其全貌」、或至少「了
解其概貌」的需求。因此我們發展出「將檢索結果視為一個有意義的文件集」 
(regard query returns as a sub-collection [5]) 的方法論，利用資訊科技，快速整理、
分析這群史料在多個面向上的特徵分佈，讓歷史學者能對大量的檢索結果，同時
做多種面向的觀察，快速的掌握檢索結果的概貌，我們稱之為「檢索後分析」。
THDL 目前已經實做了三種「檢索後分析」工具：「檢索結果年代分佈圖」、「檢
索後分類」、「詞頻分析」。 
1. 檢索結果年代分佈圖 
史料的成文年代原本就是研究者很重視的史料特徵，這個工具以視覺化的折
線圖呈現檢索結果的年代分佈，讓研究者更能快速感受到檢索結果在時間軸上的
分佈狀況，如圖 10與圖 11。 
視覺化的方式可以讓人立刻掌握到整體的分佈。人通常會注意到特別高或特
別低的時間點，並且好奇是什麼造成了這樣的現象。例如圖 10是「明清臺灣行
政檔案」全體史料的年代分佈圖，圖中有幾處明顯的高峰，分別在 1780年末期、
1880年初期、與 1890年末期，熟知臺灣歷史的人可能便直接猜想到臺灣史上的
幾個重要事件：乾隆 51-53 年間（1786-1788）的林爽文事件、1884 年的中法戰
爭蜒燒到臺灣北部、與 1895 年甲午戰爭後將臺灣割讓給日本。這些事件的確都
是從清廷的角度看來、臺灣發生過最重要的事件之三，利用「整體」的概念、加
上年代分佈折線圖的呈現，的確有助研究者觀察一群史料（在這個例子是全體的
「明清臺灣行政檔案」）的整體現象，而圖 10中還有其他的高峰、以及低處（例
如 1690-1720 期間史料量似乎反常的少），或許能讓研究者進一步發問、並深入
 24 
 
圖 12  在「明清臺灣行政檔案」中檢索「林爽文」所得的年代分佈圖 
 
圖 13  在「古契約文書」中檢索「金廣福」所得的年代分佈圖 
 THDL也提供了兩個檢索結果年代分佈的比較，讓使用者能快速比較兩種不
同的檢索方式所得到的檢索結果在年代分佈上的差異，如圖 14。 
 
圖 14  比較兩個檢索結果的年代分佈 
2. 多維度的檢索後分類 
這個工具的概念，乃來自於杜協昌博士在其博士論文中提出的 Spotlight 
Cue[16]，是將檢索結果中的史料，根據歷史研究者重視的史料特徵（稱為「維
度」，是預先設定的），進行檢索後的分類，研究者可以透過這樣的分類，觀察回
傳史料在特定維度之下、其特徵的分佈狀況，尤其是否符合研究者原本的認知。
 26 
如何分佈於各個年份。可以觀察到：其中最早的契書年代是光緒十三年，有 13
件，接下來則到光緒十五年，有 15件契書，而到了光緒十六年則僅有 2件；總
計，清光緒年間共有 35件「含金廣成」的契書。而往後到了日據明治年間，又
有 26件契書。從「出處後分類」中可以看到，THDL內「含金廣成」的契書都
是出自於「臺灣總督府檔案抄錄契約文書」之中，有 60件是出自「永久保存公
文類纂」，1件出自「高等林野公文類纂」。而從「作者後分類」則可看到這 61
件契書中的人物、與其在契書中扮演的角色各為何，例如「張秀欽」的角色曾是
「墾首」、「墾戶」、「股夥」，甚至曾是「賣主」。最後，「契書分類」中則可初步
解析這 61件契書的性質，鬮分契有 27件、杜賣契有 13件......等。以上的檢索後
分類工具，或許能幫助研究者，在尚未開始閱讀回傳文件以前，便對「含金廣成」
的檢索結果有了大致的了解。 
 
圖 16在「古契約文書」中檢索「金廣成」所得的「檢索後分類」結果 
「檢索後分類」也可以當作 faceted search[17]使用：研究者可以對於有興趣
的分類進行點選，便可縮小檢索結果的範圍，例如若對林文察的檢索結果中、成
文於「清同治元年」的 72 件史料有興趣，便可點選，系統便會將原本的檢索結
果縮小到剩下「清同治元年」的 72 件史料。但「檢索後分類」的主要目的，仍
是協助研究者觀察檢索結果的整體分佈情況。 
3. 詞頻分析 
這個工具的概念也來自於 Spotlight Cue[16]的一種變形，是利用人名、地名
等專有詞彙在檢索結果中出現的頻率，進行各種量化分析。最簡單的頻率分析，
是統計詞彙出現的文件篇數（document frequency，簡稱 DF）與出現總次數（term 
frequency，簡稱 TF），這兩種頻率的應用方式，通常用來呈現檢索結果中最常出
 28 
體分析工具，便可以幫助有興趣的研究者繼續探究其原因。 
 
圖 18  在「古契約文書」內檢索「金廣成」所得的「詞頻分析」結果 
圖 18呈現的是在「古契約文書」中檢索「金廣成」所得的詞頻分析列表。
列表中顯示，在 61篇「含金廣成」的契書中，出現於最多件契書的人名是：「張
秀欽」（38篇）、「周元寶」（21篇）、「蔡華亮」（21篇）。利用 THDL的「年代排
序」功能，我們找到了其中最早的一篇進行閱讀，從中得知：張秀欽、周元寶、
與蔡華亮正是金廣成墾號於光緒十三年成立時的四股首之三，但第四位股首「徐
連昌」卻僅出現於 11篇契書中，與其他三位股首的出現件數具有明顯落差。而
作為第一股首的「張秀欽」也僅出現於 38篇契書，並未在全部 61篇當中佔有高
比例。再反觀地名的詞頻分析結果，出現於最多件契書的地名是：「十寮庄」（57
篇）、「竹北二堡」（56篇），佔了 61篇契書中的相當高的比例，顯示「竹北二堡
十寮庄」與金廣成具有密切的關係，或許便是金廣成墾號當年主要的開墾地區。 
在詞頻列表中點選任一人名或地名，也具有「縮小範圍檢索」之功用，系統
將回傳：此檢索結果中，含有該人名或該地名的契書，以供研究者查閱。例如在
圖 18中點選「徐連昌」，便可閱讀「含金廣成」的檢索結果中、「又含有徐連昌」
的契書，以進一步了解「徐連昌」在契書中出現的情況，或許有助於了解他在金
廣成各股東之中扮演的角色。 
 30 
的連結呈現（圖 19），提示研究者：在 THDL中還有其他與此件相關的契書存在，
研究者若循線探索，或許可以串連出有意思的契書脈絡，這樣的線索也或許作為
研究者探索這批大量契書的另一種途徑。 
 
圖 19  「相似文件」與「相關文書」之連結 
我們也運用 longest common subsequence（LCS）的演算法[19]，計算史料兩
兩之間的相似度，發現許多高相似度的文件，有些是同一份史料的複本，有些則
是 follow了相同的格式而寫成的文件。這些結果也以「其他相似文件」的連結整
合到 THDL系統內（圖 19），點選後系統會呈現與此件相似的其他史料，並且為
了讓使用者易於判讀其相似的部分，THDL會以深灰色的背景標示與基準文件相
似的字句，如圖 20。 
 
圖 20  THDL的「相似文件」 
根據上述自動重建的契書上下手契、鬮分契多份等關係，我們進一步將這些
關係串連，將散落在資料庫各處、卻記錄著發生在同一塊土地上的不同交易契書
串連在一起，重現一塊土地歷年的交易歷程，形成「land transitivity graph」，例
 32 
跨越了六十年，是關於永和山庄廖佳福家族的土地沿革。最初的一張契書是廖佳
福與人鬮分合股開墾的土地，過了五十多年後、在 1901 年時，他的孫子輩、共
四大房對家產進行了鬮分，而各房拿到土地之後，馬上在同年便有兩房進行房內
的鬮分，而各房的土地在往後的十年間陸續賣出，到最後只剩兩筆土地仍在廖家
人的手中（1905年的杜賣契與 1910年的鬮分契）。第二大的圖（圖 23）牽涉了
65 件契約，也是從一件合股鬮分的契約開始，是關於金福安墾號開墾文山堡的
情況。而最大的土地沿革圖（圖 24）非常有趣，首先是圖的形成只有兩層，以
1894 年的政府發給善化里西堡的墾戶林人文的墾照為首，這圖中所有其他的契
書均是林人文將土地分租給佃人的贌耕字。而我們找尋關於林人文的相關文獻，
發覺這塊土地開墾的故事，似乎並沒有歷史學者發現過、研究過。 
 
圖 22  第 3大的土地沿革圖，含有 36件契書 
 34 
六、「臺灣歷史數位圖書館」的資料前置處理程序 
值得一提的是，THDL 現在仍持續收錄更多數位化臺灣史料。分批納入新
的數位化資料一事，對於一般的數位圖書館並無特別困難之處，因為一般的數位
圖書館系統均當作資料之間是彼此獨立的，因此分批納入資料時，僅需將新的檔
案放置到系統的存放空間，再確認新的資料能被系統取用即可，不會產生額外的
困難。然而，在 THDL 中，新的數位化史料卻有可能跟已納入系統的舊有史料
發生關聯，而這樣的關聯，需得在新進資料的前置處理過程中同步被建立，以確
保 THDL系統的狀態於任何時刻均是 consistent的。這個與一般數位圖書館的不
同之處，恰好反映了 THDL 的設計理念：一個好的數位圖書館不應只是一群數
位化資料的集合，而應是一個資料與工具能緊密結合、提供真正能輔助研究之工
具的「數位研究環境」。 
一般的數位圖書館在納入資料時，往往不假設這些資料之間有顯著的關
聯，所以在納入分批建置的新資料時，除了重新製作檢索索引（re-index）之外，
並不需做太多的前置作業。然而，為了讓臺灣史研究者能更有效地利用與分析
THDL中的大量史料，我們發展了一系列的史料分析工具，這些工具需要對史料
作整體性的分析，所以 THDL 對資料的處理方式遠比一般的數位圖書館複雜，
尤其在輸入一批新資料的時候，需要與現有資料作整體、精細的前置處理，以預
先建立全體資料的分析資訊、與資料之間的關聯性，以讓研究者有能力深入大量
的史料，進行分析與研究。這個前置作業程序也反映我們打造 THDL 的原則，
即是一個好的數位圖書館不應僅是一個資料倉儲，而應是資料與分析工具之間無
縫的結合。 
THDL之所以能提供如此多樣化的整體分析工具，全有賴我們的「資料前置
處理程序」，對史料的數位檔案進行了細緻的整理。當史料的數位檔案建置完成、
準備被納入系統之時，它們需要經過一連串的處理程序，從原本打字全文（full 
text）與詮釋資料記錄（metadata records）的數位檔案形式，轉化成為 THDL系
統工具後續能夠利用的形式。因此，THDL的「資料前置處理程序」並不像一般
數位圖書館的作法，僅是把史料的數位化檔案納入系統而已。THDL除了納入史
料的數位檔，更重要的是會匯集全體史料的資訊，進行統計、運算，最終建立資
料的整體分析資訊，並建立資料之間的關聯性，兩者皆是不存在於個別史料的新
 36 
料集，補充缺乏的資訊，並統一記錄的格式，俾使所有資料集都能有一致同等豐
富的資訊。 
 日期書寫格式的正規化 
我們對所有的日期，進行了格式的正規化。史料中日期的書寫方式頗為多
變，「雍正七年閏七月三十日」可能寫成「雍正柒年閏柒月參十日」——年份不
以數字記年、而以干支記年，而中文數字的寫法亦有簡體、繁體之可能。為此，
我們先是發展了辨識各種日期寫法的方法，能夠辨識日期中的年號、年、月、日
各個區段，然後將年月日部分一律轉換為中式簡體的數字 2、以及阿拉伯數字兩
種約定的標準格式。我們並將辨識日期的方法應用在史料的內文之中，擷取所有
內文中提到的日期，並且也同樣轉換成為約定的標準格式。此外，為了較妥善地
處理臺灣因從清治時期跨越到日治時期，所產生農曆日期、陽曆日期轉換的問
題，我們也為所有中曆及日本曆的日期找出其對應的西元日期，以作為比較的一
致標準。以上對日期的各種轉換，都以XML tag attribute的方式，連同史料中日
期的原始寫法，一併記錄在 <Date> 這個XML tag之內 3
 契書分類一致化 
。 
各單位所建置的契約文書，雖都有分類相關的欄位，但對該欄位的內容意義
卻無一致的認定準則，造成 THDL雖然蒐集了上萬件的契約文書，卻難以對其
進一步處理、運用。因此我們參考了專家學者的建議，根據契約文書的性質、初
步訂定了簡單的十四個分類，並發展一套自動分類的方法，將 THDL的契書自
動分類到這些類別之中[20]，便得以針對其中的幾類契約文書，進行更細緻的特
徵擷取。像是對於買賣性質的「杜賣契」，便可進一步擷取買方、賣方的姓名；
而對土地相關的契書，便可擷取土地座落、四至界址、面積、大小、價格等的土
地特徵，這些特徵是用於建構契書關係的重要資訊，因此亦將之記錄於 XML之
中（如圖 27）。 
 人地名欄位之補充 
而有許多資料集的詮釋資料皆未建置人名、地名相關欄位，我們也發展了一
                                                 
2 指「一二三四五六七八九十」十字。 
3 我們在 XML中記錄日期的方式如下：<Date isComplete=”true” inGregorian=” 17290922” norm=”
雍正 7年閏 7月 30日” chNorm=”雍正七年閏七月三十日”>雍正柒年閏柒月參十日</Date> 
 38 
 
圖 26  將詮釋資料紀錄轉換為 XML  
 
圖 27  為土地相關契約文書擷取出更細緻的內容特徵 
 
II. 第二階段：匯集全部史料，建立整體資訊 
這個階段是 THDL之所以有能力提供整體分析工具的關鍵。在這個階段中，
我們匯集所有史料，進行群體的分析運算，最終得到整個文獻集的整體資訊。更
利用上一階段於史料全文中擷取的細緻特徵，進行特徵的比對，據此建構史料之
間的關係。 
THDL的多項整體分析工具均是基於同樣的「群體」概念：其所利用的資訊
並非僅來自於單一史料，而是集合了全體史料才能得到的。例如「詞頻分析」
工具當中，各個詞彙的 df是匯集了所有檢索結果中的史料才計算出來的，而為
了進一步計算 tq，甚至得匯集整個文獻集，得到詞彙 t 於整個文獻集出現的
總篇數後，才能計算。 
其中，「檢索後分析」的作法是，利用第一階段所擷取、標示於 XML 中的
 40 
料的分析資訊、以及史料間的關係，這些資訊都是 THDL 在資料前置處理程序
中，集合了所有史料，自行整理、產生的重要資產，不是用個別的史料便可以得
到的。這些資訊，連同史料的全文、詮釋資料，一起儲存於 THDL 的後端資料
庫之中，以供 THDL 系統前端的整體分析工具根據這些材料、進行加值運算，
為研究者呈現有幫助的分析結果；其示意圖如圖 29。例如將人名的統計資訊用
於詞頻分析，可幫助研究者了解該人物與此次檢索結果的相關性與相依性；又如
建構出的兩兩契書關係，可據以將同一塊土地的相關契書全部串連起來，形成成
契書關係圖，幫助研究者了解該塊土地歷年的交易全貌。 
 
圖 29  將「資料前置處理程序」中預先運算所得的資訊儲存下來，供 THDL的史料整體分析工
具運用 
 
THDL一直仍在持續地收錄更多數位化臺灣史料，目前大約每個月都會有一
千筆左右的新進史料加入 THDL。然而，新納入的史料可能跟已經存在於系統的
其他史料發生關聯，而新資料的加入也改變了 THDL 的「整體」資料，因此我
 42 
七、研究參考工具建置： 
 臺灣史常用中西曆日期對照查詢系統[2] 
由於臺灣歷經明朝、明鄭、清朝、日本等不同政權所統治，同一時間常有
不同政權同時存在，例如清朝初年與在台灣的鄭氏政權共存，分別使用「清康熙」
與「明永曆」年號來計年、計日；清朝晚年也由於開始與西方各國交流，開始有
些外交史料會以西元計年，與中國的同治、光緒並行；而清光緒二十一年臺灣割
讓給日本後，日本的「明治」年號更直接改變了部分史料的計年計日方式。這些
不同政權的年份、日期對照，讓研究者常需查詢對照表，尤其中國的日期使用陰
曆、日本與西元計日使用陽曆，兩者沒有直接的對應，造成研究者轉換日期時的
不便。為了讓不同政權的曆法之間能相互對應，我們建置了西元 1368 ~ 1912年
的明朝、明鄭、清朝、日本、西元曆之每日日期對照表，共約有 25 萬筆日期記
錄。我們為此對照表建置了一個查詢系統—「臺灣史常用中西曆日期對照查詢系
統」，讓研究者可以直接在此網站上查詢日期的對照。 
圖 30即為本系統首頁畫面。系統提供「中曆轉西曆」、「西曆轉中曆」兩種
方向的轉換查詢（請見圖 30的左半部功能），使用者可以用下拉式選單的方式，
選定欲查詢的年號、年份、月份、日期，便可執行「中曆轉西曆」的日期對照查
詢，也可以依格式輸入如「清康熙十年三月二十日」的字串，進行查詢。若使用
者只需要中曆月份對應的西元日期、或只需中曆年份對應西元日期的範圍，也可
以執行查詢。查詢的結果中，若有多個政權同時並行，則系統會將之並排顯示，
讓使用者了解各政權並行的日期範圍為何，例如圖 31顯示了與清朝並行的政權
共有哪些，其與清朝並行的時間為何。本系統亦提供對圖像直接點選的方式來查
詢日期對照，使用者只需點選畫面右半部的政權、朝代（明、清、太平天國、日
本），便可查詢該朝代的日期範圍，例如圖 31，就是在首頁中直接點選清朝所得
的結果，可以看到清朝對應的西元日期是從 1616-02-17到 1912-02-17，更可以看
到清朝共有哪些年號、各歷時幾年，每個年號都可以進一步點選、繼續查詢。 
我們建置的「臺灣史常用中西曆日期對照查詢系統」資料有兩項獨到之處：
（一）臺灣鄭氏政權（明鄭）在南明滅亡（永曆 16年）後仍繼續沿用永曆年號、
直到永曆 37 年，這個時間區段的日期資料是其他單位建置的中西曆對照表所沒
有的。（二）我們更根據「近世中西史日對照表」一書，將每年二十四節氣的日
 44 
 
 
圖 32  每年各個節氣的精確日期也已建置到資料庫內 
 
 清代臺灣文官職表[3] 
知道「誰、在什麼時候、當了什麼官」是研讀臺灣史料時常需要的有用資訊。
我們根據「台灣地理及歷史」卷九「官師志」第一冊「文職表」一書[4]，
建置了清代臺灣各行政區文官官職的歷任官員姓名、出身、與任期起迄年
代的記錄，亦參考了「臺灣慣習記事」中，臺灣在清代各時期的行政區劃
與隸屬關係，將之建置成本系統。 
在「文職表」一書中，使用的方式是需按照官職、才能查找曾任該職
位的歷任官員姓名與任期資料，但若使用者想查詢某人在台灣曾經擔任過
哪些官職，則需一頁頁把書翻完才能找到所有該人的任官記錄；又，如果
使用者想重構某一年臺灣的行政體系、各個官職當是各是由誰來擔任的，
也得把書翻完，一邊翻一邊記錄才能重構該年的行政體系。 
有鑑於此，我們在設計系統時便規劃了三種查找資料的方式：「時間
查詢」、「人名查詢」、「官職查詢」。「官職查詢」就跟原書的使用方
式一樣，先選擇欲查詢的官職：哪一個行政區的什麼職位，例如「新竹縣」
的「知縣」，系統便會呈現歷年所有擔任此職的人員姓名與其任職起迄年
 46 
 
圖 34  在「清代臺灣文官職表」中進行「人名查詢」 
 
圖 35  在「清代臺灣文官職表」中進行「時間查詢」 
八、結語 
THDL十分強調館藏歷史資料之間具有的種種關聯性，因此設計了許多能反
映、彰顯史料關聯的研究工具，供研究者利用。這跟一般數位圖書館將館藏均視
 48 
參考文獻 
[1] 「台灣歷史數位圖書館」，http://thdl.ntu.edu.tw。 
[2] 「臺灣史常用中西曆日期對照查詢系統」，http://thdl.ntu.edu.tw/datemap。 
[3] 「清代臺灣文官職表」，http://thdl.ntu.edu.tw/Career_Cover。 
[4] 潘敬尉主編，鄭喜夫纂輯。「文職表」。臺灣地理及歷史。卷九：官師志。第
一冊。 臺北市 ：台灣省文獻委員會，民 69。 
[5] Szu-Pei Chen, Jieh Hsiang, Hsieh-Chang Tu, Micha Wu. "On Building a 
Full-Text Digital Library of Historical Documents". Asian Digital Libraries. 
Looking Back 10 Years and Forging New Frontiers: 10th International 
Conference on Asian Digital Libraries, ICADL 2007, Hanoi, Vietnam, December 
10-13, 2007, Proceedings. (Lecture Notes in Computer Science). Springer 2007. 
49-60. 
[6] 項潔、陳詩沛、杜協昌。「台灣古 契約文書全文資料庫的建置」。第三屆台灣
古文書與歷史研究學術研討會（逢甲大學歷史與文物管理研究所、台灣古文
書學會主辦，台中市：逢甲大學，2009年 3月 14日）。 
[7] Jieh Hsiang, Szu-Pei Chen, Hsieh-Chang Tu. "On Building a Full-Text Digital 
Library of Land Deeds of Taiwan". Digital Humanities 2009, University of 
Maryland, College Park, June 22 – 25, 2009, Conference Abstracts. 85-90.  
[8] 陳詩沛、杜協昌、項潔。「史料整體分析工具之幕後—介紹臺灣歷史數位圖
書館的資料前置處理程序」。第一屆數位典藏與數位人文國際會議（臺灣大
學數位典藏研究發展中心、臺灣大學圖書館，台北市：臺灣大學，2009年
12月 1-2日）。 
[9] 中國第一歷史檔案館編。「前言」。清代文書檔案圖鑑（長沙：岳麓書社，2004
年），頁 1。 
[10] 吳密察等。「國家史料的編纂」。臺灣史料集成提要（臺北市：文建會，2004
年），頁 7-50。 
[11] 邱婉容。「明清臺灣 行政檔案全文建檔及標注計畫」。中華民國圖書館年鑑（臺
北市：國家圖書館，2006年），頁 128-129。 
[12] 「國家文化資料庫」，http://nrch.cca.gov.tw。 
 50 
附錄一  「明清臺灣行政檔案」收錄之出處 
道光朝月摺檔 
咸豐朝月摺檔 
同治朝月摺檔 
光緒朝月摺檔 
乾隆朝軍機檔 
嘉慶朝軍機檔 
道光朝軍機檔 
咸豐朝軍機檔 
同治朝軍機檔 
光緒朝軍機檔 
軍機檔錄副奏摺 
軍機處剿捕檔嘉慶 
軍機處剿捕檔道光 
軍機處剿捕檔咸豐 
軍機處剿捕檔同治 
軍機處剿捕檔光緒 
軍機處議覆檔乾隆 
軍機處議覆檔咸豐 
軍機處議覆檔光緒 
軍機處洋務檔光緒 
宮中檔康熙朝奏摺 
宮中檔雍正朝奏摺 
宮中檔乾隆朝奏摺 
嘉慶朝宮中檔 
道光朝宮中檔 
咸豐朝宮中檔 
咸豐同治朝宮中檔 
宮中檔光緒朝奏摺 
宮中硃批奏摺財政類貨幣金融 
宮中硃批奏摺 財政類 鹽務 
宮中硃批奏摺財政類貨幣金融
項 
宮中硃批奏摺財政類地租房租
項 
宮中硃批奏摺 財政類 關稅 
宮中硃批奏摺 財政類 庫儲 
宮中硃批奏摺 財政類 
宮中硃批奏摺 財政類 倉儲 
宮中硃批奏摺 財政類 捐輸項 
康熙朝滿文硃批奏摺全譯 
康熙朝漢文硃批奏摺彙編 
雍正朝滿文硃批奏摺全譯 
雍正朝漢文硃批奏摺彙編 
光緒朝硃批奏摺 
道咸同光四朝奏議選輯 
左宗棠未刊奏摺 
福建臺灣奏摺 
清宮奏摺檔臺灣史料 
明清檔案 
雍正朝漢文諭旨匯編 
乾隆朝上諭檔 
嘉慶道光兩朝上諭檔 
咸豐同治兩朝上諭檔 
光緒宣統兩朝上諭檔 
廷寄 
清宮廷寄檔臺灣史料 
雍正朝內閣六科史書‧吏科 
明清史料 
內閣大庫檔案(資料庫) 
崇禎實錄 
先王實錄校注 
明實錄 附錄 
明實錄 
清實錄臺灣史資料專輯 
光緒朝東華續錄選輯 
東華錄選輯 
東華續錄選輯 
漢文本清聖起居注稿 
起居注冊 
康熙起居注 
雍正朝起居注冊 
乾隆帝起居注 
清代起居注冊-道光朝 
清代起居注冊-咸豐朝 
清代起居注冊-同治朝 
清代起居注冊(光緒朝) 
道光.咸豐朝籌辦夷務始末 
籌辦夷務始末(咸豐朝) 
籌辦夷務始末補遺 
籌辦夷務始末 
晚清洋務運動事類匯鈔 
十九世紀美國侵華檔案史料選
輯 
洋務運動 
歷代寶案 
中美關係史料：嘉慶、道光、
咸豐朝 
中美關係史料：同治朝上 
中美關係史料：同治朝下 
清光緒朝中法交涉史料 
清代孤本外交檔案 
清代中朝關係檔案史料匯編 
清代外交史料 
清季外交因應函電資料 
清代中琉關係檔案 
中美關係史料 光緒朝 
中法越南交涉檔 
清季中日韓關係史料 
清季外交史料 
清光緒朝中日交涉史料 
第二次鴉片戰爭 
中國海關與中法戰爭 
甲午中日戰爭 
中國海關與中日戰爭 
鴉片戰爭 
 52 
 
 
 
 
1 
 
壹、 會議資訊 
 會議名稱：Digital Humanities 2009 (DH2009) 
 地點：美國馬里蘭大學 (College Park 分校) Student Stamp Union 
 會議期間：2009/6/22 – 2009/6/25 
 出國期間：2009/6/21 ~ 2009/6/30 
 計畫名稱：臺灣歷史資訊學初探 
 
貳、行程內容說明及心得： 
我在 2009年 6月 21日，出發前往美國馬
里蘭大學（College Park 分校）參加 Digital 
Humanities 2009 (DH2009) 會議。出國的時間
共十天，其中會議的時間是在 6/22-6/25，而
6/26-6/29 則為一小段私人的行程。 
 
這是個為期四天的中型國際研討會，由數
位人文學的大本營 MITH (Maryland Institute 
for Technology in the Humanities) 所主辦。此行
的目的，主要是瞭解數位人文學的發展狀況，
其所使用的軟體技術，並思考如何將相關的技
術應用到「臺灣歷史資訊學初探計畫」所開發
的系統與軟體上。 
 
以下簡要報告對於一些會議論文的心得： 
 
1. “Interactive Visual Analysis of Personal Names in Japanese Historical Data” (by 
Alejandro Toledo, Ruck Thawonmas, Akira Maeda and Fuminori Kimura) 分析
西元 1132-1171 年間的一份日記檔案（稱之為 Hyohanki 或 Heihanki），從
中擷取貴族的人名與相關的年份，之後採用一種他們稱之為 “stacked graph” 
的繪圖方式，將各個人名在每個年份所出現的比例繪製出來。如果一個人名
在某個年份出現比例很高，那麼他在那一年就應該有相當的政治勢力或影響
力。在 stacked graph 中，人名出現的總次數 (over all years) 越多，繪製該
人名所出現的區塊就會採用越深的顏色。 
2. “An Exercise in Non-ideal Authorship Attribution” (by David L. Hoover)。
Hoover 本身是 stylist （寫作風格分析家），他應用統計分析與現有的一些
軟體套件，分析一本名之為 “Female Life” 的可能作者。該論文使用很多圖
表來顯示 clustering analysis 與 PCA (principal components analysis) 的結
果，在加以適當的解釋後，往往顯得頗有說服力。  
