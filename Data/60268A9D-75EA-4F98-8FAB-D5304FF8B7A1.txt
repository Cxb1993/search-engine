 2 
圖一  具迴流性質之彈性流程式生產系統基本運作架構 
 
1. 緒論 
本研究探討的問題是求解最小化總延遲工件數之具有迴流性質及等候時間限制的彈性流程式生產
系統排程問題。彈性流程式生產系統 (flexible flow line: FFL)又可稱為 flexible flow shop (FFS)，hybrid 
flow shop (HFS)或者 flow shop with multiple processors (FSMP)。 
 
 
 
 
 
 
 
 
 
 
 
 
 
過去關於彈性流程式生產系統的排程問題研究，大都是探討工件只需經過工作站一次，但在某些
產業的製造環境中，工件會重覆在某幾個工作站上加工多次，此作業特性稱之為迴流，而彈性流程型
且具迴流性質的排程問題，指的是：有 N 個工件要通過 J 個工作站，而每一個工作站可能有一到多
部機器，並且工作站與工作站之間的暫存區的容量假設無限大，也就是工件不會因阻塞而暫停在工作
站上。工件在通過彈性流程式生產系統時，可能會有重複需要在同一個工作站上作業的需求。圖一是
具迴流性質之彈性流程式生產系統的基本運作架構圖。此種作業型態在實務上也經常出現，例如在印
刷電路板製造業(Lee et al., 2003; Choi et al., 2005)即是屬於一種彈性流程式且具迴流性質的生產環
境。 
另外，等候時間限制的控制手段在許多產業的產品製造過程中，也是一種普遍存在的情形，例如
在 LCD 的液晶面板組立製程(Cell)，在半導體產業晶圓製造的製程中，從濕蝕刻(Wet etch)到爐管
(Furnace)兩製程間以及在 IC 封裝業中的晶圓凸塊(Wafer Bumping) 製程中。這些工廠為了避免在製品
於生產線上等待過久而造成在製品品質上的缺陷，因此會制定一段時間來做為製程與製程之間最大能
等候的時間限制，以防止在製品超過最大等候時間後，因品質問題必頇重新加工或是報廢，而造成產
能上的損失或者經濟上的損失。 
等候時間限制的問題依據林國訓(民 93)的指出，可以分為兩類，一類為具單一等候時間限制模式，
另一類為具多重等候時間限制模式。具單一等候時間限制模式指的是只有一段製程之間具有等候時間
的限制，如圖二所示，工作站 k 到工作站 k+1 之間具有等候時間的限制，其等候限制之時間為 QTk,k+1，
不具等候限制之時間可視為∞；而具多重等候時間限制模式考慮的是有連續多段製程之間具有等候時
間的限制。而林忠文(民 93)另指出在晶圓廠內也存在著多段多重等候時間限制模式，這是因為在晶圓
生產流程中，為了避免因等後時間過長而導致品質產生問題，必頇設立數個多重等候時間限制來保護
晶圓。 
 
Out 
1 
m1 
2 
1 
m2 
2 
1 
mJ 
2 
Jobs 
Stage 1 Stage 2 Stage J 
In 
Stage k 
1 
mk 
2 
 4 
Scholl 和 Domaschke(2000) 考慮半導體晶圓製造廠內的蝕刻(Wet etch)到爐管(Furnace)兩製程之
間的等候時間限制問題，將等候時間分成大、小兩個時間窗(Time window)的概念來處理，大時間窗表
該產品在蝕刻到爐管製程之間具有較長的等候時間限制，作者利用離散事件模擬(Discrete event 
simulation)比較兩種等候時間限制的派工策略對生產績效的影響，其研究結果發現：(1) 等候時間限制
為小時間窗時，前特定製程工作站的派工時機為後特定製程工作站有閒置時才進行加工。(2) 等候時間
限制為大時間窗時，前特定製程工作站派工時機為批量在前特定製程工作站一加工完畢可以馬上進入
後特定製程工作站加工。 
亦有學者利用控制在製品存貨水準的方法來管理等候時間限制的問題，黃英鈺(民 94) 提出一套
針對時間限制機台向上游機台叫料之現場管控模式，所考慮的模式中環境條件為：在一生產線中某段
之間具有時間限制，在該段起始加工之後便一直存在時間限制，必頇歷經多個工作站加工之後時間限
制才會消除，而此線段末端之時間限制機台為瓶頸。此現場管控模式將利用（S,s）存貨理論概念，
於此段生產線內決定一合適之在製品數量範圍，當在製品數量高於上限(S)時阻隔上游繼續投料，而
當 WIP 低於下限(s)時則對上游叫料。如此可避免兩兩種經常發稱的問題：(1) 上游到料過少使此時
間限制機台閒置；(2) 過多的到料造成在製品堆積，最後超過時間限制而報廢。黃嘉常 (民 96) 考慮
存在於半導體晶圓製造流程中的等候時間限制問題，作者利用控制在製品存貨水準的方法來管控等候
時間限制的問題，作者利用倒傳遞類神經網路(Back propagation neural networks: BPNN)來釐清產出、
生產週期時間、在製品水準這三者的關係，並且訂下整廠與瓶頸工作站最適的在製品水準。而對於沒
有等候時間限制的站別則先透過過去歷史資料的分析整理，找出上游機台批量大小與下游機台的來到
間隔時間變異係數的關係，並將此變異係數值代入等候線理論中的 GI/G/m 模型來決定其該分配到的
在製品數量為多少。最後，則提出以最小存貨變異派工法則(Minimum inventory variability schedule: 
MIVS)為基礎，加上考慮多種產品組合的因素發展一修正後的 MIVS 派工法則來做實際的派工方法。
其實驗結果顯示用在製品控制的方法，可有效降低工件平均生產週期以及重工的機率。 
綜合以上的探討，本研究發展以派工法則為基礎的啟發式演算法來解決具迴流性質且具多段等候
時間限制的彈性流程式排程問題。因為彈性流程式排程問題為一 NP-hard 的困難問題，因此開發啟發
式方法是一合理且實際的方向。 
 
2. 研究方法 
本研究主要考慮的問題是具有迴流性質及等候時間限制的彈性流程型排程問題。本研究發展以派
工法則為基礎的決策規則來求解。在這個問題中因為迴流及等候時間的限制的影響，所以在整個生產
流程中有幾種工作站上的決策點必頇要行使，第一是一般的工作站的派工決策問題；第二是前特定製
程工作站需要決定工作是否放行的決策問題；第三是在後特定製程工作站需要執行受限於等候時間限
制的派工決策問題。因此針對這三類工作站各別發展適用於這些工作站的派工法則演算法。本研究採
用序列篩選模式來開發適合於本研究問題情境上所使用的派工法則。本研究發展四個決策規則，讓不
同屬性的工作站選用後能依序篩選合適的工件進行加工。 
 
決策規則一： 
考慮的是由於工件如果超過所設定的等候限制時間需要重加工，因此我們把不超過等候時間的限
制放在第最重要的控制決策；而要判斷工件是否超過所設定的等候限制時間則必頇先界定工件在工作
站上最大可以等候的時間，由於本研究考慮的等候時間限制的模式中有大的時間限制區段含有小的時
 6 
(3) 假設每個操作的處理時間為 U(1, 50) 隨機產生。 
(4) 交期設定：工件之交期以 TWK 交期設定法則設定之，TWK 交期設定法則的表示法如下：工件之
交期＝工件投料時間＋k×工件之總加工時間   (k 為常數) 
本研究設定 k 為 4 為鬆，3.2 為緊。 
(5) 投料方式：本研究採用均勻投料法 (Uniform Loading, UL) ，每 2 小時均勻地投入 4 批工件。 
(6) 模擬時間：模擬時間定為 50 天，前 10 天為 warm up 時間，收集 30 天的資料，分別模擬 10 次。
模擬時間以分鐘為單位。 
(7) 如果工件超過等候時間限制則自動回到前特定製程工作站上等待重新加工，不考慮報廢情形。 
為驗證本研究所發展之各項演算法之效能，將利用常見的派工法則進行模擬實驗，將所得之模
擬數據與本研究所發展之派工法則模擬結果相互比較，以驗證本研究所發展之派工法則之績效。 
常見的派工法則如下：先到先服務法(First come first served; FCFS)；最短處理時間優先法
(Shortest processing time; SPT)；最早交貨日法(Earliest due-date; EDD)；關鍵比率法(Critical ratio; CR)；
剩餘寬放法(Slack time remaining; STR)；MDD 派工法則(Modified Due Date)。  
 
4. 結果分析 
為清楚表達本研究所開發方法的績效，在演算法績效衡量上，本研究以總延遲工件數(number of 
tardy jobs: NTJ)、相對誤差索引值( relative deviation Index: RDI )、最佳解次數(number of best solutions: 
NBS)與超過等候時間限制工件數(over queue time constraint: OQTC)作為用來判斷演算法效能之指標。
相對誤差索引已使用在多項研究中，像是(Lee et al., 2004; Choi et al., 2005 )等學者。它定義為 
RDI 









otherwise. 0
 0,)( if bw
bw
ba SS
SS
SS
 
 
Sa代表方法a解之值，Sb代表所有方法中最好的解，Sw代表所有方法中最差的解，若發生Sw 等於Sb
之情況，RDI於每個演算法中皆要設為0。 
 
 
 
 
 
 
 
 
 
 8 
表二  前特定製程工作站之演算法實驗結果 
  前特定製程工作站之演算法 NTJ RDI NBS OQTC 
交期 
鬆 
試算法 68970 91.22  40 1 
在製品控制法 25825 26.55  138 9 
試算與在製品合併控制法 68521 92.40  35 0 
緊 
試算法 87655 90.58  32 2 
在製品控制法 43804 38.39  81 18 
試算與在製品合併控制法 89797 94.66  22 0 
 
表三  一般工作站之演算法實驗結果 
  派工演算法 NTJ RDI NBS OQTC 
交期 
鬆 
FCFS 32352 41.03  31 5 
EDD 27654 34.14  33 0 
CR 27345 34.34  34 1 
SPT 15744 28.99  9 0 
STR 26419 32.52  36 3 
MDD 22710 27.09  33 1 
一般工作站之派工
演算法 
11092 12.06  37 0 
緊 
FCFS 45076 44.52  18 6 
EDD 37452 37.14  21 0 
CR 37987 37.23  24 3 
SPT 18174 26.75  2 0 
STR 37611 36.83  23 1 
MDD 30553 29.03  21 7 
一般工作站之派工
演算法 
14403 12.13  26 3 
 
表四  後特定製程工作站之演算法實驗結果 
 
 後特定製程工作
站之演算法 
NTJ RDI NBS OQTC 
交期 
鬆 
RQT 53015 67.63  75 0 
RQT-ROP 54400 69.93  70 0 
FIFO 55901 72.61  68 10 
緊 
RQT 72082 72.23  40 3 
RQT-ROP 72845 74.91  47 7 
FIFO 76329 76.49  48 10 
 10 
 
國科會補助專題研究計畫成果報告自評表 
請就研究內容與原計畫相符程度、達成預期目標情況、研究成果之學術或應用價
值（簡要敘述成果所代表之意義、價值、影響或進一步發展之可能性）、是否適
合在學術期刊發表或申請專利、主要發現或其他有關價值等，作一綜合評估。 
1. 請就研究內容與原計畫相符程度、達成預期目標情況作一綜合評估 
■ 達成目標 
□ 未達成目標（請說明，以 100 字為限） 
□ 實驗失敗 
□ 因故實驗中斷 
□ 其他原因 
說明： 
 
2. 研究成果在學術期刊發表或申請專利等情形： 
論文：□已發表 □未發表之文稿 ■撰寫中 □無 
專利：□已獲得 □申請中 ■無 
技轉：□已技轉 □洽談中 ■無 
其他：（以 100 字為限） 
 
3. 請依學術成就、技術創新、社會影響等方面，評估研究成果之學術或應用價
值（簡要敘述成果所代表之意義、價值、影響或進一步發展之可能性）（以
500 字為限） 
本研究主要是針對彈性流程式生產系統具迴流性質且具等候時間限制的排程問題，求解最
小化總延遲工件數，針對不同工作站提出以派工法則為基礎的方法以解決在這種生產系統
下的一般工作站、前特定製程工作站及後特定製程工作站上派工的選擇。本研究所提出的
一般派工法則配合前特定製程工作站的投料生產控制機制與後特定製程工作站的受等候
時間限制的工件選擇方法可以有效解決此問題。本年度計畫的研究成果在實務上未來可以
嘗試應用在具有等候時間限制的生產環境上；在學術上可以再往其他目標，尤其是多目標
下開發新的解決方法。 
本年度計畫的成果預計將進行國外期刊的投稿。 
 
附件二 
二、與會心得 
參加此次研討會有幾個主要心得， 
第一， 由於此次會議的舉行地方是在大阪大學的Nakanoshima Center，這與一般國際會議會
在飯店中舉行是有一點不同，不過大阪大學的Nakanoshima Center的設施算是完善，不
輸給五星級飯店的會議中心，這也讓我看到日本大學的教室，教室內的設備算是非常
的好，也非常的替學生考量，教室的中間左右兩邊垂掛兩台大型的液晶螢幕，體貼的
讓坐在後座的學生，不會因為投影字型太小而看不到。 
第二， 此次研討會的主要主題為Information Technologies for Sustainable Development，因此
有多場演講是關於綠色環保與資訊科技的相關議題，其中印象最深的是由日本
Yokogawa 電子公司的資深副總裁所演講的題目Measurement and Control Technologies 
for Sustainable Low Carbon Society，這是一家做自動控制的公司，在他的演講中提到幾
個東西，都讓我印象深刻及引發一些想法，例如，在環境汙染，CO2的排放量上是以
製造業為大宗，甚至可以到70%，因此如何來控制製造業的CO2排放量，便是一個主
要控制污染的方向，然而在控制污染的同時，應該從3E來思考，也就是Environment， 
Economy and Energy security，這是一個好的想法，因為如果一味的在追求環境的保護
及降低能源的使用，卻沒有顧及到經濟發展的平衡，這樣子的政策與方法，可能會招
惹很多的阻礙，原本設想的成效應該也不容易達成與實現。再來，這個演講從他們公
司過去的一些實例來說明他們的一些成效，他們把降低能源損耗也就是降低CO2排
放，從3個層次來舉例說明，第一是設備(Equipment)層級，第二是一個工廠層級，第三
是區域層級，等三個層級的能源控制最佳化的應用。Yokogawa 電子公司在這三個層
級都有很大的成效，其中在區域層級上更是表達需要政府、企業及社會大眾一起努力
配合才能達成目前的成效。從這三種層級來做有效的控制，這也讓我思考到如何將生
產排程的控制與規劃與能源消耗做整合，或許這是一個好的研究方向。 
第三， 參加這次會議的人員可以發現是從全世界很多國家來的人員共聚一堂，參與者比較
年輕，這與我去年所參加的會議的經驗又有一點不同，去年的參與者有很多是資深的
教授，而此次參加者為較年輕的學者，這可能IEEE所舉辦的研討會，相對的參與者可
無研發成果推廣資料 
其他成果 
(無法以量化表達之成
果如辦理學術活動、獲
得獎項、重要國際合
作、研究成果國際影響
力及其他協助產業技
術發展之具體效益事
項等，請以文字敘述填
列。) 
無 
 成果項目 量化 名稱或內容性質簡述 
測驗工具(含質性與量性) 0  
課程/模組 0  
電腦及網路系統或工具 0  
教材 0  
舉辦之活動/競賽 0  
研討會/工作坊 0  
電子報、網站 0  
科 
教 
處 
計 
畫 
加 
填 
項 
目 計畫成果推廣之參與（閱聽）人數 0  
