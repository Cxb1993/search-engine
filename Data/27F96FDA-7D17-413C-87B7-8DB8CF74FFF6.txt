1行政院國家科學委員會專題研究計畫成果報告
空間資料融合技術應用於多來源地理資訊之整合
Exploring the integration of multiple geographical sources by spatial data
conflation technology
計畫編號：NSC 96-2211-E-006-152
執行期限：96 年 8 月 1 日至 97 年 7 月 31 日
主持人：郭英俊 國立成功大學測量及空間資訊學系
計畫參與人員：黃國豪 國立成功大學測量及空間資訊學系
一、中文摘要
測繪技術的發展與網路的普及使得地理資訊的建置、流通與共享較以往來的便利許多，地理資訊
的整合與共享因而成為當前地理資訊系統的重要課題之一。然而，這些不同來源的空間資料往往存在重
覆性與不一致性，造成資料整合與應用上的困難。因此本研究計畫的目的即利用空間資料融合方法，有
效的整合多種來源地理資料，以消除資料間的不一致性。空間資料融合方法主要利用物件間的相似度，
找出不同來源資料間表示相同地物的特徵物。過去研究中多以物件的幾何特性為基礎計算相似度，並人
為給定權重以合併各不同型態的相似度。因此使得配對成果易受參數影響。本研究則利用統計方式並結
合過去研究成果，改善相似度計算方式，進行特徵物配對，使得空間資料融合成果較具客觀性。本研究
並以道路中心線的資料進行測試，並探討配對成果優劣。
關鍵詞：資料整合、特徵物配對、空間資料融合
Abstract
The development of surveying technology and popularity of network make the construction、transfer and
share of geographical data become more convenient. Because various data sources often lead to problems of
inconsistency and redundancy, it often raises the difficulties of data integration and application. The purpose of
the research is to use data conflation method to integrate various data sources and eliminate data inconsistency.
Spatial data conflation method finds the same entities which have different representations in different data
sources by comparing similarities between features. The calculation of similarities between features is often
based on geometrical information of features and their attributes on previous research. And using weights
represents the importance of various attribute data on combining these data into a single similarity value. The
matching results are easily affected by these weight parameters. The research combines previous research and
uses statistic approaches to improve the calculation of similarities between features. Thus, the data conflation
results will be more objective. The approach is applied to street centerlines and the quality of matching results is
also discussed.
Keywords: Data Integration, Feature Matching, Spatial Data Conflation
二、緣由與目的
近年來各種不同測量技術的提升，大幅縮短了數值圖資料的建置時間。網際地理資訊系統的發展亦
使得空間資料的交換，較以往來得更為便利。然而這些不同來源的資料，常因製作主題、空間模式或資
料精度不同等因素，使得資料間存在重覆性與不一致性。造成整合與應用上的困難。本研究的目的即在
於利用空間資料融合技術，以合併多種不同來源的資料。
空間資料融合的作法為合併多種不同來源的空間資料，透過特徵物比對的方式找出表示相同地物的
特徵物，進而分析與篩選適合應用目的之資料。其應用最早出現於 1984 年，美國統計調查局與地質調
查局的一個計畫案(Saalfeld，1987)。該計畫案利用統計調查局豐富的屬性資料與地質調查局空間精度較
高的向量式地圖資料，進行融合操作。最終成果證實自動化更新數值圖作業的可行性，也使得空間資料
融合方法開始受到重視。
空間資料融合方法包含下列步驟: (1) 原始資料取得，(2)資料前處理，(3)地圖對準，(4)特徵物配對，
(5)資料操作，(6)產生成果。資料前處理的目的在於統一不同地理資料來源的格式，如坐標參考系統與投
影方式等。地圖對準的目的在於消除不同來源資料間的空間差異性。特徵物配對步驟是空間資料融合方
法中最重要的一個步驟，主要在於找出各來源資料間表示相同地理物件的特徵物。資料操作則是利用特
3圖 2 特徵物配對作業流程
1. 資料前處理
本研究假設原始資料集間有相同的坐標系統。並另行撰寫程式將不同來源資料轉成 AutoCAD Dwg
圖檔，使資料集間的空間資料模式相符合。
2. 地圖對準
地圖對準的目的在於消除不同來源資料間的空間差異性。空間差異性可能存在三種誤差形式:整體
性、區域性與隨機性。由於本研究選用的測試區域都屬於小範圍，可預期區域性誤差的影響較小。因此
僅使用六參數轉換以解決整體性的空間差異。
3. 特徵物配對
3.1 資訊理論
資訊理論主要目標在於發展有效的傳輸模式，使得傳輸速度最大化。圖 3 表示通訊系統的基本元
件。發送器(transmitter)傳送訊息 N1，透過通道(channel)由接收器(receiver)接收。由於訊息 N1 傳輸時可
能受到雜訊干擾，使得接收器接收到的訊息 N2 不一定與 N1 相符合。資訊理論即用於評估訊息 N1 與
N2 的差異，以達到最大傳輸速度。
圖 3 特徵物配對問題可映射為通訊傳輸問(Walter and Fritsch，1999)
特徵物配對問題亦可模式化為資料傳輸問題(Vosselman，1992)。資料集 D1 經由對映函數與資料集
D2 進行配對。由於觀測精度與空間資料模式等因素影響，資料集 D1 與資料集 D2 兩者間存在差異性。
本研究即利用資訊理論評估資料集 D1 與資料集 D2 間的差異性，進而找出 D1 與 D2 間可配對的物件。
3.2 訓練樣本
訓練樣本的目的在於取得資料集的空間與屬性資料的統計分布資訊，供後續物件配對操作使用。雖
然本研究使用的測試區域屬於小範圍，仍包含超過數百個物件，若單純使用人工比對，則顯得繁複。因
此為減輕人工判斷的負擔，本研究依據數值圖的精度條件，自動設立線段緩衝區，若物件超出緩衝區比
率高於 95%，則視為不可配對。透過此種方式進行初步的篩選，找出可能的配對物件，供使用者判斷。
為了能提供有效的統計分布資訊，訓練樣本時產生的分布應儘可能符合常態分布。
3.3 物件配對
5路資料包含市區道路、省道與縣道路與高架道路的中心線。兩資料集皆提供道路的路名做為屬性資料。
圖 4 與圖 5 分別表示台北縣數值基本圖與運研所路網圖。
表 2 測試資料集簡介
資料來源 台北縣基本數
值地形圖
交通部運輸研究所
路網圖
比例尺 1/1000 1/5000
坐標系統 TWD 97 基準
測試區域 台北縣三重
資料內容 市區道路、省道與縣道路與高架道
路的中心線
圖 4 數值地形圖路網圖 圖 5 交通部運研所路網圖
3. 系統實做
3.1 資料前處理
本研究自行撰寫 AutoCAD VBA 程式將不同來源資料轉成 AutoCAD Dwg 圖檔，使資料集間的空間
資料模式相符合。由於台北縣基本數值地形圖檔的格式為 Dwg 圖檔且兩者資料使用相同的坐標系統。
資料前處理程式主要負責將交通部運研所路網圖原始的 txt 檔案轉為 Dwg 圖檔。圖 6 為資料前處理程式
畫面。
圖 6 資料前處理程式
3.2 地圖對準
本研究利用 AutoCAD 套疊兩資料集，由使用者選取道路交點做為地圖對準轉換所需資料。匯出後
經軟體 R 計算轉換參數，再由 AutoCAD 加以計算重新產生地圖對準後的 Dwg 圖檔。
儘管台北縣數值圖與運研所路網圖的坐標系統皆為 TWD 97 基準的 TM 二度分帶坐標系統。直接套
疊時，由圖 7 仍可發現其空間不一致性。為了消除空間差異，本研究利用六參數轉換執行地圖對準操作。
圖 8 表示圖 7 經由地圖對準轉換後的成果。圖中實線表示台北縣數值圖，虛線表示運研所路網圖。
7圖 10 數值地形圖道路長度分布 圖 11 運研所路網圖道路長度分布
圖 12 數值地形圖道路長度分布(< 200 公尺) 圖 13 運研所路網圖道路長度分布(< 200 公
尺)
圖 14、15 與 16 分別表示使用不同 k 值(=1、1.5 與 2)產生的配對道路長度差異直方圖。比較三者產
生的資料後可發現圖 14 的資料筆數明顯小於圖 15 與圖 16。此外，儘管三者的直方圖呈現的分布形狀皆
約為鐘形，但仍需經過統計檢驗，以確保符合本研究所給定的假設。圖 17 利用 Shapiro-Wilk 檢驗不同 k
值產生的長度差異是否符合常態分布。由於三者所得的 p 值皆大於 0.05，因此無法拒絕零假說。亦即三
者皆符合常態分布。
9圖 18 4.2 公尺緩衝區的配對物件角度差異
直方圖
圖 19 6.3 公尺緩衝區的配對物件角度差異
直方圖
圖 20 8.4 公尺緩衝區的配對物件角度差異直方圖
k=1.0 k=1.5 k=2.0
圖 21 利用 Shapiro-Wilk 檢驗不同 k 值產生的角度差異是否符合常態分布
由上述兩節中，本研究選用 k 值 1.5，亦即端點緩衝區 6.3 公尺執行配對準則。主要原因為其可提
供足夠的統計訊息，緩衝區也不需要放大。
3.4 特徵物配對
如前所述，本研究的特徵物配對可分成兩個步驟: (1) 依據數值圖的精度條件，設立線段緩衝區。
若物件超出緩衝區比率高於 95%，則視為不可配對。(2) 利用(1)產生的可能配對物件，評估其相似度以
決定實際配對物件。相似度計算方式如下:
)))(();(()))(();(();( 21 phanglepangleIphlengthplengthIDDIh 
台北縣數值圖與運研所路網圖在某些區域的展現存在極大空間差異性。其原因為前者的建立時間較
早與空間模式不同，如圖 22 所示。為避免此問題，本研究選定兩個較小的特徵物配對測試區域，以下
分述之。
11
(a) 正確配對
(b) 無法配對
圖 24 測試區域 1 的配對情況
圖 25 說明測試區域 1 錯誤配對。實線表示台北縣數值圖，虛線表現運研所路網圖。由圖並不容易
看出實線應與哪條虛線配對，而配對程式卻選擇與上方實線配對，主因為兩者長度差最小。這顯示出本
研究使用的交互訊息類別不夠，屬性資料亦應加入交互訊息的計算。
圖 25 錯誤配對
圖 26 說明道路形狀的影響。當形狀為弧形時，若資料品質良好，可容易發現中間實線可與中間虛
線配對。但亦可能發生錯誤配對(如中間實線與下方虛線配對)，為解決此情形。應將「接近性」納入交
互訊息計算。本研究建議利用線段緩衝區的資訊。換言之，統計緩衝區長度的交互訊息。
圖 26 物件形狀的影響
3.4.2 測試區域 2
圖 27 表示特徵物配對測試區域 2，涵蓋範圍為 1.5km x 1 km。其配對物件統計資訊，如表 4 所示。
由圖 27 與表 4 可知此區域內，運研所資料較為豐富。因而可配對物件數較少。圖 28 說明測試區域 4 的
配對情況。在地圖對準良好的區域，圖 28(a)的物件呈現高接近性的可配對的特質。圖 28(b)則可發現物
件間存在相似性的特質，但圓圈處則可發現空間上的不一致性，因而無法配對。
