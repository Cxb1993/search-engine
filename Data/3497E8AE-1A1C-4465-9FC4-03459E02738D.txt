 -2-
第二章  運動程式 
設有一如圖 2-1 之多自由度系統．每一自由度皆加裝液流阻尼器， 
 
分解三個自由度的作用力如圖 2-2： 
 
 
由三個質量塊的力平衡,可得到三個平衡方程式如下: 
1
11 1 1 1 1 1 1 1 2 2 1 2 2 1
2
2 12 2 1 1
sgn( ) ( ) ( )
sgn( )                                               
n
D
n
D
k u u u u m u k u u u u
u u u u p
c c c
c
+ + + = − + −
+ − − +
& & & && & &
& & & &        
2
2 12 2 1 2 2 1 1 2 2 2 2 1
3
3 23 3 2 3 3 2 3 3 2 2
( ) ( ) sgn( )
( ) ( ) sgn( )                            
n
D
n
D
k u u u u p m u u u u u
k u u u u u u u u p
c c
c c
− + − + + + − − =
− + − + − − +
& & && & & & &
& & & & & &                
3
3 23 3 2 3 3 2 2 3 3 3 3 2 3( ) ( ) sgn( )  
n
Dk u u u u p m u u u u u pc c− + − + + + − − =& & && & & & &                                     
將(2.1) ，(2.2) ，(2.3) 合併成運動方程式: 
1 1 1 2 2 1
2 2 2 2 3 3 2
3 3 3 3 3
1
1 11 2
2
2 3 2 1 2 1
3
3 3 2 3 2
0 0 0
0 0    +
0 0 0
sgn( )0
           0 sgn( )
0 0 sgn(
n
D D
n
D D
n
D
m u c c c u
m u c c c c u
m u c c u
u uc c
c c u u u u
c u u u u
+ −⎡ ⎤ ⎧ ⎫ ⎡ ⎤ ⎧ ⎫⎪ ⎪ ⎪ ⎪⎢ ⎥ ⎢ ⎥+ − + −⎨ ⎬ ⎨ ⎬⎢ ⎥ ⎢ ⎥⎪ ⎪ ⎪ ⎪⎢ ⎥ ⎢ ⎥−⎣ ⎦ ⎩ ⎭ ⎣ ⎦ ⎩ ⎭
−⎡ ⎤⎢ ⎥− − −⎢ ⎥⎢ ⎥⎣ ⎦ − −
&& &
&& &
&& &
& &
& & & &
& & & &
1 2 2 1 1
2 2 3 3 2 2
3 3 3 3
0
 +   
0)
k k k u p
k k k k u p
k k u p
⎧ ⎫ + −⎡ ⎤ ⎧ ⎫ ⎧ ⎫⎪ ⎪⎪ ⎪ ⎪ ⎪ ⎪ ⎪⎢ ⎥− + − =⎨ ⎬ ⎨ ⎬ ⎨ ⎬⎢ ⎥⎪ ⎪ ⎪ ⎪ ⎪ ⎪⎢ ⎥−⎣ ⎦ ⎩ ⎭ ⎩ ⎭⎪ ⎪⎩ ⎭
              
(2.4)式可簡寫成運動方程式,即 
[ ]{ } [ ]{ } [ ]{ } [ ]{ } { }sgn( )nD Dm u c u c u u k u p+ + + =&& & & &           
1
1 1
2
2 1 2 1
3
3 2 3 2
sgn( )
sgn( ) sgn( )
sgn( )
n
n n
D
n
u u
u u u u u u
u u u u
⎧ ⎫⎪ ⎪⎪ ⎪= − −⎨ ⎬⎪ ⎪− −⎪ ⎪⎩ ⎭
& &
& & & & & &
& & & &
 ;  Du& ：阻尼器活塞運動速度 
此為三階之運動方程式。 
要注意的是，運動方程式中，u 、u&、u&&為‘相對’位移、‘相對’速度、‘相對’加速度(相對
於地表)，不論用何種方法求解運動方程式，所求出之結果皆為‘相對’數值，若要求絕對位移、
圖 2-1  三自由度系統示意圖 
圖 2-2  三自由度系統受力示意圖 
 (2.1) 
 (2.2) 
(2.3) 
 (2.4) 
 (2.5) 
 -4-
有了以上五項指標，最大基底剪力、最大層間變位、最大相對加速度、系統吸收能量與
阻尼器最大出力以後，要擷取一個數值來當適應函數值，本研究把以上五個指標，全部相乘，
再取倒數，五項指標都是越小越好，故相乘以後取倒數，是越大越好，符合了適應函數值的
要求：適應函數值越大，代表基因越優良。 
第四章  多自由度含液流阻尼器系統之分析 
4.1  實例分析之參數設定 
4.1.1  樓房 
國家地震中心鋼結構實尺模型，其空構架之振態頻率為 
[ ] [ ]1 2 3 6.716   21.863   37.597ω ω ω ω= = (單位：rps) 
本章將以此模型受四種不同的地震外力，分析其阻尼器優劣與最佳化配置。 
4.1.2 地震力 
1.  寬頻地震力(El Centro) 
El Centro 地震歷時頻率分布較寬，歸為寬頻地震歷時。作用在系統上的頻率分布均勻，
不影響系統原本的振態分布。 
2.  窄頻低頻地震力(921-TCU107) 
TCU107 為 921 集集大地震時，彰化縣南郭國小測站測得之地震歷時記錄。其頻率內涵
在 2.60 rps 時較為明顯，較系統第一振態振態頻率( 1ω =6.716 rps)為低，歸類為窄頻低頻地震
歷時，容易激發第一振態振態形狀。 
3.  窄頻且頻率介於第一、二振態間地震力(921-CHY041) 
CHY041 為 921 集集大地震時，嘉義縣黎明國小測站測得之地震歷時記錄。其頻率內涵
在 15.16 rps 時較為明顯，介於系統第一振態與第二振態振態頻率之間，用以激發第一振態與
第二振態振態形狀。 
4.  單頻高頻簡諧外力( ( ) sin(40 )p t t= ) 
( ) sin(40 )p t t= 模型之最高振態為 37.6 rps，頻率高於系統第三振態，因此預期作用為激發
第三振態振態形狀，此外力很小,大約在-1~+1 牛頓之間，比前三種地震外力小很多。 
4.1.3 阻尼器 
本研究設定 15 種阻尼器，n 值由 0.3 到 1.7，已知阻尼器 n 值後，還要設定 c 值，才能進
行分析。n 值定的較大，阻尼器出力會大，定的小，出力會變小，因此 c 值的設定是很重要
的影響因素。 
4.2 節將比較在三層樓房中皆安裝同樣一支阻尼器後的控制效果，共有 15 棟受控樓房做
比較(第一棟房子為三層樓皆安裝 n=0.3 的阻尼器，第二棟為三層樓皆安裝 n=0.4 的阻尼器，
共有 15 種阻尼器，因此有 15 棟樓房)，c 值的決定方法如下：先決定樓房受地震力後的阻尼
器最大出力要多大，然後求 c 值。以 El Centro 為例，先設定阻尼器最大出力為 15 kN，當三
層樓皆安裝 n=0.3 的阻尼器並受 El Centro 地震力作用，隨意給一個 c 值，即可用第二章所介
紹的數值方法求解其反應，便可求出阻尼器最大出力，c 值是隨意給的，求出的阻尼器最大
 -6-
變位、只考慮加速度與整體(考慮五項指標)最佳化配置等。爲了方便看出最佳化配置的趨勢，
每一種最佳化皆列出三種最佳配置方法做比較。 
以下各節，表中‘最佳配置’欄與‘最差配置’欄中，譬如(0.3 1.7 0.6)，代表一樓裝 n=0.3 的
阻尼器，二樓裝 n=1.7 的阻尼器，三樓裝 n=0.6 的阻尼器。另外，經由測試發現，各樓層安裝
的阻尼器中，當 n 值稍微增大或減小，其控制效果很接近，譬如搭配(0.3 1.7 0.6)的阻尼器，
若將二樓的阻尼器由 1.7 改為 1.6 或 1.5，或將一樓 0.3 的阻尼器改為 0.4 或 0.5，其控制效果
與原本的搭配相近。最佳化結果只列出三層樓中，各樓層阻尼器的 n 值，不列出該 n 值所搭
配的 c 值，各種 n 值與 c 值的搭配，在前一節已介紹過，在表 4-1 可查到 n 值與 c 值的搭配。 
在此不列出外力 ( ) sin(40 )p t t= 的最佳化結果，因為經過最佳化分析以後發現，各樓層都
裝 n=0.3 的阻尼器時，對所有的控制都是最好的，都裝 n=1.7 的阻尼器最差，因為此外力很小，
結構反應也很小， n 值較小的阻尼器可以提供較大的力量，所以對結構控制的效果比較好，
其控制結果已在 4.2 節中介紹過。 
4.2.1  位移控制取向 
經過基因演算法的最佳化配置，整理結果如表 4-2 。由表中可以看出，結構受 El centro
外力作用時，若在一樓和二樓裝 n 值最大的阻尼器，在三樓裝 n 值最小的阻尼器，對結構的
位移控制最好；受 TCU107 外力時，(最大 最大 0.3~1.7)的阻尼器搭配較好，受 CHY041 外
力時，(最大 最小 最小)的搭配，對位移控制較好。綜合以上結果，若希望結構物受地震力
後的層間變位最小，其安裝阻尼器的選擇搭配就是，在一樓裝 n 值最大的阻尼器，並在三樓
安裝 n 值最小的阻尼器，這樣會有最好的位移控制。 
在最差配置表 4-6 中，可以看到有一些搭配，其控制率為負數，控制率是
安裝阻尼器之最大反應 - 空架構最大反應
空架構最大反應 ，控制率為負數就代表安裝阻尼器以後反而使結構位移更
大，這是因為本研究設定的 c 值都偏大，安裝阻尼器以後，改變了結構週期與振態頻率，在
這些搭配之下，結構週期與外力週期接近，造成系統共振，導致其結構反應變大，因此在安
裝阻尼器時要注意，應盡量避免(最小 最大 小於 1)的搭配。 
表 4-2 位移控制取向最佳配置與最差配置 
 El Centro TCU107 CHY041 
最佳配置 與    
控制率% 
(1.7 1.7 0.3) 60.23%
(1.7 1.7 0.4) 60.06%
(1.7 1.7 0.5) 59.93%
(1.7 1.7 0.3) 53.63%
(1.7 1.7 0.5) 53.04%
(1.7 1.7 0.7) 53.02%
(1.6 0.3 0.3) 29.41% 
(1.7 0.4 0.3) 28.81% 
(1.7 0.3 0.3 )29.35% 
最差配置 與    
控制率% 
(0.3 1.7 0.6) 16.52%
(0.3 1.6 0.5) 16.61%
(0.4 1.7 0.6) 16.52%
(0.3 1.7 1.0) -53.39%
(0.3 1.7 0.9) -53.44%
(0.3 1.5 0.8) -53.65%
(0.3 1.6 1.0) -35.42% 
(0.3 1.7 1.0) -36.06% 
(0.3 1.7 0.9) -36.70% 
4.2.2  加速度控制取向 
經過基因演算法的最佳化配置，整理結果如表 4-3 。受 El centro 外力作用時，由一樓到
三樓分別安裝(最大 最大 偏大)的阻尼器搭配，對結構的加速度控制最好；受 TCU107 外力
時則為(最大 最大 中等)的阻尼器搭配；受 CHY041 外力時， (最大 最大 偏大)的阻尼器搭
配較好。綜合以上結果，若希望結構物受地震力後的樓層加速度最小，其安裝阻尼器的選擇
搭配就是，在一樓與二樓安裝 n 值最大的阻尼器，並在三樓安裝 n 值比 1 稍大一些的阻尼器。 
在表 4-3 也列出了會造結構與外力共振的最差搭配，綜合三種外力可發現，若在三樓安
 -8-
表 4-6  受 CHY041 地震力最佳化設計 
阻尼器搭配 (1.4 0.9 0.3) (1.6 1.0 0.3) (1.7 1.1 0.3) 
基底剪力控制, % 93.94 93.86 93.77 
系統吸收能量控制, % 62.11 56.24 45.83 
最大加速度控制, % 77.67 77.09 76.63 
最大層間變位控制, % 73.80 74.23 74.67 
阻尼器最大出力, N 13740 13743 13773 
4.3.4  綜合評比 
將以上整體最佳的配置方法整理如表 4-7，其中阻尼器 n 值由一樓排到三樓，n 值只是一
個概念，n=1.7 的阻尼器，代表 n 值最大的阻尼器，若用 n=1.6 或 n=1.5 的阻尼器來取代，其
效果差不多，同樣的道理，n=1 的阻尼器，用 n=0.9 或 n=1.1 的阻尼器代替，也有相近的控制
效果。 
由表中數值可以發現，若同時考慮不同地震力的影響，要在樓房安裝阻尼器並產生較好
的控制效果，一樓一定要安裝 n 值最大的阻尼器，二樓與三樓則視設計需要如各種地震型態
來選擇。 
 
表 4-7 最佳化配置表 
地震力 位移取向 加速度取向 整體最佳化 
El Centro ( 1.7 1.7 0.3 ) ( 1.7 1.7 1.3 ) ( 1.7 1.7 1.5 ) 
TCU107 ( 1.7 1.7 0.5 ) ( 1.7 1.7 0.9 ) ( 1.7 1.6 1.0 ) 
CHY041 ( 1.7 0.3 0.3 ) ( 1.7 1.7 1.4 ) ( 1.6 1.0 0.3 ) 
4.3.5  驗證 
 以上章節，一共做了五種最佳化分析(位移控制取向最佳配置、位移控制取向最差配置、
加速度控制取向最佳配置、加速度控制取向最差配置與整體最佳配置)，搭配三種地震力(El 
Centro 地震力、TCU107 地震力與 CHY041 地震力)，共有 15 種最佳化的結果。然而本研究
設定了 15+1 種(不安裝也算一種)阻尼器，安裝在三層樓房上，共有 4096 種搭配方法，可以
將這 4096 種搭配，一一求出其受地震力的反應，來驗證基因演算法是否正確。 
  在 15 種由基因演算法求出的最佳化結果當中，每一種最佳化結果都列出了前三個最佳
組合，將這些組合與求出所有搭配結果互相比較後發現，基因演算法所列出的前 3 名與求出
所有搭配的前 3 名幾乎完全吻合，只有在 El Centro 之位移控制取向最差配置有點小誤差。將
求出所有搭配中，El Centro 之位移控制取向最差配置的前 5 名列在表 4-8，與表 4-2 對照比較
可知，受 El Centro 地震力後，位移取向最差配置中，基因演算法找到了表 4-8 中的第 1、2、
4 名，而沒有找到第 3 名的搭配。不過 3、4 名的差距非常小，在計算誤差的合理範圍內，且
並不影響結論，由此可知，以基因演算法來求解此問題，是可行的方法。 
 -10-
3. D. E. Goldberg, ‘Genetic Algorithm in Search, Optimization and Machine Learning’, Addison 
Wesley, New York, 1989. 
4. Holland , J., ‘Adaptation in Natural and Artificial System’, University of Michigan Press, Ann 
Arbor, 1975.  
5. Chen, T.Y. and C.J.Chen, ‘Improvements of Simple Genetic Algorithm in Structural Design, 
International Journal for Numerical Methods in Engineering’, Vol.40, 1997, pp.1323~1334。 
6. Chopra, Anil K., ‘Dynamics of Structures: Theory and Applications to Earthquake Engineering’, 
Prentice Hall, Upper Saddle River, N.J., 2001, Chapter 3. 
7. Chopra, Anil K., ‘Dynamics of Structures: Theory and Applications to Earthquake Engineering’, 
Prentice Hall, Upper Saddle River, N.J., 2001, Chapter 5. 
8. 林聰悟、林佳慧，「數值方法與程式」，圖文技術服務有限公司，民國 86 年，第一章。 
9. 林永盛，「基礎結構動力(下)」，文笙圖書有限公司，第六章。 
10. 林錦隆，「半主動摩擦阻尼器於結構防震應用」，高雄第一科技大學營建工程系研究所碩
士論文，2001。 
 
個令人痛心的事件，卻正好被主辦單位拿來做為炒作的資料，一再強調政府為
此事件做了多少漂亮的事情，不論在地震偵測、資料蒐集、緊急救難、善後處
理、危機處理、政策明快、地震規範．．．等諸多方面都可以在會議中大肆宣
染。下午開始有各場次的口頭報告及研討。吳騏、林于傑和我本人的論文
「Performance Test and Mathematical simulation Model of MR dampers」
被排在第一批場次中，而這篇論文又在該場次中被排在第一篇發表，我覺得是
我們的光榮！本文是林于傑同學兩年前的碩士論文，其中，磁流變液的調製、
磁流變阻尼器的製作、以及性能測試，他都做了很好的工作，留下了寶貴的資
料。另一位共同作者吳騏則利用這些試驗成果進行了 Modified Bouc-Wen 
Moedel 的參數測試及數值模擬工作。在磁流變阻尼器的研發過程中發揮了實質
的具體意義，使我們對自製 MR-damper 增加了信心。雖然只是模型測試，顯然
可以讓我們勇於步入足尺寸磁流變阻尼器製作的里程。林于傑（第二作者）剛
剛退伍，還沒有找工作，想要全力準備參加國家考試，在此空檔期間正好可以
到北京訪友參觀，他便報名了此研討會，當日我作論文報告時，他也出席了！
對我而言倒是一個少有的經驗，以前出國參加國際研討都是我一人前往，偶爾
也有我實在無暇前往、但已報名時，就由共同作者前往，而此次會議，除我之
外，尚有共同作者在場，心中甚是溫暖，林于傑自費參與，想來也添增了一些
寶貴經驗，算是美事一樁也。 
  在會場中見到了成大建築系的張嘉祥教授，他的學生也出席了，想來他研
究經費較為充裕所以能讓學生也來出席會議吧！ 
禱！ 
  在赴北京之前，我利用時間前往上海，北京會議之後，我到杭州待了兩天，
很紮實的享受了這幾天的時間，見到不少親人長輩，在雙林徐氏編修家譜聲中，
堂弟陪我到了我還沒去過的家鄉－湖州雙林鎮。找到了我的曾曾祖徐有壬的故
居老宅，門前有一碑，寫著國家重點文物保護徐有壬老宅字句。徐有壬曾任江
蘇省巡撫，是當代中國八大數學家之一，宅院一樓早已在文化大革命時期充公，
分給多人居住，二樓則早已殘破，無法居住，正在申請政府撥款修復中，大宅
院內竟仍有徐家後代徐德竑居住其中。 
  家譜中有一文「掃墓記」，記載曾有前往草蕩漾村掃幕祭祖－徐玉章－一
事，我們尋到草蕩漾村，一片農村景像，村里幹事帶我們去見到一位 97 歲老先
生，他說以前有許多祠堂及墓地，均在文化大革命期間被拆毀掃平，他也無法
記得徐玉章之墓何在，所以我們可謂「實地訪察未果」。不過有一事倒是令我驚
訝。我們在一鄉間小店探問之下，原來他們（包括我經過的庠上村和草蕩漾村）
幾乎全部都是基督徒！引發我甚大的興趣與心情上的衝擊！福音傳到如此鄉村
部落，神真是不偏待人！福音哪裏只是文明世界的休閒玩意兒？ 
  離開大陸的那一天，我在杭州，仁方叔叔帶我去了當地才興建了三、四年
的禮拜堂參加主日崇拜，再次體會福音擴散的場面，五百人的禮拜堂座無虛席，
穿著樸實。我旁邊的老姐妹，將她的秩序單給我，我請她留名，她很困難的寫
下她的名字，誰說福音是知識份子中間的高級社交享受？我再次要長嘆一聲
說：「台灣啊！妳好像在許多方面都趕不上別人了呢！」 
