目次
摘要.................................................................................................................................................. 3
一、研究動機與目的...................................................................................................................... 3
二、設計原理、研究方法與步驟.................................................................................................. 5
三、效能評估與成果...................................................................................................................... 7
四、結論........................................................................................................................................ 10
參考文獻........................................................................................................................................ 11
計畫成果自評................................................................................................................................ 12
多程式安全通告的網站，但是卻很難找到可以主動對程式進行評估的網站。我們認為，與
其在漏洞被發現之後才發佈程式安全通告，事先對程式進行驗證及測試對於預防安全問題
而言可能是一種更有效的方法。
我們的短期目的有三：
﹝一﹞建立新型態的破解訓練網站：不同於傳統的破解訓練網站，我們計劃建構一個
模組化的破解訓練網站。每道題目都成為一個模組並可隨時進行新增與刪除等操作。
﹝二﹞建構程式安全評估網站：藉由將要測試的程式製作成一道破解訓練的題目，我
們可以測試程式是否安全並建立該程式的安全評估結果。
﹝三﹞建構程式安全完整工具鏈：在前台破解訓練網站運作的同時，後台將需要對軟
體安全進行評估與測試的工具。我們計劃建立起一套對軟體進行自動分析、測試並破解的
完整工具鏈。
我們的長程目標為軟體安全與驗證平台(IV&V)，建立起一個軟體安全與驗證平台，並
檢查程式碼是否符合安全標準。
 計畫重要貢獻
相較於傳統的破解訓練遊戲，我們的成果有以下優勢：
﹝一﹞破解訓練題目模組化：以往的破解訓練遊戲都是將許多道關卡放在同一臺主機
上，題目之間甚至可能互相影響，必須仰賴系統管理員手動調整才能新增或刪除關卡。在
我們的架構中，我們將每道題目視為一個模組，採用模組化的方式管理，使得新增或刪除
題目能非常簡便的完成，甚至可讓使用者上傳新題目，讓系統自動處理。
﹝二﹞採用虛擬機器架構：在我們的架構中，每一道題目就是一臺虛擬機器，可以依
照每道題目的需求不同而調整虛擬機器的環境。所有的題目都是獨立存在的，也因此更增
加了系統的安全性。
﹝三﹞前後端網頁介面整合：以往的破解訓練遊戲很多都是終端機介面的，或者網頁
介面僅提供作註冊帳號使用。本計畫強化網頁介面的功能，使網頁介面不只能註冊帳號，
也可進行後台題目的管理，新增題目，以及用 WebShell 直接在網頁上進行訓練等。我們將
使用和管理上所會用到的功能都與網頁介面做緊密的結合，使網頁介面不僅呈現前端使用
介面，更可用來進行後端管理。
圖 2.1 建構在虛擬機器上的系統架構圖
由圖中可看出，包含網站介面與主控機等整個系統都架構在虛擬機器上面。在本次實
做中，我們採用 Xen 做為虛擬機器平台。其中主控機將系統明顯分為前台與後台兩部份：
前台為網站介面，後台為每一道題目的虛擬機器。前後台共用的帳號系統則建立在主控機
上，用 LDAP 讓前後台的機器都可以使用同一套帳號密碼。在後台部分有一臺生成機，工作
是在使用者上傳新題目或系統從網路上更新題目後，建構題目所需的環境，並將題目製作
成一臺新的虛擬機器。
前台與後台除了功能上的區分外，所使用的網段也不同，並由主控機進行轉接。此部
分主要考量到安全問題，因前台網頁介面本身極可能遭受破解，所以我們希望藉由主控機
將前台與後台分離的方式，使得前台網頁即使被破解也能不影響後台系統運作。在實做中，
主控機本身為防火牆，將後台主系統與前台介面分隔，並在有使用者要登入進行破解時才
做轉接。
圖 3.2 破解訓練題目列表
使用者選定題目開始進行破解訓練後，該道題目的虛擬機器便會啟動。系統會要求使
用者輸入通行碼，以作為使用者破解成功的認證。此通行碼每個使用者在每道題目時都不
相同，是一組獨一無二的亂數編碼。輸入通行碼的畫面如下圖 3.3。
圖 3.3 破解認證畫面
使用者可選擇使用 WebShell 進行破解，或是使用慣用的 client 端以 SSH 的方式連入
系統進行破解。在系統架構中，雖然每道題目都是不同的虛擬機器，但因為帳號密碼會同
步到 LDAP 伺服器上，所以使用者都可以利用同一組帳號密碼登入進行破解。破解成功後，
使用者即會如下圖 3.4，取得網頁介面認證所需之通行碼。
圖 3.6 使用者排名
以上為使用者從註冊到解題完成的一般流程，在網站上皆已實作完成，並可直接使用。
四、結論
本計畫實做一個線上評審與破解訓練網站，以作為軟體安全及驗證平台之前導試驗。
破解訓練網站已成功架置在 http://wargame.cs.nctu.edu.tw/，並開放使用，此系統的成
功也間接確認了軟體安全及驗證平台的雛型。在本計畫中，我們成功的做出了下列優勢功
能：
﹝一﹞破解訓練題目模組化：將每道題目製作成一個模組，可輕鬆新增或刪除任一道
題目而不影響整體架構。除了方便管理外，更增加了自動化的功能，使系統可以自動更新
軟體漏洞列表，自動加入新題目或將使用者上傳的題目自動模組化。
﹝二﹞虛擬技術應用：將每道題目製作成一臺虛擬機器，除了使題目之間不互相干擾，
增加安全性之外，更可以依照每道題目對作業系統、共用函式庫、軟體版本等要求不同而
調整每台虛擬機器的環境。所有的題目都以虛擬機器範本的型式存在，可視需求自由啟動
或關閉。
﹝三﹞帳號與網頁系統：採用 LDAP + MySQL 資料庫管理帳號，擴充性強，並可讓每台
虛擬機器都使用與網頁相同的帳號密碼登入。網頁部分整合帳號功能、題目管理、WebShell
直接使用等，將前後端功能都結合在網頁上，達到方便使用、方便管理的目標。
接下來將以建立完整軟體獨立安全驗證平台為目標，繼續加強網站及後台功能，以期
真正落實本計畫之長程目標。
