 
1
行政院國家科學委員會專題研究計畫成果報告(完整版) 
不確定需求及分批配送策略下的固定途程規劃(2/2) (The fixed routes of VRP with 
lumpy demand and split deliveries, 2/2) 
 
計畫編號：NSC 95-2221-E-230-015 
執行期限：95 年 8 月 1 日至 96 年 7 月 31 日 
主持人：蔣治平  正修科技大學 工業工程與管理系 
 
摘要：本研究著眼於多期間且不確定需求的車輛固
定路線規劃，考慮顧客需求間的相關性及允許分批
配送，藉由降低週期間的需求變異，以維持規劃期
間內的固定路線安排及提高車輛的承載率。本研究
探討三個相關模式。模式一考慮需求相依及限制每
期路線的負荷量不得超過車輛承載上限下，求解期
望配送成本極小化的固定路線規劃。模式一利用遺
傳演算法縮尋最佳的 TSP 路程，再以動態規劃分割
TSP 路程成數個路線，每一路線即為一條固定路
線。模式二放寬每期車輛承載上限的限制，只要每
條固定路線在規劃期間內的總負荷，不超過規劃期
間的車輛總承載上限即可，並允許藉由分批配送方
式，將超出負荷的瓶頸量調撥至其他期間配送之，
模式二的目標則加入因處理調撥量而發生的調撥成
本。模式二延續模式一的求解程序，但是增加分批
配送演算程序以指派瓶頸量的配送時間。模式三則
希望在路線規劃期間能降低固定路線的變異程度，
但是變異程度、配送成本及調撥成本間的目標衝
突，因此將模式延伸至多個目標的不確定固定途程
規劃問題，模式三利用多目標遺傳演算法(MOGA)
搜尋伯拉圖最佳前緣的最適解集合。相較於文獻中
的 VRP 問題，本研究有下列四點獨特性(一)考慮多
期間的不確定需求並以分批配送方式處理之，(二)
加入需求相依性關係，不需假設需求分配，(三)同時
於 GA 程序中導入動態規劃設計，使得機率性演算
法具有最佳化設計架構，(四)文獻中尚未出現多期間
不確定性需求的多目標 VRPSD 規劃問題。演算實
驗結果將驗證路線規劃的達成率、多期間的分批配
送策略對於車輛承載率的影響，同時亦將驗證演算
程序的求解品質及執行效率。 
 
關鍵詞：車輛路線規劃，最佳化，分批配送，遺傳
演算法，動態規劃 
 
Abstract: This study addresses the fixed routes of 
vehicle routing problem in a multi-period lumpy 
demand environment. Three models considering the 
correlation of customers demand in a same route and 
employing split deliveries are proposed. The first model 
incorporates the covariance properties in the route 
clustering stage to improve the achievement of fixed 
routes planning. A genetic algorithm combined the 
dynamic programming is developed to solve this 
problem. In the evolution procedures, using the genetic 
algorithm to find the candidate TSP routings, every 
routing is further partitioned into several routes in term 
of dynamic programming. In the second model, we 
relax the constraints that the sum of customer demand 
can not exceed vehicle capacities in every period of 
fixed route, instead that the total customer demand can 
not violate the upper bound of vehicle capacities in the 
planning horizon. In such a way, the customer demand 
exceeding the limitation of capacities can be allowed to 
split deliveries in the same fixed route, but distinct 
periods. An optimal approach developed from the first 
methodology is used to find the solution. In the last 
model, we modify the second model as a problem of 
multi-objective programming of VRPSD, based on the 
conflict of objectives in multi-period, lumpy demand, 
and split deliveries environment. A multi-objective 
genetic algorithm is developed to find the solution of 
Pareto optimal frontier. This study is significant in 
considering the split deliveries in the multi-period to 
improve the achievement of fixed routes planning, 
incorporating the correlation of customers demand and 
that of distinct periods to reduce the vehicle’s load 
variance, involving the optimization principle into the 
genetic algorithm, and developing the multi-objective 
programming approach to solve the fixed routes of 
VRPSD. These features are seldom found in the similar 
literature. Computational experiments will be 
conducted and the results are used to compare with that 
of literature to verify the effectiveness of the proposed 
approach. 
 
Keywords: Vehicle routing problem, Genetic algorithm, 
Split delivery, and Dynamic programming 
 
1. 前言 
車輛路線規劃(vehicle routing planning, VRP)是
在已知單一配送中心及顧客配送需求下，規劃一組
不違背車載容量限制的配送路線往返於配送中心，
以獲得最小化的配送距離成本。近數十年，VRP 問
題延伸出許多實際的應用模式，例如不同承載限制
的 CVRP 模式，考慮服務時間及抵達時間區間（視
窗）限制的 VRPTW 模式，多個轉運中心的 MDVRP
模式、多期（週期）變動配送的 PVRP 模式，以及
參數具隨機特性的 SVRP 模式等，詳細的 VRP 問題
分類與模式特性可以參考 Bodin and Golden (1981), 
Bodin et al. (1983), Ballou (1990), Lawler et al. (1985), 
Laporte and Nobert (1987), Golden and Assad (1988), 
Laporte (1990), Laporte and Osman (1995), Crainic and 
Laporte (1997), Gendreau et al. (1996)。 
 
3
參考自身標準，選擇適當的可行解。Park and 
Koelling(1989)利用多準則決策法則(MCDM)發展交
互式演算程序，求解四個目標的 VRP 問題。Sutcliffe 
and Board(1990)考慮多目標的 VRP 模式求解人員運
輸問題。Butt and Ryan(1999)發展最佳化的演算法，
求解資源回收的多目標 VRP 問題。有關多目標評估
及演算程序可參考 Fonseca(1995), Coello(1999), 
Zitzler(2000), Jones et al.(2002)。 
由於不穩定且波動的顧客配送量，容易造成車
輛承載率低，或是因超過車輛負載而無法維持原先
的固定路線規劃。當面對波動的配送需求，業者可
能增加額外的車輛調度來因應需求大量增加的情
況、或是直接回絕顧客的配送要求，可能合併數個
配送需求量而採一次配送方式以減少車輛使用成
本。這些措施均會引發管理不善及增加處理費用等
問題，尤其採用固定途程規劃時，管理者需額外思
索高配送需求時的車輛負荷問題。若以顧客的平均
配送數量（ D ）為基準，在常態分配下會有 50%的
機率無法維持計畫的路線規劃，因此為了減少路線
失敗機率，需以高於平均值的顧客配送量（D= D + 
)(1 DVarZ α− ）為路線規劃基準，才能維持固定途程
達成機率在(1-α )水準。文獻中的不確定需求 VRP
問題，一致假設顧客需求服從特定機率分配，顧客
間的配送需求互為獨立，忽略路線規劃是以整車依
序配送數個顧客，路線中的顧客需求量彼此相依
(dependent)，因此在進行路線規劃時，除了加總配送
需求量的平均負載量外，需進一步考慮配送需求間
的共變異(covariance)效果。任意兩個隨機變數(x, 
y)，加總的變異數為 Var(x+y)=Var(x)+Var(y)+Cov(x, 
y)，若(x, y)互為獨立則 Cov(x, y)=0，若(x, y)相依且為
正相關則 Cov(x, y)>0，若(x, y)相依且為負相關則
Cov(x, y)<0。規劃路線時若將正相關的顧客合併成一
條配送路線，將會使車輛的承載變異程度加大；若
是將彼此呈負相關的顧客需求合併成一條路線，則
可縮小車輛承載量的變異，有助於服務更多的顧客
需求，或是提高固定途程的達成率。 
本研究考慮多期間且不確定需求的固定路線規
劃，在顧客需求互為相關的前提下，允許藉由分批
配送方式，克服週期間的需求變異，以維持原先固
定路線安排及提高車輛的承載率。本研究提出三個
模式完整地探討本問題。模式一：考慮需求相依及
限制每期路線的負荷量不得超過車輛承載上限下，
求解期望配送成本極小化的固定路線規劃。模式一
利用遺傳演算法縮尋最佳的 TSP 路程，再以動態規
劃分割 TSP 路程成數個路線，每一路線即為一條固
定路線。模式二：放寬每期車輛承載上限的限制，
只要每條固定路線在規劃期間內的總負荷，不超過
規劃期間的車輛總承載上限即可，並允許藉由分批
配送方式，將超出負荷的瓶頸量調撥至其他期間配
送之。模式二的目標加入因處理瓶頸量所發生的調
撥成本。模式二延續模式一的求解程序，但是增加
分批配送演算程序，用以指派瓶頸量的配送時間。
模式三：每期固定路線的變異程度，會影響固定途
程規劃的達成率，因此在路線規劃的同時希望能降
低路線的變異程度。由於變異程度、配送成本及調
撥成本間的目標衝突，因此擴展模式二成為四個目
標的不確定 VRPSD 規劃問題，模式三利用多目標遺
傳演算法(MOGA)搜尋伯拉圖最佳前緣的的非超越
解集合。 
相較於文獻中的 VRP 問題，本研究有下列四點
獨特性（一）考慮多期間的不確定需求並以分批配
送方式處理之，（二）加入需求相依性關係，不需假
設需求分配，（三）同時於 GA 程序中導入動態規劃
設計，使得機率性演算法具有最佳化設計的架構，
（四）文獻中尚未出現多期間不確定性的多目標
VRPSD 規劃問題。 
 
 
2. 問題定義 
配送需求變異程度是固定路線規劃可否以達成
的關鍵性因子，而配送需求的總變異是顧客需求變
異的加總，因此在路線內的顧客需求互為相依時，
共變異關係需於路線規劃時納入車輛承載的計算
內。本研究假設已知顧客數和規劃期間內各顧客的
平均配送量和變異數，顧客配送量間的相關係數可
由歷史資料計算出。假設各顧客間和顧客至配送中
心的配送時間已知。每一固定路線由一部車輛負責
配送，車輛型式一致且相同車載容量。車輛在單一
配送中心的統籌下，由配送中心出發，配送至最後
一個顧客後返回至配送中心。本研究使用的數學符
號如下： 
i, j：顧客編號，i, j= 0, 1, ..., m；顧客 0 表
示配送中心； 
dij：表示顧客 i 與顧客 j 的配送成本（距
離或時間）； 
sv：表示 TSP 途程上分割點的順序編
號，v=1, ..., V；由於 TSP 途程的最後
一個顧客，同樣也是第 V 條路線的最
後顧客，因此 sV =m； 
l(i)：顧客 i 在 TSP 路線的相對順序； 
esv：選取分割點 sv 切割 TSP 途程所增額
的配送成本，esv可以藉由 Clarke and 
Wright（1964）的節省法導出 esv = dsv,0 
+ d0,sv+1 - dsv,sv+1。基於三角不等式原
理，則 esv≥ 0，分割 TSP 途程只會增
加配送距離，； 
t, p：規劃期間，t, p= 1, 2, …, T； 
DTSP：TSP 途程的總配送成本； 
qjt：顧客 j 在第 t 期的配送需求量； 
Lvt：表示第 v 部車輛在第 t 期的承載量；
Lv：表示第 v部車輛在規劃期間內的總承
載量； 
),( )()( qqCov tjltil ：表示顧客 i、 j 需求量的共變異
(covariance)； 
),( )()( qq tjltilρ ：表示顧客 i、 j 需求量的相關係數
(correlation coefficient)； 
w：車輛的承載量上限值。 
第 v 部車輛在第 t 期的承載量 Lvt= ∑
+−=
vs
vsj
tjlq
1
)(
1
，在
不確定環境下的 Lvt 期望值及變異數為： 
 
5
承載變異程度。為尋求更均衡及更小變異程度的路
線規劃，放寬模式二只能調撥瓶頸量的限制，只要
有助於達成多目標，任意固定途程在任一期間均可
調撥配送量。 
 
 
3.  求解設計 
本研究發展以遺傳演算法為基礎（GA-based）
的求解程序，規劃模式一、二的固定車輛路線。演
算程序將最佳化設計的架構導入於 GA 演算程序
內，加強機率性演算程序搜尋整體最佳解的能力。 
 
3.1 模式一求解程序 
演算程序先利用 GA 產生 TSP 途程的可行解，
再利用動態規劃程序將 TSP 途程分割成數個子序列
（每一子序列即為一條路線）。演算過程在遺傳演算
的複製、交配及突變運算元下產生下一代新解，再
藉由動態規劃決定最佳的車輛數、車輛固定路線及
總成本，求解程序反覆進行直到符合收斂條件為
止。GA 和動態規劃的設計，於下面章節中描述之。 
 
3.1.1 可行解編碼及適合度函數 
可行解的編碼型式是以整數序列表示 TSP 途
程，序列上的數值表示顧客編號，序列上的順序則
相對於車輛行經 TSP 途程的順序，例如 p = (3, 2, 5, 8, 
6, 4, 7, 1)，表示車輛由配送中心先經顧客 3，再顧客
2，……等，最後經顧客 1 回到配送中心。本研究的
編碼方式（1）有助於求解較大規模的 VRP 問題；（2）
此序列可經由動態規劃在車輛容量限制下進行最小
增額成本的 TSP 途程分割，不需事先規劃車輛數，
也不需於求解程序中發展演算法則，進行固定路線
的調整作業，或是利用懲罰函數（penalty function）
來剔除不可行解。 
適合度函數用以篩選優值的可行解，作為複製
下一代可行解的準則。由於本研究的目標值是極小
化總操作成本，因此需正規劃可行解的適合度函數
值，使越小總成本的可行解具有較高的適合度。令
OC(s)表示可行解 s 的操作成本，MINOC 表示所有可
行解（母體）中最小的操作成本值，則可行解 s 的適
合度函數值定義為 f ′(s)=MINOC/OC(s)，則 f ′(s) 分
佈於[0, 1]。 
 
3.1.2 運算元設計 
可行解（染色體）經過適合度函數計算之後，
可據以保留優質的可行解以產生下一代可行解（子
孫解），篩選過程運用複製、交配及突變三種方式。 
複製運算元藉由適合度函數值，進行下一代可
行解的複製程序。複製運算修改 Booker (1987) 的隨
機複製法則，先計算每一可行解的期望值 n(s)=(f ′( s)/ 
)(1
' sfN∑ )× pop-size，其中 pop-size 表示母體中的可
行解個數，再由大至小排序 n(s)值。取 n(s)的整數值
部分，為下一代可行解複製個數的依據，取 n(s)的分
數值部分，作為是否再追加複製一個可行解的接受
機率。複製程序持續至新一代的可行解個數達到 N
為止。 
交配運算元用以交換兩個 TSP 序列中的部分基
因，演化出下一代的可行解。因此子代中的 TSP 序
列保有前一代可行解的優良特質。假設 s1, s2為可行
解集合中的兩個 TSP 序列，s1s 、s2s為其下一代 TSP
序列。交配運算從 TSP 序列中隨機產生一個交配
點，此交配點分別將 s1, s2區分成前、後兩段路線子
序列。s1s(s 2s)的產生則是先刪除 s 1(s2)序列中與 s2(s1)
後段路線子序列相同的顧客編號，由左至右重新安
置 s1(s2)序列中的剩餘的顧客，再將 s2(s1)的後段路線
子序列置換至 s1(s2)序列中的後段位置。 
突變操作元具有活化演算程序的搜尋能力，持
續擴張可能的搜尋區域，以避免求解程序陷落局部
最佳化中。突變方式針對 TSP 途程序列（可行解），
隨機進行兩位置上的顧客編號置換。 
 
3.1.3 置換策略及終止法則 
GA 運算元產生下一代子系可行解之後，將進一
步篩選現行父系及下一代子系可行解，作為下一遺
傳演化的母體。因此置換策略將篩選出具優質特性
的可行解，如果子系可行解優於現行父系可行解，
則將子系可行解引入下一代母體中，否則有條件地
接受子系可行解，機受機率(AP)為 AP= EXP{-(OC(sc) 
-OC(sp))}，其中 OC(sp)表示現行父系可行解的總成
本，OC(sc) 表示下一代子系可行解的總成本。有條
件地接受較差的可行解，可避免遺傳演算過程太早
陷入局部最佳求解空間內。 
GA 持續使用複製、交配和突變運算子產生下一
代可行解，直到符合收斂條件為止，收斂母體中最
佳適合度函數值，所對應的組合即為收斂的最佳可
行解。本研究定義兩種收斂條件，第一種為演化代
數，如果 GA 程序連續演化至設定的最高代數限制，
則停止演算程序；第二種最好、最壞的適合度函數
值相同，此時交配運算子已無法進一步演化新的下
一代，則終止演算程序。 
 
3.1.4  TSP 途程的動態規劃程序 
途程分割是在 TSP 序列中決定一個分割顧客
（sv），此分割點是一條路線最後配送的顧客，該分
割點在 TSP 序列之後的顧客（sv+1）則為下一條新路
線配送的第一個顧客。因此分割程序即在不違背車
載容量限制下，尋找序列中的一組切割點，從 TSP
序列中分割出一組路線而且獲得最小總成本。令 nv
表示第 v 路線（車輛）所配送的顧客個數，則 nv= sv- 
sv-1；令 fv(sv, nv)表示第 v 條路線以 sv為分割節點，服
務 nv 個顧客所增加的配送成本。TSP 途程分割問題
可以定義為，在極小化增量配送成本的目標下，搜
尋 V 個分割點（s1, …, sV），將 TSP 序列分割成 V 條
不違背車載容量限制的路線。在第 v 階段，TSP 途程
分割模式變成： 
Minimize 
fv(sv, nv) = cd T esv + f*v-1 (sv-1)                 (15) 
 
Subject to 
nv  ≥ 1                                   (16) 
E(Lvt) + )(1 LVarZ vtα− ≤w  for all t, v         (17) 
其中 s0=0, f0*(s0)=0, 且 fv*(sv)= vnmin {fv(sv, 
nv)}。由於 TSP 分割程序是在既有的 TSP 途程下搜
 
7
4。hq(Z)為原有的目標函數的正規劃值。 
 
3.3.2 運算元設計 
交配運算置換兩個可行解中的部分基因，演化
出下一代的可行解。假設 p1,  p2 為兩個可行解，
p1s 、p2s為其下一代可行解。交配運算從可行解中隨
機產生一個交配點，此交配點分別將 p1, p2 區分成
前、後兩段路線子序列。p1s (p2s)的產生則是先刪除
p1(p2)序列中與 p2 (p1)後段路線子序列相同的基因編
號，由左至右重新安置 p1 (p2)序列中的剩餘的顧客，
再將 p2 (p1)的後段路線子序列置換至 p1 (p2)序列中的
後段位置。若某一隨機值<突變機率，進行兩隨機位
置（r1, r2）上的基因置換。 
複製運算先計算每一搜尋方向可行解的期望值
e(fitk(Z))= (fitk(Z)/ ))(1∑K k Zfit ×  pop-size, k∈K，其中
pop-size 表示母體中的染色體個數，再由大至小排序
e(fitk(Z))值， k∈K。取 e(fitk(Z))的整數值部分，為
下一代可行解複製個數的依據，複製程序持續至新
一代的可行解個數達到 pop-size 為止。如果新一代子
系可行解優於現行父系可行解，則將子系可行解引
入下一代母體中，否則有條件地接受子系可行解。
有條件地接受較差的可行解，可避免遺傳演算過程
太早陷入局部最佳求解空間內。 
 
3.3.3  MOGA 演算程序 
程序設計進一步針對多方向搜尋策略，參考
uniform weight search, random weight search制訂一套
改良式的搜尋策略，讓各目標的權數可以在遺傳過
程中隨之而演化，因而找到更佳的伯拉圖非超越
解。完整的演算程序如下： 
Step 1: Set parameters of MOGA with multiple fitness 
functions 
Step 2: Generate a set of initial solution and estimate 
the fitness function of solution in different 
directional K by (20). 
Step 3: Employ the operators, crossover and mutation, 
to produce new offspring. 
Step 4: Evaluate the fitness of new offspring. Use the 
replacement rule to select next generation until 
the pool is full. 
Step 5: Add the newly created generation to the set of 
Pareto optimal solutions, and remove all the 
dominated solutions from the ones. 
Step 6: If the termination criteria are met, stop the 
evolution procedure. Otherwise, return to Step 
3.  
MOGA 演算至設定的最高代數或是經過五次演
化均沒有發現新的超越解，則停止演算程序。最後
一代的可行解即為最佳的非超越解集合。 
 
3.4 演算實驗與資源運用 
為了驗證演算程序在求解固定路線規劃的效
用，除了透過實驗設計分析遺傳運算元的參數組合
（如母體大小、交配機率、突變機率及演算代數）
外，演算實驗將比較(1)採用模式一、二的優勢；(2)
提升固定路線規劃達成率的程度；(3)模式一、二間
的車輛使用及成本差異；(4)比較改良式 MOGA 程序
與文獻中的方法在求解品質及收斂速度的差異；(5)
比對伯拉圖最佳前緣解集合和模式一、二的最佳解。 
 
 
4. 結果與討論 
本研究著眼於多期間且不確定需求的固定配送
路線規劃，考慮顧客需求相依性及利用分批配送方
式降低規劃週期間內的需求變異，以維持固定路線
安排的達成率及平衡各期間車輛的承載率。研究
中，分別制訂模式一的單期不確定需求的 VRP 模式
及模式二允許分批配送作業策略的的多期 VRP 模
式，並發展以 GA 為基礎的演算程序進行求解，演算
程序結合動態規劃程序進行 TSP 路線的分割，以建
構最適目標值的固定路線規劃路，因此演算程序具
備最佳化設計的結構。 
本模式只應用到歷史資料中的平均數及變異
數，不需假設需求分配函數，因此更易於運用在實
際的物流業，其適用範圍較文獻的模式來得廣泛且
實際。本研究初步結果顯示，在多期間不確定需求
的環境下，藉由分批配送策略把瓶頸量調撥至同一
路線的其他期間來配送，可以減少車輛調度數量達
成減低配送成本的目標。 
 
5. 計畫成果自評 
本研究將不確定相依需求的 VRP 問題做一完整
的探討並加以延伸，在兩年時間完成三個模式的建
構與求解，演算實驗的資料分析結果有別於傳統
VRP 問題的認知，為 VRP 問題提供另一種模式設計
的選擇與參考。本研究期間已發表部分結果於 IEEE
會議（列為 EI），相信對於相關議題應有所貢獻與啟
發。 
 
 
6. 參考文獻 
[1]. Badeau, P., Guertin, F., Gendreau, M., Potvin, J. Y., 
and Taillard, E., 1997, A Parallel Tabu Serach 
Heuristic for the Vehicle Routing Problem with 
Time Windows. Transportation Research, 5(2), 
109-122.  
[2]. Ballou, R. H. and Agarwal, Y. K., 1988, A 
performance comparison of several popular 
algorithms for vehicle routing and scheduling. 
Journal of Business logistics, 9(1), 51-65. 
[3]. Ballou, R. H., 1990, A continued comparison of 
several popular algorithm for vehicle routing and 
scheduling. Journal of Business logistics, 11(1), 
111-126. 
[4]. Belenguer, J. M., Martinez, M. C., and Mota, E., 
2000, A lower bound for the split delivery vehicle 
routing problem. Operations Research, 48(5), 
801–810. 
[5]. Benton, W. C., and Rossetti, M. D., 1992, The 
vehicle scheduling problem with intermittent 
customer demands. Computers and Operations 
Research, 19(6), 521-531. 
[6]. Bodin, L. D., and Golden, B. L., 1981, 
Classification in vehicle routing and scheduling. 
Networks, 11, 97-108. 
[7]. Bodin, L. D., Golden, B. L., Assad, A. A., and Ball, 
M. O., 1983, Routing and scheduling of vehicles 
 
9
Society,48(2),107–116. 
[41]. Park, Y. B., and Koelling, C.P., 1989, An 
interactive computerized algorithm for 
multicriteria vehicle routing problems, Computers 
and Industrial Engineering, 16(4), 477-490. 
[42]. Prins, C., 2004, A simple and effective 
evolutionary algorithm for the vehicle routing 
problem. Computers & Operations Research, 
31(12), 1985-2002. 
[43]. Secomandi, N., 2000, Comparing neuro-dynamic 
programming algorithms for the vehicle routing 
problem with stochastic demands. Computers & 
Operations Research 27(11), 1201-1225.  
[44]. Stewart, W. R. Jr., and Golden B. L., 1983, 
Stochastic Vehicle Routing ： A comprehensive 
approach. European Journal of Operational 
Research, 14, 371-385. 
[45]. Sutcliffe, C., and Board, J., 1990, Optima; 
solution of a vehicle-routing problem: transporting 
mentally handicapped adults to an adult training 
centre. Journal of Operational Research 
Society,41(1),61-67.  
[46]. Tillman, F., 1969, The multiple terminal delivery 
problem with probabilistic demand. Transportation 
Science, 3, 192-204. 
[47]. Waters, C. D. J., 1989, Vehicle-scheduling 
problems with uncertainty and omitted customers. 
Journal of the Operational Research Society, 
40(12), 1099-1108. 
[48]. Yee, J. R., and Golden, B. L., 1980, A note on 
determining operating strategies for probabilistic 
vehicle routing, Naval Research Logistics 
Quarterly, 27, 159-163. 
[49]. Zitzler, E., Deb., K., and Thiele, L., 2000, 
Comparison of multi-objective evolutionary 
algorithms: Empirical results. Journal of 
Evolutionary Computation, 8(2), 173–195. 
 
 
附錄：發表的論文 
1. Chiang, C. –P., 2006, The Fixed Routes Assignment 
Considering Fluctuant Customer Demand. 
Proceeding of 2006 IEEE International Conference 
on Service Operations and Logistics, and Informatics, 
pp. 615-620, June 21-23, Shanghai, P. R. China.(EI) 
2. Chiang, C. –P., 2007, The Correlated Vehicle Routing 
Problem, IEEE WiCOM/ Symposium on Information 
and Management, 2007, July 26-28, Shanghai, P. R. 
China. (EI) 
 
 the routes to achieve a lower cost. To cope the fluctuation of 
customer demand, we can extend the way of split delivery 
used in literature to the situation of when the information of 
multi-period custom demand is available. The demand 
exceeded vehicle capacity may be fulfilled by more than one 
period. In such a way, the implementation of fixed routes 
assignment could facilitate and keep retaining the 
advantages over the multi-period.  
A variant VRP problem proposed in this paper is 
introduced by considering available multi-period customer 
demand and split delivery, where the routes assignment is to 
find a set of fixed routes and each route serves the 
corresponding customers in order over the planning horizon. 
The split delivery strategy is used to cope the fluctuation of 
customer demands, where the demand exceeded vehicle 
capacity can be fulfilled by more than one period, i.e., to 
deliver them in the same route, but in different period. The 
objective is to minimize the total operational cost including 
the traveling cost, the split delivery cost, and the fixed cost of 
fleet size. A GA-based approach augmented with the 
dynamic programming is developed for solving the 
described problem. In this approach, the population for the 
sequence of customers in the TSP tour is generated by 
genetic operators, and then a dynamic programming 
approach is used to partition the TSP tour into several routes 
within the evolutionary process. This paper is unique in 
considering multi-period customer demand in VRP and the 
periodic demand variation is addressed by the split delivery. 
The rest of this paper is organized as follows. In the next 
section, the proposed fixed route assignment problem is 
described and a mathematic formulation transformed form 
TSP is developed. The solution approach including the GA 
approach and the dynamic programming algorithm is given 
in section 3. In Section 4, we give an example to illustrate the 
solution approach and a numerical example to demonstrate 
the impact of the proposed problem. A brief conclusion is 
given in the last section. 
II.  THE PROPOSED FIXED ROUTES PROBLEM 
As we know that generic fixed route planning cannot be 
implemented in realistic circumstances, due to the total 
customer demand at some specified time along the fixed 
route may exceed the vehicle capacities, which results in a 
route failure. Therefore, rescheduling or adjustment the 
assignment of routes must be made. Some researches dealt 
with this problem by allowing split delivery that examines 
the remainder capacities of vehicles and delivers the 
overloads to another vehicle traveled at the same period. 
Alternatively, when the information of multi-period 
customer demand is available, the split delivery strategy can 
be extended to tackle the overloads by reassigning them to 
different periods, to cope the periodic fluctuation of 
customer demand. 
Unlike the generic fixed route VRP problem, the fixed 
routes assignment is to find a set of vehicle routes 
scheduling, so that each fixed route complies with the 
planned travel sequence and serves the corresponding 
customers in order in every period. Split deliveries are 
employed when customer demands exceed the vehicle 
capacity and fulfill the overload by its associated fixed route 
in different period. The basic framework of the proposed 
vehicle routing assignment is similar to that in the generic 
VRP that is customers with known demands are serviced by 
a homogeneous feet of limited capacity vehicles, routes are 
assumed to start and end at the central depot. In addition, 
assume that multi-period demands of customer are available 
and demands in each period are discrete and dynamic. The 
limitation of route length must be hold here. The literature 
show that split delivery could result in savings, both in the 
total distance traveled and the number of vehicles utilized. 
However, it neglects the cost that caused from the effort of 
re-dispatching the demands of overload. Particularly, when 
the information of multi-period customer demand is 
considered and the overload is fulfilled by more than one 
period, i.e., to deliver in prior (or later) period, no doubt the 
cost caused from readjustment should be accounted for in the 
objective function. Major notations used in this paper are 
defined below. Let 
i, j : the index of customer, for i, j= 0, 1, ..., m, and 
node 0 represents the depot; 
di,j : the travel distance between customer i and j; 
sv : the order of breaking point along the TSP tour, 
where v= 1, 2, ..., V; 
l(j) : the customer index associated with node j in the 
TSP tour; 
esv : the additional travel distance associated with the 
node sv; 
t : the index of planning horizon, t= 1, 2, …, T; 
qjt : the required demand of customer j at the tth period; 
DTSP : the traveled distance of TSP tour; 
w : the vehicle capacity; 
L : the maximum allowable route length of a vehicle. 
 
To plan a fixed route for each vehicle, we first route all 
customers in a TSP tour, and then break this tour into a 
number of smaller, but feasible routes, where each route 
satisfies the constraints of vehicle. We define a node on the 
TSP tour as a breaking point, where the tour is partitioned so 
that this node is the last customer visited in one route and the 
node after the breaking point is the first customer visited in 
the next route. We have sV =m, since the last node on the TSP 
tour must be visited by one vehicle. The additional traveling 
cost esv associated with the node sv, i.e., esv =dsv,0+ d0,sv+1- 
dsv,sv+1 and esv ≥ 0 when the triangle inequality holds (Clarke 
and Wright [26]). Therefore, the feasible routes can be 
constructed by selecting a minimum cost set of V breaking 
points that partitions the TSP tour into V feasible routes. The 
problem becomes: 
Minimize 
616
 chromosome after the swapped alleles of the parent (those 
alleles come from another parent) have deleted and the 
remaining alleles of parent have shifted to the left. When 
mutation occurs, two randomly selected customers from two 
individuals at different sites are exchanged. The mutation 
operator is used to rejuvenate the search and expand it into 
unexplored area of the solution space. The replacement 
strategy is accomplished by restricting the admittance of 
current solutions to the new population to only those 
children that are better than their parents; the degenerated 
children will be replaced by an acceptance probability (AP). 
Let TC(pp) be the operational cost of a parent and TC(ps) be 
that of its corresponding child, then AP= EXP{-(TC(ps) 
-TC(pp))}. The replacement strategy expects that some of 
degenerated children be permitted to survive intact into the 
next generation. That is to occasionally help the algorithm 
escape out of the local optima.  
As new generations evolve, the fitness value of the best 
solution may equal to that of the worst solution in the 
population, the genetic operators cease to create better 
population and the genetic process is terminated. Another 
termination criterion is to monitor the maximum number of 
generations, the genetic process stops when a specified 
number of generations have been reached. The best solution 
in the last generation is regarded as the desired solution. 
B. The dynamic programming approach 
Once the solutions of TSP tour are generated during the 
evolutionary processes of GA, each TSP tour is partitioned 
into a set of optimal fixed routes via the dynamic 
programming approach and its corresponding operational 
cost is computed. When the first breaking point in the TSP 
tour is found, the remaining TSP tour is to be partitioned into 
V-1 routes, subject to the constraint set of vehicle. The 
partitioning problem can be divided into stages and solved 
by choosing the best solution from a set of solutions in 
sub-problems at each stage. At stage v, a node sv is 
determined where the vth vehicle visits all its customers and 
returns to the depot, and the next vehicle will start the 
delivery from node sv+1. Let nv represents the number of 
customers served by the vth vehicle, i.e., nv= sv- sv-1. Also let 
fv(sv, nv) denotes the partitioning cost of terminating route v 
at node sv when the vth vehicle is used to serve nv customers. 
At stage v, the partitioning problem becomes:  
Minimize 
fv(sv, nv)=cd T esv+cs ∑ −∑
= +=
−
T
t
s
sj
tjl wq
v
v1 1
)( },0max{
1
+ fv-1*(sv-1) 
Subject to 
nv  ≥ 1                                                                      (3)  
Twq tjl
T
t
s
sj
v
v
       )(
1 11
≤∑ ∑
= +=
−
                                               (4) 
l(sv-1, sv) ≤ L                                                             (5), 
where s0=0, f0*(s0)=0, and fv*(sv)= vnmin {fv(sv, nv)}. Note 
that the traveled distance of TSP tour is temporally excluded 
from the objective function because it is a constant in the 
partitioning problem. Constraint (3) allows only feasible 
routes to be formed. Constraint (4) ensures that the total 
workload of the vth vehicle does not exceed the maximum 
accumulated capacity of Tw over the entire T periods. 
Constraint (5) limits the traveled length of the vth vehicle. 
IV.  ILLUSTRATION AND EXPERIMENT STUDIES 
In this section, an example is used to illustrate the 
implementation of the enhanced GA approach and the 
dynamic programming algorithm. Limited computational 
experiment including one example adopted from literature is 
used to examine the effectiveness of the proposed strategy. 
The approach was coded in PASCAL and implemented on a 
Pentium III platform. Three strategies, fixed route (FR), 
modified fixed route (MFR), and the enhanced genetic 
approach (EGA) are used to compare the performance of 
different vehicle assignment strategies. 
A. Illustration 
The data set including six customers and three periods in 
Table 1 below is used to illustrate the procedures of partition 
approach. Assumed that w=10, cd=1, cs=5, cv=20 and L=50. 
The proposed approach has conducted with a prior 
parameters setting and has found the best configuration of 
TSP tour (6, 2, 4, 5, 1, 3) at the termination phase. The 
traveled distance of TSP tour is 74. The additional traveling 
distance associated with the candidates of breaking points is 
computed and listed in the third column of Table 1.  
 
Table 1 
The illustrated data set 
Demands at period t Customer 
index in the 
TSP tour 
Visiting 
sequence  
in TSP 
Additional 
traveling 
distance 1 2 3 
6 1 3 2 5 2 
2 2 5 5 3 3 
4 3 2 3 4 2 
5 4 7 2 6 7 
1 5 4 1 2 2 
3 6 0 2 7 3 
Total demand at each period 15 27 19 
 
Table 2 
The optimal cost at the first stage 
Index of the 
breaking 
point s1 
Additional 
traveling 
distance, es1 
Number of 
customers 
served n1 
The cost 
f1(s1, n1) 
The 
optimal 
state n*1 
The 
optimal 
cost f1*(s1) 
1 3 1 9 1 9 
2 5 2 15 2 15 
3 2 3 16 3 16 
 
In the first stage, the workloads of the first route cannot 
exceed 30(=10× 3) so that the feasible candidates in route 1 
are some of those customers {6, 2, 4}, they are associated 
with indices {1, 2, 3} respectively in TSP tour. Therefore, 
f1(s1, n1)= 3es1+ f *0 (s0)= 3es1, the intermediate computation 
of f1 is given in Table 2. At the state s1=3, the accumulated 
618
 customers who have no requirement are excluded from the 
list, the MFR strategy superior to FR in the traveled distance 
and the number of fleet size. There are nine of overloads 
occurs in these two strategies and it implies  at least one of 
the fixed routes resulted from FR or MFR strategy fails to 
satisfy the required demand over the planning horizon. A 
rearrangement of route schedule is needed. In the proposed 
strategy, although the number of overload is 390 over the 
planning horizon, the fixed routes assignment found by EGA 
is available in fulfilling the customer demand by delivering 
exceeded demands by more than one period. Definitely, the 
way of treatment of overloads by rearranging them to deliver 
in distinct period is extremely affected by the penalty cost. 
An alternative solution is to prioritize the penalty weights of 
these overloads, and then deliver those in the minimum loss. 
The proposed strategy significantly gives the reduction in 
both the numbers of vehicle utilized and the total traveled 
distance, which is similar to [5]. In addition, the proposed 
approach increases the workload of vehicle and balances the 
distributed workloads between vehicles employed in distinct 
period. The computational result also highlights the needs to 
consider the split delivery strategy when customer demand 
vary significantly over the planning horizon. 
V. CONCLUSIONS 
A variant fixed routes assignment problem that considers 
the available multi-period customer demand and the split 
delivery is presented in this paper, where the exceeded 
demand of customer may be fulfilled by more than one 
period and reassigning those to a prior or a later period or the 
period with the lowest penalty cost. To split and deliver the 
overload demands to distinct period is not only facilitating 
the implementation possibility of fixed routes scheduling 
over the planning horizon, but balancing workload of 
vehicles. The enhanced GA-based approach augmented with 
dynamic programming outperforms in terms of operational 
cost. It reveals the impacts of simultaneously considering 
multi-period customer demand and split delivery are worthy 
to be addressed in the design processes of VRP. To fulfill the 
split delivery by more than one vehicle at the same period 
and by more than one period is another issue to be addressed. 
REFERENCES 
[1] G. B. Dantzig, and J. H. Ramser, “The truck dispatching problem. 
Management Science,” vol. 6, pp. 80–91, 1959. 
[2] L. D. Bodin, B. L., Golden, A. A. Assad, and M. O. Ball, “Routing and 
scheduling of vehicles and crew: the state of art,” Computers and 
Operations Research, vol. 10, no. 6, pp. 69–211, 1983.  
[3] E. L. Lawler, J. K. Lenstra, A. H. G. Rinnooy Kan and D. B. Shmoys, 
The traveling salesman problem: a guided tour of combinatorial 
optimization, Wiley, 1985. 
[4] B. L. Golden, and A. A. Assad, Vehicle routing: methods and studies, 
North-Holland, 1988. 
[5] M. Dror, and P. Trudeau, “Savings by split delivery routing,” 
Transportation Science, vol. 23, no. 3, pp. 141–145, 1989. 
[6] M. Dror, and P. Trudeau, “Split delivery routing,” Naval Research 
Logistics, vol. 37, no. 3, pp. 383–402, 1990.  
[7] M. Dror, G. Laporte, and P. Trudeau, “Vehicle routing with split 
deliveries,” Discrete Applied Mathematics, vol. 50, no. 3, pp. 
239–254, 1994. 
[8] P.W. Frizzell, and J. W. Giffin, “The bounded split delivery vehicle 
routing problem with grid network distances,” Asia-Pacific Journal of 
Operational Research, vol. 9, no. 1, pp. 101–116, 1992. 
[9] P.W. Frizzell, and J. W. Giffin, “The split delivery vehicle scheduling 
problem with time windows and grid network distances,” Computers 
and Operational Research, vol. 22, no. 6, pp. 655–667, 1995.  
[10] J. M. Belenguer, M. C. Martinez, and E. Mota, “A lower bound for the 
split delivery vehicle routing problem,” Operations Research, vol. 48, 
no. 5, pp. 801–810, 2000. 
[11] L. D. Bodin, and B. L. Golden, “Classification in vehicle routing and 
scheduling,” Networks, vol. 11, pp. 97–108, 1981.  
[12] G. Laporte, “The vehicle routing problem: an overview of exact and 
approximate algorithms,” European Journal of Operational Research, 
vol. 59, pp. 345–358, 1992. 
[13] G. Laporte, and I. H. Osman, “Routing problems: a bibliography,” 
Annals of Operations Research, vol. 61, pp. 227–262, 1995.  
[14] R. L. Bowerman, P. H. Calamai, and G. B. Hall, “The spacefilling 
curve with optimal partitioning heuristic for the vehicle routing 
problem,” European Journal of Operational Research, vol. 76, no. 1, 
pp. 128–142, 1994. 
[15] R. E. Taillard, “Parallel iterative search methods for vehicle routing 
problems,” Networks, vol. 23, pp. 661–673, 1993. 
[16] Y. Rochat, and R. E. Taillard, “Probabilistic diversification and 
intensification in local search for vehicle routing,” Journal of 
Heuristics, vol. 1, pp. 147–167, 1995. 
[17] G. Barbarosoglu, and D. Ozgur, “A Tabu search algorithm for the 
vehicle routing problem,” Computers and Operations Research, vol. 
26, pp. 255–270, 1999. 
[18]  S. C. Ho, and D. Haugland, “A tabu search heuristic for the vehicle 
routing problem with time windows and split deliveries,” Computers 
and Operations Research, vol. 31, pp. 1947–1964, 2004. 
[19] D. T. Hiquebran, A. S. Alfa, A. Shapiro, and D. H. Gittoes, “A revised 
simulated annealing and cluster-first route-second algorithm applied 
to the vehicle routing problem,” Engineering Optimization, vol. 22, 
pp. 77–107, 1994. 
[20] H. –S. Hwang, “An improved model for vehicle routing problem with 
time constraint based on genetic algorithm,” Computer and Industrial 
Engineering, vol. 42, pp. 361–369, 2002. 
[21] J. Y. Potvin, C. Duhamel, and F. Guertin, “A genetic algorithm for 
vehicle routing with backhauling,” Applied Intelligence, vol. 6, pp. 
345–355, 1996. 
[22] H. –S. Hwang, “Design of supply-chain logistics system considering 
service level,” Computer and Industrial Engineering, vol. 43, pp. 
283–297, 2002.  
[23] J. Y. Potvin, D. Dub Re, and C. Robillard, “A hybrid approach to 
vehicle routing using neural networks and genetic algorithms,” 
Applied Intelligence, vol. 6, pp. 241–252, 1996. 
[24] C. D. J. Waters, “Vehicle-scheduling problems with uncertainty and 
omitted customers,” Journal of the Operational Research Society, vol. 
40, no. 12, pp. 1099–1108, 1989. 
[25] W. C. Benton, and M. D. Rossetti, “The vehicle scheduling problem 
with intermittent customer demands,” Computers and Operations 
Research, vol. 19, no. 6, pp. 521–531, 1992. 
[26] G. Clarke, and J. W. Wright, “Scheduling of vehicles from a central 
depot to a number of delivery points,” Operations Research, vol. 12, 
pp. 568–581, 1964.      
620
total cost so that the designer can successively schedule the 
detailed delivery. A GA approach is developed to solve this 
problem, where the chromosome is arranged in a TSP 
sequence and the routes are obtained by partitioning the TSP 
sequence into several smaller, but feasible routes.  
This paper is organized as follows. The effect of 
lumpiness on the capacity requirement of a VRP is discussed 
in Section 2. In section 3, we present a TSP-based 
formulation that reflects the effect of lumpiness. In section 4, 
the GA for solving large problems is developed and a range 
of computational experiment is conducted for performance 
comparison. Section 5 gives the computational results to 
examine the effects of the proposed approach. Summary and 
conclusion are given in section 6. 
 
2. The impact of lumpiness on route decision 
 
We make an illustration of evaluating process and adopt 
an example to describe the impacts. Let Dp be a random 
variable that represents the periodic demand of customer p. 
The total capacity of vehicle type v, Rv, required in a specific 
time period is then 
Rv=∑
p
pD                                                           (1) 
and the expected value and variance of Rv are: 
E(Rv)= ∑
p
pDE )(                                               (2) 
Var(Rv)= ∑ ∑+∑
∈p vk
kp
p
p DDD ),cov()var(           (3) 
The covariance between Dp and Dk is a function of the 
correlation coefficient between Dp and Dk, ρ ( Dp, Dk): 
Cov(Dp, Dk)= ρ ( Dp, Dk)× DkDpσσ                 (4) 
Hence, the data required to evaluate the variability of the 
required capacity consists of the demand variability of each 
customer demand and the correlation between all demands of 
customers. The objective is therefore to develop a VRP 
approach which take into consideration the capacity 
variability caused by the lumpiness of the required demand. 
This aspect has hardly been addressed by existing VRP 
works.   
The following example illustrates the influence of the 
demands assigned to a route on the required vehicle capacity. 
Assume that four demands of customers, p1-p4, are delivered 
by two routes, R1-R2 The periodic demand of each customer 
has an expected value E(Dp), a standard deviation Dpσ  and 
the correlation coefficients between the demand of the 
different customers as depicted in Table 1. We model the 
periodic lumpiness demand as a random variable from a 
normal distribution. The estimates of the distribution 
parameters and the correlation between demand of customers 
are derived from historical periodically demand. The 
available capacity for each vehicle is set to 150. 
 
Table 1. Illustration data 
Distance  Demand 
Customers 
p1 p2 p3 p4 0  E(Dp) Dpσ  
p1  0 4 4 4 5  90 32 
p2   0 4 5 4  120 48 
p3    0 2 4  456 106 
P4     0 8  95 37 
 
 Correlation 
Customers p1 p2 p3 P4 
p1 1.0 0.8 -0.7 0.9 
p2  1.0 -0.8 -0.9 
p3   1.0 0.6 
P4    1.0 
 
Let us examine two possible solutions where the demands 
are assigned to two routes shown in Table 2. In solution 1, 
demands of customer p1 and p2 are assigned to route 
R1=p1p2, in which the vehicle depart from depot to get to p1 
firstly and along p2 to end the delivery, and p3 and p4 are 
assigned to route R2. In solution 2, demand of customer p1 
and p3 are assigned to route R1 and p2 and p4 are assigned 
to route R2. the expected value and variance of the capacity 
required is computed from Eqs. (2) and (3), respectively. If 
the demands of customers are assumed to be uncorrelated, as 
in most of the VRP models that appear in the literature, the 
covariance term in (3) is eliminated, due to it is equal to zero. 
The parameter α  is defined as the maximal probability of 
capacity shortage and is set to 0.05 in this example. The 
required planned capacity for each solution was calculated 
both correlation, taking the covariance of demands into 
consideration, and un-correlation, by assuming the demands 
of customers are independent. The computed results are 
listed in Table 2.  
 
Table 2. Comparison results of two solutions 
   Correlated  Un-correlated 
 Distance/per route E(Rv) Var(Rv) 
No. of 
vehicles  Var(Rv)
No. of 
vehicles
Solution 1        
R1=P1P2 13 210 111.4 3  95.2 3 
R2=P3P4 14 551 209.6 6  185.2 5 
Solution 2        
R1=P1P3 13 546 164.1 5  182.7 5 
R2=P2P4 17 215 75.2 2  99.9 3 
 
When the demands are assumed to be uncorrelated, 8 
vehicles are required both in solution 1 and solution 2. In 
reality, correlation between demands of customers affected 
the total demand and required capacity. The number of 
vehicles used in solution 1 increases to 9, combining 
demands with positive correlation in the same route causes a 
increment in the required capacity, while the number of 
vehicles used decreases to 7 in solution 2, combining 
demands with negative correlation in the same route enables 
where POPN is the population size. All n(θ)s’ are sequenced 
in the decreasing order. The reproduction process retrieves 
the largest n(θ) into the mating pool according to the integer 
portion of n(θ); and the fractional portion of n(θ) is treated as 
a probability to receive an additional copy in the mating 
pool. The retrieving process is repeated until the population 
in the mating pool is equal to POPN.  
To apply a crossover scheme, we randomly generate a 
single crossover point along the length of the first half 
chromosome for each parent. This crossover point breaks 
each of the parent’s chromosomes into two segments. The 
children are created by swapping the second segments of the 
parent’s chromosomes. The duplicated alleles (those alleles 
come from another parent) of the parent are deleted and the 
remaining alleles of the parent are shifted to the left. For an 
example, we consider two parents θ1 = (4653127, 0100101) 
and θ2= (6213574, 1010001) with a random crossing point at 
the fifth location. This crossover operation gives two 
children θ1s = (6312574, 0100101) and θ2s = (6354127, 
1010001). A 2-point crossover is used to exchange the 
second half chromosome of each parent, where two crossing 
points are selected randomly, and the children are generated 
from the parent by exchanging the portion of the 
chromosomes that are located between the two crossing 
points.  
The mutation operator is used to rejuvenate the search and 
expand it into unexplored areas of the solution space. When 
mutation occurs, a new chromosome is introduced to replace 
that old one. 
 
4.4. The replacement strategy 
 
The goal of replacement strategy is that on the average the 
evaluation function of the next generation outperforms that 
of the current generation. At the first, it is accomplished by 
selecting only those children that are better than their parent; 
and these children are moved into the new population. In 
addition, the replacement strategy permits some degenerated 
children survive and move into the next generation; that is, to 
occasionally reduce the likelihood of trapping at some local 
optimal solution space. These children will be replaced by an 
acceptance probability (AP). Let Oθp is the objective function 
of the parent and Oθc be that of its corresponding child, then 
AP= exp{-( Oθc - Oθp)}.  
 
4.5. The termination criteria 
 
As new generations evolve, the population is filled with 
individuals (solutions) that have better fitness value, and the 
scope of improvement is gradually diminished. Thereby, the 
fitness value of the best solution may equal to that of the 
worst solution in the population and the genetic operators 
cease to create better population, the genetic process will be 
terminated. Another termination criterion is to monitor the 
maximum number of generations evolved. The genetic 
process stops when a specified number of generations have 
been produced, and the best solution in the last generation is 
served as the search result. 
 
5. The computational experiment study 
 
An extensive experimental study was conducted to 
demonstrate the importance of taking into consideration the 
correlation between different demand of customers. The 
experiments were divided into two stages. In the first stage, 
we set Mv=1, for all v and the proposed model is satisfied the 
basic definition of VRP that each customer is serviced by 
exactly one visit of a single vehicle. Such that the total 
number of vehicle used is equal to V. Five examples, which 
are randomly generated, and implemented on correlation and 
un-correlation demands are employed to compare the 
objective function in terms of the number of vehicle used and 
the distance traveled. At the second stage, we compare the 
experimental results by three examples, which are conducted 
in four different levels of coefficient of variation (CV), the 
ratio of standard deviation and mean, representing the 
measurement of relative dispersion of group data. Two 
criteria are used for comparison. The difference ratio of 
distance traveled (DD) is the difference between distance 
traveled correlated and distance traveled uncorrelated divides 
the distance traveled uncorrelated. The difference of number 
of vehicles used (DN) is the difference between correlated 
and uncorrelated demands. The parameter α  is set to 0.05. 
The developed GA approach is coded in a C programming 
and is performed in the Pentium 4 computer platform. A pilot 
experiment is conducted to fine-tune the parameter settings 
in the GA algorithm. 
 
Table 3. Comparison results at first stage 
Number of customers  DD  DN 
12  0  0 
21  0  0 
60  0.06  0 
90  0.02  -1 
120  0.03  -1 
Average  0.022  -0.4 
 
At first stage, each example had been implemented three 
timers and the solution with the best objection is chosen. 
Table 3 lists the comparison results. The results revealed that 
firs two (small sized) are no difference both in two criteria. 
Furthermore, the later three of five examples make no odds 
in two kinds of performance. The experiment of the first 
stage is in a shortly single period. Although the correlation of 
demands is considered and the accumulated capacities is 
reduced in the route assignment, the surplus capacities of 
vehicle in a route is too smaller to reload the demand of next 
customer, subject to just one vehicle is employed. This might 
give a reason why the generic VRP models mostly do not 
take into consideration the impact of correlation demand of 
customers in the processes of route assignment.  
表 Y04 
行政院國家科學委員會補助國內專家學者出席國際學術會議報告 
                                                         96  年  7  月  31 日 
報告人姓名 蔣治平 服務機構
及職稱 
正修科技大學 工業工程與管理系
教授 
時間 
會議 
地點 
96/07/26-96/07/28 
中國上海市 
本會核定
補助文號
NSC95-2221-E-230-015 
會議 
名稱 
2007 International Symposium on Information System & Management 
(ISM2007:the Management track of WiCOM2007) 
發表 
論文 
題目 
The correlated vehicle routing problem 
報告內容應包括下列各項： 
一、參加會議經過 
1. 7/27經香港飛上海市。 
2. 7/27註冊領取大會資料之後，參加論壇：how to publish research papers in world class 
journal。比較有趣的是，有些學者反向思考，何不以中文撰寫讓審查者來審查，因
為有許多資深研究學者熟悉中文，對於中文地域的學者不會因為英文而受限他的
論文發表。 
3. 7/28參加 Professor Felix Tan 的專題演講。 
4. 我的場次安排在 7/28 上午 10:30 歷時約 100 分鐘。該場次共有六篇論文發表，其
中三篇是大陸學者，另兩篇為日本與英國學者。每篇論文各有其主題特性，過程
順利且反應熱烈。 
5. 利用空檔參觀上海市建設，7/30回國。 
 
二、與會心得 
1. 這次會議由武漢大學、IEEE及上海交通大學主辦，論文發表近 300篇，參與的學
者約有 150人，其中以大陸地區居多，海外學者約佔 1/5，會議期間對於大陸學者
勇於發問問題，積極學習的態度有很深刻的印象。 
2. 大會主題分 12 個場次論文發表並安排演講。發表的論文題目多樣化，但是 IEEE
會議有經過審查，因此每篇論文有一定水準的寫作及內容陳述。接受率小於 1/2。
3. 相較於幾次經驗，這次學者所發表的論文，無論是在結構、內容及貢獻度上均有
相當程度，尤其是對於問題資料的收集及觀察、研究方法等均有所創新，顯示其
The correlated vehicle routing problem 
 
 
Chih-Ping Chiang 
Institute of Industrial Engineering and Management, Cheng Shiu University, 840 Chengcing Road, Niaosong, 
Kaohsiung County 833, Taiwan, Phone: 886.7.7310606 ext. 3525 Fax: 886.7.7315367 
E-mail:chiangcp@csu.edu.tw 
 
 
Abstract 
 
This paper presents a variant vehicle routing problem 
(VRP) to tackle the routes assignment in a lumpy demand 
environment, where the required capacity is affected by 
demand variability and the correction between the demands 
assigned to the routes. The correlated VRP is defined by a 
TSP-based formulation to minimize the distance traveled and 
the number of vehicles. A genetic algorithm approach is 
developed for solving practical problems. The computational 
results reveal that the correlation between the demand of 
customers should be evaluated and taken into consideration 
in the vehicle routing assigning process, which can prevent 
leading to either additional over or under capacity during 
the planning period. 
 
Keywords: Vehicle routing problem, Correlation, Genetic 
algorithm, and TSP 
 
1. Introduction 
 
The vehicle routing problem (VRP) is defined on a 
complete undirected network G =(V; E) with a node set {0; 
1, …, m} and an edge set E. Node 0 is a depot with m 
identical vehicles of capacity W; m can be fixed a priori or 
left as a decision variable. Each other node p>0 represents a 
customer with a non-negative demand Dp and each edge (i; j) 
has a non-negative travel cost dpk=dkp. The VRP consists of 
determining a set of v vehicle trips of minimum total cost, 
such that each trip starts and ends at the depot, each client is 
visited exactly once, and the total demand handled by any 
vehicle does not exceed W. A variety of VRPs is evolved in 
recent decades and a broad literature is available for these 
classes of problems, which can be found in Bodin et al. [1], 
Lawler et al. [2], and Golden and Assad [3].  
The generic VRP is a well-known NP-hard problem. Most 
of researchers are concerned with developing heuristic 
approaches to solve these problems. The related survey can 
refer to Bodin and Golden [4], Laporte [5], Laporte and 
Osman [6], and Bowerman et al. [7]. Recently, the meta-
heuristics have emerged to solve these combinatorial 
optimization problems with global or near global optimal 
solutions in a reasonable computation time. Genetic 
algorithms (GAs) have seen widespread use amongst modern 
meta-heuristics, and several applications to VRPs 
incorporating time windows have been reported [8]. 
Applications of GAs have also been reported for the VRP 
with backhauls [9], for a multi-depot routing problem [10], A 
hybrid approach to schedule vehicle routing using neural 
networks and GAs has also been reported [11], and some 
improved GA operators to handle the large sized practical 
problem [12-13]. It was proven that Genetic algorithms are 
competitive with other modern heuristics in terms of 
computing time and solution quality. 
The reviewed literature and techniques assumed a 
constant and known demand. Hence, the route assignment is 
based on the expected values of the forecasted demand for 
each demand. However, in many practical situations, demand 
is variable. In these cases, methods based solely on the 
expected values of the demand, that do not take into 
consideration their variability, may be inadequate. Demands 
are probabilistic in nature rather than deterministic. As VRP 
with stochastic characteristics, the stochastic vehicle routing 
problem is used to deal with these analog problems, see 
Gendreau et al. [14]. 
One of the major assumptions in traditional VRP is 
constant customer demand as a function of time, but that is 
usually characterized by a fluctuating demand. When 
lumpiness is met, we often find unused capacity as well as 
shortages. The variability of the required capacity for a route 
assignment is determined by mix of demand assigned to the 
route. Therefore, by changing the mix of required demands 
belonging to the route, we can affect the variability of the 
periodic capacity requirement. A major underlying 
assumption of the proposed approach is that correlation 
among different demand of customers may be identified. 
Both positive and negative correction should be considered 
to reduce the variance within routes. Demands with negative 
correction are supposed to assign together in a same route, 
while demands with positive correction should be assigned to 
different routes. The correlated VRP is defined by a TSP-
based formulation that relaxes the generic assumption that 
each customer is visited exactly once by one vehicle. Since 
this model considers a periodic (e.g. weekly) demands of 
customers and is a prior solution to determine better 
combination of delivery routes considering the correlation 
demand, the objectives are to minimize the total distance 
traveled and the number of vehicles used, which are 
unknown. This model gives a solution presenting a periodic 
a reduction in the required capacity. If basing on traditional 
approach without considering the interaction of demands, the 
solution 1 with lower traveling distance 109 (=39+70) is 
selected. According to our correlated approach the preferred 
solution is solution 2, which presents both lower the number 
of vehicle needed (5+2), the total traveling distance 
(5× 13+2× 17), and maximal capacity shortage ofα . 
 
3. The correlated vehicle routing problem 
 
For determining a set of vehicle routes, all customers are 
randomly arranged in a TSP sequence, (s(1), s(2),…, s(m)), 
and then partitioning TSP sequence into a number of smaller, 
but feasible routes, where each route satisfies the constraints 
of vehicle. Let bv be a index of breaking point on the TSP 
tour, the node associated with bv is the last customer visited 
in one route and the node after this breaking point is the first 
customer visited in the next route. Such that we has b0 be the 
depot and bV =m, since the last node on the TSP tour must be 
visited by one vehicle. The traveled route length of vehicle v 
is then 
l(bv-1, bv)=d0,s(bv-1+1) + ∑
+=
+
−
)(
)1(
1,
1
bv
v
s
bsp
ppd + ds(bv),0             (5) 
The feasible routes can be determined by selecting V ( 
V>1) breaking points that partition the TSP tour into V 
feasible routes to minimize the total cost. Let Mv be the 
number of used vehicles in route v, and lv is the maximum 
capacity of used vehicle in route v. The proposed VRP 
planning therefore becomes  
Minimize 
 w1 ∑
=
V
v
l
1
(bv-1, bv)Mv+ w2 ∑
=
V
v
vM
1
                                    (6) 
Subject to 
E(Rv)＋ )(1 RVarZ vα− ≤  lvMv       for all  v              (7) 
Mv∈ integer                                                                 (8) 
 
The objective is to minimize a bi-objective function (6). 
The left term of (6) is the summation of traveled distance for 
V routes. In the right term of (6) we minimize the total 
number of vehicles used. In this study, the number of vehicle 
used in each route is a decision variable. Two criteria of bi-
objective function are weighted by factors that express the 
relative importance of each sub-objective. While money 
units are known, the weighted of two criteria estimates 
objectives function in a identical measurement unit. 
Otherwise, a normalization approach has to be used in order 
to combine these two sub-objectives. Constraint (7) ensures 
that for each route, a sufficient vehicle capacity (number of 
vehicles) is assigned so that the probability of satisfying the 
demand is 1- α . Hence, under the assumption that the 
required capacity is normally distributed, the assigned 
capacity being equal to or more than the 1-α , one-sided 
upper confidences limit. Constraint (8) is an integrality 
constraint.  
In this study, the solution dominating either total distance 
traveled or the number of vehicle used is selected into 
solution pool. The above formulation is suitable for a generic 
VRP problem. When Mv is determined in prior, this 
formulation becomes a deterministic VRP, which is well 
studied in the literature. This formulation can be extended by 
adding l(bv-1, bv) ≤ L ( for all v) restriction to limit the vehicle 
traveling length. Since this generic VRP formation is 
inadequate in solving large-scale practical problems, another 
solution procedure approach is required and presented later 
on.  
 
4. The proposed genetic algorithm 
 
Some of the GA designed operators are described in the 
following sub-sections. 
 
4.1. The representation of solutions 
 
The chromosome structure, in this study, consists of a 
string of genes; which is a sequence of customers in the TSP 
tour and a sequence of binary integers that is used to select 
the breaking points form TSP tour. For an instance, the 
symbolic string, θ= (3421, 0101), represents the visiting 
sequence of four customers in a TSP tour, and the customer 4 
is the first breaking nodes b1=2 that cluster (3, 4) to be one 
route and the customer 2 after breaking node is the first 
customer visited in the next route. Note that because of bV 
=m, the last node on the TSP tour must be visited by one 
vehicle. Therefore, the last gene of second string has to be 
“1”. For a VRP problem with m customers, a string with 
twice length of m is needed to encode any candidate solution.  
 
4.2. The fitness function 
 
The evaluation function computed by Eq. (5) with respect 
to objective function is used to measure the fitness of each 
candidate solution in the population. The fitness value is 
used to select parent solutions to create next generation of 
solutions. Let fθ be the fitness value of individual θ, Oθ is the 
objective function of individual θ, and MIN is the minimal 
objective function of all individuals in the population. The 
normalized value is fθ =MIN/Oθ. Hence, the lower is the 
objective function, the higher is the fitness value. The fθ is 
limited in a range of [0, 1]. 
 
4.3. The genetic operators 
 
Parents are first selected for the reproduction of the next 
generation of population. The selection criterion depends on 
their scaled fitness value. The expected number of copies of 
individual θ is calculated as n(θ)=( fθ /∑ NPOP f1 θ ) × POPN, 
