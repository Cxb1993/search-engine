希望透過本研究計畫，為此即將面臨之問題
與產業發展，奠定基礎。 
本整合型計畫所欲設計、製造、控制的
看護服務機械人是一種以電動馬達為動力源
之可移動式運動機構，其上並裝有兩隻多軸
機械手臂，以遂行其服務工作，相對於固定
基座的工業機械人而言，看護服務機械人有
著較高的自主性與較廣的工作空間，也需要
有更強的環境適應能力與更友善易操作的人
機介面 。在整個整合型計畫的規劃上，本計
畫的目的是探討如何設計並研製一部可全方
位運動之看護機器人，使其能沿任意的方位
運動，希望藉此靈活的運動能力，使其即使
在狹窄、凌亂、而動態的環境中，依然能順
利地進行看護服務的工作，而由於此種可全
方位運動的能力，加上其上所安裝的兩隻多
軸機械手臂，所製作的機器人除可擔任老年
失憶、殘障者以及傷病患者的看顧外，也可
應用於如警衛、火災偵測、滅火、洗碗、掃
地等有危險性的工作或家庭雜務上。 
可全方位運動之機器人最重要的硬體部
分就是輪子的設計與製作，假如輪子的設計
不良或安裝的方式不正確，就會造成機器人
根本無法移動或不能沿某一個特定的方位移
動。國外學者對這方面有許多的研究與探
討，包括 3 輪[1, 2]、4 輪[3-6] 、及多輪[7]
的機構結構，同時也有研究在分析輪子的結
構與設計[8]。當然輪子的數目越少越容易控
制，在參考文獻[1]中，僅使用了 3 個低成本
的 8051 微處理器即能對 3 顆馬達進行控制，
使機器人能進行簡單的運動行為，不過另一
方面來說，輪子的數目越多，所能呈現的功
能也較完整，舉例來說，參考文獻[7]所示的
多輪機械結構，即能使機器人在巔跛的道路
上行進。 
至於在可全方位運動機器人之運動學與
動力學方程式的推導方面，也有許多的專家
學者進行研究，一般而言，在推導上述方程
式時，皆是假設輪子只有滾動而無滑動的情
況下加以導與分析[9-14]，不過動力學中的有
些項目必須經過實際測試方能得到真正的數
值，因此也有學者利用機器人進行實驗，希
望經由不同速度下的實驗測得動力學方程式
的參數[15]。 
    在可全方位運動之機器人的運動控制方
面，也有許多的研究與探討，主要是發展控
制法則來控制機器人的位置與方位，而所使
用方法有 PID 控制[16-19] 、模糊控制[16, 
20] 、輸出回饋線性化控制法則 (output 
feedback linearizing control law)[21] 、TLC 方
法(trajectory linearization control)[22]與適應
控制[23]。 
在機器人行進時，面臨的第一個問題是
在已知或未知的環境中，了解自己在哪裡。
因此，精確的位置估測成為機器人研究的核
心，為了估測出精確的位置，如定位
(localization)、即時製作地圖(dynamic map 
building)等研究，變得相對重要。若只單靠編
碼器(Encoder)易產生無界限的位置累積誤
差，為了解決此問題，可以在機器人上裝上
一些可感測外在環境特徵的感測器，如超音
波(ultrasonic)、紅外線(infrared)、雷射(laser)、
視覺影像(vision)等感測器。 
在本計畫中，採用近幾年越來越普遍的
2D 雷射測距儀 (laser-range-finder)，如在
[24,25]中，作者將雷射測距儀作定位使用，
在[26-28]中作者將雷射測距儀即時地圖製作
使用，在[29]中作用利用雷射測距儀作閃避障
礙物使用。雷射測距儀的優點是有很高的取
樣率 (sampling rate) 、角度解析度 (angle 
resolution) 與 距 離 解 析 度 (distance 
resolution)，因此使用雷射測距儀可得到相當
精確的測量資料。而我們要研究的問題是，
如何使用測量到的資料與已知的地圖或之前
收集到的資料做比對(matching)，進而計算出
機器人目前的所在位置。 
 2
凹字形環境之路徑，此法只適用於較
有規則的直線環境中，且無法有效改
善振盪問題。在 [49]中，當陷入局部最
小點時，則外加一正交於吸力方向的
常數外力，並判斷機器人是否走回已
行 走 過 的 點 ， 判 斷 是 否 產 生 振 盪 現
象，此方法使用時，需要記錄走過的
點已供隨時比對用，且在環境中某些
轉角處需另加判斷條件，使用上較不
彈性。在 [50]中，作者計算吸、斥力向
量之間的夾角，利用此夾角來判斷是
否 進 入 可 能 陷 入 局 部 最 小 點 的 環 境
中，當夾角小於 90°時，則採用傳統的
場效函數法 ;當夾角大於 90°時，則忽
略掉吸力，並將斥力合力夾角做一個
大於 90°的順時針旋轉，此法在一般環
境 中 即 可 解 決 局 部 最 小 點 與 振 盪 問
題，但在較深的凹形或更複雜的環境
中，還是會產生振盪現象。本計畫中
提出的新型的場效法，可有效解決局
部最小點與振盪問題，可用於凹形或
更複雜的環境中，且使用上簡單、有
彈性，很適合即時機器人的路徑規劃。 
 
三、第一年已完成之項目 
本計畫第一年著重於機器人實體架構
的設計、製作與實現，最後希望實際地進行
測試，所以第一年的部分將分成下列三個研
究子題：(1)可全方位運動機器人機構的設計
與研製；  (2)推導並驗證機器人的運動學方
程式及動力學方程式；(3)馬達與驅動器之設
計、安裝、測試。 
3.1 機構的設計與研製 
在機構設計方面，主要是是想使看護機
器人能沿各個任意的方位移動，而參考國外
相關計畫及網站，再考慮機構的精簡性及製
作控制器的簡便性，計畫中所完成的是如圖
一及圖二所示的底盤結構，實際所完成的底
盤每邊的長度為 21 cm、高度為 14.8 cm，輪
子的直徑為 10.16 cm。由於所製作的機器人
預期有全方位運動的能力，因此其輪子也必
須經過特殊設計，使其能如圖一及圖二所示
般，具有超過一維的自由度(輪子上的環狀結
構形成另一個自由度)。傳統的輪子只有一個
自由度，因此在往前行進時，如果要突然往
左或往右移動，則由於缺少自由度的關係，
輪子將會是往左方或右方被拖行地移動，而
非以滾動的方式行進，但如果輪子是設計成
如圖一及圖二所示的結構，則因為在任何方
向皆具有自由度，因此不會有上述的問題產
生。 
 
 
 
 
 
  
 
 
圖一  可全方位運動之機器人的底盤結構示
意圖 
 
 
 
 
 
 
 
 
圖二  實際所完成的可全方位運動機器人底
盤圖 
 
3.2 運動學方程式與動力學方程式的推導 
本計畫所推導出的運動學方程式如下： 
 4
用 0V 到 5V 的電壓來控制馬達的轉速，輸入
電壓和輸出轉速間呈線性的關係，在 0V 及
5V 時的輸出轉速分別為 0 及 167 rpm。有關
此馬達及其驅動器的外觀如圖四所示。 
 
 
 
 
 
 
 
 
 
圖四  直流馬達及其驅動器的外觀圖 
 
四、第二年所完成之項目 
4.1 機構設計 
在第一年中所完成的機器人機構設計如圖一
即圖二所示，僅為一底盤結構，第二年中則
完成整體的機構設計，其整體外觀體如圖五
所示，此機器人的尺寸為每邊長為 cm 之
六角形，平台高為 cm，三輪半徑均為
cm，三輪皆成 120°。底盤之上有兩層質
輕且堅固的活動式承載平台，並且為盡量減
低馬達之負擔及材料取得加工的方便，故機
器人使用鋁材加工完成。 
23.5
75
5.08
 
4.2 系統架構 
系統架構分為硬體架構與軟體架構，說
明如下: 
4.2.1 硬體架構說明 
    本計畫的硬體架構由無線遙控器、
DSP、PWM 訊號轉類比訊號電路、馬達驅動
電路、及直流馬達所組成，如圖六所示。系
統的動作原理係由無線遙控器發出 PWM 訊
號，經過電路轉換成類比訊號，再經由 DSP
做訊號處理產生 PWM 信號，再做一次訊號
轉換送到馬達驅動電路，馬達依無線遙控器
的訊號會有不同的轉速及正反轉的控制。 
 
 
 
 
 
 
 
 
 
 
 
圖五  可全方位運動機器人實體圖 
 
4.2.2 軟體架構說明 
本計畫在軟體架構方面是如圖七所示，
由 DSP 讀取遙控器所產生的訊號，經過 A/D 
converter 把訊號讀進 DSP 後，再經過動力學
方程式運算產生 PWM 訊號，再依照訊號的
大小改變脈波脈波寬與週期之比來控制馬達
的速度，並依照運動學方程式算出來的正負
值判斷 I/O 輸出腳該輸出 high 或 low 來控制
馬達之正反轉。 
本計畫所使用的無線遙控器為 Futaba 公
司型號 4VFB-FM 之飛機用遙控器組，此遙
控器組有一個規格為 T4VFB(2 搖桿方式，4
頻道，調變方式 FM)的遙控器及規格為
R115F(5 頻道，調變方式 FM)的接收器，遙
控器使用電源為 DC12V 消耗電流 180mA，
接收器使用電源為 DC6V 消耗電流 22mA。
有關此遙控器及接收器外觀如圖八所示。 
4.4 轉換系統 
硬體架構中，遙控接收器所產生的 PWM
訊號會先送至 DSP，再將 DSP 產生的 PWM
訊號傳送到馬達驅動器，由於數位訊號處理
器和馬達驅動器均接收類比訊號，故需先將
PWM訊號轉成類比訊號。此轉換電路由OPA
及低通濾波電路所構成，如圖九所示。 
 6
¾ 內建類比/數位轉換器(AD converter)：
16–channel 類比輸入，12–bit 解析度，
最快轉換週期為 60ns，自動排序器(auto 
sequencer)等。 
¾  兩組事件管理器：包含 16 組 PWM 輸 
出，6 組 capture channels 及兩組 QEP 模
組等等。 
¾ 支援 eCAN 介面，並提供傳輸接收驅動 
IC。 
¾ 多個使用者功能選擇跳線片(jumpers)。 
¾ 56 個 I/O 及週邊的外部電路擴充連接器
(connectors)。 
¾ 支援 IEEE1149.1 JTAG 模擬(emulation)
功能。 
¾ 具有 3.3V 及 1.8V 電源供應。 
¾ 含有 Reset IC 以提供 DSP power on reset
功能，以及手動之 reset 功能。                   
此計畫在機械手臂的設計上，主要是想
讓機械手臂能進行抓取及置物的動作，因此
利用四顆馬達作為機械手臂的動力，使機械
手臂擁有四個自由度，在架構上則使用無線
遙控器、數位訊號處理器、PWM 轉類比訊號
電路、馬達驅動電路、及極限開關電路來加
以控制。圖十二及圖十三所示為機械手臂的
實體圖及硬體架構圖，此機械手臂的尺寸為
高 62 公分長 60 公分鋁材加工完成。 
¾ 高效率 C/C++編譯器。 
¾ 獨家的「IQmath」程式庫。 
¾ 快速而有彈性的中斷管理，三個外部中
斷，外設中斷擴展模組(PIE)支援 45 個
外設中斷。 
   圖十  TMDSEZD2812 實體圖 
4.6 軟體發展 
    本計畫在軟體的編譯上使用C2000 Code 
Composer Studio 來編譯程式，為了避免雜訊
影響遙控器的動作，所以在程式上用了一點
小技巧，將 DSP 所讀到的遙控器訊號分成三
個區段，中間區段無輸出，左、右區段的訊
號則經由放大後再加以應用，圖十一所示為
遙控器軟體示意圖。 
 
 
圖十一   遙控器軟體示意圖 
 
4.6 機械手臂機構與架構之設計 
 
 
 
 
 
 
 
 
 
圖十二  機械手臂實體圖 
5.2 極限開關電路 
    為了避免機械手臂對週遭的人或物造成
安全上的威脅，在機械手臂工作時有一限定
的工作範圍，其方式是在機械手臂的每一軸
上設有兩個光遮斷器，以做為極限開關之
用。當馬達轉動超過此範圍時，藉由極限開 
 8
 
 
  
 
 
 
 
 
 
(1) t=0秒                                 (2) t=4秒 
 
 
 
 
 
 
 
(3) t=8秒                              (4) t=12秒 
 
 
 
 
 
 
 
(5) t=16秒                              (6) t=20秒 
 
 
 
 
 
 
 
(7) t=24秒                            (8) t=28秒 
 
 
圖十六 抓取及置物實驗的序列圖 
 
 10
 
 
 
 
 
 
 
 
(3) t=8秒                              (4) t=12秒 
 
 
 
 
 
 
 
(5) t=16秒                            (6) t=20秒 
 
 
 
 
 
 
 
(7) t=24秒                             (8) t=28秒 
 
 
 
 
 
 
 
(9) t=32秒                            (10) t=36秒 
 
圖十七 (續) 
 
 
 
 12
  
⎥⎥
⎥
⎦
⎤
⎢⎢
⎢
⎣
⎡
⎥⎥
⎥
⎦
⎤
⎢⎢
⎢
⎣
⎡
−−−−
++−
=
⎥⎥
⎥
⎦
⎤
⎢⎢
⎢
⎣
⎡ −
3
2
1
1
          )sin(              )cos(     
     )cos()sin(
      )cos(   )sin(
θ
θ
θ
φφ
φδφδ
φδφδ
φ 




L
L　　　
L　　　
Ry
x
w
w (8)  
  
  
將已知數據 =0.23 m， =0.0508 m，RL 
δ =30°， φ =0°，將其代入式 (8)中，可
得式 (9)，如下 :  
 
 
 
 14
60
30
(Hz))( ×= 編碼器輸出頻率mr馬達轉速
⎥⎥
⎥
⎦
⎤
⎢⎢
⎢
⎣
⎡
⎥⎥
⎥
⎦
⎤
⎢⎢
⎢
⎣
⎡
−
−−
=
⎥⎥
⎥
⎦
⎤
⎢⎢
3
2
1
1.4493       .44931         1.4493   
0          5774.0 5774.0   
0.6667      3333.0 3333.0
0508.0
θ
θ
θ
φ 





　　　
　　　
y
x
w
w ⎡
(9)  ⎢⎣  
由式(7)可算出的馬達轉速 、 、 ，將其
代入式(9)中，可算出機器人目前的移動速度
、 與機器人偏移角速度 ，再將移動速
度與偏移角速度對時間積分，即可得機器人
的移動距離與偏移角度。 
1θ 2θ 3θ 
圖二十一 機器人實際完成之外觀圖 
φwx wy 
5.2 機器人之自我定位 
 機器人的預設操作環境為辦公室、病房
等已知空間，並在特定位置上做指定的動
作，如抓取物件、放下物件、開門、關門等，
要達成上述這些動作的前提是機器人必須準
確的移動到特定位置上，因此精確的定位顯
得相當重要。機器人在平常移動時，所在位
置的精確度較無在做指定動作時重要，可容
忍的誤差較大，所以在平常行走時，機器人
的定位利用馬達上的編碼器計算出機器人速
度後，在將其積分計算出機器人位置。當機
器人進入做指定動作之特定位置的延伸範圍
時，則改採用雷射來定位，如此在平常行走
時可以節省估算的時間，要做指定動作時也
可以擁有精確的定位。 
 常 見 的 積 分 方 法 有 梯 形 法
(Trapezoid Rule)、辛普森法 (Simpson’s 
Rule)、高斯法 (Gaussian Rule)、柴比雪
夫法 (Gauss-Chebyshev Rule)、泰勒多
項式法 (Taylor Polynomial Rule)等，在
此選用公式簡單方便計算的梯度法與
辛普森法做測試後，選用誤差較小的
辛普森法做為機器人轉速積分用，其
測試實驗結果置於 5.4 節中  
 
5.2.2 雷射定位 
 
wX
wY
RX
RY 
G
編碼器定位
雷射定位
1
2P
1P
 5.2.1 編碼器定位  
  方位輪上的 AXH450K 直流馬達內
建有編碼器，當馬達轉一圈時，會輸
出 30 個脈波，解析度為 12°，由式 (7)
可各別計算出三個全方位輪的實際轉
速。  
m
 
 
 
 
圖二十二  雷射定位設置圖  (7) 
 當機器人進入動作目標點 G 延伸範圍
時，將改由雷射系統來進行定位測量，而雷
射 系 統 定 位 需 要 一 些 參 考 標 地 物
(landmark) ， 本 計 畫 中 選 用 圓 柱 狀 的
 
由全方位輪運動方程式(1)，可以逆向推導出
式(8)，如下: 
 當確定了兩個 landmark 的距離、角度
後，即可與已知的座標比對計算出機器人的
實際座標。圖二十六所示為兩個 landmark 資 
( )1 1x ,y
( )2 2x ,y
( )x,y
1P
2P
∑
=
+−−+−=
2
1
222 )5.4()()(
i
iii dyyxxJ )10(
)()()( qUqUqU repatt +=
)(
2
1)( 2 qqU goalatt ξρ= )12(
)(           
)()(           
)()(
goal
goalgoal
attatt
qq
qq
qUqF
−−=
∇−=
∇−=
ξ
ρξρ G
GG
⎪⎩
⎪⎨
⎧
≥
≤−=
.)( if                            0
,)( if    )
)(
1(
2
1
)(
0
0
2
0
ρρ
ρρρρη
q
q
qqU rep
 
 
 
 
 
 
 
 
 
圖二十六 landmark 資料示意圖 
料示意圖，其中( , )、( , )為 landmark
在空間中的已知座標， 、 分別為兩個
landmark 的掃描距離，(
1x 2y 2x 2y
1d 2d
x , y )為欲求的機器
人所在座標，其關係式如式(10)所示，其中
4.5 cm 為圓柱半徑。因此，此問題可視為求
解( x , y )，使得式(3.12)中的 最小化，其限
制為 ，在本計畫中利用牛頓法
(Newton’s Method)來計算此方程式的解。 
J
11, yyxx ≤≥
 
 
雷射定位實驗之結果，將於 5.4 節中介紹。 
5.3 機器人之路徑規劃 
 在本計畫中，機器人的路徑規劃是採用
場效函數法(Potential Field Methods)，此法主
要是將機器人視為空間中的一個點，並將此
空間視為一虛擬的能場 (artificial potential 
field)，而其典型的場效函數定義為一個將機
器人拉向目標的吸力場與一個將機器人推離
障礙物的斥力場之和，機器人即向著能場的
梯度方向移動，如此反覆動作使機器人可到
達目標。利用場效函數法做路徑規劃，在即
時避障方面相當迅速、簡易，並且不需要預
先了解障礙物的位置、數量。但此法會有局
部最小值(local minimum)問題，研究解決這
個問題的學者，一般分為兩個方向:(1)重新定
義場效函數，使虛擬的能場不存在或減少局
部最小值點(2)利用一些額外的技巧，使機器
人能脫離局部最小值點。 
 當機器人行進路線上有凹形障礙
物或由一些非凹形障礙物組合而成的
凹形環境時，機器人容易陷入局部最
小值、振盪、無窮迴圈等情況，這些
情況會使機器人無法到達目標，故上
述 情 況 皆 稱 為 機 器 人 的 困 境 情 況
(trap-state)。傳統的場效法常利用吸、
斥合力向量 )(qFG 來判斷是否陷入以上
所述的情況，但通常無法順利解決問
題。而新型場效函數法是利用吸、斥
力向量之夾角來切換傳統場效法與沿
牆 法 (OBFM, Obstacle Boundary 
Following Method)。  
5.3.1 場效函數法 
 在新型場效函數法中所使用之場效函
數，採用如[53]中之定義。機器人的虛擬的
能場 定義為拉向目標的吸力場與推離障
礙物的斥力場之和: 
)(qU
(11) 
[ ]Tyxq ,=這裡的 為機器人所在座標，而
與 分別為拉向目標的吸力場，為
推離障礙物的斥力場。吸力能場 可
簡單定義成一拋物線函數 :  
attU repU
attU
 
 
ξ在這裡的 為正值的純量參數， )(qgoalρ
為 歐 幾 里 得 距 離 (Euclidean 
distance)
goalqq − 。而由吸力場所產生的
力 )(qFatt
G
為 :  
(13) 
 
 
 斥力能場 同樣地也定義為拋物
線函數 :  
repU
(14) 
 
 16
iF
G
 18
reprepatt
reprepattnew
FFF
FFrotateFF
GGG
GGGG
⋅+⋅⎥⎦
⎤⎢⎣
⎡
−⋅+⋅=
⋅+°⋅+⋅=
321
321
0    1
1    0  
        
)90,(
λλλ
λλλ
iF
G
repF
G
attF
G
Robot 
niθ
tθ
F
G
Goal 
Obstacle 
22 )()( realgoalrealgoal yyxx −+−=ε
( ) ( ) ( )
( ) ( ) ( )
( ) ( ) ( )
( ) ( ) ( )
( ) ( )
( ) ( ) ( )
( ) ( )
( ) ( ) ( )
( ) ( )
( ) ( ) ( ).0  1  0              
   90 :5
.0  1  0             
   90 :4
.1  0  1             
 90  90 :3
.0  1  0             
   90  90 :2
.0  1  0              
    90  90 :1
321
321
321
ni
321
ni
321
ni
=−==
≥°≥
===
<°≥
===
°<°<
=−==
≥°≥°<
===
<°≥°<
λλλ
θθθ
λλλ
θθθ
λλλ
θθ
λλλ
θθθθ
λλλ
θθθθ
andandthen
andifrule
andandthen
andifrule
andandthen
andifrule
andandthen
andandifrule
andandthen
andandifrule
ccwcwt
ccwcwt
t
ccwcwt
ccwcwt斷向量 與慣性向量F
G  之間的夾角 niθ  是否大於等於 90°，當 90≥niθ °時，則即
使
 
90≥tθ °，機器人也不切換傳成統場
效函數法而繼續使用沿牆法移動，如
圖二十九所示，其中新計算出的傳統
向量移動向量為 。此時
 
 
 
F
G  90≥niθ °，所
以機器人繼續使用沿牆法移動。為了
使機器人在控制上更為便利、簡易，
故將其移動演算法整理成如下式 :  
 
 
 
 
  
 利用上述糢糊規則庫，只要先計算出
(21) 
tθ niθ cwθ ccwθ、 、 、 等角度參數，將其輸
入糢糊規則庫中，即可得到 1λ 2λ 3λ、 、 
 等參數，代入式 (21)後即可得到機器人
下一步的移動向量 newF
G 。   
  
 5.4 第三年實驗之結果 
 
5.4.1 編碼器定位精準度實驗之結果  
 在此實驗中，設定機器人由座標(0 cm,0 
cm)以 0.5 m/s 定速向座標(0 cm,500 cm)前
進，編碼器取樣時間各別設定為 0.5 s，並使
用梯形積分法與辛普森法估測出機器人座
標，並比較出機器人實際座標之誤差。接著
設定編碼器取樣時間設定為 0.25 s，同樣地比
較出兩種積分法的誤差。誤差計算如式(22)
所示: 
 
 
 
 
 
 
newF
G
圖二十九  新移動向量 與慣性向量
iF
G
示意圖  之夾角 niθ
(22)  {  1 ,0 1 ∈ }λ  在式 (21)，其中 ，當要乎略掉
attF
G 其中( , )為機器人實際座標，( , )為機
器人估測出的座標。實驗場地為室內面積 6 
m
rx ry ex ey
1λ時，則將 設定為 0，反之，則設
定成 1。 {  1 ,1 ,0 2 −∈ }λ ，當機器人選擇使
用斥力順時旋轉向量 cwF
G ×2 m 的方形場地，在場地上標有一原點(0 
cm,0 cm)為機器人初始座標。此外，在全方
位輪機器人向車頭正前方移動時，只有兩個
前輪(輪 1、2)會轉動，後輪本身不會轉動，
只有輪上的滾軸被帶動，故為了使機器人三
個輪子都能轉動，初始的車頭偏移角度設定
為 45° 。機器人定速前進的初始值如
下:
2λ移動時，則
設定為 1，選擇使用斥力逆時旋轉向量
ccwF
G
2λ移動時，則 設定為 -1，當選擇使
用傳統場效函數法時，則 2λ 設定為 0。
而 {  1  ,0 3 ∈ }λ ，當機器人選擇使用沿牆
法時，則 3λ 設定為 0，使用傳統場效函
數法時，則 3λ 設定為 1。為了使 PC 操
作方便，可以將其整理成如下的糢糊
規則 (Fuzzy Rule): 
 
 
 
45)0( =θ 、 0)0( =x 、y ，0)0( = =Δ 0.5 s、
0.25 s。其實驗結果如下表一、表二所示。由
表一、表二得知，辛普森法較梯形法估測的
數值較為接近實際結果，而取樣時間 0.25 s
較 0.5 s 接近實際結果，故機器人採用 0.25 s
的取樣時間的辛普森積分法來做編碼定位。 
t
表三 landmark 距離 120 cm 雷射定位實驗結果 
目標座標與偏移角 雷射定位座標與偏移角 
(mm) (mm) 實驗 座標誤差 偏移角誤差次數  (mm)    goalx goaly goalθ realx  realy  realθ  
1 705.0 −1198.0 1.0° 5.4 1.0° 
2 699.0 −1192.5 0° 7.6 0° 
3 698.0 −1196.0 0.5° 4.5 0.5° 
4 706.5 −1200.5 2.0° 6.5 2.0° −1200 0° 700 
5 703.0 − −1198.5 1.5° 3.4 1.5° 
−701.5 6 1194.0 0° 6.2 0° 
平均誤差 5.6 0.8° 
 
表四 landmark 距離 160 cm 雷射定位實驗結果 
目標座標與偏移角 雷射定位座標與偏移角 
(mm) (mm) 實驗 座標誤差 偏移角誤差次數  (mm)    goalx goaly goalθ realx  realy  realθ  
1 693.3 −1598.6 2.5° 6.8 2.5° 
2 711.3 −1593.1 0.0° 13.2 0.0° 
3 692.5 − −1607.3 2.0° 10.5 2.0° 
4 694.0 −1602.7 1.0° 6.6 1.0° −700 1600 0° 
5 694.8 −1607.8 2.0° 9.4 2.0° 
− −6 1596.3 2.0° 9.3 2.0° 708.5 
平均誤差 9.3 1.6° 
 
表五 landmark 距離 200 cm 雷射定位 實驗結果 
目標座標與偏移角 雷射定位座標與偏移角 
(mm) (mm) 實驗 座標誤差 偏移角誤差次數  (mm)    goalx goaly goalθ realx  realy  realθ  
1 708.0 − −2006.0 2.0° 10.0 2.0° 
2 681.0 −1998.5 1.0° 19.1 1.0° 
3 693.0 −1992.5 2.5° 10.3 2.5° 
4 703.5 −2012.0 2.0° 12.5 2.0° −700 2000 0° 
5 704.5 − −2006.0 0.5° 7.5 0.5° 
−6 1992.5 2.5° 13.8 2.5° 711.5 
平均誤差 12.2 1.75° 
 
5.4.3 雷射定位後執行指定動作實驗  
此實驗分為定位抓取物件與定位放下物
件，雷射測距儀的量測範皆設定為 0°~180°，
距離解析度設定為公厘(mm)，角度解析度設
定為 0.5°，landmark 採用 80 cm 的放置。圖
三十為實際定位抓取物件結果。圖三十一為
實際定位放下物件結果。
  
 
 
 20
  
 
 
(9) t:00 分 40 秒                            (10) t:00 分 45 秒 
 
 (9) t:00 分 40 秒                           (10) t:00 分 45 秒 
 
 
 
 
(11) t:00 分 50 秒                         (12) t:00 分 55 秒 
 
 
 
 
 
(13) t:01 分 00 秒                          (14) t:01 分 05 秒 
 
 
 
 
 
                  (15) t:01 分 10 秒                         (16) t:01 分 15 秒 
 
圖三十 自動定位抓取物件序列圖(續) 
 
 
 22
  
 
 
 (3) t:00 分 10 秒                     
 
               
 
 
 
 
 
 
            
 
 
 
 
 
 
 
         
 
 
圖三十一 自動定位放置物件序列圖(續) 
 
 
 
      (4) t:00 分 15 秒 
 
 
 
 
    (6) t:00 分 25 秒 (5) t:00 分 20 秒         
 
      (8) t:00 分 35 秒 (7) t:00 分 30 秒         
      (10) t:00 分 45 秒 (9) t:00 分 40 秒         
 24
5.4.4 路徑規劃模擬與結果  
在路徑規劃的實驗中，需要測試機器人
一般存在有凸形障礙物的環境中移動的情
況，還需要測試機器人在存在有凹形障礙物
凹形環境
中實驗，此外還需要一些會使機器人陷入局
部最
圖四十四、圖四十五為其兩種場效函數法機
器人速度-時間圖，這此兩圖可觀查出到機器
人速率到歸零的時間，即為機器人到達目標
的時間，觀查結果使用傳統、新型場效函數
法所需時間各別為 64.8 s 與 75.5 s，會有這樣
在
的環境或由多個凸形障礙物組成的
小值的環境，如當目標物、機器人、障
礙物成一直線的情況，故在場地環境的製作
上需要許多的時間與經費，又提出的新形場
效法可做機器人全方位的避障，但由於雷射
測距儀價格過於昂貴，故機器人身上只容裝
上一台，故只可做前方 180°的避障。由上述
因素，故本計畫中路徑規劃，係採用階採用
Matlab 軟體程式來加以模擬。在此實驗中，
會先在較簡易的實驗環境中，比較傳統場效
函數法與新型場效函數法之實驗結果，接著
慢慢增加實驗環境的複雜度，圖三十二為當
目標、機器人、障礙物成一直線時，使用傳
統場效函數法之結果，機器人在靠近障礙物
時，斥力漸漸加大直到合力為零，造成機器
人陷入局部最小值。一般解決方式為，當機
器人陷入局部最小值時，則另加上一外力將
機器人從陷入點推開，如[36]中，即將原本的
斥力旋轉 90°後，額外加在機器人上，圖三十
三為目標、機器人、障礙物成一直線時，使
用[36]中之場效函數法之結果，但此方法遇到
如一字形或 U 字形環境時，當機器人從陷入
點被推開後，隨即又會掉入陷入點，如此反
覆動作產生震盪現象，如圖三十四與圖三十
五分別為一字形、U 字形環境中，使用[36]
中場效函數法之結果。在以上所述環境中，
使用新型場效函數法，則皆可避開障礙到達
目標，其實驗結果如圖三十六、圖三十七、
圖三十八所示，而在其他較復雜環境中，也
可順利到達目標，圖三十九為在 V 字形環境
之實驗結果，圖四十、圖四十一分別為機器
人進出雙 U 形環境中之實驗結果。而新型的
場效函數法也有其缺點，即當一個使用傳統
場效函數法可以順利達到目標的環境中，若
使用新型場效函數法實驗，則機器人到達目
標所需的時間，將較使用傳統場效函數法
多，圖四十二、圖四十三為使用傳統、新型
場效函數法在同一實驗環境中之實驗結果，
的結果是因為當新型場效函數法，當遇到
90>tθ °的情況時，隨即乎略掉吸力，使用當
時的旋轉斥力向量為機器人下一步的移動向
量，但此斥力的大小是由當時機器人在障礙
物有效影响距離內，距離障礙物遠近所決
定，故當機器人與障礙物有效影响距離內，
且與障礙物距離較大時，將產生相當小的旋
轉斥力向量，即機器人下一步的移動向量將
相當小。 
 
 
 
 
 
 
 
 
 
 
 
 
     
    圖三十二 使用傳統場效函數法，當目標、Robot、
障礙物成一直線時之結果 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
圖三十三 使用[36]中之場效函數法，當目標、Robot、
障礙物成一直線時之結果 
 
 26
 
 
 
 
 
 
 
 
 
 
 
    圖四十 使用新型場效函數法進入雙U形環境之
結果 
 
   圖四十一 使用新型場效函數法繞出雙 U 形環境
之結果 
 
      圖四十二 在相同環境中，使用傳統場效函數
法之結果 
 
 
 
 
 
    圖四十三 在相同環境中，使用新型場效函數法
之結果 
圖四十四 圖八十中結果之速率與時間相對圖 
 
 
 
 
 
 
 
 
 
 
  
 
 
 
 
  
  
  
  
  
  
  
  
  
  
 
  
  
  
  
 
  
  
  
 
 
 
 
  
  
  
 
 
 
 
  
  
  
         
 
圖四十五 圖八十一中結果之速率與時間相對圖 
 28
of an omni-directional robotic vehicle 
[13] 
ith omni-directional 
[14] , B. J. Yi, W. K. Kim, 
[15] ng; D. Tan, and Y. Tian, 
[16] a, “Real-time 
[18] 
and L. Ma, “Visual servoing of an 
[19] an 
[20] 
e robot with 
ma
[21] . S. Shim, H. S. Kim, and J. 
[22] 
ch to motion generation 
[23] 
obile base 
with mecanum wheels,” Proceeds of 
National Telesystems Conference, vol. 1, 
pp. 323-328, 1991. 
Y. P. Leow, K. H. Low, and W. K. Loh, 
“Kinematic modelling and analysis of 
mobile robots w
wheels,” Proceeding of the International 
Conference on Control, Automation, 
Robotics and Vision, vol. 2. pp. 820-825, 
2002. 
T. B. Park, J. H. Lee
B. J. You, and S. R. Oh, “Optimal design 
and actuator sizing of redundantly 
actuated omni-directional mobile robots,” 
Proceedings of the IEEE International 
Conference on Robotics and Automation, 
vol. 1, pp. 732– 737, 2002. 
Y. So
“Experimental identification of the 
dynamics parameters of an 
omnidirectional wheeled mobile robot,” 
Proceeds of the 4th World Congress on 
Intelligent Control and Automation, vol. 2, 
pp. 1175-1178, 2002. 
Y. Yagi and M. Yachid
generation of environmental map and 
obstacle avoidance using omnidirectional 
image sensor with conic mirror,” 
Proceedings of the IEEE Computer 
Society Conference on Computer Vision 
and Pattern Recognition, pp. 160-165, 
1991. 
[17] Y. Yagi, Y. Nishizawa, and M. Yachida, 
“Map based navigation of the mobile 
robot using omnidirectional image sensor 
COPIS,” Proceedings of the IEEE 
International Conference on Robotics and 
Automation, vol. 1, pp. 47-52, 1992. 
M. Berkemeier, M. Davidson, V. Bahl, Y. 
Chen, 
omni-directional mobile robot for 
alignment with parking lot lines,” 
Proceedings of the IEEE International 
Conference on Robotics and Automation, 
vol. 4, pp. 4204-4210, 2002. 
K. Watanabe, “Control of 
omnidirectional mobile robot,” 
Proceedings of the International 
Conference on Knowledge-Based 
Intelligent Electronic Systems, vol. 1, pp. 
51-60, 1998. 
K. S. Byun and J. B. Song, “CVT control 
of an omnidirectional mobil
steerable omnidirectional wheels for 
energy efficient drive,” Proceedings of the 
IEEE International Conference on 
Robotics and Auto tion, vol. 1, pp. 
503-508, 2003. 
M. J. Jung, H
H. Kim, “The miniature omni-directional 
mobile robot OmniKity-I (OK-I),” 
Proceedings of the IEEE International 
Conference on Robotics and Automation, 
vol. 4, pp. 2686-2691, 1999. 
I. E. Paromtchik and U. Rembold, “A 
practical approa
and control for an omnidirectional mobile 
robot,” Proceedings of the IEEE 
International Conference on Robotics and 
Automation, vol. 4, pp. 2790-2795, 1994. 
M. J. Jung, H. S. Kim, S. Kim, and J. H. 
Kim, “Omni-directional m
OK-II,” Proceedings of the IEEE 
International Conference on Robotics and 
Automation, vol. 4, pp. 3449-3454, 2000. 
 30
Chung-Hsing University, 2006. 
C. J. Chen, “Laser-based localization and 
motion planning of a mobile robot
[37] 
 Department of Electrical 
[38] 
ernational 
[39] 
on Systems, 
[40] 
ot navigation,” 
[41] 
 
[42] 
 Robotics and 
[43] 
t 
[44] 
tional Conference on Robotics and 
[45] 
[46] 
 
[47] ng, 
[48] 
irtual obstacle concept 
[49] acevic, and B. Perunicic, 
[50] 
path planning 
,” M.S. 
Thesis,
Engineering, National Yunlin University of 
Science & Technology, 2006. 
O. Khatib, “Real-time obstacle avoidance 
for manipulators and mobile robots,” 
Proceedings of the IEEE Int
Conference Robotics and Automation, vol. 
5, no. 1, pp. 90-98, 1986. 
J. Borenstein, and Y. Koren, “Real-time 
obstacle avoidance for fast mobile 
robots,” IEEE Transactions 
Man, and Cybernetics, vol. 19, pp. 
1179-1187, 1989. 
Y. Koren, and J. Borenstein, “Potential 
field methods and their inherent 
limitations for mobile rob
Proceedings of the IEEE International 
Conference Robotics and Automation, vol. 
2, pp. 1398-1404, 1991. 
J. Barraquand, B. Langois, and J. C. 
Latombe, “Numerical potential field
techniques for robot path planning,” IEEE 
Transactions on Systems, Man, and 
Cybernetics, vol. 22, pp. 224-241, 1992. 
S. S. Ge, and Y. J. Cui, “New potential 
functions for mobile robot path planning,” 
IEEE Transactions on
Automation, vol. 16, no. 5, pp. 615-620, 
2000. 
N. W. Wu., “A potential-field-based 
method for path planning of autonomous 
guided vehicles,” M.S. Thesis, Departmen
of Electrical Engineering, National Yunlin 
University of Science & Technology, 2004. 
F. Vacher, “Fast local path planner in 
certainty grid,” Proceedings of the IEEE 
Interna
Automation, vol. 3, pp. 2132-2137, 1994. 
P. Turennout, G. Honderd, and L. J. 
Schelven, “Wall-following control of a 
mobile robot,” Proceedings of the IEEE 
International Conference on Robotics and 
Automation, vol. 1, pp. 280-285, 1992. 
P. M. Gyu, J. J. Hyun, and M. C. Lee, 
“Obstacle avoidance for mobile Robots 
using artificial potential field approach
with simulated annealing,” Proceedings of 
the IEEE International Symposium on 
Industrial Electronics, vol. 3, pp. 
1530-1535, 2001. 
P. Vadakkepat, T. C. Kay, and M. L. Wa
“Evolutionary artificial potential fields 
and their application in real time robot 
path”, Proceedings of the IEEE Congress 
on Evolutionary Computation, vol. 1, pp. 
256-263, 2000. 
L. Chengqing, M. H. Ang Jr., H. Krishna, 
and L. SerYong, “V
for local-minimum-recovery in 
potential-field based navigation,” 
Proceedings of the IEEE International 
Conference on Robotics and automation, 
vol. 2, pp. 983-988, 2000. 
J. Velagic, B. L
“A 3-level autonomous mobile robot 
navigation system designed by using 
reasoning/search approaches,” Robotics 
and Autonomous Systems, vol. 54, no. 
12,  pp. 989-1004 , 2006. 
D. Fuguang, J. Peng, B. Xinqian, and W. 
Hongjian, “AUV local 
based on virtual potential field,” IEEE 
International Conference on Mechatronics 
 32
行政院國家科學委員會補助國內專家學者出席國際學術會議報告 
報告人姓名 吳佳儒 服務機構
及職稱 
國立雲林科技大學電機系教授 
時間 
會議地點 
5/8/2007-5/11/2007 
Kumamoto, Japan 
本文核定
輔助文號
NSC95-2218-E-224-001 
會議名稱 2007 IEEE International Conference on Mechantronics 
發表論文題目 1. A kinematics-based method for time-optimal control of an 
omni-directional robot 
2. Auto-tuning fuzzy PID control of a Pendubot system 
一、參加會議經過： 
2007 年 IEEE 國際機電整合會議 (The 2007 IEEE International Conference on 
Mechatroncis)是由 IEEE Industrial Electrical Society、SICE System Integration Division、及熊
本大學(University of Kumamoto)所共同承辦之年度盛會，自 2007年 5月 8日至 5月 11日
為期三天，在日本熊本大學舉行。敝人與南開技術學院自動化系李宗禮主任(敝人所發表論
文的共同作者)及敝人所指導的博士班學生傅毓儀，搭乘長榮航空公司班機，由中正機場飛
抵九州的福岡市，再搭乘日本鐵路來到熊本市，同機的還有其他四位也是由台灣來參加此
會議的教授，我們住宿於熊本車站附近的新大谷旅社(New Otani Hotel)，有公車可到達大
會會場，交通相當方便。 
此次會議之研討課題非常豐富，包括了Mechatronics Design、Modeling and Simulation、
Distributed Systems、Fault Detection and Diagnosis、Vision and Sensors, Robots and Mobile 
Machines、Vibration and Control、Computational Intelligence in Mechatronics、Intelligent 
Transportation Systems、Embedded Real-time Systems、Micro Mechatronics、Man Machine 
Interfaces、Motion Control、Hardware/software Co-design、 Intelligent Manufacturing Systems、
Education and Training in Mehctronics，可說是涵蓋了機電整合之理論、技術、和應用等各
個層面。而除論文發表外，大會也安排了三場主題演講(Plenary talk)，題目分別為Pulsed 
Power Technology and Its Applications、A New Academic Frontier “Cybernics”: Robot Suit 
Hal、及Recent Development on Intelligent Robotic Sweet Home for the Elderly，由於敝人和李
宗禮主任的研究專長較偏重於機器人，又對於機器人在老人福祉之應用相當關心，因此對
第三個主題特別感到興趣。 
敝人與李宗禮主任及博士班學生傅毓儀共發表了兩篇論文，題目分別「A 
kinematics-based method for time-optimal control of an omni-directional robot」及「Auto-tuning 
fuzzy PID control of a Pendubot system」，時間則是被安排於 5 月 9 日下午的 WA1-C 及
WA2-B的場次中進行，敝人也同時受邀擔任第二個場次的 session chair。其中第一篇論文
的目的是在探討如何進行最短時間路徑規畫，使全方位機器人能在不同的兩個組態中運
A Kinematics-Based Method for Time-Optimal Control of 
an Omni-Directional Robot 
Chia-Ju Wu Tsong-Li Lee Chia-Nan Ko Kuo-Lan Su 
Department of  
Electrical Engineering 
Department of  
Automation Engineering 
Department of  
Automation Engineering 
Department of 
Electrical Engineering 
National Yunlin University 
of Science and Technology 
Nan Kai Institute 
of Technology 
Nan Kai Institute  
of Technology 
National Yunlin University 
of Science and Technology 
Douliou, Yunlin 640  Tsaotun, Nantou 542 Tsaotun, Nantou 542 Douliou, Yunlin 640  
Taiwan, R.O.C Taiwan, R.O.C Taiwan, R.O.C Taiwan, R.O.C 
wucj@yuntech.edu.tw alee88@nkc.edu.tw t105@nkc.edu.tw sukl@yuntech.edu.tw 
 
Abstract – The main goal of this study is to investigate the 
time-optimal control problem of an omni-directional mobile 
robot between two configurations. In the proposed method, 
this problem is formulated and solved as a constrained 
nonlinear programming (NLP) one. During the optimization 
process, the count of control steps is fixed initially and the 
sampling period is treated as a variable to be determined. The 
goal is to minimize the sampling period such that it is below a 
specific minimum value, which is set in advance considering 
the accuracy of discretization. To generate initial feasible 
solutions of the NLP problem, a systematic approach is also 
proposed. Since different initial feasible solutions can be 
generated, the optimization process of the NLP problem can 
be started from many different points to find the optimal 
solution. To show the feasibility of the proposed method, 
simulation and experimental results are included for 
illustration. 
I  INTRODUCTION 
In recent years, several kinds of mobile robots have been 
used widely in many applications [1]. Among these mobile 
robots, the omni-directional ones have attracted much 
attention since they can translate and rotate simultaneously 
and independently [2]. A typical application of omni- 
directional mobile robots is the annual international 
Robocup competition [3], in which omni-directional 
mobile robots are used to play soccer-like games. 
Many researchers have studied omni-directional mobile 
robots [2, 4-10]. Pin and Killough presented the concepts 
for a family of holonomic wheeled platforms that feature 
full omni-directionality with simultaneous and independent 
controlled rotational and translational capabilities [2]. 
Betourne and Campion, Kim et al., and Leow et al. studied 
the kinematic modeling and analysis of omni-directional 
mobile robots [4, 5]. Considering the occurrence of slip 
between the wheels and motion surface, William II et al. [6] 
presented a dynamic model for omni-directional wheeled 
mobile robots. Chen et al. [7] presented an off-road 
omni-directional robot, which can run on an uneven road 
and obstacles. With the same kind of omni-directional 
robot in [7], Liu et al. [8] designed a nonlinear controller 
for an omni-directional mobile robot utilizing the so-called 
linearization control method such that robust stability and 
performance can be provided.  
From the competition experience of Robocup games, it 
is realized that a time-optimal control method for the 
mobile robots between configurations can improve the 
performance of a team significantly. In the past few years, 
the time-optimal problem of omni-directional mobile 
robots has attracted the attention of several researchers [9, 
10]. Usually, this kind of time-optimal control problem 
leads to the utilization of the Pontryagin’s Maximum 
Principle (PMP) [11], in which the dynamical equations of 
the mobile robot are used and one needs to solve a set of 
differential equations. Since this set of equations is usually 
highly nonlinear and coupled, it is very difficult to obtain 
the closed-form solution for the time-optimal trajectory of 
any omni-directional mobile robot [9, 10]. 
Because of the disadvantage in applying the PMP, a 
NLP method that does not utilize the PMP was developed 
by one of the authors of this paper to solve the 
time-optimal control problem of linear systems [12]. 
Extending the concept in [12] to nonlinear systems, this 
paper shows the generation of time-optimal motion 
between two configurations for an omni-directional mobile 
robot with three independently driven individual wheels. In 
the beginning of this study, a mobile robot is introduced 
and its kinematic equations are derived. Then an iterative 
procedure is proposed to transform the time-optimal 
problem into a constrained NLP one. However, since the 
kinematic equations of the omni-directional robot are 
usually nonlinear, it is not an easy task to find a feasible 
solution for the NLP problem. Therefore, a systematic 
approach is also proposed to generate feasible solutions. In 
this manner, since feasible solutions can be obtained easily, 
the optimization process of the NLP problem can be started 
from many different starting points to find the optimal 
solution.  
II  THE OMNI-DIRECTIONAL ROBOT AND ITS 
KINEMATICS 
The three-wheeled omni-directional mobile robot used in 
this study is shown in Fig. 1. This mobile robot system is 
mainly equipped with a notebook PC, two 12V serial 
batteries, three omni-directional wheels, and three DC 
servomotors with encoders and drivers. The notebook PC 
is used to implement the proposed method and determine 
the control signals, which are the desired angular velocities 
of the three wheels. These control signals are then 
transformed into the corresponding voltage commands and 
are sent to the DC servomotors to drive the omni- 
directional wheels. The special feature of the 
omni-directional robot hinges on the wheels that allow free 
motions in any directions. To derive the kinematics of the 
mobile robot, a diagram is depicted as shown in Fig. 2, in 
which a fixed world-frame [ , ]Tw wx y  and a moving-frame 
1
Proceedings of International Conference on Mechatronics
Kumamoto Japan, 8-10 May 2007
WA2-B-4
1-4244-1184-X/07/$25.00©2007 IEEE
( ) ( 1) ( 1)
( ) ( 1) ( 1) for 1, 2, ,
( ) ( 1) ( 1)
w w w
w w w
x i x i x i t
y i y i y i t i N
i i i tφ φ φ
− + − ⋅ ∆
= − + − ⋅ ∆ =
− + − ⋅ ∆
           

 "

  (12) 
where ( ( ), ( ), ( ))w wx i y i iφ  and ( ( ), ( ), ( ))w wx i y i iφ   are 
used to denote ( ( ), ( ), ( ))w wx i t y i t i tφ⋅ ∆ ⋅ ∆ ⋅ ∆  and 
( ( ), ( ), ( )),w wx i t y i t i tφ⋅ ∆ ⋅ ∆ ⋅ ∆   respectively. 
If 1 2 3( (0), (0), (0))ω ω ω  is substituted into (6), with the 
given ( (0), (0), (0)),w wx y φ  then the value of 
( (0), (0), (0))w wx y φ   is determined. Then the value of 
( (1), (1), (1))w wx y φ  can be obtained by substituting the 
values of ( (0), (0), (0))w wx y φ  and ( (0), (0), (0))w wx y φ   
into (12). Applying angular velocities to (6) sequentially 
and repeatedly using (12), the final configuration of the 
omni-directional mobile robot can be expressed as 
functions of 1 2 3( (0), (0), (0)),  ( (0), (0), (0)),w wx y φ ω ω ω "  
1 2 3( ( 1), ( 1), ( 1)),N N Nω ω ω− − −  and the sampling 
period t∆ . This means that 
 1 1 2 3( ) ( (0), (0), (0), , , , )w w wx N f x y tφ ω ω ω= ∆
G G G
 (13) 
 2 1 2 3( ) ( (0), (0), (0), , , , )w w wy N f x y tφ ω ω ω= ∆
G G G
 (14) 
 3 1 2 3( ) ( (0), (0), (0), , , , )w wN f x y tφ φ ω ω ω= ∆
G G G
 (15) 
where 
1 1 1 1( (0), (1), , ( ( 1))Nω ω ω ω= −
G "  
2 2 2 2( (0), (1), , ( ( 1))Nω ω ω ω= −
G "   
3 3 3 3( (0), (1), , ( ( 1))Nω ω ω ω= −
G "  
With (13) through (15), Problem 1 is now turned into a 
standard constrained NLP problem as follows: 
PROBLEM 2: 
Given the initial configuration in (7), determine the values 
of 1 2 3, , ,ω ω ω
G G G
 and t∆  to minimize 
 J N t= ⋅ ∆  (16) 
subject to 
 0t∆ >  (17) 
 ( ( ), ( ), ( )) ( , , )w w final final finalx N y N N x yφ φ=  (18) 
,min ,max( )i i ijω ω ω≤ ≤ for 1, 2,3; 0,1, , 1i j N= = −"  (19) 
where ( ( ), ( ), ( ))w wx N y N Nφ are defined in (13) through 
(15). 
B  Choice of Control Steps and Sampling Period 
Although the time-optimal control problem of an omni- 
directional mobile robot can be formulated as shown in 
Problem 2, there still exist several difficulties to be solved. 
One difficulty is the choice of the value of control steps 
.N  It is obvious that a larger value of N  gives more 
freedom for the input variables. However, this also means 
more computation burden for Problem 2. For linear system 
without constraints on the input variables, it has been 
shown that the initial choice of N  must be greater than 
the dimension of state variables [12]. Though no similar 
rules can be followed for nonlinear systems, an integer that 
is large than the dimension of state variables will be 
chosen as an initial value of N  in this paper. 
Another difficulty is the choice of the sampling period. 
From the viewpoint of discretization accuracy, it is obvious 
that smaller sampling period value will result in a more 
accurate model. Therefore, a limitation of the sampling 
period, say limitt∆ , should be chosen. If the value of t∆  
obtained in Problem 2 is greater than limitt∆ , then a new 
value of control steps will be chosen according to 
 new
limit
N t
N
t
⋅ ∆
>
∆
 (20) 
IV  INITIAL FEASIBLE SOLUTIONS 
After formulating the time-optimal control problem of the 
omni-directional mobile robot as a NLP one, it should be 
pointed out that there are only two ways to guarantee the 
global minimum of this NLP problem [13]. The first one is 
to specify that the problem is convex. If the problem is not 
convex, then the second way is to choose a sufficient 
number of different initial feasible solutions to start the 
optimization process such that all local minima may be 
obtained. Since Problem 2 is clearly not a convex problem, 
only the second way can be used to find its global 
minimum. In Problem 2, an initial feasible solution means 
a set of 1 2 3, , ,ω ω ω
G G G
 and t∆  satisfying the constraints in 
(7) and (17) through (19). In this section, a systematic 
approach is proposed to generate initial feasible solutions 
of Problem 2. If initial feasible solutions can be found 
easily, then the optimization process of Problem 2 can be 
started from different points to find the global minimum. 
The first step of this approach is to find a trajectory of 
the omni-directional robot that satisfies the constraints in 
(7), (17), and (18), irrespective of the constraints in (19). If 
this trajectory satisfies the constraints in (19), then an 
initial feasible solution is found. Otherwise, this trajectory 
can be adjusted to be a feasible one by slowing down the 
angular velocities, but tracking the same positions. Such 
kind of adjustment is similar to the situation of driving a 
car along a track.  
For a chosen value of N , there are several ways to 
generate a trajectory to satisfy the constraints in (7), (17), 
and (18). For example, one can choose 
( ) ( )
initial
w initial final initial
final
x
i
x i x x x
N
x
= + − ⋅

 for 
0
1, 2, , 1
i
i N
i N
=
= −
=
"  
  (21) 
( ) ( )
initial
w initial final initial
final
y
i
y i y y y
N
y
= + − ⋅

 for 
0
1, 2, , 1
i
i N
i N
=
= −
=
"  
  (22) 
3
,N the values of limitt∆  and feasibleN  are chosen to be 11, 
0.03 (sec.) and 10, respectively. To generate different 
initial feasible solutions, with the choices in (21), (22), and 
(23), the value of feasiblet∆  must be determined first. In this 
example, it is easy to find that this value is 0.2815 (sec.). 
Therefore, if one substitutes the value 0.2 (sec .)t∆ =  
into (24), then a trajectory that satisfying the constraints in 
(25) and (26) is determined and the corresponding angular 
velocities are shown in Table 1. However, since this is not 
a feasible solution, it will violate the constraints in (27). 
On the other hand, if a value of t∆  that is greater than 
feasiblet∆ , say 0.5 (sec .)t∆ =  is substituted into (24), then 
a set of feasible angular velocities is generated as shown in 
Table 2. With this feasible solution and applying the 
MATLAB Optimization Toolbox, the optimal values of 
t∆  and N t⋅∆  are found to be 0.0928 (sec.) and 1.0208    
(sec.), respectively. However, since limitt t∆ > ∆ , the value 
of N  will be updated according to (20), and the new 
value of N  is chosen to be 36. Applying Algorithm A 
with N=36, the optimal values of t∆  and N t⋅∆  are 
found to be 0.0279 (sec.) and 1.0044 (sec.), respectively, 
and the angular velocities corresponding to the 
time-optimal movement are shown in Fig. 3. 
B  Experimental Example 
To check the validity of the above simulation and the 
feasibility of the proposed method, the angular velocities 
1 2( ), ( ),t tω ω and 3 ( )tω  shown in Fig. 3 are applied to 
the omni-directional mobile robot. The experimental 
results are shown in Fig. 4, from which one can find that 
the mobile robot is driven very closely to the desired final 
configuration. Both the values of ( )w finalx N x− and 
( )w finaly N y−  are less than 10 cm and the value of 
( ) finalNφ φ− is less than 5 .D  Deviation between 
( ( ), ( ), ( ))w wx N y N Nφ  and ( , , )final final finalx y φ  may be 
caused by factors such as discretization accuracy, wheel 
slippage, surface roughness, and so on. 
 
 
Table 1 
A set of infeasible angular velocities corresponding to 11N =     
and 0.2 (sec).t∆ =  The conditions in (25) and (26) are satisfied 
while the constraints in (27) are violated. 
i    1 ( )iω    2 ( )iω  3 ( )iω  
0 22.315 -9.177  6.569 
1 19.116 -11.101 11.691 
2 14.900 -11.592 16.399 
3 10.010 -10.613 20.310 
4 4.841 -8.242 23.108 
5 -0.189 -4.671 24.566 
6 -4.671 -0.189 24.566 
7 -8.242 4.841 23.108 
8 -10.613 10.010 20.310 
9 -11.592 14.900 16.399 
10 -11.101 19.116 11.691 
 
 
Table 2 
A set of feasible angular velocities corresponding to 11N =  
and 0.5 (sec).t∆ =  The constraints in (25), (26), and (27) are all 
satisfied. 
i    1 ( )iω    2 ( )iω  3 ( )iω  
0 8.926 -3.6709 2.6275 
1 7.6463 -4.4402 4.6765 
2 5.9601 -4.6370 6.5594 
3 4.0039 -4.2452 8.1239 
4 1.9362 -3.2967 9.2430 
5 -0.0755 -1.8682 9.8262 
6 -1.8682 -0.0755 9.8262 
7 -3.2967 1.9362 9.2430 
8 -4.2452 4.0039 8.1239 
9 -4.6370 5.9601 6.5594 
10 -4.4402 7.6463 4.6765 
 
0 0.5 1 1.5 2
-20
-15
-10
-5
0
5
10
15
20
Time (sec)
O
m
eg
a1
 (ra
d/
se
c)
 
0 0.5 1 1.5 2
-20
-15
-10
-5
0
5
10
15
20
Time (sec)
O
m
eg
a2
 (ra
d/
se
c)
0 0.5 1 1.5 2
0
2
4
6
8
10
12
14
16
18
20
Time (sec)
O
m
eg
a3
 (ra
d/
se
c)
 
Figure 3 
The angular velocities 
1 2 3
( ( ), ( ), ( ))t t tω ω ω  corresponding to the 
time-optimal movement. 
5
Auto-Tuning Fuzzy PID Control of a Pendubot System 
Chia-Ju Wu Tsong-Li Lee Yu-Yi Fu Li-Chun Lai 
Department of 
Electrical Engineering 
Department of 
Automation Engineering 
Department of 
Automation Engineering 
Graduate School of Engineering 
Science and Technology 
National Yunlin University 
of Science and Technology 
Nan Kai Institute of 
Technology 
Nan Kai Institute of 
Technology 
National Yunlin University 
of Science and Technology 
Douliou, Yunlin 640  Tsaotun, Nantou 542 Tsaotun, Nantou 542 Douliou, Yunlin 640  
Taiwan, R.O.C Taiwan, R.O.C Taiwan, R.O.C Taiwan, R.O.C 
wucj@yuntech.edu.tw alee88@nkc.edu.tw t098@nkc.edu.tw lichun.lai9999@msa.hinet.net 
 
Abstract – The goal of this paper is to design a fuzzy 
proportional-integral-derivative (PID) controller to swing up 
the pendubot and maintain it in an unstable inverted 
equilibrium position. Different from PID controllers with 
fixed gains, the fuzzy PID controller is expressed in terms of 
fuzzy rules such that the PID gains are adaptive and the fuzzy 
PID controller has more flexibility and capability than the 
conventional ones. When tuning the fuzzy PID controller, a 
genetic algorithm (GA) method is proposed, in which the 
centers and the widths of the Gaussian membership functions, 
the number of fuzzy control rules, and the PID gains are 
chosen as parameters to be determined. When defining the 
fitness function of the genetic algorithm, the concept of 
multiobjective optimization is used such that the fitness 
function can be defined in a systematic way. To show the 
performance and robustness of the fuzzy PID controller, 
simulation results are presented. 
I   INTRODUCTION 
A pendubot is a two-link (two-degree-of-freedom) under- 
actuated system and it includes two links rotating on two 
joints, in which the first link (shoulder) is actuated and the 
second link (elbow) is not actuated. This system is a simple 
underactuated mechanical system to permit complete 
dynamic analyses, but complex enough for investigating 
many advanced nonlinear control methods. Therefore, it is 
widely used as a benchmark in the study of underactuated 
systems. 
In order to stabilize the pendubot to the unstable 
inverted equilibrium position, a two-stage control strategy 
is always used. In the first stage, swing up control is used 
to move the pendubot close to the equilibrium manifold. 
Then in the second stage, the swing up controller is 
replaced by a balance controller for position control. Many 
methods such as the partial feedback linearization 
techniques [1], the fuzzy PD and/or PI controller [2, 3], 
and the acrobatic controller [4] have been conducted for 
swing up control of the pendubot. Once both links are 
swung up, the problem of balancing the pendubot about the 
unstable equilibrium was investigated [1-4]. 
In this paper, a GA-tuning fuzzy PID control scheme is 
proposed to swing up the pendubot and maintain it in an 
unstable inverted equilibrium position. This scheme is 
adopted because PID controllers are widely applied in 
industry applications in the past decades. Meanwhile, this 
is also because PID controllers have simple control 
structures and are prone to tune. To complete such a 
controller, the proportional gains, the integral gains, and 
the derivative gains must be determined. Recently, many 
researchers attempted to combine conventional PID 
controllers with fuzzy logic [5-7]. Despite the significant 
improvement of these fuzzy PID controllers over their 
conventional counterparts, it should be noted that they still 
have disadvantages. The membership functions are fixed 
and not adjustable, and the fuzzy control rules are handed- 
designed rules [5, 6]. Furthermore, for nonlinear multi- 
variable systems, how to reduce the number of fuzzy rules 
is unsolved. In [7], a multivariable system is decomposed 
into several SISO systems in order to reduce the number of 
fuzzy rules. However, the drawback is that the inter- 
dependency between the variables is neglected such that 
the designed controller cannot work well for some cases. 
To overcome the above-mentioned weaknesses, a GA is 
used to perform parameter tuning of the fuzzy PID 
controller since GAs provide a means to search poorly 
understood and highly complex space. In the proposed 
GA-tuning method, based on the concept of multiobjective 
optimization [8, 9], a fitness function is defined in a 
systematic way such that the centers and the widths of the 
Gaussian membership functions, the number of fuzzy 
control rules, and the PID gains can all be chosen as 
parameters to be determined. In this manner, it is expected 
that the designed fuzzy PID controller has more flexibility 
and capability than those in [5-7]. The performance of this 
controller will be verified by the simulation results. 
II   DYNAMIC MODEL OF THE PENDUBOT 
In general, the dynamic model of an underactuated 
mechanism with m  actuated joints from a total of n  
joints can be expressed as follows [10]: 
 ( ) ( ,  ) ( )+ + =  M q q C q q q G q τ  (1) 
where nR∈q  represents the angles of the links, 
( ) n nR ×∈M q  represents the inertia matrix, 
( ,  ) nR∈ C q q q  represents the Coriolis and centrifugal 
torques, ( ) nR∈G q  represents the gravitational term, and 
nR∈τ  represents the control torques, which has ( )n m−  
zero components. 
For the pendubot shown in Fig. 1, one can find that 
1m =  and 2.n =  Therefore, in the form of (1), its 
dynamic model can be represented as 
11 12 1 11 12 1 1 1
21 22 2 21 22 2 2 0
M M q C C q G
M M q C C q G
τ
⋅ + + =
                                
 
   (2) 
where 1m ,  2m ,  1q ,  2q ,  1l , 2l ,  1cl ,  and 2cl  are 
 
1
Proceedings of International Conference on Mechatronics
Kumamoto Japan, 8-10 May 2007
WA1-C-3
1-4244-1184-X/07/$25.00©2007 IEEE
 where 1 1 2 1 3 2 4 2( ) ( ) ( ) ( ).
i j k l
ijkl X e X e X e X eω = ⋅ ⋅ ⋅   
From the above description, one can find that the gains 
of a fuzzy PID controller are adaptive. However, it is very 
difficult, if not impossible, to determine the parameters,   
simultaneously. Therefore, a GA-based searching approach 
will be proposed since GAs provide a means to search 
poorly understood, highly complex space.  
IV   GENETIC ALGORITHMS 
A  Chromosome Representations 
One of the key issues of the proposed GA-based method is 
the way to encode the parameters. In this paper, a mixed 
coding method will be used, in which 1,n  2 ,n  3,n  and 
4n  are encoded as binary numbers and  1 ,
ijkl
PY   1 ,
ijkl
IY  1 ,
ijkl
DY  
 2 ,
ijkl
PY   2 ,
ijkl
IY   2 ,
ijkl
DY  ,
km
kρ  ,k
m
klσ  
km
krσ  are encoded as real 
numbers. 
Once the mixed coding techniques are used, a 
chromosome can be represented as 
1 2 3 4 1 2 3 41 2 4 4 4 4 6
[ , , , ] [ ]n n n n n n n n binary realp p p + + + += ="p p p  (9) 
where 
 
1 2 3 41 2
[ , , , ]binary n n n np p p + + += "p  (10) 
 
1 2 3 4 1 2 3 4 1 2 3 41 4 4 4 4 6
[ , , ]real n n n n n n n n n n n np p+ + + + + + + += "p  (11) 
binaryp  is a binary variable vector taking of either “1” or 
“0” and realp  is a real variable vector. 
As described above, the values of 1p  to 1 2 3 4n n n np + + +  are 
used to indicate which ones of the membership functions 
are activated. As for the real genes, the values of 
1 2 3 4 1n n n n
p
+ + + +
 to 
1 2 3 42 2 2 2
,n n n np + + +  1 2 3 42 2 2 2 1n n n np + + + +  to 
1 2 3 43 3 3 3
,n n n np + + +  and 1 2 3 43 3 3 3 1n n n np + + + +  to 1 2 3 44 4 4 4n n n np + + +  are 
used to represent the values of ,kmkρ  ,kmklσ  and ,kmkrσ  
respectively. Furthermore, the values 
1 2 3 44 4 4 4 1n n n n
p + + + +  to 
1 2 3 4 1 2 3 44 4 4 4 6n n n n n n n n
p + + + +  are used to represent the values of 
 1 ,
ijkl
PY   1 ,
ijkl
IY   1 ,
ijkl
DY   2 ,
ijkl
PY   2 ,
ijkl
IY   2 ,
ijkl
DY  for 11 ,i n≤ ≤  
21 ,j n≤ ≤  31 ,k n≤ ≤  41 .l n≤ ≤  
B  Crossover and Mutation 
Crossover is an effective way of exchanging and 
recombining genes from the higher fitness individuals. In 
the proposed GA-based method, a chromosome is 
represented as [ ].binary real=p p p  Consequently, different 
kinds of crossover operators are applied to binaryp  and 
,realp  respectively. For binary-coded genes, one cut-point 
crossover operator is adopted because of its simplicity. As 
for real-coded genes, the convex operator is adopted since 
it is widely used [12]. 
Mutation is also a crucial operator of GAs. It alters one 
or more genes with a mutation probability. In the proposed 
GA-based method, for binary-coded genes, single-point 
mutation operator is employed [13]. For real-coded genes, 
there exist different mutation operators such as the uniform 
mutation and the nonuniform mutation [14]. The non- 
uniform mutation is adopted in this paper. 
C  Fitness 
In GAs, fitness is the performance index to evaluate the 
suitability of each chromosome. By the principle of 
survival of the fittest, a chromosome with higher fitness 
value has a higher probability of contributing one or more 
offspring in the next generation. However, it should be 
pointed out that the definition of fitness function is usually 
different from person to person and may be totally 
different even in a simple application case. Therefore, how 
to define a proper fitness function is still an open problem 
in GAs. 
Based on the concept of multiobjective optimization [8, 
9], a systematic way to define the fitness function is 
proposed in this paper. Assuming that one is interested in 
M performance criteria, which are denoted by 1 ( ),f x  
2 ( ), , ( ),Mf f"x x  respectively, then the fitness function 
can be defined as 
 1 2Maximize   ( ),  ( ), , ( )Mfitness f f f
∈Ω
= "
x
x x x  (12) 
where 1 2( ,  , ,  )nx x x= "x  is a variable vector in a real 
and n-dimensional space, Ω  is the feasible solution space, 
and 1 2( ),  ( ), , ( ) Mf f f"x x x  are the M objective functions 
to be maximized simultaneously. 
From the above illustration, one can realize that the 
fitness function can be defined systematically as shown in 
(12). However, how to find an optimal solution for this 
multiobjective minimization problem is not an easy task 
and several algorithms have been proposed [8, 9]. Among 
these methods, one feasible way is to search from various 
search directions to find the optimal solution [8]. In this 
method, the first step is to rewrite the fitness function in 
(12) as 
 1 1 2 2( ) ( ) ( )M Mfitness w h w h w h= + + +"x x x  (13) 
where 
( )
( )    for  1,  2, ,  
max{ ( ) }
i
i
i
f
h i M
f
∈Ω
= = "
y
x
x
y
 (14) 
1 2( ,  , ,  )Mw w w"  is the weight vector and 
 
1 2
for  1,  2, ,  ii
M
r
w i M
r r r
= =
+ + +
""  (15) 
In which 1 2,  , ,  Mr r r" are nonnegative random real 
numbers.  
How to fuse the optimal solutions corresponding to 
1 2( ,  , ,  )Mw w w"  to obtain the optimal value of the 
multiobjective problem in (12) was not discussed in [8]. 
Therefore, a novel method is developed and the basic idea 
is to determine the average weight vector of the N  sets 
of weight vector by 
 
,
1
,
1
( )
for 1, 2, ,
( )
N
ij i opt j
j
i N
i opt j
j
w h
w i M
h
=
=
⋅
= =
∑
∑
"
x
    
x
 (16) 
With this new set of weight vector, the corresponding 
fitness function is defined and the GA is applied to find the 
3
 generated by the proposed approach are expressed in the 
form of fuzzy rules, they are more adaptive than the PID 
controller with fixed gains. As shown in the simulation 
examples, every key components of the fuzzy PID 
controller are determined simultaneously. Therefore, the 
designed PID controller improves significantly the 
disadvantages of most of the previous PID design methods. 
Another merit of the proposed method is the way to 
define the fitness function based on the concept of 
multiobjective optimization. If one is interested in many 
performance criteria, then the fitness function can be 
defined a systematic way. In the simulation examples, it is 
shown how to achieve the primary goal while minimizing 
the number of fuzzy rules simultaneously. In this manner, a 
fuzzy PID controller with as few as fuzzy rules is designed 
and the simulation results verify its good performance on 
the pendubot system. 
ACKNOWLEDGMENT 
This work was supported in part by the National Science 
Council, Taiwan, R.O.C., under grants 
NSC95-2218-E-224-001 and NSC95-2221-E-252-002. 
REFERENCES 
[1] M. Zhang, T. J. Tarn, “Hybrid control of the Pendubot,” 
IEEE/ASME Transactions on Mechatronics, Vol. 7, No. 1, pp. 
79–86, 2002. 
[2] E. Sanchez, L. A. Nuno, Y. C. Hsu, G. Chen, “Fuzzy PD scheme 
for underactuated robot swing-up control,” Proceedings of the 
IEEE International Conference on Computational Intelligence and 
Fuzzy Systems, pp. 302–306, 1998. 
[3] E. N. Sanchez, V. Flores, “Real-time fuzzy PI + PD control for an 
underactuated robot,” Proceedings of the IEEE International 
Symposium on Intelligent Control, pp. 137–141, 2002. 
[4] W.L. Kazuo, H.O. Wang, “Acrobatic control of a Pendubot,” IEEE 
Transactions on Fuzzy Systems, Vol. 12, No.4, pp. 549–552, 2004. 
[5] D. Misir, H.A. Malki, G. Chen, “Design and analysis of a fuzzy 
proportional- integral-derivative controller,” International Journal 
of Fuzzy Sets and Systems, Vol. 79, pp. 297–314, 1996. 
[6] C. W. Tao, J. S. Taur, “Robust fuzzy control for a plant with fuzzy 
linear model,” IEEE Transactions on Fuzzy Systems, Vol. 13, No.1, 
pp. 30–41, 2005. 
[7] C. J. Wu, G. Y. Liu, M. Y. Cheng, T. L. Lee, “A neural-network- 
based method for fuzzy parameter tuning of PID controllers,” 
Journal of the Chinese Institute of Engineers, Vol. 25, No. 3, pp. 
265–276, 2002. 
[8] H. Ishibuchi, T. Murata, “A multi-objective genetic local search 
algorithm and its application to flowshop scheduling,” IEEE 
Transactions on Systems, Man, and Cybernetics–Part C: 
Applications and Review, Vol. 28, No. 3, pp. 392–403, 1998. 
[9] S. Hajri-Gabouj, “A fuzzy genetic multiobjective optimization 
algorithm for a multilevel generalized assignment problem,” IEEE 
Transactions on Systems, Man, and Cybernetics–Part C: 
Applications and Review, Vol. 33, No.2, pp. 214–224, 2003. 
[10] M. W. Spong, M. Vidyasagar, Robot dynamics and control, New 
York: Wiley, 1989. 
[11] L. X. Wang, A Course in Fuzzy Systems and Control, New Jersey: 
Prentice-Hall, 1997. 
[12] Z. Michalewicz, Genetic Algorithm + Data Structure = Evolution 
Programs, New York: Springer-Verlag, 1996. 
[13] R. L. Haupt, S. E. Haupt, Practical Genetic Algorithms, 2nd ed., 
New York: John Wiley & Sons, 2004. 
[14] J. Holland, Adaptation in Natural and Artificial System, Ann 
Arbor: University of Michigan Press, 1975. 
[15] J. J. Grefenstette, “Optimization of control parameters for genetic 
algorithms,” IEEE Transactions on Systems, Man, and Cybernetics, 
Vol. 16, No. 1, pp. 122–128, 1986. 
[16] K. F. Man, K. S. Tang, S. Kwong, “Genetic algorithms: Concepts 
and applications,” IEEE Transactions on Industrial Electronics, 
Vol. 43 No. 5, pp. 519–534, 1996. 
[17] K. Ogata, Modern Control Engineering, 4th ed., New Jersey: 
Prentice-Hall, 2002. 
 
  (a) 
 
  (b) 
 
  (c) 
 
  (d) 
 
 Figure 2 
Optimal membership functions of the input linguistic variables 
(a) 
1
( ),e t  (b) 
1
( ),e t  (c) 
2
( ),e t  and (d) 
2
( )e t , which are 
determined by applying Algorithm A with the fitness function 
(20). 
2
1X  
-3 -2 -1 0 1 2 3 
0
0.2
0.4
0.6
0.8
1
1e  
M
em
be
rs
hi
p 
fu
nc
tio
ns
 
 
5
1X
 
-3 -2 -1 0 1 2 3 
0 
0.2
0.4
0.6
0.8
1
2e  
M
em
be
rs
hi
p 
fu
nc
tio
ns
 
1
4X
4
4X
-3 -2 -1 0 1 2 3 
0
0.2
0.4
0.6
0.8
1
2e  
M
em
be
rs
hi
p 
fu
nc
tio
ns
 
4
3X  
2
3X
-3 -2 -1 0 1 2 3 
0
0.2
0.4
0.6
0.8
1
M
em
be
rs
hi
p 
fu
nc
tio
ns
 
1e
2
2X
3
2X  
4
2X
5
