多媒體指令(MMX、SSE、SSE2)的擴充[1]，更
有利處理視覺應用上的大量計算，所以數位影
像處理及視訊壓縮開始被廣泛應用在PC 上，
因此，數位式錄影系統 ( D i g i t a l  V i d e o 
Recorder，簡稱：DVR)在近幾年逐漸地成為監
視系統市場之主流產品，因為它具有數位化的
各項優點，比如：重覆錄製不失真、資料備份
容易、快速搜尋歷史資料及調閱簡便等等。但
目前在監視系統市場上，同時多路監視是很常
見的需求，使它會對系統造成沉重的負擔，如
果再加上其他視覺功能，如雜訊濾除、侵入偵
測、移動追蹤、辨識移動物與計數、恐怖份子
及行為分析、火焰偵測及浮水印加密認證等，
其CPU的負荷更大，所執行速度在監視系統上
是非常很重要的，因為我們希望有更多資源去
達成更多視覺功能。而著眼於未來，視訊壓縮
將被更廣泛的運用在手持的行動電話系統，而
移動估測佔據了整體系統大部份的計算能量，
故低計算能量需求是近幾年來快速移動估測的
主要訴求，但如果單單使用一種快速的移動估
測方法，並不足以用在DVR多路的即時錄製或
其他視訊壓縮的即時應用，因此如果使用更快
速的區塊匹配搜尋法配合使用區塊內部份取樣
之技術，如此ㄧ來可達到相輔相乘的效果，使
之更適合應用在視訊處理即時需求的系統，但
必須注意，由於快速的區塊匹配搜尋法和區塊
內部份取樣之方法皆會引起失真，合併使用可
能帶來更大的失真情況，此失真對於DVR系統
則會造成壓縮率的降低。圖四為真實情境下16 
路的DVR系統商用產品，中間視窗為每路可達
到 的 最 高 每 秒 壓 縮 張 數 ， 約 為 1 9 ~ 2 0 
frames/sec，可見其未達每秒30張的標準，未來
更有更多頻道(例，32路)的需求；而這就需要
有更快速度與低失真的移動估測技術。 
     此外，目前快速區塊匹配搜尋法的速度與
準確率並無可調性，對於即時壓縮而言，每秒
30張即達到需求，但如系統有多餘的運算資
源，以目前之方法則不能有效利用多餘的資
源，因此可調性的優點在於：我們可利用這些
多餘的資源讓壓縮效率或品質更好，而如碰到
系統運算資源不足時則減少計算量以達到即時
的需求。由於目前PC-based的DVR應用中，每
台電腦處理速度都是不同的，而且不是每個使
用者都需要多路的DVR監控系統或其他的視覺
運用，因此如果系統有多餘的運算資源的話，
希望可以加以利用讓壓縮率更好，也可以因應
未來可能更強大PC系統，除此之外，PC多工
作業系統的方便性，使用者常常同時處理DVR 
的程式和別的應用程式，這會導致DVR系統的
運算資源突然會減少，這時可以調整來加快搜
尋法的速度使之能達到即時運算，當使用者結
束應用程式時，則自動增加計算量以增強搜尋
的準確性，所以可調性的做法相當靈活先進 
而且最有前瞻性。 
     本計劃目的在於開發出一種可調速度暨準
確度之區塊匹配搜尋法，為了因應速度上的需
求，而又不希望損失太多壓縮率與升高複雜
度，故此區塊匹配搜尋法最好能有六角搜尋法
[2]的快速，有鑽石搜尋法[3][4]的準確性，沒
有十字鑽石搜尋法[5]的複雜性，而且是簡單且
容易實現的。在使用區塊內部取樣部分，我們
希望配合快速區塊匹配搜尋法使用後，能有一
種方法可降低合併使用所造成的失真，如此配
合使用才能兼顧搜尋速度與品質，以達到較高
的實用性和效益性，而在可調性方面，我們將
達成有動態之可調整性，使之能適應各種 
不同的情境和系統。 
 
三 結果與討論 
 
  本計劃所介紹的可調性搜尋法，其方法如
圖一所示，圖一中之重要步驟如下： 
我們定義兩個參數為 S S A D G M V 和
SAD GMV，SSAD GMV會記錄著當演算法搜尋
時，所有產生的扁平六角搜尋圖案的最小值，
且其值是經過區塊內取樣部份像素的。
SADGMV則是記錄著當演算法搜尋時，所有產
生的結束圖案之最小值，且其值不使用區塊內
取樣部份像素，也就是對區塊內所有的像素值
都取樣計算。當演算法結束時SADGMV所記錄
的值，即為演算法所找到的最小失真值。 
 2
