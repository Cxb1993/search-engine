 2
二、前言 
運動休閒是現代人舒解壓力，健康身心
的重要方式。運動節目的欣賞，更是日常生
活重要的調劑。2008 年北京奧運剛結束，
雖然獲得獎牌的數目大不如體委會賽前的
預估，但棒球項目的比賽成績，卻能緊緊牽
動國內的人心。在此過程中可見，民眾對運
動資訊的要求，隨著運動休閒品質與運動內
容欣賞能力的增加，逐年提高。運動資訊不
僅能提供競技項目，如對手情蒐或自我訓練
時有效的工具，提升運動科學運用空間，運
動資訊更能成為重要的內容產業，導引觀眾
的觀戰水準及情緒宣洩。體育運動項目結合
電腦資訊科技，所產生的運動資訊領域，已
經是國際運動產業的發展趨勢，也是各項競
賽奪牌的重要指標。 
在我們過去對運動資訊領域多年的研
究中，已建構出一個棒球資訊平台(如圖
一)，包括五個和視覺化資訊技術相關之子
系統，也定義出各子系統彼此運作的互動模
式。我們期望從已建構的棒球資訊平台上，
進一步對具共通性的視覺化運動資訊擷
取、搜尋與管理所需使用的核心技術進行深
入的研究。 
 
 
圖一、棒球資訊平台關聯性結構圖 
 
此外，由我們過去的研究可了解，各項
運動都有其依運動規則或精神所演化出的
活動模式，例如：棒球比賽過程，共可分成
四大部分：（1）投球、（2）打擊、（3）守備、
（4）跑壘。在棒球運動資訊中，我們又可
歸納活動形態為：（A）狀態資料、（B）投
打資料。其中，狀態資料是指：好壞球出局
數、壘上狀態、跑者姓名、客隊名稱、主隊
名稱、比賽地點、計分版上單局得分、總得
分、總安打、總失誤、打者姓名、投手姓名
等靜態屬性內容。而投打資料，則是指（a）
投手將球投出後，隨時間所改變的過程內容
屬性，例如：球的進壘點(用二維平面點來
顯示)、球速、球種、球數(好壞球)狀態；（b）
打者揮棒狀態(沒揮、揮空、界外)，打者將
球打出，所改變的狀態，例如：球的落點，
飛行方式，打擊結果，打點；（c）防守球員
守備過程，出局數，守備結果；（d）跑壘者
推進情形，推進原因，壘上跑壘者姓名。 
這些不同的活動模式及內容元素的變
化組合，構成了運動資訊的要項，也形成了
一場場動人心弦，精彩緊張的比賽。 
所以在一場比賽的視訊中，如果能根據
此運動的活動模式，有效的偵測、辨識出有
用的競賽資訊(如記分版圖表)及活動過程
(如有球員及球場的視訊場景)，並能追蹤出
運動場地內的比賽球員、球、裁判，則可使
得場內相關球員及球的運動軌跡和行為，藉
由軌跡關鍵點座標或行為模式字串，一併與
有關的畫面儲存於運動視訊資料庫系統
中。同樣地，也可經由運動資料庫的各種特
別查詢方式或資料探勘(Data Mining)，使有
興趣的運動資訊內容，藉由視訊片段畫面、
一組關鍵點座標軌跡或行為字串以動畫呈
現等方式，重播精彩的運動內容。 
因此，如何藉由資訊科技，自動的擷取
出運動視訊中的有效資訊，是本計畫的主要
重點。在本次計畫中，我們從已建構的棒球
 4
而 Beichner 等[5]於 1989 年首次利用
電腦影像及空間位置的重疊性，對美國高中
生進行運動力學的課程講授，以實際物體運
動影片，驗證自由落體等運動在真實世界中
運動的軌跡與模式。將數位影像帶進了另一
個新的應用領域。 
 
 
圖二、 MLB 美國大聯盟線上轉播 
運動資訊系統軟體介面 
 
雖然近來已逐漸累積各種關於運動視
訊處理的技術，但對重要比賽的現場即時資
料分析，尤其較具實用性的情蒐系統或觀戰
系統，以及整合性的視覺化資訊系統(如圖
二)，仍相當缺乏。因此本計畫中運動基礎
研究以及整合式系統的開發，將填補研究與
實務間的差距，使研究的方向更加明確，使
內容產業、運動科學、競技情蒐三方面都有
獲益。 
 
2、運動視訊中資訊內容之特性 
在探討運動資訊的過程中，除了運動模
式的了解外，最先會碰到的問題，就是：在
運動視訊中，有那些畫面具有重要有效的運
動資訊？這些資訊以何種型態出現？有何
不同的意義類別？如何由這些畫面中自動
的擷取出資訊? 
由我們過去的研究中可以得知：畫面中
的記分版(圖表)，球員或球具器械的運動方
式(動作)，主播、評論員的敘述說明，以及
裁判的判決，都是視訊中提供資訊的主要方
式，再藉由攝影機不同角度、速度的拍攝及
運鏡，將運動過程中高水準精緻的細節完整
呈現。 
由於我們僅對視訊畫面之內容進行研
究(語音辨識部分不在此範圍)，我們不可避
免的必須對：「運動視訊場景種類」、「球員
運動模式」、「記分版內容偵測辨識」等主要
問題進行了解。由我們過去對運動視訊觀察
的了解，在棒球運動的重要場景畫面中(如
圖三)，不難發現以下的三點特性： 
 
(1)球場及球員球衣顏色可以研判場景的特
性 
在各場景中，球場或球衣顏色所佔的比
例，確有一定的關聯性。由於各種不同的場
景因攝影機照攝位置、角度的緣故，不同場
景畫面中出現球場顏色(Field Color)與球衣
顏色(Cloth Color)的比例不盡相同。因此我
們可使用球場球衣顏色比例  (Field/Cloth 
Color Ratio，FCCR)分析畫面顏色。 
 
(2)打者擊出球或球員跑壘時鏡頭會長距離
移動 
打者擊出之後，攝影機會跟著球追蹤，
攝影機的運動說明了有重要的事件發生。因
此，攝影機運動所造成的整體運動場景畫
面，是值得考慮的重要畫面特徵。 
 
(3)投打場景球員間會有長時間的固定位置
運動 
在靜態場景中(如投打場景)，球員活動
位置非常固定，所以球員活動位置也成為一
個值得採用的重要畫面特徵。 
 
 6
( , )
( , )
k kFieldColor ClothColor
Pixels Pixels
k
FieldColor ClothColor
N NFCCR
N N
Ratio Ratio
=
=
    (4) 
 
2 , ,
2 , .
k Scene Scene k
FieldColor FieldColorRatio FieldColorRatio
k Scene Scene k
ClothColor ClothColorRatio ClothColorRatio
Ratio SD f Scene
Ratio SD f Scene
μ
μ
⎧ − ≤ × ∈⎪⎨ − ≤ × ∉⎪⎩
          (5) 
其中，FCCRk 是畫面 k 的球場球衣顏色
比例。 
 
   
(a)投打場景         (b)過濾結果
  
(c)球場場景        (d)過濾結果 
圖五、球場顏色過濾結果 
 
(3)、靜態場景的變動位置圖學習 
以人工的方式對該場次的影片，隨機挑
選數段含有欲學習變動位置圖的場景，依照
變動位置圖的計算方式，剖析數段場景，每
段場景可以得到一個變動位置圖，針對同一
種類場景的數個變動位置圖，計算平均變動
位置圖以代表該場景。變動位置圖的使用如
圖六所示，綠色表示為球場區塊、紅色表示
為球衣區塊、黑色表示未知物體區塊。變動
位置圖同時考慮球場與球衣顏色像素點分
佈，將場景畫面以 16×16 區塊(Block)等分，
若該區塊在整段場景中所有畫面裡的主要
顏色為球場顏色，代表該區塊可能為球場所
出現的區塊。若該區塊在整段場景中所有畫
面裡的主要顏色為球衣顏色，代表該區塊可
能為球員出現的區塊。若該區塊在整段場景
中所有畫面裡的主要顏色，非上述兩種顏
色，則該區塊為未知物體所出現的區塊。 
 
圖六、變動位置圖示意圖 
 
3、運動視訊場景種類 
如前文所述，尋找運動資訊的第一步，
是對運動視訊的場景種類、運鏡方式及可能
出現內容的畫面，先進行剖析以過濾挑選。
也就是說，我們可由場景分類後不同的畫面
內容與播放順序，試圖了解目前比賽可能的
進行狀態。 
以棒球為例：一場棒球比賽進行的過
程，可細分為一個接著一個的半局(Half 
Inning)所組成，而每一個半局是由一位接著
一位打者上場打擊所串連。因此，轉播的場
景畫面，在比賽進行的過程中，會在各種攻
守投打極具資訊內容的場景之間作轉換，例
如：投打場景(Pitching Scene)、內外野的守
備場景(In/Out Field Scene)等。當然，轉播
的場景畫面中也充斥著許多一般認為不重
要的場景，如：球員特寫(Close-up Scene)、
觀眾畫面 (Audience Scene) 、廣告畫面
(Advertisement Scene)等。 
在場景分類前需要透過場景變動偵測
來進行畫面的分割。針對場景變動偵測
(Scene Change Detection)，先前提出的論文
研究有許多。由於在棒球轉播視訊特性中，
場景切換的方式絕大多數為快速切換
(Abrupt Scene Change)的變化形式，因此計
畫中使用以區塊比對(Block Matching)的方
 8
 
圖八、場景分類模組流程 
 
統計整段場景每兩相鄰畫面的運鏡，分
別計算動態與靜態運鏡的畫面數目，我們將
整段場景的運鏡方式分為動態場景與靜態
場景，若整段場景中：(一)動態運鏡畫面數
<場景畫面數 25%，視為靜態場景。(二)動
態運鏡畫面數≧場景畫面數 25%，視為動態
場景。 
 
4、球員運動模式 
由前面的定義與推論可以發現，關於球
員運動模式的問題，可同樣一次由變動位置
圖一併解決。變動位置圖的計算、比對共需
要有四個步驟(如圖九)，同時考慮球場與球
衣顏色區塊分佈。 
步驟 1：計算球場與球衣顏色分佈圖：將整
段場景的每一張畫面其相同像素點位
置作統計，若超過 2/3 的畫面中該像素
點判斷為球場顏色或球衣顏色，則表
示該像素點可能為球場或球員像素點
位置，依此方法我們可以整個畫面的
像素點大致分成三類：球場顏色、球
衣顏色與未知顏色像素點。因此可將
一整段場景濃縮成球場顏色分佈圖與
球衣顏色分佈圖。 
 
 
圖九、計算變動位置圖 
 
步驟 2：未變動球衣顏色點過濾：為了得知
偵測為球衣的像素點是否有所變動，
我們將該場景的變動累計圖與球衣顏
色分佈圖取 AND 運算，找出同時為球
衣顏色且有變動的像素點，以確保留
下的像素點確實為球員出現的位置。 
步驟 3：區塊分割：將球場顏色分佈圖與球
衣顏色分佈圖以 16×16 區塊等分，針
對 每 個 區 塊 中 計 算 其 主 要 顏 色
(Dominate Color，超過 1/2 像素點數量)
屬於球場、球衣或兩者皆非，表示該
區塊所代表的物體。合併區塊分割後
的球場顏色分佈圖與球衣顏色分佈
場景累計變動位
未變動球衣顏色點過濾 
區塊分割 
計算球場球衣顏色分佈
t
 10
半局，局數為阿拉伯數字顯示；半局之顯
示，如上、下，或表、裏。球隊分數區域，
包含先攻球隊分數與後攻球隊分數，為阿拉
伯數字顯示。球數區域，包含好球數、壞球
數、出局數，使用圖形或阿拉伯數字顯示。
壘包區域，包含一壘、二壘、三壘，使用圖
形顯示。依計分板的顯示方式可分成兩大
類 ： (1) 多 圖 形 計 分 板 (Multi-graphic 
Scoreboard) 、 (2) 單 圖 形 計 分 板
(Single-graphic Scoreboard)。多圖形計分板
之球數狀態，好球數、壞球數、出局數通常
使用不同色彩來表示，而圖形通常使用圓形
來顯示。至於壘包狀態，使用同種色彩來表
示一壘、二壘、三壘狀態。 
 
 
圖十、計分板區域 
 
經過學習與搜尋計分板後，欲開始記
錄視訊內容資訊，還需經由辨識與記錄計
分板子系統，首先將擷取到的視訊影片與
計分板樣版，經過搜尋具有計分板的畫
面，接著利用具有計分板的畫面與計分板
數字樣版，來學習數字字元辨識(Number 
Character Recognition)，然後再配合計分板
圖形樣版，經由計分板辨識系統，辨識出
欲辨識之視訊內容，將這些視訊內容記錄
到資料庫中，進而達到視訊內容分析與視
訊理解的境界。 
計分板樣版學習演算法分成兩個步
驟：(1)計分板樣版偵測(Scoreboard Template 
Detection)、(2)計分板樣版定位(Scoreboard 
Template Location)。計分板樣版偵測演算法
分成五個步驟：(1)場景變化偵測(SCD)、(2)
色彩空間轉換(Color Space Trans- form)、(3)
特徵點選取(Feature Point Select- ing)、(4)特
徵點累積(Feature Point Counting)、(5)特徵
畫面累積(Feature Frame Counting)。 
利用偵測出場景變化的時間點，將棒球
比賽視訊切割成一個個場景，將場景中的每
一個畫面，經過色彩空間轉換，把原來視訊
的 RGB 模式轉換成 HSI 模式，因為 HSI 模
式，符合電視台後製作之計分板特性，電視
台利用高飽和度（S）或高亮度（I）的方式，
製作不同看板或跑馬燈，讓觀眾可以快速瀏
覽所要知道之資訊，也因此將視訊原來的
RGB 模式轉換成 HSI 模式。 
而電視台轉播之棒球比賽視訊，由電視
台後製作之計分板，是利用此高飽和度或高
亮度的方式，使得觀眾可以快速發現計分板
位置，得知比賽資訊，我們也利用此特性來
偵測計分板。將每一個場景中的每一個畫面
的每一個像素中的 S 值以及 I 值，與臨界值
比較，當大於臨界值則稱此像素為特徵點
（Feature Point），反之則否，如圖十一。 
 
 
圖十一、HSI 轉換與特徵點 
 
根據觀察同一個場景中的畫面彼此差
異有限，我們利用這個特性，來偵測棒球比
賽視訊的計分板，我們已經在場景中的每個
畫面挑選完特徵點，現在我們接著累積這些
特徵點，累積完畢之後，再挑選出現機率最
高的部分，此結果我們稱為特徵畫面
（Feature Frame）。 
每個場景經過累積特徵點之後，得到一
 12
換局時，這是一個很重要的訊息。步驟 3，
計算此區塊的中心。步驟 4，累積這些區塊
的 中 心 ， 最 後 得 到計 分 板 圖 形 位 置
（Scoreboard Graphic Location）(如圖十五)。 
 
 
圖十五、計分板圖形樣版候選 
 
已得知球數狀態區塊與壘包狀態區
塊，現在要將此兩狀態區塊，再做更細部的
區分，區分出其中之項目區塊。將球數狀態
區塊再框出之中小區塊，可得到七個區塊，
而這七個區塊分別代表兩個好球、三個壞球
和兩個出局數(如圖十六)，按照 X 軸 Y 軸座
標與 RGB 值可得知，這七個區塊會呈現三
群關係，分別為兩個、三個和兩個區塊，我
們得知三個區塊的一定是壞球數，因為球數
之中只有壞球會超過三個，我們要繼續來區
分好球與出局數，再利用這些區塊的出現次
數，好球出現次數比出局數高，這樣我們就
可得知球數狀態區塊之好球數、壞球數和出
局數項目區塊代表的意義。接著區分壘包狀
態區塊，壘包狀態區塊，分成一壘、二壘和
三壘壘包區塊，三者出現機率由高至低排列
為：一壘出現機率最高、其次二壘出現機
率、三壘出現機率最低，利用此特性，分辨
出壘包狀態區塊之一壘、二壘和三壘壘包項
目區塊。 
 
圖十六、球數狀態區域：好、壞球及出局數 
 
 
在進行計分板記錄前，需檢查是否進行
過學習，如果沒有學習過，先進行計分板學
習與搜尋，學習得到計分板樣版、計分板圖
形樣版與計分板數字樣版，並得到數字字元
特徵和圖形特徵；進行到此，都已經過計分
板學習，接著利用上述樣版與特徵進行計分
板搜尋，將具有計分板之畫面搜尋出來(如
圖十七)，再經過前述所提之計分板辨識，
最後得到計分板資訊(如圖十八)：局數、先
攻隊伍分數、後攻隊伍分數、好球數、壞球
數、出局數、一壘、二壘與三壘壘包狀態，
將這些視訊內容，記錄到資料庫內，可供之
後查詢、視訊內容分析與視訊理解之用，完
成系統所規劃之功能。 
 
   
   
圖十七、計分板圖形與數字區域遮罩 
 
圖十八、（上圖）計分板數字資訊、（下圖）
計分板圖形資訊 
 14
[19] C. Frohlich, Resource letter PS-1: physics of sports, 
Am. J. Phys., 1986 , No.54, 590-593. 
[20] A. Gueziec, Tracking Pitches for Broadcast 
Television, IEEE Computer, 2002, March, 38-43. 
[21] Mei Han, Wei Hua, Wei Xu and Yihong Gong, 
Event Detection in Baseball Video Using  
Superimposed Caption Recognition, Proceedings 
of the 10th ACM International Conference on 
Multimedia, 2002. 
[22] W. Hua, M. Han and Y. Gong, "Baseball Scene 
Classification Using Multimedia Features," Proc. 
of IEEE Int'l Conf. on Multimedia and Expo., Vol. 
1, pp.821-824, Aug. 2002. 
[23] S. Jeannin and A. Divakaran, “MPEG-7 Visual 
Motion Descriptors,” IEEE Trans. on Circuits and 
Systems for Video Technology, vol. 11, no. 6, June 
2001, pp. 720-724. 
[24] M. Jones and J. Rehg, “Statistical Color Models 
with Application to Skin Detection,” Proc. of 
Computer Vision and Pattern Recognition (CVPR), 
1999, pp.274-280. 
[25] T. L. Liu, and H. T. Chen, “Real-time Tracking 
Using Trust-region Methods,” IEEE Trans. On 
Pattern Anal. Machine Intell., Vol. 26, No.3, pp. 
397-402, March 2004. 
[26] M. J. Lucena, “An Optical Flow Probabilistic 
Observation Model for Tracking,” Proc. of ICIP, 
Vol. 1, 2003. 
[27] K. Okuma, J. J. Little and D. Lowe, “Automatic 
Acquisition of Motion Trajectories: Tracking 
Hockey Players,” Proc. of SPIE, Vol. 5304, 2003. 
[28] S. C. Pei and F. Chen, Semantic Scenes Detection 
and Classification in Sports Videos, 16th IPPR 
Conf. on Computer Vision, Graphics and Image 
Processing, 2003, Kinmen ROC, 210-217. 
[29] G. S. Pingali, A. Opalach, Y. D. Jean and I. B. 
Carlbom, Instantly Indexed Multimedia Databases 
of Real World Events, IEEE Trans. on Multimedia, 
2002, Vol.4, No.2, 269-282. 
[30] W. Tavanapong, and J. Zhou, Shot Clustering 
Techniques for Story Browsing, IEEE Trans. On 
Multimedia, 2004, Vol.6, No.4, 517-527. 
[31] X. Yu and H.W. Leong, “A Robust Hough-based 
Algorithm for Partial Ellipse Detection in 
Broadcast Soccer Video,” Proc. of IEEE Intl. Conf. 
on Computer Vision, Vol. 3, 2004, pp. 27-30. 
[32] 張厥煒，2005 年，視覺化棒球運動情蒐與資
訊系統.，Communication of IICM, Vol.8, No. 4, 
187-202. 
[33] 張厥煒、林華韋，雅典奧運棒球情蒐運作模式與
資訊系統建構，大專體育，第七十六期，
pp.25~29，2005 年。 
[34] 蔡燿駿，拼奧運是打科技戰，e 天下雜誌，
pp.58~61，2004 年 8 月號。 
[35] 朱維瑛，台灣的棒球 SPY，中華職棒雜誌，
pp.38~40，2004 年 6 月號。 
[36] 賴榮樞，中華隊前進雅典的幕後推手，微電腦傳
真，pp.61~64，2003 年 12 月號。 
[37] 陳義煌，“中華名國棒球記錄法”，中華名國棒球
協會，2002 年 7 月。 
[38] 鄭毅賢，“棒球競賽資訊管理系統之研究開發”，
國立體育學院運動科學研究所碩士論文，民國
90 年。 
[39] 林鼎智，“建構於視訊運動特徵分析之棒球比賽
事件偵測及其語意式分類”，中正大學電機工程
研究所碩士論文，民國 90 年。 
 
 16
可供推廣之研發成果資料表 
□ 可申請專利  ; 可技術移轉                                   日期：97 年 8 月 27 日 
國科會補助計畫 
計畫名稱：視覺化運動資訊擷取、搜尋與管理核心技術之研究 
計畫主持人：張厥煒  國立台北科技大學資訊工程學系副教授 
計畫編號：NSC 96-2221-E-027 -109  學門領域：WEB 技術 
技術/創作名稱 視覺化運動資訊擷取、搜尋與管理核心技術 
發明人/創作人 張厥煒 
技術說明 
中文：運動休閒是現代人舒解壓力，健康身心的重要方式。運動節
目的欣賞，更是日常生活重要的調劑。體育運動項目結合電腦資訊
科技，所產生的運動資訊領域，已經是國際運動產業的發展趨勢，
也是各項競賽奪牌的重要指標。過去我們曾建構了一個棒球運動資
訊平台，完成了部分運動資訊所需要的相關核心技術，例如：文數
字及視訊資料型態歷史及短期數位內容管理的機制(記錄系統、視
訊資料庫、歷史資料管理)，運動資訊呈現展示模式(動畫戰術)，
以及經專業分析產生運動資訊的工具(動態分析)。本次計畫的主要
目標是【運動視訊中資訊內容之擷取與型態分類】，在於研究如何
藉由數位視訊內容處理分析，與圖形、數字辨識技術的發展，輔以
自動化視訊物件分割、物件辨識方式，正確的搜尋、辨識和記錄運
動視訊中，場景種類、球員運動模式、計分板內容等核心基礎資訊，
以做為後續視訊內容分析及視訊理解的依據。進而獲得較快速且正
確之結構化運動視訊內容，並實質提升運動視訊資訊科技中內容擷
取、整理、研究與分析之能力。 
