智慧型全域學習與管理系統之設計與實作–
數位學習內容之保護與版權管理之研究
計畫編號：NSC-95-2221-E-006-159-MY3
執行期限：97年 8月 1日至 98年 7月 31日
主持人：王明習副教授 國立成功大學工程科學系
計畫參與人員：林建全 國立成功大學工程科學系
洪偉程 國立成功大學工程科學系
周子捷 國立成功大學工程科學系
一、中文摘要
資訊科技變化迅速，數位版權管理系
統需有能因應時勢所需，提供功能抽換之
能力。在本計畫中，利用開放行動聯盟
（Open Mobile Alliance, OMA）所制定的
規範，提出數位版權管理架構，此架構使
用模組化的設計方式，以利於未來做功能
上的更改或增減。本文所提出的架構可以
讓使用者自行選取數位內容的使用權
限，在離線使用數位內容的部份必須利用
所設計的離線播放器來開啟受保護的數
位內容。在數位內容的保護機制上，將數
位內容與版權描述文件分別以不同的管
道提供給使用者下載以達到內容與版權
發佈分離之原則。
關鍵字: 數位版權管理系統、開放行動聯
盟
Abstract
In this project, the specifications
proposed by Open Mobile Alliance (OMA)
are adopted to design the framework of the
proposed digital right management system.
The system consists of different modules
for modulability. The digital content is
protected via both encryption and right
description. The encrypted digital content
and its right object are sent to the user
separated. Finally, the user must install the
provided offline player for playing the
digital contents.
Keywords: DRM, OMA
二、動機與目的
數位內容都需要一個相當完善的保
護機制來防止不肖人士的盜版行為。舊有
以帳號及密碼來判斷使用者合法性的保
護方式已經不符時代所需；在數位內容裡
加入隱藏資訊，如：數位浮水印（digital
watermarking）或是數位指紋碼（digital
fingerprint code）等，基本上是屬於被動
的保護方式，它們只能達到嚇阻的效果。
以上兩個方法都無法有效的規範使用者
對數位內容的操作行為。換句話說，使用
者只要能夠合法取得數位內容，就能任意
的對數位內容做出修改、複製或散播等會
危害著作者權益的動作，但著作者卻無從
察覺這些動作。數位版權管理系統
（Digital Rights Management, DRM）[1]
即是因應這樣的需求所產生的，它除了能
夠掌控每一個使用者的合法性之外，還可
以有效管理使用者的每一個動作，進而達
到完整保護的目的。
本計畫提出一個數位版權管理架
構，經由模組化的開發設計，日後可依不
同的需求或是時勢所需，修改或增減模組
裡的功能。所提出的管理架構也可以應用
在各種類型的數位內容，毋需再為不同類
型的數位內容，重新設計一套新的系統。
在提出的架構中提供不同權限之組合，使
會將數位內容解碼後呈現；在結束數位內
容的使用後，亦將數位內容加密儲存。直
到數位內容生命週期結束，數位內容一直
受到加密保護。
使用權限制定
使用權限的制定是由版權發行者來
負責，在 OMA DRM 2.0的規範中，版權
物件是依照提供者制定的使用權限，利用
版權描述語言撰寫成一個獨立的檔案，其
中最重要的就是將文件的加密金鑰寫
入。使用者必須取得版權物件才能夠使用
數位內容。
當使用者開啟數為內容之際，在行動
電話裡的 DRM控制器會讀取對應的版
權物件，利用寫在物件中的金鑰解密數位
內容。雖然版權物件本身都受到禁止轉送
的限制，但由於行動電話與電腦的溝通越
來越多元化，深怕版權物件藉由仲介媒體
流向其他使用者，於是加入比對行動電話
硬體資訊的保護機制。每一部行動電話都
有獨一無二的國際移動裝備辨識碼
（International Mobile Equipment Identity,
IMEI），藉由這個特徵，DRM控制器就
能判斷出版權物件的合法性。
運作流程
在 OMA DRM 2.0中，數位內容與版
權物件是循 OMA DRM 1.0裡的分開式
交付模式提供給使用者。如圖二所示，使
用者可由基本下載（Basic Download）以
及超傳播（Super-distribution）兩種程序
取得文件，程序的詳細說明分述如下：
 基本下載：以圖二為例，使用者 A
利用無線應用通訊協定等管道下載
加密過的文件，如圖二中的（1）。在
這裡的內容發行者與版權發行者有
可能為在同一硬體設備的兩個系
統，但不管兩者是否為獨立狀態，內
容發行者裡的數位內容加密金鑰都
必須提供給版權發行者，如圖二中的
（2）。接下來使用者經由版權物件取
得協定（Rights Object Acquisition
Protocol, ROAP）下載包含加密金鑰
的版權物件，如圖二中的（3）。版權
物件取得協定是由 OMA DRM 2.0
定義的一個管道，主要是可讓版權發
行者與行動電話相互驗證身份通訊
管道。
 超傳播：在 OMA DRM 2.0規範中，
加密過的數位內容是可以經由行動
電話上的通訊設備，如：訊息、紅外
線或藍芽等，發送給其他使用者，如
圖二中的（4）。假如使用者 B想要
使用收到的數位內容，他必須經由版
權物件取得協定取得版權物件，如圖
二中的（5）。這時使用者 A成為內
容發行者的角色。
圖二 OMA DRM 2.0運作流程圖
3-2 系統架構
圖三是本計畫所提出的架構圖，依對
象可畫分為發佈以及傳播兩大部份，這兩
大部份分別對應到 OMA DRM 2.0的內
容發行者以及版權發行者。在圖示裡，圓
角矩形（1 3）代表的是架構模組，方角
矩形（1 3）為模組會使用到的工具，工
具可因應需求彈性抽換。實線箭頭為數位
內容以及權限描述文件的路徑；虛線箭頭
則為訊息線，泛指使用者所輸入的資料或
是模組間溝通的資料。
溝通發佈與傳播兩大部份的橋樑，其
任務是依照使用者所點選的數位內
容從資料庫中搜尋出來然後載入檔
案。由於取出的數位內容資料其資訊
都是未經過保護的，所以加密模組會
將數位內容加密後再提供給使用者
下載。在 PHP中的加解密函式庫為
openssl的模組，利用這個模組產生
亂數金鑰對文件做對稱式的加密
（DES）後，將亂數金鑰傳遞給版權
制定模組。使用者下載加密過後的數
位內容，需搭配在權限描述文件內的
亂數金鑰解密，才能正常使用數位內
容。
另外在架構中為了讓使用者更容易
了解數位內容資訊以及方便使用者確認
數位內容為自己所需，所以設計預覽文件
之功能。系統會在提供者發佈檔案之時一
併將預覽文件轉換出來，方便於使用者使
用播放器時，預覽畫面能即時出現。
 檔案轉換模組：接收上傳模組傳遞過
來的檔案，利用轉檔工具將檔案轉換
成系統預設預覽播放器可以接受的
檔案格式。提供者可以選定想要開放
的頁次，檔案轉換模組會將所選定的
頁次一併存入資料庫裡，以便預覽播
放器播放設定的頁次。
傳播
在傳播的部份主要對象為使用者。在
提出的架構中，為了使版權制定更有彈
性，所以是由使用者來選擇所需要的權
限，再經過付費之後即可得到數位內容的
使用權，其各模組的功能如下：
 付款模組：使用者必須支付一定的費
用才能取得數位內容的合法使用
權。所以，使用者在選定權限之後，
就會進入付費的階段。本架構設計了
一個線上付費機制，唯獨所需之金融
交易的部份不是本計畫討論的範
圍，所以就不詳述其細節。在使用者
輸入完付費的資料後，付款模組會將
資料送往金融交易系統，等待金融交
易系統的回應。此時，付款模組轉變
成驅動運作的角色。若回應交易成
功，則付款模組會分別發送訊息驅動
版權制定模組與加密模組，使其能將
使用者要求的數位內容與版權描述
文件備妥；若交易失敗，則會驅使系
統拋棄本次的版權制定，並回應到頁
面給使用者知道。
 版權制定模組：接收來自於版權選擇
器的訊息，使用 XrML產生器將其
描寫成使用權限文件。在版權選擇器
中可依照檔案類型提供適合使用者
購買的版權權限，例如：文字型式的
數位內容可以依次數或者是依時間
範圍的提供使用者閱讀；音樂型式的
數位內容就不適合提供列印的版權
選項。版權制定模組收集這些使用者
設定的參數等候來自於付款模組的
驅動訊息以及加密模組給予的加密
金鑰後就可以產生版權描述文件，並
且提供給使用者下載使用。
 預覽播放器：提供文件的預覽功能，
播放從預覽文件資料庫中所載入的
文件，並且取得相對應的設定檔，將
設定檔中所描述頁次，去呼叫檔案
「存取控制」功能。
離線播放器
本計畫提出的架構是可以讓使用者
離線使用數位內容，由於數位內容已經由
格式轉換模組轉換成 DRM內容格式並
且由加密模組加密過，所以無法在一般的
播放軟體上使用。為了可以讓使用者使用
取得的數位內容以及控制使用者的操作
行為，所以必須設計一套離線播放器來播
放數位內容，開啟數位內容的流程如圖四
所示。
擇合適的權限。在實作的系統中只列舉了
兩種權限，分別有兩種方案可供選擇，日
後則可依照現實情況的不同，修改或增加
不同的權限功能。
待使用者確定之後，版權制定模組會接受
來自於頁面的參數產生 XrML，使用 PHP
中的 XML函式庫，根據 XrML說明書的
標籤定義，產生一份 XML文件，使用者
就憑這一份 XML文件使用數位內容。為
了使版權描述文件的資訊隱蔽，XML文
件可以經過加密再提供給使用者。
取得數位內容
待付款成功後，數位內容發佈伺服器
端會收到來自於版權發佈伺服器端的購
買訊息，而數位內容發佈伺服器會將相對
應的數位內容從資料庫中取出加密後提
供給使用者下載，並將金鑰傳送給版權發
佈伺服器寫入 XrML文件中。
系統採用數位內容與使用權限描述
文件分開下載的方法，降低在網路上一起
傳輸的風險，也能讓使用者確認數位內容
的來源。在實作的系統中最後會將付款訊
息、購買資訊、數位內容下載資訊以及版
權描述文件下載一起呈現，圖五所示。使
用者即可在這個頁面先取得版權描述文
件，利用系統生成的訂單編號以及登入密
碼於開放的時間內至數位內容發佈伺服
器下載數位內容。數位內容發佈伺服器會
根據付款狀況、訂單編號以及登入密碼從
資料庫取出對應的檔案，提供給使用者下
載。一旦超過下載的時間，系統將把頁面
上的數位內容卸下，以保護數位內容資訊
不致在頁面上暴露過久。屆時，使用者只
能與當初購買版權的廠商聯繫，以人工的
方式取得數位內容。每一組訂單編號以及
登入密碼只會看到屬於這一組訂單的數
位內容，其他的訂單使用者看不到也下載
不到。所以，數位內容並不會被未購買的
使用者下載，未經過加密處理的數位內容
也不會流到使用者手上。
圖五 數位內容下載資訊與權限描述文件
下載
利用離線播放器使用數位內容
在權限描述文件中所設計的保護機
制，會在數位內容開啟之前一一驗證，其
分述如下：
 硬體比對
數位內容在電腦與網路設備上可以
很輕易的傳送給其他電腦設備。為
了防範不合法的傳送使用，所以在
播放器中設計比對使用者的電腦設
備的功能，倘若使用者使用不合法
的數位內容，則該數位內容無法正
常開啟。如圖六所示，利用隨身碟
的方式將數位內容轉移到非註冊之
電腦設備使用，播放器出現警告訊
息。
圖六 使用不合法取得之數位內容警告訊
息
