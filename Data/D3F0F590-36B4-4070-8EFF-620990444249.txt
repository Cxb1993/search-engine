英文關鍵詞： Ad hoc network, multicast tree, bandwidth-satisfied, 
optimization 
 
 2
 
行政院國家科學委員會專題研究計畫成果報告 
大型隨意網路上建構滿足頻寬需求之多重通訊樹 
 
Bandwidth-Satisfied Multicast Trees in Large-Scale MANETs 
 
 
計畫編號：NSC 96-2221-E-012-001 
執行期限： 96年 8 月 1 日 至 97年 7 月 31 日 
主持人：胡家正 助理教授  海軍官校資訊管理學系 
計畫參與人員：黃秋溶 
 
中文摘要 
本計畫之目的是在大型隨意網路上建構滿足頻寬需求之多重通訊樹，以符合多重通訊
應用程式傳輸服務品質之需求。為了有效管理封包之傳遞，近年來在大型隨意網路(MANET)
上之多重通訊協定(multicast protocols)主要採取兩階層架構(two-tier infrastructures)之設計，
它們選取有較多相鄰通訊點之通訊點作為主幹通訊點(backbone hosts)來代理封包的遞送，
此種選取方式易造成大量封包集中在這些主幹通訊點而形成網路瓶頸。其次，它們在選取
主幹通訊點時未考量其移動性，因此易造成大量封包之遺失。在本計畫中，我們發展一套
適用於大型隨意網路上之多重通訊協定，來將網路分割成兩階層架構。我們改採取另外的
策略來選取主幹通訊點，希望選取具有下列兩項特質之通訊點作為主幹通訊點：與其他通
訊點傳輸次數(hops)較少與剩餘連接時間(remaining connection time)較長。此種方式不
只可穫得傳輸次數較少的多重通訊路徑，更可建立比較穩定的兩階層架構，以避免封包遺
失。 
另外，現有在隨意網路上提供不同等級傳輸服務品質(Quality-of-Service)之功能之通訊
協定或多重通訊協定，他們的目的在建立路徑或多重通訊路徑，以符合應用程式傳輸服務
品質之需求。然而，他們所建立的路徑，會產生兩個頻寬違反(bandwidth-violation)之問
題，導致傳輸品質受影響。故而本計畫設計一個演算法來避免此兩個問題。而該演算法將
與前述規劃之多重通訊協定整合，達到本計劃之目標：在大型隨意網路上建構滿足頻寬需
求之多重通訊樹。 
 
關鍵詞：隨意網路，多重通訊樹，滿足頻寬，最佳化。 
 
英文摘要 
The purpose of this project is to construct bandwidth-satisfied multicast trees for QoS 
 4
bandwidth reservation may decline network performance, which is serious in MANETS because of shared 
channel and limited bandwidth. Further, the above difficulties will be enlarged in a large-scale MANET. 
Recently, several MANET multicast protocols have been proposed in the literature [4-10]. They can be 
classified into two categories: tree-based protocols and mesh-based protocols. For both, adding a new 
member into an existing multicast group will cause the flooding of a join request message over the entire 
network. The flooding process is time-consuming and bandwidth-consuming, especially, for a large-scale 
MANET. 
二、研究目的 
To avoid the inefficiency of flooding, two-tier infrastructures [11-15, 21, 24] were adopted for 
routing/multicasting in large-scale MANETs. Some of hosts, named backbone hosts (BHs), were selected 
and responsible for managing the flooding, maintaining the infrastructures and determining the routes. On 
the other hand, several routing protocols [12, 18, 19] and multicast protocols [15, 20] have been proposed 
for MANET QoS services. However, they may lead to bandwidth violation, as described below. When 
a new flow with bandwidth requirement is permitted, a control packet from the source is flooded in order 
to determine a bandwidth-satisfied route. Each host in the neighborhood of some ongoing flows may be 
determined as a forwarder for the new flow if the bandwidth increment does not induce bandwidth violation 
of it and its neighbors. However, even so, bandwidth violation may happen to its neighbors because it fails 
to take into account the bandwidth consumption of those hosts that are two hops distant from it. This 
induces a new bandwidth-violation problem in MANETs. Similarly, another bandwidth-violation problem 
is induced if multiple flows are permitted concurrently. The two problems are named the hidden route 
problem (HRP) and the hidden multicast route problem (HMRP), respectively. They will be elaborated in 
the next section. 
The purpose of this paper is to propose a novel algorithm that can avoid HRP and HMRP. The 
proposed algorithm is integrated with two-tier infrastructures for QoS multicast applications in large-scale 
MANETs. In [21], the authors proposed a multicast protocol, named OGHAM, for large-scale MANETs. 
OGHAM selected BHs on-demand with the objective of minimizing the total number of hops to the other 
hosts, so as to shorten multicast routes. In [24], we enhance OGHAM with mobility awareness by taking 
host mobility into consideration. The enhanced OGHAM, denoted by M-OGHAM, is enhanced with link 
prediction, i.e., to estimate the amount of remaining connection time for two neighboring hosts. Link 
prediction is very helpful to mobility awareness, and by its aid, stable BHs and stable multicast routes can 
be determined. 
Since bandwidth and power are limited in MANETs, one way to reduce bandwidth and power 
consumption is to decrease the number of hosts (i.e., forwarders) participating in packet forwarding. The 
problem of finding a multicast tree with minimum number of forwarders is known to be NP-hard (see 
[22]). If the bandwidth consumption is considered additionally, the resulting problem is also NP-hard. In 
this paper, we study the problem of determining a bandwidth-satisfied multicast tree with minimum 
number of forwarders. The problem is referred to as BSMTP in the rest of this paper, and a heuristic 
algorithm is proposed to provide a feasible solution to it. 
三、文獻探討 
 6
predecessor of c and the successor of c each require 3-unit bandwidth). Since the ongoing flow from e to f 
is in the radio coverage of c, it consumes 2-unit bandwidth of c. Consequently, the remaining available 
bandwidth of c is 11 − 2 = 9 units, and so c is allowed to be a forwarder. 
Now we turn our attention to the bandwidth consumption of e. Since both c and g are in the radio 
coverage of e, the bandwidth requirement of e is 2 + 3 + 7 = 12 units, which exceeds its available 
bandwidth (11 units). The reason for the bandwidth violation is that c was not aware of the ongoing flow 
from g to h when it was determined to be a forwarder. In short, the bandwidth violation happened because 
the ongoing flow from g to h was hidden from the new flow from a to d. The problem is henceforth 
referred to as the hidden route problem (HRP). In contrast to the hidden terminal problem [23], which 
arises in the MAC layer, the hidden route problem arises in the network layer. 
An illustrative example for HMRP is shown in Figure 2, where there is a multicast group and a new 
flow from a (server) to e and h (clients) is permitted. Suppose that each host has the same available 
bandwidth, say 11 units, and the bandwidth requirement of the flow is 3 units. Also note that bandwidth 
reservation will be made for the flow when data flow through the routes. Both c and g can be forwarders 
for the flow from a to e and from a to h, respectively, because their bandwidth requirement (9 units) is 
smaller than their available bandwidth (11 units). However, since they are in the radio coverage of each 
other, 3-unit bandwidth is required additionally when data flow from a to e and h. This increases their 
bandwidth requirement to 12 units, which causes a bandwidth violation. The bandwidth violation happens 
because the two multicast routes from a to e and from a to h are mutually hidden from each other. It is 
henceforth referred to as the hidden multicast route problem (HMRP). 
Currently, two QoS routing protocols have been proposed by Yang et al. [16] and. Chen et al. [17]. 
They considered the bandwidth consumption of the one-hop/two-hop hosts when a new flow with 
bandwidth requirement was permitted. So, HRP can be avoided. However, a QoS multicast protocol 
should determine multiple bandwidth-satisfied routes from a server to all clients concurrently. Another 
bandwidth-violation problem, i.e., HMRP, is induced if multiple flows are permitted concurrently. 
 
d
e
a
b
c
f
h
g
 
Figure 1. An example of HRP. 
d
e
a
b
c
f
g h
 
Figure 2. An example of HMRP.
 
四、研究方法 
(1) Review of OGHAM and M-OGHAM 
 3
   :   server
:   BH
  :   physical link
:   multicast route
s
bi
s
b1
f2
f1
b3
b2
ci    :   client
c1
c2
fi :   forwarder
 
Figure 4. Determining multicast routes. 
As described above, the BHs attached by clients are responsible for querying the location of the server. 
For a client in a different multicast region from the server, the attached BH fails to locate the server, and so 
it floods a query message over the entire network, in order to locate the server. Through the flooding, the 
two multicast regions where the client and the server are positioned can be merged into a larger one. After 
the merging, a multicast route from the server to the client can be determined.  
Following the example of Figure 4, we assume that there is a client c3, which is outside the 
multicast region of Figure 4, attempting to join the multicast group created by s. The gray portion 
of Figure 5 shows the multicast region created by c3. There are two BHs, i.e., 'b1  and 'b2 , 
selected in the new multicast region and c3 is attached to 'b1. In order to locate s, 'b1 floods a 
message. Upon receiving the message, b2 replies to 'b1 . Through the message exchange, a 
multicast route, i.e., s−b2−f1−b1−f2−f4− 'b1−c3, from s to c3 is then determined. 
b2
c3
b1
f4
  :   physical link
:   multicast route
s
bi
ci
fi
s
b1
f2
f1
b3
b2
f3
c1
c2
   :   server
:   BH
   :   client
:   forwarder
'
'
 
Figure 5. Determining multicast routes across two multicast regions. 
Stable BHs and stable multicast routes are preferred in M-OGHAM. OGHAM and M-OGHAM differ 
in the computation of remaining connection time between two neighboring hosts. In M-OGHAM, the 
remaining connection time (dented as ti,j) is first estimated for every pair of neighboring hosts vi and vj. The 
server (or a client) broadcasts a message over the multicast region for collecting neighboring information 
and the remaining connection time, in order to create (or join) a multicast group. Then, those hosts with 
fewer hops and longer remaining connection time to the other hosts are selected as BHs. And, the selected 
BHs are stable. 
Recall that the BH attached by the server is responsible to determine the multicast routes from the 
server to the clients. In order to obtain stable multicast routes, the BHs, selected in M-OGHAM, construct 
 5
 if  vi and vd are neighboring and B_Violation(b_req, ∆, {vi} ∪ Φ) = false 
 then  hi ← 1 and Pi ← {vi} 
 else  hi ← ∞ and Pi ← {}; 
repeat   
 determine vx ∈ X so that hx = min{hi | vi ∈ X} and delete vx from X; 
 if  hx ≠ ∞  
 then  for  each neighbor vj of vx  do 
 if  hj > hx + 1 and B_Violation(b_req, ∆, {vj} ∪ Px ∪ Φ) = false  
 then  hj ← hx + 1 and Pj ← Px ∪ {vj} 
until  hx = ∞ or X = {};  
H ← {} and P ← {}; 
for  each vi ∈ V − {vd}  do 
 H ← H ∪ {hi} and P ← P ∪ Pi. 
 
Next, we explain the execution of B_Violation. B_Violation has three input parameters: b_req, ∆ and 
Φ’, where b_req and ∆ are inherited from Shortest_Routes and Φ’ is a superset of Φ. The hosts in ∆ (Φ’) 
are destinations (forwarders) of the new flow. B_Violation first checks if the forwarders in Φ’ cause 
bandwidth violation. If bandwidth violation happens, then B_Violation returns true. Let Ni be the set of 
hosts that are neighboring to vi and b_maxi be the maximal available bandwidth of vi. Also, let b_ongoingi 
be the total bandwidth requirement of the ongoing flows that are forwarded by vi and M be the set of 
destinations and forwarders of all ongoing flows. A forwarder vi in Φ’ causes bandwidth violation if its 
bandwidth consumption exceeds its maximal available bandwidth, i.e., |{vi} ∪ (Ni ∩ Φ’)| × b_req 
+ ∑
∪∈ iik Nvv
kongoingb
}{
_ > b_maxi. 
Let vj ∈ M be a neighbor of vi. Similarly, vj causes bandwidth violation if |Nj ∩ Φ’| × b_req 
+ ∑
∪∈ jjk Nvv
kongoingb
}{
_ > b_maxj. By means of checking vj, HRP can be avoided to the ongoing flows that 
pass through the neighborhood of the forwarders in Φ’. A destination vl ∈ ∆ causes bandwidth violation if 
|Nl ∩ Φ’| × b_req + ∑
∪∈ llk Nvv
kongoingb
}{
_ > b_maxl. Finally, B_Violation returns false, if no bandwidth 
violation happens. B_Violation is detailed in the following.  
 
Procedure  B_Violation(b_req, ∆, Φ’);  
for  each vi ∈ Φ’  do   
 begin 
 if  |{vi} ∪ (Ni ∩ Φ’)| × b_req + ∑
∪∈ iik Nvv
kongoingb
}{
_ > b_maxi   
 then  return  true; 
 for  each neighbor vj ∈ M of vi  do  
 if  |Nj ∩ Φ’| × b_req + ∑
∪∈ jjk Nvv
kongoingb
}{
_ > b_maxj   
 then  return  true   
 7
for  i ← 1 to |D|  do   
 begin 
 Shortest_Routes(
idv , b_req, ∆, F, H, P); 
 if  i=1   
 then  if  hs ≠ ∞  
  then  F ← F ∪ Ps  and  ∆ ← ∆ ∪ { idv } 
 else  exit  
 else  begin   
  determine vx ∈ F so that hx = min{hi | vi ∈ F}; 
  if  hx ≠ ∞ 
 then  F ← F ∪ Px  and  ∆ ← ∆ ∪ { idv } 
 else  exit  
 end 
 end. 
For example, refer to Figure 5, where B_Satisfied_Multicast_Tree(s, {c1, c2, c3}, b_req) is executed 
to establish a bandwidth-satisfied multicast tree that connects the server s with three clients c1, c2 and c3. 
During the first iteration, Shortest_Routes(c1, b_req, ∆, F, H, P) is invoked to establish a shortest route, 
i.e., s−a−b−e−c1, to c1, where ∆ = {} and F = {} (refer to Figure 5(a)). The set F (∆) is updated to {} ∪ {s, 
a, b, e} = {s, a, b, e} ({} ∪ {c1} = {c1}). 
s
c3
c2
c1e
b
a
(a)
s
c3
c2
c1
f
e
b
a
(b)
s
g
c3
c2
c1
f
e
b
a
(c)  
Figure 5. A bandwidth-satisfied multicast tree. (a) A route from s to c1. (b) A tree connecting s with c1 and 
c2. (c) A tree connecting s with c1, c2 and c3. 
During the second iteration, b−f−c2 is established as the shortest route to c2 (i.e., vx = b and Px = {b, 
 9
Satisfied_Multicast_Tree. Since B_Satisfied_Multicast_Tree is heuristic, an optimal algorithm for 
BSMTP is necessary in order to evaluate the performance of B_Satisfied_Multicast_Tree. In [27], 
the authors formulated BSMTP as a 0/1 integer linear programming, which can be well solved by 
a branch-and-bound algorithm (see [26]). We use Opt-M-OGHAM to denote the integration of 
M-OGHAM with such a branch-and-bound algorithm. Opt-M-OGHAM can serve as a 
benchmark for evaluating the performance of Heu-M-OGHAM. 
The simulation is performed with two aspects. First, performance comparison is made among 
Heu-M-OGHAM, Opt-M-OGHAM and MCEDAR under the assumption of static hosts. Second, the same 
performance comparison is made for mobile hosts. MCEDAR [15] is a representative two-tier multicast 
protocol and an extension to CEDAR [12] which is a routing algorithm for QoS applications in MANETs.  
(1) Performance comparison: static hosts 
Ten multicast groups, denoted by G1, G2, …, G10, are randomly created. Each multicast group consists of 
one server and three clients. A flow requiring 50 Kbps is sent from the server to the clients. The 
simulation proceeds for 1000 seconds; G1 starts first, G2 starts after 100 seconds elapsed, G3 starts after 
200 seconds elapsed, and so on. Figure 6 and Figure 7 compare the admission rates and receiving rates of 
Heu-M-OGHAM, Opt-M-OGHAM and MCEDAR under the assumption of static hosts. 
Refer to Figure 6. When the number of multicast groups is smaller than 5, Heu-M-OGHAM has higher 
admission rates than MCEDAR, as a consequence that the multicast trees constructed by it have fewer 
forwarders. On the other hand, when the number of multicast groups exceeds 5, Heu-M-OGHAM has 
lower admission rates than MCEDAR. Recall that the probability that MCEDAR induces HMRP jumps up 
when the number of multicast groups exceeds 5. Also, Figure 7 demonstrates that the receiving rate of 
MCEDAR drops drastically when the number of multicast groups exceeds 5. When the number of 
multicast groups increases to 10, the receiving rate of Heu-M-OGHAM is still high, but the receiving rate 
of MCEDAR drops seriously. 
1 2 3 4 5 6 7 8 9 10
0.4
0.5
0.6
0.7
0.8
0.9
1
1.1
Number of multicast groups
A
dm
is
si
on
 ra
te
MCEDAR    
Heu-M-OGHAM
Opt-M-OGHAM
 
Figure 6. Admission rate for static hosts. 
 11
5 10 15 20
2
3
4
5
6
7
8
9
10
x 10
4
MCEDAR
Heu-M-OGHAM
N
um
be
r o
f c
on
tro
l p
ac
ke
ts
Speed (m/sec)  
Figure 9. Number of control packets for mobile hosts. 
Figure 8 compares the receiving rates of Heu_M_OGHAM and MCEDAR under the assumption of 
mobile hosts. Like the previous situation of static hosts, Heu_ODMRP has higher receiving rates than 
MCEDAR. Figure 9 shows that Heu_ M_OGHAM generates fewer control packets than MCEDAR. 
Control packets are generated for constructing a new bandwidth-satisfied multicast tree if the current 
multicast tree cannot satisfy the bandwidth requirement. 
 
六、參考文獻 
[1] C. P. Low and X. Song, “On finding feasible solutions for the delay constrained group multicast 
routing problem,” IEEE Transactions on Computers, vol. 51, pp. 581-588, 2002. 
[2] V. P. Kompella, J. C. Pasquale, and G. C. Polyzos, “Multicast routing for multimedia 
communication,” IEEE Transactions on Computers, vol. 51, pp. 581-588, 2002. 
[3] Q. Sun and H. Langendoerfer, “Multicast routing for multimedia communication,” Proceedings of the 
Second Workshop on Protocols for Multimedia Systems, 1995, pp. 452-458. 
[4] M. S. Corson and S. G. Batsell, “A reservation-based multicast (RBM) routing protocol for mobile 
networks_ initial route construction phase,” ACM/Baltzer Wireless Networks, vol. 1, no. 4, pp. 427-450, 
1995 
[5] E. M. Belding-Royer and C. E. Perkins, “Transmission range effects on AODV multicast 
communication,” ACM/Kluwer Mobile Networks and Applications, vol. 7, pp. 455-470, 2002. 
[6] J. Xie, R. R. Talpade, A. Mcauley, and M. Liu, “AMRoute: adhoc multicast routing protocol,” 
ACM/Kluwer Mobile Networks and Applications, vol. 7, pp. 429-439, 2002. 
[7] S. K. S. Gupta and P. K. Srimani, “Cored-based tree with forwarding regions (CBT-FR), a protocol 
for reliable multicasting in mobile ad hoc networks,” Journal of Parallel and Distributed Computing, 
vol. 61, no. 9, pp. 1249-1277, 2001. 
[8] K. Chan and K. Nahrstedt, “Effect location-guided tree construction algorithms for small group 
multicast in MANET,” Proceedings of the 21st International Annual Joint Conference of the IEEE 
Computer and Communications Societies, vol. 3, 2002, pp. 1180-1189. 
[9] S. J. Lee and M. Gerla, “On-demand multicast routing protocol in multihop wireless mobile 
networks,” ACM/Kluwer Mobile Networks and Applications, vol. 7, pp. 441-453, 2002. 
[10] J. J. Garcia-Luna-Aceves and E. L. Madruga, “The core-assisted mesh protocol,” IEEE Journal on 
 13
pp. 269-271, 1959. 
七、計畫結果自評 
HRP and HMRP, which are two bandwidth-violation problems that may occur to previous QoS 
routing/multicasting protocols, were introduced in this paper. Since bandwidth and power are limited 
in MANETs, they should be taken into consideration in routing/multicasting protocols. The problem (i.e., 
BSMTP) of determining a bandwidth-satisfied multicast tree with minimum number of forwarders was 
studied in this paper. An algorithm (i.e., B_Satisfied_Multicast_Tree) that can generate bandwidth-satisfied 
multicast trees was proposed. It constructed multicast trees with the objective of minimizing the total 
number of forwarders, in addition to bandwidth satisfaction. The algorithm was integrated into 
M-OGHAM to support bandwidth-constrained multicast services. The integration (i.e., Heu-M-OGHAM) 
can construct bandwidth-satisfied multicast trees without inducing HRP and HMRP.  
Performance comparison was made among Heu-M-OGHAM, Opt-M-OGHAM and MCEDAR, where 
Opt-M-OGHAM served as a benchmark. Heu-M-OGHAM has higher receiving rates than MCEDAR, and 
it maintains high receiving rates even if the network traffic is saturated. If the network traffic is not 
saturated, Heu-M-OGHAM can admit more multicast groups than MCEDAR, which is a consequence that 
the multicast trees constructed by it have fewer forwarders. Moreover, the admission rate of 
Heu-M-OGHAM is close to the benchmark. 
 
efficient infrastructure for distributing a large number of
multicasting applications with QoS requirements in large-
scale MANETs will become one of the key research
challenges.
Recently, several MANET multicast protocols have been
proposed in the literature [4–10]. They can be classified into
two categories: tree-based protocols and mesh-based pro-
tocols. For both, adding a new member into an existing
multicast group will cause the flooding of a join request
message over the entire network. The flooding process is
time-consuming and bandwidth-consuming, especially, for
a large-scale MANET. To avoid the inefficiency of flood-
ing, two-tier infrastructures were adopted for routing/
multicasting in large-scale MANETs. Some of hosts, named
backbone hosts (BHs), were selected and responsible for
managing the flooding, maintaining the infrastructures and
determining the routes. Since most of packets are initiated
and processed by BHs, how to select BHs is crucial to the
performance of a two-tier infrastructure.
MANETs have certain unique characteristics that pose
several difficulties in provisioning QoS. In MANETs, it is
rather difficult to estimate the residual bandwidth of a host,
because the bandwidth is shared among neighboring hosts
and these neighboring hosts are not aware of the traffic status
of one another. So, its bandwidth increment induced by a
new flow relies on whether it and its neighbors are selected
as the forwarders for the flow. If it is selected as a forwarder,
bandwidth violation to it and its neighbors must be avoided.
An inadequate bandwidth reservation will decline network
performance seriously because bandwidth violation may
happen to ongoing flows forwarded by its neighbors.
Besides, all bandwidth-satisfied routes (which constitute
a bandwidth-satisfied multicast tree) from a server to its
clients must be determined concurrently, which is different
from QoS routing protocols that determine a bandwidth-
satisfied route in one time. Since each host in a MANET is
mobile and acts as a router, multicast protocols have to face
the challenges of host movements and topology changes
when data packets are delivered through multi-hop routes.
Hence the admitted QoS applications may suffer due to
frequent route breaks, thereby requiring such applications
to be re-determined over and over. Surely, the above dif-
ficulties will be enlarged in a large-scale MANET.
In this paper, a distinct two-tier infrastructure, in which
some hosts are selected as BHs, is proposed to avoid the
inefficiency of flooding in large-scale MANETs. The hosts
with fewer hops and longer remaining connection time to
the other hosts will be selected as BHs. The objective is not
only to obtain short and stable multicast routes, but also to
construct a stable two-tier infrastructure with fewer lost
packets. Further, an algorithm that can avoid inadequate
bandwidth reservation is also proposed to determine
bandwidth-satisfied multicast trees. It aims to reduce
bandwidth consumption for achieving better network per-
formance by minimizing the number of forwarders in a
tree. Finally, the proposed algorithm is integrated with the
proposed two-tier infrastructure for QoS applications in
large-scale MANETs.
In the next section, previous two-tier infrastructures and
QoS routing/multicasting protocols are first reviewed.
Further, relative problems are described in detail. In
Sect. 3, we present the main design considerations. The
detailed design of the two-tier infrastructure and the algo-
rithm is given in Sects. 4 and 5, respectively. In Sect. 6, the
simulations are carried out. Finally, this paper concludes
with some remarks in Sect. 7.
2 Related works and problems
In this section, some representative two-tier infrastructures
are first reviewed. Then, admission control mechanisms
adopted in previous QoS routing/multicasting protocols are
reviewed. Two bandwidth-violation problems, induced by
these QoS protocols, are explained with illustrative
examples.
2.1 Review of two-tier infrastructures
Recently, several two-tier routing/multicasting protocols
have been proposed in the literature [11–17]. In [16], a
multicast protocol, named MZR, was proposed in which
each host defined a zone around itself with zone radius
measured in terms of hops. A zone routing table was kept by
running a proactive protocol inside each zone, and route
queries were done at zone border hosts on-demand. In [17],
McDonald and Znati proposed an infrastructure for
dynamically organizing mobile hosts into clusters in which
the probability of path availability is bounded. A routing
algorithm (including intra-cluster routing and inter-cluster
routing) was presented which adaptively subdivided the task
of establishing and maintaining routes to from server to
clients. Intra-cluster routing, which adopted a proactive
strategy, was performed periodically at each host of a cluster
to maintain a set of hosts within the same cluster. Inter-
cluster routing was achieved using an on-demand protocol
that can establish paths by executing a path-search query
and response algorithm for the clients in different clusters.
In [16, 17], each host determined a route from the server
to the clients by selectively querying its border hosts. If
these border hosts could not find the clients, they queried
their border hosts in turn. In the way, the problem of
flooding could be alleviated by reducing the number of
hosts participated in route determination. However, the
infrastructure determined in [16, 17] was performed peri-
odically and proactively by each host.
830 Wireless Netw (2010) 16:829–849
123
However, the QoS routing/multicasting protocols pro-
posed in [12, 15, 18, 19] may suffer from two bandwidth-
violation problems, because the hosts in the neighborhood
of ongoing flows fail to compute the bandwidth con-
sumptions of those hosts that are two hops distant from
them. The two problems are named the hidden route
problem (HRP) and the hidden multicast route problem
(HMRP), respectively. They will be elaborated in the fol-
lowing illustrative examples.
Refer to Fig. 1, where an illustrative example is shown.
There are two ongoing flows from e to f and from g to h,
respectively. A new flow from a to d is permitted, and the
route determination for the new flow proceeds to c. Sup-
pose that each host has the same available bandwidth, say
11 units, and the bandwidth requirements for the three
flows are 2 (from e to f), 7 (from g to h) and 3 (from a to d)
units, respectively. If c serves as a forwarder, then total 9-
unit bandwidth of c will be consumed (c, the predecessor of
c and the successor of c each require 3-unit bandwidth).
Since the ongoing flow from e to f is in the radio coverage
of c, it consumes 2-unit bandwidth of c. Consequently, the
remaining available bandwidth of c is 11 - 2 = 9 units,
and so c is allowed to be a forwarder.
Now we turn our attention to the bandwidth consump-
tion of e. Since both c and g are in the radio coverage of e,
the bandwidth requirement of e is 2 ? 3 ? 7 = 12 units,
which exceeds its available bandwidth (11 units). The
reason for the bandwidth violation is that c was not aware
of the ongoing flow from g to h when it was determined to
be a forwarder. In short, the bandwidth violation happened
because the ongoing flow from g to h was hidden from the
new flow from a to d. The problem is henceforth referred to
as the hidden route problem (HRP). In contrast to the
hidden terminal problem [23], which arises in the MAC
layer, the hidden route problem arises in the network layer.
An illustrative example for HMRP is shown in Fig. 2,
where there is a multicast group and a new flow from a
(server) to e and h (clients) is permitted. Suppose that each
host has the same available bandwidth, say 11 units, and
the bandwidth requirement of the flow is 3 units. Also note
that bandwidth reservation will be made for the flow when
data flow through the routes. Both c and g can be for-
warders for the flow from a to e and from a to h,
respectively, because their bandwidth requirement (9 units)
is smaller than their available bandwidth (11 units).
However, since they are in the radio coverage of each
other, 3-unit bandwidth is required additionally when data
flow from a to e and h. This increases their bandwidth
requirement to 12 units, which causes a bandwidth viola-
tion. The bandwidth violation happens because the two
multicast routes from a to e and from a to h are mutually
hidden from each other. It is henceforth referred to as the
hidden multicast route problem (HMRP).
3 Design considerations and contributions
Since power and bandwidth are limited in MANETs, it is
very important for multicast protocols to keep multicast
routes as short as possible. Short multicast routes can
reduce the number of hosts participating in packet for-
warding so as to lower power/bandwidth consumption and
shorten transmitting latency from servers to clients. To
obtain shorter routes is one of the major concerns in most
of existing routing/multicast protocols. It can reduce the
number of hosts participating in packet forwarding so as to
lower bandwidth consumption and shorten transmitting
latency from servers to clients.
In a two-tier infrastructure, the multicast members
(servers/clients) are required to be attached to the selected
BHs, which are responsible for managing the flooding,
maintaining the infrastructures, determining the routes and
forwarding the data packets. The BHs should be evenly
distributed over the network so that the members can be
attached to the BHs nearby. Since most of packets are
initiated and processed by BHs, a proper way to select BHs
is crucial to a two-tier infrastructure. In particular, the issue
d
e
a
b
c
f
h
g
Fig. 1 An example of HRP
d
e
a
b
c
f
g h
Fig. 2 An example of HMRP
832 Wireless Netw (2010) 16:829–849
123
packet over a limited-range region (multicast region) to
collect necessary neighboring information. Then BHs are
selected in the region. And they are responsible for deter-
mining multicast routes, forwarding data packets, handling
dynamic group membership, and updating multicast routes
due to host movement.
When a server (client) vi attempts to create (join) a
multicast group, vi first tries to find a BH within a region
with a radius of 2r hops centered at vi, where r C 1 is a
predefined integer. If such a BH is found, then vi is attached
to it. Otherwise, vi broadcasts a message over a larger
region, called multicast region, with a radius of c hops
centered at vi for collecting neighboring information, where
c C 2r is a predefined integer. Then, vi selects BHs for the
multicast region and determines the attachment from NBHs
(the hosts are not BHs) to BHs by solving a formulated 0/1
ILP. Also, vi sends the list of all BHs and the neighboring
information to each BH.
After BHs in the multicast region are selected, clients
can join the multicast group by asking the attached BHs to
query the location of the server. The BH attached by the
server then replies to the queries. Let vs be the server and vc
be any client, vs and vc be attached to two BHs, say vp and
vq, respectively. We use ps,p to represent a route from vs to
vp. pp,q and pq,c have similar meanings. The multicast route
from vs to vc is constituted by the three routes. Through the
round-trip communication (querying and replying), vp can
determine ps,p and pp,q, vq can determine pq,c.
As described above, the BHs attached by clients are
responsible for querying the location of the server. For a
client in a different multicast region from the server, the
attached BH fails to locate the server, and so it floods a
query message over the entire network, in order to locate
the server. Through the flooding, the two multicast regions
where the client and the server are positioned can be
merged into a larger one. After the merging, a multicast
route from the server to the client can be determined.
In OGHAM, the BHs attached by the members of the
multicast groups determine multicast routes by the aid of
neighboring information. However, the neighboring infor-
mation has to be updated as hosts move. There are three
mechanisms to alleviate the mobility problem. First, a
timestamp is stamped onto each entry of the neighboring
information. An entry with an outdated timestamp will be
removed from the neighboring information. Each host is
required to piggyback the up-to-date neighboring infor-
mation onto the packets which it transmits or forwards.
When BHs receive the packets, they update their neigh-
boring information and refresh the timestamps with the
piggybacked information. In this way, multicast routes
with better availability can be determined and the size of
the neighboring information is limited.
Second, when a BH detects a route disconnection, it
determines an alternative route, by the aid of the neigh-
boring information, to replace the disconnected one.
Compared with most of previous routing/multicasting
protocols, which determine a new route in the case of
disconnection by flooding a message over the network, less
frequent flooding is induced and the robustness of the
infrastructure is enhanced in OGHAM. Third, a threshold a
is introduced for guaranteeing the transmission quality of
the multicast routes. The value of a is predefined, which
depends on the quality requirement of the multicast
applications. By the aid of a, the transmission quality of the
multicast routes can be assured.
4.2 M-OGHAM
First, we describe a mobility prediction scheme and the
methodology for estimating the remaining connection time
between two neighboring hosts. Then, a 0/1 ILP is for-
mulated for properly selecting stable BHs. The modified
objective is not only to reduce the relay and overhead but
also to construct a stable infrastructure for fewer lost data
packets and control packets. The 0/1 ILP is solved by an
efficient approximation algorithm whose approximation
ratio is bounded by 1. Finally, the methods to select stable
BHs, construct stable multicast routes, and effectively
update multicast routes in M-OGHAM are showed.
4.2.1 Mobility awareness: link prediction
Since host movements may induce serious effects on the
infrastructure, BHs with less mobility are desired. In this
section, three methods for link prediction are suggested to
estimate the amount of remaining connection time between
two neighboring hosts. First, if an outdoor mobile host is
equipped with a GPS receiver, then its location, speed and
direction can be provided by GPS. Suppose that vi, vj are
two neighboring hosts and ti,j is the remaining connection
time between them. By the mobility prediction method of
[9], ti,j can be estimated as follows.
Define
lxi ; lyi
 
lxj ; lyj
  
: the location of vi(vj);
si(sj): the speed of vi(vj);
hi (hj): the moving direction of vi vj
 
0 hi  2p and 0 hi  2pð Þ:
And let
a ¼ sicoshi  sjcoshj;
b ¼ lxi  lxj ;
c ¼ sisinhi  sjcoshj;
d ¼ lyi  lyj
834 Wireless Netw (2010) 16:829–849
123
As a consequence of step (9), if vi is a BH, then y
0
i;i ¼ 1
and y0i;q ¼ 0 for all 1 B q B n and q = i. In other words,
when y0i;j ¼ 1 and i = j, we have x0i ¼ 0 and x0j ¼ 1. Sup-
pose that xi s and y

i;j s are the optimal solution to the new
0/1 ILP, where 1 B i B n and 1 B j B n. Let S ¼P
1 i n x

i
wi
si
; S ¼P1 i n x0i wisi and S0 ¼
P
1 i n x
0
i
wi
si
.
Clearly, S* B S**. For easy reference, Table 1 lists all
variables used in this section.
In the following lemma, we show that the approximation
ratio, which is defined as S
0
S ; is bounded above by
1 þ
max
wi
si
1 i n
n o
S .
Lemma 1 S
0
S  1 þ
max
wi
si
j1 i n
n o
S .
Proof We note that the rounding algorithm is iterative.
Assume that there are nk iterations executed, where
1 B nk B n. We use D

t , D
þ
t and St to denote the values of
D-, D? and
P
xi 2X x

i
wi
si
þPxj 62X x

j
wj
sj
; respectively, eval-
uated at the tth iteration, where 1 B t B nk. We have
S0 ¼ Snk :
We first consider 1 B t B nk - 1. When D
þ
t  Dt  0;
we have St ¼ S þ Dþt  Dt  S if t = 1 and St ¼ St1 þ
Dþt  Dt  St1 if 2 B t B nk - 1. When Dþt  Dt [ 0;
further decrement (i.e.,
P
xl2X xl  fxlð Þ wlsl ) of the objective
function was made. So, we have St ¼ S þ Dþt  Dt P
x
l
2X x

l  fxl
 
wl
sl
 S if t = 1 and St ¼ St1 þ Dþt 
Dt 
P
x
l
2X x

l  fxl
 
wl
sl
 St1 if 2 B t B nk - 1. Hence,
S ð ÞS  S1  S2  . . . Snk1.
When t = nk, we have S
0 ¼ Snk ¼ Snk1 þ Dþnk  Dnk (X
is empty after step (4)). If Dþnk  Dnk  0, then S0  Snk1,
which implies S
0
S  1. On the other hand, if Dþnk  Dnk [ 0,
then S0 ¼ Snk ¼ Snk1 þ Dþnk  Dnk  Snk1 þ Dþnk  S
þDþnk  S þ max 1  xi
 
wi
si
1 i n
n o
 S þ max wisi

n
1 i ng;which implies S0S  1 þ
max
wi
si
j1 i n
n o
S : h
Next, we show that every NBH is at most 2r hops distant
from the attached BH.
Lemma 2 As a consequence of the rounding algorithm,
every NBH is at most 2r hops distant from the attached BH.
Proof After the rounding algorithm, every NBH is
attached to the closest BH. It suffices to show that for every
NBH, say vp, a BH with at most 2r hops distant from vp can
be found. We have either 0\xp\1 or x

p ¼ 0. If 0\xp\1,
then xp is included in Y at some iteration (refer to step (4)).
It means that the BH, i.e., vc, determined at that iteration is
at most r hops distant from vp.
On the other hand, if xp ¼ 0, let Zp ¼ xj
dp;j
n
 r and xj [ 0g. The constraints of the LP guarantee that
Zp is nonempty. Suppose x

z 2 Zp. Then, dp,z B r. We have
x0z ¼ 1 or 0. If x0z ¼ 1, then vz is a BH. If x0z ¼ 0, then vz is
an NBH and 0\xz \1. With the same arguments as the
previous situation of 0\xz \1, there exists a BH that is at
most r hops distant from vz. Consequently, the BH is at
most 2r hops distant from vp. h
Lemma 2 also holds for the NBHs and BHs determined
by OGHAM (see [24]). The rounding algorithm is executed
iteratively until X is empty as a consequence of step (8). In
each iteration, xc is selected and deleted from X in step (1)
and step (3), respectively. So, the rounding algorithm is
linear-time solvable and its approximation ratio is bounded
above by 1 þ
max
wi
si
1 i n
n o
S :
4.2.3 Selecting stable BHs
Stable BHs are preferred in M-OGHAM. The algorithm of
selecting BHs in OGHAM can be easily adapted to M-OG-
HAM. The two algorithms (for OGHAM and M-OGHAM)
differ in the computation of remaining connection time (i.e.,
ti,j). In M-OGHAM, ti,js are first estimated for every pair of
neighboring hosts vi and vj by applying the three methods of
Sect. 3.2.1. Then, the server (or a client) broadcasts a mes-
sage over the multicast region for collecting neighboring
information and ti,js, in order to create (or join) a multicast
group. And it executes the LP and the rounding algorithm of
Sect. 3.2.2 to select as BHs those hosts with fewer hops and
longer remaining connection time to the other hosts.
In case the first method of Section 4.2.1 is adopted (i.e.,
each host is equipped with a GPS receiver), each host vi,
within the multicast region, piggybacks its location and
Table 1 Variables used in Sect. 4.2.2
Variables Meanings
di,j Number of hops from vi to vj
wi Total number of hops from vi to the other n - 1 hosts
xi xi = 1 (xi = 0) means that vi is (is not) chosen to be a BH
yi,j yi,j = 1 (yi,j = 0) means that vi is (is not) attached to BH vj
r Maximal number of hops from a host to the attached BH
ti,j Remaining connection time between vi and vj
si Total remaining connection time from vi to the other n - 1
hosts
xi , y

i;j Optimal solution to the LP
x0i, y
0
i;j Feasible solution obtained by the rounding algorithm
xi , y

i;j Optimal solution to the new 0/1 ILP
S* Optimal value of the LP
S Approximate value obtained by the rounding algorithm
S** Optimal value of the new 0/1 ILP
X set fxi j0\xi \1g
xc ð1  xcÞ wcsc ¼ min f (1  xi Þ wisi jxi 2 Xg
Y set fxj jxj 2 X and dc;j  rg
Dþ Value of ð1  xcÞ wcsc
D Value of
P
xj 2Y x

j
wj
sj
836 Wireless Netw (2010) 16:829–849
123
the bandwidth requirement for the new flow, and D, U are
two sets of hosts. Shortest_Routes also has two output
parameters: H and P (explained later). The execution of
Shortest_Routes invokes another procedure, named
B_Violation, which returns true if bandwidth violation
happens and false else. B_Violation uses D and U for
checking bandwidth violation, which will become clear
later.
Shortest_Routes is a modification of the well-known
Dijkstra’s shortest-path algorithm, which can compute the
shortest paths from a node to the other nodes. Differently,
Shortest_Routes establishes shortest routes in a reverse
direction from all hosts to vd. For each host vi in the
shortest routes, let hi denote the minimum number of hops
from vi to vd, and Pi denote the set of forwarders along the
shortest vi–vd route. Initially, set hi = 1 and Pi = {vi} if vi
is neighboring to vd and the inclusion of vi in the shortest
routes will not cause bandwidth violation. Otherwise, set
hi = ? and Pi = {} (the empty set). Host vi will (will not)
cause bandwidth violation if B_Violation(b_req, D,
{vi} [ U) returns true (false).
The shortest routes are established iteratively by a
repeat-until loop. In each iteration, a host vx that is closest
to vd (i.e., hx is minimum) and was not selected before is
determined. Then, for each neighbor vj of vx, the vj–vd route
(i.e., Pj) is replaced with the vx–vd route augmented with
the vj–vx hop (i.e., Px [ {vj}), if the new vj–vd route is
shorter and does not cause bandwidth violation. The latter
can be checked by invoking B_Violation(b_req, D, {vj} [
Px [ U). Finally, the shortest routes are represented by
means of H and P, which are two sets containing all his and
Pis, respectively. Shortest_Routes is detailed below.
Procedure Shortest_Routes(vd, b_req, D, U, H, P);
/* V is the set of all hosts. */
X / V - {vd};
for each vi [ X do
if vi and vd are neighboring and B_Violation(b_req, D,
{vi} [ U) = false
then hi / 1 and Pi / {vi}
else hi / ? and Pi / {};
repeat
determine vx [ X so that hx = min{hi|vi [ X} and delete vx from
X;
if hx = ?
then for each neighbor vj of vx do
if hj [ hx ? 1 and B_Violation(b_req, D, {vj} [ Px [
U) = false
then hj / hx ? 1 and Pj / Px [ {vj}
until hx = ? or X = {};
H / {} and P / {};
for each vi [ V - {vd} do
H / H [ {hi} and P / P [ Pi.
Next, we explain the execution of B_Violation. B_Vio-
lation has three input parameters: b_req, D and U0, where
b_req and D are inherited from Shortest_Routes and U0 is a
superset of U. The hosts in D (U0) are destinations (for-
warders) of the new flow. B_Violation first checks if the
forwarders in U0 cause bandwidth violation. If bandwidth
violation happens, then B_Violation returns true. Let Ni be
the set of hosts that are neighboring to vi and b_maxi be the
maximal available bandwidth of vi. Also, let b_ongoingi be
the total bandwidth requirement of the ongoing flows that
are forwarded by vi and M be the set of destinations and
forwarders of all ongoing flows. A forwarder vi in U0
causes bandwidth violation if its bandwidth consumption
exceeds its maximal available bandwidth, i.e., vif g[j
Ni \ U0ð Þj b reqþ
P
vk2fvig[Ni b ongoingk maxi.
Let vj [ M be a neighbor of vi. Similarly, vj causes
bandwidth violation if Nj \ U0
  b reqþ Pvk2 vjf g
[Njb ongoingk [ b maxj. By means of checking vj, HRP
can be avoided to the ongoing flows that pass through the
neighborhood of the forwarders in U0. A destination vl [ D
causes bandwidth violation if Nj \ U0
  b reqþP
vk2 vlf g[Nl b ongoingk [ b maxl. Finally, B_Violation
returns false, if no bandwidth violation happens. B_Viola-
tion is detailed below.
Procedure B_Violation(b_req, D, U0);
for each vi [ U0 do
begin
if |{vi} [ (Ni \ U’)| 9
b_req ?
P
vk2fvig[Ni b ongoingk [ b maxi
then return true;
for each neighbor vj [ M of vi do
if |Nj \ U’| 9 b_req ?
P
vk2fvjg[Nj b ongoingk [ b maxj
then return true
end;
for each vl [ D do
if |Nl \ U0 | 9 b_req ?
P
vk2fvlg[Nl b ongoingk [ b maxl
then return true;
return false.
There are multiple shortest routes to vd established by
Shortest_ Routes. If the new flow is carried with a single
route, then the bandwidth requirement can be satisfied.
However, bandwidth violation may happen if the new flow
is carried with two or more routes simultaneously. In the
next section, by the aid of Shortest_Routes, an algorithm is
proposed to construct a bandwidth-satisfied multicast tree.
5.2 A bandwidth-satisfied multicast tree
B_Satisfied_Multicast_Tree has three input parameters: vs,
D and b_req, where vs is the source (i.e., the server) of the
838 Wireless Netw (2010) 16:829–849
123
BHs, selected on-demand by multicast members (servers or
clients), are responsible for determining multicast routes
and forwarding data packets. They maintain up-to-date
topology information (including neighboring information
and remaining connection time between two neighboring
hosts) in order to determine multicast routes.
In this section, B_Satisfied_Multicast_Tree can be easily
adapted to M-OGHAM when the BHs determine band-
width-satisfied multicast trees. Recall that the adjacency of
hosts is necessary to B_Violation (a basic procedure of
B_Satisfied_Multicast_Tree). Also, all b_ongoingjs (the
total bandwidth requirement of ongoing flows that are
forwarded by vi) and the set M (the set of destinations and
forwarders of all ongoing flows) are necessary to Short-
est_Routes and B_Violation (the other two basic
procedures of B_Satisfied_Multicast_Tree). Hence, they
should be made available before B_Satisfied_Multi-
cast_Tree is invoked by the BHs.
Recall that a sever (or a client) vi broadcasts a message
over a multicast region for selecting BHs (refer to
Sect. 4.2.3). The hosts vjs within the multicast region reply
their neighboring information and remaining connection
time to vi. In this way, the BHs selected by vi can compute
the adjacency of hosts. Further, vj also reply b_ongoingj to
vi if vj is a destination or forwarder of some ongoing flow.
So, b_ongoingjs and M can be derived by the BHs.
For example, suppose that a server s intends to create a
multicast group and it fails to find a BH within 2 hops
(r = 1 for this example). So, s reacts by triggering the
selection of BHs in a multicast region with a radius of
c = 4 hops centered at s. Refer to Fig. 4. First, s broadcasts
a message in the multicast region (refer to Fig. 4(a)). Upon
receiving the message, a host in the multicast region replies
a message to s and the message carries its neighboring
information, remaining connection time and b_ongoingj.
With the neighboring information and the remaining con-
nection time, s then selects BHs and attaches NBHs to BHs
(refer to Fig. 4(b)).
With the same example of Fig. 4, assume that c1 and c2
are two clients. They join the multicast group by attaching
themselves to b1 and b2, respectively. The server s is
attached to b0. Both b1 and b2 can locate s by querying b0.
Then, the bandwidth-satisfied multicast tree, which is
constituted by 7 links (i.e., s–b0, b0–f1, f1–b1, f1–b2, b1–f2,
f2–c1 and b2–c2), from s to c1 and c2, can be determined by
invoking B_Satisfied_Multicast_Tree in b0, b1 and b2 (refer
to Fig. 5). In the case, s–b0, b0–f1, f1–b1 and f1–b2 are
determined by b0; b1–f2 and f2–c1 are determined by b1; and
b3–c2 is determined by b3.
Since the clients can dynamically join or leave the
multicast group, the multicast tree should be adjusted to
handle dynamic group membership. Following the exam-
ple of Fig. 5, we assume that there is a new client c3,
which is attempting to join the multicast group created by
s. If c3 is attached to b0 (b1), b0 (b1) invokes B_Satis-
fied_Multicast_Tree to determine a tree from b0 (b1) to c3,
b1 and b2 (c1 and c3). On the other hand, when a client
leaves the multicast group, the BH attached by it is
responsible for the adjusting of the multicast tree. If the
BH is still attached by some clients, it determines a tree
from it to these clients. Otherwise, it notifies the attached
BH of the server for terminating its data forwarding ser-
vices. In the case, the attached BH of the server adjusts
the multicast tree by determining a tree from it to the rest
destinations.
The BHs selected in M-OGHAM may have not enough
bandwidth to support multicasting services. Recall that M-
OGHAM selected BHs on-demand in case that a multicast
   :   server
:   BH
  :   physical link
:   broadcasting
s
:   attaching
bi
(a)
s
b1
b2
b0
(b)
s
Fig. 4 BH selection in a multi-
cast region. a Broadcasting.
b Selecting BHs and attaching
NBHs to BHs
   :   server
:   BH
  :   physical link
:   multicast route
s
bi
s
b1
f2
f1
b2
b0
ci    :   client
c1
c2
fi :   forwarder
Fig. 5 Determining multicast routes
840 Wireless Netw (2010) 16:829–849
123
BHs selected by the other two strategies have more
neighbors, they consume more time in contending radio
channels with their neighbors. This explains why M-OG-
HAM and OGHAM have less transmission time.
Figure 8 shows the number of lost data packets.
M-OGHAM/OGHAM and the strategy of minimum dom-
inating set have fewer lost data packets than the strategy of
maximal number of neighbors. Since the latter strategy is
to maximize the number of neighbors, the BHs selected
have higher probability of collision during packet
transmission.
6.2 Comparison of two-tier multicast protocols
One or two multicast groups are randomly chosen from 200
hosts; each consists of one server and seven clients. Data
packets, whose size is 512 bytes, are generated from the
servers at a rate of one packet every 4-s. The simulation
proceeds for 300 s and the host speed varies from 0 to
21 km/h. We assume that the MAC layer in each host can
estimate the remaining connection time between neigh-
boring hosts by the methods of Sect. 4.2.1 and the accuracy
of the estimated remaining connection time is ±10%.
Table 2 summarizes the parameters and the assigned val-
ues for M-OGHAM, OGHAM, MCEDAR and ADB. The
assigned values for MCEDAR and ADB are the same as
those assigned in [12] and [14], respectively.
In order to investigate the performance of M-OGHAM,
OGHAM, MCEDAR and ADB, three metrics are adopted.
They are (1) the number of attached/re-attached control
messages transmitted from multicast members whenever
the members are attached to BHs or re-attached to new
BHs, (2) receiving rate (i.e., the ratio of the number of data
packets received by clients to the number of data packets
delivered from servers), and (3) multicast route length (i.e.,
the number of hops required in the multicast routes from
servers to clients). Metric (1) can measure the attachment
stability of multicast members to BHs. In the simulation,
all four protocols have the same number of data packets
delivered from servers.
A highly mobile environment will result in a high
frequency of BH re-selection, multicast member re-
attachment, and multicast route re-construction. Since
MCEDAR and ADB select BHs with the strategy of
maximal number of neighbors, the neighborhood of the
selected BHs is inclined to change as hosts move. Figure 9
shows that MCEDAR and ADB have higher frequency of
re-attachment than M-OGHAM and OGHAM. Figure 9
also shows that the two-tier infrastructure constructed
by M-OGHAM is more stable than that constructed by
OGHAM, because M-OGHAM selects more stable BHs.
0 200 400 600 800 1000 1200 1400 1600 1800
30
40
50
60
70
80
90
100
110
120
Tr
a
n
sm
is
si
o
n
 la
te
n
cy
 fr
o
m
 
se
rv
e
rs
 to
 
cl
ie
nt
s(m
se
c)
Minimum dominating set
Maximal number of neighbors
M-OGHAM / OGHAM
Elapsed time(sec) 
Fig. 6 Transmission latency from servers to clients
0 300 600 900 1200 1500 1800
5
10
15
20
25
30
35
Elapsed time (sec)
Tr
a
n
sm
is
si
on
 ti
m
e
 
be
tw
e
e
n
 n
e
ig
hb
or
in
g 
ho
st
s 
(m
se
c)
Minimum dominating set
Maximal number of neighbors
M-OGHAM / OGHAM
Fig. 7 Transmission time between two neighboring hosts
0-300 300-600 600-900 900-1200 1200-1500 1500-1800
0
20
40
60
80
100
120
140
160
180
200
Elapsed time(sec)
Nu
m
be
r o
f l
os
t d
at
a 
pa
ck
et
s
Minimum dominating set
Maximal number of neighbors
M-OGHAM / OGHAM
Fig. 8 Number of lost data packets
842 Wireless Netw (2010) 16:829–849
123
6.3.1 Static hosts
Ten multicast groups, denoted by G1, G2,… G10, are ran-
domly created. Each multicast group consists of one server
and three clients. A flow requiring 50 kbps is sent from
every server to the clients in the same group. The simu-
lation proceeds for 1000 s; G1 starts first, G2 starts after
100 s elapsed, G3 starts after 200 s elapsed, and so on. Data
packets, whose size is 512 bytes, are generated from the
servers.
Five metrics are adopted to investigate the performance
of the three protocols. They are (1) number of control
packets, (2) determination period, (3) number of forwarders
in a bandwidth-satisfied multicast tree, (4) admission rate,
and (5) receiving rate. Metric (2) averages the necessary
time to determine a bandwidth-satisfied multicast tree; it
can reflect the efficiency of prompt response to multicast
requests. Metric (4) is the ratio of the number of multicast
groups admitted to the number of multicast groups
requested. When the admission rate goes down, the net-
work performance decreases.
Figure 12 shows that Heu-M-OGHAM generates fewer
control packets than MCEDAR and M-CAMP. The reason
is explained from three aspects. First, since both Heu-M-
OGHAM and MCEDAR construct a two-tier infrastructure,
the number of the control packets increases slowly as the
number of multicast groups increases. Second, every
multicast group in M-CAMP sends control packets (i.e.,
0 3 6 9 12 15 18 21
0.3
0.4
0.5
0.6
0.7
0.8
0.9
1
Speed(km/hr)
Re
ce
iv
in
g 
ra
te
MCEDAR
ADB
OGHAM
M-OGHAM
(a)
0 3 6 9 12 15 18 21
0.3
0.4
0.5
0.6
0.7
0.8
0.9
1
Speed(km/hr)
Re
ce
iv
in
g 
ra
te
MCEDAR
ADB
OGHAM
M-OGHAM
(b)
Fig. 10 Receiving rate. a One multicast group. b Two multicast groups
0 3 6 9 12 15 18 21
7.4
7.6
7.8
8
8.2
8.4
8.6
8.8
9
Speed(km/hr)
M
u
lti
ca
st
 ro
u
te
 le
ng
th
MCEDAR
ADB
OGHAM
M-OGHAM
(a)
0 3 6 9 12 15 18 21
7
7.2
7.4
7.6
7.8
8
8.2
8.4
8.6
Speed(km/hr)
M
u
lti
ca
st
 ro
u
te
 
le
ng
th
MCEDAR
ADB
OGHAM
M-OGHAM
(b)
Fig. 11 Multicast route length. a One multicast group. b Two multicast groups
844 Wireless Netw (2010) 16:829–849
123
multicast groups increases to 10, the receiving rates of
Heu-M-OGHAM and M-CAMP are still high, but the
receiving rate of MCEDAR drops seriously. Further,
Heu-M-OGHAM has higher admission rate than
M-CAMP, as a consequence that the multicast trees con-
structed by it have fewer forwarders.
Since B_Satisfied_Multicast_Tree is heuristic, an opti-
mal algorithm for BSMTP is necessary in order to evaluate
the performance of B_Satisfied_Multicast_Tree in finding
bandwidth-satisfied multicast trees. In [34], the authors
formulated BSMTP as a 0/1 integer linear programming,
which can be well solved by a branch-and-bound algorithm
(see [35]). We use Opt-M-OGHAM to denote the inte-
gration of M-OGHAM with such a branch-and-bound
algorithm. Opt-M-OGHAM can serve as a benchmark for
evaluating the performance of Heu-M-OGHAM. When
there are feasible solutions to BSMTP, Opt-M-OGHAM
can always determine the optimal one. However, it is likely
that Heu-M-OGHAM fails to find a feasible one.
Figure 15 also reveals the success ratio of Heu-M-OG-
HAM in finding a feasible solution to BSMTP. The success
rate can be estimated as by means of the ratio of the
admission rate of Heu-M-OGHAM to the admission rate of
Opt-M-OGHAM. For one extreme case in which there is
one multicast group, the success rate is estimated as
1/1 = 1. For the other extreme case in which there are ten
multicast groups, the success rate is estimated as
0.5/0.54 = 0.93. For the other cases, the success rate ran-
ges from 0.93 to 1.
6.3.2 Mobile hosts
The first seven multicast groups, i.e., G1, G2,… G7, that
were created in Sect. 6.3.1 are used in the simulation. The
simulation proceeds for 1000 s and the speed varies from 3
to 21 km/h. Five metrics are adopted to investigate the
performance of the three protocols. They are (1) trans-
mission period, (2) determination period rate, (3) number
of control packets, (4) number of admission multicast
groups, and (5) receiving rate.
Metric (1) averages the period of time for which a
determined bandwidth-satisfied multicast tree is available,
i.e., during the period the data packets are transmitted from
the server and received by the clients of the same group
along the tree successfully. Metric (2) measures the time
ratio of the determination period to the transmission period.
The first two Metrics can measure the effect of mobile
environment on the performance of the three protocols in
determining trees. Further, if Metric (2) of a protocol goes
up, it means the protocol spends more time in tree deter-
mining or fewer time in data transmitting.
Figure 17 shows that Heu-M-OGHAM has longer
transmission period than MCEDAR and M-CAMP, which
is a consequence that Heu-M-OGHAM considers host
mobility in the selection of BHs and the determination of
multicast trees. Figure 18 also shows that MCEDAR and
M-CAMP have higher determination period rate than Heu-
M-OGHAM since their determined multicast trees are not
stable. Further, the determination period rate of M-CAMP
increases rapidly as the host speed increases. Like the
previous simulation of Fig. 12, the much higher determi-
nation period rate of M-CAMP is due to the fact that
M-CAMP has much longer determination period when the
trees are determined by transmitting low-priority probing
packets; moreover, un-stable multicast trees introduce
frequent re-determination of multicast trees and worsen the
performance of M-CAMP when the host speed increases.
Figure 18 reveals that the determination period rate of
M-CAMP ranges from 0.033 to 0.182 when the speed of
hosts varies from 3 to 21 km/h. For one extreme case in
1 2 3 4 5 6 7 8 9 10
0.6
0.65
0.7
0.75
0.8
0.85
0.9
0.95
1
1.05
Number of multicast groups
Re
ce
iv
in
g 
ra
te
MCEDAR
M-CAMP
Heu-M-OGHAM
Fig. 16 Receiving rate
3 6 9 12 15 18 21
0
5
10
15
20
25
30
35
Speed(km/hr)
De
te
rm
in
at
io
n 
pe
rio
d 
(se
c)
MCEDAR
M-CAMP
Heu-M-OGHAM
Fig. 17 Transmission period
846 Wireless Netw (2010) 16:829–849
123
decrease the receiving rate of M-CAMP when host speed
increases.
7 Conclusion
In order to obtain short multicast routes, the authors pro-
posed a two-tier multicast protocol, named OGHAM, whose
objective of selecting BHs is to minimize the total number of
hops to all hosts. In this paper, an enhancement of OGHAM,
named M-OGHAM, was further introduced. M-OGHAM is
mobility aware. Taking host mobility into consideration, M-
OGHAM can select stable BHs, construct stable multicast
routes, and effectively update multicast routes.
To select stable BHs, hosts with fewer hops and longer
remaining connection time to the other hosts are preferred.
Thus, stable attachments of multicast members to BHs and
stable multicast routes can result. Stable attachments can
reduce the frequencies of BH re-selection, multicast
member re-attachment, and multicast route re-determina-
tion. Stable routes can reduce the frequency of route
disconnection and the number of lost data packets.
HRP and HMRP, which are two bandwidth-violation
problems that may occur to previous QoS routing/multi-
casting protocols, are introduced in this paper. Since
bandwidth and power are limited in MANETs, they should
be taken into consideration in routing/multicasting proto-
cols. The problem (i.e., BSMTP) of determining a
bandwidth-satisfied multicast tree with minimum number of
forwarders is studied in this paper. An algorithm (i.e.,
B_Satisfied_Multicast_Tree) that can generate bandwidth-
satisfied multicast trees is proposed. It constructed multicast
trees with the objective of minimizing the total number of
forwarders, in addition to bandwidth satisfaction. The
algorithm is integrated into M-OGHAM to support band-
width-constrained multicast services. The integration (i.e.,
Heu-M-OGHAM) can construct bandwidth-satisfied mul-
ticast trees without inducing HRP and HMRP. Further, Heu-
M-OGHAM can achieve better network performance as a
consequence of determining the trees with few forwarders.
References
1. Low, C. P., & Song, X. (2002). On finding feasible solutions for
the delay constrained group multicast routing problem. IEEE
Transactions on Computers, 51, 581–588. doi:10.1109/TC.2002.
1004596.
2. Kompella, V. P., Pasquale, J. C., & Polyzos, G. C. (2002).
Multicast routing for multimedia communication. IEEE Trans-
actions on Computers, 51, 581–588. doi:10.1109/TC.2002.
1004596.
3. Sun, Q., & Langendoerfer, H. (1995). Multicast routing for
multimedia communication. In Proceedings of the second
workshop on protocols for multimedia systems (pp. 452–458).
4. Corson, M. S., & Batsell, S. G. (1995). A reservation-based
multicast (RBM) routing protocol for mobile networks: Initial
route construction phase. ACM/Baltzer Wireless Networks, 1(4),
427–450. doi:10.1007/BF01985755.
5. Belding-Royer, E. M., & Perkins, C. E. (2002). Transmission
range effects on AODV multicast communication. ACM/Kluwer
Mobile Networks and Applications, 7, 455–470. doi:10.1023/
A:1020708701096.
6. Xie, J., Talpade, R. R., Mcauley, A., & Liu, M. (2002). AMRo-
ute: adhoc multicast routing protocol. ACM/Kluwer Mobile
Networks and Applications, 7, 429–439. doi:10.1023/A:10207
48431138.
7. Gupta, S. K. S., & Srimani, P. K. (2001). Cored-based tree with
forwarding regions (CBT-FR), a protocol for reliable multicast-
ing in mobile ad hoc networks. Journal of Parallel and
Distributed Computing, 61(9), 1249–1277. doi:10.1006/jpdc.
2001.1749.
8. Chan, K., & Nahrstedt, K. (2002). Effect location-guided tree
construction algorithms for small group multicast in MANET. In
Proceedings of the 21st international annual joint conference of
the IEEE computer and communications societies (Vol. 3, pp.
1180–1189).
9. Lee, S. J., & Gerla, M. (2002). On-demand multicast routing
protocol in multihop wireless mobile networks. ACM/Kluwer
Mobile Networks and Applications, 7, 441–453. doi:10.1023/
A:1020756600187.
10. Garcia-Luna-Aceves, J. J., & Madruga, E. L. (1999). The core-
assisted mesh protocol. IEEE Journal on Selected Areas in
Communications, 17, 1380–1394. doi:10.1109/49.779921.
11. Kozat, U. C., Kondylis, G., Ryu, B., & Marina, M. K. (2001).
Virtual dynamic backbone for mobile ad-hoc networks. In Pro-
ceedings of the IEEE international conference on
communications (Vol. 1, pp. 250–255).
12. Sinha, P., Sivakumar, R., & Bhanghavan, V. (1999). CEDAR: A
core-extraction distributed ad-hoc routing algorithm. IEEE
Journal on Selected Areas in Communications, 17, 1454–1465.
doi:10.1109/49.779926.
13. Sivakumar, R., Das, B., & Bharghavan, V. (1998). Spine routing
in ad-hoc networks. Cluster Computing, 1(2), 237–248 (a special
issue on mobile computing).
14. Jaikaeo, C., & Shen, C. C. (2002). Adaptive backbone-based
multicast for ad hoc networks. In Proceedings of the IEEE
international conference on communications (Vol. 5, pp. 3149–
3155).
15. Sinha, P., Sivakumar, R., & Bhanghavan, V. (1999). MCEDAR:
Multicast core-extraction distributed ad-hoc routing. In Pro-
ceedings of the IEEE wireless communications and networking
conference (pp. 1313–1317).
16. Devarapalli, V., & Sidhu, D. (2001). MZR: A multicast protocol
for mobile ad hoc networks. In Proceedings of the IEEE inter-
national conference on communications (pp. 3149–3155).
17. McDonald, A. B., & Znati, T. (1999). A mobility based frame-
work for adaptive clustering in wireless ad-hoc networks. IEEE
Journal on Selected Areas in Communications, 17, 1466–1487.
doi:10.1109/49.780353.
18. Chen, S., & Nahrstedt, K. (1999). Distributed quality-of-service
routing in ad hoc networks. IEEE Journal on Selected Areas in
Communications, 41, 120–124.
19. Xue, Q., & Ganz, A. (2003). Ad hoc QoS on-demand routing
(AQOR) in mobile ad hoc networks. Journal of Parallel and
Distributed Computing, 63, 154–165. doi:10.1016/S0743-7315
(02)00061-8.
20. Lee, S.-B., Ahn, G.-S., Zhang, X., & Campbell, A. T. (2000).
INSIGNIA: An IP-based quality of service framework for mobile
ad hoc networks. Journal of Parallel and Distributed Computing,
60(4), 374–406. doi:10.1006/jpdc.1999.1613.
848 Wireless Netw (2010) 16:829–849
123
出席國際學術會議心得報告
計畫編號 96-2221-E-012-001
計畫名稱 大型隨意網路上建構滿足頻寬需求之多重通訊樹
出國人員姓名
服務機關及職稱
胡家正, 海軍官校資管系, 助理教授
會議時間地點 11 - 13 September, 2007, The Lake District, UK
會議名稱 International Workshop on Self-Organizing Systems (IWSOS), 2007
發表論文題目 Bandwidth-Satisfied Multicast Services in Large-Scale MANETs
一、參加會議經過
Self-Organizing Systems (SOS) 是目前分散式系統一個新的研究領域，希望系統能自我建構
(self-configure)，自我管理(self-manage)與自我調整(self-adapt) ，以達到高可用性(high
availability)，好的安全性(strong security)與具有進化之能力(ability to evolve) 。IWSOS 係針
對上述議題所舉辦之學術研討會。IWSOS 2007 由英國蘭開斯特大學(Lancaster University) 電
子計算系所舉辦的，會議期間為九月十一日至十三日為期三天。
會議分別就Peer-to-Peer Networking, Network Topology and Architecture, Ad Hoc Routing
for Wireless/Sensor Networks, Adaptive and Self-Organizing Networks, Miscellaneous Topics,
Multicast and Mobility Protocols, Short Papers等七個session進行廣泛而詳實的探討。其間並穿
插兩場Keynote presentation分別由微軟在美國Redmond首席設計師Joseph L. Hellerstein闡述
Engineering Self-Organizing Systems;美國Kentucky大學Professor Ken Calvert闡述Infrastructure
and Self-Organization in Postmodern Internet Architecture，會議議程緊湊，內容豐富充實。
二、與會心得
此次會議個人被分配在大會的第三日第六個 session 報告，分享的題目為
Bandwidth-Satisfied Multicast Services in Large-Scale MANETs，每人限定二十分鐘並
預流留十分鐘與與會者討論，因議題本身為在大型隨意網路上自我建構一個two-level 之
infrastructure並在其上建構滿足頻寬需求之多重通訊樹，除了引起與會者熱烈迴響之外，
席間與會者也不吝提出若干問題，彼此分享研究心得與看法，相信席間在學術殿堂中學者專
家的腦力激盪，無論對於日後文章的修繕亦或對論文的精益求精或更上一層樓，都將產生無
比的助益與參考價值，甚至於對往後在研究成果呈現、論文發表技巧，亦或回應與會專家學
者的問題等都是極大的學習及寶貴的經驗。
參與本次會議的專家學者分別有來自於全世界各地，雖學者專家來自的背景有所差異，
但對於學術的討論以及語言表達也略顯不同，彼此之間除了專業上的分享之外，大家也都能
就文化、歷史、地理等人文思維以及各地區學術發展近況都能廣泛交換意見侃侃而談，從多
元角度互為分享，彼此尊重。
 Bandwidth-Satisfied Multicast Services in Large-Scale MANETs 177 
suffer due to frequent route breaks, thereby requiring such applications to be  
re-determined over new routes. Besides, each transmission in MANETs is a local 
broadcast and each host shares the common radio channel with all its neighbors. An 
inadequate bandwidth reservation may decline network performance, which is serious 
in MANETS because of shared channel and limited bandwidth. Further, the above 
difficulties will be enlarged in a large-scale MANET. Recently, several MANET 
multicast protocols have been proposed in the literature [4]-[10]. They can be classi-
fied into two categories: tree-based protocols and mesh-based protocols. For both, 
adding a new member into an existing multicast group will cause the flooding of a 
join request message over the entire network. The flooding process is time-consuming 
and bandwidth-consuming, especially, for a large-scale MANET. 
To avoid the inefficiency of flooding, two-tier infrastructures [11]-[15], [21], [24] 
were adopted for routing/multicasting in large-scale MANETs. Some of hosts, named 
backbone hosts (BHs), were selected and responsible for managing the flooding, 
maintaining the infrastructures and determining the routes. On the other hand, several 
routing protocols [12], [18], [19] and multicast protocols [15], [20] have been pro-
posed for MANET QoS services. However, they may lead to bandwidth violation, 
as described below. When a new flow with bandwidth requirement is permitted, a 
control packet from the source is flooded in order to determine a bandwidth-satisfied 
route. Each host in the neighborhood of some ongoing flows may be determined as a 
forwarder for the new flow if the bandwidth increment does not induce bandwidth 
violation of it and its neighbors. However, even so, bandwidth violation may happen to 
its neighbors because it fails to take into account the bandwidth consumption of those 
hosts that are two hops distant from it. This induces a new bandwidth-violation prob-
lem in MANETs. Similarly, another bandwidth-violation problem is induced if multi-
ple flows are permitted concurrently. The two problems are named the hidden route 
problem (HRP) and the hidden multicast route problem (HMRP), respectively. They 
will be elaborated in the next section. 
The purpose of this paper is to propose a novel algorithm that can avoid HRP and 
HMRP. The proposed algorithm is integrated with two-tier infrastructures for QoS 
multicast applications in large-scale MANETs. In [21], the authors proposed a multi-
cast protocol, named OGHAM, for large-scale MANETs. OGHAM selected BHs on-
demand with the objective of minimizing the total number of hops to the other hosts, 
so as to shorten multicast routes. In [24], we enhance OGHAM with mobility aware-
ness by taking host mobility into consideration. The enhanced OGHAM, denoted by 
M-OGHAM, is enhanced with link prediction, i.e., to estimate the amount of remain-
ing connection time for two neighboring hosts. Link prediction is very helpful to mo-
bility awareness, and by its aid, stable BHs and stable multicast routes can be deter-
mined.  
Since bandwidth and power are limited in MANETs, one way to reduce bandwidth 
and power consumption is to decrease the number of hosts (i.e., forwarders) partici-
pating in packet forwarding. The problem of finding a multicast tree with minimum 
number of forwarders is known to be NP-hard (see [22]). If the bandwidth consump-
tion is considered additionally, the resulting problem is also NP-hard. In this paper, 
we study the problem of determining a bandwidth-satisfied multicast tree with mini-
mum number of forwarders. The problem is referred to as BSMTP in the rest of this 
paper, and a heuristic algorithm is proposed to provide a feasible solution to it. 
 Bandwidth-Satisfied Multicast Services in Large-Scale MANETs 179 
(c, the predecessor of c and the successor of c each require 3-unit bandwidth). Since 
the ongoing flow from e to f is in the radio coverage of c, it consumes 2-unit band-
width of c. Consequently, the remaining available bandwidth of c is 11 − 2 = 9 
units, and so c is allowed to be a forwarder. 
d
e
a
b
c
f
h
g
 
Fig. 1. An example of HRP 
Now we turn our attention to the bandwidth consumption of e. Since both c and g 
are in the radio coverage of e, the bandwidth requirement of e is 2 + 3 + 7 = 12 units, 
which exceeds its available bandwidth (11 units). The reason for the bandwidth viola-
tion is that c was not aware of the ongoing flow from g to h when it was determined to 
be a forwarder. In short, the bandwidth violation happened because the ongoing flow 
from g to h was hidden from the new flow from a to d. The problem is henceforth 
referred to as the hidden route problem (HRP). In contrast to the hidden terminal 
problem [23], which arises in the MAC layer, the hidden route problem arises in the 
network layer. 
An illustrative example for HMRP is shown in Fig 2, where there is a multicast 
group and a new flow from a (server) to e and h (clients) is permitted. Suppose that 
each host has the same available bandwidth, say 11 units, and the bandwidth require-
ment of the flow is 3 units. Also note that bandwidth reservation will be made for the 
flow when data flow through the routes. Both c and g can be forwarders for the flow 
from a to e and from a to h, respectively, because their bandwidth requirement (9 
units) is smaller than their available bandwidth (11 units). However, since they are in 
the radio coverage of each other, 3-unit bandwidth is required additionally when data 
flow from a to e and h. This increases their bandwidth requirement to 12 units, which 
causes a bandwidth violation. The bandwidth violation happens because the two mul-
ticast routes from a to e and from a to h are mutually hidden from each other. It is 
henceforth referred to as the hidden multicast route problem (HMRP). 
 Bandwidth-Satisfied Multicast Services in Large-Scale MANETs 181 
   :   server
:   BH
  :   physical link
:   broadcasting
s
:   attaching
bi
(a)
s
b1
b3
b2
(b)
s
 
Fig. 3. BH selection in a multicast region. (a) Broadcasting. (b) Selecting BHs and attaching 
NBHs to BHs. 
Fig 3. First, s broadcasts a message in the multicast region (refer to Fig 3(a)). Upon 
receiving the message, hosts in the multicast region reply their neighboring informa-
tion to s. With the neighboring information, s then selects BHs and attaches NBHs to 
BHs (refer to Fig 3(b)). 
After BHs in the multicast region are selected, clients can join the multicast group 
by asking the attached BHs to query the location of the server. The BH attached by 
the server then replies to the queries. Through the round-trip communication (query-
ing and replying), the BH attached by the server can determine the multicast routes 
from the server to the clients. With the same example of Fig 3, assume that c1 and c2 
are two clients. They join the multicast group by attaching themselves to b1 and b3, 
respectively. The server s is attached to b2. Both b1 and b3 can locate s by querying b2. 
At the same time, the multicast routes, i.e., s−b2−f1−b1−f2−c1 and s−b2−f1−b3−c2, 
from s to c1 and c2, respectively, can be determined (refer to Fig 4). 
As described above, the BHs attached by clients are responsible for querying the 
location of the server. For a client in a different multicast region from the server, the 
attached BH fails to locate the server, and so it floods a query message over the entire 
network, in order to locate the server. Through the flooding, the two multicast regions 
where the client and the server are positioned can be merged into a larger one. After 
the merging, a multicast route from the server to the client can be determined.  
Following the example of Fig 4, we assume that there is a client c3, which  
is outside the multicast region of Fig 4, attempting to join the multicast group crea- 
ted by s. The gray portion of Fig 5 shows the multicast region created by c3. There  
are two BHs, i.e., '1b  and '2b , selected in the new multicast region and c3 is atta-
ched to '1b . In order to locate s, 
'
1b  floods a message. Upon receiving the mes-
sage, b2 replies to '1b . Through the message exchange, a multicast route, i.e., 
s−b2−f1−b1−f2−f4− '1b −c3, from s to c3 is then determined. 
 Bandwidth-Satisfied Multicast Services in Large-Scale MANETs 183 
4   A Heuristic Algorithm 
In this section, a heuristic algorithm that can provide a feasible solution to BSMTP is 
proposed. The algorithm can admit a new flow with bandwidth requirement for some 
multicast service by constructing a bandwidth-satisfied multicast tree. Besides, the 
algorithm attempts to minimize the number of forwarders for the new flow. The exe-
cution of the algorithm involves a basic procedure, named Shortest_Routes, which can 
establish shortest (minimum number of hops) routes to a particular destination. Fi-
nally, the algorithm is integrated into M-OGHAM to support bandwidth-constrained 
multicast services in large-scale MANETs.  
Shortest_Routes has four input parameters: vd, b_req, Δ and Φ, where vd is a desti-
nation of the new flow, b_req is the bandwidth requirement for the new flow, and Δ, 
Φ are two sets of hosts. Shortest_Routes also has two output parameters: H and P 
(explained later). The execution of Shortest_Routes invokes another procedure, 
named B_Violation, which returns true if bandwidth violation happens and false else. 
B_Violation uses Δ and Φ for checking bandwidth violation, which will become clear 
later. Shortest_Routes is a modification of the well-known Dijkstra’s shortest-path 
algorithm, which can compute the shortest paths from a node to the other nodes. Dif-
ferently, Shortest_Routes establishes shortest routes in a reverse direction from all 
hosts to vd. For each host vi in the shortest routes, let hi denote the minimum number 
of hops from vi to vd, and Pi denote the set of forwarders along the shortest vi-vd route. 
Initially, set hi = 1 and Pi = {vi} if vi is neighboring to vd and the inclusion of vi in the 
shortest routes will not cause bandwidth violation. Otherwise, set hi = ∞ and Pi = {} 
(the empty set). Host vi will (will not) cause bandwidth violation if 
B_Violation(b_req, Δ, {vi} ∪ Φ) returns true (false). 
The shortest routes are established iteratively by a repeat-until loop. In each itera-
tion, a host vx that is closest to vd (i.e., hx is minimum) and was not selected before is 
determined. Then, for each neighbor vj of vx, the vj-vd route (i.e., Pj) is replaced with 
the vx-vd route augmented with the vj-vx hop (i.e., Px ∪ {vj}), if the new vj-vd route is 
shorter and does not cause bandwidth violation. The latter can be checked by in-
voking B_Violation(b_req, Δ, {vj} ∪ Px ∪ Φ). Finally, the shortest routes are repre-
sented by means of H and P, which are two sets containing all his and Pis, respec-
tively. Shortest_Routes is detailed in the following. 
Procedure  Shortest_Routes(vd,b_req,Δ,Φ,H,P);  
/* V is the set of all hosts. */ 
X←V−{vd}; 
for  each vi ∈ X  do 
 if vi and vd are neighboring and 
B_Violation(b_req, Δ, {vi} ∪ Φ) = false 
 then  hi ← 1 and Pi ← {vi} 
 else  hi ← ∞ and Pi ← {}; 
repeat   
 determine vx∈X so that hx=min{hi|vi∈X} and de-
lete vx from X; 
 Bandwidth-Satisfied Multicast Services in Large-Scale MANETs 185 
for  each vl ∈ Δ  do  
 if  |Nl∩Φ’|×b_req+ ∑
∪∈ llk Nvv
kongoingb
}{
_ >b_maxl   
 then  return  true;  
return  false. 
 
There are multiple shortest routes to vd established by Shortest_ Routes. If the new 
flow is carried with a single route, then the bandwidth requirement can be satisfied. 
However, bandwidth violation may happen if the new flow is carried with two or more 
routes simultaneously. In the next section, by the aid of Shortest_Routes, an algorithm 
is proposed to construct a bandwidth-satisfied multicast tree. 
The proposed heuristic algorithm, named B_Satisfied_Multicast_Tree, has three 
input parameters: vs, D and b_req, where vs is the source (i.e., the server) of the new 
flow, D is the set of the destinations (i.e., the clients) of the new flow, and b_req is the 
bandwidth requirement for the new flow. B_Satisfied_Multicast_Tree intends to estab-
lish a bandwidth-satisfied multicast tree for the new flow. Let Δ ⊆ D be a subset of 
the destinations and F be the set of forwarders in the multicast tree. Initially, set Δ = 
{} and F = {}. 
The bandwidth-satisfied multicast tree is established iteratively by a for-loop. 
Without loss of generality, assume D = {
1dv , 2dv , …, cdv }, where c = |D|. During 
the ith iteration, a shortest route to 
idv  is selected from P (computed by Short-
est_Routes) so that the selected shortest routes to 
1dv , 2dv , …, idv  are bandwidth-
satisfied. Moreover, F and Δ are updated. At first, when i = 1 (the first iteration), Ps is 
selected, which is a shortest route from vs to 1dv , and F (Δ) is replaced with F ∪ Ps (Δ 
∪ {
1dv }). It should be noted that Ps is bandwidth- satisfied. 
When i = 2, a forwarder vx ∈ F that is closest to 2dv  is first determined. Then, Px 
∈ P is selected as the shortest route to 
2dv . Also F (Δ) is replaced with F ∪ Px (Δ ∪ 
{
2dv }). Now F represents a tree that connects vs with 1dv  and 2dv . The tree is 
bandwidth-satisfied (hence can avoid HMRP), as a consequence of executing Short-
est_Routes(
2dv , b_req, Δ, F, H, P), where Δ = { 1dv } and F = Ps (Ps was obtained 
when i=1). The execution for the other iterations (i.e., when 3 ≤ i ≤ |D|) is very simi-
lar. Finally, when the execution of B_Satisfied_Multicast_Tree terminates, F repre-
sents a bandwidth-satisfied multicast tree that connects vs with 1dv , 2dv , …, cdv . 
B_Satisfied_Multicast_Tree is detailed in the following. 
 
Procedure  B_Satisfied_Multicast_Tree(vs,D,b_req);  
Δ ← {} and F ← {}; 
for  i ← 1 to |D|  do   
 begin 
 Shortest_Routes(
idv , b_req, Δ, F, H, P); 
 Bandwidth-Satisfied Multicast Services in Large-Scale MANETs 187 
s
c3
c2
c1e
ba
(a)
s
c3
c2
c1
f
e
ba
(b)
s
g
c3
c2
c1
f
e
ba
(c)
 
Fig. 6. A bandwidth-satisfied multicast tree. (a) A route from s to c1. (b) A tree connecting s 
with c1 and c2. (c) A tree connecting s with c1, c2 and c3. 
Recall that a sever (or a client) vi broadcasts a message over a multicast region for 
selecting BHs. The hosts vjs within the multicast region reply their neighboring in-
formation and remaining connection time to vi. In this way, the BHs selected by vi can 
compute the adjacency of hosts. Further, vj also reply b_ongoingj to vi if vj is a desti-
nation or forwarder of some ongoing flow. So, b_ongoingjs and M can be derived by 
the BHs. 
5   Simulation 
Simulation is implemented using the Network Simulator 2 package (ns-2) [28]. IEEE 
802.11 is used as the MAC layer protocol. Data/control packets are sent using the un-
slotted Carrier Sense Multiple Access with Collision Avoidance (CSMA/CA). The 
simulation environment models a large-scale MANET of 200 hosts which are ran-
domly spread in a 2000m×2000m area. Each host is equipped with a radio transceiver 
whose transmission range is up to 250 meters over a wireless channel. The data trans-
mission capability of each host is assumed 800 Kbps. Forty runs with different seed 
numbers are conducted for each scenario and collected data for these runs are  
averaged.  
Three performance measures: receiving rate, admission rate and number of control 
packets are adopted. The receiving rate is the ratio of the number of data packets 
received by clients to the number of data packets delivered from servers. If bandwidth 
violation happens, it will drop drastically. The admission rate is the ratio of the num-
ber of multicast groups admitted to the number of multicast groups requested. When 
the admission rate goes up, the network performance increases. On the other hand, the 
 Bandwidth-Satisfied Multicast Services in Large-Scale MANETs 189 
1 2 3 4 5 6 7 8 9 10
0.6
0.65
0.7
0.75
0.8
0.85
0.9
0.95
1
1.05
Number of multicast groups
R
e
ce
iv
in
g 
ra
te
MCEDAR
Heu-M-OGHAM
 
Fig. 8. Receiving rate for static hosts 
than MCEDAR. Recall that the probability that MCEDAR induces HMRP jumps up 
when the number of multicast groups exceeds 5. Also, Fig 8 demonstrates that the 
receiving rate of MCEDAR drops drastically when the number of multicast groups 
exceeds 5. When the number of multicast groups increases to 10, the receiving rate of 
Heu-M-OGHAM is still high, but the receiving rate of MCEDAR drops seriously. 
When there are feasible solutions to BSMTP, Opt-M-OGHAM can always deter-
mine the optimal one. However, it is likely that Heu-M-OGHAM fails to find a feasi-
ble one. Fig 7 also reveals the success rate of Heu-M-OGHAM in finding a feasible 
solution to BSMTP. The success rate can be estimated by means of the ratio of the 
admission rate of Heu-M-OGHAM to the admission rate of Opt-M-OGHAM. 
5.2   Performance Comparison: Mobile Hosts 
Host mobility is based on the random waypoint model [25], in which a host’s move-
ment consists of a sequence of random length intervals, called mobility epochs.  
 
5 10 15 20
0.6
0.65
0.7
0.75
0.8
0.85
0.9
0.95
1
MCEDAR
Heu-M-OGHAM
Av
e
ga
ge
 re
ce
iv
in
g 
ra
te
Speed (m/sec)
 
Fig. 9. Receiving rate for mobile hosts 
 Bandwidth-Satisfied Multicast Services in Large-Scale MANETs 191 
that the multicast trees constructed by it have fewer forwarders. Moreover, the admis-
sion rate of Heu-M-OGHAM is close to the benchmark. 
References 
[1] Low, C.P., Song, X.: On finding feasible solutions for the delay constrained group multi-
cast routing problem. IEEE Transactions on Computers 51, 581–588 (2002) 
[2] Kompella, V.P., Pasquale, J.C., Polyzos, G.C.: Multicast routing for multimedia commu-
nicationl. IEEE Transactions on Computers 51, 581–588 (2002) 
[3] Sun, Q., Langendoerfer, H.: Multicast routing for multimedia communication. In: Pro-
ceedings of the Second Workshop on Protocols for Multimedia Systems, pp. 452–458 
(1995) 
[4] Corson, M.S., Batsell, S.G.: A reservation-based multicast (RBM) routing protocol for 
mobile networks_ initial route construction phase, ACM/Baltzer Wireless Networks 1(4), 
427–450 (1995) 
[5] Belding-Royer, E.M., Perkins, C.E.: Transmission range effects on AODV multicast 
communication. ACM/Kluwer Mobile Networks and Applications 7, 455–470 (2002) 
[6] Xie, J., Talpade, R.R., Mcauley, A., Liu, M.: AMRoute: adhoc multicast routing proto-
col. ACM/Kluwer Mobile Networks and Applications 7, 429–439 (2002) 
[7] Gupta, S.K.S., Srimani, P.K.: Cored-based tree with forwarding regions (CBT-FR), a 
protocol for reliable multicasting in mobile ad hoc networks. Journal of Parallel and Dis-
tributed Computing 61(9), 1249–1277 (2001) 
[8] Chan, K., Nahrstedt, K.: Effect location-guided tree construction algorithms for small 
group multicast in MANET. In: Proceedings of the 21st International Annual Joint Con-
ference of the IEEE Computer and Communications Societies vol. 3, pp. 1180–1189 
(2002) 
[9] Lee, S.J., Gerla, M.: On-demand multicast routing protocol in multihop wireless mobile 
networks, ACM/Kluwer Mobile Networks and Applications 7, 441–453 (2002) 
[10] Garcia-Luna-Aceves, J.J., Madruga, E.L.: The core-assisted mesh protocol. IEEE Journal 
on Selected Areas in Communications 17, 1380–1394 (1999) 
[11] Kozat, U.C., Kondylis, G., Ryu, B., Marina, M.K.: Virtual dynamic backbone for mobile 
ad-hoc networks. Proceedings of the IEEE International Conference on Communica-
tions 1, 250–255 (2001) 
[12] Sinha, P., Sivakumar, R., Bhanghavan, V.: CEDAR: a core-extraction distributed ad-hoc 
routing algorithm. IEEE Journal on Selected Areas in Communications 17, 1454–1465 
(1999) 
[13] Sivakumar, R., Das, B., Bharghavan, V.: Spine routing in ad-hoc networks, Cluster 
Computing, a special issue on mobile computing 1(2), 237–248 (1998) 
[14] Jaikaeo, C., Shen, C.C.: Adaptive backbone-based multicast for ad hoc networksx. Pro-
ceedings of the IEEE International Conference on Communications 5, 3149–3155 (2002) 
[15] Sinha, P., Sivakumar, R., Bhanghavan, V.: MCEDAR: multicast core-extraction distrib-
uted ad-hoc routing. In: Proceedings of the IEEE Wireless Communications and Net-
working Conference, pp. 1313–1317. IEEE, Los Alamitos (1999) 
[16] Yang, Y., Kravets, R.: Content-aware admission control for ad hoc networks. IEEE 
Transactions on Mobile Computing 4(4), 363–377 (2005) 
[17] Chen, L., Heinzelman, W.: Qos-aware routing based on bandwidth estimation for mobile 
ad hoc networks. IEEE Journal on Selected Areas in Communications 23(3), 561–572 
(2005) 
 
