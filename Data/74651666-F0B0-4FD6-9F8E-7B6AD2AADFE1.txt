 2
制，例如系統非線性函數必須滿足 Lipschitz 的嚴格條
件，學習增益的選擇與輸出入藕合矩陣有關等，都是
一些典型的困難，這是為什麼近年適應控制理論被引
入反覆學習控制設計的一個重要背景因素[23-33]，而
這個新領域通常就稱為適應反覆學習控制(Adaptive 
Iterative Learning Control，AILC)。本國科會研究專題
計畫為主持人前一期國科會計畫之第二階段研究，研
究的方向放在更廣泛的一個角度來思考適應反覆學習
控制理論。在適應反覆學習控制發展的這數年之間，
研究學者只著眼在如何設計適用於重複性工作任務的
適應反覆學習控制系統，並強調其理論分析的完整性
與嚴謹性。至於兩個時間軸（時域與學習域）的適應
反覆學習控制與傳統一個時間軸（時域）的適應控制
究竟在理論上的關係為何，卻一直沒有研究認真仔細
討論過。本年度計畫的研究首度提出理論，探討適應
反覆學習控制與適應控制之間的關係。本計畫的研究
發現，適應控制系統若能滿足某些特定的關係，則該
適應控制器就可以轉換成適應反覆學習控制器。更精
準一點的說，若適應控制器滿足某些 Lyapunov-like 
condition，則原適應控制器即可成為適應反覆學習控制
器的形式，只要在參數調整法則方面做適當的局部改
變。本計畫也另外提出廣泛型的參數調整法則，這個
法則可以涵蓋目前文獻中絕大部分已經發表的參數調
整法則。最後本計畫透過嚴謹的理論推導與證明，分
析整個學習控制系統的穩定性與收斂性。 
另外，本研究計畫將廣泛型參數調整法則應用到
一個有趣且重要的應用問題上，也就是機械手臂的反
覆學習控制設計。雖然在機械手臂的反覆學習控制已
經是一個研究多時的課題，但是基於我們所發展出來
的新概念，重新再檢視這個問題卻有很意外的收穫。
首先本計畫提出一個單參數的反覆學習控制架構(one 
parameter iterative learning control structure)，解決一般
機械手臂控制器控制參數過多的傳統問題，前面說
過，控制參數過多對反覆學習控制來說是一個很糟糕
的致命傷，因此如何解決機械手臂控制器控制參數過
多，本身已經是反覆學習控制一個重要的議題。此外，
引用前述適應反覆學習控制器的轉換理論，本計畫巧
妙地引入廣泛型的參數調整法則，使得記憶體的需求
更進一步地減少。這讓前述理論在實際應用上有一個
很好的範例，以證實計畫的理論與應用之雙重價值。 
   除此基本理論的分析與研究之外，本計畫透過大量
的電腦模擬來做理論驗證。最後，把這個研究的部分
成果轉換應用到一些電路設計應用的問題，除了進一
步證明這個研究計畫的擴展性及應用深度，更可以讓
參與的研究生在實際電子應用上學的重要的相關技
術。 
三、研究方法與理論成果 
3-1：受控問題的基本觀念與條件 
本計畫考慮下列廣泛表示的非線性系統，其動態方程
式如下所示： 
),),(),(()( ttutxftx kkk θ=&            (1) 
其中 nk Rtx ∈)( 是狀態向量（它也可廣泛地代表追蹤誤
差）， mk Rtu ∈)( 是輸入控制向量， pR∈θ 是未知的常
數向量， ],0[ Tt ∈ 代表時間變數， +∈ Zk 則代表系統反
覆 學 習 的 次 數 。 非 線 性 函 數 維 度 為
npmn RTRRRf →××× ],0[: ，我們假設若 )(txk 與
)(tuk 是有限的，則 ),),(),(( ttutxf kk θ 也將是有限。基本
上，我們可以將非線性動態方程式(1)視為追蹤誤差動
態方程式，在(1)式中時間函數 t 的存在則是因為參考訊
號通常是時變訊號。在此處特別值得一提的是，上述
非線性系統並不必具備任何特殊的結構，在理論分析
的過程中並不會跟系統的特定結構有任何關係，這跟
目前已經發表的文獻相比較是最不一樣的地方。假設
我們可以設計一個 well-defined 的適應控制器如方程式
(2)所示： 
)),(()(ˆ   ),),(ˆ),(()( ttxhttttxgtu kkkkk == θθ &  (2) 
其中所謂的 well-defined 是指若 )(txk 與 )(ˆ tkθ 是有限
的，則 )),(ˆ),(( tttxg kk θ 與 )),(( ttxh k 也會是有限。針對
這個動態控制器，一個重要的基本要求是可以找到一
個正定函數Φ 以及兩個可微分的正定函數V 和W ，
當 WV ,,Φ 具以下之形式時 
))(~())(())(~),(( tWtxVttx kkkk θθ +=Φ       (3) 
可以使得下列不等式成立， 
)()~()( kkhkf xWLxVL Ξ−≤+=Φ θ&        (4) 
其中 
θθθ −= )(ˆ)(~ tt kk ， fx
VVL
k
f ∂
∂≡ ， hWWL
k
h θ~∂
∂≡  
Ξ為一個正定函數。另外，我們假設 )~( kW θ 可以滿足
下列兩個性質： 
(P1) k
k
k
k
k WW θθ
θ
θ
θ ~
~
)~(
~
)~(
2
∂
∂≤∂
∂ 。 
(P2) k
k
k
kkk
WWW θθ
θθθθ ~ )
~()()~()~( 1 ∂
∂+Ω−≤− − ， 其 中
 4
限的。現在考慮非線性系統(1)，若系統執行重複性工
作任務，則適應反覆學習控制器(5)可獲致以下的結果： 
(a) 當 )1,0[∈γ 時， 
],0[,,)(),(~),( TtZkLtuttx ekkk ∈∀∈∀∈ +∞θ  
],0[,0)(lim Tttxkk ∈∀=∞→ 。 
(b) 當 1=γ 時， 
],0[,,)(),(~,)( 2 TtZkLtutLtx ekkek ∈∀∈∀∈∈ +∞ θ  
0))((lim
0
=Ξ∫∞→
T
kk
dx ττ  
另外，當 0)0( =kx 時可得 
],0[,0)(lim Tttxkk ∈∀=∞→ 。 
證明：首先我們先簡單討論(a)的狀況。 
(a) 當 )1,0[∈γ 時，考慮下列的正定函數
)~()1()()~,( kkkk WxVx θγθ −+=Ψ  
為了簡單起見，下面用 )(),(),( tWtVt kkkΨ 來分別代表
)~(),(),~,( kkkk WxVx θθΨ 。則 )(tkΨ 的微分將滿足 
)~~(~)ˆˆ(~
)ˆˆ(~)(
)ˆˆ(~)()(
)(ˆ~)1()()(
11
1
1
−−
−
−
−∂
∂−=−∂
∂−≤
+−∂
∂+Ξ−≤
+−∂
∂++=
∂
∂−+=Ψ
kk
k
k
kk
k
k
kk
k
k
k
kk
k
k
khkf
k
k
k
kfk
WW
Wx
WtWLtVL
tWtVLt
θθθγθθθγ
θγθγθ
θγθγθ
θθγ
&&
 
利用性質(P1)以及 Young’s inequality 
2
1
2
1
~
4
1
~
~
~ −− +∂
∂≤∂
∂
k
k
k
k
k
k WW θθθθ  
上述不等式可進一步簡化為 
2
1
2
1
2
~
4
~
4~
~
~)( −− ≤+∂
∂+∂
∂−≤Ψ kk
k
k
k
k
k
k
WWt θγθγθγθθγ
&   (7) 
因為 )(ˆ)0(ˆ ,0)(ˆ 101 Tt −− == θθθ ，所以 )(~),(),( 000 ttxt θΨ 在
],0[ T 之間都是有限的。接著我們考慮另一個正定函數
∫+Ψ=Ψ T kkk dWtt 0 )()()( ττγ ，其差值滿足 
))()0()(1(  
)()0()())((
))()((  
)(ˆ~)1()(  
)0()1()0()()1()(
))()((  
))()()(1()()(
))()(()()()(
1
1
00
0
1
0
11
0
1
11
0
11
tWW
tVVddx
dWW
d
W
VL
WVtWtV
dWW
tWtWtVtV
dWWttt
kk
kk
t
k
t
k
t
kk
t
k
k
k
kf
kkkk
t
kk
kkkk
t
kkkkk
−
−
−
−−
−
−−
−−
−−+
−+Ω−Ξ−≤
−+
⎟⎟⎠
⎞
⎜⎜⎝
⎛
∂
∂−++
−++−−−=
−+
−−+−=
−+Ψ−Ψ=ΨΔ
∫∫
∫
∫
∫
∫
γ
τθγττ
τττγ
ττθθγτ
γγ
τττγ
γ
τττγ
&  
因為 0)0( =kV 或 )()0( 1 TVV kk −= 以及 )()0( 1 TWW kk −= ，
所以 
0))(())(()(
00
≤Ω−Ξ−≤ΨΔ ∫∫ T kT kk ddxT ττθγττ     (8) 
因為 )(0 TΨ 是有限的，因此 +∈∀Ψ ZkTk ),( 也是有限
的，當然這也代表 ∫Ψ T kk dWT  0 )(),( ττ 是有限的，亦即
∫ T k d 0 ||)(~|| ττθ 是有限的。根據不等式(7)的結果，可以
進一步分析以下兩種狀況： 
Case 1 : 當 )()0( 1 TVV kk −= ， 
∫∫ −−− +Ψ≤+Ψ≤Ψ T kkt kkk dTdt
0
2
11
0
2
1
~
4
)(~
4
)0()( τθγτθγ  
Case 2 : 當 0)0( =kV ， 
∫ −− +−≤Ψ T kkk dTWt
0
2
11
~
4
)()1()( τθγγ 。 
所以不論是 case 1 或 case 2， +∈∀Ψ Zktk ),( 是有限的。
而 這 就 可 以 得 到 第 一 個 重 要 的 結 果 是 ),(txk  
],0[,,)(),(~ TtZkLtut ekk ∈∀∈∀∈ +∞θ 。現在再根據不等
式(8)，我們可以證得： 
∑∫∑∫
∑
==
=
Ω−Ξ−Ψ≤
ΨΔ+Ψ=Ψ
k
j
T
j
k
j
T
jk
k
j
jkk
ddx
TT
1 01 0
1
))(())(()0(
)()0()(
ττθγττ
 
因此可得： 
 6
 
圖 2：每次學習的估測參數最大誤差與學習次數的關係 
我們可以清楚發現 1<γ 的狀況參數估測誤差
)(~ tkθ 將隨著學習次數 k 而漸進收斂到零，這意味著適
應控制器愈接近希望的控制器，也因此學習誤差收斂
的速度愈快。但是可惜的是 1=γ 的時候並沒有這個現
象出現。為了這個結果以下我們進一步把 1=γ 在第三
十次的學習時之估測參數軌跡顯示在圖 3 所示： 
 
圖 3： 1=γ 在第三十次的學習時之估測參數軌跡 
果然並沒有與真正的系統參數 1=θ 完全貼近，且最大
誤差為 1。檢討其可能的原因是因為這個範例剛好是一
個一階的簡單系統，而且系統參數又剛好只有一個，
加上希望追蹤的軌跡為 )2sin()( ttxd π= ，所以可能足夠
符合適應控制持續激發的條件，估測參數有機會收斂
至實際的參數。但是 1=γ 的參數調整法則並沒有積分
特性，或許是這個原因使得其估測參數無法收斂至θ 。
但是在其它的例子中因為控制參數通常是兩個以上，
而希望的追蹤軌跡頻譜並沒有達到持續激發的條件，
所以在這個部分的優勢沒有發揮出來。 
 
3-5：機械手臂重複控制的適應反覆學習控制器 
我們考慮下列的 n 自由度剛性機械手臂系統： 
)()(                                                    
))(()())(),(()())((
tdt
tqGtqtqtqCtqtqM
kk
kkkkkk
+=
++
τ
&&&&
 
其中 ],0[ Tt∈ 代表時間變數， +∈ Zk 代表學習次數，
)(tkτ 為控制力矩向量， )(tdk 則為未知的外界干擾向
量。令 )(),(),( tqtqtq ddd &&& 分別為希望追蹤軌跡的位置、
速度與加速度訊號，我們假設每次反覆控制的初始位
置 誤 差 以 及 初 始 速 度 誤 差 為 零 ， 亦 即
0)0()0()0(~ =−= kdk qqq , 0)0()0()0(~ =−= kdk qqq &&& 。當
然根據基本的機械手臂物理特性可知， 
)(),( tqkqqC kckk && ≤ ， 
gk kqG ≤)( ， 
mddk ktqqM ≤)()( && ， 
其中 mdgc kkk ,, 為未知的正常數。另外對於外界干擾向
量我們假設 dk ktd ≤)( ，其中 dk 為未知的正常數。為
了說明控制器的推導動機，以下本計畫先說明幾個重
要特性。首先定義推廣追蹤誤差(extended tracking error)
為 0 ),(~)(~)( >+= atqatqts kkk & ， 則 
⎟⎟⎠
⎞
⎜⎜⎝
⎛
++
−−++=
+
⎟⎟⎠
⎞
⎜⎜⎝
⎛
++−−
+++−=
+
⎟⎟⎠
⎞
⎜⎜⎝
⎛
++−−
+=
++−=
++=
+=
−
)~)((
))()~)(,(
)(
2
1  
)~)((
)()~)(,(),(
)(
2
1  
~)
)(),()((
)(
)(
2
1)~)((
)(
2
1)~~)((
)(
2
1)(
)(
2
1
1
kdk
kkkkdkkT
k
kk
T
k
kdkkk
kkdkkkkkT
k
kk
T
k
kdkk
kkkkk
k
T
k
kk
T
kkkdk
T
k
kk
T
kkkk
T
k
kk
T
kkk
T
k
kk
T
k
qaqqM
dqGqaqqqC
s
sqMs
qaqqMd
qGqaqqqCsqqC
s
sqMs
qaqd
qGqqqCqM
qMs
sqMsqaqqqMs
sqMsqaqqMs
sqMssqMs
sqMs
dt
d
&&&
&&
&
&&&
&&&
&
&&&
&&
&&&&&&
&&&&
&&
τ
τ
τ
(11) 
因為 kkk dqGqM ),(),( 是有限(bounded)，而且 
||)~||1(||)~||||(||||||),( kcckdckckk qkqqkqkqqC &&&&& +≤+≤≤
所以存在四個正常數 4,3,2,1, =iiθ ，使得 
 8
(14)的結果可得： 
kkkkk
T
kk qqsKssU θη ~)~,~(|||| && −−≤  
將上式從 0 到T 做積分可得 
∫∫ −−≤− T kkkkT kTkkk dtqqsdtKssUTU
00
~)~,~(||||)0()( θη &  
因為 0)0( =kU ，所以上式可進一步改寫為 
∫∫ −−≤ T kTkkT kkkk dtKssTUdtqqs
00
)(~)~,~(|||| θη &     (16) 
將(16)式代入(15)式，可得 
[ ]
0)(
~~
2
)(
)()()(
0
0
2 
1
0
1
≤−−≤
−−−−≤
−=Δ
∫
∫∫ −
−
T
k
T
kk
T
kk
T
k
T
kk
kkk
dtKssTU
dtdtKssTU
TWTWTW
θθβ
γ  
因此 ∫ T kkk dtTTW  0 22 ~),(~),( θθ 都可以推得是有限的。此外， 
)()()( )( 11
0
TWTWTWdtKssTU kk
T
k
T
kk ≤−≤+ −∫  
所以可以推得以下結果： 
∫ === ∞→∞→∞→
T
k
T
kkkkkk
dtKssTsTU
0
0lim)(lim)(lim  
Theorem :根據 Proposition 1 Proposition 2 的結果，我
們可以證明所有內部訊號都是有限的，且
],0[,0)(~lim)(~lim)(lim Tttqtqts kkkkkk ∈∀=== ∞→∞→∞→ & 。 
證明：再考慮 Lyapunov-like positive definite function 
)(~
2
1)()()(
2
1)( 2 ttsqMtstV kkk
T
kk θβ
γ−+= ，因為 )(tVk& 滿足
)(~
4
)( 2 1 ttV kk −≤ θβ
γ& ，所以從 0 到T 做積分可得 
∫∫ −− +≤′′+≤ T kkt kkk dttVtdtVtV
0
2
1
0
2
1 )(
~
4
)0()(~
4
)0()( θβ
γθβ
γ  
因為 )(~
2
1)0(~
2
1)0( 2 1
2 TV kkk −
−=−= θβ
γθβ
γ 而且 
∫ −T k dtt
0
2
1 )(
~
4
θβ
γ 是有限的，所以 )(~),(~),(),( tqtqtstV kkkk & , 
)(),(~ tt kk τθ 都能是有限的。除此之外，因為 )(tsk& 也是有
限的，所以可得 ],0[)(),( TLtsts ekk ∞∈& 且 
∫ =∞→ T kTkk dttsts 0 0)()(lim ，根據 barbalats’s lemma，即推得 
0)(~lim ,0)(~lim ,0)(lim === ∞→∞→∞→ tqtqts kkkkkk &  
3-5：硬體實驗說明 
為實現及驗證本計畫所提出之控制理論，我們除
了利用 MATALB 將所有控制法則做電腦模擬之外，也
分別以其它軟體及硬體描述語言(VHDL)來實做設計。
硬體部分使用 Altera 公司的 Nios 開發套件，加上
National Instruments 的數位訊號出入模組，透過個人電
腦的 PCI 介面來作程式及命令的下載以及狀態的監
控。而在軟體的部分我們將控制法則中較複雜的數學
運算部分以 C 語言於 Altera Cyclone FPGA 中的 Nios 
32-bit processor 上開發，主要是撰寫容易，且可藉助其
運算能力以提升控制效能。而為了節省寶貴的程式記
憶體，其餘控制法則及訊號的疊代、編解碼處理，則
利用 VHDL硬體描述語言將電路實現在 Cyclone FPGA
中的可程式區塊，而個人電腦端則利用 MATLAB 作為
使用者介面。就 Altera Nios 開發套件而言，目前嵌入
式系統已被應用於不同的工業控制上，其套件核心由
一顆 Altera Cyclone EP1C20 的 FPGA 搭配一顆 Altera 
Nios 軟體核心的嵌入式處理器，可同時將軟體控制程
式及硬體控制電路予以整合。其中，我們的控制程式
事先下載於一顆 Flash ROM 中，其餘的控制電路則實
現於 Cyclone FPGA 的可程式區，當開機後，控制程式
透過 Nios CPU 下載至 SRAM 中執行，並透過介面程式
與控制電路溝通，如此來完成整個控制行為。 
四、結論與討論： 
本研究專題計畫提出一個新理論，探討適應反覆
學習控制與傳統時域適應控制之間的關係，主要貢獻
在於證明適應控制系統若能滿足某些特定的關係，只
要在參數調整法則方面做適當的局部改變，則該適應
控制器就可以轉換成適應反覆學習控制器。除此之
外，也進一步瞭解參數調整法則在兩個問題轉換上所
扮演的角色，以及持續激發條件在適應反覆學習控制
上對控制參數的收斂以及誤差的收斂速度的關係。為
了擴展本計畫理論的應用性，本計畫將前述概念延伸
至複雜的多輸入多輸出機械手臂反覆學習控制的課題
上，並提出一個新的單參數控制架構，進一步在反覆
學習控制的領域上獲致一些新的研究成果。本計畫在
理論研究部份有完整之結果，並利用電腦模擬驗證。
行政院國家科學委員會補助國內專家學者出席國際學術會議報告 
                                                          98 年 1 月 30 日 
報告人姓名 簡 江 儒 服務機構及職稱 
華梵大學電子系 
教授 
會議時間 
會議地點 
2008 年 12 月 17 日至 19 日
越南河內 
本會核定
補助文號
 
 
會議 
名稱 
 (中文) 2008 年第 10 屆國際控制、自動化、機械人與視覺會議 
 (英文) 2008 10th International Conference on Control, Automation, Robotic &Vision
發表 
論文 
題目 
 (中文) 非線性系統的加強式模糊類類神經網路反覆學習控制器 
 (英文) Reinforcement Fuzzy-Neural Adaptive Iterative Learning Control for 
Nonlinear Systems 
報告內容應包括下列各項： 
一、參加會議經過 
本人於 2008 年 12 月 17 日至 12 月 19 日至越南河內參加 2008 年第 10 屆國際控制、
自動化、機械人與視覺會議(2008 10th International Conference on Control, Automation, Robotic 
& Vision)，發表一篇邀請全篇論文(invited full paper)，並擔任該場次的共同主持人
(Co-chair)。2008 年第 10 屆國際控制、自動化、機械人與視覺會議於 2008 年 12 月 17
日至 12 月 19 日共三天在越南河內舉行，報告人於 12 月 17 日早上 9：30 搭乘長榮航空
由中正機場出發，直接飛抵越南河內國際機場，飛抵河內已經接近中午時刻。隨即再搭
乘大會安排的車子趕往會場旅館報到。越南河內還是個不算很先進的國家與都市，基本
建設仍是有一點落伍，而且交通混亂，的確讓生長在台灣的人有很不一樣的感覺。不過
能有機會到共產國家的越南參觀，也算不需此行。到了旅館安頓之後，隨即到大會報到
處報到註冊。由於報告人目前身兼華梵大學主任秘書，因此公務非常繁重，不得已 12
月 17 日中午才飛抵越南，大會已經進行半天了。吃完午餐，立即參加會議議程，聽了
兩場的論文報告，傍晚才結束本日議程。晚上自己到飯店附近逛逛，並找家小餐館吃晚
餐，餐館中恰有一位來自大陸的學者，與該學者同桌吃飯，並暢談一些有趣話題，相談
甚歡。 
次日繼續參加會議討論，聆聽一早的專題演講外，也準備本人在早上的論文發表。
本次報告人論文發表場次為反覆學習控制的邀請場次(invited session)，正是本人研究的
主要領域，因此借此機會參與討論，可以獲得許多寶貴的經驗與回饋。本人擔任本場次
的共同主持人，主持人為一個年輕的韓國學者，我們兩人彼此並沒有見過面，但都讀過
對方的論文，在會場上一碰面就相見如故。韓國學者主持前半部的論文發表，本人則主
持後半部的論文發表。至於本人的論文發表非常順利，在場學者也給各論文許多精闢的
見解與建議，是一個非常成功的發表場次。中午就與數位韓國學者共進午餐，下午再繼
續聆聽其他論文場次的發表與討論。本日晚上為大會晚宴，本人依然與早上認識的韓國
 
