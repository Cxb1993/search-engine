I 
 
一、 中英文摘要 
中文摘要 
將資通訊技術（ICT）引入智慧型交通系統（ITS）是當前全球車載資通訊（Telematics）
的發展趨勢，整體而言，其目標為應用先進電子、通信、資訊與感測等技術，整合人、路、
車的管理策略，在增進運輸系統的安全、節能與效率，以及舒適性的同時，也減少交通對
環境的衝擊。其中，提昇行車效率是相當重要的研究議題，其標的為改善運輸效率降低交
通擁擠、提高能源使用效率、降低環境衝擊與提高運輸機動性。為了達到上述標的，智慧
型交通系統中必須提供路徑導航、交通流量偵測與管控、車隊追蹤與管理等機制。然而，
現階段的機制多半透過固定的基礎網路進行控制，其控制方法較無彈性，且不能隨著環境
的動態變化而即時調變，因此無法達到節能與安全應變的最佳效果。 
本子計畫以V2V與V2I異質整合之車載網路架構為基礎，探討提昇行車效率達到節能效
益的相關研究議題。在本年度我們運用車載網路V2I的即時訊息交換，在Android平台上建
置一個互動式交通資訊系統，此系統結合了交通、生活及娛樂相關資訊可提供使用者多元
的交通資訊。此外，我們也提出了一個降低緊急訊息傳送的時間的方法，在一個緊急事件
發生的時候，車輛可以透過V2V的方式快速的將訊息散佈在車群之中，可以讓附近和遠方
的車輛獲悉相關的資訊進而做適當的反應。而在ITS系統裡面，導航的服務一直是每個使用
者必需的服務，所以我們利用V2V和V2I的車載網路架構在Android平台上建置一個具即時
交通資訊的導引系統。 
關鍵字：節能，導航，智慧型交通系統，全球車載資通訊，異質整合之車載網路架構 
III 
 
目錄 
目錄   ....................................................................................................................................... III
圖表目錄   ........................................................................................................................................ IV
二、報告內容   .................................................................................................................................. 1
(一)前言   ................................................................................................................................... 1
(二)研究目的   ........................................................................................................................... 2
(三)文獻探討   ........................................................................................................................... 2
I.國內外相關計畫   .......................................................................................................... 2
II.相關標準   .................................................................................................................... 3
III.相關研究   .................................................................................................................. 5
(四)研究方法   ........................................................................................................................... 6
1.互動式交通資訊系統   ................................................................................................... 6
1.1系統架構   ............................................................................................................ 7
1.2 Android UI   ......................................................................................................... 7
1.3 Android核心   ....................................................................................................... 9
1.4 Socket Server   ................................................................................................... 11
1.5 Web Server及Database Server   ......................................................................... 12
1.6 操作流程   ......................................................................................................... 14
2.低延遲緊急訊息傳遞之方法   ..................................................................................... 16
(五)結果與討論   ..................................................................................................................... 18
參考文獻   ............................................................................................................................... 20
1 
 
二、報告內容 
(一)前言 
智慧型交通系統（ITS）近年來為全球關注的重要公共議題，尤其在具龐大汽車工業的
歐、美、日國家中，汽車製造業者與政府皆已投入大量的研發人力與經費，開發智慧型車
輛技術與提昇行車安全及效率的交通管理系統。而伴隨著資通訊技術（ICT）產業的成熟，
將其引入智慧型交通系統是一項重大的發展趨勢。車載資通訊（Telematics）一詞，被用來
表示運用資訊與通訊技術，透過車間（Vehicle-to-Vehicle, V2V）以及車輛與路邊資訊設備
間（Vehicle-to-Infrastructure, V2I）各種即時與非即時資訊交換，達到建立智慧型交通系統
的一門研究，當中亦包含了GPS 衛星定位系統與地圖資訊系統（Geographic Information 
System, GIS）的整合運用。整體而言，車載資通訊的發展目標為應用先進電子、通信、資
訊與感測等技術，整合人、路、車的管理策略，在增進運輸系統的安全、節能與效率，以
及舒適性的同時，也減少交通對環境的衝擊。 
車載資通訊領域目前受到最多討論的主題以行車效率與行車安全兩大方面，其標的如
改善運輸效率降低交通擁擠、提高能源使用效率、降低環境衝擊、提高運輸機動性、減少
交通事故，以及提昇行車安全等。為了達到上述標的，智慧型交通系統中必須提供路徑導
航、交通流量偵測與管控、車隊追蹤與管理、交通障礙警示、車輛碰撞預警等機制。而這
些機制的核心技術領域則涵蓋了無線通訊、資訊計算（人工智慧）、智慧車輛、感測技術、
甚至影像處理等。正因如此，全球各國產官學界皆積極投入研發能量在車載資通訊領域的
技術研究、應用規劃與標準制訂。 
 
圖一、V2V與 V2I異質整合網路架構圖。 
在車載資通訊的網路架構中，裝置於車輛上的設備稱為車載裝置（OBU），而架設於
道路上的資訊設備稱為路邊裝置（RSU）。而近年來已有相當多車間隨意網路（VANET）
的研究，其所涵蓋的為短程和中程的通訊範圍。VANET的特性可規納為動態的拓樸、移動
性的模組、較佳能量支援與區域性。由於車輛具有高速移動的特性，造成網路拓樸的時常
3 
 
 改善運輸效率降低交通擁擠，提高運輸機動性 
 提昇經濟生產力（促進相關產業發展，增加就業機會） 
2. 歐洲 
歐洲除了各國自行推動的ITS計畫外[3-4]，也建置了歐洲跨國的組織以共同研發與推動
車載資通訊產業，例如在2002年即成立的eSafety forum[5]，提出以建立智慧型行車安全系
統為目標，並在數年間成立了多個工作小組，包含WG on Communications、Implementation 
Road MapWG、ICT for Clean MobilityWG、與eSafty Security WG 等。2005年，由European 
Commission（EC）主導成立了i2010 Intelligent Car Initiative，其遠景為推動結合ICT產業建
立更智慧、更安全與更環保的車輛。EC所提出的CVIS（Cooperative Vehicle-Infrastructure 
Systems）計畫[6]，其目標為來整合歐洲各國ITS 的研發能量。CVIS同樣以行車安全及行
車效率為主要考量，並提出透過V2V及V2I的協同運作來建立智慧型交通系統。其關鍵為強
調利用V2V及V2I間傳遞的資訊，將目前單一車輛內建的自主性ITS系統，例如智慧行車安
全系統、行車輔助系統、以及現行被動式的交通管理系統，擴展成為整合V2V與V2I協同式
系統。 
3. 美國 
美國ITS協會（簡稱ITSA）[7]設立於1991 年，專為定義ITS的相關標準。ITSA主要致
力於發展有關於安全及車載相關應用，其通訊標準採用專屬短距通訊（DSRC）進行V2V與
V2I。其主要架構定義於Vehicle Infrastructure Integration（VII）[8]內，在VII的主要目標有：
安全、行動及電子商務。此外，美國的聯邦通訊委員會（Federal Communications Commission, 
FCC）特別將5.9GHz頻譜中的75MHz頻寬，分配給車用系統來使用，此項通訊技術被稱為
專用短距離通訊（Dedicated Short Range Communication, DSRC）[9]。 
4. 日本 
ITS Japan [10-11]於1996 年七月正式成立運作，此之前已針對先進資訊與通訊社群
（Advanced Information Telecommunications Society），對道路、交通和車輛定義了政府的
基本規範，並且開始將這一些規範應用在建置ITS 的架構上。ITS Japan以促進安全、促進
交通順暢、與改善環境為目的，提出下列標的：減少交通事故、減緩事故傷害、避免二次
事故、改善運輸效率、改善交通工具利用率、管理交通需求、減少交通擁塞與減少污染。 
II.相關標準 
目前車載資通訊的相關標準制定的運作，主要包括IEEE 802.11p [12]與IEEE P1609 [13-16]
系列。由IEEE所提出之WAVE（Wireless Access in the Vehicular Environment）系列標準，
除了包含 802.11p與 P1609外，也納入了專屬短距通訊（ Dedicated Short Range 
Communication，DSRC）的相關標準，其關係圖如圖二所示。 
5 
 
 
圖四、IEEE 802.11p 與 IEEE 1609 協定系列關係圖。 
IEEE1609 包括四個部份，目前所有的技術內容已經都審核通過，進入測試使用的階段。 
 IEEE1609.1是處理許多同時的資料流，記憶體管理與其他資源。 
 IEEE1609.2定義通訊協定的安全性，確保通訊不被旁聽，干擾與其他的攻擊行為。 
 IEEE1609.3是WAVE網路服務與通訊協定，此網路將建構在802.11p的無線網路基礎。 
 IEEE1609.4是作管理頻道，與服務頻道的管理。 
III.相關研究 
在此本子計畫考慮一個VANET 中，車輛之間常用的一個互相通訊的方式：廣播
(broadcast)。藉由廣播，一台特定車輛可以快速的傳送訊息給所有涵蓋在其通訊半徑內的車
輛，收到訊息的車輛同樣也可以用廣播的方式，把訊息再廣播出去以傳遞訊息給更遠的車
輛，不過要是每輛車都不加限制的使用廣播來傳遞訊息的話，就會造成一個嚴重的問題： 
Broadcast storm problem，所以如果能提供一個機制來有效的使用廣播，讓訊息可以有效的
傳遞且又抑制重新廣播的次數，這樣就可以在滿足車輛互相通訊的前提下，又達到訊息減
量的目的。針對改進廣播的效率上已有許多方法被提出，目的都是減少廣播的次數，大概
的精神都是希望由傳輸半徑範圍內的車輛中選一個離訊息來源車輛(source node)最遠的當
作轉傳的車輛(relay node)。此處我們先提出關於車間廣播的兩個相關作法，分別為Smart 
Broadcast (SB)與Delay-bounded Greedy Forwarding。 
(1) Smart Broadcast (SB) 
已知方法[17]裡面就有提到一個Urban Multi-hop broadcast (UMB)，方法是訊息來源車
輛先發一個Request-to-broadcast(RTB)封包，鄰近車輛收到後，各自計算與訊息來源車輛的
距離，根據計算得到的距離來發一個干擾訊號(jamming signal)，越遠的車輛所發出的干擾
訊號的時間越長，再藉由車輛傾聽(overhearing)的特性，就可以得到傳輸半徑範圍內最遠的
車輛。但是這方法的缺點是選出的轉傳的車輛要發最長時間的干擾訊號，會增加轉傳的時
間延遲(retransmitting delay)，且距離相近的車輛可能會幾乎相近長度的干擾訊號導致沒有轉
傳的車輛產生。已知方法[18]的假設跟UMB一樣，所有車輛都已知自己的位置，訊息來源
車輛發的RTB封包裡包含了區段寬度(sector width)，訊息傳遞方向(message propagation 
direction)，競爭時間長度大小(contention window size)，已知方法把道路分成許多區段，藉
由計算相對距離去除以區段寬度，車輛可以知道自己處在哪個區段，如圖七所示，每個區
段都有各自的隨機回退時間(random backoff time)。因為SB每次所選來做重新廣播的車輛，
7 
 
道路的平均車速，提供給駕駛者道路壅塞程度資訊，當前方路段平均車速很低時，代
表塞車很嚴重，此時駕駛者可以透過此資訊盡早尋找替換道路。 
5. 道路資訊：道路施工往往造成車輛流動變慢，尤其在尖峰時間常常是導致嚴重塞車問
題的主因，由於一般駕駛人不會天天記住哪些路段正在施工，一些短期工程一般人也
未必知道，若能由系統由 Central Server回報道路施工狀況，讓駕駛人提早改道，應可
避免一些不必要的道路阻塞。因此，本應用程式將顯示道路施工路段，透過網路傳輸
技術，讓駕駛可以盡早得知道路施工狀況並找尋替代道路。 
本應用程式含上述五大功能讓駕駛者可以即時獲得資訊，以達到安全、節能目標。針
對於無法使用手持裝置上網的的使用者，我們透過Web網頁讓這些人可以透過瀏覽器查詢
最新資訊而相關店家也可以在此發佈訊息。綜合上述各項分析，本子計畫開發之軟體將適
合應用在生活之中提供快速、方便之訊息。 
1.1系統架構 
本系統架構主要分作四個部分，如圖五，分別是使用者（client，Android phone）、socket 
server、web server、database server，client會與 socket server連線，並請求需要的資料，當
socket server收到請求後，則向 database server請求資料，接著回傳給 client；web server除
了可向 database server請求資料外，可對 database做新增、修改、刪除的動作，主要定位在
於讓業者或管理人員，可管理自己的資訊。以下我們將整個專題分作幾個部分個別講解。 
Android Phone Web Server
(Management)
Socket Server
Database Server
Client
 
圖五、互動式交通資訊系統架構圖。 
1.2 Android UI 
Android 將介面設計跟程式設計分開成兩部分，程式部分是用 JAVA的語法[29]，介面
設計則是利用 xml語法達成。xml語法所使用到的元件，也可以在程式中用 JAVA語法作進
一步的控制，可以依照程式中不同的需求，對各種元件作不同的處理。Android SDK 中定
義了很多不同的元件，xml 的語法與一般的 xml 並沒有不同的地方，因此在介面設計上滿
自由的。 
在設計使用者介面的時候，我們參考 HTC最近出的 Tattoo手機中一款悠遊卡程式以及
其他 HTC Hero原本附的程式[20]，主要是想維持使用者介面的一貫性，因為對於手機的使
用者來說，已經使用裡面的程式一段時間了，使用者已經習慣於這樣的操作模式，如果設
計出的界面能夠符合原本的操作模式，對於使用者來說使用起來會比較直覺，程式使用起
9 
 
上圖為詳細的資訊，使用者可以從中得到更多的資訊，可以透過 back這個按鈕回到原本的
地圖顯示模式。 
還有另外一個服務要特別說明的，是交通資訊。我們以不同的顏色表示道路現在的車
流狀況，總共有 3種顏色，紅色表示車速緩慢，平均車速為 0~20 km/hr，藍色代表車速正
常，平均車速為 21~50 km/hr，綠色為車速良好，平均車速為 51 km/hr以上。如圖八。 
 
圖八、交通資訊介面圖。 
1.3 Android核心 
Android的核心主要在處理(1)使用者按下按鈕的事件、(2)向 socket server請求與接收資
料以及(3)定期更新畫面上的資訊這三件事情。圖九為 android 核心的流程圖，從開啟程式
後，分為兩部分在進行，一個是利用 GPS定期的更新此手機所在的位置，另外一個則是當
使用者按下按鈕時，所提供的相對應服務。 
 
 
圖九、Android核心流程圖。 
首先說明定位流程，當程式開啟後，會呼叫 API[28]，取得目前手機的所在位置，將此
程式進入點 
使用者按下服務按鈕 定期更新 GPS位置 
顯示各服務的相關資訊 
服務詳細資訊 
11 
 
線時，就無法沿著路段畫線，所以改用其他的方式，另外一個方式的核心概念則是將一個
路段分成許多細小的路段，這些路段都是直線，故只要取得所有的小直線路段，利用畫直
線的 API即可，關於如何取得這些小直線的路段，後續會再說明[27]。下表就是 traffic jam 
mode 2的封包格式，與前面服務不一樣的是，需傳送起點以及終點。至於第二張表則是 traffic 
jam定時更新車速的封包格式。 
Service Mode (2) Src-Latitude Src-Longitude Des-Latitude Des-Longitude 
 
Service ID Mode ID(3) 
以一個簡單的例子，來說明本程式運作的流程。本程式開啟後，進入初始狀態，首先
定位出手機的所在位置，並在地圖上標記所在處，當使用者點選”停車場資訊”按鈕後，此
時會與 socket server建立連線，傳送 service ID與 mode ID(1)，socket server會回傳所有停
車場的數量及個別位置，client端收到後，會將這些停車場的位置標記在地圖上，完成第一
次的傳輸。當使用者點選其中一個停車場的圖示後，client端會傳送 service ID、mode ID(2)
及停車場的經緯度給 socket server，同時跳到詳細資訊的頁面，socket server收到後，利用
經緯度向 database server查詢此位置停車場的詳細資料，如：名稱、車位數…等等，並回傳
給 client端，client端收到後將資訊顯示在畫面中，完成第二次的傳輸。以上即為程式大致
上的流程。 
此外，traffic jam服務與其他服務不大相同的地方在於取得資料不一樣，traffic jam在
mode 2取得是在一段大路線中，被切割的所有直線小路段的起點與終點，取完後，才可讓
道路顯示顏色，道路的顏色代表道路的壅塞狀況，0~20km/h為紅色，21~50km/h為藍色，
>51km/h為綠色。 
1.4 Socket Server 
Socket server主要的功用在於服務各個 client以及向 database server[23]取得資料。Server
端的封包格式如下兩表，第一張表是給除了 traffic jam以外的服務使用，當 client請求 mode 
1的資料時，server端會先送一個 numbers給 client端，這個 numbers代表著接下來會有幾
筆的資料要傳送，若不告知 client端的話，無法完整的溝通，傳完 numbers後，再來傳各個
服務的經緯度。第二張表則是用於 traffic jam服務，因為 traffic jam畫路段需要起點跟終點，
而非單一一個點。 
Number + Latitude Longitude x Number 
 
Number + Src-Latitude Src-Longitude Des-Latitude Des-Longitude x Number 
至於下表則為 mode 2時所要傳送的封包格式，以停車場為例，需要傳送名稱、地址、
總車位數、空位數以及費用，其他服務大致上大同小異，詳細的欄位屬性將在第四點會多
做說明。而 mode 3的話則是回傳所有車道的速度給 client端，client端會拿收到的速度跟之
前的速度作比較，如果有改變的話才會更新道路顏色。 
13 
 
Shop promotion information 
Name Longitude Latitude Tel. Add. Prom. Hit 
String Int Int String String String String 
 道路施工資訊 
主要包含道路施工名稱、所在經度緯度、施工內容、開始施工時間和結束施工時間，
各欄位資料型態如下圖： 
Construction information 
Name Longitude Latitude Content Start End 
String Int Int String String String 
 交通壅塞資訊 
主要包含路段兩端經度緯度和路段車速，各欄位資料型態如下圖： 
Traffic jam information 
Number  Src-Longitude Src-Latitude Des-Longitude Des-Latitude Speed 
Int Int Int Int Int Int 
Web Server：PHP + Javascript[22][24] 
網頁架構，如圖十一、網頁服務介面。，主要分為三部份： 
 第一區塊為網頁名稱和功能選單。 
功能選單寫在 head.php檔之中，其他網頁透過呼叫 head.php，當之後要在選單中新增其他
功能，或把舊有功能刪除，只需要編輯 head.php即可。另外每一個程式都會呼叫
connect.php，讓網頁與資料庫作聯繫，如此一來，我們可以將資料庫的資料顯示在網頁上。 
 第二區塊為文字資訊部份 
第二部份為文字資訊，根據使用者的操作，顯示不同的文字資訊。若點選新增功能，
在此區塊填入資料做新增動作，其資料也會被寫進到資料庫。若點選刪除功能，在此區塊
選擇刪除項目，其資料庫相對應的資料會刪除。若使用者點選各項目，在此區塊即可看到
更詳細資料。 
 
圖十一、網頁服務介面。 
15 
 
 商店詳細資訊 
在上圖中，點選全家便利商店的圖
示後，可以清楚看到店家的店名、地
址、座標、電話、促銷商品以及人氣商
品，按下”back”鍵可以回到服務選取的
頁面。 
 
 交通壅塞路況 
在地圖上可以看到附近道路的路
況，紅色代表壅塞，藍色代表普通，綠
色代表順暢，而兩顆球代表著紅綠燈。 
 
 離開程式 
17 
 
間當作其回退時間， 位在區間 S2的節點，會在W2 = {cw,cw+1,…,2cw-1 }, 這段時間區間
內隨機選取一個時間當作其回退時間，這樣的機制可以保證離來源端越遠的節點車輛可以
越早結束其回退時間，且不同區間的車輛其回退時間不會重疊。 
(3)根據 CSMA/CA的機制，回退時間的計時器會隨著 idle slot的增加而遞減，所以只要頻
道是 idle時，各車輛所選出的回退時間之 timer就會遞減。 
(4)當節點車輛的 timer遞減到零時，就會傳送一個 Clear to Be a Partner(CBP)訊息，其夾帶
著自己的 ID和座標，然後退出 contention phase 
(5)其他鄰居節點傾聽到有效的 CBP訊息後，就退出 contention phase，相反的情況，如果收
到的是無法分辨雜訊(可能是碰撞造成的訊號)，則繼續留在 contention phase，timer繼續做
遞減回退時間的步驟。 
(6)當 RFP 源頭節點成功收到 CBP 封包之後，RFP 源頭節點就成功選到了夥伴，整個競爭
階段也到一段落。 
第二階段：夥伴關係的維持和更新 
針對車用網路拓樸變化較大的特性，DRVB讓每個節點每五秒發送一次 beacon(帶有 ID
和位置座標)，且優先選取第二外圈的節點當作夥伴，可以避免選取到的夥伴因為車速較源
頭節點快而過於靠近源頭節點，也避免了夥伴節點車速過慢而脫離了來源節點的通訊範圍
的情況，這可藉由更改前述回退時間區段的公式達成，如圖十二。 
Wr = {(r-1)cw, (r-1)cw+1, . . . , rcw-1}, r = 2, 3, . . .,Ns 
 
圖十二、拓樸變化示意圖。 
RFP 來源節點可藉由檢測夥伴發出的 beacon 檢視兩者是否過於靠近而發起重選夥伴
的步驟( 階段一 (1)至(6) )。 
 
19 
 
全訊息需要傳遞之前已經先找好了適合轉傳安全訊息的車輛節點作為夥伴，透過這個預先
維持好的夥伴關係，在有事件發生時，就可以直接傳遞安全訊息給夥伴，減少了選出轉傳
節點的延遲。 
 下一年度的工作將會有以下幾個主要方向： 
1. 即時道路資訊資料庫，我們將向相關的政府交通部門申請台灣的道路相關資訊（包含
國道及一般道路）並整合於第一年度所完成之互動式交通資訊系統。 
2. 動態路徑規劃：傳統的路徑規劃都是以最短路徑來規劃路徑，而如果所規劃的路徑上
發生了交通狀況或是施工就會造成道路壅塞，而如果有了即時的道路資訊支援，路徑
規劃系統便可以依照目前的交通資訊來動態調整所規劃的路徑，讓駕駛提早避開壅塞
的路段進而達到節能省碳的效果。 
3. 區域式緊急訊息廣播：當道路有事故發生時，車輛可以將事故訊息發送給附近的車輛
告訴其他駕駛使用者有事故發生，並且將訊息廣播出去，但是現階段的作法都是一直
往行車的反方向傳送出去並未考慮到訊息的時間性和區域性。所以在下年度本子計畫
想提出一個基於區域性並考慮時間性的緊急訊息廣播的方法，我們希望把緊急訊息控
制在某個區域大小內，以免訊息散佈到過大的範圍中。 
21 
 
[27] Android教學網誌, http://blog.yslifes.com/archives/447 
[28] Google Map Api, http://code.google.com/intl/zh-TW/apis/maps/index.html 
[29] Java Api, http://java.sun.com/j2se/1.5.0/docs/api/ 
[30] NetbeanIDE, http://netbeans.org/ 
[31] Eclipse IDE, http://www.eclipse.org/ 
