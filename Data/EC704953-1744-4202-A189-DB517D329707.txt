 3
關鍵詞：快速行動性，無線網際網路，品質服務，即時多媒體串流，微行動性，快速交遞，鄰近
圖，不連續掃描，暫時認證，臨時通行憑証，低遲滯交遞。 
 
二、英文摘要 
This project focuses on the investigation of QOS enabling technology under a high mobility wireless 
environment. It targets at smoothly supporting the seamless real-time multimedia streaming. Since the 
traditional Mobile IP protocol defined by IETF is focusing on a large scale and inter-domain mobility, its 
performance regarding the scalability of low latency and efficiency is insufficient to fulfill the 
requirement of managing the frequent and small scale mobility, called micro mobility, therefore many 
protocols focusing on micro mobility have been proposed. These protocols aim at reducing the signaling 
overhead and minimizing the packet delay, as well as packet loss caused by the fast handoff. In addition 
to these problems mentioned above, other issues to be solved in this project include the investigation of 
QOS-provisioning under high mobility environment, this involves the layer 3 packet processing for both 
signaling messages and data packets, signaling protocols for routing update, design of packet forwarding 
mechanism for fast handoff, and study of layer 2 mechanisms on switches regarding QOS related 
schemes under handoff. Further, we will cooperate with other subproject to work on the physical layer 
issues such as to achieve smooth and seamless QOS-enabled wireless mobile services. The project has 
been performed with three objectives: First, the design of IP routing mechanism to support fast handoff, 
this includes the investigation of a more efficient signaling protocol and QOS-capable mechanism inside 
routing equipments; second, location management of mobile hosts, this includes how to use various 
signaling messages to effectively detect, track and update the IP address of a mobile host precisely, so 
that packets can be forwarded efficiently and correctly during fast handoff period; and third, handling of 
the fast handoff, this includes the investigation of handoff characteristics under high mobility, and the 
corresponding signaling exchange infrastructure so that latency and packet loss can be minimized during 
the handoff. We also considered both scalability and performance issues in addition to the three 
objectives described above. We started from the study of existed micro mobility protocols, then we 
compared their pros and cons through system simulation. We performed the simulation regarding the 
QOS evaluation using data traffic with different characteristics. For UDP traffic, we will focus on the 
minimization of packet delay and packet loss during fast handoff; while for TCP traffic, we emphasized 
on the stable throughput during the handoff under high mobility. We realized our proposed approach on 
the network equipment and mobile devices, so that we could build a QOS-enabled wireless Internet 
platform, on which the real-time multimedia streaming traffic could be added on for the experiment and 
system evaluation. We also investigated the fast handoff protocols between various wireless access 
technologies, and make vertical technology integration with other subjects. 
Seamless or fast handoff schemes to support mobility of IEEE 802.11 Wireless LANs have been 
well developed based on the supposition that a set of next-AP/AR candidates have been available prior to 
a handoff. A neighbor graph is one of the major strategies used to provide such information among the 
related studies. However, neighbor graphs do not been widely applied yet due to its inherent drawbacks. 
In this project, a so-called “discrete scan” scheme is designed to substitute for the function of a neighbor 
graph without its drawbacks. Moreover, several mechanisms based on discrete scan are presented to help 
a mobile node select a desired next AP to handoff to. The analytical model and simulation are elaborated 
to show performance of the approaches. Discrete scan may bring concerns on its impact to received QoS 
of a mobile node. However, the simulation results show that disruptions caused by discrete scan are 
controlled less than 50 ms for a media streaming device working on EDCA over wireless LAN. 
We also propose a two-stage authentication scheme in this project for achieving low-latency 
handoff.  It allows mobile devices to send certain authentication information by fast handover protocol 
to obtain a temporary pass certificate from new access node before roaming to the new domain. Mobile 
device can use the temporary pass  certificate  to  receive  real-time  data  packet  quickly  and  
then  perform  re authentication process to complete the total authentication as normal procedure. We 
evaluate the performance of the proposed method and it is shown that transient authentication scheme 
really improve the quality of service during handover process.  
 5
 
Fig. 1: Messages flow of speedy handover scheme. 
 
In our scheme, we use RTS/CTS messages exchange between FA and the mobile node to detect 
whether a mobile node still attaches to the FA or not. The RTS/CTS messages exchange is an important 
method for solving hidden terminal problem in IEEE 802.11. When a FA wants to send a data packet to a 
mobile node, it sends a RTS message. Upon receiving a CTS message from the mobile node, the FA 
starts to send data packets. Since RTS/CTS messages are short, frequently transmitted, and less affected 
by random loss, thus we can use them to detect the mobile node movement. 
 
1.2 Description of the Scheme 
The proposed speedy handover mechanism can be briefly described by Fig. 1. When a FA has sent 
RTS for three times but not being responded by the mobile node, we can infer that the mobile node has 
moved away. It is a good time point to start buffering the packets for the mobile node. Steps 1 and 2 show 
that the AP (access point) of the old FA sends RTS three times and no CTS responded by the mobile node. 
So the AP sends a specific message to the old FA to request the FA to buffer packets for the mobile node, 
as depicted in steps 3 and 4. 
When a mobile node gets the beacon from the new AP, it delivers “router solicitation” messages. 
The message informs the new FA that a new mobile node has arrived, as shown in step 5. Then the new 
FA sends “request to forward” message to old FA as soon as the routing table to mobile node is updated, 
as shown in step 6. Finally, in steps 7 and 8, the old FA forwards packets to the mobile node through the 
new FA. 
 
Fig. 2: Fast movement of a mobile node (scenario 1). 
 7
1.3 Performance evaluation 
We evaluate the proposed scheme with network simulator ns2 [2] and the simulation network 
topology is shown in Fig. 4. The performance of mobile node during handover period is what we want to 
know. There are one mobile node (MN), one corresponding node (CN), two foreign agents (FA), and one 
home agent (HA) in the simulation network. The communication range of all nodes with wireless 
interface is 550 m. The distance between FA1 and FA2 is 856 m and the overlap of communication range 
is about 244 m. The simulation starts at 0 second and ends at 180 second. An UDP sender (CN) starts to 
send packets at 100 second until the end of simulation and the mobile node begins to move from the FA1 
to the FA2 at the same time with speed 20 m/s. The packet size is 1000 bytes and sending rate is 1 Mb/s. 
We give each packet a sequence number. By checking the packet sequence numbers we can observe that 
which packet is received by the mobile node and which packet is lost. We compare the performance 
between the original structure and speedy handover. 
 
Fig. 5: Sequence number of packets that the mobile node receives with original structure. 
 
The handover begins at about 127.46 second, so we show the result from 127 second to 131.5 
second. As shown in Fig. 5, the mobile node can not receive any packets from the UDP sender (CN) 
during the handover period. Packets are lost because no body buffers and forwards them for the mobile 
node. Obviously the packet loss rate is very high. 
 
Fig. 6: Sequence numbers of packets that the mobile node receives with speedy handover. 
 
Figure 6 depicts the performance when the speedy handover mechanism is used. The old FA buffers 
the packets during handover period and forwards them as soon as the new FA knows how to deliver the 
packets to the mobile node. The mobile node can receive the packets before handover procedure finishes. 
The handover procedure is complete at about 129.15 second and the mobile receives forwarded packets at 
about 128.66 second, so we shorten the time that the mobile node can not receive any packets. After 
 9
Figure 9 below illustrates the typical scheme for the wireless NIC in the pre-handoff periods. While 
working in pre-handoff mode, the wireless NIC has to return to working channel to maintain VoIP 
connection alive with a certain level of QoS. The time between two working periods, that is, the time of 
sniffing period plus two switching periods, should not be longer than β ms so that the maximum latency 
allowed by a real time application, α ms, is maintained if the node will get at least two times of 
transmission within (α−β) ms, as shown in Fig. 9. During working periods, bidirectional traffic transmits 
between current AP and the mobile node at least once to deliver the traffics generated in previous absence 
from working channel. By the end of working periods, the mobile node should issue an extra control 
frame of power save mode (PSM) to notice the current AP to suspend the packets for the mobile node.  
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Fig. 9: Scheme for wireless NIC in pre-handoff periods. 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Fig. 10: Example sniffing scheme in the environment of 3 channels. 
 
To substitute for the function of neighbor graphs, discrete scan must be able to collect a set of 
next-AP candidates. One of the nature particular to a seamless handoff is that a mobile node must have 
entered the coverage area of its next AP before a layer-2 handoff is triggered. Therefore, a mobile node 
can discover the entire set of next-AP candidates by means of sniffing frames transmitted from APs in 
various channels. An example design for the sniffing scheme is illustrated in Fig. 10. A sniffing period is 
designated by 20 ms for each interval of 60 ms. Assume that only three channels are deployed in the 
Working periods: The periods for Tx/Rx in the working channel (channel 0) 
Channel 1 
Switching periods: The time for wireless NIC to switch channel 
Sniffing periods: The periods for sniffing channels (channel 1~10)  
Channel 2 
Time 
Channel 0 Channel 0 
α 
 
0 1 2 3 4 
Beacon 
0 1 2 3 4 0 1 2 3 4 0 1 2 3 4 
Beacon Beacon
0 1 2 3 4 
Beacon 
0 1 2 3 4 0 1 2 3 4 0 1 2 3 4 
Beacon Beacon Beacon 
0 
0 
Ch-0 Ch-0Ch-0 Ch-0 
Ch-2 Ch-1 
Ch-0 Ch-0Ch-0
Ch-2Ch-1Ch-2Ch-1 Ch-1 
AP in channel 1 
Mobile node in channel 0 
 
 11
A mobile node can identify a station in its coverage area if the mobile node can receive both a data 
frame and the corresponding ACK frame in its discrete scan scheme. Similarly, if a mobile node receives 
only one of a data frame or the corresponding ACK frame, the mobile node infers that the station in the 
BSS locates out of its coverage. Another good feature that discrete scan surpasses neighbor graphs is its 
slight penalty if an incorrect AP is selected by the auxiliary mechanisms. A mobile node always locates at 
the overlapped coverage of all of the next-AP candidates discovered in the discrete scan scheme, 
therefore, an improper selection among the next-AP candidates will not lead to a failure of a handoff. On 
the contrary, a mobile node will lose connection if the GPS in a mobile node predicts a neighboring AP 
that can not reach to the mobile node as the next AP. As illustrated in Fig. 11(c), the cluster of stations in 
a BSS may lead the station distribution ratio mechanism to an improper selection of the next AP. 
However, the penalty for a mobile node to handoff to a farer AP may just cause another handoff to occur 
earlier. 
There are some shortcomings of the station distribution ratio mechanism. It will be active only after 
an AP is discovered because a mobile node infers a station out of its coverage by frames from AP instead 
of the station. Consequently, the station distribution ratio mechanism requires a certain amount of time to 
evaluate an AP after it is discovered. Besides, a mobile node needs more extra cache to memorize the 
MAC addresses of discovered stations to avoid counting a station twice.  
To overcome the above drawbacks, the station distribution ratio mechanism is simplified and 
submitted as the second mechanism for a mobile node to select the nearest AP among candidate APs. The 
mechanism is named as “station count” because it suggests a mobile node to select an AP of the most 
number of stations counted by a mobile node in the last sniffing period prior to a handoff. A mobile node 
with station count mechanism updates the number of stations it found in a BSS in each short sniffing 
period (e.g., 20 ms) of a discrete scan scheme. Because the mobile node concerns only the stations that 
locate in its coverage area and transmit at least one frame in a short sniffing period, much less cache 
memory is needed to keep MAC addresses of discovered stations, and a simple algorithm that collects the 
frames of various senders to a receiver is sufficient to identify an active station in the coverage. 
Furthermore, a mobile node starts to sense a BSS before it enters the coverage; therefore the evaluation of 
a BSS is available with discrete scan once its AP is discovered by the mobile node. 
As illustrated in Fig. 12(a), the nearer is the mobile node to an AP, the larger overlapped coverage 
the mobile node can listen, and consequently the mobile node can discover more active stations in a 
sniffing period. Unfortunately, the distance between a mobile node and an AP is not a unique factor that 
affects the station counts. As illustrated in Fig. 12(b), the total number of stations in a BSS is another 
major factor that affects the station counts in a sniffing period. Due to the imbalance of number of 
stations in two BSSs, the far AP may result in larger station count than a near one.  
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
(a)            (b) 
 
Fig. 12: The station counts in two BSSs. 
AP2 
Station count of BSS1 = 6 
Station count of BSS2 = 4
AP1 
AP2 
AP1 
Station count of BSS1 = 3 
Station count of BSS2 = 5 
 13
where, δ stands for the propagation delay, E[P] is the average length of packet payload and E[P*] is the 
length of the longest packet payload involved in a collision. 
 
 
 
 
 
 
 
 
 
 
 
Fig. 13: Definition of Ts and Tc, slot time of transmission with success and collision. 
 
The average length of a slot time, denoted by Tav, is readily obtained by considering that, with 
probability (1-Ptr), the slot is null of transmission; with probability Ptr Ps, the slot contains a successful 
transmission, and with probability Ptr(1-Ptr), the slot contains a collision. Hence, 
cstrsstrtrav TPPTPPPT )1()1( −++−= σ  (8) 
Let m denote the total number of frames sent by n stations within Tsniff. It is estimated in average as, 
avsniff TTnm /*τ=  (9) 
 
Parameters Values 
PLCP preamble & header 192.0 μs 
MAC header 20.4 μs 
Slot time 20 μs 
SIFS 10 μs 
DIFS 50 μs 
ACK 10.2 μs + PLCP preamble & header 
CWmin 32 
CWmax 1023 
Maximal Packet payload 2312 bytes 
Channel bit rate 11 Mbps 
Table 1 Parameters for IEEE 802.11b wireless LAN. 
 
Assume that n stations transmit m frames randomly. The number of transient stations, r, is the 
number of stations that send at the least one of m frames in Tsniff. Thus, r is derived as follows: 
PHY 
hdr SIFS 
PAYLOAD MAC
hdr
ACK
Ts 
DIFS 
PHY 
hdr 
PAYLOAD MAC
hdr
Tc 
DIFS
 15
selection. In this project, we recommend that in a BSS of fewer stations (such as n = 6), number of 
transient stations (r) should be 80 % of number of stations (n), i.e., r > 4.8 as n = 6. By the curves in Fig. 
14, a sniffing period Tsniff is eventually chosen as 20 ms because the curve of Tsniff = 20 ms shows that its 
transient stations equal to 5 at n = 6. As n = 24, the number of stations increases by 4 times, the number 
of transient stations (r) is approximately equal to 10, increased by only 2 times. The numerical result 
shows that the variation of number of stations in a BSS reflects only half of numbers of transient station 
by setting a sniffing period as 20 ms. Although there is no proper sniffing period to make number of 
transient stations independent of number of station, however, the effect brought by imbalance of number 
of stations has been significantly mitigated by 50% 
 
2. 4 Performance of Station Count Mechanism 
E(s), the expected value of the station count with respect to a given Tsniff, is approximately equal to 
r*A’/A as described in (1), while collisions within overlapped area, A’, is neglected. In this section, the 
collisions are taken into consideration for a more accurate formula to estimate E(s).  
The average number of stations lies in the overlapped coverage that is estimated by area proportion, 
so that n’ = n*A’/A. Let m’ denote the total frames sent by either one of n’ stations (no collision with any 
frame sent by one of n’ stations) in Tsniff, then m’ is estimated in (13), where τ is given in (2) and m is 
given in (9) 
nnmTTnm navsniff
n /')1(/)1('' 1'1' ⋅−⋅=⋅−= −− τττ  (13) 
Same as the process to estimate the number of transient stations, assuming that n’ stations transmit 
m’ frames randomly and let μ denote the reformed station count, the number of stations that sends at least 
one of m’ frames in Tsniff. Thus, μ can be derived using (14) below.  
( ) ( )
( ) ( )∑
∑
=
=
′⋅′
′⋅′⋅
= n
k
n
k
,kmS,knP
,kmS,knPk
1
1μ  (14) 
where, S(m,n) denotes the Stirling number of the second kind that is defined in (11), and P(n,k) denotes 
permutation number that is defined in (12) 
Note that m’ in (13) may not be an integer and m’ in (14) is restricted to an integer. Interpolation is 
used for numerical approach below. 
Let Si denote the random variable of station count in a sniffing period Tsniff for ith channel. It is 
reasonably assumed that Si features Poisson distribution and μi derived in (14), an estimation of reformed 
station count for ith channel, should be the average of random variable Si, i.e., μi = E(si). 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Fig. 15: Scenario for performance estimation. 
 
 
The scenario to display the performance of station count mechanism is illustrated in Fig. 15. It 
 
14 
= 
n2 
 
n1 = 9 
 17
n2, varies from 0.6 to 2 times of n1 and the corresponding hit ratios are computed and presented in curves, 
as shown in Fig. 17.  
Hit ratios v.s. imbalance of number of stations (n 2 /n 1 )
handoff at d 1 =0.5R, d 2 =0.9R
0.5
0.6
0.7
0.8
0.9
0.6 0.8 1 1.2 1.4 1.6 1.8 2
n 2 /n 1
H
it 
ra
tio
n1=6
n1=8
n1=10
n1=12
 
Fig. 17: Variation of hit ratios with imbalance of number of stations. 
 
Observe the curves in Fig. 16, the imbalance of number of stations do affect the hit ratios. In the 
neutral number of stations, i.e., n2 = n1, the hit ratios for all of the four cases are about 0.68. With the 
increase of imbalance, i.e., increasing n2 / n1, the hit ratios decrease with moderate slopes. As to the most 
imbalanced number of stations, i.e., case of n2 = 2n1, the hit ratios drop to about 0.55~0.6. The hit ratio 
decreases by less than 20% due to the number of stations of competing BSS increases up to double. In 
addition, it is more sensitive to the disturbance of imbalance in number of stations in case of fewer 
stations in the selected BSS (BBS1). From Fig. 17, in the case that most of stations are in selected BSS 
(i.e., n1 = 12), the hit ratio drops to about 10% (from 0.68 to 0.6) with the increase of imbalance (n2 / n1) 
from 1.0 to 2.0. On the other hand, the hit ratio drops to about 20% (from 0.68 to 0.55) in case that there 
are fewest stations in the selected BSS (n1 = 6).  
 
2.5 Select best next AP instead of the nearest AP 
The traditional handoff scheme that determines the next AP to handoff to by the RSS (receive signal 
strength) received from the responding AP in the probe phase of a layer-2 handoff. The strongest RSS is 
recognized as an indicator of the nearest AP, because shorter distance is subject to stronger signal 
strength. Same as RSS, the mechanisms presented before help a roaming node select the nearest AP by 
the link-layer information obtained in discrete scans. However, the nearest AP may not be the best next 
AP to handoff to. The available bandwidth that the next BSS can offer is one of the most concerned items 
especially for a mobile node in real time application, such as a WiFi VoIP connection. Besides, an AP 
that the mobile node is approaching to may be a better selection of the next AP than those from which the 
mobile node is moving away, even the latter ones are detected with stronger RSS.  
Discrete scan schemes may be used to detect characteristics of a BSS by the collection of frames 
transmitted in a BSS in advance to a handoff. With information from sniffed frames, a mobile node may 
select the best next AP rather than the possible nearest AP with the indication of RSS in a traditional 
handoff scheme.  
The available bandwidth and access delay of a BSS can be detected by the average NAV values in 
the frames collected in discrete scans. The relations between the NAV values and available bandwidth as 
well as access delay in a BSS are inferred to be linearly dependent in [6] with both mathematical analysis 
and simulation. A mobile node with discrete scan will be able to estimate the available bandwidths and 
access delays of the next-BSS candidates by NAVs collected in its sniffing periods and determine the best 
next AP when a handoff is triggered. 
 19
Nowadays, the QoS issue for real time applications in IEEE 802.11 wireless LAN is still widely 
discussed. In most of infrastructure wireless LAN environment, downlink traffics from AP to all the 
stations is much heavier than the uplink traffic from a single station to the AP. However, the transmission 
opportunity of AP is same as that of a single station, thus the downlink flow shares the bandwidth with 
those uplink flows from all stations. In other words, the shared bandwidth of the downlink transmission 
from AP to arbitrary one of stations will be only 1/n of the bandwidth of the uplink transmission to AP, 
where n denotes number of stations in a BSS. Because of the asymmetric nature between uplink and 
downlink transmission, a real time application with symmetric bidirectional transmission may suffer from 
severely degraded QoS of downlink flow when the number of stations in a BSS increases. 
To address the QoS problems caused by asymmetric transmission opportunity for a specific station 
with symmetric bidirectional traffics, piggyback schemes [7] in IEEE 802.11 standard suppose to forward 
the downlink traffic as an attachment to a positive ACK frames from AP to stations. With piggyback 
schemes, the QoS issue of asymmetric transmission opportunity is therefore eliminated. The QoS 
provisioning to symmetric bidirectional service then is considered as the QoS to the uplink flow of the 
concerned station. 
As illustrated in Fig. 18, the total disruption caused by discrete scans should be computed from the 
transmission of the last frames before wireless NIC switches to a sniffing channel until the transmission 
of the first frame after wireless NIC returns back to working channel. The duration for a wireless NIC 
absent from working channel is 30 ms for each sniffing period and the total disruption has to be kept less 
than 50 ms, therefore, the two sentinel frames, defined as the last frame before channel switch and the 
first frame after the return, have to be transmitted within the periods of 20 ms in total. 
The rest of 20 ms for sentinel frames is divided into division A and B (shown in Fig. 18). A mobile 
node converses a disruption caused by a sniffing period less than 50 ms, if it transmits the first sentinel 
frame in division A and the second sentinel frame in division B. In the case the first sentinel frame fails to 
be transmitted with the division A period, the piece of sniffing period should be slipped until next cycle. 
As the first sentinel frame has been sent, the total disruption brought by the sniffing period is equal to 50 
ms + (time to the 2nd sentinel frame – division B) – time to the 1st sentinel frame. To keep the disruption 
less than 50 ms in all case, a mobile node should promise to send the second sentinel frame by the end of 
division B.  
In the simplest design, each sentinel frame for a sniffing period evenly shares 10 ms as its maximal 
allowable time for the mobile node to transmit a sentinel frame successfully. Thus we have division A = 
division B = 10 ms. Therefore, the capability that a mobile node guarantees to send one frame successful 
in 10 ms decides whether the disruptions brought by a discrete scan can be conserved within 50 ms. In 
this section, the analytical model of DCF wireless environment presented before is employed to estimate 
the probability for a mobile node in IEEE 802.11b wireless LAN to transmit one frame successfully 
within 10 ms.  
With known transmitting probability in a slot time, τ, given in (2) and the average length of a slot 
time, Tav, given in (8), the average number of frames that the mobile node could transmit within 10 ms 
can be derived as, 
avTmsm /10*" τ=  (18) 
 Taking the probability that a transmitted packet encounters a collision, p, given in (5), the 
probability that at least one of m” frames transmitted without a collision is estimated by,  
"1 msentinel pp −=  (19) 
Numerical results of (19) with the parameters listed in Table 1 for BSSs of 11 Mbps as well as 54 
Mbps are given in Fig. 19. When number of stations increases up to 6, the probability for a station to 
transmit a frame without collisions within 10 ms drops to lower than 80% in an IEEE 802.11b 11Mbps 
wireless LAN, therefore, more than 20% of sniffing periods will be slipped. It is inferred about 20% of 
disruptions brought by sniffing periods to be longer than 50 ms when the BSS supports more than 6 
stations simultaneously. Figure 19 shows that even bit rate of the BSS increases up to 54 Mbps, stations 
that the BSS can support based on the same criteria increases to only 12. Note that, as shown in Fig. 16 
and 17, the station count mechanism proposed before assumes a number of stations greater 6 to promise 
 21
 
 
 
Fig. 20: Simulation configuration. 
 
 
We evaluate the performance for discrete scan schemes in IEEE 802.11e EDCA wireless LAN 
environment by means of simulations. We discuss the major concern, the impact of service QoS, while a 
mobile node applies discrete scan scheme in EDCA wireless LAN. Attributing to the high transmission 
priority of VoIP traffic, the impact on QoS caused by discrete scan schemes in EDCA environment is 
shown within the tolerable limits according to the simulation results.   
 
Simulation Environment 
We use NS-2 (version 2.28) tool [8] with 802.11e tkn EDCA module [9], we neglect high-level 
management functionality such as beacon frames, association and authentication frame exchanges. In all 
scenarios, the network topology of the simulations is shown in Fig. 20. Each of wireless stations either 
runs bidirectional VoIP traffic or TCP traffic with its corresponding wired station playing as either a 
VoIP device or FTP server. VoIP traffic, with format of G.711 codec, 160 bytes payload and 20ms 
intervals are used as real-time traffic, and FTP traffic of 1,500 bytes payload are used to simulate the best 
effort traffic. Table 2 shows the default parameter values of EDCA in the simulations. Besides, 10% of 
wireless packet error rate is set to simulate the transmission in the real environment. Furthermore, for the 
sake of distributed arrival time of VoIP packets, each of VoIP traffic is initiated at a randomly selected 
time from sec 5th to 6th sec. The observed scan periods for each channel are taken from 10th sec to 20th 
second, so that the traffics in BSSs are assumed in steady state. The simulation ends at 25th second. 
With various random seeds for each run, uniformly distributed random function which is built-in in 
ns-2 programs generates the locations of the mobile nodes in both BSSs. The normal combination of 
traffics is assumed that 70% of nodes run in TCP traffic and 30% of nodes play as VoIP phones. However, 
BSSs of all TCP nodes and all VoIP nodes are running in order to discuss the affects by various traffics in 
a BSS. 
  
 
AC PF AIFS CW_MIN CW_MAX TXOP Limit (s) 
voice 2 2 7 15 0.003008 
best effort 2 3 31 1023 0 
Table 2: Default values of parameters for original EDCA. 
 
Station Count Mechanism in EDCA Environment 
As discussed before, by properly selecting a sniffing time may eliminate affects on the hit ratio in 
selecting the nearest AP caused by imbalance of number of stations between the next-BSS candidates. 
The number of transient stations (denoted by r) is defined as the average number of stations that transmit 
at least once within a sniffing period (denoted by Tsniff) in a BSS. A proper sniffing time shall meet two 
conditions: first, make the number of transient stations varies as insensitively as possible with the 
variation of number of station in a BSS. Usually the less the sniff time is, the better the attribute will be. 
Second, the sniff time shall be long enough for a mobile node to discover the next-AP candidates as well 
as to collect enough frames to infer a creditable selection result. 
In Fig. 21, it shows the curves for transient number of stations v.s. various numbers of stations for 
several given values of sniffing periods in an EDCA BSS of 70% TCP and 30% VoIP nodes. The curves 
in Fig. 21 show that number of transient stations is fairly insensitive to number of stations as the number 
of stations in a BSS is large (e.g. n > 12). When the number of stations in a BSS is small (e.g. n < 6), the 
 23
Fig. 22: Number of transient stations v.s. number of stations in EDCA with 100% TCP nodes. 
 
Figure 22 shows the curves with the same condition as those in Fig. 21 except that EDCA BSS 
features 100% of TCP nodes. With mostly the same trends as that in Fig. 21, the curves in Fig. 22 shows 
less steep slope and apparently lower values of number of transient stations than those in Fig. 21. It is 
inferred that most VoIP nodes are discovered and contribute to number of transient stations because of 
the attributes of high transmission priority and short packet length of VoIP traffic. Consequently, the 
station count mechanism tends to select a BSS with more VoIP nodes as the next AP to handoff to if the 
other control factors, such as distances and number of stations are neutral between BSSs.  
 
Performance of Station Count Mechanism in EDCA Environment 
Figure 23 shows that the hit ratios with respect to various distances (d2 = 0.5R ~ 1.1R) from the 
competing APs. The selected AP locates at a fixed distance (d1 = 0.5R) from the mobile node. The 
number of stations in both BSSs are set to the same set of numbers (n1 = n2 = 6, 12, 18, 24) to minimize 
the effects caused by imbalanced number of stations. Both next-BSS candidates work as EDCA wireless 
LANs consisting of 70% TCP and 30% VoIP nodes. 
As the same situation as those in DCF environment (shown in Fig. 16), the hit ratios increase 
linearly with the increase of the distance between the mobile node and the competing APs, d2, while d1 is 
fixed and number of stations are evenly distributed. It is inferred that the distances between a mobile node 
and next-AP candidates affect the hit ratios to select the nearest AP regardless the type of wireless LANs, 
with the assumption of evenly distributed stations. Consequently, it concludes that the station count 
mechanism works under EDCA as well as under DCF. 
 Figure 24 shows the hit ratios with the same as condition in Fig. 23 except that the EDCA BSS 
consists of 100% TCP nodes. Compared with that in Fig. 23 and Fig. 16, it is inferred again that the 
distance dominates the hit ratios linearly. However, the deviation among curves of numbers of stations 
(n1 and n2) is apparently larger than that in Fig. 24. As described in previous section, a mobile node will 
discover most of the VoIP nodes in its coverage; therefore, these VoIP nodes contribute to the station 
count. The curves in Fig. 24 display a trend much similar to those in Fig. 16 because EDCA is reduced to 
DCF if only best effort access category (AC) exist in an EDCA BSS.  
 
Hit ratios for the condition of balanced number of stations
d 1 =0.5R, d 2 =0.5R~1.1R
30% VoIP nodes, 70% TCP nodes
0.2
0.4
0.6
0.8
1
0.5 0.7 0.9 1.1
d 2 /R
H
it 
ra
tio
n1=n2=6
n1=n2=12
n1=n2=18
n1=n2=24
 
Fig. 23: Hit ratios v.s. distances in balanced number of stations in 
EDCA WLAN of 30% VoIP nodes and 70% TCP nodes. 
 
Furthermore, with existence of VoIP nodes in EDCA, small portion (e.g. 30%) of VoIP nodes 
dominate the selection of the next AP. The station count mechanism may select a BSS of more VoIP 
 25
in EDCA of 30% VoIP nodes and 70% TCP nodes. 
 
Hit ratios v.s. imbalance of number of stations(n 1 /n 2 )
handoff at d 1 =0.5, d 2 =0.9
100% TCP traffic
0.2
0.4
0.6
0.8
1
0.8 1.2 1.6 2
n 2 /n 1
H
it 
ra
tio
n1=6
n1=8
n1=10
n1=12
 
Fig. 26: Hit ratios v.s. imbalance of number of stations in EDCA of 100% TCP traffic. 
 
With the discussion above, the existence of VoIP nodes may contribute a negative factor for station 
count mechanism to select the nearest AP. Generally speaking, VoIP packets are generated in an interval 
of 20 ms and transmitted within bounded jitter to meet real-time requirement. Since a sniffing period is 
suggested to be as long as 20 ms, it implies that all VoIP nodes transmit a frame each sniffing period. 
Therefore, the number of VoIP nodes is included in the number of transient stations in an EDCA BSS, 
then, it causes station count mechanism intending to select a BSS of more VoIP nodes rather than the 
nearest one.  
It is still not yet to comment as a good or bad feature for station count mechanism to select an AP of 
more VoIP nodes in its BSS rather than the nearest one. However, the feature can be designed as an 
option because of the simplicity to filter out the frames from VoIP nodes by the specific characteristic of 
its packets. As the frames for VoIP traffic are ignored in the sniffing periods, the performance of the 
station count mechanism in EDCA environment reforms to be similar to that in DCF and with less 
deviation from the mean values, as shown in Fig. 24 and Fig. 26.  
 
Impact on Service QoS in EDCA Environment 
Referring to the discussion before and the scheme shown in Fig. 18, to conserve the seamless 
requirement and protect services from a disruption of more than 50ms, a VoIP node with discrete scan 
scheme shall ensure to transmit one frame successfully within 10 ms before and after a sniffing period. In 
an EDCA wireless LAN, VoIP traffic is granted with the highest transmission priority, therefore, the 
contentions for a VoIP flow in EDCA wireless LAN to get medium are much less intense than those in 
DCF one. In Fig. 27, it shows the probabilities for a VoIP node to send at least one frame in 10 ms with 
respect to the number of stations in an EDCA wireless LAN with 11Mbps rates. Three cases for further 
discussion are assumed: first, 10% of transmission error in the wireless environment and 100% of stations 
in a BSS are VoIP nodes; second, 10% of transmission error in the wireless environment and normal 
traffic combination (30% VoIP nodes and 70% TCP nodes) for stations in a BSS; third, in the error free 
wireless environment and 100% of VoIP nodes for all stations in a BSS.  
The curves in Fig. 27 display that the probabilities for a VoIP node to send a frame in 10 ms in the 
EDCA environment are more dependent on the air transmission error rather than on the number of 
 27
authentication information to AAAH. Then, AAAH generates 3 keys to communicate with the MN and 
FA and sends them in registration reply message. After registration process, MN derives 2 keys such 
as MN-FA and MN-HA keys to encrypt data on the Internet. We use this characteristic in our Hierarchical 
Mobile IP with Fast handover experiment. If mobile node first enters into the new Hierarchical Mobile IP 
domain, it will perform AAA/Mobile IP initial registration and regional registration. When MAP receives 
the initial registration reply from HA, it checks the information in this message and adds an extra 
certificate signed by MAP called CAmap on registration reply message to the MN. Then, the access 
routers under MAP can authenticate the MN through CAmap and send out a new local certificate signed 
by the access router.  
 
 
Fig. 28: AAA/Mobile IP Initial Registration. 
 
 
 
 
 
 
 
 
 
 
Fig. 29: CAmap & GK & KeyPAR Distribution Flow. 
 
Figure 29 shows the GK and CAmap distribution during AAA/Mobile initial registration. After 
initial registration, MN derives two keys from HA (AAAH), one key (GK) from MAP and one key (KPAR) 
 29
needs to maintain a table for authenticated users and a timer for refreshing the entry if it expires. The 
access router decides to drop or forward this packet according to the existence of destination address of 
the packet in the table. We can see that our simulation 4-way signaling is similar to IEEE 802.1x 
re-authentication messages from Fig. 31. So, we use this method to simulate the authentication delay 
during handoff.  
 
Co-work with IEEE 802.1x Re-authentication 
  
 
 
Fig. 31: Re-authentication State Transition in Roaming. 
 
User authentication can be replaced by other user authentication protocols such as IEEE 802.1x. 
Transient authentication also can co-work with IEEE 802.1x user authentication scheme. So, the 
two-stage authentication is transient and IEEE 802.1x processes. If IEEE 802.1x supports transient 
authentication, it needs to open the controlled port for the mobile node temporarily to receive data 
according to the authentication table. If the lifetime for transient authentication expires, the 
authenticator will check if the IEEE 802.1x state is authenticated. If IEEE 802.1x state is not authenticated 
and lifetime for transient authentication expires, the authenticator will close the controlled port until 
IEEE 802.1x state is authenticated. Fig. 31 shows the IEEE 802.1x state transition in roaming [11]. 
 
3.3 Transient authentication 
 
 31
 
Fig. 33: Transient Authentication Scenario between APs. 
 
 
 
Fig. 34: Transient Authentication Messages & Fast Handover Signaling. 
Our architecture is similar to Fig. 33. A mobile node in old domain performs AAA/Mobile IP to 
authenticate itself by AAAH, to derive keys and to get the certificate of MAP. When the mobile 
node detects its fading RSS (Received Signal Strength) from current AP, it will trigger fast handoff 
before L2 handoff. The MN adds some authentication information into fast handover messages and 
sends them to PAR. Then, PAR adds its information and forwards these messages to NAR in 
pre-existing  secure  connection.  NAR  checks  information  in  these  messages  and replies 
result to the mobile node through PAR in secure connection, finally PAR will forward this message to the 
mobile node. After these steps, the mobile node completes its transient authentication process. Next, we 
show the message flow and explain the details.  
Figure 34 shows the total message flow in detail. We list extra information in RtSolPr, HI, HAck, 
PrRtAdv, and FNA for transient authentication as follows.  
RtSolPr:   PARMNMNMNMNMNMAPGKMN EkRMACTHIPCRCAEk −− },},||||||{{   
　TNewCoAMACGKHCR　 MNMN ),,,(1= GK: Group Key 
RtSolPr contains credential CR generated by the roaming MN and a certificate of MAP identified by 
NAR. HIPMN and MACMN are stored in authentication table of NAR. Other information is for 
challenge/response. These values are encrypted by keys.  
HI:   },},||||||{{ PARMNMNMNMAPGKMN RMACTHIPCRCAEk −  
PAR adds its challenge random number to identify the NAR for later use. HI contains information from 
RtSolPr and random number of PAR. This message is transmitted through existed security association. 
 
HAck:  }},||'||{{ PARNARMNGKMN RRCRTEk −  CR’: Expire time for CR  
When NAR receives the HI message, it checks the new care-of address of the mobile node and decides to 
register if it is allowed. NAR extracts the information of HI, then it  checks the CAmap to authenticate 
the mobile node. Finally, NAR creates a new entry for the mobile node and records a temporary 
certificate called CR. At this time, the packets destined to MN through NAR will be forwarded because of 
its temporary authentication.    NAR gives this entry a lifetime and passes the authentication of MN for 
a short period of time. This entry will be deleted if it expires. The lifetime is refreshed by receiving a 
correct CR sent by MN. Packets toward MN through NAR are dropped if this entry expires or it does not 
 33
 
Fig: 36: Scenario of Transient Authentication Message Flow. 
 
Then, we use a table to list the difference between these two schemes in detail, as shown in Fig. 38. 
Both these two schemes are to pre-send the authentication information to the new target AP before 
handoff. But the two-stage scheme not only pre-sends this authentication information but also registers 
its authentication information temporarily with new target AP before L2 handoff. It can stop dropping 
packets on new target AP temporarily. In other words, L3-FHR AP will drop packets if  MN doesn’t 
complete the re-authentication process. L3-FHR duplicates authentication packets to all L3-FHR 
APs, but our two-stage scheme sends authentication packets through fast handover signaling. The 
following are the main differences. 
 
 
 35
¾ 100ms & 1Mbps 
41.6% (no-transient) Î 13.6% (transient) 
¾ 300ms & 1Mbps 
100% (no-transient) Î 34.4% (transient) 
y UDP data sending rate (100Kbps v.s 1Mbps) 
9 UDP Packet loss rate 
¾ 32% (100kbps & no-transient) Î 8% (100kbps & transient) 
¾ 41.6% (1Mbps & no-transient) Î 13.6% (1Mbps & transient) 
z More efficient than L3-FHR authentication scheme 
y Just send authentication information to only one target AP instead of all  
L3-FHR APs.  
  
3.6 Comments 
Many authentication methods are proposed in different goals. Some focus on layer 2 
authentication and the others focus on upper layers. Each layer may have its authentication  function.  
A  mobile  node  needs  to  perform  many  authentication procedures in each layer if we want to 
have a secure communication. Generally, the MN needs to perform layer 2 and user authentication when 
it roams. Currently, IEEE 802.1x is a layer 2 authentication method, it takes approximately 1200ms or 
longer to complete total steps. If a mobile node supports this function with Mobile IP, it may cause some 
problems. Figure 39 shows the message flow with IEEE 802.11, IEEE 802.11i and Mobile IP. 
 
 
Fig. 39: Handoff Procedure with IEEE 802.11 & IEEE 802.11i & MIP. 
 
A mobile node in foreign domain needs to register with home agent periodically before its lifetime 
expires. If layer 2 authentication processing time is longer than registration lifetime, the home agent 
begins to drop packets destined to MN. But a mobile node needs to complete layer 2 and layer 3 
handoffs when it roams, this takes much longer time to finish these  operations  excluding  
authentication  processes. Mobile IP registration lifetime would be increased if we add authentication 
functions. This is  a  tradeoff  between  fast  handoff  and  secure  authentication.  So,  
transient authentication is an essential component if authentication is used during handoff.  
 
 37
3.8 Experiment and results  
 
TCP Experiment  
First, we see the different handoff time between original Mobile IP and HMIPv6 with Fast handover, 
as shown in Fig. 41. The original flat Mobile IP takes approximately 4 seconds to perform the 
handoff from 50 to 54 sec. This time is too long so it interrupts the TCP connection between CN and MN, 
hence it can’t provide good services such as Multimedia streaming or VOIP. HMIPv6 with Fast 
handover encounters handoff at 40.6 sec and it takes 100ms to continue the reception of the packets  
from new access router at 40.7sec.  So,  this  handoff  time  is  better  for providing Multimedia 
streaming or VOIP service. Based on this advantage of Fast handover, we try to add an extra 
authentication mechanism on it. If authentication mechanism is added to the fast handover mechanism, 
we should control the overhead time in 50ms. Next, we show three cases under fast handover, including 
original fast handover, fast handover without transient authentication, and fast handover with transient 
authentication. These three cases feature differences on handoff as shown in Fig. 42.  
 
 
Fig. 41: FHMIP and Flat Mobile IP without Authentication. 
 
 
Fig. 42: Original & with & without Transient Auth. under Fast Handover. 
 
We know that transient authentication reduces the handoff time, this is same as original structure 
under fast handover as shown in Fig. 42. Also, the data curve for fast  handover  with transient  
authentication  is  almost  the  same  as  fast  handover without extra authentication mechanism, 
this result matches our expectation.  
The mobile node can’t receive any data packets from 40.51 second to 41.14 second during fast 
handoff and re (user) authentication as shown in Fig. 43. It takes a mobile node 630ms penalty for 
continuing to receive the data packets destined for itself. The time penalty may break the TCP connection 
if the delay increases. The delay time causes the mobile node to defer the reception of data packets. 
The new Access Router drops 22 data packets destined for the MN during authentication period, and 8 data 
packets are lost during fast handoff period. So, the total lost packets toward the mobile node are 30 data 
 39
receiving data packets in the new domain such as NAR. Compared with the scheme without transient 
authentication as shown in Fig. 43, formal authentication indeed increases or enlarges the delay time and 
packet loss rate. If we perform transient authentication prior to handoff, the performance will be 
improved. Next, we show the growth of lost packets if we increase the authentication process time.  
The delay of receiving packets is indeed higher depends on processing time as shown in Figu. 43, 44 
and 45. We combine three different cases including with and without transient authentication into two 
graphs shown below. The authentication processing time is 100ms, 200ms and 300ms, so the total 
completion time is 330ms, 700ms and 1sec respectively, as shown in Fig. 47 and 48.  
  
Authentication processing time Number of lost packets 
100 ms 30 
200 ms 31 
300 ms 32 
 
Table 3: Authentication Processing Time & Lost Packets Relationship. 
 
We can observe that the number of lost TCP packets increases slowly if we increase 
authentication processing time quickly. This result is due to TCP sliding window effect. The mobile 
node can’t receive the packets dropped by Access Point if it doesn’t authenticate with that Access Point. 
Therefore, the sender can’t receive the ACKs from receiver. The packets of offered window may be 
dropped by Access Point due to authentication mechanism. Figure 46 shows the TCP sliding window.  
 
 
Fig. 46: TCP Sliding Window. 
 
Sender will retransmit the first packet of offered window if the packets of usable window are sent 
and the sender doesn’t receive any ACKs from receiver. The authentication processing time 
increases the delay for the mobile node to receive the packets and it may interrupt the TCP connections 
between the CN and the MN.  
 
Fig. 47: 100ms - 300ms Cases without Transient Authentication. 
 
 41
400
420
440
460
480
500
520
540
560
580
600
40 40.5 41 41.5 42 42.5 43 43.5 44 44.5 45 45.5 46 46.5 47 47.5 48 48.5 49 49.5 50
Time (seconds)
U
D
P 
Se
qu
en
ce
 N
um
be
r
no-transient
transient
(41.069763, 450)
(40.589763, 444)
(40.429763, 442)
 
Fig. 50: UDP with 100Kbps Data Rate. 
 
In order to analyze the UDP packet loss rate, we add a sequence number to each packet to observe 
the growth of packet loss. First, we set the UDP data rate to 100kbps as shown in Fig. 50, and 
there are 8 lost packets during re-authentication without transient authentication in  640ms. This 
elapsed time is too large to offer a good Multimedia Streaming or VOIP service. Actually, when users of 
a multimedia streaming application move from the coverage area of an AP (access point)  to  the  
other,  the  connection  must  be  handed  off  in  approximately 150 milliseconds, otherwise 
the user will feel the jitter affect. So, we use the transient authentication during handoff to reduce the 
authentication time in 150ms, as shown in Fig. 50. It can improve the QoS for multimedia streaming 
application. 
  
4000
4050
4100
4150
4200
4250
4300
4350
4400
4450
4500
4550
4600
4650
4700
4750
4800
4850
4900
4950
5000
40 40.5 41 41.5 42 42.5 43 43.5 44 44.5 45
Time (seconds)
U
D
P 
Se
qu
en
ce
 N
um
be
r
transient
no-transient
(40.725603, 4428)
(40.775597, 4462)
(41.33824, 4532)
 
Fig. 51: UDP Data Rate 1Mbps. 
 
 43
4300
4400
4500
4600
4700
4800
4900
5000
5100
5200
5300
5400
5500
40 40.5 41 41.5 42 42.5 43 43.5 44 44.5 45 45.5 46 46.5 47 47.5 48 48.5 49 49.5 50
Time (seconds)
U
D
P 
Se
qu
en
ce
 N
um
be
r
transient
no-transient
(42.26109, 4600)
(43.96941, 4858)
(42.61595, 4686)
 
Fig.53: Authentication Processing time. 
 
Figure 53 shows that the authentication processing time also increase the packet loss rate. 
 
Auth. processing time Packet drops Packet loss rate 
100ms (no-transient) 104 41.6% 
100ms (transient auth) 34 13.6% 
300ms (no-transient) 258 100% 
300ms (transient auth) 86 34.4% 
 
Table 7: Packet drops with authentication processing time 100ms & 300ms, sending rate 1Mbps. 
 
3.9 Section Conclusion 
In this project, we investigated a two-stage authentication scheme which includes transient   
authentication and re-authentication mechanism. The user authentication is called re-authentication.  
The re-authentication signaling consists of 4-way handshaking and we use it to simulate the 
authentication time during handoff period. In the original structure of Mobile IP, it needs approximately 
3-4 sec to complete the handoff process excluding authentication. If we add authentication process on it, the 
handoff time will increase drastically due to the complex authentication mechanism. Since a more 
complex authentication mechanism needs longer time to process, the transient authentication becomes 
important if we try to reduce the authentication time during handoff period. In our experiment as 
discussed in section 3.8, we demonstrate that the packet loss rate increases when UDP sending rate 
increases. Packet loss rate is reduced to 8% with transient authentication when UDP sending rate is 
100Kbps. Packet loss rate is reduced to 13.6% when UDP sending rate is 1Mbps. If we combine 
transient authentication with fast handover protocol, it is able to reduce the packet loss rate and perform 
well as original fast handover protocol without authentication mechanism. It has no protocol overhead and 
is feasible to implement. The re-authentication signaling is  mainly to simulate an authentication 
process, and we can understand how the packet loss rate will change if we add the authentication 
mechanism in this project. Finally, the proposed transient authentication method piggybacks on 
authentication information through fast handover protocol without additional signaling overhead. We 
know that IEEE 802.1x is a MAC layer authentication mechanism. It takes more than 1200ms to 
 45
demonstrated with both analytical model and numerical results. For further verification, those for EDCA 
wireless environment are analyzed with results generated in ns-2 simulations.  
The numerical as well as the simulation results show that discrete scan with station count 
mechanism provides considerable high hit ratio on the selection of the nearest AP among the next-AP 
candidates discovered by a mobile node. Although the imbalance of number of stations in the next-AP 
candidates is still an inevitable factor to affect the selection accuracy for the nearest AP, its effects can be 
significantly reduced by setting a proper length of sniffing periods.  
The nature that an AP, responsible for all downlink traffic, has the same transmission opportunity as 
an arbitrary station, taking care only its own uplink traffic,  in a BSS may causes insufficient downlink 
bandwidth for a symmetric bidirectional connection such as a VoIP application. The downlink problem 
for VoIP traffic is supposed to resolve with the piggyback scheme reported in 802.11e standard, because 
it is an inherent QoS problem instead of being caused by discrete scan scheme. However, the impact on 
the service QoS caused by discrete scan scheme is discussed in view of uplink flow for VoIP traffic. 
Simulation results show the induced disruptions being maintained within a tolerable level in the EDCA 
environment for all cases of reasonable number of stations in a BSS; However, numerical analysis shows 
a mobile node with discrete scan scheme in DCF wireless LAN can sustain acceptable QoS when less 
than six stations are in a BSS.  
In the future, we will further improve the scheme by investigating a scenario that a mobile VoIP 
node with discrete scan scheme works in EDCA environment. The observation will focus on the QoS 
degradation induced by discrete scan scheme. Besides, an integrated selection mechanism with sniffing 
function and an algorithm to identify a station via reception of its transmitting frame will be developed. 
Finally, we will plan to implement a complete set of discrete scan as well as selection mechanism into a 
real WiFi phone. The WiFi phone shall be proved with experiments the capability of fast layer-2 handoff 
because latency of probe phase has been eliminated. The performance to select a desired next AP shall be 
verified with experiments. Eventually, the strategies addressed for fast handoff in the related works, such 
as context caching, buffering-and-forwarding and inter layer handoff design will be implemented into the 
APs and FAs to cooperate with a mobile node with discrete scan scheme, so that a complete wireless 
environment can be configured to support seamless inter-domain handoff for a next generation WiFi 
services.  
In order to provide the functions of authentication and security, definitely, the original handoff time 
will be increased, this in turn increases packet loss rate and degrades the quality of service. So, how to 
maintain good service under the framework of providing authentication and security will be an essential 
issue in the future. 
 The proposed method in this project is designed under Mobile IP architecture. It is a user 
authentication mechanism in which we send the identity of the mobile node and user authentication 
information before handoff really starts, this could reduce the total authentication time during the handoff 
process. Also, we may modify the layer 2 authentication of IEEE 802.1x to support the pre 
re-authentication function or enhance its security and key distribution, this will be studied in the future 
research.  
 
