行政院國家科學委員會專題研究計畫期中成果報告 
 
總計畫：利用衛星資料分析與探勘海水鹽度變化以建構災
害預警系統（2/3） 
Analyzing Satellite Data and Mining Ocean Salinity Variation to Construct 
a Disaster Early-warning System 
 
計畫編號 ： NSC95-2745-E-036-001-URD 
執行期限 ： 95 年 08 月 01 日至 96 年 07 月 31 日 
主持人 ： 黃有評 教授  大同大學 資訊工程系  
計畫參與人員 ： 博士班 – 邱紹維 
碩士班 – 陳世中、陳富川、林文新 
一、 中文摘要 
子計畫一第二年目標為設計一個完
整溫度與鹽度預測系統以預測海水溫度與
鹽度間變化關係。在一般預測科學上，對
資料時空變化，許多科學家採用統計學上
時間序列來做推論，但統計學往往假設資
料間都是互相獨立。然而，類似像海水溫
度與鹽度的科學資料卻有相互關聯性，因
此利用統計模型做預測有其困難度，而模
糊推論則提供另一種預測的方法。首先建
立溫度與鹽度變化樣式，下一步則是建立
一個模糊推論模型來推測溫度與鹽度變
化。我們期望以本模型推導如下之關聯規
則：當臺灣北部近距離地區海水鹽度上升
0.1psu 到 0.2psu，則下個月臺灣東北部中
距離地區溫度將會上升 0℃到 0.8℃。以計
畫一利用 Argo 資料推導關聯規則，實驗
發現模糊推論結果準確率可達 79%，顯示
此結合資料探勘與模糊推論所設計出的智
慧型預測系統能得到有效結果。 
子計畫二第二年主要目的是希望透
過影像壓縮及特徵抽取技術，能讓衛星影
像資料庫中的影像可以被快速搜尋及傳
輸，以方便後續衛星影像之研究與應用。
本子計畫於第一年中，建立了一套自動收
集衛星影像資料庫管理系統，並研究衛星
影像的特性，從中抽取氣候狀況的特徵，
而基於第一年收集的資料及研究的基礎，
我們以向量量化的方式將所收集的衛星影
像資料做為向量量化編碼簿的訓練，並將
訓練過的區塊資料當作衛星雲圖重建的資
料庫，以利使用者能夠快速的從資料庫中
傳輸影像。 
子計畫三第二年目標為研發多節點
無線式感測網路，以利整體計畫的資料收
集。無線式感測網路是由大量的感測節點
所組成的網路架構。而每個感測節點都具
有基本的運算能力、儲存能力、傳輸能力、
與有限的電力。因為整個系統架構為分散
式，每個感測節點都具備獨立的工作排
程，而它們也必須運用有限的資源，有效
地互相合作來提供各項服務。感測節點通
常都是採用隨機配置的方式，根據不同的
應用，可分布在困難艱險的環境中，代替
人類做觀測偵查的工作。 
子計畫四第二年目標主針對行動接
取技術部份進行研究與探討，由於與其他
子計畫結合，必需要提供一個完整使用行
動裝置來讀取其他子計畫所擷取出的資
料，因此我們須提供一個完整的平台，以
利行動裝置能快速的取得最新的資訊。在
其它子計畫中，所取得的衛星的資料包含
文字及影像，甚至經過資料探勘的萃取，
 2
二、 緣由與目的 
2.1 子計畫一：衛星資料檢索與時空關聯
規則之探勘 
預測科學上資料時空變化，許多科學
家採用統計學上時間序列來做推論，而且
統計學往往假設資料間都是互相獨立的
[1]。然而，類似像海水溫度與鹽度的科學
資料卻都互相有關聯的，因此利用統計模
型做預測是有缺點的[2]，而模糊推論則提
供另一種預測的方法。子計畫一第二年計
畫目標即為設計一個完整溫度與鹽度預測
系統以預測海水溫度與鹽度間變化關係。
本子計畫所提出的預測系統結合資料探勘
與模糊推論技術，在資料探勘方面利用
2001 至 2005 年資料做為訓練樣本，所得
之溫度與鹽度樣式規則，有一部分依照模
糊推論的輸出入取出並轉換成模糊規則。
接著利用 2006 年一整年資料做為測試資
料，獲得以下結論：第一：測試的準確度
為 79%；第二：因資料探勘所得之關聯規
則內含溫度與鹽度在時空上變化關係，因
此，推論結果具有高度價值；第三：本系
統無需專家參與，與統計學預測模式相
比，更易於實作。 
 
2.2 子計畫二：海水鹽度衛星影像之壓
縮、特徵抽取與串流技術之研究 
在第一年的研究計畫中，本子計畫推
導出一系列演算法，可自衛星影像中自動
抽取出颱風特徵，進而對颱風的中心位置
及暴風圈定位[3]。而在衛星影像資料傳輸
方面也希望能達到低頻寬需求且快速重建
天氣狀況，以利於其他子計畫的應用。所
以在影像的處理技術當中，我們使用了向
量量化資料壓縮的方法[4]，將之前所辨識
及定位出來的颱風中心、範圍，利用向量
量化的方法對於衛星影像中的雲層影像做
資料的編碼，以減輕資料庫的空間需求及
加速重建時的資料傳輸速度。而我們也可
以從重建的衛星影像了解到當時的天氣狀
況及雲層分布。 
 
2.3 子計畫三：太空梭、寬頻衛星、及地
面高速網路通訊之整合 
無線通訊和電子裝置技術的進步，將
感應節點的發展朝向微型化、低電力消
耗、降低成本、多功能等方向推動 [5-6]，
子計畫三提出無線式多節點感應網路之研
發，以利本總計畫之資料收集。在一些感
應網路的應用中，需要感應節點的時間能
達到較精準的時間同步，例如對於高速移
動物體或地震的感測，然而建構這些應用
時，要在這些分散的感應節點上，保持時
間同步化，並非簡單的工作。因此，在建
構感應式網路，以下是需考量的重點。 
擴展性: 在一個感應網路中，可能會佈置
上百或上千個感應節點，針對大量和高密
度的感應網路情形，我們必須考量時間同
步的方法是否具備良好的擴展性。亦即所
達成同步之效果與達成同步的成本是否均
有令人滿意的績效。 
強健性: 感應網路通常也被建置在一些特
定且不易到達的區域，在一段時間中，觀
察某些特定的資料；但限於環境因素與元
件的穩定性及使用年限，可能導致某些感
應節點無法正常運作，同步化的機制必須
能容忍部分節點故障，卻能維繫網路時間
的同步。 
精準性: 針對某些特定應用，如地震的模
擬，感應節點更需要保持時間同步，兩節
點之時間誤差值需控制在幾微秒之內。當
地震發生時，感測區域中之節點要及時回
報地震相關資訊，如震央位置、地震強度
和造成的地表移動或改變等。這些資訊都
必須加註時間，如果感應節點之間未保持
同步，則依據這些資訊所進行的資料分析
會產生誤差，因此，精準性是設計上的重
要考量。 
節能性: 電力消耗是大部分設計感應網路
運作的主要考量問題[7-8]。在感應網路
中，傳送訊息和接收訊息都需要消耗電
力，必需儘可能減少交換訊息的次數。在
某些機制中，也會考量使用時間區分之多
重存取通路(TDMA)來讓某些感應節點適
時的工作和休眠。 
時效性: 時間同步的機制，應該能夠迅速
達成，以減少感應節點暴露於未同步狀態
的危機中。 
 
 4
X⇒Y 的 支 持 度  (support) 和 信 心 值 
(confidence) 可以定義為： 
.       ,sup
x
xyxy
T
T
confidence
S
T
port ==  
如同在界內性中一般，在探勘跨界性
時，我們也必須給予最小支持度 minsup
和最小信心值 minconf。也就是說，在交
易資料庫中，我們只探勘那些高於或等於
最小需求的交易資料的跨界性關聯規則。 
(3) 模糊推論 
模糊推論是一種將輸入值經由一些
規則映射到對應輸出值的方法。利用由資
料集分析所得跨界性關聯規則，來當做模
糊規則，依據輸出入變數來選擇跨界性關
聯規則，並將其轉成模糊規則。 
本年度計畫從 Argo 資料中探勘出跨
界性關聯規則（溫度與鹽度在時空上變化
關係之樣式法則），並進一步利用跨界性關
聯規則，發展一個模糊推論模型，分為四
個步驟：資料準備、量化屬性轉換、跨界
頻繁項目集的發掘及關聯規則的產生，及
建立模糊推論模型。 
步驟一、資料準備 
收集自西元2001年起至2005年Argo
資料。將 Argo 資料轉成一交易紀錄資料
庫。以臺北市為參考點圓心，並以遠、近
距離做為半徑，形成同心圓圖。再將異常
事件定出並記錄發生距離及方向，同一時
間點所有發生事件視為同一交易記錄，時
間為次元屬性，每一紀錄代表一個月份資
料。 
步驟二、量化屬性轉換 
將每一筆交易記錄中溫度與鹽度量
化屬性映射至屬於它的區間。在量化屬性
被轉換成區間後，它的項目數目將會增
加。令  為屬於初始資料庫的
所有項目集合，為了簡化說明的過程，假
設這個資料庫只有一個量化屬性i
},...,,{ 21 kiiiI =
j，其中 
1≤j≤k，如果ij 被映射至一個區間，那麼所
有新的項目所形成的集合將為 {i1, i2, …, 
i(j, 1), i(j, 2), …, i(j, l), ij+1, …, ik}，其中i(j, s) 是
一個二元數值。 
在量化屬性轉換過程，某些值可能很
難判並屬於大或小。例如：溫度事件上昇
幅度大小，因此，本年度計畫導入模糊理
論來解決這問題。模糊理論使某一元素歸
屬於集合的程度不會二值化（亦即只有屬
於集合與不屬於集合二值）。我們可利用這
個特性，將一量化屬性值依其歸屬函數決
定其屬於某一集合的程度有多少，然後找
出量化跨界性關聯規則。 
步驟三、跨界頻繁項目集的探勘與跨界性
關聯規則之產生 
令If 為前一個階段所定義的所有項
目所形成的新集合，而W為一個在次元屬
性上具有w個區間的滑動視窗。現在我們
可以重新定義在W內的一個巨大集合為： 
M = {i(j, x)(t)| i(j, x) ∈W[t], 1≤j≤k}。 
我們也需要重新定義所有可能的延
伸項目所形成的集合： 
I’f = {i1(0), …, i1(w-1), i2(0), …, 
i2(w–1), …, 
i(j, 1)(0), …, i(j, 1)(w-1), …, 
i(j, l)(0), …, i(j, l)(w-1), 
ij+1(0), …, ij+1(w-1), …,ik(0), …, 
ik(w-1)}. 
現在我們可以開始準備找尋頻繁項
目集了。一個跨界的k-itemset (k-項目集)
為集合 B = {i(1,x)(t1), i(2,x)(t2), … , i(k, 
x)(tk)}，其中  使得  ∃i'fIB∈ (j,x)(0)∈B，
1≤j≤k。為了找尋頻繁項目集，導入Pei 等
人所提之PrefixSpan演算法[10]，主要是將
資料庫分割成數個小部份的方式來快速計
算支持度的工作，並且藉由不斷的產生與
縮減投射資料庫的做法來完成序列型樣的
找尋。 
步驟四、模糊推論建立 
我們先定義 5 種輸入變數：1.溫度的
異常變化、2.鹽度的異常變化、3.溫度與鹽
度異常發生距離、4.溫度與鹽度異常發生
方向、5.溫度與鹽度異常發生時間。 
溫度的異常變化事件，圖 3 為其相對
應歸屬函數，分成 TDM（下降幅度大），
TDL（下降幅度小），TNOR（無溫度變化
事件），TRL（上昇幅度小）及 TRM（上
昇幅度大）。 
 
 6
States, http://www.goes.noaa.gov) 來
自動蒐集衛星影像。 
2. 衛星影像向量量化編碼 
為了減少儲存空間的使用，我們將所
蒐集到256灰階JPEG格式的衛星影像做向
量量化的處理，使得原始的衛星影像轉換
成向量碼資料。量化過程如圖 8所示。 
圖 8、向量量化編碼流程。 
首先，我們將原始衛星影像切成 8x8
大小的區塊，再將這些 8x8 大小的區塊量
化成 1x64 的向量，之後將這些處理過後的
向量經由和編碼簿的各個碼向量計算出
SED(Square Euclidean Distance)值，找
出其值最小的碼向量並記錄其索引值。所
以在資料傳輸的過程中，我們只需要傳輸
區塊的座標位置及其索引值即可 
3. 衛星影像向量量化解碼 
原始的衛星影像量化編碼過後的索
引值及座標，經由網路傳輸到使用者端過
後，使用者一樣也是藉由向量量化的解碼
來還原原始衛星影像。其中解碼流程如圖
9所示。 
 
在使用者端這邊，我們需要先下載編
碼所用的編碼簿，再將其每個區塊的索引
值所對應的碼向量還原成 8x8 大小的區
塊，再利用其區塊的座標值還原成原始的
衛星影像。 
 
4. 編碼簿訓練 
為了有比較好的衛星影像還原結果，
我們必需做大量資料的訓練以取得最佳化
之編碼簿，同樣的我們也必需將衛星影像
切成8x8大小的區塊量化成1x64的向量來
訓練，找出其具有代表性的區塊當成碼向
量，其中比較常見的訓練方法是 LBG 
(Linde-Buzo-Gray)演算法[5]，其演算法
的訓練過程如以下步驟： 
步驟一： 
首先，我們將資料庫中量化過的向量 
Z={Zk,k=1,2,…,Nt}，其中Nt為資料庫中訓
練向量的數量，並從中隨機挑選出編碼簿
大小個(在我們研究中編碼簿大小為 128)
向量，並將這 128 個不重複的向量放到編
碼簿C(1)={Ci, i=1,2,…, Nb}，其中(1)代
表第一回合訓練的碼向量。 
步驟二： 
回合控制變數 n=0，並定義平均失真值 
D(0)=0，及一個預先定義臨界值(threshold)
ε 
步驟三： 
將每個Zk分群，Vc(n), c∈{1,2,3,…,Nb}，
若dSED(Zk,Cc(n))≦dSED(Zk,Cb(n))∀ c≠i，在這
邊 1≦i≦Nb。 
步驟四： 
若 ( ) ( 1) ( )( ) /n n nD D D−− <ε，則就跳出 LBG
演算法；否則跳到步驟五，在這邊 
D(n)=(1/Nt)
1 21
min{ ( , ), ( , ),..., ( , )}Nt SED k SED k SED k Nbk d Z C d Z C d Z C−∑  
圖 9、向量量化解碼流程。 
步驟五： 
n=n+1；將在每群內Vc(n)的資料Zk取平均值
得到Cc(n)，然後繼續到步驟三。 
5. 颱風重建流程 
主要颱風重建過程如圖 10 所示。 
 
 8
表 1、隨機佈點的同步情況。 
 
 
 
 
圖 13、不同平均連結度與聚集個數的關
係。 
 
z 訊息量 
此研究中我們提出減省通訊量的方
法，稱為隨機參與法，其主要著眼在於，
節點每週期隨機決定是否將其時間資訊對
其鄰近節點作廣播，其他節點可進入收聽
被動模式。當網路中連接數夠高時，隨機
參與法一樣可以達到時間同步的目的。表
2 為運用隨機參與法所的之結果，基本
上，我們觀察當最小連接度乘以隨機參與
機率大於 5 時，所有隨機參與的節點會落
在同一聚集中。 
 
表 2 、 當 Degree 為 8 時 的 time 
synchronization。 
 
 
z 時間誤差 
圖 14 顯示 50 個節點作同步時，隨耦
合機制的運作，時間誤差逐漸縮小的情
形。此圖展現該機制同步效果。 
 
圖 14、網路中各點時間誤差圖。 
 
3.4 子計畫四：海水鹽度資料庫之伺服器
管理與行動接取技術 
我們針對行動接取技術部份進行研
究與探討，由於與其他子計畫結合，必需
要提供一個完整使用行動裝置來讀取其他
子計畫所擷取出的資料，因此我們須提供
一個完整的平台，以利行動裝置能快速的
取得最新的資訊。在其他子計畫中，所取
得的衛星的資料包含文字及影像，甚至經
過資料探勘的萃取，能夠產生出更多其他
的資訊，而這些多型態的資料，將匯集於
多媒體伺服器中，如圖 15 所示，並分為室
內環境與室外環境說明如下。 
 
室外環境： 
1. 衛星資料經由陸地接收系統處理後，經
由相關子計畫，處理資料後，匯入此計
畫之多媒體伺服器。 
2. 在 Mobile Terminals 中，可以透過
GPRS/WCDMA 的 系 統 ， 經 由
3GPPCore Network 透過 Internet 與多
媒體伺服器相互溝通，存取相關海水鹽
度資訊。 
 
室內環境： 
1. 如圖 15 之 Bluetooth gateway，會傳遞
由 Mobile Terminals 所提出的請求給
Internet 上的多媒體伺服器，而回應時
也是透過 Bluetooth gateway 回覆給
Mobile Terminals。 
2. 在 Mobile Terminals 中，可以透過短距
離無線通訊系統藍芽裝置來存取海水
 10
發展工具建置應用軟體，我們建立簡單使
用者介面，以方便使用者透過介面能夠方
便與無線感測網路以及 Selector 伺服器溝
通。『Start』按鈕會將目前有 Join 到 PAN
中的 End Devices 透過 PAN- Coordinator
下讀取指令，而當 End Devices 收到來自
PAN-Coordinator 所讀取的資料立即回應
從光線感測器所得到的光線數值並顯示於
PDA 中。『Update』按鈕則將剛剛暫存於
PDA 中所有 End Devices 的光線資料透過
無線區域網路上傳至伺服器中，且馬上更
新於資料庫中。 
 
四、 計畫結果自評 
4.1 子計畫一：衛星資料檢索與時空關聯
規則之探勘 
本計畫收集自西元 2001 年起至 2005
年 Argo 月平均資料。台北市為參考點圓
心，並以遠近距離做為半徑，形成圖 17
同心圓圖，內圓半徑 380 公里，外圓半徑
760 公里，同心圓並區分成 8 個方向，16
個區域。利用同心圓的好處為事件發生的
距離與方向皆歸納簡化，接著我們只要檢
定出事件發生距離與方向，再將同一時間
點所有發生事件視為一交易記錄，表 3 列
出所有可能事件清單，表 4 則為部分已轉
成類似商業交易記錄之表，由表 4 可看出
時間為次元屬性，單位為月，每一紀錄代
表同一時間中發生之事件，例如：2001 年
1 月 A1 區域發生 temperature rise little
（TRL）事件、A2 區域並無任何事件發生
等，所有 2001 年 1 月發生事件為一紀錄。
接著將量化屬性轉換，再使用 PrefixSpan
演算法探勘跨界性關聯規則。表 3 為部分
探勘結果。 
 
 
圖 17、同心圓圖。 
 
下一步則是設計模糊推論，我們使用
2006 年 Argo 資料作為測試資料，從每個
月資料中 A1，A2，B1，B2，F2，G1，G2，
H1 及 H2 區域中各選一事件，來做輸入，
其推論經過模糊化、推論及利用重心法解
模糊化，我們舉 2006 年 1 月為例，“溫度
上昇 0.4 度、鹽度下降 0.05psu、在角度
315、距離 340 公里、一月發生＂，經過推
論解模糊化化後，可得“二個月後(April) 
在角度 315 、距離 340 公里會發生溫度上
昇 0.4 、鹽度下降 0.05psu 事件＂，這個
推論經檢查後是正確的，完整推論準確率
結果如表 5。 
 
表 3、ARGO 海水溫鹽度資料中所有可能
發生之異常事件清單。 
Event Meaning 
TRL Temperature rose little (0 – 1.2℃) 
TDL Temperature dropped little (0 - -1.2℃) 
TRM Temperature rose much (1.3 - 2℃) 
TDM Temperature dropped much (-1.3 - -2℃) 
SRL Salinity rose little (0 – 0.15 psu) 
SDL Salinity dropped little (0 - -0.15 psu) 
SRM Salinity rose much (0.16 – 0.25 psu) 
SDM Salinity dropped much (-0.16 - -0.25 psu) 
NOR No event happen 
 
 
表 4、各月份海水溫度與鹽度異常事件轉
成類似商業交易記錄資料表。 
Date abnormal 
salinity 
variation in 
A1 (psu) 
abnormal 
temperature 
variation in 
A1 (℃) 
abnormal 
salinity 
variation in 
A2 (psu) 
abnormal 
temperature 
variation in 
A2 (℃) 
… 
2001/01 -0.05 0.4 -0.05 0.4 … 
2001/02 -0.1 0.4 -0.1 0.4 … 
2001/03 0 0 0 0 … 
… … … … … … 
 
表 5、利用 2006 年 Argo 資料推論準確率。 
Time Total events for testing The number of 
accurate inference 
rate 
2006/01 10 8 0.8 
2006/02 10 9 0.9 
2006/03 10 7 0.7 
2006/04 10 8 0.8 
2006/05 10 8 0.8 
2006/06 10 9 0.9 
2006/07 10 9 0.9 
2006/08 10 7 0.7 
2006/09 10 8 0.8 
2006/10 10 9 0.9 
2006/11 10 7 0.8 
2006/12 10 6 0.7 
Total 120 95 0.79 
 
 12
Johnson, “Adaptive clock 
synchronization in sensor networks,” 
Proc. The 3rd Int. Symp. on Sensor 
Networks, Apr. 2004. 
[7] C.E. Perkins and P. Bhagwat, “Highly 
dynamic destination-sequenced 
distance-vector routing (DSDV) for 
mobile computers,” Proc. The Int. Conf. 
on Communications Architectures, 
Protocols and Applications, vol. 24, 
issue 4, pp.234-244, Oct. 1994. 
[8] W. Heinzelman, A. Chandralrasan and 
H. Ealaknshnan, “Energy-efficient 
communication protocols for wireless 
microsensor networks,” Proc. The 33th 
Annual Hawaii Int. Conf. on System 
Sciences, vol. 10, Jan. 2000. 
[9] A.K.H. Tung, H. Lu, J. Han and L. 
Feng, “Efficient mining of 
intertransaction association rules,” 
IEEE Trans. on Knowledge and Data 
Engineering, vol. 15, no. 1, pp.43-56, 
Jan. 2003. 
[10] J. Pei, J. Han, B. Mortazavi-Asl, H. 
Pinto, Q. Chen, U. Dayal and M.C. 
Hsu, “PrefixSpan: Mining sequential 
patterns efficiently by prefix-projected 
pattern growth,” Proc. Int’l Conf. Data 
Engineering, pp.215-224, Heidelberg, 
Germany, April 2001. 
 
 
 
 14
