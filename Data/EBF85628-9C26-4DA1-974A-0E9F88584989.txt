-1- 
 
行政院國家科學委員會專題研究計畫成果報告 
 
隨機逆退式碎形圖形衰減研究及其於水文模擬之應用 
Study of the random back-recession on the fractal pattern and its application 
on hydrological simulation 
計畫編號：NSC 97-2221-E-159 -008 
執行期限：97 年 8 月 1 日至 98 年 7 月 31 日 
主   持  人 ：洪 君 伯  明新科技大學休閒事業管理系 
共同主持人 ：鄭 士 仁 致遠管理學院觀光資源與環境學系 
摘要 
萬物有生成必有衰減，有強必有弱，是永不改變之定理。對照集水區水文現象中降雨－逕流歷
程之直接逕流量來說，由降雨初期之逕流生成，然後逐漸增加至尖峰流量產生，接著逐漸遞減至平
穩，乃為一種由生成轉換為衰減之完整過程。因此，受降雨－逕流歷程影響之河川網路型態變化亦
同樣具有生成然後漸至衰減之過程。然而過去對此類集水區河川網路之模擬皆以隨機碎形(random 
fractal)理論中之「生成」特性為主，並未考慮其「衰退」歷程之特性。 
有鑑於此，本研究乃針對隨機碎形圖形由生成後開始衰減之歷程特性進行研析，將隨機碎形圖
形由小尺度轉變為大尺度之衰減特性進行開創性之學理創新建構與分析，據以建立碎形圖形隨機衰
減之理論架構，並進行碎形圖形隨機衰減之數值編碼理論研析與建構，及推衍相關拓樸距離計算公
式，使此類創新研究能應用於各類自然圖形之模擬與電腦運算上。本研究並選用台灣北部淡水河流
域寶橋上游集水區為主要研析流域，據以探討隨機逆退式碎形圖形衰減於於水文模擬之適用性。 
本研究所建立隨機逆退式碎形圖形衰減理論及相關數值編碼方法與距離計算公式可順利掌握
複雜之碎形圖形隨機衰減歷程特性並予以數值量化，除能提供河川網路之模擬應用外，亦可以廣泛
使用於不同自然型態之隨機逆退式碎形圖形衰減模擬。 
關鍵詞：隨機、碎形生成、逆退衰減、編碼、河川網路、拓樸距離、降雨－逕流歷程。 
Abstract 
Everything has to turn into decay after flourishing and it must be weak to be strong, it is a theorem 
that will be never changed. For example of the variation of the runoff during rainfall-runoff process in 
the watershed, flow discharge gets growth before the time of the peak flow, and then decays. It is a full 
process starting with the generation and then turning into recession after flourishing. Consequently the 
river network also presents the same phenomena of the generation and recession during rainfall-runoff 
process. However, most studies of the simulation on river network always focus on the generation 
process by the random fractal rather than the recession process.  
Consequently, this study focus on investigating the recession process of the random fractal patterns 
and innovate in the theory for the recession of random fractal pattern. The study also  preliminary 
develops the coding method of random back-recession process for generated random fractal patterns and 
derive the corresponding algorithm to calculate the topological distance between starting point and the 
link in the random back recession fractal pattern. To assess the adaptability of the process, the 
corresponding developed methods are applied to simulate the river networks during typhoon events of 
the Po-bridge watershed in northern Taiwan. 
The study is prospective with an aspect to the exploration of an appropriate random back-recession 
theory and coding method for random fractal pattern, offers another suitable method to evaluate the 
physical characteristics of the hillslope watersheds and be referable to the hydrological simulation for 
project watersheds. 
Keywords: Random, Fractal generation, Back-recession, Coding method, River network, Topological 
distance, Rainfall-runoff process.
  
-3- 
 
性並沒有辦法根據自然型態之隨機特性進行調整與變化，所模擬出之河網可能與實際降雨
－逕流歷程中之河網有所出入。為突破此類河網生成機制之先天限制，洪氏等人於 2005 年
重新依據碎形生成理論創建隨機自相似圖形之編碼方法(coding)與相關距離計算方式，並成
功應用於河川網路之模擬中。此外，Molnar 於 2006 年提出 Cayler 樹形河川網路之幾何尺
度研究，Mantilla 亦同於 2006 年探討河川網路架構與流體動力對尖峰流量之影響等，皆為
近年來針對河川網路對水文特性影響之相關研究。 
近來亦不斷有學者對碎形或隨機碎形於各類研究領域提出相關之理論與應用，如 Zou
等人於 2007 年提出利用蒙地卡羅(Monte Carlo)法模擬碎形地貌，Polanowski 亦於 2007 年提
出隨機碎形生成的平行運算模擬方法，皆為隨機碎形理論之延伸應用。然而大自然各類型
態變化萬千，一個型態之產生可能不僅只是一種單純之碎形或隨機碎形圖形，自然型態之
產生可能由兩種以上之基本型態或基本單元進行隨機碎形生成而成。2007 年 Garc´ıa-Mar´ın
等人將多重碎形理論分析應用於降雨模式之檢定當中，而洪氏等人亦於 2007 年同樣引入多
重碎形之概念，於其所研發之隨機碎形自相似編碼理論中，進一步將原本僅採用單一基本
型態之自相似模擬改採用同為碎形理論中之多重碎形生成，同時並考量圖形生成時之自相
似特性變化，依照生成時之序率隨機特性，修改其原本之數值編碼方式，成功建立一套適
用於各類圖形之隨機多重自相似圖形文字編碼機制及相關距離計算方法，可提供各類多重
碎形圖形模擬之用。 
然而大部分研究目前仍著重於型態之「生成」部分，仍未深入探討自然界型態「衰退」
之特性，若能一併結合已發展多時之隨機碎形生成理論，再進一步加入衰減歷程之研究，
當更能符合自然界萬物型態演變之物理特性。隨機碎形圖形之隨機逆退衰減可謂為一項嶄
新之研究項目，若把自然界型態之生成視為隨機碎形生成時，其型態或內容呈現遞增現象。
當自然型態衰退或凋萎時，乃由原已生成之型態進行衰減之歷程，而其衰減過程並不一定
會依照原生成歷程逆退而回，而是屬於另一種隨機逆退之衰減過程。隨機碎形圖形生成過
程已具有高度之複雜性，當此類複雜圖形生成後，若繼續考量其隨機衰減特性，圖形變化
則呈現更高度之變異性，要掌握其特性將更行困難。有鑑於此，為考慮自然型態由生成至
顛峰然後轉為衰退之變化特性，本研究擬率先針對隨機碎形圖形生成後之隨機逆退衰減過
程進行特性研析與理論創新建構，並推衍相關圖形衰減編碼方法與拓樸距離計算通式，以
研析隨機逆退式碎形圖形衰減理論於水文模擬之應用，並進行天然河網與寬度函數之模擬
應用。 
四、研究方法 
(一) 逆退衰減 
當自然界型態之生成視為隨機碎形生成時，其型態或內容呈現遞增現象，其概念如下
圖 1 中傳統碎形生成及隨機碎形生成所示。當自然型態衰退或凋萎時，乃由原已生成之型
態進行衰減之歷程，而其衰減過程並不一定會依照原生成歷程逆退而回，而是屬於另一種
隨機逆退之衰減過程，其概念如圖 1 之隨機碎形生成圖與隨機碎形隨機衰減圖所示。由圖
1 各類生成與衰退圖形比較可以得知，隨機碎形圖形生成過程已具有高度之複雜性，當此
類複雜圖形生成後，若繼續考量其隨機衰減特性，圖形變化則呈現更高度之變異性，要掌
握其特性將更行困難。 
-5- 
 
(1- )b iteration 2
(1- )c iteration 3
(1- )a iteration 1
結構強度比較圖
2
2
2
2
2
2
22 2 2
1 1
1 1 1 1
11
1 1 1 1
1
1
1
1
1
1
1
1
1
1 1
1
1 1
1
1
1
1
1
1
1 1
1
1
1 1
1
3
3
3
3
3
3
3
3
3 3 3 3
3
3
3
3
3 3 3 3
2
2
22 22
2
2
22 22
22 22
2
2
2
2
2
2
22
2
2
2
2
22
1
1
1 1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1 1
1
1
1
1
1
1
1
1
1
1
1
1
1
1 1
1
1
1
1
1
 
圖 2 結構強度比較圖 
圖 2 所示為三次疊代生成之碎形圖形，圖 1 中各線段上方之數字為其結構強度大小，其主
幹之結構強度隨著碎形生成而遞增。其對應之編碼如圖 3 所示。 
11122  11122  11122  11133  33111
11122  11122  11122  11133  33111
11122  11122  11122  11133  33111
11122  11122  11122  11133  33111
11122  11122  11122  11133  33111
 3  
11122  11122  11122  11122  22111 2  
11111 1  





Iteration
Iteration
Iteration
 
圖 3 結構強度編碼結果 
 
2. 結構強度編碼(Structure code)計算 
(1)初始基本型態之結構強度編碼 
假設初始基本型態之結構強度皆相同，則其結構強度編碼 Structure code 可設定為 
0
1 ~1                        1 LiSCi   (1) 
以圖 2 範例來說，其初始基本型態之結構強度編碼為 














5  if       1
4  if       1
3  if       1
2  if       1
1  if       1
  1
i
i
i
i
i
SCi
 (2) 
實際應用時，初始基本型態之結構強度編碼可依使用者需求自行作調整，並不一定要
設定強度皆相同。 
(2)隨著生成過程變化之結構強度 
隨者第二次遞迴疊代生成後，各部分結構強度編碼轉變為 
00
112
)1( ~1  ,1                        )(  0 Li ~LkiCSCSCSC kiikL   (3) 
其中 )(iC 為家族距離函數，因家族距離之定義為該家族節點與下一個連結家族節點間之距
-6- 
 
式衰減機率外，其衰減機率另受外在因子影響而改變。例如植物因應氣候變化、陽光照射
等環境因素而影響衰減歷程；河川網路因颱洪場次特性不同，因應降雨強度改變而具有不
同之衰減機率。 
(四) 逆退編碼 
衰減與生成過程最大不同處在於生成時為不斷增生自我家族之子代，並不會影響其他
家族之生成；而衰減即自然型態消逝，會影響其他相關家族之存續與否。縱使家族或編碼(線
段)本身並未消逝，但可能因為其關連家族消逝而隨之消逝；以圖 4 來說，當圖 4(a)中虛線
部分關鍵線段(key link)衰減消失後，除了本身之型態消逝外，並造成連結於其後之相關型
態隨之消逝。連結於其後之圖形本身雖未衰減，但受關鍵線段消逝之緣故而仍屬衰減，故
衰減歷程比生成歷程更形複雜，亦更難掌控。 
 
圖 4 關鍵線段衰減影響示意圖 
因此，進行隨機碎形圖形逆退編碼時，需經過兩個步驟，方能獲得最正確之編碼結果。
第一步驟為根據自身衰減與否決定其編碼，第二步驟則為檢驗其關鍵線段或是關鍵家族是
否衰減，再決定後續之衰減編碼，茲將詳細過程分述如下： 
1. 根據自身衰減與否決定編碼 
自身衰減與否可由衰減指標決定，當其衰減指標 RI 為「0」時表示衰減， RI 為「1」
時表示本身保持不變。而實際運算時可忽略原編碼為「0」之部分，僅運算原編碼為「1」
之型態。其運算公式如下： 






)recession (No          1    if         
)(Recession          0    if            0
T
k
T
k
T
k
T
k
T
k
RIIRIR
RIIR
 (10) 
rmT ~1 ， mLk 0~1  
其中 TkIR 表示第 T 次逆退衰減過程中，第 k 個線段之編碼； rm 表示總共進行之衰減歷
程次數(衰減歷程次數 rm 並一定要等於生成疊代次數m )。 
2. 根據關聯線段(家族)是否衰減決定編碼值 
首先檢驗同一家族中與本身相關之關聯線段是否衰減，若相連之關聯線段已經衰減，
則編碼歸零。接著放大尺度，由最小家族大小(編碼數目為 L0)至最大家族大小(編碼數目為
L0
m-1
)依序進行檢驗，當其關聯家族內部產生衰減時，若關聯家族之內部衰減會影響自身家
族之存續，則自身家族之編碼歸零。至於關聯家族之內部衰減是否影響連結家族之存續，
則可由關聯家族之家族距離變化判斷，當關聯家族之家族距離變小時，即為關鍵線段衰減
消逝，將影響後續之連結之家族。 
 
圖 5 關聯家族距離變化比較圖 
以圖 5 來說，紅色圓圈所標示之家族為後面兩個家族之關聯家族，當圖 5(a) 紅色圓圈
所標示之家族產生內部衰減，因衰減部分為關鍵線段，故後續相連接之家族亦一併隨之衰
退；反之以圖 5(b)來說，紅色圓圈所標示之家族雖然產生內部衰減，但並非發生在關鍵線
段上，並不影響後續相連接之家族。而以圖 5(a)來說，當內部衰減會對後續連結家族影響
時，其本身家族距離亦隨之變小。故進行衰減編碼時只需檢驗其關聯家族之家族距離是否
變小，當其關聯家族之家族距離變小，表示家族本身隨關聯家族衰減，其整體家族之編碼
( )    a cut a key link ( )b result
( )    a cut a key link ( )b cut a regular link   
-8- 
 
度 u 及擴散係數 DL 兩參數，主要乃以 SCE 法優選多場颱洪所得之平均結果為代表，其中
所採用之平均漂移速度 u 為 0.769(m/sec)，擴散係數 DL 為 4760.28 (m
2
/sec)，其詳細參數檢
定結果如表 1 所示。 
(七)生成與衰減設定 
隨機碎形生成部分，主要基本型態之選定如圖 7，並進行 6 次隨機碎形河川網路生成。
於逆退衰減模擬時，同樣進行 6 次隨機碎形河川網路之逆退衰減。結構強度部分，設定基
本型態的結構強度皆相同，故生成圖形結構強度共有 6 類，其所對應之衰減機率如表 2。
其中結構強度 6 之衰減機率為 0，表示保留主流型態不衰減。 
 
 
五、結果與討論 
本研究應用隨機逆退式碎形圖形衰減理論進行降雨－逕流歷程中退水段之河川網路模
擬，並套配地貌型瞬時單位歷線模式探討瞬時單位歷線型態之變化。茲將各結果與討論分
述如下： 
1. 本研究首先利用RiverTools等地理資訊系統處理軟體進行寶橋集水區之DEM資料分析與
河網擷取，其結果如圖 8 所示。並根據寶橋集水區之 DEM 河川網路擷取結果，計算其
寬度函數，其結果如圖 9(a)所示 
2. 分析目標集水區河川網路型態，訂定所適用之主基本型態，所選定之主要基本型態結果
一並示於圖 7 中。 
3. 針對颱洪事件中之降雨量變化資料進行隨機碎形河川網路生成，並計算其寬度函數其結
果如圖 9(b)所示。 
4. 根據隨機碎形逆退衰減理論針對已生成之隨機碎形河川網路進行逆退衰減模擬，並計算
其寬度函數。研究中各颱洪事件共進行 6 次逆退衰減模擬，茲選取聖帕颱洪為例，將逆
退衰減河川網路之寬度函數模擬擷取部分成果，繪如圖 9(c)-9(e)所示。 
5. 由生成之隨機碎形河川網路圖 9(b)與逆退衰減之河川網路圖 9(c)-9(e)之比較可以看出，
逆退衰減過程為根據原生成之河川網路進行衰減模擬，故其變化皆不會脫離原本生成之
河川網路型態，完全符合自然界圖形衰減過程之物理特性。 
6. 於降雨—逕流歷程中，隨著降雨停止，集水區進入退水狀態，河川網路亦隨之由稠密轉
為稀疏；亦即隨著衰減次數之增加，河川網路將愈形稀疏。進一步比較圖 9(c)-9(e)可以
發現，隨著衰減次數增加，所獲得之逆退衰減河川網路更形稀疏簡化，其拓樸寬度函數
則更為精簡。 
7. 根據退衰減河川網路之寬度函數計算瞬時單位歷線，茲選取聖帕颱洪為例，將逆退衰減
河川網路之瞬時單位歷線模擬擷取部分成果，繪如圖 10 及圖 11 所示。 
8. 詳細比較圖 10 各逆退衰減衰減河川網路之瞬時單位歷線，可以發現當衰減次數增加，河
川網路較為稀疏，其洪峰流量大小亦隨之降低，符合降雨—逕流歷程中水文物理現象。 
9. 比較圖 10 及圖 11 之逆退衰減河網瞬時單位歷線可以發現，同樣模擬聖帕颱洪衰減歷程
之瞬時單位歷線，所獲得之結果亦有所差異。其主要原因乃是本研究進行逆退衰減模擬
時，其衰減過程為隨機衰減，故每次進行逆退衰減模擬將因其隨機特性而產生差異。 
10. 由於衰減時為隨機衰減，其衰減機率尚未能完全符合降雨—逕流歷程中退水段之物理
特性，再加上拓樸距離之計算並未加入河川網路之實際物理長度，故如何因應河川集水
區降雨—逕流歷程之複雜性進行衰減機率之調整及進行幾何架構下之河川網路衰減模擬，
皆為值得繼續探討之課題。 
由實例應用中已證實本研究所建立之研析架構能充分應用於水文河川網路之模擬當中，
並具有良好之流量估算結果，可見此種方法具有高度之彈性與變異性，符合各類自然型態
之衰減歷程，能適任各種複雜自然型態之逆退衰減模擬。 
五、結論與建議 
本研究針對隨機逆退式碎形圖形衰減之特性，進行一系列理論研析與建立，已成功完
成整體架構之建立，並進行逆退衰減圖形編碼之理論建構，及完成相關拓樸距離與拓樸寬
度計算方法之推衍。相較於傳統只應用生成概念進行河川網路之模擬，逆退衰減理論之建
-10- 
 
  
圖 6 降雨－逕流歷程中河網型態衰減示意圖 
 
 
 
圖 7 寶橋集水區及其主要基本型態示意圖 
 
 
 
 
 
圖 8 寶橋集水區及河川網路示意圖  
 
0 0.2 0.4 0.6 0.8 1
0
0.001
0.002
0.003
0.004
0.005
WF_DEM
0 0.2 0.4 0.6 0.8 1
0
0.01
0.02
0.03
0.04
0.05
WF - Recession 1
0 0.2 0.4 0.6 0.8 1
0
0.01
0.02
0.03
0.04
0.05
WF - Recession 3
(a)
(b)
(c)
0 0.2 0.4 0.6 0.8 1
0
0.01
0.02
0.03
0.04
0.05
WF - Recession 5
(d)
0 0.2 0.4 0.6 0.8 1
0
0.005
0.01
0.015
0.02
0.025
WF_Generation
(e)
 
圖 9 寶橋集水區 DEM 河網與隨機碎形逆退衰減
河網寬度函數比較圖(聖帕颱洪) 
 
 
 
0 20 40 60
Time (hours)
0
0.0004
0.0008
0.0012
0.0016
0.002
IU
H
 (
1
/m
in
)
GIUH
GIUH of recession 1
GIUH of recession 3
GIUH of recession 5
 
 
圖 10 寶橋集水區逆退衰減河網瞬時單位歷線比
較圖(聖帕颱洪第 1 次模擬) 
 
-12- 
 
七、計畫成果自評 
 
本計畫以地貌型水文模式之研究為基礎，輔以國內外相關研究之文獻，再藉由上述各
項隨機逆退式碎形圖形衰減特性、衰減編碼理論及距離計算工具研發而建立一種機制，期
使隨機逆退式碎形圖形衰減架構實際應用於集水區之河川網路型態模擬上，並進行隨機逆
退式碎形河川網路之瞬時單歷線研究。茲將本研究所獲致之主要成果分述如下： 
1. 完成計劃流域歷年來氣象、水文、地文及河川網路等相關資料之蒐集、建檔及研析。 
2. 完成集水區之 DEM 資料整理及圖幅接合等工作，並進一步修正及填補錯誤之 DEM 資
料。利用自動化方式建構河川網路，完成不同大小之面積門檻值所擷取流域中各子集水
區不同尺度之河川網路，並予以繪製成圖。 
3. 完成隨機逆退式碎形圖形衰減特性之探討，並據以進行此類圖形數值編碼理論之研發。 
4. 完成隨機隨機逆退式碎形圖形衰減仿圖形之長度與距離等物理特性之探討，並結合編碼
理論與圖形各類距離物理特性進行相關拓樸長度與拓樸距離之計算公式。 
5. 完成研析集水區以寬度函數為主軸之地貌型瞬時單位歷線參數優選與模式建立，並據以
進行瞬時單位歷線模擬與探討。 
6. 完成研析集水區之隨機碎形圖形結構強度初步探討，並據以建立相關颱洪事件之衰減機
率。 
7. 應用隨機逆退式碎形圖形衰減理論，完成研析集水區颱洪事件之河川網路模擬。 
8. 應用隨機逆退式碎形圖形衰減理論於颱洪事件之瞬時單位歷線模擬。於颱洪事件模擬中，
實具有相當之彈性與變化。相較於傳統只應用生成概念進行河川網路之模擬，逆退衰減
理論之建構將更能補足傳統隨機碎形生成理論之不足，使整理理論架構具有更佳之彈性
與符合實際集水區之地文變化，並能適任各種複雜之自然型態模擬。。 
9. 成功地將隨機逆退式碎形圖形衰減特性、圖形逆退衰減編碼及相關距離計算與河川網路
之生成予以連結，並進一步實際應用於集水區瞬時單位歷線之推估上，期能提供臺灣集
水區防洪規劃及水土保持研析之參考應用。 
10. 本研究建立一套完整之隨機逆退式碎形圖形衰減編碼方法及推衍相關拓樸距離計算公
式，以提供隨機碎形逆退衰減理論於不同類別自然圖形之生成模擬與電腦運算應用。而
研究中亦詳細探討隨機碎形逆退衰減圖形之編碼概念、結構強度變化、家族距離變化與
及拓樸距離之計算方法等，對於隨機碎形圖形之應用開啟更寬敞之途徑。 
11. 本研究部分內容已準備投稿至國際 SCI 期刊中，目前暫訂著作名稱為： 
Hung, Chun-po, 2009, ―Random back-recession of the random fractal tree,‖ Fractals. (in 
processing). 
 
綜合上述之各項成果可知，本研究計畫已達致所預期完成之各項工作目標，創新並完
成隨機碎形圖形逆退衰減模擬之相關理論推導；且研習過程中由摸索、瞭解、鑽研而進一
步辯證台灣集水區獨特之河川網路在水文模擬上之重要性。本計畫之研究成果不僅可有效
地探討地貌型水文模式與隨機碎形逆退衰減特性之關係，並可藉此水文與地文數位化結合
之研究結果，以進一步協助達成集水區永續經營與管理之目標。 
