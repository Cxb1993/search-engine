to detect all unacceptable faults also detect many 
acceptable ones, resulting in a severe loss on 
achievable yield improvement. In literature some 
approaches have been proposed to address this over-
detection problem. Although the number of detected 
acceptable faults can be significantly reduced, these 
approaches do not guarantee that all acceptable 
faults will escape detection. Recently a test 
technique that can totally avoid over-detection of 
acceptable faults has been proposed, which however 
requires a large number of test patterns.  
   This project is carried out in one year (from Aug. 
1, 2011 to July 31, 2012). The main objective of this 
project is to develop and explore a novel test 
methodology, called multiple test set detection 
(MTSD), to totally and efficiently eliminate this 
over-detection problem. The MTSD test methodology 
consists of three parts: (1) a test generation 
procedure, (2) a test application scheme, and (3) a 
way to determine whether a circuit under test is 
faulty or not. To our knowledge, this is the most 
efficient methodology so far among all methods that 
can totally eliminate the over-detection problem 
using the fewest test patterns. The working items 
that are completed are listed below: 
1. A test pattern generation algorithm that can avoid 
the over-detection problem using a small number of 
test patterns 
2. An output masking algorithm that can further 
reduce the total number of over-detected acceptable 
faults 
3.  Test generation techniques that appropriately 
integrate the developed test pattern generation and 
output masking algorithms 
4.  Test application schemes that can efficiently 
test the target circuit 
5. Test result determination methods that can 
correctly classify detections of an unacceptable 
fault and an acceptable one 
英文關鍵詞： Acceptable fault, error rate, error-tolerance, over-
detection, performance degradation, yield improvement
 1 
行政院國家科學委員會專題研究計畫成果報告 
可有效提升良率之多重測試集偵測方法之研究 
計畫編號：NSC 100-2218-E-110-001 
執行期限：100年 8月 1日至 101年 7月 31日 
主持人：謝東佑 國立中山大學電機系 助理教授 
E-mail: tyhsieh@mail.ee.nsysu.edu.tw 
 
一、中文摘要 
近年來 fault可接受度之研究逐漸受到
注意。藉由在測試過程中不去測試對於系
統效能有極小影響或甚至沒有影響之
fault(即可接受 fault)，晶片良率可顯著提升。
然而文獻中之研究顯示利用傳統測試向量
(test pattern)產生方法針對不可接受 fault所
產生之測試向量同時也會偵測到極多可接
受 fault，造成良率可提升幅度之劇烈下降。
過去為了解決此問題，已發展一些測試方
法可大量降低被偵測到之可接受 faults 數
目，然而這些方法仍無法保證可接受 faults
之過度偵測(over-detection)問題可完全解
決。在最近幾年一可完全避免可接受 faults
被過度偵測之方法被提出，然而此方法所
需之測試向量數目極多而可能使測試成本
過高。 
本計畫為中山大學電機系所提出之一
年計畫“可有效提升良率之多重測試集偵
測方法之研究”。本計畫主要目的在於開發
出一新穎測試方法，稱為多重測試集偵測 
(Multiple test set detection)方法，可以極高
效率完全解決過度偵測問題。本計畫執行
時間為100年8月1日至101年7月31日，
已執行完畢，研究成果摘要如下： 
本計畫所開發之多重測試集偵測方法，
為目前可見之文獻中能以最少測試向量完
全避免過度偵測問題之技術。實驗結果顯
示與文獻中已發展之方法相比，此方法可
在數秒至數分鐘內產生所需測試向量，且
測試向量總數與先前方法相比降低幅度可
達 80%~99%，因此可大幅減少所需測試
成本。 
本計畫已完成之具體項目包括: 
1 測試向量產生演算法，可以極少測試
向量盡量避免可接受 faults 之過度偵
測問題。 
2 輸出響應遮蔽演算法，可進一步顯著
降低所會過度偵測之可接受 faults 數
目。 
3 多重測試集產生技術，妥善整合 1. 2. 
所述之演算法。 
4 多重測試集應用方法，可高效率測試
待測電路。 
5 多重測試集測試結果判定方法，可正
確分辨不可接受 fault 與可接受 fault
之偵測情形。 
 
關鍵詞: 錯誤可接受度、錯誤發生率、容
誤、過度偵測、效能下降、良率提升 
 
English Abstract 
Acceptability of faults has recently been 
investigated. By intentionally ignoring the 
set of acceptable faults that have no or minor 
impacts on the chip/system performance 
during testing, significant yield improvement 
can be achieved. However, previous studies 
have shown that the patterns generated by a 
conventional ATPG procedure to detect all 
unacceptable faults also detect many 
acceptable ones, resulting in a severe loss on 
achievable yield improvement. In literature 
some approaches have been proposed to 
address this over-detection problem. 
Although the number of detected acceptable 
faults can be significantly reduced, these 
approaches do not guarantee that all 
acceptable faults will escape detection. 
 3 
square error)、高峰信號噪音比(peak signal 
to noise ratio)等。在本計畫中我們採用錯誤
發生率(即輸入到待測電路的測試向量中
所會產生錯誤運算結果的比例 )來決定
faults之可接受度。 
在[3]中作者以錯誤發生率為基礎提出
一 fault 導向之容誤測試方法，如圖一所
示。 
此方法首先利用一取樣技術估計待測
電路中每一個 fault之錯誤發生率。接著再
根據估計之結果及使用者可接受之錯誤發
生率數值辨識出最多的可接受 faults。藉由
在測試過程中忽略可接受 faults，晶片之有
效良率將可顯著提升。然而[13]之研究顯示
利用傳統測試向量產生方法針對不可接受
fault 所產生之測試向量同時也會偵測到極
多可接受 fault，造成良率可提升幅度之劇
烈下降，如表一所示。 
表一中所使用之符號意義如下所述。 
 AE: 使用者可接受之錯誤發生率數值 
 nA: 可接受之 faults數目 
 EY: 當所有可接受 faults 皆在測試過
程中不被測試時所能達到之有效良率 
 #tp: 傳統測試向量產生方法針對所有    
不可接受 faults所產生之測試向 
量數目 
 nDA: 傳統測試向量產生方法所產生之 
測試向量偵測到之可接受 faults
數目 
 EY’: 由於可接受 fault之過度偵測所 
導致之有效良率 
表一顯示傳統測試向量產生方法將可
能導致超過 50%的可接受 fault被過度測試，
造成明顯的良率提升效果下降。例如針對
C7552 而言，在 AE 為 0.01 的情況下，過
度偵測問題將使良率提升幅度從 0.984 衰
退到只有 0.932 (假設製程原始良率為
0.9)。 
三、文獻探討 
文獻中為了解決此過度偵測問題，數種
不同測試方法已被提出[13]-[15]。[13]中提
出一測試向量選擇(pattern selection)方法及
一輸出遮蔽(output masking)方法，而[14]
中則發展一特殊測試向量產生方法以嘗試
產生僅會偵測到不可接受 fault之測試向量。
雖然這些方法可大幅降低所偵測到之可接
受 faults 數目，但無法保證所有可接受
faults 皆不被偵測到。在[15]中作者提出一
可完全避免過度偵測問題之嶄新測試方法。
與傳統上針對所有 faults 僅產生一組測試
集(test set)之測試向量產生方法相當不同
的是，[15]中之方法會針對每一個不可接受
fault 產生一組測試集。這些所產生的測試
集具有一重要特性: 任一不可接受 fault 必
會被某一個測試集內的所有測試向量偵測
到，但沒有任何一個可接受 fault會被這些
測試向量偵測到。藉由將所產生之測試集
輸入到待測電路中，並只有在某一個測試
集內的所有測試向量皆產生錯誤運算結果
的情況下才決定待測電路為有錯電路，沒
有任何一個可接受 fault 將會被過度測試。
就我們所知，此方法為第一個能夠完全解
決過度測試問題之方法。然而，由於每一
不可接受 fault即需一組測試集，此方法將
需極多測試向量而導致過高測試成本。 
 
表一: 可接受 faults之過度測試(over-detection) 
 
AE=0.001 AE=0.005 AE=0.01 
nA EY #tp nDA EY’ nA EY #tp nDA  EY’ nA EY #tp nDA  EY’ 
C499 
(758 faults) 
202 0.926 12 80 0.915 428 0.955 7 264 0.921 546 0.971 5 368 0.923 
C1908 
(1879 faults) 
897 0.946 16 422 0.924 1255 0.966 8 639 0.932 1496 0.979 6 786 0.937 
C3540 
(3428 faults 
1658 0.947 38 856 0.922 2640 0.976 8 805 0.952 3137 0.991 6 1135 0.957 
C5315 
(5352 faults) 
1813 0.933 43 1295 0.909 3974 0.973 15 2351 0928 4890 0.991 6 1733 0.957 
C7552 
(7548 faults) 
2829 0.936 36 1788 0.913 5098 0.966 16 3573 0.919 6416 0.984 8 3933 0.932 
 5 
fault 之向量。Ideal patterns 之集合以
TIDL表示。 
 Secondary pattern: 會偵測到不可接受
fault與可接受 fault之向量。Secondary 
patterns之集合以 TSEC表示。 
在此流程中，我們會先優先選擇 ideal 
patterns 以盡量偵測到不可接受 fault 而不
使任何可接受 fault被偵測到。假如所有可
用的 ideal pattern都已用完但仍有不可接受
faults仍未偵測到，則會考慮選擇 secondary 
patterns來確保 100%的不可接受 fault涵蓋
率。 
在選擇 ideal patterns 時，所有的 ideal 
patterns 會先以他們所偵測到的不可接受
faults數目遞減排序。而在進行選擇時則優
先選擇能偵測到最多不可接受 fault 的向
量。 
另一方面，在選擇 secondary patterns
時，我們會先針對所有的 secondary patterns
以他們所偵測到的不可接受 faults 數目與
可接受 faults 數目之差值遞減排序。選擇
secondary patterns 時則優先選擇能偵測到
最多不可接受 faults及最少可接受 faults的
向量。 
等到能達到 100%不可接受 fault 涵蓋
率的測試向量都選擇完畢後，我們更進一
步地使用傳統測試向量產生方法中常使用
的 逆 向 錯 誤 模 擬 (reverse-order fault 
simulation)方法來盡量降低所需之測試向
量數目。 
2. 輸出響應遮蔽演算法： 
本計畫已提出一輸出響應遮蔽演算法，
針對 1)之演算法所產生之測試向量盡可能
地遮蔽愈多輸出響應。此方法之流程如圖
三所示。 
此方法中我們首先會先遮蔽只偵測到
可接受 faults 之輸出響應。假如遮蔽這些
輸出響應後導致有些不可接受 faults 無法
被偵測，則我們會取消部分可偵測到不可
接受 faults及可接受 faults之輸出響應之遮
蔽。流程中我們將分析這些響應所偵測到
之 fault數目，並以他們所偵測到的不可接
受 faults數目與可接受 faults數目之差值遞
減排序這些響應。我們將優先將能偵測到
最多不可接受 faults 及最少可接受 faults
的輸出響應取消遮蔽。 
 
3. 多重測試集產生技術： 
本計畫共開發出兩種適用於多重測試
集偵測方法之測試集產生流程。第一種為
基礎流程，可有效產生適當測試集。第二
種為一進階流程，稱為次序性多重測試集
偵測方法  (Ordered Multiple Test Set 
Detection, OMTSD)，可更顯著地降低所
需之測試向量數目。 
3.1. 基礎多重測試集產生流程 
基礎測試集產生流程如圖四所示。此
多重測試集流程為一迭代(iterative)及適應
(adaptive)之流程。針對已辨識之可接受
faults及不可接受 faults，此流程首先產生
一組可偵測到所有不可接受 faults 但非所
有可接受 faults 之測試集。接著再決定一
些在測試過程中不需觀察且不會影響到不
可接受 faults 之偵測之輸出響應(output 
response bit)。此步驟之動機在於針對前一
步驟所產生的測試向量，有些可接受 faults
可能會被一些不會偵測到任何不可接受
faults的輸出響應所偵測到。藉由在測試過
程中不去觀察(遮蔽)這些輸出響應，所過
度偵測到的可接受 faults 數目將可有效降
低。更且一般來說，一個 fault可能會被多
個測試向量所偵測到，因此可能有許多錯
誤(與預期數值不同)輸出響應存在。即使
一個 fault僅被一個測試向量所偵測到，此
fault 之錯誤效應(faulty effect)仍有可能會
傳遞到多個輸出腳位。由於我們僅需觀察
一個有錯之輸出響應即可知道一個 fault
被一個測試向量所偵測到，因此許多有錯
之輸出響應即可視為多餘之響應而不需在
測試過程中觀察。 
接著此流程將移除未被所觀察之輸出
響應所偵測到之可接受 fault，並產生一新
的可接受 fault清單。假如此時所有考慮之
 7 
針對次序性多重測試集產生技術，測
試集需依照其產生順序依序輸入之待測電
路中進行測試。令所產生之測試集為 TS1, 
TS2,…, TSi,…, TSn, 其中 i為測試集產生之
迭代序號。假如有一測試集 TSk存在使得
以下兩種條件發生時待測電路才會判定為
不可接受: 
a. 待測電路無法通過所有測試集 TSj, j 
= 1, 2, … , k-1之測試且錯誤測試結果
只會出現在歸類為 OUA之輸出響應位
元 
b. 待測電路無法通過測試集 TSk 之測
試且錯誤結果出現在至少一個歸類為
OU之輸出響應位元 
否則待測電路將判定為可接受之電路。 
此測試集應用方法同樣也不一定需要
輸入所有產生的測試集及測試向量。只要
一確定上述兩條件 a, b滿足時，即可決定
待測電路為不可接受，不需再輸入剩餘之
測試集及測試向量。 
此方法正確性之詳細驗證亦可參閱已
接受或已發表論文 1。 
 
六、實驗結果及討論 
我們利用 10個 ISCAS 85標準電路針
對所提出之兩種多重測試集產生技術進行
實驗。 
實驗結果顯示兩種技術不只可完全避
免可接受 fault之過度偵測問題，更可大幅
降低所需之測試向量數目。與[15]方法相比
基礎多重測試集技術所需之測試向量總數
降低幅度達 85%~92%。而次序性多重測試
集技術可更顯著地降低所需測試向量總數，
降幅達 86%~94%。 
另一方面，平均來說基礎多重測試集
技術測試一電路僅需輸入所產生測試向量
總數之 14%~60%，而次序性多重測試集技
術僅需輸入 11%~57%之測試向量。 
這些實驗結果明顯顯示本計畫所開發
技術解決過度偵測問題之極高效率。詳細
實驗結果及說明可參閱已接受或已發表論
文 1。 
七、結論 
  整體而言，本計畫進行相當順利，皆按
照預定進度執行，並有豐碩之成果。已發
表或已獲接受之期刊及會議論文達 6 篇，
包含 2 篇國外期刊論文及 4 篇國內外會議
論文。 
七、已接受或已發表論文 
1. K.-J. Lee, T.-Y. Hsieh and M. A. Breuer, 
"Efficient over-detection elimination of 
acceptable faults for yield improvement," IEEE 
Trans. on Computer-Aided Design of Integrated 
Circuits and Systems, Vol. 31, No. 5, pp. 
754-764, May 2012. 
2. W.-C. Lien, K.-J. Lee, T.-Y. Hsieh, K. 
Chakrabarty and Y.-H. Wu, "Counter-based 
output selection for test response compaction," 
IEEE Trans. on Computer-Aided Design of 
Integrated Circuits and Systems, accepted for 
publication, Jul. 2012. 
3. W.-C. Lien, W.-L. Ang, T.-Y. Hsieh and K.-J. 
Lee, "High-performance deterministic BIST 
using multiple twisted-ring counters," The 23th 
VLSI DESIGN/CAD Symp., Aug. 2012. 
4. W.-C. Lien, K.-J. Lee, T.-Y. Hsieh, K. 
Chakrabarty and Y.-H. Wu, "Test response 
compaction based on a single counter," The 6th 
VLSI Test Technology Workshop, Jul. 2012. 
5. W.-C. Lien, K.-J. Lee, T.-Y. Hsieh, S.-S. Chien 
and K. Chakrabarty, "Accumulator-based output 
selection for test response compaction," Int'l 
Symp. on Circuits and Systems, pp. 2313-2316, 
May 2012. 
6. W.-C. Lien, T.-Y. Hsieh and K.-J. Lee, 
"Routing-efficient implementation of an 
internal-response-based BIST architecture," Int'l. 
Symp. on VLSI Design, Automation and Test, 
pp. 1-4, Apr. 2012. 
 
八、參考文獻 
[1] T.-Y. Hsieh, M. A. Breuer, M. Annavaram, S. K. 
Gupta and K.-J. Lee, “Tolerance of performance 
degrading faults for effective yield improvement,” 
Proc. Int’l Test Conf., pp. 1-10, 2009. 
[2] M. A. Breuer, S. K. Gupta, and T. M. Mak, 
“Defect and error-tolerance in the presence of 
massive numbers of defects,” IEEE Design & Test 
of Computers, 21(3): pp. 216-227, 2004. 
[3] K.-J. Lee, T.-Y. Hsieh and M. A. Breuer, “A novel 
test methodology based on error-rate to support 
error-tolerance,” Proc. Int’l Test Conf., pp. 
1136-1144, 2005. 
[4] I. Chong and A. Ortega, “Hardware testing for 
error tolerant multimedia compression based on 
linear transforms,” Proc. Int’l. Symp. on Defect 
and Fault Tolerance in VLSI Systems, pp. 
523-531, 2005. 
 9 
Ftu and Fta, and random 
& deterministic 
candidate patterns
Any available 
elements in TIDL ?
  
Select the first 
sorted pattern
Yes
Yes
Reverse order 
fault simulation
Select the first 
sorted pattern
Yes
No
No
No
Remove 
detected fuu 
from Fuu 
Sort available
patterns in TIDL
Establish fault 
dictionary
Identify TIDL  
and TSEC
Sort available
patterns in TSEC
Drop redundant 
generated 
patterns
Final 
generated 
test patterns
Remove detected
 fuu from Fuu 
|Fuu| = 0 ? 
|Fuu| = 0 ? 
 
圖二：測試向量產生演算法之流程圖 
Ftu and Fta, and 
generated test patterns
Reverse order 
fault simulation
Unmask the first 
sorted masked output
Yes
No
Mask outputs detecting 
at least one ftu and at 
least one fta
Establish fault 
dictionary
Remove 
detected fuu from 
Fuu
Sort masked outputs 
detecting at least one 
ftu and at least one fta
Mask redundant 
unmasked outputs
Final observed 
outputs
Mask outputs detecting 
no ftu
|Fuu| = 0 ? 
 
圖三：輸出響應遮蔽演算法之流程圖 
 
 1 
國科會補助專題研究計畫項下出席國際學術會議心得報告 
           
一. 參加會議經過 : 
國際電路與系統設計會議(Int’l Symp. on Circuits and Systems, ISCAS)由國際電機電
子學會(IEEE)所舉辦，會議宗旨為探討積體電路、印刷電路板乃至於電路系統之設計相
關問題與技術研發。ISCAS 為 VLSI 設計領域之大型國際會議，每年吸引約 2000 人參
加。在為期四天之議程中，許多國際知名之設計與測試專家學者聚集在一起，針對設計
相關之不同主題進行深入且專業之討論。會議討論內容包括從多媒體相關電路設計、通
訊相關電路設計、生醫相關電路設計到測試相關設計與技術等主題，為一在探討電路設
計方面相關問題及技術非常完整之會議。 
2012 年國際電路與系統設計會議於 5 月 20 日至 23 日在韓國首爾市之 COEX 會議
中心舉行。在今年的會議中，除了有 11 場教學講習 (Tutorial)專門探討設計相關主題，
涵蓋了可信賴性 (Reliability)、智慧系統(Intelligent System)設計、綠能電路設計及通訊
電路設計等主題外，更有 3 場專題演講(Keynote Speech 及 Invited Speech)、154 場技術
論文發表會 (Technical Paper Sessions)及 4 場產品動態展示(Live Demo Session)，讓與會
者在參加完會議後，對於設計之相關主題有相當豐富之收穫。 
本人今年參加此會議的主要任務為發表一篇論文並與與會人士進行交流。本人於台
灣時間 5 月 20 日早上 11 點 25 分從高雄小港國際機場搭機經由香港轉機於當地時間 5
月 20 日約下午 7 點抵達首爾。休息一晚之後便開始數天的會議行程。 
會議的第一天(5 月 20 日)主要為探討設計相關問題之教學講習(Tutorial)，今年共有
11 場教學講習。由於抵達首爾市時已是傍晚七點，因此本人此次會議行程主要由 5 月
21 日開始。 
5 月 21 日的會議內容於早上 8 點 30 分開始，首先由 Nam-Sung Woo (President & 
General Manager, Samsung Electronics Co., Ltd.)所主講的 Keynote Speech 揭開序曲，題目
為“Smart Mobile Devices and Semiconductor Solution: Past, Present and Future”。內容主要
為探討智慧手持裝置的發展現況及未來展望。講者回顧了智慧手持裝置的重大研究發展，
並以三星電子為例詳細介紹現有之手機科技。從講者的演講中可以了解三星電子對於手
機產品技術版圖強大的企圖心及執行力，使三星電子能夠成為能與蘋果電腦相抗衡之國
際知名企業。講者也講解了目前手機科技研究發展所遭遇的四項挑戰: 1)低功率需求、
2) 熱相關議題(Thermal Issue)解決、3) 高效能需求 及4) 有限的手機體積 (持續縮小)。
計畫編號 NSC 100-2218-E-110-001 
計畫名稱 可有效提升良率之多重測試集偵測方法之研究 
出國人員姓名 謝東佑 服務機構及職稱 中山大學電機系 助理教授 
會議時間 2012年 5 月 20日~23日 會議地點 韓國首爾市 (Seoul, Korea) 
會議名稱 
(中文) 2012 國際電路與系統設計會議 
(英文) 2012 Int’l Symp. on Circuits and Systems (ISCAS) 
發表論文題目 
(中文)  以累加器為基礎可支援測試響應壓縮之輸出選擇方法 
(英文)  Accumulator-Based Output Selection for Test Response Compaction 
1Tong-Yu Hsieh
寄件者: 連小唯 <lwz98@beethoven.ee.ncku.edu.tw>
寄件日期: 2012年1月7日星期六 上午 1:16
收件者: 李昆忠老師; Krish; Tong-Yu Hsieh
主旨: FW: ISCAS 2012 Decision Notification - Paper 2002
 Dear Professors, 
        Our paper is accepted by ISCAS 2012. Thanks for help. 
 
Best regards, 
Wei-Cheng Lien 
 
 
-----Original Message----- 
From: iscas@epapers.org [mailto:iscas@epapers.org] 
Sent: Saturday, January 07, 2012 1:07 AM 
To: lwz98@beethoven.ee.ncku.edu.tw 
Cc: iscas@epapers.org 
Subject: ISCAS 2012 Decision Notification - Paper 2002 
 
Dear Wei Cheng Lien, 
 
Congratulations ! 
 
Your paper number 2002 entitled "Accumulator-Based Output Selection for Test Response Compaction", has been accepted for 
presentation at the 2012 IEEE International Symposium on Circuits & Systems, to be held in Seoul, Korea from 20-23 May 2012. We 
look forward to your participation and presentation at ISCAS 2012. 
 
Your paper has been assigned to Circuit Testing & Modeling Lecture session C1L-B. The full Conference schedule will be available on 
the ISCAS 2012 web site very soon. Be sure to check the conference web site (http://www.iscas2012.org) often as important information 
is posted regularly on this site. If there are additional co-authors for this paper, please make sure to inform them of this decision. 
 
Remember that you must adhere to the following requirements: 
1. In order to guarantee inclusion in the conference program one author must be registered by Feb 10, 2012 23:59 (GMT -0700), the pre-
registration deadline.  
2. Your completed IEEE copyright form must be received by Feb 10, 2012 23:59 (GMT -0700). The form and instructions can be found 
at http://iscas2012.e-papers.org/ESR/copyright.php 
3. Your full paper in PDF format must be submitted no later than Feb 10, 2012 23:59 (GMT -0700) at this web site: http://iscas2012.e-
papers.org/. Your paper must comply with the specifications outlined on the web site. Due to publication deadlines, no time extensions 
will be granted. 
4. Your username to log into your author account is: weichenglien. 
5. If you have forgotten your password, click on the 　orgot your Password??link located in the log-in box of the submission web site 
(http://iscas2012.e-papers.org/). 
 
IMPORTANT PROCEDURE: It is REQUIRED that all PDF submissions be IEEE Xplore compliant. If your file does not meet Xplore 
compliance, it will NOT be published and will be removed from the ISCAS 2012 Proceedings CDROM and the IEEE Xplore system. To
help you meet these new requirements, you must FIRST check to ensure that your PDF file is compliant by using the IEEE PDF eXpress 
system BEFORE you submit your paper to the conference final submission web site. 
 
1. Go to the IEEE PDF eXpress web site: www.pdf-express.org 2. Use this conference ID:  iscas12x 3. Use PDF eXpress to check or 
create your PDF file 4. Once you have a GOOD PDF file, return to the ISCAS 2012 final submission web site (http://iscas2012.e-
papers.org/) and upload your final submission. 
 
Please keep in mind that checking your PDF file for compliance and submitting your final paper for publication are 2 separate 
 SFF
1
SFF
2
SFF
3
SFF
6
SFF
4
SFF
5
SFF
7
SFF
8
SFF
9
SFF
12
SFF
10
SFF
11
Accumulator 1
Control UnitInput Control Sequences
SI1
SI2
SI3
SO1
SO2
SO3
0
1
2
CO1
CO2
Circuit Under Test
0
1
2
Accumulator 2
 
Fig. 1. An accumulator-based output selection scheme. 
In Fig. 1, at each scan cycle, the accumulators generate 
the required control signals for the multiplexers to select 
two output response bits to observe. This leads to the 
compaction of an n-bit output response pattern to an m-bit 
one. Note that the outputs bits that can be observed include 
those at the primary outputs as well as those at the 
pseudo-primary outputs (scan cells). Because only simple 
logic designs are employed for output selection, the 
required area and control data overhead for the proposed 
scheme are quite small. 
Under accumulator-based test control, the key 
optimization problem is how to select as few response bits 
as possible for observation such that all the testable faults 
are detected. We present an output selection procedure to 
determine the desired output bits based on some 
accumulator operations such as +1, 0, -1, +2, etc. We use 
Fig. 1 for illustration. Assume that the selection process for 
the compaction output CO1 uses the accumulator operation 
of +1 and starts by selecting the response stored in the scan 
flip-flop SFF1. The response bits will then be selected in the 
order of SFF1, SFF5, SFF9 and SFF10 during test application. 
Similarly, SFF2, SFF5, SFF8 and SFF11 will be successively 
selected for observation at CO2 if the accumulator 
operation of 0 (i.e., hold value) is employed and the initial 
selection bit is in SFF2. Throughout this paper, we will call 
such a set of scan flip-flops an observation path, or simply 
a path. Formally, a path is defined as a set of scan flip-flops 
whose captured responses for an applied test pattern are 
observed under an accumulator sequence during the 
scan-out process.  
In Fig. 1, three possible paths exist for a compaction 
output under the accumulating-by-plus-1 sequence for a 
pattern applied to the CUT, namely {SFF1, SFF5, SFF9, 
SFF10}, {SFF2, SFF6, SFF7, SFF11} and {SFF3, SFF4, SFF8, 
SFF12}. If we allow 4 different accumulating sequences, 
say +1, -1, 0 and +2, then we can select 12 different paths 
from each multiplexer. It is clear that to cover all scan 
flip-flops for each test pattern, at least n paths need to be 
observed, where n is the number of scan chains. In this 
paper, we will show that the number of paths to be 
observed can be significantly reduced with the proposed 
output selection procedure. Note also that the chain-based 
selection method [11] is a special case of our method 
corresponding to “add by 0”, i.e. a 0-value accumulator 
sequence. 
Implementation details for the accumulators are not 
presented here for reasons of brevity, but it suffices to state 
that a p-bit register (p =  n2log ) is required, and the p-bit 
accumulator value is incremented to select a different path. 
III. PROPOSED OUTPUT SELECTION PROCEDURE 
The proposed output selection procedure is shown in 
Fig. 2. First, a fully-specified test set for the fault list F is 
generated. Based on this set, a fault dictionary is built via 
fault simulation, which records the relationship between 
test patterns, faults and the output lines that contain errors. 
Based on this fault dictionary, we calculate the detection 
count of each fault (number of times that a fault is detected). 
We then use this information to determine a weight value 
for each fault as the reciprocal of its fault detection count. 
To facilitate the observation path determination process, a 
weight value is assigned to each output port in a CUT; it is 
calculated by summing the weights of the faults detectable 
by observing the output port. The larger weight an output 
port has, the more hard-to-detect faults can be detected by 
observing this output port.  
Generate a fully-specified test set
and a fault dictionary for all testable 
faults TF
A fault list F
END
Calculate the weight of each output 
port from the fault dictionary
Set TS, SPc and SPp as empty
Identify a set of candidate paths 
CPS and calculate the weight of 
each path in CPS
Select #CO different paths from 
CPS and store them to SPc
Generate one partially-specified 
pattern PTc for TF by limiting 
the fault propagation to the 
output ports in SPc
Yes
Is SPp empty?
No
Generate one partially-specified 
pattern PTp for TF by limiting 
the fault propagation to the 
output ports in SPp
SPp = SPc
Is PTp more 
useful than PTc?
No
Add PTc to TS and record all 
selected paths in SPc to OP
PTc = PTp
SPc = SPp
Drop all fault detected 
by PTc  from TF
Is TF empty?
Update weight of each 
output port
Yes
Yes
No
 
Fig. 2. Proposed output selection procedure. 
Next we initialize (set as null) the test set TS to be 
determined, the set of selected paths in the current iteration 
SPc, and the set of selected paths in the previous iteration 
SPp. As will become clear later, SPc and SPp are used to 
examine if the same path can be reused for different 
patterns to share the control data. We then identify all 
possible candidate paths CPS based on various initial 
values of the accumulator and the predefined accumulator 
operations. After the set of the candidate paths is identified, 
the weight of each candidate path is calculated by summing 
the weights of all output ports included in the path.  
Based on the candidate paths and their weights, we next 
select from them a total of #CO paths that have the largest 
weight values, and include these paths in the set of 
 |TS|: the total count of test patterns applied during test time. 
Note that one pattern may be applied (and counted) 
more than once in order to observe all the required 
paths. 
#STP: the total number of test patterns to be stored, which 
are the results after performing the static test set 
compaction. 
Ctrl %: the ratio of required control data volume for output 
selection over the original test data volume. 
|OP|: the total number of observation paths. 
OR %: the observation ratio of test responses, calculated by  
%100
)(#)(#
)()(
% 



PPOTP
MSLOP
OR ,  
where #PPO is the number of pseudo primary outputs, 
MSL is the maximum scan length, and #TP is the size of 
ATPG test set. 
As can be seen from Table 1, on average the 
observation ratio for the considered ISCAS’89 circuits is 
13.70% for a single compaction output and is 23.42% for 
eight outputs. We notice that over 30% observation ratio is 
required for the circuit s35932, which is because the test set 
of this circuit is much more compact than other circuits. If 
the circuit s35932 is excluded, the averaged observation 
ratios are 9.84% for a single compaction output and 
19.74% for eight outputs.  
It can also be seen from Table 1 that with more 
compaction outputs, slight increases on the number of 
required observation bits and the amount of control data are 
induced due to the increased number of observed response 
paths per shift cycle. However, significant reductions on 
|TS| and #STP can be achieved by employing more 
compaction outputs. 
To achieve a smaller observation ratio, the proposed 
output selection logic can also utilize a MISR to deal with 
all the outputs of the multiplexers as a mixed-mode 
compactor [5, 7]. Suppose an eight-bit MISR is combined 
with an eight-output output selection scheme for the circuit 
b17 such that only one eight-bit signature is stored for each 
applied pattern. The total number of response bits to be 
observed will be |TS| × 8 = 10312 bits and the observation 
ratio will be 10312/(1512 (#PPO)×1051(#TP)) ×100% = 
0.65%. One issue is that the diagnosis resolution may be 
degraded due to MISR. To address this issue, an additional 
bypass path may be provided for the selected outputs to be 
(not to be) processed by MISR in the high compaction 
(diagnostic) mode. 
In the proposed output selection procedure, a static test 
set compaction method and a control data sharing technique 
are employed to further reduce the total number of storage 
test patterns (#STP) and the control data volume (Ctrl). In 
Table 2 we show the effectiveness of the method and the 
technique by providing the achievable reduction ratios 
considering various #CO. As indicated, up to 83.91% of the 
test patterns (s35932) and up to 92.75% of the control data 
volume (b17) can be reduced. 
We evaluated the area overhead of the proposed output 
selection scheme for various #CO with respect to a scan 
design containing 64 scan chains. The selection logic in 
these cases contain #CO accumulators and #CO 64-to-1 
multiplexers. The area (gate count) of an accumulator is 
estimated by using a commercial synthesis tool based on 
the 130-nm TSMC technology library. As for the 
multiplexers, a cost-effective multiplexer architecture in 
[14] is employed. The area overhead of the selection logic 
is on average 1.86% (1.18%), 3.03% (1.93%), 6.04% 
(3.85%) and 12.08% (7.69%) for ISCAS (ITC) circuits 
when #CO are 1, 2, 4 and 8, respectively. Thus trade-offs 
are involved in the choice of output selection parameters 
with respect to the test data volume, test application time, 
achievable observation ratio and the area overhead. 
Table 2: Reduction ratios of test data volume by static 
test set compaction and control-data sharing. 
CKT 
Reduction% of #STP Reduction% of Ctrl  
#CO=1 #CO=2 #CO=4 #CO=8 #CO=1 #CO=2 #CO=4 #CO=8 
s13207 62.74 29.93 14.06 4.58 74.78 54.11 53.44 50.35 
s15850 69.52 37.76 10.82 2.55 66.33 49.23 39.39 28.66 
s35932 83.91 72.16 45.19 32.79 39.95 36.6 28.85 37.7 
s38417 32.59 13.37 3.19 1.14 51.31 39.14 26.29 25.57 
s38584 49.2 23.04 9.18 5.72 60 40.85 41.3 36.03 
Avg. 59.59 35.25 16.49 9.35 58.47 43.99 37.86 35.66 
b17 62.94 32.31 9.29 1.94 92.75 84.63 71.29 69.36 
b20 54.94 17.59 4.05 1.76 91.19 78.06 66.85 66.91 
b21 54.36 19.24 4.6 1.06 88.28 78.14 66 67.75 
b22 63.11 22.7 3.57 0.47 88.49 77.25 65.8 62.34 
Avg. 58.83 22.96 5.38 1.31 90.18 79.52 67.49 66.59 
Acknowledgement: This work was supported in part by the 
National Science Council of Taiwan under contract numbers NSC 
100-2221-E-006-058-MY2 and NSC 100-2218-E-110-001. 
Reference 
[1] L.-T. Wang, C.-W. Wu, and X. Wen, VLSI Test Principles and 
Architectures: Design for Testability, Morgan Kaufmann, 2006. 
[2] K. Chakrabarty, B. T. Murray and J. P. Hayes, “Optimal zero-aliasing 
space compaction of test responses,” IEEE Trans. on Computers, 
47(11): pp. 1171-1187, 1998. 
[3] S. Mitra and K.S. Kim, “X-compact: an efficient response compaction 
technique for test cost reduction,” Proc. Int’l Test Conf., pp. 311-320, 
2002. 
[4] M. Naruse, et al., "On-chip compression of output responses with 
unknown values using LFSR reseeding," Proc. Int’l Test Conf., 2003, 
pp. 1060-1068. 
[5] S. Wang and W. Wei, "An efficient unknown blocking scheme for low 
control data volume and high observability," IEEE Trans. on CAD, 
27(11): pp. 2039-2052, 2008. 
[6] H. Tang, et al., "On efficient X-handling using a selective compaction 
scheme to achieve high test response compaction ratios," Proc. Int’l 
Conf. on VLSI Design, 2005, pp. 59-64. 
[7] Y. Tang, et al., "X-masking during logic BIST and its impact on defect 
coverage," IEEE Trans. on VLSI Systems, 14(2): pp. 193-202, 2006. 
[8] J. Rajski, et al., "X-press: two-stage x-tolerant compactor with 
programmable selector," IEEE Trans. on CAD, 27(1): pp. 147-159, 
2008. 
[9] L.-T. Wang, et al., “VirtualScan: a new compressed scan technology 
for test cost reduction,” Proc. Int’l Test Conf., pp.916-925, 2004. 
[10] K.-J. Lee, W.-C. Lien and T.-Y. Hsieh, “Test response compaction via 
output bit selection,” IEEE Trans. on CAD, 30(10): pp. 1534-1544, 
2011. 
[11] P. Wohl, J. A. Waicukauski, and S. Patel, “Scalable selector 
architecture for x-tolerant deterministic BIST,” Proc. Design 
Automation Conf., pp. 934-939, 2004. 
[12] A. S. Mudlapur, V. D. Agrawal and A. D. Singh, “A random access 
scans architecture to reduce hardware overhead,” Proc. Int’l Test 
Conf., pp.350-358, 2005. 
[13] D. H. Baik and K. K. Saluja, "Progressive random access scan: a 
simultaneous solution to test power, test data volume and test time," 
Proc. Int’l Test Conf., pp.359-368, 2005. 
[14] M. Alioto and G. Palumbo, "Interconnect-aware design of fast large 
fan-in CMOS multiplexers," IEEE Trans. on Circuits and Systems II: 
Express Briefs, 54(6): pp. 484-488, 2007. 
100年度專題研究計畫研究成果彙整表 
計畫主持人：謝東佑 計畫編號：100-2218-E-110-001- 
計畫名稱：可有效提升良率之多重測試集偵測方法之研究 
量化 
成果項目 實際已達成
數（被接受
或已發表）
預期總達成
數(含實際
已達成數)
本計畫實
際貢獻百
分比 
單位 
備註（質化說明：如
數 個 計 畫 共 同 成
果、成果列為該期
刊之封面故事 ...
等） 
期刊論文 0 0 100%  
研究報告/技術報告 0 0 100%  
研討會論文 2 2 50% 
篇 
為與國立成功大學電
機系李昆忠教授之國
科會計畫(NSC 100-
2221-E-006-058-MY2)
之共同成果。 
論文著作 
專書 0 0 100%   
申請中件數 0 0 100%  專利 已獲得件數 0 0 100% 件  
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 3 3 100%  
博士生 0 0 100%  
博士後研究員 0 0 100%  
國內 
參與計畫人力 
（本國籍） 
專任助理 0 0 100% 
人次 
 
期刊論文 2 2 100% 
其中一篇為本計畫
100%貢獻之成果，另一
篇為與國立成功大學
電機系李昆忠教授之
國科會計畫(NSC 100-
2221-E-006-058-MY2)
之共同成果。 
研究報告/技術報告 0 0 100%  
研討會論文 2 2 50% 
篇 
為與國立成功大學電
機系李昆忠教授之國
科會計畫(NSC 100-
2221-E-006-058-MY2)
之共同成果。 
論文著作 
專書 0 0 100% 章/本  
申請中件數 0 0 100%  專利 已獲得件數 0 0 100% 件  
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
國外 
參與計畫人力 碩士生 0 0 100% 人次  
