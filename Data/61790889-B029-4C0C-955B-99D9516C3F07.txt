 A Bandwidth Negotiation Scheduling for Prioritized Traffic in MMR Networks 
 
Yan-Jing Wu 
Dept. of Information Technology and Communication 
Shih Chien University, Kaohsiung Campus 
Kaohsiung, Taiwan 
e-mail:yanjing@mail.kh.usc.edu.tw 
Tsang-Ling Sheu and I-Chieh Lin 
Department of Electrical Engineering 
National Sun Yat-Sen University 
Kaohsiung, Taiwan 
 e-mail:sheu@ee.nsysu.edu.tw 
 
 
Abstract—This paper presents a bandwidth-negotiation 
scheduling (BNS) for 802.16j MMR networks. The proposed 
BNS not only can allocate adequate bandwidth for UGS, rtPS, 
nrtPS, and BE in sequence of priority levels, but also can 
invoke negotiation between access and relay zones when the 
remaining bandwidth is insufficient to meet the minimum 
bandwidth requirement of rtPS or nrtPS. Besides, our BNS 
scheme can avoid BE starvation by earning the extra 
bandwidth from the nrtPS whose allocated bandwidth is more 
than its minimum requirement. We express the minimum 
bandwidth requirements of rtPS, nrtPS, and BE in terms of 
their respective QoS constraints. Through multi-dimensional 
Markov formulation, we evaluate the performance of the BNS 
and compare it with a fixed-zone-boundary scheme. Analytical 
results have shown that our proposed BNS can effectively 
differentiate prioritized traffic and significantly improve the 
system bandwidth utilization especially when the delay 
constraint for rtPS is increased. 
Keywords-802.16j; relay station; negotiation; QoS; Markov 
chain. 
I.  INTRODUCTION 
WiMAX (Worldwide Interoperability of Microwave 
Access) technology [1-3], based on IEEE 802.16 standard 
[4], has gained momentum as last-mile wireless broadband 
access with QoS (Quality of Service) guarantees. There are 
four traffic classes in WiMAX networks: unsolicited grant 
service (UGS), real-time polling service (rtPS), non-real-time 
polling service, (nrtPS), and best effort (BE), with respect to 
different QoS constraints such as bandwidth requirement, 
delay constraint, packet loss rate, etc. Alleviating the 
immobility limitation on end users, IEEE 802.16e-2005 [5] 
has released as an amendment to the 802.16-2004 standard. 
In order to increase cell coverage and capacity at the least 
installation and operation cost, IEEE 802.16j mobile 
multihop relay (MMR) networks [6] have deployed relay 
stations (RSs) in 802.16e networks to relay data between the 
base station (BS) and mobile stations (MSs) wirelessly. An 
MMR network topology is depicted in Figure 1, in which the 
index i of Ri,j stands for hop count. The hop count for an RS 
means how far it is away from the BS. Two types of RSs are 
defined in the 802.16j standard from signaling point of view. 
They are either non-transparent or transparent, depending on 
whether or not the RSs can transmit control signals to MSs in 
addition to data packets. Hence, we focus on non-transparent 
RSs in this paper since transparent RSs can not be used 
extend cell coverage but only to enhance the network 
capacity. 
Similar to the legacy design, an 802.16j frame consists of 
an uplink and a downlink subframe [7]. To enable the 
relaying function, the uplink/downlink subframe is further 
divided into access zone and followed by one or multiple 
relay zones. MSs can transmit to and receive from the 
BS/RSs in the access zone of an uplink and a downlink 
subframe, respectively. In each relay zone, RSs can operate 
in the mode of reception or transmission with the BS or their 
subordinate RSs. However, how to adjust the boundary 
between the two zones in a frame according to their 
respective traffic arrival rates remains unsolved in the 
802.16j standard. Recently, many bandwidth allocation 
schemes [8-15] have been proposed based on a fixed 
boundary between the two zones. The authors in [8-10] 
focused on how to allocate OFDM symbols to MSs or RSs 
on the purpose of increasing the system throughput without 
considering QoS requirements, while those in [11-15] 
proposed centralized, decentralized, or distributed scheduling 
policies by taking into account prioritized traffic for MMR 
networks. On the other hand, Baek et al. [16] presented a 
dynamic frame scheduling which can achieve load balancing 
by allocating the bandwidth amount equal to the relay zone 
in the current frame to the access zone in the next frame. 
With QoS consideration, adaptive scheduling schemes of 
prioritized traffic have been proposed in [17-18] for MMR 
networks. Nevertheless, the bandwidth utilization in [17] is 
decreased when the hop count is increased, because the 
proposed scheme can’t perform bandwidth allocation to the 
relay zone until finishing allocation to access zone. However, 
low-priority starvation can occur with the scheme presented 
in [18] when high-priority traffic grows more and more, for 
lack of considering the minimum bandwidth requirements 
corresponding to different classes. 
Our interest in this paper is to design an uplink 
bandwidth-negotiation scheduling (BNS) for 802.16j MMR 
networks. The proposed BNS not only can allocate adequate 
bandwidth for prioritized traffic in sequence of priority levels, 
but also can invoke negotiation between access and relay 
zones when the remaining bandwidth is insufficient to meet 
the minimum bandwidth requirement of rtPS or nrtPS. In 
addition, our BNS scheme can avoid BE starvation by 
earning the extra bandwidth from the nrtPS whose allocated 
bandwidth is more than its minimum requirement. We 
express the minimum bandwidth requirements of rtPS, nrtPS, 
and BE in terms of their respective QoS constraints. 
2012 26th IEEE International Conference on Advanced Information Networking and Applications
1550-445X/12 $26.00 © 2012 IEEE
DOI 10.1109/AINA.2012.53
221
 Since UGS has the highest priority and is defined as the 
constant-bandwidth guaranteed traffic, both of R(UGS) and 
minR(UGS) are equal to λUGS. That’s, 
( ) 0
min ( ) ( ) UGS
Q UGS
R UGS R UGS 




 
	
.                    (3) 
For the other traffic classes, minR(k)’s are expressed as 
follows. 
( ) 
min ( ) rtPS f
Q rtPS T
R rtPS



 
 ,              (4) 
where τ stands for the delay constraint of rtPS. 
min ( )R nrtPS  ,                             (5) 
where α stands for the minimal packet transmission rate for 
meeting the QoS requirement of nrtPS. 
As to BE traffic, the following inequality is obtained by 
having its packet loss rate lower below a threshold, denoted 
as γ. 
( )
  BE f BE f
f
Q BE T T b
T

 

    
 ,              (6) 
where b denotes the size of each queue. Thus, minR(BE), 
which is expressed as below, is equal to the lower bound of 
μBE in the above equation. 
 
 ( ) [ ]
min ( )  BE f
f
Q BE T b
R BE
T

    
             (7) 
 
B. The BNS Algorithm 
The bandwidth-negotiation scheduling (BNS) is 
composed of two stages, per-class scheduling (PCS) and 
zone-negotiation scheduling (ZNS). Figure 3 shows the 
pseudo-code of the BNS performed at the access zone of the 
BS or an RS at hop i. Prior to performing per-class 
scheduling, let the remaining bandwidth in the access zone, 
denoted as RmA, be equal to Bi_A. First of all, PCS will accept 
the bandwidth request from UGS and update the value of 
RmA if the remaining bandwidth is greater than or equal to 
R(UGS); otherwise, PCS will do rejection. Secondly, PCS 
will do bandwidth allocation for rtPS if the remaining 
bandwidth is enough for minR(rtPS). Otherwise, PCS will 
allocate as much bandwidth (i.e., R(nrtPS) or minR(nrtPS)) 
as possible to the next-priority traffic, nrtPS, depending on 
how much RmA can afford to allocate; then go to the ZNS 
procedure for rtPS. If RmA can’t afford to allocate the 
minimum bandwidth requirement to nrtPS, PCS will directly 
go to the ZNS procedure for rtPS. Thirdly, PCS will allocate 
as much bandwidth as possible to nrtPS if nrtPS has not 
gotten served after the bandwidth scheduling for rtPS is 
finished. Similarly, PCS can allocate minR(BE) to the next-
priority traffic, BE; then go to the ZNS procedure for nrtPS. 
Finally, PCS will allocate as much bandwidth (i.e., R(BE) or 
minR(BE)) as possible to BE, if BE has not gotten served 
after the bandwidth scheduling for nrtPS is finished. Besides, 
if BE can’t get served even by its minimum bandwidth 
requirement, PCS will allocate the extra bandwidth over the 
minimum requirement of nrtPS to BE traffic to avoid its 
starvation. 
The pseudo-code of the BNS performed at the relay zone 
is the same as that at the access zone except that the 
remaining bandwidth in the relay zone, denoted as RmR, 
initially is equal to Bi_R. At the end, the BNS can summarize 
the allocated bandwidths for all traffic classes at either zone. 
By comparing the total allocated bandwidths at both zones, 
the BNS can shift the boundary between the two zones for 
each frame to improve bandwidth utilization. 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Fig. 3 The pseudo-code of the BNS. 
 
_
//at the access zone of the BS or an RS at hop 
//per-class scheduling (PCS)
;
//for  traffic
if  ( ( )) 
         = ( );
         ;
else             
         Do rejection
A i A
A
UGS
A A UGS
i
Rm B
UGS
Rm R UGS
R UGS
Rm Rm




 
;
//for  traffic                                                 
if  ( min ( ))   
          = min ( );
          ;    
elseif ( min ( ))
          if  ( ( ))
 
A
rtPS
A A rtPS
A
A
rtPS
Rm R rtPS
R rtPS
Rm Rm
Rm R nrtPS
Rm R nrtPS



 


                  = ( );
          else   = min ( );
          ;
          Go to ZNS; //bandwidth negotiation for ;
else
          Go to ZNS; //bandwidth negotiation 
nrtPS
nrtPS
A A nrtPS
R nrtPS
R nrtPS
Rm Rm
rtPS


 
for ;rtPS
 
//for  traffic
if  ( min ( ))
          if  ( ( ))
                   = ( );
          else   = min ( );
          ;
elseif  ( min ( ))
          
A
A
nrtPS
nrtPS
A A nrtPS
A
nrtPS
Rm R nrtPS
Rm R nrtPS
R nrtPS
R nrtPS
Rm Rm
Rm R BE






 

= min ( );
          ;
          Go to ZNS;  //bandwidth negotiation for 
else
          Go to ZNS;  //bandwidth negotiation for 
BE
A A BE
R BE
Rm Rm
nrtPS
nrtPS
 
 
// for  traffic 
if  ( min ( )) 
          if  ( ( ))
                    = ( );
          else    = min ( );
          ;
elseif ( ( )== ( ))
          min (
A
A
BE
BE
A A BE
nrtPS
BE
Rm R BE
Rm R BE
R BE
R BE
Rm Rm
nrtPS R nrtPS
R nrt







 
   ); 
          min ( );
          = ;
          0;
else 
           = ;
           0;
nrtPS
BE A
A
BE A
A
PS
R nrtPS
Rm
Rm
Rm
Rm




 


 
 
//zone-negotiation scheduling (ZNS)
X= ;
if  (X min ( )) //  is either  or .
          min ( );
          0;
          ( );
else
          Do rejection;
A R
k
A
R R k A
Rm Rm
R k k rtPS nrtPS
R k
Rm
Rm Rm Rm






  
223
 And, (l, m, n, p, q, s) belongs to C2 under the two conditions 
listed below. 
 _
_
_
max ,  
[ min ( _ )]
( )
A rtPS A f
A R rtPS A f
A nrtPS A f
l B T Bt
Bt B B R rtPS R T
m B T
 

  




 


    


 

	
           (20) 
The first and second terms in Equation (18) are differentiated 
from that the BNS allocates R(nrtPS_A) or minR(nrtPS_A) 
to nrtPS before invoking the ZNS procedure for rtPS. The 
two constraints (C1 and C2) in Equations (19) and (20) are 
obtained by rewriting Equations (21) and (22), respectively. 
1
min ( _ )
: ( _ )
[ ( _ ) min ( _ )] min ( _ )
A
A
A R
B R rtPS A
C B R nrtPS A
B R nrtPS A B R rtPS R R rtPS A






   
	
          (21) 
2
min ( _ )
: ( _ )
[ min ( _ )] min ( _ )
A
A
A R
B R rtPS A
C B R nrtPS A
B B R rtPS R R rtPS A





 


   
	           (22) 
To derive the average throughput of nrtPS in the access 
zone, six cases in which how nrtPS can get assigned its 
required bandwidth at state (l, m, n, p, q, s) are listed in 
Equations (23) through (28). 
Case (1): As listed in Equation (23), when the remaining 
bandwidth in the access zone is not enough for the minimum 
bandwidth requirement of rtPS, the BNS can allocate 
R(nrtPS_A) to nrtPS before invoking the ZNS procedure for 
rtPS. 
Case (2): As listed in Equation (24), when the remaining 
bandwidth in the access zone is not enough for the minimum 
bandwidth requirement of rtPS, the BNS can allocate 
minR(nrtPS_A) to nrtPS before invoking the ZNS procedure 
for rtPS. 
Case (3): As listed in Equation (25), after the BNS in the 
access zone finishes allocating the minimum bandwidth 
requirement to rtPS without invoking the ZNS procedure, the 
BNS can allocate R(nrtPS_A) to nrtPS. 
Case (4): As listed in Equation (26), after the BNS in the 
access zone finishes allocating the minimum bandwidth 
requirement to rtPS without invoking the ZNS procedure, the 
BNS can allocate minR(nrtPS_A) to nrtPS. 
Case (5): As listed in Equation (27), after the BNS in the 
access zone finishes allocating the minimum bandwidth 
requirement to rtPS without invoking the ZNS procedure, the 
BNS can allocate minR(nrtPS_A) to nrtPS by invoking the 
ZNS procedure. At the other zone, the BNS can allocate 
R(nrtPS_R) to nrtPS. 
Case (6): As listed in Equation (28), after the BNS in the 
access zone finishes allocating the minimum bandwidth 
requirement to rtPS without invoking the ZNS procedure, the 
BNS can allocate minR(nrtPS_A) to nrtPS by invoking the 
ZNS procedure. At the other zone, the BNS can allocate 
minR(nrtPS_R) to nrtPS. 
1
min ( _ )
:
( _ )
A
A
B R rtPS A
H
B R nrtPS A




	
                                                   (23) 
2
min ( _ )
:
( _ )
A
A
B R rtPS A
H
B R nrtPS A



 
	
                                                 (24) 
3
min ( _ )
:
min ( _ ) ( _ )
A
A
B R rtPS A
H
B R rtPS A R nrtPS A



 
	
                            (25) 
4
min ( _ )
:
min ( _ ) ( _ )
A
A
B R rtPS A
H
B R rtPS A R nrtPS A



  
	
                      (26) 
5
min ( _ )
: min ( _ )
min ( _ ) min ( _ ) ( _ )
A
A
A R
B R rtPS A
H B R rtPS A
B R rtPS A B R rtPS R R nrtPS R





 


    
	
 (27) 
6
min ( _ )
min ( _ )
:
min ( _ ) ( _ )
min ( _ ) min ( _ )
A
A
A R
B R rtPS A
B R rtPS A
H
R nrtPS R Br R nrtPS R
Br B R rtPS A B R rtPS R





 


 


    
	
   (28) 
Thus, the average throughput of nrtPS in the access zone, 
denoted by ThnrtPS_A, can be obtained by summating six 
terms as below. 
1
2
3
_
( , , , , , )
( , , , , , )
( , , , , , )
( , ,
( _ ) [( , , , , , )]
               + [( , , , , , )]
              ( _ ) [( , , , , , )]
              [( , , , , , )]
nrtPS A
l m n p q s H
l m n p q s H
l m n p q s H
l m
Th R nrtPS A l m n p q s
l m n p q s
R nrtPS A l m n p q s
l m n p q s

 

 






 



4
3
6
, , , )
( , , , , , )
( , , , , , )
              [( , , , , , )]
              [( , , , , , )]
n p q s H
l m n p q s H
l m n p q s H
l m n p q s
l m n p q s
 
 



 
 



  (29) 
We can also obtain the overall system throughput, 
denoted as Thtotal, by summing the allocated bandwidth to 
each class k at all of the states in Equation (30). 
_ _
all of the  states { }
( ) [( , , , , , )]total k A k R
N k K UGS
Th u u l m n p q s
 
 
 
 
 
 
 
(30) 
As to the QoS requirement for BE, the average packet 
loss rate of BE, denoted as LBE_A, at the access zone can be 
calculated as below. 
_
( , , , , , )
_ _
_ _
[( , , , , , )]
( )
( )
BE A b
l m n p q s V
b BE A BE A f
BE A BE A f
L n l m n p q s
n n T b
n b T


 

 





   


  

	

         (31) 
 
IV. ANALYTICAL RESULTS 
We next present an example to evaluate the performance 
of the proposed BNS based on the equations derived in 
Section III. Table 2 shows the parameters and their values 
225
  
Fig. 4 The probability that rtPS or nrtPS needs bandwidth negotiation. 
 
 
Fig. 5 The probability for exceeding the delay constraint of rtPS. 
 
 
Fig. 6 The packet loss rate of BE. 
 
 
Fig. 7 The average throughput of nrtPS. 
 
Fig. 8 The overall system throughput with/without negotiation. 
 
REFERENCES 
[1] S. W. Peters and R. W. Heath, Jr., “The Future of WiMAX: Multihop 
Relaying with IEEE 802.16j,” IEEE Communications Magazine, vol. 
47, no. 1, pp. 104-111, Jan. 2009. 
[2] J. Sydir and R. Taori, “An Evolved Cellular System Architecture 
Incorporating Relay Stations,” IEEE Communications Magazine, vol. 
47, no.6, pp. 115-121, June 2009. 
[3] D. Niyato, E. Hossain, D. Kim, and Z. Han, “Relay-centric Radio 
Resource Management and Network Planning in IEEE 802.16j 
Mobile Multihop Relay Networks,” IEEE Transactions on Wireless 
Communications, vol. 8, no. 12, pp. 6115-6125, Dec. 2009. 
[4] IEEE Std. 802.16, “Part 16: Air Interface for Fixed Broad Band 
Wireless Access Systems,” Apr. 2004. 
[5] IEEE Std. 802.16e, “Amendment to Air Interface for Fixed Broad 
Band Wireless Access Systems – Physical and MAC Layers for 
Combined Fixed and Mobile Operation in Licensed Bands,” 2005. 
[6] IEEE Std. 802.16j-2009, “IEEE Standard for Local and Metropolitan 
Area Networks Part 16: Air Interface for Broadband Wireless Access 
Systems Amendment 1: Multiple Relay Specification,” June 2009. 
[7] Z. Tao, A. Li, K.-H. Teo, and J. Zhang, “Frame Structure Design for 
IEEE 802.16j Mobile Multihop Relay (MMR) Networks,” 
GLOBECOM 2007, Nov. 26-30, 2007. 
[8] P. Kolomitro, A.-E.M. Taha, and H. Hassanein, “A Performance 
Comparison of Frame Structures in WiMax Relay Networks,” IEEE 
35th Conference on Local Computer Networks, pp. 769-776, Oct. 10-
14, 2010. 
[9] S.-Y. Kim, S.-J. Kim, S.-W. Ryu, H.-W. Lee, and C.-H. Cho, 
“Performance Analysis of Single-frame Mode and Multi-frame Mode 
in IEEE 802.16j MMR System,” IEEE 19th International Symposium 
on Personal, Indoor and Mobile Radio Communications, Sep. 15-18, 
2008. 
[10] M. Salem, A. Adinoyi, H. Yanikomeroglu, and Young-Doo Kim, 
“Radio Resource Management in OFDMA-Based Cellular Networks 
Enhanced with Fixed and Nomadic Relays,” WCNC 2010, pp. 1-6, 
Apr. 18-21, 2010. 
[11] D. Niyato and E. Hossain, “Queue-Aware Uplink Bandwidth 
Allocation and Rate Control for Polling Service in IEEE 802.16 
Broadband Wireless Networks,” IEEE Transactions on Mobile 
Computing, vol. 5, no. 6, pp. 668-679, June 2006.  
[12] Q. Albluwi, N.A. Ali, and H. Hassanein, , “A Dynamic Frame 
Partitioning Scheme for IEEE 802.16 Mesh and Multihop Relay 
Networks,” ICC 2009, June 14-18, 2009. 
[13] A.F. Bayan and Tat-Chee Wan, “On-Demand Flexible Tiered QoS 
Scheduling Algorithm for IEEE 802.16j Multi-hop Relay Networks,” 
International Symposium in Information Technology, vol. 2, pp. 586-
591, 2010. 
227
1 
 
Acceptance letter:  
From: AINA-2012 <aina2012@easychair.org> 
To: Yan-Jing Wu <yanjing@mail.kh.usc.edu.tw> 
Sent: Mon, 28 Nov 2011 15:21:36 +0000 
Subject: AINA-2012 notification for paper 179 
 
Dear Yan-Jing Wu, 
Thank you for your submission to AINA-2012 conference. 
We are happy to inform you that your paper 
PAPER ID: 179 
TITLE   : A Bandwidth Negotiation Scheduling for Prioritized Traffic in MMR Networks 
is accepted for presentation at the 26th IEEE International Conference on  
Advanced Information Networking and Applications (AINA-2012), which will  
be held at Fukuoka Institute of Technology (FIT), Fukuoka, Japan,  
March 26-29, 2012. 
 
A total of 445 papers were submitted to AINA-2012. Finally, the Program Committee accepted 
131 high-quality papers. The review results for your paper are added at the end of this e-mail. 
Please follow the reviewers comments and suggestions for preparing the camera ready of your 
paper. 
The maximum number of pages for AINA-2012 is 8 pages. For each paper,  
2 additional pages are allowed at the additional fee of 15,000 Yen per page. 
Please prepare the camera-ready version of the paper and complete the copyright form using 
IEEE format and submit them to IEEE Computer Society  
according to the author kit before the deadline (January 6, 2012).  
The author kit will be available soon at AINA-2012 webpage. 
If authors will not submit their paper and copyright form to IEEE  
Computer Society by the deadline, the paper will be automatically  
removed from conference proceedings. 
The registration site will be available by December 14, 2011. 
We require that at least one author of an accepted paper to register the  
paper by December 23, 2011 (24:00, UTC) and join AINA-2012 to present  
the paper. This registration deadline is strictly required to all the  
authors of accepted papers. You can check the registration rules at AINA-2012 web page: 
 
          http://www.aina-conference.org/2012/ 
 
3 
 
 
心得報告：                                                                 
一、參加會議經過 
本人 3月 25日自桃園搭機前往日本福岡參加 AINA-2012國際學術會議，
會議舉行期間自 3月 26日至 3月 29日，地點在日本福岡工業大學。會議
每一天早上以 90分鐘 keynote speaker的演講開始，接下來上午和下午
各有兩個時段的 parallel sessions，每一時段的 parallel session有 8
個發表會議室，每一個發表會議室進行 90分鐘，平均有 3.5篇論文發表，
規模非常盛大。本人發表的論文是安排在 3月 27日下午的第一個時段，
其餘時間可以參與聆聽、吸收其他學者的論文發表。會議結束當天(3月
29日)下午，本人即從日本福岡搭機返回國內。 
二、與會心得 
AINA-2012國際學術會議四天內共發表 131篇論文，每一篇被接收發表的
論文是經過三位國際專家學者的嚴謹審查，從 445篇投稿的論文中選取出
來的。與會期間，聆聽了其他相關領域的論文發表，發現被接受發表的論
文無論是在論文架構或是研究品質上都有一定的水準。除此之外，每一天
的會議安排有午餐和晚宴，上午或下午的兩個 parallel sessions之間還
有 coffee break時段，這些時間都可以用來與世界各國的學者或是研究
人員有更進一步的學術與文化上的交流。藉由參與此次的國際學術會議，
 A Bandwidth Negotiation Scheduling for Prioritized Traffic in MMR Networks 
 
Yan-Jing Wu 
Dept. of Information Technology and Communication 
Shih Chien University, Kaohsiung Campus 
Kaohsiung, Taiwan 
e-mail:yanjing@mail.kh.usc.edu.tw 
Tsang-Ling Sheu and I-Chieh Lin 
Department of Electrical Engineering 
National Sun Yat-Sen University 
Kaohsiung, Taiwan 
 e-mail:sheu@ee.nsysu.edu.tw 
 
 
Abstract—This paper presents a bandwidth-negotiation 
scheduling (BNS) for 802.16j MMR networks. The proposed 
BNS not only can allocate adequate bandwidth for UGS, rtPS, 
nrtPS, and BE in sequence of priority levels, but also can 
invoke negotiation between access and relay zones when the 
remaining bandwidth is insufficient to meet the minimum 
bandwidth requirement of rtPS or nrtPS. Besides, our BNS 
scheme can avoid BE starvation by earning the extra 
bandwidth from the nrtPS whose allocated bandwidth is more 
than its minimum requirement. We express the minimum 
bandwidth requirements of rtPS, nrtPS, and BE in terms of 
their respective QoS constraints. Through multi-dimensional 
Markov formulation, we evaluate the performance of the BNS 
and compare it with a fixed-zone-boundary scheme. Analytical 
results have shown that our proposed BNS can effectively 
differentiate prioritized traffic and significantly improve the 
system bandwidth utilization especially when the delay 
constraint for rtPS is increased. 
Keywords-802.16j; relay station; negotiation; QoS; Markov 
chain. 
I.  INTRODUCTION 
WiMAX (Worldwide Interoperability of Microwave 
Access) technology [1-3], based on IEEE 802.16 standard 
[4], has gained momentum as last-mile wireless broadband 
access with QoS (Quality of Service) guarantees. There are 
four traffic classes in WiMAX networks: unsolicited grant 
service (UGS), real-time polling service (rtPS), non-real-time 
polling service, (nrtPS), and best effort (BE), with respect to 
different QoS constraints such as bandwidth requirement, 
delay constraint, packet loss rate, etc. Alleviating the 
immobility limitation on end users, IEEE 802.16e-2005 [5] 
has released as an amendment to the 802.16-2004 standard. 
In order to increase cell coverage and capacity at the least 
installation and operation cost, IEEE 802.16j mobile 
multihop relay (MMR) networks [6] have deployed relay 
stations (RSs) in 802.16e networks to relay data between the 
base station (BS) and mobile stations (MSs) wirelessly. An 
MMR network topology is depicted in Figure 1, in which the 
index i of Ri,j stands for hop count. The hop count for an RS 
means how far it is away from the BS. Two types of RSs are 
defined in the 802.16j standard from signaling point of view. 
They are either non-transparent or transparent, depending on 
whether or not the RSs can transmit control signals to MSs in 
addition to data packets. Hence, we focus on non-transparent 
RSs in this paper since transparent RSs can not be used 
extend cell coverage but only to enhance the network 
capacity. 
Similar to the legacy design, an 802.16j frame consists of 
an uplink and a downlink subframe [7]. To enable the 
relaying function, the uplink/downlink subframe is further 
divided into access zone and followed by one or multiple 
relay zones. MSs can transmit to and receive from the 
BS/RSs in the access zone of an uplink and a downlink 
subframe, respectively. In each relay zone, RSs can operate 
in the mode of reception or transmission with the BS or their 
subordinate RSs. However, how to adjust the boundary 
between the two zones in a frame according to their 
respective traffic arrival rates remains unsolved in the 
802.16j standard. Recently, many bandwidth allocation 
schemes [8-15] have been proposed based on a fixed 
boundary between the two zones. The authors in [8-10] 
focused on how to allocate OFDM symbols to MSs or RSs 
on the purpose of increasing the system throughput without 
considering QoS requirements, while those in [11-15] 
proposed centralized, decentralized, or distributed scheduling 
policies by taking into account prioritized traffic for MMR 
networks. On the other hand, Baek et al. [16] presented a 
dynamic frame scheduling which can achieve load balancing 
by allocating the bandwidth amount equal to the relay zone 
in the current frame to the access zone in the next frame. 
With QoS consideration, adaptive scheduling schemes of 
prioritized traffic have been proposed in [17-18] for MMR 
networks. Nevertheless, the bandwidth utilization in [17] is 
decreased when the hop count is increased, because the 
proposed scheme can’t perform bandwidth allocation to the 
relay zone until finishing allocation to access zone. However, 
low-priority starvation can occur with the scheme presented 
in [18] when high-priority traffic grows more and more, for 
lack of considering the minimum bandwidth requirements 
corresponding to different classes. 
Our interest in this paper is to design an uplink 
bandwidth-negotiation scheduling (BNS) for 802.16j MMR 
networks. The proposed BNS not only can allocate adequate 
bandwidth for prioritized traffic in sequence of priority levels, 
but also can invoke negotiation between access and relay 
zones when the remaining bandwidth is insufficient to meet 
the minimum bandwidth requirement of rtPS or nrtPS. In 
addition, our BNS scheme can avoid BE starvation by 
earning the extra bandwidth from the nrtPS whose allocated 
bandwidth is more than its minimum requirement. We 
express the minimum bandwidth requirements of rtPS, nrtPS, 
and BE in terms of their respective QoS constraints. 
2012 26th IEEE International Conference on Advanced Information Networking and Applications
1550-445X/12 $26.00 © 2012 IEEE
DOI 10.1109/AINA.2012.53
221
 Since UGS has the highest priority and is defined as the 
constant-bandwidth guaranteed traffic, both of R(UGS) and 
minR(UGS) are equal to λUGS. That’s, 
( ) 0
min ( ) ( ) UGS
Q UGS
R UGS R UGS 




 
	
.                    (3) 
For the other traffic classes, minR(k)’s are expressed as 
follows. 
( ) 
min ( ) rtPS f
Q rtPS T
R rtPS



 
 ,              (4) 
where τ stands for the delay constraint of rtPS. 
min ( )R nrtPS  ,                             (5) 
where α stands for the minimal packet transmission rate for 
meeting the QoS requirement of nrtPS. 
As to BE traffic, the following inequality is obtained by 
having its packet loss rate lower below a threshold, denoted 
as γ. 
( )
  BE f BE f
f
Q BE T T b
T

 

    
 ,              (6) 
where b denotes the size of each queue. Thus, minR(BE), 
which is expressed as below, is equal to the lower bound of 
μBE in the above equation. 
 
 ( ) [ ]
min ( )  BE f
f
Q BE T b
R BE
T

    
             (7) 
 
B. The BNS Algorithm 
The bandwidth-negotiation scheduling (BNS) is 
composed of two stages, per-class scheduling (PCS) and 
zone-negotiation scheduling (ZNS). Figure 3 shows the 
pseudo-code of the BNS performed at the access zone of the 
BS or an RS at hop i. Prior to performing per-class 
scheduling, let the remaining bandwidth in the access zone, 
denoted as RmA, be equal to Bi_A. First of all, PCS will accept 
the bandwidth request from UGS and update the value of 
RmA if the remaining bandwidth is greater than or equal to 
R(UGS); otherwise, PCS will do rejection. Secondly, PCS 
will do bandwidth allocation for rtPS if the remaining 
bandwidth is enough for minR(rtPS). Otherwise, PCS will 
allocate as much bandwidth (i.e., R(nrtPS) or minR(nrtPS)) 
as possible to the next-priority traffic, nrtPS, depending on 
how much RmA can afford to allocate; then go to the ZNS 
procedure for rtPS. If RmA can’t afford to allocate the 
minimum bandwidth requirement to nrtPS, PCS will directly 
go to the ZNS procedure for rtPS. Thirdly, PCS will allocate 
as much bandwidth as possible to nrtPS if nrtPS has not 
gotten served after the bandwidth scheduling for rtPS is 
finished. Similarly, PCS can allocate minR(BE) to the next-
priority traffic, BE; then go to the ZNS procedure for nrtPS. 
Finally, PCS will allocate as much bandwidth (i.e., R(BE) or 
minR(BE)) as possible to BE, if BE has not gotten served 
after the bandwidth scheduling for nrtPS is finished. Besides, 
if BE can’t get served even by its minimum bandwidth 
requirement, PCS will allocate the extra bandwidth over the 
minimum requirement of nrtPS to BE traffic to avoid its 
starvation. 
The pseudo-code of the BNS performed at the relay zone 
is the same as that at the access zone except that the 
remaining bandwidth in the relay zone, denoted as RmR, 
initially is equal to Bi_R. At the end, the BNS can summarize 
the allocated bandwidths for all traffic classes at either zone. 
By comparing the total allocated bandwidths at both zones, 
the BNS can shift the boundary between the two zones for 
each frame to improve bandwidth utilization. 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Fig. 3 The pseudo-code of the BNS. 
 
_
//at the access zone of the BS or an RS at hop 
//per-class scheduling (PCS)
;
//for  traffic
if  ( ( )) 
         = ( );
         ;
else             
         Do rejection
A i A
A
UGS
A A UGS
i
Rm B
UGS
Rm R UGS
R UGS
Rm Rm




 
;
//for  traffic                                                 
if  ( min ( ))   
          = min ( );
          ;    
elseif ( min ( ))
          if  ( ( ))
 
A
rtPS
A A rtPS
A
A
rtPS
Rm R rtPS
R rtPS
Rm Rm
Rm R nrtPS
Rm R nrtPS



 


                  = ( );
          else   = min ( );
          ;
          Go to ZNS; //bandwidth negotiation for ;
else
          Go to ZNS; //bandwidth negotiation 
nrtPS
nrtPS
A A nrtPS
R nrtPS
R nrtPS
Rm Rm
rtPS


 
for ;rtPS
 
//for  traffic
if  ( min ( ))
          if  ( ( ))
                   = ( );
          else   = min ( );
          ;
elseif  ( min ( ))
          
A
A
nrtPS
nrtPS
A A nrtPS
A
nrtPS
Rm R nrtPS
Rm R nrtPS
R nrtPS
R nrtPS
Rm Rm
Rm R BE






 

= min ( );
          ;
          Go to ZNS;  //bandwidth negotiation for 
else
          Go to ZNS;  //bandwidth negotiation for 
BE
A A BE
R BE
Rm Rm
nrtPS
nrtPS
 
 
// for  traffic 
if  ( min ( )) 
          if  ( ( ))
                    = ( );
          else    = min ( );
          ;
elseif ( ( )== ( ))
          min (
A
A
BE
BE
A A BE
nrtPS
BE
Rm R BE
Rm R BE
R BE
R BE
Rm Rm
nrtPS R nrtPS
R nrt







 
   ); 
          min ( );
          = ;
          0;
else 
           = ;
           0;
nrtPS
BE A
A
BE A
A
PS
R nrtPS
Rm
Rm
Rm
Rm




 


 
 
//zone-negotiation scheduling (ZNS)
X= ;
if  (X min ( )) //  is either  or .
          min ( );
          0;
          ( );
else
          Do rejection;
A R
k
A
R R k A
Rm Rm
R k k rtPS nrtPS
R k
Rm
Rm Rm Rm






  
223
 And, (l, m, n, p, q, s) belongs to C2 under the two conditions 
listed below. 
 _
_
_
max ,  
[ min ( _ )]
( )
A rtPS A f
A R rtPS A f
A nrtPS A f
l B T Bt
Bt B B R rtPS R T
m B T
 

  




 


    


 

	
           (20) 
The first and second terms in Equation (18) are differentiated 
from that the BNS allocates R(nrtPS_A) or minR(nrtPS_A) 
to nrtPS before invoking the ZNS procedure for rtPS. The 
two constraints (C1 and C2) in Equations (19) and (20) are 
obtained by rewriting Equations (21) and (22), respectively. 
1
min ( _ )
: ( _ )
[ ( _ ) min ( _ )] min ( _ )
A
A
A R
B R rtPS A
C B R nrtPS A
B R nrtPS A B R rtPS R R rtPS A






   
	
          (21) 
2
min ( _ )
: ( _ )
[ min ( _ )] min ( _ )
A
A
A R
B R rtPS A
C B R nrtPS A
B B R rtPS R R rtPS A





 


   
	           (22) 
To derive the average throughput of nrtPS in the access 
zone, six cases in which how nrtPS can get assigned its 
required bandwidth at state (l, m, n, p, q, s) are listed in 
Equations (23) through (28). 
Case (1): As listed in Equation (23), when the remaining 
bandwidth in the access zone is not enough for the minimum 
bandwidth requirement of rtPS, the BNS can allocate 
R(nrtPS_A) to nrtPS before invoking the ZNS procedure for 
rtPS. 
Case (2): As listed in Equation (24), when the remaining 
bandwidth in the access zone is not enough for the minimum 
bandwidth requirement of rtPS, the BNS can allocate 
minR(nrtPS_A) to nrtPS before invoking the ZNS procedure 
for rtPS. 
Case (3): As listed in Equation (25), after the BNS in the 
access zone finishes allocating the minimum bandwidth 
requirement to rtPS without invoking the ZNS procedure, the 
BNS can allocate R(nrtPS_A) to nrtPS. 
Case (4): As listed in Equation (26), after the BNS in the 
access zone finishes allocating the minimum bandwidth 
requirement to rtPS without invoking the ZNS procedure, the 
BNS can allocate minR(nrtPS_A) to nrtPS. 
Case (5): As listed in Equation (27), after the BNS in the 
access zone finishes allocating the minimum bandwidth 
requirement to rtPS without invoking the ZNS procedure, the 
BNS can allocate minR(nrtPS_A) to nrtPS by invoking the 
ZNS procedure. At the other zone, the BNS can allocate 
R(nrtPS_R) to nrtPS. 
Case (6): As listed in Equation (28), after the BNS in the 
access zone finishes allocating the minimum bandwidth 
requirement to rtPS without invoking the ZNS procedure, the 
BNS can allocate minR(nrtPS_A) to nrtPS by invoking the 
ZNS procedure. At the other zone, the BNS can allocate 
minR(nrtPS_R) to nrtPS. 
1
min ( _ )
:
( _ )
A
A
B R rtPS A
H
B R nrtPS A




	
                                                   (23) 
2
min ( _ )
:
( _ )
A
A
B R rtPS A
H
B R nrtPS A



 
	
                                                 (24) 
3
min ( _ )
:
min ( _ ) ( _ )
A
A
B R rtPS A
H
B R rtPS A R nrtPS A



 
	
                            (25) 
4
min ( _ )
:
min ( _ ) ( _ )
A
A
B R rtPS A
H
B R rtPS A R nrtPS A



  
	
                      (26) 
5
min ( _ )
: min ( _ )
min ( _ ) min ( _ ) ( _ )
A
A
A R
B R rtPS A
H B R rtPS A
B R rtPS A B R rtPS R R nrtPS R





 


    
	
 (27) 
6
min ( _ )
min ( _ )
:
min ( _ ) ( _ )
min ( _ ) min ( _ )
A
A
A R
B R rtPS A
B R rtPS A
H
R nrtPS R Br R nrtPS R
Br B R rtPS A B R rtPS R





 


 


    
	
   (28) 
Thus, the average throughput of nrtPS in the access zone, 
denoted by ThnrtPS_A, can be obtained by summating six 
terms as below. 
1
2
3
_
( , , , , , )
( , , , , , )
( , , , , , )
( , ,
( _ ) [( , , , , , )]
               + [( , , , , , )]
              ( _ ) [( , , , , , )]
              [( , , , , , )]
nrtPS A
l m n p q s H
l m n p q s H
l m n p q s H
l m
Th R nrtPS A l m n p q s
l m n p q s
R nrtPS A l m n p q s
l m n p q s

 

 






 



4
3
6
, , , )
( , , , , , )
( , , , , , )
              [( , , , , , )]
              [( , , , , , )]
n p q s H
l m n p q s H
l m n p q s H
l m n p q s
l m n p q s
 
 



 
 



  (29) 
We can also obtain the overall system throughput, 
denoted as Thtotal, by summing the allocated bandwidth to 
each class k at all of the states in Equation (30). 
_ _
all of the  states { }
( ) [( , , , , , )]total k A k R
N k K UGS
Th u u l m n p q s
 
 
 
 
 
 
 
(30) 
As to the QoS requirement for BE, the average packet 
loss rate of BE, denoted as LBE_A, at the access zone can be 
calculated as below. 
_
( , , , , , )
_ _
_ _
[( , , , , , )]
( )
( )
BE A b
l m n p q s V
b BE A BE A f
BE A BE A f
L n l m n p q s
n n T b
n b T


 

 





   


  

	

         (31) 
 
IV. ANALYTICAL RESULTS 
We next present an example to evaluate the performance 
of the proposed BNS based on the equations derived in 
Section III. Table 2 shows the parameters and their values 
225
  
Fig. 4 The probability that rtPS or nrtPS needs bandwidth negotiation. 
 
 
Fig. 5 The probability for exceeding the delay constraint of rtPS. 
 
 
Fig. 6 The packet loss rate of BE. 
 
 
Fig. 7 The average throughput of nrtPS. 
 
Fig. 8 The overall system throughput with/without negotiation. 
 
REFERENCES 
[1] S. W. Peters and R. W. Heath, Jr., “The Future of WiMAX: Multihop 
Relaying with IEEE 802.16j,” IEEE Communications Magazine, vol. 
47, no. 1, pp. 104-111, Jan. 2009. 
[2] J. Sydir and R. Taori, “An Evolved Cellular System Architecture 
Incorporating Relay Stations,” IEEE Communications Magazine, vol. 
47, no.6, pp. 115-121, June 2009. 
[3] D. Niyato, E. Hossain, D. Kim, and Z. Han, “Relay-centric Radio 
Resource Management and Network Planning in IEEE 802.16j 
Mobile Multihop Relay Networks,” IEEE Transactions on Wireless 
Communications, vol. 8, no. 12, pp. 6115-6125, Dec. 2009. 
[4] IEEE Std. 802.16, “Part 16: Air Interface for Fixed Broad Band 
Wireless Access Systems,” Apr. 2004. 
[5] IEEE Std. 802.16e, “Amendment to Air Interface for Fixed Broad 
Band Wireless Access Systems – Physical and MAC Layers for 
Combined Fixed and Mobile Operation in Licensed Bands,” 2005. 
[6] IEEE Std. 802.16j-2009, “IEEE Standard for Local and Metropolitan 
Area Networks Part 16: Air Interface for Broadband Wireless Access 
Systems Amendment 1: Multiple Relay Specification,” June 2009. 
[7] Z. Tao, A. Li, K.-H. Teo, and J. Zhang, “Frame Structure Design for 
IEEE 802.16j Mobile Multihop Relay (MMR) Networks,” 
GLOBECOM 2007, Nov. 26-30, 2007. 
[8] P. Kolomitro, A.-E.M. Taha, and H. Hassanein, “A Performance 
Comparison of Frame Structures in WiMax Relay Networks,” IEEE 
35th Conference on Local Computer Networks, pp. 769-776, Oct. 10-
14, 2010. 
[9] S.-Y. Kim, S.-J. Kim, S.-W. Ryu, H.-W. Lee, and C.-H. Cho, 
“Performance Analysis of Single-frame Mode and Multi-frame Mode 
in IEEE 802.16j MMR System,” IEEE 19th International Symposium 
on Personal, Indoor and Mobile Radio Communications, Sep. 15-18, 
2008. 
[10] M. Salem, A. Adinoyi, H. Yanikomeroglu, and Young-Doo Kim, 
“Radio Resource Management in OFDMA-Based Cellular Networks 
Enhanced with Fixed and Nomadic Relays,” WCNC 2010, pp. 1-6, 
Apr. 18-21, 2010. 
[11] D. Niyato and E. Hossain, “Queue-Aware Uplink Bandwidth 
Allocation and Rate Control for Polling Service in IEEE 802.16 
Broadband Wireless Networks,” IEEE Transactions on Mobile 
Computing, vol. 5, no. 6, pp. 668-679, June 2006.  
[12] Q. Albluwi, N.A. Ali, and H. Hassanein, , “A Dynamic Frame 
Partitioning Scheme for IEEE 802.16 Mesh and Multihop Relay 
Networks,” ICC 2009, June 14-18, 2009. 
[13] A.F. Bayan and Tat-Chee Wan, “On-Demand Flexible Tiered QoS 
Scheduling Algorithm for IEEE 802.16j Multi-hop Relay Networks,” 
International Symposium in Information Technology, vol. 2, pp. 586-
591, 2010. 
227
國科會補助計畫衍生研發成果推廣資料表
日期:2012/08/16
國科會補助計畫
計畫名稱: 適用於802.16j網路的具有頻寬協調機制之上載排程演算法
計畫主持人: 吳妍靚
計畫編號: 100-2221-E-158-009- 學門領域: 網路
無研發成果推廣資料
其他成果 
(無法以量化表達之成
果如辦理學術活動、獲
得獎項、重要國際合
作、研究成果國際影響
力及其他協助產業技
術發展之具體效益事
項等，請以文字敘述填
列。) 
無 
 成果項目 量化 名稱或內容性質簡述 
測驗工具(含質性與量性) 0  
課程/模組 0  
電腦及網路系統或工具 0  
教材 0  
舉辦之活動/競賽 0  
研討會/工作坊 0  
電子報、網站 0  
科 
教 
處 
計 
畫 
加 
填 
項 
目 計畫成果推廣之參與（閱聽）人數 0  
 
