I 
 
中文摘要 
 
在 IETF所提出的多媒體視訊會議架構中，均不具有服務品質保證的能力，因此在本計畫中
我們提出一個具有服務品質保證能力的多媒體視訊會議服務系統，以提供使用者會議服務
品質保證；並且，由於 DiffServ/MPLS 網路提供服務等級控制與資源保留能力，因此具服
務品質保證之多媒體視訊會議服務是可實現的。本計畫從服務等級協議 (SLA) 概念來探討
多媒體視訊會議服務控制與資源規劃管理，在滿足不同使用者對會議服務需求與網路傳輸
特性的條件下，兼顧多媒體視訊會議服務提供者的經營成本與利益，規劃最佳網路資源分
配，以達到資源最佳效益。 
 
關鍵字：多媒體視訊會議、服務品質保證、服務等級協議、會議控制、資源規劃與管理 
 
1 
 
1. 前言 
由於網際網路的技術日趨成熟，從最早期的撥接上網，到現在家家寬頻到府，許多公
司都提供完整寬頻企業網路，在網路傳輸環境改善的同時，讓許多傳統無法實現的網路資
源殺手級應用，也陸續被實現與廣泛應用。視訊會議系統是一種現代化的辦公系統，視訊
會議透過通信網路把兩個或多個地點的多媒體會議終端連接起來，在其間傳送各種圖像、
語音和資料信號，使出席會議者有親臨現場的感覺。 
近幾年，IETF 已開始廣泛討論網路電話與網路會議相關議題，並提出多媒體視訊會
議架構與相關規範。由於服務模型與協定標準剛在草創階段，因此許多網路服務品質保證
能力與限制，均無嚴謹討論與考量。有鑑於此，我們提出了一個具有服務品質保證的視訊
會議系統架構，並且會將 SLA [24]的概念帶到服務當中，讓使用者能得到具有保證的服務。
同時我們也針對系統架構上的網路資源進行規劃與管理，使得提供視訊會議服務的業者在
兼顧經營成本與營運收入之下，系統資源更有效率的運用，獲得最大的利益。 
2. 相關研究 
2.1. 網路電話會議協定標準 
現今，網路電話會議有 H.323 和 SIP 這兩種通訊協定標準，但由於 SIP比 H.323的
可擴充性高，故現今各家廠商都逐漸將其重心移至 SIP來設計網路電話會議產品，而在 IETF
有幾個 working group皆陸續發表多媒體會議 (Multimedia Conference) 的相關資訊與規範。 
(1) MMUSIC [1] 
(2) SIPPING [2][3] 
(3) XCON [4][5] 
其中MMUSIC WG是利用 IP multicast protocol 所形成的 loosely coupled conference，
但是因缺少安全性的考量和缺少集中式管理，因此系統效能管控較差，故本計畫不考慮這
方面的研究[18]。其中 SIPPING 和 XCON 兩個 working group 是假設控制功能是由集中
式的會議控制元件 Focus 來做管理，這是屬於一種集中式控制的管理，具有會議資源管理
和會議功能的控制中心。 
在 SIPPING working group 這部分則定義了會議的需求[6]、call control[7]、和它的架
構[8]，且在架構方面也定義了其 feature tag[9] 和 conference event package[10] 兩個部分，
可說是目前發展較完備的 working group；而最近，IETF 正初始化另一個 XCON working 
group，目的是為了安全性的集中式多媒體會議 (secured centralized multimedia conferencing 
services)，這部份是發展了 conference scenarios[11]，Privileges for Manipulating a Conference 
Policy[17] 跟 Conference Policy Control Protocol (CPCP) [4]，floor control protocol [12]這兩
部份來做會議上的管理和溝通。 
而 XCON working group 因為利用了 CPCP 來發展多媒體會議，所以基本上就是一
種以政策為本 (policy-based) 來管理的多媒體會議，而這種利用 CPCP 的會議是有別於像
Ad hoc這種無排程 (scheduling)、且存活短 (short-lived) 的會議型式，所以在本研究中，也
將採用這種以政策為本的方法來做會議控制的管理。 
3 
 
依據表格 1的比較，我們可以得知此五種架構均具有一個共同的缺點，就是這五種架
構均使用一般的 IP 網路來當作其傳輸網路，皆不考慮網路會議服務品質，因此本計畫以 
MPLS[28] 網路為基礎，引入 SLA (Service Level Agreement) 概念，提出具服務品質保證之
多媒體會議服務架構，以及討論網路資源規劃議題。 
3. 多媒體視訊會議架構與會議控制機制 
3.1. 視訊會議系統架構之設計 
在系統架構設計方面，我們所提供的服務架構是具有服務品質保證的多媒體視訊會
議，所以使用 MPLS 來作為底層傳輸網路，MPLS 為 IETF 所提出的網路技術標準，它
提供頻寬保留（Bandwidth Reservation）、交通管理（Traffic Management）、快速傳送 (Fast 
Forward) 與快速重繞 (Fast ReRoute)，加快網路傳輸效能、改善網路傳輸品質與增加網路
可靠度。因此，目前網路技術已經具備足夠能力提供具服務品質保證之網路即時多媒體應
用，並且以服務分級品質保證的概念為基礎，藉由傳輸網路 (DiffServ/MPLS) 的支援，能
夠提供給使用者一個具有保障服務品質和分級服務的環境。依使用者不同需求來提供差別
多媒體視訊會議服務，這將有助於視訊會議服務的品質的控制，以及使用者對服務品質滿
意度的提昇。除此之外，我們在架構中多加入一個在 IETF 的 RFC 中沒有定義的元件 — 
Media Gateway，這是本計畫自行設計的元件，系統架構元件說明及系統架構設計以下將詳
細說明。 
3.1.1. 系統架構元件說明 
本系統共定義四個重要元件：Focus、Signaling Server、Media Gateway 與 Mixer。Focus
是整個會議的信令控制中心，功能方塊圖如圖 2 (a) 所示，所有參與會議的參與者，與所
有會議元件，都必須跟 Focus 進行信令交換;同時它也是一個會議的決策中心，像是對參與
者的管理，對 Mixer 的管理，以及對 Media Gateway 的管理，都會透過 Conference Policy 
來做決策。 
第二個元件是 Signaling Server，功能方塊圖如圖 2 (b)，這個元件就是我們一般俗稱
的 SIP Server，也就是它會具有 Proxy Server、Redirect Server、Location Server、Registrar 
Server 的功能，在此我們把它簡寫為 SS。 
第三個元件是Media Gateway，功能方塊圖如圖 2 (c)，這一個元件是本研究提出的一
個新元件，我們會利用這個元件來幫助我們控制多媒體串流的傳送路徑。因為如果我們把
影響服務品質的多媒體串流交給網路業者去決定傳送路徑，是非常不可靠的；雖然頻寬是
足夠的，但所經過的路徑的傳輸品質可能會有不穩定、壅塞與延遲的現象發生，因此我們
加入 Media Gateway這個元件來控制多媒體串流的傳送路徑，以確保多媒體串流所傳送路
徑的傳輸品質。在此架構中，如果我們有更多的延伸服務，Media Gateway會有更大的功用，
例如我們不只是只有提供視訊會議的服務，我們還提供了點對點網路電話、網路電視、…，
等等其它的服務，這些服務我們也可以利用 Media Gateway來幫我們做封包的分類及 LSP
路徑的選擇，哪個服務該走哪一條 LSP以確保得到傳輸品質控制，我們可以完全交由Media 
Gateway去處理。除此之外，由於只有 Multimedia Conferencing Service Provider 可以準確
掌握使用者的狀態以及網路傳輸需求，因此本架構之多媒體串流傳送路徑的決策是由提供
5 
 
3.2. 會議控制機制之設計 
在會議控制方面，Focus 會對參與者、Mixer、Media Gateway的資源使用進行管理，
如圖 4，Focus 與系統各元件及使用者會透過 Policy Setup 與 Conference Control 協定機
制，進行資源使用協調與互動。Focus可以藉由知道參與者的狀態來決定服務策略，對Mixer
及Media Gateway進行設定與控制；Mixer、Media Gateway也回報參與者人數以及系統資
源使用狀態，並執行 Focus 所指定的服務策略。 
 
圖 4：會議控制機制設計 
管理內容方面，我們會對參與者的邀請名單做管理 (如表格 2)，也就是我們會根據建
立會議的參與者所提供的名單 (INVITE-Contained Lists)[23]，邀請 UA加入到會議裡;並且
會對參與者的狀態進行管理。在Mixer管理方面，必須判斷這個會議是否為區域性的會議，
該本地端進行混音或是由下一層 Mixer 進行混音/混影像動作，該預留多少頻寬資源提供
混音/混影像之串流使用，以滿足這個會議所簽訂的 SLA為目標。Media Gateway 必須管理
可用的路徑 (LSP) 與頻寬資源，當一個多媒體會議開始運作時，多媒體串流該導入到那一
條最佳路徑，並保留多少頻寬資源。 
表格 2：會議服務控制管理與策略 
 
參與者狀態設計方面，我們從會議的建立，參與者的加入、離開，總共設計了五種狀
態來描述會議服務，以圖 5來說，在箭頭上方的訊息，前面代表的是觸發事件，後面代表
的是對應觸發事件所傳送或接收到的訊息。假設以建立會議來說，一個參與者原本是在 Idle
的狀態，當他要建立一個會議的時候，他會傳送一個 INVITE訊息給 Focus要求建立會議，
這時他的狀態會跳到 Proceeding的狀態，當他收到 Focus所回應回來的 200 O.K.訊息，表
示 Focus 已經允許建立會議，而且正在幫他建立會議與協調會議資源，此時參與者會跳到
Active的狀態。當會議已經開始運作之後，假設這個參與者想要離開此會議，他會傳送 BYE
7 
 
把 Access Network到 Core Network這一段的資源給考慮進來。 
4.2. SLA的設計 
4.2.1. S-SLA轉換到 N-SLA的程序 
從 S-SLA轉換到 N-SLA需要經過幾個程序，這些轉換程序的目標是要讓我們 Service 
Provider的 Revenue減掉 Cost的值達到最大，也就是讓我們的 Profit的值達到最大。在轉
換程序方面，第一個程序我們會使用 Erlang-B公式，第二個程序我們會設計一些 mapping
的參數，利用這些 mapping的參數來求出我們所需要的資源、成本及收入，最後在經過最
佳化的程序，在一些條件的限制下，即可求出我們想要的結果。 
S-SLA
The translation maximizes
{S-SLA Revenue－ N-SLA Cost}
N-SLA
SLA Translation Procedure
Erlang-B
Optimization 
process
F1, F2, F3
Translation Constraints
 
圖 7：從 S-SLA轉換到 N-SLA的程序 
4.2.2. S-SLA服務內容 
在 Customer 簽訂的 Session-level SLA 中，本多媒體會議服務提供不同等級的會議服
務集合，例如 Qj代表的是第 j個會議的服務品質，Qj = { q1、q2、q3 }，q1、q2、q3 是會
議的服務等級。例如：q1表示高畫質 1024x768 解析度與 CD 聲音品質之多媒體會議、q2
表示中高畫質  640x480 解析度與  CD 聲音品質之多媒體會議。這服務等級是由
Conferencing Service Provider 定義，例如：使用者購買 Q1服務，包含 q1 與 q2 兩種等
級，表示使用者最高需求是 q1 等級，最低需求是 q2 等級；Conferencing Service Provider 可
以依據系統資源使用狀況，調整使用者最佳服務等級。使用者會依照使用的等級來付費，
例如當系統資源很充裕時，系統會給予 q1 服務等級，此時使用者必須付 q1 等級的費用。  
除了使用者購買時必須確定購買的會議服務集合外，使用者還必須購買服務的會議人
數數量，例如參與者從 MG1、MG2、MG3 上線的人數，即簽定從這三個元件所上線的最
大人數，此協議將作為系統評估與服務允許控制參考。 
4.2.3. SLA轉換參數定義 
在 SLA參數部份，我們設計以下參數，第一個參數 F1代表的是這個會議的服務等級
所對應到需要多少的資源，F2代表的是這個會議的服務等級所對應的收費是多少，F3代表
的是這個會議用了這些資源所對應到的成本是多少。Lj代表第 j個會議的總人數，Nj，MG1 代
表第 j個會議會從MG1上線的人數，Nj，MG2 代表第 j個會議會從MG2上線的人數，Nj，MG3 
代表第 j個會議會從MG3上線的人數; BHTj，MG1 代表第 j個會議MG1的 BHT，BHTj，MG2 代
9 
 
路資源所相對應的成本，再把這些成本相加的結果就是我們所要求的總成本，使用 F2來求
出每一個會議的收入，把這些收入加總之後 S-SLA Revenue的全部總和，在本益比的限制
下，求出 Profit的最大值。 
4.2.5. 最佳獲利分析方法 
我們在 SLA設計的最終目標是希望能在 Profit最大的情況下，找出每一個會議的服務
品質、服務等級 (如方程式 1)，假設已知條件是 F1、F2、F3、N、Qj，大 N是表示我們總
共跟客戶簽訂了 N個 S-SLA，也就是會有 N會議，並且我們也知道每個會議的服務品質、
服務等級，底下這個數學式是在表示所有會議的總收入減掉所有會議的總支出，利用 F2 
Quality-to-revenue mapping，求出每一個會議中每一個參與者所需支付的費用，再乘以會議
的總人數，就是此會議的總人數，再利用 F3 Resource-to-cost mapping，求出每一個會議所
需的成本，我們可在把網路資源在細分成以下幾項(如方程式 1)，從MG1到Mixer1的網
路資源，從MG2到Mixer2的網路資源，從MG3到Mixer3的網路資源，以及Mixer跟Mixer
之間的網路資源，使用以下的公式，在本益比的限制之下 (如方程式 2)，即可求出 Total 
Profit。 
方程式 1 
2 3
1 1 1 1
2 3 , 1 1 , 2 2 , 3 3 ,   
1 1
( ) ( )
( ) ( )
N N N N
j j j j j
j j j j
N N
j j j MG Mixer j MG Mixer j MG Mixer j Mixer to Mixer
j j
U C F Q L F r
F Q L F r r r r
= = = =
↔ ↔ ↔
= =
= ⋅ −
= ⋅ − + + +
∑ ∑ ∑ ∑
∑ ∑
 
方程式 2 
2
1 1
3
1 1
( )
( )
N N
j j j
j j
N N
j j
j j
U F Q L
C F r
= =
= =
⋅
= ≥
∑ ∑
∑ ∑
本益比限制
 
4.2.6. Multiplexing Gain 
資源規劃分析中，我們使用 Busy Hour Traffic (BHT or AHT) 及系統的 Blocking 
Probability 這兩個參數來決定 Media Gateway 跟 Mixer 之間的 channel 數。舉個例子來
說明，假設今天有四個人從 MG 這邊上線，每一個人需要一條 channel，總共需要四條 
channel，每一條 channel 所需要的頻寬是 128kbps，所以總共需要 4x128 = 512kbps 的頻
寬;假設我們今天跟這群客戶簽訂協議，協議的內容是系統的 Blocking Probability 是 1%，
BHT 為 0.3 Erlangs，那我們就可以根據 Erlang-B 公式求出從 Media Gateway 到 Mixer
之間只需要三條 channel，也就是會省下一條 channel的網路資源 (頻寬)，我們就是利用此
方法來達到節省資源的目的。 
5. 結論 
多媒體網路會議屬於一個較新的研究領域，由於不像一般 VoIP 使用者是點對點
(Point-to-Point)的行為，是屬於複雜許多的點對多點(Point-to-MultiPoint)的情況，因此還有
許多地方是值得我們可以繼續研究的，像是在這個系統架構上設計 Floor Control[29] (發言
11 
 
計畫成果自評 
 
 原計畫與已達成之研究成果 
1. 原計畫為兩年延續行計畫，第一年預計完成集中式多媒體會議服務系統架構設
計、多媒體會議協定擴充與設計、多媒體會議服務資源規劃；第二年預計完成會
議話務允許控制機制與話務品質動態調整機制設計，以及系統原型模擬與分析。 
2. 今年度本計畫已完成兩大研究成果，(1) 集中式多媒體會議服務系統設計，其中包
含元件功能設計與協定設計；(2) 系統頻寬資源規劃與管理機制之設計。 
3. 除此之外，本研究也已完成集中式多媒體會議服務系統雛型實現，透過 Asterisk 
Open Source 軟體，增加 URI-List 功能，實現集中式多媒體會議基本影像會議功
能。 
4. 因此，本研究成果與原計畫完全相符，並且如期完成。除此之外，本研究亦完成
預計第二年完成之系統雛型測試，未來將作為本人 96年國科會計畫
(NSC-96-2221-E-343-001)，研究叢集式多媒體會議軟性網路之實驗平台。 
 
 研究成果之學術與應用價值 
1. 本研究初步成果已發表於國內全國性研討會，2007全國電信研討會 (NST 2007)、
2007資訊教育與科技應用研討會 (IETAC 2007)。 
2. 本研究初步成果已發表於國際知名期刊，Huan Chen, Hui-Kai Su and Bo-Chao 
Cheng, "An Objective-Oriented Service Model for VoIP Overlay Networks over 
DiffServ/MPLS Networks", Computer Communications, August 2007. (SCI-Expanded, 
EI) (NSC-95-2218-E-343-002) 
3. 本研究設計與發展之多媒體會議服務系統，未來可以嘗試植入 Embedded 
System，具應用與產品化之價值。 
13 
 
南華大學補助教師出席國際學術會議報告書 
                                                             2007年 6 月 30日 
報告人姓名 蘇暉凱 
服務單位 
及職稱 
南華大學資訊工程學系 
助理教授 
會議時間 2007/5/27-30 會議地點 中國 北京 
會議名稱 
 (中文) 2007 計算機科學國際研討會 
 (英文) International Conference on Computational Science 2007 (ICCS 2007) 
論文名稱 
 (中文) 網際網路區域連線保護機制 
 (英文) Local Link Protection Scheme in IP Networks 
 
一、參加會議經過 
 
ICCS 2007 今年由中國科學院研究生院主辦，於北京郊區九華山莊舉行，會議時間從
2007年 5 月 27日至 2007年 5 月 30日，總計四天；第一天是註冊與歡迎會，後三天是技
術論文報告 (Session)。ICCS 主要以數學、計算機科學研究為主，每年平均收錄 300 篇高
品質論文，每年平均 500 位學者參與，接受率平均 35%，優秀論文並被刊登到 Lecture 
Notes in Computer Science 期刊。 
 
 
圖 9: ICCS 2007 會場入口 
 
本人於 2007/5/30 早上 10:40 第一場技術論文發表會議，以投影片方式口頭報告所發
表之論文，論文題目為『Local Link Protection Scheme in IP Networks』，我們提出 IP 網路
保護機制的需求與重要性，並在不改變現有 Routing Protocol 的機制下，提出網路連線保
護機制，以及備援節點 (Backup Next Hop) 的計算方法，在一條網路線路損壞的情況下，
以達到連線快速切換，將網路傳輸服務中斷時間控制在幾百微秒 (ms) 內；報告時間約 20 
分鐘。 
 
 
