行政院國家科學委員會補助專題研究計畫成果報告 
以多元模式估算配合度誤差 
計畫編號：NSC  94－2213－E－150－019 
執行期間： 94年 8 月 1 日至 95年 7 月 31 日 
計畫主持人：黃俊平 
 
中文摘要 
在精密製程中比對是一個重要的因
素，比對是將兩物件就形狀上作一比
較，就概念上而言這是一個微不足道的
動作，但就誤差的觀點而言這卻是一個
影響重大且困難重重的動作，在精密製
程中是不可能避開比對誤差的，而舉凡
是校正、控制、量測等牽涉到精度的作
業都與比對有關。比對發生誤差表示相
關物件在尺度上偏離了設定值，這也代
表了物件在幾何性質上產生了某種變
化，這種變化的大小反應了物件的品質
狀況，因此透過比對也能診斷出物件之
品質，甚至可以診斷出一些未接觸到的
或潛在的問題，由此可知比對誤差在製
程上扮演之角色。微奈米尺度完全是在
人的感覺之外，人在微奈米產品之製造
過程中很難有任何介入，幾乎所有的程
序都必須依賴機械，機械設備必須自行
負責所有控制與調整的作業，而這些控
制與調整的依據就是最終比對作業，因
此一個精準的比對誤差估算模式是絕
對必要的，這也就是本專題之研究重
點。與幾何形狀相關之問題多半都牽扯
到位置與方向，這對以代數求解方式造
成極大的困擾，筆者在本專題中提出以
虛圓方式統一解決大小與方向之問
題，這對幾何誤差度之求解也有相當之
貢獻。 
 
關鍵詞：奈米，比對，虛圓 
 
Abstract 
The fitting between two different objects is a 
critical factor in precision manufacturing 
process. The definition of fitting is to compare 
two different objects based on their shapes. It 
is a trivial operation based on a common point 
of view. But it is a tough objective if the 
fitting error is taken into account. The fitting 
error is inevitable in the any manufacturing 
process. All the precision related operations 
like recalibration, control and measurement 
have to deal with the fitting error. Fitting 
errors indicate that the size of the object is 
deviated. That means some geometric 
properties are changed. Those changes have 
significant relationship with the quality. So the 
analysis of fitting error is critical to the 
manufacturing process. The nano-scale is out 
of the reach of any people. It is hard for any 
person to get involved with any direct 
operation in the manufacturing process of the 
 2
無法發揮正常功能。目前製程上之配合
作業多以治具(jig)控制為主，其作法是
先對治具進行比對並控制其誤差度，然
後以治具引導所有配合作業；如治具鏜
孔(jig boring)，治具組裝(jig mating)等
便屬於這種方式，這種方式也稱為盲目
配合(blind fitting)，因為所有程序完全
依治具所設定之方位進行，過程中完全
不進行比對動作，也不考慮兩配合件之
間是否有調整的必要，一切作業完全固
定在治具所規範之空間內進行。此外一
般電子業常用的自動零件插入機，其插
入作業是依照事先輸入的座標進行，過
程中雖然沒有治具引導插入動作，但這
種機器本身控制插入座標之機構也是
具有像治具一樣的引導作用，因此也可
視為一種治具控制方式。 
 
治具控制方式省去了麻煩的比對動
作，整個作業變得簡單而有效率，因此
廣受業界所採用，這種省略比對動作的
配合方式固然有其優點，但其缺點也不
可忽略，原因在於世界上所有元件包括
治具本身都存在著誤差，這些誤差不會
因為使用治具而消失，此外自動化配合
作業是建立於一連串機構運動的組
合，機構運動時會造成公差堆積
(tolerance stack)現象，公差堆積是隨機
產生的，有時甚至使誤差堆積到超過設
定範圍，這種情況無論治具再怎麼精密
也無法避免，而比對之功用便是在最後
配合階段將兩個帶有誤差的零件間找
出最小的配合誤差，以使配合達到最佳
狀態，省略了比對動作連帶也使這項功
能喪失，這使得某些原本可配合良好之
零件可能因為相對位置間些微的誤差
而變得配合不佳，甚至無法配合而成為
不良品，而設計者為了改善這種情況只
好被迫採用較大的配合公差，擴大公差
可使配合件在較寬鬆的空間中進行，但
卻也造成可使用空間之縮減，這種做法
對斤斤計較空間利用的微奈米產品而
言是相衝突的，更成了微奈米產品提昇
精度之絆腳石。 
 
由上述說明可知自動化配合作業仍有
其不可避免的誤差產生，這種誤差可能是由
零件所產生，也可能是由機器內部機構所產
生，也可能是由環境影響所產生(如溫濕度
效應)，無論配合誤差是如何產生，若能在
最後配合階段進行一次比對便能將先前所
有誤差做總調整，使配合能在最佳狀況下進
行，當然比對的缺點是較花時間，但以製造
成本極高的微奈米產品而言，若能換得較佳
的品質與精度則稍許的比對時間應是值得
的，若能設計一套快速有效的比對方式，以
便能在最短時間內完成比對作業，則可一舉
兩得既保留比對的優點又避免其缺點，這對
提昇精密工業事有極大效益的，這也是本研
究計劃之最主要目的。 
 
3. 文獻探討 
本專題之研究重點在於比對兩個帶有
誤差之幾何形狀，因為比對形狀的種類
繁多，這種比對運算就牽涉到多種幾何
誤差度之問題，而舉凡所有誤差問題都
必然被要求在最小誤差區間(minimum 
zone)條件下求解，在最小誤差區間條件
下之幾何誤差度是一種令人頭痛的非
線 性 與 非 凸 集 性 (non-linear & 
non-convex)數學問題，這種問題困擾著
 4
在 Lai與 Wang提出以運算幾何法解真
圓度後，真圓度問題卻沒有獲得完整的
解決，這個問題有為數眾多之學者從事
其研究，但都沒有獲得滿意的結果，其
中僅有少數幾位獲得較接近滿意的結
果【8, 12】，直到筆者提出Max region
觀念，才證明真圓度必定在 X型端點上
【13】，筆者是以 Voronoi diagram將整
個平面依數據點間之距離關係切割成
數個最遠與最近區域，而Max region便
是相關最遠與最近區域之交集，這兩種
區域相交所產生之端點便是 X 型端
點，筆者證明決定最小真圓誤差度之最
小徑差中心(minimum radial separation 
center)只可能發生在X型端點上而完整
解決真圓誤差度問題，X型端點是由兩
個距離最遠與兩個距離最近之數據點
所組成，筆者利用此特性而發展出一套
有效的數學運算方式以降低運算複雜
度【14】，這種方式之重點在於以少數
之數據點來計算整個問題，這種方式成
功地將真圓度之運算複雜度降至 O(n)
以下。此外筆者也將真圓誤差度之模式
應用於球面問題上，並成功解決球面誤
差度問題【15】。 
最近筆者利用合成直線度方式成功解
決平面上兩線間之角誤差度問題
【16】，這是筆者首創的一種解法，這
種解法也提供了多邊形誤差度的一種
解決方式，也就是將多邊形拆解成多個
角誤差度問題再以聯立方式解決。以上
是目前被解出的一些誤差度，但仍有為
數眾多的各種幾何誤差度仍待解決，如
cylindricity, ellipticity, polygon fitting 
error,..，這是一個對精密工業影響重大
而且值得研究的領域。 
Ye et al 等學者針對 VLSI製程上常用的二
維平台(two-dimensional coordinate stage)之
自動歸零調整(self-calibration)進行了深入的
研究【17】，這種平台通常是以雷射測量儀
(laser interferometer)監控 X 與 Y 方向之移
動，但就如同前述所言無論機器多麼精密都
免不了有誤差產生，為了解決這種問題Ye et 
al 等學者將整個平台在縱橫方向上切割成
多個格子，若平台移動時產生誤差，則量測
儀所測得之格子必然與系統內建之格子不
吻合，系統便進行誤差修正，而誤差計算則
是以 Fourier series進行，文中宣稱只要格子
切割得恰當該法是可以獲得理論上之最佳
解。此外 Leitao 與 Stolf 等學者針對二維
破碎物體之外型重建作了深入研究【18】，
雖然這類研究之主要對象是考古學，但對於
工業應用上亦非常有參考價值，尤其對於多
邊型的比對更具有啟發作用，碎片之比對有
點類似於帶有誤差之多邊形之比對，因此這
篇文章也列入參考。 
 
4. 研究方法 
本研究計畫之主題在於比對帶有誤差
之形狀，而且是在配合之最後階段進行
最終比對，因此較適合具有視覺系統監
控之微奈米製程，微奈米產品由於尺寸
極為細小其元件形狀多屬於多邊形或
圓形，而且多附著在一個平面基座上，
所以本計畫之研究範圍設定在二維，而
比對之形狀設定為多邊形及圓形。首先
就圓形之比對方式作一說明，兩個單一
圓形之比對是屬於最簡單之狀況，其比
對程序只需將兩圓移至同心位置再檢
查其配合餘隙(clearance)便可。但一般
 6
Ri 與 ri 為兩配合圓之半徑；若為多邊
形配合時 Ri=Ci(間隙公差)，ri=0(僅是
端點位置) 
Di為兩配合圓之圓心位置距離 
目的函數之 Ti 代表各配合圓間之容許
空間，目的函數之用意在於找出最好之
配合位置以使各配合圓間之最小容許
空間最大化，若此目的函數值小於零則
表示此兩零件無法配合。最終目的函數
值 Ti 是純量值，但在求取極大化過程
中則必須考慮方向問題，因此過程中
Ti必須以向量方式計算，這種問題若單
純以代數方式計算將陷入複雜難解之
狀況，在此筆者提出以虛圓 (virtual 
circle)方式解決此一問題，虛圓是一種
將其他問題轉換為圓的問題的做法，而
實際上並沒有圓的存在，所以稱為虛
圓，這是筆者所創的一種做法，筆者正
用此法解橢圓問題。 
 
 
 
 
 
 
 
圖三、目的函數向量 Ti與虛圓關係 
 
虛圓的做法是將所有 Ti 向量統一集中在某
一處，如此可對所有 Ti向量進行統一比較，
圖三上方各箭頭代表各配合部位之 Ti 向
量，左下方表示集中後之 Ti 向量，由於目
的函數在求Max[min(T1, T2,…, Tn)]，這等
於是將集中後之 Ti 向量視為一個求取最大
內切圓問題，右下方表示由目前集中後之
Ti向量求出其最大內切圓，若最大內切圓之
圓心與 Ti 向量之起點處在同一位置就表示
目的函數達到最佳解狀況，以圖三右下方之
狀況而言，最大內切圓之圓心並未與 Ti 向
量之起點處在同一位置，所以並未達到最佳
解，表示整個配合必須作一移動，Ti向量之
起點與最大內切圓之圓心間之向量便是整
個配合必須修正之方向與大小，經調整幾次
後就可得到最佳解。 
 
5. 結果與討論 
 
本專題中以圓形比對方式簡化了多邊
形之比對，其中有一前提是兩相配合之
多邊形各邊之直線誤差度不能超過所
設定之配合間隙，這對於間隙很小時可
能遭遇解法上之困擾，其解決方法是求
解過程中再對各邊作一次直線誤差度
之計算，這將增加運算複雜度，不過直
線誤差度之計算較簡單，運算時間增加
有限，目前已求出某些狀況下之解析
解，由求解過程看來整個問題之解析解
應可順利求出，而此問題對於網路相關
設計具有十分關鍵，將來應有重要發
展。 
 
References: 
1. Murthy TSR. A comparison of 
different algorithms for circularity 
evaluation, Precision Engineering, 8, 
1986 No. 1, 19-23. 
2. Murthy TSR and Abdin SZ, 
Minimum zone evaluation of surfaces, 
International Journal of Machine Tool 
 8
