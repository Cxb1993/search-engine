 2
曲片斷為主之檢索方式，主要是判別某歌
曲片段（可能是 PCM 或 MP-3 格式），是
否存在於資料庫中。因此，僅管有兩個人
唱相同的歌曲，但仍會被判定為兩首不同
的歌曲。由此可知，此檢索方法與使用哼
唱的檢索方法，大為不同。 
利用歌曲片斷為檢索依據，事實上有
其應用層面。以下我們簡單列舉兩種以說
明之 [5]： 
z 歌曲資訊詢問系統：當我們聽到某
歌曲（可能是從收音機）時，想知
道歌曲的作者甚至得到這首歌曲
之電子檔時，我們也許可以利用手
機將音樂片段錄下來，並傳送給資
料提供者(content provider)，以得
到這首歌完整資訊。此時，我們期
望得到的，並非沒沒無聞者所翻唱
之歌曲，而是原唱者之音樂。因此
我們不能利用哼唱旋律之檢索方
法，而必須以音樂片段為比較基
準。 
z 廣播監督系統：唱片公司可將電台
播放的音樂，利用歌曲片斷為檢索
依據，來計算該電台播了幾首自己
公司的音樂，並以之收費。 
由此可知，我們討論的問題，事實上是有
相當的價值。 
 
三、研究方法 
 
在歌曲辨識的問題中，最直接的方法
是將歌曲片段的 PCM 訊號（或稱 WAVE
檔）與資料庫中之歌曲直接比較。雖然概
念簡單，但是此法明顯不可行，原因是計
算量太大。因此，比較合理的辦法，是利
用一些特徵值(features 或 descriptors)來代
表一整段的音樂，以之降低資料的維度。
如此可減少資料量並加快搜尋時間事實
上。在 MEG-7 標準[4]中，已定義各種特徵
值，以方便大眾使用。 
由文獻資料[5]的結論可知，MPEG-7
音訊的高階特徵值中的聲音簽章特徵值
(audio signature descriptor)，在歌曲辨識方
面，具有最好的效果。因此，我們選定此
特徵值，當成歌曲辨識的基本特徵值。在
一般條件下，15 秒的歌曲之聲音簽章特徵
值之數目，為 31 × 24 = 744 點[5]。但是因
為其結果包含平均值（mean）和變異量
(variance)各有 744 點，故總和為 1488 點。
這些特徵值，在 MPEG-7 中，是以 XML
為骨幹將其包裝在中間。由此可知，每一
段 15 秒的音樂，利用聲音簽章特徵值表
達，會產生 744 個平均數及 744 個變異量。
假設資料庫中之歌曲數為 1000 首歌，每首
歌曲長度為 30 秒，如果要判斷未知的 15
秒的音樂，是否在資料庫中，則需將未知
的音樂，與資料庫中的音樂一一比較。此
外，由於未知的音樂片段，可能位於此某
首歌曲的中間，因此，資料庫中 30 秒的
1488 點的（平均值）資料，必須與未知音
樂的 744 點的資料，以若干點（在我們的
條件下為 24 點）為一步，加以比較。由此
我們可以看出其計算量仍然太大。因此，
需要進一步降低其計算量。 
概 念 上 來 說 ， 利 用 多 重 解 析 度
(multi-reslolution)之搜尋技巧，可以大幅降
低搜尋所需之時間。此方法是先將聲音簽
章特徵值，利用某種方法，降低其維度，
未知之資料，先在此低維度之領域，先做
搜尋，找出最可能符合之對象後，再以高
解析度之特徵值，從這些最可能符合之範
圍中，確認未知之資料，與何者最接近。
由於此方法，大部份的比較，都是在低維
度之特徵值領域，因此搜尋速度，將可大
幅加快。以此而言，一套有效率且高鑑別
率的資料維度降低方法，對快速搜尋而
言，是絕對有幫助的。 
 
四、實驗步驟及結果 
 
在維度降低的方法上，我們實驗了區
塊 平 均 法 及 PCA(Principal Component 
Analysis) 方法。區塊平均法的概念是將時
間及頻率相鄰的特徵值，以區塊的方式，
加以取平均，以之降低資料量，詳細的方
法請參考[5]。至於 PCA 的方法，則是利用
資料庫內的特徵值，算出其協方差矩陣
(covariance matrix)，然後再利用此矩陣，
計算其特徵值 (eigenvalue) 與特徵向量
(eigenvector)，並且將特徵值由大到小排
 
決定門檻值的機制如下：利用模擬的
方式，將歌曲資料庫分成兩部份，一部份
當作訓練資料，計算出其最小距離與第二
小距離的範圍，選取最小距離的上限與第
二小距離的下限取其平均，則得到相對應
的門檻值，公式如下。 
 
min max ,A AA≤ ≤
min max ,B BB≤ ≤
max min
2
A B+
A: 訓練資料最短距離的集合
B: 訓練資料第二短距離的集合
門檻值 =
 
 4
 
利用公式(1)得到的門檻值當作依據，
並且將歌曲資料庫另外一部份視為測試資
料(testing data)，統計出測試資料的最小距
離與門檻值大小關係對於歌曲正確率的相
對性質，進而計算出錯誤接受率(FAR: 
False Acceptance Rate)、錯誤拒絕率(FAR: 
False Rejection Rate)，以本實驗而言，錯誤
接收率表示測試資料的最小距離小於門檻
值，因而誤判認為此歌曲在資料庫中；錯
誤拒絕率表示該歌曲在資料庫中，因而誤
判認為此歌曲不在資料庫中。本實驗就隨
機將歌曲資料庫分割，並且計算每次分割
的錯誤接受率及錯誤拒絕率，如表三所示。 
 
表三  實驗三之結果 
 
錯誤接受率(%) 錯誤拒絕率(%)
第1次挑選 6 4
第2次挑選 7.2 2.4
第3次挑選 4.8 2
第4次挑選 5.2 0.8
第5次挑選 0 0
無失真歌曲共500首 (PCA)
隨機挑選訓練資料250首/測試資料250首
 
 
由表三可知，透過此簡單機制所產生
出來的門檻值，對於判斷歌曲是否有在資
料庫中，仍有一些錯誤，值得後續進一步
討論。 
 
五、計畫成果自評 
 
我們在此計畫中，討論了數種降低維
度的方法，並實作以驗證其有效性。我們
發現，簡單的區塊平均法，已可大幅的降
低相似度比較的計算量。因此，此方法在
實際的應用上，相當有潛力。 
此外，我們也試驗了使用 MPEG-7 
descriptor，來查詢歌曲片段是否存在於歌
曲資料庫中。我們發現，以簡單的門檻值
作為歌曲是否在資料庫中的判斷，仍有一
些錯誤，值得後續進一步討論。 (1)
整體來說，我們預定探討的課題，即
降低維度（及增進查詢速度的方法），已
得到部份的的結論，並發表相關之論文，
因此計劃成效尚佳。  
 
六、參考文獻 
 
[1]  國立清華大學張智星教授在這方面，有很多的
研究。在此僅舉其指導之學生之論文以代表：
陳晴，哼唱選歌的加速方法，國立清華大學碩
士論文，民國 93 年。 
[2]  O. Hellmuth, E. Allamance, M. Cremer, H. 
Grossmann, J. Herre, T. Kastner, “Using MPEG-7 
audio fingerprinting in real- world application,” 
Convention Paper 5961, 115th AES Convention, 
October 2003. 
[3]  H. Crysandt, “Music identification with MPEG-7,” 
Convention Paper 5967, 115th AES Convention, 
October 2003. 
[4]  ISO/IEC, Information technology – multimedia 
content description interface, Information 
Standard 15938, part 4, Audio, 2002. 
[5]  J-Y Lee and S D You, “Dimension Reduction 
Technique for MPEG-7 Audio Descriptors,” 
Lecture Notes in Computer Science (LNCS) 3768, 
pp. 526 – 537, 2005.
