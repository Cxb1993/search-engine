 2 
二、文獻評述 
於 WSN 中傳輸感測資料的方式主要是
由多個來源端的 sn 傳遞向單一資料彙集點，
已有諸多的研究提出適用於 WSN 之資料傳
輸協定，大致分為如下三大類： 
(一) [1, 2, 3, 4]提出以資料為中心的傳輸協
定，改善傳統以氾流式傳輸資料所造成不必
要的 sn 電能消耗。 
(二) 階層式協定採用網路叢集化(clustering)
概念[5, 6]，可增加 WSN 的延展性，避免當
網路區域變大時，因 sn 大量的增加而造成過
多的通訊負載(overhead)、訊號傳遞延遲以及
網路管理的複雜度。 
(三) 位置導向之資料傳輸方式[7]，設 sn 皆
已知自己的地理位置，依此將網路劃分成一
群虛擬網格，每一網格僅需一個 sn 被喚醒作
資料傳輸即可，其餘者可進入睡眠狀態，以
節省電能消耗。 
WSN中sn所配置的電池能量是有限的，
學者已提出不同的策略來延長WSN的存活
時間，[8, 9]容許各種睡眠機制應用於sn上，
即不影響網路整體運作功能的情況下，令部
份sn進入睡眠狀態，以達節省sn電量並延長
網路壽命為目的。此外，[10, 11, 12]則提出不
同的節能式路由，來節省電能量消耗。  
於WSN的眾多應用中，追蹤移動目標是
一項重要應用，而制定一目標追蹤策略時，
必須考量：參與追蹤的sn組合、sn待喚醒時
間、傳輸方式與區域範圍等要項[13]。目前諸
多研究已提出適用於WSN的目標追蹤機
制，其中與本研究類近的議題可分為三大類： 
(一) 以點狀為主之追蹤方式[14, 15, 16]，所
謂’點’之定義是指在目標移動的路線上，任
一時刻行動目標只會有’點’的存在。 
(二) 以空間面為主的演算法 Mobicast [17]，
其分別定義了兩個區域，一是資料傳遞區
(Delivering Zone, DZ)，為現階段 MobSink 可
接收資料之涵蓋範圍；另一區域為資料待傳
送區(Forwarding Zone, FZ)，為預測 MobSink
於下一時間點可能移入的方位，如圖 1 所
示。凡位於 FZ 內之 sn 需事先被喚醒以備妥
感測資料，一旦 MobSink 移入該區域時，可
即刻傳送感測資料以縮短傳遞延遲時間。[18]
改良 Mobicast 協定，提出更可靠的路由方式
以作資料傳輸。 
VE-Mobicast 同樣係以空間面為主的路
由法[19]，以計算一橢圓方程式推得 FVE(i)在
i 時間為一變形卵蛋狀，而 FVE(t+1)可依隨著
DZ(t)作即時性修正蛋狀區域，有益於提升 FZ
之預測正確率。 
B
A
C
D
F
E
Hole
Z(t)→DZ Z(t+1)→FZ
MobSink
 moving pathMobSink
圖 1  空間面 Mobicast 之資料傳輸區 
(三) 以節能考量之追蹤方式，令監測到移動
物件的 sn 保持活動狀態，而使其餘者進入睡
眠狀態，以達節能的目的[20, 21, 22]。此外，
[23]以 DM 技術分析大量的歷史資料，從中
找出資料間之關聯規則以為分析應用。[24, 
26]以類似 FP-tree 結構來循序記錄大量的候
選項目，包括項目發生之次數，此法可免除
多次掃瞄資料庫之耗時缺點。 
由上述可知，sn能量的維護與管理對於
WSN是項重要的議題，若能正確地預測
MobSink可能移動之方向，則可令多數的sn
利用睡眠機制節省電能，進而延長WSN的生
命週期。以往較少有物件追蹤策略論及”如何
有效彙整MobSink移動日誌”用於預測，然而
若能有效匯集並分析大量歷史移動記錄，可
作為追蹤MobSink下一步行進時之比對樣
本，當一有新移動路徑出現，即可比對歷史
資料以預測出下一步移動之行進方向。 
本研究以DM之FP-tree為基礎，設立一新
的移動路徑樹(moving path tree, MPT)結構來
記錄移動路徑，希經由探勘MPT以有效預測
MobSink於WSN中未來可能移動之路徑。 
 4 
(1) 根節點(Root Node, RN)： 
根節點RN設有兩個列位，如圖4所示，
第一列位紀錄座落於棋盤形部署邊界之sn代
碼(ID of sn, snID)，該snID係以sn所在之位置座
標(x, y)作代表，例如(0, 0), (1, 2)。第二列位
記錄由此邊界snID所引領的下一節點聯結，將
串列成一條mp。此外假設MobSink皆由邊界
進入此方陣部署區域，如圖5所示。 
(2) 葉節點(Leaf Node, LN)： 
葉節點LN設有三個列位，如圖6所示，
第一列位是snID，以(x, y)座標表之。第二列位
表mp由特定方向 j移入此 sn之總頻率數
(Counter of snID, CID)，每經過此sn一次，其
CID值累加1。 
第三列位內設兩個子列位，各子列位皆
有8個欄位，對應8個移出方向。三之一子列
位則表MobSink由方向D移出 snID之次數
(Direction Counter of snID, CID_D) ，假若
MobSink以方向d作移出，則對應之CID_d值累
加1。三之二子列位記錄方向d所對應之下一
sn聯結，由此子列位先後之sn聯結關係可串
列成一mp。 
(3) 標頭節點(Head Node, HN)： 
一標頭節點HN對應一部署之sn，記錄該
sn被喚醒之總數來換算其電能損耗。HN共設
四個列位，如圖7所示，第一列位表示snID。
第二列位為CID，相較於LN之CID僅記錄mp由
單一方向j經過snID之次數，而HN則合計mp
由任一方向經過此snID之總次數。第三列位設
8個欄位，表示mp由各個方向移出此snID之頻
率計數。第四列位聯結至與其具相同snID之
LN，由此追蹤高喚醒率而即將失能故障之
sn，以預先尋求替補路徑。 
3-3 MPT之建立 
 下圖8所示為一3×3方陣部署之WSN範
例，以A~I表示snID，並設MobSink先後由A
點起始產生mp1與mp2。圖9及10所示為將mp1
與mp2先後加入MPT所得結果。圖11所示為
HN記錄所有sn之路徑資訊，虛框部份表示
MobSink已歷經之sn且已合計mp資訊於各
HN中。 
 
圖 4  MPT 之 RN 成員 
Mob
Sink
MobSink
Mo
bS
ink
MobSink
 
圖 5  RN 記錄邊界 sn 
 
圖 6  MPT 之 LN 成員 
圖 7 MPT 之 HN 成員 
 6 
MobSink
MobSink
 
圖 12  一般模式 
B
A
S
C
D
方向3
(1st)
(1st)
(1st)
(1st)
MobSink
MobSink
方向2
(擴展180°內)
(擴展180°內)
方向4
(擴展180°內)
(擴展180°內)
:mpnew
:mppredict
 
圖 13  特殊模式 
MobSink
 
圖 14  修正預測模式 
四、移動預測效能模擬 
定義三種量測來分析有、無 MPT 之情況
下，追蹤 MobSink 的準確性，分述如下： 
4-1 區域預測正確率 
    (Predicted Accuracy of Region, PAR) 
比較mppredict與mpnew後可得兩者 sn聯結
的符合程度，PAR 定義如下： 
81 ,_1100
_
≤≤≤≤×= ilinktotalj%, 
linktotal
jPARi
(2) 
PARi 表合併 i 個移出方向為 FZ 之預測正確
率， j 表預測 mpnew至第 j 層 sn 聯結皆為正
確，total_link 表示該 mpnew之 sn 聯結總數。
表 1 所示為 PAR 模擬參數之設定。 
表 1  PAR 模擬參數表 
固定參數 
sn 通訊半徑 50 公尺 
sn 感測半徑 25 公尺 
MobSink 移動模式 RWPI 
sn 數 100 個 
變動參數 
mp 數 500, 1000, 2000 條
合併方向 1, 2, 3, …, 8 
預測模式 一般、特殊、混合
圖 15 所示為 PAR3 至 PAR5，mp 數由 500、
1000 至 2000 條之模擬結果，發現逐增 mp 數
時，合併 3 至 5 個方向預測之 PAR 值比作單
方向預測值較高(即更準確)。 
設無 mp 情況下，Mobicast、VE-Mobicast
與 MPT 混合模式之預測平均值 PARi(avg)，結
果如圖 16 所示。採單方向預測之 Mobicast
之 PAR1(avg)只達 5.1%，而 VE-Mobicast 最多
擴展至 3 方向之 PAR3(avg)可達 55.6%，相較於
PAR1(avg)高約 50%。 
本研究所提 MPT 混合模式，以一般模式
(合併 3 方向)再搭配特殊模式(合併 5 方向)，
若仍失效再啟用修正預測機制。MPT 因無
mp，故 PAR3(avg)為 0%，而特殊模式之 PAR5(avg) 
則達 81.1%；若再引用修正預測機制，則
PAR5(avg) 更可達 100%。 
 8 
由上式得，一 sn 最多可被喚醒 604 次，
此後將發生竭能而失效。即當比較 mppredict
與 mpnew 之時，同步檢查 snID 所對應 HN 之
CID值，若該 CID將大於 Cfail_th，則設定此 snID
為失效狀態。 
再者，必須考量於 WSN 中，需維續多
少 sn 存活量下，仍可使得 WSN 正常運作。
與原始所部署之 sn 數量比較下，sn 仍為倖存
之比率，稱之為 sn 存活率(Survivng Rate, 
SR)，定義如下： 
%100
_
__ ×−=
sntotal
snfailsntotalSR    (8) 
total_sn 為初始 sn 總部署數，fail_sn 為 sn 已 
失效量，指經由查詢 HN 得知 sn 被喚醒數大
於等於 Cfail_th 之 sn 個數。 
假設於 WSN 所部署之 sn 最多只允許
30%的故障，即欲維持 WSN 運作所需之 SR
須達 70%以上。表 3 是 sn 數為 100、400、
900 個時，由模擬實驗所得的 SR 值與 mp 數
之關係。 
表 3  SR 與 mp 數之關係 
sn 數 mp 數 (SR≥ 70%) SR 
100 7,200 條 71% 
400 14,800 條 70.25% 
900 22,400 條 71.22% 
由上實驗(表 2 與 3)知悉，mp 數之增減
變動同時會影響 PAR3(avg)與 SR。下實驗仍以
逐增 mp 數方式，同步分析 PAR3(avg) 與 SR
兩者間之變動關係。為此，定義一平衡點
(Balance Point, BP)，其為 PAR3(avg)與 SR 交會
之處。 
如圖 17、18、19 所示，當 sn 數為 100、
400、900 時，結果為：BP100(7000, 87.9%)、
BP400(13500, 84.8%)、BP900(20500, 80.8%)。
由上得知 MPT 混合模式在 SR 高於 70%時，
PAR3(avg) 皆可達 80%以上。 
 
 
圖 17  BP 模擬結果-100 
 
圖 18  BP 模擬結果-400 
 
圖 19  BP 模擬結果-900
