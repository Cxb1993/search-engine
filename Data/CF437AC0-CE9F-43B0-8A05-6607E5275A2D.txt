  2 
路中需要一有效率的TCP控制機制判斷遺失封包原因，進而
針對不同的情況作個別的congestion window的調整，以提升
網路的利用率。 
在我們兩年的研究計畫，以第三代/第四代行動通訊網路
與無線網路之異質無線網路為領域，以如何在這兩類無線異
質網路中提供高效率的垂直切換的研究主題，進行連續性兩
年期研究。第一年以cost-based垂直切換與高效率行動在無線
異質網路中研究議題為主。第二年著重於無線TCP的阻塞和
流量控制機制在異質無線網路中以提升網路的利用率等問
題。在我們針對計畫中各項研究議題以數學模式分析和網路
協定分析等方法進行研究分析，提出較佳的演算法並與相關
的現有方法比較，且以模擬來驗證。數據結果表現我們這二
年計畫所提的方法優於所比較的方法同時也分析演算法本
身的複雜度。 
 
關鍵詞: 垂直切換、異質無線網路、網際網路電話、無線TCP
控制、線上競爭、快速切換 
 
第一年計畫完整報告 [NSC-94-2213-E-324-015] 
 
I. INTRODUCTION 
For achieving high-speed communication and fast 
Internet access of multimedia via mobile devices, the 
techniques of the mobile communication systems and 
WLAN are developed rapidly in individual area, for 
instance, WCDMA by 3GPP [1] and cdma2000 by 
3GPP2 [2] for 3G mobile communications as well as the 
IEEE 802.11 family [3] and the mobile IPv6 protocol [4] 
for WLANs. The specifications and characteristics of 
heterogeneous wireless networks are obviously different 
in data rate, access cost, transmission range and traffic 
classes, etc. For example, the data rate of 3G is up to 
2Mbps and that of WLANs are 2 (IEEE 802.11), 11 
(IEEE 802.11b), and 54 (IEEE 802.11g) Mbps. The 
access cost of 3G is more expensive than that of WLANs, 
and the transmission range of WLANs is limited to  
meters. Nevertheless, the demand and amount of data 
transfer in heterogeneous wireless networks increases as 
the techniques of the third/fourth generation mobile 
communications (3G/4G), wireless local area networks 
(WLANs) and voice over Internet Protocol (VOIP) are 
progressed significantly. Vertical handoff plays an 
important mechanism to fulfill seamless data transfer 
when mobile nodes cross the overlay area between 
adjacent heterogeneous wireless networks. In contrast to 
the horizontal handoff in homogeneous networks, the 
vertical handoff mechanism should consider not only the 
received signal strength (RSS) but also the service types, 
the network bandwidth, the traffic QoS mapping and cost, 
etc. Moreover, a mobile node may have various available 
heterogeneous wireless networks for selection. Choosing 
an optimal heterogeneous network to handoff to becomes 
more complicated and difficult [5-6]. 
Several RSS-based algorithms have proposed for 
conventional handoff in mobile communication systems. 
In [7], a RSS-based with setting thresholds approach was 
proposed to determine when to enter into the handoff 
procedure. Specifically, a mobile node senses the 
strongest signal base station and determines whether the 
RSS parameter exceeds threshold or not. If RSS exceeds 
threshold, the mobile node enters the handoff procedure; 
otherwise, it still stays at the original network. 
Nevertheless, the approach has the ping-pong effect if the 
mobile node moves around the overlay area and causes 
large amount of unnecessary handoffs. In [8], a margin 
between two thresholds was considered as hysteresis to 
avoid the ping-pong effect and then decreases 
unnecessary handoffs. Consequently, [9] proposed a 
handoff scheme of RSS-based with consideration of 
thresholds and hysteresis for mobile nodes to obtain better 
performance. In heterogeneous wireless networks, RSS 
from different networks are significant variety due to with 
different techniques in the physical layers. In [10], 
Pahlavan et al. proposed a neural network-based method 
for RSS-based approach to determine when to enter into 
handoff procedure. For the same reason, consideration of 
RSS only does not suit for vertical handoff. Hence, Bing 
et al. [11] considered both RSS and the distance between 
base station and mobile node to avoid performing handoff 
to wrong base station. Since RSS is dependent on the 
distance, it remains the same problem in heterogeneous 
wireless networks.  
In [12], McNair et al. proposed a method to define 
the handoff cost as a function of available bandwidth and 
monetary cost. A policy-enabled handoff system [13] was 
proposed for users to express policies on what is the best 
wireless system at any moment, and make trade-offs 
among network characteristics and dynamics such as cost, 
performance and power consumption. The main goal is to 
avoid the problem of handoff instability. In [14], the 
handoff cost function is similar to [13], in which actual 
RSS and bandwidth were chosen as two important 
parameters for the function. This works considered only 
one threshold of RSS and could cause the ping-pong 
effect. In [15-16], Zhang adopted a periodical fast Fourier 
transform-based decay detection to determine the decay 
of received signal for reducing the ping-pong effect. This 
approach needs not only the fast Fourier transformation to 
determine the trend of signal decay but needs other 
adaptive thresholds to decide when to enter the handoff 
procedure. Both two procedures require much time for 
computation. Practically, the periodical interval of 
monitoring RSS should be larger than the computation 
time. Thus, the computation time becomes the most 
important parameter in this approach. Meanwhile, long 
computation time may cause error prediction of RSS, 
which results in the problem of high dropping probability.  
Additionally, the layers one and two protocols of 
existed connections of a mobile node and the IP domain 
have been changed after vertical handoff. The mobile 
node should perform binding update with the new IP 
address to avoid interrupting data transfer. The Internet 
Engineering Task Force (IETF) has specified mobile IPv6 
[4] for solving the problem of updating the original IP 
address with the care-of address while a mobile node 
moving from one network to another. In [17], Koodli 
proposed a fast handoff scheme for mobile IP to reduce 
handoff delay. 
Therefore, a two-phase adaptive cost-based with 
predictive RSS hysteresis approach (PreRSS-Cost) is 
  4 
at least can access the single 3G network to transfer data 
to a destination that is located outside the heterogeneous 
wireless network.  
Due to node mobility, a mobile node always leaves 
from a network system i  to another network system j . 
If these two networks are different, the mobile node 
should perform vertical handoff between these two 
different networks for continuous transmission. On the 
other hand, if these two networks are with the same 
protocol, the mobile node can perform horizontal handoff 
between them. Additionally, handoffs may be network 
initiated or mobile node assisted. In former case, the 
decision is made solely by the network computations of 
received signals from mobile nodes. In the latter case, 
mobile nodes provide feedback to the network that 
concerns signal received at mobile nodes. More active 
and assistant handoff procedure in mobile nodes results in 
that a network system obtains more accurate signal 
information from mobile nodes for improving the handoff 
decision. Hence, this work focuses on the handoff issues 
in the latter case.  
Various performance metrics, including the number 
of handoffs, connection dropping probability and network 
throughput, are adopted for evaluation the proposed 
vertical handoff approach and other approaches under 
different factors. First, since the ping-pong effect occurs 
when a mobile node always moves around the overlay 
area between two networks, the effect causes unnecessary 
handoffs and then increases the total number of handoffs. 
Therefore, we adopt the number of handoffs as an 
important performance metric. Less the number of 
handoffs, better the handoff algorithm.  
Second, a connection can be interrupted or 
terminated while performing handoff due to lack of 
enough bandwidth at the new cell and causes the 
connection dropping. The revenue loss of dropping 
connections is much higher than that of blocking 
connections. To maximum the revenue to the network 
provider while satisfying the request from customers, 
Grade of Service (GOS) is adopted as a performance 
metric by combining blocking and dropping probability, 
which is defined as 
,11
K
D
W
K
B
WServiceofGrade
K
k
k
D
K
k
k
B
åå
== +=  
where kB  and kD  represent the blocking probability 
and the dropping probability of class k  traffic, and BW  
and DW  represent the weight of blocking and dropping 
connections, respectively. In this paper, BW  and DW  
are set to one and ten [18], respectively. 
 Finally, since the data rate of WLAN is larger than 
that of cellular communication systems, e.g., 3G/UMTS, 
more the period of staying at WLAN results in higher 
throughput. The simple RSS-based handoff algorithm 
lacks the hysteresis as a margin and tries to handoff in or 
out a network when RSS is higher or less than the RSS 
threshold. Consequently, the simple RSS-based handoff 
algorithm will have the longest duration at WLAN, which 
results in the highest throughput but the largest number of 
handoffs. Therefore, network throughput is chosen as an 
important metric to justify the number of vertical 
handoffs. 
 
III. ADAPTIVE COST-BASED VERTICAL HANDOFF 
WITH PREDICTIVE RSS APPROACH 
This section details the proposed adaptive cost-based 
with predictive RSS approach to perform vertical handoff 
in heterogeneous wireless networks. There are two 
primary phases in the proposed approach: the phase of 
predictive RSS with hysteresis and the phase of 
determination of optimal wireless network. In the first 
phase, a predictive RSS with hysteresis algorithm is 
proposed to predict accurately that a mobile node closes 
to or moves away from the monitored network. In the 
second phase, we first define the handoff cost based on 
the competitive on-line (COL) method and then 
determine the wireless network with the least handoff cost 
as the optimal handoff network to achieve load balancing 
and zero dropping. 
Consider that a heterogeneous wireless network 
consists of a single 3G/UMTS network and N wireless 
LANs, where WLANs are randomly placed over the 
coverage of the heterogeneous wireless network. 
Therefore, a mobile node can sense at least the single 
3G/UMTS network and at most N  WLANs. The 
two-phase cost-based vertical handoff approach is 
described as follows. 
 
Phase 1. the phase of predictive RSS with hysteresis  
For avoiding unnecessary handoffs due to the 
ping-pong effect, the RSS-based with a hysteresis scheme 
is adopted, where the margin of hysteresis is bounded at 
the low threshold, 1S , and the high threshold, 2S , 
respectively, and the margin interval is denoted as 
12 SS -=G , as shown in Fig. 3. Notably, mobile nodes 
transmit/receive well between these two thresholds, but 
RSS below 1S  means that the received signal becomes 
weaker and RSS above 2S  means that the received 
signal becomes stronger. Moreover, a mobile node may 
sense maximum N WLANs at some moments. A mobile 
node may have large number of horizontal handoffs by 
using the RSS-detection scheme only when it moves 
around various WLANs. Therefore, we propose a 
predictive RSS with hysteresis algorithm to predict the 
mobility of mobile nodes and then determine the WLAN 
with the optimal predicted RSS from all available 
WLANs.  
RSS
Stat
e
WLAN
3G/
UMTS
S2S1
 
Fig. 3. A two-threshold hysteresis 
  6 
The COL approach sets the link cost as an exponential 
function of the residual bandwidth of link. The cost of 
carrying a call on link l with occupancy i  can be 
expressed as  
m lC
i
l iW =)( ,            (3) 
where m  denotes a chosen constant parameter, and lC  
represents the capacity of link l . 
The cost of a path can be defined as the sum of the 
costs of all links along the path. Call admission is 
performed as follows. A path is admissible if its cost is 
less than a threshold, r , which is another chosen 
parameter. When more than one admissible path exists, 
the path with the least path cost is selected for the call. 
Allan et al. [20] suggested setting r  to m . Meanwhile, 
Zhang et al. [21] indicated that if r  is equal to m , this 
is equivalent to setting the threshold to 1 and the cost of a 
link with occupancy i to 
m 1)( -= lC
i
l iW  .           (4) 
Since lCi ££0 , we have 1)(0 ££ iW l .  
Now, we model each state of a nWLAN  with total 
capacity 
nWLAN
C  as a Markov process with a birth rate of 
i
kl  and death rate of 
i
km , where k  is the traffic class 
and i  represents state. Let ,,...,2,1,0),(
nWLAN
Cii =p  
be the equilibrium probability of being in state i , which 
satisfies 
,,...,1),1()(
nWLAN
i
k
i
k Ciii =-= plpm       (5) 
and 
å
=
=
nWLAN
C
i
i
0
.1)(p           (6) 
The vertical handoff cost of nWLAN  at state i  is 
defined as 
 
ïî
ï
í
ì
¥
£+= å
-+
=
-
,
,)(
1 1
otherwise                     
Cbiifi n
k
nWLANn WLANk
bi
ij
C
j
WLAN
kH m
    (7) 
 
where kb  is the required bandwidth of the class k  
handoff connection. Then the handoff cost of each 
wireless network in the candidate list of vertical or 
horizontal handoff of a mobile node is determined for the 
case that the mobile node is in 3G or WLAN state, 
respectively. The least cost wireless network will be 
chosen as the optimal handoff network, optWLAN . 
 
 
IV. MIPV6-BASED MESSAGE FLOWS AND DELAY 
ANALYSIS 
In this section, we first describe the Mobile 
IPv6-based message flows for the proposed cost-based 
handoff approach between 3G/UMTS and WLAN. Then 
the total delays of vertical and horizontal handoffs are 
analyzed in detail.  
A. Message Flows in MIPv6-based Vertical Handoff 
Approach 
After performing the vertical (or horizontal) handoff 
procedure at data link and physical layers, we apply 
mobile IPv6 to the proposed approach to complete 
seamless handoff that continues transmitting packets to 
the handoff-in network. For instance, as shown in Fig. 4, 
a mobile node moves from WLAN to 3G while 
connecting with the corresponding node (CN). The 
mobile node should perform the vertical handoff 
procedure to keep continuing transmission. Therefore, the 
following procedures have to be completed. First, the 
mobile node (MN) creates a new connection to CN via 
3G. Second, MN sends the Vertical Fast Binding Update 
message (VFBU) to its home agent (HA) to update the 
binding list. After receiving the Vertical Fast Binding 
Update Acknowledgement message (VFBAck) from HA, 
MN sends the disconnection message to CN via WLAN 
to inform CN to terminate the original connection.  
 
Fig 4. An example of a mobile node moves from WLAN to 
the 3G/UMTS Network 
 
Now the message flows of Mobile IPv6-based 
vertical handoff procedures from 3G to WLAN and vice 
versus are demonstrated in Figs. 5 and 6, respectively. In 
Fig. 5, a MN is original at 3G, and connects to CN with 
the 3G/UMTS interface (IF_3G). After MN receives 
Beacon message from WLAN, MN enters into the 
agent-discovering phase. If 2, SRSS currentc > , the 
procedure of vertical handoff (VHO) is performed to 
determine the optimal network to handoff to. If MN 
decides to perform vertical handoff to the optimal 
WLAN, it sends the Router Solicitation for Proxy 
message (RtSolPr) to inform SGSN/GGSN in 3G/UMTS 
network that MN prepares to handoff out. SGSN/GGSN 
replies the Proxy Router Advertisement message 
(PrRtAdv) to MN to trigger the network-initiated handoff. 
Meanwhile, MN performs the secure procedures with the 
optimal WLAN for certification. After that, MN gets 
care-of address (CoA) from the optimal WLAN and 
  8 
MN WLAN1
Packet transmission 
Beacon
Horizontal HO Procedures
WLANs
CN
WLAN authentication procedures
RtSolPr
Deliver packets
PrRtAdv
Setting New CoA
FBU
HAckFBAck
HI
Disconnect
Connect
Forward packets to WLAN2
FNA
Discovering
Registering
Tunneling
Optimizing
Forward packets to MN
Binding
HA
)  &&  ( 2,1, SRSSSRSS predictionncurrentc ><
WLAN2
Binding
 
Fig. 7. Mobile IPv6 Fast Horizontal Handoff from WLAN1 to 
WLAN2 
B. Delay Analysis of Message Flows in MIPv6-based 
Vertical Handoff Approach 
In the handoff issue, two important factors affect 
the dropping probability. First, the available bandwidth of 
the handoff-in network is enough for handoff connections 
or not. In this paper, we propose the adaptive cost-based 
handoff with predictive RSS approach to determine the 
optimal WLAN to handoff to and thus yield the 
advantages of dynamic load balancing and zero dropping 
that overcomes the first issue. Second, long handoff delay 
may cause high dropping of handoff connections even 
though the available bandwidth of the handoff-in network 
is enough for the handoff connections. Therefore, the 
handoff delays of the proposed handoff approach are 
analyzed based on the message flows of various handoff 
procedures as follows.  
In general, the handoff delay in a heterogeneous 
wireless network consists of three elements, including the 
Layer 2 trigger delay, the Layer 3 mobile ipv6 handoff 
delay, and the Layer 4 forwarding delay (for HH only). 
Since Layer 2 only triggers the movement detection of 
Layer 3 and Layer 4 forwarding delay for HH forwards 
the residual packets in the original connection to the new 
handoff-in network after successful horizontal handoff, 
these two types delay will be neglected in the following 
analysis. The delay elements of the vertical and horizontal 
handoffs are demonstrated in Figs. 8 and 9, respectively. 
The delay of Layer 3 MIPv6-based handoff consists of 
the movement detection delay, the address configuration 
delay, and the location update delay. After L2 detection 
triggering the movement detection of L3, the L3 layer 
handoff is initialized. The movement detection delay 
includes the intervals of the Router Solicitation message 
( rsT ) and the Router Advertisement message ( raT ), where 
rsT  is 20ms in wireless link delay [22] and raT  is 
determines by the average of MinRtrInterval (30ms) and 
MaxRtrInterval (70ms) [4], i.e., 50ms. Then it enters into 
the address configuration phase to register and setup 
CoA. The delay of address configuration is denoted as 
coaT , where coaT  could take 1 second [23]. After that, it 
enters into the location update phase to update the binding 
list. The delay of location update ( BUT ) includes the time 
of Home Agent update (
hamnT - ), the time of Corresponding 
Node binding update ( cnmnT - ), and the time of Return 
Routability ( rrT ), where hamnT -  and cnmnT -  are defined as 
30ms and 50ms [22], respectively. Therefore, the MIPv6 
handoff delay can be expressed as 
,6 BUcoarars TTTTdelayhandoffMIPv +++=    (8) 
where BUT  is different in vertical handoff and horizontal 
handoffs. In vertical handoff, BUT  only consists the 
delay of home agent update ( hamnT - ), but in horizontal 
handoff BUT  consists of hamnT - , cnmnT - , and rrT .  
In consequence, the total delays of the vertical and 
horizontal handoffs are denoted as 
,)(6 hamncoararsVH TTTTTdelayhandoffMIPvVertical -+++= (9) 
and 
)(6 HHTdelayhandoffMIPvHorizontal  
,rrcnmnhamncoarars TTTTTT +++++= --             (10) 
respectively. rrT  is determined by 
 
++= ------ ]),max[( cntomncntohahatomnrr DDDT  
],),max[( mntocnmntohahatocn DDD ------ +  
 
where 
ytoxD -- denotes the delay from node x  to node y . 
Since  
cntomncntohahatomn DDD ------ ³+ )(  and 
mntocnmntohahatocn DDD ------ ³+ )( , the worst and best cases of 
rrT are thus obtained as follows. 
 
Best case: 
cnmnmntocncntomnrr TDDT ----- =+=  
 
Worst case: 
mntohahatocncntohahatomnrr DDDDT -------- +++=  
hamnT -×= 2                            (11) 
 
Finally, the total delay of MIPv6-based vertical 
handoff is thus 1100ms and that of the best case and the 
worst case of MIPv6-based horizontal handoff are 
1200ms and 1210ms, respectively.  
 
 
Fig. 8. Vertical handoff delay 
  10 
0
100000
200000
300000
400000
500000
6 8 10 12 14 16
Arrival rate
N
um
be
r o
f v
er
tic
al
 h
an
do
ff
s
RSS-T
RSS-HT
PreRSS-Cost
 
Fig. 10. The number of vertical handoffs of different approaches 
under various arrival rates 
 
0
0.2
0.4
0.6
0.8
1
6 8 10 12 14 16
Arrival rate
D
ro
pp
in
g 
pr
ob
ab
ili
ty
RSS-T
RSS-HT
PreRSS-Cost
 
Fig. 11. Dropping probabilities of different approaches under 
various arrival rates 
 
0
10000
20000
30000
40000
50000
6 8 10 12 14 16
Arrival rate
N
et
w
or
k 
Th
ro
ug
hp
ut
 (b
ps
)
RSS-T
RSS-HT
PreRSS-Cost
 
Fig. 12. Network throughput of different approaches 
under various arrival rates 
 
For investigating the performance of different 
vertical handoff approaches affected by the mobility, the 
metrics under various mobility velocities ranging from 
one to five m/s are evaluated and demonstrated in Figs. 
13-15. In Fig. 13, PreRSS-Cost yields the least number of 
vertical handoffs under various mobility velocities but 
RSS-T yields the most number of vertical handoffs. 
Additionally, the numbers of vertical handoffs of three 
approaches increase as the mobility velocity increases. 
The dropping probabilities of different approaches are 
investigated in Fig. 14, in which RSS-T and RSS-HT 
have high dropping probabilities but PreRSS-Cost yields 
zero dropping for the same reason of above stated. 
Notably the dropping probabilities of RSS-T and RSS-HT 
decrease when the mobility velocity increases. The reason 
is that mobile nodes avoid accessing the same WLAN 
when mobile nodes move fast and the required bandwidth 
of traffic is distributed to different WLANs. This results 
in that the dropping probability decreases due to more 
available bandwidth in WLANs. In Fig. 15, network 
throughput of all approaches decrease gentle as the 
mobility velocities increase. RSS-T still has the highest 
throughput. PreRSS-Cost yields competitive throughput 
to RSS-HT.  
 
0
50000
100000
150000
200000
250000
300000
350000
400000
450000
1 2 3 4 5
Mobility (m/s)
N
um
be
r o
f v
er
tic
al
 h
an
do
ffs
RSS-T
RSS-HT
PreRSS-Cost
 
Fig. 13. The number of vertical handoffs of different approaches 
under various mobility 
 
0
0.2
0.4
0.6
0.8
1
1 2 3 4 5
Mobility (m/s)
D
ro
pp
in
g 
pr
ob
ab
ili
ty
RSS-T
RSS-HT
PreRSS-Cost
 
Fig. 14. Dropping probabilities of different approaches under 
various mobility 
 
  12 
of the mobile IPv6 protocol are demonstrated in detail. 
Meanwhile, the handoff delays of three handoff cases 
were analyzed based on the MIPv6 protocol. Numerical 
results indicated that the proposed approach outperforms 
other approaches in the least number of vertical handoffs 
while yielding competitive throughput. Meanwhile, the 
proposed cost-based approach yields none dropping 
probability, which meets the characteristic of an optimal 
vertical handoff in heterogeneous wireless networks. 
 
VII. REFERENCES 
[1] 3GPP, http://www.3gpp.org. 
[2] 3GPP2, http://www.3gpp2.org. 
[3] IEEE Std. 802.11. 
[4] D. Johnson, C. Perkins, and J. Arkko, “Mobility Support in 
IPv6,” IETF RFC 3775, June 2004. 
[5] I.F. Akyildiz, J. McNair, J.S.M. Ho, H. Uzunalioglu, and 
Wenye Wang, “Mobility management in next-generation 
wireless systems,” IEEE Proceedings, Vol. 87, Issue 8, pp. 
1347-1384, Aug. 1999. 
[6] K.R. Santhi, V.K. Srivastava, G. SenthilKumaran, and A. 
Butare, “Goals of true broad band's wireless next wave 
(4G-5G),” IEEE VTC 2003-Fall, Vol. 4, pp. 2317-2321, Oct. 
2003. 
[7] G.P. Pollini, “Trends in handover design,” IEEE 
Communications Magazine, Vol. 34, Issue 3, pp.82-90, 
March 1996. 
[8] N. Zhang, and J.M. Holtzman, “Analysis of handoff 
algorithms using both absolute and relative measurements,” 
IEEE Transactions on Vehicular Technology, Vol. 45, Issue 
1, pp.174-179, Feb. 1996. 
[9] P. Marichamy, S. Chakrabarti, and S.L. Maskara, 
“Performance evaluation of handoff detection schemes,” 
TENCON 2003, Vol. 2, pp. 643 - 646, Oct. 2003. 
[10]  K. Pahlavan, P. Krishnamurthy, A. Hatami, M. Ylianttila, 
J.P. Makela, R. Pichna, and  J. Vallstron, “Handoff in 
hybrid mobile data networks,” IEEE Personal 
Communications, Vol. 7, Issue 2, pp. 34-47, April 2000. 
[11]  Hongyang Bing, Chen He, and Lingge Jiang, 
“Performance analysis of vertical handover in a 
UMTS-WLAN integrated network,” IEEE PIMRC 2003, 
Vol. 1, pp.187-191, Sept. 2003. 
[12] J. McNair and Zhu Fang, “Vertical handoffs in 
fourth-generation multinetwork environments,” IEEE 
Wireless Communications, Vol. 11, Issue 3, pp. 8-15, June 
2004. 
[13] H.J. Wang, R.H. Katz, and J. Giese, “Policy-enabled 
handoffs across heterogeneous wireless networks,” IEEE 
Mobile Computing Systems and Applications Conference, 
pp. 51 - 60, Feb. 1999. 
[14] Zhu Fang and J. McNair, “Optimizations for vertical 
handoff decision algorithms,” IEEE WCNC 2004, Vol. 2, pp. 
867-872, March 2004. 
[15]Qian Zhang, Chuanxiong Guo, Zihua Guo, and Wenwu Zhu, 
“Efficient mobility management for vertical handoff 
between WWAN and WLAN,” IEEE Communications 
Magazine, Vol. 41, Issue 11, pp.102-108, Nov. 2003. 
[16]Chuanxiong Guo, Zihua Guo, Qian Zhang, and Wenwu Zhu, 
“A seamless and proactive end-to-end mobility solution for 
roaming across heterogeneous wireless networks,” IEEE 
Journal on Selected Areas in Communications, Vol. 22, 
Issue 5, pp. 834-848, June 2004. 
[17] Rajeev Koodli, “Fast Handovers for Mobile IPv6,” IETF 
Internet-Draft, Oct. 2004. 
[18] S. Boumerdassi and A.-L. Beylot, “Adaptive Channel 
Allocation for Wireless PCN,” Mobile Networks and 
Applications, vol. 4, pp. 111–116, 1999. 
[19] R. Gawlick, A. Kamath, S. Plotkin, and K. Ramarkrishnan, 
“Routing and Admission Control in General Topology 
Networks,” Technical report STAN-CS-TR-95-1548, 
Stanford University, 1995. 
[20] Borodin Allan and Ran El-Yaniv, “Online computation and 
competitive analysis,” Cambridge University Press, 1998. 
[21] L. Zhang, M. Andrews, W. Aielo, S. Bhatt, and K. R. 
Krishnan, “A Performance Comparison of Competitive 
On-line Routing and State-Dependent Routing,” 
GLOBECOM’97, p. S506, Nov. 1997. 
[22] Q. Wang, M. A. Abu-Rgheff, and A. Akram, “Design and 
Evaluation of an Integrated Mobile IP and SIP Framework 
for Advanced Handoff Management,” IEEE ICC 2004, Vol. 
7, pp. 3921-3925, Jun 2004. 
[23] M. Crawford, “Transmission of IPv6 Packets over Ethernet 
Networks,” IETF RFC 2464, Dec. 1998. 
 
  14 
Avoidance phases. In Slow Start, cwnd is exponentially 
increased based on each received new ACK, i.e., 
++¬ cwndcwnd . When cwnd is larger than ssthresh, 
cwnd enters into the Congestion Avoidance phase, in 
which cwnd is increased by one and forms a linear 
increasing type, i.e., 
cwnd
cwndcwnd 1+¬ . When 
sender occurs three duplicate ACKs (three DUPACKs) or 
retransmission timeout, cwnd will be set up to one, 
ssthresh will become 2/cwnd , and it enters the Slow 
Start phase again. In [13], TCP-Reno adds the Fast 
Recovery phase for differentiating triple DUPACK and 
retransmission timeout. Under the case of receiving three 
DUPACKs, TCP-Reno treats that the network congestion 
is not very serious so it enters into the Fast Retransmit 
phase to retransmit the missing segment and reduces 
cwnd and ssthresh to 2/cwnd . Then it enters into the 
Fast Recovery phase. Until sender receives non-duplicate 
ACK, it will enter into the Congestion Avoidance phase 
and cwnd is increased linearly. On the other hand, if a 
retransmission timeout occurs, it will enter into the Slow 
Start phase. In consequence, TCP-Reno yields better 
throughput than that of TCP-Tahoe.  
TCP-NewReno [8] has proposed for avoiding multiple 
Fast Retransmits in TCP-Reno. In TCP-NewReno, the 
retransmit timer will be resetting after receiving each 
partial ACK, i.e., slow-but-steady variant; therefore, for a 
window with a large number of packet drops, the TCP 
data sender retransmits at most one packet per roundtrip 
time. TCP-NewReno thus avoids reducing throughput 
from timeout. [9] proposed an impatient variant 
mechanism for resetting the retransmit timer only after 
receiving the first partial ACK.  
Consequently, AIMD is adopted to avoid occurring 
congestion and timeout, so ssthresh is adjusted to 
2/cwnd . Under the case of high packet loss, ssthresh 
will be decreased continuously and thus degrades 
performance obviously. In addition, such mechanisms 
suffer from high bit error (BER) and sudden link loss 
transmission in wireless networks, and views wireless 
packet loss as network congestion. At this moment, the 
network does not happen congestion, but sender has to 
decrease cwnd and results in reducing network utilization. 
Therefore, [15] proposed an additive increase adaptive 
decrease (AIADD) mechanism to overcome such a 
problem by estimating available bandwidth for adjusting 
new ssthresh.  
Second, several estimated available bandwidth have 
been proposed [14,15,17,18]. TCP-Westwood [15,16] 
proposed to estimate network available bandwidth by the 
ACK reception rate at sender. When network congestion 
occurs, cwnd and ssthresh will be adjusted by the 
bandwidth-product-delay. On the other hand, when packet 
loss event occurs, cwnd is lower than ssthresh. Cwnd is 
kept without any change. The motivation of 
TCP-Westwood is to obtain more network bandwidth 
while occurring packet loss. Although TCP-Westwood 
can obtain better throughput, it suffers from the 
inaccurate estimation of available bandwidth. Therefore, 
[17,20] proposed TCP-Westwood+ for estimating 
network available bandwidth more accurate and then 
increases throughput.  
Moreover, based on TCP-Westwood, TCP-Jersey [14] 
was proposed to consider the congestion warning router 
configuration by modifying the Explicit Congestion 
Notification (ECN) in a router’s Active Queue 
Management (QAM) mechanism. When the average 
queue length of a router exceeds a specified threshold, a 
congestion experienced (CE) bit is set to indicate that the 
router will in congestion state. With using the congestion 
notifications from routers along the forwarding path from 
sender to receiver, TCP-Jersey can differentiate the cases 
of network congestion and packet loss. Nevertheless, it is 
difficult to realize in current distributed routing in Internet 
unless all routers in Internet support the function. 
Furthermore, the connection-oriented TCP segments may 
be forwarded to different routing path at the 
connectionless-oriented IP layer. 
Finally, [19] proposed TCP-Vegas to determine 
whether a network occurs congestion or not by the 
difference of the Expected (i.e., cwnd/RTTmin) and 
Actual (i.e., cwnd/RTT) rates, which is much different 
from the AIMD and AIADD mechanisms. In TCP-Vegas, 
it should have lower and upper bounds of threshold, i.e., 
a and b . When the difference is less than the lower 
bound, a , cwnd will be increased linearly. On the other 
hand, when the difference is greater than the upper bound, 
b , cwnd will be decreased linearly. As a result, cwnd will 
not be changed when the difference is within the bounds. 
With the proposed congestion control with active 
DUPACK retransmit mechanism, TCP-Vegas can obtain 
a stable cwnd for transmission. Nevertheless, the fairness 
result can not obtain when the linear-based cwnd control 
of TCP-Vagas and exponential-based cwnd control of 
AIMD or AIADD are used at the same time. Furthermore, 
the optimal lower and upper bounds of a and b are two 
critical parameters that are difficult to determine in 
TCP-Vegas. 
Although many approaches have proposed to support 
or improve congestion control in TCP, it is difficult to 
provide high throughput while providing good fairness 
and friendliness. The key point is that a trade-off exists 
between a competitive cwnd increasing while the 
available bandwidth is enough and an accurate cwnd 
decreasing while the available bandwidth is not enough 
for all TCP connections. Therefore, in this paper, we 
propose an adaptive RTT-based cwnd control with a 
precise shrink factor approach to achieve high throughput 
while providing good fairness and friendliness for TCP. 
Meanwhile, various simulation topologies including 
wired and heterogeneous wireless networks are evaluated 
for the proposed approach and compared results with 
different TCP approaches. 
The remainder of the paper is organized as follows. 
Section II describes the network model of TCP 
connections and performance metrics for evaluation. 
Section III then describes the proposed adaptive 
RTT-based with shrink factor approach for controlling 
congestion window in TCP under heterogeneous wireless 
networks. Section IV evaluates the performance of the 
proposed RTT-based approach in several important 
  16 
should reduce congestion window while occurring 
network congestion, but may not change congestion 
window while occurring error bits in wireless links. 
Nevertheless, without any explicit or implicit congestion 
information from intermediate routers, sender is difficult 
to determine that such packet lost is due to network 
congestion or error bit rate in wireless links. Moreover, 
for providing explicit or implicit congestion aid with all 
routers is costly and timely. Therefore, in this paper, we 
propose an optimal cwnd control approach, which does 
not require any congestion aid of routers, for achieving 
high goodput while providing good fairness and 
friendliness.  
Based on above analysis of the TCP connection, we 
can conclude two important ideas. First, router-aid 
congestion control for TCP is unfeasible nowadays 
because all routers on the distributed networks should 
support such the same mechanism that is costly and 
complicated. Second, a sender is difficult to differentiate 
that the reason of causing lost packets and timeout is from 
network congestion or from wireless links error. Thus, the 
round-trip time (RTT) based approach is proposed to 
determine the optimal cwnd for TCP congestion control, 
in which both the AIMD-based and estimated available 
bandwidth mechanisms are considered for the Slow Start, 
Fast Recovery, and Congestion Avoidance phases. The 
algorithm of analyzing adaptive actual rate, the algorithm 
of determining the optimal cwnd, and state transition 
diagram of the proposed approach are detailed in two 
phases of increasing and decreasing cwnd as follows. 
A. In the increasing cwnd phase while the expected 
network bandwidth is enough 
1. The algorithm of determining the optimal 
congestion window ( optcwnd ) 
As indicated in Fig. 2 is the transmissions of data and 
acknowledgement segments between sender and receiver 
of a TCP connection, in which the maximum segment 
size (MSS) is denoted as S bits and the data rate of the 
connection is R bit per second. Assume that the minimum 
round-trip time of the connection is minRTT  when the 
network traffic is not saturation. The total time of 
transmitting a packet in such a light-traffic network is 
thus min)/( RTTRS + (sec). In addition, in such a 
light-traffic network, the increment of congestion window 
( cwnd ) of sender will not affect the round trip time and 
the total time of transmitting cwnd  packets should be 
less than min)/( RTTRS + as shown below  
min)/()/( RTTRSRScwnd +<× ,         (3) 
that is,  
1
/
min +<
RS
RTTcwnd .                     (4) 
 
Fig. 2. Packet and acknowledgement transmissions of a TCP 
connection 
 
Based on the analysis, we can obtain that the round 
trip time ( RTT ) of a connection is close to minRTT  if 
cwnd  is less than 1
/
min +
RS
RTT . On the other hand, if 
k
RS
RTTcwnd =+³ 1
/
min , the network traffic becomes 
saturation and RTT will increase based 
on RSkcwnd /)( ×-  till occurring congestion. As a 
conclusion, the value of 1
/
min +
RS
RTT  is the optimal 
window size of the connection, which is denoted 
as optcwnd . In other words, when cwnd  is larger than 
optcwnd , the network has entered into the saturation state.  
 
2. The algorithm of determining the ideal ssthresh 
( idealssthresh ) 
In TCP the Slow Start threshold, ssthresh , is an 
important parameter for a sender to determine when to 
enter into the Congestion Avoidance phase. If ssthresh 
is set too small, the sender will enter into the Congestion 
Avoidance phase early that brings two disadvantages. 
First, the increasing rate of cwnd  is much lower than 
the available bandwidth and causes lower goodput or 
utilization in both of the homogeneous and heterogeneous 
connections. Second, the variation rate of cwnd  is slow, 
which may bring unfair of using bandwidth. On the other 
hand, if ssthresh is set too large, the sender will send too 
many packets in a congested network, which will cause 
the congested network more serious. Since the congested 
intermediate router may discard the over-sent packets, 
this causes too many duplicate ACKs or timeout. In the 
worst case, sender will enter into the Slow Start phase 
that will set cwnd  to one and result in low goodput. 
Therefore, the determination of an ideal ssthresh, 
idealssthresh , is proposed in this paper for achieving high 
goodput and good fairness as follows.  
Since ssthresh  is affected by traffic load, an 
ACK-based mechanism is proposed to determine the 
idealssthresh  adaptively. We first define the received 
inter-ACK period of two continuous ACKs at sender as 
InterACK  that is a parameter can be represented the 
  18 
0
100
200
300
400
500
600
700
0 5 10 15 20
Simulation Time (units)
C
on
ge
st
io
n 
W
in
do
w
NewReno
TCP-Taichung
10Mbps Line
 
Fig. 4. The variation of congestion window in Slow Start 
B. In the decreasing cwnd phase while the expected 
network bandwidth is insufficient 
When cwnd  exceeds netssthresh  and idealssthresh , 
sender enters into the Congestion Avoidance phase and 
cwnd  increases linearly while receiving each ACK. The 
meaning of entering such a phase is that the available 
network bandwidth becomes worse and buffers of 
intermediate routers will stuff with unsent packets, which 
will increase RTT. If these delayed packets exceed the 
receiving timeout, receiver will send a duplicate ACK 
request back to sender. When sender receives three 
duplicate ACKs that means network congestion becomes 
worse, cwnd  should be reduced for routers to process 
these queued packets, i.e., the flight packets. In 
Congestion Avoidance, most of TCP congestion control 
approaches reduce cwnd significantly, if sender receives 
three duplicate ACKs. For instance, cwnd  is reduced to 
one in Taho and cwnd  becomes half of original cwnd  
in Reno and NewReno. Since these cwnd  reducing 
mechanisms are unsystematic and are independent on the 
available network bandwidth, which results in large 
variation of cwnd  and low throughput.  
Therefore, an expected network bandwidth based 
algorithm is proposed herein for reducing cwnd  
adaptively. In the case of receiving three duplicate ACKs 
in Congestion Avoidance, the network will become 
saturation and cause congestion seriously. For changing 
the network state from saturation to non-saturation, 
cwnd  is set to the optimal cwnd  that is the window 
size of the non-saturation state while with the same 
expected actual rate. In other words, the optimal cwnd  
is at the threshold between the saturation and 
non-saturation states. The optimal cwnd  is computed 
by 
minRTT
cwnd
RTT
cwndrateactualExpected opt== ,     (11) 
that is, 
RTT
RTTcwndcwndorcwndOptimal opt min)( ×= .    (12) 
Specifically, the optimal cwnd  is the original 
cwnd  shrunk with the shrink factor of 
RTT
RTTmin . When 
the network congestion becomes seriously, RTT will 
increase and the shrink factor become smaller, that is, the 
optimal cwnd  will be shrunk significantly. However, 
the shrink factor is derived adaptively based on the 
expected network bandwidth, which yields the optimal 
cwnd  accurately and achieves better performance. 
Furthermore, if the duplicate ACK is due to wireless 
packet loss, RTT will not be affected and the shrink factor 
will not be modified. In other words, cwnd  is not 
affected by the wireless packet loss. Finally, the algorithm 
of reducing congestion window by the shrink factor while 
receiving three duplicate ACKs at sender is shown in Fig. 
5.  
}
1   
)(   
{ )expired timeout (
}
   
)(   
{ )received are DUPACKs t(
=
×=
=
×=
cwnd
RTT
RTTmincwndssthresh
if
ssthreshcwnd
RTT
RTTmincwndssthresh
hreeif
net
netopt
net
 
Fig. 5. The algorithm of shrinking congestion window while 
receiving three duplicate ACKs at sender 
IV. NUMERICAL RESULTS 
This section evaluates the proposed adaptive expected 
network bandwidth with predictive optimal cwnd 
approach for TCP congestion control in heterogeneous 
wireless networks by comparing various performance 
metrics, including goodput, fairness, and friendliness. 
Several compared approaches includes NewReno [8] and 
Westwood+ [17,20]. Moreover, the performance metrics 
under various topologies in terms of four Scenarios, 
including a complete wired-network, a wired-network 
with a single wireless network, and a backbone network 
with two wireless networks are evaluated as shown in 
Figs. 5, 7, 12-13.  
The Network Simulator (NS-2) [21] is adopted for all 
simulations with the following network parameters. The 
packet size is 512 bits. Router buffer is determined by 
Bandwidth-Delay Product (BDP) rule-of-thumb [22]. 
Impatient variant is adopted for responding partial ACKs 
for all TCP connections. In wireless networks, the 
uniform packet loss model is adopted at both the sender 
and the receiver nodes. The 95% confident intervals of 
the simulation results in the following figures originate 
from 25 independent runs. For each run, the simulated 
time is 100 time units. 
Scenario 1: N TCP connections in a wired network 
In scenario 1, total n  (i.e., n =1, 2, and 10) TCP 
connections are operated in a wired network with a 
bottleneck link, which bandwidth is 10 Mbps and delay is 
25 ms. The other links except the bottleneck link are with 
the bandwidth of 100 Mbps and delay of 10ms as shown 
  20 
0
10
20
30
40
50
60
70
80
90
100
0 10 20 30 40 50 60 70 80 90
Simulation time units
C
on
ge
st
io
n 
w
in
do
w
Westwood+
Proposed
 
Fig. 11. The variation of cwnd under 1% wireless packet loss 
rate (Wireless network) 
Scenario 3: N TCP connections in a wired network with 
a single wireless link 
For evaluating goodput and fairness that are affected 
by network congestion and wireless error link, scenario 3 
is simulated for all compared approaches. In Fig. 12, total 
20 TCP connections are operated in a wired network with 
a single wireless network, in which bandwidth and delay 
of the wired bottleneck link is 10 Mbps and 25 ms, 
respectively. The packet loss rate of wireless links range 
from 0 to 0.1.  
As shown in Fig. 13, the goodput of all approaches 
decreases as the wireless packet loss rate increases. The 
proposed approach yields the best goodput under all 
different wireless packet loss rate, but NewReno yields 
the worst goodput; especially, the goodput of the 
proposed approach is 210% higher than that of NewReno 
and 175% higher than that of Westwood+. Furthermore, 
fairness of all approaches under different wireless packet 
loss rate are evaluated as shown in Table 4. The proposed 
approach yields very competitive fairness to that of 
NewReno. Fairnesses of the proposed approach of 
different wireless packet loss rates are all above 0.9883.  
 Fig. 12. 20 TCP connections in a wired network with a 
single wireless link 
0
100
200
300
400
500
600
700
800
900
0 0.001 0.005 0.01 0.05 0.1
Wireless packet loss rates
G
oo
dp
ut
 (K
bp
s)
TCP-Taichung
NewReno
Westwood+
 
Fig. 13. Goodput of compared approaches  
(with a single wireless network) 
 
Table 4. Fairness of compared approaches (with a single 
wireless network) 
 Fairness 
Packet loss rate 
Proposed 
approach NewReno Westwood+ 
0 0.988328 0.999261 0.923017 
0.001 0.993481 0.996917 0.973306 
0.005 0.992687 0.996184 0.991795 
0.01 0.996392 0.99666 0.995311 
0.05 0.994997 0.99684 0.996087 
0.1 0.988709 0.984752 0.996548 
 
In summary, the proposed approach results in the 
highest goodput not only in the wired network but also in 
the heterogeneous wired and wireless network. 
Nevertheless, goodput of NewReno is better than that of 
Westwood+ under a wired network with CBR 
background traffic, but Westwood+ outperforms 
NewReno in goodput under a wired network without 
CBR background traffic the network in wireless links. 
Furthermore, all approaches yield very competitive 
fairness. Finally, in the wired network, the proposed 
approach outperforms NewReno in friendliness. In the 
wireless network, the cwnd variation of the proposed 
approach performs more stable than that of NewReno, 
which contributes to determine accurately the optimal 
cwnd based on the adaptive expected bandwidth.  
V. CONCLUSIONS AND FUTURE WORKS 
In this paper, we proposed an adaptive expected 
bandwidth approach to determine the optimal congestion 
window, network ssthresh and ideal ssthresh for TCP 
congestion control in heterogeneous wireless networks. 
The proposed approach comprises two adaptive control 
algorithms. First, it determines the optimal cwnd, network 
ssthresh and ideal ssthresh in the slow start phase when 
the expected network bandwidth is enough. Second, it 
determinates an optimal shrink factor based on RTT for 
reducing cwnd and network ssthresh in the congestion 
avoidance phase while the expected network bandwidth is 
insufficient. Moreover, the EWMA model is adopted for 
  22 
 
Part II. QoS-based High Performance Media 
Access Control for IEEE 802.11e WLANs 
 
Abstract — IEEE 802.11e proposed a new MAC 
protocol, Hybrid Coordination Function (HCF), for 
achieving QoS with multiple classes of traffic for real-time 
multimedia services in wireless LANs (WLANs). HCF 
provides two modes of channel access – the contention 
free-based mode of HCF Controlled Channel Access 
(HCCA) and the contention-based of Enhanced Distributed 
Channel Access (EDCA). Nevertheless, two issues in EDCA 
should be addressed for minimizing collision probability and 
maximizing throughput. First, EDCA supports the same 
minimum window for different classes traffic, which 
increases the collision probability from different classes of 
traffic. Second, the successful transmission traffic will 
transit to the minimum backoff stage, which causes 
unnecessary collisions from the same class traffic. Therefore, 
in this paper, we first propose a simple, efficient 
classification of traffic classes. Then, a high performance 
EDCA approach (H-EDCA), i.e., a distributed differentiated 
control of contention window, is proposed for suppressing 
unnecessary collisions from the same class traffic and 
different classes traffic. Moreover, collision probability and 
throughput are analyzed in detail based on the discrete-time 
Markov chain model. Numerical results demonstrate that 
the proposed H-EDCA approach outperforms significantly 
EDCA of IEEE 802.11e in both metrics. 
Keywords —IEEE 802.11e, EDCA, QoS, contention 
window, Markov chain model, wireless LAN 
I. INTRODUCTION 
For supporting QoS-based service and providing 
multiple classes of traffic in IEEE 802.11 [1] to satisfy 
the access requirement of multimedia applications such as 
real-time video/audio or voice over IP (VOIP), IEEE 
802.11e [2] is proposed, in which the Hybrid 
Coordination Function (HCF) is adopted as the channel 
access mechanism for achieving QoS requirement. HCF 
provides two major modes of channel access, including 
the contention free-based HCF Controlled Channel 
Access (HCCA) and the contention-based Enhanced 
Distributed Channel Access (EDCA). The QoS issue in 
the contention-based method is more important than that 
in the contention-free based method. Therefore, in this 
paper, we focus on the QoS issue in the contention-based 
method of EDCA. EDCA supports four access categories 
(AC) of priority – ACi , 30 ££ i . For differentiating 
various QoS guarantee, different access categories have 
different Arbitration InterFrame Space (AIFS), AIFS 
Number (AIFSN), and minimum/maximum contention 
window (i.e., minCW / maxCW ) to randomize the channel 
access probability among all classes traffic. Most of 
previous studies focused on the issue of controlling 
contention window for enhancing the network throughput 
rather than reducing the collision probability.  
Most of previous studies [3-7] modeled the throughput 
analysis of IEEE 802.11 DCF rather than the analysis of 
the IEEE 802.11e EDCA mode. Although [8-12] proposed 
some useful control mechanisms of contention window to 
increase throughput, they only concerned partially 
characteristics of EDCA. Moreover, the classification of 
access categories of IEEE 802.11e EDCA is inefficient 
and uncertain, which causes higher complexity of CW 
control and longer processing delay. Meanwhile, in 
EDCA the contention window will transit to the minimum 
backoff stage after successful transmissions. This 
increases unnecessary collisions from the same traffic 
class and different classes of traffic. Therefore, we 
propose herein a high efficient EDCA approach 
(H-EDCA) to provide a simple, certain classification 
mechanism for multiple classes of traffic while reducing 
the complexity of controlling contention window. 
Moreover, an efficient control mechanism for contention 
window is proposed to suppress collisions from the same 
traffic class and different traffic classes. Furthermore, 
based on the discrete-time Markov chain model, the 
performance metrics of H-EDCA, including collision 
probability and throughput, are analyzed in detail. 
The remainder of the paper is organized as follows. 
Section 2 describes the network model and performance 
metrics. Section 3 depicts the proposed H-EDCA method 
for controlling the contention window in IEEE 802.11e. 
Section 4 expresses the mathematical analysis based on 
the discrete-time Markov chain model for H-EDCA. 
Section 5 demonstrates the analysis results of H-EDCA in 
several important metrics, and compares the results to 
other approaches. Section 6 draws conclusions. 
 
II. NETWORK MODEL 
This section first defines the network model and then 
briefly describes the reasons of occurring collisions. We 
model an IEEE 802.11e wireless network as a graph, 
),( EVG = , which consists of a set of mobile nodes, V , 
and a set of wireless links, E . Any two mobile nodes can 
communicate or sense with each other if the distance 
between them is less than the transmission radius. The 
wireless network supports R  classes of traffic, which 
are labeled Rr ,...,1= , where class 1 is the lowest class 
traffic. Since for guaranteeing higher-class traffic has 
smaller contention window and higher priority of channel 
access, we set minmin
ji WW ³ and
maxmax
ji WW ³ , 
where rji Î, , ji £ , and miniW  and 
max
iW  denote the 
minimum and maximum contention window of class i , 
respectively. The analysis uses the following notations. 
1) r : the index of traffic class. 
2) 
cP : the collision probability of a transmission frame. 
3) rcp , : the collision transmission probability of class 
r  traffic. 
4) 
sP : the successful probability of a transmission frame. 
5) rsp , : the successful transmission probability of class 
r  traffic. 
6) tP : the transmission probability of a frame. 
7) rdp , : the dropping probability of class r  traffic. 
8) i : the backoff stage, rmi ££0 , where rm  
represents the maximum backoff stage of class r  
traffic. 
  24 
2) Lsp , : the successful transmission probability of the 
low-class traffic, where HscLs pPp ,, 1 --= . 
3) r : the ratio of the collision probability to the 
successful transmission probability, 
2
,,
,
LsHs
Lsc
pp
pP
+
×
=r ; less the ratio, higher the successful 
transmission probability. 
4) t : the transmission probability of a frame during 
a random selection contention window. 
5) retryrL , : the limited retransmission of class r  
traffic. 
6) k : the backoff slot.  
7) kib , : the steady state probability of state ),( ki , 
where i  is the backoff stage and k  is the 
backoff slot; the transition probability from state 
)1,( +ki  to state ),( ki  is denoted as 
}1,|,{ +kikiP .  
8) Â : the channel capacity in Mbits/second.  
We first model the non-null transition probabilities of 
several derived cases in Markov chain process in (1). In 
that, }1,|,{ +kikiP is the transition probability while a 
node senses channel is idle. }0,0|,0{ kP is the transition 
probability of successful transmission at backoff 
retransmission state 0. }0,|,{ rr mkmP  is the transition 
probability of collisions at backoff state rm , if the 
number of retransmissions of the collision frame does not 
exceed
retryrL , . }0,1|,{ -ikiP  is the transition probability 
of collisions of all classes traffic. 
1,, /}0,|,1{ -=- iLLs WpikiP is the transition probability of 
successful transmissions of the low-class traffic. 
2,, /}0,|,2{ -=- iHHs WpikiP is the transition probability 
of successful transmission of the high-class traffic.  
ï
ï
ï
ï
î
ïï
ï
ï
í
ì
Î-Î=-
Î-Î=-
Î-Î=-
-Î=
-Î-=
Î-Î=+
--
--
].,1[],1,0[                       ,}0,|,2{
,],1[],1,0[                          ,}0,|,1{
],,1[],1,0[                                ,}0,1|,{
],1,0[                            ,}0,|,{
],1,0[                           ,)1(}0,0|,0{
],,0[],2,0[                                          ,1}1,|,{
2,2,,
1,1,,
,,
,,
0,0,
,
riHiHHs
riLiLLs
ririrc
mrmrcrr
rrc
rir
miWkWpikiP
miWkWpikiP
miWkWPikiP
WkWPmkmP
WkWPkP
miWkkikiP
rr
 (1) 
In Markov chain model, the probability of 
state )0,(i can be deduced from the probability of 
state )0,0( , where rmi ££0 . 
,
Let   
.                
                 
                 
  
0,10,1
,
2
,
,
0,1
,
2
,
,
0,1
,
,
,
0,
,
,
,0,
,0,1,0,0,1
--
-
-
+-
=\
+
=
+
=
+
=
+=
+=
ici
HsLs
Lsc
i
HsLs
Lsc
i
Ls
Hs
Ls
c
i
Ls
Hs
Lsi
HsiLsici
bPb
pp
pP
b
pp
pP
b
p
p
p
P
b
p
p
pb
pbpbPb
r
r
Q
 
thus  
.0             ,0,00, r
i
i mibb ££= r        (2) 
From (1-2) and 
2
,,
,
LsHs
Lsc
pp
pP
+
=r
, the probability of each 
state )0,(i  can be aggregated from the probabilities of 
state ),( ki , where 10 , -££ irWk . Therefore, we first 
analyze the steady state probability of state ),( ki , i.e., 
kib , , based on the following three cases of analysis.  
1. The case of 0=i  
The probability of state )0,0(  is the sum of the 
probabilities of the successful transmissions at 
state )0,0( , the successful transmissions of the 
low-class traffic at state )0,1( , and the successful 
transmissions of the high-class traffic at state 
)0,1( and state )0,2( . 
2. The case of rmi <<0  
The probability of state )0,(i , where rmi <<0 , is 
the sum of the probabilities of collision from 
state )0,1( -i , the successful transmissions of the 
low-class traffic at state )0,1( +i , and the successful 
transmissions of the high-class traffic at 
state )0,2( +i . 
3. The case of rmi =  
The probability of state )0,( rm  is the sum of the 
probabilities of collisions at state )0,1( -rm and 
state )0,( rm . 
Therefore, the probability of state ),( ki , kib , ,can be 
summarized as follows 
ï
î
ï
í
ì
=--+
<<++
=+++-
-
=
-
++-
+++
.                                  ,)1(
,0                                ,
,0         ,)1(
0,,,0,1
0,2,0,1,0,1
0,2,0,1,0,1,0,
,
,
,
riHsLsic
riHsiLsic
iHsiLsiHsic
ir
ir
ki
mibppbP
mibpbpbP
ibpbpbpbP
W
kW
b
                                    (3) 
Then, the probability of state ),( ki  can be determined 
from (2), (3), and
2
,,
,
LsHs
Lsc
pp
pP
+
=r , as follows. 
,0                 ,0,
,
,
, rii
ir
ir
ki miCbW
kW
b ££
-
=          (4) 
where  
ï
î
ï
í
ì
£<
+
=×+
=
.0                                                ,)1(
,0                                               ,1 ,
r
c
Hs
i miP
ip
C
r
r
r  
Moreover, the probability sum of all states is one, that is 
å å
=
-
=
=
r irm
i
W
k
kib
0
1
0
,
,
1  
or  
.1
2
1,
0
0, =
+
×å
=
ir
i
m
i
i
W
Cb
r                         (5) 
Now, we determine 
irW , in terms of the minimum 
contention window, min
,irW , where 1
min
, +irW  is denoted 
as W in the following descriptions. Since the number of 
limited retransmissions, retryrL , , impacts on the range of 
contention window, we discuss it in the following three 
cases. First, in the case of rretryr mL £, , the range of 
contention window is thus ]2,0[ Wi , where 
  26 
å
=
=
R
r
rSS
1
 
or 
.
)1()1(
][
1
,å
= -++-
=
R
r ctssstt
rst
TPPTPPP
LEpP
S
s
         (18) 
B I
sBcB
 
Fig. 3. The period components of H-EDCA 
IV. NUMERICAL RESULTS 
This section evaluates the proposed H-EDCA 
approach by comparing collision probability and 
throughput with EDCA of IEEE 802.11e. In H-EDCA, 
we consider multiple classes of traffic in analysis, in 
which different classes traffic have different parameters 
in terms of the maximum CW, the minimum CW, and the 
limited retransmission, as shown in Table 1.  
Fig. 4 shows the collision probability of EDCA_L, 
HEDCA_H, H-EDCA_L and H-EDCA_H under various 
NDS. All the results increase as NDS increases. 
H-EDCA_H yields the lowest collision probability, but 
EDCA_L yields the worst collision probability. 
Moreover, H-EDCA_L yields lower collision probability 
than that of EDCA_H and EDCA_L, i.e., the collision 
probability of H-EDCA is lower than that of EDCA. 
Table 1. The contention window parameters of different classes traffic 
Parameters Low-priority High-priority 
min
,irW  31 15 
max
,irW
 1023 255 
The number of nodes is an important parameter in 
wireless random access network. Therefore, we evaluate 
three performance metrics under different number of 
nodes ranging from 10 to 100 as shown in Fig. 5. In Fig. 
5, throughput of H-EDCA and EDCA decrease as the 
number of nodes increases. Meanwhile, the throughput of 
EDCA decreases significantly while NDS increasing. 
H-EDCA yields obviously higher throughput than that of 
EDCA. From Fig. 5, we can observe that H-EDCA 
outperforms significantly EDCA in throughput, when 
different NDS considers.  
Then different values of CWmin of the class 0 traffic 
of EDCA and H-EDCA are evaluated. The CWmin of 
class 0 ranges from 34 to 52 while that of the class 1 
traffic of both approaches are set to 15. In Fig. 6, 
H-EDCA_H yields the highest throughput, but EDCA_L 
has the lowest throughput. The throughput of H-EDCA is 
higher than that of EDCA. Moreover, the throughput of 
EDCA_L and H-EDCA_L decrease gently when CWmin 
of low priority class increases, but that of EDCA_H and 
H-EDCA_H increase under the same situation.  
V. CONCLUSIONS 
In this paper, we proposed a high performance EDCA 
approach, called H-EDCA, for QoS-based IEEE 802.11e , 
in which two primary contributions of H-EDCA are 
achieved. First, H-EDCA provides an efficient, simple 
control mechanism for contention window to reduce the 
complexity of processing contention windows among 
different classes of traffic. Second, H-EDCA provides a 
distributed differentiated control of contention window at 
each mobile node for avoiding collisions due to the same 
class traffic and different classes traffic. Meanwhile, it 
guarantees higher-class traffic has higher transmission 
probability than that of lower-class traffic. Based on the 
discrete-time Markov chain model, the performance 
metrics of collision probability and network throughput 
are analyzed. Numerical results demonstrated that 
H-EDCA outperforms significantly the EDCA mode of 
IEEE 802.11e in collision probability and throughput 
under various NDS and CWmin. 
  
VI. REFERENCES 
[1] IEEE 802.11 WG, “Part 11: Wireless LAN Medium Access 
Control (MAC) and Physical Layer (PHY) Specifications,” 
IEEE 802.11 Standard, 1999. 
[2] IEEE P802.11e/D11.0, October 2004. 
[3] G. Bianchi, “IEEE 802.11--Saturation Throughput 
Analysis,” IEEE Communications Letters, Vol. 2, No. 12, 
pp. 318-320, Dec. 1998. 
[4] G. Bianchi, “Performance Analysis of the IEEE 802.11 
Distributed Coordination Function,” IEEE J-SAC, Vol. 18, 
No. 3, pp.535-547, Mar. 2000. 
[5] E. Ziouva and T. Antonakopoulos, “CSMA/CA performance 
under high traffic conditions: throughput and delay 
analysis,” Computer Communications, Vol. 25, No. 3, pp. 
313-321, 2002. 
[6] H. Wu, Y. Peng, K. Long, S. Cheng, and J. Ma, 
“Performance of Reliable Transport Protocol over IEEE 
802.11 Wireless LAN: Analysis and Enhancement,” IEEE 
INFOCOM, Vol. 2, pp. 599-607, June 2002. 
[7] Chonggang Wang, Bo Li, and Lemin Li, “A new collision 
resolution mechanism to enhance the performance of IEEE 
802.11 DCF,” IEEE Transactions on Vehicular Technology, 
Vol. 53, Issue 4, pp.1235-1246, July 2004. 
[8] S. Mangold, S. Choi, P. May, O. Kein, G. Hiertz, and L. 
Stibor, “IEEE 802.11e Wireless LAN for Quality of 
Service,” Proceedings of European Wireless ’02, 2002. 
[9] Yang Xiao, “IEEE 802.11e: QoS provisioning at the MAC 
layer,” Wireless Communications, Vol. 11, Issue 3, June 
2004. 
[10] Y. Xiao, “A Simple and Effective Priority Scheme for 
IEEE 802.11,” IEEE Communications Letters, Vol. 7, No. 2, 
pp.70-72, Feb. 2003. 
[11] Yang Xiao, “Performance analysis of IEEE 802.11e EDCF 
under saturation Condition,” IEEE ICC2004, Vol. 
1, pp.170 – 174, June 2004. 
[12] Zhen-Ning Kong, Tsang, D.H.K. B. Bensaou and Deyun 
Gao, “Performance Analysis of IEEE 802.11e 
Contention-Based Channel Access,” IEEE Journal on 
Selected Areas in Communications, Vol. 22, Issue 10, pp. 
2095 - 2106, Dec. 2004. 
[13] Wireless LAN Medium Access Control (MAC) and 
Physical Layer (PHY) Specifications: Higher-Speed 
Physical Layer Extension in the 2.4 GHz Band, IEEE 
802.11b Standard, 2000. 
 
 
出席國際學術會議心得報告 
                                                             
計畫編號 NSC-95-2221-E-324-002 
計畫名稱 具成本基礎垂直切換、無縫隙行動與無線 TCP阻塞控制在異質無線行
動網路之研究(2/2) 
出國人員姓名 
服務機關及職稱 
張本杰  朝陽科技大學資工系  副教授 
會議時間地點 
2006年 11月 27日 ~ 2006年 12月 1日 
San Francisco, CA, USA 
會議名稱 IEEE Globecom2006 
發表論文題目 
H-EDCA: QoS-based High Performance Media Access Control for IEEE 
802.11e WLANs 
 
一、 參加會議經過 
IEEE Globecom 2006 (IEEE International Globe Communications 
Conference 2006)是全球通訊領域的一個大型且重要國際會議，主要探討
Networking 與 Communications 兩大領域的現在核心議題與未來發展趨勢，
所以收錄的 paper 相當整齊，主題包括：Fiber Access Systems, Broadband 
Operations, 3G Planning and Optimization, Wireless Option for The Last Mile, 
The Business of Broadband, Global Broadband Deployments, Metropolitan 
Wireless Access Networks, Ensuring QoS and Securing Converged Services, 
WiMAX Technology and Standards, Adhoc and Sensor Networks, Modeling and 
Simulation Tools for Network Designers and Developers, Nanotechnology in 
Communications等。今年大會於 San Francisco, CA, USA的 Fairmont Hotel, 
The Stanford Court Hotel 與Mark Hopkins Hotel三處舉行為期 5天(11月 27
日~12 月 1 日)的會議。IEEE Globecom 2006 於第一天與最後一天舉行
Workshops and Tutorials，在於中間 3天舉行 Technique sessions論文發表，
今年共收到約 3000篇 papers, Program Committee 只接受 990篇，錄取率約 
33.3%。與會者來自世界各國：美國、加拿大、台灣、日本、南韓、英國、
德國、義大利、印度、西臘、瑞典、澳大利亞、南非、香港、伊朗、中國、
西班牙、新加坡等國。此次會議，台灣地區也有多位教授出席發表。如：國
台灣等教授學者互相交換名片與談論彼此專業心得，且與 IEEE Wireless 
Communications 的 Editor-in-Chief 再次的見面(第一次於今年 9 月的澳洲國
際學術合作交流於雪梨大學)。 
 
二、 與會心得 
綜觀此次會議，筆者發現Wireless MAN--WiMAX、TCP in Wired and 
Wireless Networks、Quality of Service、Wireless Sensor Networks、Wireless 
MAC、WLAN、Handoff in Wireless Networks、Ad hoc routing與 Cross Layer 
應用是目前在無線網路領域中較受大家重視的研究方向，而下一代無線網路
與異質無線網路也正是朝這幾個方向做整合發展。 
IEEE Globecom Conference是國際網路與通訊重要會議所論文的接受
率低且經過仔細審稿，水準相當整齊。筆者非常感謝國科會此次可以補助本
人赴會。筆者攜回 IEEE Globecom2006 國際會議論文集 CD 一片與 Onsite 
Program簡錄一冊，內容包含所有與會發表之論文。 
 
minimum and maximum contention window of class i , 
respectively. The analysis uses the following notations. 
1) r : the index of traffic class. 
2) 
cP : the collision probability of a transmission frame. 
3) rcp , : the collision transmission probability of class 
r  traffic. 
4) 
sP : the successful probability of a transmission frame. 
5) rsp , : the successful transmission probability of class 
r  traffic. 
6) tP : the transmission probability of a frame. 
7) rdp , : the dropping probability of class r  traffic. 
8) i : the backoff stage, rmi ≤≤0 , where rm  
represents the maximum backoff stage of class r  
traffic. 
9) 
irW , : the contention window of class r  traffic at 
backoff stage i , where min
,irW  and 
max
,irW  are the 
minimum and maximum contention window of that, 
respectively. 
III. HIGH PERFORMANCE EDCA APPROACH 
In this section, we propose three methods for achieving 
the goals of H-EDCA and the state diagram of H-EDCA 
is demonstrated in Fig. 1, which is the Markov chain 
model of the backoff stages of H-EDCA with the arrival 
rate, iλ , and the departure rate, iµ , of stage i , and the 
Markov chain model can be expressed as follows:  


==
==
.,...,0     
,...,0       
, rrsi
rci
mip
miP
µ
λ  
The proposed H-EDCA for IEEE 802.11e is described in 
three cases of frame collision, successful frame 
transmission, and sensing channel idle, as follows.  
A. The Case of Frame Collision 
In the case of frame collisions, the backoff state of the 
collision class of traffic will be transited from state i  to 
1+i , where rmi <≤0 , as shown in Fig. 1. Moreover, 
the backoff state is not changed if the original state is at 
state rm . On the other hand, if the number of 
retransmissions is greater than the limited retransmission, 
retryrL , , the collided frame is discarded. Since the 
lower-class traffic has larger min
rW  and retryrL , , the 
higher-class traffic can have smaller range of contention 
window and results in shorter transmission delay. 
B. The Case of Successful Frame Transmission  
In the case of frame successful transmission of class 
r  traffic, H-EDCA transits from state i  to state ri −  
as shown in Fig. 1 instead of transition to the minimum 
state 0. Therefore, the contention window of next state is 
randomly selected from the range of [0, rirW −, ]. Since 
max
0,
max
, rrir WW ≥−  and the state change of all successful 
traffic of the same class r  are distributed, H-EDCA can 
reduce collisions significantly from the same class traffic 
and different classes traffic. As a result, the higher-class 
traffic requires less number of state transitions to state 0 
while transmitting successful than that of the lower-class 
traffic. Consequently, H-EDCA guarantees that the 
higher-class traffic obtains higher probability of access 
channel than that of the lower-class traffic. Furthermore, 
the collision probabilities due to the same class traffic and 
different class traffic can be minimized. Once the 
collision probability is minimized, the throughput is 
increased and the average transmission delay is also 
reduced. 
C. The Case of Sensing Channel Idle 
When a mobile node senses the channel is idle, the 
backoff slot of the traffic will be decreased by one. If the 
backoff slot reaches zero, the mobile node can transmit a 
frame to the idle channel. In Fig. 2, if a mobile node is at 
state ),( ki  and senses the channel is idle, the node 
transits to state )1,( −ki , where i  is the backoff stage 
and k  is the backoff slot. When the node transits to 
state )0,(i , it can transmit the frame.   
IV. MARKOV CHAIN ANALYSIS OF H-EDCA  
In this section, we first define the Markov chain model 
of the proposed H-EDCA approach. The collision 
probability and throughput are analyzed based on the 
Markov chain theory in next section. Although the 
proposed H-EDCA considers multiple classes of traffic, 
we adopt two classes traffic for the following analysis for 
clear description, where Lr =  (i.e., 0=r ) denotes the 
low-class traffic and Hr = (i.e., 1=r ) denotes the 
high-class traffic. 
A. Markov Chain Model of H-EDCA 
The Markov chain analysis uses the following 
notations. 
 
Fig. 1. State diagram of the backoff stage of H-EDCA 
 
Fig. 2. Markov chain model of the proposed H-EDCA  
©1-4244-0357-X/06/$20.00     2006 IEEE
This full text paper was peer reviewed at the direction of IEEE Communications Society subject matter experts for publication in the IEEE GLOBECOM 2006 proceedings.
Finally, in the case of rretryr mL >, and rmi > , the range 
of contention window is ]1,0[ max, +irW . Therefore, the 
results of irW ,  can be expressed as   



=>+=
−=>
=≤
=
.,,,                 1),(2
,1,,1,0,                                        ,2
,,,1,0,                                        ,2
,,
max
,
,
,,
,
retryrrrretryrir
m
rrretryr
i
retryrrretryr
i
ir
LmimLWW
mimLW
LimLW
W
r …
…
…    (6) 
The probability of state )0,0(  of the Markov chain model, 
0,0b , can be determined by (2), (5), and (6). Now, we first 
determine 
0,0/1 b  as follows  







=>
+
⋅⋅
−=>
+
⋅⋅
=≤
+
⋅⋅
=
∑
∑
∑
=
−
=
=
retryr
r
r
r
retryr
L
mi
retryrrrretryr
m
i
i
rrretryr
m
i
i
i
i
retryrrretryr
L
i
i
i
i
LmimLWC
mimLWC
LimLWC
b
,
,
.,,,                ,
2
12
,1,,1,0,                    ,
2
12
,,,1,0,                   , 
2
12
1
,,
,
1
0
,,
0
0,0
…
…
…
ρ
ρ
ρ        (7) 
Thus 0,0b  can be expressed as 
The transmission probability of a class r  traffic of a 
mobile node, rτ , within a random slot time is the sum of 
the probabilities of all state )0,(i , rmi ≤≤0 , which can 
be derived from (3) as follows. 
.
1
1, ,
0
0,0
1
0,∑
=
+
−
−
==
retryr retryrL
i
L
ir bb ρ
ρ
τ                   (9) 
Therefore, the probability, tP , of a frame transmission 
among N  nodes with the same contention channel is  
.)1(1
1
∏
=
−−=
R
r
N
rtP τ
                         (10) 
Finally, the collision probability, cP , within a slot time 
can be expressed by 
.
1
))1()1(1(
1
1 ,1
1
∑
∑ ∏
=
= ≠=
−
−
−
=
−⋅−−=
R
r r
rt
R
r
R
rjj
N
j
N
rc
P
P
τ
τ
ττ                 (11) 
Next, the performance analysis of throughput will be 
analyzed based on (10) and (11). 
B. Throughput Analysis 
After determining the successful probability, tP , of a 
frame transmission within a slot time, the successful 
probability of individual class r traffic can be obtained by 
.)1()1(
,1
1
, ∏
≠=
−
−⋅−=
R
rjj
N
j
N
rrrs Np τττ               (12) 
Meanwhile, the total successful transmission probability 
is the sum of the successful frame probabilities of all 
classes traffic, i.e.,  
.))1()1((
1 ,1
1
1
, ∑ ∏∑
= ≠=
−
=
−⋅−==
R
r
R
rjj
N
j
N
rr
R
r
rss NpP τττ
      (13) 
Then we analyze the average time for successful frame 
transmission and collision, which are denoted as sT  and 
cT , respectively. Two aspects of with and without the 
RTS/CTS messages are considered. The difference 
between them is that the detail IFSs and the intervals of 
RTS/CTS are included while concerning of RTS/CTS. In 
the aspect of without concerning of RTS/CTS, the 
average time for successful frame transmission and 
collision can be expressed as 

 ℜ++ℜ+ℜ+=
+ℜ+++ℜ+ℜ+=
,//][/
,//][/
* ACKSIFSLEHDIFST
ACKSIFSLEHDIFST
basic
c
basic
s δδ (14) 
where ℜ is the channel capacity, ℜ/H  represents the 
transmission time of protocol headers of physical and 
MAC layers (i.e., hh MACPHYH += ), ℜ/][LE is the 
transmission time of the average frame length of 
successful transmission, ℜ/][ *LE is the transmission time 
of the average frame length of failed transmission due to 
collision, and δ is the propagation delay. In the aspect of 
concerning RTS/CTS, the average time for successful 
frame transmission and collision are expressed as 



ℜ++ℜ+=
+ℜ+++ℜ+ℜ+
++ℜ+++ℜ+=
.//
,//][/
//
/
/
CTSSIFSRTSDIFST
ACK SIFSLEH              
SIFSCTSSIFSRTSDIFST
CTSRTS
c
CTSRTS
s
δδ
δδ   (15) 
Now the network throughput of H-EDCA is 
determined based on the cycle of busy and idle periods. 
Let rU  denotes the average time that a channel is used 
by class r  traffic without collision. I  and B  denote 
the average length in time of idle period and busy period, 
respectively. The relationship of rU , I  and B is 
shown in Fig. 3; thus, the throughput of class r  traffic 
can be formulated as 
,
IB
US rr
+
=
                (16) 
where cs BBB +=  and ][, LEpPU rstr = . The busy 
period that a channel is used without collision and with 
collision can be expressed respectively, as sst TPPB =s  
and .)1(c cst TPPB −=  The idle period, I , can be 
expressed as  
,)1( σtPI −=  
where σ  represents the interval of an empty time slot. 
Consequently, the throughput of class r  traffic, rS , can 
be formulated as 
.
)1()1(
][,
cstsstt
rst
r TPPTPPP
LEpP
S
−++−
=
σ
            (17) 
Finally, the network throughput can be formulated by the 
sum of throughput of all classes traffic  
∑
=
=
R
r
rSS
1
 
or 
.
)1()1(
][
1
,∑
=
−++−
=
R
r ctssstt
rst
TPPTPPP
LEpP
S
σ
         (18) 







>
−−+++−−++−−+⋅+−−+⋅+
−−
>
−−++−−+⋅+−−+⋅+
−−
≤
−−++−−+⋅+−−+⋅+
−−
=
+−
++
.
)21)(1()1()12()21)()(1()1)()2(2)(1()1)(21()1)(1(
)1)(21(2
)21)()(1()1)()2(2)(1()1)(21()1)(1(
)1)(21(2
,
)21)()(1()1)()2(2)(1()1)(21()1)(1(
)1)(21(2
,1
0,0,0,,
,
0,0,,
,11
0,0,,
0,0
,
,,
rretryrmLm
cr
mm
c
m
crrHs
rretryrm
c
m
crrHs
rretryrL
c
L
crrHs
mL    ,
PWPPWWp
 ,mL                                                                                    ,
PPWWp
mL                                                                       ,
PPWWp
b
rretryrrrrr
rr
retryrretryr
ρρρρρρρρρρρρρρρρ
ρρρ
ρρρρρρρρρρρρ
ρρρ
ρρρρρρρρρρρρ
ρρρ  (8) 
©1-4244-0357-X/06/$20.00     2006 IEEE
This full text paper was peer reviewed at the direction of IEEE Communications Society subject matter experts for publication in the IEEE GLOBECOM 2006 proceedings.
