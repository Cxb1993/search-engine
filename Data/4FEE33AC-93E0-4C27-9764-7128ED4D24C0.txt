 2
行政院國家科學委員會專題研究計畫成果報告 
計畫名稱：異質無線網路之高品質視訊傳輸技術與服務 -- 子計畫一：異質無
線網路之群播換手技術及其測試環境之建置 
計畫編號：NSC 99－2221－E－ 008－005 
計畫主持人：國立中央大學 通訊工程學系 陳彥文 
 
摘要 
本子計畫配合其他子計畫之執行，在 98 年度計畫中針對 SVC 視訊進行群播時，如何透過群組及服務
品質之 Trade off 對無線電資源做最有效之分配應用。除深入分析不同配置方式對頻寬資源之影響外，
除提出服務群播與傳送群播之關係及軟性群組(Soft group)觀念外，也利用 Willingness to pay 的啟發式
觀念，決定頻道分配之優先順序。本(99)年度將原方法擴充將使用者個別 QoS 需求，及錯誤更正碼(FEC)
的應用與調變等級的取捨也列入無線電資源的配置方法中。除此之外，在換手流程中，也從務實面提
出以 SIP B2BUA 為基礎之換手架構，並透過以 WiMax 網路 R4/R5 鏈路負荷為考量之換手選擇策略，
達到鏈路負荷平衡。所提方法透過模擬方式進一步瞭解其在資源耗損及疏通量之效能表現。本研究成
果已分別發表在 IEEE TENCON 2010 及 WiMoA 2011 國際研討會中，本研究成果具指標性之意義，更
完整之研究成果刻正進行整理中，將擬投稿國際期刊。 
關鍵字：層次化視訊編碼(SVC)、群播、WiMax、SIP、無線電資源配置 
Abstract 
In previous (98) year, we studied the resource allocation algorithm for multicasting scalable video coding 
(SVC) source in WiMax network. In order to effectively utilize the radio resources, the proposed scheme 
considers the channel condition of each mobile station for the establishment of multicast groups. The concept 
of willingness to pay is applied to arrange the subchannel for users. This (99) year, we extended that scheme 
to take the requirement of individual QoS and the tradeoff between forward error correction (FEC) code and 
modulation level into consideration during radio resource allocation. Furthermore, from the practical 
application point of view, we proposed the SIP B2BUA based handover approach. This approach considers the 
load balance between the R4/R5 links or WiMax network to decide the handover policy. The performance of 
the proposed schemes is examined through exhaustive simulations in terms of radio resource usages and 
system throughput. The research results were published in IEEE TENCON 2010 and WiMoA 2011 
conferences. Further complete results are preparing to submit to international journals. 
 
Key words: Scalable video coding (SVC), Multicast, WiMax, Session initiation protocol (SIP), Radio 
resource allocation 
 
 4
服務品質保證。 
二、文獻探討 
(1) 群播技術方面 
IEEE 802.16 規格定義兩種 MBS 模式：
Single-BS 和 Multi-BS。Multi-BS 模式為多個 BS
形成一個 MBS Zone，如圖一所示，在同一 MBS 
Zone 底下的 BS 會形成單頻網路廣播 (Single 
Frequency Network, SFN)，相當於多個 BS 使用相
同 頻 率 在 各 自 覆 蓋 範 圍 內 進 行 同 步 傳 輸
(synchronization)，同步的意義即為任何時間點在
frame structure 上所有 BS 必須遵照相同的傳輸方
式，包括 symbol 分配、subchannel 分配、調變方
式等等，此方式的優點為可節省頻寬資源，提高
頻譜效益、可達到多個 BS 的分集效果(macro 
diversity)，增加 MS 接收的可靠性。另外，MBS
資料可確保 MS 不論處於正常模式(Normal mode)
或是閒置模式(Idle mode)都能夠從 MBS Zone 底
下的任何 BS 繼續接收 MBS 資料。 
 
圖一 Multi-BS 的網路架構圖 
近兩年群播應用在 WiMAX 上的議題也有相
關文獻探討過，如在 2007 年時，[1]在文末提出一
個概略性的方法，發展在 OFDM 環境下，利用特
殊編碼技術提出一個 Two-Level Superposition 
Coded Multicast，概念為使用較高訊號強度傳送給
距離較遠的使用者時，途中訊號強度逐漸衰減，
當經過距離較近的使用者時強度仍然高於這些使
用者的接收訊號強度門檻，這表示這些距離較近
的使用者能有充裕的訊號強度對傳送給距離較遠
的資料解碼，因此可將距離較近的使用者資料以
superposition coding 方式編碼進距離較遠的使用
者資料內，也就是對任一 multicast slot 都可以此
技術採用兩種調變方式，如此一來傳送同一份資
料便可滿足不同通道狀況的使用者，此篇提及方
法主要在編碼部分著墨，非本論文考量之重點。 
文獻[2][3]同樣在 OFDM 環境下，搭配 AMC
及 SVC 設計資源分配方法，前者根據通道狀況及
系統可用頻譜資源決定各個使用者該收到多少層
影像資料，目標是獲得最大效用(Maximize Total 
Utility)，這邊定義效用為使用者收到各 layer 所增
加的滿足度(satisfaction)，他們保證 base layer 讓
所有使用者都能收到以維持基本影像品質，
enhanced layer 則是從使用者通道狀況由好至壞開
始挑，當作傳送的對象。後者是以獲得最大平均
網路效能(Maximum Throughput)為目標，利用數
學分析方式得出使用SVC將影像分為兩層能有最
大平均網路效能的結論，並根據 SS 的分佈情況，
即通道狀況，來決定 base layer、enhanced layer
各需使用何種調變方式傳送，另外考慮單位時間
獲利決定是否傳送 enhanced layer。 
文獻[4]將PHY層提升為使用頻譜資源更彈性
的 OFDMA 技術，搭配 AMC 及 SVC，目標為獲
得最低影像失真(Minimize Average Distortion)，其
餘與先前文獻相似，同樣保證所有使用者都能收
到 base layer，根據 SS 分佈狀況、各 enhanced layer
的資料量、剩餘頻譜資源找出最佳的調變方式組
合，最後利用基因演算法(Genetic Algorithm)降低
使用窮舉搜尋法(Exhaustive Search)的複雜度。 
(2) 換手技術方面 
依據網路協定分層概念，換手亦可分成實體
層、鏈結層、網路層、及應用層之換手。在鏈結
層部份，802.16e 為了讓 MS 能夠平順的在行徑
間更換連線的 BS，修改與新增部分的管理訊息。
其中包括了對於 Ranging 的訊息修改與對 HO 相
關的參數的設定，另外也新增了許多在 HO 過程
中會需要的管理訊息。網路層之換手主要需進行
網路位址之移動管理，即為 Mobile IP [5, 6]。
Mobile IP 的重點，在於讓 MN(mobile node)不會
因為移動到不同的網域而必須更換位址的動作，
造成與 CN(correspondent node)的連線中斷。MN 
用一個固定不變的位址 home address 來代表自
 6
當 密 集 的 實 驗 模 擬 。 在 系 統 整 體 疏 通 率
(Throughput)部份，如圖五所示，本研究所提出之
方式遠優於 Best User First (BUF) [11]之方法。 
 
圖五 所提方法與 BUF 方法在疏通率之比較 
 
而當考慮群播使用者不同服務品質之需求，
分別就所提三種方法，及使用或不使用 FEC 機
制，得到模擬之傳輸效能結果如下表一所示： 
 
表一 
 
 
在所提出以 SIP B2BUA 為基礎的兩種演算法
中，以下我們分別就 R1 介面頻寬是否上有限的兩
種情形，利用圖六與圖七說明模擬結果。 
 
圖六 R1 介面頻寬無上限之模擬結果 
 
 
圖七 R1 介面頻寬有上限之模擬結果 
 
從以上結果可以看出，所提出不論是方法一或方
法二，因為有考慮到鏈路的負載平衡，因此比單
獨以 ASN 為錨點的方式，有比較低的連線斷線率
(Dropping rate)。 
 
(2) 討論 
本研究計畫分別就 WiMax OFDMA 網路之群
播資源分配與換手等技術進行深入研究。本研究
從跨層群播機制發展在 WiMAX 無線接取網路，
有別於過去將頻譜資源採用一維的排程方式，本
方法確實參考 PHY 層的使用者通道資訊，將頻譜
資源採用二維的分配，達成在消耗較低的頻譜資
源下有效的提升系統整體網路效能，以維持使用
者基本的影像品質。另外，針對不同使用者對品
質要求之不同、FEC 的使用，與無線電資源之有
效配置進行完整研究，再經由實驗模擬驗證所提
出演算法之效率。在換手技術方面，本計畫提出
配合 WiMax 錨點換手的以 SIP B2BUA 為基礎的
架構，也提出如何運用此架構，從鏈路負載平衡
觀點進行動態調整資源分配，以降低換手連線之
斷線率。本計畫之研究成果將有助於推動行動多
媒體網路服務(如 Mobile IPTV)時，網路資源配置
之參考。 
 
() 
 
參考文獻 
[1] J. She, F. Hou, P. H. Ho, and L. L. Xie, “IPTV 
over WiMAX: Key Success Factors, Challenges, and 
Solutions”, IEEE Communication Magazine, Vol. 45, 
No. 8, pp. 87-93, Aug. 2007. 
[2] W. H. Kuo, T. Liu and W. Laio, “Utility-Based 
Resource Allocation for Layer-Encoded IPTV 
Multicast in IEEE 802.16 (WiMAX) Wireless 
Networks”, Communications  IEEE  International  
Conference  on, pp. 1754-1759, June 2007. 
 8
 
國科會補助專題研究計畫成果報告自評表 
請就研究內容與原計畫相符程度、達成預期目標情況、研究成果之學術或應用價
值（簡要敘述成果所代表之意義、價值、影響或進一步發展之可能性）、是否適
合在學術期刊發表或申請專利、主要發現或其他有關價值等，作一綜合評估。
1. 請就研究內容與原計畫相符程度、達成預期目標情況作一綜合評估 
V 達成目標 
 未達成目標（請說明，以 100 字為限） 
 實驗失敗 
 因故實驗中斷 
 其他原因 
說明： 
2. 研究成果在學術期刊發表或申請專利等情形： 
論文：V 已發表(研討會論文) □未發表之文稿 V 撰寫中(期刊論文) □無 
專利：□已獲得 □申請中 V 無 
技轉：□已技轉 □洽談中 V 無 
其他：（以 100 字為限） 
 
3. 請依學術成就、技術創新、社會影響等方面，評估研究成果之學術或應用價
值（簡要敘述成果所代表之意義、價值、影響或進一步發展之可能性）（以
500 字為限） 
本研究針對在 WiMAX 無線網路環之下，採用 OFDMA 技術來提供頻譜資源分配
的彈性。視訊串流採用可調性視訊編碼(scalable video coding, SVC)將視訊串流編碼
成一層 base layer 及多層 enhancement layers 來提供影像傳送的彈性。除此之外，本
系統使用 forward error correction (FEC) 技術來修正影像資料傳送時的錯誤及保證
視訊影像品質。本研究所提出的群播群組分配機制可將於同一視訊影像群播服務下
的使用者切割成多個傳送群組，並根據各傳送群組的通道狀況和影像品質需來傳送
視訊影像資料。另一方面，調整所使用的 MCS (modulation and coding scheme)及視
訊階層(video layers)的數量之機制，並配合 FEC 來達成最大傳輸效率的目標。系統
根據使用者的通道狀況動態調整所使用的 MCS，並計算所需的 FEC 冗餘數量和傳
送的視訊階層數量。從模擬的結果可以看出我們所提出的頻譜資源分配機制能達到
較高的傳送效率，且能減少頻譜資源的消耗。 
本研究之成果對提供無線 IPTV 服務時，可有效支援不同品質要求之個人化服務，
也可有效配置無線電資源。 
 
This paper is organized as follows. In Section 2, we review
the existing solution on the problem. Section 3, the proposed
algorithm is described and discussed in detail. The simulation
results of the proposed algorithm are examined and analyzed in
Section 4. Finally, the conclusions and future works of the
proposed system are provided.
II. RELATED WORKS
Traffic multicast is an appropriate way to achieve efficient
transmission of grouped users. The main issue of wireless
multicast is the different wireless channel condition received
by every user. And the transmission rate of each user may not
be the same due to the use of different modulation scheme for
different channel condition. A straightforward approach is to
choose the lowest modulation scheme that all group users can
tolerate under acceptable error rate. However, the system
throughput will be greatly suffered if only one user gets a very
poor channel condition. The other approach is to select higher
modulation scheme to satisfy users with good channel
condition so as to increase to system throughput. However, it
introduces the fairness problem because users with poor
channel condition will receive higher error rate.
In [5, 6], both of the OFDM PHY, SVC and AMC are
adopted to be applied in the scheduling scheme. In [5], it
proposes a utility-based resource allocation scheme according
to users’channel conditions under the constraint that and all
users shall receive the base layer of a SVC program. And the
modulation scheme used for transmitting enhancement layer
depends on the user with the best channel condition. The
provision of base layer for all group users is an essential
requirement in SVC transmission. In [6], the dynamic rate
adjustment algorithm is proposed to adjust the portion of base
layer based on the QoS requirement. It allocates three portions
of enhanced layers to maximize average throughput. Both of
the above schemes operate their resource allocation in one-
dimensional OFDM system. In [7], it proposes a scheduling
scheme that mainly uses adaptive modulation to achieve the
rate-adaptive multicast to minimize average distortion of all
users. Although the OFDMA system is assumed for resource
allocation in that scheme, its approach is still one-dimensional
approach.
The above mentioned scheduling schemes mainly evaluate
one-dimension of resource allocation on WiMAX frame
structure. It is not practical and efficient to be adopted in
OFDMA system. Because the one-dimensional radio resource
allocation does not consider the difference of the channel
condition between the base station and different mobile stations.
A more effective way of radio resource in OFDMA system is
to allocate radio resource in a two-dimension manner based on
the differentiation of channel condition of mobile stations. The
base station shall take both of the frequency domain
(subcarriers within the channel) and time domain (symbols)
into consideration to achieve effective spectrum utilization. The
proposed cross-layer multicast scheduling scheme takes every
user’s channel condition of each subchannel into account to
achieve two-dimensional resource allocation, first on frequency
domain then on time domain. In addition to the channel
condition, the layer dependence property of SVC traffic shall
be considered for effective resource utilization.
III. THE PROPOSED ALGORITHM
As mentioned above, mobile stations may receive different
channel condition, mobile stations of the same service
multicast group may consider to be categorized into several
delivery multicast groups for the effective radio resource
allocation. For example, in Table I, it specifies the number of
bits can be carried per time slot in the OFDMA frame for
different modulations and coding rates. If we want to multicast
an IPTV program to 4 mobile stations and two of them receive
a very good channel quality, which can use 64 QAM 3/4 for
modulation, in subchannel 1 and receive a very poor channel
quality, which can only use QPSK 3/4 for modulation, in
subchannel 5. On the contrary, the other two mobile stations
receive a very good channel quality in in subchannel 5 and
receive a very poor channel condition in subchannel 1. Then
we may need 6 slots to multicast 432 bits (432/72=6) to these
four mobile stations by using either subchannel 1 or 5. And if
we divide them into two delivery multicast groups in separated
subchannels, subchannel 1 and 5, respectively, then it will
only need four slots, two for each delivery multicast group
(432/216-2), by using 64 QAM 3/4.
Table I Spectrum Efficiency v.s. Modulation Coding Schemes
Index Modulation Coding rate Bit/
slot
SNR
(db)
1
QPSK
1/2 48 5
2 3/4 72 8
3
16-QAM
1/2 96 10.5
4 3/4 144 14
5
64-QAM
2/3 196 18
6 3/4 216 20
The proposed method separates the problem into two parts
to reduce the computing complexity. First we adopt the
delivery multicast group allocation scheme to allocate every
user to its appropriate delivery group according to individual
channel condition. Second, the SVC radio resource allocation
scheme allocates which layer should be transmitted at the
appropriate modulation-coding level for each delivery group.
For the convenience of the explanation, in addition to Table I,
we tabulate the notations used in the rest of the paper in Table
Ⅱ.
TableⅡ Notations of the Parameters Adopted
M Set of MCS threshold{5, 3, 1}
U Maximum set of marked users in one subchannel
G Set of U or A
A Set of users above specific MCS level
( , )T U R Maximum data can be carried in the subchannel
U User set
R Available resource
i Applicable MCS level
iC Slots consumed by group i
iB Bits carried per slot by i
 1971
Figure 4 illustrates the process flow of the delivery multicast
group allocation scheme. It is noted that if there is only one
user left in one delivery multicast group, the proposed scheme
will decide whether it is worthy to keep in one group alone or
to join the other group from the spectrum utilization point of
view.
A
A A
G G
G G
G G
G
Figure 4 Process flow of the delivery multicast group formation
(B) Radio resource allocation scheme for SVC traffic
The proposed scheme arranges the delivery of layered
video traffic for a delivery multicast group in its associated
subchannel(s). The purpose of the proposed scheme is to
maximize the transmission efficiency of SVC video under the
constraint that each user receives the base layer video traffic.
Therefore we first allocate radio resource to base layer traffic
by using the lowest MCS level of the users being applied in
that delivery group. And the remaining resource is assigned to
transmit the enhancement layers. As the layered video has the
layer dependency property, which means higher layer is
applicable only when lower layer is received, the resource
allocation of enhancement layer shall consider how many
enhancement layers should be transmit and which modulation
should be adopt on each enhancement layer. For the remaining
radio resource, we first calculate the maximum remaining
bandwidth by considering the maximum MCS level X of the
users in the subchannel. It is noted that only the users, who
have received the lower layer, are considered. The calculation
of the maximum remaining bandwidth is given in equation (1).
 
 
 
 
min
min min min
min
| |* * * ,when | | 1
| |* * *
, , * ,if *
0 5 | |
, ,else
,when | | >1
i i
i
i i
i i i
i
R
U C B U
C
U j C B
T U R T U N R j C R j C
j i
T U N R
U
Max
           
             


 (1)
The selection of appropriate MCS level to transmit the each
enhancement layer shall be constrained by the above maximum
remaining bandwidth and layer dependency. The objective of
our approach is to arrange as much bandwidth in each
subchannel as possible under the constraints. Hence if there is
no adequate radio resource, the proposed scheme will abort the
users owned the lowest MCS level and try to apply other users
with higher MCS level to examine whether higher system
throughput can be achieved or not. In this case some users,
with the lowest MCS level, are sacrificed. The procedure of the
proposed radio resource allocation scheme for SVC traffic is
provided in Figure 5. Steps 2 and 3 allocate radio resource to
transmit base layer to all users by using the lowest MCS level
to guarantee basic video quality. The divide and conquer
algorithm is adopted from step 4 to 6 to obtain the maximum
data volume of enhanced layers can be allocated in the
subchannel constrained by the remaining radio resource. The
proposed scheme obtains the sub optimal solution under the
computing complexity constraint.
Figure 5 Procedure of radio resource allocation scheme for SVC traffic
IV. EXPERIMENTAL SIMULATIONS
In order to illustrate the performance of the proposed
algorithm, exhaustive simulations were carried out to examine
the throughput and the consumed radio resource. The
parameters used in simulations are listed in Table III. The BS
is assumed to be located at the center of the cell and 50 MSs
are uniformly distribution in the cell. The channel condition of
each MS will change from frame to frame.
 1973
for the users with different QoS demand. And this is one of our
on-going works.
REFERENCES
[1] H. Schwarz, D. Marpe, and T. Wiegand, “Overview of the Scalable
Video Coding Extension of the H.264/AVC Standard”, Circuits and
Systems for Video Technology, IEEE Transactions on, Vol. 17, No. 9,
pp. 1103-1120, Sept. 2007.
[2] P802.16Rev2/D8, ” DRAFT Standard for Local and metropolitan area
networks Part 16: Air Interface for Broadband Wireless Access
Systems” Dec. 2008.
[3] J. She, F. Hou, P. H. Ho, and L. L. Xie, “IPTV over WiMAX: Key 
Success Factors, Chalenges, and Solutions”, IEEE Communication 
Magazine, Vol. 45, No. 8, pp. 87-93, Aug. 2007.
[4] Y. Xiao, X. Du, J. Zhang, F. Hu and S. Guizani, “Internet Protocol 
Television (IPTV):The Killer Application for the Next-Generation
Internet”, IEEE Communication Magazine, Vol. 45, No. 11, pp. 126-
134, Nov. 2007.
[5] W.H. Kuo, T. Liu and W. Laio, “Utility-Based Resource Allocation for
Layer-Encoded IPTV Multicast in IEEE 802.16 (WiMAX) Wireless
Networks”, Communications IEEE International Conference on, pp. 
1754-1759, June 2007.
[6] R. G. Cheng, W. J. Wang and C. L. Chu, “Dynamic Rate Adjustment 
(DRA) Algorithm for WiMAX Systems Supporting Multicast Video
Services”, Lecture Notes in Computer Science, pp. 379-388, 2007.
[7] H. Y. Chi, C. W. Lin, Y. C. Chen and C. M. Chen, “Optimal Rate 
Alocation for Scalable Video Multicast over WiMAX”, Circuits and
Systems, ISCAS IEEE International Symposium on, pp. 1838-1841,
May 2008.
[8] Y. W. Chen, Y. Y. Chu, and Y. B. Yu, “A Hybrid UplinkTraffic
Scheduling in IEEE 802.16 Network”, accepted and to be published in
IEEE VTS APWCS 2010, May, 2010.
 1975
 A Study of Applying SIP Mobility in Mobile WiMax Network Architecture 43 
The WiMax Forum Network Working Group proposed the client based and proxy 
based Mobile IPv4 (MIPv4) and Mobile IPv6 (MIPv6) to cooperate with existing link 
layer mobility. However, the mobile node shall be equipped with mobile IP capability 
to retain the connectivity at network layer. Basically, it is not practical to assume that 
each mobile device could support mobile IP capability in real environment. Because 
the network layer function always tightly coupled with the software kernel in most 
mobile devices and it is not easy to be designed by most people. Therefore, providing 
handoff capability at application layer may be an alternative way to achieve it without 
changing network protocol.  The Session Initiation Protocol (SIP) [5] is basically a 
user based mobility approach. The user identification, or alias, is the key to maintain 
the service connectivity and the IP mobility is not essential. By registering the current 
location (e.g. IP address) of the user identification at the SIP server, other user can 
easily query user location at the SIP server and communicate with user in a peer to 
peer manner. Furthermore, the re-invite procedure provides the user to inform user 
peer of location change during movement. However, as SIP is the application layer 
protocol, the SIP based mobility cannot improve the performance of latency and 
packet loss suffered from connection handoff [6, 7]. If using the soft handoff 
approach, which establishes the new connection before breaks the old connection, it is 
helpful to improve the performance of latency. 
In this paper, we adopt the hybrid SIP and anchor based scheme as the basic 
concept for soft handoff and propose the back-to-back user agent (B2BUA) at ASN 
node, named as B2BUA-ASN node, as a proxy role to send invite and the re-invite 
message to CN to achieve handoff efficiently. A B2BUA is a logical network entity in 
SIP environment. It can receive the UAC message and use the Call Control Logic to 
transmit the other UA. The B2BUA can initiate the new call and modify the SIP 
message. Thus, the mobile node can be mobile IP unaware in the B2BUA-ASN node.  
In addition, as the ASN node also plays the role of anchor point for connection 
handover [8, 9, 10], the B2BUA-ASN node can consider the traffic condition to 
decide whether the handover connection is ASN anchored or not in a heuristic manner 
so that the network resource can be more effective utilized. This paper studies the 
operational scenario of B2BUA-ASN based on the existing WiMax handover 
procedure.  
2   Overview of Mobility Management and Related Works 
The mobility management is one of the important and critical issues in the wireless 
network environment. Because it covers several protocol layers and network 
interfaces. And the handoff performance is measured by several criteria. Generally, 
the handoff latency and packet loss during handoff are the performance indexes that 
are frequently analyzed. It is noted that the network load, including the network node 
and the link bandwidth, shall be considered in handoff. The WiMax forum defines a 
system wide architecture with several reference interfaces. And the layer 2, link layer, 
mobility has several scenarios and may occur at each reference interface as shown in 
Figure 1. 
 A Study of Applying SIP Mobility in Mobile WiMax Network Architecture 45 
z Network layer (CMIP, PMIP) 
CMIP is used in the standard (RFC-3344) of the Mobile IP technology. The MN 
must support Mobile IP functionality. When MS discovered that they have moved, 
they will use the Mobile IP technology to update the network status. Proxy Mobile IP 
(PMIP) provides mobility support without change these devices network layer 
protocol. It is used in WiMAX, 3GPP and 3GPP2 architectures. PMIP network is the 
Network infrastructure help MN achieve the purpose of MIP. The MN doesn’t need to 
have the MIP ability, simply follow the original usage of the network (such as DHCP 
agreement), PMIP include a MAG (Mobility Access Gateway) into the Mobile IP 
architecture which interacts with the HA and the LMA (Local Mobility Anchor) is on 
behalf of the Mobile Node.  MAG is an element on an access router that manages the 
mobility for a MS. LMA is the home agent for the MS in PMIP.  
 
z Application Layer (SIP) 
The SIP is an application-layer protocol, which is used in establishing and tearing 
down voice or video calls. SIP has high flexibility and high extension advantages. SIP 
supporting VoIP mobility is more important increasingly and supports four mobile 
Mechanisms: 
1. Terminal mobility: Allow terminal device can move different domain or 
subnet. To ensure the packet can still deliver correctly, or the device can 
maintain the current participants of the session. 
2. Session mobility: Allow the user switch to different terminal device during the 
SIP session, but the user is still able to maintain call quality keep the 
connection.  
3. Personal mobility: Allow different terminal devices can use the same SIP 
address or a terminal device can use multiple SIP addresses at the same time. 
For Example: a SIP user can use one SIP URI to register the PC and mobile 
phone, users can only remember the URI. 
4. Service mobility: Allows the user switches in different network, different 
network devices, different Internet service is still able to retain the original 
services. 
The paper presented SIP mobility is Terminal Mobility. SIP (Terminal) Mobility 
Allow terminal device can move different domain or subnet. So the user can use the 
re-invite method to ensure the packet can still deliver correctly, or the device can 
maintain the current participants of the session. 
Although, PMIP is the network-based approach to help MS achieve the purpose of 
IP mobility and the MS doesn’t need to have the MIP ability. But not all network 
infrastructures will support PMIP. It is depend on operator. When using the VoIP 
application, we must use the SIP to initialize communication and we find the SIP 
mobility is an application layer protocol. The advantage of SIP mobility is the 
network protocol of MS and network do not require any modification and it can be 
deployed on the network fast and easily. SIP register approach is similar to MIP 
approach. But in SIP register approach, the MS does not need fix HoA. 
Consequently, we propose a combing the ASN, CSN Anchor and SIP Mobility and 
also builds the B2BUA component into the existing WiMAX architecture to 
overcome existing drawbacks. 
 A Study of Applying SIP Mobility in Mobile WiMax Network Architecture 47 
 
Fig. 3. Network assistance SIP mobility in WiMAX network with B2BUA 
Without network layer capability, the MS will initiate SIP re-invite procedure 
when it moves to the other routing domain and receives a new IP address through the 
DHCP server. The MS is only notified of the new IP address, however, the network 
layer will not report the CoA to its correspondent node due to lack of MIP capability. 
Instead, the MS will send the re-invite message to its peer, i.e. the B2BUA, for the 
new IP address. As the layer 2 handoff shall occur when the routing domain changes. 
Therefore, the cross layer handoff decision will be considered at the ASN GW. Upon 
the receipt of the re-invite message, the ASN GW can either decide ASN anchor 
mobility without resend the re-invite message to the correspondent SIP client or 
resend the re-invite message to the correspondent SIP client for SIP mobility. If the 
ASN anchor mobility is taken, there will be no change at the correspondent SIP client, 
only the layer 2 handoff will occur between the moving MS and the ASN GW. In this 
case, the path between the correspondent SIP client and the previous ASN GW keeps 
the same and a tunneling data path will be established at R4 interface (i.e. between the 
previous ASN GW and the serving ASN GW). On the contrary, if SIP mobility is 
taken, the B2BUA at the serving ASN GW will send the re-invite message to the 
correspondent SIP client to report the new IP address. In this case, R3 interface 
mobility occurs and the tunneling data path is not necessary. Thus, the B2BUA has 
the flexibility to trade off the routing path during handoff. 
The handover decision proposed in WiMax Stage 2/3 documents [11, 12] is to 
make the ASN Anchored Mobility first, and then the CSN Anchored Mobility. The 
reason is ASN Anchored Mobility doesn’t change IP, so it can complete the handover 
fast and reduce the handover latency. However, the ASN Anchored Mobility must 
establish the tunnel between previous (old) ASN-GW and the serving (new) ASN-
GW. It increases the ASN-GW loading and the packet of tunnel overhead. If the MS 
moves far away the Anchor ASN-GW, it will cause a longer tunneling path and 
increase the transmission overhead. Regarding CSN Anchored Mobility (i.e. without 
tunneling path), its obvious advantage is to reduce the network resource as well as the 
 A Study of Applying SIP Mobility in Mobile WiMax Network Architecture 49 
 
Fig. 4. The simulation architecture 
the mobility related parameters are listed in Table 2. The simulation results of the 
proposed hybrid ASN+SIP scheme is compared with the drastic algorithm, which 
ignores the link loads and adopts either the ASN anchored Mobility (ASN only) or 
SIP Mobility (SIP only), to illustrate the performance of our approach. 
 
Fig. 5. Top view of the simulation environment 
 A Study of Applying SIP Mobility in Mobile WiMax Network Architecture 51 
 
Fig. 6. Experiment 1 simulation results (unlimited R1 bandwidth) 
z Experiment 2: 
In this experiment, we constrain the R1 interface capacity to be 100Mbps and the 
mean bandwidth of each MS requested varies from 1 to 6 Mbps. The main reason of 
reduce the mean load of each MS is due to the limited bandwidth in air interface. The 
other simulation parameters are the same as in experiment 1. The purpose of this 
experiment is to investigate whether the limitation on the R1 capacity affects the 
performance for those schemes or not. The simulation results of the three schemes are 
illustrated in the Figure 7. 
 
 
Fig. 7.  Experiment 2 simulation results (R1 bandwidth=100 Mbps) 
Figure 7 shows that the dropping rate of the ASN only scheme still much higher 
than the SIP only and the proposed ASN+SIP schemes. Compared with Figure 6 for 
the mean load of 6 Mbps, the dropping rates of the SIP only and ASN+SIP schemes 
approach 0 in experiment 1 and it is about 3% in experiment 2. However, the 
dropping rate of ASN only scheme increases from 10% to 15%. It indicates that 
although the R1 capacity affects the dropping rate, however, the dropping rate will 
increase dramatically if the selection of R3 and R4 interfaces for the handoff 
connection is not properly considered.  
 A Study of Applying SIP Mobility in Mobile WiMax Network Architecture 53 
5. Handley, M., Schulzrinne, H., Schooler, E., Rosenberg, J.: SIP: session initiation protocol. 
Request for Comments (Proposed Standard) 2543, Internet Engineering Task Force 
(March 1999) 
6. Wedlund, E., Schulzrinne, H.: Mobility Support Using SIP. In: Proc. 2nd ACM/IEEE Int’l. 
Wksp. Wireless and Mobile Multimedia (August 1999) 
7. Nakajima, N., Dutta, A., Das, S., Schulzrinne, H.: Handoff delay analysis and 
measurement for SIP based mobility in IPv6. In: ICC 2003, Communications (May 2003) 
8. Chen, Y.-W., Huang, M.-J.: Study of Heuristic MAP Selection and Abstraction Schemes 
with Load Balance in HMIPv6. Wireless Personal Communications, on-line version 
(2010), doi: 10.1007/s11277-009-9854-5 
9. Hsieh, F.-Y., Chen, Y.-W., Wu, P.-W.: Cross Layer Design of Handoffs in IEEE 802.16e 
Network. In: 2006 International Computer Symposium Conference, January 29 (2007) 
10. Ke, S.-C., Chen, Y.-W., Hsu, S.-Y.: A Performance Comparison of Inter-ASN Handover 
Management Schemes over Mobile WiMAX Network. International Journal of Wireless 
Communications and Networking (IJWCN), 75–85 (June 2009) 
11. WiMAX Network Architecture –Stage 2 – Release 1.1.0, WiMAX Forum (July 2007)  
12. WiMAX Network Architecture –Stage 3 –Release 1.1.0, WiMAX Forum (July 2007) 
表 Y04
筆者於會議結束後隔天搭機返國，但因班機銜接關係，需在廣州過一夜才轉機回台。
二、 與會心得
此次非常感謝在國科會之經費補助能參與此次第三屆WiMOA國際學術研討會，本會議
規模不大，但主題明確，研究成果上也強調實務的重要性，與會者互動熱絡。杜拜是
一很特別的地方，聽與會的當地人說，杜拜發現的兩件大事：一是發現他們地底有石
油；另一是發現石油快用完了，因此當地政府需在這兩項限制下規劃國家之發展，因
而，禁止外國移民、禁止外國人持有房地產、及提供免稅遂成為其重要策略。
三、 建議
一般而言，中小型學術研討會比較能對特定主題有較深入的討論，也有較多時間和與
會學者互動，感覺頗為溫馨且紮實。另外，到一些比較有特色的國家參加研討會，能
更深入瞭解當地學者不同的做學問態度及文化，也是另一番收穫。
四、 攜回資料名稱及內容
本次大會會議論文集、近期論文徵稿傳單
五、 其他
本人發表之論文附錄如後 (因大會論文集 PDF File Size太大，故採用原文)。會後大會的 Chair
希望筆者將原會議論文再補充更完整之內容，邀請在 International Journal of Wireless and
Mobile Networks (IJWMN)發表。
表 Y04
is helpful to improve the performance of
latency.
In this paper, we adopt the hybrid SIP and
anchor based scheme as the basic concept for
soft handoff and propose the back-to-back user
agent (B2BUA) at ASN node, named as
B2BUA-ASN node, as a proxy role to send
invite and re-invite message to CN to achieve
handoff efficiently. A B2BUA is a logical
network entity in SIP environment. It can
receive the UAC message and use the Call
Control Logic to transmit the other UA. The
B2BUA can initiate the new call and modify
the SIP message. Thus, the mobile node can be
mobile IP unaware in the B2BUA-ASN node.
In addition, as the ASN node also plays the role
of anchor point for connection handover, the
B2BUA-ASN node can consider the traffic
condition to decide whether the handover
connection is ASN anchored or not in a
heuristic manner so that the network resource
can be more effective utilized. This paper
studies the operational scenario of
B2BUA-ASN based on the existing WiMAX
handover procedure.
The paper is organized as follows. We explain
the mobility management and related works in
the following sections. In the section 3, we
propose the integrating the WiMAX mobility
and SIP mobility procedure by using the
B2BUA concept and one heuristic algorithms is
proposed and analyzed. The experimental
results are provided and analyzed in the section
4. Finally, the last section concludes the
research of this paper.
2. Overview of Mobility Management and
Related works
The mobility management is an important and
critical issue in the wireless network
environment. In addition to the link layer
handoff, the WiMAX end to end architecture
[10, 11] also defines the network layer
mobility.
 Link Layer Mobility (CSN/ASN
anchor)
In the WiMAX network architecture, it
proposes two scopes of mobility. One is ASN
anchored mobility and the other is CSN
anchored mobility.
ASN anchored mobility refers to a set of
procedures associate with the movement
between two BSs. The target BS can be in the
same ASN or in a different one. The anchor
ASN remains identical during ASN anchored
mobility. ASN anchored mobility takes place
when the MS moves to a neighboring BS that
connects to a different ASN GW, which may be
within the serving ASN or not. If the target BS
belongs to a different ASN, the target ASN-GW
will establish a R4 data path to the anchor ASN.
Then the MS can avoid data loss and the QoS
could also be guaranteed. During the ASN
anchored handoff procedure, the MS does not
change its CoA. For ASN anchored mobility,
traffic to the MS comes from the anchor ASN.
CSN anchored mobility involves in anchor
ASN relocation, which means anchor ASN is
changed after CSN anchored mobility. After
CSN anchored mobility execution, MS will
update its CoA to the target ASN. The CoA
renewal process uses Client MIPv4 (CMIPv4)
or Client MIPv6 (CMIPv6) or Proxy MIPv4
(PMIPv4) protocol. And the network will
trigger the data path function relocate so that
the CSN will directly transmit the data to the
target ASN. The Target ASN-GW is now
become the anchor ASN-GW and serving
ASN-GW to the MS. The procedure is known
as R3 re-anchoring, because the traffic to MS
comes from the new anchor point, which is a
new R3 link. When CSN anchored mobility is
executed, it is involved in CoA update. ASN
Anchored Mobility prior to the CSN anchored
mobility minimizes the handoff delay and
packet loss.
 Network layer (CMIP, PMIP)
CMIP is used in the standard (RFC-3344) of
the Mobile IP technology. The MN must
support Mobile IP functionality. When MS
discovered that they have moved, they will use
the Mobile IP technology to update the network
status.
Proxy Mobile IP (PMIP) provides mobility
support without change these devices network
layer protocol. It is used in WiMAX, 3GPP and
3GPP2 architectures. PMIP network is the
Network infrastructure help MN achieve the
purpose of MIP. The MN doesn’t need to have
the MIP ability, simply follow the original
usage of the network (such as DHCP
agreement), PMIP include a MAG (Mobility
Access Gateway) into the Mobile IP
architecture which interacts with the HA and
表 Y04
ASN component as shown in Figure 2. The
B2BUA acts as a UA point of the
correspondent node as well as a UA end point
of the MS.
Figure 2. Network assist SIP Mobility in WiMAX
Architecture
Without network layer capability, the MS
will initiate SIP re-invite procedure when it
moves to the other routing domain and receives
a new IP address through the DHCP server. The
MS is only notified of the new IP address,
however, the network layer will not report the
CoA to its correspondent node due to lack of
MIP capability. Instead, the MS will send the
re-invite message to its peer, i.e. the B2BUA,
for the new IP address. As the layer 2 handoff
shall occur when the routing domain changes.
Therefore, the cross layer handoff decision will
be considered at the ASN GW. Upon the receipt
of the re-invite message, the ASN GW can
either decide ASN anchor mobility without
resend the re-invite message to the
correspondent SIP client or resend the re-invite
message to the correspondent SIP client for SIP
mobility. If the ASN anchor mobility is taken,
there is no change at the correspondent SIP
client, only the layer 2 handoff occurs at the
moving MS and a tunneling data path is
established at R4 interface. XXXX In this
conditionSo, the B2BUA can help the MS
register to the SIP Server and record invite
message to provide re-invite message
processing. Because the initial service flow can
transmit SIP message, the MS can make
register processing early.
The selection of handover in WiMAX Stage
2/3 documents [10, 11] suggests making the
ASN Anchored Mobility first, and then making
the CSN Anchored Mobility. The reason is
ASN Anchored Mobility doesn’t change IP, so
it can complete the handover fast and reduce
the handover latency. However, the ASN
Anchored Mobility must build the tunnel
between old ASN-GW and new ASN-GW. So it
increases the ASN-GW loading and the packet
of tunnel overhead. If the MS move far away
Anchor ASN-GW, it will cause the tunnel too
long and handover latency too much.
Regarding CSN Anchored Mobility, the
advantage is the ASN-GW doesn’t increase 
additional loading. But the disadvantage is the
MS need more time to handover. Our propose
SIP Mobility belong to R3 Re-anchor, so it suit
in WiMAX Stage 2/3. Avoiding packet loss
when we transmit the re-invite message, we
must make ASN Anchored Mobility first, and
then make the SIP Mobility.
Therefore, we use the Network Assist SIP
Mobility and ASN Anchored Mobility
alternately to balance the core network loading.
Due to the R3 and R4 make handover element
decision in the ASN and the MS don’t know the 
R3 and R4 condition, so MS can’t decide to 
transmit re-invite message in SIP Mobility.
Therefore, we don’t use SIP Mobility in the 
condition.We base on the Figure 3 to illustrate
handover decision.
Figure 3. HO Decision flow chart
The handover decision is shown as follow
1. When the MS moves or stays in poor signal
condition, that will let the MS decide the
handover. The MS makes the 802.16e
handover function decision, if the MS
表 Y04
Lower Bound : 3 second
Max Retry 3
Retry Interval 200ms
Model Random Waypoint Mobility
Threshold 80%
In these parameters, the Halt time does not
mean the MS stays on the BS; it means MS
continue moving the same direction and speed.
We select 15 sec to do mean value and use the
exponential distortion to decide the time and 3
sec is min time and 30 sec is max time. When
MS detect a good signal that is better than
serving BS and continue the 10 frames it will
trigger the MS to handover.
In our simulation, MS request bandwidth is
very important. When MS request more and
more bandwidth, the core network loading is
very heavy and the dropping rate will up.
Therefore, the follow experiment is to observe
when the MS request bandwidth that will affect
the dropping rate.
 Experiment1:
We put 100 MSs in the simulation area
randomly and set the MSs to obey the Random
Waypoint Mobility Model moving and set R1
capacity is unlimited that avoid R1 capacity is
too small to drop the MS. Subsequently, we fix
the core network bandwidth capacity of R3 and
R4. They are 15Mbps and 200 Mbps separately.
In our simulation topology, because one
ASN-GW connects six ASN-GWs, the R4 of
ASN-GW total bandwidth is 90 Mbps. Every
MS request bandwidth mean load is between 1
and 13Mbps, using Gaussian Distribution,
Standard deviation is one, and frame duration is
5ms. We record dropping rate from MS request
bandwidth 0.5 to 6.5Mbps. The simulation is
illustrated in the Figure 6.
Figure 6 Experiment 1 Result
In the Figure 6, we can realize the dropping
rate of core network uses ASN Anchored
Mobility is the highest. The R4 bandwidth
capacity is only 15 Mbps, so if four MSs attach
any ASN-GW and use ASN Anchored Mobility
simultaneously, it will overload the R4
bandwidth capacity and MSs will be dropped.
In the others algorithm, because all MSs can
use R3 bandwidth of ASN-GW, when the MS
Mean load is over 9Mbps, it will increase
dropping rate. So we discuss the how do R1
bandwidth capacity effect the dropping rate in
the follow experiment.
 Experiment 2:
We use some assumptions are the similar to
experiment 1, but we fix R1 bandwidth
capacity is 100Mbps and we record dropping
rate from MS request bandwidth 1 to 6Mbps.
The simulation is illustrated in the Figure 7.
Figure 7. Experiment 2 Results
In the Figure 7, we realize the dropping rate
rise early, expect ASN Anchored Mobility.
When the MS mean load over 9 Mbps, it will
increase the dropping rate. And the MS mean
load over 3 Mbps, it will increase the dropping
rate slowly. Because the R1 bandwidth capacity
is not enough, most MSs were dropped .The
SIP Mobility, ASN Anchored Mobility combine
the SIP Mobility algorithm 1 and ASN
Anchored Mobility combine the SIP Mobility
algorithm 2 can’t balance core network loading 
helpfully. In the ASN Anchored Mobility,
because the R4 bandwidth capacity is only
15Mbps, so the R4 bandwidth capacity is
exhausted. However the R1 bandwidth capacity
is enough, it will increase dropping date when
MS Mean load is over 2 Mbps. In the above
experiments, we can realize BS bandwidth
capacity influence the dropping rate except
ASN Anchored Mobility.
5. Conclusion
The paper presented SIP Mobility in the
WiMAX, which can improve MIPv6 and
MIPv4 drawbacks, such as triangle routing,
handover latency, signaling overhead and the
國科會補助計畫衍生研發成果推廣資料表
日期:2011/09/05
國科會補助計畫
計畫名稱: 子計畫一：異質無線網路之群播換手技術及其測試環境之建置(I)
計畫主持人: 陳彥文
計畫編號: 99-2221-E-008-005- 學門領域: 訊號處理
無研發成果推廣資料
其他成果 
(無法以量化表達之成
果如辦理學術活動、獲
得獎項、重要國際合
作、研究成果國際影響
力及其他協助產業技
術發展之具體效益事
項等，請以文字敘述填
列。) 
1. 協助辦理 IEEE APNOMS 2011 國際研討會，擔任 Tutorial Co-Chair 
2. 擔任經濟部 SBIR 產學申請案主審 
 成果項目 量化 名稱或內容性質簡述 
測驗工具(含質性與量性) 0  
課程/模組 0  
電腦及網路系統或工具 0  
教材 0  
舉辦之活動/競賽 0  
研討會/工作坊 0  
電子報、網站 0  
科 
教 
處 
計 
畫 
加 
填 
項 
目 計畫成果推廣之參與（閱聽）人數 0  
 
