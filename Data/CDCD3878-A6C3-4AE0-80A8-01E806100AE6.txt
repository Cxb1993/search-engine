考慮服務品質的多重群播樹配置問題之最佳化規劃(II) 
 
中文摘要 
 
所謂的群播為一種從一個節點僅需發送一份訊息即可傳送到一個以上的接收端的能
力。當今多媒體應用皆需要滿足一定的服務品質(QoS, Quality of Service)，而且在實際的網
路使用中，在同一時間內不會只存在單一個需要群播服務的多媒體應用，而是同時存在多
個要求群播服務的多媒體應用，此時在網路上有限的頻寬資源下就會造成頻寬資源的競
爭。因此，如何對每個要求 QoS的群播多媒體應用建立其所需要的群播樹，而不會有任何
一個群播多媒體應用因為頻寬不足而被拒絕，並且達到建構出的所有群播樹的總成本總和
能夠最小化的目標，將是一個非常重要的網路規劃課題。本研究主要針對同時建構多個群
播樹的群播樹配置的問題，並且考量傳送路徑上的頻寬容量和延遲時間等 QoS的限制，以
最小化所有群播樹的總成本總和為目標式，發展有效的啟發式求解方法，來建構最佳或是
近似最佳的一組群播樹，期望能夠有效的使用網路頻寬資源和滿足每個多媒體應用對於
QoS的需求。 
 
關鍵詞：群播、服務品質、群播樹配置 
 
 
The Optimal Planning for the QoS-based Multicast Tree Packing Problem(II) 
 
Abstract 
 
Multicast technology can support the source node to send only one copy of message to all 
the destination nodes. Nowadays, the multimedia services have to satisfy the certain level of 
Quality of Service(QoS). Since there are many requests of the multicast multimedia service at the 
same time in the actual networks, the bandwidth competitions among the multicast services will 
occur. Hence, it becomes a very important network planning issue that how to construct the 
multicast trees with the objectives of minimizing total costs of those trees for multicast 
multimedia service requiring QoS and without the denials of some multimedia services because 
of the bandwidth exhausted of the networks. We investigate the problem of deployments and 
constructions of the multiple multicast trees. The problem is formulated as the mathematical 
model with the objective function of minimizing total costs of all the multicast trees under the 
constraints of bandwidth and delay QoS requirements on the transmission paths. The goal of this 
study is to propose a heuristic algorithm with the capability of finding the optimal or near optimal 
solutions of the problem. Thus, network bandwidth resources can be more efficiently used and 
QoS requirements of each multimedia service can be satisfied. 
Keywords: Multicast Tree; Quality of Service; Multicast Tree Packing   
 
I
有關於建構一個僅單純具有最小鏈路總成本的群播樹問題已是屬 NP-Complete 的問題
[1]，若再把 QoS 需求限制(如延遲時間)加入到起始節點到每個接收節點的路徑上，將亦是
屬於 NP-Complete的問題[2]。為了建立群播通訊，必須建構群播樹，在所有群播路徑問題
的相關研究上，目標式通常都專注於最小化群播樹上所有鏈路的總成本，所考慮的限制分
為兩種： 
1. 鏈路限制：限制鏈路用於路徑的建構上。 
2. 樹狀限制： 
(1) 限制群播樹中由起始點到每個接收點個別路徑上權重值的加總。 
(2) 限制群播樹中由起始點到任兩個接收端點的路徑上權重值加總值之間的差異。 
有關群播樹的建構，可藉由群播路由演算法的運用來進行建構，而群播路由演算法主
要可以分為三類： 
1. 最短路徑樹演算法(Shortest Path Tree Algorithms): 
建構最小化個別的起始點到接收點間路徑上所有鏈路權重總和的群播樹。常用的求解
方式有 Bellman-Ford演算法和 Dijkstra演算法。 
2. 最小成本樹演算法(Minimum Cost Tree Algorithms): 
目標式為最小化整個群播樹所包含之鏈路權重總和，且依據其所包含節點的限制可分
為最小展開樹演算法和最小 Steiner樹演算法兩種。 
3. 限制樹演算法(Constrained Tree Algorithms): 
目標式為最小化整個群播樹所包含之鏈路權重的總和，並且要求每條由起始點到接收
點的路徑上所有鏈路權重的總和需滿足一特定的限制。 
在真實世界中，不會只存在單一的群播服務，通常多個要求群播服務的多媒體應用會
同時發生，對於每個多媒體應用都必須建構其用以傳播的群播樹。然而，在我們的網路環
境中所提供頻寬資源並不是無限的，所以在建構每個群播樹時會發生頻寬資源互相競爭排
斥的現象，因此，在建構每個群播樹時，必須彼此互相協調以符合網路上每條鏈路所能提
供頻寬容量的限制，期望所有建構出來的群播樹總成本總和能夠最小化。所以，當多個群
播多媒體應用同時對於網路提出頻寬需求且有所競爭時，如何讓每個群播多媒體應用成功
的建立其群播樹，並且所建構出來的群播樹的總成本總和能夠達到最小化，將是一個非常
重要的問題。 
在建構多重群播路徑的問題中，根據每個要求群播服務的應用所包含起始節點和接收
節點群組，依性質的不同，可分為三類： 
1. 群播資訊流分佈問題: 
在群播資訊流分佈問題中，每個群播服務的起始點皆相同，但其所包含的接收點可能
不同[6-7]。在此問題中，建構一個起始點專屬群播樹以將資訊群播傳送至同屬於相同群播
群組的所有接收節點；對於雖屬相同起始節點卻不屬於相同群播群組的其他接收節點，則
必須額外建構其起始點專屬群播樹。 
2. 群組群播路徑問題(Group Multicast Routing Problem): 
在群組群播路徑問題中，每個群播服務所包含的群播群組相同，且群播群組中的節點
同時為起始點和接收點[2][5][8-9]。在此問題中，必須為每個群播群組中的成員建構其個別
的專屬群播樹，所以，整個問題中必須個別建構起始點和每個接收點的專屬群播樹，做為
個別的群播群組成員所獨立使用。 
3. 群播樹配置問題(Multicast Tree Packing Problem): 
在群播樹配置問題中，每個群播服務所包含的群播群組不一定相同，即其起始點與接
2
 
目標函式(1)為最小化所有群播樹的成本總和，函式(2)確保單一路徑都是由起始節點到接收
節點，函式(3)確保鏈路上的頻寬使用量不會超過頻寬容量上限，函式(4)確保群播樹上從初
始節點到所有個別接收節點路徑上的延遲總和不會超過延遲需求，函式(6)和(7)則限定 
xktij 、 ytij為0-1的變數。 
4.3單一群播樹演算法 
 本研究對於單一群播樹的建構方法採用文獻[1]所提出的塔布搜尋(Tabu Search)演算法
來對群播樹求解，其主要流程如圖1所示。 
 
開始
尋找初始解
找到之可行解是否
存在塔布表單內
接受移動，更新最佳
解、塔布表單
可行解是否符
合免禁準則
結束
初始化塔布表單
是
否
否
是
找尋可行解
Iteration<500
否
是
為目前解建立鄰近
解
 
 
圖1. 單一群播樹求解流程圖 
 
4.4群播樹配置演算法 
同時存在多個群播樹的問題中，起始節點、接收節點和路徑都有可能會重複，加上網
路的頻寬資源有限，為了成功建立每個群播樹，正常的情況下一定會發生網路頻寬競爭的
問題，所以在群播樹配置的問題上必須加上頻寬競爭時群播樹之間頻寬協調的機制。 
本研究對於群播樹配置問題提出 TS-MTP演算法(Tabu Search Based Multicast Tree 
Packing Algorithm)，其主要流程如圖2所示，詳細步驟說明如下： 
步驟一：建構初始解和初始Es集合 
對於網路拓樸中存在的群播樹建構個別的群播樹，彙整檢查後找出所有頻寬不足的鏈
路，並存入鏈路集合Es中。 
步驟二：利用塔布演算法替頻寬不足的群播樹找尋新路徑 
4
而完成建構。 
4.5 實驗設計與分析 
本研究主要針對群播樹配置的問題，在各種不同的網路環境下，驗証本研究所提出
TS-MTP演算法的求解表現。實驗所考量的網路環境分為網路拓樸節點數為10、12、15的小
型網路問題與網路拓樸節點數為20、30、40、50的大型網路問題兩組，將分別使用LINGO
軟體與TS-MTP演算法對群播樹配置問題求解，然後比較LINGO軟體與TS-MTP演算法的求
解品質和求解時間，驗證TS-MTP演算法的求解效率和正確性。 
在這個實驗當中，所採用的網路拓樸模型是隨機產生[2]，網路當中，兩點之間的鏈結
連接率所採用的函式為P((u, v))=βexp (-d(u, v)/αL )，其中d(u,v)為u節點與v節點兩點間的距
離，L為任兩點間最大的距離，α、β為(0,1]之間的實數。u，v兩點間的鏈路頻寬設定方式為
B(u,v)=B0+r(-1)k mod B0，其中B0為主要頻寬值，r、k為隨機產生的整數，k為0或1，而u，v
兩點間延遲設為(u, v)=d(u, v)*δ+1，其中δ為[0,1]之間隨機產生的浮點數，u，v兩點間的成
本則設為兩點間的距離d(u, v)。在這個實驗當中，分別把α、β、B0設為0.3、0.25、20[11]，
實驗問題設計如下： 
(1)網路拓樸節點數分別為10、12、15個節點的小型網路問題和20、30、40、50個節點兩
個群組大型網路問題兩組。 
(2)對於網路拓樸節點個數為10、12、15個節點的小型網路問題，每個群播樹接收節點個
數分別設定為2、3、4、5，而群播樹的個數等於群播樹接收節點的個數。 
(3) 對於網路拓樸節點個數為20、30、40、50個節點的大型網路問題，每個群播樹接收
點個數分別設定為2、3、4、5、6個，而群播樹的個數設定為2、4、6、8、10個。 
針對小型網路問題與大型網路問題，比較當網路拓樸節點數不同時，使用LINGO與
TS-MTP演算法求得的成本差距和求解時間差異，以驗證TS-MTP演算法求解的有效性與求
解效率。所謂的差距定義為： 
差距=
Z
ZZ
LINGO
LINGOTS −  
 
其中，ZTS代表利用TS-MTP演算法所求得的所有群播樹總成本，ZLINGO代表利用LINGO所求
得的所有群播樹最佳解總成本。當問題過於複雜而導致LINGO無法求得最佳解時，則以求
解時間達3600秒所得的Lower Bound當作ZLINGO值。 
對於小型網路問題中之不同網路拓樸大小的成本值求解結果如表1，表中顯示，在網路
拓樸為10個節點數的環境下，對於不同的群播樹個數與接收節點個數，TS-MTP演算法與
LINGO所求得的最佳解成本差距會介於0.4%~5.5%以內，可以看出TS-MTP演算法所求得的
最佳解近似於LINGO所求出的最佳解，代表TS-MTP演算法具有一定的準確性。 
 
表1. 小型網路問題的成本差距 
    n 
|V| 
2 3 4 5 
10 0.972 3.456 5.397 5.255
12 0.391 2.795 4.302 4.739
15 1.533 5.528 5.309 5.548
 
 |V|=50 11.22 9.44 11.33 7.86 11.44 
m=6 |V|=20 9.62 7.64 9.22 10.67 8.15 
 |V|=30 7.74 8.82 9.09 12.71 10.80 
 |V|=40 6.94 6.01 9.29 5.41 7.70 
 |V|=50 4.00 11.54 10.88 10.58 11.09 
m=8 |V|=20 11.52 8.66 11.71 11.23 8.88 
 |V|=30 7.37 10.95 11.18 10.08 11.11 
 |V|=40 9.34 9.90 11.80 11.46 9.92 
 |V|=50 5.84 4.67 11.43 12.30 10.31 
m=10 |V|=20 11.25 8.36 10.47 10.51 6.75 
 |V|=30 8.69 11.99 10.88 11.29 10.89 
 |V|=40 8.69 12.48 11.93 11.11 11.63 
 |V|=50 9.44 12.86 10.02 11.40 12.97 
 
 
表4. 大型網路問題的求解成功率 
    n 
  V 
2 3 4 5 6 
m=2 |V|=20 1 1 1 1 1
 |V|=30 0.9 1 0.9 0.9 1
 |V|=40 1 1 0.8 0.9 1
 |V|=50 0.9 0.9 0.8 0.9 0.8
m=4 |V|=20 0.9 1 1 1 1
 |V|=30 0.9 0.9 0.8 1 0.9
 |V|=40 0.8 0.8 0.8 0.9 0.8
 |V|=50 0.8 0.8 0.8 0.8 0.8
m=6 |V|=20 0.9 1 0.9 1 1
 |V|=30 1 0.8 0.9 0.9 1
 |V|=40 0.8 0.9 0.9 0.9 0.8
 |V|=50 0.8 0.9 0.8 0.8 0.8
m=8 |V|=20 1 1 1 0.8 1
 |V|=30 0.9 1 0.9 0.9 0.8
 |V|=40 0.9 0.8 0.9 0.8 0.8
 |V|=50 0.8 0.8 0.8 0.8 0.8
m=10 |V|=20 0.8 0.8 1 0.9 0.9
 |V|=30 0.9 0.9 0.9 0.9 0.9
 |V|=40 0.9 0.8 0.8 0.9 0.9
 |V|=50 0.8 0.8 0.7 0.8 0.8
 
7
