  
常多的傳輸線段，使得需用的電腦記憶體及
CPU 時間大幅增加。傳輸矩陣法可以有效率的
分析大型結構，然當系統整合度與操作頻率越來
越高時，這些應用等效電路模型或傳輸矩陣的方
法，就顯出其侷限性。 
由於精確的模型牽涉的自由度太過龐大，因此
現有的分析模型[11]－[14]大多是將將晶片內的
電 源 分 佈 網 絡 視 為 多 導 體 傳 輸 線 (MULTI-
CONDUCTOR TRANSMISSION LINE, MTL)結構的互
連，以等效分佈式R、L、G、C元件電路方式模
擬。這類方法雖然有其準確度與適用性，但是並
未特別針對如連通柱、導線跨接處等不連續結構
建立等效電路，所以當操作頻率越來越高時，不
連續結構處的高頻效應就會顯現，造成模擬上相
當大的誤差。而以時域有限差分法來模擬時，便
能有很好的結果，通常可以使用細線演算法來配
合FDTD使用，但因細線演算法的假設為細線在
網格的正中間，但是實際上，連通柱不一定會落
在網格的正中央，若要配合連通柱的位置，則又
需調整網格大小，便又須要耗費相當多的資源與
計算時間，對於此等問題，一般而言可使用次網
格法(SUB GRID)來修正，但次網格法容易造成數
值上的不穩定，其原因大都來自於粗細網格間的
數值射散所造成，因此在處理粗、細網面介面上
必需非常的小心。在此吾人利用時域有限體積法
(FINITE VOLUME TIME DOMAIN,FVTD)[16]-[20]來
處理此類的問題，利用FVTD 可控制網格體積大
小的概念，將網格尺寸逐步增大，最後讓FVTD
與FDTD的介面上的網格大小相同，以減少數值
射散並可與FDTD直接結合使用。另外，由於電
源網路中的連通柱數量非常的多，因此使用時域
有限體積法時所需修正的場量便非常的多，而造
成分析問題時的前置作業需要花費非常多的時
間，因此便引入模型階數減縮法(MODEL ORDER 
REDUCTION METHOD)配合形時域有限差分法將連
通柱加以模組化，再結合FDTD法，使得分析電
源網路時更加有效率。 
 
三、時域有限體積法 
 
時域有限體積法主要是將微分型式的馬克
斯威爾方程式(1)，對等式的兩邊做一體積分，
可表示成 
 
m
e
B E J
t
D H J
t
∂ = −∇× −∂
∂ = ∇× −∂
 (1) 
 
v s v
v s
Bdv n Eda J dv
t
Ddv n Hda J dv
t
m
v e
∂ = − × −∂
∂ = − × −∂
∫ ∫ ∫
∫ ∫ ∫
v
v
 (2) 
 
其中，v 為任意的體積大小， S是封閉此任意體
積的表面積，n為其表面的單位法線向量。(2)式
便是時域有限空間法的主要概念。下面介紹一種
FVTD法的網格與場量配置的方式，如圖一所
示。 
                    
        圖一、FVTD法的網格與場量配置 
 
其中 s 和 s*分別是在主(original)、副(dual)網格
上的單位向量。從圖二可將電場表示成 
 
* * * * * *
1 1 2 2 3 3( ) ( ) ( )E E s s E s s E s s= ⋅ + ⋅ + ⋅  (3) 
 
 
圖二、FVTD 法主、副網格方向的關係 
 
 2
  
空間(如，長度、面積….) 取投影量。 
 
圖五、計算 Ex、Ey示意圖 
 
如圖五，在我們的例子中Hz場均位於網格的重心
之 處 。 假 設 Hz1,Hz2 分 別 位 於 1 1 1( , , )x y z , 
2 2 2( , , )x y z 之處則Ex,Ey可由(10)求出 
 
 
, , , , 1
2 1
2 1
, , 1 , ,
2 1
2 1
( ) (
( ) (
i j k i j k
y yx z z
i j k i j k
y x xz z
H HE H H
t y y dz
E H HH H
t x x dz
ε
ε
+
+
−∂ −= +∂ −
∂ −−= +∂ −
)
)
 (10) 
 
對於 Ez，我們有特別的處理方式。基本上與 H 
場相同，對其等號兩邊取積分。則位於 Ez 附近
的 H 場  將其包圍住，形成一個副網格 (Dual 
cell) 。如圖六 
 
 
圖六、以 Ez為中心的副網格 
 
計算方式與也與H 場 類似，以圖六的例子來計
算其Ez可由(11)來求得。 
 
1 1
4 4( ( )) ( ( ))
3 3
2 2( ( )) ( ( ))
3 3
z
y x
x y
EA H dy H dx
t
H dx H dy
ε ∂ = ⋅ ⋅ − ⋅ ⋅ −∂
⋅ ⋅ + ⋅ ⋅
 (11) 
   
 
五、結果與討論 
 
吾人利用FVTD來修正圖七中電源網路的連通柱
大小並以模型階數減縮法的技術來將連通柱所需
修正的場量模組化，使分析過程更為有效率，整
個電源網路的大小為64×64×25 mm，連通柱為z 
方向，在x-z、y-z及x-y三個平面上均需修正電磁
場量，電源網路的上、下兩個基板的介電常數為
 12rε = ，厚度為10 mm，外部再利用吸收邊際
包覆於外，中間層的介電常數為  4.3rε = ，厚度
為15 ，在中間層裏有三層的傳輸線，一、二
層各有4條傳輸線，第三層有二條傳輸線，連通
柱大小為2×2×1mm，其所在位置的x-y的位置為 
(17,27) ，(17,47) ，(27,17) ，(27,37) ，(37,27) 
mm
(37,47)，(47,17) ，(47,37) ， (17,27) ，(17,47) ， 
(37,27) ，(37,47)，傳輸線的各項參數如圖八所示。
在FDTD的設計裏分別設定，△x =△y = 0.5 
mm、△z =0.5 mm ，及△x =△y = 2 mm、△z 
=0.5 mm兩種，細網格(0.5*0.5*0.5)由傳統FDTD
模擬，由上述可知，若使用粗網格的配置時，因
為連通柱的位置，無法剛好位於FDTD網格上，
所以粗網格(2*2*0.5)則利用FDTD+FVTD來模
擬，其中使用FVTD來修正連通柱不在網格內的
部份，其做法如上一節所描述。在傳輸線中的
VDD 與 Ground 間加入一阻抗性電壓源，並觀察
在位置(8mm,16mm)上的電源與觀察點間的插入
損耗(Insertion Loss)(圖八)。從圖九的插入損失
可看到，利用FVTD結合FDTD來修正連通柱因
為網格加大無法位於粗網格造成的問題，能有很
好的結果，且可節省相當多的模擬時間，利用細
網格所模擬的時間需要4小時左右，而利用粗網
格的FDTD+FVTD所需的時間僅需要6分鐘。 
 
六、成果自評 
  吾人利用 FVTD 來修正電源網路的連通
柱，讓 FDTD 所需設定的網格尺寸可以加大，
以減少分析所需的時間，再和原始的 FDTD 結
合使用，以分析電源網路中的電源切換雜訊，使
Ex 
Hz1 
Ey 
Hz2 
 
PEC Hy1 
Ez 
Hy 
Hz 
Hx 
Hx1 
 4
  
 
6
 
(a) 側視圖 
 
(b) 側視圖 
圖八、(a)電源網路側視圖及尺寸，(b)電源網路俯視
圖。  
 
 
 
0 0.5 1 1.5 2 2.5 3 3.5 4 4.5 5
-60
-50
-40
-30
-20
-10
0
10  
FDTD fine grid
FVTD+FDTD
 FDTD coarse grid
 
圖九、電源與觀測點間上的插入損耗
