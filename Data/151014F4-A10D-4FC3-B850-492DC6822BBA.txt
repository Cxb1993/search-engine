 i 
行政院國家科學委員會補助專題研究計畫
 成 果 報 告   
□期中進度報告
 
 
節能及高移動性通訊技術之研究－總計畫 
 
計畫類別：□ 個別型計畫   整合型計畫 
計畫編號： NSC 100-2221-E-006 -170 
執行期間：100 年 8 月 1 日至 101 年 10 月 31 日 
 
計畫主持人：蘇賜麟  
共同主持人：張名先、賴癸江、張志文、劉光浩、郭文光 
計畫參與人員：蔡元鈞、楊元宏、臨時工助理 
 
成果報告類型(依經費核定清單規定繳交)：□精簡報告  完整報告 
  
 
 
 
 
處理方式：除產學合作研究計畫、提升產業技術及人才培育研究計
畫、列管計畫及下列情形者外，得立即公開查詢 
          □涉及專利或其他智慧財產權，□一年□二年後可公開查詢 
執行單位：國立成功大學電機系 
 
 
中 華 民 國 101 年 12 月 20 日 
 iii 
斷機率(outage probability)之性能表現。模擬結果證明了子計畫三所提出之細
胞結構有較優之性能表現並佐證性能分析之精確度。 
3. 子計畫三也研發了結合 Relay 及頻率分配方法(frequency allocation scheme, 
FAS)之細胞結構。在這個方案中，細胞之服務範圍可粗分為內圍及外圍兩個
區域。為了服務內圍之移動基地台(MSs)以及外圍之 Relay 基地台(Relay 
station, RS)，大部分的頻寬將分配給中央基地台(base station, BS)；因而在兩
段式 Relay 的傳輸過程中，便不會受限於 BS 端至 RS 端之傳輸瓶頸效應。 
4. 同時，一對 RS 將分別配給相同頻寬並利用一半的傳輸功率(相對於傳統的非
合作式 Relay)進行合作式 Alamouti 編碼傳輸。再者，MS 可依接收訊號之品
質，選擇被中央 BS 或一對 RS 服務。總體而言，除了較低的傳輸功率以及
FAS 低干擾之特性，傳輸選擇性與多樣性可達到更高的 capacity 與更低的
outage probability。 
子計畫四: 在移動衰減通道下達成高能源效率的合作式中繼技術之研究 
針對合作式中繼技術受到移動性造成的移動衰減通道(mobile fading channel)
進行分析，評估在不精確通道資訊下的性能表現。已完成的具體成果簡述如下: 
1. 對具有多中繼站的合作式網路中，達成受限於過時通道資訊造成的性能表現
之分析。 
2. 從性能分析的結果發現若通道資訊不精確，將無法達到合作式多樣性增益
(cooperative diversity gain)，此問題在高速移動性的行動通信網路尤其嚴重。 
3. 提出一簡單方法改進效能，在最大功率的限制下，利用一固定式中繼站與移
動式中繼站以平均功率分配的方式進行合作式訊號轉傳。 
4. 完成系統數學模型的建立，以此模型對所提之方法進行效能分析，得到中斷
機率的封閉形式以及簡化的近似式，並廣泛與現有方法做比較。 
子計畫五: 移動式隨意網路的分散式節能跨層資源分配之研究 
1. 針對無線多躍式隨意網路(wireless multihop ad hoc networks)，子計畫五提出
兩個新穎的節能概念。其一、傳送端可依據無線鍊結的干擾量大小即時調整
傳送功率，在維持鍊結品質的前提下節省耗能。。其二、當通道閒置時間較
多時，節點可延長其通道佔用時間，以較低的傳送速率達成所需的吞吐量
(throughput)，藉此節省耗能。 
2. 為實現上述兩個節能概念，子計畫五提出一嶄新的QoS跨層架構，名為
Energy-Efficient Multi-Rate Power Selection (EE -MRPS)。 
3. 在EE-MRPS中，節點隨時監測通道狀況，然後動態調整其所占用的資料時
槽、傳送速率與傳送功率，以節省耗能。由於資料時槽、傳送速率與傳送功
率的調整是在無線多躍式隨意網路中執行，因此EE-MRPS包含一套完整的
分散式協調機制，以避免預期以外的干擾。 
4. 由模擬結果顯示， EE-MRPS可在不影響總吞吐量的前提下，減少20%至50%
 v 
scheme,” IEICE Trans. on Communications. vol. E94-B, no. 9, pp-2690-2695, 
Sept. 2011. 
9. Chih-Wen (Wenson) Chang and Po-Hsun Lin, “A low-interference relay 
selection for decode-and-forward cooperative network in underlay cognitive 
radio,” To appear in IEICE Trans. on Communications. vol. E94-B, no. 12, 
pp-3239-3250, Dec. 2011. 
10. Chih-Wen (Wenson) Chang “An Interference-Avoidance Code Assignment 
Strategy for the Hierarchical 2D-Spread MC-DS-CDMA System: A Prototype of 
Cognitive Radio Femtocell System,” IEEE Trans. on Vehicular Technology, vol. 
61, no. 1, Jan. 2012, pp.166-184. 
11. Chih-Wen (Wenson) Chang and Hsing-Tai Wu, “A High Capacity Cell 
Architecture Based on Alamouti Coded Relay Strategy and Frequency 
Allocation Scheme,” IEEE WCNC 2012, May 2012. 
12. K.-H. Liu, “On the performance of time-orthogonal incremental relaying based 
on demodulate-and-forward with distributed channel access,” IEEE Transactions 
on Vehicular Technology, vol. 61, no. 2, pp. 737-747, Feb. 2012. 
13. K.-H. Liu, “Outage performance of cooperative relaying with fixed and 
best-selected mobile relays over non-identically distributed links,” IEEE Wireless 
Communications Letter, vol. 1, no. 5, pp. 548-551, Oct. 2012. 
14. K.-H. Liu, “Distributed incremental cooperative relaying with quantized 
feedback,” in Proc. IEEE Globecom'11, Houston, TX, Dec. 05-09, 2011. 
15. M.-H. Kuo and K.-H. Liu, “Distributed relay selection using quantized feedback 
in cooperative wireless networks,” in Proc. National Symposium on 
Telecommunications, Hualien, Taiwan, Nov. 11-18, 2011. 
16. K.-H. Liu, “Adaptive incremental relaying in multi-antenna fixed relay 
networks,” in Proc. IEEE International Conference on Communications in China 
(ICCC), Beijing, China, Aug. 15-17, 2012. 
17. Yuan-Jian Tsai and Szu-Lin Su, “An SINR-based routing and MAC design for 
QoS in wireless ad hoc networks,” submitted to IEEE Trans. on Mobile 
Computing.  
18. Wen-Kuang Kuo, “Energy Efficiency Optimization for Time-slotted Wireless 
Ad-hoc Networks” submitted to IEEE Trans. on Wireless Communications. 
 
 
 
 vii 
of both, in this project, we build a new cell architecture by jointly taking DAS and 
SFR into consideration to achieve the goal of high and well-balanced capacity.  
2. Furthermore, to rectify the shortfall in the literature, the capacity and outage 
probability in the multi-cell environment are derived by taking the complete 
channel effects into account, including the path loss, shadowing and Rayleigh 
fading. Simulations verify the superior performance and exactness of the 
analytical results. 
3. In the second part, we propose a new cell architecture for the orthogonal 
frequency division multiple access (OFDMA) systems by jointly taking frequency 
allocation scheme (FAS) and cooperative relay strategy into consideration. To 
serve the mobile stations (MSs) in the inner zone and relay stations (RSs) in the 
outer zone, a larger portion of frequency spectrum is allocated to the central base 
station (BS) such that the transmission from BS to RSs can never be a bottleneck 
during the two-hop relay process.  
4. Also, a pair of RSs are assigned the same frequency spectrum to carry out 
Alamouti coded relay using a half of transmission power (compared with the 
conventional non-cooperative relay). Depending on the received signal quality, an 
MS can be served by the central BS or a pair of RSs. Consequently, in addition to 
the lower interference level by using FAS and half transmission power, the 
selection and transmission diversity gains can also contribute to a higher capacity 
and a lower outage probability.  
5. The advantage of the proposed cell architecture is proved via simulation and 
analytical results by taking the intercell interference in the multicell environment 
and complete channel effects into consideration, including the small and large 
scale fading. The analytical framework fulfills the task of complete performance 
analysis in the literature. Some suggestions for future works have also been 
provided. 
 
Sub-project 4: Toward Energy-Efficient Cooperative Relaying over Mobile Fading 
Channels 
In this project, the aim is to analyze the impact of outdated channel state 
information (CSI) to the performance of cooperative relaying networks that reply on 
CSI to achieve cooperative diversity. Particularly, CSI may be outdated due to node 
mobility that causes the channel condition at the instant of relay selection differs from 
that of relay transmission. The project has reached the following outcomes 
1. Derive closed-form and high-SNR approximation for the outage probability of 
cooperative relay networks subject to outdated CSI. 
2. The derived analytical equations enclose the problem that when CSI is not 
 ix 
目錄 
摘要............................................................................................................................................. i 
目錄........................................................................................................................................... xi 
前言.......................................................................................................................................... xii 
第一章  高移動環境下通訊系統的有效信號偵測法............................................................ 1 
1.1 子計畫目標 ................................................................................................................. 1 
1.2 研究方法 ..................................................................................................................... 2 
1.3 具體成果 ................................................................................................................... 13 
1.4 參考資料 ............................................................................................... 13 
第二章  單載波區塊傳輸於雙選擇性通道中等化技術之研究.......................................... 16 
2.1 子計畫目標 ............................................................................................................... 16 
2.2 研究方法 ................................................................................................................... 17 
2.3 具體成果................................................................................................................... 27 
2.4 參考資料................................................................................................................... 27 
第三章 支援低速與高速移動之節能細胞結構與無線電資源管理之研究...................... 29 
3.1 子計畫目標 ............................................................................................................... 29 
3.2 研究方法 ................................................................................................................... 30 
3.3  具體成果 ................................................................................................................... 36 
3.4  參考資料 ................................................................................................................... 43 
第四章 在移動衰減通道下達成高能源效率的合作式中繼技術之研究.......................... 48 
4.1 子計畫目標 ............................................................................................................... 48 
4.2 研究方法 ................................................................................................................... 48 
4.3 具體成果 ................................................................................................................... 55 
4.4 參考資料 ................................................................................................................... 56 
第五章 移動式隨意網路的分散式節能跨層資源分配之研究.......................................... 59 
4.1 子計畫目標 ............................................................................................................... 59 
4.2 研究方法 ................................................................................................................... 59 
4.3 具體成果 ................................................................................................................... 68 
4.4 參考資料 ................................................................................................................... 73 
第六章 支援高能源效率的無線電資源分配：以跨層最佳化為基礎之研究.................. 76 
4.1 子計畫目標 ............................................................................................................... 76 
4.2 研究方法 ................................................................................................................... 76 
4.3 具體成果 ................................................................................................................... 87 
4.4 參考資料 ................................................................................................................... 87 
 xi 
(含能量效率、頻譜效能等)及減少不必要的使用(例如減少 stand-by 功率需求，進
入睡眠關閉狀態，power-on-demand)等。概念上，這些研究議題並非新創，長久
以來實體層的傳輸技術大多以提高頻譜效率及降低接收功率需求為目標，但部份
成果並未考慮電路/元件製作的複雜性及相對高耗能；在感測網路(sensor network)
研究中，許多文獻提出各種節能的技術，IEEE 802.11 標準也加入 sleeping mode
的設計，不過到目前為止，較成熟研究大多研究集中於 MAC 及 PHY 層的協定
及技術上。 
總言之，移動用戶通訊環境及綠能(高功率效率)，為近年通訊技術研究之主
軸。本整合型計畫將結合成大電機系（電通所）相關研究專長老師共同深入探討
相關研究議題，期望能獲得具創新性的系統設計及訊號處理技術。本研究團隊以
「節能及高移動性通訊技術之研究」為研究主軸，研究議題涵蓋高移動性(high 
mobility，移動速率 350 km/hr 以上)及低移動性兩個面向，研究範圍涵蓋實體層、
MAC 層及網路層，包括六個子計畫，其中子計畫一與子計畫二針對高速移動通
訊的實體層傳送/接收訊號處理技術作深入研究，研究重點在於發展低複雜度、
高效能之演算法；子計畫四、子計畫五及子計畫六則針對低移動性的用戶，研究
重點在於探討節能的跨層無線電資源管理技術；子計畫三則同時針對低移動性與
高移動性用戶，研究節能細胞結構與相關之無線電資源管理技術。本群體計畫各
子計畫間之相關性及整合程度如圖-1 所示。 
 1 
第一章 高移動環境下之高效能基頻通訊系統 
1.1 子計畫目標 
在新一代的無線通訊協定下，系統需要提供更高的訊號傳輸速度，更穩定可
靠的傳輸效能。多天線傳輸以及 OFDM 調變技術，已經成為新一代無線通訊的
核心技術之一。 OFDM 調變技術具備高速率資料傳輸的能力並且提供良好的頻
寬使用率，窄頻傳輸更可以有效地減少多路徑及頻率選擇性衰減通道造成接收端
錯誤率上升的影響。然而為了使訊號傳輸穩定可靠，必須犧牲掉某部分的頻寬以
確保接收端能解回正確的訊號。例如傳送訊號在通過具有多重路徑干擾的通道
後，會造成前一個符元的後端部份干擾到下一個符元的前端，會在 OFDM 符元
前端加入一保護區間避免造成符元間的干擾(ISI)。由於在訊號傳輸時，接收端收
到的訊號是傳送訊號和通道響應(Channel Response, CR) 作用過的結果，所以為
了解出傳送訊號勢必要得到通道響應，所以要作通道估計。在高速移動環境時變
的情況下通道估計更是重要，不好的通道估計會造成誤碼率上升；通道估計常見
的方法就是加入測試訊號(Training Sequences, or Pilots) ，由測試訊號得到測試訊
號那些點的通道響應，在對通道其它點作估計，進而求出整個通道響應。保護區
間以及測試訊號所造成的頻寬損失是很可觀的，這也是我們研究探討的動機，希
望能夠不利用測試訊號而能解回所傳送的訊號，也就是說傳送端不用浪費頻寬傳
送測試訊號，而接收端也能在沒有測試訊號的情況下解回傳送端所傳送的訊號，
在此我們稱之為盲蔽偵測(Blind Detection)。希望藉由盲蔽偵測可以更進一步的提
升頻寬使用率，也能維持不錯的系統效能。另外由於使用盲蔽偵測會使系統運算
複雜度上升，這邊我們也提出預先通道估計(Channel Prediction) 演算法，能夠有
效地減少盲蔽偵測的運算複雜度。 
 
 3 
(3) 
和  分別為第 k 個子載波的通道響應和雜訊。我們假設全部 的分佈為
。令向量 ， (2) 可以改寫為向量表示 
                                    (4) 
 
其中 為對角矩陣其對角線元素分別為 ，  為雜訊向量。這邊
我們定義 ，(3) 可以改寫為向量表
示 
(5) 
 
其中  為 的矩陣是由一  的離散傅利葉轉換矩陣 的前  行所
組成。 
    在 [11] 中，沿著子載波的通道響應用回歸 (Regression) 的多項式模型來近
似 
                       (6) 
其中 為所選取子載波區塊大小。更準確地來說，區塊裡的通道響
應的實部和虛部分別用回歸的多項式模型來近似，分別得到所對應的實部係數和
虛部係數。但沿著子載波的通道響應的實部和虛部是有相關性的，在 [11] 中使
用(6) 來近似通道響應是無法將實部和虛部的相關性表達出來。和(3) 來做比
較，(3) 可以把通道響應的實部和虛部結合起來一起近似，所以我們由(3) 來推
導我們的盲蔽偵測演算法。在模擬的章節裡，模擬結果證實沿著子載波的盲蔽偵
測用 (3) 的效能會比用(6) 要來得好。這邊值得注意的是，當通道響應 (CR) 是
 5 
而(9) 的解為  
(10) 
對盲蔽偵測而言，事實上接收端並不知道  的值，  ，也就是 的對角
線元素。接下來的推導中，我們提出新的演算法來對 ，做盲蔽偵
測。將 (10) 的 帶入 (9) ，我們可以得到一個數學式 
                    (11) 
當  我們令  為 ，或是  的對角線元素所組成的
向量，向量  或是 矩陣  的所有可能排列組合為  ，其中 為調
變星座點的個數。在全部所有可能的 或是  中，我們可以找到其中一個
來使得 (11) 為最小。因此根據(11)，對 ，的盲蔽偵測可以表示為 
                (12) 
其中我們定義一個常數矩陣 
                         (13) 
而這個常數矩陣可以在演算法執行前事先被運算。根據 (12)，我們似乎需要嘗
試所有 的可能組合來找出我們想要的答案。為了避免像這樣的全搜尋，我們
再來將會提出整數規劃演算法來解決這樣的問題。 
    當我們由 (12)得到了 ，我們可以經由 (10)來估計 ，可以表示為
, 其中 , 而  的對角線向量就是 。更
進一步的，當我們有了 , 由 (5)我們可以得到 綜合以上，我們可
以寫成 
 7 
其中 
(17) 
我們首先把 (16) 跟樹狀搜尋來做連結，就像圖 1.1 所表示的，所對應到的樹總
共有  層，而第  層的節點則對應到 。從最底端的節點走到最
頂端的節點也就是第  層，這樣算是一條完整的路徑，而每一條完整的路
徑分別可以對應到所屬的序列  。除了最頂端的節點之外，在第 
 層中的所有節點，每個節點在  層都有  個子節點，其中 為星座
點符元的集合，而  則為星座點的個數。首先我們先定義每個節點的節點值，
這可以幫助我們減少拜訪點數。 
我們現在針對第  層的某一節點來做說明，由最底層走到這一節點，我們可以
確定一組與之對應的符元序列  。我們定義這節點的節點值為 
(18) 
其中 
(19) 
                     (20) 
向量  中的元素，我們令它屬於整個複數平面，因此我們可以微分求極值，也
就是說  是 (18) 的最小值。接著我們考慮這個節點的其中一個子節點，這個
子節點的節點值為 
(21) 
其中 
                        (22) 
 9 
1.2.2.2.1 建構一條較好的起始序列 
我們可以在樹狀搜尋的過程中藉由找到一條較好的起始序列  來更進 
一步的減少拜訪點數。為了要得到較好的起始序列，我們可以使用通道事先預測 
來得到事先的通道響應，當我們得到預先的通道響應就能拿來等化接收端的訊
號，進一步來獲得較佳的起始序列。根據 [16] ，我們可以使用回歸的多項式模
型沿著時間軸來近似通道響應。 
對在第 n 個時間點上每一個子載波而言，我們可以把 (2) 寫成 
              (26) 
其中 . 的粗略估計為  ，而  則為第  時間點上
的第   個子載波，由盲蔽偵測演算法對   估計而得的值。在 
 這個時間內，接收端可以利用回歸的多項式模型 
(27) 
使用最小平方誤差 [14] 來近似 ，其中在 (27) 中的 為拿來做近似的通道
響應的個數。這邊值得注意的是，在(27) 中係數的階層跟通道響應在近似區間
內變化快慢有關。在 (27) 中的係數向量可以寫成 
                               (28) 
其中 而 為一常數矩陣可以事先被算出來 [14]。由 
(28)，把係數向量 帶入 (27) 然後令 ，我們就可以得到第 個子載波的預
先通道響應 。 
在時間點 n 上，當我們得到所有子載波上的預先通道響應 ，我
們可以經由以下的向量做硬判決 (hard decision) 後，來得到較佳的初始序列  
 11 
圖 1.2 通道脈衝響應 (CIR) 模型和回歸 (Regression) 多項式模型的錯誤率比較 
 
沿著子載波取一段區間符元來做盲蔽偵測，圖 1.2 分別為使用回歸的多項式模型 
[11] 和使用通道脈衝響應模型的錯誤率比較圖。 
1. 在圖 1.2 中，以回歸的多項式模型為基礎的盲蔽偵測，我們考慮兩種組合，
分別為把全部的子載波 (N = 64) 分成 8 等分 (M = 8) 和 4 等分 (M = 
16)。在第一等分中，我們需要一個符元的測試訊號，來解決相位模糊的問
題，當第一等分做完盲蔽偵測後，第一等分的最後一個符元拿來當假的測試
訊號給第二等分用來解決相位模糊的問題，依此類推。所以這兩種組合沿著
子載波分別需要做 8 次和 4 次的盲蔽偵測演算法。 
2. 以通道脈衝響應模型為基礎的盲蔽偵測，圖 1.2 展現兩種組合的效能，分別
為 和
。在邊我們也需要一個符
元的測試訊號來解決訊號模糊的問題，但這兩種組合只需要做一次盲蔽偵測
演算法。 
這邊值得注意的是，在盲蔽偵測中我們只需要一個符元的測試訊號來解決相位模
糊的問題，這比其他加一串測試訊號序列符元來估計通道響應的要來少的多。 
就如圖 1.2 所展現的，首先我們先來觀察以回歸的多項式模型為基礎的盲蔽偵
測，當 M 變大，也就是說沿著子載波所選取的區間變大，會有比較差的效能，
這是因為我們所選取的回歸多項式模型的係數階層為 2 ，當 M 變大，在這區間
內使用回歸的多項式模型來近似通道響應會變差，所以導致效能變差。再來我們
觀察以通道脈衝響應模型為基礎的盲蔽偵測，當 M 變大，可以擁有較好的效能，
因為可以得到較佳的 ，但要付出較高的運算複雜度因為樹狀搜尋的深度也跟著
M 變大了。圖 1.2 證實了我們提出以通道脈衝響應模型為基礎的盲蔽偵測演算法
比回歸的多項式模型有較好的效能。而且通道脈衝響應模型沿著子載波只需要做
 13 
 
圖 1.4 拜訪點數的比較，M=16 
1.3 具體成果 
    在這研究中，我們提出了創新的盲蔽偵測演算法在通道脈衝響應模型下。我
們考慮在一段區間內沿著子載波的符元，利用整數規劃演算法來避免全搜尋在樹
狀搜尋中，在每次的樹狀搜尋過程，我們更進一步的提出通道事先估計來求得較
佳的起始序列。模擬結果證實我們所提出的演算法比 [11] 有更好的錯誤率效
能。當我們由通道事先估計得到較好的起始序列，模擬也證實了能有效率地減少
拜訪點數。 
 
1.4 參考資料 
[1]  M. Quan and P. Mannion, “AT&T, Nortel Plot 4G Wireless Nets, ” 2000 
[online]. Available: http://www.eet.com/story/OEG20000915S0034/ 
 15 
[9]  U. Tureli and H. Liu, “Blind carrier synchronization and channel identification 
for OFDM communications,” in Proc. IEEE Int. Conf. Acoustics, Speech and 
Signal Processing, vol. 6, May 1998, pp. 3509-3512. 
[10]T. Petermann, S. Vogeler, K.-D. Kammeyer, and D. Boss, “Blind turbo channel 
estimation in OFDM receivers,” in Proc. 35thAsilomar Conf. Signals, Systems, 
Computers, vol. 2, Nov. 2001, pp. 1489-1493. 
[11]  M.-X. Chang and Y. T. Su, “Blind and Semiblind Detections for OFDM 
Signals in Fading Channels,” IEEE Trans. Commun., vol. 52, pp. 744-754, May 
2004. 
[12]  H. A. Taha, Integer Programming, Theory, Applications, and Computations, 
New York: Academic Press, 1975. 
[13]  W. C. Jakes, Microwave mobile communications, New York: John Wiley, 
1974. 
[14]  M.-X. Chang, “A new derivation of least-squares-fitting principle for OFDM 
channel estimation,”IEEE Trans. Wireless Commun., vol. 5, pp. 726-731, Apr. 
2006. 
[15]  “Guidelines for the evaluation of radio transmission technologies for 
IMT-2000,”Recommendation ITI-R M.1225, 1997. 
[16]  M.-X. Chang and Y. T. Su, “Model-Based channel estimation for equalizing 
OFDM signals,” in IEEE Trans. Commun., vol.50, pp. 540-544, Apr. 2002. 
 
 
 
 
 17 
一步的探討，主要是利用雙重(dual)決策回授等化器的架構來降低錯誤蔓延。我
們提出混合式雙重決策回授等化器 (hybrid dual decision feedback equalizer, 
H-DDFE)，並設計相對的前饋濾波器(feedforward filter)和回授濾波器(feedback 
filter)，以提高信號的偵測效能，且與文獻之 DFE 相比僅需增加少量的複雜度。 
 
2.2 研究方法 
2.2.1 系統模型 
單載波區塊傳送系統的每個傳送區塊，是由資料區塊和保護區間(guard 
interval)所組成。我們以 TNdddd ],,,[ 110  d 表示有 dN 個符元的資料區塊，而保
護區間的長度為 gN ，因此每個傳送區塊的長度為 gd NNN  。假設通道脈衝
響應為 TLhhh ],,,[ 110  h ，並且假設 1 LNg 以避免區塊間干擾(interblock 
interference)。 
 
2.2.1.1 循環字首延展 
一般而言，保護區間的形式是採用循環字首(cyclic prefix, CP)，其方法是將
資料區塊最後 g
N
個符元複製並置於資料區塊之前，來當作循環字首，如圖 2.1
所示。此種架構可以將接收訊號看成是通道與資料區塊的圓周摺積 (circular 
convolution)，表示成 
 1,,1,0,)(  dnnn Nnwdhr   (2.1) 
其中 nw 是平均值為 0、變異數為
2
w 的可加性複數高斯白雜訊。接收區塊經過 dN
點的離散傅立葉轉換( dN -point Discrete Fourier Transform (DFT))之後，在頻域上
的訊號為 
 1,,1,0,  dkkkk NkWDHR   (2.2) 
其中





1
0
2d
d
N
n
N
kn
j
nk erR

、





1
0
2L
n
N
kn
j
nk
dehH

、





1
0
2d
d
N
n
N
kn
j
nk edD

和





1
0
2d
d
N
n
N
kn
j
nk ewW

。 
 19 
傳送區塊 s經過通道h之後，得到的接收訊號區塊為 TNrrr ],,,[ 110  r ，由
於前一個區塊的 TS 可視為目前傳送區塊的 CP，所以r可以被看成是傳送區塊和
通道脈衝響應的圓周摺積加上雜訊，表示成 
 1,,1,0,)(  Nnwshr nnn   (2.5) 
從上述我們可發現將(2.1)式的 d 換成 s ，就可以得到(2.5)式。我們同樣以時間 0n 為例，
01111000 wphphdhr LNLN gg    ，與(2.3)式相比較，由於原本未知的 CP 換成接
收端已知的 TS，所以較適合用 DFE 來消除 ISI。本計畫是採用 TS 來做為傳送區塊結構。 
 
2.2.2 文獻方法 
2.2.2.1 頻域線性等化器(Frequency-Domain Linear Equalizer, FD-LE) 
 頻域線性等化器的作法是將接收信號(即(2.5 式))轉至頻域 
 1,,1,0,  NkWSHR kkkk   (3.1) 
並將頻域上的接收訊號乘上所設計的權重 kC ，使得等化後的信號 kS
~
表示成 
 
1,,1,0,
~
~


NkWSU
RCS
kkk
kkk

 
(3.2) 
其中 1,,1,0,
~
,  NkWCWHCU kkkkkk  。經過 N 點 IDFT 之後，可得決策變數 
 nnn wsus
~)(~   (3.3) 
其中權重 kC 可根據 MMSE 法則，定義一個傳送區塊的 MSE 為 
 






 
1
0
2~1MSE
N
n
nn ssE
N
 
(3.4) 
利用帕色伐定理(Parseval’s theorem)，(3.4)式可寫成 
 








1
0
2
2
~1
MSE
N
k
kk SSE
N
 
(3.5) 
然後將(3.2)代入(3.5)，對MSE的 kC 作偏微分並設為 0，可解得 
 
1,,1,0,
2
2
2




Nk
H
H
C
S
W
k
k
k 


 
(3.6) 
其中 2
22
wkW NWE  


 和 2
22
dkS NSE  


 ， 2d 為資料符元的平均功率。 
 21 
只需使用一組 DFE 做決策回授。因此，將開關的位置保持向上，繼續在偵測模
式下運作。 
Σ 
yn
Feedback 
Filter 1
n
d
,1
ˆ
T T
T T
1,1dˆ
1,2dˆ
1,1dˆ
n
d
,2
ˆ
n
d
,1
~
-α 
α 
Compare Controller
Feedback 
Filter 2
Reg. 1 (δ+1 stages)
Reg. 2 (δ+1 stages)
圖 2.3  DDFE 的偵測模式 
如果當 0nn  時， 0,1
~
nd 落入未定區域內，也就是 



0,1
~
Re nd ，則此時的決
策
00 ,2,1
ˆˆ
nn dd  ，代表此決策可靠度較低，造成判斷錯誤的機率較大。因此，此時
不立即做決策，而是宣告為未定(erasure)。在要進入未定模式前，先將第一組回
授濾波器的內容(即之前做的決策)複製至第二組回授濾波器內，且將兩個相異的
決策(
00 ,2,1
ˆ ˆ nn dd 及 )保留至移位暫存器，並分別回饋至上下兩個回授濾波器，以進
入未定模式。如圖 2.3 所示，在進入未定模式後，兩個偵測器的門檻值會先被設
為 0 ( 0 )，並啟用第二組 DFE 來進行決策回授，因此兩組 DFE 獨立運作 個
符元區間，即各自判斷出 個決策，並將此 個決策連同進入未定模式前的最後
一個決策(即
00 ,2,1
ˆ ˆ nn dd 和 )，共 +1 個決策，依序存放在移位暫存器中，且計算決
策誤差值。定義上方與下方的決策誤差值分別為 
 
nnn dde ,1,1,1
ˆ~   (3.7) 
 
nnn dde ,2,2,2
ˆ~   (3.8) 
然後在未定期間內，累加兩者誤差值能量的差值，可表示為 
 23 
另外，在 DDFE 偵測模式中門檻值 的大小以及未定模式中 值的大小，
皆會影響信號偵測效能與系統複雜度。當 值愈大，愈易落入未定區域中而選用
兩個最佳決策做兩組決策回授等化器，增加保留正確決策回授的可能性，但複雜
度也較高。而對於 值的選定，由於在未定期間內只做一組決策回授，不允許發
生未定(再延伸兩組決策)以保持低複雜度，所以 值愈大，在未定期間內可能有
錯誤發生；而當 值太小，則多重路徑多樣性效果較差，使得信號偵測效能則較
差。因此，在不同環境下，須找出適當的 值和 值，以在效能和複雜度之間達
到較佳的平衡(tradeoff)。 
 
2.2.4 模擬結果 
2.2.4.1 多路徑通道模型 
假設通道估測是完美的，而通道的脈衝響應是由複數的取樣值所組成，其相
位為均勻分布(uniform distribution)，振幅為雷利分布(Rayleigh distribution)，而且
平均功率呈指數衰減。我們假設通道的脈衝響應在一個傳送區塊期間是非時變
的，且通道的平均總功率為 1，也就是 
 
1
1
0
2









L
n
nhE  (5.1) 
我們用來模擬通道的數學模型如下： 
 1,,1,0,  Lnyjxh nnn   (5.2) 
其中 nx 和 ny 各是平均值為 0、變異數為
2
2
1
n 的高斯隨機變數，且彼此統計獨立， 
其中 














1,,1,
1
1
2
0
2
1
2
0
Lne
e
e
n
n
L





 (5.3) 
其中  為通道的標準化均方根延遲蔓延 (normalized root-mean square delay 
spread)，定義為 srms /TT ， sT 為符元週期(symbol period)， 愈大表示會有愈嚴重
的 ISI。 
 25 
 
圖 2.6 在 BPSK 調變下，不同 δ 值的位元錯誤率 
 
2.2.4.3 電腦模擬與結果分析 
在傳送端方面，使用的調變方法為未經編碼的 BPSK 和 QPSK。每個傳送區
塊的長度 128N ，TS 的長度 16gN ，通道長度 16L ，回授濾波器的長度
16bL ；而 H-DDFE 的參數 2.0 、 4 。 
 
圖 2.7 在 BPSK 調變下，不同等化器的位元錯誤率 
 27 
對於高階調變(16-QAM、64-QAM)下，模擬結果顯示 H-DDFE 的效能也是
比 H-DFE 較佳，只是由於篇幅限制的關係本報告並未顯示其結果。 
 
2.3 具體成果 
在本子計畫中，我們提出 H-DDFE 來降低 H-DFE 所產生的錯誤蔓延，其作
法是先設置門檻值 來偵測出可靠度低的資料，然後將後來( 個符元期間內)接
收的信號納入考慮，再產生符元之偵測結果，以改善決策的準確度。模擬結果顯
示，在 BPSK、QPSK、以及高階調變下，H-DDFE 的效能皆比 H-DFE 的效能佳，
且僅需增加少量的複雜度。 
 
2.4 參考文獻 
[1] G. D. Forney Jr., “Maximum likelihood sequence estimation of digital sequence 
in the presence of intersymbol interference,” IEEE Transactions on Information 
Theory, vol. 18, no. 3, pp. 363-378, 1972. 
[2] D. Falconer, S.L. Ariyavistakul, A. Benyamin-Seeyar, and B. Eidson, 
“Frequency domain equalization for single-carrier broadband wireless systems,” 
IEEE Commun. Mag., vol. 40, no. 4, pp. 58-66, April 2002. 
[3] F. Pancaldi, G.. M. Vitetta, R. Kalbasi, N. Al-Dhahir, M. Uysal, and H. Mheidat, 
“Single-carrier frequency domain equalization,” IEEE Signal Process. Mag., vol. 
25, no. 5, pp. 37-56, Sep. 2008.  
[4] N. Benvenuto, R. Dinis, D. Falconer and S. Tomasin, “Single carrier modulation 
with nonlinear frequency domain equalization: an idea whose time has 
come—again,” Proceedings of the IEEE, vol. 98, no. 1, pp. 69-96, Jan. 2010. 
 29 
第三章 支援低速與高速移動之節                          
能細胞結構與無線電資源管理之研究 
 
現今，正交頻率分工多重存取(OFDMA)已被視為下一世代無線通訊系統之
先進傳送技術。然而在 OFDMA 系統中，若使用者在細胞邊緣(cell edge)將會受
到強烈的細胞間干擾(ICI)，進而嚴重影響傳送品質。如此一來，便難以實現服務
區域內相同通道容量及高資料傳輸速率之目標。頻譜分配方法 (frequency 
allocation scheme, FAS)是 OFDMA 系統中對抗細胞間干擾(ICI)很重要的方法。
FAS 可分為軟性頻譜重複使用(SFR)[1]及局部頻譜重複使用(partial frequency 
reuse, PFR)[2]。在[3]所提出的系統架構中，配給細胞邊緣用戶更多的傳輸功率
同時指定在非重疊的頻帶上鄰近細胞邊緣區域之再用因子(reuse factor)為 1的情
形下，SFR 可以增加細胞邊緣的吞吐容量(throughput)且避免犧牲平均細胞吞吐容
量。 
本計劃為了達到低干擾與高系統容量之目標，結合了分散式天線系統
(distributed antenna system, DAS)與 SFR 之優勢設計一嶄新的細胞結構。此外，
為了使不易架設 DAS 之區域也能達到相同的目標，我們進一步發展一結合中繼
(Relay)以及 SFR 之細胞結構。 
3.1 子計劃目標 
在本計劃中，我們首先建立一個結合 DAS 及 SFR 技術之細胞架構。如圖一
所示，較內部的區域由基地台(base station, BS)使用全向性天線(omni-directional 
antenna)進行服務，而外部區域則由六部天線(antenna elements, AEs)進行服務。
六部天線佈署在細胞的六個頂點，使用 120度方向性天線服務外圍區域。再者，
與修正型 SFR(modified SFR, MSFR)相似，內部及外部六等分的區域中分別配給
獨立的頻譜(independent frequency spectrum)，使其維持 1 的再用因子(reuse 
 31 
3.2.1 結合DAS與FSR之細胞結構 
 如圖 3.1所示，細胞內部區域之頻帶標示為 ，而外部區域則以 由 1到 6
分配。為了方便定義， 表示第 個邊緣 AE；為求一致性 BS則以 表示。再
者，為了不失其一般性，我們考慮一個由 所服務之行動裝置(mobile station, 
MS)，其接收訊號可寫成 
             
(1) 
 
 
圖 3.1結合 DAS 及 SFR之細胞結構。 
 
其中 分別表示服務自己的天線及在第一層細胞中鄰近的天線所造成
的第 個干擾； 及 為服務細胞及第 個干擾細胞之傳送訊號； 和 表
示對應的通道增益； 為加成性白高斯雜訊 (additive white Gaussian noise, 
AWGN)。 為了考慮完整通道效應， 在 時可表示為 
                
(2) 
 33 
圖3.2所示為結合Relay及FSR之細胞架構；如圖所示，一扇形區域之內圍及
外圍分別配給了2W/3及1W/3的頻寛，其中W為總頻寬。因此每個細胞可重複利用W
的總頻寬使其維持1的頻率重複使用因子。再者，內圍的中央BS配給了大部分的
頻寬得以解決two-hop relay過程中的瓶頸效應的問題。每一個扇形的外圍區域由
一對RS以60度一個單位使用相同頻寬進行合作式Alamouti編碼傳輸。 
假設一個配備有全向性天線的MS可以被使用頻寬b的BS服務或使用頻寬c的
一對RSs服務。表一比較了相同假設條件下在不同的細胞結構中，該MS所受到的
干擾源數量，其中B → M, B → R 和 R → M各自代表了不同的傳送路徑。由 
 
圖3.2 結合 及 碼之中繼站策略細胞架構。 
 
 
表1.1 在不同的細胞結構中MS所受到的干擾源數量評比。 
 35 
其 中 為 ； 表 示 的 ； 為
之 。同時， 可以表示為 
              
(12) 
經計算可得 如下 
             
(13) 
同樣地， 和 可以依上述的方法取得；其中在 的表示
法中 ，因為BS被分配到的頻寬為 ；而在 的表示法
中 ，原因在於在個狀況下MS是透過BS的直接傳輸路徑取得服
務。最後我們可以將 帶入(11)(12)以計算outage 
probability。而其下行端點對端點流量值之計算如下。 
                
(14) 
其中 為 的pdf，由(5)中可得 
 =  
 
 
，                         
(15) 
 37 
向性天線。 中，天線元件AE與BS之距離為三分之二細胞半徑[4]。
pure 適用在僅有120度方向性天線的系統；而pure 則是僅使用SFR的方
案。 
 圖 3.3呈現了四種方案得到的 capacity 及 outage probability 之評比，其中中
斷門檻值訂為 。在此模擬中，一個行動裝置自距離 BS 最小為 25公尺
之處移動到細胞邊界且與水平線有 之角度。每隔 50 公尺即測量 MS 之
capacity 及 outage probability。 我們可由圖 3.6(a)及圖 3.6(b)得知： 
1. 分析與模擬結果大致吻合，但對數正態和隨機變數之近似值仍有些微差距。 
2. 相較於 ，當 MS 沿著路徑自 BS 移動到細胞邊界， 能
有平衡之效能，且在細胞邊界表現較佳。而 在 AE附近則無法提供
較為平衡之效能。例如在細胞邊界， 之容量及中斷機率分別為
12.2 bps/Hz 及 0.008，而 則為 6.0 bps/Hz 及 0.292。 
3. 結合 SFR 及 DAS 可帶來極大的效能增益。觀察細胞邊界之 capacity，
較 pure 及 pure 分別有 22%(自 10.0 到 12.2 bps/Hz)及
1425%(自 0.8到 12.2 bps/Hz)之效能改善。若以中斷機率為評比，
優於 pure 及 pure 。具體而言， 、pure 及 pure 
在細胞邊界之中斷機率分別為 0.008、0.06及 0.884。 
 
 39 
若用戶最大接收 SIR 之 AE 或 BS 無子通道可提供服務，則其可轉向具有第二大
接收 SIR 之 AE 或 BS。很明顯地，第三種通道配置方法可達到最高的 capacity，
也就是內部及外部分別配置 7/25=28%及 18/25=72%的子通道資源。這樣的配置也
接近每個區域範圍之面積比。 
 
 
表 3.2不同細胞結構之 Capacity 評比。 
 
表 3.3 及[6]中的三天線方法(three-AE)所得到之平均細胞容量。 
 
表 3.4 不同細胞覆蓋範圍子通道配置表。 
 
 41 
圖3.4(a)及(b)將本篇方法與[3]中的NFAS，[4]中的novel frequency reuse 
scheme(NFRS)和[5]中的MORAA做了點對點下行capacity和outage probability的
比較。BS及RS之傳輸功率分別被固定為20瓦及1瓦。同時，為了比較的公平性，
每個方法的capacity和outage probability將會在相同的BS到RS的路徑上評量。第一
點，可以看出分析的結果跟模擬結果相當吻合。第二點，干擾源的數量部分稍微
大於某些方法，在capacity及outage probability的表現上，我們的細胞結構皆優於
其他方法。效能表現提升主要的原因在於以SIR為基礎的選擇方法和合作式relay
策略帶來的多樣性增益。同時，將大比例的頻寬分配給中央BS的作法亦對高
capacity做出貢獻。舉例來說，在離BS 400公尺遠的地方，相較於NFAS，我們的
方法可提升28%的capacity(約從18Mbps上升到25Mbps)。第三點，RS的位置是650
公尺處突出曲線的主因，因為RS被放置在離中央BS 650公尺遠的地方；且MS
越靠近RS，便能夠達到更高的SIR。第四點，在細胞邊緣所有的方法擁有相近的
表現。然而，我們所提出的細胞結構與傳輸方式，不同於其它方案；在其它方案
中MS的位置資訊是必要的資訊。 
圖3.5(a)、(b)及(c)比較本篇論文與其餘方法在不同RS傳輸功率下內外圍
capacity的表現，其中system capacity是內外圍capacity的總和。再者，內圍capacity
是由中央BS之服務所提供；外圈capacity則為RS服務所提供提供。在這個模擬
中，我們假設100%的負載，且MS的位置是以至少距離BS或RS 25公尺的前提下
平均分布環繞在RS(或BS)的周圍。 
    第一點，當RS的傳輸功率提升，所有方法中的系統capacity和內圍capacity
都下降。這是因為當MS由BS服務，RSs產生了更為強烈干擾。 
第二點，在外圍capacity的部分，本計劃的方法與NFAS因為較大的RS傳輸
功率而表現的較差；相反的NFRS與MORRA則因為更大的RS傳輸功率而有更好
的表現；其原因在於NFRS和MORRA在RSs配置了方向性天線。也就是說當MS
由RS服務時，配置在RSs上的方向性天線可有效的降低來自其他RS之干擾。 
 43 
 
 
圖3.5本篇論文與其它方法在不同RS傳輸功率下內外圍capacity的表現，其中
system capacity是內外圍capacity的總和。 
 
3.4 參考資料 
[1] 3GPP TSG-RAN WG1 R1-050507, “Soft frequency reuse scheme for UTRAN 
LTE,” May 2005. 
[2] 3GPP TSG-RAN WG1 R1-050738, “Interference mitigation – considerations and 
results on frequency reuse,” Oct. 2005. 
[3] Y. Xiang, J. Luo, and C. Hartmann, “Inter-cell interference mitigation through 
flexible resource reuse in OFDMA based communication networks,” in Proc. of 
European Wireless, April 2007, pp. 1–7. 
 45 
[12] M. Abramowitz and I. A. Stegun, Handbook of Mathematical Functions with 
Formulas, Graphs, and Mathematical Tables, 9th ed. New York: Dover 
Publications, 1970. 
[13] H. Fujii and H. Yoshino, “Theoretical capacity and outage rate of OFDMA 
cellular system with fractional frequency reuse,” in IEEE Vehicular Technology 
Conference, May. 2008, pp. 1676–1680. 
[14] W. Lee, M.-V. Nguyen, J. Jeong, B. Keum, and H. S. Lee, “An orthogonal 
resource allocation algorithm to improve the performance of OFDMA-based 
cellular wireless systems using relays,” in IEEE Consumer Communications and 
Networking Conference, Jan. 2008, pp. 917–921. 
[15] K. Cho, W. Lee, D. Yoon, H. S. Jin, K. Kim, and S. K. P. Reinaldo, “Frequency 
allocation scheme for interference avoidance in cellular system with fixed relay,” 
in IEEE Digital Telecommunications, vol. 23, July 2008, pp. 130–134. 
[16] M. Liang, F. Liu, Z. Chen, Y. F. Wang, and D. C. Yang, “A novel frequency 
reuse scheme for OFDMA based relay enhanced cellular networks,” in IEEE 
Vehicular Technology Conference, April 2009, pp. 1–5. 
[17] M. Liang, Y. F. Wang, F. Huang, and D. C. Yang, “An improved frequency reuse 
algorithm for fixed two-hop OFDMA cellular relaying networks,” in 
International Conference on Wireless Communications and Mobile Computing, 
June. 2009, pp. 1284–1288. 
[18] O¨ zg u¨r Oyman, “Opportunistic scheduling and spectrum reuse in relay-based 
cellular networks,” IEEE Transaction on Wireless Communications, vol. 9, no. 3, 
pp. 1074–1085, Mar. 2010. 
 47 
environments,” IEEE Trans. on Vehicular Technology, vol. 57, no. 4, pp. 
2617–2621, July 2008. 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 49 
destination. We consider a half-duplex two-hop opportunistic relay selection (ORS) 
scheme based on decode-and-forward (DF) and each node has a single antenna. 
 
Fig. 4.1  A multi-relay cooperative network. 
 
4.2.1 System Model 
 Define x to be the signal sent by transmitters (the source or relays) , y to be the 
signal received by receivers (relays or destination). Then, the received signal can be 
written as 
nxhy ba  ,  
where ha,b is the channel coefficient modeled as complex Gaussian random variable 
with zero mean and variance 2 between transmitter a and receiver b, x is the 
transmitted signal with power P, n is AWGN noise with zero mean and variance n
2
. 
We consider a block-fading channel where the channel response remains constant 
during one time slot and each node experiences independent and identically 
distributed (i.i.d) Rayleigh fading. We denote the instantaneous signal-to-noise ratio 
(SNR) by a,b = P| ha,b |
2
/n
2
. 
 
4.2.1.1  Relay selection 
 51 
channel estimation and data transmission is about one cooperation phase, which may 
subject to relatively serious channel variations. 
As to centralized relay selection, in time slot 2, relays which belongs to the decoding 
set D transmit a short package at time T so that the destination can decide the best 
relay according to their channel SNR. Then the destination announces who is the best 
relay and the best relay forwards the signal to the destination at time T+. The time 
difference between selection and transmission instants leads to inaccurate selection, 
where the channel response hk,d(T+), which is the outdated version of hk,d(T). Under 
the assumption of Jakes' model, the correlation coefficient  between the envelopes of 
hk,d(T+) and hk,d(T) is 
)2(0  dfJ  
where J0() denotes the zero-order Bessel function of the first kind, fd stands for the 
Doppler frequency where fd=v/c cos() with v being the velocity, c the speed of light, 
and  the signal arrival angle, and  is the time delay between the instants when the 
selection process is completed and the instants that the actual transmission of data 
from the selected relay takes place. We can see in that fd and  decide the correlation 
coefficient , where fd is caused by mobility and  depends on the relaying protocol. 
For example, when the velocity is 80 km/h and  is 0.5 second, the correlation 
coefficient  is about 0.1.  
 
4.2.2  Proposed Schemes 
To improve the ORS scheme, Robust scheme is proposed and All-participate scheme 
is used to be comparison. We describe them as follows. 
4.2.2.1  Robust Scheme 
 53 
second hop share half of the total power. Therefore, the transmit power of each relay 
equals 0.5P/|D|. 
 
4.2.3  Results and Discussions 
4.2.3.1  The Impact of Average SNR 
 
Fig. 4.4  Outage probability versus system SNR for different schemes with three relays for =0.1. 
 
Fig. 4.4 shows the outage probability of the proposed scheme, All-participate, and 
ORS with three relays. Source-relay and relay-destination links share the total power 
equally. The outage probability is plotted as a function of the system SNR. We first 
examine the performance of Robust scheme with =0.1. When SNR is over 12.5 dB, 
it has lower outage probability than ORS. Besides, when SNR is below 20 dB, Robust 
scheme has better performance than All-participate. Then we examine the 
performance of All-participate scheme. When SNR exceeds 16 dB, it has better 
performance than ORS. Robust scheme has worse performance than ORS below SNR 
= 12.5 dB because mobile relay needs to share 50% to the fixed relay in the second 
hop. When SNR is low, the fixed relay in Robust is not reliable. All-participate 
 55 
4.2.3.3  The Impact of Power Allocation 
 
Fig. 4.6  Outage probabilities of proposed scheme and All-participate compared to ORS with unequal 
power allocation between s-r and r-d channels. 
 
Fig. 4.4 shows the result by distributing 20% of the total power P to the source-relay 
link and the rest to the relay-destination link. On the contrary, both Robust and 
All-participate perform better when the relay-destination link is allocated with more 
power. That is because both Robust and All-participate enhance the reliability of the 
second hop compared with ORS. For Robust, it provides another link to help 
transmission in the second hop. For All-participate, it also lets multiple relays in the 
decoding set to help. Specially, we can see that Robust is always better than ORS with 
 = 0.1. Moreover, it has better performance than ORS with  = 0.1 when SNR is 
below 10 dB. The reason is that when SNR is low, there has no link to transmit in 
ORS since decoding set is empty. However, Robust always benefits from the aid of 
the fixed relay even the SNR is low. 
4.3 具體成果  
 57 
[6] I. Krifidis, J. S. Thompson, S. Mclaughlin, and N. Goertz, ``Amplify and forward 
with partial relay selection'', IEEE Trans. Commun. Lett., vol. 12, pp. 235-237, 
April 2008. 
[7] T. Wang, A. Cano, G. B. Giannakis, and J. N. Laneman, ``High-performance 
cooperative demodulation with decode-and-forward relays, IEEE Trans. 
Commun., vol. 55, no. 7, pp. 1427-1438, July 2007. 
[8] S. Lee, M.Han, T. Yu, and D. Hong, ``Average SNR and ergodic capacity analysis 
for opportunistic DF relaying with outage over Rayleigh fading channel'', IEEE 
Trans. Wireless Commun., vol. 8, June 2009. 
[9] J. Vicario, A. Bel, J. Salcedo, and G. Seco, ``Opportunistic relay selection with 
outdated CSI: outage probability and diversity analysis'', IEEE Trans. Wireless 
Commun., vol. 8, no. 6, pp. 2872-2876, June 2009. 
[10] J. N. Laneman, D. Tse, and G. W. Wornell, ``Cooperative diversity in wireless 
networks: efficient protocols and outage behavior'', IEEE Trans. Inform. Theory, 
vol. 50, no. 12, pp. 3062-3080, December 2004. 
[11] L. Zheng and D. N. C. Tse, ``Diversity and multiplexing: A fundamental tradeoff 
in multiple-antenna channels'', IEEE Trans. Inform. Theory, vol. 49, no. 5, May 
2003. 
[12] Q. Yin Y. Li, W. Xu, and H. Wang, ``On the design of relay selection strategies in 
regenerative cooperative networks with outdated CSI'', IEEE Trans. Wireless 
Commun., vol. 10, no. 9, pp. 3086-3097, September 2011. 
[13] D. G. Brennan, ``Linear diversity combining techniques'', Proceedings of the 
IEEE, vol. 91, no. 2, February 2003. 
 59 
第五章 感知無線電跨層級傳輸                           
及資源管理技術之研究 
5.1 子計畫目標 
近年來，隨著環保觀念日益提昇，綠能通訊的議題逐漸受到重視。綠能通訊
的應用不僅可以節約可貴的能源，還能延長可攜式通訊裝置的使用時間。因此，
針對無線多躍式隨意網路(wireless multihop ad hoc networks)的綠能研究隨之而
起。至今為止，針對無線多躍式隨意網路的綠能研究多半圍繞在睡眠機制
(sleeping mode)的應用，以減少待機狀態(idle mode)下的耗能，鮮少討論如何減少
資料傳送時的耗能，徨論更進一步與服務品質保證(quality-of-service, QoS)的議題
作結合。 
本研究團隊參考 Shannon capacity 公式，提出兩個可結合服務品質保證議題
的節能概念: 其一、無線鍊結的干擾量會隨時間變化，傳送端可依據干擾量大小
即時調整傳送功率，在維持鍊結品質的前提下節省耗能。同時，節點可選擇在干
擾量低的時段傳送，以較低的傳送功率達成所需的鍊結品質。其二、當通道閒置
時間較多時，節點可延長其通道佔用時間，以較低的傳送速率達成所需的吞吐量
(throughput)，藉此可節省耗能。 
為實現上述兩個節能概念，我們設計出一個可承載多重傳輸速率與功率控制
的跨 MAC 層與路由層架構，名為 Energy-Efficient Multi-Rate Power Selection 
(EE-MRPS)。在 EE-MRPS 中，節點隨時監測通道的狀況，並動態的調整其占用
的資料時槽、傳送速率與傳送功率，以節省能量的消耗。經由模擬結果可以證實，
我們設計的方法可以在不影響資料串流所需服務品質的情形下達到節能的目的。 
 
5.2 研究方法 
 61 
(1) 在各個 data slot 中，自己受到的干擾量(interference power)。 
(2) 在各個 data slot 中，自己傳送功率的上限，避免影響鄰近節點的接收。 
 
節點平時保留上述資訊，並在系統要建立新的路徑時回報上層，以作參考。
Control frame 基本架構如下圖： 
 
圖 5.2 control frame 基本架構圖 
 
control frame 可細分為 n×m 個 mini-slot，每 n 個為一組，對應一個 data slot。而
每一個 mini-slot 的大小，要使節點足以準確地探測到一次訊號能量，但毋需解
出封包訊息。 
以下介紹節點交換訊息的方式: 
(1) 節點受到的干擾量：                  
已經在第 i 個 data slot 被規劃為傳送者的節點，需在第(i-1) ×n+1 個 mini-slot，
以當初規劃的傳送功率發出短訊息。如此一來，其它節點就可以探測到在各
個 data slot 中受到的干擾量。   
(2) 節點傳送功率的上限: 
在已知通道增益 G 的環境中(見下圖)，假設節點 B 仍能承受的干擾量為 I，
並選定短訊息功率 S。此時節點 A 接收短訊息，功率為 R，得知傳送功率上
限 P = I/G。各節點保存這兩組參數:    
 63 
節點接收 RREQ 封包，並嘗試以接收者的角度做資源分配 (resource 
allocation)，協助擴散(flooding) RREQ 封包，並建立 routing table 的暫存項。 
(2)  RREP 階段: 
已成為路徑成員的節點，告知其傳送者所選用傳送功率及速率，並將 routing 
table 的暫存項轉化成正式的 routing table。 
 
5.2.2 Energy-Efficient Multiple Rate and Power Selections (EE-MRPS)  
EE-MRPS 設計以 MRPS 架構為基礎，其中包含兩個新穎的節能概念: 
(1) 無線通訊環境，特別是干擾量，會隨資料串流的生滅產生大幅變化。以
TDMA 系統為例，無線鍊結若能隨環境動態選用改變所使用的時槽，加上
適當的功率調整，則可減少所用能量。 然而，時槽的轉換需有嚴謹的溝通
(negotiation)機制，多數系統並無相關設計。 
(2) 同樣情形下，若鍊結使用較大頻寬傳送，亦可減少總耗能。 
我們可參考 Shannon Capacity 的公式: 
 
C 為系統容量，B 為頻寬，SNR 為訊雜比。概念(2)增加頻寬 B，減少所需
的 SNR 值，藉以降低耗能。若我們將這此概念應用在以 MRPS 為基礎的系統
中，節點依下圖所示，動態選用時槽: 
 65 
本節介紹第一個節能機制，若節點已經佔用了一格 TDMA 時槽，但發現有
其它時槽的干擾量原有時槽還低，節點就以分散式競爭來嘗式換用時槽，同時
降低傳送功率。 
 
MAC 架構 
EE-MRPS 的 MAC 架構如下(僅有 hard transform 時): 
 
圖 5.6 新的 MAC structure 
 
一個 superframe 分割成一個 hard control subframe 和一個 data subframe，一
個 hard control subframe 由多個 control slot 組成，一組 control slot 對應到一格資
料時槽，一組 control slot 有 4~5 格 mini-slot。第一格 mini-slot 用來讓傳送端通
知它周圍的節點，它會造成多少的干擾功率。2～3 格 mini-slot 用來讓接收端通
知它周圍的節點，使周圍節點得知自己的功率上限。最後一格 mini-slot，為分
散式競爭所用。一個 data subframe 會由多個(32~256)資料時槽組成。 
 
Hard Transform 機制 
每次hard control subframe結束後，各節點會重算自己在每個資料時槽所承受
的干擾量，並找出干擾量最低的資料時槽，我們假設節點此資料時槽承受的干擾
為Ivalid。接下來選出一格目前規劃為接收，且干擾量最高的資料時槽，我們假設
節點在該資料時槽承受的干擾為 Ihard，若 Ihard/Ivalid >3dB，節點就執行hard 
transform。節點選出可以節省最多傳送功率的資料時槽，在backoff後對相對應的
傳送端unicast一個HR-Rcp frame。 
 67 
MAC架構 
為新增soft transform的機制，我們在進一步發展原MAC架構：  
 
圖5.7 進一步改良的MAC架構 
 
一個 superframe 分割成一個 hard control subframe、一個 soft control frame
和一個 data subframe。一個 hard control subframe 由多個 control slot 組成，一組
control slot 對應到一格資料時槽，一組 control slot 有 5~6 格 mini-slot。第一格
mini-slot 用來讓傳送端通知它周圍的節點，它會造成多少的干擾功率。2～3 格
mini-slot 用來讓接收端通知它周圍的節點，使周圍節點得知自己的功率上限。
最後兩格 mini-slot，為分散式競爭所用。一個 data subframe 會由多個(32~256)
資料時槽組成。 
 
Soft Transform 機制 
每次soft control subframe結束後，節點會找出一格干擾量最低且閒置的資料
時槽，假設此資料時槽的干擾為Ivalid。節點再挑出它手上規劃成接收，且干擾最
高的資料時槽，並假設此資料時槽的干擾為Ischeduled，如果Ivalid/Ischeduled <3dB，該
節點就會試著對這格空著的資料時槽做soft reservation。 
該節點針對每個data flow去額外擷取一個資料時槽做soft reservation，並用
water-filling演算法去算出新的傳送總功率，接下來選出可以節省最多能量的傳送
端，並在backoff後，對該傳送端unicast一個SR-Rcp frame。 
 
SR-Rcp 訊息內容：  
 69 
模擬的網路區域長1000公尺、寬1000公尺，模擬的總時間為10000個
superframes，200個節點隨機分佈在這個環境中，每20個superframes來一個data 
flow，每個data flow維持的時間為幾何分布，其傳送端與接收端是從200個節點中
隨機選擇。網路進入穩態後一段時間，才開始統計吞吐量和能量的消耗。最後，
我們設定每個data flow所需的吞吐量為13000bps/superframe。 
 
Area size 1000m × 1000m 
Number of node 200 
Simulation Time 10000 superframes 
Data flow arrival rate 1 per 20 superframes 
Request capacity 13000 bps / superframe 
表5.1 系統模擬參數設定 
我們所使用的傳輸模型(propagation model)為two-ray ground model：  
Ld
hhGGP
P
rtrtt
t 4
22
  
其中P
r
為接收訊號的功率，P
t
為傳送訊號的功率，G
t
為傳送端的天線增益
(antenna gain)，G
r
為接收端的天線增益，h
t
為傳送端的天線高度，h
r
為接收端的
天線高度，d為傳送端跟接收端的距離，L為系統損失(system loss)，所採用的參
數如表六所示： 
Antenna gain of transmitter(G
t
) 1 
Antenna gain of receiver(G
r
) 1 
Height of transmitter(h
t
) 1 m 
Height of receiver(h
r
) 1 m 
System loss(L) 1 
 
表 5.2 Propagation model 參數設定 
 
 71 
5.3.2 模擬結果分析與比較  
總吞吐量的比較  
 
圖5.8 總吞吐量的比較 
 
在總吞吐量的比較上，不論是hard transform或是soft reservation，總吞吐量都
沒有相差太多，因為三種架構都是用同樣的路由方法，而且分配資料時槽的方
法，三種架構也一模一樣。 
 
平均功率消耗的比較 
 73 
receiver sensitivity的要求也會大幅下降，使得傳送功率更有機會可以大幅下降，
從模擬結果中也可以看出，與MRPS-TDMA和hard transform的方法比較起來，soft 
transform可以省最多的平均功率消耗。 
 
5.4 參考文獻 
[1] J. So and N. Vaidya, “Multi-Channel MAC for Ad Hoc Networks: Handling 
Multi-Channel Hidden Terminals Using A Single Transceiver,” ACM MobiHoc, 
2004. 
[2]  M. Zannoth, T. Ruhlicke, and B.-U. Klepser, “A Highly Integrated Dual-Band 
Multimode Wireless LAN Transceiver,” IEEE J. Solid-State Circuits, vol. 39, no. 
7, pp. 1191-1195, July 2004. 
[3] J. Zhang, G. Zhou, C. Huang, S. Son, and J. A. Stankovic, “TMMAC: An Energy 
Efficient Multi-Channel MAC Protocol for Ad Hoc Networks,” IEEE ICC, 2007. 
[4] Hoi-Sheung Wilson So, Jean Walrand, Jeonghoon Mo, “McMAC: A Parallel 
Rendezvous Multi-Channel MAC Protocol”, IEEE WCNC, March 2007. 
[5] T. Lin and J. Hou, “Interplay of Spatial Reuse and SINR-Determined Data Rates 
in CSMA/CA-Based, Multi-Hop, Multi-Rate Wireless Networks,” in Proc. IEEE 
INFOCOM, May 2007, pp. 803–811. 
[6] W.-H. Tam, Y.-C. Tseng, “Joint Multi-Channel Link Layer and Multi-Path 
Routing Design for Wireless Mesh Networks, ” in IEEE INFOCOM, 2007. 
[7] C. Corderio and K. Challapali, “C-MAC: a cognitive MAC protocol for 
multichannel wireless networks,” Proc. IEEE Symposium on New Frontiers in 
Dynamic Spectrum Access networks, April 2007. 
 75 
[16] Yaling Yang; Kravets, R, “Contention-aware admission control for ad hoc 
networks" IEEE Transactions on Mobile Computing, Volume 4, Issue 4, July-Aug. 
2005 Page(s):363 – 377 
[17] Szu-Lin Su; Yi-Wen Su; Jing-Yen Jung, “A Novel QoS Admission Control for Ad 
Hoc Networks” IEEE Wireless Communications and Networking Conference, 
2007, March 2007 Page(s): 4193 – 4197 
[18] Kuei-Ping Shih, Chau-Chieh Chang, and Yen-Da Chen, “MRPC: A Multi-Rate 
Supported Power Control MAC Protocol for Wireless Ad Hoc Networks,” IEEE 
Wireless Communications and Networking Conference 2009, Page(s): 1 – 6 
[19] Kanzaki.A, Uemukai.T, Hara.T, Nishio.S, “Dynamic TDMA slot assignment in 
ad hoc networks,” Advanced Information Networking and Applications, 2003, 
Page(s): 330 – 335 
[20] Akimitsu Kanzaki, Takahiro Hara, and Shojiro Nishio, “An Adaptive TDMA Slot 
Assignment Protocol in Ad Hoc Sensor Networks,” 2005 ACM Symposium on 
Applied Computing, Page(s): 1160 – 1165 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 77 
 
6.2.2 限制式 
(I) 功率限制式 
            (2) 
在式(2)中因為放大器的物理特性限制，每個節點 在同一時槽中所傳輸
的總功率不能超過最大功率 ，其中 為由節點 為起始點的鏈結集
合。且因為每個裝置只具有單天線，因此在同一個時槽中無法進行同時傳送與接
收的動作，此特性稱為半雙工，為了滿足此半雙工特性我們加入一個二元變數
，其定義如下: 
 
(II)容量限制式 
假設 Ad-hoc 網路的共享頻寬為W (MHz)，接著我們利用 Shannon 通道容量
定理可輕易的得到鏈結 的通道容量且由訊雜比(Signal Interference Noise 
Ratio)唯一決定(MBps)，Shannon通道容量形式如下： 
  (3) 
其中 代表在 時槽鏈結 的訊號受到雜訊干擾的程度，數學形式如下 
  (4) 
其中 代表鏈結 的通道頻寬， ； 代表鏈結 的通道增益，
； 代表所有會干擾到 的鏈結集合； 代表其他鏈
結對鏈結 所產生的干擾； 代表熱雜訊密度(mW/MHz)，熱雜訊會在所有的電子裝
置與通訊媒體中出現，且雜訊的大小是由溫度掌控的，其表示式為 ，
 79 
 (7) 
其中 為資料流  的吞吐量。由於終止節點(destination nodes)與中繼點
(intermediate node)只要維持流量守恆將可保證起始節點(source node)亦會流
量守恆，因此不需要再多一個限制式來保證來起始節點流量守恆。 
 
 (IV)時槽限制式 
鏈結層(Link layer)中，時間排程的功能是在每一個“時槽”中負責協調網
路中所有節點的傳輸，目的在於確保每一個時槽中所有節點皆符合半雙工的條
件，換句話說在同一時槽中節點不能同時傳送與接收資料。然而在模擬中，我們
時槽重新定義為“在網路中每一個節點有具體傳輸(傳送與接收)行為的時間區
間”，時槽的定義是針對在網路層的模型建立與問題的制定；我們所使用的時槽
定義可以允許一個節點在同一個時槽中傳送給多個節點，簡單來說可以多個時槽
的聚集； 舉例來說，在網路中有四個 node 分別為 node 、 、 與 而 node 在
時間 、 與 分別要傳送資料給 node 、 與 ，如果 node 、 與 分別在
時間 、 與 沒有傳送資料給其他 node，則時間 、 與 根據我們定義的時
槽我們可以將時間 、 與 這三個時間看成同一個時槽，如下圖所示。 
 
 
圖 6.2 
Node  transmit to 
node  
in t1 
Node  transmit to 
node  
in t2 
Node  transmit to 
node  
in t3 
Node  transmit to node & node  & node  
in Time Slot_1 
 81 
 
圖 6.3 
假設 範圍為 ，且 和 對應的通道容量分別為
和 ，最左邊的第一條的割線兩端分別交於 與 ，其對應
的 分 別 為 與 ， 以 此 類 推 ， 第 k 條 割 線 兩 端 點 分 別 交 於
與 ，其對應的 別為 與 ，直到通
道容量達到 ，在此將這些割線所形成的曲線表示為 來近似通
道容量。 
 
[重新線性規劃技術] 
接著在我們所建構的數學模型中含有多變數相乘項(例如:目標函式中的分
母項)，此會非線性規劃問題，為了解決此非線性問題，我們採用了重新線性規
劃技術來將此問題放鬆為線性，其做法概念如下: 
舉例來說， 且 與 ，其中
與 分別為 kt 的變數上限與下限， 與 分別為 的變數上限與
下限，因此可得到以下四條關係式: 
             
 83 
，因此得到 ；換句話
說，若鏈結 的中有任何一個節點存在自干擾的話，此鏈結的通道容量則為零，
因此可達到使用 0-1整數變數的效果，使節點保持半雙工的特性；如此一來限制
條件式(2)使用的 0-1 整數變數則可移除，因此可分別簡化成 
  
[線性分數規劃] 
在我們所考慮數學模型中，目標函式為一分數規劃問題，其問題形式(P)如下： 
 
Subject to 
 
其中 為 的子集合， 為 的矩陣， 在 中為連續，且 在 中
須 滿 足 。 然 而 我 們 的 目 標 函 示 中 的 與
且皆為連續的正函數，因此符合上述問題特性，所以為線性
分數規劃問題，由於分數型態的目標函式需使用特殊的演算法來求解，在模擬中
使用的 Dinkelbach-type 演算法就是其中之一。 
接下來介紹如何使用 Dinkelbach-type 演算法來求解線性分數規劃問題；
Dinkelbach-type 演算法是將求解分數規劃問題轉換成求解另一個一連串的參數
問題的一種疊代方法，以我們所考慮的問題(P)為例，它將問題轉換成求解一連
串連續的參數問題，如下 
 
其中 為問題中的參數，定義為 
 
 85 
 
分枝定限演算法 
分枝定限法為一種求解的通用框架，非線性規畫問題與整數規畫問題皆可使
用框架來求解。分枝定限法透過有組織且有效率的方式檢視所有的可行解來找出
最佳的可行解當作問題的最佳解。分枝定限法套用在非線性規劃問題時，其運作
概念首先我們將原本的非線性規劃問題透過 RLT 放鬆成線性規劃問題再來求放
鬆後的最佳解，接著使最大放鬆的最佳解為目標函式的上限 Upperbound(UB)，
接著從 UB 中找出一可行解當成目標函式的下限 Lowerbound(LB)，每次得到一
個最佳解就必須先判斷放鬆的 UB 是否等於 LB，若 UB=LB 則設定此 LB 為原問
題的最佳解並且結束演算法；反之，則依據變數誤差大小挑選出一個誤差最大的
變數，此變數被稱之為切割變數，將此切割變數的變數範圍分成數個不同的區
域，接著將問題分割成數個較小的子問題，藉此逼近 UB 與 LB，直到滿足
UB=LB。假設下圖為我們的原問題，  
 
圖 6.4 
 87 
切割的方式對此子問題繼續作切割直到滿足停止條件。下圖為分枝定限演算法流
程圖。 
6.3 具體成果 
        
0.04 0.05 0.09 0.11 0.11 0.12 0.16 0.32 
表 6.1 最佳時槽 
 
 
圖 6.6 最佳路由 
 
6.4 參考資料 
[1] J. So and N. Vaidya, “Multi-Channel MAC for Ad Hoc Networks: Handling 
Multi-Channel Hidden Terminals Using A Single Transceiver,” ACM MobiHoc, 
2004. 
[2]  M. Zannoth, T. Ruhlicke, and B.-U. Klepser, “A Highly Integrated Dual-Band 
Multimode Wireless LAN Transceiver,” IEEE J. Solid-State Circuits, vol. 39, no. 
7, pp. 1191-1195, July 2004. 
Session 1 
Session 2 
Session 3 
Session 4 
Session 5 
 89 
[12] W. Hung, K. Law and A. Leon-Garcia, “A Dynamic Multi-Channel MAC for Ad 
Hoc LAN,” in Proc. Of 21st Biennial Symposium on Communications, April 
2002. 
[12] C.E. Perkins, E.M. Belding-Royer, and I.D. Chakeres, “Ad Hoc On Demand 
Distance Vector (AODV) Routing,” IETF Internet draft, Oct. 2003. 
[13] Perkins, C and Royer, E “Ad hoc on-demand distance vector routing” in Proc. 
2nd IEEE Workshop Mobile Comput. Syst. Appl., 1999, pp. 90–100.  
[14] D.B. Johnson, D.A. Maltz, and Y.-C. Hu, “The Dynamic Source Routing 
Protocol for Mobile Ad Hoc Networks (DSR),” Internet draft, 
draft-ietf-manet-dsr-09.txt, Apr. 2003. 
[15] Lei Chen; Heinzelman, W.B, “QoS-aware routing based on bandwidth estimation 
for mobile ad hoc networks” IEEE Journal on Selected Areas in Communications, 
Volume 23, pp. 561 – 572, March 2005 
[16] Yaling Yang; Kravets, R, “Contention-aware admission control for ad hoc 
networks" IEEE Transactions on Mobile Computing, Volume 4, Issue 4, July-Aug. 
2005 Page(s):363 – 377 
[17] Szu-Lin Su; Yi-Wen Su; Jing-Yen Jung, “A Novel QoS Admission Control for Ad 
Hoc Networks” IEEE Wireless Communications and Networking Conference, 
2007, March 2007 Page(s): 4193 – 4197 
[18] Kuei-Ping Shih, Chau-Chieh Chang, and Yen-Da Chen, “MRPC: A Multi-Rate 
Supported Power Control MAC Protocol for Wireless Ad Hoc Networks,” IEEE 
Wireless Communications and Networking Conference 2009, Page(s): 1 – 6 
國科會補助計畫衍生研發成果推廣資料表
日期:2012/12/26
國科會補助計畫
計畫名稱: 總計畫：節能及高移動性通訊技術之研究
計畫主持人: 蘇賜麟
計畫編號: 100-2221-E-006-170- 學門領域: 通訊
無研發成果推廣資料
其他成果 
(無法以量化表達之成
果如辦理學術活動、獲
得獎項、重要國際合
作、研究成果國際影響
力及其他協助產業技
術發展之具體效益事
項等，請以文字敘述填
列。) 
無 
 成果項目 量化 名稱或內容性質簡述 
測驗工具(含質性與量性) 0  
課程/模組 0  
電腦及網路系統或工具 0  
教材 0  
舉辦之活動/競賽 0  
研討會/工作坊 0  
電子報、網站 0  
科 
教 
處 
計 
畫 
加 
填 
項 
目 計畫成果推廣之參與（閱聽）人數 0  
 
