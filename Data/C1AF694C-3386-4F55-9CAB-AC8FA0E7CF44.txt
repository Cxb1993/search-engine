定一種區塊模式（16X16）。 
（4）H.264的精準度可以到1/4 Pixel Motion 
Estimation，就造成較多的計算時間。 
因上述因素，使得 H.264 運算複雜度比
MPEG-4 多了好幾倍，造成所花費的時間非常
可觀。 
由於H.264應用在即時傳輸方面，由於提
高效能，犧牲時間，這對H.264有大大的不利。
因此著手在改善所增加的計算量。用JM5.0c看
出H.264運算時間分佈圖（圖1），可見在做移
動估計（Motion Estimation）所花的時間最多
（H.264是用full search），現在有一些文獻
[3-18]針對fast search algorithm來改善其計算
量。由於H.264為了提高效能，在做移動估計
時畫面間模式的選擇多了7種區塊選擇和5個
參考畫面，使得計算複雜度的提升。因此考慮
如何降低計算複雜度，且維持好的影像品質為
本計畫之重點。 
 
圖 1 H.264 用 JM5.0c 之運算時間分佈圖 
 
三、 研究方法及成果 
畫面間模式的選擇中有7種區塊模式，分
別為16x16模式、16x8模式、8x16模式、8x8模
式、8x4模式、4x8模式、4x4模式，如何判斷
現在的區塊要用何種模式來做移動估計才會
有最好的移動向量？在H.264中是把7種模式
都以Lagrangian function來判斷，再從中選擇最
好的模式，雖然這樣可以找出最好的模式，但
一張CIF格式畫面計算量就比先前的影像標準
多了7倍的計算量。為了減少計算量，我們嘗
試從一張畫面中的影像資訊的觀察其關聯
性，進一步找出可以減少執行的模式選擇次
數。首先分析一張畫面，可以分成平坦區域和
邊緣或較為複雜的區域。在平坦區域中，從移
動向量的資訊中，可以知道移動向量小，從影
像中像素值的資訊中，每個像素值極為接近；
在邊緣或較為複雜的區域，以移動向量資訊，
判斷移動向量較大，在影像中像素值的關係，
像素值的差異較大。利用這二個觀念，可以判
別出平坦的區域用較大的模式，在邊界或較為
複雜的區域用較小的區塊模式。 
本計畫利用Fuzzy推論，以這二個資訊當
做Fuzzy set，再由這二個Fuzzy set，產生出四
個Fuzzy rule，經由這四個Fuzzy rule，判斷出
什麼情況需要被切割為較小的模式，或使用較
大的模式；設定出四個Fuzzy rule的可能性，再
經過解模糊化公式，得出一個臨界值用以判斷
是否需從大區塊切割為較小區塊。 
max
ln( )
ln( )
av
v
EI
E
=
 
圖 2 MV tightness 及 Iv compactness 之定義 
在影像中像素值的資訊中，可以知道平坦
區域中的像素值變化極小；邊緣或複雜區域中
的像素值變化變大，利用這個關係性可以判別
區塊切割的模式。其定義如下： 
 
在 不 同 的 模 式 中 ， 所 得 到 的 Iv 
compactness 也是一樣的道理。如 8x8 模式，
會得到四個 Iv，先求四個 Iv 的平均值，與各
別 的 Iv 相 減 再 取 絕 對 值 ， 得 到 的 Iv 
compactness。在平坦的區域，Iv compactness
會很小；在邊緣或複雜區域算出來的 Iv 
compactness 會較大。如圖 2，不管什麼模式就
