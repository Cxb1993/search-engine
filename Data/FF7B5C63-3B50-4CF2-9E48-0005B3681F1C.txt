21. 前言
噪音是每一個大城市市民經常投拆的環境污染問題，台灣地小且人又多，加
上相關的法令規劃欠妥善，經濟與科技又蓬勃發展，所以難免會有環境噪音的產
生。所謂的噪音是指干擾人們正常生活的聲音，大部份是指不協調的聲音中有許
多不同頻率和強度的聲音雜亂地湊合而成，例如:工廠機器、建築工程、交通運
輸系統、飛機及其他噪音。噪音是主觀感覺，會隨著人們的心理狀態而有所不同
的影響，長時間受到噪音污染的騷擾，會使我們心情煩躁，影響工作和學習效能，
甚至可能引起身體出現了毛病，例如可能會影響我們腦部的神經，進而影響我們
的食慾，造成神經衰弱、暴躁、聽覺不靈、食欲不振、血壓增高、心跳加速、精
神不集中、干擾談話等等症狀，甚至長期在高分貝噪音下生活或工作，會使聽覺
受到嚴重損害，造成永久性失聰，所以噪音污染是影響人類生活的重要一環。
2. 研究目的
本計畫之研究目的是要利用主動式噪音控制技術，產生抵消訊號，以其降低噪音
功率。主動式噪音控制為近年來所發展的先進技術，其原理為在噪音聲場裡以人
為的方式來產生一個或一個以上的控制聲源，對主要的噪音源進行干涉，如此一
來即可達到消音的目的，藉此以彌補被動式方法的不足。主動式噪音控制的好處
就在於使用到的空間小、重量輕、設計的靈活性大、對低頻性能佳，因此是我們
計畫中採用技術的主要選擇。在電腦模擬時，於線性及非線性噪音源中，希望均
能達到不錯的效能；且於非線性噪音源時，能較其他以目前常見的 LMS 系列演
算法為基礎的主動噪音控制系統有更好的效果。 另外，我們計畫利用 FPGA 來
實現此主動噪音控制系統，希望在不久的未來，能將整個系統以最佳的方式呈現
出來。
3. 文獻探討
目前噪音的防治研究工作在世界各地仍然地持續進行中，而主要的消除方式分為
二種 [1]，分別稱之為被動式噪音控制 (passive noise control) 及主動式噪音控制
(active noise control, ANC)。在主動式噪音控制系統中，控制器為最主要的部分，
控制器主要是幫助系統做學習，並從學習中不斷地更新權重値，而使整個系統能
快速地達到收斂的狀態，目前控制器常用的演算法大多為 LMS 演算法系列 [5]，
如 FXLMS [2]、FSLMS [3]、VFXLMS [4] …等等。FSLMS 演算法 [3] 是將
FLANN 演算法 [6, 7] 和 LMS 演算法 [5] 結合而成的，將輸入值經過 FLANN
演算法 [6, 7] 展開為 sin(·) 及 cos(·) 訊號後，再來進行改變權重的運算，並結
合 LMS 演算法 [5]，進行類神經系統的學習。在噪音源為線性的狀態下，以
linear standard FXLMS 演算法 [2] 為基礎架構的主動噪音控制系統表現最好，
因為 linear standard FXLMS 演算法 [2] 是以線性値為標準所建立的運算架
構，但日常生活中的噪音源絕大部分不是線性的，所以我們將重點放在非線性的
噪音源上。在噪音源為非線性的狀態下，以 FSLMS 演算法 [3] 有較佳的表現，
而這是因為 FLANN 演算法 [6, 7] 中將訊號擴展為三角函數值的線性組合，而
這些數值經過累加之後，會和非線性訊號相似，所以在非線性的噪音源中有不錯
的表現，而這也是我們採用此架構的原因。
4道等化問題。 FLANN 與 MLP 一樣，也是利用 BP 演算法訓練網路，因為其
結構比 MLP 簡單，所以收斂速度快。整個學習演算法如下 [12]：
      mjXkWXkwky j
N
i
kijij ,...,2,1,ˆ
1








 


其中，
 )()()( 21 kxkxkxX nk  ,
])()()([)( 21 kwkwkwkW jNjjj  ,
 TkNkkk XXXX )()()()( 21      TkXkk  
W(k+1)=W(k)+μΔ(k)+γΔ(k-1)
此處 δ(k)=[δ1 (k) δ2 (k) …δm (k)]
T ,
)())(ˆ1()( 2 kekyk jjj  ，
)(ˆ)()( kykyke jjj  ,
 Tm kwkwkwkW )()()()( 21 
μ是 learning factor，γ是 momentum factor，用來決定類神經網路的收斂速度。
FSLMS (filtered-s LMS) 演算法是專門為非線性噪音源所設計的演算法，主要利
用 FLANN 的架構配合三角函數展開法 (trigonometric functional expansion) 來
做為錯誤修正的權重更新的運算，其架構如圖四所示。權重的修正是靠在取樣瞬
間，測量輸出處之音源波形與真實音源波形之誤差，然後利這個去估計跳接權重
應該修正的方向，以逼近最佳值。
我們所採用的標準為目前在應用上較普遍的均方誤差標準 (MSE)；以均方誤
差為基準的適應性等化器，和以最大誤差（MAE）為基準的適應性等化器，在
對時間同步的靈敏度上做比較，會發現均方誤差標準對時間同步上的要求較不敏
感。因此，我們使用均方誤差標準來推導適應性等化器的演算法。
1x
2x
nx
X
W 1S
2S
nS



x1
x2
xn
ky1ˆ
ky2ˆ
kynˆ
圖二 FLANN 的結構
6     


M
i
iiswnandnynandne
1
**      nansnenwnw *1 
 nvnenw 
其中 μ是步距參數 (step-size)，用來控制 FSLMS 演算法的收斂速度。 na~ 為
a(n) 的估算值。    nansnv ~* 為從 s(n) 中過濾出符合濾波器脈衝響應元素
na~ 的信號。圖五為濾波的方塊圖。在 N 個記憶元素、L 個第二傳輸函數接點
和 P 階層函數擴充時，以 FLANN 為基礎的 FSLMS 演算法，所需的計算複雜
度如下：
(1)計算 FLANN 輸出 y(n)
乘法所需的數量 N(2P＋1)
加法所需的數量 N(2P＋1)－1
sin/cos 運算所需的數量 2NP
(2)計算 v(n)、s(n)中被過濾的信號元素
乘法所需的數量 LN(2P＋1)
加法所需的數量 L(2P＋1)－(L－1)
(3)關於更新權重
乘法所需的數量 2N(2P＋1)
加法所需的數量 N(2P＋1)－1
(4)全部的計算負載
乘法所需的數量 N(2N＋1)(L＋3)－L
加法所需的數量 N(2P＋1)(L＋1)+1
sin/cos 運算所需的數量 2NP
n1S
n2S
n3S
nA~
nA~
nA~
1Z
1Z
1Z
1Z
1Z
1Z
nV1
nV2
nV3
nV4
nV5
nV6
nVM 1
nVM 2
nVM
圖五 s(n) 擴展成 v(n) 時濾波的方塊圖
8圖六 FSLMS 主動式噪音控制之處理單元的詳細
圖七 FSLMS 權重更新器方塊圖
圖八 噪音源和軟體模擬
ANC系統的輸出値
圖九 以 FPGA 所實現的硬體
架構之輸出
在這裡一個以 FLANN 為基礎架構所發展出來的 FSLMS 演算法，成功地
運用於一前饋式的主動噪音控制系統中。在電腦模擬時，於線性及非線性噪音源
中，均能達到相當不錯的效能，且於非線性噪音源時，能較其他以目前常見的
LMS 系列演算法為基礎的主動噪音控制系統有更好的效能。 FAST FSLMS 演
算法比 FSLMS 演算法更節省硬體空間，且所需的運算複雜度較少，所以我們
採用 FAST FSLMS 演算法作為基礎，利用 FPGA 來實現此主動噪音控制系
統，希望在不久的未來，能將整個系統以最佳的方式呈現出來。
