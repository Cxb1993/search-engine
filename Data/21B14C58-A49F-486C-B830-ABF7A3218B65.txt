 -  - 2
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
圖 1 近似包覆橢圓球之計算流程圖 
 
3.1 凸包覆多邊體之分析 
所謂的凸包覆多邊體，是指在空間中給定的一組
點集合，尋找能夠包含所有點的凸多面體，其外觀上
並無所謂的局部凹陷(Concave)。目前被提出用來計
算凸多邊體的演算法有多種，而在本論文中所使用的
為 Incremental 演算法，該法具有以下四個步驟: 
(1) 在點資料中任取 4點且連接成為一個凸 4 面
體。 
(2) 計算每個平面的法向量(法向量的方向為射
向多邊體外面)。 
(3) 加入新點並計算新點是否在多邊體之內(以
向量方向作為判斷依據)，若判斷之後在多
邊體內則換下一個點；若是在多邊形外則計
算新的邊界與面。 
(4) 重覆步驟 3 到所有的點皆計算完畢。 
以圖 2 為例，左圖之幾何模型經由凸包覆多邊體
近似分析後所得之凸多面圖如右圖所示，原模型位於
內部之頂點已被刪除，且新的模型表面網格被加入。 
 
3.2 最小平方橢圓球嵌合演算法 
基本上，在三維空間中任意二次曲面可表示為以
下方程式: 
 
 
 
圖 2 任一幾何模型及其包覆凸多邊體 
 
2 2 2 2 2 2 2 2 2
0T
F ax by cz fyz gxz hxy px qr rz d
v X
= + + + + + + + + +
= ⋅ =  (1)
 
其中 
[ ]
2 2 2 2 2 2 2 2 2 1
T
i i i i i i i i i i i i i
T
X x y z y z x z x y x y z
v a b c f g h p q r d
 =  
=
 
藉由二次曲面的矩陣形式，本研究採用最小平方
橢 圓 球 嵌 合 演 算 法 (Least Squares Ellipsoid 
Specific Fitting)，依據橢圓球參數限制條件的加
入，以 Lagrange 乘數法求取極值來計算橢圓球參數。 
首先定義: 
2
1
2
1
( ) ( )
n
T
A i
i
n
i
i
T T
D v F X
k
v D Dv
=
=
=
=
=
∑
∑               (2) 
其中 
[ ]TnXXXD ⋅⋅⋅= 21 ，稱之為 Design Matrix。 
)( iXF :Algebraic Distance(代數距離)。 
AD :代數距離平方的總合。 
 
已知橢圓球限制條件為 
04 2 >− IJ             (3) 
其中 
cbaI ++= ， bh
ha
ag
gc
cf
fb
J ++=  
將(3)展開後，可將限制條件進一步改寫為 
             24 0TJ I v Cv− = >              (4) 
其中 
1 6 4
4 6 4 4
0
0 0
X
X X
C
C
 =   
 












−
−
−
−
−
−
=
400000
040000
004000
000111
000111
000111
1C
 
在滿足限制條件(4)的情況下計算 AD 的極值，可以表
示成以下的數學式子 
Min ( )TAD v  Subject to 04 2 >− IJ        (5) 
利用 Langrage 乘數法求解極值，令 
0T Tf gv v
λ∂ ∂+ =∂ ∂                 (6)
 
上式中 DvDvf TT= ， CvvRg T−= ，R為大於 0 之實數，
λ 為 Langrage 乘數。經整理後可得 
凸包覆多邊體之分析 
計算凸多邊體上點的距離函數，並且利用點
密度計算其權重，進而修改 Design Matrix
計算橢圓球參數，並且等比例放大橢圓球
分析比較體積以及誤差 
 -  - 4
3.5 橢圓球之體積、角度與誤差評估 
基本上，評估嵌合出來的橢圓球優劣可以從兩個
方面來評斷，一個是未包覆到的點資料所造成的誤
差，而另一個為體積的大小，當誤差與體積越小時，
可以判斷定其包覆效果較好。如前所述，三維的二次
曲面橢圓球可表示為: 
0222222222 =+++++++++ drzqypxhxygxzfyzczbyax  
或改寫成: 
0=++ dBXAXX TT             (15) 
其中 








=
z
y
x
X
，








=
cfg
fbh
gha
A
，








=
r
q
p
B
2
2
2  
若將 A對角化，即 1−= SDSA ，且 S為一正交向量
所構成，即 S為正交矩陣，而且 1−= SS T ，D為特徵
值所組成的矩陣。 








=
3
2
1
00
00
00
λ
λ
λ
D            (16) 
藉由矩陣對角化，最後可以得到橢圓球的標準式: 
RZYX =++ 232221 λλλ         (17) 
其中 X、Y、Z為橢圓球二次式經過平移以及旋轉所
得到的標準式。藉由橢圓的標準式，經過移項可得: 
1
)/()/()1/( 3
2
2
22
=++ λλλ R
Z
R
Y
R
X         (18) 
而橢圓球的體積(Volume)為: 
2
1
3
2
1
2
2
1
1
)()()(
3
4
λλλπ
RRRVolume =       (19) 
 
另一方面，在對角化的過程中可同時算出橢圓球
的主軸方向。假設(13)式中 A 矩陣的對角化正交矩
陣 S為: 








=
321
321
321
ccc
bbb
aaa
S            (20) 
其中 1λ 所對應的方向向量為 [ ]111 cba ，而 2λ 所對應
的方向向量為 [ ]222 cba ， 3λ 所對應的方向向量為
[ ]333 cba 。 
對於未包覆到的點資料所造成的總誤差，所以可
以導出下列式子: 
∑
=
=
m
i
iXFJ
1
)(             (21) 
其中
iX 代表的是未包覆到的點，一共有m點。 
 
 
四、實例分析 
    圖 3 所示為一個汽車後照鏡的三角網格幾何模
型，原始模型總共具有表面點群 600 點，經過利用凸
包覆多面體演算法處分析理後，原來模型所具有 600
個點縮減至 200 點，如圖 4 所示。圖 5 代表的是每個
點(共有 200 個點) 所對應的密度，而圖 6 代表的是
每個點所對應的權重分佈圖。 
 
圖 3 汽車後照鏡三角網格幾何模型 
 
 
圖 4 Convex Hull 之後的結果 
 
 
圖 5 點群距離函數評估 
