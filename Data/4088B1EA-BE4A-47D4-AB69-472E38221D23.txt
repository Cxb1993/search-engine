modules, (2) the cloud computing calculates the best 
route to translate intrusion detection modules depend 
on artificial bee colony and WSN environment 
information, (3) the manager chooses detection models 
from anomaly models depend on the result of cloud 
computing. The ranger loads detection models to make 
a circuit of detecting anomaly, (4) when the ranger 
detects anomaly, the error information will be 
recorded in isolation table, (5) intrusion detection 
system duplicates those steps until detection models 
are converged. The cloud computing calculates best 
route information depend on artificial bee colony and 
deploys intrusion detection modules. The light-weight 
IDS combines the ranger method to reduce energy 
consumption and the isolation tables avoid detecting 
anomaly repeatedly. Our project proposes a artificial 
bee colony ranger IDS, which improves existence 
shortcomings of route problem on WSN IDS effectively.
英文關鍵詞： Intrusion Detection System；Wireless Sensor Networks, 
Artificial Bee Colony Algorithm； Route Problem； 
Cloud Computing 
 
報告內容 
 
摘要 
 
無線感測網路(Wireless Sensor Networks, WSN)近年來相關研究發展迅速，隨著無線感測網路應用如
健康看顧和災害回報的使用越來越多，無線通訊的資訊安全需求也變得更加重要。無線感測網路入侵偵
測系統(Intrusion Detection System, IDS)的學者指出，系統偵測機制會影響到它的偵測效率，進而影響整體
網路的生命週期。然而運用蜂群演算法(Artificial Bee Colony Algorithm, ABC)於入侵偵測，並且達到輕量
化入侵偵測系統路徑最佳化相關實證研究仍不多。因此，本計畫的目標在探討結合蜂群演算法於入侵偵
測系統，並最佳化輕量化入侵偵測系統偵測路徑。本計畫區分為五個步驟：(1)透過雲端運算(Cloud 
Computing)分析無線感測網路環境，並給予無線感測網路建議，配置不同的入侵偵測模組；(2)雲端計算
使用蜂群演算法，依據無線感測網路資訊，計算出設定入侵偵測模組的最佳路徑；(3)管理者依據雲端計
算的結果，由巡守節點裝載偵測知識以巡守方式偵測異常；(4)當巡守節點發現異常，錯誤資訊將會被儲
存在隔離表中；(5)最後入侵偵測系統重複以上步驟直到偵測模組收斂。透過蜂群演算法及雲端計算，能
夠加速計算入侵偵測系統最佳路徑，並且分析網路環境，配置適用的偵測模組。本計畫所提出的蜂群演
算法可以有效地改善現有無線感測網路入侵偵測路徑規劃的缺點。 
 
關鍵詞：入侵偵測系統；無線感測網路；蜂群演算法；路徑規劃；雲端運算。 
 
1. 前言 
 
由於無線感測網路運用的範圍較為廣泛，且應用上具有隱私性及重要性的問題，因此它們的資訊安
全成為重要的議題，其中包含搜集資訊的正確率、感測節點是否遭受攻擊、認證方式應用是否適當等。
因為網路協定及硬體在使用上與有線網路有所不同[1]，所以在入侵偵測系統及入侵防禦系統的使用定義
上也有所區別。有線網路的入侵防禦系統主要在網路遭受入侵時，系統會將異常封包自動排除並留下封
包移除記錄，是一種主動式入侵防禦系統；但在無線網路上，入侵防禦系統主要針對加密及認證機制進
行探討[2]，由於能源受到限制，因此使用對稱式金鑰將資料加密，並認證資料的傳輸是否正確，因此與
有線網路差異性較大。另一方面，有線網路的入侵偵測系統主要在於偵測封包是否為異常封包，根據已
知攻擊行為設置規則(Rules)，再進行封包偵測，若是異常封包就對網路管理人員提出警報，讓網路管理
人員可以加以處理，是一種被動式偵測攻擊的系統；而在無線感測網路上的入侵偵測系統，利用節點的
行為加以判斷是否為異常行為[3]，或是偵測出該節點遭受攻擊者侵佔及利用，則進一步處理該節點。 
基於無線感測網路能源受到限制，因此進行入侵偵測時，需要考慮到傳送入侵偵測規則的耗能，因
此防禦者在入侵偵測模式會與有線網路差距較大，所需考慮到的因素也與有線網路不同。由於無線感測
網路在通訊及計算方面都會消耗能源，若入侵偵測系統計算量過大，或者傳送偵測資訊次數過於頻繁，
就會縮短整體網路存活時段，因此在無線感測網路入侵偵測效能評估部分有別於有線網路入侵偵測的評
測方式[4]。 
入侵偵測系統於主機端及網路端架構實體主機，並且對於網路封包進行偵測，以判定封包是否異常，
由於實體主機所擁有的硬體設備較佳，因此裝載入侵偵測系統時，能使其達到偵測入侵的目的。但在無
線感測網路中，無法如有線網路架設實體主機，需透過一般節點進行入侵偵測，因此能源及計算能力受
到限制。若將全部入侵規則裝載無感測節點上，則會導致感測節點效能較差，並且入侵者可竊取感測節
點實體，進行分析及破壞。巡守式入侵偵測(Ranger Intrusion Detection System, RIDS)[5]將攻擊模式知識
化，依據整體感測環境，派送不同的攻擊知識，偵測整體網路，以減少入侵偵測耗能。 
巡守式入侵偵測系統可減少入侵偵測耗能，但在派送偵測知識時，該使用的傳送路徑，網路中那些
節點可以進行監測，即為該探討的重點之一。因此我們期望可以透過蜂群演算法(Artificial Bee Colony 
Algorithm, ABC)[6][7]的技術，從無線感測節點配置不均勻的狀況中，尋找適合的群聚方式，並且於演算
法收斂後，找出可用以偵測入侵的節點。但由於無線感測節點計算能力有限，因此在網路環境資料搜集
完成後，透過雲端網路優越的計算能力，在短時間訓練整體資訊後，收斂成可用的巡守路徑資訊，再傳
回至管控端，以分派巡守式入侵偵測系統至無線感測網路中進行監測。 
隨著無線感測網路技術的發展，透過無線廣播的方式傳輸資訊，傳送資訊的安全性已經成為重要的
議題之一。目前無線網路的資訊安全防護系統可以分為兩個階段，首先第一陣線為使用加解密及金鑰系
統防禦外來入侵者的入侵防禦系統(Intrusion Prevention System, IPS)，接著第二陣線為運用異常偵測系統
2 
 
初始 進化
產生 選擇
初代0
新世代
生存適應值
產生個體
適應值
結束
 
圖 1 進化演算法流程圖 
 
2.2 蜂群演算法(Artificial Bee Colony Algorithms, ABC) 
 
蜂群演算法為進化演算法的分支，它模擬蜜蜂找尋食物點的方式，找出在蜂巢附近的食物來源。該
演算法有三種角色，分別為旁觀者蜂(Onlooker)、偵察蜂(Scott)、工蜂(Employed Bee)，分別介紹如下。[9][10] 
(1) 旁觀者蜂：如圖 2 所示，旁觀者蜂會在蜂巢內飛舞，該工作為紀錄食物源的位置，並透過特定的飛行
模式，讓偵察蜂與工蜂知道訊息。若食物源已經採收完畢，旁觀者蜂會轉換為偵察蜂。 
(2) 偵察蜂：驗證潛藏的食物源，並且基於旁觀者蜂的資訊，根據之前的食物源，找出食物源。當找到可
採收的食物源後，會轉換成工蜂進行採收。 
(3) 工蜂：主要的工作為採收食物，但可以分成三種狀況：1.如果食物源的資源很多時，會飛回蜂巢的跳
舞區要求旁觀者蜂協助採收食物；2.持續採收食物，如圖的虛線所示；3.當食物採收完畢，會返回跳
舞區，並轉換為旁觀者蜂。 
 
蜂巢
卸載區
卸載區
旁觀者蜂
偵察蜂
工蜂
放棄食物源
要
求
增
援
持續採收
要
求
增
援
搜尋
搜尋
觀看
 
圖 2 蜂群演算法 
 
蜂群演算法透過上述三種蜜蜂，利用其行為特徵，將未整理的資料進行資料探勘，並找出最佳解的
方法。蜂群演算法會於初始化時，產生隨機的食物源，並且設定世代數。食物源表示可能的解決方案。
4 
 
  
(A)                (B) 
圖 4 Or-opt 演算法 
  
2.4 無線感測網路入侵偵測系統 
 
入侵偵測系統使用攻擊者的攻擊行為進行偵測。密碼學則是不同的應用。在密碼學中，每個節點會
透過加解密方法互相認證，例如使用對稱式金鑰。認證方法可以用於第一線防護，抵擋來自網路外部的
攻擊者。但如果攻擊者獲取加解密方法，進而進入網路內部，入侵偵測系統即為偵測內部攻擊者的第二
道防線。當系統偵測使用者有異常行為時，它會立即對管理者提出警報。 
無線感測網路透過廣播傳送資料，而潛在的攻擊者會擷取這些資料，直到破解加解密方法。當攻擊
者獲得相關的金鑰資料，它可以連結到鄰近的節點，並且隨意的攻擊他們。同時，攻擊者也可以取得相
關的資料以癱瘓整個網路。然而，入侵者行為異於一般的節點，系統管理者可以使用入侵偵測系統找出
特徵性的異常行為。 
感測節點之間與基地台互相傳送資料，必需透過無線傳輸的技術發送及接收資料，若資料傳輸距離
較遠，則會耗費大量能源。為了降低能源消耗，感測節點設置睡眠裝置並設定睡眠模式，讓感測節點進
入睡眠狀態，使節點可以真正節省能源。而攻擊者使用傳輸距離或者睡眠機制的特性，進行能源消耗攻
擊。 
路由表型入侵偵測[12]，在感測節點配置完成後，先進行路由的建立，而此方法則是利用路由層上的
協定，建立出節點相關的異常偵測表。此方法是在感測節點配置完成後，在每個感測節點上建立路由表
資訊，表格內會建立從節點搜集到的資訊，進而透過表格上的資訊在收到訊息時，可以透過表格達到感
測網路的資料認證(Information Authentication for sensor networks, IASN)，此方法作者接著結合連續目的地
距離向量路由表(Destination-Sequenced Distance-Vector Routing, DSDV)[13]，此方法經由結合上述IASN及
DSDV二種方法後，節點可以更清楚資料傳送及接收必經路徑。因此對於非路由表中節點傳送的資料，或
者資料內容錯誤，叢集頭會直接丟棄該資料封包，而達到偵測出異常節點的功能。 
 
3. 混合式蜂群演算法 
本研究將無線感測網路的階層式網路區分出三種角色，分別為雲端網路、基地台、巡守節點與一般
感測節點，接著對於各角色職責簡介如下： 
雲端網路(Cloud Network)：由管理者設置，其能源及計算能力不受限制，且有一定程度的安全。雲端網
路負責在網路行程後，接收由基地台傳送的環境資訊，並且對於節點資訊進行計算，以分析無線感測網
路環境適用的攻擊型態模組。並且透過蜂群演算法，規劃無線感測網路路徑，進行偵測模組的傳送。 
基地台(Sink)：由管理者操控，其能源及計算能力受限制，並且有一定程度的安全。基地台負責在網路形
成時，接收由感測節點傳回的環境與節點資訊，經由資料分析後，由基地台分派模組系統送出偵測模組，
並且由巡守節點進行偵測；在巡守輪迴完成後，整合新搜集的網路資料，並且透過資料簡化的步驟，增
加到資料庫中，以收斂攻擊知識； 
巡守節點(Patrol Node)：由於無線感測路環境包含一般環境與攻擊環境，巡守節點會依環境狀況蒐集鄰近
感測節點的資訊。巡守節點使用攻擊知識去監控鄰近感測節點，整合感測資料送傳送至基地台。它會記
錄異常的資訊到隔離表中，在一般的狀況下，巡守節點會周期性回傳資料與隔離表給基地台。但若發生
攻擊，這些資料會馬上回傳給基地台進行留存。 
感測節點(Sensor Nodes)：負責偵測環境資訊，並將資料定期與不定期的傳回至叢集頭整合。 
本研究結合蜂群演算法與 Or-opt 演算法，以解決最佳化問題，在本研究中，將利用此方法找出最短
路徑，並提供巡守節點進行偵測使用。系統使用歐基里德距離計算巡守節點之間的距離。圖 5 為混合型
蜂群演算法流程圖。 
 
6 
 
(4)比較舊的適應值與新的適應值，並選擇數值較大的； 
(5)如果舊的適應值較大，則回到步驟 1 直到滿足設定的世代數為止； 
(6)排序新的路徑。 
 
3.4 Or-opt 演算法 
 
Or-opt 演算法用以找出最短路徑，系統選擇巡守節點，並將巡守節點進行編號，每個輪迴都會重覆
一次。接著將編號為一的巡守節點被放置在第五個位置，並將其餘節點需要向左移一位，以產生新的路
徑。若新的路徑長度比舊的路徑短，系統就會儲存該路徑，否則重覆這個動作，直至交換全部的節點，
並計算過路徑，交換機制如圖 7 所示。  
 
1 5 2 3 6
插入
4目前路徑
5 2 3 6 4修改路徑 1
 
圖 7 Or-opt 演算法的交換機制 
 
4. 實驗結果 
本研究使用網路模擬程式(ns-2)和 c#實作系統並評估效能。實驗硬體為 Intel® Core™ 2 Duo 2.4GHz 電
腦與 2GB RAM。我們模擬無線感測網路環境為 250,000 平方公尺，環境為靜態環境，並且配置 60 個感
測節點，其中 10%的節點為巡守節點，為每個節點的廣播距離為 100 公尺。實驗裝載蜂群演算法的生命
周期，無線感測網路環境參數如表 1 所示。 
表 1 環境參數 
參數 數值 
網路範圍 250,000 平方公尺 
節點數量 60 
巡守節點 
(包含在節點總數中) 6 
通訊範圍 100 公尺 
初始能源 2 焦耳 
封包大小 512KBytes 
傳送耗能 0.3 瓦 
接收耗能 0.3 瓦 
待機耗能 0.005 瓦 
 
我們設置 60 個感測節點，並設定其中 6 個節點為巡守節點，巡守節點透過多重躍進的方式傳送資料，
無線感測網路配置狀況如圖 8(A)所示。圖 8(A)與圖 8(B)相同，但巡守節點較接近於 sink 端，並且巡守節
點間傳送為單躍進方式傳送，因此本實驗結果設置四條路徑，如表 2 所示，每條路徑經過全部巡守節點，
並由單躍進方式傳送。 
 
 
8 
 
010
20
30
40
50
60
70
0 600 1200 1800 2400 3000 3600
秒
生
存
節
點
數
無裝載IDS且無攻擊
無裝載IDS且有攻擊
裝載RIDS且無攻擊
裝載RIDS且有攻擊
裝載RIDS使用ABC路徑且無攻擊
裝載RIDS使用ABC路徑且有攻擊
圖 10 節點存活數量圖 
 
5. 結論與未來展望 
 
在本研究中，我們提出以混合式蜂群演算法規畫巡守節點傳送路徑，應用於入受偵測系統中，並修
改現有演算法，以延長無線感測網路節點的生命周期，實驗結果證明我們的方法可以減少能源消耗，並
讓無線感測節點比較能夠存活於網路之中。但由於無線感測網路建置需整合型入侵偵測系統，需要考慮
到認證技術(入侵防禦系統)、入侵偵測系統及回饋機制是否完善等問題。若認證技術不夠簡易，則導致無
線感測網路負載過重；若入侵偵測系統不夠輕量，則會消耗過多能源於偵測入侵。因此未來我們會針對
整合型入侵偵測系統之完整性需考量面相。並測試各階段方法，以找到適用技術再進行系統整合，並且
透過回饋機制，進行系統調整，以增強入侵偵測系統之完整性。 
 
參考文獻 
[1] T. S. Sobh, (2006) “Wired and wireless intrusion detection system: Classifications, good characteristics 
and state-of-the-art,” Computer Standards & interfaces, Vol. 28, Issue. 6, pp. 670-694. 
[2] A. Chadha, Y. Liu and S. K. Das, (2005) “Group Key Distribution via Local Collaboration in Wireless 
Sensor Networks,” Second IEEE Sensor and Ad Hoc Communications and Networks, pp. 46-54. 
[3] I. Onat, and A. Miri, (2005) “An Intrusion Detection System for Wireless Sensor Networks,” IEEE 
International Conference on Wireless and Mobile Computing, Networking and Communications, Vol.11, 
pp. 253-259. 
[4] Q.H. Wang, (2011) “Packet traffic: a good data source for wireless sensor network modeling and anomaly 
detection,” IEEE Network, Vol. 25, No. 3, pp.15-21. 
[5] 謝佳奮、陳榮靜、黃永發、鄭凱繁，“輕量化無線感測網路入侵偵測系統“，第十九屆資訊安全會
議，國立台灣科技大學，Jane 3-5，2009。 
[6] D. Karaboga and B. Akay (2009) “A Survey: Algorithms Simulating Bee Swarm Intelligence,” Artificial 
Intelligence Review, Vol. 31 No. 1, pp. 68-85. 
[7] S. Okdem, D. Karaboga, C. Ozturk, (2011) ”An application of Wireless Sensor Network routing based on 
Artificial Bee Colony Algorithm,”  2011 IEEE Congress on Evolutionary Computation (CEC), pp. 
326-330. 
[8] T. Bäck, (1996) “Evolutionary Algorithms in Theory and Practice: Evolution Strategies, Evolutionary 
Programming, Genetic Algorithms,” Oxford Univ. Press. 
[9] D. Karaboga and B. Basturk, (2008) “On The Performance of Artificial Bee Colony Algorithm,” Soft 
Computing in Industrial Applications, pp. 687-697. 
[10] D. Karaboga and B. Akay, (2011) “A Modified Artificial Bee Colony Algorithm for Constrained 
Optimization Problems,” Soft Computing in Industrial Applications, pp. 3021-3031. 
10 
 
 1 
國科會補助專題研究計畫項下出席國際學術研討會心得報告 
                                 日期：2012 年 08 月 30 日 
                                
 
 
 
 
 
 
 
 
 
 
 
 
計畫編號 NSC100－2221－E－324－020 
計畫名稱 利用蜂群演算法改善無線感測網路入侵偵測系統 
出國人員
姓名 張偉倫 
服務機構
及職稱 
朝陽科技大學資訊科技研究所兼
任助理 
研討會時
間 
101 年 5 月 29 日
至 
101 年 5 月 31 日 
研討會地
點 
中國四川重慶 萬友康年大酒店 
研討會名
稱 
(中文) 2012 第 8 屆 自然計算國際研討會 
2012 第 9 屆 模糊系統與知識探勘國際研討會 
(英文) 2012 8th International Conference on Natural Computation 
2012 9th International Conference on Fuzzy Systems and Knowledge 
Discovery 
發表論文
題目 
(中文) 運用 ZigBee 無線感測網路與類神經網路進行室內定位 
(英文)Using ZeeBee Sensor Network with Artificial Neural  
Network for Indoor Location 
 3 
的分類。第二位學者報告結束後，中間會有半小時的休息時間，大會會提供一些點
心(蛋糕、水果、餅乾)給與會者享用，之後就剩最後兩位 keynote speaker 進行報告，
第三位學者是介紹 Social Computing，主要是說明科技對於社會的影響，從社會資訊
到社會智能，其中說明了 Social Computing 的動機 1.使人與人之間的溝通更為便利
2.透過電腦連結人與社會 3.可預測科技的變化以及社會政策、文化行為的影響。
Social Computing 所涉及的領域甚至包含了教育、藝術、政治等等。第四位學者的報
告是探討使用類神經網路計算來穩定模型預測欠驅動(under-actuated)的海洋船隻追
蹤。上午的行程結束後，會有近兩個小時的午休時間，就到飯店的用餐地點用餐，
要到重慶之前就先在台灣搜尋了重慶的飲食文化，其中一項就是辣椒，所以特別嘗
試了有加辣椒的菜餚，覺得重慶的辣椒料理比台灣的香且麻，但比較不辣。而其他
像是台灣比較沒有在食用的兔肉料理，就沒有去嘗試了，在用完午餐後就回飯店房
間處理學校的作業和練習下午要報告的簡報，整個下午的研討會時間是從下午 2 點
到晚上 6 點，從下午 2 點開始到下午 4 點是屬於一個主題的場次，然後在下午 4 點
半到晚上 6 點屬於另一個主題的場次，我參加的研討會主題為 Neural Networks in 
Pattern Recognition and Diagnostics，主要是探討用類神經網路做 pattern 的識別跟診
斷，聽眾大約有 30 人以上，有 9 篇的報告，一個人的報告時間加上回答問題大約是
15 分鐘左右，第一位跟第四位報告者為研討會的主席分別報告使用 SOM 從英國的
下水道系統樣本中進行為生物的資料探勘和類神經做為時間序列的分類器，第二位
是來至上海復旦大學的學生，主要是利用 pulse-coupled 神經網路做為圖片特徵擷取
的方法，個人是第三位報告者於下午 2 點 30 開始報告，報告的主題是利用類神經網
路做 ZeeBee 的室內定位，這個研究一開始會先收集感測空間內的座標訊號，利用類
 5 
方硬體建設是個比台中進步的地方，可是軟體部分就有待加強，而且是個城鄉差距
非常大的一個城市。 
 
圖二、介紹重慶的歷史背景 
5/31 
預定本日返回台灣，因此一早利用空餘時間搭公車參觀了重慶的古鎮磁器口，由
於陶瓷業是當地的主要產業，所以得名磁器口，大部分的建築風格都是明朝和清朝的
建築，逛完之後就回到飯店整理行李，並於中午進行退房手續，下午約 2:30 往國際江
北機場出發，下午 5:05 登上港龍航空 KA841 班機前往香港進行轉機。於晚上約 7:15
抵達香港，並於晚間 9:25 登機，班機為港龍航空 KA488 前往桃園國際機場，於晚間
約 11:10 抵達，結束此次研討會行程。 
 
四、建議 
研討會在舉辦當天研討會時可以在外頭設置一個簽到表讓與會者簽到，避免與
會者跑錯地方。 
 
五、攜回資料名稱及內容 
國科會補助計畫衍生研發成果推廣資料表
日期:2012/11/08
國科會補助計畫
計畫名稱: 利用蜂群演算法改善無線感測網路入侵偵測系統
計畫主持人: 陳榮靜
計畫編號: 100-2221-E-324-020- 學門領域: 資訊安全
無研發成果推廣資料
其他成果 
(無法以量化表達之成
果如辦理學術活動、獲
得獎項、重要國際合
作、研究成果國際影響
力及其他協助產業技
術發展之具體效益事
項等，請以文字敘述填
列。) 
無 
 成果項目 量化 名稱或內容性質簡述 
測驗工具(含質性與量性) 0  
課程/模組 0  
電腦及網路系統或工具 0  
教材 0  
舉辦之活動/競賽 0  
研討會/工作坊 0  
電子報、網站 0  
科 
教 
處 
計 
畫 
加 
填 
項 
目 計畫成果推廣之參與（閱聽）人數 0  
 
