 1. 前言 
倒單擺系統的控制目的是使單擺從某個初始位置被控制到直立的狀態，倒單擺系統是
一個具有高非線性特性的機械系統，由於這個因素使得倒單擺系統常被使用來驗證許多的
非線性控制理論。 
 
2. 研究目的 
本計畫的目的是設計一個強健且智慧型的模糊輸出滑動模式控制器，使得倒單擺可以
倒立及定位控制。利用滑動模式控制對系統參數擾動及雜訊干擾具有強健性的優點，及模
糊邏輯具有語意特質和線上調整參數的能力，發展出具有強健性且智慧型的控制器來控制
倒單擺系統。除了提出倒單擺的控制理論外，也將進行實作驗證工作，倒立單擺系統是一
個相當典型的控制系統，具有簡單明瞭的機械結構及控制目標，本計畫除了瞭解倒單擺系
統，使參與人員能熟悉控制系統的基本原理外，並可以將控制原理作實際上的應用。藉由
研究倒單擺控制系統，來熟悉數學動態方程式推導，設計控制器，電腦模擬，及實際的模
型實現等控制系統的設計步驟，吸引學生對學習的興趣，進而增加對系統的敏銳度及解決
問題的能力，以達到控制教學目的。 
 
3. 文獻探討 
近年來，有很多的專家學者發表文章在探討倒單擺的控制問題，主要的原因是倒單擺
系統可以被假設成最基本的機械系統來證明基本的控制理論，另外倒單擺系統也是非線線
性系統，也可以使用較複雜的現代控制理論來實現[1-5]。對於倒單擺的穩定直立控制，是
將系統在不穩定的平衡點處線性化，也就是假設系統在線性區域的工作點操作時，很多線
性理論就可以被用來實現控制單擺的直立位置，例如狀態迴授或是比例-積分-微分控制。然
而，倒單擺系統是非線性的，相關的文獻研究包括有：當使用線性化的狀態迴授控制時會
出現極限環的現象，為了改善遠離穩定直立點時的非線性現象；使用模糊邏輯來甩起倒單
擺，到了穩定直立點附近時才切換成線性化的狀態迴授；使用 LQR 與模糊邏輯控制來使倒
單擺穩定直立；利用灰色理論來預估倒單擺系統的參數並完成穩定單擺直立與定位控制；
另外還有利用具有學習能力的倒傳遞類神經網路與小腦模型網路來學習倒單擺系統的動態
與控制行為[1-5]。如果在一維倒單擺穩定直立時同時要求滑車能具備定位功能，那麼此系
統將成為單輸入（對滑車的施力）雙輸出（單擺的角度與滑車的位置）的系統，相關的控
制方法有：使用串級式的模糊控制器，由第一個模糊控制器控制台車的位置，第一個模糊
控制器的輸出與單擺的角度構成第二個控制器的輸入，所以第二個控制器就是利用兩個輸
入訊號產生適當的控制命令來完成穩定單擺直立與定位的動作[1]；根據舉手倒單擺的經
驗，設計控制器來完成穩定單擺直立與定位控制[4]；參考文獻[5]則是進行倒單擺實作，利
用 PC based 的方式對倒單擺系統 24 小時遠端監控。 
滑動模式控制的設計方法很簡單，控制效果很好的方法，而且對於系統參數擾動及外
來干擾具有強健性，此外，對於非線性系統，滑動模式控制可以解決有界的非線性及耦合
的影響[6-10]。傳統的滑動模式控制的滑動函數是由狀態所組成，而且限制控制系統的參數
擾動與雜訊需滿足匹配條件，而參考文獻[9]提出積分輸出滑動模式控制，滑動函數是由系
統的輸出誤差所組成，如此可以不需要得到每個狀態的值，而且沒有滿足匹配條件下，依
然可以抵抗系統參數擾動及外來干擾，採用積分式的滑動函數的優點為可以降低系統的穩
態誤差。而模糊邏輯控制系統，是一種具有語意特質控制器，控制器中的模糊規則為匯集
其中T為動能，V為位能，qi為第i連桿的夾角，τi為第i連桿為的力矩。 
對於此旋轉型倒單擺系統，其動能與位能如下所示 
[ ] [ 2121211112211121111 )sinsincoscossin(21)cos()sin(21 θφφθφθθθθθθθ cccc lllmllmT &&&&& +−−++=  
] 22211222121211 2121)cos()sinsinsincoscos( φθφφθφφθφθθθ &&&&&& JJllll ccc +++−−+  (2) 
 )sin1(22 φ−−= cglmV  (3) 
其中 為機械臂的角速度，m1θ& 1為機械臂的質量，l1為機械臂的長度，lc1為機械臂的質心位置，
J1為機械臂的慣量； 為單擺的角速度，m2θ& 2為單擺的質量，l2為單擺的長度，lc2為單擺的質
心位置，J2為單擺的慣量；g為重力加速度。 
將（2）與（3）代入（1）可得 
( ) ( ) τφφφθφφφφθφ =−−−+++ 22121222212112222212211 cossincos2sincos &&&&&&& ccccc llmlmllmJlmlmlm  
  (4) 
 ( ) ( ) 0cossincossin 222122222221212 =++++− φθφφφθφ cccc glmlmJlmllm &&&&&  (5) 
由圖 2 可知， φπθ −=
22
，因此將（4）與（5）改寫成如下所示： 
 ( ) ( ) 212222222121122222212211 )2sin(cossin θθθθθθθ &&&&&& cccc lmllmJlmlmlm −++++  
  (6) τθθ =+ 222212 sin &cllm
 ( ) ( ) 0sin)2cos(
2
1cos 222
2
12
2
2222
2
2212212 =+−++ θθθθθθ cccc glmlmJlmllm &&&&&  (7) 
(6)與(7)可以整理成以下所示的動態方程式， 
  (8) ⎥⎦
⎤⎢⎣
⎡=++
0
)(),()(
τ
qGqqqCqqM &&&&
其中 
  (9) ⎥⎦
⎤⎢⎣
⎡=
2
1
θ
θ
q
  (10) ⎥⎥⎦
⎤
⎢⎢⎣
⎡
+
+++=
2
2
222212
221212
22
22
2
12
2
11
cos
cossin)(
Jlmllm
llmJlmlmlmqM
cc
ccc
θ
θθ
 
⎥⎥
⎥
⎦
⎤
⎢⎢
⎢
⎣
⎡
−
+−−
=
0)2cos(
2
1
sin)2sin(
2
1)2sin(
2
1
),(
12
2
22
2221212
2
2222
2
22
θθ
θθθθθθ
&
&&&
&
c
ccc
lm
llmlmlm
qqC  (11) 
  (12) ⎥⎦
⎤⎢⎣
⎡=
222 sin
0
)( θcglmqG
(3) 模糊邏輯控制 
當旋轉型倒單擺系統的單擺連桿有負載，或是實驗環境產生未知訊號的雜訊時，輸入電
壓（17）式的切換增益 K 值就不容易決定，因此使用模糊邏輯控制來決定切換增益 K。一
般常見的模糊控制系統架構如圖 3 所示。 
 
 
知識庫 
解模糊化 模糊化 
模糊推論 
圖 3 模糊邏輯控制系統架構圖 
 
利用歸屬函數將輸入訊號轉換成模糊推論可以接受的模糊量，在此前件部的輸入採用高
斯函數，後件部採用單直輸出的形式，推論方式採用最小值推論工廠來進行模糊推論的工
作，最後再利用重心法來解模糊化。 
將（17）式改寫成 
  (20) )sgn(ˆ sKee o +=
其中 Kˆ 由模糊邏輯控制器求得。 
滑動模式存在的條件為 
 0<σσ &  (21) 
當系統到達滑動平面後，會一直保持在滑動平面上，切換增益 K 為了保證系統可以到達滑
動平面，所以其值必須足以消除系統的不確定項的影響。模糊規則為 
 如果 0>σσ & ，則切換增益 K 應該增大。 
 如果 0<σσ & ，則切換增益 K 應該減小。 
 
表 1 模糊規則表 
σσ &  NB NM ZO PM PB 
K∆  PB PM ZO NM NB 
 
因此，模糊規則表如表 1 所示，其中 NB 代表負的很大，NM 代表負的中間值，ZO 代表零，
PB 代表正的很大，PM 代表正的中間值。歸屬函數採用高斯函數，其表示式為 
 ⎟⎟⎠
⎞
⎜⎜⎝
⎛ −=
i
i
v
cttf
2)(exp)( , 5,,2,1 L=i  (22) 
解模糊化採用重心法， 
0 0.5 1 1.5 2 2.5 3 3.5 4 4.5 5
-0.02
0
0.02
0.04
0.06
0.08
0.1
0.12
0.14
Time (s)
A
ng
ul
ar
 d
is
pl
ac
em
en
t o
f p
en
du
lu
m
: θ
2 
(R
ad
)
 
圖 6 單擺連桿的角度  2θ
0 0.5 1 1.5 2 2.5 3 3.5 4 4.5 5
-16
-14
-12
-10
-8
-6
-4
-2
0
2
Time (s)
S
lid
in
g 
fu
nc
tio
n:
 σ
 
圖 7 滑動函數σ  
0 0.5 1 1.5 2 2.5 3 3.5 4 4.5 5
-2
-1.5
-1
-0.5
0
0.5
1
1.5
Time(s)
C
on
tro
l v
ol
ta
ge
: e
 (V
)
 
圖 8 控制輸入 e 
 
