行政院國家科學委員會專題研究計畫成果報告 
具有高度安全性私有小雲之研究 
 
計畫編號：NSC99-2218-E-390-001 
執行期限：99年8月1日至100年12月31日 
主持人：陳建源    高雄大學資訊工程系 
                         Email: cychen07@nuk.edu.tw 
計畫參與人員：鄭宇哲 研究生 
              王俊欽 大學生 
 
一、 中文摘要 
 本計畫的目標是建構私有小雲上多
目標之驗證系統。本計畫分成二部份，
第一部分為建立私有小雲系統的執行環
境，第二部份是利用資訊隱藏技術配合
通行碼確認系統，並架設於所建立的私
有小雲系統上。本計畫所使用之模擬環
境為多個演唱會的門票驗證系統，使用
者可於購買門票時將購票資訊藏於指定
持票人影像內，並於入場時進行雲端驗
票動作。 
關鍵字：私有小雲、相鄰梯度預測、直方
圖、可逆式資訊隱藏。 
 
Abstract 
 This project aims at constructing a 
multi-objective identification system on 
private cloud. First, we build an 
environment of private cloud. Second, we 
utilize the data hiding technique to construct 
a multi-objective identification system on 
private cloud. We further simulate the 
entrance ticket identification of concert. 
Users can hide the information of concert in 
the image of the consumer. We can identify 
the information when the users enter the 
concert. 
 
Keywords：private cloud, gradient adjacent 
prediction, histogram, reversible   
data hiding. 
二、 前言 
 網際網路的快速發展，朝向低成本、
綠能、以及無所不在的服務為目標，因而
延伸出「雲端運算」的概念[1,4]。在此架
構下，龐大的運算作業被拆成許許多較小
的作業，分別交給遠端、多台伺服器同時
執行運算，使得網路服務提供者可以在極
短的時間內，處理數百萬計的資訊，已達
到「超級電腦」ㄧ樣強大效能的網路服
務，而符合眾多使用者的需求；譬如
Google搜尋服務就是「雲端運算」概念最
好的發揮。 
 目前市場上最為流行的雲端運算服
務種類又分為公有雲(Public Cloud)、私有
雲(Private Cloud)、開放雲(Open Cloud)及
混合雲(Hybrid Cloud)，其中 Goggle App 
Eng 、Amazon Web Services 、 Microsoft 
Azure 為公有雲；IBM Blue Cloud 為私有
雲； Open Nebula、Eucalyptus 、Yahoo 
Hadoop 和 NCDM Sector/Sphere 為開放
雲；IBM Blue Cloud 為混合雲[1,4]。 
 本計畫在雲端環境上，建構一多目標
驗證系統，並應用於演唱會之門票驗證。
對於門票的設計，我們引進資訊隱藏之技
術來完成。 
 
 
IVIIIIVIII
IIIIII
IVIIIIVIII
IIIIII
 
圖 1   將像素分成四部分 
 
林學者等人先對第 I 部分，利用周圍
像素的平均值，來預測第 I 部分的誤差
值，當計算出所有像素誤差值後，以直方
圖統計像素誤差值出現的次數，找出直方
圖中出現次數最多的二個高點與其相對
零點，利用位移的方式將機密資訊藏入影
像中，接著利用反運算得到藏入機密資訊
後的偽裝影像。假如當可隱藏的像素值都
隱藏完畢，機密資訊尚有未隱藏的部分，
林學者等人將對第 II部分進行預測，以此
類推，直到全部的機密資訊皆藏入影像中
為止，完成資訊隱藏的步驟。底下舉例說
明九宮格式直方圖的可逆資訊隱藏技術
的過程： 
假設有一個 6*6的影像像素值如圖 2。 
 
1096795
9105678
775677
987668
1099998
9108889
 
圖 2  原始影像 
 
首先對第 I 部分的像素值進行預測，
由第 I部分像素值減去其周圍像素值的平
均值，經過第一次預測後，可得到圖 3。 
 
1096795
925071
775677
907-160
1099998
918080
 
圖 3  第一次預測後的影像 
以直方圖統計圖 3第 I部分的預測誤
差值，輸出如圖 4。 
 
圖 4  第一部分預測誤差值的直方圖 
由圖 4 可得第一高點為 0，第二高點
為 1，第一零點為-2、第二零點為-3。接
著將介於高點與零點之間的像素值向零
點位移如圖 5。 
 
圖 5  經過位移後的直方圖 
我們就可以使用第一高點左邊與第二
高點右邊的空間隱藏資訊(0100011)如圖
6。  
 
圖 6  藏入機密資訊後的直方圖 
 
0 1 2 -1 -2 3 
1 1 1 
3 
1 2 
0 1 2 -1 -2 3 
1 
2 
1 
5 
0 1 2 -1 -2 3 
1 
2 
1 
 
表 1  預測值的計算方式
梯度狀態
強烈斜向平滑
( 80,     ]
斜向平滑 ( 32, 80]
輕微斜向平滑 ( 8, 30]
四周平滑 [ 8,-8]
輕微十字平滑 (-8,-32]
十字平滑 (-32,-80]
強烈十字平滑
(-80,- ]
sD ),( jiD
)5.05.0(
),(
),(
),(
),( ×+× ∑∑
ji
ji
ji
ji
O
O
C
C
)7.03.0(
),(
),(
),(
),( ×+× ∑∑
ji
ji
ji
ji
O
O
C
C
)6.04.0(
),(
),(
),(
),( ×+× ∑∑
ji
ji
ji
ji
O
O
C
C
)8.02.0(
),(
),(
),(
),( ×+× ∑∑
ji
ji
ji
ji
O
O
C
C
)4.06.0(
),(
),(
),(
),( ×+× ∑∑
ji
ji
ji
ji
O
O
C
C
)3.07.0(
),(
),(
),(
),( ×+× ∑∑
ji
ji
ji
ji
O
O
C
C
)2.08.0(
),(
),(
),(
),( ×+× ∑∑
ji
ji
ji
ji
O
O
C
C
∞
∞
 
於上表中， ),( jiC 、 ),( jiO 表示 ),( jiC 、 ),( jiO 的
個數。接下來將像素值與預測值相減獲得
預測誤差值 ),( jiD′ ，其計算方法如下： 
),(),(),( jijiji DPD −=′                    
(3.4) 
藏入機密資訊時，將對預測誤差值進行位
移，我們定義移動後的預測誤差值為
),( jiD ′′ 。 
 另外，定義M 為欲隱藏之機密資訊，
nM 為機密資訊中第 n個位元；在此我們
假設所欲隱藏的資訊量小於直方圖中高
點的個數。 
 我們利用已知資訊將像素位置 ),( ji
周圍的相鄰梯度預測值 SD 計算出來後，
對照表 1求出像素預測值，與像素值相減
得預測誤差值 ),( jiD′ ，並利用直方圖統計誤
差值出現次數，得到二組高點與相對應之
零點(
x1H , x1Z )、( x2H , x2Z )， X為目前進行
預測的部分，且 }4,3,2,1{∈X 。接著利用位
移的方式將機密資訊藏入影像內，並使用
反運算獲得藏入機密資訊後的偽裝影
像，回復後的偽裝像素值為 ),( jiP′ ，依序完
成所有像素的預測與反運算，即完成資訊
隱藏。我們的方法其演算法如下： 
3.1 資訊隱藏演算法 
輸入：原始影像、機密資訊。 
輸出：偽裝影像、最多八組高點與零點、
機密資訊長度 N。 
步驟1. 將影像分成四個部分，每次只針
對一個部分進行預測，其順序為
I、II、III、IV。 
步驟2. 因我們的方法無法對周圍像素值
進行相鄰梯度預測，因此當 
511,1,0||1,0 == ji 時 ， 我 們 令
0=sD ；否則利用公式3.1求出
sD 。 
步驟3. 依據
sD ，對照表1計算出像素預
測值 ),( jiD ，與像素值相減得到預
測誤差值 ),( jiD′ ，直到全部像素預
測完畢。 
步驟4. 利用直方圖統計像素誤差值出現
的次數，得到第I部分二組高點與
相對應之零點 ( 11H , 11Z )、
( 12H , 12Z )。 
步驟5. 執行位移： 




<′≤+′
≤′<−′
=′′
12),(12),(
11),(11),(
),( Z   , 1
   Z, 1
jiji
jiji
ji DHD
HDD
D (3.5) 
步驟6. 計算 11),( HD ji =′ 與 12),( HD ji =′ 之像
素數量為N，從機密資訊取出前
N個，即 NMMMM   ...  210 作為嵌
入資訊，針對每一個隱藏資訊
nM
與對應可隱藏的像素誤差值
),( jiD ′′ ，必須滿足： 
(1) 當 0=nM ，則 ),(),( jiji DD ′=′′   
 (2) 當 1=nM ，則 




=′+′
=′−′
=′′
12,,
11,,
,
  ,1
  ,1
HDD
HDD
D
jiji
jiji
ji    (3.6) 
步驟7. 對位移後的預測誤差值進行反運
算，獲得藏入機密資訊後的偽裝
像素值     
),(),(),( jijiji DDP +′′=′        (3.7) 
步驟8. 當機密資訊全部藏入偽裝影像
後，演算法結束，否則將針對第
II部分的像素值進行步驟2~步驟
7，以此類推，直到所有機密資訊
藏入影像中為止。 
步驟9. 輸出偽裝影像、機密資訊長度
N、最多八組高點與零點： 
( 11H , 11Z )、( 12H , 12Z )、 
 根據表2的實驗結果得知，我們的方
法對於較平滑的影像，增加的資訊隱藏量
較不明顯；然而針對較為複雜的影像，我
們的方法擁有較佳的增加比例，證實我們
的方法確實可以擁有較佳的準確度，可隱
藏較多的資訊量。 
 我們利用資訊隱藏技術配合通行碼
確認系統，並架設於所建立的私有小雲系
統上。我們所使用的設備規格為： 
硬體規格  
(1) 隱藏端： 
 CPU：Intel Core 2 Quad CPU 
Q9500 2.83GHz 
 RAM：2 GB 
 硬碟空間：500 GB 
(2) 認證端： 
 CPU：Intel Core 2 Quad CPU 
Q9500 2.83GHz 
 RAM：2 GB 
 硬碟空間：500 GB 
(3) 私有小雲認證端： 
 CPU：Intel Core 2 Quad CPU 
Q9500 2.83GHz 
 RAM：2 GB 
 硬碟空間：500 GB 
 
軟體規格 
(1) 隱藏端： 
 作業系統：Windows 7 
 網頁瀏覽器：Internet Explorer 8 
 程式語言：Javascript 
(2) 認證端： 
 作業系統：Windows 7 
 程式語言：Javascript 
(3) 私有小雲認證端： 
 作業系統：Windows 7 
 網頁瀏覽器：Internet Explorer 8 
 程式語言：Javascript 
 
為了清楚了解我們所提的演唱會的門票
驗證系統，底下列出購票與驗票的流程
圖： 
 
圖 10 購票系統流程圖 
 
 
圖 11 驗票系統流程圖 
 
 經長時間的建構，我們成功的將驗票
系統建立在私有小雲的環境上，並可利用
手機進行驗證。接著，我們模擬二位使用
者同時進行驗證的程序，也成功的進行驗
證；然而因為欠缺實驗設備，因此無法進
行同時間大量驗證的實驗。 
 在本計畫執行期間，我們將本計畫提
出的方法，撰寫成論文並發表於中華民國
第一屆網路智能與應用研討會[12]。 
 
六、 結論 
 本計畫利用相鄰梯度預測法，並架設
於所建立的私有小雲系統上，建構一個可
支援多目標之雲端驗證系統。我們的研究
過程中，提出新的資訊隱藏方法，實驗結
果證實我們的方法確實可增加直方圖高
點的高度，平均提升2%的資訊隱藏量，達
到提升隱藏量的目的。進一步利用此方
法，模擬演唱會的門票驗證系統。 
 最近資訊的發展越來越迅速，為了因
應大量資訊的需求，雲端技術成為了產業
界與學術界的研究重點。然而進行雲端技
國科會補助計畫衍生研發成果推廣資料表
日期:2012/03/20
國科會補助計畫
計畫名稱: 具有高度安全性私有小雲之研究(雲端計算_安全技術)
計畫主持人: 陳建源
計畫編號: 99-2218-E-390-001- 學門領域: 資訊
無研發成果推廣資料
其他成果 
(無法以量化表達之成
果如辦理學術活動、獲
得獎項、重要國際合
作、研究成果國際影響
力及其他協助產業技
術發展之具體效益事
項等，請以文字敘述填
列。) 
對於本計畫設計之資訊隱藏技術,後續繼續改良. 
 成果項目 量化 名稱或內容性質簡述 
測驗工具(含質性與量性) 0  
課程/模組 0  
電腦及網路系統或工具 0  
教材 0  
舉辦之活動/競賽 0  
研討會/工作坊 0  
電子報、網站 0  
科 
教 
處 
計 
畫 
加 
填 
項 
目 計畫成果推廣之參與（閱聽）人數 0  
 
