 2
中   華   民   國  99  年  9  月  20  日 
 
行政院國家科學委員會專題研究計畫結案報告 
竹莢魚類推進力學與仿生動力機械研發 
子計畫二：欠致動控制於仿生機械之應用 
 
Biomechanics and Biomimetic Engineering on Swimming Carangiform Fishes  
Project II: Application of Underactuated Control in Bio-mimetic Machines  
 
計畫編號：96-2221-E-007-123-MY3 
執行期限： 96 年 08 月 01 日至 99 年 07 月 31 日 
主持人：葉廷仁 清華大學動力機械工程學系 
Email: tyeh@pme.nthu.edu.tw 
研究人員：吳亭穎、許秉宏、黃獻輝、陳信宏、黃冠維、陳育霆、
趙郁文  
 
一、 中文摘要 
在機器人研究，如果系統的機構上部份關
節﹝自由度﹞無配備致動器或其致動器保持
關閉狀態，在控制上稱此系統為欠致動系統
(underactuated systems)。因為使用較少的
致動器，欠致動系統可節省重量與能源。但
欠致動系統由於作動中致動器個數的欠缺，
造成部份的自由度無法直接控制，故控制策
略的設計需縝密地考慮到致動器與自然動態
的交互作用。在自然界中，生物為達成高效
率與高機動性，需不盲目地使用肌肉力量，
並以最佳的方式發揮身體彈性與慣性的動態
並善用與環境的互動。依此觀點來看，欠致
動控制中強調最少致動器以發揮自然動態來
達成運動任務，故與生物執行高效率運動的
原因習習相關。 
本計畫以三年的時間，把欠致動系統實
現於兩類仿生機械中，藉以研究自然界生物
如何整合自然動態、感官能力與意識控制來
達成省能/省力的目標。第一類仿生機械為機
器魚，此部份為配合「竹筴魚類推進力學與
仿生動力機械研發」總計劃規劃的目標，設
計、分析與實作以欠致動控制驅動的仿生機
器魚。第二類仿生機械研究為設計、分析與
實作能進行跳躍運動的單足機器人。在此部
份的研究中，我們考慮在引入機器人在起跳
前引入一特殊的欠致動狀態，亦即其腳底在
地面上繞著未致動的腳趾旋轉。由於具備此
欠致動的狀態，使得機器人跳躍的距離可以
更遠，達到類似於人類穩定跳躍的動作。 
 
關鍵詞： 仿生動力機械、機器魚、欠致動、
跳躍機器人 
Abstract 
In robotics research, if some joints in the 
robot are not equipped with actuators, then the 
robot is called an underactuated system.  As 
opposed to fully actuated systems, 
underactuated systems use a less number of 
actuators, so they tend to weigh less and be 
more energy-efficient.  However, because of 
the lack of actuations in some joints, some 
degrees of freedom can not be directly 
controlled.  Therefore, to design the control 
strategy, one has to carefully consider the 
interaction between the actuators and natural 
dynamics.  In the nature, in order to maintain 
 4
Institute) [3] 也製作了各種機器魚原型
PF300~PPF-09 來探討有效的游泳模式。德州
農工大學正為美國海軍研發應用特殊記憶合
金與彈簧為結構來擺尾的隱形魚形潛艦。 
 
 
 
 
 
(a)、機械鮪魚的外觀 
 
 
 
        (b)、尾部的內部構造 
圖 4- 1：美國麻省理工學院(MIT)研發的機器
鮪魚 
 
 
 
 
    
(a)、PPF-09 外觀        
 
(b)、PPF-09 內部構造示意圖 
圖 4- 2：日本國家海運研究院 PPF-09 機械魚 
    日本三菱重工業日前在公司設於廣島
的實驗所裡展示這尾幾可亂真的紅鰭笛鯛機
械魚。魚的身上披著矽皮，眼睛裡藏著錄影
攝影機，它能夠像真魚般游水。每次在水中
充電之後可游上半個小時。機械魚重 2.6 公
斤，長 60 公分，游速最快可達 0.5 海浬。 
 
圖 4- 3：日本三菱重工幾可亂真的機械魚 
 
    在研究文獻上描述較為詳細的是英國
艾塞克斯大學(Essex) [5][6][7][8]的自主控制
機器魚。而目前艾塞克斯大學所研發出的機
械魚有分兩大系列，一種是 G 系列，主要是
利用四個馬達去分別驅動四個尾部關節來達
到推進的效果，由於馬達數過多會使得機械
魚在水中游行產生兩大缺點，其一是馬達數
多表示控制參數多，而 G 系列控制電路的核
心是 8-bits PIC 控制晶片，無法同時處理如
 6
器人只有一半關節為致動的，另外一半為未
致動，而相鄰連桿間利用被動彈簧所連結。 
本論文所研發的機器人在起跳前亦會產
生腳底繞著腳趾旋轉的欠致動狀態，這是與
文獻[12]中相似的成果。對此狀態進行深入地
探討研究，以印證其有助於提升機器人的跳
躍距離與高度。論文中針對所研發機器人的
動態和特定的跳躍動作提出一最佳化演算
法。經由仔細地考量所有可能的限制條件，
其中包括將碰撞的影響降到最低和所使用的
馬達規格，以及使得所消耗的致動能量減到
最小，本方法可以計算求解得可行的致動關
節軌跡。最後，將此軌跡直接地應用於實驗
上進行驗證。 
五、研究方法 
    I. 仿生機器魚部分：在本研究中，我們
進行了兩代仿生機器魚的研發。其中第一代
機器魚為全致動，此機器魚係作為開發水下
載具機電技術的實驗平台。第二代為具有欠
致動性之機械魚，希望藉由欠致動方式驅
動，充份發揮機構與流場的自然動態，以使
機械魚以省能、優美且迅速的方式進行游
動。本章節將依序介紹第一、二代仿生機械
魚研究方法與進度。 
5.I.1 第一代仿生機械魚 
研究第一代機械魚的目的是在於了解防
水設計、機械結構設計與電路程式設計等基
礎技術，以便於第二代機械魚的研究。以下
將分防水設計、機構設計與電路程式設計三
大部分介紹第一代機械魚的系統架構。 
5.I.1.1 防水設計 
    有別於一般機械系統，機械魚必須考慮
到環境的因素。為避免水影響機械魚內部的
機械結構與電路，防水設計是個關鍵的研究
課題。為了完整包覆機械魚的機械結構與電
路，以及不影響魚體運動的情況，我們須使
用材質柔軟與具防水特性的材料來製作魚的
外皮。因此我們使用室溫硬化型矽膠，又名
RTV(Room Temperature Vulcanization 
Compound) 矽膠，其優點為材料具有彈性可
配合魚體運動、矽膠原料成液狀便於塑型與
防水性。 
5.I.1.2 機械結構的設計 
    基於鱒行式具有良好速度、加速性與操
控性，因此第一代仿生機械魚主要是以鱒行
式的擺尾方式，整個機構設計的原則為機構
簡單、零件易於加工，保證運動精度。 
  由於連桿機構具有傳動精度高、質量小、
調整方便、加工製造便利等優點，因此我們
採用連桿機構作為尾部擺動推進的骨架。為
了簡化操控參數，設計兩個自由度的機構。
而整個魚的外型是紡錘型，而體後漸收斂成
尾鰭，這樣的外型仿造真實魚體的形態，能
夠減少水的阻力。
 
(a) CAD 示意圖 
 
(b) 實際圖 
圖 5.I- 1：魚尾機構 
5.1.3 電路程式設計 
    硬體電路系統猶如魚體中的神經系
統，藉由即時接收環境與回授自身的資訊來
控制整個魚體的運動。而整個電路的運算核
心猶如魚的大腦，判斷接收到的資訊與下達
指令達到控制的目的。 
    第一代機械魚運算核心晶片是採用
Microchip 公司，型號為 dsPIC30F4011，掌
控系統所有參數，並實現所有控制法則。而
通訊介面採用無線藍芽傳輸模組，使用藍芽
為通訊介面原因為，建立人機介面與雙向資
料傳輸。建立人機介面主要是為了降低使用
者的門檻，讓一般人能夠輕易操控。而電腦
與掌上型 PDA 支援藍芽介面，再利用 Visual 
Basic 程式語言撰寫藍芽適用於電腦與掌上
型 PDA 的介面，因此便能利用電腦或 PDA
下達指令。雙向資料傳輸的目的，主要是為
 8
圖 5.I- 5：一維線性簡化系統 
    從分析系統的動態開始，說明如何藉由
系統的致動器激發其共振模態，以實現振動
吸收器的概念，達到擺尾推進的目的。推導
其系統動態如下： 
+ + =Mx Cx Kx f&& &          (5.1) 
其中
1
2
3
0 0
0 0
0 0
m
m
m
⎡ ⎤⎢ ⎥= ⎢ ⎥⎢ ⎥⎣ ⎦
M 為對角之質量矩陣；
1 1
1 1 2 2
2 2
0
0
c c
c c c c
c c
−⎡ ⎤⎢ ⎥= − + −⎢ ⎥⎢ ⎥−⎣ ⎦
C 為非對角之阻尼係數
矩陣；
1 1
1 1 2 2
2 2
0
0
k k
k k k k
k k
−⎡ ⎤⎢ ⎥= − + −⎢ ⎥⎢ ⎥−⎣ ⎦
K 為非對角之彈
簧剛性矩陣；
0
i t
i t
Fe
Fe
ω
ω
⎡ ⎤⎢ ⎥= −⎢ ⎥⎢ ⎥⎣ ⎦
f 為作用於質量塊 m1-
、m2 之致動器力量；
1
2
3
( )
( )
( )
x t
x t
x t
⎡ ⎤⎢ ⎥= ⎢ ⎥⎢ ⎥⎣ ⎦
x 表示質量塊
m1、m2、m3 之位移。 
    由於整體的概念為激發共振模態，達到
振動吸收器的目的。而主要實現 m2 之位移盡
可能的減少，因此以 m2 之動態為主要的重
點。假設質量塊的位移為 
( ) ,     1,  2,  3i tj jx t X e j
ω= =        (5.2) 
經由上面假設可以得到 m2 之動態為 
2X A Bi
F C Di
+= +                 (5.3) 
而 A、B、C、D 四個參數詳細如下： 
2 4
2 1 1 3A k m m mω ω= −  
3
1 2B m cω=  
4 2
1 2 3 1 2 1 2 3
2
1 2 2 1 3 2 2 3 1 1 3 1
1 2 1 2 3
( )
( )
( )
C m m m c c m m m
m m k m m k m m k m m k
k k m m m
ω ω
ω
= − + + + +
+ + + −
+ +
5
1 2 3 2 1 2 2 1 3
3 3
2 3 1 2 2 1 1 3
1 2 2 1
( )
( )( )
( )
D c m m c m m c m m
m m c k c k c m
c k c k
ω
ω ω
ω
= + + −
+ + − +
+
        
在得到 m2 動態之後，各參數必須滿足有一定
的關係之下，才能激發其共振模態。因此為
了探討其關係式，而以下利用最佳化的觀念
討論其關係式。 
    為了簡化參數，利用無因次化的方式，
以 m2 系統作為基底，去探討與 m1、 m3 相對
應的關係式。無因次化的參數詳細如下所示： 
1
1
2
3
2
2
actuator mass(mass ratio= )    
main mass
absorber mass(mass ratio= )
main mass
m
m
m
m
μ
μ
=
=
 
2 2
3
(natural freq. of absorber)a
k
m
ω =  
2 1
1
2
2 1
2
1
(natural freq. of main system)  
(natural freq. of actuator mass)
n
n
k
m
k
m
Ω =
Ω =
 
1 1
(freq. ratio) ;   (forced freq. ratio)a
n n
f gω ω= =Ω Ω
1 2
3 1 1 22  ;   ,  (damping ratio)c n
c c
c cc m
c c
ξ ξ= Ω = =
1
st
FX
k
=  
將以上參數代入式(5.3)，經整理可得到 
2 2
22
1 2 2
st
X A Bk
X C D
+= +         (5.4) 
2 2 2 4 2
1 2 1 1 2 1A -f g k g kμ μ μ μ=  
3 2
2 1 2 1B 2 g kμ μ ξ=  
3 2 2
1 2 1 2
4 3 2 2 2
1 1 2 2 1 2 1 2
2 4 3 6 3
1 2 2 1 1 2 1 2 1
C ( 1 )
( )
4 ( 1 )
k f g
g k f f
g k g k
μ μ μ
μ μ μ μ μ μ μ
ξ ξ μ μ μ μ μ
= − + + +
+ + + +
+ + −
3 3 2
2 1 1 2 2 1 2
5 3
2 1 1 2 1 2 1 1 2 2 1 2
D 2 ( 1 )( )
2 ( )
g k f
g k
μ μ μ μ ξ ξ
μ μ μ ξ μ ξ μ μ ξ μ ξ
= − + + + +
+ + +  
因此我們可得到 m2 之動態關係式以 f 、 g 、
1μ 、 2μ 、 1ξ 與 2ξ 參數來表示。 
    圖 5.I- 6 為 2
st
X
X
對 g 的關係而 f 、 1μ 、
2μ 、 1ξ 為定值， 2ξ 為變數，圖中顯示 2 0ξ = 、
2ξ = ∞與 2 0.2ξ = 交會於三個點。以下以
2 0ξ = 與 2ξ = ∞兩方程式證明，詳細推導如
 10
角度。 0y 和 0z 代表腳趾沿著 y 方向和 z 方向的
平移位移。( cy , cz )為機器人的質心位置。利
用廣義座標 0 0 0 1 2[     ]Ty z θ θ θ=q ，所提出的 5個
自由度運動可以表示為如下方程式： 
( )  + ( , )  + ( ) =  + ( )T g⋅ ⋅ ⋅M q q C q q q g q τ J q f&& & &    (5.10) 
其中M代表慣性矩陣，C矩陣代表科氏效應
和離心效應所造成的影響，g向量代表重力造
成的影響，而 1 2[ 0  0  0   ]=τ Tτ τ 代表控制力矩
向量。最後， fg 向量代表腳底與地面之間的
相互作用力(矩)，並且以 ( )J q 為相對應的
Jacobian 矩陣。 
根據 τ的特殊架構，可將式(5.10)劃分為： 
( )  + ( , )  + ( ) = 0 + ( )⋅ ⋅ ⋅M q q C q q q g q J q f&& & & Tu u u u g  
(5.11) 
( )  + ( , )  + ( ) = ⋅ ⋅M q q C q q q g q τ&& & &a a a a   
(5.12) 
下標u和 a分別定義為相關矩陣的未致動和
致動部份， 1 2 [  ]Ta τ τ=τ ，並且將q表示為
0 0 0 [  z  ]
T
u y θ=q 和 1 2 [  ]Ta θ θ=q 的組成。另外，
構成廣義座標中的未致動部份 uq ，將會在控
制軌跡與機械動態之間造成動態干擾的結
果。如以下所述，以不同階段分別探討。 
5.II.1.3 單一週期內不同階段之動態分析  
1 Stance phase：由於機器人腳底保持水平
地平貼於地面，且沒有產生滑動和旋轉， uq
為靜止的或者： 
1 2( ) [ 0  0  0 ]  ,  [ , ] = ∈qu t t t t        (5.13) 
2 Underactuated phase：假定腳底繞著腳趾
自由地旋轉並且腳趾亦沒有滑動。則可以
藉由式(2)中的第三條子方程式求解得
0 ( )θ t ，亦相當於得到 ( )u tq 。以 23qΓ 表示為 uq
與 aq 之間相依關係的運算子，或是： 
23 2 3
( )  ( ( ))  ,   [ , ]= ∈qq Γ qu at t t t t       (5.14) 
3 Flight phase：除了重力沒有其他外力(矩)
施加於機器人，藉由線動量和角動量守衡
的 關 係 可 以 得 知 質 心 的 運 動 狀 態
( cy& , cz& , CoMH )，再利用運動學分析化簡
為：( ( )CoMH t 為相對於機器人質心的角動
量)  
 3 3 3
       0
( ( )) ( ) = ( ( )) ( ) +  ( ) 
       0
⎛ ⎞⎜ ⎟⋅ ⋅ −⎜ ⎟⎜ ⎟⎝ ⎠
H q q H q q& &t t t t t tg  (5.15)
  H為聯繫 cy& , cz& , CoMH 與q& 之間的關係矩
陣。因 
  此藉由式(6)之關係式，將以
35qΓ 表示為 uq
與 aq 之 
  間相依關係的運算子，或可以寫成： 
35 3 5
( )  =  ( ( )) ,   [ , ]∈qq Γ qu at t t t t         (5.16) 
4 Recovery phase：此階段如同 stance 
phase，不同之處是落地後改變了腳底所在
的位置。 uq 表示為： 
5 6( ) [     0 ]  ,  [ , ] = ∈qu t l h t t t          (5.17) 
其中 0>l 代表跳躍的距離。而 h代表最後的跳
躍高度。 
根據上述的分析，只要藉由 ( )a tq 即可分
析單足機器人的動態。利用式(2)，可計算出
接觸力(矩) gf 向量。以 gfΓ 表示為 ( )g tf 與 ( )a tq
之間相依關係的運算子，或 gf 可以簡潔地寫
成： 
( ) ( ( ))= ff Γ qgg at t               (5.18) 
由式(3) 亦可求解得致動力矩 aτ 向量。以 aτΓ
表示為 ( )a tτ 與 ( )a tq 之間相依關係的運算子，
或 aτ 可寫成： 
( )  ( ( ))= ττ Γ qaa at t             (5.19) 
5.II.2 穩定跳躍的限制條件  
為了求解出最佳化軌跡，必須探討相關
的限制條件。共有七條限制條件整理成條列
式分別如下所述： 
1.初始和最後姿態之限制：在一個完整的跳
躍週期中，機器人的初始和最後姿態指定為： 
( )   and  ( ) 0 ,  for 1 and 6= = =q q q&ii d it t i     
(5.20) 
qid 為在 it 時所設計的位置。 1qd 和 6qd 的第一項分
量分別為 0與 l；第二項分量為 0與h；第三
項分量皆為 0。 
2.連續性和不連續性之限制：根據圖
5.II-3，在第2、3、5姿態時，為兩個連續階
段之間的轉換瞬間，機器人的自由度亦作了
改變。特別在第2和第3姿態的瞬間，廣義座
標的位置和相對應的速度在所對應的時間點
必須連續一致。因此，連續性的限制條件可
表示為： 
+( ) ( ) ( )  ,  for 2 and 3− = = =q q qi i it t t i      
(5.21) 
 12
( )    ,  for 1, 2⋅ + ⋅ ≤ =&mR i e ik n k n iτ θ υ      (5.35) 
其中 mk 為馬達常數， ek 為反電動勢常數，n為
齒輪減速比，R為線圈阻抗，υ為馬達的最大
輸入電壓。 
5.II.3 最佳化關節軌跡之設計  
5.II.3.1 最佳化演算法 
本節將闡述如何以最佳化的方法來設計
各個致動關節的軌跡。首先，為了使單一週
期跳躍所消耗的致動能量減到最小，故定義
性能指標為： 
6
1
2( )= ∫ τt atJ t dt              (5.36) 
本研究中是以直流馬達驅動機器人。對於直
流馬達而言，其輸出力矩正比於電流，由馬
達線圈的阻抗效應所消耗的電功率正比於電
流的平方。因此，性能指標相當於正比機器
人在一個跳躍週期內所消耗的電能。 
根據式(5.19)的關係式，性能指標可以
藉由 ( )a tq 的形式表達。因為在第 2、3和 5姿
態時，機器人的自由度產生變化，所以在最
佳化求解過程中，將 ( )a tq 劃分為四段以
Bezier polynomial 表示的平滑連續軌跡
_12 12( ) ( )a t t=q A h 、 _ 23 23( ) ( )a t t=q A h 、 _ 35 35( ) ( ) a t t=q A h 和
_ 56 56( ) ( )a t t=q A h ，且定義時間區間為 1 2[  , ]t t 、
2 3[  , ]t t 、 3 5[  , ]t t 和 5 6[  , ]t t 。其中 ( )⋅A 矩陣是由相對
應 多 項 式 的 控 制 點 所 構 成 ， 而
( ) ( ) -1( )  [ 1   1     ]m m m Tt t mt t t= − −h L 。至此，可以提
出一個完整地最佳化問題： (
)
2 3
1 212 23 35 56
5 6
3 5
2 2
12 23, , ,
2 2
35 56
min ( ( ))   ( ( ))
              ( ( ))   ( ( ))
 (11) ~ (26)
a a
a a
t t
t t
t t
t t
t dt t dt
t dt t dt
+
+ +
∫ ∫
∫ ∫
τ τA A A A
τ τ
Γ A h Γ A h
Γ A h Γ A h
需要滿足式
(5.3
7) 
開始進行最佳化演算之前，需要先決定
式(28)中四段積分的時間區間。在 stance 和
recovery phase 期間機器人的動作只與致動
關節有關且其為完全致動，時間區間 2 1( )t t− 和
6 5( )t t− 大致上可任意指定，只要注意不要不合
理地小即可。然而，在 underactuated 和
flight phase 期間機器人的動作不只與致動
關節並且還與其自然動態部份有關，選定此
兩階段之適當時間區間的一個可行方法為格
點搜尋法，將 3 2( )t t− 和 5 3( )t t− 的解空間劃分為
格子點，並且利用逐點迭代的方式對每一格
點反覆地求解其最佳化問題。最後，採用其
性能指標(值)最低的收斂解為所要的最佳
解。 
5.II.3.2 最佳化方法的修正 
求解最佳的 ( )⋅A 矩陣時，由於程式中包含
大量的限制條件和待定參數，以至於最佳化
運算的收斂性不易達成。因此將此最佳化問
題作三部份的修正，以便求得相關參數的收
斂解。 
首先，以序列方式將式(5.37)中的四段
區間積分分為兩部份，並且各自地最小化其
性能指標，進而取代原先同時求解四個 ( )⋅A 矩
陣的方式。第一部份由起跳前的兩個階段所
組成，另一部份則是由起跳後的兩個階段所
組成。藉由此修正之後，每一部分的最佳化
只需要各自地求解相對應的兩個 ( )⋅A 矩陣。 
其次，以人類跳躍的動作來看，在
underactuated phase 期間的運動是最為激
烈的。因此，式(5.37)中衡量相對應於
underactuated phase 的能量價值(energy 
cost)等同於其他三個階段的能量價值是不
合理的。此階段的能量價值應該受到較低的
規範，以使得最佳化運算在此階段產生更具
影響力的控制權限。經由此考量之後，將計
算 12A 、 23A 的價值函數修正為： ( )2 3
1 212 23
2 2
12 23,
min ( ( ))   γ ( ( ))
a a
t t
t t
t dt t dt+∫ ∫τ τA A Γ A h Γ A h   
(5.38) 
其中0 γ 1< < 為權重係數。 
第三點修正，藉由在最佳化計算中限定
質心的起跳速度和角動量之上、下限以達到
提升數值計算的收斂性和收斂速度。藉由拋
體運動原理和式(5.33)，為了達到所設定的
跳躍距離 l，質心起跳速度應該很接近 gl 。
並且為了避免在 flight phase 期間發生過度
的旋轉， 3( )CoMH t 應該小一點。考慮此兩點觀
察情形，則可以決定 3( )cz t& 和 3 ( )CoMH t 的適當邊
界範圍。 
5.II.3.3 最佳化演算流程 
整合三項修正的最佳化演算步驟，其流
程圖如圖四所示。在此流程圖中，初始條件
2 1( )t t− 和 6 5( )t t− 的選擇如同前面所敘述之外，
 14
論。此外，大部分人型機器人的跑步動作[12]
都採用 ZMP 穩定準則。而本研究意味著在跑
步動作中加入探討欠致動的特性，雖然會增
加動作與分析上的複雜度，但是可以有效地
增加機器人起跳的速度，因而提升跳躍距離
和跑動速度。 
 
    
0 0( , )y z
1 1,m I
2 2,m I
0 0,m I
1θ
2θ( , )c cy z
0θ
gf  
圖5.II-1 機器人實體與模型     圖5.II-2 模型之
相關變數 
 
Z
Y
1( )g tf2( )g tf3( ) 0g t =f5( ) 0g t− =f5( )g t+f6( )g tf
 
圖5.II-3 單足機器人一個完整的跳躍週期 
 
Optimal ( )tq
( ) ( )1 2 1 6 5Set  ( 0),  andt t t t t= − −
1 6Set initial and final postures , d dq q
( ) ( )( )2 3
1 212 23
2 2
12 23,
3 3
min ( ) ( ) ,
subject to constraints (12)~(14), (18), (22), (24)~(27),
z z ( ) z  and  ( )
a a
t t
t t
lower upper lower upper
c c c CoM CoM CoM
t dt t dt
t H H t H
τ τγ+
≤ ≤ ≤ ≤
∫ ∫A A Γ A h Γ A h
& & &
( ) ( )( )5 6
3 535 56
2 2
35 56,
min ( ) ( ) ,
subject to constraints (12)~(17), (19)~(21), (23), (23)~(25)
a a
t t
t t
t dt t dtτ τ+∫ ∫A A Γ A h Γ A h
( )tq
Stance and Underactuated Phases
Flight and Recovery Phases
3 2 5 3( ), ( )
min
t t t t
J− −
( ) ( )3 2 5 3
                  Evaluate optimization 
with and  at each grid pointt t t t− −
 
圖5.II-4 最佳化演算之流程圖 
 
 
圖5.II-5 各致動關節軌跡與相對應的角速度 
0.25 0.2 0.15 0.1 0.05 0 -0.05 -0.1 -0.15 -0.2
0
0.05
0.1
0.15
0.2
0.25
0.3
0.35
0.4
0.45
y axis (m)
z 
ax
is
 (
m
)
  0.25 0.2 0.15 0.1 0.05 0 -0.05 -0.1 -0.15 -0.20
0.05
0.1
0.15
0.2
0.25
0.3
0.35
0.4
0.45
y axis (m)
z 
ax
is
 (
m
)
1t
2t
3t
5t
6t
 
圖5.II-6 機器人跳躍支狀圖  圖5.II-7 跳躍之質心
軌跡 
 
0 0.05 0.1 0.15 0.2 0.25 0.3 0.35 0.4 0.45 0.5
-0.1
0.1
0.3
0.5
time (sec)
dy
c 
(m
/s
ec
)
 
 
0 0.05 0.1 0.15 0.2 0.25 0.3 0.35 0.4 0.45 0.5
-0.6
-0.4
-0.2
0
0.2
0.4
0.6
time (sec)
dz
c 
(m
/s
ec
)
 
 
w/ underactuation
w/o underactuation
w/ underactuation
w/o underactuation
 
圖5.II-8各致動力矩和正向力 圖5.II-9質心水平和
垂直速度 
六、結果與討論 
  I. 仿生機器魚部分：本章將呈現第一代機
械魚實驗結果，並驗證第二代機械魚提出振
動吸收器應用於魚尾擺動推進之構想，利用
機構動態分析軟體（ADAMS）模擬其概念。 
6.II.1 第一代機械魚實驗結果 
    由於第一代設計未考慮上升下潛之運動
軌跡，因此第一代機械魚僅能於水面之二維
運動軌跡。運動模式主要分兩種，前進與轉
彎，而在前進方面規畫三種軌跡，轉彎亦同。
以下將分兩單元詳細介紹前進與轉彎運動模
式。 
6.I.1.1 前進運動模式 
    前進運動模式主要規劃以下三種模式，
詳細如下： 
1. A 模式 
  A 模式主要是參考蛙泳踢水之動作，兩
自由度類比於人體之髖 
與膝兩關節，蛙泳踢水主要是藉由大小腿反
 16
速度，使得游行方向順著身軀而改變。 
1 2 3 4
5 6 7 8
 
圖 6.I- 9：E 模式機構示意圖 
 
圖 6.I- 10：E 模式實驗結果 
    圖 6.I-9 與圖 6.I-10 分別為 E模式在
軟體上機構示意圖與實驗結果，而模式亦達
成轉彎之目的。實驗結果顯示，此模式的旋
轉半徑減小，使得整體的效能提升。 
6.I.2 第二代機械魚振動吸收器模型模擬結
果 
    5.I.2.2 節中機械魚線性模型，將以週期
性之弦波（Sinusoid Wave）訊號作為致動力
的控制命令，藉由致動力命令之弦波頻率的
調整激發共振頻率，以驗證振動吸收器之概
念。 
    模擬結果可以發現，在考慮系統之摩擦
力與阻尼力的情況下，利用線性化之簡化模
型，分析振動吸收器的自然頻率與特定操作
模態各個質量塊、彈簧剛性與阻尼常數比例
的條件。以此頻率之弦波訊號作為力矩之輸
入命令，以及特定質量塊、彈簧剛性與阻尼
常數比例，可以實現振動吸收器之概念。以
實際的計算流程與模擬結果作說明： 
    利用MATLAB與動態分析軟體ADAMS作模
擬。首先以式(3.8)為挑選各個系統參數的比
例關係式，挑選 1.3f = 與 2 0.4μ = 代入： 
2 2
2
1 2 2
( 2) 1
2 ( 1) ( 1)
f μμ μ μ
+= ++ +  
因此可得 1 0.7265μ = ，而 f 代表魚尾與魚體
自然頻率之比例，因此 2 2 2
1 3
k mf
k m
= ，進而得
到彈簧剛性之比例。再利用式(3.9)，將上列
之求得參數代入： 
2
2 2 1 2
2 2
1 2
(4 1)
16 ( 1)
μ μ μξ μ μ
+ += +  
即可得到 22ξ 。其次挑選魚體質量與彈簧剛性
值， 2 0.5m = (kg)與 1 10k = (N/m)，即可得到
魚體內部質量塊 1 0.36325m = (kg)，魚尾質量
3 0.2 (kg)m = ，連接魚體與魚尾之彈簧剛性
2 6.76 (N/m)k = ，以及阻尼常數
2 0.263 (Ns/m)c = 。將以上所求的系統參數代
入魚體 2( )m 之動態方程式，式(3.3)，並利用
MATLAB將魚體 2( )m 之動態方程式與魚尾之動
態方程式 3( )m 做比較，結果如下： 
 
圖 6.I- 11：魚體與魚尾之動態之比較圖 
    圖 6.I- 11 代表各系統位移量與輸入力
頻率之關係圖，縱軸為魚體與魚尾相對於力
之位移量，橫軸為輸入力之頻率。綠色線代
表魚尾，藍色線代表魚體，因此由圖 6.I- 11
可知，當頻率為 5.997(rad/sec)時，魚尾相
對於力之位移量遠比魚尾相對於力之位移量
來得大。再將此數據代入動態分析軟體 ADAMS
作模擬，驗證其可行性。由模擬結果圖 6.I- 
12 可得知振動吸收器之概念是可行的。 
 
圖 6.I- 12：ADAMS 模擬結果 
  基於振動吸收器模型模擬結果確實可行，
 18
透過藍芽模組切換不同頻率模式，進一步測
量不同頻率下之游速。 
圖  6.I- 16：機械魚游行之後視圖 
圖  6.I- 17：機械魚游行之側視圖 
    圖 6.I- 16 與圖 6.I- 17 分別為第二代機械
魚游行實驗之後視圖與側視圖，各系統參數
選定為內部質量塊為 303 g，內部彈簧剛性為
75 N/m，尾部質量選定為 18 g 以及尾部彈簧
剛性為 0.103 N‧m/rad，並於各不同頻率下
量測其游速，如圖 5- 8。由實驗結果可得知，
致動器工作頻率於 4~6 Hz 之間，游速隨之增
加，當頻率達到 6~7 Hz 之間游速有最高值約
9.8 cm/s，之後頻率達到 7 Hz 以上，游速則
隨之遞減。主要是致動器工作頻率與尾部自
然頻率相同時，尾部擺動幅度增大，進而影
響機械魚之游速，因此致動器工作頻率與尾
部自然頻率相異時，尾部擺動幅度隨之減
小，游速亦隨之減慢。 
 
II. 單足跳躍機器人部分： 硬體架構和實
驗結果  
6.II.1 硬體架構 
本研究利用一實作之三連桿單足機器人
如圖一，以驗證最佳化軌跡完成跳躍動作的
可行性。機器人站直的高度約為 47.6cm，而
包含電路板和電池的機器人整體重量為約
870g。在機器人的踝和髖關節上裝設直流伺
服馬達作為致動器。每一個馬達中除了減速
比機構亦整合電位計、PID 型伺服控制器和驅
動器當作一個模組。實驗上，以達成追蹤最
佳化軌跡 ( )a tq 為目的。此外，為了達到驗證
的目的，分別在腳趾和腳跟上裝設機械式的
接觸開關來判斷腳底與地面間的接觸狀況。
在腳底也裝置了陀螺儀以量測腳底的絕對傾
斜角度。最後，在馬達線圈上串聯電流感測
器以量測通過馬達的電流，因而換算為馬達
力矩。 
 
 
圖6.II-1 跳躍照片 
(影片:http://ldsc.pme.nthu.edu.tw/files/Hopping) 
 
0 0.2 0.4 0.6 0.8 1 1.2 1.4
0
5
time (sec)
S
w
itc
h 
(V
)
 
 
toe
heel
0 0.2 0.4 0.6 0.8 1 1.2 1.4
0
10
20
30
time (sec)
θ 0(
t)
 (
de
g)
 
 
simulation
experiment
 
圖 6.II-2 相關之感測訊號 圖 6.II-3 模擬與實驗之
力矩 
 
6.II.2 穩定跳躍之實驗結果 
實驗中直接採用由最佳化演算法所求解
得的 ( )a tq 作為馬達伺服控制器的參考軌跡。
實驗上，單足機器人可以完成週期性地穩定
跳躍，且跳躍距離如同模擬結果為約 20cm。
以高速攝影機拍攝並擷取機器人單一週期跳
躍的照片如圖 6.II-1。機器人連續跳躍之影片
可 由
http://ldsc.pme.nthu.edu.tw/files/Hopp
ing 下載觀看，其中並包含了模擬動畫與實驗
影像。 
機器人在一個跳躍週期中，紀錄兩個接
觸開關的訊號以及腳底傾斜角度的模擬和實
驗情形，如圖 6.II-2。起初腳底恆保持水平地
接觸地面，故圖 6.II-2兩個接觸開關為「關」
的狀態而產生低電壓訊號。在 0.4 秒左右，
腳底開始繞著腳趾旋轉，故腳跟恰離開地面
使得相對應的接觸開關為「開」狀態的高電
壓訊號。經過約 0.09 秒後，腳底整個完全地
離開地面為機器人凌空的階段，使得兩個接
觸開關為「開」的狀態並且持續大約 0.19 秒。
 20
[9] M. Raibert, H.Brown and M.Chepponis, 
“Experiments in Balance with a 3D 
One-Legged Hopping Machine,” Int. J. 
Robot. Res. , 3(2), 75–92, 1984. 
[10] M. Raibert, Legged Robots that Balance, 
Cambridge, MA: MIT Press, 1986. 
[11] M. Vukobratovié and B. Borovac, 
“Zero-Moment Point – Thirty Five Years 
of Its Life,” Int. J. Human. Robot., 1(1): 
157–173, 2004. 
[12] S. Kajita, K. Kaneko, M. Morisawa, S. 
Nakaoka, and H. Hirukawa, “ZMP-based 
Biped Running Enhanced by Toe Springs,” 
Proc. of the IEEE International 
Conference on Robotics and Automation, 
pp.3963–3969, 2007. 
[13] T.-Y. Wu and T.-J. Yeh, “Optimal Design 
and Implementation of an Energy-Efficient 
Biped Walking in Semi-Active Manner,” 
Robotica, accepted for publication. A 
condensed version of the paper is also 
presented in Proceedings of the IEEE 
International Conference on Robotics and 
Automation, Pasadena, CA. USA, pp. 
1252–1257, 2008. 
[14] M. J. Lighthill,” Note on the swimming of 
slender fish,” J. Fluid Mech., Vol.9, 
1960,pp.305-317. 
[15] J. Yu, el al. “Development of a 
Biomimetic Robotic Fish and Its Control 
Algorithm,” IEEE Trans. On Sys. Man. 
And Cyber. Vol. 34, No. 4. Aug. 2004, pp. 
1798~1807. 
[16] S. D. Kelly, and R. M. Murry, “Modelling 
efficient pisciform swimming for control,” 
Int. J. Robust Nonlinear Control, 2000: 
10:217-241. 
[17] K. Morgansen, et. Al. “Trajectory 
Stabilization for a Planar Carangiform 
Robot Fish,”Proceedings of the 2002 IEEE 
International Conference on Robotics & 
Automation Washington, D.C., May, 2002, 
pp. 756~762. 
[18] Bozkurttas, M, Dong, H., Mittal, R., 
Madden, P., Lauder, G., “Hydrodynamic 
performance of deformable fish fins and. 
flapping foils,” AIAA 2006-1392, Reno, 
Nevada 
[19] http://www.seattlerobotics.org/encoder/20
0211/autonomous_robotic_fish.html 
[20] http://www.neurotechnology.neu.edu/burp.
html 
[21] http://www.mech.uwa.edu.au/bjs/Vibratio
n/TwoDOF/Absorbers/default.html 
[22] http://www.sciscape.org/articles/fish_swi
m/index.html 
[23] http://www.kondo-robot.com/index.html 
[24] 葉廷仁、黃獻輝,＂ 振動吸收器應用於
仿生機械魚之擺尾推進,＂ 中國機械工
程學會第二十五屆全國學術研討會, 中
華民國九十七年十一月, 彰化。 
[25] 許秉弘、吳亭穎、葉廷仁, “單足機器
人穩定跳躍之軌跡規劃,＂ 中國機械工
程學會第二十七屆全國學術研討會, 中
華民國九十八年十一月, 台南。 
[26] Ting-Ying Wu, T.-J. Yeh*, and Bing-Hung 
Hsu “Trajectory Planning of a One-Legged 
Robot Performing Stable Hop,” accepted 
for publication, IEEE/RSJ International 
Conference on Intelligent Robots and 
Systems, 2010, Taipei, Taiwan. 
[27] Ting-Ying Wu, T.-J. Yeh*, and Bing-Hung 
Hsu “Trajectory Planning of a One-Legged 
Robot Performing Stable Hop,” accepted 
for publication, International Journal of 
Robotics Research, 2010. 
 
Control System Design 控制系統設計。 
研討會第四日原定為研討會舉辦之冰河大道導覽，但由於學生於前往班夫的
過程中，已經過冰河大道並參觀，故沒有參加演討會主辦之付費導覽。於第四日
前往 Calgary 卡加利準備隔日飛返台灣，結束論文發表的行程。 
 
 
二、與會心得 
學生所發表的研討會論文，是關於四輪電動車輛之動態與其馬達控制，與會
人士提出許多關於特殊情況下例如打滑以及車輪離地時，會對控制器以及車輛動
態產生的變化，關於此部分學生已在研究時已考慮進去，以另一防打滑與空轉之
動態補償控制器來對這個現象提出較好的解決方式；除此之外另有對使用輪內式
馬達造成車輛於懸吊下方重量增加，進而造成車輛動態上的變化有許多討論。 
由於近年油價上升，使得能源問題受到廣大的重視，從與會者所發表的眾多
論文來看，大家致力於增加能源的獲取或是減少能源的消耗，電力驅動類以及智
慧型家電類相關的研究已重新獲得重視。但學生以為除了技術上的精進，使用者
的心態與生活習慣亦須跟著在這能源危機的年代而改變。在參訪加拿大班夫的過
程中，可從遊客或當地居民的生活看出他們對生態保護的熱愛，在進行遊憩的同
時不忘保護環境，以破壞及騷擾環境為恥。除了居民與遊客的配合，當地政府在
設施與政策上更是積極的進行環境保育，例如興建動物天橋，降低野生動物因為
遷徙經過高速道路而遭受撞擊，或是全區域垃圾桶加裝防熊開關等。學生在行經
當地道路時，遇到大群野生羚羊就在公路旁與公路中間進食，來往的車輛都將車
速降到極低並安靜地通過，拍照的遊客也遠遠的拍攝而不打擾，可看出當地居民
與遊客都能確實以降地對生態的破壞為原則來生活，相較亞洲國家積極的工業開
發而忽略人民素質的提升確實有需要改進的地方。希望在未來的世代台灣除了綠
能技術能獨步全球外，居民的環保綠能觀念也能讓全世界驚豔。 
 
三、考察參觀活動(無是項活動者省略) 
學生於前往班夫的過程中，經過冰原大道並進行參觀， 當地的冰河從 20
世紀 90 年代後已開始逐漸往後退去，至今十餘年的時間已後退數百公尺遠，可
見全球暖化的影響。除此之外學生於經過當地 Jasper 城鎮時，竟下起七月大雪
導致車輛無法前進，可見近年來氣候的劇烈變動已開始影響我們的生活，高緯度
的國家感受尤其深刻。 
 
四、建議 
學生所進行研究之主題-電動車輛動態控制，其市場為現今受重視的題目之
一，從學生參與數次之相關研討會資訊，整合各方的意見看來，除了民間資金的
投入，政府是推動電動車最重要的一環。希望政府能增加興建電動車輛的補給設
施以及優惠購車或過路費減免等多項利多，來提升消費者對於電動車輛之信心與
購買意願，除此之外並成立專門的電動車輛研究單位來對相關產業進行深度的研
無衍生研發成果推廣資料
其他成果 
(無法以量化表達之成
果如辦理學術活動、獲
得獎項、重要國際合
作、研究成果國際影響
力及其他協助產業技
術發展之具體效益事
項等，請以文字敘述填
列。) 
本計畫以三年的時間，把欠致動系統實現於仿生機器魚以及單足跳躍機器人
上。其中其中第一代機器魚為全致動型，此機器魚係作為開發水下載具機電技
術的實驗平台。第一代機器魚曾於 96年底參加教育部主辦之全國微電腦實作競
賽，獲得大專組第一名。以欠致動方式驅動的第二代仿生機器魚，充份發揮機
構與流場的自然動態，以省能且優美的方式進行游動。單足機器人則不但能夠
以不同的跳躍距離在水平面上連續且穩定地跳躍，並且亦可以成功地完成跳
上、下階梯的動作。本計畫計發表了兩篇國內研討會論文[24][25]、一篇國際
研討會論文[26]與一篇國際期刊論文[27]。研究成果符合原來規劃。 
 成果項目 量化 名稱或內容性質簡述 
測驗工具(含質性與量性) 0  
課程/模組 0  
電腦及網路系統或工具 0  
教材 0  
舉辦之活動/競賽 0  
研討會/工作坊 0  
電子報、網站 0  
科 
教 
處 
計 
畫 
加 
填 
項 
目 計畫成果推廣之參與（閱聽）人數 0  
