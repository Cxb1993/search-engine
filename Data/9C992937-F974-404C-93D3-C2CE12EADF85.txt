 1
可同時加速實體與高階合成設計收斂之增量式平面規劃系統之研究 
“An Incremental Floorplanning System for Quickly Achieving Design Closure of Both Physical Design 
and High-Level Synthesis” 
計畫編號：NSC95-2221-E-212-056 
執行期間：95 年 8 月 1 日 至 96 年 7 月 31 日 
主持人：程仲勝 大葉大學電機工程學系 助理教授 
 
一、 中文摘要 
隨著深次微米時代的來臨以及設計各種
多媒體 SOC 複雜系統單晶片的需求，雖有實
體設計階段之增量式平面規劃系統及將平面
規劃整合至高階合成的作法，但對於後端實體
設計者而言，為了達到佈局最佳化以保障系統
效能的目標，有些佈局問題可能不是在實體設
計階段所能解決，其根本解決之道可能必須追
溯至高階合成階段修正 binding及 allocation 方
法才行。因此為了縮短整個系統佈局時間及達
到佈局最佳化，一個能更進一步整合前端高階
合成與後端實體設計之方法即顯得格外重要
與迫切。為此本兩年度計畫擬設計一個可同時
加速實體與高階合成設計收斂之增量式平面
規劃系統。 
不論是在實體設計或高階合成階段中，平
面規劃或增量式平面規劃系統所使用之平面
規劃演算法種類很多，因而表示模組間相對位
置的方法與資料結構更是不甚枚舉。然而在不
同平面圖表示法之下，很難真正整合實體與高
階合成之平面規劃或增量式平面規劃。因此為
了建立一個同時可應用於實體與高階合成的
增量式平面規劃系統，本計畫在第一年度將提
出一個新的同時適用於實體層與高階合成之
平面圖描述方法，做為所提增量式平面規劃系
統運作的基礎，至於平面規劃系統中初始平面
圖則可採用任何一種演算法求得。 
以往後端實體設計佈局結果若不符合系
統目標或效能不良，可返回至實體設計之可能
步驟，如全域繞線步驟或平面規劃步驟，重新
執行相對步驟以尋求較佳的佈局結果。當然亦
可回溯至高階合成階段重新執行相對演算法
以求得一合成結果，接著再以此合成結果重新
執行所有實體設計步驟，然而這是一件相當費
時的工作，況且最後佈局結果未必較前一次
好。為此本計畫將在第一年度設計出同時適用
於實體層與高階合成之平面圖描述方法前提
下，在第二年度提出一個新的具有雙迴圈機制
之增量式平面規劃系統以快速且正確地處理
一連串佈局改變。此系統之內迴圈處理實體設
計層級之增量式平面規劃，而外迴圈處理高階
合成層級之增量式平面規劃，如此較能快速達
到佈局最佳化的目標以加速設計收斂。 
關鍵詞：增量式平面規劃、實體設計、高階合
成設計 
英文摘要 
As the deep submicron era comes and 
multimedia SOC progresses, though the 
incremental strategies can be applied, some 
layout problems may still not be solved in 
physical design phase and it may need to be 
resorted to modify the allocation and binding 
procedures in high-level synthesis. Consequently, 
for shortening the layout time and achieving 
optimized layout solution, it is important to 
further integrate the physical design and 
high-level synthesis. For this purpose, we 
propose a two-year project to design an 
incremental floorplanning system for quickly 
 3
能的目標，有些佈局問題可能不是在實體設計
階段所能解決，其根本解決之道可能必須追溯
至高階合成階段修正 binding及 allocation 方法
或必須重新分割系統模組才行。因此為了縮短
整個系統佈局時間及達到佈局與系統模組設
計最佳化，一個能更進一步整合前端高階合成
與後端實體設計之方法即顯得格外重要與迫
切。為此本兩年度計畫擬提出一個可同時加速
實體與高階合成設計收斂之增量式平面規劃
系統，目前此種可同時適用於處理實體層與高
階合成之增量式平面規劃系統似乎未見發表
於重要之期刊及研討會，而倘若有學者教授從
事此類研究，亦應處於起步階段，因此綜合上
述之分析，我們認為此類計畫具有學術研究及
實用價值。  
 
三、 研究方法 
本計畫在第一年度(95 年度)已提出一個
可同時適用於實體層與高階合成之能記錄佈
局限制之平面圖描述方式，以便作為整個加速
實體與高階合成設計收斂之增量式平面規劃
系統之基礎。以下即說明如何建立所提平面圖
描述方法。 
首先我們說明在增量式平面規劃系統中
何謂能記錄佈局限制之平面圖描述方式。令 O 
= {H1, H2, …, Hi, S1, S2, …, Sj, D1, D2, …, Dk, L1, 
L2, …, Ll, P1, P2, …, Pm, …}為 n = i + j + K + l + 
m … 個模組物件之集合，其中 Hi 為具有固定
長寬維度之固定模組，Sj 為具有固定面積但長
寬維度不固定之軟性模組，Dk 為閒置空間，
Ll 為重要網列或 power line 之連線線段，Pm 
為位於晶片邊緣之接腳，當然整個物件集合尚
可包含佈局圖中其他重要實體。既然佈局圖中
各物件是由高階合成所產生之模組與網列經
由實體設計平面規劃/擺置與繞線一個個步驟
慢慢合成而來，因此物件間之關連性、相對位
置、維度關係、距離關係與其間之擺放限制等
佈局限制皆可由合成佈局圖的過程中記錄得
來。雖然合成佈局圖時可能使用不同的合成演
算法，但不管使用何種演算法，伴隨佈局圖的
佈局限制總是可得。有了佈局限制的資料便可
產生適用於實體層與高階合成之平面圖描述
方法，而不只是受限於傳統採用單一參考點之
絕對座標平面圖描述方式。 
以圖一之佈局圖為例，我們說明何謂能記
錄佈局限制之平面圖描述方式。若圖一之佈局
限制為： 
(a). 固定模組 A 必須擺放於晶片左上角，以利
於連接接腳 pad 0。 
(b). 軟性模組 C 必須擺放於模組 A 之正下方
且模組 C 之上邊界必須與模組 A 之下邊界等
寬，以利訊號之連接。 
(c). 固定模組 D、E、G 必須以此順序相鄰擺
放(亦即模組 D 及 E 與模組 E 及 G 之間不得擺
放其他模組或是閒置空間)，以利其間重要網
列(藍色連接線)之快速訊號傳遞。 
 
 
 
 
 
 
 
 
 
 
 
 
 
圖一：佈局圖範例 
 
本計畫所提能記錄上述佈局限制之圖一
平面圖描述則可為： 
(a). 接腳 pad 0 位於晶片左上角。 
(b). 固定模組 A 左上角必須位於 pad 0 正下
方。(佈局限制之一) 
hard A soft B 
soft C 
hard D hard 
E 
hard F
hard 
G 
pad 0
dead H 
dead I 
dead J 
dead
K
