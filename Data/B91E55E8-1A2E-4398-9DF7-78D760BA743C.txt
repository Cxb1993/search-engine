1中文摘要
本研究的目的是開發一部具有視覺〝看〞的能力與仿效人類〝學習〞能力
的撞球控制器，配合機構設計(Mechanical design)完成撞球機器人的軟硬體整
合，同時對機器人的移動作出自動與半自動控制，再加上影像處理技術，正確地
得到球桌上所要撞擊子球的相對位置，並利用可拓理論(Extension theory)決策智
慧型演算法(Intelligent algorithms)來學習並推論出，如何將子球打進球袋及作
球，形成撞球決策(Decision-making)，最後將控制命令(Control command)送到撞
擊機構來執行打撞球的動作。
本研究的第一個重點是撞球機器人的影像處理(Imaging processing)技術，它
必須具備視覺感測裝置(CCD)，就如同人類的眼睛，感測並判斷球的位置，當掌
握球桌上所有球的位置後，輸出母球(Cue ball )和子球(Object balls )的座標值給控
制裝置(PC)，令撞球機器人得以作正確的撞球決策(Decision-making)。
本研究的第二個重點是，撞球機器人的決策控制裝置，它必須具備可以快速
計算的能力，就如同人類的大腦，當眼睛(CCD)將所有的球搜尋完畢得到其座標
位置後，利用模糊-類神經網路(Fuzzy Neural Network)讓機器人具有仿效人類的
學習與推論的機制可以不斷去學習撞擊的力道與角度，然後將決策命令傳送到機
器人的撞擊機構控制器(Controller)執行打撞球的動作。
本研究的第三個重點是，撞球機器人的機構運動控制(Mechanism motion
control)，它必須具備精確移動的 XYZ平台和撞擊的機構(Mechanism)，就如同人
類的手和腳。當控制器(PC)輸出預備撞擊母球的位置訊號到 XYZ平台，XYZ平
台立即移動到正確的位置，並接收控制器(PC)所輸出的撞擊角度和力道命令撞擊
機構將子球準確的撞進球袋，完成撞球動作。
研究的範圍包括了機構設計(Mechanism design)、影像處理與辨識(Imaging
processing/Pattern recognition)、控制決策(Decision making)及機電系統整合
(Electromechanical system integration)。也藉由這三個領域的結合使得本機構具備
機械結構的穩定、協調地控制、快速地辨識和智慧型的推論與學習等優點來仿效
人類打撞球。
關鍵詞： 可拓理論(Extension theory)、模糊-類神經網路(Fuzzy Neural Network)、
機構設計(Mechanism design)、機械視覺(Machine vision) 、控制決策
(Decision making) 。
3前言與研究目的
撞球是一項普及並且風行多年的運動，每年度受矚目的世界性撞球賽事更是
不勝枚舉。尤其於 2006杜哈亞運中，台灣選手柳信美、林沅君及楊清順一舉為
國奪下二面金牌及一面銅牌，更是令全台灣對撞球運動之發展及推廣有更進一步
的了解與奪牌期待。因此，除了現今已有一定發展規模的足球型機器人比賽(FIRA
ISI-Robot Soccer Championship)、(RoboCup)之外，撞球機器人勢必更會是運動機
器人之新潮流。
在力量控制與擊球角度量測上，撞球機器人的表現是比人類的動作還要穩定
的。機器人能夠按照電腦所計算出的擊球力道與角度做出穩定的擊球動作，在控
制方面確實比一般人類穩定的多。在影像辨識方面，CCD 所擷取的影像容易受
到環境的影響，如光線的強弱所造成的陰影、反光所造成的局部亮點、不均勻的
顏色區塊，這些對於影像的辨識會造成很大的影響，所以必須進一步做影像處理。
撞球機器人邏輯思考判斷能力方面，撞球機器人缺乏對障礙球的判斷能力，
使得在有障礙球的狀況時，撞球機器人仍然會選擇有障礙球的路線作進攻，無法
使得目標球順利撞進球袋。作球方面也僅僅做到下一顆目標球，無法對全球局作
一個完整的進攻規劃，容易造成後面的色球無法撞進球袋的窘境。
本研究將針對上述缺點來修正，使撞球機器人的視覺能力與邏輯推斷能力更
上一層樓，達到迅速且準確的搜尋出母球與子球的座標位置，使得撞球機器人能
夠在快速的搜尋完球桌上的各色球之後，結合全局作球的觀念，依序完成撞球動
作。讓撞球機器人有著與人類類似的撞球技巧，以期能夠達到一杆清檯(Clean
table)的目標。
文獻探討
國內曾做出機械撞球機構的則有台灣科技大學機械系林其禹教授[1] ，其撞
擊機構的移動和瞄準都需要人的操作，其機構的控制是屬於半自動化，就像人類
撞球時將球杆擺在適當位置，由其撞球機構代替人類的手，將母球撞擊出去而
已。美國的麻省理工學院在 1997年也發展出一套戴在頭上的電腦瞄準裝置
(Wearable computer)[2]，利用 3D 虛擬視覺環境輔助人類在撞球時，母球撞擊子
球角度的多種選擇。。馬來西亞的團隊[3-4]則以電腦虛擬環境，利用模糊理論來
建立簡易的撞球決策。日本方面曾發表在撞球檯上以自走車承載 XYZ動平台來
模擬撞球時球杆的瞄準與撞擊機構[5]。綜觀國內外相關文獻，尚無任何研究團
隊或個人實現撞球機器人的軟硬體整合與比賽，本團隊可謂到目前為止第一組真
正進行撞球機器人軟硬體整合研究，並且已經發表多篇國內外論文，與發表多本
碩士論文[6-15]。
5結果與討論
﹝1﹞號球定位與辨識
撞球機器人藉由 RGB上下界閥值來區隔出各色塊的位置。由於色球的顏色
混亂，以綠色的球桌桌面做為過濾條件，使得撞球機器人利用各色球的顏色直接
作球中心的判斷。影像辨識主要分為兩個步驟執行，先將各球位置定位，再辨識
各色球顏色，以此完成擊球順序規劃。
以球桌面顏色(綠色)為影像過濾條件來做二值化，如圖 1所示，黑色部分為
球桌桌面，白色的部分則為各色球的位置。為了消除圖中的一些雜點與白色區塊
邊緣的鋸齒部分，我們使用影像柔化與斷開的前置處理[16]。接著結合平均法與
資料搜尋法為基礎來定位球心[17]。針對每一個號球集合，以平均法來搜尋球
心，就可以得到每一顆號球的球心位置。
圖 1 ：二值化後的圖像
已知球桌上每一顆色球確切的位置之後，我們以顏色辨識來取代球號辨
識。在實驗中我們利用 VB程式中的 point 指令來擷取影像中的顏色值，擷取影
像中色球的顏色像素，針對色球的像素做彩色分析，就可以得到色球的顏色值，
完成辨識動作。辨識出每一顆色球的顏色之後，就可以決定擊球順序。圖 2為母
球與各色球經由辨識後的結果，圖中 A 區塊顯示母球與各球袋中心之座標，B
區塊顯示球桌上共六顆球之座標，C 區塊則顯示五顆子球之座標，最後 D 區塊
顯示各球之擊球順序。
7置(8)再作可拓作球決策，也就是先將母球訂在位置(9)，預測母球撞進 2 號球之
後，母球可能的停留位置。再將母球訂在位置(8)，預測母球撞進 2 號球之後，
母球可能的停留位置。再分別挑出 2個最佳撞進 3號球的位置，作優度總和計算。
圖 3：母球動向預測
在優度評價時，我們也加入了權重的觀念，因為雖然預測出在某些位置，下
幾顆號球會容易撞進球袋，但是也得先將目前必須撞進的號球成功撞入球袋，否
則往後的預測只是空談。所以當前必撞擊的號球其優度給予較高的權值，預測的
越遠，其權值越小。
圖 4：優度評價表
A B C D E
9[7] J. S. Yang, Z. M. Lin and C. Y. Yang, “Grey Decision-Making for a Billiard
Robot,” IEEE International Conference on Systems, Man & Cybernetics
(SMC’04), Oct, 10-13, 2004, Hague, Netherlands.
[8] 王添毅，楊智旭，楊棧雲，“可拓理論在撞球機械人球袋選擇應用，” 中國
人工智能學會 2003全國學術大會，廣州，11/19~11/21， 2003，pp.1160-1165。
[9] 許家欣，楊智旭， “撞球機器人之模糊誤差補償器設計，” 2004中華民國自
動控制研討會，大葉大學，3/26~3/27，2004。
[10] 王添毅，楊智旭， “智慧型撞球機器人”，中國大陸航空太空研討會，9/1，
2004。
[11] 林志明，撞球機器人之研究，淡江大學機械與機電工程學系碩士論文，民國
92年 6月。
[12] 陳伯儒，撞球機器人之類神經模糊補償器設計，淡江大學機械與機電工程學
系碩士論文，民國 92年 6月。
[13] 許家欣，撞球機器人之擊球力量控制器設計，淡江大學機械與機電工程學系
碩士論文，民國 93年 6月。
[14] 王添毅，可拓理論在撞球機器人決策之應用，淡江大學機械與機電工程學系
碩士論文，民國 93年 6月。
[15] 盧彥宏，撞球機器人在撞球球局之防守決策，淡江大學機械與機電工程學系
碩士論文，民國 94年 6月。
[16] Gonzalez, Woods, 繆紹綱(譯)，數位影像處理，普林斯頓國際有限公司，2003
年 8月。
[17] 繆紹綱，數位影像處理-活用Matlab，全華科技圖書，民國 88年 3月。
[18] 蔡文，“可拓集合和不相容問題”，科學探索學報，1993。
[19] 蔡文、楊春、林偉初，可拓工程方法，科學出版社，1997。
