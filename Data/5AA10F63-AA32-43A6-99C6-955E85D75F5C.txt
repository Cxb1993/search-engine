strate the success of the proposed sensorless
control algorithm.
keyword : Sensorless Control 、 Brushless
DC Motor 、 Initial Position Detection 、
Back EMF
二、 簡介
基於世界環保潮流的意識抬頭, 對於生活
環境的品質要求也日趨嚴格,國內由於地理環
境的因素, 以及國人用車的習慣, 使得機車的
使用密度成為世界第一,因此減少機車的排放
廢氣污染, 成為改善空氣品質的重要一環。 所
以在政府政策的制訂執行下,電動機車的研究
發展, 透過學校、 研究單位以及民間機車工業
的共同推動, 使得國內電動機車的使用人口已
經呈現大幅成長。 直驅式車輪馬達提供了電
動車輛整體效率提升的新解決方案,更直接了
簡化了中間機構的複雜性。 電機系統的效率
提升, 必須同時著手於馬達本體與驅動器雙方
面的研究, 本計畫先對馬達的動態特性做基礎
性的研究, 分析並建模以提供驅動器及控制器
設計時所需之足夠資訊。 一般直流無刷馬達
必須利用霍爾元件作為位置迴授的訊號,然而
霍爾元件的安裝、 固定以及其電氣特性, 在惡
劣的工作環境下, 忍受度不佳, 故障率高, 若
將霍爾元件也應用至直驅式車輪馬達之系統,
將亦無法避免上述之缺點, 高故障率, 必造成
使用的不便性, 因此不利用霍爾元件的無感測
驅動技術 (sensorless drive), 變成這幾年來
馬達控制的一個新技術領域 [1-4]。 在無感測
控制技術方面, 主要可分成五個研究方向 [5]:
1. 利用量電流、 電壓所發展出來的控制技
術
2. 利用觀測器所發展出來的控制技術
3. 利用量測反電動勢所發展的控制技術
4. 無感測的起動技術
5. 運用其他方法的控制技術
目前在估測轉速與位置的技術方面,以狀態觀
測器有較為引人注目的成果。 其中滑動估測
(Sliding mode observer) 方式更為突出, 不
僅運算簡單,實現上也相當方便,此外,還可加
入適應性控制法則 [6,7],進一步改善系統的表
現。起動問題在無感測技術存在著相當高的難
度, 由於在靜止的狀況下, 反電動勢為零, 因
此直接利用反電動勢或者間接估測反電動勢
的控制技術將無法克服起動問題,必須有其他
的控制技術加入。然而對於只允許起動之後循
單一方向運轉的工作場合, 例如運輸載具, 在
起動時的絕對估測變成相當重要,對於這方面
的問題, 如果沒有外加的實體結構, 例如額外
的線圈等等, 並沒有一個相當完善的解決方式
被提出。目前國內的研究方向大多是利用反電
動勢的零交越點 (Zero-Crossing Point)偵測,
來計算適當的換向時機與轉速 [8-10], 少部分
則利用量測的電氣訊號進行磁通步進角估測
[11]。 在起動的問題上面, 有數種方法經常被
探討 [12], 例如: 端電壓電流式位置感測, 必
須假設靜止起動的瞬間,馬達轉子的真實位置
與估測位置不超過65◦; 又如: 載頻電壓式位
置感測, 對於 d 軸與 q 軸電感相同的馬達並
不可行; 為了避開這些問題, 在車輛系統當中,
原始的光編碼器仍被保留作為起動時之用,由
此可見無感測起動問題, 仍具有相當大的困難
度。目前在車輪馬達之低轉速估測與控制問題
仍未獲得全面的解決, 本計畫將嘗試在不改變
馬達原始的結構下, 發展出較為理想的起動技
術, 避免初始轉動方向不可預測之缺點, 以供
車輛應用。
本計劃為兩年期計劃:
第一年: 利用 Matlab 的 Real-Time Work-
shop、 Real-Time Windows Target 與 xPC
等, 以 Hardware-in-the-loop (HIL) 之方式
建構出馬達的基本模型, 用以驗證驗證控制器
的可行性。 並且將滑動估測理論用來作為無感
測驅動器的理論基礎, 建構 PC-Based 控制
器, 結果與討論將於第二、 第三與第四節中提
出。
第二年: 著重在馬達驅動器以及起動問題的解
決。 在驅動器的設計中, 以反電動勢估測法為
基礎, 驗證驅動電路的正確性, 並加上初始電
流的偵測, 以達到起動時初始位置能夠較精確
的得到, 結果與討論將於第五、 第六與第七節
中提出。
三、 PC-Based controller 及 HIL 建構
由於 MatlabR/Simulink 所提供的便利
性, 使得 PC-Based 量測與控制平台的建構,
能夠大大減少時間, 本計劃的 PC-Based 架
構流程如 (圖一)。
(圖一) PC-Based 量測平台方塊圖 [8]
使用到的介面卡分別為 NI-6130 與
MRC-6810, 並且使用 Real-Time Workshop
2
四、 量測電路與實驗結果
量測電路的實作以及驅動器修改電路分
別為 (圖四) 及 (圖五), 量測到的三相電流以
及輸入電壓, 分別當作滑動估測器的參考以及
輸入
(圖四) 量測電路
(圖五) 驅動電路
利用第三節的理論, 在ωe = 18rpm的情況
可得到α− β軸上面的量測電流及估測電流如
(圖六) 所示, 實際轉速ωe以及估測轉速 ωˆe則
如 (圖七) 所示。 而在ωe = 10rpm的情況下,
α−β軸上面的量測電流及估測電流如 (圖八)
所示, 實際轉速ωe以及估測轉速ωˆe如 (圖九)
所示。
從結果可看出, 估測出的轉速, 都比原來
的轉速高, 此結果有可能導致換相的不正確
性, 因此在後面的計劃中, 改用反電動勢來找
出換相的時機, 並探討起始位置偵測的問題,
最後將驅動電路製作成電路板。
(圖六) α− β軸的量測電流以及估測電流
(ωe = 18rpm)
(圖七) 實際轉速及估測轉速 (ωe = 18rpm)
(圖八) α− β軸的量測電流以及估測電流
(ωe = 10rpm)
(圖九) 實際轉速及估測轉速 (ωe = 10rpm)
4
其中λPhase代表總磁通, λPM是磁鐵的磁通,
Li是激磁電流所產生的磁通。 如此一來, 先假
設取 AB 兩相當作導通相, A 接正電壓 B 接
地的電流記為i+1 , 反之記為i
−
1 , 實際量測得到
的電流在不同的電氣角下, 如 (圖十三) 所示。
先對電流取一次差值
di1,2,3 = i
+
1,2,3 − i
−
1,2,3 (29)
可得到另外一個正負分布的圖形, 結果如 (圖
十四) 所示, 為了更進一步獲得磁平衡點附近
的電流差值極性, 因此再取一次差值為電流二
次差值
ddi1 = di1 − di2 (30)
ddi2 = di2 − di3 (31)
ddi3 = di3 − di1 (32)
最後得到的結果如 (圖十五) 所示, 如此一來,
極性便可容易的判定, 也可同時推論出馬達
轉子的起始位置。 其互相對應的關係列在 (表
一)
(圖十三) i+1與i
−
1 v.s 電氣角
(圖十四) 電流一次差值 v.s 電氣角
(圖十五) 電流二次差值 v.s 電氣角
(表一) 六個區間電流二次差值 v.s 電氣角
Electrical position ddi1 ddi2 ddi3
0◦ ∼ 60◦ - + -
60◦ ∼ 120◦ + + -
120◦ ∼ 180◦ + - -
180◦ ∼ 240◦ + - +
240◦ ∼ 300◦ - - +
300◦ ∼ 360◦ - + +
七、 驅動電路實作與實驗結果
驅動電路採用傳統的三相驅動電路, 利用
ExpressPCB 的免費軟體所製作,電路的架構
與 Layout 圖分別如 (圖十六) 與 (圖十七)
所示。 總共三個主要部分包含在電路中: 放大
器 (741系列), 半橋閘極驅動電路 (IR2110),
開關元件 (IRF640N)。 經由使用閘極驅動電
路, 可使得原本需要獨立電壓源的電路可大大
省略。 馬達採用的是直接驅動式外轉子馬達,
相關參數如 (表二) 所示。
(圖十六) 驅動電路架構
6
