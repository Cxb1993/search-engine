 2
?? 
Struts????MVC ????????
?(Web-Based)???????Struts ?
Model ??? JavaBeans?????????
???View ??? JSP?????????
??Controller ??? ActionServlet ?
ActionMapping?????????????
???????????? Model ? View ?
?? 
? Struts ?????????????
??????????struts-config.xml??
??? Struts ???? MVC ???????
???????????????????
????????????????????
????????????????????
????????????????????
???????????????? SVDT?
???? Struts ????????????
????????????????????
??? 
Java Server Faces (JSF) ??? Web- 
Based?????????????????
?????????? JSF ????????
? UI ?????? Web ?????????
?????????????????? Tag 
Library ????????????????
????????????? Prototyping ??
?????????????Tag Library ??
????????????????????
???????????????????
?? 
??????? JSF ???? SelectItem
????????????????????
???????????????????
????????????????????
????????????????????
????????????????????
????????????????????
????????????????????
??? ????????????????
? ??????????????
SelectItem ???????????????
???????? ???????????
 
 
???:  MVC, Struts, Java Server Pages(JSP), 
Java Server Faces(JSF)?UI ?????? 
 
1. ?? 
?????????????????
????????????????????
??????????????????
???? Web ?????????????
?? 
? Java ? Web ???????????
????? Servlet [10]???? Java ???
??????????????? CGI ??
Web ???????Servlet ?? HTTP ?
????? HTTP ???????????
Servlet ????? Java ???? out.println()
? HTML ???????????????
HTML ?????????????????
????????????????????
???(Sun)?? JSP [11]???JSP ? Servlet
?????????????? Servlet ??
????? Java ??(Class)?HTML ???
Java ?????????????? JSP ??
? Java ?????? HTML ???????
??? JSP ??????? Servlet ???
HTML ????? JSP ?????????
Servlet ????? HTML ???????
Java ????????? out.println()????
????????????????????
? ? ? Tag Library ? ? ? ? ? ? Tag 
 4
? MVC ???????????MVC ??
????????????????????
??????? 
JSF ?????????????? UI
???????????????????
????????????????????
??????????????????? JSF
????????????????????
????????????????????
????????????????????
????????????????????
????????????????????
????????????????????
?????????????? 
 
2 ??????? Struts 
 
2.1 ?????? 
?????????????????
?? HTTP ???????????????
???????????????????
????????????????????
????????????????????
????????????????????
????????????? 
??????????User?????
????Web Browser????????Web 
Server????HTTP Request???????
????????????????????
?????????????????AP 
Container????? ??????????
????????????????????
????HTTP Response?????????
????????????????? 
 
? ?. ???????? 
 
2.2 ? JSP ????????? 
Servlet ?????? Java ?????
??? Servlet????????????
???????????Servlet ?? HTTP
????? HTTP ?????JSP ? Servlet
?????????? Servlet?????
Java????? HTML ??????????
JSP ?? Java?????? HTML ?????
??????? JSP ????????
Servlet???? HTML ??? 
????? JSP ?????????????
?? 
z Client???????????? 
z Web Server?????????? HTTP
??? 
z Servlet Engine??? Servlet???? 
z JSP Engine????? JSP ?????
???????? Servlet?? JSP ??
????? JSP ????? Servlet? 
 
???????Client???????
??????Web Server????????
??????????HTTP Request???
???????????????????
?????? Servlet??? JSP ????
?????? Servlet?????????
 6
???????????????
??? View? Controller???
Controller ?????????
??????????????
Model ????????????
? Model ?????? View ?
???? View?????????  
z View?????????????
??????View?? Model??
???????????? View
? ? ? ? ? ? ? ? ? ? ?
Controller? model??? 
z Controller?Controller????
???????????????
???????????????
???????????????
????????? View ???
??? 
 
2.5 Struts? MVC ?? 
Struts ?Apache Software Foundation 
[4][5]?????????????????
?????? Java ????????Struts
?? Model 2??????????????
???????? MVC ??????????
????? Java Servlets?JavaBeans?
ResourceBundles?XML?JSP ????Tag 
Library???????????? MVC ??
??? Struts??? 
z ActionServlet????? MVC ??
???? Controller??????
??????????????
???????????? Model
?ActionForm?Action?????
???????????????
????? View?JSPs???? 
z ActionMapping?ActionServlet?
? ? ? ActionMappings? ? ?
ActionMapping ????????
?? URI ?????????
?Action??????? 
z ActionForm????? MVC ???
? Model???? JavaBean???
?????? Form beans????
??????????????
ActionServlet ????????
? ? ? ? ? ? ? ? ? ? ?
ActionForm??? 
z Action????? MVC ????
Model ????????????
???? Form Bean??????? 
z taglib???????? Struts
?????????? bean?
html?logic?template?nested?
tiles? 
z JSP??? MVC ???? View???
???????????? JSP ?
??????? JSP ?????
????? JSP ????????
JSP ?????? Struts ???
???? JSP page???????
???????????????
???? Action???? MVC ??
?  
z struts-config.xml?? Struts ?
???????????????
? Struts ?????????
???????? ActionMappings
????????? Struts???
? MVC ????????? MVC ?
??? 
 8
z ?? Struts-config.xml???????
?????????????????
? ? ? ? ? ? ? Form Beans ?
ActionMappings????Java classes
????????? ActionMappings?
??? Form Beans ???????
ActionMappings ? ? ? ?
ActionForward???? JSP Pages??
??? 
z ?????? Java classes?????
????? Java classes??????
? Form Beans ? Actions??????
?????????????????
? Actions ? ? ? ? ? ? ?
ActionForwards?????????? 
z ?????????????????
?????????????????
?????????????????
?????????????????
?????????????????
?????????????????
?????????????????
??????????????????
????????? 
 
4 SVDT?????? 
4.1 ?????? 
SVDT??? Java J2SDK 1.4.2????
???????????? Java Swing ??
?????????? SVDT???????
???????? 
SVDT???????????UI ???
?? Struts??????? UI ??????
? Java Swing ?????????????
?????????????????? 
? Struts????????SVDT???
???? StrutsConfig ? StrutsPrj???
???????????? Struts??? 
 
4.2 StrutsConfig? StrutsPrj?? 
StrutsConfig ????? JDOM[6]??
??????????struts-config.xml??
?????? Document ?????????
? SAXBuilder ??????? Document ?
? ???? Document ?????????
XMLOutputter ??? Document ?????
????? Document?????????
Element ????? JDOMXPath ?????
StrutsConfig ????????? List??
?? ?????? Form Beans ?
ActionMappings ????????????
????????????????????
???????????????? 
StrutsPrj ???????? Struts ?
??????????????????
HashMap ????????????? Form 
Beans ? Actions??????StrutsPrj ?
????????????????????
??? Form Bean ?? Action??? Action
? ? ? ? ? ? ? ? Action ? ? ? ?
ActionFowards????????????
StrutsPrj???? HashMap??? 
 
5 SVDT????? 
5.1 SVDT?????? 
??? SVDT????????????
????????????????????
????????? Menu ????????
??????? Tool?????? SVDT ??
???? HTML Page? Struts Page????
???? Project ?????? SVDT???
?????????? Struts ??????
????????????????????
????????????????????
????????????????? 
 10
 
? ??. ???????? 
 
6 JSF ?? 
Java Server Faces (JSF) [18][19][20][21]?
???? Web ?????????????
??? GUI ??????????????
UI ??????????????????
????????????????????
??????? MVC ?????????
????????????????????
?????????? 
 
6.1 JSF MVC ?? 
??? [20][23]? JSF MVC ?????
Struts ?????? View ?????????
??????Controller ????????
Listener?????????? Listener ???
???????????????JSF ??
UI ?????????????? Event??
? Event Handler????????? Event 
Handler ????????? 
 
6.2 JSF Life Cycle 
 
? ??. JSF ? MVC ?? 
JSF ????????? [18][21]????
???? 
1.?????Restore View?: 
????????????????????
???(Component Tree)????????
????????????????????
???????????????? 
2.??????Apply Request Values?:  
???????????????????
????????????????
(ActionEvent)??????????????
?(Event Queues)????????????
????????????????  
3.?????Process Validations?:  
????????????????????
????????????????????
?????? 
4.??????Update Model Values?: 
?????????(Binding)?
Managed-bean ????????? 
5.???????Invoke Application?: 
????????????????????
????  
6.?????Render Response?:  
???????????? 
 
6.3 JSF ?? 
JSF ?? [19][22]??????????
??JSF ??????? JSP ? HTML?? JSF
 12
?????????(Tag Handler)?????
?? UI ??(UIComponent)????????
?? setRendererType()??(Method)????
????????????????????
????????????????????
????????????????? HTML
?????????????????? JSF
???????? setProperties()?????
????????????????????
JSF ???????? faces ??? [26]?JSF
????????? UIComponentTag ???
?????? doStartTag()? doEndTag()?
??????? JSF ????????: 
(1) ?? doStartTag()??: Servlet ?? Tag
?? doStartTag()??? 
(2) ?? UIComponent: ???????
getComponentType()???????
UIComponent?UIComponentTag ??
getComponentType()???
faces-config.xml ??????????
??????? UIComponent ???
(Instance)? 
(3) ?????: ???????
getRendererType()??????????
?????????????????
???? faces-config.xml ?????
??  
(4) ??????: ?? UIComponent ??
????UIComponent?? encodeBegin()
?????????????
encodeBegin()???? encodeEnd()?
???? 3? 
(5) ??????? HTML: Servlet ???
?????? doEndTag()??????
?????? encodeEnd()??????
????? JSF ?????? HTML?
??? HTML ???????????
JSP ? HTML? 
7 ???????? 
7.1 ???????? 
JSF ????????????????
?? HTML ??? Web ???????:??
????(Combo Box)?????(Text Box)?
????????????????????
????????????????????
???????????????????:
????????????? JSF ?????
????????????????????
????????????????????
??? JSF ???????????????
????????????????????
????????????????????
????????????????? UI ?
????????????????????
????????????????????
????????????????????
?????????????????? 
?????????????????
????????????????????
????????????????????
?????????????? JSF ????
???????????? JSF ??????
????????????????????
???????? JSP ?????????
????????????????????
????????????????????
????????????????????
????????????????????
???????????????????
????????????????????
????????????????????
?? UI ????????????? 
 
 
 14
????????? Value Binding ????
????????????(?:??????
???)?? Form bean ???? Getter Method
? Setter Method ?????????????
????????? Getter Method ? Setter 
Method ???? 
 
7.3 ?????????? 
? 7.1 ???????????????
????????????????????
????????????????????
????????????????????
????????????????????
????????????????????
????????????????????
???????????? 
??????????????????
???????????????????
????????????????????
????????????????????
????????????????????
????????????????????
???????????????????
????????????????????
????????? InputText ???????
????????????????????
???????????????????
???(?:????????????)???
????????????????????
????????????????????
????????????????
SelectItem ???????????????
????????????????????
??(???)?????<f:selectItems/>???
??????????? SelectItems ???
SelectItems ?????? SelectItem ????
??? 
 
 
 
Browser
      ...  
      ...  
   <cal:calendar>
   <f:selectItems
   value="#{user.cals}"/>
   </cal:calendar>
      ...
      ...
Request
Childern
JSP
Response
 
? ??. ??????????? 
private static final SelectItem[] cals={ 
        new SelectItem("text1","text"), 
        new SelectItem("????","label"), 
        new SelectItem("cal1","calendar"), 
        new SelectItem("~","label"), 
        new SelectItem("????","label"), 
        new SelectItem("cal2","calendar") 
    }; 
? ??. SelectItem ?? 
 
8 ??????? 
???????????????????
SelectItem ???????????????
id ? label ???????????????
????????????????????
???????(???????????
?)????????? Children??????
????????? CalendarComponent ??
???????????????? InputText
? CommandButton??????? Parent ?
?? 
 U IV IEWR OOT
C alenda rC ompo nent GraphicImag e
C ommand Button
La bel
Inpu tText
 
? ??. ????????? 
package webapp.component; 
import javax.faces.context.FacesContext; 
… 
import javax.faces.component.UIComponent; 
 16
       } 
   } 
   component.encodeEnd(context); 
} 
public void encodeEnd(FacesContext context)  
throws IOException { 
   ResponseWriter writer = context.getResponseWriter(); 
   writer.endElement("span"); 
} 
… 
private ValueBinding getVb(String value) 
{ 
 StringBuffer strBind = new StringBuffer(); 
 strBind.append("#{"); 
 strBind.append(managebean); 
 strBind.append("."); 
 strBind.append(value); 
 strBind.append("}"); 
 return Util.getValueBinding(strBind.toString()); 
} 
… 
? ???. ???? 2 
3. ?? saveState()? restoreState()??: 
????????????????
InputText ?????????? decode()?
???????????? Java Bean ???
?????? UIComponentBase ??????
saveState()? restoreState()???????
???????????????????
?????????????? 
4. ???????: 
???????????????????
?????????????(TLD)????
???????????? getComponentType()
??????????????????
(managebean)??? setProperties()?????
??????????????? release()?
????????????????????
????????????????????
???????????? JSP ?????
?? 
… 
public Object saveState(FacesContext context) { 
  Object values[] = new Object[2]; 
  values[0] = super.saveState(context); 
  values[1] = managebean; 
  return (values); 
} 
public void restoreState(FacesContext context, Object state) { 
  Object values[] = (Object[]) state; 
  super.restoreState(context, values[0]); 
  managebean = (String)values[1]; 
} 
… 
? ???. saveState()? restoreState() 
package webapp.taglib; 
import webapp.component.Calendar; 
import javax.faces.component.UIComponent; 
import javax.faces.webapp.UIComponentTag; 
public class CalendarTag extends UIComponentTag{ 
private String managebean; 
 public String getRendererType() { return null; } 
 public String getComponentType() {  
return "webapp.component.Calendar"; } 
… 
 protected void setProperties(UIComponent component){ 
      super.setProperties(component); 
      Calendar cal = (Calendar)component; 
      cal.setManagebean(managebean); 
} 
public void release() { 
        super.release(); 
managebean = null; 
} 
} 
 
? ???. ???? 
<taglib version="2.0" 
… 
<short-name>calendar</short-name> 
<tag>      
<name>calendar</name>      
<tag-class>webapp.taglib.CalendarTag</tag-class>      
<body-content>JSP</body-content>      
<attribute> 
      <name>id</name> 
</attribute> 
<attribute>         
<name>managebean</name>      
</attribute> 
</tag>  
… 
</taglib> 
? ???. ????????(TLD) 
… 
function makeContent(Year, Month , strDay) { 
var drawHtml = '<tr><td valign="top">; 
…      
   for (var j = 1; j <= Rowcount; j++) {  
     for (var i = 1; i < 8; i++) {  
         //?????????????????? 
  … 
      }  
     }  
   document.all.dayGrid.innerHTML = drawHtml;  
} 
… 
function gcal(Object){ 
dat=window.showModalDialog("getCalendar.faces",'',''); 
document.getElementById(Object).value=dat; 
} 
function checkdat(start,end,Object){ 
if (end!="" && end!=null && start*1>end*1){ 
 alert("????????"); 
 18
? 7.3 ?????????????????
???????? RenderersLib.getSelectItem()
??????? SelectItem ????????
????????????????????
????????????????????
?? encodeChildren()??? Recursive ???
?????? 4.1 ????????????
????????????????????
?????encodeCalenderer()???????
????????? InputText ???
CommandButton ?????????????
?????????encodeTextField1()???
??? InputText? 
2. ?? RenderersLib.getSelectItem(): 
????? getSelectItem()????????
component.getChildren()??????????
?????? SelectItems ??(??????
??? SelectItems???? 4 ?)?????
?SelectItem[]????SelectItem?????
?????????? ArrayList ?????
?????????? SelectItem ??: (a.) 
SelectItem (b.) SelectItem[] (c.) Collection? 
3. ???????????????: 
????????????????????
input.getValue()?????????????
Array ??????????????????
???????????????????
Count ??? 1???????? Array ??
????????????????????
??? 
… 
public void encodeBegin(FacesContext context, 
                     UIComponent component)  
throws IOException { 
        ResponseWriter writer = context.getResponseWriter(); 
writer.write("<script language=\"Javascript\""+ 
"type='text/javascript'"+ 
"src=\"getCalendar.js\"></script>"); 
     writer.startElement("span", this); 
        if (component.getChildCount() == 0) 
           return; 
  List li = RenderersLib.getSelectItem(component); 
Iterator it = li.iterator(); 
        int count = 0; 
        while (it.hasNext()){ 
           SelectItem slie = (SelectItem) it.next(); 
           String label = slie.getLabel(); 
           String strvalue = (String)slie.getValue(); 
           if (label.equals("calendar")){ 
             writer.startElement("td", component); 
             encodeCalenderer(context, component,  
strvalue, count); 
             writer.endElement("td"); 
       count++; } 
           else if (label.equals("text")){ 
             writer.startElement("td", component); 
             encodeTextField1(context, component, strvalue); 
             writer.endElement("td"); 
           else if (label.equals("cmd")){ 
             writer.startElement("td", component); 
             encodeCommand(context, component, strvalue); 
             writer.endElement("td"); } 
           else{ 
             writer.startElement("td", component); 
             encodeLabelField1(context, component, strvalue); 
             writer.endElement("td"); 
           } 
        } 
… 
public void encodeEnd(FacesContext context)  
throws IOException { 
ResponseWriter writer = context.getResponseWriter(); 
   writer.endElement("span"); 
} 
… 
? ???. ????????? 
… 
private void encodeCalenderer (FacesContext context,  
       UIComponent component, 
       String strvalue,int count) throws IOException { 
HtmlInputText input = new HtmlInputText(); 
     input.setId("_id0"); 
     input.setValueBinding("readonly", getVb("read1")); 
     input.setValueBinding("size", getVb("size1")); 
     input.setValueBinding("value",getVb("calendar1")); 
  check[count] = (String)input.getValue(); 
     getChildren().add(input); 
     HtmlCommandButton but = new HtmlCommandButton(); 
     but.setId("_id1"); 
     but.setOnclick("gcal(\""+this.getClientId(context) 
            +":"+input.getId()+"\");"); 
     getChildren().add(but); 
} 
… 
? ???. ????????? 
package webapp.util; 
import javax.faces.context.FacesContext; 
… 
import javax.faces.component.UISelectItem; 
import javax.faces.component.UISelectItems; 
import javax.faces.model.SelectItem; 
import java.util.Collection; 
public class RenderersLib { 
public static List getSelectItem(UIComponent component){ 
     ArrayList arylst = new ArrayList(); 
     Iterator it = component.getChildren().iterator(); 
     while (it.hasNext()){ 
     UIComponent child = (UIComponent)it.next(); 
       if (child instanceof UISelectItems){ 
       Object value = ((UISelectItems)child).getValue(); 
 20
??????????????
Web-based ???????????????
???? JSF ?????????????
UI ??????????????????
?????????? JSF ????????
????????????????????
????????????????????
????????????????? JSF ?
????? Swing ? IDE ??? 
?????????????????
?????????????? InputText ?
?????????? Bean ???????
????????????????????
???????????????????
????????????????????
???????????????????
????????????????????
???????? Java bean ???????
?????? Form bean ????????
????????????????????
??????????????????? JSP
????????????????????
???????????????????
??????????????? 
 
????  
[1] ????????????? Struts ?
View ???????????????
?????2003 ???? 
[2] ????????????? Struts ?
??????????????????
??2004 ???? 
[3] ?????? JSF ??????????
??????????????????
?????2006 ???? 
[4] Apache Jakarta Project Struts, http://jakarta. 
apache.org/struts/ 
[5] The Apache Software Foundation?http:// 
www.apache.org/ 
[6] JavaWorld http://www.javaworld.com/ 
javaworld/jw-12-1999/jw-12-ssj-jspmvc. 
html 
[7] JSP Standard Tag Library, http://java.sun. 
com/products/jsp/jstl/ 
[8] Ted Husted, Cedric Dumoulin, George 
Franciscus, and David Winterfeldt, “Struts 
in Action”, Manning, 2002. 
[9] Simon Brown, Robert Burdick, Jayson 
Falkner, Ben Galbraith, Rod Johnson, Larry 
Kim, Casey Kochmer, Thor Kristmundsson, 
and Sing Li, “Professional JSP 2nd Edition”, 
Wrox Press Inc, 2001. 
[10] Java Servlet Technology, http://java. 
sun.com/products/servlet/ 
[11] Java Server Pages, http://java.sun.com 
/products/jsp/ 
[12] Java J2SDK API Doc, http://java.sun. 
com/j2se/1.3/docs/api/ 
[13] Ian Sommerville, ”Software Engineering”, 
6th Edition, Addison-Wesley, 2001 
[14] JSP ? Servlet , http://www2.tw.ibm.com 
/developerWorks/tutorial/SelectTutorial.do?
tutorialId=64 
[15] Avraham Leff and James T Rayfield, 
“Web-Application Development Using the 
Model/View/Controller Design Pattern”, in 
Proceedings of 5th IEEE international 
Conference on Enterprise Distributed 
Object Computing, 2001, 118-127. 
[16] Glenn E. Krasner and Stephen T. Pope, “A 
Description of the Model-View-Controller 
User Interface Paradigm in the 
