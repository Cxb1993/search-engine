 
中 文 摘 要 ： 本子計畫的目標是要研發一套維護行動無線感測網路(mobile 
wireless sensor network)連結性(Connectivity)的機制，
讓整個無線感測網路不因節點移動或耗損而導致某些節點失
連。 
由於無線感測網路具有低成本、低耗電、小體積、易佈建、
可動態組成等特性，非常適合實際應用，因而驅使業界及學
術界皆投入大量研究人力參與新應用的開發。傳統的 Zigbee
無線感測網路，只針對靜態的感測網路環境來設計相關的機
制，沒有考慮到節點漫遊(roaming)的可能性，無法支援節點
漫遊時動態離開與加入的功能，維護無線感測網路的連結
性。無線感測網路會因為(1)感測節點的漫遊、(2)熱點現象
(hot-spot phenomena)導致的耗電與延遲以及(3)節點耗損等
問題，造成感測網路的斷線或傳輸不良，影響感測網路的連
通性。因此本計畫的目標即是希望支援無線感測網路節點漫
遊、避免熱點現象導致的耗電與延遲以及在節點耗損時自動
修復網路連線。此外在可供應固定電源處部署所謂的具電節
點(powered node)，利用這些節點繞送感測資訊，以舒緩整
個無線感測網路的耗電問題。總而言之，本子計畫目的是發
展兼具支援漫遊、服務品質(quality of service)、減少耗
電以及自動維護等特性的行動無線感測網路連結機制。 
因此本子計畫主要的目的有二: (1)動態無線感測網路建構與
維護，(2)含具電節點之動態無線感測網路建構與維護。第一
個目的以支援感測網路節點的移動性(mobility)為目標，開
發識別碼分配、繞送以節點漫遊機制，此外為了減少熱點現
象所造成的問題，也會發展平衡網路流量的負載平衡機制，
同時為了解決節點耗損造成網路失連的情形，也會研發容錯
(fault tolerance)機制。第二個目的則以發展具電節點為路
由節點的繞送機制為主，以解決熱點傳輸產生的耗電問題，
維護整個網路的連結性。 
計畫執行期間，我們分別完成了(1)無線感測網路基於不對稱
繞送的行動性支援機制，本機制採用不可繞送識別碼分配方
式，以避免節點移動的識別碼重新分配問題。為了減少不可
繞送識別碼的封包繞送負擔，同時有鑑於感測網路的上傳資
料量遠大於下傳輸資料量，本機制依據深度繞送上行封包，
而下行封包則採用來源繞送，因此，不需要額外的路由協定
來產生路由表，即可繞送封包。此外，本機制也能在節點損
壞時，修復網路，保有網路的連結性；(2)主幹感知的網路形
成與容錯機制，利用具電節點形成骨幹網路，延長網路壽
命，且在具電節點損壞時，仍能修復骨幹或建立臨時通道，
保有網路連結性；(3) 調控者輔助的分散式負載平衡機制，
平衡多個網路的負載，以延長整體網路壽命。實驗證明，我
 1
 
行政院國家科學委員會補助專題研究計畫■ 成 果 報 告   □期中進度報告 
 
異質網路環境之行動搜尋關鍵技術-子計畫三:行動無線感測
網路連結機制之研發(3/3) 
 
計畫類別：□ 個別型計畫  ■ 整合型計畫 
計畫編號：97-2221-E-009-051-MY3  
執行期間：97 年 08 月 01 日至 100 年 10 月 31 日 
 
計畫主持人：曾建超 教授 
共同主持人： 
計畫參與人員：  
 
 
成果報告類型(依經費核定清單規定繳交)：□精簡報告  ■完整報告 
 
本成果報告包括以下應繳交之附件： 
□赴國外出差或研習心得報告一份 
□赴大陸地區出差或研習心得報告一份 
□出席國際學術會議心得報告及發表之論文各一份 
□國際合作研究計畫國外研究報告書一份 
 
 
處理方式：除產學合作研究計畫、提升產業技術及人才培育研究計畫、
列管計畫及下列情形者外，得立即公開查詢 
          ■涉及專利或其他智慧財產權，□一年■二年後可公開查詢 
          
執行單位：國立交通大學資訊工程學系(所) 
 
中   華   民   國  100  年  10  月  30  日
 II
英文摘要： 
The goal of subproject 3 is to propose mechanism to provide and maintain the connectivity 
of wireless sensor networks (WSNs) for mobile positioning and services. The connection of a WSN 
may be terminated for several reasons, such as movements or power exhaustion of sensor nodes. 
Therefore, this project aims to develop mechanisms to support sensor node mobility, to alleviate 
the hot spot problem, and to facilitate automatic failure recovery for WSNs. Furthermore, in many 
deployments, some WSN nodes may have fixed and continuous power supplies, henceforth 
referred to as powered nodes, so that they will never become defective due to exhaustion of power. 
By selecting these powered nodes as router nodes, WSNs can alleviate the disconnection problem 
due to power exhaustion of router nodes (or hot spots). Therefore, the research items of this 
subproject include (1) dynamic WSN configuration and maintenance and (2) powered–node-aware 
WSN configuration and maintenance. Consequently, we have designed three mechanisms in this 
subproject: (1) Asymmetric Routing-based Mobility Supports for Sensor Networks, (2) A 
Backbone-Aware Network Formation Scheme for ZigBee Networks, and (3) A Controller-Assisted 
Distributed (CAD) Load Balancing Scheme for ZigBee Networks. Experimental results show that 
our invented mechanisms are very effective. 
Keywords: Wireless Sensor Network, Mobility, Load Balancing, Fault Tolerance 
 4
一、 前言 
無線感測網路為一個智慧型的無線監控系統，運用佈署大量感測器，以達資料收集與
即時監測、反應的運作機制。無線感測網路具有感測、計算及通訊能力，更兼具低成本、
低耗耗電、小體積、易佈建、可程式化、可行動組成等特性，因此無線感測網路非常適合
應用在實際環境中並提供環境因子參數給各式的應用服務，使這些服務能更貼近使用者的
需求[6-14]。 
近年來隨著無線通訊與感測網路科技的發展，感測網路的感測端點或路由節點可漫遊
已成為必然的趨勢，例如個人隨身感測網路。此外隨著微機電產業技術之長足進步，感測
器和車輛自動感測設備，也開始導入車載機中。智慧型感測系統必然會成為規劃設計車載
機時的必要項目，但此領域大多僅針對個別的感測機制做智慧化性能之提升，鮮少針對車
載機導入即時感測與智慧型互動整合系統，例如個人隨身感測網路與車載機感測網路整
合，再經由車載機傳送感測資訊。 
感測網路的目的是要提供及時感測資訊，讓自動控制系統或使用者即時感知與反應環
境因子的變化，個人隨身感測網路與車載機感測網路整合後，車載機可將感測到的車況回
報給使用者參考，車載機也可將人體身上的生理資訊(血壓、脈搏和血糖等)回傳給健康中
心，並且通知使用者或自動照護系統等。 
要實現這即時感測與智慧型互動系統，需要一個行動無線感測網路，以組織管理個人
隨身感測一個利用定位資訊和感測到的環境因子為依據的即時資訊搜尋(searching)系統，
以提供當時最迫切需要的資訊。  
一個行動無線感測網路與傳統無線感測網路[1]最大的不同就是行動感測節點的可移
動性。因為可以移動，行動感測節點就會有行動加入、離開無線感測網路的行為。所以，
一些基礎機制都必須重新考慮，例如繞送路徑(routing path)會因為節點的移動而需要重建
或者更新，甚至識別碼也可能需要重新分配。再者，也因為節點可移動，無線感測網路的
維護機制必須針對行動節點是移動還是耗損，而採取適當的應變措施。因此，有必要開發
一新的行動無線感測網路以因應行動感測節點的可移動性。另外，如果可以對某些電量非
常充足的具電節點做特殊的安排和設計，則能加強感測網路連接性的維護機制，讓整個系
統更不容易癱瘓，增加系統存活期[18-22]。 
目前，無線感測網路沒有整體考慮行動節點漫遊的行為[25-27] ，也尚未在無線感測
網路系統中討論含有具電節點的情況，因此本計畫的目的就是要建構一個含具電節點的行
動無線感測網路，以支援行動感測節點的移動性並可延長系統存活期，進而提供總計畫所
需要的無線感測網路的連結性，擴大無線感測網路的應用範圍。 
本子計畫目標是要提供與維護行動(mobile)無線感測網路(wireless sensor netw ork; 
WSN)的連結性 (Connectivity)。在無線環境中，感測網路會因為 (1)感測節點的漫遊
(roaming)、(2) 熱點現象(hot-spot phenomena)導致的耗電(power consumption)與延遲(latency)
以及(3)節點耗損等問題，造成感測網路的斷線或傳輸不良，影響感測網路的連結性。因此
本計畫的目標即是希望支援無線感測網路節點漫遊、避免熱點現象導致的耗電與延遲以及
 6
三、 文獻探討 
在無線行動感測網路中，每一個行動感測節點間需要利用識別碼才能識別彼此，也因為如
此，行動感測節點所發出的網路封包才得以正確從傳送端到達目的地。同時，由於識別碼
分配機制往往需套用不同的繞送演算法，因此與繞送原則密不可分，因此我們也會探討現
今的繞送方式套用在無線行動感測網路所造成的影響。 
z 識別碼分配方式 
識別碼分配方式大致上分為以下兩類，可繞送識別碼分配機制 （Routable ID assignment 
mechanisms） 與不可繞送識別碼分配機制 （Non-routable ID assignment mechanisms），將
在下面分別說明之： 
可繞送識別碼分配方式 
可繞送識別碼係指帶有繞送資訊 （Routing information）的識別碼，封包的繞送可不必透過
路由表，而透過目的地識別碼進行繞送。在這類識別碼的分配機制當中，多半由每個節點
計算下層節點的識別碼，並且分配至各實體，形成樹狀網路拓樸，以達到利用識別碼繞送
封包的效果。例如：ZigBee 網路位址分配方法(3).[1]當中，在確定每個實體的最高連線數
及連線層數等限制後，利用運算公式求出每個實體可以分配的識別碼（如圖 1 所示），每
個網路實體皆可透過本身的識別碼、封包的目的地識別碼（Destination Address）以及鄰近
節點表格 （Neighbor Table）等參數計算出 Next Hop，而不需路由表 （Routing Table）的
幫助。 
Routers at depth d+1 separated by:
Address of nth end device at depth 
d+1:
Parameters
Cskip(d) :the size of the address 
sub-block
nwkMaxChildren (Cm)
nwkMaxDepth (Lm)
nwkMaxRouters (Rm)
depth (d)
 
圖 1、ZigBee 網路位址分配方法 
此類機制的缺點在於識別碼不具移動性（Mobility）及容錯（Fault Tolerance），當一網路實
體的損壞或移動改變網路拓樸時，必須重新分配該節點以及其子樹內所有節點的識別碼，
否則會無法達到利用識別碼繞送封包的效果。然而重新分配識別碼會造成節點間的連線中
斷，為了重新建立連線則需要大量的訊息傳遞。因此當網路實體會移動或不定期損壞時不
適用此類機制。 
 8
時間也會較長，無法滿足某些即時性的應用。 
基於集中式路由表的繞送原則 
以集中式路由表為基礎的演算法便是將路由表集中在單一的網路實體上，例如 Dynamic 
Source Routing [34, 35]，該方法其上行（行動節點往管理單元）方向的資料封包，皆夾帶來
源繞送資訊 （Source Routing Information），記錄每一個經過的行動節點，以便更新管理單
元上的繞送資訊；另一方面，下行封包則使用來源繞送，將封包繞送至行動節點。 
 
圖 4、Partial Source Routing 
此方法雖然不需要控制訊息（Control Message），然而由於資料傳輸時須加上額外的表頭
（Header），因此傳輸時產生的額外負擔很大。且由於沒有控制訊息，因此行動節點的移動
或損壞造成連線中斷時，若沒有資料正在傳輸，則無法即時的修復繞送路徑，造成後續資
料暫時的遺失。 
基於坡度的繞送原則 
基於坡度的繞送原則。在過去的研究之中，某些方法如[36, 43, 44]等。其每個感測節點上維
護到某個特定節點的累計 cost，而每個行動節點繞送封包到特定節點時，只要往累計 cost
較小的地方送去即可，而不需維護路由表。這種作法會使得計算及傳輸的成本都相對減低，
然而缺點是只能往少數幾個事先設定好的特定節點繞送封包，如果臨時要往某個節點發送
封包，則沒有辦法做到，因此不一定適合每種應用環境。 
例如前述的 GRAd [43]（圖 5），並無法處理由管理單元送到行動節點的封包，這是由於所
經過的中繼節點上，並沒有包含往其他行動節點的資訊，而只有紀錄往管理單元的 cost。
因此，此類封包繞送原則無法處理下行封包繞送。 
 
圖 5、GRAd 
 
 10
管理單元的節點，或用以連接多重無線網路至共同的管理單元，負責將行動節點收集來的
資訊，傳遞到後端網路，或將後端網路來的封包，轉送至無線感測網路中。網路中可有一
個或多個協調者利用有線或無線方式連接至管理單元。最後，管理單元是由一個或多個網
路實體所組成，並以有線或無線方式連接至協調者或行動感測節點，通常擁有較強大的處
理能力，負責分析處理由行動節點收集來的資料，同時也負責集中管理一個或多個無線網
路。 
在上述的無線感測網路中，必須有一識別碼分配方法，使得無線行動感測節點能夠分
辨彼此，且由於每個節點本身的無線傳輸範圍有限，因此需要一繞送演算法使得彼此不鄰
近的兩個行動節點能夠互相傳遞資訊。 
在此行動節點識別碼分配方法中，行動節點平時必須偵測附近節點的存在，並維護其
鄰近節點表格（neighbor table）。以圖 8 中的節點 3 為例，當行動節點加入網路時，會在
鄰近節點表格中選擇一個深度（depth）較低且已加入網路的節點來做為他的父節點，並向
父節點發送位址分配要求 （Address allocation request，AAREQ）訊息，向管理單元要求
一個唯一的識別碼，此識別碼用來讓行動節點間在網路中識別彼此，同時告知管理單元其
硬體識別碼（MAC Address），中繼點 2 和 9 在收到訊息之後，會查詢自身所維護的鄰近節
點表格（Neighbor Table），並向深度較低的其他節點繞送該封包，並將自己的識別碼資訊
放入該訊息中。 
 
圖 7、Wireless Sensor Network 
管理單元在收到該訊息後，會隨機分配一個在此網路中唯一的識別碼給行動節點，並
在資料庫中維護一與實際網路相同的樹狀網路拓樸及硬體識別碼與識別碼的對應關係，最
後回覆位址分配回覆 （Address allocation response，AARESP）訊息給行動節點。由於管
理單元維護了網路拓樸，因此可利用來源繞送（source routing）的方式將位址分配回覆訊
息繞送給行動節點。 
行動節點取得識別碼之後，會將其識別碼包含在訊標訊框（beacon frame）中，定期
廣播告知鄰近節點其存在。 
 12
 
圖 10、下行封包繞送原則 
參考圖 11，當行動節點 3 從位置Ａ移動到位置Ｂ時，由於行動節點無法聯繫其父節點 2，
行動節點 3 會傳送一控制訊息給管理單元，更新管理單元到行動節點 3 的下行繞送路徑，
然而管理單元的內部網路拓樸是以樹狀結構儲存，因此行動節點 3 及其子樹中的節點，其
下行繞送路徑皆會被更新。接著行動節點 3 可藉由附近節點定期廣播的訊標（beacon），選
擇其他行動節點作為自己的父節點 7，由於上行封包繞送的方式是以深度作為依據，因此
若行動節點 3 的深度改變，則必須對其子樹廣播控制訊息，更新子樹中所有行動節點的深
度資訊，使得上行封包繞送路徑可以被修復。因此 ARMs 可提供行動性支援，使得行動節
點及其子樹漫遊時連線不會中斷，同時由於管理單元知道網路的樹狀拓墣，因此可以自然
地支援行動節點的追蹤（Tracking），而不用需要額外的控制訊息。關於控制訊息的種類及
傳送的時機，會在下個小節詳細說明之。 
 
圖 11、行動節點漫遊時不需重新取得識別碼 
如圖 12 所示，考慮行動節點 6 有資料必須往管理單元繞送，當行動節點 5 損壞時，
由於行動節點 6 的鄰近節點表格中仍有其他距離管理單元較近的行動節點，因此行動節 6
可任意選擇行動節點 1 和 2 的其中一個，作為封包轉送的下一節點（next hop）。 
 14
 
圖 14、繞送路徑修復機制（下行） 
考慮圖 15，在某些情況下，閘道器 9 可能被網路佈建人員關閉或移往他處，或者是
遭遇不預期的損壞，此時行動節點 2 可利用某些機制得知閘道器損壞，而這些機制不在本
篇論文的討論範圍之內。由於行動節點 2 發現其父節點已經損壞，卻又沒有其他鄰近節點
可供繞送封包，因此會向其所有子節點廣播（Broadcast），試圖找尋其他通往管理單元的
繞送路徑。 
而當行動節點 4 收到來自父節點 2 發送的 Binding Update 訊息，也會試圖去尋找可能
的路徑，若附近有距離管理單元較近的節點，便會採用點播（Unicast）的方式繞送 Binding 
Update 訊息，否則會繼續往其子樹廣播此訊息。 
 
圖 15、繞送路徑修復機制（下行） 
如圖 16 所示，若管理單元與一閘道器 10 連接，且收到行動節點 2 送出的 Binding 
Update 訊息，會等待一段時間，試圖收集數個往行動節點 2 的繞送路徑資訊，以便選擇較
佳的繞送路徑。選擇路徑之後，管理單元便更新內部的網路拓樸結構，此時下行繞送路徑
便修復完成。接著使用來源繞送（source route）回覆 Binding Ack 訊息給行動節點 2。沿途
的行動節點在收到此訊息時，更新其深度資訊，若深度資訊有變，則對其子樹廣播 Depth 
Update 訊息，使得沿途行動節點的上行繞送路徑都保持正確。 
 16
- 具電節點搜尋鄰居的節點，建立鄰居表格（Neighbor table）。 
- 具電節點從鄰居表格中選取深度（Depth）最低的一個節點提出加入網路的要求。 
- 收到具電節點連結要求的節點（通常也為具電節點）配置一個網路識別碼給此具
電節點並回覆要求。 
- 具電節點收到回覆後即表示加入網路成功，發出信標（Beacon）告訴鄰居自己的
存在，而在信標中修改自己的深度為 0。 
如圖 17 所示，節點 A 已經成功加入感測網路而因為其為具電節點所以深度為 0，
而現在具電節點 B 要加入到網路中，在 B 的訊號範圍內可以偵測到節點 A，因此 B 向
A 提出加入網路的要求，A 收到 B 的加入要求後配置一個網路識別碼給 B 並且將此訊
息回覆給 B，而節點 B 得到網路識別碼後便表示成功加入網路，因為 B 為具電節點所
以 B 的深度不同於 ZigBee 網路的規則為父節點的深度加 1，在這裡我們將 B 的深度也
設為 0，目的在於希望低深度可以吸引多其他節點在傳送資料時有比較大的機率會經
由 B 送往協調者。 
 
圖 17、BANF 具電節點加入網路 
當主幹網路建立完成後則是一般節點加入階段，當一般節點欲加入到網路時，若
偵測到多個鄰居，可以根據連結的優先順序來抉擇，而其選擇方式如圖 8 所示，一開
始先從鄰居中選擇最靠近主幹網路上的節點（最靠近具電節點或是最靠近協調者），
也就是深度最低的節點做連結，倘若最低深度的節點只有一個便直接跟此節點提出加
入網路的要求；如果發現有多個最低深度的節點，則首先判斷其是否有具電節點，如
果存在多個具電節點鄰居就選擇離協調者最近的具電節點連結；如果鄰居皆非具電節
點又具有相同最低深度則從中選擇距離協調者較近的節點連結，如此確保一般節點將
資料送給協調者的路徑經過主幹網路是最短的，以便減少延遲的時間。 
如圖 18 所示，一般節點 N 想要加入網路，而在 N 的訊號範圍內有節點 A 和 C 兩
個鄰居，而原來的 ZigBee 選擇機制節點 N 會跟節點 A 提出加入網路的要求，因為在
ZigBee 中並不知道節點 C 為具電節點而且節點 A 的深度比較低，因而加重了一般節點
A 的負載，如圖 19(a)所示；而在我們的 BANF 中，如圖 19(b)所示，節點 N 會發現節
點 C 的深度比較低，因此會跟具電節點 C 提出加入網路的要求，減輕一般節點 A 的負
載。 
 18
連線；而第二階段則是利用底下具電節點的具電節點鄰居建立新的主幹網路連線；第
三階段為利用一般節點來維持主幹網路的連線，以下分別就這三個處理機制做說明。 
具電節點加入至網路後會定期詢問父具電節點是否正常運作，倘若在一段時間內
偵測不到父具電節點則視為父具電節點已損壞，此時具電節點便會進入主幹網路修復
處理程序，流程圖如圖 20 所示，大致程序為： 
當具電節點發現父具電節點損壞後，首先搜尋自己的鄰居表格查看是否有屬於具
電節點的鄰居存在，進入第一階段主幹修復程序。 
第一階段修復程序，如果具電節點有找到屬於具電節點的鄰居則向其提出加入網
路的需求，重新要一個網路識別碼連上網路，成功連結後即可正常傳送資料，離開主
幹修復程序；如果鄰居中沒有找到具電節點的鄰居則進入主幹修復第二階段程序。 
第二階段先確定底下是否有具電節點也就是子具電節點的存在，若無則進入至第
三階段，若有則詢問子具電節點是否有屬於具電節點的鄰居，而子具電節點檢查後發
現有屬於具電節點的鄰居則回報具電節點，而具電節點便以子具電節點為父節點，向
其索取識別碼重新加入至網路，角色互換讓子具電節點當成是自己的上游，成功連結
後便可正常傳送資料，離開主幹修復程序。而這個程序會一直持續直到底下的具電節
點都詢問過，倘若子具電節點皆詢問完仍無法完成主幹網路的修復則進入第三階段。 
 
圖 20、主幹網路修復流程圖 
倘若在前兩階段皆無法完成主幹網路的重建，則進入到主幹修復第三階段，利用
 20
 
圖 22、主幹網路修復第一階段結果 
 
圖 23、主幹網路修復第二階段範例 
而 BANF 主幹網路修復第二階段，範例如圖 23 所示，如果現在具電節點 F 突然
損壞，其底下的子具電節點 G 會偵測到並且進入主幹網路的修復程序，而 G 一開始檢
查鄰居沒有發現其他具電節點的鄰居，因此進入到主幹網路修復第二階段發現底下有
子具電節點 H 的存在，詢問 H 是否有具電節點的鄰居，而在此範例中 H 與具電節點 C
是鄰居有個潛在的連結存在，H 將此訊息回報給 G，G 收到後便轉而向 H 提出加入網
路的要求，而 H 會以 C 會父節點連上網路後同意 G 加入網路的要求，因此 G 和 H 的
父親與兒子的角色互換，最後的結果如圖 24。 
 22
 
圖 26、主幹網路修復第三階段結果 
我們的 BANF 機制根據現實生活中感測節點的特性新增節點類型：具電節點，在
特定位置上擺放具電節點，利用具電節點建立主幹網路，讓一般節點能夠選擇較能延
長運作時間的路徑將資料傳輸至協調者，將整個網路拓樸建立起來。BANF 對於一些
感測網路的應用可以增加感測網路的生命週期，譬如在醫護站或是醫院，在病床或病
人身上裝上一般感測節點，而在走道上擺放具電節點建構主幹網路，使得病人的一些
生理資訊可以透過走道上的具電節點回傳至護理站；又如在戶外環境，為了要觀測土
石流或洪水等天災，在觀測環境之中比較安全的位置或定期巡邏的點放置具電節點，
之後再佈署一般感測節點在觀測環境內，使得感測節點能夠將環境中物理變化資訊回
傳至防災中心。 
(3). 調控者輔助的分散式負載平衡機制 
集中式與分散式作法上的癥結點： 
通常形成瓶頸的節點大多位於較上階層的節點(因為需要負責較多的節點)，因此對於這
些需要負載平衡目標節點的負載資訊，是位於上層。(所謂上層可以理解為樹狀拓樸中較
靠近樹根的節點) 
對於整個網路的連通情形以及各自對網路產出的負載等資訊是散佈於整個網路的各個節
點上的。 
是故我們思考能否採用一種介於集中式與分散式之間的方式，讓上述的這些各種負載平
衡所需的各個資訊儲存於各自適當的地方，並且讓大家各司其職互相合作來完成負載平
衡的動作。首先採用集中式的伺服器啟動負載平衡動作，由於在無線感測網路架構中，
伺服器本就位於那些閘道器之後，因此要知道這些閘道器的負載情形並不是什麼難事。
伺服器觀察到閘道器的負載有不平均的現象時，便開始啟動負載平衡機制，我們並不讓
 24
例如電量可能就是耗電量，或是資料量大小等。 
 
圖 28、負載資訊維持樹之更新示意圖 
接下來見圖 29，如果希望能夠讓負擔較重的 PAN 1 把一些網路節點轉換到 PAN 2 的話，
就還需要掌握網路中的拓樸連通資訊，如果能夠知道哪些節點有機會可以連上不同閘道
器所屬的兩個個人網路(PAN)，例如圖 29 底下黑色框框所圈起來的兩個節點（節點 a 與
節點 b），伺服器其實並不需要知道全部的拓樸資訊，而只需要記住這些節點就好，所以
額外的負擔大大的減少。 
 
圖 29、Switch Node 加入與更新之示意圖 
整個動作可以從圖 29 來看，底下藍色實心的節點表示新加入的節點，當它掃描完各個
頻道後，發現目前有兩個網路可以連入，接著便選擇加入 PAN2(在 ZigBee 網路環境下會
選擇樹狀拓樸中深度較淺的節點加入)，則第一步在它加入之前會先使用 PAN 1 的頻道送
一個通知的訊息告知節點 a，節點 a 被告之後亦會通知其父節點以便之後容錯(Fault 
Tolerance)之用。 
 26
序，先轉換到另一個網路所屬的頻道，並且開始收聽此網路下的節點所發出的訊標封包
(beacon)，這些訊標封包中會帶有發送者在整個樹狀網路拓樸下的深度，接著選擇深度最
淺的節點作為自己的父節點，開始進行加入的程序(association)。 
我們以底下圖 31 說明整個機制的運作過程，圖中藍色實心點表示心加入網路的節點，
當它在掃描時發現同時有兩個 PAN 的節點可供加入，因此得知自己可成為轉接點。當它
選擇加入底下的 PAN 時，發出更新訊息上傳至伺服器，除了讓沿途的節點更新負載資訊
之外，也告知伺服器目前存在的轉接點資訊。伺服器根據兩個協調器的負載情形發現處
於不平衡的狀態，由於存在轉接點表時能夠做網路切割調整的動作，因此伺服器便發出
一個命令 Token(藍色箭頭)目的地為黑色圈圈的轉接點，Token 中的數值為 2 表示希望切
除 2 單位的負載(也就是兩個節點)，這個 Token 首先經過負載量為 5 的節點，由於負載
量大於 Token 中的數值，因此繼續往下轉送，當負載量為 2 的節點收到 Token 之後，便
決定自己是適合切除的點，意即負載平衡點之所在，因此它首先回覆一個 ACK 封包(綠
色箭頭)，其中包含自己的負載量(2)，告知伺服器實際切除的負載量，在 ACK 送至伺服
器之沿途中的轉送節點，也跟據此 ACK 封包更新自己的負載資訊。 
接著負載量為 2 的這個節點便往自己底下的子樹廣播一個要求大家切換網路的封包，指
定轉換到底下的另一個 PAN，接著大家便如同新節點加入網路一搬的動作，開始掃瞄並
加入底下的 PAN，只不過不同之處在於此時是有指定要加入哪一個 PAN 的，而非單純
根據深度來做選擇。 
 
圖 31、完整負載平衡機制運作示意圖 
z 細節討論 
接下來進一步探討一些細節部分。首先我們可以很容易發現，在本機制中轉接點(Switch 
 28
 
圖 33、新轉接點隻更新示意圖 
由於節點之折損或移動所造成的變動 
以圖 34 為例，當節點 A 因為電力消耗等原因而折損無法運作，或者因為移動的關係，
導致節點 A 所屬的這對轉接點(圖中以黑色圓圈所圈的兩個節點)已經不復存在，此時就
必須要有一個機制來讓伺服器中儲存的相對應紀錄清除，我們讓成為轉接點的節點多了
一個通知自己父節點的動作，讓轉接點的父節點可以透過監聽封包的方式(比方說聽取對
方發出的訊標(beacon)封包)來判斷轉接點是否還存在，當圖 34 中節點 B 偵測到節點 A
已經不存在時，就需要負責發送一個更新的訊息通知伺服器。注意節點 B 需是節點 A 位
於同一個網路的父節點，而不能是一個任意的相鄰節點。 
 
圖 34、轉接點損壞之更新示意圖 
存在多個轉接點時的選擇 
前面的例子中，一個網路中都只有一個轉接點，然而實際情況通常是會同時存在許多的
轉接點，當伺服器要開始進行網路切割調整動作時，要選擇哪一個轉接點作為 Token 的
目的地，就會是一個問題。 
原則上我們會希望被切割的節點在加入新網路之後，能夠有較淺的深度。因為較深的深
度表示到達協調器的路徑較長，這樣會使得資料送達的時間較久，且使得資料遺失的機
率大大的提高。因此伺服器在選擇轉接點時，原則上是希望能選擇一個轉接點使得節點
在加入新網路後能以較淺的深度加入新網路。 
節點 B
節點A
 30
 
圖 36、需要發出兩個以上 token 之示意圖 
觀察這個例子，如果伺服器能夠在發出 Token 至節點 a 之後，收到 ACK 得知只切除了一
個節點，就趕快發下一個 Token 至別的轉接點，也就是節點 b 的話，就可以節省非常多
時間，因為等待被切除的節點加入新網路是一個非常花時間的事情。 
因此我們提出一個在伺服器上簡單的快取機制，伺服器自己記錄目前各協調器的負載，
這個快取的記錄將會定期跟據實際協調器的負載作更新，而伺服器在判斷負載是否平衡
以及決定切除調整的數量，改為根據這個快取的記錄。觀察同樣一個例子，當伺服器根
據快取發現兩個網路的負載為 7 比 3，決定切除兩個節點至 PAN2，當節點 a 回覆 ACK
告知實際只切除了一個節點時，伺服器的快取此時就調整為 6 比 4(而不是等待節點 a 加
入 PAN2 才得知是 6 比 4)，此時再根據快取決定切除一個節點，因此第二個 Token 此時
便送往了節點 c 了。 
由於 ACK 的時間絕對比節點加入新網路的時間快上很多，因此這個機制將會非常有效
的提高效率。 
Multiple PAN 的快速平衡 
接下來我們來看兩個以上的協調器的情況下，該如何做切割調整動作。其實多個協調器
仍可以看作是兩個協調器(兩個 PAN)的延伸情形，伺服器可以針對兩兩協調器之間作平
衡的動作，這些動作都跟前面所述的一樣，至於要切割的數量就根據所有協調器的負載
的平均與各個協調器目前的負載的差距即可得到，因此問題就在於伺服器該以什麼樣的
順序在多個協調器中逐一地挑出兩個來做平衡的動作。 
最簡單也最沒效率的作法是隨機地任選兩個協調器出來做平衡，很明顯地這樣的作法並
不是個聰明的作法。我們希望伺服器能夠在一個 pass，也就是對所有協調器檢查一次，
就能夠決定出各個網路要切除多少節點(或者等著別的網路切除節點轉換至自己的網路
下)。 
我們在這邊只提出一個基本且有效率的作法，然而這僅是許多作法中的一種，因為這部
分也不是本論文的重點，因此我們也不打算去探討是否有更好的作法。 
 32
 
圖 38、PAN Graph 之 Example 1 
如果我們一開始就先把這些 out degree 是 1 的節點做好調整，調整完成後將他們自 PAN 
Graph 中移除，然後再繼續同樣的步驟，直到最後不再有這樣的節點時，接下來 PAN Graph
中剩下的都是具有兩個以上的邊的節點，這些節點怎麼和其他節點作平衡調整會有不止
一種的調整法，我們直覺地認為應該先選取負載最大的節點開始，切除負載量到各個相
鄰節點使其負載降至平均值，至於怎麼分配負載量到各個相鄰節點，可以完全把負載任
意的切移到隨便一個相鄰節點，或者依照各個相鄰節點的邊長度(即和各個相鄰節點所對
應的 PAN 的轉接點深度)作等比例的分配，不過底下的例子圖 39 可以告訴我們事實上有
些例子並不能任意的做切移，而需要根據 Graph 以及負載的分佈而有策略性的作調整。 
 
圖 39、PAN Graph 之 Example 2 
圖 39 中理想的負載平均值是 5，節點 a 的負載最大因此從他開始調整，節點 a 總共需要
移除 5 單位的負載，它總共有 3 個相鄰節點可供選擇，假設以圖中的分配方式，藍色箭
頭與數字表示移除調整的方向，即節點 a 移除 4 單位的負載到節點 c，也就是伺服器將
發送 Token 到節點 a 所代表的 PAN 中，Token 中的值為 4 並指定切換到節點 c 所代表的
PAN。可以很明顯的看出來當節點 a 以這樣的分配方式調整結束後，之後其他點的負載
平衡調整如果不再透過節點 a 的話，將會無法達到平衡狀態(節點 b 與節點 c 負載變重，
但除了透過節點 a，沒有管道可以把多的負載移到右邊的三個節點)。 
因此我們的想法是，如果能夠讓所有的情形都能夠像 out degree 等於 1 的節點那樣的情
況，就會非常的單純，於是我們想到一個資料型態能夠非常符合這樣的需求，那就是樹。
如果我們對這個 PAN Graph 求出一個生成樹(spanning tree)，接著利用同樣的規則，先從
 34
(D) Server: Received Message [Update-Msg] 
1: if exist old ID information then 
2:  delete Switch-Node pairs record by old-ID 
3: end if 
4: if exist switch node information then 
5:  add Switch-Node pairs record  
6: end if 
7: update Load-Cache  
以上是加入網路後引發的一連串更新動作，(A)的部分是新節點的相關動作，主要就是三
件事情需要作，第一個就是如果是因為移動或者切換網路造成需要新加入網路的話，則
先把自己先前的舊資訊(識別碼、網路識別碼)包含於上傳的封包之中。第二個就是如果
自己是轉接點的話，就把轉接點相關的資訊放入封包中，並且發一個廣播封包，通知鄰
居節點自己以及它們將成為轉接節點，收到這個通知訊息的節點將會通知自己的父節點
(B 部分)，讓父節點負責定期追蹤自己的存在與否。最後就是發送更新訊息封包，送往
伺服器。 
更新訊息沿著樹狀拓樸一路往樹根送，沿途的節點就跟據此來更新自己的負載資訊，並
且繼續往父節點轉送(C 部分)。 
最後伺服器收到此訊息後，首先判斷是否攜帶有舊識別碼相關資訊，如果有就以此檢查
轉接點紀錄表格中，是否有相匹配的記錄存在，如果有就把此記錄消除，完成轉接點記
錄的註銷動作。 
接著如果攜帶有轉接點相關資訊，則把這些資訊增加到伺服器的轉接點記錄表格之中。 
最後和其他節點同樣的，更新自己的負載資訊，只不過伺服器要更新的是自己的協調器
負載快取記錄。 
Algorithm 2: Load Balancing Procedure 
(A)  Server: checking Balance (period) 
1: if not balance in Load-Cache then 
2:  execute Multiple PAN Adjustment Algorithm 
3: end if 
(B)  Relay Nodes: Received Message [Token] 
1: if myLoad <= Token.num then 
2:  Send(parent,[Token-Ack(myLoad)]) 
3:  Limit-Broadcast([Switch-PAN(target-PANID)]) 
4:  if not coordinator then 
5:   re-join to target PAN as Algorithm 1 
6:  end if 
7: else 
8:  if ID != Token.dest then 
9:   Forward(Token.dest, Token) 
10:  end if 
 36
 
圖 40、同時移動節點數與控制訊息量的關係 
圖 41-43 是交遞時間分佈，橫坐標是移動群體的大小，縱座標是交遞成功佔總實驗次數
的百分比。由圖中可以看到，ARMs 在 3 秒內換手成功的比率高達 90%，其中失敗的原
因可能是 MN 移動後，形成孤島，無法進行封包繞送，或是由於訊標訊框之間的碰撞，
而無法發現可加入網路的新父節點等；Zigbee 則因為 ID 無法重新分配，而使得換手成
功機率降低許多；AODV 當 MN 單獨移動時，交遞成功機率並不高，推測是由於要由
CN 利用廣播訊息尋找 MN，而廣播訊息有 TTL 的限制，因此要找到 MN 有一定的難度，
然而若多點一起移動，則只要找到其中一個點便可修復繞送路徑，因此成功率會大幅提
高。 
 
圖 41、同時移動節點數與換手時間分佈 (AODV) 
 38
由圖 40、圖 43 和圖 44 可知，ARMs 是一個需要控制訊息數少、可靠性高且修復繞送
路徑快的演算法，因此對於感測網路提供良好的行動性支援。 
而前述模擬實驗時的封包流，其方向是從管理單元流向 MN，若改變 CBR Traffic 的封包
流向，換成由 MN 流向管理單元，重複前述的實驗，則結果如圖 45 至圖 48 所示，ARMs
的控制訊息量及交遞時間相較於 AODV、Zigbee 相比幾乎是不相上下。這是由於 CBR 
Traffic 流向管理單元，然而管理單元並沒有移動，路由表也只有少數的行動節點需要更
新，不需要廣播去找行動節點，因此控制訊息量不需要很多，同時交遞成功率也相當高。 
 
圖 45、同時移動節點數與控制訊息量的關係 
 
圖 46、同時移動節點數與換手時間分佈 (AODV) 
 40
由模擬結果可以看出，ARMs 是一個需要控制訊息數少、可靠性高且修復繞送路徑快的
演算法，因此對於感測網路提供良好的行動性支援。但比較的參數及比較對象仍然有待
補強，例如 ARMs 與重新取得識別碼的演算法比較、ARMs 適合多大規模的網路環境或
是封包流向不同的比例對於 ARMs 有什麼樣的影響等。 
(2). 主幹感知的網路形成機制與容錯機制 
我們做了一些模擬實驗，針對五種不同方案的網路拓樸來驗證此機制的效能，每
個感測節點距離 10 公尺，而感測節點可傳輸距離為 13 公尺，因此每個節點至多會有
4 個鄰居。Case1 為 5x20 的網路拓樸如圖 50(a)所示，編號為 0 的節點為協調者，而
編號 1~4 在 ZigBee 中為電量較多的節點在 BANF 中則為具電節點，其他則為一般節
點，其中編號 1、6、51 三個節點可以直接與協調者連結；Case 2 為 7x14 的網路拓樸
圖 50(b)如所示，擺設基本原則與 Case1 相同，編號 0 為協調者，編號 1~6 在 ZigBee
中為電量較多的節點在 BANF 中為具電節點；Case3 為 10x10 的網路拓樸如圖 51(a)，
編號 0 為協調者，編號 1~9 在 ZigBee 中為電量較多的節點在 BANF 中則為具電節點，
其他為一般節點；Case4 為 14x7 的網路拓樸如圖 51(b)，編號 0 為協調者，編號 1~19
為具電節點；Case5 為 20x5 的網路拓樸如圖 51(c)，編號 0 為協調者，編號 1~19 為具
電節點，其他則為一般節點。在我們模擬的過程中，協調者以及具電節點皆不會損壞
且具有無窮盡的電量。 
我們觀察 Case 1~Case 5 的平均節點（不包含具電節點）運作時間如圖 52 所示，X
軸為五種不同的網路拓樸，Y 軸為時間軸，單位為秒，可以從中看出 BANF 的效能的
確比 ZigBee 要來得好，節點平均運作時間比 ZigBee 延長了 193%到 310%，根據不同
的網路拓樸環境的模擬結果可以得知感測節點數量固定時，BANF 對於狹長型的網路
拓樸（Skewed Topology）擁有最佳的效能，因為狹長型的網路拓樸中主幹網路比較長
而且靠近協調者附近的一般節點比較少，所以可以吸引比較多的一般節點的傳送路徑
經過主幹網路傳往協調者，也就能舒緩 Hot-spot 問題的影響延長整體感測網路的運作
時間。 
以下則針對上述五種方案的節點平均運作時間做比較深入的探討。Case 1 的模擬結
果如圖 53，X 軸為時間，單位為秒，而 Y 軸為存活的一般節點個數，具電節點個數為
4，在先前有提到當感測節點的上游死亡的話那節點的資料便無法送達至協調者，因此
將死亡的節點以及它的下游皆視為死亡。而從關係圖可以看出 ZigBee 在 1500 秒的時
候就開始有節點死亡而且死亡的曲線幅度很大，大概在將近 4000 秒的時候一般感測節
點就幾乎全死亡了，節點感測到的資料無法正確地送回協調者；而我們的 BANF 在將
近 2500 秒時才開始有節點死亡，而且由圖可知之後一般節點死亡的速度也比較緩和，
大概在 5300 秒時一般節點才幾乎都死光，BANF 整體的一般節點死亡速度比 ZigBee
要來得緩和，因此具有較佳的系統運作時間。 
 42
 
圖 52 不同網路拓樸之節點平均運作時間 
 
圖 53、Case 1 節點存活時間之關係圖 
 
圖 54、Case 2 節點存活時間之關係圖 
 
圖 55、Case 3 節點存活時間之關係圖
 
圖 56、Case 4 節點存活時間之關係圖 
 
圖 57、Case 5 節點存活時間之關係圖 
 
Case 4 的模擬結果如圖 56，圖中虛線為 ZigBee，實線為 BANF，有 13 個具電節點，
可以從圖得知 ZigBee 在大概 1700 秒的時候就開始有一般節點死亡並且急速下降，而
且在將近 3000 秒時一般節點就全部死光；而我們的 BANF 大約在 2000 秒時才開始有
一般節點死亡，之後節點死亡的曲線非常緩和，並且在 15000 秒時仍然有一般節點存
活，可以看出 BANF 相較於 ZigBee 有很明確地緩和了一般節點死亡的時間，使得系統
可以有更長的運作時間，節點死亡的順序就由最靠近協調者與具電節點旁的一般節點
開始至離協調者最遠的具電節點旁的一般節點，而由於 Case 4 有 13 個具電節點，因此
使得 BANF 的曲線有比較緩和的情況。 
Case 5 的模擬結果如圖 57，圖中虛線為 ZigBee，實線為 BANF，有 19 個具電節點，
可以從圖得知 ZigBee 在大概 2100 秒的時候就開始有一般節點死亡並且急速下降，而
且在將近 2300 秒時一般節點就幾乎全部死光；而我們的 BANF 大約在 2300 秒時才開
始有一般節點死亡，之後節點死亡的曲線非常地緩和，並且在 15000 秒時仍然有一般
節點存活，可以看出 BANF 相較於 ZigBee 有很明確地緩和了一般節點死亡的時間，使
得系統有更長的運作時間，節點死亡的順序就由最靠近協調者與具電節點旁的一般節
 44
首先我們把網路節點個數固定為 60、80 與 100，分別作三次模擬實驗，得到下面三張數
據圖，其中 CAD 是我們的演算法的簡寫，centralized 就是集中式的作法。 
 
圖 60、節點數 60 之 BF 變化圖 
 
圖 61、節點數 80 之 BF 變化圖 
 46
再來我們更改實驗方式，針對節點個數從 10 個到 100 個，觀察不同演算法最後穩
定(stable)之後所得到的平均 balance factor 表現，得到圖 64，對於 CAD 跟集中式作法，
基本上還是一樣可以達到九成以上的穩定表現，而分散式的 L-AODV 作法雖然只能達
到八成，但似乎也跟網路節點個數無關。至於僅運行 ZigBee 的情況下，發現當節點個
數較少時，可能還有稍好(但也還不到七成)的表現，隨著節點數增多，負載越來越不平
衡，當節點數超過 70 以上，就已經降至六成甚至六成以下的表現。 
 
圖 64、不同演算法對於節點個數的 BF 表現圖 
既然得知我們的作法跟集中式的作法得到的效果差不多，接下來我們便想要觀察
彼此之間的效率表現，我們針對不同演算法在達到 BF 效果九成以上時，所需要的訊
息量作一個實驗，由於 L-AODV 頂多只能到達八成，因此無法一齊列入比較，但其實
很明顯的可以知道分散式的作法需要的訊息量一定會比集中式的還要多。 
底下圖 65 便為實驗的結果圖： 
 
圖 65、不同演算法所需的訊息量 
可以看到我門的作法所需要的訊息量，隨著節點個數漸多，越顯得比集中式有效
率，可見我們這個介於集中式與分散式之間的作法的確可以做到取長補短，讓負擔
 48
 
圖 67、不同演算法之 Throughput 表現 
 
 
圖 68、各演算法出現無法繞送節點之數據圖 
最後我們來觀察三種作法的多步跳躍傳輸延遲(multi-hop end-to-end delay)表現，如
圖 69 所示，可以看到較為平衡的集中式與我們的作法，表現出來的延遲都較短，雖
然集中式處理在節點數多的時候會有資料吞吐量下跌的情形，但是其它能夠繞送的節
點仍然較為平衡，因此對於多步跳躍傳輸延遲仍較為快速。最不平衡的 L-AODV 所展
現的多步跳躍傳輸延遲就較為延遲。這個實驗的結果顯示在許多要求即時性的無線感
測網路應用環境中，我們的作法也能較為符合需求。 
 50
"Rapid Development and Flexible Deployment of Adaptive Wireless Sensor Network 
Applications," 2005 
[8] EWSN 2004, "Prototyping Wireless Sensor Network Applications with BTnodes," 2004 
[9] SenSys'04, "A sensor network application construction kit (SNACK)," 2004 
[10] Arampatzis, Th.; Lygeros, J.; Manesis, S., "A Survey of Applications of Wireless Sensors 
and Wireless Sensor Networks," Intelligent Control, 2005. Proceedings of the 2005 IEEE 
International Symposium on, Mediterrean Conference on Control and Automation , vol., 
no., pp.719-724, 27-29 June 2005 
[11] C. Meesookho, S. Narayanan and C. Raghavendra, "Collaborative classification 
applications in sensor networks", Proc. of Second IEEE Multichannel and Sensor array 
signal processing workshop,Arlington, VA, 2002. 
[12] A. Mainwaring, J. Polastre, R. Szewczyk, D. Culler, and J.Anderson, "Wireless sensor 
networks for habitat monitoring", In ACM Inter. Workshop on Wireless Sensor Networks 
and Applications (WSNA'02), Atlanta, GA, 2002.   
[13] H. Wang, D. Estrin, L. Girod, "Preprocessing in a tiered sensor network for habitat 
monitoring", EURASIP Journal on Applied Signal Processing, pp. 392–401, 2003. 
[14] P. Pathirana, N. Bulusu, A. Savkin, S. Jha, "Node Localization Using Mobile Robots in 
Disconnected Sensor Networks", IEEE Transactions on Mobile Computing (Accepted Jun 
2004). 
[15] E. Biagioni, K. Bridges, "The application of remote sensor technology to assist the recovery 
of rare and endangered species", In Sp. iss. on Distributed Sensor Networks for the Int. 
Journ. of High Performance Computing Applications, Vol. 16, N. 3, 2002.  
[16] Sharp, C. Schaffert, S. Woo, A. Sastry, N. Karlof, C. Sastry, S. Culler, D., "Design and 
implementation of a sensor network system for vehicle tracking and autonomous 
interception," Wireless Sensor Networks, 2005 
[17] M Duarte, YH Hu, "Vehicle classification in distributed sensor networks," Journal of 
Parallel and Distributed Computing, 2004 
[18] W. Heinzelman, A. Chandrakasan, and H.Balakrishnan. “ Energy-Efficient 
Communication Protocols for Wireless Microsensor Networks (LEACH)＂. Porc. of the 
33rd Hawaii International Conference on Systems Science-Volume 8, 
pp.3005-3014,January 04-07, 2000 
[19] Lindsey, S.; Raghavendra, C.S., "PEGASIS: Power-efficient gathering in sensor 
information systems," Aerospace Conference Proceedings, 2002. IEEE , vol.3, no., pp. 
3-1125-3-1130 vol.3, 2002 
[20] Sung-Min Jung; Young-Ju Han; Tai-Myoung Chung, "The Concentric Clustering Scheme 
for Efficient Energy Consumption in the PEGASIS," Advanced Communication 
Technology, The 9th International Conference on , vol.1, no., pp.260-265, 12-14 Feb. 2007 
[21] Yong Ma; Aylor, J.H., "System lifetime optimization for heterogeneous sensor networks 
with a hub-spoke technology," Transactions on Mobile Computing , vol.3, no.3, pp. 
286-294, July-Aug. 2004 
[22] Soro, S.; Heinzelman, W.B., "Prolonging the lifetime of wireless sensor networks via 
 52
[41] Cedell Adam Alexander, Russell Eugene Gardo, Brahmanand Kumar Gorti, Olen Lee 
Stokes, “Method and system within a computer network for maintaining source-route 
information at a router bypassed by shortcut communication”, United States Patent 
US6452921 B1, September 17, 2002. 
[42] R.D. Poor, “Gradient Routing in Ad Hoc Networks,” 
www.media.mit.edu/pia/Research/ESP/texts/poorieeepaper.pdf, 2000. 
[43] Fan Ye; Zhong, G.; Songwu Lu; Lixia Zhang, "PEAS: a robust energy conserving protocol 
for long-lived sensor networks," Network Protocols, 2002. Proceedings. 10th IEEE 
International Conference on , vol., no., pp. 200-201, 12-15 Nov. 2002 
[44] D. Braginsky and D. Estrin“Rumor Routing Algorithm For Sensor Networks” International 
Conference on Distributed Computing Systems (ICDCS-22) November 2001.. 
[45] Perkins, C.E.; Royer, E.M., "Ad-hoc on-demand distance vector routing," Mobile 
Computing Systems and Applications, 1999. Proceedings. WMCSA '99. Second IEEE 
Workshop on , vol., no., pp.90-100, 25-26 Feb 1999. 
[46] Jacquet, P.; Muhlethaler, P.; Clausen, T.; Laouiti, A.; Qayyum, A.; Viennot, L., "Optimized 
link state routing protocol for ad hoc networks," Multi Topic Conference, 2001. IEEE 
INMIC 2001. Technology for the 21st Century. Proceedings. IEEE International , vol., no., 
pp. 62-68, 2001 
[47] Yuan-Ying Hsu; Chien-Chao Tseng, "Prime DHCP: a prime numbering address allocation 
mechanism for MANETs," Communications Letters, IEEE , vol.9, no.8, pp. 712-714, Aug 
2005. 
[48] Wu Shaochuan; Tan Xuezhi; Jia Shilou, "AOHR: AODV and OLSR Hybrid Routing 
Protocol for Mobile Ad Hoc Networks," Communications, Circuits and Systems 
Proceedings, 2006 International Conference on , vol.3, no., pp.1487-1491, 25-28 June 2006 
[49] Weniger, K.; Zitterbart, M., "Mobile ad hoc networks - current approaches and future 
directions," Network, IEEE , vol.18, no.4, pp. 6-11, July-Aug. 2004 
[50] D. B. Johnson, "Mobile Host Internetworking Using IP Loose Source Routing," Tech. Rep. 
CMU-CS-93-128, School of Comp. Sci., Carnegie Mellon Univ., Pittsburgh, PA, Feb. 
1993.. 
[51] S.K. Das, S.K. Sen, R. Jayaram, Novel load balancing scheme for the tele-traffic hot spot 
problem in cellular network, ACM/Baltzer Wireless Networks (WINET) 4 (1998) 325–340. 
[52] Akyildiz, I.F.; Weilian Su; Sankarasubramaniam, Y.; Cayirci, E., “A survey on sensor 
networks,” Communications Magazine, IEEE , vol.40, no.8, pp. 102-114, Aug 2002 
[53] C. Perkins, “Ad Hoc Networks, Addison-Wesley,” Reading, MA, 2000 
[54] H. Karl; A. Willig, “Protocols and Architectures for Wireless Sensor Networks,” Wiley 
2005 
[55] Heinzelman, W.R.; Chandrakasan, A.; Balakrishnan, H., “Energy-efficient communication 
protocol for wireless microsensor networks,” System Sciences, 2000. Proceedings of the 
33rd Annual Hawaii International Conference on , vol., no., pp. 10 pp. vol.2-, 4-7 Jan. 2000 
[56] Matthias Handy; Marc Haase; Dirk Timmermann, “LEACH-C：Low Energy Adaptive 
Clustering Hierarchy with Deterministic Cluster-head Selection,” Mobile and Wireless 
 54
附錄一 
著作成果 
Journal Papers: 
1. Jui-Tang Wang, Chien-Chao Tseng and Jen-Shun Yang,. “An Intelligent Agent-Based Mobile Resource 
Reservation Scheme," International Journal of Electrical Engineering, Vol. 15, No. 6, December 2008. (EI) 
2. Yung-Chien Shih, Yuan-Ying Hsu, Chien-Hung Chen, and Chien-Chao Tseng. “Adaptive Attenuation 
Factor Model for Localization in Wireless Sensor Networks,” Journal of Pervasive Computing and 
Communications. Vol. 4, No. 3, pp. 257-267, 2008. 
3. Jui-Tang Wang, Yuan-Ying Hsu, and Chien-Chao Tseng. “A Mobile Bandwidth-Aggregation Reservation 
Scheme for NEMOs,” Wireless Personal Communications, Vol. 44, No. 4, pp. 383-401, March 2009. . (SCI, 
EI) 0.418(0.475), 49/77 
4. Kuang-Hui Chi, Chien-Chao Tseng and Ya-Hsuan Tsai. “Fast Handoff among IEEE 802.11r Mobility 
Domains,” Journal of Information Science and Engineering, Vol. 26, No. 4, pp. 1345-1362, 2010. (SCI, EI) 
0.315 (0.390), 111/116 
5. Yu-Wen Chen, Jui-Tang Wang, Kuang-Hui Chi and Chien-Chao Tseng. “Group-Based Authentication and 
Key Agreement,” Wireless Personal Communications, Published online: September 2010. (SCI, EI) 0.418 
(0.475), 49/76 
6. Ying-Dar Lin, Chien-Chao Tseng, Cheng-Yuan Ho, and Yu-Hsien Wu. “How NAT-Compatible are VoIP 
Applications?,” IEEE Communications Magazine, Vol. 48, No. 12, pp. 58-65, December 2010. (SCI, EI) 
2.446 (3.293), 5/77 
7. Cheng-Yuan Ho, Fu-Yu Wang, Chien-Chao Tseng, and Ying-Dar Lin, “NAT-Compatibility Testbed: An 
Environment to Automatically Verify Direct Connection Rate,” IEEE Communications Letters, Vol. 15, 
Issue 1, pp. 4-6, January 2011. (SCI, EI) 1.140 (1.497), 24/76 
8. Cheng-Yuan Ho, Chien-Chao Tseng, Fu-Yu Wang, Jui-Tang Wang, and Ying-Dar Lin. “To Call or to Be 
Called behind NATs is Sensitive in Solving the Direct Connection Problem,” IEEE Communications 
Letters, Vol. 15, Issue 1, pp. 94-96, January 2011. (SCI, EI) 1.140 (1.497), 24/76 
9. Kuang-Hui Chi, Yung-Chien Shih, Ho-Han Liu, Jui-Tang Wang, Shiao-Li Tsao and Chien-Chao Tseng. 
“Fast Handoff in Secure IEEE 802.11s Mesh Networks,” IEEE Transactions on Vehicular Technology, Vol 
60, No. 1, January 2011. (SCI, EI) 1.488 (2.006), 17/77 
10. Kuei-Li Huang, Li-Hsing Yen Jui-Tang Wang, Chao-Nan Wu and Chien-Chao Tseng A Backbone-Aware 
Topology Formation (BATF) Scheme for Zigbee Wireless Sensor Networks,” Wireless Personal 
Communications, Published online: November 2011. (SCI, EI) 0.418 (0.475), 49/76 
 
Conference Papers: 
1. Kuei-Li Huang, Jui-Tang Wang, Ting-Hang Chen, and Chien-Chao Tseng. “A Distributed Key Assignment 
Mechanism for Fast Handover in WiMAX Networks,” Mobile Computing Workshop, June 2009. 
2. Kuei-Li Huang, Jui-Tang Wang, Jen-Shun Yang, and Chien-Chao Tseng. “Radio Resource Management 
Scheme for Multicast/Broadcast Services in WiMAX Networks,” Mobile Computing Workshop, May 
2010. 
3. Kuei-Li Huang, Jui-Tang Wang, Jen-Shun Yang, and Chien-Chao Tseng. “A Boundary Detection Scheme 
for Multicast/Broadcast Service Zones in WiMAX Networks,” Mobile Computing Workshop, May 2010. 
4. Yuan-Chun Chien, Chien-Chao Tseng, Kai-Cheng Hsu and Jack Tu. “Interface Management and Network 
Selection for Mobile Devices with Multiple Adaptors,” 數位生活科技研討會, 2010.  
5. Kuei-Li Huang, Chien-Chao Tseng, Wei-Han Kuo, and Jui-Tang Wang. “Synchronization for 
Multicast/Broadcast Service in the Broadband Wireless Networks,” International Conference on 
Communications and Networking Application, April 2011. 
出席國際會議報告書 
一、 參加會議經過 
本次會議--2011 通訊與網路應用國際會議-- 2011 International Conference on 
Communications and Networking Application 自 2011 年 4 月 01 日至 2011 年 4 月 02 日
於印尼峇里舉行。會議主辦單位為國際智能信息技術應用研究學會（Intelligent Information 
Technology Application Research Association）。本屆會議地點在 Inna Kuta Beach Hotel 舉
行。本次會議有將近三百篇的投稿，發表之論文篇數為二十五篇，主要領域涵蓋了以下種類： 
1. Frontiers on Communications and Networking  
2. Optical Communications and Networking 
報告人姓名 黃貴笠 報告日期   100 年 4 月 13 日 
系所及年級 資科工所博七 核定文號 11D029 
連絡電話 0912-159396 電子信箱 huangkl@cs.nctu.edu.tw 
會議期間 2011/4/01~02 會議地點 印尼峇里島 
會議名稱 
（中文）通訊與網路應用國際會議 
（英文）International Conference on Communications 
and Networking Application 
發表論文題
目 
（中文）無線寬頻網路廣播多播服務之可靠性同步技術 
（英文） Reliable Synchronization for 
Multicast/Broadcast Service in the Broadband 
Wireless Networks 
 二、 與會心得  
本次發表論文場次：  
Saturday, April 02, 2011  
10:30 – Oral Session 
Chair: Prof. Jun Wang, The Chinese University of Hong Kong 
發表論文為：  
Kuei-Li Huang*, Jui-Tang Wang, Wei-Han Guo and Chien-Chao Tseng, "Reliable 
Synchronization for Multicast/Broadcast Service in the Broadband Wireless Networks”  
參與國際會議發表會，從準備、報告與問題討論均獲益良多！不但增進國際視野，也觀摩他
人之長處與優點。在會場中遇到來自世界各國的學者專家，在討論及分析問題上各有不同的思維
模式。透過這次的機會得以多多瞭解增廣見聞。 
值得一提的是芬蘭等歐盟各國已經有炭交易和電交易的市場機制，在通訊方面的技術已經成
熟了，只差在技術的標準化。各種不同的通訊技術現已朝著標準化的方向演進，諸如：WiFi、
LTE、WiMAX、Zigbee 等無線通訊技術。未來，為了解決全球面臨的能源問題，即時控制和調適
技術將會是未來的趨勢，而無線接取技術則扮演了一關鍵角色。對於能源的即時調配需要有大量
的感測器和感測結果管理控制中心。感測器間以及感測器與控制中心之間的通訊有賴於無線接取
技術的配合，進而達成延長感測器使用年限且能夠即時調配能源的目的。 
2011 International Conference on Communications and 
Networking Application (ICCNA 2011) 
 
Bali, Indonesia, April 1-2, 2011 
 
 
Official Acceptance and Invited Letter 
 
Thank you for your submission to ICCNA 2011. We are pleased to inform you that your paper 
 
Paper id: 64 
Title: Reliable Synchronization for Multicast/Broadcast Service in the Broadband Wireless 
Networks 
• Contact Author: Kuei-Li Huang 
•  
Due to review of ICCNA 2011 Committees, your paper was accepted as a regular paper in 
ICCNA 2011. Your paper will be published in ICCNA 2011 book proceedings of with the 
Publishing Services of the IEEE, which will be indexed by EI Compendex and ISTP. Please do 
take into account in the revision to further improve the English quality of your paper. The 
length of the paper should not exceed 4 pages without extra pages fees.  
 
In order to make high quality of ICCNA 2011 proceedings, the camera-ready version should 
follow IEEE format strictly. If your paper not follow IEEE format strictly, your paper will be 
not indexed by EI and ISTP. Kindly send your Final paper to ICCNA2011REG@163.com 
before Feb. 25, 2011. 
 
All accepted papers should submit the copyright to ICCNA2011REG@163.com before Feb 
25, 2011. If the copyright not be submitted; your paper will not be included in IEEE Xplore and 
Indexed by EI and ISTP. 
 
Registration Fees: The registration will be opened in Feb.10, 2011; you can download the 
registration form in the website and send us before Feb. 25, 2011. Sorry for the so tight time. 
 
We hope to see you in Bali, Indonesia, April 1-2, 2011. 
 
ICCNA 2011 
Intelligent Information Technology Application Research Association, Hong Kong 
2011-2-9 
b) Sync Executor (SE) - After receiving MBS data, SE 
performs the classification process to determine of which 
particular incoming Service Data Units (SDUs) are 
belonged to the appropriate service flow(s) or connection(s). 
Then the SE fragments or packs packets depending on SDU 
size or QoS parameters. Finally, SE creates MBS MAC 
Burst according to the syncR. Then, SE creates MBS PHY 
Burst and scheduling the waveform. SEs are located in 
BSs.
 
Figure 1. MBS-Zone Architecture 
2) Sync Rule (syncR): The syncR message is created by 
SC. The message includes synchronization parameters and 
retransmission information. The synchronization parameters 
includes 
• MBS burst position and dimension, 
• PHY parameters (e.g. FEC Type, Modulation Type, 
Repetition Coding, Boosting, and HARQ Settings), 
• SDUs map to MBS burst. 
Figure 2 shows the MBS syncR transmission timeline. 
For retransmission, syncR also includes the linkage 
information. which entails the estimated time of arrival 
(TOA) of next syncR. If the syncR does not arrive at an SE 
after an estimated time, the SE will be aware of losing syncR 
and tries to regain it in the recovery period. Then, MBS data 
bursts are collected and scheduled in the accumulation period. 
 
Figure 2. Retransmission methodology 
B. Reliable Multicast 
Reliable multicast protocols have been developed to add 
the functions for packet loss detection and retransmission. 
Reliable multicast protocols can be classified into four types. 
1) Sender-initialed reliable multicast: In sender-
initiated reliable multicast protocol, (e.g. XTP [3] - Sender 
Initiated Multicast Protocol) , it require a positive 
acknowledgment (ACK) for every data packet transmitted 
by the sender. This method ensures the reliability. However, 
this method has a serious problem that it may have ACK-
implosion problem when too many receivers send ACK 
message simultaneously to the sender. 
2) Receiver-initialed reliable multicast: In receiver- 
initiated reliable multicast protocol [3] - Receiver Initiated 
Multicast Protocol), receivers are aware of losing packet and 
send a negative acknowledgement (NAK) to the sender for 
requesting retransmission of the packet. This method 
decreases the quantity of acknowledgment message which 
has better reliability. However, this method also has NAK-
implosion problem when the network itself is in an 
unsteable situation. 
3) Tree-based reliable multicast: RMTP [5] and TMTP 
[6] construct a logic tree topology that is composed by a 
group of receivers. This method can avoid ACK-implosion 
problem by organizing the ACK tree. A sender is the root 
node of the logic tree and forms a transmission group with 
son nodes. In this transmission group, it uses sender-
initiated scheme to process multicast transmission. All 
receivers are classified to corresponding levels. A receiver 
just send ACK message to the root node of a transmission 
group instead of sending to source node. This method 
disperses load of the source sender to other middle nodes. 
4) Ring-based reliable multicast: RMP [7] constructs a 
logic ring topology that is composed by a group of receivers. 
A unique logic token is used in this logic ring. The receiver 
that has the token is called token holder. When the token 
holder receives the data packet, it will multicast ACK 
message which has a sequence number to the multicast 
group. The ACK message can inform the sender of whether 
the transmission is successful or not, inform members of the 
sequence number of the latest packet, inform the previous 
token holder that the token is changed successfully, and 
inform the next token holder to receive token. This way 
guarantees the process reliability receive packets. 
Nevertheless, this is only suitable for the applications of 
group conversation while not appropriate for the multicast 
applications which have only one source. 
III. RMSR 
We propose a reliable multicast scheme for Sync Rule 
transmission (RMSR). Since a WiMAX backbone is with 
less packet loss rate, RMSR adopts the receiver-initialed 
reliable multicast for SC to multicast syncR to SEs. 
Moreover, in case of the transmission loss of syncR, RMSR 
performs local retransmission for fast syncR reacquisition. 
To perform the local retransmission, RMSR divides an 
MBS-Zone into several Retransmission- Zones (RZs). Each 
RZ contains one and only one leader SE (L-SE) and several 
member SEs (m-SEs). The L-SE is responsible for m-SEs’ 
syncR retransmission. If a retransmission fails, the m-SE will 
turn to SC for syncR and the L-SE is then re-elected. We 
describe the local retransmission scheme and two election 
algorithms in the following two sections. 
[2], which is with no retransmission mechanism (Multicast), 
4) the multicast mechanism with a fixed retransmission 
(MwFR). We use the normal TCP connection to simulate the 
unicast transmission. The retransmission of syncR in the 
fourth mechanism is always from SC. 
 
 
Figure 4. Simulation Topology 
Table 1. Hop Count Statistics of 100 SEs in the simulation 
Hop Count Number of SEs 
2 40 
3 30 
4 20 
5 10 
 
Figure 5. SyncR loss rates at different network loss rates 
 
Figure 6. Transmission times at different network loss rates 
Figure 5 shows SyncR Loss Rates at different network 
loss rates. We can observe that (pure) multicast scheme is 
not reliable because SE does not request retransmission 
when syncR is lost. The syncR loss rate increases as 
Network Loss Rate increased. RMSR and MwFR are with 
similar syncR loss rate as the unicast method. 
Figure 6 shows transmission times at different network 
loss rates. Unicast-TCP has about double transmission time 
than RMSR and MwFR. In addition, RMSR decreases nearly 
5ms of transmission time than MwFR. Hence, RMSR can 
shorten the synchronization delay. This is important because 
the longer of syncR transmission time, the shorter of 
recovery period which will cause higher syncR loss ratio. 
Similarly, RMSR can enlarge the coverage area of a MBS 
zone while some service flows are constrained by the delay 
bounds. The QoS of a particular service flow will be violated 
if the synchronization delays equal or greater than the given 
delay bound. Therefore, the shorter of synchronization delay 
the larger of the coverage area of an MBS-Zone which can 
decrease the Inter-MBS zone handover probability and affect 
the elasticity of system establishment. 
Figure 7 shows variances of transmission times at 
different network loss rates. RMSR scheme can decrease the 
influence of transmission time from network loss rate, 
showing the reliability on synchronization. 
 
Figure 7. Variances of transmission times at different 
network loss rates 
V. CONCLUSIONS 
In this work, RMSR for WiMAX MBS is proposed for 
improving the performance of syncR retransmission, wherein 
all SEs in an MBS-Zone are divided into several RZs and a 
L- SE for each RZ. m-SE can recover the syncR from the L-
SE by using the linkage information in the previous syncR. 
Simulation results show that RMSR maintains the 
transmission time of syncR lower than 60ms and has the 
lowest variance of transmission time at different network 
loss rate, compared with the two schemes specified in the 
WiMAX MBS specification.  
REFERENCES 
[1] IEEE std 802.16e-2005, February 2006. 
[2] WiMAX Forum Network Working Group, ”WiMAX System 
Requirements, Network Protocols and Architecture for Multi-cast 
Broad-cast Services (MCBCS) Part of Network Release 1.5”, 
WiMAX System Requirements, Network Protocols and Architecture 
for Multicast Broadcast Services (Release1.5), Dec. 2008. 
[3] XTP forum, ”XTP specfication revision 4.0b [EB/OL]”, 
http://www.mentat.c om/xtp.html, 1995/2004-01. 
[4] S. Pingali, J.F. Kurose, D. Towsley, ”A Comparsion of Sender- 
initialed and Receiver-initialed ReliableMulticast Protocols,” Proc. 
1994 ACM Sigmetrics Conf., May 1994. 
[5] Paul S, Sabnani S S, Lin J C, et al, ”Reliable multicast transport 
protocol,” IEEE Journal on Selected Areas in Communcation, 
1997,407-421. 
[6] Yavatkar R, Griffieon J, Sudan M., ”A reliable dissemination 
protocol for interactive collaborative applications.”, Proc. ACM 
Multimedia, 1995, pp.334-344. 
[7] Whetten B, Kaplan S, Montgomery T., ”A high performance totally 
ordered multicast protocol’, Proceedings of INFO-COM’95, 1995. 
國科會補助計畫衍生研發成果推廣資料表
日期:2009/11/26
國科會補助計畫
計畫名稱: 子計畫三:行動無線感測網路連結機制之研發
計畫主持人: 曾建超
計畫編號: 97-2221-E-009-051-MY3 學門領域: 計算機網路與網際網路 
研發成果名稱
(中文) 一種舒緩hot-spot問題的架構
(英文) A Backbone-Aware Architecture
成果歸屬機構
國立交通大學 發明人
(創作人)
曾建超,黃貴笠,吳昭男,王瑞堂
技術說明
(中文) 本發明針對無線感測網路提出一種具有省電效果的架構(Backbone-Aware 
Architecture)，利用新的節點類型：具電節點(Power Node)連結成一條或多條
骨幹(Backbone)，透過骨幹網路使得網路的壽命能夠延長。資料僅需送往鄰近的
具電節點不需要像傳統方法往後端伺服器方向傳送，因此降低了每個子樹的深度，
使得深度較低的節點具有較輕的流量負載，消耗電量的速度趨緩也就延長了網路
的壽命。根據不同的實體拓樸需求，本發明利用不同的具電節點位置安排來滿足
延長網路壽命的需求。當骨幹網路突然損壞時，網路可能因此中斷造成資料遺失，
本發明利用其他的一般節點建立臨時的通道使得中斷的部份可以經由臨時的通道
轉送資料，骨幹網路然得以正常運作，不至於造成網路中斷。
(英文)
產業別 電信業
技術/產品應用範圍
技術移轉可行性及
預期效益
註：本項研發成果若尚未申請專利，請勿揭露可申請專利之主要內容。
其他成果 
(無法以量化表達之成
果如辦理學術活動、獲
得獎項、重要國際合
作、研究成果國際影響
力及其他協助產業技
術發展之具體效益事
項等，請以文字敘述填
列。) 
無 
 成果項目 量化 名稱或內容性質簡述 
測驗工具(含質性與量性) 0  
課程/模組 0  
電腦及網路系統或工具 0  
教材 0  
舉辦之活動/競賽 0  
研討會/工作坊 0  
電子報、網站 0  
科 
教 
處 
計 
畫 
加 
填 
項 
目 計畫成果推廣之參與（閱聽）人數 0  
 
