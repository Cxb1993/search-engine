 2
環境、以及載具本身的運動及姿態的影響，而產生遮蔽、干擾甚至脫鎖，所以無法完全仰
賴 GPS 系統，提供不中斷的的導航資訊，是為最主要之缺點。 
慣性導航系統(Inertial Navigation System，簡稱 INS )，是一自主式的電子導航系統，
一般是使用加速儀(Acce1erometer)與陀螺儀(Gyroscope)等感測器，利用地球的慣性重力與
載具相對運動，來感測載具之加速度及角速度。再利用慣性導航系統之動態方程式，就可
即時（Real-Time）求得載具之速度、位置的變化，而得到載具於慣性座標系統之定位資訊。
但由於 INS 所需要感測元件數目，如果要用作 3D 的導航上，GPS/INS 系統在做整合的精
度上的確可以達到更好的定位精度，成本上價格較高，是其主要的缺點。 
慣性導航系統不會受環境、天候與地形等外在因素的影響，但其系統會發生漂移的現
象。在長時間的工作會使系統誤差增加，進而產生系統發散的現象。因此不適合做長時間
的定位，若要做長時間的使用，則需搭配其他的導航系統做校正的動作。 
也因為有這個原因，所以可將全球定位系統與慣性導航系統作整合，選擇 GPS 定位系
統在一般性情況下有長時間穩定的特性，與慣性導航系統所具有自主、完整的特性，互相
搭配，故可應用於日常生活中的汽車定位導航系統設計，使之成為完整的電子式導航。 
 
二、研究目的 
目前全球定位系統 GPS (Global Positioning System)已佈置完成，並進行正式運作，所
以各式各樣的應用產品也都在開發之中，其中可配合一般用途極廣，而發展的就是「智慧
型聲控式汽車導航與通訊及多媒體系統的整合設計」。本計畫的目的是運用嵌入式 DSP，
將 GPS、慣性導航系統(Inertial Navigation System , INS)，地理資訊系統(Geography 
Information System ,GIS)及 GSM(Global System for Mobile Communication )系統整合起
來，由於採用之嵌入式數位訊號處理器，其功能非常強大，而體積又小又便宜，非常有競
爭力，可將 GPS，GSM，GIS，INS 同時整合起來，所以比以往的研究，又向前邁進了一
大步。 
運用此系統的優點在於，能及時將行車位置顯示出來，供給使用者了解附近的地理資
訊為何；並且也可回報行車中心，或是其他站台，作為行車班次調度、緊急情況處理及乘
客候車之參考。在嵌入式 DSP，可整合第 3 代行動通訊系統(Global System for Mobile 
Communication, GSM)。因此可以隨時上網，提供給乘客最新各類新聞及旅遊的網路資訊。
且本計畫將會加上智慧型聲控模組，除地理資訊系統之整合外，更供給了一般正常人在開
車中，只需要聆聽就可獲取目前的所在位置，可增加行車的安全與方便性。 
INS 慣性導航系統，是利用微機電加速儀和數位羅盤(MEMS Accelerometer & Gyro 
Compass )組成，但是長期會有漂移的現象產生，因此需要與 GPS 接收機相互配合，來達到
準確定位的效果。使用嵌入式 DSP 將此 GPS/INS 配合卡門濾波器，並與電子地圖，和 GSM
行動通訊系統，以及多媒體影像壓縮整合成 GPS/INS/GIS/GSM/多媒體，此一多效能的系統。 
  本計畫擬研究發展之智慧型聲控式汽車導航與通訊系統整合架構，如下圖 1 所示。 
 4
 
圖 2 GPS 衛星及軌道分布圖 
全球定位系統的架構，主要可分為三大部分：即太空部分（Space Segment），控制部
分（Control Segment），及使用者部分（User Segment），如圖 3 所示。 
 
分別敘述如下： 
圖 3 全球定位系統 
運用衛星進行定位，可得到長時間的準確座標位置。所以本專題是利用 GPS，進行快
速而又方便的定位，而更要強調的是將進一步把 GPS 晶片整合於嵌入式系統中。 
 
4.2 GPS 訊息輸出格式 
 6
慣性導航系統亦有下列的缺點： 
（1） 無論載具是靜止或運動的狀態下，其位置與速度的誤差會隨時間的增加而發散。 
（2） 設備十分昂貴，維修比較困難。 
（3） 起始值之正確性，直接而嚴重地影響慣性導航系統的精度，尤其是最初之方位，確
有失之毫厘差之千里的影響，因此初始校正非常重要，但若緯度超過75度，或在進
行中的載具，則校準不易且精確度會降低。 
INS系統架構 
慣性導航系統的理論基礎是依據，牛頓(Newton)於 18 世紀所提出的力學三大定律，一
般將慣性導航系統分為兩大類，其一是穩定平台系統（Stabilized Platform System），簡稱「環
架系統」，其二是固裝系統（Strap-Down System）。 
(一)穩定平台系統（Stabilized Platform System） 
主要是利用環架及陀螺儀所組成之控制迴路來隔絕載具運動，使平台保持適當姿態，
以建立穩定參考座標。其結構如圖 5 所示，乃利用陀螺儀來控制環架平台，以地面座標為
校正標準，當環架離開慣性水平位置成一小角度傾斜時，陀螺儀的檢測信號裝置（Pick-off 
coil）可偵測出陀螺儀外殼的傾斜角度，此信號經過放大後送到環架裝置的馬達，驅動馬達
使環架裝置再回到慣性水平位置，如此即可建立一穩定參考座標，隔絕載具運動造成之影
響。 
此系統具有精度高的優點，因加速儀保持水平就可省掉重力加速度分量的影響，而感
測器的校準也只須藉由平台轉動即可，不需整個載具轉動或拆離載具來做校準，但其缺點
為環架結構的複雜性與它的高成本。此外，環架裝置的磁場效應也會有些微的影響。 
圖 5 環架平台系統 
(二)固裝系統（Strap-Down System） 
將陀螺儀、加速儀直接固裝於載具上，由陀螺儀、加速儀直接量測載具之角速度、加
速度，經由計算機的運算，求出瞬時載具對慣性座標的關係，進而計算出載具運動的位置、
速度和姿態的變化，以作為導航參考之用，其系統架構見圖 6。它的優點有：結構簡單成
本低，容易安裝，且少了環架機構的磨損與磁場效應。但因陀螺儀、加速儀等隨著載具運
動，會產生不少的誤差，且座標的轉換是以陀螺儀量到之數值為參考值，因此對陀螺儀之
要求為：其在一寬頻的輸入範圍內操作須為線性。且固裝式系統對電腦、計算器的要求也
 8
 
圖 7  GPS/INS 整合導航系統方塊示意圖 
 
圖 8  GPS/INS 整合之導航系統硬體示意圖 
4.4 慣性導航系統的運算流程及步驟 
慣性導航系統主要是由三個陀螺儀和三個加速儀所組成，其安裝方式是以右手定則的
三個方向，如圖 9 所示，互相垂直排列，所以慣性導航系統共有 6 個感測軸。當載具運動
時，在載具上的陀螺儀會立刻提供三個軸向的角速度資料，而加速儀則提供三個軸向的加
速度資料。以這些資料和輸入的初始位置、速度、姿態等參考資料，經過計算機的運算之
後，就可以求出載具目前所在的位置、速度和姿態。 
慣性導航系統的計算流程表示如圖 10，計算過程分為下列幾個步驟： 
（a）設定滾轉角（Roll）、俯仰角（Pitch）及偏航角（Yaw）的初始值，並計算四元素的初
始值。將這些角度轉換成四元素(Quaternion)的主要目的是，預防cos、 sin在某些角
度時的值為零並且又出現在分母，將導致一個無窮大的值，造成系統發散。 
     四元素與初始姿態之關係如下： 
Ashtech GPS 
RECEIVER 
ENGINE 
POWER 
SOURCE 
Inertial Sensor 
(Vibration GYRO*3) 
(Linear Accelerometer*3) 
SIO Interface
TMS320C6711 
DSK 
STC-VC33 
SIO Interface 
STC-VC33 
DSP C6711 
GPS 接收機 
 10
 
圖 10  慣性導航系統計算流程圖 
 12
     bie
b
it ωω = 表地球轉速，式（1-13）右側之第二項為地球轉速補償，若無補償時則使用
式（1-14） 
        bib
t
b
t
b qq ω21=&                                              （1-14） 
     式（1-14）的解可寫為 
     ),()()( ttPtqttq Δ=Δ+  
             )))(()()()(( 43214321 PkPjPiPtqktqjtqitq
vvvvvv ++++++=     （1-15） 
    其中 tΔ 為每次中斷的時間，而 4321 PPPP ,,, 的求法如下： 
        222 zyxS θθθ Δ+Δ+Δ=                                      （1-16） 
        811 SP −=                                              （1-17） 
        ( ) ( ) 2448212 ** yzzyx SP θθθθθ ΔΔ−ΔΔ−−×Δ=               （1-18） 
        ( ) ( ) 2448213 ** zxxzy SP θθθθθ ΔΔ−ΔΔ−−×Δ=               （1-19） 
        ( ) ( ) 2448214 ** xyyxz SP θθθθθ ΔΔ−ΔΔ−−×Δ=               （1-20） 
     其中  *** ,, zyx θθθ ΔΔΔ 為陀螺儀之前一次中斷時間內的角度增量。 
     其次計算轉換後之四元素值： 
        ( ) ( ) ( ) ( ) ( ) 443322111 PtqPtqPtqPtqttq −+−=Δ+                 （1-21） 
        ( ) ( ) ( ) ( ) ( ) 344312212 PtqPtqPtqPtqttq −++=Δ+                 （1-22） 
        ( ) ( ) ( ) ( ) ( ) 241342313 PtqPtqPtqPtqttq ++−=Δ+                 （1-23） 
        ( ) ( ) ( ) ( ) ( ) 142332414 PtqPtqPtqPtqttq +−+=Δ+                 （1-24） 
（f）取得加速儀之量測值與步驟（b）相同 
（g）將四元素轉換成方向餘弦矩陣 
     
( ) ( )
( ) ( )
( ) ( ) ⎥⎥
⎥
⎦
⎤
⎢⎢
⎢
⎣
⎡
+−−+−
−−+−+
+−−−+
=
2
4
2
3
2
2
2
121433124
2143
2
4
2
3
2
2
2
13214
31244132
2
4
2
3
2
2
2
1
22
22
22
qqqqqqqqqqqq
qqqqqqqqqqqq
qqqqqqqqqqqq
C tb       （1-25） 
     或改寫成 
     
⎥⎥
⎥
⎦
⎤
⎢⎢
⎢
⎣
⎡
=
zzzyzx
yzyyyx
xzxyxx
t
b
CCC
CCC
CCC
C                                       （1-26） 
     其中每個元素代表一座標軸在另一座標系統中之方向餘弦，例如 xxC 、 xyC 、 xzC 為彈
體座標 X 軸在慣性座標中之三個方向餘弦，亦可視作載具座標 X 軸上單位向量在慣
性座標之三分量。 
 14
裝式系統內，三個加速儀是直接安裝在載具上，故輸出之加速度a 係為彈體座標(Body 
axes)上之三個加速度分量，故式（1-31）如果成立，則其每一向量均須以同一座標之
分量表示。 
         所以首先須將加速度a 由載具座標轉換至慣性座標。對於不同參考點的座標系
統，彼此之間有一定的轉換關係，藉著這個轉換過程，可以將不同參考點的座標轉換
到相同的座標系統，以便作更進一步的計算，這種轉換的過程，謂之「座標轉換」。
一般而言，常見座標轉換的方法有二：其一是方向餘弦矩陣（Direction Cosine 
Matrix），其二是尤拉角（Eular Angle）。 
     在此，我們使用方向餘弦矩陣的轉換方法。即 
        btb
t vCv Δ=Δ                                             （1-32） 
     其中 t ，b 分別表示慣性（切面）座標，及載具座標。 
（i）計算慣性座標系的速度及位置 
     我們將輸入載具速度增量、慣性座標速度值，而求得中間點（ 2/ttt Δ+= ）及終端
（ 2/ttt Δ+= ）之慣性導航座標的速度及位置。慣性座標系的導航方程式即為式
（1-31），而式（1-31）可 
     改寫成差分方程式 
        
⎩⎨
⎧
Δ×−Δ+Δ=Δ
Δ=Δ
tvtgtav
tvR
ieω2                                （1-33） 
     中間點（ 2/ttt Δ+= ）的速度位置為 
        
( ) ( ) ( )
( ) ( ) ( )⎩⎨
⎧
++=+
Δ×+=+
ΔΔ
Δ
2
2
22
2
t
m
t
m
m
t
m
tvtRtR
ttgtvtv
                            （1-34） 
     終端（ ttt Δ+= ）的速度位置為 
        
( ) ( ) ( ) ( )[ ]
( ) ( ) ( ) ( )[ ]⎩⎨
⎧
ΔΔ+++=Δ+
Δ+−++=Δ+ ΔΔ
tttvtvtRttR
ttvtgtvttv tiet
2
1
22 2ω                    （1-35） 
（j）重力模式 
     輸入彈體的位置，經過重力模式的計算，即可得到在慣性導航座標下重力加速度的三
分量。重力在當地（Local）水平座標的北東下三個分量（N、E、D）可表示如下 
        HGg c
L
N ×= 1                                            （1-36） 
        0=LEg                                                  （1-37） 
        )( HGGg cc
L
D ×−×= 32 1                                     （1-38） 
  其中參數 
        LLGc cossin. ×××= −81 10631  
        LLGc
442
2 10294569205163042078035229 sin.sin.. ××+×+= −  
 16
GIS系統上，以實現實際2D導航的複合式定位系統，如圖11所示之分散式閉迴路卡門濾波
器的整合方式。 
 
圖11 分散式閉迴路卡門濾波器系統圖 
 GPS/DR的整合方式，主要是考慮各系統的特性，取各家的優點，達到互補的功能，其
特性如表1與表2所示。 
             
表1 GPS優缺點比較表               表2 INS優缺點比較表 
 
慣性導航系統的誤差動態方程式 
根據牛頓力學定理，在以地球北、東、下（N，E，D）之導航座標下推導出來，如下： 
          
εδϕωϕδ
δδρδ
δϕδωδ
=×+
=×+
Δ+×−Δ=×+Ω+
&
&
&
vrr
gfvv )(
                         (1-46) 
其中：     v&δ  是載具在導航座標上的速度誤差向量 
           r&δ   是載具在導航座標上的位置誤差向量 
           ϕδ &   是載具在導航座標上的姿態誤差向量 
           Ω   地球自轉角速度向量 
           ω   地球自轉角速度在慣性座標系統的分量 
           Δ    是加速儀在導航座標上的誤差向量 
           f   是載具在導航座標上的比力（Specific Force，載具的加速度和所在位置的
重力加速度之比） 
           gΔ  是重力加速度模式的誤差向量 
           ρ   是載具在導航座標上對地球的旋轉角速度向量 
           ε   是陀螺儀在導航座標上的誤差向量 
而地球自轉角速度向量在導航參考座標上的向量Ω則為：  
 18
          GYROGYROGYROGYRO XAX ωδδ +=&                            （1-56） 
          TSFfBeviousVV accaccaccaccacc )()(Pr ++= && δδ                （1-57） 
由式（1-55）、(1-56)、(1-57)可得 
          
TRUETURETRUETRUE
XAX ηδδ +=&                            （1-58） 
其中 
[ ]TDENDENvDvEvNDENDENDENTRUE SFSFSFBBBvvvrrrX ,,,,,,,,,,,,,,,,, ωωωϕϕϕ=         
   （1-59） 
          
⎥⎥
⎥⎥
⎥⎥
⎥⎥
⎦
⎤
⎢⎢
⎢⎢
⎢⎢
⎢⎢
⎣
⎡
=
×××
××××
××
×××
×××
×××
333333
33333399
3333
333333
333333
333333
000
0000
00
00
0
000
GYRO
INS
TRUE A
I
fIA
A                        （1-60） 
            
⎥⎥
⎥
⎦
⎤
⎢⎢
⎢
⎣
⎡
=×
D
E
N
f
f
f
f
00
00
00
33                                 （1-61） 
T
D
GD
GD
E
GE
GE
N
GN
GN
DENTRUE ttt ⎥⎥⎦
⎤
⎢⎢⎣
⎡ ΔΔΔ= 000000222000000
222
,,,,,),(),(),(,,,,,,,,, ωτ
σωτ
σωτ
ση                    
（1-62） 
由這些狀態方程式，我們就可以詳細且完整的分析出整個INS的誤差。 
全球定位系統誤差動態方程式 
    GPS 誤差最主要的來源是接收機時鐘偏差量（User Clock Bias）和時鐘漂移量（User 
Clock Drift），所以我們在建立 GPS 的動態方程式時，就是以此兩項誤差為主要考量因素。 
    GPS 的動態方程式，可由 8 個分量來表示，前三個分量為 321 ,, xxx ，表示使用者的位
置。第四個分量為 4x ，表示使用者的時鐘偏差量（User Clock Bias）。 765 ,, xxx ，表示使用
者的速度分量。 8x 表使用者的時鐘漂移量（User Clock Drift）。所以其動態方程式可描述如
下： 
 20
Model Continuous Time Discrete Time 
Plant Equation )()()()( tBwtxtAtx +=&  111 −−− Γ+Φ= kkkk wxx  
Measurement Equation )()()()( tvtxtHtz +=  kkkk vxHz +=  
Plant Noise 
)()()()(
0)(
tQsttwtwE
twE
T −=
=
δ  kTik
k
QikwwE
wE
)(
0
−Δ=
=
 
Measurement 
)()()()(
0)(
tRstsvtvE
tvE
T −=
=
δ  kTik
k
RikvvE
vE
)(
0
−Δ=
=
 
現在定義其初始狀態(Initial Value)的平均值(Mean)是 0x ，且其估測誤差共變異矩陣
(Covariance)是 0P 。 
我們的目的是估測出在時刻最佳的狀態變數向量 kx (即 kxˆ )，其估測效果則視下列性能
指標(Performance Index)而定： 
[ ] [ ]kkTkkk xxMxxEP ˆˆ −−=                     （1-67） 
其中 M 是對稱非負定之加權矩陣(Symmetric Non-negative Definite Weighting Matrix)；
而後利用正交定理(Orthogonality Principle)，求出修正估測值所需的更新資料(Innovations)，
使得性能指標滿足下式最低值之需求： 
( )[ ]{ }  1...,3, 2, 1,    0 ˆ −==+− kizxxE Tikk                     （1-68） 
經過一連串的代數運算之後，即可得出數位卡門濾波器的公式解，如下表 
所示： 
表 4 卡門濾波器之公式解 
System dynamic model ( )kk
kkkk
QNw
wxx
,0~
  111 −−− Γ+Φ= δδ  
Measurement model  ( )kk
kkkk
RNv
vxHz
,0~
  += δδ
 
Initial condition 
{ }{ } 000 00 ~ ~ 
ˆ  
PxxE
xxE
T =
=
δδ
δδ
 
Independence assumption  { } 0=Tik vwE  
State estimate extrapolation  ( ) ( )+Φ=− −− 11 ˆ ˆ kkk xx δδ  
Error covariance extrapolation ( ) ( ) TkkkTkkkk QPP 111111 −−−−−− ΓΓ+Φ+Φ=−  
Kalman gain matrix ( ) ( )[ ] 1−+−−= kTkkkTkkk RHPHHPK  
State estimate observation update ( ) ( ) ( )[ ]−−+−=+ kkkkkk xHzKxx ˆ ˆ ˆ δδδ  
Error covariance update ( ) [ ] ( )−−=+ kkkk PHKIP  
 22
  ay  : 載具y軸方向之加速度 ( )M / sec2  
  ϕ : 載具X軸相對於北方之偏航角(Rad)(順時鐘方向) 
  ( )ϕ 0  : 載具之起始偏航角(Rad) (順時鐘方向) 
    為了量測載具之偏航(yawing)角速度，我們使用陀螺儀量測之，於實驗前先以指南針或
電羅盤量測載具之起始偏航角 ( )ϕ 0 。實驗時，將量測到的角速度經dt(20mS)時間積分後，即
可得到載具之實際偏航角ϕ 。 
    加速儀的裝置方式是將兩組加速儀之感測軸與汽車載具之x、y軸重合，則當汽車有加
速度運動時，加速儀將分別量測到載具座標上之加速度 xa 與 ya 。此加速度量必須先經座
標轉換至導航座標上而後進行積分的動作。其座標轉換的原理如圖14所示。 
N(North)
E(East)
x
y
ϕ
ax
ay
f N
f E
 
圖14  加速度座標轉換示意圖 
( )ff aaNE xy⎡⎣⎢ ⎤⎦⎥ = −⎡⎣⎢
⎤
⎦⎥
⎡
⎣⎢
⎤
⎦⎥
cos( ) sin( )
sin cos( )
ϕ ϕ
ϕ ϕ
 
                                （1-69） 
( ) ( )( ) ( )V k V k f dtV k V k f dtN N NE E E
+ = + ⋅
+ = + ⋅
1
1                             （1-70） 
( ) ( ) ( )
( ) ( ) ( )
P k P k V k dt f dt
P k P k V k dt f dt
N N N N
E E E E
+ = + ⋅ + ⋅
+ = + ⋅ + ⋅
1 1
2
1 1
2
2
2
                           （1-71） 
f N 、 f E  : 載具在導航座標上向北、及向東方之加速度分量 ( )M / sec2  
 24
 EN SFSF δδ , : 加速儀之比例因子誤差 
 GBδ : 陀螺儀之偏量誤差(Bias Error) 
GSFδ : 陀螺儀之比例因子誤差 
 
 
 
 
 
(1-74) 
 
 
 
 
 
 
 
( ) [ ]w t Q tN E GYRO ax ay T= Δ Δ ε ω ω ω( )  
其中： 
     Δ ΔN E, ： 加速儀向北及向東方之隨機誤差 
     ε  ： 陀螺儀零亂偏差(Random bias) 
     Q tGYROω ( )  ：陀螺儀的隨機誤差（Random Noise） 
     ω ωax ay,  ：向北及向東方加速儀的隨機誤差（Random Noise） 
而觀測(Measurement)方程式可表示如下： 
( ) ( ) ( ) ( )z t H t x t v t= +                                     （1-75） 
觀測向量 
( )H t =
⎡
⎣
⎢⎢⎢⎢⎢⎢
⎤
⎦
⎥⎥⎥⎥⎥⎥
1 0 0 0 0 0 0 0 0 0 0 0
0 1 0 0 0 0 0 0 0 0 0 0
0 0 1 0 0 0 0 0 0 0 0 0
0 0 0 1 0 0 0 0 0 0 0 0
0 0 0 0 1 0 0 0 0 0 0 0
                  (1-76) 
( ) ( )w t t,ν : 為不相關(Uncorrected)之白色雜訊(White Noise) 
⎥⎥
⎥⎥
⎥⎥
⎥⎥
⎥⎥
⎥⎥
⎥⎥
⎥⎥
⎥
⎦
⎤
⎢⎢
⎢⎢
⎢⎢
⎢⎢
⎢⎢
⎢⎢
⎢⎢
⎢⎢
⎢
⎣
⎡
=
000000
000000
000000
000000
100000
010000
001000
000100
000010
000001
000000
000000
B
 26
Qk
f
f
N
E
=
⎡
⎣
⎢⎢⎢⎢⎢⎢⎢⎢
⎤
⎦
⎥⎥⎥⎥⎥⎥⎥⎥
σ
σ
σω
2
2
2
0 0 0 0 0
0 0 0 0 0
0 0 0 0 0
0 0 0 0 0 0
0 0 0 0 0 0
0 0 0 0 0 0
                           （1-82） 
 
        於實驗前我們先讓載具於靜止狀態，然後輸入載具之起始偏航角 ( )ϕ 0 ，計算系統
之初始共變異量，其計算的方式如下所示： 
( )( )σ μP N E P
k
N
N E N EN
P k
, ,,
= −
=
∑1 2
1
   (位置誤差之初始共變異量) 
( )( )σ μV N E V
k
N
N E N EN
V k
, ,,
= −
=
∑1 2
1
   (速度誤差之初始共變異量) 
( )( )σ ϕ μϕ ϕ= −
=
∑1 2
1N
k
k
N
   (偏航角誤差之初始共變異量) 
( )( )σ ω μω ω= −
=
∑1 2
1N
k
k
N
        (角速度誤差之初始共變異量) 
( )( )σ μf N E f
k
N
N E N EN
f k
, ,,
= −
=
∑1 2
1
     (加速度誤差之初始共變異量) 
    σ B ： 加速儀原差之初始共變異量 
 
由於系統取樣週期為20mS，我們取4秒鐘的時間計算初始共變異量，所以N=200。其中
( )P kN E, ， ( )V kN E, ， ( )ϕ k ， ( )ω k 及 ( )f kN E, 分別代表時k刻所計算出的位置，速度、偏航角、角
速度及加速度值；μPN E, ，μVN E, ，μϕ，μω及 μ f N E, 分別為位置、速度、偏航角、角速度及加速
度之N次取樣平均值。 
        在實驗中，我們給定 Rk 後，就可將所有共變異矩陣 P Q Rk k k, , 代入4.4節卡門濾波器
的公式中運算，經每20mS疊代運算一次，即可得最佳卡門增益矩陣 Kk 及INS的狀態誤差估
測值，再以此估測值修正INS，則可得最佳導航解。其Rk設定如下： 
 28
 
圖 15  TMS320 各系列的特有功能及分類示意圖 
TI TMS320C6711 DSK 
C6711DSK(DSP Start Kit)是美商德州儀器所推出的一套，以低價位、容易使用操作的
DSP 發展板，架構在 TMS320C6711 浮點運算處理器上，最高每秒可執行 900 個百萬浮點
運算指令(MFLOPS)。C6711DSK 是以平行並列埠介面，作為與 PC 溝通的一個橋樑，以進
行 DSP 程式的模擬與除錯。C6711DSK 為一塊目標板(target board)，可評估與驗證
TMS320C6711DSP 處理器之特性，與進行軟體測試與硬體發展，以決定是否符合實際開發
需求。TMS320C6711DSK 特色敘述如下:  
（1） 以時脈速為 150MHz 的 C6711 晶片作為處理核心，最高可執行 900 個百萬浮點
運算指令(MFLOPS)。 
（2） 對於外部記憶體介面(EMIF)支援 10OMHz 時脈。 
（3） 板子上具有並列埠控制器(Parallel Port Controller，PPC)，可支援 PC 的標準並
列埠。 
（4） 提供 JTAG 及並列埠兩種傳輸方式，與 PC 作連接。 
（5） 提供兩顆總容量為 16M Bytes 100MHz 時脈的動態存取記憶體(SDRAM) 。 
（6） 提供 128K Byte 的可程式化 Flash 記憶體，並可做清除寫入動作。 
（7） 具有 8 位元的記體體映射空間，可控制板子上的 LED 與 Switch DTP。 
（8） 提供 16 位元之 HPI(Host Port Interface)，可供 HOST 存取 DSP 記憶體資料。 
（9） 兩組 3.5mm 音源接頭，可作為類比的輸入與輸出。 
（10）提供兩組分別為 1.8V 與 3.3V 的直流電源，以供應 C671lDSP 核心電壓與外部
I/O Buffer 使用。 
（11）提供擴充記憶體與周邊連接埠之介面埠。 
（12）具有 TLC32OAD535 類比數位轉換器，提供類比資料的聲音轉換。 
（13）提供四個外部中斷(INT4、INT5、INT6、INT7)，供使用者與外部介面作訊號通
訊及重置設定。 
圖 16 為 C6711DSK 的實際模組示意圖。其中包括了並列埠與 PC 作溝通外，亦可經由
XDS5l0 EMULATOR JTAG 介面，與 PC 作通訊傳輸。並可利用 EMIF (External Memory 
 30
 
圖 17 TI 程式撰寫軟體 
TMS320C6711DSK提供初學者，能快速使用DSP與其既有的周邊。由於其功能齊全，
可使用C語言、組合語言及線性組合語言的執行運作。使用者可靈活且自由撰寫應用程式軟
體，並可外接一些所需求的應用I/O周邊進行系統擴充。同時搭配CCS程式開發平台，以進
行系統模擬與偵錯。整體而言，可簡化DSP程式的發展時間，與提昇除錯的能力。 
4.11 語音辨識技術應用 
1.聲音生成與組合方法 
聲音有母音與子音，就母音的發生來考慮。如圖 18 所示，根據聲帶的振動約週期性產生
聲帶波。此聲帶波變成音源，通過聲道由口向空氣中放射聲音波。聲道為斷面積不一樣的
音響管，大 人的男生約 17cm。此聲道並非常單純化來考慮，形成單側的閉合音響管。此
音響管以某決定的頻率產生 共鳴(共振)現在。其共振的情形如圖 19 由頻率低的方面表示三
個。音速由於約 340 m/s，此三個頻率變成 500Hz、1500 Hz、2500Hz。這種聲道的共振，
專門名詞為語音素 (FORMANT)，共振頻率稱舷語音素頻率，由頻率低的方面，稱第 1 語
音 素、第 2 語音素、.....。 
 32
則會造成取樣失真（Aliasing），一旦取樣失真發生，所得到的聲音取樣值便不能代表原來
的訊號。因此在對語音訊號作取樣時，由於語音的最高頻率不會超過 4000Hz，所以取樣頻
率定在 8000Hz 以上，就保證取樣失真不會發生。 
  取樣頻率的設定對數位化的聲音有很大的影響，在要求高品質的場合，取樣頻率會高出
兩倍原是頻率許多。然而像我們將介紹的語音辨識，只要訊號不失真就可以了。在每個取
樣點上，訊號的振幅大小也被數位化，在麥克風上的訊號是一種細微交流電壓的型態，譬
如說：原始訊號的振幅在-50mv ~50mv 之間變動，數位化的過程就是把電壓轉換成數字大
小，如以-128 代表-50mv，127 代表 50mv，-128~127 中間的數值代表電壓大小，則以線性
（Linear）或是以非線性（Non-Linear）的方式遞增。 
4.語音辨識方法 
  最主要的目的是希望微電腦聽懂人類說話的聲音，進而命令微電腦執行相對應的工作。
當聲音藉由類比到數位的轉換裝置輸入微電腦內部，並以數值方式儲存後，語音辨識程式
便開始已事先儲存好的聲音樣本與輸入的測試聲音樣本進行比對工作。比對完成後由微電
腦集輸入一個它認為最“像＂的聲音樣本序號，進而讓電腦去執行動作。 
5.語音辨識設計 
因此設計一個語音辨識程式，至少又要有兩方面的技術： 
(1)聲音訊號之電腦處理技術 
 這一部份的原理如圖 20 之語音信號編碼及解調電路方塊圖所示，他和語音使用者的聲音
輸入/輸出（I/O）硬體裝置有關，不同的裝置會使這部分的處理程式也不相同，然而處理
聲音 I/O 的基本原理卻差不多。 
(2)聲音比對技術 
   聲音比對原理一直是研究語音辨識的專家學者們急於尋求突破的地方，截至目前為止，
已有不下上千篇的相關論文在尋找這方面的解答。而所謂的語音辨識（Speech 
Recognition）有別於語音辨識（Speech Identification），語音辨識著重的是聲音代表的
意義，而語者辨識是要辨識說話者的身份，兩者各不同的應用範圍，前者可應用於將聲音
轉成文字的場合，而後者可用在門禁系統等。 
 
 
圖 20 語音信號編碼及解調電路方塊圖 
 34
 
圖 21 語音辨識板 
 
圖 22 簡易式聲控車 
(3)數值地圖製作(GIS): 
    交通部鑑於國內缺乏一套由政府流通供應的交通路網數值地圖，因此運輸研究所於89
年6月，著手進行更新前版數值地圖之計畫，並於90年10月完成「新世紀台灣地區交通路網
數值地圖1.0版」。本計劃即是擬運用嵌入式系統，將GPS之定位結果和運研所出版之數值
地圖加以整合，達成即時監控的需求。本文中有建構一套GIS系統，用來顯示載具的位置，
達到即時比對的作用，也增加了複合式系統的應用價值，如圖23所示，並建構一個可以展
示當時路況紀錄的程式，方便修正參數使用，如圖24所示。 
 36
以下將以靜、及動態的實驗，進行其導航性能的分析。 
 (1) GPS/INS 靜態實驗 
實驗地點：光機電整合實驗室樓頂      取樣時間：39.75ms 
    當時的衛星數為 6 顆，天氣良好， GPS/INS 整合部分有加入“卡門濾波器”，進行相關
數學運算。因數學的計算量較大，所以在實際量測時的取樣時間，會比之前 INS 單獨測試
時要長，但 GPS 系統取樣時間仍然維持與之前相同。由於電離層修正的軟體數學計算量較
大，所以系統整合的時間，也會相對應的延遲，如圖 25 可看出 GPS/INS 的靜態整合情形。 
-2980686
-2980684
-2980682
-2980680
-2980678
-2980676
-2980674
1 226 451 676 901 1126 1351 1576 1801 2026 2251 2476 2701 2926 3151 3376 3601 3826 4051 4276 4501 4726 4951
公
尺 X軸
 
4970050
4970055
4970060
4970065
4970070
4970075
4970080
1 228 455 682 909 1136 1363 1590 1817 2044 2271 2498 2725 2952 3179 3406 3633 3860 4087 4314 4541 4768 4995
公
尺 Y軸
 
圖 25  GPS/INS_X 軸、GPS/INS_Y 軸的靜態整合結果示意圖 
 (2) GPS/INS 動態實驗 
實驗地點：中華大學校園內      取樣時間：39.75ms 
    本實驗所做的測試是以汽車在校園中，以平均為 10km/hr 的速度行駛情況。路線由起
始點開始，依序是 A、B、C、D、E、F。在圖 26 上所標示的六個英文字母的位置，均有設
減速的路面凸塊。此次的實驗可與 GPS 動態實驗作相互的比較，圖 29 中，A 點處是一的
大角度的轉彎處，過彎時有脫鎖的現象產生。A 至 B 的路段，有訊號被建築物或樹木遮蔽，
造成 GPS 訊號有跳動飄移的現象，在系統整合之後，如圖 29 所示，不管是在轉彎處，或
是建築物的遮蔽下，在相同的路徑下，系統整合之軌跡是呈現連續的狀況，整合後位置的
誤差約為 3 公尺左右。 
由圖26與圖28相比較，就可發現GPS/INS系統整合的效果，可使整個測試的軌跡成為
連續穩定的狀態。 
 38
0
2
4
6
8
10
1 11 21 31 41 51 61 71 81 91 101 111 121 131 141 151 161 171 181 191 201 211 221 231 241 251 261 271 281 291 301 311
Y(
m)
 
圖 27  INS 位置 X、Y 誤差之共變異量示意圖 
0
2
4
6
8
10
1 11 21 31 41 51 61 71 81 91 101 111 121 131 141 151 161 171 181 191 201 211 221 231 241 251 261 271 281 291 301 311
X(
m/
se
c)
 
0
2
4
6
8
10
1 11 21 31 41 51 61 71 81 91 101 111 121 131 141 151 161 171 181 191 201 211 221 231 241 251 261 271 281 291 301 311
Y(
m/
se
c)
 
圖28  INS速度 xV 、 yV 誤差之共變異量示意圖 
0
2
4
6
8
10
1 12 23 34 45 56 67 78 89 100 111 122 133 144 155 166 177 188 199 210 221 232 243 254 265 276 287 298 309
ψ
(de
g)
 
 40
可供推廣之研發成果資料表 
□ 可申請專利  ; 可技術移轉                                      日期：95 年 8 月 31 日 
國科會補助計畫 
計畫名稱：智慧型聲控汽車導航與通訊系統整合研究 
計畫主持人：林君明         
計畫編號：NSC 94－2213－E－216－004 學門領域：民生用品控制技術
技術/創作名稱 智慧型聲控汽車導航與通訊系統 
發明人/創作人 林君明 
中文： 
本研究的方法是採用數位訊號處理器(Digital Signal Processing，簡
稱 DSP)的 TMS320C6711 DSK 利用 Code Composer Studio(CCS)作
程式開發工具，開發導航系統的軟體程式，植入 TMS320C6711 
DSK。在以降低成本的出發點，利用取 GPS 與 INS 兩系統之所長，
互補其所短，以 GPS 訊息修正 INS 隨時間而累積的誤差，以 INS
的訊息，解決 GPS 訊號脫鎖的問題，並建構一套 GPS/INS 複合式
系統，做一個詳細的研究。做出一低成本而且可靠度高的整合性定
位系統。利用卡門濾波器(Kalman Filter)將 GPS 與 INS 整合在一
起，成為獨立的嵌入式系統，以達成即時(Real-Time)汽車導航的目
的。並利用語音控制板，整合 8051 控制馬達正反轉，完成前近、
後退，停止、左轉、右轉五個動作，製作ㄧ台簡易式聲控車，將導
航系統放置在上面，來模擬智慧型聲控導航系統的建構。 技術說明 
英文： 
The purpose of this research is by using DSP and Kalman Filter 
technology to Inertial Navigation (INS) System, Global Position 
System (GPS) as well as Geographic Information System (GIS) into a 
real-time vehicle navigation .The INS system is consisted by three 
accelerometer as well as three gyro-compass, and aided by GPS with 
loosely-coupled closed-loop structure, such that it can be easily 
implemented with lower order computation requirement and shows the 
result on GIS. 
The loose track condition of GPS for about one minute is also included, 
and which shows that the resulting system can also provide navigation 
information. Combine 8051 and control the motor to imitate the 
constructing of the intelligent voice control navigation system. 
可利用之產業 
及 
可開發之產品 
1.汽車導航定位： 
市面上車用導航產品皆以GPS為主，所以有整合INS系統與卡門濾
波器，可提升市面上車用導航GPS脫鎖，系統還是能短時間導航，
GPS/INS/GIS/DSP整合導航系統軟體畫面應用，圖形化介面方便使
