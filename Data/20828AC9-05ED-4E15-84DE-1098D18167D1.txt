 2
例如系統的動態模式假設完全已知、假設所
有狀態變數皆為可回授利用等。因此，發展
改善的控制技術解決這些限制是值得探討的
課題。 
本計畫分為多年多階段執行，本年度考
慮可以 Euler-Lagrange 系統表示機電整合系
統的強健追蹤控制設計。針對受外在雜訊干
擾及設備不確定之以直流馬達驅動的機械臂
系統，設計混合式適應強健追蹤控制器，使
得整個閉迴路系統滿足預先指定之暫態及穩
態性能指標；亦即所設計之控制法則可使閉
迴路系統的誤差滿足有界的及 UUB 等控制
特性。在此，吾人將針對具有不同特性之未
知動態，依序設計不同的追蹤控制器，如 i)
假設機械動態及電樞動態為完全未知之函
數，建構以類神經網路(或以模糊邏輯)為基
礎的適應強健軌跡追蹤控制器；或 ii)假設機
械動態及電樞動態的架構為已知的，建構古
典的適應強健軌跡追蹤控制器。再者，針對
電感值為完全未知的常數矩陣或假設電感值
能被表示成一個已知的常態部分加上一個小
的擾動，建構適當的追蹤控制器。最後，利
用電腦模擬結果，驗證所設計之混合式適應
強健控制法則。 
 
二、物理系統的動態模式與問題描述 
2.1、Euler-Lagrange 系統的動態模式 
考慮以 Euler-Lagrange 方程式表示具有
n維自由度的動態系統[14] 
Qqq
q
Lqq
q
L
dt
d =∂
∂−⎟⎟⎠
⎞
⎜⎜⎝
⎛
∂
∂ ),(),( &&&&         (1) 
其中 nRq∈ ：廣義座標， nRQ∈ ：外在力量，
Lagrangian 函數 )().(),( qVqqTqqL −≡ && with 
).( qqT & ：動能函數， )(qV ：位能函數。在此，
假設 ).( qqT & 能夠表示為 
qqDqqqT T &&& )(
2
1).( =                (2) 
其 中 nnRqD ×∈)( ： 廣 義 轉 動 慣 量 with 
0)()( >= qDqD T 。外在力量 nRQ∈ 能表示為 
uqMdq
q
FQ )()( ++∂
∂−= &&           (3) 
其中 )(qM ：輸入比重矩陣，u：控制向量，
d：外在干擾， )(q
q
F &&∂
∂− ：dissipative forces 
satisfying 0)( ≥∂
∂ q
q
FqT &&& 。將 (3) 代入 (1) ，
Euler-Lagrange 方程式能夠進一步表示為 
duqMq
q
Fqq
q
Lqq
q
L
dt
d +=∂
∂+∂
∂−⎟⎟⎠
⎞
⎜⎜⎝
⎛
∂
∂ )()(),(),( &&&&&&  
(4) 
Euler-Lagrange 系統[14]：Euler-Lagrange 方
程 式 (4) with ),().(),( qVqqTqqL −≡ &&  
,)(
2
1),( qqDqqqT T &&& = 0)( ≥∂
∂ q
q
FqT &&& that is 
characterized by Euler-Lagrange parameter：
{ } ),(),(),(),,( dqMqFqVqqT && 。□ 
方程式(4)所表示的 Euler-Lagrange 系統
包含非常廣泛的非線性系統。許多工業中常
見的物理系統，如機械臂系統、電機系統及
機電整合系統等等，皆可表示成此類非線性
多變數系統的型式。 
本年度計畫探討可以 Euler-Lagrange 系
統表示的機電整合系統的強建控制設計，如
以直流馬達驅動之機械臂系統等。 
 
2.2、機電整合系統的動態模式 
根據 Lagrange 定理[1,14]，以直流馬達驅
動之機電整合系統的動態方程式能夠表示為 
1),(),()( dqqGqqqCqqM +=++ τ&&&&&   (5) 
2dvqKRIIL B +=++ &&   (6) 
IKT=τ   (7) 
方程式 (5) 代表動態機械子系統，其中
nRq∈ ：相角位置， nRq∈& ：相角速度，
nnRqM ×∈)( ：轉動慣量， qqqC &&),( ：向心力
及 Coriolis 力，
q
qFq
q
VqqG &
&& ∂
∂+∂
∂≡ )()(),( ：地
心引力與摩擦力， nR∈τ ：驅動轉矩， 1d ：
外在干擾；方程式(6)代表動態電路子系統，
其中 nRI ∈ ：電樞電流，R：電阻值，L：電
感值， BK ：馬達之反電動勢常數， nRv∈ ：
輸入電壓， 2d ：外在干擾；方程式(7)代表電
樞電流與驅動轉矩之關係，其中 TK ：轉換常
數。如圖一所示為以直流馬達驅動之兩軸機
械臂系統。 
 
 4
其中 01 >k 為任意的控制增益， 2xˆ 表示下列
動態高通濾波器的輸出: 
ηη 01200 )( kxkpk −−=&   (18) 
102
ˆ xkx +=η   (19) 
令 )(ˆ)()( 222 txtxte −≡ ，則吾人可求得 ),(2 tx  
)(2 te 及 )(3 tx 的動態方程式 
132
1
1
1
221122
ˆ)(           
ˆ~           
0
0
dxKxKKIk
YKKY
FxFxFxCxM
TTT
MMTTMM
d
++Δ+−
ΘΔ+Θ+
Δ−−−−=
−
−
&
(20) 
201
32
1
1
1
221122
          
ˆ)(          
ˆ~          
0
0
eMkd
xKxKKIk
YKKY
FxFxFxCeM
TTT
MMTTMM
d
−+
+Δ+−
ΘΔ+Θ+
Δ−−−−=
−
−
&
 (21) 
              22
1
10
3
0
dveLKkk
fYxL
T
EE
+++
Δ−Θ−=
−
&
  (22) 
其中 ,ˆ~ *MMM Θ−Θ=Θ TnTIE LL ][ 1* LΘ≡Θ 及
MMTMMTIIEE YLKYLKYY Θ+Θ+Θ=Θ −− && ˆˆ 11* 00 。 
定義誤差向量 ,~,,,,[ 3221 TMTTTTe xexxx Θ=  
TT
E ]
~Θ 其中 EEE Θ−Θ=Θ ˆ~ 。為了推導控制器，
吾人選擇 Lyapunov 函數為： 
 ~~
2
1~~
2
1
2
              
2
1
2
1
2
),(
21
332
1
222211
E
T
EM
T
M
T
TTT
e
xLx
k
eMexMxxxxtV
ΘΘγ+ΘΘγ+
β+
++α=
   (23) 
其中 0,0 >β>α 為任意正的常數， ,01 >γ  
02 >γ 為適應增益。 
以下定理提出一個以類神經網路(或以
模糊邏輯)為基礎的動態回授追蹤控制器來
解決具有設備不確定及外在雜訊干擾之機電
整合系統的運動軌跡追蹤控制問題。  
定理 3.1：考慮受外在雜訊干擾且設備不確定
之以直流馬達驅動的機械臂系統 (5)-(7) 
with ),0[1 ∞∈ ∞Ld 及 ),0[2 ∞∈ ∞Ld 。給定一個
設定的追蹤參考軌跡 )(tqd ，假設條件 3.1-3.4
成立。建構一個以類神經網路(或以模糊邏輯)
為基礎的動態回授追蹤控制器為 
),ˆ(Projˆ 1 MMM DΘγ−=Θ&   (24) 
),ˆ(Projˆ 2
1
2
EEE Dk
Θβγ−=Θ&   (25) 
32
ˆ xkYv EE −Θ=    (26) 
其中 )ˆ2( 22 xxYD TMM −= 及 3xYD TEE = 。那麼 for 
all bounded initial conditions，存在 a choice of 
gains 10 ,, kkp 及 2k ，使得 i)閉迴路機電整合系
統的所有變數都是有界的; ii)追蹤誤差達到
UUB 的性能指標。□ 
若機電系統之未知動態函數之架構
(structure)為完全已知，則定理 3.1 所推得的
控制器可簡化為一古典的適應追蹤控制器。 
假設  3.5：機械系統之動態函數 , )(qM  
),,( qqC &  ),( qqG & 可被線性參數化。根據線性
參數化特性 ),,( dddd qqqF &&& 可被表示為 
)()()( * deddedded qFqYqF Δ+Θ=    (27) 
其中 )(⋅dY ：已知的迴歸矩陣， *dΘ ：未知常數
向量， )(⋅Δ dF 為不可被線性參數化的部份。□ 
假設 3.6：定義未確定函數 *),(),( ff qIYqIf Θ= &&  
),( qIf &Δ+ 其中 ,),( * qKRIqIY Bff && +≡Θ  [* ≡Θ f  
,]11
T
bnbn KKRR LL )(⋅fY ：已知的迴歸矩陣，
)(⋅Δf 為不可被線性參數化的部份。□ 
令 ),()( ⋅=⋅ dM YY ,** dM Θ=Θ ),()( ⋅=⋅ fI YY  
,** fI Θ=Θ bnbnE KKRR LL 11[≡Θ TnLL ]1L ，則
定理 3.1 所推得的控制器可簡化為一個古典
的適應追蹤控制器。 
推理 3.2：考慮受外在雜訊干擾且設備不確定
之以直流馬達驅動的機械臂系統(5)-(7)。給定
一個設定的追蹤參考軌跡 )(tqd ，假設條件
3.2,3.3,3.5,3.6 成立。建構一個古典的適應追
蹤控制器為 
),ˆ(Projˆ 1 ddd DΘγ−=Θ&   (28) 
),ˆ(Projˆ 2
1
2
EEE Dk
Θβγ−=Θ&  (29) 
32
ˆ xkYv EE −Θ=    (30) 
那麼 for all bounded initial conditions，存在 a 
choice of gains 10 ,, kkp 及 2k，使得 i)閉迴路機
電整合系統的所有變數都是有界的; ii)追蹤
誤差達到 UUB 的性能指標。□ 
在上述的分析中，電感值 L是被假設為
完全未知的常數矩陣，然而在實際的系統，
電感值可能會隨著元件的老化或因溫度的影
響而變化。接下來的分析，吾人假設電感值
能被表示成一個已知的常態部分加上一個小
 6
for all bounded initial conditions，存在 a choice 
of gains ,p ,0k ,1k 及 2k ，使得 i)閉迴路機電整
合系統的所有變數都是有界的; ii)追蹤誤差
達到 UUB 的性能指標。□ 
 
3.2、模擬例子 
考慮如圖一所示之兩軸機電整合系統。
方程式(5)-(7)之參數值為 ,)[()( 2121 lmmqM +=  
],),();( 22221212122121212 lmccssllmccssllm ++  
],0,;,0)[(),( 122121212 qqcsscllmqqC &&& −−−=  
,],)[()( 2221121
TgslmgslmmqG +−=  
],,0;0,[),( 22221111 qKIRqKIRqIf bb &&& ++=
],,0;0,[ 21 ttT KKK = ],,0;0,[ 21 LLL =
,],[ 21
Tqqq = ,],[ 21 Tττ=τ ,],[ 21 TIII =
,],[ 21
Tvvv = 11 cosqc = ,sin 11 qs = ,cos 22 qc =
22 sin qs = 。 
為了模擬方便，取 ),(2),(1 21 kgmkgm ==  
)/(8.9),(8.0),(6.0 221 smgmlml === ,  =1R  
),(52 Ω=R ),(25.021 HLL == == 21 bb KK  
),/(9.0 AmN ⋅ )./(9.021 AmNKK tt ⋅== 假 設
1m 及 2m 受 干 擾 by tm 2 sin1.01 =Δ 及
tm 2 cos15.02 =Δ ； 1L 及 2L 受干擾 by =Δ 1L  
t2cos02.0 及 tL 2sin02.02 =Δ ； 1tK 及 2tK 受干
擾 by tKt 2 sin05.01 =Δ 及 tKt 2cos05.02 =Δ ；外
在干擾 ]5.1;1[1 =d for 20 <≤ t  and [1 =d  
)]5/)2(exp(5.1);10/)2(exp( −−−− tt for 2≥t ; 
12 dd −= 。 
選 擇 desired functions ),sin()(1 ttqd =  
)cos()(2 ttqd = 。首先，建構類神經網路系統
)ˆ,(ˆ MdeM qF Θ 。選擇 activation functions  
5.05.0
5.05.0
211
11
1 , +−−
+−−
+−−
+−−
+
−=+
−=
idid
idid
idid
idid
qq
qq
miqq
qq
mi ee
eey
ee
eey  
5.05.0
5.05.0
43 , −−+
−−+
−
−
+
−=+
−=
idid
idid
idid
idid
qq
qq
miqq
qq
mi ee
eey
ee
eey  
2,1,11
11
5 =+
−= −−+
−−+
i
ee
eey
idid
idid
qq
qq
mi  
定 義 ,,,,,[ 222115121121 mmmmmMM yyyyyYY ⋅⋅⋅≡=  
]25my⋅⋅⋅ 。因此，有關於未確定函數 )( deM qF 的
類神經網路近似器 )ˆ,(ˆ MdeM qF Θ 能夠表示為
MdeMMdeM qYqF Θ=Θ ˆ)()ˆ,(ˆ with ,[ 1MM YdiagY ≡   
],2MY ,ˆ,ˆ,ˆ,,ˆ,ˆ,ˆ[ˆ 2221110191211 mmmmmmM θθθθ⋅⋅⋅θθ≡Θ
T
mm ]ˆ,ˆ 21029 θθ⋅⋅⋅ 。 
再者，建構類神經網路系統 )ˆ,,(ˆ II qIF Θ&
來近似未確定函數 ),(1 qIfL &− 。選擇 activation 
functions 
5.05.0
5.05.0
211
11
1 , +−−
+−−
+−−
+−−
+
−=+
−=
ii
ii
ii
ii
qq
qq
Iiqq
qq
Ii ee
eey
ee
eey &&
&&
&&
&&
 
5.05.0
5.05.0
43 , −−+
−−+
−
−
+
−=+
−=
ii
ii
ii
ii
qq
qq
Iiqq
qq
Ii ee
eey
ee
eey &&
&&
&&
&&
 
2,1,11
11
5 =+
−= −−+
−−+
i
ee
eey
ii
ii
qq
qq
Ii &&
&&
 
55
55
21010
1010
1 , +−−
+−−
+−−
+−−
+
−=+
−=
ii
ii
ii
ii
II
II
JiII
II
Ji ee
eey
ee
eey  
55
55
43 , −−+
−−+
−
−
+
−=+
−=
ii
ii
ii
ii
II
II
JiII
II
Ji ee
eey
ee
eey  
2,1,1010
1010
5 =+
−= −−+
−−+
i
ee
eey
ii
ii
II
II
Ji  
定 義 L,,,,,[ 112521151121 JIIIIII yyyyyYY ⋅⋅⋅⋅⋅⋅≡=  
],, 252115 JJJ yyy ⋅⋅⋅ 。因此，類神經網路近似器
IIII qIYqIF Θ=Θ ˆ),()ˆ,,(ˆ && 其中 ],,[ 21 III YYdiagY ≡  
,ˆ,ˆ,ˆ,ˆ,,ˆ,ˆ,ˆ[ˆ 21922211201191211 IIIIIIIM θ⋅⋅⋅θθθθ⋅⋅⋅θθ≡Θ  
T
I ]ˆ 220θ 。 
建構以類神經網路為基礎的適應狀態回
授追蹤控制器(34)-(37) with ,2=p ,400 =k  
,301 =k ,502 =k ,1=β ,101 =γ ,102 =γ ,1.0=δ
,1=a ,12.0=εkt ,25.0=εl 5.0=ε fi 。設定初值
狀態 ,0)0(1 =q ,0)0(2 =q ,0)0(1 =q& ,1)0(2 =q&  
,0)0(1 =I ,0)0(2 =I ,]40,0[)0( T=η ,0)0(ˆ =ΘM
0)0(ˆ =ΘI 。為了說明適應類神經網路近似器
的功效，吾人亦做了下列比較模擬：適應類
神 經 網 路 近 似 器 is switched ， 亦 即
)( 320 suxkLv +−= 。模擬的結果 show 於圖三 
(with neural network system：實線；without 
fuzzy system：虛線)。由此模擬結果得知所推
導的控制器可達到滿意的追蹤性能。 
 
四、結論 
本計畫針對 Euler-Lagrange 系統，在設
備不確定、未模式擾動及外在雜訊干擾的情
況下，探討強健追蹤控制問題。本計畫分為
多年多階段執行，逐年探討機械系統、電機
系統及機電整合系統等的控制問題。在本年
 8
Technology, pp. 118-129, 2007. 
 
六、計畫成果自評 
在本年度計畫中吾人考慮可以 Euler- 
Lagrange 系統表示之機電整合系統的強健控
制設計，完成的具體成果與原計畫預計目標
原則上大致相符，說明如下： 
a、處理及分析複雜但完整的機電系統(包括
機械子系統及電路子系統)，使所提出的控
制法則具有更寬廣的實務應用空間。 
b、利用 integrator backstepping technique 解決
因為考慮電樞動態方程式所造成之機電系
統的自由度大於控制輸入數目的問題。 
c、設計具有適應法則的類神經網路(或模糊
邏輯)系統，同時學習並近似未知的機械動
態及電樞動態之行為。 
d、利用 VSS 強健控制法則分析並補償因系
統參數的不確定所產生之影響。 
e、比較於先前文獻已發展有關以直流馬達驅
動的機械臂系統的強健追蹤控制策略，本
計畫所發展的控制法則具有更寬廣的應用
空間的特點。 
f、利用電腦模擬結果，驗證所設計之混合式
適應強健控制法則。 
 
在學術理論上，本計畫的研究成果在複
雜的 Euler-Lagrange 系統之控制上為新的創
見及成就。建構以類神經網路(或以模糊邏輯)
為基礎的智慧型混合式適應強健追蹤控制器
並同時補償因設備不確定、未模式擾動及外
在雜訊干擾所產生的影響，故所發展的控制
策略具有非常寬廣的應用空間。我們預期研
究成果將可分成數篇論文發表在國際性期刊
上。在國家發展及其它應用方面，本計畫旨
在設計出智慧型 hybrid adaptive/robust 控制
器，藉助電腦模擬之驗證，我們期能將所發
展之控制法則能實際應用於實務機電控制系
統，修正及改善性能以使其其能符合產業的
需要；提昇相關產品的品質與性能，增加其
在國際上的競爭力，間接地促進經濟的繁榮
與發展。 
 
 
 
 
 
圖二：適應類神經網路(或以模糊邏輯)VSS 動態回授追蹤控制系統架構圖 
 
