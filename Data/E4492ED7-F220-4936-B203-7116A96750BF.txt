 LED 並透過 DPWM 控制器做可調光之功能，系統架
構圖如圖 3、圖 4 所示。並且只需要 3（V）即可同
時讓多顆高亮度白光 LED 點亮，達到照明的效果。
輸入電源透過了升壓電路將其放大到我們所需要的
電壓，且輸出電壓可由 DPWM 控制器控制其 Duty 
Cycle 大小來改變高亮度白光 LED 之亮度。我們把方
波所產生的週期定為 D，它與輸入電壓（Vi）及輸出
電壓（Vo）會產生一比值關係示為 
Vi
D
Vo 


1
1                           （1） 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
圖 3. 系統架構 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
圖 4. 系統電路 
 
 
四、研究方法與步驟 
 
A、類比電路: 
升壓電路我們使用了二極體、電感、電容與電阻
來做充放電儲存電量，且透過 MOS 來做為其充放電
之開關，並在後端加上一負載電阻及一可變電阻來限
制電流的大小。一開始我們先使用NE555P震盪器（或
是訊號產生器）來產生一個週期性方波訊號，藉由兩
個電阻的阻值匹配，改變其可變電阻之阻值，來調整
頻率及 Duty Cycle 值，可將電壓升 2 至 3 倍。而當與
回授的數位電路相接時，再透過 ADC 將訊號的轉
換，把 DPWM 所輸出的 Duty Cycle，回授至 MOS 
DRIVER 上面提供給 MOS 做升壓，來取代我們原先
所使用的 NE555P 震盪器（或訊號產生器），以達到
完整電路之功能。 
 
B、數位電路: 
數位脈波寬度調變控制器我們使用 FPGA 的功
能來實現之，我們將透過 DPWM 控制器，可用手動
控制 3 段光源，且亦可選擇做亮度回授補光之動作。
透過 Verilog 程式寫法，知道架構先從 4 bit 的除頻器
著手開始做，寫完程式便將其波形圖模擬以求正確。
開始撰寫整個 DPWM 的功能，要具有預設清除能
力，所以在 D 型正反器外加一個 NAND 閘來達到此
功能。波形模擬都正確無誤後，加入控制部分，利用
硬體電路分別量測出 16 段光的亮度，再以肉眼能區
隔的亮度，選出由 DPWM 驅動的 3 段光源，並且紀
錄 ADC 轉出來後的數位值，並將 ADC 輸出的數位值
存放在 Verilog Code 之 Ram 中，利用控制部分告知
將何時把資料寫入，再透過 Table 查表的方式去選擇
何時輸出按鍵 A、B、C 值，或是進行 ADC 回授值與
輸出亮度電壓值比對，若值不相同，則進行比對調整
電壓，若回授值與輸出電壓值相同，則不再進行回授
調整電壓。將其模擬完正確後，將此電路利用 FPGA
的方式，將其程式燒錄至 CPLD 模組中，如圖 5 所示，
測試數位電路是否能回授調光，能否接受按鍵值正確
輸出。 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
圖 5. CPLD 模擬板 
 
 
五、電路設計  
A、類比電路設計: 
類比電路主要的設計為升壓電路的部份，我們先
以 NE555P 震盪器來產生一個週期性方波訊號，此訊
號為提供 CMOS 開關動作的一重要訊號，藉由兩個
電阻的阻值匹配，改變其可變電阻之阻值，可用來調
整頻率及 Duty Cycle 值，可將電壓升 2 至 3 倍。升壓
電路另一個重要的部份是由 2N7000 或 IRF630（差別
在於耐壓與耐電流的大小）所做成的 CMOS 開關，
並在後端接上 MOS 驅動 IC 加強訊號的穩定性與強
度，來使 CMOS 產生開與關的動作。 
升壓電路的最後一部份，我們為了控制不讓輸出
電流過大所設計了一限流裝置。在升壓的過程中，隨
著 Duty Cycle 的改變，經由升壓電路所產生電流的大
小也會隨之改變，我們為了不讓電路因產生之電流過
大而造成內部電子元件的燒毀，加裝了一限流可變電
阻 100 （KΩ）及一負載電阻 830（KΩ），將電流分
別分給兩個電阻。電阻值愈大，所流過的電流愈大，
其輸出的電壓就愈大，因此白光 LED 的亮度也就會
愈亮。加裝此限流裝置之目的是為了不讓電路產生過
大之電流因而造成內部電子元件的燒毀，使其電路失
去其原有的功效。 
B、數位電路設計: 
數位電路主要的設計為 DPWM 控制器的部份，
Ze
on
 P
DF
 D
riv
er
 T
ria
l
ww
w.
ze
on
.co
m.
tw
 0/16 0V 
1/16 9.4 V 
2/16 9.65 V 
3/16、4/16 9.75 V 
5/16、6/16、7/16 9.8 V 
8/16 9.85 V 
9/16 9.8 V 
A/16 9.75 V 
B/16 9.6 V 
C/16 9.4 V 
D/16 9.15 V 
E/16 8.6 V 
F/16 8.2 V 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
圖 9. Protel PCB Layout 佈線圖 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
  
圖 10. 雕刻電路板（正面、反面） 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
圖 11. DPWM 控制器 Duty Cycle 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
圖 12. A、B、C 按鍵值輸出波形 
 
    4bit DPWM 控制器電路，D0~D3 訊號隨著 CK
而輸入為 0001（1），經過了一個週期 16 個 CK 後，
Q 輸出 Duty Cycle 為 1/16，而 D0~D3 訊號隨著 CK
而輸入為 1000（8），經過了一個週期 16 個 CK 後，
Q 輸出 Duty Cycle 為 8/16，而 D0~D3 訊號隨著 CK
而輸入為 1111（F），經過了一個週期 16 個 CK 後，
Q 輸出 Duty Cycle 為 F/16，以此類推，由圖 11 所示。 
    接著，我們也藉由肉眼可區分出來所做的三段
光，分別是使用 Duty Cycle E、Duty Cycle C 及 Duty 
Cycle 8 三段，來分別做為我們可供選擇之 A、B、C
三段不同亮度之光源。其中，A 選擇的為最暗光、B
選擇的為亮光、C 選擇的為最亮光,，我們可透過圖
12 得知。 
而我們也得知三段 Duty Cycle 分別逶過 ADC 所
轉出之值。選擇 A 時，Duty Cycle 為 E，ADC 所轉出 
 
 
Ze
on
 P
DF
 D
riv
er
 T
ria
l
ww
w.
ze
on
.co
m.
tw
 減弱，如圖 16 所示。此時，我們使用電路之補光功
能，可以發現，電壓回升至 9.35（V），LED 亮度也
回升，如圖 17 所示。 
    本控制電路主要目的是針對目前熱門的白光驅
動電路，使用升壓電路將電源 3V 升壓到足夠提供給
多顆白光 LED 點亮，並透過 DPWM 控制器使用
FPGA 的方式來產生週期性方波，進而用此方波來控
制 CMOS 開與關的動作，配合其升壓電路所產生充
放電的效果以達到升壓的功能，並由 DPWM 控制器
所產生之不同週期性之方波，對白光 LED 做調光之 
調整功能；並且能夠利用 DPWM 控制器作回授，調
整輸入電源，來達成補光之功能。在此次的控制電路
製作中，我們透過電源供應器來當作其輸入電源，並
使用一訊號產生器來幫助 CPLD 晶片產生時序。此次
製作的電路，可測試之輸入電壓為 3.0（V）至 3.6
（V），透過升壓電路提升 2 至 3 倍的電壓來驅動白
光 LED，並採用六顆高亮度白光 LED 並聯的方式來
實作。 
 
七、計畫成果自評 
 
1.本計畫達成之工作項目： 
(1)採行切換式電容電感諧振架構，設計一具寬幅輸
入電壓範圍之升壓調整能力的直流-直流電源轉換
器，以提供 WLED 驅動之用。 
(2)利用 CPLD 進行數位化的脈波寬度調變控制器
DPWM 的實現製作，進而達成一閉迴路的電源升
壓轉換電路，以驅動 WLED，並即時有效地因應
外來不測因素的干擾，如電池電壓下降、負載瞬
間跳動…等(具補光修正功能)。 
 
2.計畫完成之貢獻： 
(1)在學術研究方面，本計劃完成一切換式電容電感
諧振架構之升壓型 DC-DC 轉換器之光驅動雛型晶
片設計工作，其主要目標在進行 DC-DC 升壓轉
換，以驅動白光二極體(WLED)。其中還利用 CPLD
進行數位脈波寬度調變控制器 DPWM 的設計實
作，進而達成一閉迴路的電源升壓轉換電路，以
驅動 WLED，並即時有效地因應外來不測因素的
干擾，達成補光修正功能。 
(2)在實際應用方面，本計畫研發一套升壓型 DC-DC
轉換電路雙用架構，如此可以提供做為未來晶片
實作時的理論與原型設計之基礎，藉以提升產學
界對電源轉換系統晶片開發之興趣與技術水準，
並強化可攜式電子產品之競爭力。 
(3)本計畫待將研究結果，撰寫論文投稿期刊或研討
會發表(目前已將部份結果發表於[6])。 
 
3.參與本計畫之人員獲致之訓練： 
(1)電路系統的分析與設計。 
(2)可攜式電源系統的理論相關之研究。 
(3)對於參予計畫之工作人員，除了可以提升並訓練
其對 I.C. design & simulation、元件電性理論分析、
元件製程與佈局設計、元件電性萃取與驗証之能
力外，還可增加其對電源轉換電路佈局設計、晶
片系統整合之開發能力…等，培植國家未來 I.C.
設計產業之基礎人才。 
 
八、參考文獻 
[1] 林灶生、劉紹漢 編著 Verilog FPGA 晶片設計，全華
科技圖書股份有限公司。 
[2] 鄭信源 編著 Verilog 硬體描述語言數位電路設計實
務，儒林圖書。 
[3] 鍾明政、吳金勇 編著 XILINX FPGA 數位邏輯設計，
長高電腦圖書。 
[4] 宗朝宗、許佳傑，”切換式電壓轉換電路數位脈波調變
控制器之實現”，中華大學碩士論文，2004 年 7 月。 
[5] Benjamin J. Patella, Aleksandar Prodic, Art Zirger, Dragan 
Maksimovic, “High-Frequency Digital PWM Controller 
IC for DC-DC Converters,” IEEE Transactions on Power 
Electronics, Vol. 18, No.1, January 2003. 
[6] Yuen-Haw Chang and Ting-Chieh Chen, “FPGA-Based 
Digital PWM Controller for Step-Up White LED 
Regulation,” 2006 Taiwan Power Electronics Conference 
& Exhibition, Sept. 2006. 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Ze
on
 P
DF
 D
riv
er
 T
ria
l
ww
w.
ze
on
.co
m.
tw
