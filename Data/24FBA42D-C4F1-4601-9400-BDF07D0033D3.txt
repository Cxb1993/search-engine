二維的馬可夫鏈（Two Dimensional Markov Chain）的數學分析來探討協力式通訊於網路
吞吐量的表現。在媒介接取控制的考量下，適當地找尋協力式通訊的使用時機。基於此模
式的思考，本研究團隊提出兩個可針對通訊環境變化而適應性的選擇應採取傳統點對點通
訊系統或協力式通訊技術。全通訊頻道狀態標協力式(Full-CSI based Cooperative, FCC)協
定利用完整的通訊頻道訊息來決定中繼點選擇及要採取那一種傳輸技術。但其所造成的通
訊負擔會跟隨中繼點數量增加而上升。因此，本研究團隊提出位元競爭式協力式(Bitwise 
Competition based Cooperative, BCC)協定來有效率的決定適當的中繼點來做為資料傳輸。
依據模擬結果顯示出本研究團隊提出 BCC 協定優於傳統點對點通訊，可有效率地增加網
路整體傳輸的吞吐量。 
 
 
 
 
 
 
 
 
 
Abstract 
 
Recent studies have been conducted to indicate the ineffective usage of licensed bands due to 
static spectrum allocation. In order to improve spectrum utilization, cognitive radio (CR) is 
therefore suggested to dynamically exploit the opportunistic primary frequency spectrums. How to 
provide efficient spectrum handoff has been considered a crucial issue in the CR networks. Existing 
spectrum handoff algorithms assume that all the channels can be correctly sensed by the CR users 
in order to perform appropriate spectrum handoff process. However, this assumption is impractical 
since excessive time will be required for the CR user to sense the entire spectrum space. In this 
paper, the partially observable Markov decision process (POMDP) is applied to estimate the 
network information by partially sensing the frequency spectrums. A POMDP-based spectrum 
handoff (POSH) scheme is proposed to determine the optimal target channel for spectrum handoff 
according to the partially observable channel state information. Moreover, a POMDP-based 
multi-user spectrum handoff (M-POSH) protocol is proposed to exploit the POMDP policy into 
multi-user CR networks by distributing CR users to frequency spectrums opportunistically. By 
adopting the policies resulted from the POSH and M-POSH algorithms for target channel selection, 
minimal waiting time at each occurrence of spectrum handoff can be achieved. Numerical results 
illustrate that the proposed spectrum handoff protocols can effectively minimize the required 
waiting time for spectrum handoff in the CR networks. 
 
On the other hand, cooperative communication has been developed as a new communication 
strategy that incorporates a relay node to assist direct point-to-point transmission. By exploiting 
cooperative diversity, different types of techniques have been proposed to improve transmission 
1Stochastic Spectrum Handoff Protocols for Partially
Observable Cognitive Radio Networks
Rui-Ting Ma, Jui-Hung Chu, Kai-Ten Feng, and Li-Chun Wang
Department of Electrical Engineering
National Chiao Tung University
Hsinchu, Taiwan
{scotie.cm96g, churh.cm98g}@nctu.edu.tw, ktfeng@mail.nctu.edu.tw, and lichun@cc.nctu.edu.tw
Abstract
Recent studies have been conducted to indicate the ineffective usage of licensed bands due to
static spectrum allocation. In order to improve spectrum utilization, cognitive radio (CR) is therefore
suggested to dynamically exploit the opportunistic primary frequency spectrums. How to provide efficient
spectrum handoff has been considered a crucial issue in the CR networks. Existing spectrum handoff
algorithms assume that all the channels can be correctly sensed by the CR users in order to perform
appropriate spectrum handoff process. However, this assumption is impractical since excessive time will
be required for the CR user to sense the entire spectrum space. In this paper, the partially observable
Markov decision process (POMDP) is applied to estimate the network information by partially sensing
the frequency spectrums. A POMDP-based spectrum handoff (POSH) scheme is proposed to determine
the optimal target channel for spectrum handoff according to the partially observable channel state
information. Moreover, a POMDP-based multi-user spectrum handoff (M-POSH) protocol is proposed to
exploit the POMDP policy into multi-user CR networks by distributing CR users to frequency spectrums
opportunistically. By adopting the policies resulted from the POSH and M-POSH algorithms for target
channel selection, minimal waiting time at each occurrence of spectrum handoff can be achieved.
Numerical results illustrate that the proposed spectrum handoff protocols can effectively minimize the
required waiting time for spectrum handoff in the CR networks.
Keywords: Cognitive radio, partially observable Markov decision process (POMDP), spectrum handoff, channel
selection.
3the time for spectrum handoff. As a result, the performance of pre-sensing strategies can not be
guaranteed especially under fast-fading channel environments.
On the other hand, the post-sensing techniques is implemented while the secondary user is
forced to terminate its transmission by the primary user. The CR user will start to sense the
spectrum in order to verify if there are available channels that can be accessed and consequently
becomes its target channel. Compared to the pre-sensing approaches, a more feasible and accurate
channel can be selected by exploiting the post-sensing schemes since the target channel is
determined at the time while the secondary user is interrupted. Nevertheless, the post-sensing
methods in general require excessive time in spectrum sensing, especially under crowded network
traffic. This situation is not permissible in spectrum handoff since the allowable time duration is
considered limited for the CR user to vacate its current channel for the primary user. Furthermore,
it is assumed in most of the existing pre-sensing and post-sensing strategies that all the channels
within the network can be correctly sensed, which is not realistic in practice. In other words,
the transition probabilities of all the channel states are not always available to the CR users
within the network. The algorithm in [13] was proposed to estimate the transition probability by
adopting the maximum likelihood function. However, the converging speed for the estimation
algorithm becomes intolerably slow under small value of transition probability.
In this paper, without the necessity of obtaining all the correct channel information, the
partially observable Markov decision process (POMDP) [14–17] is utilized to reveal the network
information by partially sensing the available frequency channels. A POMDP-based spectrum
handoff (POSH) mechanism is proposed as a post-sensing strategy in order to acquire the policy
such that optimal channel can be obtained with the minimal waiting time at each occurrence of
spectrum handoff. The transition probabilities for the channel states are derived in this paper by
considering the channel as an M/G/1 system with given packet arrival rate and service rate. In
order to observe the behavior of spectrum handoff, analytical models for the proposed POSH
protocol and other existing channel selection schemes are derived, validated, and compared via
simulations. Furthermore, practical considerations on the required phases for channel selection
is also discussed and compared between the spectrum handoff schemes. It is demonstrated
via simulations that reduced waiting time can be obtained from the proposed POSH protocol
comparing with other existing schemes.
Furthermore, multiple CR users can exist concurrently and access the licensed spectrums in a
5the entire state space at the kth time slot. Considering the realistic case that not all the current
states are obtainable, the partially observable Markov decision process (POMDP) [14] is utilized
to determine the decision policy based on the partially available information and the observations
from external environment. The schematic diagram of POMDP framework is illustrated in Fig. 1.
In general, optimization techniques are exploited in order to obtain the solution for the POMDP-
based problem.
A. Observation
Since not all the states are directly observable within the POMDP setting, a set of observations
zk ∈ Zk is essential to provide an indication about which state the environment should be located.
The observations can be considered with probabilistic nature, where an observation function o
is defined as a probability distribution over all possible observations zk for each action ak and
resulting states sk+1, i.e.
o(sk+1, ak, zk) = Pr(zk|ak, sk+1) (1)
∀zk ∈ Zk, ak ∈ Ak, sk+1 ∈ Sk+1 where Ak stands for the action set at the kth time slot. The
parameter ak denotes the action chosen by the POMDP formulation and sk+1 is the resulting
state after executing action ak. Considering the MDP case, a policy is determined to map from
the current state to the corresponding action since the present state of MDP is fully observable.
On the other hand, the POMDP can only map from the latest observation to the corresponding
action (as shown in Fig. 1), which is considered insufficient to represent the history of the
process. Therefore, the belief state is utilized to reveal the statistic distribution of current state
information, which will be explained in the next subsection.
B. Belief State
The concept of belief state, i.e. the information state, is developed to reveal the state of
environment and help to behave truly and effectively in a partially observable world. The belief
state b(Sk) is a statistic distribution over the state space Sk; while b(sk) corresponds to the
probability of state sk with
∑
sk∈Sk b(sk) ≤ 1. It is noticed that the belief state comprises a
sufficient statistical information for the past history, including all the actions and observations
that can provide a basis for decision-making under environmental uncertainties. Furthermore, the
7III. PROPOSED POMDP-BASED SPECTRUM HANDOFF (POSH) SCHEME
In this section, the POMDP framework will be utilized to model the spectrum handoff problem
in a slotted overlay CR network. The proposed POSH scheme is exploited under the single CR
user scenario in Subsection A. The protocol implementation of proposed POSH scheme will be
explained in Subsection B.
A. System Model for POSH Scheme
In the considered CR network, there are N channels that are available to be accessed by both
the primary and the secondary users. Based on the secondary user’s point of view, each channel
is assumed to be either in the busy state, i.e. occupied by the primary user, or in the idle state,
i.e. free to be accessed. Considering that ci,k denotes the state of the ith channel in time slot k,
the state of the entire network in the kth time slot can be written as
sk = [c1,k, . . . ci,k, . . . cN,k], ci,k ∈ {0, 1}, ∀sk ∈ Sk (5)
where ci,k = 0 indicates the idle state and ci,k = 1 represents the busy state. The most essential
part in spectrum handoff is the target channel selection, which is defined as the action set within
the POMDP framework. In other words, an action ak at the time instant k is to appropriately
choose the target handoff channel from the entire N channels within the CR network, i.e. ak =
{1, . . . , N}. After the execution of an action, the channel state can consequently be observed.
The set of observations zk ∈ {0, 1} can be defined as the sensing outcome, where 0 represents
the idle state and 1 stands for the busy state.
Furthermore, the transition probability can be determined by modeling a channel as an M/G/1
system with arrival rate λ and service rate µ. By assuming Poisson traffic for the arrival packets,
the probability distribution of arriving packets can be represented as
Pr(nλ,k = x) =
e−λλx
x!
(6)
where nλ,k denotes the number of arriving packets in the kth time slot. With the execution of
action ak, the channel transition probability τ(ci,k, ak, ci,k+1) represents the transition from the
present channel state ci,k to the channel state ci,k+1 at the next time slot. By adopting the result
from (6), the transition probability from idle to idle state for a channel ci,k after executing action
9each channel ci,k is independent with each other for i = 1 to N , the transition probability for
the entire network Γ(sk, ak, sk+1) can be obtained as
Γ(sk, ak, sk+1) =
N∏
i=1
τ(ci,k = ς1, ak, ci,k+1 = ς2) (11)
where ci,k ∈ sk, ci,k+1 ∈ sk+1, and ς1, ς2 ∈ {0, 1}, The main objective of proposed POSH
scheme is to select a target channel that has the minimum waiting time, i.e. the smallest number
of waiting slots required for the CR user if the target channel is still occupied by the primary user.
Note that the time required for spectrum handoff of a CR user is defined as the time duration
from the termination of packet transmission in one channel to the starting time of retransmission
in another channel.
The waiting time, which is served as the cost function within the POMDP framework, will
be minimized by the POSH scheme with the selection of an optimal channel in the spectrum
handoff process. The immediate cost is considered as the total number of waiting slots nw
required by the secondary user while executing a specific action, i.e. a∗ = ak, for spectrum
handoff. Consequently, we define the expected cost C(sk, ak) as
C(sk,ak)=
1
R(sk,ak)
=nakw
=E[nw=`|a∗=ak]=
∞∑
`=0
`·Pr(nw=`|a∗=ak)=
∞∑
`=1
`·Pr
(⋂`
p=1
cak,k+p−1=1,cak,k+`=0,
)
=
∞∑
`=1
`·τ(cak,k+`−1=1,ak,cak,k+`=0)·Pr
(⋂`
p=1
cak,k+p−1=1
)
=
∞∑
`=1
`· τ(cak,k+`−1=1,ak,cak,k+`=0)·Pr(cak,k=1)·τ(cak,k=1,ak,cak,k+1=1)`−1 (12)
where cak,k denotes the channel state after selecting channel ak at the time instant k. Noted that
the cost function C(sk, ak) is defined as the inverse of the expected immediate reward R(sk, ak)
in (4) that will be utilized in the POMDP formulation.
B. Protocol Implementation of POSH Scheme
An overlay slotted CR network with partially observable information is considered for the
POSH scheme, which indicates that the secondary user is not allowed to coexist with the primary
user while the time duration for packet transmission is divided into time slots. As shown in Fig. 1,
11
compared with simulation results as in Section VI. Furthermore, the analytical models for these
three handoff algorithms under practical considerations will also be derived and explained in
Subsection B.
A. Analytical Modeling of Spectrum Handoff Schemes
The analytical models for the three spectrum handoff schemes, including NSH, RCS, and
POSH mechanisms, will be derived and studied in this subsection. It is noted that the parameter
ak defined in Section II emphasizes the action executed at the time slot k, and consequently
to acquire the reward function R(sk, ak) at time k as in (12). However, it is not essential to
point out a particular moment in analytical expressions, i.e. the subscript k for each action ak
will be neglected in the remaining discussion. Instead, the action as is defined as the selected
target channel which can be either the current channel ac or the destination channel ad, where
ad ∈ {1, . . . , N} and ad 6= ac. The channel selected by the action as will be retained for a time
period until another action is executed.
1) NSH Scheme: Let nw,nsh be the expected waiting time if the NSH scheme is performed,
the CR user will not switch to other channels but stay at its current channel ac to wait for the
next spectrum hole. Similar to (12), the expected waiting time nacw,nsh can be obtained as
nw,nsh = E[nw = `|a∗ = ac]
=
∞∑
`=1
` · Pr
(⋂`
p=1
cac,k+p−1 = 1, cac,k+` = 0
)
=
∞∑
`=1
` · τ(cac,k+`−1 = 1, ac, cac,k+` = 0) · τ(cac,k = 1, ac, cac,k+1 = 1)`−1 (14)
It is noted that the third equality in (14) indicates that the NSH method is adopted under the
condition that no spectrum handoff is executed at the current time k even though the current
channel state is busy, i.e. cac,k = 1. Therefore, the expected waiting time by exploiting NSH
scheme nw,nsh can be obtained by assigning Pr(cac,k = 1) = 1 in (12).
2) RCS Scheme: Let nw,rcs be the expected waiting time as the RCS scheme is performed,
the CR user will randomly switch to a target channel as from the network spectrums 1 to
N to acquire channel access. Therefore, for the calculation of nw,rcs, there exists probability
13
distribution P˜r(a∗ = as) of action a∗ is considered non-uniform in this case, i.e.
nw,posh =
N∑
as=1
E[nw = `|a∗ = as] · P˜r(a∗ = as) (17)
Let nad1w and n
ad2
w be the first and second minimum expected waiting time resulted from action
ad1 and ad2 by adopting the proposed POSH scheme, respectively. These two actions can be
expressed as
ad1 = argmin∀as
nasw
ad2 = arg min∀as,as 6=ad1
nasw (18)
where the expected waiting time by conducting spectrum handoff nasw can be obtained from (12)
by assigning ak = as. The statistical distribution of the chosen action a∗ in proposed POSH
scheme can be acquired as
P˜r(a
∗ = as) =

1, for as = ad1, and n
ad1
w,nsh ≤ nad2w
0.5, for as = ad1 or ad2, and n
ad1
w,nsh > n
ad2
w
0, otherwise
(19)
where nad1w,nsh denotes the expected waiting time by staying at the channel ad1 without spectrum
handoff. It can be observed that the first case P˜r(a∗ = as) = 1 in (19) happens under the situation
that as is selected as ad1 and n
ad1
w,nsh ≤ nad2w . This case indicates that the expected waiting time
obtained by staying at the channel ad1 will be comparably smaller or equal to that from the
POSH-based spectrum handoff scheme nad2w . It is suggested not to conduct spectrum handoff to
another channel ad2, which results in the probability of staying at the channel a∗ = ad1 to be
equal to 1, i.e. P˜r(a∗ = ad1) = 1. On the other hand, the other case with n
ad1
w,nsh > n
ad2
w should
also be taken into account. It is considered that the previous selected channel is ad1. If the
expected waiting time resulted from ad1 without spectrum handoff is larger than that from ad2
by conducting spectrum handoff, the corresponding CR user will decide to switch into channel
ad2. Nevertheless, instead of remaining at channel ad2, CR user will choose ad1 again at the next
spectrum handoff since the waiting time nad1w is smaller than n
ad2
w,nsh as depicted in (18). As a
result, the channels ad1 and ad2 will alternatively be chosen depending on the previous action
of the CR user, which results in P˜r(a∗ = as) = 0.5 for either a∗ = ad1 or ad2 if n
ad1
w,nsh > n
ad2
w .
15
B .....
Tu
Tp
Ths
B I Tack
B
B
Tsw
B I Tack
B
B
Tsw
TuB Tu I Tack
.....
.....
.....
.....
Tw, nsh
Tw, rcs
Tw, posh
Tslot
t k t k+1 t k+l
Current Channel
Destination Channel
Current Channel
Destination Channel
Current Channel
(a) NSH Scheme
(b) RCS Scheme
(c) POSH Scheme
Sensing with Busy State (Tsens)B
Sensing with Idle State (Tsens)I
Tsw
Tp
Tu
POMDP Policy
Belief State Update
Ths
Tack
Handshake Time
ACK Packet
Switching Time
Primary User Traffic CR User Traffic
Fig. 2. Practical consideration for the time-slotted channels with different spectrum handoff protocols: (a) NSH scheme, (b)
RCS scheme, and (c) POSH scheme.
1) NSH Scheme: As shown in Fig. 2.(a), the behavior for the time-slotted channel with
the adoption of NSH scheme is depicted. The time slots tk and tk+` (for ` ≥ 0) are utilized to
represent the initial and final slots that are considered in the various handoff schemes. At the slot
tk, the intention from primary user to utilize this channel is observed during the spectrum sensing
period. Based on the NSH scheme, the CR user will remain silent on the current channel and
wait until the primary user to finish its transmissions. Considering that the traffic from primary
user has not been observed during the sensing period of slot tk+`, the CR user can consequently
conduct its data transmission. Therefore, the total waiting time by adopting the NSH scheme
(i.e. Tw,nsh) can be expressed as
Tw,nsh = nw,nsh · Tslot + Tsens (21)
where the expected number of waiting time slots nw,nsh can be obtained from (14). The parameter
Tslot represents the time duration of each slot and Tsens denotes the time interval of sensing
period. Furthermore, the net transmission time within a time slot by adopting the NSH method
17
3) POSH Scheme: The proposed POSH scheme with practical consideration is shown in Fig.
2.(c). It is assumed that all the CR users share identical network condition and observe the
same sensing consequence. Since the POMDP policy is simultaneously performed by both CR
transmitter and receiver, it is unnecessary to exchange handshake messages with required time
duration Ths in order to inform the receiver which spectrum is selected as the target channel.
Nevertheless, it is considered that and additional time interval Tp is required by the CR user to
implement the POMDP-based policy, and the time Tu to update the belief state at the end of
each slot. Consequently, the overall waiting time Tw,posh can be represented as
Tw,posh =
1
N
· Tw,nsh + N − 1
N
[Pr(cas,k = 1) · nw,posh · Tslot
+ Pr(cas,k = 0) · (Tsens + Tp + Tsw) + Tsens] (25)
where as will either be ad1 or ad2 according to the conditions as stated in (19). The net
transmission time in a slot Ts,posh becomes
Ts,posh =
1
N(nw,posh + 1)
{(Tslot − Tsens − Tack − Tu) + (N − 1)[Pr(cad,k = 1) · (Tslot
− Tsens − Tack − Tu) + Pr(cad,k = 0) · (Tslot − Tsens − Tp − Tsw − Tsens − Tack − Tu)]} (26)
By comparing (25) and (26) from the POSH scheme with (23) and (24) from the RCS scheme, it
can be observed that the performance difference between these two protocols will be dominated
by (a) the parameters nw,posh and nadw ∀ad = 1, ad 6= ac, and (b) the parameter set (Tp, Tu) and Ths.
It is apparently that nw,posh should be smaller than nadw from the RCS algorithm since the POSH
scheme is designed to select the minimal waiting time for spectrum handoff. On the other hand,
the parameters (Tp, Tu) that are implemented in the POSH scheme should be feasibly chosen
in order not to result in excessive computation overheads. Due to the large amount of system
states and the complexity of witness algorithm [19–21], it is considered a complicate process
to calculate a POMDP-based algorithm. It can be found in (5) that as the number of channel
increases, the total number of system state will be augmented exponentially which makes the
update process of belief state becomes complicate. A reduced form of system state was introduced
in [3; 18] to be adapted in the problems with POMDP-based formulation. It has been proved
to reduce the total number of states that becomes equivalent to the number of channels in the
system, which can effectively decrease the computational complexity. Furthermore, an efficient
approach for belief state update is also exploited as in [18] to simplify the updated procedure.
19
The belief state for multi-user can be extended from that for single user as defined in
Subsection II.B and (5). The belief state of the rth CR user is represented as br(ci,k), where
ci,k ∈ {0, 1} denotes the state of the ith channel in time slot k. Let A˜k denotes the action set
representing the channels that are utilized by the CR users at time slot k, i.e. A˜k ∈ Ak where Ak
represents the entire action set which corresponds to all the channels in the network as defined
in Subsection II-A. The update for belief state in multi-user scenario can be obtained as
br(ci,k+1) =

0, if (zr,k = 0, ar,k = i) and ar,k /∈ A˜k
1, if (zr,k = 1 and ar,k = i) or ar,k ∈ A˜k
br(ci,k) · τ(ci,k = 0, ar,k, ci,k+1 = 0)
+[1− br(ci,k)] · τ(ci,k = 1, ar,k, ci,k+1 = 0), if ar,k 6= i
(27)
where ar,k represents the action of the rth user in time slot k, and zr,k denotes the observation
of the rth user in slot k. The update process of belief state in (27) is derived via the reduced
strategy as in [3] for POMDP-based formulation. For the rth user that decides to take action
ar,k to access the ith channel, i.e. ar,k = i, the update of the rth user’s belief state br(ci,k+1) at
time (k + 1) will be determined by its corresponding observation zr,k on the same ith channel
at time k. In other words, the update of belief state br(ci,k+1) = 0 if the ith channel is observed
to be in the idle state at time k, i.e. zr,k = 0; while br(ci,k+1) = 1 in the case that zr,k = 1.
Another condition for the belief state at the (k + 1)th time slot to be in the busy state is that
the action taken at time slot k belongs to the busy channel set, i.e. ar,k ∈ A˜k. Furthermore, if
the rth user is using a channel other than the ith channel at current time k, i.e. ar,k 6= i, the
update process of belief state for the ith channel to remain in the idle state at time (k + 1) will
be determined as shown in the third term of (27). The idle probability for the belief state at the
(k + 1)th time slot is equal to the idle transition probability τ(ci,k = 0, ar,k, ci,k+1 = 0) times
the idle probability at time k plus the busy to idle probability τ(ci,k = 1, ar,k, ci,k+1 = 0) times
the busy probability at the same kth time slot.
B. Implementation of M-POSH Protocol
Without loss of generality, it is assumed that all the existing CR users are initially located
and operated on different frequency spectrums. After the channel sensing period, a handshaking
time interval is designed in the proposed M-POSH protocol that all the CR users will listen to
21
the case that two primary users intend to utilize their original channels 1 and 2 at time slot k, the
secondary users r1 and r2 will yield from their corresponding channels 1 and 2 after conducting
channel sensing. Handoff messages will be broadcast to the control channel by r1 and r2 during
the handshaking time interval based on the random backoff mechanism. It is assumed that the
backoff counter for r1 and r2 is equal to 4 and 7 respectively, which indicates that handoff
message from r1 will be delivered at the 4th minislot and that from r2 will be broadcast at the
7th minislot. The prioritized destination channel lists within the handoff messages for r1 and r2
can be obtained based on the required waiting time slots in that channel, which are assumed
as Dr1,k = {5, 1, 2, 3, 4} and Dr2,k = {5, 3, 1, 2, 4} in this example. Channel 5 is selected as the
first entry in both of the lists since it is not occupied by any user at the time slot k. Noted that
the different channel priorities between Dr1,k and Dr2,k can happen due to their difference in
channel observation and update based on the POMDP-based policy. According to the value of
backoff counter, user r1 will have higher priority than r2 in choosing the destination channel for
spectrum handoff, i.e. channel 5 will be selected since it is in the first entry of its channel list
Dr1,k. On the other hand, user r2 will notice that r1 has higher priority in selecting the destination
channel and both users possess the same channel 5 as the first entry in the prioritized destination
channel list. The second entry, i.e. channel 3, in Dr2,k will be selected by r2 for spectrum handoff.
Therefore, user r1 will utilize the empty channel number 5 and r2 will handoff to channel 3
waiting the required time slots for r3 before conducting packet transmission. The performance
of proposed M-POSH protocol for multiple CR user scenarios will be evaluated via simulations
in next section.
C. Analytical models
1) Control Channel: In order to broadcast handoff messages during the interval Ths, all CR
users have to contend for access to the control channel. And the contention behavior is analyzed
based on [23], which studied the process of the backoff operations with a Markov chain model.
Let τ be the probability that the user transmits packet, and p be the probability that each packet
collides. Then we can obtain the equation of τ and p as:
τ(p) =
2(1− 2p)
(1− 2p)(W + 1) + p ·W (1− (2p)m) (29)
p(τ) = 1− (1− τ)n−1 (30)
23
number of CR users n is smaller than the number of total licensed spectrums N , if N < Nmax,
so does n < Nmax, we assume that all the user who need to utilize the control channel can
successfully exchange the handshaking packets in the duration of Ths.
2) Performance Analysis: The channel selection behavior of each user in M-POSH is based
on the proposed POSH scheme. And the characteristic of the throughput of the M-POSH scheme
is something to do with the POSH scheme. We start the analysis with a special case that the
number of CR users equals to the number of total licensed spectrums, i.e. n = N . If all the
network channels can be occupied by the CR users, the users will decide to stay at the original
channel to reduce the collision due to the spectrum handoff. And that’s the first case in (19), i.e.
nad1w,nsh ≤ nad2w , the expected waiting time by staying at the current channel will be comparably
smaller or equal to that from the spectrum handoff scheme. So we can derive nw,mposh, the
expected waiting time if the M-POSH scheme is performed, is approach the expected waiting
time as the NSH scheme is adopted. From (14), we can derive
nw,mposh = nw,nsh =
∞∑
`=1
` · τ(cac,k+`−1 = 1, ac, cac,k+` = 0) · τ(cac,k = 1, ac, cac,k+1 = 1)`−1
(33)
when n = N .
Next let us consider the case of n < N . The advantage of the M-POSH protocol is that
distribute the CR users to exploit the available channels, when the n = N − 1, means there
is one more available channel can be utilized by the N − 1 CR users. Because one more
available channel means there is one more chance for the CR user switching to other channel
if nad1w,nsh > n
ad2
w , we can derive from (20) that nw,mposh is equal to
1
2
nw,nsh +
1
2
nw,posh when
n = N − 1. And also we can derive nw,mposh when n = N − 2, N − 3, ..., 1. With one lesser CR
users, means there is one more available channel every time the CR users executing spectrum
handoff. And the expected waiting time becomes 1
2
nw,mposh +
1
2
nw,posh every time the number
of CR users is decreased in one. Finally, nw,mposh can be represented as:
nw,mposh = nw,nsh
1
2N−n
+ nw,posh
N−n∑
`=1
1
2`
, ∀n ≤ N (34)
VI. PERFORMANCE EVALUATION
In this section, simulations are presented to demonstrate the performance of proposed POSH
and M-POSH protocols. The major focus in the simulations is to obtain the required waiting time
25
0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9
−8
−6
−4
−2
0
2
4
6
8
Traffic Arrival Rate (λ)
Bi
as
ed
 P
er
ce
nt
ag
e 
(β)
 
 
RCS & NSH
POSH with 106 slots
POSH with 105 slots
POSH with 104 slots
Fig. 4. Performance validation: biased percentage β versus traffic arrival rate of primary user.
provide the smallest waiting time slots comparing with the other two schemes. Furthermore,
it can also be seen that the simulation results of both NSH and RCS schemes match with
their corresponding analytical results. On the other hand, there exists slight difference between
the analytical and simulation results of the proposed POSH scheme. The major reason for this
deviation can be contributed to the definition of non-uniform probability P˜r(a∗ = as) in (19) as
described in its analytical model, which is designed to be a stationary probability. However, the
POSH scheme involves non-stationary updating process of the belief state for the estimation of
channel state. The deviation resulting from the stationary model of POSH scheme will further
be studied as illustrated in Fig. 4.
In order to clearly illustrate the difference between the analytical and simulation results, the
biased percentage β is introduced and is defined as β =
naw,ζ−nsw,ζ
nsw,ζ
× 100 where naw,ζ and nsw,ζ
correspond to the expected waiting time slots obtained from analysis and simulation respectively.
The parameter ζ indicates either one of the three spectrum handoff schemes is adopted. Fig. 4
illustrates the biased percentage β for the three schemes under different traffic arrival rates of the
primary user. It is noted that the proposed POSH method is implemented under the simulation
runs with different numbers of transmission time slots, i.e. T = 104, 105, and 106. It can
be observed that even the non-stationary behavior of belief state can not be exactly modeled
and analyzed, the analytical results derived by stationary probability can still approach to the
simulation values within 3% of estimation difference. It can also be seen from Fig. 4 that the
27
0 200 400 600 800 1000
0
100
200
300
400
500
600
700
Total Number of Transmission Time Slots
N
um
be
r o
f W
ai
tin
g 
Ti
m
e 
Sl
ot
s
 
 
RCS−Cw
POSH−Cw
RCS−Cb
POSH−Cb
Fig. 6. Performance comparison: number of waiting time slots versus total number of transmission time slots.
the total waiting time slots acquired from the proposed POSH protocol is smaller than that from
the RCS scheme under both channel conditions. It is also observed that the POSH protocol can
provide better performance as the number of spectrum handoff is increased. The reason can be
contributed to the situation that more updated belief states are acquired by the POSH scheme
as the number of handoff is augmented.
Fig. 6 illustrates the performance comparison between the number of waiting time slots and the
total number of transmission time slots. It is noticed that different numbers of waiting time slots
and handoff numbers will be resulted by each scheme at every specific number of transmission
time slots. In other words, the combining effects from both the waiting time slots and the handoff
numbers will be revealed in Fig. 6 at each horizontal data point. It can be observed that the
proposed POSH algorithm still outperforms the RCS scheme under both the Cb and Cw channel
conditions. Even though the effect from the total number of spectrum handoff has not been
considered in the value function as in (13), the POSH scheme can still provide smaller waiting
time comparing with the RCS method.
Figs. 7 and 8 illustrate the performance comparison among the POSH, the RCS, and the NSH
schemes under different values of packet arrival rate λ of the primary user. Comparing the case in
Fig. 3 with a single spectrum handoff, Fig. 7 shows the averaged performance comparison under
a larger fixed number of spectrum handoff equal to 250. On the other hand, Fig. 8 illustrates
the comparison between these three protocols under the number of transmission time slots equal
29
0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9
0
500
1000
1500
2000
2500
3000
3500
Traffic Arrival Rate (λ)
W
ai
tin
g 
Ti
m
e 
(m
s)
 
 
NSH
RCS
POSH (Tp=0)
POSH (Tp=5)
Fig. 9. Performance comparison with practical consideration: waiting time versus traffic arrival rate of primary user.
0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9
0
10
20
30
40
50
60
70
80
90
Traffic Arrival Rate (λ)
N
et
 T
ra
ns
m
is
si
on
 T
im
e 
Pe
r S
lo
t (m
s)
 
 
NSH
RCS
POSH (T
u
 = 0)
POSH (T
u
 = 3)
Fig. 10. Performance comparison with practical consideration: net transmission time per slot versus traffic arrival rate of
primary user.
The corresponding parameters are listed as follows: Tslot = 100 ms, Tsens = 5 ms, Tsw = 10 ms,
Ths = 1 ms, and Tack = 1 ms. Fig. 9 illustrates the waiting time obtained from (21), (23), and (25)
for the NSH, RCS, and POSH scheme respectively. Two cases with required computation time
Tp = 0 and 5 ms for implementing the POMDP-based policy are considered; while the update
time for belief state Tu = 3 ms. With practical consideration, the POSH algorithm is demonstrated
to result in the smallest waiting time under different packet arrival rate of primary user. Even
though the calculation of POMDP-based policy requires additional computation time, the overall
31
0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9
100
101
Traffic Arrival Rate (λ)
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Ex
pe
ct
ed
 N
um
be
r o
f W
ai
tin
g 
Ti
m
e 
Sl
ot
s
 
 
M−POSH−Simulation (n=7)
M−POSH−Analysis (n=7)
M−POSH−Simulation (n=4)
M−POSH−Analysis (n=4)
M−POSH−Simulation (n=1)
M−POSH−Analysis (n=1)
Fig. 11. Performance validation: the expected number of waiting time slots versus traffic arrival rate of primary user.
2 3 4 5 6 7 8
0.5
1
1.5
2
2.5
3
3.5
4
4.5
5
Number of Channels
 
N
um
be
r o
f W
ai
tin
g 
Ti
m
e 
Sl
ot
s
 
 
NSH (λ=0.5)
RCS (λ=0.5)
M−POSH (λ=0.5)
NSH (λ=0.2)
RCS (λ=0.2)
M−POSH (λ=0.2)
Fig. 12. Performance comparison: number of waiting time slots versus number of channels (with 2 CR users).
circumstance of multiple CR users within multi-channels network. Fig. 12 shows the performance
comparison with two CR users under different numbers of available channels; while Fig. 13
illustrates the comparison with 7 channels under different numbers of CR users. The analytical
expected waiting time slots of the M-POSH scheme as in (34) is also shown in this figure. Two
different arrival rates of primary traffic are considered for all the three schemes, i.e. λ = 0.2
and 0.5. It is apparently to observe that the NSH scheme results in the same performance
under different numbers of channels and CR users since it does not perform any spectrum
handoff activity. In other words, the NSH scheme in multi-user scenario can be regarded as the
33
the M-POSH protocol will distribute the CR users that intend to conduct handoff to exploit those
available channels. Consequently, the performance of M-POSH scheme can achieve the optimal
performance as that obtained from the POSH scheme for single user case. The merits of the
proposed POSH and M-POSH protocols can therefore be observed.
VII. CONCLUSION
This paper proposes a spectrum handoff strategy based on partially observable Markov decision
process (POMDP) in the overlay cognitive radio (CR) networks. With only partially observable
state information, the proposed POMDP-based spectrum handoff (POSH) scheme selects the
optimal destination channel in order to achieve the minimal waiting time for packet transmission.
Furthermore, in order to consider the network with multiple CR users, the multi-user POSH (M-
POSH) protocol is proposed to resolve the packet collision problem among multiple CR users
that intend to conduct spectrum handoff. It is observed from both the simulation and analytical
results that both the proposed POSH and M-POSH protocols can effectively reduce the waiting
time of spectrum handoff for a partially observable CR network.
REFERENCES
[1] F.C.C, “Unlicensed operation in the TV broadcast bands,” ET Docket No. 04-186, pp. 4–186, 2006.
[2] FCC, “FCC spectrum policy task force report,” ET Docket No. 02-135, 2002.
[3] Q. Zhao, L. Tong, A. Swam, and Y. Chen, “Decentralized cognitive MAC for opportunistic spectrum access
in ad hoc networks: A POMDP framework,” IEEE J. Sel. Areas Commun., vol. 25, pp. 589–600, 2007.
[4] V. K. Bhargava, “Research challenges in cognitive radio networks,” Proc. IEEE ICCCN, pp. 1–6, 2007.
[5] S. Shanker, “Squeezing the most out of cognitive radio: A joint MAC/PHY perspective,” Proc. IEEE ICASSP,
2007.
[6] A. Sahai, N. Hoven, and R. Tandra, “Some fundamental limits on cognitive radio,” Proc. of Allerton Conference
on Signals, Systems, and Computers, 2004.
[7] S. Sengupta, S. Brahma, M. Chatterjee, and N. S. Shankar, “Enhancements to cognitive radio based IEEE
802.22 air-interface,” Proc. IEEE ICC, 2007.
[8] C. Cordeiro, K. Challapali, D. Birru, and N. S. Shankar, “IEEE 802.22: The first worldwide wireless standard
based on cognitive radios,” Proc. IEEE DySPAN, pp. 328–337, 2005.
[9] L. C. Wang and A. Chen, “On the performance of spectrum handoff for link maintenance in cognitive radio,”
Proc. IEEE ISWPC, pp. 670–674, 2008.
[10] X. Zhu, L. Shen, and T. S. P. Yum, “Analysis of cognitive radio spectrum access with optimal channel
reservation,” IEEE Communications Letters, vol. 11, pp. 304–306, 2007.
1Analysis and Determination of Cooperative
MAC Strategies from Throughput Perspectives
Chun-Chieh Liao and Kai-Ten Feng
Department of Electrical Engineering
National Chiao Tung University
Hsinchu, Taiwan
afreeman.cm96g@nctu.edu.tw and ktfeng@mail.nctu.edu.tw
Abstract
In recent years, cooperative communication has been developed as a new communication strategy
that incorporates a relay node to assist direct point-to-point transmission. By exploiting cooperative
diversity, different types of techniques have been proposed to improve transmission reliability from
the physical layer perspective. However, owing to the longer transmission time resulting from the
cooperative schemes, there is no guarantee to enhance network throughput in view of the medium
access control (MAC) performance. In this paper, system throughput of combined direct/cooperative
communication is evaluated by exploiting the proposed analytical model based on the IEEE 802.11
MAC protocol. The feasibility of adopting either cooperative or direct communication is also studied in
the analytical model. In terms of network throughput, whether to adopt cooperative schemes depends
on the tradeoff between cooperative transmission delay and channel condition of direct communication.
Moreover, two cooperative MAC protocols are proposed to determine the circumstances to activate
cooperative communication according to the channel conditions. The full-CSI based cooperative (FCC)
MAC protocol is introduced to choose both the transmission scheme and the relay node according
to the full channel information. However, the overhead caused by the FCC scheme can degrade the
throughput performance as the number of available relays is significantly increased. Therefore, the
bitwise competition based cooperative (BCC) MAC protocol is utilized to efficiently determine a
feasible relay node for data transmission. Simulations are performed to validate the effectiveness of
proposed analytical models and cooperative MAC protocols. It is observed that the proposed BCC
scheme can outperform both the FCC protocol and conventional direct transmission with enhanced
system throughput.
3transmission; while [17] provides the analysis of frame error rate (FER) under various cooperative
ARQ protocols.
However, it is noticeable that most of the research work focuses on cooperative communica-
tions from the viewpoint of information theory and PHY layer design. Although the FER can
be ameliorated by means of the cooperative diversity, there is no assurance to result in enhanced
network throughput due to the tradeoff between the FER and the longer frame transmission time.
In general, the cooperative schemes will lead to prolonged frame transmission time no matter the
AF-based or the DF-based protocols are applied. With the adoption of half-duplex antennas, two
phases are required for relay-based communication in order to complete the data transmission.
In other words, data frame must be delivered from the source to both the destination and the
relay with duplicated frame transmitted from the relay to the destination.
In order to evaluate the combined system including the conventional direct transmission and the
cooperative communication in terms of network throughput, a suitable analytical model from the
medium access control (MAC) perspective should be exploited. The IEEE 802.11 [18] has been
considered a well-adopted standard for wireless local area networks (LANs). In the IEEE 802.11
MAC protocol, the distributed coordination function (DCF) is utilized as the basic mechanism
for channel access. The DCF ensures that each node can acquire a fair opportunity to access
the wireless medium according to the carrier sensing multiple access with collision avoidance
(CSMA/CA) scheme. A random backoff process is executed in each node for the purpose of
decreasing the probability of data collision. Moreover, the request-to-send (RTS)/ clear-to-send
(CTS) exchange before the data transmission is employed in order to resolve the potential hidden
terminal problem. A great amount of existing research [19]–[21] contributes to the establishment
of analytical models for the IEEE 802.11 MAC protocol. The saturation throughput of IEEE
802.11 DCF is obtained via a two-dimensional Markov chain model as proposed in [19]. Work
presented in [20], [21] further considers channel error conditions into the design of analytical
models.
In this paper, the backoff model of IEEE 802.11 MAC extended from [19], [20] is adopted
to analyze the saturation throughput of cooperative techniques. Both cooperative and direct
communications are considered in the design of the proposed analytical model. Simulations
are also exploited for validating the effectiveness of proposed model. It can be observed from
the analytical results that the performance of cooperative communication is affected by various
factors, especially the FER and the frame transmission delay. Cooperative schemes in general
5Non-Cooperative 
        Group
Destination
Relay
γ
SD
γ
SR
γ
RD
Cooperative Group
User
Fig. 1. Network scenario with the combined direct/cooperative transmission scheme.
simulation results, it is discovered that both proposed FCC and BCC protocols can significantly
enhance the network throughput, especially in the case that the direct communicating channel
is under deep fading environments.
The rest of this paper is organized as follows. The modeling of backoff operations with
combined direct/cooperative strategy is presented in Section II. Section III describes the analytical
modeling and validation for the saturation throughput based on the combined strategy. Section
IV explains the proposed FCC and BCC MAC protocols for relay selection; while numerical
evaluation is performed in Section V. Section VI draws the conclusions.
II. MARKOVIAN MODEL WITH COMBINED DIRECT/COOPERATIVE STRATEGY
As shown in Fig. 1, the network scenario considered in the performance analysis consists of one
destination, one fixed relay, and N user nodes. In general, the destination node can be regarded
as an access point for uplink data transmission. In this paper, instead of assigning mobile devices
to serve as the relays for frame transmission, one fixed relay node is considered and exploited.
The major reason is primarily owing to the excessive power consumption that will be incurred
within the mobile devices while relaying data frames for other network nodes. Furthermore,
security issues and potential unknown movements are also concerned to adopt mobile devices
for data forwarding. In addition, the users in the network can be adaptively categorized into
7s(t) ∈ [0,m + r] indicates the backoff stage with the maximum m + r times of retransmission
opportunities, and b(t) ∈ [0,Wi] denotes the backoff timer whose maximum value at the ith
stage can be represented as
Wi =
 2i ·W 0 ≤ i ≤ m2m ·W m < i ≤ m+ r (1)
where W denotes the minimum contention window size. The parameter p as shown in Fig. 2
represents the probability of receiving an inaccurate frame at the destination. The unsuccessful
reception of data frames at the destination is resulted from either the frame collision or trans-
mission error. It is noticed that the meaning of parameter p within the Markov chain model
can be different in each node depending on which group it belongs to. The parameters pdir
and pcoop are introduced as the probabilities of receiving an inaccurate frame at the destination
via the direct and cooperative transmission, respectively. Specifically, owing to different FER
values caused by different transmission schemes, the parameter p will be replaced by pdir in
the Markov chain model for nodes in the non-cooperative group. On the other hand, pcoop will
substitute the parameter p with nodes in the cooperative group. For simplicity, the parameter p
will still be utilized in some of the following derivations in the case that both groups share the
same equations.
Furthermore, the transition probabilities, which are defined as Pt(i1, k1 | i0, k0) , Pt(s(t+1) =
i1, b(t+ 1) = k1 | s(t) = i0, b(t) = k0), can be obtained as
Pt(i, k | i, k + 1) = 1 k ∈ [0,Wi − 2], i ∈ [0,m+ r]
Pt(i, k | i− 1, 0) = pWi k ∈ [0,Wi − 1], i ∈ [1,m+ r]
Pt(0, k | i, 0) = 1−pW0 k ∈ [0,W0 − 1], i ∈ [0,m+ r − 1]
Pt(0, k |m+ r, 0) = 1W0 k ∈ [0,W0 − 1]
(2)
Let pii,k , limt→∞ Pt(s(t) = i, b(t) = k) be defined as the stationary probability with i ∈
[0,m+ r] and k ∈ [0,Wi − 1], the stationary probabilities can be correlated to pi0,0 as follows: pii,k = Wi−kWi · pii,0 k ∈ [0,Wi − 1], i ∈ [0,m+ r]pii,0 = pi · pi0,0 i ∈ [0,m+ r] (3)
Consequently, based on
∑m+r
i=0
∑Wi−1
k=0 pii,k = 1, the stationary probability pi0,0 can be obtained
as
pi0,0 =
[
m∑
i=0
piwi +
m+r∑
i=m+1
piwm
]−1
(4)
9A. FER Calculation for Direct/Cooperative Transmissions
In this subsection, the average FER values through both the direct and cooperative links,
i.e. P f(dir) and P f(coop), will be obtained from the average SNR values via their corresponding
channel conditions. The derivations from instantaneous SNR to its resulting FER value has been
studied in [6], [30], [31]. Several influential factors are considered within their formulation,
including the modulation type, coding strategy, channel condition, and frame sizes. In order to
facilitate the derivation of throughput performance in the next subsection, an efficient model as
proposed in [31] is utilized by adopting an exponential relationship between the instantaneous
FER Pf,ij and SNR value γij as
Pf,ij =
 α · e−gγij , γij > γt1, γij ≤ γt (10)
where the subscript ij within the parameters represents the channel from node i to node j.
For example, as shown in Fig. 1, γSD indicates the instantaneous received SNR of the source-
destination link associated with its corresponding instantaneous FER value Pf,SD. Depending
on different modulation and coding schemes, the parameters α, g, and the threshold γt within
(10) can be obtained from the least-square fitting method as shown in [31]. Simply stated,
the instantaneous FER Pf,ij can be derived from the exponential function if the received SNR
γij exceeds the threshold γt; otherwise, Pf,ij is set to be 1. Moreover, due to the exponential
distribution of received SNR for Rayleigh fading channel, the probability distribution function
(pdf) of received SNR γij can be acquired as
fΓij(γij) =
1
σij
e−γij/σij (11)
where σij corresponds to the average received SNR of the channel from node i to node j, i.e.
σij , E[γij].
The average FER via conventional direct transmission, i.e. P f(dir), can be derived by calcu-
lating the average FER of the source-destination channel P f,SD. By considering the relationship
between instantaneous and average FER values over the channel realizations, the average FER
P f(dir) from direct link can be obtained as
P f(dir) = P f,SD =
∫ ∞
0
Pf,SD · fΓSD(γSD)dγSD
=
∫ γt
0
1 · 1
σSD
e−γSD/σSDdγSD +
∫ ∞
γt
αe−gγSD · 1
σSD
e−γSD/σSDdγSD
= 1− gσSD
1 + gσSD
e−γt/σSD (12)
11
For the derivation of throughput performance, a contention-based MAC protocol with cooperative
communications is adopted. It is designed based on the IEEE 802.11 CSMA/CA scheme [19]
associated with the usage of RTS/CTS exchanges. For the purpose of informing network nodes
regarding the activation of cooperative communication, two new control frames named coopera-
tive ready-to-send (cRTS) and cooperative clear-to-send (cCTS) are created. It is noted that the
cRTS and cCTS fames have the same structures as the RTS and CTS frames respectively except
for the subtype field of MAC header. In other words, several reserved values of the subtype
field in IEEE 802.11 standard can be utilized to create these new control frames for representing
different control messages. Moreover, the channel will be secured to be collision-free after the
exchanges of either the RTS/CTS frames or the cRTS/cCTS frames. Specifically, nodes in the
cooperative group first initiate the cRTS frame in order to notify the other nodes for data delivery
via cooperative communication. The cooperative communication will therefore be activated if the
cCTS frame is issued by the corresponding destination. Subsequently, the source will transmit
the data frame in the first phase to both the relay and the destination. The relay will forward
the received data frame to the destination after a short inter-frame space (SIFS) duration, which
completes the second phase of the cooperative scheme. On the other hand, nodes in the non-
cooperative group will transmit their data frame based on the conventional RTS/CTS exchange
for channel reservation. Due to the comparably smaller size to the data frames, the frame error of
non-data frames is considered neglected. It is noticed that the scheme mentioned above will be
utilized as a preliminary evaluation of saturated network throughput in the next subsection. Other
contention-based MAC protocol with cooperative diversity can also be designed and analyzed
in similar manner.
The saturation throughput is defined as the fraction of time utilized to successfully transmit
the payloads. In order to facilitate the computation of network throughput, two associated
probabilities ptr and pwc are introduced as follows. The parameter ptr denotes the probability
that at least one transmission occurs in the considered time slot, i.e.
ptr =1− (1− τcoop)Ncoop(1− τdir)Ndir (16)
Moreover, pwc indicates the probability of a non-collided transmission on the condition that at
least one node is transmitting. It is composed by two probabilities pwc(cg) and pwc(ncg), i.e. pwc =
pwc(cg) + pwc(ncg). The parameter pwc(cg) represents one node in the cooperative group reserves
the channel while the other nodes remain silent during the time slot, i.e. no collision occurs.
On the other hand, pwc(ncg) represents that one node in the non-cooperative group successfully
13
and Te(coop) = Ts(coop). Finally, the parameter E[LP ] represents the average payload bits that are
successfully transmitted in a virtual time slot, which can be acquired as
E[LP ] = ptr{pwc(cg)(1− P f(coop))E[LPayload] + pwc(ncg)(1− P f(dir))E[LPayload]} (25)
where E[LPayload] indicates the average number of payload bits in a data frame. The saturation
throughput S as defined in (19) can therefore be obtained. Moreover, two special cases for the
saturation throughput S are considered as follows. Sdir represents the saturation throughput if
all the nodes are in the non-cooperative group; while Scoop indicates that with the exploitation of
cooperative schemes for the entire system, i.e. all the nodes are in the cooperative group. These
two special cases can be defined as
Sdir ,S(Rcg = 0, P f(dir), P f(coop) = 0) (26)
Scoop ,S(Rcg = 1, P f(dir) = 0, P f(coop)) (27)
Whether it is suitable to adopt the cooperative schemes can be intuitively observed from the
two extreme cases as described in (26) and (27). In general, cooperative protocols can improve
the FER with the cooperation of the relay node, i.e. P f(coop) < P f(dir). However, successful
transmission time via the cooperative link is inherently longer than that from the original direct
communication, i.e. Ts(coop) > Ts(dir). Due to the tradeoff between the FER and the required
transmission time, there is no guarantee that the saturation throughput from the cooperative
communication (Scoop) will be higher than that from the direct link (Sdir). The analytical models
derived in this subsection will be utilized to determine the suitable occasions to exploit the
cooperative communication, as will be presented in the next subsection.
C. Throughput Comparison between Direct and Cooperative Communications
Before describing the details of proposed cooperative MAC protocols in Section IV, prelimi-
nary analytical results will be observed and validated via simulations in this subsection. From the
throughput perspective, the feasible situations to adopt either the cooperative or the conventional
direct communication will be discussed. The saturation throughput S(Rcg, P f(dir), P f(coop)) as
defined in (19) can be obtained according to the average FER values computed via respective
direct (i.e. from (12)) and cooperative links (i.e. from (13)). In order to validate the analytical
model, the network scenario adopted in the simulations includes 30 user nodes with a fixed
relay and a destination node. Table I illustrates the relevant parameters that are utilized in the
analysis and simulations. Notice that the parameters α, g, and γt in Table I can be obtained
15
throughput S is obtained from (19) under pre-defined channel conditions of the source-relay
and relay-destination links, i.e. σSD = σRD = 40 dB. Within the total of 30 network nodes,
the numbers of nodes in the cooperative group are selected as 0, 15, and 30 which result in
Rcg = 0, 0.5, and 1. In other words, there are Rcg ratio of nodes in the network conducting their
packet transmission based on cooperative manner. As shown in Fig. 3. there exists a crossing
point around 36 dB of σSD that illustrates the decision point regarding the feasible situation to
activate the cooperative communication. With a larger number of nodes in the cooperative group,
e.g. the curve with Rcg = 1, degraded throughput performance is observed as the average SNR
of source-destination link σSD is larger than 36 dB. Therefore, direct transmission should be
adopted under comparably better channel conditions between the source and destination since
the exploration of cooperative communication will result in prolonged transmission time, which
causes degraded effect on the throughput performance. Nevertheless, under a worse channel
condition for direct link, i.e. below 36 dB in this case, the usage of cooperative communication
will significantly improve the resulting throughput performance.
In addition, since coding schemes are not exploited in the derived analytical model, the average
SNR σSD shown in Fig. 3 will be in general overestimated. In other words, the required SNR σSD
for achieving the same throughput will be reduced while a specific coding strategy is adopted.
Therefore, similar trend as in Fig. 3 can also be derived with the exploitation of a specific
coding scheme. Furthermore, it can be observed from Fig. 3 that the results obtained from both
simulations and analytical model coincide with each other under different SNR values of σSD.
Noted that the slight discrepancies at higher σSD values are mainly contributed to the usage of
approximated FER calculation presented in Subsection III-A. Since the exponential function as
in (10) results in faster decay in FER than that in realistic cases as the SNR values are increased,
the throughput acquired from analytical model will possess slightly larger value than that from
simulations under higher values of σSD as shown in Fig. 3. However, this negligible modeling
difference does not deteriorate the advantage of exploiting the exponential FER approximation
due to its simplicity and efficiency.
A closer examination on the dependency between the ratio Rcg and the throughput perfor-
mance is provided in Fig. 4. It illustrates the saturation throughput achieved by the combined
direct/cooperative communication system, which includes several nodes conducting direct trans-
mission while others transmit their packets via cooperative communication. The left plot shows
the case with worse direct channel quality, i.e. σSD = 35 dB; while better channel condition is
17
25 30 35 40 45 50
20
25
30
35
40
45
σSR (dB)
R
eq
ui
re
d 
σ
R
D 
(dB
)
 
 
σSD=28dB
σSD=30dB
σSD=32dB
Fig. 5. Required average SNR σRD via cooperative communication for achieving the same throughput as that with direct
transmission under specific σSD and σSR values.
for throughput enhancement, especially under poor channel quality of the direct link. In other
words, as the source is suffering from severe fading channel and noises to the destination, a better
source-relay channel is considered more important compared to the relay-destination channel in
order to allow the destination to acquire another copy of data frames. This results will further
be explored in the design of proposed cooperative MAC protocol to provide efficient channel
acquisition process, which will be explained in Section IV.
Fig. 5 shows the occasions for cooperative mechanism to have a better performance than the
direct communication under different SNR values. With pre-defined average SNR values of the
source-destination and the source-relay channels, the theoretically required average SNR of the
relay-destination channel is obtained through the cooperative communication in order to have
the same throughput as that via the direct transmission, i.e. Sdir = Scoop where Sdir and Scoop
are acquired from (26) and (27) respectively. For every specific σSD and σSR, each point on the
curves represents the value of σRD that satisfies the following condition:
sup {σRD : Scoop(σSD, σSR, σRD) ≥ Sdir(σSD)} (28)
For example, as σSD = 30 dB and σSR = 40 dB, the cooperative scheme with σRD > 30 dB
can outperform the conventional direct communication in network throughput. Each curve in
Fig. 5 can also be explained as the case while Scoop = Sdir for a specific average SNR of the
direct link. The region above the curve represents the situations of Scoop > Sdir. Moreover, it is
19
(a)
(b)
(c)
transmitted by source transmitted by relay transmitted by destination
RTS CTS DATA ACK
Backoff
DIFS SIFS SIFS SIFS
Backoff
Backoff
DIFS
DIFS
cRTS
cRTS
CSI-Acquiring Period
CSI-Acquiring Period
CTS
cCTS
DATA
DATA DATA
ACK
ACK
SIFS SIFS SIFS SIFS
SIFS SIFS SIFS SIFS SIFS
Fig. 6. The schematic diagrams of both the handshake process and data transmission for (a) direct transmission in non-
cooperative group, (b) direct transmission in cooperative group, and (c) cooperative transmission in cooperative group.
(a) Direct transmission in non-cooperative group: Conventional DCF mechanism is exploited
for the nodes in non-cooperative group. The source will initiate the transmission of RTS frame
after the channel has been sensed in the idle state for the time durations of both a DIFS and
the backoff timer. After receiving the RTS frame, the other nodes within the network will set
their corresponding network allocation vectors (NAVs) in order not to interfere with the on-
going transmission between the source and destination. Data transmission will be started by the
source after receiving the CTS frame delivered by the destination. Successful reception of the
acknowledgement (ACK) frame by the source will complete the data transmission process.
(b) Direct transmission in cooperative group: Instead of initiating conventional RTS frame,
the source within the cooperative group will issue the cRTS frame in order to notify the request
of cooperative communication. However, the source does not possess enough information to
determine whether to activate the cooperative communication or not. The decision to transmit
via either the direct or cooperative communication is made by the destination after considering the
instantaneous channel conditions. In order to conduct appropriate decision, it is required for the
destination to acquire the channel state information (CSI) from the relays, which is implemented
within the CSI-acquiring period as shown in Fig. 6. In other words, the relays will utilize this
time period to transmit the channel information between the source and relays by adopting a
specific mechanism, i.e. either the proposed FCC or BCC protocol, which will be described
later in this section. It is noted that the destination can also obtain the channel conditions of
source-destination and relay-destination links by measuring the received control frames from the
source and relays respectively. After obtaining the required channel information, the destination
21
transmitted by relay
CSI-Acquiring Period
rRTS
SIFS
Relay 1
rRTS
rRTS
SIFS
Relay 2
Relay 3
Fig. 7. The schematic diagram of process in CSI-acquiring period with FCC protocol.
average time durations E[TB], E[TS], E[TC ], and E[TE] in (19), the required instantaneous
transmission time TI(ζ) is obtained for the considered communication scheme. The parameter
TI(ζ), which includes the handshake and data transmission processes, can be estimated according
to the ratio of the frame length to the data rate for the corresponding scheme. Therefore, the
instantaneous throughput SI(ζ) can be obtained as
SI(ζ) =
E[LPayload]
TI(ζ)
(1− Pf(ζ)) (29)
It is noted that the instantaneous throughput SI(dir) and SI(coop) will be computed directly within
the destination by gathering the channel information during the CSI-acquiring period. After
acquiring the instantaneous throughput SI(dir) and SI(coop) with different relays, the destination
will determine if cooperative communication should be adopted. In the case that cooperative
scheme is exploited, the destination will further select the most feasible relay for data forwarding
based on either the proposed FCC or BCC MAC protocol, which are described as follows.
A. Full CSI based Cooperative (FCC) MAC Protocol
The design concept of the proposed FCC protocol is to provide full channel information of
the potential relays such that the destination node can obtain sufficient information to select
a feasible relay node for data forwarding. As shown in Fig. 7, a control frame named relay
ready-to-send (rRTS) is created to carry the channel information of source-relay link from the
relays to destination. It is designed to have the same structure as the CTS frame except that
additional one-byte is added to store the channel information between source and relay. Moreover,
since the relays are assumed to be deployed in advance, each relay can be assigned with a
specific number representing its sequence to transmit the corresponding rRTS frame. According
23
01110011
transmitted by relay
CSI-Acquiring Period
Relay 1
rRTS
SIFS
Relay 2
Relay 3 0101110011
1
00
0 10110110
  Relay
Identifier
Channel Information
termination of relay contentionrelay contention
Fig. 8. The schematic diagram of process in CSI-acquiring period with BCC protocol.
condition will be represented by a larger value of channel information sequence. For example,
an all ones 8-bit sequence indicates the best channel condition for the source-relay link. In
addition to the sequence obtained from channel quality, the relays also transform their specific
identification number into the 2-bit relay identifier in order to avoid potential collision under the
situations that two relays may have the same channel information sequence. Therefore, based on
the channel condition and identification number, all the neighboring relays will initiate the relay
contention process within the CSI-acquiring period. Noted that each bit value with one denotes
that the corresponding relay will issue an active signal; while the zero value in a bit represents
that the relay will remain silent and continue listening to the channel status during that slot.
For example, a three-relay scenario is considered to explain the relay contention process of
proposed BCC protocol. Both channel information and identification number are available for
each relay as depicted in Fig. 8. All the three relays will transmit signals during the first slot;
while only Relay 2 will become silent in the second slot. Relay 2 keeps monitoring the channel
state in the second slot and detects that it is in the busy state. Consequently, Relay 2 will quit
from the relay contention process since it realizes that there is at least one relay that has better
channel quality of source-relay link. The remaining two relays will continue the relay contention
process in order to become the winner in the following slots. However, both relays possess the
same channel condition which result in the same channel information sequence as indicated in
Fig. 8. The purpose of the last two bits, i.e. the relay identifier, come into play for resolving the
contention between Relays 1 and 3. According to the identification numbers, Relay 3 will become
25
30 32 34 36 38 40
2
2.5
3
3.5
4
4.5
σDB (dB)
Th
ro
ug
hp
ut
 (M
bp
s)
 
 
Number of Relays = 4
Number of Relays = 6
Number of Relays = 8
Fig. 9. Throughput performance versus average SNR value of
boundary node σDB using FCC protocol (number of sources
= 30).
30 32 34 36 38 40
2.5
3
3.5
4
4.5
5
σDB (dB)
Th
ro
ug
hp
ut
 (M
bp
s)
 
 
Number of Relays = 4
Number of Relays = 6
Number of Relays = 8
Fig. 10. Throughput performance versus average SNR value
of boundary node σDB using BCC protocol (number of sources
= 30).
FCC scheme as the number of relays is increased. Throughput performance will consequently
be decreased since excessive overheads are introduced by the elongated CSI-acquiring period.
On the other hand, the throughput performance is enhanced as the number of relays is increased
by applying the proposed BCC protocol. The reason is that additional relays can provide data
forwarding services for more users within the fixed CSI-acquiring period. Even though only
partial channel information is available by adopting the BCC scheme’s relay contention process,
the resulting throughput performance can still be improved with augmented number of relays.
Furthermore, as shown in Fig. 10, the throughput enhancement due to the increased number of
relays becomes insignificant as σDB is augmented, i.e. all three lines converge as σDB is around
40 dB. This is attributed to the situation with sufficiently good channel quality, i.e. with larger
σDB values, where direct transmission will mostly be activated by the destination. Consequently,
the number of relays will result in less impact on the throughput performance.
Figs. 11 and 12 are illustrated to compare the throughput performance of proposed protocols
with various number of relays. The total numbers of sources are selected as 20, 30, and 40
for both cases. It is noted that the SNR value σDB is chosen as 30 dB for observing the
effectiveness of proposed schemes under relatively poor channel quality. It can be discovered
that throughput performance can be enhanced as the number of relays is smaller than 4 in both
proposed protocols. However, as the number of relays is larger than 4, the throughput obtained
27
1 2 3 4 5 6 7 8 9 10
1.2
1.4
1.6
1.8
2
2.2
2.4
2.6
2.8
3
Number of Relays
Th
ro
ug
hp
ut
 (M
bp
s)
 
 
FCC
BCC
Direct Transmission
Fig. 13. Throughput comparison versus number of relays with
direct transmission and proposed protocols (σDB = 30 dB).
10 15 20 25 30 35 40
1
1.2
1.4
1.6
1.8
2
2.2
2.4
2.6
2.8
Number of Users
Th
ro
ug
hp
ut
 (M
bp
s)
 
 
Direct Transmission
FCC
BCC
Fig. 14. Throughput comparison versus number of users with
direct transmission and proposed protocols (σDB = 30 dB).
in the best relay considering both source-relay and relay-destination channels in the cooperative
communication. Nevertheless, as the number of relays is increased, the performance from FCC
protocol degrades due to excessive overhead caused by transmitting channel information via the
rRTS frames. The BCC protocol can outperform the FCC scheme in throughput performance
owing to its efficient design of relay contention process. Furthermore, both proposed protocols
can still provide better performance than that from direct transmission under different numbers
of relays. Noticed that this figure can also be utilized as a reference plot to determine the number
of relays to be deployed in order to achieve the required throughput performance. The impact
from the number of users on throughput performance is illustrated in Fig. 14. It is intuitive
that total network throughput will be increased with augmented number of users. However,
owing to potential frame collision, the resulting throughput performance may reach its saturation
point or even decreases as the number of users is increased. Nevertheless, the proposed BCC
scheme can provide much better throughput performance compared to both the FCC protocol
and conventional direct communication.
Fig. 15 shows the average number of retransmissions by adopting direct transmission and
proposed protocols under different channel conditions. Noted that the number of relays is
selected as 5 in both FCC and BCC schemes. It can be discovered that both proposed protocols
can effectively reduce the number of retransmissions especially under relatively poor channel
condition, e.g. around 1.3 less retransmissions under σDB = 30 dB. Both FCC and BCC
29
the suitability for adopting the cooperative scheme. In order to enhance the network throughput, it
is suggested in this paper that not only the cooperative diversity but also the transmission delay
should be considered in the design of cooperative communications. Moreover, both the full-
CSI based cooperative (FCC) MAC protocol and bitwise competition based cooperative (BCC)
MAC protocol are proposed to adaptively choose the appropriate relay for data forwarding
against the variation of channel conditions. Although the FCC protocol is designed based on
full channel information, the overhead introduced by the exchange of control frames can result
in degraded throughput performance. On the other hand, the BCC protocol adopts the relay
contention process to limit the time period for acquiring channel information, which effectively
reduces the communication overhead. Simulation results show that both the proposed MAC
protocols can provide enhanced throughput performance compared to direct communication,
especially under poor channel conditions.
REFERENCES
[1] J. Laneman, G. Wornell, and D. Tse, “An efficient protocol for realizing cooperative diversity in wireless networks,” in
Proc. IEEE ISIT, p. 294, 2001.
[2] J. Laneman, D. Tse, and G. Wornell, “Cooperative diversity in wireless networks: Efficient protocols and outage behavior,”
IEEE Trans. Inf. Theory, vol. 50, no. 12, pp. 3062–3080, Dec. 2004.
[3] J. Boyer, D. Falconer, and H. Yanikomeroglu, “Multihop diversity in wireless relaying channels,” IEEE Trans. Commun.,
vol. 52, no. 10, pp. 1820–1830, Oct. 2004.
[4] P. Mitran, H. Ochiai, and V. Tarokh, “Space-time diversity enhancements using collaborative communications,” IEEE Trans.
Inf. Theory, vol. 51, no. 6, pp. 2041–2057, Jun. 2005.
[5] G. Kramer, M. Gastpar, and P. Gupta, “Cooperative strategies and capacity theorems for relay networks,” IEEE Trans. Inf.
Theory, vol. 51, no. 9, pp. 3037–3063, Sept. 2005.
[6] W. Su, A. K. Sadk, and K. J. R. Liu, “Cooperative communication protocols in wireless networks: Performance analysis
and optimum power allocation,” Wireless Pers. Commun., vol. 44, pp. 181–217, 2007.
[7] A. K. Sadek, W. Su, and K. J. R. Liu, “Multinode cooperative communications in wireless networks,” IEEE Trans. Signal
Process., vol. 55, no. 1, pp. 341–355, Jan. 2007.
[8] H. Ochiai, P. Mitran, and V. Tarokh, “Variable-rate two-phase collaborative communication protocols for wireless networks,”
IEEE Trans. Inf. Theory, vol. 52, no. 9, pp. 4299–4313, Sept. 2006.
[9] A. Stefanov and E. Erkip, “Cooperative coding for wireless networks,” IEEE Trans. Commun., vol. 52, no. 9, pp. 1470–
1476, Sept. 2004.
[10] ——, “Cooperative space-time coding for wireless networks,” IEEE Trans. Commun., vol. 53, no. 11, pp. 1804–1809, Nov.
2005.
[11] G. Scutari and S. Barbarossa, “Distributed space-time coding for regenerative relay networks,” IEEE Trans. Wireless
Commun., vol. 4, no. 5, pp. 2387–2399, Sept. 2005.
[12] Y. Jing and B. Hassibi, “Distributed space-time coding in wireless relay networks,” IEEE Trans. Wireless Commun., vol. 5,
no. 12, pp. 3524–3536, Dec. 2006.
表 Y 04 
行政院國家科學委員會補助國內專家學者出席國際學術會議報告 
                                                            99 年 9 月 11  日 
報告人姓名  方凱田 
 
服務機構
及職稱 
 
交通大學電機工程學系 
 
     時間 
會議 
     地點 
ACM MobiSys 2010 
June 15 ~ 18, 2010 
San Francisco, CA, USA 
 
IEEE VTC Fall 2010 
September 6 ~ 9, 2010/9/10 
Ottawa, Canada 
本會核定
補助文號
 
會議 
名稱 
 (中文) 2010 ACM 行動系統應用及服務國際研討會 
 (英文) 2010 ACM International Conference on Mobile Systems, Applications 
and Services (MobiSys 2010) 
(中文) 2010 IEEE 車載無線通訊技術國際研討會 
 (英文) 2010 IEEE V ehicular T echnology Conference, F all (IEEE VTC-Fall 
2010) 
發表 
論文 
題目 
1. (中文) 針對車間通訊所設計以感知無線電為基礎的多頻道存取技術 
   ( 英文 ) Cognitive Radio En abled Mu lti-channel Access f or Vehicular  
Communications 
報告內容應包括下列各項： 
一、參加會議經過 
The 8th ACM International Conference on Mob ile Systems, Applications, and Services 
(MobiSys) 2010 was held in San Francisco, CA , USA, be tween June 15 and 18, 2010. It is 
targeting at observing innovativ e and significant research on the design, im plementation, 
usage, and evaluation of mobile computing and wireless systems, applications, and services. It 
is jointly sponsored by ACM SI GMOBILE and the USENIX asso ciation in cooperation with 
ACM SIGOPS.  
The topics of interest in MobiSys 2010 include software arch itectures for mobile devices, 
infrastructure support for m obile devices, system-level energy m anagement, operation 
systems, social networking, location determ ination, pervasive com puting, vehicular wireless 
systems, mobile sensing applications, persona l area networks (PANs), and tools for building 
and measuring mobile systems. 
Moreover, I also attended the ACM HotPlane t Workshop 2010 which is co-located with 
the MobiSys 2010. It focused on designing and building new m obile, ad-hoc, m esh a nd 
opportunistic networking system s a nd algor ithms that requires access to large ‐scale data on 
human mobility, encounter, and social network patterns. It is believed that large scale datasets 
are important, not only in comm unication network design, but also for fundamental study in 
other academic disciplines, e.g., epidemiology, urban planning, and social science. 
 
附
件
三
 
表 Y 04 
I presented the paper in the VTC Fall conference, which is a joint work between my group 
and Prof. Chuah from  the University of California at Davis. It was a very fruitful experience 
for me to pr esent this paper at VTC Fall to gain the feedback from  other researchers in th e 
same research fields. I believe it is valuable to be involved  in the intern ational activities and 
exploited the visibility of  our research works, es pecially it is considered  the hottest topic f or 
the next 10 years. 
 
There are excellen t res earch works  in m any sessions within different areas. Here are 
several findings that I have got during the conferences: 
1. Impact of  Channel Kno wledge on Cognitive R adio System  Capacity : W e exam ine 
the im pact of channel knowledge on the seco ndary user (SU) in a cognitive radio 
system. Under a m inimum signal-to-interfere nce-and-noise ratio (S INR) constraint 
for the primary user (PU) receiver, we determine the SU capacity under four channel  
knowledge scenarios. We derive analytical  expressions for the capacity cum ulative 
distribution functions which are verified by means of si mulations. We show that the
lack of exact knowledge of the PU-PU channel gain by the SU-Tx either prohibits SU 
transmission or necess itates high interference level at the PU. We also show that the 
lack of exact knowledge of the SU-Tx to PU-Rx link h as little or no  impact on S U 
capacity. 
2. A Novel Bargaining Based Relay Selec tion and Power Allocation  Schem e for 
Distributed Cooperative Comm unication Networks: Distribu ted and ef ficient relay 
selection and resource a llocation are critical for large scale cooperative  
communication networks. To stimulate a potential relay station to cooperate with the 
source, a bargaining based relay selection and power allocation ( BBRSPA) scheme is 
proposed. In this paper, Rubinstein-Stahl Bargaining game is introduced to provide a 
possible solution to share the increased benefits, which are obtained at a source when 
a potential relay joins to help transmit its signals. In this scheme, both a source and a 
relay calculate the patience factor according to the change in its own service utility. 
By exchanging the patience factor, a source selects the relay which can provide the  
maximal extra utility for itself, the corre sponding optim al power the chosen relay 
should allocate is also determined.  
3. Clustering Approach in Coordinated Mu lti-Point Transm ission/Reception System : 
Multi-cell cooperation has been  regarded as a prom ising technique of the future 
cellular wireless network to achieve higher transmission rate and better QoS (quality
of service) performance. Cooperation among base stations can be classified into two 
categories: centralized and di stributed cooperation. In this w ork, we mainly consider
efficient and practical cooperation clustering approaches in the downlink Coordinated 
Multi-Point (CoMP) system . A novel Multi -Layered clustering m ethod is proposed 
fordistributed cooperation, which is able to make a significant enhancem ent with 
limited overhead increment compared with traditional static clustering.  
Cognitive Radio Enabled Multi-channel Access for
Vehicular Communications
Jui-Hung Chu∗, Kai-Ten Feng∗, Chen-Nee Chuah†, and Chin-Fu Liu∗
∗Department of Electrical Engineering, National Chiao Tung University, Hsinchu, Taiwan
churh.cm98g@nctu.edu.tw, ktfeng@mail.nctu.edu.tw, and hubert.cm96@nctu.edu.tw
†Department of Electrical and Computer Engineering, University of California at Davis, USA
chuah@ece.ucdavis.edu
Abstract—The IEEE 1609.4 standard has been proposed to
provide multi-channel operations in wireless access for vehicular
environments (WAVE), where all the channels are periodically
synchronized into control and service intervals. The communi-
cation device in each vehicle will stay at the control channel
for negotiation and contention during the control interval,
and thereafter switch to one of the service channels for data
transmission in the service interval. The inefficiency of WAVE
system comes from the fact that half of the time intervals of the
service channels remain idle since all the stations are performing
message contention within the control channel. In this paper, the
cognitive radio-enabled multi-channel access (CREM) protocol
is proposed to increase the channel utilization of IEEE 1609.4
standard. Based on the concept of cognitive radio, the vehicular
stations are categorized into primary stations with safety-related
messages and secondary stations with non-safety information
to be delivered. Prioritized channel access is designed in the
proposed CREM scheme in order to increase the transmission
opportunity of primary stations. Moreover, extended time inter-
vals are granted for primary stations to ensure reliability for
data transmission. The enhanced CREM (CREM-E) protocol
is proposed to further opportunistically increase the channel
utilization of secondary stations. Simulation results show that
the proposed CREM-E scheme outperforms the existing IEEE
1609.4 protocol with enhanced channel utilization and smaller
waiting time intervals.
I. INTRODUCTION
The IEEE 1609 family of standards for wireless access in
vehicular environments (WAVE) [1] is defined to support ap-
plications for intelligent transportation systems (ITSs), includ-
ing safety and emergency services, automated toll collections,
traffic management, and commercial transactions between
vehicles. It specifies the architecture and management func-
tions to enable secure vehicle-to-vehicle (V2V) and vehicle-
to-infrastructure (V2I) wireless communications. In order to
facilitate the ITS applications, a local area network is formed
by a WAVE basic service set (WBSS) consisting two types of
major architectural components, i.e. the onboard units (OBUs)
in vehicles and the roadside units (RSUs) installed in road
infrastructure, which are denoted as stations in this paper.
Specifically, the IEEE 1609.4 standard [2] is proposed to
enhance the IEEE 802.11p medium access control (MAC)
1This work was in part funded by the Aiming for the Top University
and Elite Research Center Development Plan, NSC 96-2221-E-009-016, NSC
98-2221-E-009-065, the MediaTek research center at National Chiao Tung
University, the Universal Scientific Industrial (USI) Co., and the Telecommu-
nication Laboratories at Chunghwa Telecom Co. Ltd, Taiwan.
CCH Interval CCH IntervalSCH Interval SCH Interval
CCH 
SCH1
SCH2
SCH3
SCH4
SCH5
SCH6
50 ms               50 ms               50 ms               50 ms
Time
A
B
C
D
E
B
D
///
Sync Interval Sync Interval
Fig. 1. Schematic diagram of multi-channel operation in IEEE 1609.4
standard.
protocol [3] for multi-channel operations as illustrated in Fig.
1. The WAVE system is designed to operate on the 75 MHz
spectrum in the licensed ITS 5.9 GHz band. The operating
spectrum is divided into seven channels, including one con-
trol channel (CCH) and six service channels (SCHs), each
with 10 MHz bandwidth. On the other hand, from the time
domain perspective, all the seven channels are periodically
synchronized via the Sync Interval with default length of 100
ms, which is equally divided into the 50 ms CCH interval
and the 50 ms SCH interval. As shown in Fig. 1, all the
stations utilize the common CCH within the CCH intervals
to transmit control or management messages; while the SCH
intervals of six SCHs are employed by the stations within
the WBSS to deliver data frames for information exchange.
It is intuitive to observe that half of the time (i.e. during
the CCH intervals) within the SCHs can not be utilized for
data transmission since all the stations are either transmitting
or listening to the control messages in the CCH during the
CCH intervals. Furthermore, the reliability for transmitting
emergency or safety messages cannot be guaranteed according
to the existing WAVE standard.
Different research work has been proposed based on the
IEEE 802.11p/1609 standards [4–8]. Performance evaluation
of IEEE 802.11p protocol was conducted in [4] in view of
throughput, collision probability, and delay under different
numbers of nodes. In order to improve the inefficiency result-
ing from fixed backoff window size, both the centralized and
distributed approaches with optimal window size are proposed
in [5] for the V2I communications. A solicitation-based MAC
SCH2
SCH2
SCH4
SCH4
SCH1
SCH1
SCH5
SCH5
  CCH
Interval
  SCH
Interval
  (1)
Sync Interval
No available channel sensed
CREM scheme CREM-E scheme
Data
Sensing Interval WSA Frame
WSAR Frame
  (2)   (3)   (4)   (5)   (6)
   Primary
Provider (Pp)
   Primary
  User (Up)
 Secondary
Provider (Ps)
  Secondary
  User (Us)
Fig. 2. The operations in proposed CREM/CREM-E protocols.
such goals, the concept of cognitive radio is adopted in the
proposed CREM scheme, i.e. by mapping the providers with
safety-related messages as PUs, e.g. emergency or police cars,
and those with non-safety information as SUs, e.g. commercial
and general automobiles. In other words, the primary provider
Pp will have higher privilege in channel negotiation and is
allowed to have persistent opportunity to deliver its data until
finished. The secondary provider Ps, on the other hand, will
only be able to transmit data if there exists spectrum holes
within the network. Based on the proposed CREM protocol,
it can be assured that the primary providers will possess higher
opportunities to utilize the SCHs relatively to the secondary
providers in the network. The detail mechanisms of proposed
CREM scheme are described in the following subsection.
A. Detail Mechanisms of CREM Scheme
In order to perform the concept of cognitive radio, the
capability of conducting wide-band spectrum sensing [11] is
required for all the stations. As shown in Fig. 2, every station
will update the spectrum condition of all the six SCHs by using
its radio transceiver at the beginning of every sync interval.
After monitoring and acquiring the channel information of the
six SCHs, the station will establish its own channel status table
(CST) which indicates if the channel is either in idle or busy
state. The providers that intend to perform data transmission
will start with transmitting WSA frames on the CCH during
the CCH interval in order to contend for channel access.
Based on its CST information, an unoccupied SCH will be
selected by the provider as a targeting channel to switch into,
which will be recorded in the WSA frame. A handshake is
completed in the case that one of the WBSS member transmits
the corresponding WSAR frame for acknowledgement.
For achieving prioritized channel access between Pp and Ps,
the enhanced distributed channel access (EDCA) mechanism
proposed in IEEE 802.11e standard [12] will be utilized. The
EDCA scheme defines different access categories (ACs) in
a station associated with their distinct arbitration inter-frame
spaces (AIFSs) and CW sizes. In order to provide Pp with
higher opportunity for channel access, Pp will be assigned
with high-priority AC which is associated with smaller value
of AIFSs and CW sizes. As a consequence, Pp should possess
greater chance to win the channel contention comparing with
Ps, which is designated with low-priority AC. After the
reception of successful WSA/WSAR handshakes from the
other providers, a provider will update its own CST in order
to record the change of channel states. In other words, if
a provider observes a successful handshake from another
provider that contains the same selected SCH as targeting
channel, it will choose another unoccupied SCH based on its
CST. After the completion of contention process during the
CCH interval, the stations that are granted with an SCH will be
switched to that channel for data transmission. The behaviors
for data delivery will be different for the two different types
of providers, i.e. Pp and Ps, as stated in the following.
1) Primary Providers: Based on the CREM protocol, Pp
is privileged to transmit data until completion as long as it
acquires the possession of an SCH. The primary provider
can transmit its data for more than one sync interval without
having to return to the CCH in the CCH intervals. In other
words, the primary provider does not need to conduct channel
sensing and contention during its data transmission within the
CCH intervals. After the data transmission has finished, Pp
will return to the normal sync intervals and channel switching
processes. The primary provider can start another new data
transmission by conducting channel contention on the CCH
in the CCH interval.
2) Secondary Providers: According to the prioritized
EDCA scheme, the secondary providers possess lower priority
to contend for channel access of SCHs. In the case that the
data size from a Ps is larger than an SCH interval, more than
one sync intervals will be necessary to complete the data trans-
mission. Ps will have to conduct channel sensing, contention,
and negotiation processes within multiple CCH intervals on
the CCH in order to accomplish it data transmission.
Fig. 2 shows the examples to explain the operations of the
proposed CREM protocol. It is noted that only one pair of
primary provider and user (Pp, up) and one pair of secondary
provider and user (Ps, us) are shown in the diagram for
explaining purpose. There are still other providers and users
that are competing for data transmission within the six SCHs.
In the first sync interval, both Pp and Ps are conducting
prioritized channel contention with other providers on CCH
within the CCH interval. Assuming that the the secondary
provider Ps wins the channel contention while the primary
provider Pp fails in the contention due to packet collision,
the pair (Ps, us) will both switch to the SCH 1 during the
SCH interval to conduct data transmission. At the second
sync interval, it is considered that the primary provider Pp
finally successes in channel contention and start to conduct
data delivery at SCH 2. Based on the design of proposed
CREM protocol, Pp will continue its data transmission in the
following third to sixth sync intervals due to its privilege usage
of channel. On the other hand, the secondary provider Ps may
observe that there does not exist available SCHs in its CST
during the channel sensing period of the second sync interval,
which prevents Ps from delivering its WSA frames. Until the
third sync interval, Ps succeeds in channel contention and
0 5 10 15 20 25 30 35 40 45 50
0
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
1
Number of Provider
R
at
io
 o
f C
ha
nn
el
 U
tili
za
tio
n
 
 
λ=2   (1609.4)
λ=6   (1609.4)
λ=20 (1609.4)
λ=2   (CREM−E)
λ=6   (CREM−E)
λ=20 (CREM−E)
(a) Ratio of channel utilization
0 5 10 15 20 25 30 35 40 45 50
0
5
10
15
20
25
30
Number of Providers
Av
er
ag
e 
W
ai
tin
g 
Ti
m
e 
In
te
rv
al
 
 
λ=2   (1609.4)
λ=6   (1609.4)
λ=20 (1609.4)
λ=2   (CREM−E)
λ=6   (CREM−E)
λ=20 (CREM−E)
(b) Waiting time slot
0 5 10 15 20 25 30 35 40 45 50
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
1
Number of Providers
Co
nt
ro
l O
ve
rh
ea
d
 
 
λ=2   (1609.4)
λ=6   (1609.4)
λ=20 (1609.4)
λ=2   (CREM−E)
λ=6   (CREM−E)
λ=20 (CREM−E)
(c) Control overhead
Fig. 4. Performance comparison of three metrics vs. number of providers.
utilization can be increased for both schemes as the arrival
rate is augmented. The proposed CREM-E scheme can attain
around 70% of channel utilization under three different cases;
while the 1609.4 protocol can only reach around 40% of chan-
nel utilization. With larger number of providers, the CREM-E
method can still preserve the ratio of channel utilization due to
its effective usage of CCH intervals for data transmission. On
the other hand, owing to the severe frame collision, the channel
utilization from conventional 1609.4 protocol decreases as the
number of providers increases. Fig. 4(b) shows the average
waiting time interval of each arrival with respect to the number
of providers. It is noted that a single waiting time interval is
denoted as the length of an SCH interval, i.e. 50 ms. It can be
seen from Fig. 4(b) that the proposed CREM-E scheme results
in lower waiting time comparing with the 1609.4 protocol
under different arrival rates and number of providers, e.g.
around 5 intervals less under arrival rate = 2 frames/sec and
number of providers = 50.
Fig. 4(c) shows the comparison of control overhead, which
is calculated as the average number of handshaking from a
provider within a sync interval. With lower arrival rate under
λ = 2 frames/sec, it is observed that the proposed CREM-E
scheme will incur higher control overhead comparing with the
1609.4 protocol under larger number of providers. The major
reason is that the higher channel utilization from CREM-
E method results in less idle spectrum for the secondary
providers. With large amount of providers co-existing and
contending to transmit data, each provider needs to contend
and retry for channel access, which increases the number of
WSA/WSAR handshakes. However, with increased value of
arrival rate, i.e. λ = 20 frames/sec, excessive amount of
handshakes is required for both protocols to announce and
conduct data transmission. Larger amount of collision will
happen due to the overloaded traffic, which makes providers
to frequently rebroadcast their handshake frames. Neverthe-
less, the proposed CREM-E protocol can still maintain lower
control overhead since each WAS/WASR handshake will be
good for elongated intervals of data transmission.
V. CONCLUSION
In this paper, the cognitive radio-enabled multi-channel
access (CREM) protocol is proposed to enhance the channel
utilization of IEEE 1609.4 standard for vehicular networks.
Primary providers and secondary providers are respectively
defined in the proposed CREM scheme that corresponds
to safety-related and non-safety messages. For the primary
providers, prioritized channel access scheme is utilized to
increase the transmission opportunity; while elongated trans-
mission time is adopted to increase the channel utilization.
The enhanced CREM (CREM-E) protocol further increase the
channel utilization of secondary provider by opportunistically
increasing its transmission time interval.
REFERENCES
[1] R. A. Uzca´tegui and G. Acosta-Marum, “WAVE: A Tutorial,” Comm.
Mag., vol. 47, no. 5, pp. 126–133, 2009.
[2] “IEEE Trial-Use Standard for Wireless Access in Vehicular Environ-
ments (WAVE) - Multi-Channel Operation,” IEEE Std 1609.4-2006, pp.
c1–74, 2006.
[3] IEEE P802.11p/D7.0, “Wireless LAN Medium Access Control (MAC)
and Physical Layer (PHY) Specifications-Amendment 7: Wireless Access
in Vehicular Environment”, 2009.
[4] S. Eichler, “Performance Evaluation of the IEEE 802.11p WAVE Com-
munication Standard,” in IEEE 66th Vehicular Technology Conference
(VTC-2007 Fall), Oct. 2007, pp. 2199–2203.
[5] Y. Wang, A. Ahmed, B. Krishnamachari, and K. Psounis, “IEEE
802.11p Performance Evaluation and Protocol Enhancement,” in IEEE
International Conference on Vehicular Electronics and Safety (ICVES
2008), Sept. 2008, pp. 317–322.
[6] N. Choi, S. Choi, Y. Seok, T. Kwon, and Y. Choi, “A Solicitation-based
IEEE 802.11p MAC Protocol for Roadside to Vehicular Networks,” in
Mobile Networking for Vehicular Environments, May 2007, pp. 91–96.
[7] K. Bilstrup, E. Uhlemann, E. Strom, and U. Bilstrup, “Evaluation of the
IEEE 802.11p MAC Method for Vehicle-to-Vehicle Communication,”
in IEEE 68th Vehicular Technology Conference (VTC 2008-Fall), Sept.
2008, pp. 1–5.
[8] S. Wang, C. Chou, K. Liu, T. Ho, W. Hung, C. Huang, M. Hsu, H. Chen,
and C. Lin, “Improving the Channel Utilization of IEEE 802.11p/1609
Networks,” in IEEE Wireless Communications and Networking Confer-
ence (WCNC), Apr. 2009, pp. 1–6.
[9] S. Haykin, “Cognitive Radio: Brain-Empowered Wireless Communica-
tions,” IEEE J. Select. Areas Commun, vol. 23, pp. 201–220, Feb. 2005.
[10] I. F. Akyildiz, W.-Y. Lee, M. C. Vuran, and S. Mohanty, “NeXt Gen-
eration/Dynamic Spectrum Access/Cognitive Radio Wireless Networks:
A Survey,” Computer Networks, vol. 50, pp. 2127–2159, 2006.
[11] Z. Yan, Z. Ma, H. Cao, G. Li, and W. Wang, “Spectrum Sensing, Access
and Coexistence Testbed for Cognitive Radio using USRP,” in IEEE 4th
International Conference on Circuits and Systems for Communications
(ICCSC 2008), May 2008, pp. 270–274.
[12] IEEE 802.11 WG, IEEE Std 802.11e-2005: Part 11: Wireless LAN
Medium Access Control (MAC) and Physical Layer (PHY) specifica-
tions: Amendment 8: Medium Access Control (MAC) Quality of Service
Enhancements, IEEE Standards Association Std., 2005.
96年度專題研究計畫研究成果彙整表 
計畫主持人：方凱田 計畫編號：96-2221-E-009-016-MY3 
計畫名稱：廣義的機會式通訊：無線行動網路中之競爭、合作與感知--子計畫三:感知無線行動網路之
協力式擇路協定及服務品質控制 
量化 
成果項目 實際已達成
數（被接受
或已發表）
預期總達成
數(含實際已
達成數) 
本計畫實
際貢獻百
分比 
單位 
備 註 （ 質 化 說
明：如數個計畫
共同成果、成果
列 為 該 期 刊 之
封 面 故 事 ...
等） 
期刊論文 0 0 100%  
研究報告/技術報告 0 0 100%  
研討會論文 0 0 100% 
篇 
 
論文著作 
專書 0 0 100%   
申請中件數 0 0 100%  專利 已獲得件數 0 0 100% 件  
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 2 2 100%  
博士生 1 1 100%  
博士後研究員 0 0 100%  
國內 
參與計畫人力 
（本國籍） 
專任助理 0 0 100% 
人次 
 
期刊論文 2 2 100%  
研究報告/技術報告 1 1 100%  
研討會論文 6 6 100% 
篇 
 
論文著作 
專書 1 1 100% 章/本  
申請中件數 0 0 100%  專利 已獲得件數 0 0 100% 件  
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 0 0 100%  
博士生 0 0 100%  
博士後研究員 0 0 100%  
國外 
參與計畫人力 
（外國籍） 
專任助理 0 0 100% 
人次 
 
 
