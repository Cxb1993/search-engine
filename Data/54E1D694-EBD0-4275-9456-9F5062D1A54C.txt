 1
1. 前言 
近來微型電路機械製造的技術(micro-electro-mechanical system)、無線通訊、電池科
技改良及數位電路整合技術的快速發展，促使微小的感測器(sensor)具有低成本、感測環
境、無線通訊及處理資訊的能力[1]。感測器不但能夠感測及監控特定目標物及環境現象
的改變，並可將收集到的數據經過簡單處理後，再以無線傳輸的方式傳送到匯集點(sink)
或基地台(base station)，以完成感測任務。 
受限於感測器本身是利用電池來供應運作所需的能量，且在部署後將不再予以照
顧，為了節省傳輸時的能量消耗，感測點經常需要藉由有效的繞路方式，如多步代傳機
制(multi-hop relay)建立路徑(route)或用其他方法將資料經由多個感測器的合作傳回基地
台。目前現有的無線隨意網路(mobile ad hoc network, MANET)的架構是最接近感測網路
的架構，雖然它們同為無固定基礎架構(infrastructure)型的網路，但由於兩者的特性上的
差異，如能量限制、節點的佈置、通訊模式等等，現有的無線隨意網路的協定及演算法
大多無法直接應用到感測網路上。因此，在如何設計符合應用需求之有效方法來完成感
測任務便十分重要，而許多學者們也正積極投入相關研究中，這些議題包含實體層與
MAC 層的改良[16][17]、廣播的應用[2][8]、資料的收集[3][4][7][9][10][11][13]、覆蓋
(coverage)及感測點的排程規劃[14][15]等等。 
 
2. 研究目的 
資料收集(data gathering)是無線感測網路最需要也最基本的運作，一般而言，所有
感測器將感測的資料直接傳輸至某一個特定匯集點，待所有資料收集完成後傳回控制中
心或基地台以供使用者存取。無線傳輸動作是感測器最主要的能量消耗，若是每個感測
器直接將感測資料傳輸至基地台將會消耗許多能量，當某些感測器因能量耗盡而無法作
用時，網路所收集的資料將不完整也不夠精確。因此，在資料收集的應用中，考量感測
器的能量消耗並有效控制能量是必要的。 
目前已有許多學者研究探討無線感測網路中的節省能量的方法。有的方法是使用資
料融合技術[5]，在密度較高的環境下，由於感測器的感測範圍有相互重疊的情形，為了
解決資料重複性的問題，將不同感測器所產生的感測資料融合成單一的資料封包，以減
少在感測器和匯集點之間的資料傳輸量來達到節省部分能量之效果。而有些方法是感測
點使用較小的傳輸距離，將感測資料透過多步傳輸(multi-hop relay)的合作方式傳送到匯
集點，例如，將感測網路組織成叢集(cluster)[3][10][11]、鏈(chain)[2][7][9]或樹(tree)[4][13]
等架構，而每次只需少部分的感測點作長距離的傳送與基地台溝通，並讓網路中的感測
點輪流分攤此任務。此種多步傳輸的策略不僅可降低每個感測點本身的能量耗損，並且
也將能量的消耗平均分攤到所有感測點上，以達到平衡能量消耗(energy-balanced)的目
的。 
本計畫考量無線感測網路的限制與特性，設計一個有效的資料收集機制，其利用分
格的方式將網路階層化，減少感測點的能量消耗並兼顧覆蓋需求，然後建構迴圈的圖形
架構來進行資料收集，進而有效降低傳輸延遲時間，以達到平衡能量消耗與傳輸延遲時
間之效果。 
 
3. 有效的資料收集機制 
我們所提出的資料收集機制，分為三個部分，包含分格架構之階層式的管理、階層
化迴圈架構的資料收集以及相關維護機制。 
 
3.1 分格架構之階層式管理 
我們使用分格(grid)[6]的架構來劃分網路，將感測點作有效的管理，使感測網路具
有擴充性。而為使分格內的點能感測整個分格並可與鄰近分格的點作溝通，我們設定分
 3
由式(1)、(2)可看出，傳輸能量的消耗與距離的平方成正比，距離越小，能量消耗
則越小。然而，傳送與接收本身就有固定的能量損耗(Eelec × k)，若減少傳輸距離來降低
每個感測點的傳輸能量，則需更多感測點來完成資料收集的任務，尤其在高密度的網路
環境中，此影響更為明顯。因此，我們將網路做適當的分格劃分，不僅使得感測點之間
有適當的傳輸距離，也能有效控制參與資料收集任務的點數，進而減低總能量的消耗。 
 
3.3 階層化迴圈架構之資料收集 
我們提出階層化的迴圈架構，其主要概念為，依分格的網路環境，在底層區域性的
建構迴圈，此由每個分格的代表點來組成，以便於每個代表點(head)都能與鄰近分格的
代表點來完成封包的傳送與接收。每個迴圈上會選出一個彙集點(leader)，以收集該迴圈
的感測資料，而同一階層的彙集點再繼續形成上層的迴圈，依序建立階層式架構來完成
資料的收集，最終由最上層的彙集點將收集的資料傳送回基地台，如圖 4 所示。此外，
在每個階層中，迴圈上的點會輪流地擔任彙集點的角色，以達到平衡分格間的能量消耗
的效果。以下，我們先介紹迴圈的形成，接著說明彙集點的選取與資料的收集方式。 
 
 
       
 
圖 4 階層化迴圈架構圖     圖 5 迴圈範例 
 
3.3.1 迴圈的形成 
感測點根據基地台所提供的位址資訊，便能得知自己所在的分格座標，在同一階層
中的所有代表點根據自己所在的分格座標，對應到使用者所設定的迴圈圖形，便可得知
自己在迴圈上的位置(如位置 0 到位置 15)。例如，一個簡單的對應方式如圖 5(b)，若感
測點的分格座標(x，y)=(0，0)，則自己在該迴圈上的位置為 0；若(x，y)=(0，1)，則自
己在該迴圈上的位置為 1；依此類推。當底層迴圈建立完成後，將選出的彙集點繼續形
成上層的迴圈，如圖 4 所示。迴圈的圖形架構簡單，且適用於任何分格大小的網路環境
中。而我們也可視應用及網路大小來決定最底層的迴圈大小。 
 
3.3.2 迴圈上彙集點的選取與資料收集 
在彙集點的選取方面，我們希望每回合以不同的代表點來擔任此彙集點以平均分攤
能量消耗於分格代表點。因此，假設目前為第 i 個回合的資料收集，同一階層迴圏上的
代表點個數為 n，則指派第 ( )1 modi n− 位置之代表點為彙集點，來收集該層迴圈的資料。 
 
(1) 底層(level 1)迴圈之資料收集 
在資料收集的過程中，減少能量消耗與縮短資料的傳輸延遲時間經常有所衝突，
為了要減少傳輸延遲時間，則需要消耗較多的能量。因此，在能量消耗與傳輸延遲時
(0,0) (1,0) 
(0,2) 
(3,1) 
(3,0) 
(2,1) (1,1) (0,1) 
(2,0) 
(3,3) 
(2,3) 
(1,3) 
(0,3) 
(1,2) (2,2) (3,2) 
0 
1 
3 
2 
4 
1
3
1
4
1
1
1
1
1
2
5 
9 
8 
7 
6 
1
0
2
3
 
(a) (b) 
 5
在上述底層以 16 格為一個迴圈的資料收集過程中，彙集點至少須等待 8 個單位
時間來收集迴圈上的資料，針對此問題，我們提出一種改善傳輸延遲時間的方法，即
參考 PEGASIS[7][9]中的作法，將所有感測點組織成兩兩一對，利用 CDMA 機制使每
對感測點能同時傳輸資料。因此，在迴圈中，每一點的資料傳輸方向都是往彙集點位
置的方向傳送，且只有收到封包的感測點能提升為下一個階層的點，然後再繼續傳送
給同階層的鄰居，直到傳送至最上層的彙集點。例如，我們將圖 6(b)表示如圖 8，假
設目前由第 0 位置的代表點擔任此回合的彙集點，利用此改良方法來傳送資料，便能
將傳輸延遲降為 log n⎡ ⎤⎢ ⎥ 個單位時間(即為 4 個單位時間)。 
 
  
9 10 11 0 1 32 4 5 6 7 812 13 14 15
10 12 14 0 1 3 5 7
12 0 1 5
0 1
 
圖 8 改良的資料收集方法 
 
(2) 上層(level n, n>1)迴圈之資料收集 
在底層迴圈資料收集完成後，彙集點便依照上述原則，調整其傳輸範圍傳送至較
上層彙集點，或直接傳送回基地台。為了資料傳輸的可靠性，即考慮同階層中鄰近區
域可能有點死亡，感測點則必須調整傳輸範圍至該階層中鄰近點可能所在區域的最大
範圍，圖 9 為其演算法。 
當迴圈上的代表點因收到 To_be_leader 封包被通知要擔任彙集點時，則等待此迴
圈資料自周圍兩邊收集過來，一旦收到該迴圈的資料後，便依位置遞增方向傳送
To_be_leader 封包尋找下一回合的彙集點，即位置(i+1) mod n 的代表點，然後調整其
傳輸範圍傳送至同階層中的彙集點，或是直接傳送回基地台。我們若將上層迴圏表示
成如圖 10，則當 A 點收集底層迴圈的資料後，便調整其傳輸距離來傳送，以確保其(1, 
0)區域之彙集點(B 點)收到感測資料。 
 
   
 
(0,0)
(0,1) (1,1)
(1,0)
A B
CD
 
圖 9 彙集點資料收集演算法      圖 10 上層迴圈之資料收集 
 
3.4 迴圈維護 
當某個分格內的感測點均失效時，迴圈的架構也將受到影響，因此，我們提出以下
的維護機制。 
在底層若以 4 個分格來形成迴圈，由於迴圈上的代表點，其彼此距離都夠近，一個
簡單的維護方式是當某個分格只剩一個感測點而此感測點又即將失效時，便主動廣播給
迴圈上鄰近分格的代表點告知此分格即將失效，因此，在資料的跨格傳遞或是迴圈彙集
點的選取上均不易出錯。然而，在底層若以 16 個分格來形成迴圈，當迴圈上位置為 i
若迴圈上位置 i 的代表點收到 To_be_leader
封包 
則 
(1)當收集該迴圈的資料完成後， 
傳送 To_be_leader 封包至位置 
(i+1) mod n 的代表點； 
(2)調整傳輸範圍，傳送資料至上層彙集點
或基地台；
 7
4.1 模擬環境假設與參數設定 
我們假設感測點均勻的被部署在感測區域內，並不具移動性，初始能量均相同，且
每個點具有調整傳輸能量的能力[12]，每個感測點都能與其他感測點或基地台作直接的
溝通。我們假設兩點之間的廣播不會碰到干擾或衝突等問題，並且當兩點在其廣播範圍
時，資料能被成功的傳輸和接收。此外，每一點都有資料融合的能力，其收到 k-bit 資
料封包與自己的感測資料融合成 k-bit 封包再傳送出去。 
我們使用 C 語言設計一無線感測網路之模擬環境，所設定的參數如下： 
z 模擬空間：100m × 100m 
z 感測點數：400、800，感測點的初始能量為 0.25J 
z 基地台座標：(50, 200)、(50, 50) 
z 分格邊長(d)：12.5m，感測半徑：18m  
z 資料封包大小：k = 2000，資料融合所需能量：5 nJ/bit 
 
4.2 回合數與覆蓋率分析 
圖 12 至圖 15 分別為各方法在不同點數及不同的基地台位置下，感測點失效百分
比、回合數及覆蓋率之間的關係圖。由模擬結果可看出，在各環境下，我們的方法效能
表現較佳，而隨著網路密度提高時，各方法的效能皆提高，但我們的方法上升幅度更為
明顯。這是因為分格架構的優點，能有效的控制整體的總能量消耗，不因點數增多而增
加總能量消耗。而在覆蓋率方面，由於我們的方法讓每個分格只有一個代表點在運作，
且持續直到失效再由分格內下一個點擔任代表點，故在資料收集的過程，能讓分格之間
具有平衡能量消耗(energy-balanced)的效果，使其維持良好的覆蓋率。 
 400 nodes, 0.25J/node, BS(50,200)
0
500
1000
1500
2000
2500
3000
3500
4000
4500
1st 20% 50% 70% 80% 90% 100%
Node Death Percentage
N
um
be
r o
f R
ou
nd
s
Direct
LEACH
PEGASIS
Ours(4-Level4)
Ours(16-Level3)
  
400 nodes, 0.25J/node, BS(50,50)
0
1000
2000
3000
4000
5000
6000
7000
1st 20% 50% 70% 80% 90% 100%
Node Death Percentage
N
um
be
r o
f R
ou
nd
s
Direct
LEACH
PEGASIS
Ours(4-Level3)
Ours(16-Level2)
 
(a)基地台位置(50, 200)     (b)基地台位置(50, 50) 
圖 12 感測點失效百分比與回合數之關係圖 (400 點) 
 
 800 nodes, 0.25J/node, BS(50,200)
0
1000
2000
3000
4000
5000
6000
7000
8000
9000
1st 20% 50% 70% 80% 90% 100%
Node Death Percentage
N
um
be
r o
f R
ou
nd
s
Direct
LEACH
PEGASIS
Ours(4-Level4)
Ours(16-Level3)
  
 800 nodes, 0.25J/node, BS(50,50)
0
2000
4000
6000
8000
10000
12000
14000
1st 20% 50% 70% 80% 90% 100%
Node Death Percentage
N
um
be
r o
f R
ou
nd
s
Direct
LEACH
PEGASIS
Ours(4-Level3)
Ours(16-Level2)
 
(a)基地台位置(50, 200)     (b)基地台位置為(50, 50) 
圖 13 感測點失效百分比與回合數之關係圖 (800 點) 
