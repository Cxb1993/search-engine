 2
使用內部和外部感測器來考慮初值化姿
態和保持機器人的連續即時姿態對自主
導航機器人是很重要的，因為不只僅僅在
起動中的初值定位問題，而且在操作期間
中，倘若當機器人定位一旦發生分歧時，
如何給予機器人作適時的定位補償[4]。  
定位更是利用先驗環境地圖資訊、機
器人初值姿態估計以及感測器的觀測值
等輸入資訊，經過一定的處理和變換，產
生更加準確對機器人姿態估測。目前，室
內自主式移動機器人大多採用機載感測
器定位，它主要由姿態追蹤、地圖獲取組
成。應用感測器感知的資訊實現可靠的定
位是當前移動機器人研究中倍受關注、富
有挑戰性的重要研究主題。使用外部感測
器(例如: 里程計、攝影機、紅外線、微
波雷達、陀螺儀、雷射掃描器、超音波感
測器、和RFID等等)和配合所設計的定位
演算法可以量測到有關的定位問題。雖然
定位的研究領域很寬廣，在文獻中相關研
究曾被提出在[4-7]中。雖然移動機器人定
位問題已經研究多年，但是現有各種方法
都仍然存在種種不足，在解決定位問題中
遇到不確定性問題上各種方法各有優缺
點，對於主動式訊號研究中，作者[7]曾提
出較低成本超音波定位系統(使用兩個超
音波發射器和3個接收器系統有關機器人
的自我定位系統)。在文獻[4]所提出定位
方法中，雖然被應用於移動服務型機器
人；但是複雜和耗費時間方可獲得機器人
最初姿態定位，而且超音波定位系統在[7]
中也被處理有關初值的姿態問題時，準確
度方面卻有需要再改進的缺點。  
無線射頻辨識系統是非接觸式利用
無線電的識別系統，透過附著在人身上或
物品上面的ID身分識別標籤(由IC晶片、天
線與包材所構成)和讀卡機進行通訊，以無
線方式進行必要資訊的交換。主動式電子
標籤裡因為裝置了電池，能將標籤的訊號
發射到100m甚至更遠，一般的應用主要為
10~30m的感應距離，圖1為一般主動式的
RFID系統。  
本計畫目的是先利用無線射頻辯識
系統的標籤校正與使用最小平方法估測
出移動機器人初值定位技術，並融合雷射
掃描器使用模糊增廣訊息濾波器演算法
為基礎的量測技術，發展機器人即時姿態
追蹤技術，透過所提議的演算法，不僅很
容易為機器人作最初姿態定位，而且可使
用在移動中的機器人定位估測，為導航提
供一個更簡單和有效率定位系統。 
   本報告的內容共分為六節，依序敘述主
要研究成果，第二節描述實用的應用雷射
掃描器之姿態追蹤系統與訊號融合法則。
第三節敘述應用無線射頻辯識系統之姿態
追蹤的相關研究成果與概況。第四節闡述
如何運用融合 RFID、里程計和雷射掃描器
即時姿態追蹤定位演算法，第五節實驗與
討論。第六節為本報告的結論。 
 
二、 融合雷射掃描器與里程計之姿態 
本系統首先利用雷射掃描器所掃到環
境的資料與所建環境模型來做比對，並透
過檢驗門檻(Validation Gate) 和最小平方
線段擬合(Least square line fitting) 此兩種
方法，來擷取雜亂的模型參數。圖2為所
提議的以模糊增廣訊息濾波演算法為基
礎的姿態追踪演算法方塊圖，其中M代表
為環境模型。 
2.1 環境模型 
如圖 3 所示，設 im為一矩行的環境模
型，M是由若干個牆所組成的，而每個牆
是以 ( , , )m m mi i ilρ α 三個參數所表示。其中 miρ
表示為原點到牆的垂直距離，  miα 為原點
到牆之間的夾角， mil 為牆的長度。 
2.2牆引出(線的擷取) 
其次有關牆引出方法，包括二部份為
檢驗門檻(Validation Gate) 和最小平方線
段擬合(Least square line fitting)方法，如圖
2所示。(1) 檢驗門檻(Validation Gate)如圖
4 所示，G 以 4 個參數 ( )ˆ ˆ, , ,G ρ α δ γ= 表
示，其中 ρˆ為導航的位置到預估牆的垂直
距離， RY 是機器人前進的方向，且αˆ定義
為機器人前進的夾角，δ 是檢驗門檻的寬
度，γ 是檢驗門檻的開角。檢驗門檻最主
要的目的是將雷射所掃到的資料中所屬
於雜訊的部份先行濾掉。(2)最小平方線段
 4
z 如果平均值 r 是小的，且動差 2rσ 是大的，且
變化率是正的，則   α 是適中。 
z 如果平均值 r 是大的，且動差 2rσ 是適中的，
且變化率是零的，則  α 是大的。 
z 如果平均值 r 是適中的，且動差 2rσ 是適中
的，且變化率是負的，則   α 是大的。 
 
三、  應用無線射頻辯識系統(RFID)之    
姿態追蹤 
3.1  電子標籤(Tag)的校正方法 
RFID定位是利用 RSSI 值來分析 Tag
和 Reader之間的距離，雖然 RSSI值會因
為某些因素干擾，如多路徑影響、環境溼
度、溫度、穿透衰減…等產生 RSSI浮動，
故需要進行 Tag 校正。，但可以確定的是
RSSI值在某個特定環境下，會和距離產生
某種關係。利用波傳導理論和實驗經驗，
求得的 RSSI-Distance特性曲線後，利用此
校正曲線，轉換成相對應距離後，再使用
最小平方法來求得機器人姿態座標。對於
m個 Tag而言，RSSI值和相對應距離的數
學關係式可表示為 
  KRSSI , 1, ,i n
i
i m
d
= = L       (12) 
其中 id 為距離，參數 K和 n 為兩個校正
參數。由每個 Tag實驗 n公尺的 RSSI- 
Distance關係，可以得到下列聯立方程式        
10 1 10 1
10 2 10 2
10 10
1   log log RSSI
1   log log RSSIa
b              
1   log log RSSI
                  A    
n n
d
d
d
−⎡ ⎤ ⎡ ⎤⎢ ⎥ ⎢ ⎥− ⎡ ⎤⎢ ⎥ ⎢ ⎥=⎢ ⎥⎢ ⎥ ⎢ ⎥⎣ ⎦⎢ ⎥ ⎢ ⎥−⎣ ⎦ ⎣ ⎦
⇒ =X B
M M     (13) 
其中參數 a、b可經由最小平方法求得 
  T -1 T
a
=(A A) A B
b
⎡ ⎤= ⎢ ⎥⎣ ⎦X        (14)               
其中 aK=10 ,  =bn 。 
 
3.2 最小平方定位法 
設定 m個 Tag，由所得到校正曲線，
分別求出各 Tag和 Reader間相對應距離， 
1 1 1 1 2 2 2 2
1/
T ( , , ) ,T ( , , ) , ,T
( , , ) , (K /RSSI ) , 1, , ,
T T
m
T ni
im m m i i
x y z x y z
x y z d i m
= = =
= =
L
L
轉換每個 Tag的 RSSI值成為相對應距離。 
由圖 9所示，可以得到下列聯立方程式  
           
2 2 2 2
1 1 1 1
2 2 2 2
2 2 2 2
2 2 2 2
  ( ) ( ) ( )
  ( ) ( ) ( )
 
                                
  ( ) ( ) ( )m m m m
x x y y z z d
x x y y z z d
x x y y z z d
⎧ − + − + − =⎪⎪ − + − + − =⎪⎨⎪⎪⎪ − + − + − =⎩
M
   (15) 
 
經由化簡，可得下列方程式    
AX = B  
其中 
1 2 1 2 1 2
1 1 1
1 1 1
2 2 2 2 2 2 2 2
2 1 1 2 1 2 1 2
2 2 2 2 2 2 2 2
1 1 1 1
2 2
1
2( )   2( )   2( )
= 2( )   2( )   2( )  , 
2( )   2( )   2( )
- +( ) ( ) ( )
 = - +( ) ( ) ( )
- +
i i i
m m m
i i i i
m
x x y y z z
x x y y z z
x x y y z z
d d x x y y z z
d d x x y y z z
d d
− − −⎡ ⎤⎢ ⎥⎢ ⎥⎢ ⎥− − −⎢ ⎥⎢ ⎥⎢ ⎥− − −⎣ ⎦
− + − + −
− + − + −
A
B
M
M
M
M
2 2 2 2 2 2
1 1 1( ) ( ) ( )m m mx x y y z z
⎡ ⎤⎢ ⎥⎢ ⎥⎢ ⎥⎢ ⎥⎢ ⎥⎢ ⎥− + − + −⎣ ⎦
由最小平方法解矩陣方程式 
       T -1 TX = (A A) A B          (16) 
X即為所求的機器人位置座標 ( , , )Tx y z 。 
 
3.3機器人方位的計算 
在室內定位中角度問題或許不用在
意，但對放置於展覽場的機器人來說，方
位是很重要的。譬如當機器人要走到下一
個會場時，如果只知道自己的位置卻不知
道方位，有可能立刻就喪失定位的功能。
經 3.2所求的機器人位置座標 ( , , )Tx y z=X
外，當機器人前進一小段距離時，可由兩
點位置能決定一直線方程式如(17)式。 
y = X +ci im          (17) 
其中 m為直線斜率、c為截距。 
假設從(16)式求得多點機器人座標，
(17)式可寫成下列矩陣形式。 
 6
式(24)外，另外需要下列描述車體的運動
狀態方程式： 
( 1) ( ( )) ( )X k f X k W k+ = +     (24) 
式中 
( ) cos ( )
( ( )) ( ) sin ( )  ,  
( )
( )
( ) ( ) , 
( )
 ,   .
x
y
c c
x k d k
f X k y k d k
k
w k
W k w k
w k
T w d T v
θ
θ
θ
θ θ
θ
+ ∆⎡ ⎤⎢ ⎥= + ∆⎢ ⎥⎢ ⎥+ ∆⎣ ⎦
⎡ ⎤⎢ ⎥= ⎢ ⎥⎢ ⎥⎣ ⎦
∆ = ∆ ⋅ ∆ = ∆ ⋅  
式中 ( )xw k 和 ( )yw k 表示位置推算器的位
置誤差；  ( )w kθ 表示地面不平的隨機干擾
量。使用離散時間的模糊增廣訊息濾波器
來估算移動機器人的姿態，融合演算法其
預估和估測方程式和步驟說明如下︰ 
步驟 1：初始化。 
當時間 0k = 時，選 2β = − ，位置之    
初始訊息狀態估測值為 yˆ (0 | 0)α ，以
及訊息矩陣 (0 | 0)Yα ，訊息狀態的初
值 ˆyˆ (0 | 0) (0 | 0) (0 | 0)Y Xα α= ⋅ 其 中
ˆˆ ˆ ˆ(0 | 0) [ (0 | 0), (0 | 0), (0 | 0)]TX x y θ= 。 
步驟 2：一步的預估。 
時間為 k 時之最佳的估測 ( )Y kα 和訊 
息矩陣是 ( 1| )Y k kα + 。由(25-26)式之
計 算 可 得 最 佳 預 測 值 為
yˆ ( 1| )k kα + ，以及訊息狀態矩陣
( 1| )Y k kα + 。 
ˆ ( | 1) ( | 1)
ˆ( ( 1| 1), ( 1), ( 1))
y k k Y k k
f X k k U k k
α α− = − ×
− − − −  (25)  
1
1
( | 1) [ ( 1) ( 1| 1)
                      ( 1) ]           (26)
X
T
X
Y k k f k Y k k
f k Q
β
α αα −
−
− = ∇ − − −
×∇ − +        
式中 Jacobian 矩陣 
ˆ ( | )
1 0 sin
( ) 0 1 cos
0 0 1
X
X X k k
d
ff k d
X
θ
θ
=
−∆⎡ ⎤∂ ⎢ ⎥∇ = = ∆⎢ ⎥∂ ⎢ ⎥⎣ ⎦  步驟3：利用(29)式，當定位控制器量測到                         
一個新的數值 ( 1) iZ k + 後計算更
新值 ( 1)ir k + 並且經由模糊調諧器
的演算法可以產生一個適當權重
因子α值。 
步驟 4：估測(測量更新)。 
在時間為 k時，系統定位控制器讀
到新進來的測量資料 ( 1)iZ k + 和
使用(27-28)式計算得到更新的訊
息狀態估測值 yˆ ( 1| 1)k kα + + 以及
訊息矩陣 ( 1| 1).Y k kα + + 。 
1ˆ ˆ( 1 | 1) ( 1 | ) ( 1)( )
ˆ  [ ( 1) ( 1) ( 1 | )]              (27)
T
X
Xi
R
y k k y k k h k
r k h k X k k
α α βα
−+ + = + + ∇ +
× + + ∇ + +
  
1
( 1 | 1) ( 1 | )
( 1)( ) ( 1)TX X
Y k k Y k k
R
h k h k
α α
βα
−
+ + = + +
∇ + ∇ +   (28) 
式中 
ˆ( 1) ( 1) ( ( 1| ),  )i i ir k Z k h X k k M=+ + − + (29) 
1ˆ ˆ( 1| ) ( 1| ) y ( 1| )X k k Y k k k kα α
−=+ + ⋅ +  
其中 Jacobian 矩陣 ( 1)Xh k∇ + 為 
1 1 1
1 1 1
1 1
1 2
2 2
1 2
1 2
... ... ...
0
( 1)
0 0 1
0
0 0 1
0
0 0 1
m m m
m m m
X
s s
x x y y z z
D D D
x x y y z z
D D D
H H
h k
H H
H H
− − −⎡ ⎤⎢ ⎥⎢ ⎥⎢ ⎥⎢ ⎥− − −⎢ ⎥⎢ ⎥⎢ ⎥⎢ ⎥∇ + == ⎢ ⎥−⎢ ⎥⎢ ⎥⎢ ⎥−⎢ ⎥⎢ ⎥⎢ ⎥⎢ ⎥⎢ ⎥−⎣ ⎦
M
   (30) 
式中 
( ) ( )
( ) ( )
1
2
cos sin ,
cos sin ,
i m m
i i
i m m
i i
x yH
r r
y xH
r r
α ψ α ψ
α ψ α ψ
= − ⋅ − + ⋅ −
= − ⋅ − − ⋅ −
 (31) 
     1, 2,3, , .i s= L           
2 2r x y= +  和 arctan .y
x
ψ ⎛ ⎞= ⎜ ⎟⎝ ⎠  
步驟 5：重複步驟 2到步驟 4。 
 8
識系統，利用 RSSI-Distance特性曲線來轉
換量測的 RSSI 値到所相對應距離，使用
最小平方法估測出移動機器人在已知環境
中的靜止最初姿態，再融合里程計和雷射
掃描器等感測利用模糊增廣訊息濾波器的
演算法，作移動的即時定位姿態估測。當
機器人在 RF 波傳播的有效範圍內，能更
準確使用 RFID 作定位。值得提的是隨時
能夠校驗機器人定位，在 RFID 定位系統
中，先把 Tag安裝在已知不同位置並融合
2D雷射掃描器和里程計感測，結合模糊增
廣訊息濾波估測策略方法，發展機器人即
時姿態追蹤技術。以低速在平坦地形上作
移動定位姿態，由實驗結果可以證實機器
人定位姿態初值化和移動姿態的方法是有
效的。本計畫已完成所需相關硬體製作與
追蹤控制方法研究，實驗數據足以說明本
計劃所提方法學與控制技術之可行性與有
效性。 
 
參考文獻: 
[1] K. Arras, N. Tomaris, B. Jensen, and R. 
Siegwart, “Multisensor on-the-fly 
location: precision and reliability fot 
applications,” Robotics and 
Autonomous Systems, vol. 34, no. (2-3), 
pp. 131-143, 2001. 
[2] B. Graf, M. Hans, and R. D. Schraft, 
“Mobile robot assistants,” IEEE 
Robotics and Automation Magzine, vol. 
11, no.2, pp.67-77, 2004. 
[3] B. Jensen, G. Froidevaux, X. Greppin, A. 
Lorotte, L. Mayor, M. Meisser, G. 
Ramel, R. Siegwart,  “The Interactive 
Autonomous Mobile System Robox,” 
IEEE/RSJ International Conference on 
Intelligent Robots and System, pp. 
1221-1227, 2002. 
[4] P. S. Maybeck, Stochastic Models, 
Estimation, and Control, vol.1, New 
York, Academic Press, 1979. 
[5] S. Se, D. G. Lowe, and J. J. Little, 
“Vision-based global localization and 
mapping for mobile robots,” IEEE 
Transactions Robotics and Automation, 
vol. 21, no.3, pp.364-375, 2005. 
[6] H. H. Lin, C. C. Tsai, and S. M. Hu, 
“Automatic mapping for an indoor 
mobile robot assistant using RFID and 
laser scanner,” Proceeding of the SICE 
Annual Conference, Takamatsu, Japan, 
pp.2102-2108, September 17-20, 2007.  
[7] H. H. Lin, C. C. Tsai, J. C. Hsu, 
“Ultrasonic localization and pose 
tracking of an autonomous mobile robot 
via fuzzy adaptive extended information 
filtering,” IEEE Transactions on 
Instrumentation and Measurement, vol. 
57, no.9, pp.2024-2034,. 2008. 
[8] C. C. Tsai, H. H. Lin and J. C. Hsu, 
“Fuzzy adaptive extended information 
filtering,” International Journal of Fuzzy 
Systems, vol. 7, no.1, pp. 31-39, 2005. 
 
 
圖1 基本的主動式的RFID系統 
 
)ˆ,ˆ( αρˆˆ ˆ( , , )x y θ
 
圖 2以模糊增廣訊息濾波演算法為基礎的
姿態追踪演算法方塊圖 
 
),( ee yx
),( ss yx
il
m
iρ
iρ
iα
)(WY
)(WX
)(RX
)(RY
r
( )kθ
m
iα ψ
 
圖 3模型參量定義圖 
 10
Tag
Tag ID
RS232
Tag
RSSI
K n
KRSSI , 1, ,i n
i
i m
d
= = L
Tag
RSSI-
Distance
4 Tag
RFID Reader 
RSSI
RSSI
 
   圖 11 Tag校正和定位程序流程圖 
 
  (a)                (b) 
  
   (c)                 (d) 
圖 12 四個電子標籤 RSSI-Distance特性曲
線(a)Tag 1.(b)Tag 2.(c)Tag 3.(d)Tag 4. 
 
 
(a) 
 
 (b) 
圖13 靜態機器人的(a)位置和(b)方位角估測 
 
(a) 
圖 14(a) 機器人 x-y軸姿態估測的軌跡圖 
 
(b)  
圖 14 (b) 移動車頭角度估測的軌跡圖 
表 Y04 2
午9:00正式登場。本次大會的會議分有3個 Plenary Sessions，4個邀請演講，互動式發表場
次與200多場發表技術會議（Technical Sessions）。主辦單位於每天上午11:15至12:15間各安
排一個Plenary Session，並於09:00-11:00，13:15-15:15，15:30-17:30 三時段內每時段最多有
19場同時進行的小組技術會議。 
  除了吸引近百人聆聽的 Plenary Sessions 的精彩演講外，尚有當地廠商與研究單位進行
有關儀表，自動控制，量測等展示與觀摩。除了以上所述之外，更引人入勝的是各種研究
領域的小組技術研討會議。每一小型技術會議裡有 5~6 篇與主題相關的論文發表，每篇論
文的發表者必須在 15 分內結束報告並有 5 分鐘的問題回答時間。如果您對某些論點特別感
興趣，除了當場請教外，也可私底下互相交流溝通。由於 21 組小型技術會議於同時段裡進
行，聽者可穿梭於會場中，聽取自己所需的報告。180 多場小型技術會議的主題幾近乎包含
廣闊，與我所學相關的，從聲波量測、分析式量測、感測與轉換，影像處理，醫療與福祉
系統、力感系統，溫度量測、遙測、網路感測系統、光電量測、非破壞檢測、線性系統、
強健控制、最佳控制、適應控制、非線性控制、觀測和追蹤、智慧型控制、學習控制、模
糊控制、類神經網路控制、可變結構、分散式控制、多變數控制、穩定度、離散事件動態
系統、模式預測控制、與線性系統、非完整控制系統等控制理論和其計算、實驗、應用等
相關課題，濾波理論、估計、追蹤、故障偵測與隔離、模式辨識與驗證、等隨機技術領域
研究，以至於如混合控制、飛行機器人，飛行控制、動力系統、生物系統控制、製造系統、
程序控制、彈性機械臂與結構控制，嵌入式系統，DSP 應用等多方面的實務技術。在諸多
的主題裡，筆者僅選擇相關有興趣機器人，感測與轉換，非線性系統、預估控制、適應控
制以及控制應用等相關的論文聆聽，參與相關的研討。雖是短暫的交流，對目前研究動態
的掌握，未來研究方向的釐定，甚有助益。 
  筆者參與的論文發表為「Hybrid navigating of a four-wheeled tour-guide robot」，隸屬於
8 月 21 日（星期五）上午的『Advanced techniques on Autonomous mobile robots』，其內容
為發展四輪全方位導覽機器人之運動學數學模型，運動控制法則，混合導航結構，操作情
境演算法以及進行相關實驗。在論文發表之後之相關問題有運動控制之取樣控制速率以及
防碰撞之取樣控制速率為何等等問題。 
    主辦單位為加強學者專家、與會者間的交流，特別在福岡 Okura 飯店安排與會者共六
百餘名，在輕鬆情況下共進宴會晚餐，互增友誼，眾人互飲言歡暢談，預約一年後台灣見。
主辦單位在全部議程結束後，有閉幕式，以感謝所有與會者的蒞臨，並宣布 SICE2010 in 
Taiwan 之宣傳，有 Prof. Osuka 說明舉辦的地點，重要日期，會場介紹以及歡迎。 
二、與會心得 
  儀表、量測，自動控制科技、資訊技術之科技是具傳統性，又能不斷地隨時代的需求
推陳出新的重要技術。它對人類的影響無遠弗界。在此次的研討會中，相當多的研究主題
是儀表、量測，自動控制科技、資訊技術的各種應用，可預測的是未來朝往智慧型機器人
系統，生醫控制系統與訊號處理、機器視覺、最佳化，感測與轉換，自主系統，非線性系
統控制與估測、認知與通訊、機電整合、機器人相關技術、工業系統，交通系統與車輛、
生物與生態系統、分散式感測與網路控制等研究課題者將逐漸增多。 
     本次ICCAS-SICE2009國際研討會，相當成功。會場寬敞，各樣議程順暢。本次大會的
三場大會演講與4場邀請演講，皆有獨到的技術發展，亦有相當有趣的技術，相當值得聆聽。
180個技術會議(Technical Session)不只有嶄新的理論，亦有來自許多著名產業廠商與業界的
實際應用範例。展示場有來自研究單位的研究成果共122篇，但僅有少數的書商展示攤位，
