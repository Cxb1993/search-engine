application plane. With scalable video coding (SVC), 
multimedia conferencing applications, multicast 
transmission services and network security services, 
all sub-projects are related and integrated in this 
group project. The research topics of multicast 
transport services include the integrated transport 
service for IP networks, overlay networks, 
heterogeneous access networks and SVC streaming 
transport in subject I； the research topics of 
multimedia applications include the P2P multimedia 
applications in subproject II, the design of video 
transcoder and classifier for multicast 
transportation in subject III, and the security 
policy control and management in subject IV. 
英文關鍵詞： Scalable Video Coding, P2P Multimedia Conferencing, 
Network Security, Multicast Transportation, Overlay 
Networks, Heterogeneous Networks, Video Transcoder 
 
 I 
 
研究計畫中文摘要 
網際網路傳輸服務一直以應用需求與服務導向為目標，提供穩定、可靠、安全與高品質之傳輸服
務，以滿足網路使用者需求。然而，網際網路經過數十年的演進，目前已地處存在許多異質性通訊技
術與異質性終端使用者，傳統群播服務已無法滿足網路大規模持續地快速成長，以及即時多媒體網路
應用需求。因此，本群體計畫提出於具安全性與高效能之整合群播傳輸服務實現混合式編碼多媒體會
議應用，以『多媒體 SVC 應用』為主軸，根據網際網路服務之異質性與安全性等特性，分『群播傳
輸服務』與『多媒體應用服務』兩個層面，共提出四個子計畫研究主題；並且，以可調性視訊編碼 
(SVC)、多媒體會議應用、群播傳輸服務與網路安全服務之整合，貫穿所有子計畫研究內容。群播傳
輸服務包含：子計畫一探討在傳輸網路群播的問題,包括了 IP網路、疊層網路、異質接取網路與 SVC
串流應用；多媒體應用包含：子計畫二探討 P2P 多媒體會議議題、子計畫三視訊串流轉碼器 (DVC、
SVC/H.264) 與考慮群播傳輸環境變化的串流控制議題，最後透過子計畫四，討論整體安全性策略與
管制相關議題。 
 
關鍵詞：可調式視訊編碼, 點對點多媒體會議, 網路安全, 群播傳輸, 疊層網路, 異質性網路， 
視訊串流轉碼 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 III 
 
目錄 
研究計畫中文摘要.......................................................................................................................................I 
ABSTRACT............................................................................................................................................... II 
目錄...........................................................................................................................................................III 
圖目錄 ....................................................................................................................................................... IV 
表目錄 ........................................................................................................................................................ V 
第一章 研究報告........................................................................................................................................ 1 
第 1節 前言........................................................................................................................................ 1 
第 2節 子計畫一研究報告................................................................................................................. 3 
第 3節 子計畫二研究報告............................................................................................................... 12 
第 4節 子計畫三研究報告............................................................................................................... 17 
第 5節 子計畫四研究報告............................................................................................................... 20 
第 6節 參考文獻 .............................................................................................................................. 28 
附錄 A....................................................................................................................................................... 30 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 V 
 
表目錄 
表 1：會議服務資源屬性 ......................................................................................................................... 13 
表 2：一般型客戶的危害等級 ................................................................................................................. 23 
表 3：企業型客戶的危害等級 ................................................................................................................. 23 
表 4：一般型客戶的 SLA範例................................................................................................................ 23 
表 5：防禦類型簡介(PTP) ....................................................................................................................... 23 
表 6：參數說明表..................................................................................................................................... 24 
表 7：客戶類型比例................................................................................................................................. 26 
表 8：一般型客戶的危害等級 ................................................................................................................. 26 
表 9：企業型客戶的危害等級 ................................................................................................................. 27 
表 10：防禦類型簡介(PTP) ..................................................................................................................... 27 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 2 
 
 
圖 2：各子計畫在網路協定堆疊的相互關係 
 
總計畫主要協助實驗平台建立，供各子計畫進行實驗及整合研究。子計畫一研究以 IP 群播管理
及疊層群播技術，提出有效率的網路群播傳輸服務(Multicast Transport Service) ，提出整合 application 
aware, network aware,以及 media aware 的傳輸控制協定充分支援可調性視訊編碼(SVC)之多媒體串流
的特性；子計畫二在具備群播 (Multicast) 能力之傳輸網路環境上，以 P2P 資源分享概念，整合先進
編碼技術(DVC/SVC)與網路安全服務，深入探討新一代多媒體會議 P2P 結構、分散式異質節點資源
分享、分配與多維資源條件搜尋議題、群播傳輸資源協調與串流路徑優化等問題；子計畫三的研究目
標是在視訊會議架構中，建立混合分散式(Distributed Video Coding，DVC)與集中式(Centralized Video 
Coding，包含 Scalable Video Coding 與 H.264) 為基礎的編解碼系統，主軸是圍繞在視訊串流的轉碼
器與根據群播傳輸環境與影像內容變化調整串流的分類器；子計畫四提出安全網域(Security Domain)
的概念，在這一個網域內提供安全防護與監測之服務。各子計畫在網路協定堆疊的相互關係如圖 2
所示，詳細子計畫介紹請參閱各子計畫書。 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 4 
 
加入、離開或取得知群組內成員狀態。圖 3 (a)為 IP群播架構，整個骨幹網路是由有支援群播能
力的路由器互相連結，當一個主機加入或離開某個群組時，會通知自己子網域的路由器。 
群播成員會透過路由器來交換群組訊息，透過群播路由協定找到最短路徑到各成員的所在位
置，建立群播樹來傳送資料。由於 IP 群播使用群播樹傳送資料，雖然提高了資料的傳輸效能。
然而，IP群播存在下列問題： 
z 延展性(Scalability)不足：當群組的數量越大，路由器的負載越重，因此群組的數量會被
限制。 
z 部署(Deploy)不易：網路上所有的路由器要啟動群播的功能，若某些路由器不提供群播
功能，則該網域無法群播。當骨幹網路上的路由器分別由不同的 ISP業者控管，為避免
大量的群播封包影響正常封包傳送的效能，群播功能經常處於關閉狀態，因此無法達到
廣域群播(Global Multicast)的目標。 
 
圖 3：三種群播架構示意圖 
 
(2) 應用層群播 (Application-Layer Multicast) 
為了解決 IP 群播在網路上部署的問題，應用層群播被提出來在網際網路上當成實現群播功
能的替代解決方案。應用層群播就是將群播功能實作在應用層，不再依賴網路上的路由器來提供
服務，而是由終端主機來實現群播的功能，這些終端主機(End-Host)會形成一個虛擬的、邏輯上
的網路，並覆蓋在現有的網際網路上，在這個虛擬網路上建構一個群播樹來傳送群播資料[8]。 
圖 3(b)為應用層群播的架構，在此架構下群組成員、群播資料傳送結構的建立、資料的轉送
及控制皆透過終端主機來實現，因此不需要路由器或代理節點。因為部署容易，所以在群播服務
中受到多數使用者喜好。 
(3) 疊層群播 (Overlay Multicast) 
另外一種類似應用層群播的實作新概念被提出來，就是疊層群播，疊層群播也是實現於應用
層，與應用層群播不同的是，疊層群播除了終端主機外會額外部署一些中間節點，稱為代理或服
務節點，它可以形成一個骨幹疊層網路(Backbone Overlay Network)，在這個骨幹疊層網路上，代
理節點是一個特殊的節點。基於這個骨幹疊層網路的架構上建構的群播樹，稱為疊層群播樹
(Overlay Multicast Tree) [9]。圖 3(c)為疊層群播架構。 
資料的傳送是終端主機與終端主機之間透過隧道(Tunnel)的方式連結並由終端主機複製封包
後轉送給其他主機。但是這兩種在應用層上實現群播的方法在資料的傳送上有著顯著的差異。前
一種方法也就是應用層群播是只依賴終端主機；後者，也就是疊層群播會在疊層網路中部署疊層
 6 
 
Tunnel傳來的群播封包。MA收到從 tunnel的群播資料後，會使用 IP 群播的方式將資
料傳送給區域有線或無線的使用者行動裝置。 
z MA也是一個可以接收群組成員的 IGMP訊息，負責建立成員名單控管主機成員在MA
所屬的 island中是否想要加入或離開某個群組。 
整體而言，MA的運作流程是將所屬的 island中收到的群播封包，透過 tunnel的方式傳送給
其他 island的MA，MA在收到來自 tunnel過來的群播封包後，再處理與轉送 island中有群播要
求的主機。因此，既可達成跨網域的群播傳輸，也可以解決沒有支援 IP 群播功能的網域，達成
All-IP群播。 
 
 2.3疊層群播樹建構程序 
根據上節，實現 All-IP群播的目標是建構整合式群播傳輸網路，在疊層群播網路中如何選擇
最短路徑，快速建立連結並且有效率的傳輸封包是主要的考量。因此我們必需在疊層群播網路上
建構一個疊層群播樹來傳送封包。所以在網路規劃中，首先是以選定的 MA 之間透過彼此運算
來決定疊層樹的成員，因為 MA 不是一般的使用者終端主機，因此暫不考慮成員突然離開等不
確定因素，只需針對MA如何加入(Join)疊層群播樹。以下將提出疊層群播樹建構程序與MA加
入的重要步驟說明。 
z 步驟 1: NEW_MEMBER 狀態 ─ 當一個新節點要求加入一個疊層群播樹時，需透過一
個特別的節點稱為 IMRP (Island Multicast Rendezvous Point)，來取得父節點 ROOT的位
址，以便送出加入要求。當每個疊層節點想要加入疊層群播樹的時候都必須向 IMRP詢
問 root的位址，取得 root位址之後，才開始送出加入請求。 
z 步驟 2: ROOT/CONNECT狀態 ─ 所有的新疊層節點要加入皆會由 root開始加入，root
會告知子節點數是否已滿可以接受加入並建立連線；若無法再接受新節點加入，會將子
節點名單(children_list)告知新疊層節點。 
z 步驟 3: JOIN狀態 ─ 新節點取得子節點名單後會利用 ping的方式測量到疊層節點的時
間，比較回傳的 RTT (round trip time) 值，選擇較小 RTT值的疊層節點，往下繼續詢問，
直到有疊層節點願意接收加入請求為止。 
在加入疊層群播樹的過程中，藉由子節點名單可以讓新節點得知疊層群播樹動態訊息；此
外，隨著新節點再加入的過程中，獲得的資訊會不斷改變。由於透過 RTT 測量的方式，決定疊
層群播樹上任一疊層節點到 root的距離皆是最短距離。 
 
2.4群播群組成員管理 
成員管理運作 ─ 整合疊層群播與 IP群播的關鍵點在於疊層群播部署容易以及 IP群播傳輸
的效能，透過整合網路架構完成跨網域的群播傳輸目的，因此每個 island必須要有群播群組成員
的管理機制。當疊層節點收到串流資訊時，藉由群組管理機制得知 IP 群播的群組內有主機正在
等待接收串流，若收到的串流要送給該群組位址，則利用 IP 群播方式在網路層轉送，同時疊層
節點收到後也會根據疊層群播樹的路徑繼續往下轉送。 
 8 
 
1) 封包轉送判斷流程: MA收到由 tunnel送過來的 UDP封包時，會先紀錄內層 IP封包的目
的地位址(通常為一個群播位址)，然後將這個位址與Multicast Table進行比對查詢是否有相符的
資訊，若有表示該 island中有主機正在此群播位址等待接收串流，並將此串流以 IP群播的方式
傳送到網路層的群組位址，接著查詢 children-list是否有 children，若有則將此串流持續往疊層群
播樹轉送。如圖 6所示轉送判斷流程。 
2) Unicast Tunnel: 我們已經知道該如何在一個整合的群播傳輸網路上建構一個疊層群播
樹，並提供一個有效的群播群組管理的方法，且每個疊層節點連結的方式是透過 unicast tunnel
的方式來連結。 
每個疊層群播樹上的疊層節點在收到由 parent經過 ipip的封裝後送來的資料時，會將此封包
進行解封裝的動作，解封裝的原因是為了查看內層 IP header 目的地的群播位址，以便查詢
Multicast Table是否要往網路層傳送。不論有無往網路層傳送，疊層節點會根據 children-list往疊
層群播樹轉送，轉送之前會再將此封包重新封裝外層的 IP header。重新封裝外層 IP header的目
的地位址則為 children-list中 children的 IP位址。 
 
圖 6：群播群組成員管理示意圖 
 
3. 整合群播代理網路實作成果 
本子計畫建置的整合代理群播網路測試環境，如圖 7 所示。其中測試群播環境共分成四個
island，分別編號為 island-1到 island-4，在每個 island中都會建置一台MA，提供疊層群播與 IP
群播的服務。MA彼此透過建構的疊層群播樹，在疊層網路中來傳送跨網域的群播串流資訊，另
外架設一台 IMRP提供MA詢問 root位址。 
 10 
 
 
圖 8(b)：Island-3 MA的加入結果 
   
     
 3.2群組成員管理實作 
當群播成員需要取得串流時會送出 IGMP report給MA，如此當串流傳送過來的時候，才會
轉送到本地網域給群播成員，圖 9為 island-2的MA收到 IGMP report後新增一筆資訊到Multicast 
Table。 
 
圖 9：Island-2新增Multicast Table資訊 
 
3.3 疊層網路群播轉送實作 
當串流資訊開始從 Root傳送時，在疊層群播樹上的傳送路徑如圖 7，當 island-2的MA收到
由 root tunnel來的群播資料時，會先進行解封裝，並查詢Multicast Table，藉此可以得知有群播
成員(192.168.200.28)正在等待串流，於是利用 IP群播的方式轉送，接著查詢 children_list是否有
其他 children，有則轉送，圖 10所示為一個 children (192.168.103.1)， 利用 tunnel傳送資訊。 
 
圖 10：封包轉送判斷 
 12 
 
第 3節 子計畫二研究報告 
子計畫二：於異質性疊層網路點對點多媒體會議系統架構及串流路徑優化之研究與設計 
 
前言 
在 Peer-to- Peer環境下，不同以往的主從式會議架構，使用者並沒有一個集中式元件來協助會議
的進行，因此當一個會議要被建立時，必須透過 Peer-to-Peer 的搜尋機制，來找到會議成員的位址以
及可用的會議服務資源，即是利用 Peer-to- Peer 網路上所有使用者都知道的路由演算法來獲得這些
資訊，進而完成會議的建立。  
透過 P2P-SIP[10][11][12]雖然可以在分散式的環境中快速的取得使用者的位置。然而，由於結構
式的 Peer-to- Peer 使用雜湊函數將導致無法進行複雜的搜尋。針對異質性會議服務資源搜尋的問題，
本論文透過在疊層網路中建立抽象的樹狀資料結構，將資訊依照能力進行分類，提供具多維條件限制
與負載均衡之服務搜尋機制， 讓會議使用者能夠以多個需求條件快速的在疊層網路找到符合條件的
會議資源，並改進資訊註冊與維護所需的成本與產生的效能瓶頸。本子計畫希望透過引入 Peer-to-Peer 
的概念，使用者可以分享彼此的會議資源，進而降低伺服器的建設成本。 
 
(A) 於異質性疊層網路點對點多媒體會議系統中分散式多維資源搜尋與串流繞送之研究與效能評估 
1. 相關背景 
P2P-SIP 則是融合 Peer-to-Peer 分散式結構與傳統集中式 SIP 的 Client-Server 結構，利用
疊層網路為 SIP 提供完全分散式的資源定位與訊息傳輸服務，具有去集中化、低成本、高容錯
性與高可擴充性等優點，改善集中 SIP 系統所需的龐大維護管理開銷，避免單點故障與效能瓶
頸等問題。目前 P2P-SIP 主要採用 SIP-over-P2P 的架構，即利用 Peer-to-Peer 協定為 SIP 協定
提供位置服務，實現 SIP 使用者註冊、定址等行為，並擴展到其他應用。 
IETF 於 2007 年成立 P2PSIP working group，並提出許多相關草案，致力發展 P2PSIP 等相
關標準協定。而 P2PSIP 中的相關服務搜尋機制，能夠動態的將服務資訊分散儲存到 Peer-to-Peer 
網路中，但是如同其它的服務搜尋機制，沒有考慮到服務與節點的異質性， 因此無法有效的找
到合適的服務資源。 
2. 研究方法 
2.1具多維條件限制之會議服務搜尋 
P2P-SIP 會議系統是由所有加入疊層網路的 Peer 所形成的環境，Peer 會與疊層網路中的其
它 Peer 互連，透過疊層網路的路由演算法維護路由資訊，並負責繞送疊層網路上的訊息，同時
也必須提供儲存空間，儲存保管分配到的資料。  
Peer 可以視其能力分享資源給其它 Peer-to-Peer 中的使用者，擔任 P2P Focus 或 P2P Mixer 
等多媒體會議服務的角色。P2P Focus 負責會議初始化、管理、與會議資源協調管理，不需要大
量的運算，但是必須頻繁的與所有參與這互動。P2P Mixer 負責會議語音與視訊資料混合重新編
碼，提供串流給所有會議參與者。但是，由於它們並非專門的會議伺服器，因此提供的服務能力
無法像集中式的伺服器具有大量能力與支援各種功能。如下圖 13為會議服務架構。 
 
 14 
 
 
圖 14：會議服務資源註冊 
 
在 P2P-SIP 會議系統中，當使用者要進行會議時，則透過服務搜尋。服務需求者先根據要尋
找的服務建立 Constraint Tree，再以資源的需求條件找出其中滿足的樹節點，同時能使節點個數
為最少，如此，需求者能以最少的請求個數來搜尋整個疊層網路中的資源。然後，將每個從
Constraint Tree 中選出的節點索引經由雜湊函數產生 key，存到暫存器中。接著從暫存器中取出 
key，作為目的地送出 Fetch 的訊息。收到請求的 Peer 如果擁有符合的資訊，則將滿足條件的資
源回覆給請求者。由於滿足條件的資源可能非常多，因此將挑選較適合的 k 個給請求者。下圖
15為會議服務搜尋的步驟圖。 
 
圖 15：會議服務搜尋 
 16 
 
 
圖 17：獲得一個可用資源的平均搜尋次數 
4. 結論 
在 P2P-SIP 為基礎的會議服務架構下，透過具有多維條件限制的服務搜尋機制，並改進資訊
註冊與維護所需的成本與產生的效能瓶頸，讓會議服務請求者能夠依照多個條件進行查找，同時
將資訊分散儲存在疊層網路中的不同節點上。透過模擬分析的結果可知，我們提出的方法能夠快
速有效的找到滿足條件的會議服務資源，除了避免單一儲存節點過載，也能夠避免在網路中漫無
目的搜尋。此外，我們的機制同時具有很大的彈性，能夠應用在各結構式 Peer-to-Peer 環境下，
並能根據系統進行調整與延伸。 
 
 
(B) 結案討論與建議 
在 P2P-SIP 為基礎的會議服務架構下，透過具有多維條件限制的服務搜尋機制，並改進資訊註冊
與維護所需的成本與產生的效能瓶頸，讓會議服務請求者能夠依照多個條件進行查找，同時將資訊分
散儲存在疊層網路中的不同節點上。透過模擬分析的結果可知，我們提出的方法能夠快速有效的找到
滿足條件的會議服務資源，除了避免單一儲存節點過載，也能夠避免在網路中漫無目的搜尋。此外，
我們的機制同時具有很大的彈性，能夠應用在各結構式 Peer-to-Peer 環境下，並能根據系統進行調整
與延伸。 
本子計畫二討論的重點在於資源的註冊和搜尋，但對於各節點能力的計算，尚未有設計合適的演
算法來做較嚴謹的定義；另外，在考慮到疊層網路路徑和實際網路路徑不相匹配的問題，以及多人會
議進行時的疊層網路群播問題，還需仰賴未來後續的研究來針對這幾個方向做討論。 
 
 
 
 
 
 
 
 18 
 
Information 的產生，本子計畫提出的視訊轉碼器是以 MCI (Motion Compensated Interpolation) 
的方式進行重建，圖 20是 Side Information 產生的第一個步驟，並且是一個 GOP 為 2的 DVC。
要重建居中畫面的 Side Information，必須找出後面 (Backward) 畫面的巨區塊與前面 (Forward) 
畫面搜尋範圍裡匹配的巨區塊。可依據殘餘值 (Residual) 最小的要求來找出每一組相匹配的巨
區塊，於此， DVC 是以 16x16為單位的去產生 Side Information，在 32x32的範圍進行搜尋，
就可獲得每塊巨區塊的移動向量 (Motion Vector) ，再將此移動向量除以 2，而得以動態內插的
方式產生中間資訊的 Side Information。因此，當完成 MCI 以後，一個 GOP 內每一塊巨區塊
就可以得到兩個向量，分別是向前與向後的向量。 
 
圖 19： DVC-to-SVC轉碼器架構 
 
 
圖 20：Side Information產生的第一步驟 
在 DVC-to-SVC 轉碼器中，可利用 DVC的MCI做完內插後所得到的移動向量，提供給 SVC
的編碼端使用，此 SVC所考慮的是時間可調性的運用，所以並不討論空間可調性與品質可調性。
由於要加快 DVC-to-SVC 轉碼器運算的速度，除了移動向量的重複使用，另外還加入平行化架
構的運用，利用多核心的 CPU搭配 OpenMP 進行任務的分工。 
 
 
 20 
 
 
第 5節 子計畫四研究報告 
¾ 子計畫四：在異質群播網路以服務等級協定為基礎分散式視訊會議系統安全管理策略之設計(I) 
 
 
前言 
近年來，網路攻擊日新月異，延伸出許多各式各樣的攻擊方式也讓人不慎防，對於不熟悉網路安
全的使用者來說，自行管理網路安全是困難的；另一方面儘管專業的網路管理員熟悉網路安全知識與
擁有豐富的管理經驗，但仍然無法避免網路攻擊的危害，以 Sony與 Google被駭客攻擊竊取大量的客
戶個人資料案例來看就是最好的例子。 
因此本子計畫在這邊提出一種服務架構，希望由網路服務提供業者(ISP)方面來提供網路安全相
關的服務，由服務提供者來對客戶的網路安全進行管理，然而每個客戶的安全需求程度均不相同，所
以還必須針對每個客戶的安全需求以提供相應的安全防禦類型，以保護客戶使用網路免受惡意網路使
用者的危害。在這種架構下，客戶不需要額外自行安裝網路安全相關的軟體或硬體。 
由此動機，將基於[15]設計的安全系統架構雛形，進行分析探討系統的應用環境與服務，然後根
據應用的環境與服務之需求來設計修改系統，將使用者需求為導向的概念融入系統；最後對防禦系統
的防禦資源使用行為進行分析，並進一步的制定客戶需求接受機制與規劃防禦資源管理。 
 
(A) 在異質群播網路以服務等級協定為基礎分散式多媒體視訊系統安全管理策略之設計 
1. 相關背景 
1.1 分散式防禦系統 
在[15][16]論文中提出一個分散式的防禦對策裝置系統之架構如圖 21，在系統架構中部署決
策系統(Security Policy Decision Server, SPDS)作為政策決定之用，且與其他網域溝通進而達到區
域聯防，而系統各網域的路由器，皆為部署安全路由器做為封包轉送、監控與過濾。其中 SPDS
政策決定的部分，主要是談論 Policy Management安全政策之運作機制。 
SPDS
SPDS
SR
SR SR
SR
SPDS
 
圖 21：分散式之防護對策裝置系統架構圖 
 22 
 
…
…
SR1
SR2 SR3
SR4
公司用戶
工廠用戶
一般用戶
醫院
一般用戶
一般用戶
Security Domain
Security Domain
Security Domain
Security Domain
Core Network
Internet Service Provider
Security Management Network
Internet Network
SPDSSPDS
SPDS
 
圖 23：子計畫四系統環境圖 
 
3. 網路安全防禦服務 
3.1 服務環境建模 
假設網路安全防禦系統的防禦模組為硬體式過濾系統或防火牆系統，而最大可用的防禦資源
 為防禦模組的可用防禦資源，假設當防禦模組的資源使用量在最大可用的防禦資源範圍內時，
其流量大小與防禦規則數並不會影響防禦模組的處理效能；同時網路服務提供業者根據常見之網
路攻擊類型來提出幾種可以防禦的事件類型項目，並由此為依據給予客戶挑選，如表 4 所示。 
服務收費部分，由服務提供者根據各威脅特性對客戶的危害程度，來進行制定危害等級、收
費(    )與賠償比例(        )；以服務提供者的角度，可訂定兩種收費類型，分別為一般型客戶
與企業型客戶，如表 2、表 。當客戶選定收費類型後，便會產生一個屬於客戶的 SLA 合約，例
如客戶收費選定一般型客戶，則會如表 4 所示，而客戶可以根據需求選擇 SLA 中的防禦服務項
目，並與服務提供者簽訂合約。此外服務提供者還會提供 PTP 的資訊給予客戶，其中資訊說明
各防禦服務項目的防禦成本與防禦時間，如表 5。 
防禦成本是指設置防禦服務項目會消耗的防禦資源；防禦時間的資訊是指各防禦服務項目的
防禦規則要設置多久的時間；進行結算收入與賠償的部分則是規劃為一個月結算一次，每一個月
將進行總收入與總賠償的計算，總收入部分是將所有客戶所支付的費用加總；總賠償部分則需先
判斷是否有違反客戶的需求，判斷的規則是設定為當檢測到攻擊事件時，若未在多久時間內進行
防禦，以及防禦期間未達多長的時間，便判斷為沒有滿足客戶的需求，最後將所有未滿足客戶的
服務項目之賠償加總，作為應該賠償的總金額。  
 
3.2 防禦資源使用模型 
一般來說，若要讓服務提供者得到最好的效益就是讓賠償的金額越少，故其統計分析的目標
基本上是求最大收益，以及最小賠償。然而賠償則決定在於是否滿足客戶需求，若滿足客戶需求，
就需要消耗防禦資源進行防禦攻擊事件；反之若無法滿足客戶需求，雖不需要消耗資源進行防禦
但相對的需要賠償客戶；其統計分析的決策參數為是否滿足客戶的防禦需求。根據整體系統運作
方式與限制，來訂定統計分析的限制公式，如防禦資源使用不可以大於最大可用的防禦資源量，
與客戶沒有選擇的防禦服務項目就不進行防禦，以及未發生過攻擊事件的項目也不進行防禦。在
介紹防禦資源使用模型前，先對使用到的參數說明如表 6。 
 24 
 
 
根據上述條件來制定的防禦資源使用模型如下： 
Decision values: 
                          
  
  
   , 表示第 客戶的第 t 項防禦服務是否要進行防禦。 
Objective: 
                                                      ,          
Subject to: 
                                     ,            .    (1) 
                                ,        .       (2) 
                                   ,        .     (3) 
                               ,        .    (4) 
                          ,          ,        .    (5) 
                                ,                        . (6) 
 
該防禦資源使用模型的分析目標(Objective)為得到最大收益，而模型的限制有六項，(1) 是
限制資源使用必頇小於 F；(2)為當第 s 客戶的第 t 項防禦類型期間內無攻擊事件(   = 0)時，限制
   為 0；(3) 為當第 s 客戶的第 t 項防禦類型沒有防禦需求(   = 0)時，限制   為 0；(4)為當第 s
客戶的第 t 項防禦類型期間內無攻擊事件(   = 0)，以及當第 s 客戶的第 t 項防禦類型沒有防禦需
求(   = 0)時，限制   為 0；(5)為限制每個事件只會對一個客戶攻擊，並且只屬於一種事件類型；
(6)為限制第 s 客戶的第 t 項防禦類型項目(   )，期間內有發生過事件為 1，沒發生事件過為 0。 
表 6：參數說明表 
參數 說明 值 
E 為期間內偵測到的事件集合 1,…,m 
S 為客戶集合,           為企業型客戶集合,   為一般型客戶集合 1,…,n 
T 為防禦類型集合 1,…,5 
     值為 1 時,表示為第 e 個事件攻擊的目標是 s 客戶,事件類型為第 t 項 0 or 1 
    表示第 s 客戶的第 t 項防禦服務,期間內是否有攻擊事件出現 0 or 1 
    表示第 s 客戶的第 t 項防禦服務是否有防禦需求 0 or 1 
    表示第 s 客戶的第 t 項防禦服務的賠償金額  
    表示第 s 客戶的第 t 項防禦服務的收費金額  
   表示第 t 項防禦類型需消耗多少的防禦資源進行防禦(如：需設置多少規則)  
F 表示為防禦系統之最大可用的防禦資源總量為多少  
 
 26 
 
 
表 7：客戶類型比例 
 
客戶類型比例 
項目 企業型客戶(  ) 一般型客戶(  ) 
1 100% 50% 
2 75% 25% 
3 50% 50% 
4 25% 75% 
5 0% 100% 
表 8：一般型客戶的危害等級 
 
危害
等級 
危害行為 收費 賠償比例 
1 被未經許可的操控電腦(或伺服器) 
NT$ 
400 
50% 
2 被竊取個人(或組織)的機密資訊 
NT$ 
350 
45% 
3 
被攻擊者檢測電腦(或伺服器)設備
弱點 
NT$ 
150 
40% 
4 
受到多個來源攻擊，造成系統(或服
務)無法正常的運作 
NT$ 
200 
15% 
5 造成系統(或服務)無法正常的運作 
NT$ 
150 
15% 
  
表 9：企業型客戶的危害等級 
 
危害
等級 
危害行為 收費 
賠償比
例 
1 
受到多個來源攻擊，造成系
統(或服務)無法正常的運作 
NT$ 
650 
95% 
2 
造成系統(或服務)無法正常
的運作 
NT$ 
500 
90% 
3 
被未經許可的操控電腦(或
伺服器) 
NT$ 
400 
80% 
4 
被竊取個人(或組織)的機密
資訊 
NT$ 
380 
75% 
5 
被攻擊者檢測電腦(或伺服
器)設備弱點 
NT$ 
100 
50% 
表 10：防禦類型簡介(PTP) 
 
代號
(t) 
防禦類型 
防禦
成本 
防禦時間 
1 阻斷式攻擊(DoS) 5 5 天 
2 
分散式阻斷式攻擊
(DDoS) 
8 5 天 
3 弱點掃描(Scan) 1 5 天 
4 後門程式(Spyware) 4 5 天 
5 
木馬 、Bot 的檢測與防
護 
6 5 天 
 
5. 結論 
本子計畫四根據系統整體運作，針對防禦資源使用的行為設計防禦資源使用行為的模型，並
進一步假設服務環境進行分析防禦資源使用的情形，發現企業型客戶佔的比例越多，其初期收益
會越多，但隨著增加客戶人數當資源進入滿載的情況，其收益的成長會越慢，經由觀察各種客戶
比例的數據，並以提供者角度設計最佳的客戶需求接收策略，而最佳客戶接收策略為當防禦資源
還足夠時，優先加入企業型客戶，當防禦資源進入滿載時，開始接受一般型客戶，最後觀察防禦
資源進入滿載後，防禦資源抉擇分配的情況來設計防禦資源管理機制。 
 
 
 28 
 
第 6 節 參考文獻 
[1] Diot, “Deployment Issues for the IP Multicast Service and Architecture,” IEEE Network, vol. 14, no. 1, 
2000. 
[2] R. Rejaie, M. Handley, and D. Estrin, “Layered quality adaptation for internet video streaming,” IEEE 
J. Select. Areas in Commun., vol. 18, no. 12, pp. 2530–2543, Dec. 2000. 
[3] Abhik Majumdar, D. G. Sachs, I. V. Kozintsev, K. Ramchandran, and M. M. Yeung, “Multicast and 
Unicast Real-Time Video Streaming Over Wireless LANs,” IEEE Transactions on Circuits and 
Systems for Video Technology, vol.12, no. 6, Jun. 2002. 
[4] Z. Li, and P. Mohapatra, “QRON: QoS-Aware Routing in Overlay Networks,” IEEE JSAC, vol. 22, No. 
1, Jan. 2004. 
[5] Z. Zhang, S. Chen, Y. Ling, and R. Chow, “Capacity-Aware Multicast Algorithms on Heterogenous 
Overlay Networks,” IEEE Transactions on Parallel and Distributed Systems, vol. 17, no. 2, Feb. 2006. 
[6] G. Bianchi, N. B –Melazzi, G. Bonafede, E. Tintinelli, “QUASIMODO: Quality of Service-Aware 
Multicasting over DiffServ and Overlay Networks,” IEEE Network Magazine, Jan. 2003. 
[7] Xing Jin, K. –L. Cheng, and S.-H. Gary Chan, “Island Multicast Combining IP Multicast With Overlay 
Data Distribution,” IEEE Trans. On Multimedia, Aug. 2009, vol 11, no. 5, pp. 1024–1036. 
[8] M. Hosseini, D.T. Ahmed, S. Shirmohammadi, and N. D. Georganas, “A Survey of Application-Layer 
Multicast Protocols,” IEEE Communications Surveys & Tutorials, 2007, vol. 9, pp. 58–74 
[9] B. Zhang et al., “Universal IP Multicast Delivery,” Computer Networks, vol. 50, no. 6, 2006, pp. 
781–806.. 
[10] Jennings, C., Lowekamp, B., Rescorla, E., Baset, S., and H. Schulzrinne, "REsource LOcation And 
Discovery (RELOAD) Base Protocol", draft-ietf-p2psip-base-17, July 2011. 
[11] J. F. Wauthy and L. Schumacher, "Implementation and Performance Evaluation of a P2PSIP 
Distributed Proxy/Registrar," in International Conference on Next Generation Mobile Applications, 
Services and Technologies, 2007, pp. 119-124. 
[12] I. Baumgart, "P2PNS: A Secure Distributed Name Service for P2PSIP," in International Conference on 
Pervasive Computing and Communications, 2008, pp. 480-485. 
[13] Camarillo, G. and A. Johnston, "Conference Establishment Using Request-Contained Lists in the 
Session Initiation Protocol (SIP)", RFC 5366, October 2008. 
[14] Vasant Patil, Rajeev Kumar, “A Fast Arbitrary Factor H.264-AVC Video Re-Sizing Algorithm,” ICIP, 
pp.IV - 65 - IV – 68, Oct. 2007. Chun-Yuan Kuan, Chang-Ming Lee, “A Fast DVC-to-SVC Transcoder 
with Efficient Motion Estimations”, CV 
[15] 余孟儒, "以服務等級協定為基礎的網路安全聯防策略管理之研究與實作", 國立中正大學電機研
究所碩士論文, 2010. 
[16] 陳建勳, 陳景章, 蕭紋旭, "以服務等級協定為基礎具合作與認知之軟性網路安全與管理的研究
與開發", 國立中正大學電機研究所碩士論文, 20008 台灣網際網路研討會, 2008. 
[17] Aib, I.; Boutaba, R.;, “PS: A Policy Simulator,” Communications Magazine, IEEE Volume 45,  Issue 
4,  April 2007 Page(s):130 – 136 
 30 
 
附錄 A 
計畫研究成果 
(1) 邱繼儒, 文志超, 陳沐恩, 吳承崧, "支援 IP 全域群播傳輸服務之整合型群播代理網路設計與實
作", 2010 年全國電信研討會(NST 2010). 
(2) 邱繼儒, 文志超, 蕭博鴻, 吳承崧, "以 SIP 為基礎支援異質群播之 SVC 媒體閘道器設計與實作
", 2010 年全國電信研討會(NST 2010). 
(3) 陳德安, 陳泰安, 李尚軒, 蘇雍太, 蘇暉凱, "SIP 網路電話雲端服務系統之設計與實作,"  2010 年
台灣網際網路研討會 (TANET2010), 國立台南大學, Oct 27-29, 2010. 
(4) 陳沐恩, 文志超, 葉佳昊,  吳承崧, "以 DCCP 為基礎之 SVC 動態傳流傳輸", 2011 年全國電信研
討會(NST 2011). 
(5) 魏于翔, 蕭紋旭, 何偉聖, 陳景章, "以服務等級協議為基礎的網路安全防禦系統之防禦資源管理
機制研究",  2011 年全國電信研討會(NST 2011). 
99 年度專題研究計畫研究成果彙整表 
計畫主持人：陳景章 計畫編號：99-2221-E-194-024- 
計畫名稱：於具安全性與高效能之整合群播傳輸服務實現混合式編碼多媒體會議應用--總計畫：於具
安全性與高效能之整合群播傳輸服務實現混合式編碼多媒體會議應用(I) 
量化 
成果項目 實際已達成
數（被接受
或已發表）
預期總達成
數(含實際已
達成數) 
本計畫實
際貢獻百
分比 
單位 
備 註 （ 質 化 說
明：如數個計畫
共同成果、成果
列 為 該 期 刊 之
封 面 故 事 ...
等） 
期刊論文 0 0 100%  
研究報告/技術報告 1 0 100%  
研討會論文 4 0 100% 
篇 
 
論文著作 
專書 0 0 100%   
申請中件數 0 0 100%  專利 已獲得件數 0 0 100% 件  
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 3 3 100%  
博士生 0 0 100%  
博士後研究員 0 0 100%  
國內 
參與計畫人力 
（本國籍） 
專任助理 1 0 100% 
人次 
 
期刊論文 0 0 100%  
研究報告/技術報告 0 0 100%  
研討會論文 0 0 100% 
篇 
 
論文著作 
專書 0 0 100% 章/本  
申請中件數 0 0 100%  專利 已獲得件數 0 0 100% 件  
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 0 0 100%  
博士生 0 0 100%  
博士後研究員 0 0 100%  
國外 
參與計畫人力 
（外國籍） 
專任助理 0 0 100% 
人次 
 
