2 
 
參考模型 流程模型 
企業法則 
事件記錄檔
事件記錄檔 流程模型 企業法則 
<管理決策人員建立> <操作人員產生> 
<企業法則轉換方法> <流程探勘技術> 
圖 1、研究概念圖 
高階企業活動流程 細部操作流程 
系統軟體 
動作，可以作為探勘用之事件記錄檔。圖 1下半部我們以進貨流程說明其涵意，
進貨的作業通常是在符合進貨單條件下所進行的，但可能會因為現場缺料，而直
接進貨，這些活動都被記錄下來，也就是事件記錄檔。舊有的企業法則可能只有
在滿足進貨單條件下才能進貨，而藉由流程探勘的技術與企業法則的轉換，探勘
出的企業法則可能進貨的動作分別是符合進貨單條件而進貨或是因為現場缺料
而進貨。在得到符合實際需求的流程模型以及企業法則，才能夠檢視現有流程是
否正確，或是檢視實際操作是否有問題存在。 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
2. 文獻探討 
  目商業流程是什麼？商業流程可以解釋為一個資源投入與附加價值產
生的過程，此過程包含許多營運作業的組合，而產出必須滿足顧客的需求[5]。 
而目前用來描述商業流程的主要工具為 EPC，是由 Scheer et al.於 1992
年所提出，為一種直覺式圖形化的商業流程描述語言；它的用途在於描述商業流
程的先後順序(business logic)，而不是著重在細部定義的敘述，因此使得非流
程塑模人員也能輕易地瞭解其中的含意[1][2]。目前關於 EPC 的研究相當地豐富，
例如： Mendling et al. (2005, 2006)提出一連串關於 EPC 的相關研究，從 EPC
如何延伸至 yEPCs (Yet Another Event-driven Process Chains)[6]並轉換至
4 
 
但卻不易於使用現有工具來作分析與驗證。因此他們提出一個方法將非結構化工
作流修正為結構化的工作流，使其易於後續的分析與驗證動作[23]。 
 
3. 研究方法 
 在研究方法架構中，我們對企業活動先進行整理，將之轉換為標準之資
料庫格式，透過流程探勘的方法以及本研究發展之探勘工具進行最終企業法則探
勘的動作。本研究方法分為三部份：概念分析階段、設計階段以及實作階段，如
圖 2所示。 
一、 概念分析階段 
企業的標準流程模型是由高階主管所訂定的，接著向下制訂出標準的活動執
行流程，實際的操作將會被記錄在資料庫當中，本研究是將企業活動向上追溯演
算，藉由被記錄下來的企業活動，透過流程探勘找出活動關聯性，再將之與標準
流程模型進行比較差異的動作，最後透過本研究定義之企業法則類型，探勘出特
殊活動作業。 
二、 設計階段 
此階段提出一可行之模式來實行第一階段的概念。如圖 2，我們針對擁有企
業標準流程之個案，將其事件記錄檔使用 Alpha 流程探勘方法探勘出因果矩陣，
再將之與標準流程的參考模型進行差異比較以產生差異作業之因果矩陣。該方法
將會產生出一個因果矩陣，再利用該因果矩陣產生企業法則所需之狀態，並利用
因果矩陣的資訊計算初始企業法則，最後再將初始企業法則進行結合與延伸產生
複合式企業法則，即可得到特殊活動作業，以達成流程檢視的目的。 
三、 實作階段 
使用本研究所發展的方法，來實作本研究的整體概念以及該企業的流程檢視，
實作步驟可分為以下三點： 
(一)使用企業之活動資料庫，進行事件記錄檔的整理 
(二)使用 ProM 軟體作為流程探勘之工具 
(三)使用本研究發展之轉換方法與差異作業方法求得特殊活動作業流程 
 
 
 
 
 
 
  
6 
 
3.1.2 流程探勘 
  流程探勘的概念是透過資訊系統所記錄儲存的事件記錄檔，經由演算法的技
術將之轉換成符合實際企業活動的流程模型，以提供資訊系統的改善或檢視實際
活動是否正常，其概念如圖 3所示。 
 
流程探勘技術過去已經有相當多先進學者發展出各種針對不同特殊情況或
是不同目標方向之探勘技術，本研究使用 ProM 工具進行流程的探勘工作，並且
選擇使用 Alpha 流程探勘方法。Alpha 流程探勘方法不會將事件記錄檔中的錯誤
資料排除，我們則針對這點特性，將之運用在擁有標準流程參考模型之個案上，
使用 Alpha 流程探勘方法可反應出所有實際的操作行為，進而找出某些特殊的行
為模式。 
3.1.3 定義企業法則 
在將因果矩陣轉換為企業法則之前，必需先定義企業法則，本研究提出三種
企業法則的定義，以描述各種情況下的企業法則。企業法則是由狀態(Place)以
及活動(Activity)所組合而成。我們藉由因果矩陣的資訊，透過計算將之轉換為
企業法則。我們根據企業法則的組成元素做為企業法則的分類，可分為三種基本
架構，分別為 Sequence 企業法則、AND-split/join 企業法則以及單階
OR-split/join 企業法則。注意的是，在本研究中是以 Petri Net 為基，因此所
使用之 OR 的實際表達為 XOR。 
一、Sequence 企業法則： 
 
 
 
二、AND-split/join 企業法則： 
 
圖 4、Sequence 企業法則 
事件記錄檔 流程模型 
資訊系統 
記錄 
探勘 
設置 
圖 3、流程探勘概念圖 
比對 
定義 3-1：Sequence 企業法則 
由單一狀態透過單一執行活動到達單一狀態。(如圖 4) 
8 
 
相依關聯計算 
因果矩陣轉換 
Petri Net 方法 
Petri Net 
基因流程探勘方法 
事件記錄檔 
基因操作方法 
初始母體 
(因果矩陣) 
因果矩陣轉換企業
法則方法 
特殊作業 
最佳解模型 
(因果矩陣) 
圖 8、因果矩陣架構概念圖 
3.2 設計階段 
在本研究中需要將探勘出之流程模型轉換為企業法則，而由於 Petri Net
此種圖形化的流程表示法，不利於我們搜尋企業法則，因此我們將利用在基因流
程探勘方法中所使用到的因果矩陣。相對於因果矩陣，因果矩陣較能夠清楚表達
此企業流程內含之訊息，有利於活動間關聯性的研究，本研究利用因果矩陣此種
格式作為企業法則探勘的輸入格式，以求算企業法則。在下面圖 8表示因果矩陣
為基因流程探勘方法中的架構概念。 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
4.個案實作 
  該案例使用台灣某知名醫院之急性中風就診住院病患病歷。資料庫記錄急性
中風病患就診之醫療流程。而醫院之病患病歷為紙本資料，因此目前無法取得大
量資料，且需要花費時間使用人工方式將紙本資料轉換為所需之格式。本研究於
10 
 
於資料庫中擷取上述所選擇之 13 個活動，轉成 MXML 格式後，載入 ProM 軟
體，使用 Alpha 流程探勘方法探勘該資料庫即可得到其結果之因果矩陣。下圖 9
為使用 Alpha 流程探勘方法探勘出之流程模型，而表 2為得到之因果矩陣。 
 
 
表 2、Alpha 探勘方法之因果矩陣 
活動代號 輸入 輸出 
3 {7}, {7} {4, 9}, {9}, {9}, {5}, {4}, {5} 
4 {3}, {3, 10}, {10} {11}, {5}, {5} 
5 {18}, {3, 18}, {4, 18}, {3, 13}, 
{4, 13}, {13} 
{8}, {8} 
7 {12} {3, 11}, {3} 
8 {4}, {5}, {5} {10}, {18}, {18}, {18} 
9 {3}, {3, 18}, {3, 17} {11}, {27}, {11, 27} 
10 {8}, {9} {4, 13}, {13}, {11}, {4} 
11 {4}, {4, 9}, {7}, {5}, {10}, {9} {12}, {13}, {18} 
12 {5}, {11} {7}, {17}, {13} 
13 {10}, {11}, {10, 12} {18}, {5, 17}, {5}, {5} 
17 {12}, {13} {9}, {27} 
18 {7}, {8, 13}, {8, 12}, {8, 11}, 
{8} 
{9}, {5, 27}, {5}, {5} 
27 {9}, {9}, {17}, {18} () 
Step3：兩因果矩陣差異作業 
在得到資料庫探勘結果之因果矩陣後，要將所產生之因果矩陣與一般情況醫
療流程因果矩陣，進行差異作業因果矩陣的動作。首先醫院方面所提供之一般正
常情況醫療流程順序如下表所示： 
 
 
圖 9、Alpha 探勘方法之流程模型 
12 
 
9 {4} {10} 
10 {5}, {7}, {8}, {9} {11} 
11 {10} {12} 
12 {11} {13} 
13 {12} {17} 
17 {13} {18} 
18 {17} {27} 
27 {18} () 
在得到一般情況醫療流程因果矩陣後，即可進行兩因果矩陣差異作業的動作，
我們將表 3與表 5之因果矩陣進行差異作業，即可得到如表 5之兩因果矩陣之差
異作業。 
表 5、差異作業之因果矩陣 
活動代號 輸入 輸出 
3 {7}, {7} {9}, {9}, {9}, {5}, {5} 
4 {10}, {10} {11} 
5 {18}, {3, 18}, {18}, {3, 13}, 
{13}, {13} 
{8}, {8} 
7 {12} {3, 11}, {3} 
8 {5}, {5} {18}, {18}, {18} 
9 {3}, {3, 18}, {3, 17} {11}, {27}, {11, 27} 
10 ! {4, 13}, {13}, {4} 
11 {4}, {4, 9}, {7}, {5}, {9} {13}, {18} 
12 {5} {7}, {17} 
13 {10}, {11}, {10} {18}, {5}, {5}, {5} 
17 {12} {9}, {27} 
18 {7}, {8, 13}, {8, 12}, {8, 11}, 
{8} 
{9}, {5}, {5}, {5} 
27 {9}, {9}, {17} ! 
Step4：使用開發之使用者介面探勘企業法則 
將上一步驟中產生之因果矩陣表載入至使用者介面探勘工具中，逐步將各種
企業法則探勘出來。其過程同上個案例，因此僅呈現該使用者介面最後執行畫面，
如圖 11 所示。 
14 
 
 特殊情況 在『F/U EKG』、『若符合，家屬閱讀打 rtPA 同意書及簽署』、『若
符合，家屬閱讀打 rtPA 同意書及簽署』後，進行『抽血時間』
一般情況 在『進行『急診內科醫師看診，發現疑似腦中風』後，進行『抽
血時間』及『F/U EKG』及『安排 Brain CT』及『安排 CXR』，
等待『致電神內 CR 照會』 
IBR3 
 
(p8, 7, p0 p9) 單一狀態 p8透過活動 7的執行到達狀態 p0 p9 
特殊情況 在『若為三小時內發生，評估是否符合打 rtPA』後，進行『F/U 
EKG』，再執行『於急診處掛號』或『神內 CR 診視，問病史並評
估 NIHSS，診斷為急性血性中風』 
一般情況 在『進行『急診內科醫師看診，發現疑似腦中風』後，進行『抽
血時間』及『F/U EKG』及『安排 Brain CT』或『安排 CXR』，
等待『致電神內 CR 照會』 
IBR4 
 
(p10, 8, p11) 單一狀態 p10透過活動 8的執行到達單一狀態 p11 
特殊情況 進行『安排 Brain CT(查 PACE)』，再執行『轉床至 ICU』 
一般情況 在『進行『急診內科醫師看診，發現疑似腦中風』後，進行『抽
血時間』及『F/U EKG』及『安排 Brain CT』及『安排 CXR』，
等待『致電神內 CR 照會』 
IBR5 
 
(p2 p12 p13, 9, p14 
p15) 
狀態 p2 p12 p13透過活動 9的執行到達單一狀態 p14 p15 
特殊情況 在『 於急診處掛號』、『施打 rtPA』、 『 轉床至 ICU』後，進
行『安排 CXR』，再執行『 神內 CR 診視，問病史並評估 NIHSS，
診斷為急性血性中風』，等待『病情穩定後出院』 
一般情況 在『進行『急診內科醫師看診，發現疑似腦中風』後，進行『抽
血時間』及『F/U EKG』及『安排 Brain CT』及『安排 CXR』，
等待『致電神內 CR 照會』 
IBR6 
 
(p16, 10, p3 p17) 單一狀態 p16透過活動 10 的執行到達狀態 p3 p17 
錯誤情況 進行『致電神內 CR 照會』，執行『 急診內科醫師看診，發現疑
似腦中風』 ，再執行『若符合，家屬閱讀打 rtPA 同意書及簽
署』 
一般情況 進行『致電神內 CR 照會』，等待『神內 CR 診視，問病史並評估
NIHSS，診斷為急性血性中風』 
 
 探勘出上述特殊活動流程後，我們將回頭逐筆檢視該急性中風就診住院資料
庫中，是否真實存在這些特殊的活動流程執行順序，以驗證該方法所探勘出之結
果是可行的。而其檢視資料庫之結果於表 7呈現，該表格中包含有上述所探勘之
特殊活動、發生該特殊活動之病歷號個案、關鍵活動名稱、活動執行時間點以及
醫院方面提供之說明(產生該種特殊活動順序的原由)。 
 
16 
 
5.結論 
透過企業提供之資料庫，整理後轉換成標準格式之事件記錄檔，使用本研究
發展的研究探勘規則方法，最後將演算出之因果矩陣載入於本研究發展之企業法
則探勘工具使用者介面，進行企業法則的探勘，能夠成功的找出隱藏於企業資料
庫中的特殊活動作業。 
經由實例驗證後可得知，本研究提出的方法與發展之軟體介面可以幫助使用
者了解企業活動之中隱藏的企業法則。在實作案例中，藉由此種探勘特殊活動的
方法，能夠有效提供企業一個發現平時活動執行的特殊情況，這種活動的執行是
不存在於制定的標準流程當中，也就是提供管理者一個檢視現行流程是否不合時
宜或是操作人員無法依照標準流程進行活動的執行。 
參考文獻 
[1] W.M.P. van der Aalst, K.M. van Hee, “Workflow Management: Models, 
Methods, and Systems”, MIT press, Cambridge, MA, 2002 
[2] W.M.P. van der Aalst, “Formalization and Verification of Even-driven Process 
Chains”, Information and Software Technology, Vol. 41, pp.639-650, 1999 
[3] T. Murata, “Petri Nets: Properties, Analysis and Applications”, Proceedings of 
the IEEE, Vol. 77, No. 4, pp.541-580, 1989 
[4] K. Yamalidou, J.O. Moody, M.D. Lemmon, P.J. Antsaklis, “Feedback Control 
of Petri Nets Based on Place Invariants”, Automatica, Vol. 32, No. 1, pp.15-28, 
1996 
[5] T.H. Davenport, J.E. Short, “The New Industrial Engineering: Information 
Technology and Business Redesign”, Sloan Management Review, Vol. 31, No. 
4, pp.11-27, 1990 
[6] J. Mendling, G. Neumann, M. Nüttgens, “Yet Another Event-Driven Process 
Chain”, BPM 2005, Lecture Notes in Computer Science 3649, Springer-Verlag , 
Nancy, France, pp. 428-433, 2005 
[7] J. Mendling, G. Neumann, M. Nüttgens, “Towards Workflow Pattern Support of 
Event-Driven Process Chains (EPC)”, BTW 2005, Karlsruhe, Germany, CEUR 
Workshop Proceedings, Vol. 145, pp. 23-38, 2005 
[8] J. Mendling, M. Moser, G. Neumann, “Transformation of yEPC Business 
Process Models to YAWL”, SAC 2006, Dijon, France, Vol. 2, pp. 1262-1267, 
2006 
[9] J. Mendling, J. Ziemann, “Transformation of BPEL Processes to EPCs”,  EPK 
2005, Hamburg, Germany, Vol. 167, pp. 41-53, 2005 
[10] J. Mendling, W.M.P. van der Aalst, B.F. van Dongen, H.M.W. Verbeek, “ Errors 
in the SAP Reference Model”, BPTrends, pp. 1-5, 2006 
[11] J. Mendling, M. Moser, G. Neumann, H.M.W. Verbeek, B.F. van Dongen, 
無研發成果推廣資料 
其他成果 
(無法以量化表達之成
果如辦理學術活動、獲
得獎項、重要國際合
作、研究成果國際影響
力及其他協助產業技
術發展之具體效益事
項等，請以文字敘述填
列。) 
本計畫協助新光醫院探討中風急診治療流程之臨床路徑，並進而分析與 SOP 之
差異。 
 成果項目 量化 名稱或內容性質簡述 
測驗工具(含質性與量性) 0  
課程/模組 0  
電腦及網路系統或工具 0  
教材 0  
舉辦之活動/競賽 0  
研討會/工作坊 0  
電子報、網站 0  
科 
教 
處 
計 
畫 
加 
填 
項 
目 計畫成果推廣之參與（閱聽）人數 0  
