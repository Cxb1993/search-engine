 2
究與探討。本研究將問題區分為「單產
品多廠區訂單分配問題」和「多產品多
廠區訂單分配問題」，在產能限制下，
分別建構混合整數規劃數學模式，和發
展以拉氏鬆弛法(Lagrangian Relaxation)
為概念且具有次梯度法的拉氏演算法
(Lagrangian-based Heuristic)，獲得系統
總成本（包括整備成本、製造成本、存
置成本及運輸成本）最小化。利用隨機
產生的題庫進行驗證，在短時間內大型
問題獲得不錯的結果，並分析各項相關
成本對訂單分配之決策，以影響系統總
成本及工廠選擇與數量分配，其中以各
廠的製造成本和與訂單指定地點的運
輸成本影響最大，可供作為企業選擇工
廠準則的參考。 
最後，在前兩年的計畫均假設生產
地點及需求點與需求量為已知，然而，
需求量可能是變動的，而如何配銷需求
就必需考慮配銷的選擇；因此，當 PCB
製造完成後，有些成品可能是經由經銷
商轉賣給顧客，這些經銷商可能是外
包，也可能是自行營運，經銷商擔負起
物流效率及縮短反應時間，使配銷通路
呈現少階化，所以如何選擇經銷商區位
是一長期性規劃，對企業而言可說是相
當重要。本年度建構一產品的經銷商區
位選擇模式，冀望在有限的資源下，從
候選的區位中選擇最佳的經銷商位
置，使得整個供應鏈績效達到最佳化。 
在許多設施區位問題之相關研究
中，鮮少探討到顧客需求是否會隨時間
而變化。但設施的規劃與建構並非瞬間
即可完成，而其規劃期間更長達數年之
久；而在這段期間中，若將顧客點的需
求設為一固定常數的話，可能無法反映
出真實的情況，故若能藉由預測方法將
顧客的需求以一組隨時間變動的函數
來表示(如需求預測模式)，並將其帶入
模式中考慮，更能反映出真實的問題情
況。 
在第三年，本研究所要求解之動態
設 施 區 位 問 題 (dynamic location 
problem)為一 NP-hard 問題，故其求解
的複雜度相當高，所以為了在合理的時
間內求得最佳或近似解，本研究發展一
基因演算法(genetic algorithm, GA)進行
求解。 
 
三、文獻探討 
本研究針對動態設施區位問題與
啟發式演算法求解設施區位問題之相
關文獻進行整理與探討： 
Wesolowsky and Truscott (1975)將
Curry and Skeith (1969)的靜態問題延伸
至 一 個 動 態 (dynamic) 、 多 時 期
(multiperiod)的設施問題，同時作者也
運用動態規劃(dynamic programming)進
行求解。 
Wesolowsky (1973)將單一設施的
靜態問題作延伸，允許設施可以在規劃
時間 (planning horizon)中，變更其位
置。作者以不完全動態規劃的演算法
(incomplete dynamic programming 
algorithm)進行求解，以得知在規劃時間
中，單一設施在每個時間點(period)中應
設置在那個節點上，以使得總成本可以
最低。 
在 Drezner (1995)所探討的動態性
設施區位問題中，作者將顧客點的需求
權重 (weight)視為動態，隨時間相依
(time-dependent)而非一固定常數。作者
提出一套新的演算法，並以一個小型的
2-中位問題作為例子進行求解比較，結
果發現作者所提出的演算法其所得的
解與 AMPL (Fourer et al., 1993)軟體所
求得的解差異並不大。 
Chardaire et al. (1996)所考量的區
位問題是屬於多時期、動態、無容量限
制的設施區位問題，同時，顧客點個數
是隨著時間而有所增加。作者藉由拉氏
鬆弛法去得到一個好的下限解，再以模
擬退火法(simulated annealing, SA)搜尋
以得到一個較佳解。 
Francisco and Maria (1998)以簡單
的 動 態 區 位 問 題 (simple dynamic 
location problem)模式為基礎，之後再加
入建置 (establishment)、廢除 (removal)
 4
(4) 顧客點與設施點之間的距離計
算，運用歐幾里德距離來計算。 
(5) 設施的使用成本以及運送成本
皆為一固定值，並不會隨時間
而有所改變。 
(6) 當設施建構完成時，即馬上被
啟用，以提供服務滿足顧客點
需求。 
(7) 設施的啟用只會發生在每個時
期的一開始，且每個時期最多
只有一個設施被建置，而且一
旦設施被啟用後，在往後的規
劃時間內，將不會被廢除而不
使用。 
4.2 符號說明 
參數： 
A : 每個設施在每段時期中的使用
成本。 
ck : 第 k 個候選設施區位的建置成
本，k =1,2,3…m。 
dik : 需求點 i 與候選設施區位點 k 的
距離。 
m : 候選設施區位的數目且 m ≥ P。
n : 需求點數目。 
P : 預期建構設施點數目。 
tj : 第 j 個設施被建構的時間點， 
j = 1, 2, 3, …, p 
且 0= ttt P21 ... <<< < Tt =+1P 。 
wi(t) : 需求點 i 在時間點 t 時的需求，
i = 1, 2, 3, …, n， Tt ≤≤0 。 
μ : 每單位距離的運輸成本。 
決策變數： 
1, 顧客點 i 的需求由候選設施點
k 來滿足時 ⎩⎨
⎧=ikx  
0, 其他 
1, 若設施被建置在候選區位 k上
⎩⎨
⎧=kz  0, 其他 
4.3 模式建立 
本研究主要的目標為在規劃何時應開
放一新設施，使得總成本最小化。 
{ } dtxzdt
t
twF ikkik
mkj
n
i
i
j
j
）***min)( （
1
P
1 1
1 μ
≤≤= =
∑ ∫ ∑=
+  
( ) ∑+∑ −+
== +
m
k
kk
j
jj zcAjtt
1
P
1
1 ***  
令  wij  = dt
t
t
tw
j
j
i∫
+1
 )(  
藉由 wij的定義，我們可以將 F 重新定
義為： 
{ }∑∑ ⎟⎠⎞⎜⎝⎛= = = ≤≤
P
1 1 1
***min
j
n
i
ikkik
mk
ij xzdwF μ  
( ) ∑+∑ −+
== +
m
k
kk
j
jj zcAjtt
1
P
1
1 ***  (1)
Min F  
P..
1k
≤∑
=
m
jzts  (2)
∑ =
=
m
k
ikx
1
1 n...,i ,21=  (3)
zkikx ≤  m..,kn..,i ,21,,21 == (4)
{ }1,0∈kz  m...,k ,21=  (5)
{ }1,0∈ikx  n...,i ,21=  (6)
11 +≥+ jj tt  P...,j ,21=  (7)
01 =t  (8)
TtP =+1  (9)
為整數t j  1,21 += P..,j  (10)
各式代表的意思如下： 
(1) 式為本研究模式的目標函數，即求
所有需求點在每個時期中至其最
近設施的運輸成本、各個設施在規
劃時期中的使用成本以及所有設
施的建構成本總和最小化。 
(2) 式為滿足所有設施數目總和為 P 的
條件。 
 6
色體被複製的機率也愈大，而且可能不
只複製一次，而適應度函數值愈小的染
色體被複製的機率也愈小，亦可能不被
複製，所以好的染色體將被複製保留至
下一世代，而較差的染色體則被淘汰不
進行複製。 
5.7 交配 
在交配部分，本研究採用順序交配
法，而交配的組數為 PN cpop * 。在經過
交配之後的母體，重新計算各組染色體
的目標值，並將母體中前三組較優染色
體加以記錄，以避免在往後的突變運算
過程中，好的染色體解被突變掉。 
5.8 突變 
在突變部分，本研究採用 SWAP
法，即母體中各組染色體皆隨機產生一
隨機值，當隨機值小於所設定的突變率
時，則此組染色體進行突變。在經過突
變之後的母體，重新計算各組染色體的
目標值，並將母體中前三組較優染色體
加以記錄，以避免在往後的運算過程
中，好的染色體解被改變掉。 
5.9 取代 
先比較九組記錄值中最優三組染
色體與突變後母體中之最差三組染色
體的優劣，以判斷是否進行取代。接
著，如果記錄值中的三組染色體皆優於
突變後母體中之最差三組染色體時，則
全部取代，若只有一組較優者，則只取
代此組染色體，以此類推。 
5.10 停止條件 
本研究所採用的停止條件是設定
其最大演化世代數。 
 
六、研究結果 
本研究自行產生測試題以驗證基
因演算法之求解績效，並進行相關之分
析。以下為顧客點資料之假設說明： 
z 隨機產生 20 組顧客點，顧客點的
X、Y 軸座標屬於均等(uniform)分
配(0, 50)，即顧客均勻分佈於 50*50
的區域中。 
z 每個候選區位點皆有其固定的建
置成本與年使用成本。 
z 運輸成本為$1/單位距離需求。 
z 距離計算採用歐幾里德距離。 
z 將顧客點分成 A(顧客點 1~5)、B(顧
客點 6~15)、C(顧客點 15~20)三
群，A 群顧客點的需求並不會隨時
間而有所改變，其需求屬於常態
(Normal)分配(100, 10)；B 群顧客點
的需求與時間呈線性關係成長，需
求係數屬於均等分配(45, 55)，斜率
屬於均等分配(7, 10)；C 群顧客點
的需求與時間呈指數型態成長，需
求係數屬於均等分配(0, 10)；時間
一次方項屬於均等分配(0, 5)；時間
二次方項屬於均等分配(1, 3)。 
顧客點資料如表 1 所示。 
    本研究中，基因演算法之參數設定
為：母體數 30，交配率 0.8、突變率 0.4
與演算世代 30。問題的求解結果整理於
表 2，包括欲建置的設施數(P)、求得之
設施區位、設施建置的時間、總成本、
GA 與群舉法的求解時間(秒)。如表 2
所示，最佳之設施數為 5，最佳之區位
與建置時間順序為 8-4-10-13-20。此
外，根據求解結果可以發現，當 P 為給
定且小與 5 的情況下，本問題可採用窮
舉法求得最佳解，但求解時間將隨著 P
而急遽增加。然而，基因演算法則可在
小於 1 秒的時間內求得最佳解。因此，
我們可以指出，本研究所發展之基因演
算法可以非常快速的求得問題的最佳
或近似最佳解。 
    此外，基因演算法亦可在 P 為不給
定的情況下進行求解，即可以同時最佳
化設施數與設施區位。雖然求解時間較
長(3.78 秒)，但是仍可獲得與表 2 相同
的結果。 
 
七、結論 
    本年度的研究針對 PCB 經銷商的
區位選擇，建立動態設施區位模式，並
發展一基因演算法進行求解。經實證分
析發現所建構之演算法有不錯之求解
