 2
摘要 
 
隨著車載無線存取/特定短距通訊標準和嵌入式監視系統技術的快速發展，車載監控網
路已成為可能，在網路中的每台車輛可利用行車攝影機來監控道路上發生之各種事件。在
第二年的計畫執行中，我們提出了在道路上的每台車輛均配備了影像攝影機並結合車牌辨
識技術來識別可疑車輛(例如贓車)，以及利用車載無線通訊介面與車間通訊方式來協同追蹤
可疑車輛和快速回報此發現給附近的警車。我們設計的機制不需要任何路側基礎設施之輔
助，主要元件為追蹤模組與回報模組，追蹤模組在必要時可將追蹤任務換手至鄰車以持續
追蹤可疑車輛，並可不依賴數位地圖而偵測出交叉路口的存在；回報模組則可在所偵測出
的交叉路口利用協同式路口導引方式來回報可疑車輛之最新位置至附近警車。模擬實驗結
果顯示我們所提出之方法可有效地避免重廣播不必要的訊息，並可大量地節省網路上廣播
訊息的頻寬使用。除此之外，我們還設計並實作出一個新型車載監視與感測系統，整合了
各式感測裝置、無線通訊技術與車間通訊功能，以達成車輛追蹤與回報的目的。 
 
關鍵字：特定短距通訊、車牌辨識、車載監控網路、車載追蹤、車載無線存取 
 
 4
目錄 
一、前言………………………………………………………………………………..5 
二、研究目的…………………………………………………………………………..7 
三、研究方法…………………………………………………………………………..9 
四、研究成果…………………………………………………………………………17 
五、結論與未來規劃…………………………………………………………………23 
六、參考文獻…………………………………………………………………………24 
七、計畫成果自評……………………………………………………………………26 
 
附錄： 
1. L.-W. Chen, Y.-H. Peng, Y.-C. Tseng, and D.-C. Chang, “雙層式長鏈狀車載網路之高效
率資料收集與散佈機制”, The 6th Workshop on Wireless, Ad Hoc, and Sensor Networks 
(WASN 2010), Sept. 2-3, 2010. (Recipient of Best Paper Award) 
2. L.-W. Chen, Y.-H. Peng, and Y.-C. Tseng, “GoBike: A Group Communication System for 
Bikers Based on Smart Phones”, Demonstration, ACM MobiCom, Sept. 20-24, 2010. 
3. L.-W. Chen, Y.-H. Peng, and Y.-C. Tseng, “An Augmented Reality Based Group 
Communication System for Bikers Using Smart Phones”, The 9th IEEE International 
Conference on Pervasive Computing and Communications (PerCom 2011), Mar. 21-25, 
2011. 
4. L.-W. Chen, Y.-H. Peng, and Y.-C. Tseng, “An Infrastructure-Less Framework for 
Preventing Rear-End Collisions by Vehicular Sensor Networks”, IEEE Communications 
Letters, vol. 15, no. 3, pp. 358-360, Mar. 2011. (SCI, EI) 
5. C.-C. Wu, L.-W. Chen, and Y.-C. Tseng, “Design and Implementation of a Bicycle Tour 
Logging System Based on Smart Phones”, The Digital Content and Multimedia 
Applications Conference, May 27, 2011. 
6. L.-W. Chen, K.-Z. Syue, Y.-C. Tseng, and J.-H. Cheng, “Surveillance On-the-Road: 
Suspicious Vehicle Tracking and Reporting Based on V2V Communications”, The 16th 
Mobile Computing Workshop, June 17, 2011. 
 6
所偵測出的交叉路口利用協同式路口導引方式來回報可疑車輛之最新位置至附近警車。 
除此之外，由於傳統監控和追蹤系統必須藉由設置於路旁攝影機設備的影像記錄來實
現其監控功能，但是這樣的方式存在著兩個問題，第一，它需要花費較多時間與心力來從
大量的影像記錄中識別出特定車輛；第二，一般來說，由於特定車輛並非可事先設定，因
此所紀錄到的相關影像記錄通常不夠清晰，更甚者，影像記錄的數量隨著時間日益龐大，
將進一步造成人力成本的提升。在本計畫中，我們將以車間(Vehicle-to-Vehicle, V2V)通訊為
基礎來設計並實作出無需依賴路旁基礎設施的可疑車輛追蹤與回報系統，以進一步克服傳
統監控和追蹤系統的缺點。 
 
 8
在本計畫中，我們對於可疑車輛追蹤與回報的問題定義如下，每個無線通訊介面的通
訊範圍為 R，每一台車輛 i 持續識別其正前方的車輛 vf 是否為可疑車輛 vs。我們的目標是
設計出高效率的機制來協同式追蹤已被識別的 vs，並在追蹤期間於每個經過的交叉路口來
回報 vs最新的位置給 vp，回報訊息 mr是以多節點(Multi-hop)傳送方式導引至附近的 vp，當
vp 接收到 mr 後，便可重建 vs 的移動軌跡，以及儘快抵達 vs 所在位置以採取必要的處理措
施，以下是我們所設計之可疑車輛追蹤與回報機制的目標： 
z 追蹤工作換手(Tracking Handoff)：車道改變或路口轉向時可將追蹤工作換手至鄰近車輛
以持續追蹤 vs。 
z 交叉路口偵測(Intersection Detection)：無需數位地圖輔助即可偵測出所經過的交叉路口
以回報 vs最新位置給 vp。 
z 位置回報廣播(Location Reporting)：根據鄰近車輛位置分佈來設計 vs位置回報方式以減
少 mr的重廣播數量。 
z 回報訊息導引(Message Guiding)：根據 vp 所經過之位置來將 mr導引至最近的 vp 以減少
位置回報的訊息負擔(Overhead)。 
 10
(一) 追蹤模組 
在車載監控網路中，藉由車上所裝備的 Video 攝影機，每台車輛 i 可以對其 vf進行拍照
的動作，接著以 LPR 技術辨識出其車牌號碼，然後根據經由網際網路下載或附近的警車來
建立的贓車資料進行車號比對。當 vf 被識別為 vs 後，i 將不斷地進行拍照辨識以持續追蹤
vs，若 i 或 vs改變行駛車道或在路口轉向，透過我們所設計的 Tracking Handoff 機制可立即
將追蹤工作換手給鄰近車輛，以達成協同式追蹤 vs的目的。除此之外，為了重建 vs的移動
軌跡以及減少不必要的位置回報，我們還設計一個 Intersection Detection 機制，可在追蹤 vs
的期間將 vs最新經過之交叉路口回報給 vp。 
1) Tracking Handoff Scheme：車輛 i 在一般模式(Normal Mode)和緊急模式(Urgent Mode)
將分別以 tn 和 tu 秒的間隔來識別 vf的車牌號碼，其中 tn > tu，在 vf被識別為 vs之前，i 將處
於 Normal Mode 來識別 vf的車牌號碼，一旦 vf被識別為 vs後，i 將馬上回報此發現至附近
的警車 vp，並且切換至 Urgent Mode 來識別 vf的車牌號碼以持續追蹤 vs。如果在追蹤期間，
由於車道改變或路口轉向的緣故，導致 i 無法繼續追蹤 vs時，則 i 將會把追蹤的工作立即換
手至其鄰近車輛。 
如果當車輛 i 在 Normal Mode 偵測 vf為 vs時，i 將立即切換成 Urgent Mode 來持續追蹤
vs。在處於 Urgent Mode 期間，一旦 i 不能夠再偵測到 vs，i 將立即廣播(Broadcast)一個追蹤
換手訊息 mh 給鄰近的車輛，當這些車輛接收到 mh 後，它們將從 Normal Mode 切換成 Urgent 
Mode 以快速偵測 vs，一旦鄰近車輛 j 偵測到 vs後，便完成來自 i 的追蹤工作換手程序，而
其他未偵測到 vs的鄰近車輛將在經過事先給定之換手偵測時間後自動從 Urgent Mode 切換
回 Normal Mode。同樣地，之後處於 Urgent Mode 的 j 一旦不能偵測到 vs，j 將重複 i 所做
過的追蹤換手步驟。 
 
圖三、將追蹤工作換手至鄰近車輛之步驟 
 12
2) Intersection Detection Scheme：如圖四所示，外圈為每台車輛 i 的訊息接受範圍，而
內圈是一個可調整參數來過濾鄰近車輛 Ni。根據 i 的行駛方向，我們將把訊息接受範圍分
割成四個扇形區域，其分別對應為車頭區域 sH、車尾區域 sT、車右區域 sR和車左區域 sL。
另外，我們定義 sH、sT、sR、sL的角度分別為 θH、θT、θR、θL、其中 θH = θT、θR = θL、θR = 180-θH，
而位置處於內圈區域的車輛將不被包含在四個扇形區域中。由於每台車輛會週期性地廣播
包含位置資訊的 Beacon 訊息，因此 i 可以獲得在訊息接受範圍內的 Ni位置分佈，也就可以
判斷是否有 Ni落在 sH、sT、sR和 sL中。除了位置資訊，vp 也會不斷地宣告它的身份於 Beacon
訊息中。藉由檢查每個扇形區域是否存在 Ni， i 可以偵測出它自己是否正位於路口
(Intersection)或路段(Road Segment)。偵測機制為如果沒有任何 Ni落在 sR和 sL，代表 i 正位
於 Road Segment；相反地，如果有 Ni落在 sR 或 sL其中之一，則代表表示 i 正位於 Intersection。
如圖四為例，車輛 A、C、D 和 E 偵測出自己正位於 Road Segment，而車輛 B 偵測出自己
正位於 Intersection。 
(二) 回報模組 
一旦有車輛被識別為 vs 時，此發現應該立即經由 V2V 通訊來快速回報至附近的警車
vp，如此一來，附近的 vp 在接收到回報訊息 mr後，便可花費較少時間來抵達 vs目前的位置。
對於找尋最近的警車 vp，氾濫式廣播(Flooding)是一個快速直覺的尋找方法，然而，它會產
生出較大的網路流量(Network Traffic)，而導致其網路擴縮性(Scalability)較差而無法有效率
地使用在大型車載網路中。為了減少回報 mr 到附近的警車 vp 所造成的網路控制訊息負擔
(Control Overhead)，我們設計了 Rebroadcast Decision 機制、Intersection-guiding Search 機制
和 Memory-based Backoff 機制來有效率地降低 mr的重廣播(Rebroadcast)數量。在 mr的訊息
封包中，包含了發現車輛的 ID、vs的位置與其車牌號碼、以及訊息序號(Sequence Number)。 
1) Rebroadcast Decision Scheme：在此機制中，車輛會根據自身位置與 mr發送者(Sender)
位置及其回報方向 dr來決定是否要幫忙重新廣播，其詳細步驟如下: 
1. 一旦車輛 i 辨識出 vf為 vs，i 將立即發送 mr回報此發現給附近的警車 vp，當車輛 j
收到來自 i 發送的訊息 mr，j 首先根據 Nj 的位置分佈來偵測目前所在位置型態為
路口或路段。 
2. 如果 j 目前正位於路口，它將立即幫忙重廣播 mr；相反地，如果 j 目前正位於路
段，它將檢查在 dr方向是否有 Nj位於對應的扇形區域 sC中。假如有 Nj位於 dr方
向的 sC，mr 將被重廣播;否則，mr 將被忽略以避免不必要的廣播。以圖四(a)為例，
由於發送者 A 車落在 B 車的 sT，因此 dr方向為從 j 的 sT到 sH，故在 dr方向的 sC
 14
此一來，位於第一個路口且接收到來自 B 車重廣播 mr 的車輛，將自行決定 mr的
導引方向 dg。 
 
 
圖六、以警車相遇記憶為基礎之路口導引尋找機制 
 16
據其遇到警車 vp 之已經過時間 ti來決定其 Backoff Timer BTi。如果 i 之前從未遇到過 vp，
則 ti將被設定為∞。因此，當車輛 i 具有較小的 ti時，則代表著有較高機會取得較小的 BTi，
其選擇方法如下： 
 
τ 為給定之正整數，ρ 為 Backoff Class 的數量，T 為車輛關於 vp 記憶的最大有效時間。 
如此一來，當最近遇過 vp 的車輛在幫忙重廣播 mr 時，便有較高機率選擇到最小的
Backoff Timer 而成為第一個重廣播 mr的導引者。此外，我們更進一步使用 Implicit Inhibition 
機制[11]來消除不必要的 mr重廣播，當車輛接收到相同 Sequence Number 的 mr時，便代表
收到 Acknowledgement，則不需要再去幫忙重廣播此 mr。另一方面，為了避免沒有任何重
廣播車輛成功地幫忙廣播 mr，Sender 車輛的 Backoff Timer 將被設定成 2τ+ρ，一旦 Sender
車輛倒數到 0，則重新傳送一個新 Sequence Number 的 mr來與之前的 Acknowledgement 有
所區分。 
 18
 
圖八、回報訊息之發送數量比較 
 
圖九顯示在道路上不同的總車輛數所造成之封包碰撞率，我們所提出機制相對於氾濫
式廣播與智慧型廣播有著較低的封包碰撞率，這是由於氾濫式廣播將重新廣播回報訊息至
路口的每個路段，因此導致在同一時間內有較高的傳送封包碰撞率，智慧型廣播亦造成同
樣的情形，而且隨著總車輛數的增加，此情形將變得更糟；相反地，我們的方法可有效地
導引回報訊息至警車，而且我們提出的 Memory-based Backoff 機制能更進一步地減少封包
碰撞率。 
 
 
圖九、封包碰撞率比較 
 
圖十顯示在不同的總車輛數下，可疑車輛之發現平均回報至警車的平均延遲時間，我
們所提出的機制與氾濫式廣播和智慧型廣播隨著車輛數的增加，有著相似的平均回報延遲
 20
充應用於車輛安全與防盜[1]。Camera 模組和 WAVE/DSRC 通訊裝置，分別以內建的 Camera
傳輸介面和 Ethernet RJ-45 網路介面連接至 ARM 9 開發板，其它的模組則藉由 UART 介面
連接至開發板，接下來說明各硬體元件與實作細節。 
 
 
圖十二、VS3 系統元件組成圖 
 
 
圖十三、VS3 硬體元件 
 
(一) ARM9 開發板 
如圖十三(a)所示，ARM 9 開發板是使用 Mini2440 [13]，具備 3.5” TFT 的 LCD 顯示器。
Mini2440 配備有 400MHz 32-bit RSIC 整數處理器(ARM920T [14])、64MB SDRAM、64MB 
Nand Flash、Camera 傳輸介面、三個序列埠、一個 10/100M Ethernet RJ-45 埠和一個內建的
麥克風。Mini2440 的作業系統可以安裝 Embedded Linux 或 WinCE 來開發各種應用。我們
 22
(六) WAVE/DSRC 通訊裝置 
如圖十三(f)所示，WAVE/DSRC 通訊裝置是使用 ITRI  WAVE  Communication Unit 
(IWCU [20])，可直接經由 Ethernet RJ-45 埠連接至 Mini2440，IWCU 具備兩個 IEEE 802.11p
通訊介面和一個 Ethernet 網路埠， Mini2440 可透過標準的 Linux Socket APIs (例如 bind()、
sendto()和 recvfrom())來直接傳送 UDP 封包，然後由 IWCU 將 UDP 封包轉為車載通訊環
境專用短訊息(WAVE Short Message, WSM [21])。 
(七) Prototype 系統展示 
我們整合了下列 LPR 相關功能至 VS3：車牌定位(Plate Localization)、車牌定向和縮放
(Plate Orientation and Sizing)、正規化處理(Normalization)和邊緣偵測(Edge Detection)、字元
切割(Character Segmentation)和光學字元識別(Optical Character Recognition)，在可疑車輛追
蹤和回報雛型系統展示方面，圖十四(a)顯示我們在壓克力模型汽車內對一張車輛的車牌照
片進行拍照的動以及車牌辨識的處理，圖十四(b)顯示此車輛已經被識別為可疑車輛，圖十
四(c)與圖十四(d)分別顯示 VS3 安裝於汽車內部以及進行可疑車輛的追蹤。 
 
 
圖十四、雛型系統展示 
 
 24
六、參考文獻 
[1]  L.-W. Chen, K.-Z. Syue, and Y.-C. Tseng, “VS3:  A Vehicular Surveillance and Sensing 
System for Security Applications,” in IEEE International Conference on Mobile Ad-hoc and 
Sensor Systems (IEEE MASS 2009), Oct. 2009. 
[2]  P. Thammakaroon and P. Tangamchit, “Adaptive Brake Warning System for Auto- mobiles,” 
in The 8th International Conference on ITS Telecommunications (ITST 2008), pp. 204–208, 
Oct. 2008. 
[3]  U. Lee, E. Magistretti, M. Gerla, P. Bellavista, and A. Corradi, “Dissemination and 
harvesting of urban data using vehicular sensing platforms,” IEEE Transactions on 
Vehicular Technology, vol. 58, no. 2, pp. 882–901, Feb. 2009. 
[4]  K. G. Aravind, T. Chakravarty, M. G.Chandra, and P. Balamuralidhar, “On the ar- chitecture 
of vehicle tracking system using wireless sensor devices,” in International Conference  on 
Ultra  Modern Telecommunications  &  Workshops  (ICUMT), pp. 1–5, Oct. 2009. 
[5]  M. Caceres, F. Sottile, and M.A. Spirito, “WLAN-Based Real Time Vehicle 
LocatingSystem,” in The 69th IEEE Vehicular Technology Conference (IEEE VTC-Spring 
2009), pp. 1–5, Apr. 2009. 
[6]  R. Lu, X. Lin, H. Zhu, and X. Shen, “SPARK: A New VANET-Based Smart Park- ing 
Scheme for Large Parking Lots,”  in The 28th IEEE Conference on Computer 
Communications (IEEE INFOCOM 2009), pp. 1413–1421, Apr. 2009. 
[7]  M. Li, H. Zhu, Y. Zhu, and L. M. Ni, “ANTS: Efficient Vehicle Locating Based on Ant 
Search in ShanghaiGrid,” IEEE Transactions on Vehicular Technology, vol. 58, no. 8, pp. 
4088–4097, Oct. 2009. 
[8]  M. Li, M.-Y. Wu, Y. Li, “ShanghaiGrid: An Information Service Grid,” Concurrency and 
Computation: Practice and Experience, vol. 18, pp. 111–135, 2006. 
[9]  IEEE std, “802.11p/D4.0, Draft Amendment for Wireless Access in Vehicular Environments 
(WAVE),” Mar. 2008. 
[10]  IEEE P1609.4/D6.0. Draft Standard for Wireless Access in Vehicular Environments (WAVE) 
- Multi-channel Operation. Mar. 2010. 
[11]  L.-W. Chen, Y.-H. Peng, and Y.-C. Tseng. “An Infrastructure-less Framework for Preventing 
Rear-End Collisions by Vehicular Sensor Networks.” IEEE Communications Letters, vol. 
15, no. 3, pp. 358-360, Mar. 2011. 
[12]  QualNet, http://www.scalable-networks.com/products/qualnet/. 
[13]  FriendlyARM, Mini2440, http://www.friendlyarm.net. 
 26
七、計畫成果自評 
在第二年計畫的執行過程中，已完成下列數項成果：(1)雙層式長鏈狀車載網路之高效
率資料收集與散佈機制設計，本成果己發表於WASN 2010研討會，並獲大會頒發Best Paper 
Award；(2)GoBike自行車隊通訊系統之設計與實作，本成果己於ACM MobiCom 2010國際
研討會進行雛型系統展示；(3)在所實作之自行車隊通訊系統上開發出新型擴增實境應用，
本成果己發表於IEEE PerCom 2011國際研討會；(4)車載感測網路中無需基礎設施輔助之車
輛防追撞機制設計，本成果己發表於IEEE Communications Letters國際期刊；(5)以智慧型手
機為基礎之單車旅遊紀錄系統設計與實作，本成果己發表於Digital Content and Multimedia 
Applications Conference 2011研討會；(6)以車間通訊為基礎之可疑車輛追蹤與回報系統設計
與實作，本成果己發表於Mobile Computing Workshop 2011研討會。 
整體而言，第二年計畫研究成果已發表一篇國際期刊論文、兩篇國際研討會論文/系統
展示、與三篇國內研討會論文(如附錄所示)，包含IEEE Communications Letters、ACM 
MobiCom 2010、IEEE PerCom 2011、WASN 2010、Digital Content and Multimedia Applications 
Conference 2011、以及Mobile Computing Workshop 2011，其中一篇更獲得WASN 2010大會
所頒發之最佳論文獎(Best Paper Award)，研究成果之學術價值已得到國內外專家學者們的
肯定。 
Efficient Data Collection and Distribution in Two-tier Vehicular Long-thin 
Networks 
 
 
Lien-Wu Chen1, Yu-Hao Peng1, Yu-Chee Tseng1, and Da-Chun Chang1,2
1Department of Computer Science, National Chiao-Tung University, Hsin-Chu, 300, Taiwan 
2Emerging Smart Technology Institute, Institute for Information Industry, Taipei, 105, Taiwan 
{lwchen, yhpeng, yctseng, dcchang}@cs.nctu.edu.tw 
 
 
Abstract 
This paper investigates the optimization of data 
collection and distribution in two-tier vehicular 
long-thin networks (VLTNs). The fleet of bikers using 
smart phones with the common cycling path forms 
two-tier VLTNs, which consist of a 3G/3.5G high-tier 
interface and an IEEE 802.11-based low-tier interface. 
In a cycling fleet, it causes insufficient bandwidth and 
long delay problems as all bikers upload their data and 
download the fleet information via 3G/3.5G 
communications. To reduce the bandwidth usage and the 
transmission delay of 3G/3.5G communications, we 
propose a framework consisted of a dynamic grouping 
mechanism and a group maintenance scheme. In the 
proposed framework, bikers belonging to the same group 
exchange data with each other via ad-hoc 
communications and only the group leader needs to 
report the group member data and obtain the fleet 
information to/from the server via 3G/3.5G 
communications. Then, the group leader employs ad-hoc 
communications to broadcast the fleet information to all 
other members. Through the cooperation between 
3G/3.5G and ad-hoc communications, the high-tier 
bandwidth cost and transmission delay can be minimized. 
Simulation results show our framework outperforms 
existing works that significantly reduce the amount of 
3G/3.5G data and the number of 3G/3.5G connections. 
In addition, we use smart phones to implement a Google 
Android and Maps-based prototype for cycling fleet 
communications. 
 
 
1. Introduction 
 
近年來，愛好自行車騎乘活動的人士與日俱增，不
論在通勤、運動、或娛樂方面均有越來越受歡迎的趨
勢。另外一方面，由於高油價時代的來臨，人們逐漸
以自行車取代汽車作為上班的通勤工具。除了通勤之
外，人們更於週末假日在郊外騎自行車以達到運動或
踏青的目的，相關文獻包括建置公共自行車租用系統
[1]、設計電動自行車系統[2]、以及實作自行車感測器
系統[3]等。在本篇論文中，我們探討在雙層式網路架
構下之自行車車隊通訊效能最佳化的問題，自行車車
隊網路因具有共同騎乘路線而形成一個長鏈狀的車 
 
圖一、自行車車隊網路架構 
 
載網路，其上層網路介面為3G/3.5G，下層為IEEE 
802.11 Ad-hoc網路，圖一顯示具有三個Ad-hoc通訊群
組的自行車車隊網路。 
在移動式無線隨意網路(Mobile Ad Hoc Network, 
MANET)的研究領域中，針對群組成員通訊的群播
(Multicast)方法主要可分為三大類，第一類為樹狀群播
法(Tree-based) [4]-[8]，每個群組都需建立一個群播樹
來負責成員間的通訊；第二類為網狀群播法 
(Mesh-based) [9][10]，每個群組都需建立一個網狀拓
樸來轉送成員間的資料；第三類為雙層式群播法
[11]-[18]，每個群組都需建立一個骨幹拓樸來傳遞成
員間的資料。 
雖然樹狀群播法較易實作，但是在靠近根節點處
(Root Node)卻容易造成傳輸瓶頸，另外，當有非末端
節點(Intermediate Node)故障時，群組中某些成員便無
法與根節點保持通訊。而網狀群播法可藉由氾濫式廣
播(Flooding)將資料傳送至所有鄰居節點來提供較佳
的連通性，然而卻需消耗較多的頻寬，而且在有新成
員加入群組時，會造成整個網路的訊息氾濫式廣播。
這種方式在大型移動式無線隨意網路中可說是一種
非常耗時和浪費頻寬的方式。為了避免進行整個網路
的氾濫式廣播動作，雙層式架構的群播方法陸續在大
型移動式無線隨意網路中被提出，群組中部份成員將
被選作骨幹節點，專門負責管理群組拓樸以及決定傳
 
圖三、自行車車隊網路群組 
 
首先定義同一個群組的車隊成員必須是朝同方向
行進且可經由Ad-hoc通訊方式傳遞資料給其他成
員。然而，對於同一個群組中的成員個數必須加以限
制，因為倘若成員個數太多，將會造成資料收集與散
佈之時間過長的問題，假設ω為車隊成員個數最大值。 
圖三為一個形成車隊群組的例子，其中每台自行車
必須扮演Group Header (GH)或Group Member (GM)其
中之一的角色，且每台自行車Bi會有一個屬於自己的
Serial Number (SNi)，此SNi對於每台自行車在群組中
是唯一的數值。倘若該自行車扮演GH的角色，則必須
週期性的廣播Invitation Advertisement Beacon (IAB)，
圖四為IAB封包的格式定義，包含了Beacon Type為訊
息種類，Heading Direction為群組行進的方向、
Coordinate為Source目前所在的座標、Current Serial 
Number (SNc)為目前已使用的最大SN(即目前群組內
車隊成員的數量)、Source SN (SNs)為IAB發送者的
SN。週期性發送IAB的主要目的是通知不在群組內卻
靠近到整個群組之通訊範圍的自行車成員，若此群組
尚未達到車隊成員個數最大值，則此接近之自行車將
被允許加入群組，反之則否。 
 
 
圖四、Invitation Advertisement Beacon封包格式定義 
 
GM必須協助Relay由GH發出的IAB，Relay的方式
是以越遠收到的GM，則具有越小的Backoff Timer為
基礎，因此收到IAB且距離Source最遠的自行車將會
因Backoff Timer最小而優先Relay，在此稱為Relay 
Bike 1 (RB1)，而Relayed IAB中的Heading Direction，
Coordinate，與Source SN皆必須分別更新為RB1的行
進方向、RB1目前所在的座標，與RB1的SN。而介於
GH和RB1之間的自行車則因為收到具有相同SNc的
IAB則不再協助Relay IAB。同理，在RB1廣播出去之
後，RB1後方的車輛也必須協助RB1作Relay IAB的動
作，相對距離RB1最遠的車輛為RB2，則RB2優先Relay 
IAB，一直做到無人Relay即自動結束。 
假設θ值為一段時間區間，當一台自行車New Bike 
(NB)剛啟動車上通訊裝置時，必須先等待θ的時間，
倘若這段時間內沒有收到來自其它群組的IAB，則自
己形成一個新的群組，且自己就是GH。倘若有收到，  
 
圖五、New Bike判斷是否加入群組 
 
則必須針對IAB內容判斷自己是否要加入，判斷機制
如下所述： 
首先NB判斷行進方向是否相同，倘若方向不同，
則不予理會且繼續等待直到θ結束。倘若方向相同，
如圖五所示，則分成(1)收到的IAB來自於最後一台
車，即SNs = SNc、(2)收到的IAB來自於GH，即SNs = 
1、(3)收到的IAB來自於中間協助Relay之RB，即1 < 
SNs < SNc。 
在(1)的狀況下，即SNs = SNc，代表NB是由最後方
加入，則NB直接設定自己的SN為SNc+1，並且回傳訊
息通知GH多了一名新的成員。而在(2)的狀況下，即
SNs = 1，代表車輛是由前方加入，則情況類似(1)，設
定自己的SN為1成為新的GH，並且回傳訊息通知舊的
GH，舊的GH再以越遠收到的GM，則具有越小的
Backoff Timer的廣播機制通知群組內所有車輛將自己
的SN加1。而在(3)的狀況下，即1 < SNs < SNc，代表
收到的IAB來自於中間協助Relay之RB，代表NB是由
其他路線轉向而來並且出現在群組的中間，則此時NB
加入群組中並發出訊息要求範圍內的前後方成員回
傳IAB，且回傳的IAB等待的Backoff Timer以距離越近
越先傳送為基礎，IAB內容必須包含位置資訊與SNs，
當收到的SNs為SNi與SNi+1，則NB設定自己的SN為
SNi+1，並通知後方之成員車輛將自己的SN加1。 
 
3.2. 群組合併與分離機制 
 
前面所述為新成員如何加入群組的機制，而在群組
與群組之間，或是群組內也有許多情況造成群組成員
的變動，其原因可分成以下三種：(1)圖六顯示群組中
自行車Bj轉到別的方向行駛，而離開原本Bj所在的群 
 
 
圖六、Bj轉彎而導致群組無法傳遞位置資訊與更新SN 
Ad-hoc通訊方式傳遞至GH，然後GH將整個群組
Aggregated的位置資訊回傳至Server，Server收到各個
群組的位置資訊後，再將整個自行車車隊網路的位置
資訊傳送給各個GH，而GH收到後再以相反的順序(1, 
2,..., SNc)傳送給群組內所有的車隊成員。 
 
4. Performance Evaluation 
 
在本節中，我們使用Java模擬器來實驗Single-tier
資料收集與散佈機制以及本篇論文所設計的高效率
資料收集與散佈機制所需要傳輸之3G/3.5G資料量與
建立之3G/3.5G連線數，整個車隊網路的總Biker數設
定為50、100、200、300、與400，每秒更新一次位置
資訊，每次模擬實驗的時間為600秒，每個數值為100
次模擬實驗的平均值。圖十一和圖十二顯示在不同
Biker數的情況下，各機制的3G/3.5G資料傳輸量以及
3G/3.5G連線建立數。 
 
 
圖十一、3G/3.5G資料傳輸量之效能比較 
 
圖十一顯示當Biker數增加時，所需要傳輸之
3G/3.5G資料量則是上升的。對於Single-tier機制而
言，由於所有Biker都是透過3G/3.5G連線來傳輸其資
料而使得所需要傳輸之3G/3.5G資料量快速地上升；
我們所設計的高效率資料收集與散佈機制則有著較
低的3G/3.5G傳輸需求，而且當Biker數越大時，我們
的資料收集與散佈機制所需要之3G/3.5G傳輸量只有
Single-tier機制的三分之一。 
 
 
圖十二、3G/3.5G連線建立數之效能比較 
 
圖十二顯示在不同Biker數的情況下，各機制造成
的3G/3.5G連線建立數。其結果顯示Single-tier機制在
Biker數增加時，其3G/3.5G連線建立數呈現指數性的
增加；而我們所設計之高效率資料收集與散佈機制在
Biker增加時，其3G/3.5G連線建立數只呈現線性的成
長。在圖十二的結果中，Single-tier機制由於其指數成
長的3G/3.5G連線建立數，使得其資料傳輸延遲將遠
高於我們的機制。我們的機制由於能夠將Biker分群並
使用Ad-hoc通訊將資料透過Gateway統一發送給
Server，而使得其3G/3.5G連線建立數可降至最低。 
 
 
圖十三、維護傳輸順序對資料傳輸量之效能影響 
 
圖十三與圖十四分別顯示我們所設計之高效率資
料收集與散佈機制在持續維護傳輸順序之後，對於
3G/3.5G傳輸需求與連線建立數的效能改進幅度。這
是因為當傳輸順序未保持在最新的狀態時，GM的位
置超前GH之後，便會可能形成新的群組而造成
3G/3.5G資料傳輸量與連線建立數增加的情況。 
 
 
圖十四、維護傳輸順序對連線建立數之效能影響 
 
從圖十一至圖十四可知我們所設計之高效率資料
收集與散佈機制具有較低的3G/3.5G傳輸需求以及較
低的3G/3.5G連線建立數，換言之，在長鏈狀車載網
路中採用我們的機制可有效地預防3G/3.5G基地台因
頻寬不足，而造成資料傳輸的嚴重延遲，以及避免所
有Biker都建立3G/3.5G連線，而造成不必要的花費。 
 
Information Industry which is subsidized by the Ministry 
of Economy Affairs of the Republic of China. 
 
8. References 
 
[1] R. Luo and Y. Shen. “The Design and 
Implementation of Public Bike Information System 
Based on Google Maps,” In International Conference on 
Environmental Science and Information Application 
Technology (ESIAT’09), vol. 2, pp. 156–159, July 2009. 
 
[2] C.-Y. Liang, W.-H. Lin, and B. Chang. “Applying Fuzzy 
Logic Control to an Electric Bicycle,” In First International 
Conference on Innovative Computing, Information and 
Control (ICICIC’06), vol. 1, pp. 513–516, Aug. 2006. 
 
[3] S. B. Eisenman, E. Miluzzo, N. D. Lane, R. A. 
Peterson, G.-S. Ahn, and A. T. Campbell. “The BikeNet 
Mobile Sensing System for Cyclist Experience 
Mapping,” In Fifth ACM Conference on Embedded 
Networked Sensor Systems (SenSys’07), pp. 87–101, 
Nov. 2007. 
 
[4] M. S. Corson and S. G. Batsell, “A reservation-based 
multicast (RBM) routing protocol for mobile networks: 
Initial route construction phase,” ACM/Baltzer Wireless 
Networks, vol. 1, no. 4, pp. 427–450, Dec. 1995. 
 
[5] E. M. Belding-Royer and C. E. Perkins, 
“Transmission range effectson AODV multicast 
communication,” ACM/Kluwer Mobile Networking and 
Applications, vol. 7, no. 6, pp. 455–470, Dec. 2002. 
 
[6] J. Xie, R. R. Talpade, A. Mcauley, and M. Liu, 
“AMRoute: Ad hoc multicast routing protocol,” 
ACM/Kluwer Mobile Networking and Applications, vol. 
7, no. 6, pp. 429–439, Dec. 2002. 
 
[7] S. K. S. Gupta and P. K. Srimani, “Cored-based tree 
with forwarding regions (CBT-FR): A protocol for 
reliable multicasting in mobile ad hoc networks,” 
Journal of Parallel and Distributed Computing, vol. 61, 
no. 9, pp. 1249–1277, Sep. 2001. 
 
[8] K. Chan and K. Nahrstedt, “Effect location-guided 
tree construction algorithms for small group multicast in 
MANETs,” in Proceeding of 21st International Annual 
Joint Conference of IEEE Computer and 
Communications Society (INFOCOM’02), pp. 
1180–1189, June 2002. 
 
[9] S. J. Lee and M. Gerla, “On-demand multicast 
routing protocol in multihop wireless mobile networks,” 
ACM/Kluwer Mobile Networking and Applications, vol. 
7, no. 6, pp. 441–453, Dec. 2002. 
 
[10] J. J. Garcia-Luna-Aceves and E. L. Madruga, “The 
core-assisted mesh protocol,” IEEE Journal on Selected 
Areas in Communications, vol. 17, no. 8, pp. 1380–1394, 
Aug. 1999. 
 
[11] M. T. Thai, F.Wang, D. Liu, S. Zhu, and D. Z. Du, 
“Connected dominating sets in wireless networks with 
different transmission ranges,” IEEE Transactions on 
Mobile Computing, vol. 6, no. 7, pp. 721–730, Jul. 2007. 
 
[12] F. Dai and J. Wu, “An extended localized algorithm 
for connected dominating set formation in ad hoc 
wireless networks,” IEEE Transactions on Parallel and 
Distributed System, vol. 15, no. 10, pp. 908–920, Oct. 
2004. 
 
[13] D. Dubhashi, A. Mei, A. Panconesi, J. 
Radhakrishnan, and A. Srinivasan, “Fast distributed 
algorithms for (weakly) connected dominating sets and 
linear-size skeletons,” Journal of Computer and System 
Science, vol. 71, no. 4, pp. 467–479, Nov. 2005. 
 
[14] L. Jia, R. Rajaraman, and T. Suel, “An efficient 
distributed algorithm for constructing small dominating 
sets,” Distributed Computing, vol. 15, no. 4, pp. 
193–205, Dec. 2002. 
 
[15] I. Stojmenovic, M. Seddigh, and J. Zunic, 
“Dominating sets and neighbors elimination based 
broadcasting algorithms in wireless networks,” IEEE 
Transactions on Parallel and Distributed System, vol. 13, 
no. 1, pp. 14–25, Jan. 2002. 
 
[16] P.-J. Wan, K. M. Alzoubi, and O. Frieder, 
“Distributed construction of connected dominating sets 
in wireless ad hoc networks,” ACM/Kluwer Mobile 
Networking and Applications, vol. 9, no. 2, pp. 141–149, 
Apr. 2004. 
 
[17] M. T. Thai, R. Tiwari, and D. Z. Du, “On 
construction of virtual backbone in wireless ad hoc 
networks with unidirectional links,” IEEE Transactions 
on Mobile Computing, vol. 7, no. 9, pp. 1098–1108, Sep. 
2008. 
 
[18] C.-C. Hu, H.-K. E. Wu; G.-H. Chen, “Stable 
Backbone Hosts and Stable Multicast Routes in 
Two-Tier Mobile Ad Hoc Networks,” IEEE 
Transactions on Vehicular Technology, vol. 58, no. 9, pp. 
5020–5036, Nov. 2009. 
 
GoBike: A Group Communication System for
Bikers Based on Smart Phones
Lien-Wu Chen, Yu-Hao Peng, and Yu-Chee Tseng
Department of Computer Science, National Chiao-Tung University, Hsin-Chu, 300, Taiwan
Email: {lwchen, yhpeng, yctseng}@cs.nctu.edu.tw
Abstract—The GoBike system is a Google Android and Maps-
based solution for cycling group communications. On the handset
side, an Android program is developed for group member
localization, communication, and transmission. On the web side,
a biker community site is built for the biker interaction, grouping,
and dedicated album. A user who wants to ride a bicycle with
other users can first login the community site. Then, he/she can
create his/her own cycling group to be joined by others, or just
join an existing group. During the cycling activity, all group
members can maintain real-time positions and status of other
members, notify their emergency events, and share pictures just
taken. To provide efficient group communications and reduce the
transmission delay, ad-hoc communications are adopted to locally
exchange data among bikers. In addition, a grouping mechanism
is designed to maintain the stable member connectivity in the ad-
hoc environment. On the other hand, the gateway selection in a
group takes biker mobility patterns into account for minimizing
3G/3.5G communications. Furthermore, the route throughput
estimation is derived to find the fastest path for file transmissions.
GoBike thus demonstrates a new group communication system
for bikers.
Keywords: Ad-hoc Communications, Android, Cycling
Group, Google Maps, Recreation.
I. INTRODUCTION
The bicycling recently has gained a lot of popularity in
many applications, such as transportation, recreation, and
exercise. People tend to ride bicycles to work instead of driving
cars due to the high fuel price. In addition to transportation,
on the weekend or vacations, people enjoy riding bicycles in
natural environments for both recreation and exercise. Existing
works include constructing public bicycle rental system [10],
building electric bicycle system [4], and deploying bicycle
sensing system [11].
In this work, we are interested in taking advantage of
Google Maps APIs [6] and the Android [2] platform to enrich
user interaction in a cycling activity. Our goal is to develop a
group communication system that individual bikers who do
not know each other can be organized and maintained for
bicycling together. Traditional cycling services only provide
off-line route information, cycling experiences, and sight views
of bicycling paths. For the biker grouping, there are two lim-
itations associated with such services. First, bikers must find
and contact other group members by themselves. Second, after
Y.-C. Tseng’s research is co-sponsored by MoE ATU Plan, by NSC grants
97-3114-E-009-001, 97-2221-E-009-142-MY3, 98-2219-E-009-019, and 99-
2219-E-009-003, by MOEA 98-EC-17-A-02-S2-0048 and 98-EC-17-A-19-
S2-0052, Intel Corp., and by ITRI, Taiwan.
Fig. 1. System architecture of GoBike.
the cycling activity begins, there is no effective mechanism
to maintain the cycling group so that members are easy to
lose contacts with each other. Further, communications among
members are necessary to keep real-time status of members
for cycling safety.
We propose a Google Android and Maps-enhanced group
communication system called GoBike. A user just needs to
create or join a cycling group before cycling, and only an
Android-based smart phone is needed to maintain the cycling
group during the cycling activity. On the handset side, an
Android program is developed for group member localization,
communication, and transmission. On the web side, a biker
community site is built for biker interaction, grouping, and
dedicated album. A user who wants to ride a bicycle with other
users can first login the bike community site. Then, he/she
can create his/her own cycling group to be joined by others,
or just join an existing group. During the cycling activity, all
group members can maintain real-time positions and status
of other members, notify their emergency events, and share
pictures just taken. GoBike thus demonstrates a new group
communication system for bikers.
II. SYSTEM DESIGN
Fig. 1 shows the GoBike architecture. On the handset side,
the developed Android program called BiSeeCall consists
of group member localization, communication, racing, emer-
gency notification, and file sharing. In addition, a backend
server is installed to handle connections and exchange data
Fig. 5. BiSeeCall Android program.
bum. The planning of group cycling paths in BikeBang is
implemented by Google Maps APIs [6] with detailed street
and landmark information. Google Maps is a well-known
application and technology provided by Google, which is free
for non-commercial use and powers many map-based services.
It offers street maps and a route planner for traveling by foot,
car, or public transportation in many countries around the
world.
The web server of BikeBang is implemented by Apache
version 2.2.11 [3], which is developed and maintained by
an open community of developers. Apache is available for
a wide variety of operating systems, such as Unix, FreeBSD,
Linux, Solaris, Novell NetWare, Mac OS X, and Microsoft
Windows. The database system of BikeBang is implemented
by PostgreSQL version 8.4 [9], which is an object-relational
database management system (ORDBMS). The interface be-
tween Apache and PostgreSQL is implemented by PHP
version 5.2.1 [8], which is a server-side HTML embedded
scripting language. PHP can be embedded into HTML and
generally runs on a web server that is configured to process
PHP code and create web page content from it.
Fig. 5 shows main functions in the BiSeeCall Android
program, which includes group member localization, commu-
nication, emergency notification, leadership exchanging, speed
racing, and file sharing. A backend server is constructed to
handle connections and exchange data among group members.
Each member periodically reports his/her position and status
to the server, and the server replies the collected information of
all members in return. In addition to the periodical updating of
position and status, bikers can share files with other members
on demand, such as pictures/videos just taken/recorded. So the
server is also responsible to receive these shared files and send
them to other members.
BiSeeCall is an application program running on the
Android-based smart phone. Android is a software stack for
mobile devices consisting of an operating system, middleware
and user applications. It relies on Linux version 2.6 for
core system services including security, memory management,
process management, network stack, and driver model. We use
the Java Development Kit (JDK) [7] and the Eclipse integrated
Fig. 6. Group communication demonstration.
development environment (IDE) [5] in Android programming
and its IDE, respectively. The Eclipse IDE is a multi-language
software development environment comprising an IDE and a
plug-in system to extend it. It is primarily written in Java and
can be used to develop applications in many languages, such
as C, C++, COBOL, Java, Python, Perl, PHP, and etc.
To develop BiSeeCall more efficiently, Android Devel-
opment Tools (ADT) Plugin [1] is installed to add useful
extensions to the Eclipse IDE, which makes creating and
debugging Android applications easier and faster. The software
development kit (SDK) of BiSeeCall uses the Android SDK
[2], which provides the essential tools and APIs to begin
developing applications on the Android platform using the
Java programming language. It includes a debugger, libraries,
a handset emulator, documentation, sample code, and tutorials.
For cycling group communications, Fig. 6(a) and Fig. 6(b)
show Android-based smart phones set up on bicycles and a
biker use BiSeeCall to communicate with other members as
riding, respectively. We demonstrate a emergency notification
scenario as shown in Fig. 6(c) and a speed racing scenario as
shown in Fig. 6(d).
REFERENCES
[1] Android Development Tools (ADT) Plugin. http://dl-
ssl.google.com/android/eclipse.
[2] Android SDK. http://developer.android.com/sdk/index.html.
[3] Apache HTTP Server. http://www.apache.org/.
[4] C.-Y. Liang, W.-H. Lin, and B. Chang. Applying Fuzzy Logic Control
to an Electric Bicycle. In First International Conference on Innovative
Computing, Information and Control (ICICIC’06), volume 1, pages 513–
516, Aug. 2006.
[5] Eclipse IDE. http://www.eclipse.org/downloads/.
[6] Google Maps APIs. http://code.google.com/apis/maps/.
[7] Java Development Kit (JDK). http://java.sun.com.
[8] PHP: Hypertext Preprocessor. http://php.net/index.php.
[9] PostgreSQL Object-Relational Database Management System (OR-
DBMS). http://www.postgresql.org/.
[10] R. Luo and Y. Shen. The Design and Implementation of Public Bike
Information System Based on Google Maps. In International Conference
on Environmental Science and Information Application Technology
(ESIAT’09), volume 2, pages 156–159, July 2009.
[11] S. B. Eisenman, E. Miluzzo, N. D. Lane, R. A. Peterson, G.-S. Ahn,
and A. T. Campbell. The BikeNet Mobile Sensing System for Cyclist
Experience Mapping. In Fifth ACM Conference on Embedded Networked
Sensor Systems (SenSys’07), pages 87–101, Nov. 2007.
An Augmented Reality Based Group Communication System
for Bikers Using Smart Phones
Lien-Wu Chen, Yu-Hao Peng, and Yu-Chee Tseng
Department of Computer Science, National Chiao-Tung University, Hsin-Chu, 300, Taiwan
Email: {lwchen, yhpeng, yctseng}@cs.nctu.edu.tw
Abstract—The bicycling recently has gained a lot of popularity
in many applications, such as transportation, recreation, and
exercise. Bikers may ride in different speeds due to their body
strengthes and bike performance such that group members using
smart phones form two-tier vehicular long-thin networks along
the common cycling path, which consist of a 3G/3.5G high-tier
interface and an IEEE 802.11-based low-tier interface. In this
paper, we design a Google Android and Maps-based solution
for cycling group communications. On the handset side, an
Android program is developed for group member localization,
communication, and transmission. In addition, the augmented
reality interface is integrated to show the biker information on
real-time camera views of smart phones. On the web side, a
biker community site is built for the biker interaction, grouping,
and dedicated album. To provide efficient group communications
and reduce the transmission delay, ad-hoc communications are
adopted to locally exchange data among bikers. Also, a dynamic
grouping mechanism has been designed to maintain the stable
member connectivity in ad-hoc environments. Furthermore, the
gateway selection in a group has taken the similar mobility
pattern of members into account for minimizing 3G/3.5G com-
munications.
Keywords: Ad-hoc Communications, Android, Augmented
Reality, Cycling Group, Google Maps.
I. INTRODUCTION
The bicycling recently has gained a lot of popularity in
many applications, such as transportation, recreation, and
exercise. People tend to ride bicycles to work instead of driving
cars due to the high fuel price. In addition to transportation,
on the weekend or vacations, people enjoy riding bicycles in
natural environments for both recreation and exercise. Existing
works include constructing public bicycle rental system [10],
building electric bicycle system [4], and deploying bicycle
sensing system [11].
In this work, we are interested in taking advantage of
Google Maps APIs [6] and the Android [2] platform to enrich
user interaction in a cycling activity. In addition, the aug-
mented reality interface is integrated to show the biker infor-
mation on real-time camera views of smart phones. Our goal
is to develop an group communication system that individual
bikers who do not know each other can be organized and
maintained for bicycling together. Traditional cycling services
only provide off-line route information, cycling experiences,
and sight views of bicycling paths. For the biker grouping,
Y.-C. Tseng’s research is co-sponsored by MoE ATU Plan, by NSC grants
97-3114-E-009-001, 97-2221-E-009-142-MY3, 98-2219-E-009-019, and 98-
2219-E-009-005, by ITRI, Taiwan, by III, Taiwan, by D-Link, and by Intel.
Fig. 1. System architecture of cycling group communications.
there are two limitations associated with such services. First,
bikers must find and contact other group members by them-
selves. Second, after the cycling activity begins, there is no
effective mechanism to maintain the cycling group so that
members are easy to lose contacts with each other. Further,
communications among members are necessary to keep real-
time status of members for cycling safety.
For cycling group communications, a backend server is
installed to handle connections and exchange data among
group members. Bikers periodically upload their location data
to the server and download the collected information from the
server. Since all members must connect to the backend server,
transmit individual status to it, and receive the collected in-
formation via 3G/3.5G communications, the bandwidth usage
and transmission delay are high for location updating and data
exchanging among them.
To solve this problem, IEEE 802.11 ad-hoc communications
are adopted to exchange information locally, and only the
selected gateways need to transmit the aggregated data to
the backend server. On the other hand, bikers properly ride
in different speeds due to their body strengthes and bike
performance. Thus, group members will form two-tier vehic-
ular long-thin networks (VLTNs) along the common cycling
path. The dynamic grouping mechanism has been designed
to maintain a stable VLTN topology in ad-hoc environments.
During the cycling activity, group members tend to follow
the similar mobility pattern that is riding along the predefined
cycling path. The gateway selection of VLTNs has taken
Fig. 4. BiSeeCall-AR Android program.
III. PROTOTYPE IMPLEMENTATION
A. BikeBang Community Site
Fig. 3 shows main functions in the BikeBang site, which
includes the biker registration, grouping, forum, dedicated al-
bum, path planning, and hot groups. The planning of group cy-
cling paths in BikeBang is implemented by Google Maps APIs
[6] with detailed street and landmark information. The web
server of BikeBang is implemented by Apache version 2.2.11
[3], which is developed and maintained by an open community
of developers. Apache is available for a wide variety of
operating systems, such as Unix, FreeBSD, Linux, Solaris,
Novell NetWare, Mac OS X, and Microsoft Windows. The
database system of BikeBang is implemented by PostgreSQL
version 8.4 [9], which is an object-relational database manage-
ment system (ORDBMS). The interface between Apache and
PostgreSQL is implemented by PHP version 5.2.1 [8], which
is a server-side HTML embedded scripting language. PHP can
be embedded into HTML and generally runs on a web server
that is configured to process PHP code and create web page
content from it.
B. BiSeeCall-AR Android Program
Fig. 4 shows main functions in the BiSeeCall-AR Android
program, which includes group member localization, commu-
nication, emergency notification, leadership exchanging, speed
racing, and file sharing. The GPS and m-sensor are used
to obtain member locations and angle directions to show
biker information tags on related positions of the camera
view. A backend server is constructed to handle connections
and exchange data among group members. Each member
periodically reports his/her position and status to the server,
and the server replies the collected information of all members
in return. In addition to the periodical updating of position and
status, bikers can share files with other members on demand,
such as pictures/videos just taken/recorded. So the server is
also responsible to receive these shared files and send them to
other members.
BiSeeCall-AR is an application program running on
Android-based smart phones. Android is a software stack for
Fig. 5. Group communication demonstration.
mobile devices consisting of an operating system, middleware
and user applications. It relies on Linux version 2.6 for
core system services including security, memory management,
process management, network stack, and driver model. We use
the Java development kit (JDK) [7] and the Eclipse integrated
development environment (IDE) [5] in Android programming
and its IDE, respectively. To develop BiSeeCall-AR more
efficiently, Android Development Tools (ADT) Plugin [1] is
installed to add useful extensions to the Eclipse IDE, which
makes creating and debugging Android applications easier and
faster. The software development kit (SDK) of BiSeeCall-AR
uses the Android SDK [2], which provides the essential tools
and APIs.
C. Demonstration
For cycling group communications, Fig. 5(a) and Fig. 5(b)
show Android-based smart phones set up on bicycles and a
biker use BiSeeCall-AR to communicate with other members
as riding, respectively. We demonstrate an emergency notifi-
cation scenario as shown in Fig. 5(c) and the speed racing for
group members as shown in Fig. 5(d).
REFERENCES
[1] Android Development Tools (ADT) Plugin. http://dl-
ssl.google.com/android/eclipse.
[2] Android SDK. http://developer.android.com/sdk/index.html.
[3] Apache HTTP Server. http://www.apache.org/.
[4] C.-Y. Liang, W.-H. Lin, and B. Chang. Applying Fuzzy Logic Control
to an Electric Bicycle. In First International Conference on Innovative
Computing, Information and Control (ICICIC’06), volume 1, pages 513–
516, Aug. 2006.
[5] Eclipse IDE. http://www.eclipse.org/downloads/.
[6] Google Maps APIs. http://code.google.com/apis/maps/.
[7] Java Development Kit (JDK). http://java.sun.com.
[8] PHP: Hypertext Preprocessor. http://php.net/index.php.
[9] PostgreSQL Object-Relational Database Management System (OR-
DBMS). http://www.postgresql.org/.
[10] R. Luo and Y. Shen. The Design and Implementation of Public Bike
Information System Based on Google Maps. In International Conference
on Environmental Science and Information Application Technology
(ESIAT’09), volume 2, pages 156–159, July 2009.
[11] S. B. Eisenman, E. Miluzzo, N. D. Lane, R. A. Peterson, G.-S. Ahn,
and A. T. Campbell. The BikeNet Mobile Sensing System for Cyclist
Experience Mapping. In Fifth ACM Conference on Embedded Networked
Sensor Systems (SenSys’07), pages 87–101, Nov. 2007.
An Infrastructure-less Framework for Preventing
Rear-End Collisions by Vehicular Sensor Networks
Lien-Wu Chen, Yu-Hao Peng, and Yu-Chee Tseng
Department of Computer Science, National Chiao-Tung University, Hsin-Chu, 300, Taiwan
Email: {lwchen, yhpeng, yctseng}@cs.nctu.edu.tw
Abstract—We consider vehicular sensor networks (VSNs) con-
sisting of a large number of sensor nodes deployed on vehicles
to facilitate vehicular applications. We try to apply such VSNs
to preventing rear-end collisions that are common accidents due
to sharp stops. An infrastructure-less framework is proposed,
which only relies on vehicles’ onboard sensors to prevent such
accidents. The proposed framework consists of a distributed
warning protocol and a location-based backoff scheme. Vehicle-
to-vehicle communications is used to form warning groups, where
a warning group is a set of vehicles that drive along the same
lane and every pair of adjacent cars is within a certain distance.
Only single-hop transmissions are needed to join and leave a
group, thus keeping the group maintenance overhead low. When
a sudden brake event is detected in a warning group, the location-
based backoff scheme can quickly propagate warning messages
among its group members. Simulation results show that the
proposed approach outperforms existing schemes.
Keywords: Collision Prevention, IEEE 802.11p, Traffic
Safety, Vehicular Sensor Network.
I. INTRODUCTION
Recent advances in vehicular communication technologies
and embedding sensing MEMS make vehicular sensor net-
works (VSNs) possible. Such systems have the advantages of
both vehicular ad hoc networks (VANETs) and wireless sensor
networks (WSNs). This leads to many applications, such as
traffic safety [1] and vehicle security [5]. VSNs consist of
many sensor nodes deployed on roads or vehicles, which co-
operate through vehicle-to-vehicle (V2V), vehicle-to-roadside
(V2R), and vehicle-to-infrastructure (V2I) communications.
This work focuses on preventing rear-end collisions among
vehicles by V2V communications. References [4], [7] rely
on roadside infrastructures to achieve this goal, but this is
sometimes not feasible in suburban and rural areas. Brake-
warning based on vehicular networks has been studied in [1],
[2], [11]. Reference [1] deals with frontal collisions due to
improper overtaking. Reference [11] presents an intelligent
V2V broadcast with implicit acknowledgment for highway
safety. In comparison, our design consists of a distributed
warning protocol and a location-based backoff scheme to
further reduce the number of warning messages. Reference [2]
also uses V2V communications to avoid rear-end collisions on
highways. However, the scheme relies on obtaining lane IDs
through infrastructure roadside units. In addition, too many
Y.-C. Tseng’s research is co-sponsored by MoE ATU Plan, by NSC grants
97-3114-E-009-001, 97-2221-E-009-142-MY3, 98-2219-E-009-019, and 98-
2219-E-009-005, by MOEA 98-EC-17-A-02-S2-0048, and 98-EC-17-A-19-
S2-0052, by ITRI, Taiwan, by III, Taiwan, and by Intel.
vehicles may be warned unnecessarily, causing high message
overheads. Contrarily, our infrastructure-less framework avoids
chained vehicle collision due to emergency brake with efficient
and quick message exchange.
II. PROBLEM DEFINITION
We consider vehicles on the roads that form VSNs via V2V
communications. Each vehicle is equipped with a GPS receiver
and a distance sensor (such as a magnetic sensor [1] or a
laser range finder [9]) in its front end. GPS can provide a
vehicle’s absolute position and velocity. The distance sensor
is directional and can detect the distance of a vehicle to the
one in its front. This also implies the possibility of estimating
the velocity of the vehicle in its front. We assume that IEEE
802.11p [3] is used with the WAVE (Wireless Access in Ve-
hicular Environments) mode to support V2V communications.
Periodical beacons containing vehicles’ IDs and positions are
transmitted by each vehicle to their neighbors. Note that
although the distance between two vehicles can be estimated
by GPS outputs, message exchange between these two vehicles
is needed. In our model, employing distance sensors can obtain
the same result and is communication-free.
The rear-end collision avoidance problem is defined as
follow. Each radio interface has a fixed transmission range
R. Each vehicle i has to keep a safety distance of dsi from the
vehicle in front of it. According to the ”two-second” rule [6],
we set dsi = si × δ, where si is the current speed of i and
δ = 0.55. We will form dynamic warning groups for vehicles
on the road, where a warning group is a sequence of vehicles
in the same lane such that each vehicle does not keep a safety
distance from the vehicle in its front except the first one.
Our goal is to design an efficient protocol for vehicles to
join/leave their warning groups. In addition, when any vehicle
i of a group takes an emergency brake, a warning message
should be sent immediately to those vehicles behind i in
the same group. Such warning messages have the highest
priority and may be delivered through multi-hop forwarding.
Therefore, drivers can become aware of such events even
before they actually see the braking signals.
III. THE PROPOSED FRAMEWORK
We propose an infrastructure-less framework. A distributed
warning protocol is proposed in Section III-A. To quickly
propagate emergent braking events, a location-based backoff
scheme is presented in Section III-B.
 0
 2000
 4000
 6000
 8000
 10000
 12000
 14000
 16000
 18000
 180  360  540  720  900  1080
To
ta
l n
um
be
r o
f r
eb
ro
ad
ca
st
s
Total number of vehicles
EWM [2]
Fixed Range (2km)
Fixed Range (1km)
Our Framework
(a)
 20
 25
 30
 35
 40
 180  360  540  720  900  1080
Pa
ck
et
 c
ol
lis
io
n 
ra
te
 (%
)
Total number of vehicles
EWM [2]
Fixed Range (2km)
Fixed Range (1km)
Our Framework
(b)
 0
 10
 20
 30
 40
 50
 180  360  540  720  900  1080
Av
er
ag
e 
pa
ck
et
 d
el
ay
 (m
s)
Total number of vehicles
EWM [2]
Fixed Range (2km)
Fixed Range (1km)
Our Framework
(c)
 0.9
 0.91
 0.92
 0.93
 0.94
 0.95
 0.96
 0.97
 0.98
 0.99
 1
 180  360  540  720  900  1080
W
ar
ni
ng
 s
uc
ce
ss
 ra
tio
Total number of vehicles
EWM [2]
Fixed Range (2km)
Fixed Range (1km)
Our Framework
(d)
Fig. 2: Comparisons of (a) total number of rebroadcasts, (b) packet collision rate, (c) average packet delay, and (d) warning
success ratio.
a vehicle which already sent the WARN message will try to
overhear any rebroadcasting from any vehicle behind it. If it
can not overhear any such rebroadcasting, it will rebroadcast
again with a new sequence number. We recommend that such
rebroadcasting be executed at most once. Note that WUPD
messages are rebroadcast similarly.
IV. PERFORMANCE EVALUATION
We simulate the proposed framework by QualNet 4.5 [10]
with some modifications. The two-ray ground radio model
and IEEE 802.11p MAC protocol are adopted. A 10-km six-
lane highway (three lanes per direction) with 180, 360, 540,
720, 900, and 1080 vehicles is simulated. 20% of vehicles
are randomly chosen to take emergency brakes. The broadcast
power is set to 32 mW. The normal speed and emergency
deceleration speed are set to 25m/s and 8m/s2, respectively.
We set R = 300 m, η = 1.5 s, and τ = 1. We compare our
scheme against a simple Fixed Warning Range (FWR) method
that warns vehicles in 1 km or 2 km behind the vehicle taking
an emergency brake and the Emergency Warning Message
(EWM) method [2] that warns vehicles in the same lane behind
the vehicle taking an emergency brake. The main performance
indices are the total number of rebroadcasts, packet collision
rate, average packet delay, and warning success ratio. Each
simulation is repeated 100 times and then we take the average
value.
Fig. 2(a) illustrates the total numbers of rebroadcasts under
different numbers of vehicles. We can observe that our scheme
has the lowest number of rebroadcasts. More importantly,
while the number of rebroadcasts of EWM increases expo-
nentially as the number of vehicles increases, that of ours
only increases linearly. This is because our scheme only warns
the vehicles without following safety distances so that its
total number of rebroadcasts is proportional to the warning
group size instead of the total number of vehicles. On the
contrary, EWM will warn too many unnecessary vehicles in
the same lane about emergency brake so that its total number
of rebroadcasts dramatically increases with the total number
of vehicles. Note that with less than 180 vehicles, the network
connectivity becomes very low and all schemes perform about
the same.
Fig. 2(b) and Fig. 2(c) show the packet collision rates and
average packet delays under different numbers of vehicles,
respectively. It can be observed that our scheme still out-
performs FWR and EWM. The reason is similar to what
is discussed earlier. In addition, our location-based backoff
scheme can further reduce these indices because we prioritize
WARN messages.
Fig. 2(d) shows that the above advantages will lead to the
highest warning success ratio for our scheme. In particular,
our location-based backoff scheme significantly improves the
warning success ratio because re-broadcasters are assigned
with different contention windows based on their locations and
our overhearing mechanism does help increase the reliability
of warning messages.
From these results, we conclude that the proposed approach
can achieve the best performance, leading to more efficient use
of wireless bandwidth. In other words, adopting our scheme in
vehicular networks can both avoid transmissions of emergency
messages wasting bandwidth due to unnecessary rebroadcasts
and prevent emergency messages from transmission collisions
caused by serious packet contention.
REFERENCES
[1] D. Djenouri. Preventing Vehicle Crashes Through a Wireless Vehicular
Sensor Network. In 24th Biennial Symposium on Communications, pages
320–323, June 2008.
[2] F. Ye, M. Adams, and S. Roy. V2V Wireless Communication Protocol
for Rear-End Collision Avoidance on Highways. In IEEE International
Conference on Communications (ICC 2008), pages 375–379, May 2008.
[3] IEEE std. 802.11p/D4.0, Draft Amendment for Wireless Access in
Vehicular Environments (WAVE). Mar. 2008.
[4] K. Xing, X. Cheng, F. Liu, and S. Rotenstreich. Location-Centric Storage
for Safety Warning Based on Roadway Sensor Networks. Journal
Parallel Distributed Computing, 67(3):336–345, 2007.
[5] L.-W. Chen, K.-Z. Syue, and Y.-C. Tseng. VS3: A Vehicular Surveil-
lance and Sensing System for Security Applications. In The 6th IEEE
International Conference on Mobile Ad Hoc and Sensor Systems (MASS
2009), pages 1071–1073, Oct. 2009.
[6] Luis. Two Second Rule [Online]. In http://www.studydriving.com/safety-
on-the-road/the-two-second-rule/, May 2007.
[7] M. Karpinski, A. Senart, and V. Cahill. Sensor Networks for Smart
Roads. In 4th IEEE International Conference on Pervasive Computing
and Communications (PerCom 2006), pages 306–310, 2006.
[8] N. D. Lerner. Brake Perception-Reaction Times of Older and Younger
Drivers. In Proceeding of Human Factors and Ergonomics Society
annual Meeting, volume 5, pages 206–210, 1993.
[9] P. Thammakaroon and P. Tangamchit. Adaptive Brake Warning System
for Automobiles. In 8th International Conference on ITS Telecommuni-
cations (ITST 2008), pages 204–208, Oct. 2008.
[10] QualNet. http://www.scalable-networks.com/products/qualnet/.
[11] S. Biswas, R. Tatchikou, and F. Dion. Vehicle-to-Vehicle Wireless
Communication Protocols for Enhancing Highway Traffic Safety. IEEE
Communications Magazine, 44(1):74–82, Jan. 2006.
Design and Implementation of a Bicycle Tour Logging System Based on 
Smart Phones 
 
Chien-Cheng Wu, Lien-Wu Chen, and Yu-Chee Tseng 
Department of Computer Science, National Chiao Tung University, Hsinchu, Taiwan 
{ccwu, lwchen, yctseng}@cs.nctu.edu.tw 
 
摘要 
 
自行車使用者出遊時常會面臨一些狀況，例如臨時想要查詢與分享旅遊記錄，或在
旅程中使用手機時發現電量不足等。在資訊科技的蓬勃發展下，行動計算可以大幅增
進騎乘自行車的便利性，而我們所設計的樂活單車通(LOHAS BikeTel)結合了智慧型手
機、感測器、GPS 定位系統、Google Map 與充電裝置，使得路徑資訊與遊記收集分享
等功能可以更方便地應用在單車旅行中。在 LOHAS BikeTel 中，自行車使用者能夠：
(1)利用語音辨識，將口述心得轉成文字上傳至所建構的 LOHAS BikeLog 部落格或
Facebook 社群網站；(2)記錄上傳旅行照片、GPS 路徑資訊，或搜尋他人的旅遊記錄；
(3)利用 GPS 省電演算法節省使用 GPS 的電力消耗，並搭配坡度資訊與充電模組來進
行充電以延長手機使用時間，LOHAS BikeTel 提供了騎士間新型的社群資訊交流平台。 
 
關鍵字：Android、GPS 省電演算法、資通訊技術、位置感知服務、智慧型手機 
 
ABSTRACT 
 
Cyclists frequently encounter some troubles during their bicycle tours, such as that 
cyclists cannot search, log or share the travel record to their friends, and the mobile phone 
sometimes is out of battery in the cycling. This paper proposes a bicycle tour logging system, 
called LOHAS BikeTel, that combines smart phones, sensors, GPS, and Google Map to 
provide the following features: (1) cyclists can upload and share their text messages by speech 
recognition to LOHAS BikeLog or Facebook by smart phones, (2) users can track their 
cycling path and show the pictures just taken during their bicycle travel tours, (3) it adopts 
GPS power-saving algorithm to prolong the battery lifetime and helps cyclists recharge their 
batteries by charging devices based on slope information. LOHAS BikeTel provides a new 
social platform for cyclists. 
 
Key Words: Android, GPS Power-saving Algorithm, Information and Communication 
Technology, Location-based Service, Smart Phone 
 
 
 
 
 
 
 
圖 1：LOHAS BikeTel 系統元件關係圖 
 
a. 網站服務端： 
 
1. 使用者可以看到自己的所有旅遊紀錄與好友公開分享的旅遊紀錄。 
2. 使用者可以針對好友傳送文字訊息，如讚美訊息。 
3. 尋找路徑服務：這項服務是針對使用個人電腦瀏覽網頁時，可以根據資料庫有
哪些路徑資料，提供訪客查詢，並配合訪客端出發時的所在位置，找出到達目
的地的路徑。 
 
b. 訪客端： 
 
1. 使用者可以看到目前自己所在位置與經過旅遊的路徑。 
2. 使用者可以和網站服務端溝通，並上傳文字訊息發布到網站上。 
3. 假如系統使用於某一景點附近，則可以輸入景點的名稱，便可以立即知道使用  
者位置與該景點附近的相關資訊。 
4. 可以觀看系統所傳來的導覽資訊例如圖片，網頁，影音資訊等，還可以回顧之
前所傳來的資料。 
 
本論文提出的系統架構如圖2 所示，騎乘者將攜帶具3G 或是Wi-Fi 功能並具有GPS 
收發器之行動裝置(Mobile Devices)。騎乘途中行動載具將不間斷地接收來自GPS 系統
之標準資料，並進行經緯度定位。定位資訊將會透過3G或者是Wi-Fi網路將騎乘者目前
相關資料回傳至網路伺服器(Web Server)。系統會員(Members)可經由登入認證來連入網
路伺服器。登入系統後可以利用景觀建築、休息站與某些地標來尋找路徑。 
 
圖 3：LOHAS BikeTel 軟體元件關係圖 
 
在 Web Server 中提供 Blog、Geo-information Map 網頁與資料庫服務，其中 Blog
網頁服務稱為 LOHAS BikeLog，LOHAS BikeLog 提供介面讓自行車騎士將旅行過程
中所拍下的照片、聲音或者是文字訊息與好友分享。另外，Geo-information Map 網頁
服務可以讓使用者查詢自己與好友過去的旅遊路線。而上述的照片、聲音、文字訊息
與路徑資料皆存放於 Web Server 資料庫中。手機(Phone)裝載於自行車上，提供自行車
騎士路徑與遊記紀錄的工具。 
 
3 GPS 省電演算法 
根據 1.2 節相關文獻探討結果可知，持續長時間地開啟 GPS 定位，會消耗大量電能
使得手機的電池快速耗盡，因此有必要動態調整 GPS 接收器開啟的時間以延長整體手
機的使用時間。在本節中，我們將設計一個 GPS 省電演算法動態地調整 GPS 接收器
開啟與定位記錄的頻率，以達到省電的效果。為了避免關閉 GPS 的時間太長影響到定
位的精度或者是漏失某些關鍵的旅程記錄，所以我們的演算法結合自行車旅行的路徑
特徵與手機內嵌式感測器的移動偵測，來做回饋調整，以期在省電模式下 LOHAS 
BikeTel 系統仍可以維持定位精度與旅遊紀錄功能，圖 4顯示省電演算法元件方塊圖。 
 
圖4：省電演算法元件方塊圖 
Compass Sensor，當確定 7..騎士沿著沒有岔路的車道上勻速前進後進入 Sleep Mode。
在進入 Sleep Mode 後關閉 GPS，改為開啟 G-Sensor 與 Compass Sensor，以維持定位
精度，避免因為 GPS Sleep 太長時間而漏失重要的位置變化記錄。如圖 6 所示，充滿
電的電池電量為 1340 mAh，GPS receiver 之電流消耗為 30 uA，G-Sensor、Compass 
Sensor 之電流消耗為 5 uA 採用省電演算法之後的手機電池使用時間延長了約 2.23 倍。 
 
圖6：電力消耗比較(只考慮GPS與Sensor電能消耗) 
 
FUNCTION Start_Active_Mode() 
BEGIN 
   GPS_log in  
defaultFrequency = 1 Hz 
Time_counter = 0 
DETERMINE the biker stayed or moved BY GPS 
signals 
Time_counter++ 
IF Time_counter > T2 THEN goto Normal Mode  
ELSE IF Time_counter > T1 THEN goto Sleep Mode 
ELSE wait,check again 
END 
FUNCTION Lazy_Mode() 
BEGIN 
GPS_log in lazyFrequency 
Time_counter = 0     
DETERMINE the biker’s route have fork path 
or  not  BY route Database 
IF  the biker’s route  have no fork path 
THEN goto Sleep Mode  
ELSE IF move Sensor THEN goto Normal  
Mode  
ELSE wait,check again 
END 
FUNCTION Normal_Mode() 
BEGIN 
Time_counter = 0 
GPS_log in normalFrequency 
DETERMINE the biker stayed or moved BY GPS 
signals 
Time_counter++ 
IF  Time_counter > T3 goto Lazy Mode  
ELSE IF the biker speed up 
goto Active Mode 
ELSE wait ,check again 
END 
FUNCTION Sleep_Mode() 
BEGIN 
  GPS_log turn off 
 Time_counter = 0 
  DETERMINE the biker’s move or stay 
IF moved THEN goto Lazy Mode,  
ELSE stay in Sleep Mode wait check again 
END 
圖7：省電演算法Pseudo code 
b. Client 端： 
  如圖10(a)進入主畫面，在Map分頁的地圖中顯示了一個藍色人型標記，代表目前
手機的實際位置在地圖上的的對應；另外人型標記會隨電子羅盤的數值而旋轉，因此
人型標記的頭部總是指向手機持有者所面對的方位。(註：地圖的正上方永遠為地理北
極)。地圖正下方的+號與-號按鈕，分別可以放大地圖的顯示層級與縮小的圖的顯示層
級。如圖10(b)根據GPS路徑資訊，畫出距離對高度的折線圖如圖10(c)，變化率即是坡
度。 
 
(a)                (b)                  (c) 
圖 10：選取記錄 Track 的模式/坡度折線圖 
 
如圖11在Blog分頁中，可用語音辨識的型式輸入文字訊息並發佈至LOHAS BikeLog
部落格或Facebook 
 
圖 11：語音辨識輸入/語音轉換成文字 
 
如圖 12 若選擇照相功能則可可選擇上傳至 Facebook 
 
圖 15：充電裝置安裝於腳踏車上 
 
我們將坡度的資訊與數位地圖結合，經過上坡與下坡路徑與皆會向使用者發出提
示，如圖 16 開啟預設路徑模式後，可顯示接下來要通過的路段是上坡以判斷是否進
行充電動作。 
 
圖 16：上坡通知 
 
5 結論 
 在本論文中，我們結合智慧型手機與位置感知服務，設計並實作了一個自動化的
自行車旅遊紀錄系統 LOHAS BikeTel，使得自行車騎士可以利用語音辨識，將口述心
得轉成文字上傳至部落格或網誌，或者是將旅途中的拍攝照片、經過的路徑資訊上傳
至系統中分享給朋友，更進一步，利用路徑資訊動態調整 GPS 使用來減少電能消耗，
也利用坡度資訊對手機電池進行充電。本系統設計了 GPS 的省電演算法，並提供了騎
士間新型的社群資訊交流平台。 
 
6 誌謝 
 Y.-C. Tseng's research is co-sponsored by MoE ATU Plan, by NSC grants, 
97-3114-E-009-001, 97-2221-E-009-142-MY3, 98-2219-E-009-019, 98-2219-E-009-005, 
and 99-2218-E-009-005, by ITRI, Taiwan, by III, Taiwan, by D-Link, and by Intel. 
 32
附錄六：L.-W. Chen, K.-Z. Syue, Y.-C. Tseng, and J.-H. Cheng, “Surveillance On-the-Road: 
Suspicious Vehicle Tracking and Reporting Based on V2V Communications”, The 16th Mobile 
Computing Workshop, June 17, 2011. 
 
  
圖一、可疑車輛追蹤與回報系統架構 
 
除此之外，由於傳統監控和追蹤系統必
須藉由設置於路旁攝影機設備的影像記錄來
實現其監控功能，但是這樣的方式存在著兩
個問題，第一，它需要花費較多時間與心力
來從大量的影像記錄中識別出特定車輛；第
二，一般來說，由於特定車輛並非可事先設
定，因此所紀錄到的相關影像記錄通常不夠
清晰，更甚者，影像記錄的數量隨著時間日
益龐大，將進一步造成人力成本的提升。在
本篇論文中，我們將以車間(Vehicle-to-Vehicle, 
V2V)通訊為基礎來設計並實作出無需依賴路
旁基礎設施的可疑車輛追蹤與回報系統，以
進一步克服傳統監控和追蹤系統的缺點。 
二、系統設計 
圖一顯示我們所提出可疑車輛追蹤與回
報的系統架構，行駛於道路上的車輛可藉由
V2V 通訊來形成車載監控網路，每台車輛配
備 GPS 接收器和 Video 攝影機，GPS 接收器
可讓車輛取得目前的位置資訊，而 Video 攝
影機則是用來拍攝位於車輛正前方車輛的車
牌影像，藉由車牌辨識(License Plate Recog-
nition, LPR)技術，每台車輛可以即時識別出
位於它正前方車輛的車牌號碼。此外，車輛
上將建立一個可疑車輛資料庫 (Suspicious 
Vehicle Database)，此資料庫的內容可事先從
警政單位下載或即時透過車間通訊更新。車
輛行駛於道路的期間，對於可疑車輛之判別
可藉由所識別出車牌號碼與資料庫中可疑車
號的比對來得知。 
在車間通訊功能方面，每台車輛裝備有
支援 IEEE 802.11p 無線通訊介面[9]，其通訊
模式設定在車載無線存取(Wireless Access in 
Vehicular Environments, WAVE)模式，WAVE
模式可簡化車間通訊的關聯(Association)和
認證(Authentication)程序以減少連線建立的
時間。只要兩台車輛設定在相同的無線頻道
(Channel)，並且使用萬用基本服務組合 ID 
 
圖二、可疑車輛追蹤模組與回報模組 
 
(Wildcard Basic Service Set Identification)，即
48-bit 長度欄位全被設定為 1，任兩台在道路
上相遇的車輛便可立即通訊，無須執行加入
基本服務組合的程序。我們假設行駛於道路
上的車輛均週期性地廣播 Beacon，每台車輛
可藉由所接收之Beacon獲得通訊範圍內鄰近
車輛的位置分佈。此外，訊息有效期間(Time 
to Live, TTL)也包含於 Beacon 中以限制車載
網路的訊息廣播範圍。 
在本篇論文中，我們對於可疑車輛追蹤
與回報的問題定義如下，每個無線通訊介面
的通訊範圍為 R，每一台車輛 i 持續識別其正
前方的車輛 vf 是否為可疑車輛 vs。我們的目
標是設計出高效率的機制來協同式追蹤已被
識別的 vs，並在追蹤期間於每個經過的交叉
路口來回報 vs最新的位置給 vp，回報訊息 mr
是以多節點(Multi-hop)傳送方式導引至附近
的 vp，當 vp接收到 mr後，便可重建 vs的移動
軌跡，以及儘快抵達 vs 所在位置以採取必要
的處理措施，以下是我們所設計之可疑車輛
追蹤與回報機制的目標： 
z 追蹤工作換手(Tracking Handoff)：車道改
變或路口轉向時可將追蹤工作換手至鄰
近車輛以持續追蹤 vs。 
z 交叉路口偵測(Intersection Detection)：無
需數位地圖輔助即可偵測出所經過的交
叉路口以回報 vs最新位置給 vp。 
z 位置回報廣播(Location Reporting)：根據
鄰近車輛位置分佈來設計 vs 位置回報方
式以減少 mr的重廣播數量。 
z 回報訊息導引(Message Guiding)：根據 vp
所經過之位置來將 mr導引至最近的 vp以
減少位置回報的訊息負擔(Overhead)。 
三、可疑車輛追蹤與回報 
如圖二所示，我們針對可疑車輛追蹤與回
報問題提出一個由 Tracking Module 和
Reporting Module 所構成的 Infrastructure-less  
 圖四、以鄰近車輛位置分布為基礎之訊息重廣播機制 
 
任何 Ni 落在 sR 和 sL，代表 i 正位於 Road 
Segment；相反地，如果有 Ni 落在 sR 或 sL 其
中之一，則代表表示 i 正位於 Intersection。如
圖四為例，車輛 A、C、D 和 E 偵測出自己正
位於 Road Segment，而車輛 B 偵測出自己正
位於 Intersection。 
(二) 回報模組 
一旦有車輛被識別為 vs 時，此發現應該
立即經由 V2V 通訊來快速回報至附近的警車
vp，如此一來，附近的 vp 在接收到回報訊息
mr 後，便可花費較少時間來抵達 vs 目前的位
置。對於找尋最近的警車 vp，氾濫式廣播
(Flooding)是一個快速直覺的尋找方法，然
而，它會產生出較大的網路流量 (Network 
Traffic)，而導致其網路擴縮性(Scalability)較差
而無法有效率地使用在大型車載網路中。為了
  
圖六、以警車相遇記憶為基礎之路口導引尋找機制 
 
3) Memory-based Backoff Scheme：在
IEEE 802.11p 中，採用原本被提出在 IEEE 
802.11e 的 Enhanced Distribution Channel Ac-
cess (EDCA)機制來分配封包傳輸的優先權
[10]，根據不同應用程式之封包特性來選擇不
同的通道存取參數，總共分為四種存取類別，
分別為 Background (AC_BK)、Best Effort 
(AC_BE) 、 Video (AC_VI) 、 和 Voice 
(AC_VO)。此外，隨機 Backoff 機制亦被採用
於 EDCA，由 Arbitration Interframe Space 
Number (AIFSN)和 Random Backoff Timer 兩
個參數所控制，AIFSN 是一個固定的等待時
間，而 Backoff Timer 是根據 Contention 
Window (CW)來選擇一個隨機的等待時間。
CW 的大小一開始被初始化為 CWmin，當在傳
送期間發生碰撞的情況， CW 的大小將會加
倍，直至到達 CWmax 為止。表二為 IEEE 
802.11p 預設的 EDCA 參數，在我們設計的機 
 成之封包碰撞率，我們所提出機制相對於氾
濫式廣播與智慧型廣播有著較低的封包碰撞
率，這是由於氾濫式廣播將重新廣播回報訊
息至路口的每個路段，因此導致在同一時間
內有較高的傳送封包碰撞率，智慧型廣播亦
造成同樣的情形，而且隨著總車輛數的增
加，此情形將變得更糟；相反地，我們的方
法可有效地導引回報訊息至警車，而且我們
提出的 Memory-based Backoff 機制能更進一
步地減少封包碰撞率。 
 
 
圖十、平均回報延遲時間比較 
 
圖十顯示在不同的總車輛數下，可疑車輛
之發現平均回報至警車的平均延遲時間，我們
所提出的機制與氾濫式廣播和智慧型廣播隨
著車輛數的增加，有著相似的平均回報延遲時
間，但可同時保持回報成本較低的優點。另一
方面，圖十一顯示在不同的總車輛數與
Tracking Handoff Timer 下所造成的追蹤換手
成功率，總車輛數改變量為 750 至 1750 台，
Handoff Timer 改變量為 5 至 30 秒，換手成功
率隨著總車輛數與 Tracking Handoff Timer 的
增加，可從 36%增加至 97%。 
 
 
圖十一、不同參數設定之追蹤換手成功率 
 
從以上結果可看出我們提出的機制可以
達到較低的訊息重廣播次數和封包碰撞率，並
可保持與現有方法類似的平均回報延遲時
間，能夠更有效率地利用有限的無線頻寬，所
以在車載網路中採用我們所提出的機制，可以
避免由於不必要的回報訊息重廣播所造成的
頻寬浪費，以及避免大量封包傳送而導致回報
訊息的碰撞機會。 
 
 
圖十二、VS3系統元件組成圖 
五、雛型系統實作 
在本節中，我們設計並實作出一套可疑
車輛追蹤與回報雛型系統，命名為車載監視
與感測系統(Vehicular Surveillance and Sens-
ing System, VS3)。圖十二顯示 VS3系統元件組
成圖，除了可疑車輛的追蹤與回報功能之
外，我們還裝備了 CO2 感測器和 3G 通訊模
組以擴充應用於車輛安全與防盜[1]。Camera
模組和 WAVE/DSRC 通訊裝置，分別以內建
的 Camera 傳輸介面和 Ethernet RJ-45 網路介
面連接至 ARM 9 開發板，其它的模組則藉由
UART 介面連接至開發板，接下來說明各硬體
元件與實作細節。 
 
 
圖十三、VS3硬體元件 
(一) ARM9 開發板 
如圖十三(a)所示，ARM 9 開發板是使用
Mini2440 [13]，具備 3.5” TFT 的 LCD 顯示
器。Mini2440 配備有 400MHz 32-bit RSIC 整
數處理器(ARM920T [14])、64MB SDRAM、
64MB Nand Flash、Camera 傳輸介面、三個序
列埠、一個 10/100M Ethernet RJ-45 埠和一個
內建的麥克風。Mini2440 的作業系統可以安
裝 Embedded Linux 或 WinCE 來開發各種應
用。我們所使用的 Embedded Linux 開發環境
需要先安裝 arm-linux-gcc 編譯器，然後把
ARM9 開發板透過 RS-232 介面連接至 PC 完
成 Cross Compiler 環境。 
 出交叉路口的存在；回報模組則可在所偵測
出的交叉路口利用協同式路口導引方式來回
報可疑車輛之最新位置至附近警車。模擬實
驗結果顯示我們所提出之方法可有效地避免
重廣播不必要的訊息，並可大量地節省網路
上廣播訊息的頻寬使用。此外，我們還設計
並實作了一個新型的車載監視與感測系統。 
七、誌謝 
Y.-C. Tseng's research is co-sponsored by 
MoE ATU Plan, by NSC grants, 
97-3114-E-009-001, 97-2221-E-009-142-MY3, 
98-2219-E-009-019, 98-2219-E-009-005, and 
99-2218-E-009-005, by ITRI, Taiwan, by III, 
Taiwan, by D-Link, and by Intel. 
參考文獻 
[1]  L.-W. Chen, K.-Z. Syue, and Y.-C. Tseng, 
“VS3:  A Vehicular Surveillance and Sens-
ing System for Security Applications,” in 
IEEE International Conference on Mobile 
Ad-hoc and Sensor Systems (IEEE MASS 
2009), Oct. 2009. 
[2]  P. Thammakaroon and P. Tangamchit, 
“Adaptive Brake Warning System for Auto- 
mobiles,” in The 8th International Confer-
ence on ITS Telecommunications (ITST 
2008), pp. 204–208, Oct. 2008. 
[3]  U. Lee, E. Magistretti, M. Gerla, P. Bellav-
ista, and A. Corradi, “Dissemination and 
harvesting of urban data using vehicular 
sensing platforms,” IEEE Transactions on 
Vehicular Technology, vol. 58, no. 2, pp. 
882–901, Feb. 2009. 
[4]  K. G. Aravind, T. Chakravarty, M. 
G.Chandra, and P. Balamuralidhar, “On the 
ar- chitecture of vehicle tracking system us-
ing wireless sensor devices,” in Interna-
tional Conference  on Ultra  Modern 
Telecommunications  &  Workshops  
(ICUMT  2009), pp. 1–5, Oct. 2009. 
[5]  M. Caceres, F. Sottile, and M.A. Spirito, 
“WLAN-Based Real Time Vehicle Locat-
ingSystem,” in The 69th IEEE Vehicular 
Technology Conference (IEEE VTC-Spring 
2009), pp. 1–5, Apr. 2009. 
[6]  R. Lu, X. Lin, H. Zhu, and X. Shen, 
“SPARK: A New VANET-Based Smart 
Park- ing Scheme for Large Parking Lots,”  
in The 28th IEEE Conference on Computer 
Communications (IEEE INFOCOM 2009), 
pp. 1413–1421, Apr. 2009. 
[7]  M. Li, H. Zhu, Y. Zhu, and L. M. Ni, 
“ANTS: Efficient Vehicle Locating Based 
on Ant Search in ShanghaiGrid,” IEEE 
Transactions on Vehicular Technology, vol. 
58, no. 8, pp. 4088–4097, Oct. 2009. 
[8]  M. Li, M.-Y. Wu, Y. Li, “ShanghaiGrid: An 
Information Service Grid,” Concurrency 
and Computation: Practice and Experience, 
vol. 18, pp. 111–135, 2006. 
[9]  IEEE std, “802.11p/D4.0, Draft Amendment 
for Wireless Access in Vehicular Environ-
ments (WAVE),” Mar. 2008. 
[10]  IEEE P1609.4/D6.0. Draft Standard for 
Wireless Access in Vehicular Environments 
(WAVE) - Multi-channel Operation. Mar. 
2010. 
[11]  L.-W. Chen, Y.-H. Peng, and Y.-C. Tseng. 
“An Infrastructure-less Framework for Pre-
venting Rear-End Collisions by Vehicular 
Sensor Networks.” IEEE Communications 
Letters, vol. 15, no. 3, pp. 358-360, Mar. 
2011. 
[12]  QualNet, 
http://www.scalable-networks.com/products/
qualnet/. 
[13]  FriendlyARM, Mini2440, 
http://www.friendlyarm.net. 
[14]  ARM, ARM920T, 
http://www.arm.com/products/CPUs/ARM9
20T.html. 
[15]  H-550EV CO2 Sensor Module, 
http://www.co2sensor.co.kr/new/eng/ndir-co
2- sensor-module-h550ev.htm. 
[16]  S. Biswas, R. Tatchikou, and F. Dion, “Ve-
hicle-to-Vehicle Wireless Communication 
Protocols for Enhancing Highway Traffic 
Safety,” IEEE Communications Magazine, 
vol. 44, no. 1, pp. 74–82, Jan. 2006. 
[17]  Jennic, JN5139, http://www.jennic.com. 
[18]  Fastrax, uPatch300, http://www.fastrax.fi. 
[19]  National Marine Electronics Association, 
http://www.nmea.org/. 
[20]  ITRI WAVE Communication Unit, 
http://www.itri.org.tw. 
[21]  IEEE P1609.3/D5.0. Draft Standard for 
Wireless Access in Vehicular Environments 
(WAVE) - Networking Services. Mar. 2010. 
 
 
99年度專題研究計畫研究成果彙整表 
計畫主持人：曾煜棋 計畫編號：99-2219-E-009-004- 
計畫名稱：以安全、節能及遊憩為目的之車載網路系統--子計畫三：車載網路之位置感知服務：設計
一個結合汽車及自行車行動導覽遊憩之系統(2/3) 
量化 
成果項目 實際已達成
數（被接受
或已發表）
預期總達成
數(含實際已
達成數) 
本計畫實
際貢獻百
分比 
單位 
備 註 （ 質 化 說
明：如數個計畫
共同成果、成果
列 為 該 期 刊 之
封 面 故 事 ...
等） 
期刊論文 0 0 100%  
研究報告/技術報告 0 0 100%  
研討會論文 3 3 100% 
篇 榮獲 WASN 2010 大
會頒發Best Paper 
Award 
論文著作 
專書 0 0 100%   
申請中件數 0 0 100%  專利 已獲得件數 0 0 100% 件  
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 6 6 100%  
博士生 5 5 100%  
博士後研究員 1 1 100%  
國內 
參與計畫人力 
（本國籍） 
專任助理 0 0 100% 
人次 
 
期刊論文 1 1 100%  
研究報告/技術報告 0 0 100%  
研討會論文 2 2 100% 
篇 
 
論文著作 
專書 0 0 100% 章/本  
申請中件數 0 0 100%  專利 已獲得件數 0 0 100% 件  
件數 0 0 100% 件  
技術移轉 
權利金 0 0 100% 千元  
碩士生 6 6 100%  
博士生 5 5 100%  
博士後研究員 1 1 100%  
國外 
參與計畫人力 
（外國籍） 
專任助理 0 0 100% 
人次 
 
 
